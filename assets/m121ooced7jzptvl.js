const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/sso-dud3eqjhdwr0lbxq.js","assets/jeen44fo1keunqlc.js","assets/hisz4iug0sf9ooju.js","assets/root-dqeznvm0.css","assets/osf8maqq52t0ie0w.js","assets/index-small-c8xg50op.css","assets/h2ieknsganxwp6x6.js","assets/m3qjut27is4ffm4j.js","assets/ca4desjes5mv8zbl.js","assets/nhwwej1nq0zrd7sc.js","assets/dr07qw6lnct4p2zz.js","assets/iw6awycy9wj28390.js","assets/gy8d176d0tsqf86m.js","assets/iwqw67jj1czpe0l0.js","assets/hcswsju5nnjfkxb0.js","assets/d6kbjp69kfvnqwxu.js","assets/dkhpiq5qymmlvz34.js","assets/gbm9epxdbci6qd6c.js","assets/kwc5lgmx6wmoirm9.js","assets/oehpgltglxpk3yng.js","assets/b4y2ge3nobhogt80.js","assets/gzlpoy4y44ngaze8.js","assets/902js3wv32aa6t6i.js","assets/fo7v79q2e1o0khon.js","assets/go83o9hn30nv31xb.js","assets/jg5y8gnjf1fznxrp.js","assets/dc18mrl8omp9engn.js","assets/b0f338h0n7rkc1qg.js","assets/fhb0s3d4z4ar8r7r.js","assets/d0g8ptgc5gcqjwyj.js","assets/mb7mlvvuuhva3i2t.js","assets/i2voxlhkxkv1hfuj.js","assets/isjdmfmhzv09v01t.js","assets/jgpw9njq8se3lohd.js","assets/go2vsa5jpfhtubby.js","assets/jel7etjldxf47nf5.js","assets/fauj73bf32iau7uq.js","assets/oerftj7hix4so9t1.js","assets/nd1t87udoodrtith.js","assets/kpoveei5hnu2tqeb.js","assets/kcsmafgkk9zt34c5.js","assets/gm90afxwqsk9j981.js","assets/fsddy3bxlesj6ecw.js","assets/e667zy3qj22ojntx.js","assets/kv1b7h6ossvj0k3i.js","assets/eiw3ge7me4cbbamx.js","assets/f2hwvhq32k7re39q.js","assets/jbhpedrb0o8s6tju.js","assets/em54eqpr1go2ghsv.js","assets/liwusplx5fik20va.js","assets/a9x7fowchvgnildi.js","assets/edr7zsyu569x650b.js","assets/blvykoe59vobqjjq.js","assets/kqwdyvkaaavvn8k3.js","assets/capxvpo538g3c7n4.js","assets/fbo1zgjv6ucuepy1.js","assets/hv8fan3byrg2vuj5.js","assets/iqbtuomdp97euntf.js","assets/am0myj3j48shg00a.js","assets/o4gc7biyrgs6j44g.js","assets/f475833pfp5ebqb5.js","assets/ni1gkzpwgvg6c4gl.js","assets/jwp6mj1i6r2q5yxw.js","assets/iej0cupg2dqkmejt.js","assets/cacp3zyw4i6eozz4.js","assets/ww57o50ogjnwfwaq.js","assets/hfki79wwacic5tya.js","assets/i8bhsnf6jctxiy9b.js","assets/shared-mk6ngktc.css","assets/kypwb46y6cxfczuc.js","assets/7lnz43ua7cr9unyj.js","assets/sso-bmfhfemd.css","assets/dl4yft0w3ashpjlm.js","assets/ewk3v6ll2f27ssy4.js","assets/ozg6tdzobslz5zju.js","assets/hx09penj7oz4c886.js","assets/f6zk01kv3e3n5dn0.js","assets/lpnc7pij2s03xjm3.js","assets/fm9ox4f4c0fd1uiu.js","assets/cu7i7jyqvstu6net.js","assets/d78espk1ee9oqpyq.js"])))=>i.map(i=>d[i]);
import{ce as h,bU as p,j as s,I as ge,D as N,bJ as he,r,a2 as w,G as j,Z as oe,b5 as q,H as V,ai as ne,aB as pe,ax as be,az as xe,a8 as Ce,E as re,F as ye,bH as Q,S as z,z as ve,dz as Me,b8 as Se,b6 as ke,au as je,aw as ie,aq as Ae,d5 as _e,cM as we,aI as le,c$ as Ee,c as D,bB as Te,d1 as Pe,d2 as Ie,d3 as De,eS as Oe,cA as Le,af as Ne,C as Be}from"./jeen44fo1keunqlc.js";import{d as H,u as Re}from"./b4y2ge3nobhogt80.js";import{aS as Fe,fu as Ve,fv as ce,fw as ze,fx as He,fy as Ge,fz as We,fA as Ue,fB as $e,fC as Ke,cn as O,fD as qe,fE as Qe,fF as Ye,fG as Xe,fH as Je,fI as Ze,fJ as es,fK as ss,fL as as,fM as ts,j as B,aR as E,U as v,co as G,fN as os,fO as ns,bz as rs,fP as Y,b$ as is,A as ls,fQ as cs,cg as X,cf as ds,bk as J,bl as Z,bX as us,fR as fs,fS as ee,fT as ms,b1 as gs,a7 as hs,fU as ps,fV as bs,fW as xs,be as Cs}from"./osf8maqq52t0ie0w.js";import{j as ys,d as vs,T as L,k as F}from"./h2ieknsganxwp6x6.js";import{u as Ms}from"./gzlpoy4y44ngaze8.js";import{L as Ss}from"./902js3wv32aa6t6i.js";import{S as se,b as ks,c as js,N as As}from"./f6zk01kv3e3n5dn0.js";import{B as _s,ab as ws,ac as Es,H as de}from"./iwqw67jj1czpe0l0.js";import{u as Ts,a as Ps,g as Is}from"./go2vsa5jpfhtubby.js";import{a as Ds,C as Os}from"./jgpw9njq8se3lohd.js";import{f as Ls}from"./ca4desjes5mv8zbl.js";import{m as ae}from"./m3qjut27is4ffm4j.js";const Ns=h(()=>p(()=>import("./sso-dud3eqjhdwr0lbxq.js").then(e=>e.c),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71])).then(e=>e.default));function Bs({clientThreadId:e,children:a}){return H(e)?s.jsx(Ns,{clientThreadId:e,children:a}):s.jsx(s.Fragment,{children:a})}function Rs({onClose:e}){const a=N(),{openSettings:t}=Fe(),o=Ve(),{session:i}=he(),{data:{isStorageComplianceEnabled:n}={}}=ce(),{data:d,isLoading:m}=ze({enabled:!!(n&&i),select:u=>!u.cookie_consent.is_required});return r.useEffect(()=>{d===!0&&e()},[d,e]),m?null:s.jsx(Fs,{onReject:()=>{o.mutateAsync({analytics_cookies_accepted:!1},{onSuccess(){w.success(a.formatMessage(k.updateSuccess))},onError(){w.danger(a.formatMessage(k.updateFailure))}}),e()},onAccept:()=>{o.mutateAsync({analytics_cookies_accepted:!0},{onSuccess(){w.success(a.formatMessage(k.updateSuccess))},onError(){w.danger(a.formatMessage(k.updateFailure))}}),e()},children:s.jsx(j,{id:"CookieConsentBanner.authedDescription.0",defaultMessage:"We use cookies and similar technologies to deliver, maintain, improve our services and for security purposes. Check our <cookiePolicy>cookie policy</cookiePolicy> for details. Click 'Accept all' to let OpenAI and partners use cookies for these purposes. Click 'Reject all' to say no to cookies, except those that are strictly necessary. Choose <manageLink>manage cookies</manageLink> to change your preferences.",values:{cookiePolicy:u=>s.jsx(Ss,{href:"https://openai.com/policies/cookie-policy",openNewTab:!0,children:u}),manageLink:u=>s.jsx(Vs,{onClick:()=>{t(He.DataControls)},children:u})}})})}function Fs({children:e,onAccept:a,onReject:t}){return r.useEffect(()=>{oe.addAction("privacy_policy.show_cookie_consent_banner")},[]),s.jsxs(Ge,{children:[s.jsxs(We,{className:"text-sm font-semibold [grid-area:_title]",children:[e,s.jsxs("div",{className:"mt-2 flex justify-end gap-3",children:[s.jsx(q,{color:"secondary",size:"small",onClick:t,children:s.jsx(j,{...k.reject})}),s.jsx(q,{color:"secondary",size:"small",onClick:a,children:s.jsx(j,{...k.accept})})]})]}),s.jsx(Ue,{})]})}const Vs=ge.button`underline font-normal text-green-600`,k=V({cookieConsentBannerTitle:{id:"CookieConsentBanner.title",defaultMessage:"We use cookies to provide, improve, and protect our services. Visit our <privacyPolicyLink>privacy policy</privacyPolicyLink> to learn more. You can manage your cookie preferences in your <settingsPanel>settings panel</settingsPanel>. <learnMoreLink>Learn more</learnMoreLink>."},reject:{id:"CookieConsentBanner.reject",defaultMessage:"Reject all"},accept:{id:"CookieConsentBanner.accept",defaultMessage:"Accept all"},updateSuccess:{id:"CookieConsentBanner.updateSuccess",defaultMessage:"Your cookie preferences were updated successfully"},updateFailure:{id:"CookieConsentBanner.updateFailure",defaultMessage:"Unable to update cookie preferences. Try again later."}}),zs=h(()=>p(async()=>{const{ModelOnboardingNUXModal:e}=await import("./dl4yft0w3ashpjlm.js");return{ModelOnboardingNUXModal:e}},__vite__mapDeps([72,1,2,3,4,5,21,22,6,7,8])).then(({ModelOnboardingNUXModal:e})=>e),{ssr:!1}),Hs=({onClose:e})=>{const a=N(),t=O(G.isBusinessWorkspace),o=O(n=>n.currentWorkspace),i=t?a.formatMessage(te.workspaceWelcome,{workspaceName:o==null?void 0:o.name}):"ChatGPT";return s.jsx(re,{isOpen:!0,onClose:ye,type:"success",title:i,size:"custom",noPadding:!0,className:"max-w-3xl",description:a.formatMessage(te.personalOnboardingSubheading),children:s.jsx(os,{onClose:e,scope:ns.Personal})})};function Gs(){const[e,a]=r.useState(0),{hasSeenOnboardingDate:t}=$e(),{hasSeenTeamOwnerOnboardingDate:o}=Ke(),i=O(G.isBusinessWorkspace),n=ne(),[d,m]=r.useState(!1),{data:u,isPending:C}=ce(),x=qe(u,C),{eligible:b,isLoading:f}=Ms(),M=pe(),T=be(),{data:l,isError:y}=xe(),g=l!=null,P=l&&(l==null?void 0:l.accountItems.length)>1&&l.currentAccountId==null,A=l==null?void 0:l.accountItems.some(c=>c.isPersonalAccount()),I=!!(l!=null&&l.accountItems)&&l.accountItems.length>0&&l.accountItems.every(({canAccessWithCurrentSession:c})=>!c),{eligible:W,isLoading:U}=Qe(),{value:$}=Ce("1542198993"),S=r.useMemo(()=>[{Component:Hs,getModalState:()=>i?"hide":t===null?"loading":t===!1?"show":"hide",isDeferrable:!0},{Component:Ye,getModalState:()=>y?"hide":P?"show":g?"hide":"loading",isDeferrable:!1},{Component:Xe,getModalState:()=>M!==null?"show":y||g?"hide":"loading",isDeferrable:!1},{Component:Je,getModalState:()=>T!=null?"show":y||g?"hide":"loading",isDeferrable:!1},{Component:Ze,getModalState:()=>g?I?"show":"hide":"loading",isDeferrable:!1},{Component:Rs,getModalState:()=>"hide",isDeferrable:!1},{Component:es,getModalState:()=>!(n!=null&&n.isTeam())||!(n!=null&&n.isOwnerOfAccount())||!A?"hide":!g||o===null?"loading":o===!1?"show":"hide",isDeferrable:!1},{Component:ss,getModalState:()=>i?t===null?"loading":t===!1?"show":"hide":"hide",isDeferrable:!0},{Component:as,getModalState:()=>U?"loading":W&&$?"show":"hide",isDeferrable:!1},{Component:ts,getModalState:()=>x,isDeferrable:!1},{Component:zs,getModalState:()=>f?"loading":b?"show":"hide",isDeferrable:!0,expiresAt:new Date(2024,7,13)}].filter(c=>!(c.isDeferrable&&d)&&(!c.expiresAt||c.expiresAt.getTime()>Date.now())),[T,g,t,o,A,f,i,y,M,n,I,P,x,b,d,$,W,U]);r.useEffect(()=>{if(S[e]&&S[e].getModalState()==="hide"){const c=S.findIndex(me=>me.getModalState()!=="hide");a(c)}},[e,S]);const _=S[e],R=(_==null?void 0:_.getModalState())==="show";if(r.useEffect(()=>{const c=B.getState().activeModals.has(E.BlockingInitialComponent);R!==c&&(R?v.openModal(E.BlockingInitialComponent):v.closeModal(E.BlockingInitialComponent))},[R]),_==null)return s.jsx("span",{"data-testid":"blocking-initial-modals-done",className:"hidden"});const K=_.getModalState();if(K==="loading")return null;K==="hide"&&a(c=>c+1);const fe=S[e].Component;return s.jsx(fe,{onClose:()=>{m(!0),a(c=>c+1)}})}const te=V({workspaceWelcome:{id:"BlockingInitialModals.workspaceWelcome",defaultMessage:"Welcome to the {workspaceName} workspace"},personalOnboardingSubheading:{id:"BlockingInitialModals.personalOnboardingSubheading",defaultMessage:"Tips for getting started"}}),Ws=h(()=>p(()=>import("./ewk3v6ll2f27ssy4.js"),__vite__mapDeps([73,1,2,3,6,4,5,7,8,58,56,57,39,13,11,14,15,16,17,12,18,19,20,21,22,23,24,25,26,27,28])).then(e=>e.DebugConversationSidebar)),Us=h(()=>p(()=>import("./sso-dud3eqjhdwr0lbxq.js").then(e=>e.l),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71])).then(e=>e.CDisplay)),$s=h(()=>p(()=>import("./sso-dud3eqjhdwr0lbxq.js").then(e=>e.m),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71])).then(e=>e.FannyPackChatSidebar)),Ks=h(()=>p(()=>import("./sso-dud3eqjhdwr0lbxq.js").then(e=>e.m),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71])).then(e=>e.FannyPackSidebarHeader));function qs(){const e=Ae(),a=e==null?void 0:e.includes("debug");r.useEffect(()=>{if(a)return _e(document,{keydown:t=>{t.target instanceof HTMLElement&&["input","textarea","select","button"].includes(t.target.tagName.toLowerCase())||t.key==="\\"&&v.toggleActiveSidebar("debug")}})},[a])}function Qs({clientThreadId:e,setClientThreadId:a,initiallyHighlightedMessageId:t,continueConversationUrl:o,urlThreadId:i}){const n=ys(),d=rs();_s(e,d?{kind:Q.GizmoInteraction,gizmo_id:d}:{kind:Q.PrimaryAssistant});const m=vs(e),u=z(),C=ne(),x=C==null?void 0:C.features,b=Ls(e),f=ve();r.useEffect(()=>(L.retainThread(e),()=>{setTimeout(()=>{f.invalidateQueries({queryKey:["conversation",e]})},0),L.releaseThread(e)}),[e,f]),r.useEffect(()=>{v.closeSharingModal()},[e,m]);const M=r.useCallback(()=>{a(F()),u.replace(b.tags.includes(Me.GPT_4)?"/":`/?model=${b.id}`,void 0,{shallow:!0})},[a,b.tags,b.id,u]);Ts({resetThreadAction:M,clientThreadId:e});const T=B(I=>I.activeSidebar),l=Se();r.useEffect(()=>()=>{ke.checkGate("3922476776")||Y.abortAllRequests()},[e]),qs();const y=r.useRef(e);r.useEffect(()=>{e!==y.current&&(Y.clear(),y.current=e)},[e]);const g=Re({clientThreadId:e,location:"Model switcher menu item"}),P=H(e),{value:A}=je("187267097");return s.jsxs(Bs,{clientThreadId:e,children:[s.jsx(Ys,{clientThreadId:e,urlThreadId:i}),s.jsxs(se,{hideNavigation:n,mobileHeaderContent:s.jsx(ws,{clientThreadId:e,inMobileHeader:!0}),mobileHeaderBottomContent:s.jsx(Es,{clientThreadId:e}),mobileHeaderLeftContent:s.jsx(ks,{onNewChatButtonClick:M}),mobileHeaderRightContent:s.jsx(js,{onNewChatButtonClick:M}),sidebar:s.jsx(As,{navHeader:e?A===!0?s.jsx(Ks,{className:"flex h-[60px] items-center md:h-14",onNewThread:g}):s.jsx(Ds,{className:"flex h-[60px] items-center md:h-14",onNewThread:g}):null,children:A===!0?s.jsx($s,{clientThreadId:e,onNewThread:g}):s.jsx(Os,{clientThreadId:e,onNewThread:g})}),children:[s.jsx(ie,{children:s.jsx(de,{clientThreadId:e,initiallyHighlightedMessageId:t,continueConversationUrl:o},e)}),s.jsxs(se.Sidebars,{children:[P&&s.jsx(Us,{clientThreadId:e}),(x==null?void 0:x.includes("debug"))&&T==="debug"&&s.jsx(Ws,{clientThreadId:e,slideOver:!l,onClose:()=>v.toggleActiveSidebar("debug"),isOpen:!0})]})]})]})}function Ys({clientThreadId:e,urlThreadId:a}){const t=N(),o=z(),i=we();return s.jsx(ie,{children:i&&e&&!!a&&s.jsx(is,{isOpen:!0,title:s.jsx(j,{id:"HistoryGizmoItem.leaveTempChatTitle",defaultMessage:"Leave Temporary Chat?"}),description:s.jsx(j,{id:"HistoryGizmoItem.leaveTempChatDescription",defaultMessage:"Temporary Chats don't appear in your history, so you won't be able to come back to it."}),confirmText:t.formatMessage({id:"HistoryGizmoItem.leaveTempChatConfirm",defaultMessage:"Leave Temporary Chat"}),onClose:()=>{o.push("/")},onConfirm:()=>{le.setIsTemporaryChatEnabled(!1)}})})}const Xs=450;function Js({children:e,clientThreadId:a,isOpen:t,onClose:o}){return s.jsx(ls,{children:t&&s.jsx(Ee,{children:s.jsx(cs.Provider,{value:{isEmbeddedInFocusedView:!0},children:s.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[s.jsx(ae.div,{className:"h-full w-full bg-token-main-surface-secondary",...X}),s.jsxs("div",{className:"absolute inset-0 flex",children:[s.jsx("div",{className:"flex-grow overflow-auto",children:e}),s.jsx(ae.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:Xs},...X,children:s.jsx("div",{className:"h-[100vh] pb-4",children:s.jsx(de,{clientThreadId:a,hideHeader:!0,hideFooter:!0,hideToolsOverlay:!0,messagesVerticalAlign:"bottom"},a)})})]})]})})})})}const Zs=h(()=>p(()=>import("./ozg6tdzobslz5zju.js"),__vite__mapDeps([74,1,2,3,4,5,13,8,6,7,11,14,15,16,17,12,18,19,20,21,22,23,24,25,26,27,28]))),ea=h(()=>p(()=>import("./hx09penj7oz4c886.js"),__vite__mapDeps([75,1,2,3,4,5,13,8,6,7,11,14,15,16,17,12,18,19,20,21,22,23,24,25,26,27,28,76,77,56,34,33])).then(e=>e.ImageEditor));function sa({clientThreadId:e}){const a=ds();r.useEffect(()=>{J.close()},[e]);let t;return(a==null?void 0:a.type)===Z.ADAVisualization?t=s.jsx(Zs,{clientThreadId:e,visualization:a.visualization}):(a==null?void 0:a.type)===Z.Image&&(t=s.jsx(ea,{clientThreadId:e,messageId:a.messageId,image:a.image,allImages:a.allImages},a.image.asset_pointer)),s.jsx(Js,{clientThreadId:e,isOpen:a!=null,onClose:J.close,children:t})}const aa=()=>{const e=N(),a=B(n=>n.activeModals.has(E.KeyboardActions)),t=()=>{v.closeModal(E.KeyboardActions)},o=Ps(),i=r.useMemo(()=>{const n=Math.ceil(o.length/2);return[o.slice(0,n),o.slice(n)]},[o]);return s.jsx(re,{isOpen:a,onClose:t,type:"success",size:"custom",className:"md:max-w-[672px] lg:max-w-[796px] xl:max-w-4xl",showCloseButton:!0,title:e.formatMessage(na.keyboardActionsModalTitle),children:s.jsx(s.Fragment,{children:s.jsx("div",{className:"grid grid-flow-row grid-cols-[repeat(auto-fit,minmax(250px,1fr))] gap-x-9",children:i.map((n,d)=>s.jsx("div",{className:"flex flex-col overflow-hidden",children:n.map(m=>s.jsx(ta,{action:m},m.key))},`col-${d}`))})})})},ta=({action:e})=>s.jsxs("div",{className:"flex items-center justify-between overflow-hidden text-token-text-primary",children:[s.jsx("div",{className:"flex flex-shrink items-center overflow-hidden text-sm",children:s.jsx("div",{className:"truncate",children:s.jsx(j,{...e.actionMessageDescriptor})})}),s.jsx("div",{className:"ml-3 flex flex-row gap-2",children:Is(e.keyboardBinding).map((a,t)=>s.jsx(oa,{keyName:a},`${e.key}-${t}`))})]}),oa=({keyName:e})=>{const a=D("my-2 flex h-8 items-center justify-center rounded-md border border-token-border-light capitalize text-token-text-secondary");return e.length>1?e.length>3?s.jsx("div",{className:D(a,"min-w-[50px]"),children:s.jsx("span",{className:"text-xs",children:e})}):s.jsx("div",{className:D(a,"min-w-[32px]"),children:s.jsx("span",{className:"text-xs",children:e})}):s.jsx("div",{className:D(a,"min-w-[32px]"),children:s.jsx("span",{className:"text-sm",children:e})})},na=V({keyboardActionsModalTitle:{id:"KeyboardActionsModal.keyboardActionsModalTitle",defaultMessage:"Keyboard shortcuts"}});var ra={};const ia=h(()=>p(()=>import("./fm9ox4f4c0fd1uiu.js"),__vite__mapDeps([78,1,2,3,13,4,5,8,6,7,11,14,15,16,17,12,18,19,20,21,22,23,24,25,26,27,28,79]))),la=h(()=>p(()=>import("./d78espk1ee9oqpyq.js"),__vite__mapDeps([80,1,2,3,52,38,6,4,5,7,53,54,11,8])).then(e=>e.ImageLightbox)),ca=h(()=>p(()=>import("./sso-dud3eqjhdwr0lbxq.js").then(e=>e.S),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71])).then(e=>e.default)),ue=Symbol("invalid path");function ja(e){const a=e.split(/[#?]/)[0];if(a==="/")return;if(a.match(/^\/g\/\w+$/))return;const t=/(?:(?:\/gizmo)?\/g\/\w+)?\/c\/([a-f0-9-]+)$/.exec(a);return(t==null?void 0:t[1])??ue}function Aa(e){return e===ue}function _a(e){const{urlThreadId:a,clientThreadId:t}=e,o="serviceStatus"in e?e.serviceStatus:null;fa();const i=z(),[n,d]=r.useState(()=>a!==void 0?a:t!==void 0?t:F());a!==void 0&&n!==a&&L.getServerThreadId(n)!==a&&d(a),a===void 0&&L.getServerThreadId(n)!==void 0&&d(F());const{isUnauthenticated:m}=Te();r.useEffect(()=>{if(m){v.closeSidebarWithoutSavingPreference();return}},[m]);const u=us(),C=O(G.workspaceId),x=H(n);r.useEffect(()=>{(i.asPath==="/"||i.asPath.startsWith("/c/"))&&fs({namespace:ee.ChatPageLoad})==null&&(ms({namespace:ee.ChatPageLoad,opts:{expectedTimingLogs:[{name:"render_model_switcher",expectedInMs:1e4},{name:"render_history_items",expectedInMs:25e3}]}}),oe.addTiming("chatgpt.web.chatPage.mounted"))},[]);const b=gs();return r.useEffect(()=>{Pe(!0).then(f=>{f.force_login&&b({authType:"login"}),Ie.initializeAndGatherData(f),hs.initializeAndGatherData(f),De.initializeAndGatherData(f)})},[b]),r.useEffect(()=>{o!=null&&o.type&&u===!1&&w.warning(o.message,{hasCloseButton:!0,duration:5})},[u,o==null?void 0:o.message,o==null?void 0:o.type]),r.useEffect(()=>{const f=i.query[ps]==="true";Oe()!==f&&le.setIsTemporaryChatEnabled(f)},[i.query]),s.jsxs(Le.Provider,{value:null,children:[s.jsx(Gs,{},C),s.jsx(aa,{}),s.jsx(bs,{}),s.jsx(Qs,{urlThreadId:a,clientThreadId:n,setClientThreadId:d}),!x&&s.jsx(sa,{clientThreadId:n}),s.jsx(ua,{clientThreadId:n}),s.jsx(da,{}),x&&s.jsx(ca,{}),s.jsx(xs,{})]})}function da(){const e=B(a=>a.sharingModalThreadId);return e?s.jsx(ia,{serverThreadId:e}):null}function ua({clientThreadId:e}){return Cs()?s.jsx(la,{clientThreadId:e}):null}function fa(){Ne({queryKey:["pingEdge"],queryFn:()=>Be.pingEdge(),enabled:!0,staleTime:1/0})}typeof window<"u"&&(window._g=ra.GOKU_SERVICE);export{_a as C,Xs as F,Bs as a,Qs as b,ja as g,Aa as i};
//# sourceMappingURL=m121ooced7jzptvl.js.map
