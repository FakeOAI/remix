import{dz as M,r,X as l,Y as g,aB as h,j as e,ax as N,a3 as B,T as i,G as f,I as S,a4 as I,H as v,cE as E,cF as L,ay as _,N as b,O as y,o as W,bU as w,h as O}from"./hc9xxm00a3r3byem.js";import{u as j}from"./nug034oo81goid6a.js";import{A as T,ad as U,bo as P}from"./ozzpumen10p6g0yq.js";import{g as D,C as G,i as z}from"./oiatkwwy17h2bkyz.js";const $=({onClose:s,onOpen:t})=>{const o=j(),d=M()?"center":"bottom";return r.useEffect(()=>{t(),l.logEvent(g.noAuthWelcomeBackModalShown),h.logEvent("chatgpt_no_auth_welcome_back_modal_shown")},[t]),e.jsx(N,{isOpen:!0,onClose:B,shouldIgnoreClickOutside:!0,showCloseButton:!1,type:"success",noPadding:!0,size:"custom",className:"max-w-[373px] sm:max-w-[400px]",position:d,children:e.jsxs("div",{className:"flex flex-col items-center justify-center px-6 py-8 sm:p-10",children:[e.jsx("p",{className:"mb-1 text-center text-2xl font-semibold",children:e.jsx(i,{...u.title})}),e.jsx("p",{className:"mb-6 text-center text-lg text-token-text-secondary",children:e.jsx(i,{...u.subtitle})}),e.jsx(f,{as:"button",size:"large",color:"primary",fullWidth:!0,className:"mb-2 sm:mb-3","data-testid":"welcome-login-button",onClick:()=>{const a=o({authType:"login"});l.logLogInButtonClicked({provider:a,location:"No Auth Welcome Back Modal"})},children:e.jsx(i,{...u.logInCta})}),e.jsx(f,{as:"button",size:"large",color:"secondary",fullWidth:!0,className:"mb-5",onClick:()=>{const a=o({authType:"signup"});l.logSignUpButtonClicked({provider:a,location:"No Auth Welcome Back Modal"})},children:e.jsx(i,{...u.signUpCta})}),e.jsx("a",{href:"#",className:"cursor-pointer font-semibold text-token-text-secondary underline sm:text-sm",onClick:a=>{a.preventDefault(),l.logEvent(g.noAuthWelcomeBackModalStayLoggedOutLinkClicked),h.logEvent("chatgpt_no_auth_welcome_back_modal_stay_logged_out_link_clicked"),s()},"data-testid":"dismiss-welcome",children:e.jsx(i,{...u.stayLoggedOutLink})})]})})},u=S({title:{id:"NoAuthWelcomeBackModal.title",defaultMessage:"Welcome back"},subtitle:{id:"7WQi5y",defaultMessage:"Log in or sign up to get smarter responses, upload files and images, and more."},signUpCta:{id:"NoAuthWelcomeBackModal.signUpCta",defaultMessage:"Sign up"},logInCta:{id:"NoAuthWelcomeBackModal.logInCta",defaultMessage:"Log in"},stayLoggedOutLink:{id:"NoAuthWelcomeBackModal.stayLoggedOut",defaultMessage:"Stay logged out"}}),F=({onClose:s,onOpen:t})=>{const o=I(),n=j(),a=M()?"center":"bottom";return r.useEffect(()=>{t(),l.logEvent(g.noAuthGpt4oModalShown),h.logEvent("chatgpt_no_auth_gpt_4o_modal_shown")},[t]),e.jsx(N,{className:"max-w-md sm:max-w-[480px]",isOpen:!0,noPadding:!0,onClose:B,position:a,shouldIgnoreClickOutside:!0,showCloseButton:!1,size:"custom",type:"success",children:e.jsxs("div",{className:"relative flex flex-col items-center rounded-xl text-center focus:outline-none",children:[e.jsx(T,{src:U,alt:"Background image",priority:!0,className:"w-full rounded-t-xl"}),e.jsx(v,{className:"absolute right-0 top-0 m-4",onClick:()=>{l.logEvent(g.noAuthGpt4oModalDismissed),h.logEvent("chatgpt_no_auth_gpt_4o_modal_dismissed"),s()}}),e.jsxs("div",{className:"flex flex-col items-center p-8",children:[e.jsx(E,{className:"mb-2 font-semibold leading-6",children:e.jsx(i,{...m.title})}),e.jsx(L,{className:"mb-5 text-center text-token-text-secondary",children:e.jsx(i,{...m.body})}),e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsx(_.Button,{title:o.formatMessage(m.logInButtonText),className:"rounded-xl",color:"secondary",onClick:()=>{const c=n({authType:"login"});l.logLogInButtonClicked({location:"No Auth GPT 4o Modal",provider:c})}}),e.jsx(_.Button,{title:o.formatMessage(m.signUpButtonText),className:"rounded-xl",color:"primary",onClick:()=>{const c=n({authType:"signup"});l.logSignUpButtonClicked({location:"No Auth GPT 4o Modal",provider:c})}})]})]})]})})},m=S({title:{id:"22rZFl",defaultMessage:"Log in for smarter responses"},body:{id:"eiQJD6",defaultMessage:"Our latest model, GPT-4o, is smarter, understands images, can browse the web, and speaks more languages. Sign up or log in to try it for free."},logInButtonText:{id:"k1czMK",defaultMessage:"Log in"},signUpButtonText:{id:"sQLMzl",defaultMessage:"Sign up"}}),H=({onClose:s,onOpen:t,type:o})=>{switch(o){case"default":return e.jsx($,{onClose:s,onOpen:t});case"gpt-4o":return e.jsx(F,{onClose:s,onOpen:t})}},k="has-dismissed-welcome-back-modal",K=!!b.getItem(y.NoAuthHasSeenGpt4oModal),Q=()=>{const[s,t]=r.useState(!0),{layer:o}=W("3637408529"),n=o.get("is_no_auth_welcome_back_modal_enabled",!1),d=o.get("is_no_auth_gpt4o_modal_enabled",!1),{isUnauthenticated:a,isLoading:c}=w(),p=P(),C=!c&&a&&n&&!s&&p,x=d&&!K?"gpt-4o":"default";r.useEffect(()=>{t(sessionStorage.getItem(k)!=null)},[]);const A=r.useCallback(()=>{x==="gpt-4o"&&b.setItem(y.NoAuthHasSeenGpt4oModal,!0)},[x]);return{close:()=>{t(!0),sessionStorage.setItem(k,"true")},isOpen:C,onOpen:A,type:x}};function Z(s){const t=O(),o=s.conversationId??D(t.asPath),n=z(o),{close:d,isOpen:a,onOpen:c,type:p}=Q();return r.useEffect(()=>{n&&t.replace("/",void 0,{shallow:!0})},[n,t]),n?null:e.jsxs(e.Fragment,{children:[a?e.jsx(H,{onClose:d,onOpen:c,type:p}):null,e.jsx(G,{...s,urlThreadId:o})]})}export{Z as D};
//# sourceMappingURL=dodiud0o9iqg01wq.js.map
