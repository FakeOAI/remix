import{bc as B,bd as u,ae as H,k as E}from"./ozzpumen10p6g0yq.js";import{r as k,X as x,Y as U,D as G,a3 as O,at as j,aF as W,t as b,I as Z}from"./hc9xxm00a3r3byem.js";import{T as C}from"./iyldmwu8ywhos7ff.js";import{U as w,G as P}from"./guykwp3ov0cliuel.js";import{U as _}from"./n1uzh05qecnh8ko6.js";(function(a){Object.defineProperty(a,"__esModule",{value:!0}),function(o){o.Unidentified="Unidentified",o.Alt="Alt",o.AltGraph="AltGraph",o.CapsLock="CapsLock",o.Control="Control",o.Fn="Fn",o.FnLock="FnLock",o.Hyper="Hyper",o.Meta="Meta",o.NumLock="NumLock",o.ScrollLock="ScrollLock",o.Shift="Shift",o.Super="Super",o.Symbol="Symbol",o.SymbolLock="SymbolLock",o.Enter="Enter",o.Tab="Tab",o.ArrowDown="ArrowDown",o.ArrowLeft="ArrowLeft",o.ArrowRight="ArrowRight",o.ArrowUp="ArrowUp",o.End="End",o.Home="Home",o.PageDown="PageDown",o.PageUp="PageUp",o.Backspace="Backspace",o.Clear="Clear",o.Copy="Copy",o.CrSel="CrSel",o.Cut="Cut",o.Delete="Delete",o.EraseEof="EraseEof",o.ExSel="ExSel",o.Insert="Insert",o.Paste="Paste",o.Redo="Redo",o.Undo="Undo",o.Accept="Accept",o.Again="Again",o.Attn="Attn",o.Cancel="Cancel",o.ContextMenu="ContextMenu",o.Escape="Escape",o.Execute="Execute",o.Find="Find",o.Finish="Finish",o.Help="Help",o.Pause="Pause",o.Play="Play",o.Props="Props",o.Select="Select",o.ZoomIn="ZoomIn",o.ZoomOut="ZoomOut",o.BrightnessDown="BrightnessDown",o.BrightnessUp="BrightnessUp",o.Eject="Eject",o.LogOff="LogOff",o.Power="Power",o.PowerOff="PowerOff",o.PrintScreen="PrintScreen",o.Hibernate="Hibernate",o.Standby="Standby",o.WakeUp="WakeUp",o.AllCandidates="AllCandidates",o.Alphanumeric="Alphanumeric",o.CodeInput="CodeInput",o.Compose="Compose",o.Convert="Convert",o.Dead="Dead",o.FinalMode="FinalMode",o.GroupFirst="GroupFirst",o.GroupLast="GroupLast",o.GroupNext="GroupNext",o.GroupPrevious="GroupPrevious",o.ModeChange="ModeChange",o.NextCandidate="NextCandidate",o.NonConvert="NonConvert",o.PreviousCandidate="PreviousCandidate",o.Process="Process",o.SingleCandidate="SingleCandidate",o.HangulMode="HangulMode",o.HanjaMode="HanjaMode",o.JunjaMode="JunjaMode",o.Eisu="Eisu",o.Hankaku="Hankaku",o.Hiragana="Hiragana",o.HiraganaKatakana="HiraganaKatakana",o.KanaMode="KanaMode",o.KanjiMode="KanjiMode",o.Katakana="Katakana",o.Romaji="Romaji",o.Zenkaku="Zenkaku",o.ZenkakuHanaku="ZenkakuHanaku",o.F1="F1",o.F2="F2",o.F3="F3",o.F4="F4",o.F5="F5",o.F6="F6",o.F7="F7",o.F8="F8",o.F9="F9",o.F10="F10",o.F11="F11",o.F12="F12",o.F13="F13",o.F14="F14",o.F15="F15",o.F16="F16",o.F17="F17",o.F18="F18",o.F19="F19",o.F20="F20",o.Soft1="Soft1",o.Soft2="Soft2",o.Soft3="Soft3",o.Soft4="Soft4",o.AppSwitch="AppSwitch",o.Call="Call",o.Camera="Camera",o.CameraFocus="CameraFocus",o.EndCall="EndCall",o.GoBack="GoBack",o.GoHome="GoHome",o.HeadsetHook="HeadsetHook",o.LastNumberRedial="LastNumberRedial",o.Notification="Notification",o.MannerMode="MannerMode",o.VoiceDial="VoiceDial",o.ChannelDown="ChannelDown",o.ChannelUp="ChannelUp",o.MediaFastForward="MediaFastForward",o.MediaPause="MediaPause",o.MediaPlay="MediaPlay",o.MediaPlayPause="MediaPlayPause",o.MediaRecord="MediaRecord",o.MediaRewind="MediaRewind",o.MediaStop="MediaStop",o.MediaTrackNext="MediaTrackNext",o.MediaTrackPrevious="MediaTrackPrevious",o.AudioBalanceLeft="AudioBalanceLeft",o.AudioBalanceRight="AudioBalanceRight",o.AudioBassDown="AudioBassDown",o.AudioBassBoostDown="AudioBassBoostDown",o.AudioBassBoostToggle="AudioBassBoostToggle",o.AudioBassBoostUp="AudioBassBoostUp",o.AudioBassUp="AudioBassUp",o.AudioFaderFront="AudioFaderFront",o.AudioFaderRear="AudioFaderRear",o.AudioSurroundModeNext="AudioSurroundModeNext",o.AudioTrebleDown="AudioTrebleDown",o.AudioTrebleUp="AudioTrebleUp",o.AudioVolumeDown="AudioVolumeDown",o.AudioVolumeMute="AudioVolumeMute",o.AudioVolumeUp="AudioVolumeUp",o.MicrophoneToggle="MicrophoneToggle",o.MicrophoneVolumeDown="MicrophoneVolumeDown",o.MicrophoneVolumeMute="MicrophoneVolumeMute",o.MicrophoneVolumeUp="MicrophoneVolumeUp",o.TV="TV",o.TV3DMode="TV3DMode",o.TVAntennaCable="TVAntennaCable",o.TVAudioDescription="TVAudioDescription",o.TVAudioDescriptionMixDown="TVAudioDescriptionMixDown",o.TVAudioDescriptionMixUp="TVAudioDescriptionMixUp",o.TVContentsMenu="TVContentsMenu",o.TVDataService="TVDataService",o.TVInput="TVInput",o.TVInputComponent1="TVInputComponent1",o.TVInputComponent2="TVInputComponent2",o.TVInputComposite1="TVInputComposite1",o.TVInputComposite2="TVInputComposite2",o.TVInputHDMI1="TVInputHDMI1",o.TVInputHDMI2="TVInputHDMI2",o.TVInputHDMI3="TVInputHDMI3",o.TVInputHDMI4="TVInputHDMI4",o.TVInputVGA1="TVInputVGA1",o.TVMediaContext="TVMediaContext",o.TVNetwork="TVNetwork",o.TVNumberEntry="TVNumberEntry",o.TVPower="TVPower",o.TVRadioService="TVRadioService",o.TVSatellite="TVSatellite",o.TVSatelliteBS="TVSatelliteBS",o.TVSatelliteCS="TVSatelliteCS",o.TVSatelliteToggle="TVSatelliteToggle",o.TVTerrestrialAnalog="TVTerrestrialAnalog",o.TVTerrestrialDigital="TVTerrestrialDigital",o.TVTimer="TVTimer",o.AVRInput="AVRInput",o.AVRPower="AVRPower",o.ColorF0Red="ColorF0Red",o.ColorF1Green="ColorF1Green",o.ColorF2Yellow="ColorF2Yellow",o.ColorF3Blue="ColorF3Blue",o.ColorF4Grey="ColorF4Grey",o.ColorF5Brown="ColorF5Brown",o.ClosedCaptionToggle="ClosedCaptionToggle",o.Dimmer="Dimmer",o.DisplaySwap="DisplaySwap",o.DVR="DVR",o.Exit="Exit",o.FavoriteClear0="FavoriteClear0",o.FavoriteClear1="FavoriteClear1",o.FavoriteClear2="FavoriteClear2",o.FavoriteClear3="FavoriteClear3",o.FavoriteRecall0="FavoriteRecall0",o.FavoriteRecall1="FavoriteRecall1",o.FavoriteRecall2="FavoriteRecall2",o.FavoriteRecall3="FavoriteRecall3",o.FavoriteStore0="FavoriteStore0",o.FavoriteStore1="FavoriteStore1",o.FavoriteStore2="FavoriteStore2",o.FavoriteStore3="FavoriteStore3",o.Guide="Guide",o.GuideNextDay="GuideNextDay",o.GuidePreviousDay="GuidePreviousDay",o.Info="Info",o.InstantReplay="InstantReplay",o.Link="Link",o.ListProgram="ListProgram",o.LiveContent="LiveContent",o.Lock="Lock",o.MediaApps="MediaApps",o.MediaAudioTrack="MediaAudioTrack",o.MediaLast="MediaLast",o.MediaSkipBackward="MediaSkipBackward",o.MediaSkipForward="MediaSkipForward",o.MediaStepBackward="MediaStepBackward",o.MediaStepForward="MediaStepForward",o.MediaTopMenu="MediaTopMenu",o.NavigateIn="NavigateIn",o.NavigateNext="NavigateNext",o.NavigateOut="NavigateOut",o.NavigatePrevious="NavigatePrevious",o.NextFavoriteChannel="NextFavoriteChannel",o.NextUserProfile="NextUserProfile",o.OnDemand="OnDemand",o.Pairing="Pairing",o.PinPDown="PinPDown",o.PinPMove="PinPMove",o.PinPToggle="PinPToggle",o.PinPUp="PinPUp",o.PlaySpeedDown="PlaySpeedDown",o.PlaySpeedReset="PlaySpeedReset",o.PlaySpeedUp="PlaySpeedUp",o.RandomToggle="RandomToggle",o.RcLowBattery="RcLowBattery",o.RecordSpeedNext="RecordSpeedNext",o.RfBypass="RfBypass",o.ScanChannelsToggle="ScanChannelsToggle",o.ScreenModeNext="ScreenModeNext",o.Settings="Settings",o.SplitScreenToggle="SplitScreenToggle",o.STBInput="STBInput",o.STBPower="STBPower",o.Subtitle="Subtitle",o.Teletext="Teletext",o.VideoModeNext="VideoModeNext",o.Wink="Wink",o.ZoomToggle="ZoomToggle",o.SpeechCorrectionList="SpeechCorrectionList",o.SpeechInputToggle="SpeechInputToggle",o.Close="Close",o.New="New",o.Open="Open",o.Print="Print",o.Save="Save",o.SpellCheck="SpellCheck",o.MailForward="MailForward",o.MailReply="MailReply",o.MailSend="MailSend",o.LaunchCalculator="LaunchCalculator",o.LaunchCalendar="LaunchCalendar",o.LaunchContacts="LaunchContacts",o.LaunchMail="LaunchMail",o.LaunchMediaPlayer="LaunchMediaPlayer",o.LaunchMusicPlayer="LaunchMusicPlayer",o.LaunchMyComputer="LaunchMyComputer",o.LaunchPhone="LaunchPhone",o.LaunchScreenSaver="LaunchScreenSaver",o.LaunchSpreadsheet="LaunchSpreadsheet",o.LaunchWebBrowser="LaunchWebBrowser",o.LaunchWebCam="LaunchWebCam",o.LaunchWordProcessor="LaunchWordProcessor",o.LaunchApplication1="LaunchApplication1",o.LaunchApplication2="LaunchApplication2",o.LaunchApplication3="LaunchApplication3",o.LaunchApplication4="LaunchApplication4",o.LaunchApplication5="LaunchApplication5",o.LaunchApplication6="LaunchApplication6",o.LaunchApplication7="LaunchApplication7",o.LaunchApplication8="LaunchApplication8",o.LaunchApplication9="LaunchApplication9",o.LaunchApplication10="LaunchApplication10",o.LaunchApplication11="LaunchApplication11",o.LaunchApplication12="LaunchApplication12",o.LaunchApplication13="LaunchApplication13",o.LaunchApplication14="LaunchApplication14",o.LaunchApplication15="LaunchApplication15",o.LaunchApplication16="LaunchApplication16",o.BrowserBack="BrowserBack",o.BrowserFavorites="BrowserFavorites",o.BrowserForward="BrowserForward",o.BrowserHome="BrowserHome",o.BrowserRefresh="BrowserRefresh",o.BrowserSearch="BrowserSearch",o.BrowserStop="BrowserStop",o.Decimal="Decimal",o.Key11="Key11",o.Key12="Key12",o.Multiply="Multiply",o.Add="Add",o.Divide="Divide",o.Subtract="Subtract",o.Separator="Separator"}(a.Key||(a.Key={}))})(B);Object.defineProperty(u,"__esModule",{value:!0});var Y=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),f={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},D={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:Y?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},F={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var S=1;S<20;S++)F["f"+S]=111+S;function A(a,o,t){o&&!("byKey"in o)&&(t=o,o=null),Array.isArray(a)||(a=[a]);var n=a.map(function(l){return V(l,o)}),r=function(i){return n.some(function(s){return R(s,i)})},c=t==null?r:r(t);return c}function J(a,o){return A(a,o)}function X(a,o){return A(a,{byKey:!0},o)}function V(a,o){var t=o&&o.byKey,n={};a=a.replace("++","+add");var r=a.split("+"),c=r.length;for(var l in f)n[f[l]]=!1;var i=!0,s=!1,h=void 0;try{for(var p=r[Symbol.iterator](),L;!(i=(L=p.next()).done);i=!0){var d=L.value,v=d.endsWith("?")&&d.length>1;v&&(d=d.slice(0,-1));var m=T(d),M=f[m];if(d.length>1&&!M&&!D[d]&&!F[m])throw new TypeError('Unknown modifier: "'+d+'"');(c===1||!M)&&(t?n.key=m:n.which=I(d)),M&&(n[M]=v?null:!0)}}catch(N){s=!0,h=N}finally{try{!i&&p.return&&p.return()}finally{if(s)throw h}}return n}function R(a,o){for(var t in a){var n=a[t],r=void 0;if(n!=null&&(t==="key"&&o.key!=null?r=o.key.toLowerCase():t==="which"?r=n===91&&o.which===93?91:o.which:r=o[t],!(r==null&&n===!1)&&r!==n))return!1}return!0}function I(a){a=T(a);var o=F[a]||a.toUpperCase().charCodeAt(0);return o}function T(a){return a=a.toLowerCase(),a=D[a]||a,a}var $=u.default=A;u.isHotkey=A;u.isCodeHotkey=J;u.isKeyHotkey=X;u.parseHotkey=V;u.compareHotkey=R;u.toKeyCode=I;u.toKeyName=T;const q=typeof window<"u"?k.useLayoutEffect:k.useEffect;function z(a,o,t){const n=a.map(r=>{const{keyboardBinding:c}=r;let l=c.join("+");if(r.altKeyboardBindings){l=[l];const i=r.altKeyboardBindings.map(s=>s.join("+"));l=l.concat(i)}return $(l,{byKey:!0})});q(()=>{if((t==null?void 0:t.enabled)===!1)return;const r=i=>{if(!i.repeat)for(let s=0;s<n.length;s++)n[s](i)&&(a[s].enabled===void 0||a[s].enabled)&&(i.preventDefault(),o(a[s]),a[s].action())},c=i=>{i.key!==void 0&&r(i)},l=document;return l.addEventListener("keydown",c),()=>{l.removeEventListener("keydown",c)}},[a,t])}const Q=/```.*?\n([\s\S]+?)\n?```[^`]*$/gms;function y(){return/Mac|iPod|iPhone|iPad/.test(window.navigator.platform)}const e={Mod:"mod",Comma:",",...B.Key},K={[e.Mod]:y()?"⌘":"Ctrl",[e.Comma]:",",[e.Enter]:"⏎",[e.Escape]:"Esc",[e.ArrowUp]:"↑",[e.ArrowDown]:"↓",[e.ArrowLeft]:"←",[e.ArrowRight]:"→",[e.Backspace]:"⌫",[e.Delete]:"⌦",[e.Tab]:"⇥",[e.Control]:"Ctrl",[e.Shift]:"Shift"},co=a=>a.map(o=>K[o]??o),g=Z({newChat:{id:"keyboardActions.newChat",defaultMessage:"Open new chat"},focusPromptTextarea:{id:"keyboardActions.focusPromptTextarea",defaultMessage:"Focus chat input"},copyLastCodeBlock:{id:"keyboardActions.copyLastCodeBlock",defaultMessage:"Copy last code block"},copyLastResponse:{id:"keyboardActions.copyLastResponse",defaultMessage:"Copy last response"},toggleCustomInstructions:{id:"keyboardActions.toggleCustomInstructions",defaultMessage:"Set custom instructions"},navigationToggle:{id:"keyboardActions.navigationToggle",defaultMessage:"Toggle sidebar"},deleteChat:{id:"keyboardActions.deleteChat",defaultMessage:"Delete chat"},archiveChat:{id:"keyboardActions.archiveChat",defaultMessage:"Archive chat"},toggleKeyboardActions:{id:"keyboardActions.toggleKeyboardActions",defaultMessage:"Show shortcuts"}}),oo=new _,ao=({resetThreadAction:a,clientThreadId:o})=>[{key:"newChat",action:a||O,actionMessageDescriptor:g.newChat,group:"Core",keyboardBinding:[e.Mod,e.Shift,"o"],altKeyboardBindings:[[e.Mod,"k"]]},{key:"focusPromptTextarea",action:H,actionMessageDescriptor:g.focusPromptTextarea,group:"Chat",keyboardBinding:[e.Shift,e.Escape]},{key:"copyLastCodeBlock",action:()=>{if(o!=null){const t=C.getThreadCurrentLeafId(o),n=C.getThreadConversationTurns(o,t);for(let r=n.length-1;r>=0;r--){const{messages:c}=n[r],i=[...c.reduce((h,p)=>p.err==null&&p.message.author.role===j.Assistant&&p.message.recipient==="all"?h+(h?`

`:"")+W(p.message):h,"").matchAll(Q)],s=i.length?i[i.length-1][1]:null;if(s!=null){E(s).then(()=>{b.success("Copied code block to clipboard")});break}}}},actionMessageDescriptor:g.copyLastCodeBlock,group:"Chat",keyboardBinding:[e.Mod,e.Shift,";"],altKeyboardBindings:[[e.Mod,e.Shift,":"]]},{key:"copyLastResponse",action:()=>{o!=null&&C.copyLastMessageToClipboard(o,"keyboard").then(()=>{b.success("Last response copied to clipboard")})},actionMessageDescriptor:g.copyLastResponse,group:"Chat",keyboardBinding:[e.Mod,e.Shift,"c"]},{key:"toggleCustomInstructions",action:()=>w.toggleModal(P.UserContext),actionMessageDescriptor:g.toggleCustomInstructions,group:"Settings",keyboardBinding:[e.Mod,e.Shift,"i"]},{key:"navigationToggle",action:()=>w.toggleNavSidebar(),actionMessageDescriptor:g.navigationToggle,group:"Core",keyboardBinding:[e.Mod,e.Shift,"s"]},{key:"deleteChat",action:()=>{if(o){const t=C.getServerThreadId(o);t&&oo.publish({kind:"deleteChat",serverThreadId:t})}},actionMessageDescriptor:g.deleteChat,group:"Chat",keyboardBinding:[e.Mod,e.Shift,e.Backspace],altKeyboardBindings:[[e.Mod,e.Shift,e.Delete]]},{key:"toggleKeyboardActions",action:()=>w.toggleModal(P.KeyboardActions),actionMessageDescriptor:g.toggleKeyboardActions,group:"Settings",keyboardBinding:[e.Mod,"/"]}],eo=a=>z(a,o=>{x.logEvent(U.keyboardShortcut,{keyboardActionKey:o.key}),G.addAction("chatgpt_keyboard_shortcut",{keyboardActionKey:o.key})},{enabled:!0}),to=({resetThreadAction:a,clientThreadId:o}={})=>k.useMemo(()=>ao({resetThreadAction:a,clientThreadId:o}).filter(({enabled:n=!0})=>n),[o,a]),uo=({resetThreadAction:a,clientThreadId:o})=>{const t=to({resetThreadAction:a,clientThreadId:o});eo(t)};export{oo as G,to as a,co as g,uo as u};
//# sourceMappingURL=c1hyxnl6kpsjtl7u.js.map
