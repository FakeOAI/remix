import{F as He,r as i,j as e,W as B,c as K,X as T,Y as P,G as J,T as j,a4 as ie,v as se,E as re,cQ as I,aO as ve,aC as ce,V as xe,dz as Je,I as Ye,N as de,O as ue,cJ as Xe,h as Ze,a5 as en,J as nn}from"./hc9xxm00a3r3byem.js";import{G as E,H as an,I as ln,z as ze,J as sn,j as me,K as rn,L as ge,M as O,h as tn}from"./lyr64vj216kc7moh.js";import{b as on}from"./hmu1ot8fm4uszmig.js";import{s as cn}from"./eq9w2mijkl5gcncq.js";import{c as dn}from"./guykwp3ov0cliuel.js";import{i as X,aJ as un,M as mn,T as gn,E as yn}from"./ozzpumen10p6g0yq.js";import{u as fn}from"./cpyn50o38nwfhwhi.js";import{l as pn,g as kn,P as hn}from"./fi9p3eeu24b9vfd1.js";import{f as Se}from"./nbrfb6b5fqz7ea4t.js";import{S as H}from"./o65h1gsmgo0mfsrq.js";import{ah as Ge,as as vn,a as xn,au as zn,at as be,aK as Sn,a2 as Gn}from"./fga5qe14lr2llx8v.js";import{d as bn,G as Fn,a as Ln}from"./d86ggbbqvfoy1ksr.js";import{A as ye}from"./ss6ebzpmrb7u9y0k.js";import{G as Fe}from"./6tjupkkyx0z5k2fa.js";import{G as Le}from"./g8nlf109ai64grtj.js";import{b as te}from"./d6p9qwxebyx8lv0e.js";import{e as Dn}from"./ovjwzbtdrcsgos3a.js";import{m as fe}from"./h603pj0ovegt4tgz.js";function jn(a,n){if(a==="first")return 0;{const l=n-1;return a==="last"?l:l/2}}function Cn(a=.1,{startDelay:n=0,from:l=0,ease:s}={}){return(t,r)=>{const o=typeof l=="number"?l:jn(l,r),u=Math.abs(o-t);let g=a*u;if(s){const d=r*a;g=Dn(s)(g/d)*d}return n+g}}const De={kind:"InlineDataFragment",name:"GizmoDiscoverySearchResultFragment"};De.hash="f1079dddf3cead4b3a74620fbbbd6d9d";const je=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"skip"}],n=[{kind:"Literal",name:"first",value:3},{kind:"Literal",name:"id",value:"recent"}],l=[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"legacyId",storageKey:null},{alias:null,args:null,concreteType:"GizmoDisplay",kind:"LinkedField",name:"display",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profilePictureUrl",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"GizmoVanityMetrics",kind:"LinkedField",name:"vanityMetrics",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"numConversationsStr",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tags",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shortUrl",storageKey:null},{alias:null,args:null,concreteType:"GizmoAuthor",kind:"LinkedField",name:"author",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"linkTo",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"userId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"GizmoDiscoverySearchRecentQuery",selections:[{condition:"skip",kind:"Condition",passingValue:!1,selections:[{alias:null,args:n,concreteType:"GizmoDiscoveryCut",kind:"LinkedField",name:"gizmoDiscoveryCut",plural:!1,selections:[{alias:null,args:null,concreteType:"GizmoDiscoveryCutToGizmoConnection",kind:"LinkedField",name:"items",plural:!1,selections:[{alias:null,args:null,concreteType:"GizmoDiscoveryCutToGizmoEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Gizmo",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"GizmoDiscoverySearchResultFragment",selections:l,args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:'gizmoDiscoveryCut(first:3,id:"recent")'}]}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"GizmoDiscoverySearchRecentQuery",selections:[{condition:"skip",kind:"Condition",passingValue:!1,selections:[{alias:null,args:n,concreteType:"GizmoDiscoveryCut",kind:"LinkedField",name:"gizmoDiscoveryCut",plural:!1,selections:[{alias:null,args:null,concreteType:"GizmoDiscoveryCutToGizmoConnection",kind:"LinkedField",name:"items",plural:!1,selections:[{alias:null,args:null,concreteType:"GizmoDiscoveryCutToGizmoEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Gizmo",kind:"LinkedField",name:"node",plural:!1,selections:l,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:'gizmoDiscoveryCut(first:3,id:"recent")'}]}]},params:{cacheID:"e95b9a90b6a2230bc87b54ad9906e916",id:"8ec50d7747182d2845113037aaca7d8b90c8984df1967edc46b78be1cc194c79",metadata:{},name:"GizmoDiscoverySearchRecentQuery",operationKind:"query",text:`query GizmoDiscoverySearchRecentQuery(
  $skip: Boolean!
) {
  gizmoDiscoveryCut(id: "recent", first: 3) @skip(if: $skip) {
    items {
      edges {
        node {
          ...GizmoDiscoverySearchResultFragment
          id
        }
      }
    }
  }
}

fragment GizmoDiscoverySearchResultFragment on Gizmo {
  id
  legacyId
  display {
    name
    description
    profilePictureUrl
  }
  vanityMetrics {
    numConversationsStr
  }
  tags
  shortUrl
  author {
    displayName
    linkTo
    userId
  }
}
`}}}();je.hash="cd8dfafd3765a6c177f962cbd0a3032d";const Ce=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"q"},{defaultValue:null,kind:"LocalArgument",name:"skip"}],n=[{kind:"Variable",name:"q",variableName:"q"},{kind:"Literal",name:"workspaceOnly",value:!0}],l=[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"legacyId",storageKey:null},{alias:null,args:null,concreteType:"GizmoDisplay",kind:"LinkedField",name:"display",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profilePictureUrl",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"GizmoVanityMetrics",kind:"LinkedField",name:"vanityMetrics",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"numConversationsStr",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tags",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shortUrl",storageKey:null},{alias:null,args:null,concreteType:"GizmoAuthor",kind:"LinkedField",name:"author",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"linkTo",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"userId",storageKey:null}],storageKey:null}],s={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"GizmoDiscoverySearchWorkspaceOnlyQuery",selections:[{condition:"skip",kind:"Condition",passingValue:!1,selections:[{alias:null,args:n,concreteType:"GizmoSearchResultConnection",kind:"LinkedField",name:"gizmoSearch",plural:!1,selections:[{alias:null,args:null,concreteType:"GizmoSearchResultEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Gizmo",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"GizmoDiscoverySearchResultFragment",selections:l,args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null},s],storageKey:null}]}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"GizmoDiscoverySearchWorkspaceOnlyQuery",selections:[{condition:"skip",kind:"Condition",passingValue:!1,selections:[{alias:null,args:n,concreteType:"GizmoSearchResultConnection",kind:"LinkedField",name:"gizmoSearch",plural:!1,selections:[{alias:null,args:null,concreteType:"GizmoSearchResultEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Gizmo",kind:"LinkedField",name:"node",plural:!1,selections:l,storageKey:null}],storageKey:null},s],storageKey:null}]}]},params:{cacheID:"83e5dcb21aa71a0b6f7cac4afa2c868e",id:"3a5e9c35db88b5a1f36dfd30317fb3d4bc7ab1fea18fc2ccfcf8488e3b8fdf0c",metadata:{},name:"GizmoDiscoverySearchWorkspaceOnlyQuery",operationKind:"query",text:`query GizmoDiscoverySearchWorkspaceOnlyQuery(
  $q: String!
  $skip: Boolean!
) {
  gizmoSearch(q: $q, workspaceOnly: true) @skip(if: $skip) {
    edges {
      node {
        ...GizmoDiscoverySearchResultFragment
        id
      }
    }
    pageInfo {
      endCursor
    }
  }
}

fragment GizmoDiscoverySearchResultFragment on Gizmo {
  id
  legacyId
  display {
    name
    description
    profilePictureUrl
  }
  vanityMetrics {
    numConversationsStr
  }
  tags
  shortUrl
  author {
    displayName
    linkTo
    userId
  }
}
`}}}();Ce.hash="9b0252d2089c7325c26e7cba0ac166b8";const Ke=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"q"},{defaultValue:null,kind:"LocalArgument",name:"skip"}],n=[{kind:"Variable",name:"q",variableName:"q"}],l=[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"legacyId",storageKey:null},{alias:null,args:null,concreteType:"GizmoDisplay",kind:"LinkedField",name:"display",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profilePictureUrl",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"GizmoVanityMetrics",kind:"LinkedField",name:"vanityMetrics",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"numConversationsStr",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tags",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shortUrl",storageKey:null},{alias:null,args:null,concreteType:"GizmoAuthor",kind:"LinkedField",name:"author",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"linkTo",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"userId",storageKey:null}],storageKey:null}],s={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"GizmoDiscoverySearchQuery",selections:[{condition:"skip",kind:"Condition",passingValue:!1,selections:[{alias:null,args:n,concreteType:"GizmoSearchResultConnection",kind:"LinkedField",name:"gizmoSearch",plural:!1,selections:[{alias:null,args:null,concreteType:"GizmoSearchResultEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Gizmo",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"GizmoDiscoverySearchResultFragment",selections:l,args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null},s],storageKey:null}]}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"GizmoDiscoverySearchQuery",selections:[{condition:"skip",kind:"Condition",passingValue:!1,selections:[{alias:null,args:n,concreteType:"GizmoSearchResultConnection",kind:"LinkedField",name:"gizmoSearch",plural:!1,selections:[{alias:null,args:null,concreteType:"GizmoSearchResultEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Gizmo",kind:"LinkedField",name:"node",plural:!1,selections:l,storageKey:null}],storageKey:null},s],storageKey:null}]}]},params:{cacheID:"4072e50358c9a36b0520aa8f19d109ea",id:"a729daad0c7f7a7f438e19b21729a3cb6a6ab244a5e6faef10a995aa960f828a",metadata:{},name:"GizmoDiscoverySearchQuery",operationKind:"query",text:`query GizmoDiscoverySearchQuery(
  $q: String!
  $skip: Boolean!
) {
  gizmoSearch(q: $q) @skip(if: $skip) {
    edges {
      node {
        ...GizmoDiscoverySearchResultFragment
        id
      }
    }
    pageInfo {
      endCursor
    }
  }
}

fragment GizmoDiscoverySearchResultFragment on Gizmo {
  id
  legacyId
  display {
    name
    description
    profilePictureUrl
  }
  vanityMetrics {
    numConversationsStr
  }
  tags
  shortUrl
  author {
    displayName
    linkTo
    userId
  }
}
`}}}();Ke.hash="ecc53fe4da40d180a6679828a01fbe62";const Te=function(){var a={defaultValue:null,kind:"LocalArgument",name:"after"},n={defaultValue:null,kind:"LocalArgument",name:"first"},l={defaultValue:null,kind:"LocalArgument",name:"id"},s={defaultValue:null,kind:"LocalArgument",name:"locale"},t=[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"id",variableName:"id"},{kind:"Variable",name:"locale",variableName:"locale"}],r=[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"legacyId",storageKey:null},{alias:null,args:null,concreteType:"GizmoDisplay",kind:"LinkedField",name:"display",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profilePictureUrl",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"GizmoVanityMetrics",kind:"LinkedField",name:"vanityMetrics",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"numConversationsStr",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tags",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shortUrl",storageKey:null},{alias:null,args:null,concreteType:"GizmoAuthor",kind:"LinkedField",name:"author",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"linkTo",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"userId",storageKey:null}],storageKey:null}],o={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[a,n,l,s],kind:"Fragment",metadata:null,name:"GizmoDiscoveryCutLoadMoreQuery",selections:[{alias:null,args:t,concreteType:"GizmoDiscoveryCut",kind:"LinkedField",name:"gizmoDiscoveryCut",plural:!1,selections:[{alias:null,args:null,concreteType:"GizmoDiscoveryCutToGizmoConnection",kind:"LinkedField",name:"items",plural:!1,selections:[{alias:null,args:null,concreteType:"GizmoDiscoveryCutToGizmoEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Gizmo",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"GizmoDiscoveryLandingFragment",selections:r,args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null},o],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[l,s,n,a],kind:"Operation",name:"GizmoDiscoveryCutLoadMoreQuery",selections:[{alias:null,args:t,concreteType:"GizmoDiscoveryCut",kind:"LinkedField",name:"gizmoDiscoveryCut",plural:!1,selections:[{alias:null,args:null,concreteType:"GizmoDiscoveryCutToGizmoConnection",kind:"LinkedField",name:"items",plural:!1,selections:[{alias:null,args:null,concreteType:"GizmoDiscoveryCutToGizmoEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Gizmo",kind:"LinkedField",name:"node",plural:!1,selections:r,storageKey:null}],storageKey:null},o],storageKey:null}],storageKey:null}]},params:{cacheID:"36d68b449a76cd91a0c163ca704bfe71",id:"183f687bb51f2ee7e120e663d4b489dd6ac9eb62a73368352ff4022be136f08b",metadata:{},name:"GizmoDiscoveryCutLoadMoreQuery",operationKind:"query",text:`query GizmoDiscoveryCutLoadMoreQuery(
  $id: String!
  $locale: GizmoCategoryLocale
  $first: Int!
  $after: Cursor
) {
  gizmoDiscoveryCut(id: $id, first: $first, after: $after, locale: $locale) {
    items {
      edges {
        node {
          ...GizmoDiscoveryLandingFragment
          id
        }
      }
      pageInfo {
        endCursor
        hasNextPage
      }
    }
  }
}

fragment GizmoDiscoveryLandingFragment on Gizmo {
  id
  legacyId
  display {
    name
    description
    profilePictureUrl
  }
  vanityMetrics {
    numConversationsStr
  }
  tags
  shortUrl
  author {
    displayName
    linkTo
    userId
  }
}
`}}}();Te.hash="5a6cf482526687b7abccf6a708796da5";const Ne={kind:"InlineDataFragment",name:"GizmoDiscoveryLandingFragment"};Ne.hash="481cc035f04fcf6c9178d83416b7fbf9";const we={kind:"InlineDataFragment",name:"GizmoDiscoveryCutFragment"};we.hash="fdc786e0e8d5e95c726dada0fa923ec5";const Ee=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"skip"}],n={alias:null,args:null,kind:"ScalarField",name:"locale",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},t={alias:null,args:null,concreteType:"GizmoDiscoveryCutInfo",kind:"LinkedField",name:"info",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"displayGroup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"displayType",storageKey:null},n],storageKey:null},r={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null}],storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},u=[l,{alias:null,args:null,kind:"ScalarField",name:"legacyId",storageKey:null},{alias:null,args:null,concreteType:"GizmoDisplay",kind:"LinkedField",name:"display",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"profilePictureUrl",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"GizmoVanityMetrics",kind:"LinkedField",name:"vanityMetrics",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"numConversationsStr",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tags",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shortUrl",storageKey:null},{alias:null,args:null,concreteType:"GizmoAuthor",kind:"LinkedField",name:"author",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"linkTo",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"userId",storageKey:null}],storageKey:null}],g={alias:null,args:null,kind:"ScalarField",name:"workspaceFiltered",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"GizmoDiscoveryLandingForViewerQuery",selections:[{condition:"skip",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"GizmoDiscoveryLandingForViewer",kind:"LinkedField",name:"gizmoDiscoveryForViewer",plural:!1,selections:[n,{alias:null,args:null,concreteType:"GizmoDiscoveryCut",kind:"LinkedField",name:"cuts",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"GizmoDiscoveryCutFragment",selections:[t,{alias:null,args:null,concreteType:"GizmoDiscoveryCutToGizmoConnection",kind:"LinkedField",name:"items",plural:!1,selections:[r,{alias:null,args:null,concreteType:"GizmoDiscoveryCutToGizmoEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[o,{alias:null,args:null,concreteType:"Gizmo",kind:"LinkedField",name:"node",plural:!1,selections:[l,{kind:"InlineDataFragmentSpread",name:"GizmoDiscoveryLandingFragment",selections:u,args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],storageKey:null}],args:null,argumentDefinitions:[]}],storageKey:null},g],storageKey:null}]}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"GizmoDiscoveryLandingForViewerQuery",selections:[{condition:"skip",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"GizmoDiscoveryLandingForViewer",kind:"LinkedField",name:"gizmoDiscoveryForViewer",plural:!1,selections:[n,{alias:null,args:null,concreteType:"GizmoDiscoveryCut",kind:"LinkedField",name:"cuts",plural:!0,selections:[t,{alias:null,args:null,concreteType:"GizmoDiscoveryCutToGizmoConnection",kind:"LinkedField",name:"items",plural:!1,selections:[r,{alias:null,args:null,concreteType:"GizmoDiscoveryCutToGizmoEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[o,{alias:null,args:null,concreteType:"Gizmo",kind:"LinkedField",name:"node",plural:!1,selections:u,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},g],storageKey:null}]}]},params:{cacheID:"23015c9c007ae8898b1d1c7505dbf071",id:"ea61cceff43f62cd3e43106f5ddc9037d6ee4784fd66a9df29312554db87bbc2",metadata:{},name:"GizmoDiscoveryLandingForViewerQuery",operationKind:"query",text:`query GizmoDiscoveryLandingForViewerQuery(
  $skip: Boolean!
) {
  gizmoDiscoveryForViewer @skip(if: $skip) {
    locale
    cuts {
      ...GizmoDiscoveryCutFragment
    }
    workspaceFiltered
  }
}

fragment GizmoDiscoveryCutFragment on GizmoDiscoveryCut {
  info {
    id
    displayGroup
    title
    description
    displayType
    locale
  }
  items {
    pageInfo {
      startCursor
      endCursor
      hasNextPage
      hasPreviousPage
    }
    edges {
      cursor
      node {
        id
        ...GizmoDiscoveryLandingFragment
      }
    }
  }
}

fragment GizmoDiscoveryLandingFragment on Gizmo {
  id
  legacyId
  display {
    name
    description
    profilePictureUrl
  }
  vanityMetrics {
    numConversationsStr
  }
  tags
  shortUrl
  author {
    displayName
    linkTo
    userId
  }
}
`}}}();Ee.hash="17404783875f8625eac8cdae0fafb9b7";const Ie=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"skip"}],n={alias:null,args:null,kind:"ScalarField",name:"locale",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},t={alias:null,args:null,concreteType:"GizmoDiscoveryCutInfo",kind:"LinkedField",name:"info",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"displayGroup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"displayType",storageKey:null},n],storageKey:null},r={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null}],storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},u=[l,{alias:null,args:null,kind:"ScalarField",name:"legacyId",storageKey:null},{alias:null,args:null,concreteType:"GizmoDisplay",kind:"LinkedField",name:"display",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"profilePictureUrl",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"GizmoVanityMetrics",kind:"LinkedField",name:"vanityMetrics",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"numConversationsStr",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tags",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shortUrl",storageKey:null},{alias:null,args:null,concreteType:"GizmoAuthor",kind:"LinkedField",name:"author",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"linkTo",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"userId",storageKey:null}],storageKey:null}],g={alias:null,args:null,kind:"ScalarField",name:"workspaceFiltered",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"GizmoDiscoveryLandingQuery",selections:[{condition:"skip",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"GizmoDiscoveryLanding",kind:"LinkedField",name:"gizmoDiscovery",plural:!1,selections:[n,{alias:null,args:null,concreteType:"GizmoDiscoveryCut",kind:"LinkedField",name:"cuts",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"GizmoDiscoveryCutFragment",selections:[t,{alias:null,args:null,concreteType:"GizmoDiscoveryCutToGizmoConnection",kind:"LinkedField",name:"items",plural:!1,selections:[r,{alias:null,args:null,concreteType:"GizmoDiscoveryCutToGizmoEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[o,{alias:null,args:null,concreteType:"Gizmo",kind:"LinkedField",name:"node",plural:!1,selections:[l,{kind:"InlineDataFragmentSpread",name:"GizmoDiscoveryLandingFragment",selections:u,args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],storageKey:null}],args:null,argumentDefinitions:[]}],storageKey:null},g],storageKey:null}]}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"GizmoDiscoveryLandingQuery",selections:[{condition:"skip",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"GizmoDiscoveryLanding",kind:"LinkedField",name:"gizmoDiscovery",plural:!1,selections:[n,{alias:null,args:null,concreteType:"GizmoDiscoveryCut",kind:"LinkedField",name:"cuts",plural:!0,selections:[t,{alias:null,args:null,concreteType:"GizmoDiscoveryCutToGizmoConnection",kind:"LinkedField",name:"items",plural:!1,selections:[r,{alias:null,args:null,concreteType:"GizmoDiscoveryCutToGizmoEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[o,{alias:null,args:null,concreteType:"Gizmo",kind:"LinkedField",name:"node",plural:!1,selections:u,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},g],storageKey:null}]}]},params:{cacheID:"eb70cae73c61fdf9b0e22e628281cb01",id:"61717afe8e2e87eb8384313c6aeb667029db6128bb66c1ac25c832375709e25e",metadata:{},name:"GizmoDiscoveryLandingQuery",operationKind:"query",text:`query GizmoDiscoveryLandingQuery(
  $skip: Boolean!
) {
  gizmoDiscovery @skip(if: $skip) {
    locale
    cuts {
      ...GizmoDiscoveryCutFragment
    }
    workspaceFiltered
  }
}

fragment GizmoDiscoveryCutFragment on GizmoDiscoveryCut {
  info {
    id
    displayGroup
    title
    description
    displayType
    locale
  }
  items {
    pageInfo {
      startCursor
      endCursor
      hasNextPage
      hasPreviousPage
    }
    edges {
      cursor
      node {
        id
        ...GizmoDiscoveryLandingFragment
      }
    }
  }
}

fragment GizmoDiscoveryLandingFragment on Gizmo {
  id
  legacyId
  display {
    name
    description
    profilePictureUrl
  }
  vanityMetrics {
    numConversationsStr
  }
  tags
  shortUrl
  author {
    displayName
    linkTo
    userId
  }
}
`}}}();Ie.hash="3cadd0873e6a4e54be7e78d26a0fea45";const Pe=He.div`grid grid-cols-1 gap-x-1.5 gap-y-1 md:gap-x-2 md:gap-y-1.5 lg:grid-cols-2 lg:gap-x-3 lg:gap-y-2.5`,pe="gpt_store";function Kn(a,n){n.scrollLeft>a.offsetLeft?n.scrollBy({left:a.offsetLeft-n.scrollLeft-20,behavior:"smooth"}):n.scrollLeft+n.clientWidth<a.offsetLeft+a.clientWidth&&n.scrollBy({left:a.offsetLeft+a.clientWidth-n.clientWidth-n.scrollLeft+20,behavior:"smooth"})}function oe({gizmo:a,children:n,onClick:l,onModalOpen:s,onModalClose:t,selectOnly:r,className:o}){const u=re("1825130190").value,[g,d]=i.useState(!1);return r?e.jsx("a",{className:K("gizmo-link cursor-pointer",o),href:"#",onClick:m=>{m.preventDefault(),l==null||l(m)},children:n}):u?e.jsxs(e.Fragment,{children:[g&&e.jsx(Fn,{gizmoId:a.gizmo.id,creatorId:a.gizmo.author.user_id,onClose:()=>{d(!1),t==null||t()},children:e.jsx(Ln,{as:"link",to:me(a)})}),e.jsx("a",{className:K("gizmo-link cursor-pointer",o),href:"#",onClick:m=>{m.preventDefault(),l==null||l(m),d(!0),s==null||s()},children:n})]}):e.jsx(xe,{href:me(a),className:K("gizmo-link",o),target:"_blank",onClick:l,children:n})}const Me=Ie,Re=Ee,Tn=we,Nn=Ne,wn=Te;function pa({anon:a}){var v,x;const[n,l]=i.useState(()=>de.getItem(ue.GizmoDiscoveryLocale)),s=F=>{l(F),de.setItem(ue.GizmoDiscoveryLocale,F)},t=se(),[r,o]=i.useState(!1),u=t!=null&&t.isOwnerOfAccount()&&!r?B.OWNER:B.STANDARD,g=(v=re("4006408854"))==null?void 0:v.value,d=(x=se())==null?void 0:x.isWorkspaceAccount(),m=g&&!d,p=g&&d,[k,c]=I.useQueryLoader(Me),[y,h]=I.useQueryLoader(Re);return i.useEffect(()=>{c({skip:!m}),h({skip:!p})},[c,h,p,m]),e.jsxs(e.Fragment,{children:[g&&e.jsxs(i.Suspense,{fallback:e.jsx(le,{}),children:[k&&m&&e.jsx(In,{anon:a,queryReference:k,effectiveRole:u,requestedLocale:n,setPretendStandardUser:o,setLocale:s}),y&&p&&e.jsx(Pn,{anon:a,queryReference:y,effectiveRole:u,requestedLocale:n,setPretendStandardUser:o,setLocale:s})]}),!g&&e.jsx(Mn,{anon:a,currAccount:t,requestedLocale:n,effectiveRole:u,setPretendStandardUser:o,setLocale:s})]})}function En({cutId:a,locale:n,limit:l,cursor:s,enabled:t}){const r=x=>{switch(x){case O.ENGLISH:return"EN";case O.GLOBAL:return"GLOBAL";default:return}},[o,u]=i.useState([]),[g,d]=i.useState(s),[m,p]=i.useState(t??!1),[k,c]=i.useState(!1),[y]=i.useState(!1),h=I.useRelayEnvironment(),v=i.useCallback(async()=>{var F,z,L,f,D,N,w;c(!0);const x=await I.fetchQuery_DEPRECATED(h,wn,{id:a,locale:r(n),first:l,after:g});if(c(!1),x){p(((z=(F=x.gizmoDiscoveryCut)==null?void 0:F.items)==null?void 0:z.pageInfo.hasNextPage)??!1);const S=X((D=(f=(L=x.gizmoDiscoveryCut)==null?void 0:L.items)==null?void 0:f.edges)==null?void 0:D.map(G=>Ae((G==null?void 0:G.node)??null)));u(G=>[...G,...S]),d((w=(N=x.gizmoDiscoveryCut)==null?void 0:N.items)==null?void 0:w.pageInfo.endCursor)}},[g,a,n,h,l,d]);return{data:o,hasNextPage:m,fetchNextPage:v,isFetchingNextPage:k,isError:y}}function Ae(a){var s,t,r,o,u;if(!a)return null;const n=I.readInlineData(Nn,a);return{gizmo:{id:n.legacyId,author:{display_name:((s=n.author)==null?void 0:s.displayName)??null,link_to:((t=n.author)==null?void 0:t.linkTo)??null,user_id:(r=n.author)==null?void 0:r.userId},display:{name:n.display.name,description:n.display.description??null,profile_picture_url:n.display.profilePictureUrl??null},vanity_metrics:{num_conversations_str:((o=n.vanityMetrics)==null?void 0:o.numConversationsStr)??void 0},tags:((u=n.tags)==null?void 0:u.map(qe))??null,short_url:n.shortUrl}}}function In({anon:a,queryReference:n,requestedLocale:l,effectiveRole:s,setPretendStandardUser:t,setLocale:r}){const o=I.usePreloadedQuery(Me,n);return e.jsx(Ve,{anon:a,data:o.gizmoDiscovery,requestedLocale:l,effectiveRole:s,setPretendStandardUser:t,setLocale:r})}function Pn({anon:a,queryReference:n,requestedLocale:l,effectiveRole:s,setPretendStandardUser:t,setLocale:r}){const o=I.usePreloadedQuery(Re,n);return e.jsx(Ve,{anon:a,data:o.gizmoDiscoveryForViewer,requestedLocale:l,effectiveRole:s,setPretendStandardUser:t,setLocale:r})}function Ve({anon:a,data:n,requestedLocale:l,effectiveRole:s,setPretendStandardUser:t,setLocale:r}){const[o,u]=i.useState(!0),[g]=i.useState(!1),[d,m]=i.useState(void 0),p=c=>{switch(c){case"EN":return O.ENGLISH;case"GLOBAL":return O.GLOBAL;default:return O.ENGLISH}},k=c=>{switch(c){case"FEATURED":return"featured";case"RANKED":return"ranked";default:return"none"}};return i.useEffect(()=>{if(n){u(!1);const c={locale:p(n==null?void 0:n.locale),workspace_filtered:(n==null?void 0:n.workspaceFiltered)??!1,cuts:((n==null?void 0:n.cuts)??[]).map(y=>{var v,x,F;const h=I.readInlineData(Tn,y);return{info:{id:h.info.id,title:h.info.title??void 0,description:h.info.description??void 0,display_type:k(h.info.displayType),display_group:h.info.displayGroup??void 0,locale:p(h.info.locale)},list:{items:X((x=(v=h.items)==null?void 0:v.edges)==null?void 0:x.map(z=>Ae((z==null?void 0:z.node)??null))),cursor:(F=h.items)==null?void 0:F.pageInfo.endCursor}}})};m(c)}},[n]),e.jsx(Qe,{anon:a,discoveryLanding:d,isLoading:o,isError:g,effectiveRole:s,setPretendStandardUser:t,requestedLocale:l,setLocale:r,useFetchMoreQuery:En})}function Mn({anon:a,currAccount:n,requestedLocale:l,effectiveRole:s,setPretendStandardUser:t,setLocale:r}){const[o,u]=i.useState(void 0),g=!!a||(n==null?void 0:n.isPersonalAccount())&&!0,{data:d,isLoading:m,isError:p}=rn(l,g);i.useEffect(()=>{d&&u({locale:d.locale,workspace_filtered:d.workspace_filtered,cuts:d.cuts.map(c=>({info:c.info,list:{items:c.list.items.map(y=>y.resource),cursor:c.list.cursor}}))})},[d]);const k=(...c)=>{var h;const y=ze(...c);return{...y,data:((h=y.data)==null?void 0:h.pages.flatMap(v=>v.list.items.map(x=>x.resource)))??[]}};return e.jsx(Qe,{anon:a,discoveryLanding:o,isLoading:m,isError:p,effectiveRole:s,setPretendStandardUser:t,requestedLocale:l,setLocale:r,useFetchMoreQuery:k})}function Qe({anon:a,discoveryLanding:n,isLoading:l,isError:s,effectiveRole:t,setPretendStandardUser:r,requestedLocale:o,setLocale:u,useFetchMoreQuery:g}){const d=se(),m=(n==null?void 0:n.locale)??o,p=i.useRef({}),[k,c]=i.useState({}),y=i.useMemo(()=>fn(X(n==null?void 0:n.cuts.map(f=>({id:f.info.id,name:f.info.display_group}))),"name"),[n]),h=i.useRef(null),v=y.find(f=>k[f.id])??y[0];i.useEffect(()=>{const f=p.current,D=new IntersectionObserver(N=>{N.forEach(w=>{for(const S of y){const G=f[S.id];G!=null&&w.target===G&&c($=>({...$,[S.id]:w.isIntersecting}))}})},{root:null,rootMargin:"-96px",threshold:.1});return Object.values(f).forEach(N=>{N!=null&&D.observe(N)}),()=>{Object.values(f).forEach(N=>{N!=null&&D.unobserve(N)})}},[p,y]);const x=i.useRef(null),F=i.useRef(null),[z,L]=i.useState(0);return i.useEffect(()=>{const f=F.current,D=()=>{f!=null&&L(f.scrollTop)};return f==null||f.addEventListener("scroll",D),window.addEventListener("resize",D),D(),()=>{f==null||f.removeEventListener("scroll",D),window.removeEventListener("resize",D)}},[F,L]),l||s?e.jsxs(e.Fragment,{children:[a?e.jsx(ye,{redirectUrl:ge(),className:"sticky top-0 z-30 h-14 bg-token-main-surface-primary"}):e.jsx(ke,{locale:m,setLocale:u,currAccount:d}),e.jsx("div",{className:"flex h-full w-full items-center justify-center",children:s?e.jsx(un,{type:"danger",children:e.jsx(j,{...b.discoveryError})}):e.jsx(ve,{})})]}):e.jsxs("div",{ref:F,className:"h-full overflow-y-auto",children:[a?e.jsx(ye,{redirectUrl:ge(),className:"sticky top-0 z-30 h-14 bg-token-main-surface-primary"}):e.jsxs(e.Fragment,{children:[(d==null?void 0:d.isWorkspaceAccount())&&e.jsx(Qn,{role:t,onPretendStandardUser:f=>{r(f)}}),e.jsx(ke,{pageSearchRef:x,locale:m,setLocale:u,currAccount:d})]}),e.jsxs("div",{className:"mx-auto max-w-3xl overflow-x-clip px-4",children:[e.jsx(Rn,{}),!a&&e.jsx(We,{ref:x,className:"z-20 mb-6 mt-2 flex-grow shadow-[0px_10px_10px_-6px_rgba(0,0,0,0.04)]",inputClassName:"md:h-14 h-12 text-base pl-12",iconClassName:"left-5",resultsSizeOffset:Math.min(z-260,-110)}),y.length>1&&e.jsx(An,{displayGroups:y,currentDisplayGroup:v,scrollToDisplayGroup:f=>{(p.current[f.id]??h.current).scrollIntoView({behavior:"smooth",block:"start"})}}),e.jsx("div",{ref:h,className:"scroll-mt-28"}),(n==null?void 0:n.cuts.map(f=>f.info.display_type==="featured"?e.jsx(Un,{info:f.info,items:f.list.items,ref:D=>{D!=null&&(p.current[f.info.id]=D)},effectiveRole:t},f.info.id):e.jsx(Wn,{info:f.info,items:f.list.items,cursor:f.list.cursor??void 0,ref:D=>{D!=null&&(p.current[f.info.id]=D)},anon:a,effectiveRole:t,useFetchMoreQuery:g},f.info.id)))??[]]}),(n==null?void 0:n.workspace_filtered)&&!(d!=null&&d.isOwnerOfAccount())&&e.jsx(Vn,{})]})}function Rn(){return e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"my-2 text-center text-3xl font-bold md:my-4 md:text-5xl",children:e.jsx(j,{...b.discoverySplashHeader})}),e.jsx("div",{className:"mx-auto w-full text-center text-sm text-token-text-secondary md:text-lg md:leading-tight",children:e.jsx(j,{...b.discoverySplashDescription})})]})}function An({displayGroups:a,currentDisplayGroup:n,scrollToDisplayGroup:l}){const s=i.useRef(null),t=ie(),r=(...c)=>t.formatMessage(...c),o=i.useRef({}),[u,g]=i.useState(!1);i.useEffect(()=>{if(u||n==null)return;const y=o.current[n.id];if(y==null)return;const h=s.current;h!=null&&Kn(y,h)},[n,u]);const[d,m]=i.useState(!1),[p,k]=i.useState(!1);return i.useEffect(()=>{const c=s.current,y=()=>{c!=null&&(m(c.scrollLeft>0),k(c.scrollLeft+c.clientWidth<c.scrollWidth))};return c==null||c.addEventListener("scroll",y),window.addEventListener("resize",y),y(),()=>{c==null||c.removeEventListener("scroll",y),window.removeEventListener("resize",y)}},[s]),e.jsxs("div",{className:"sticky top-14 z-10 -ml-4 mb-12 w-screen bg-token-main-surface-primary py-2 text-sm md:ml-0 md:w-full md:pb-0",children:[d&&e.jsx("div",{className:"absolute left-0 top-2 hidden h-full items-end bg-gradient-to-r from-white from-50% to-transparent pr-8 dark:from-gray-800 md:block",children:e.jsx("button",{className:"mt-2 rounded-full bg-gray-100 p-1 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-white/20",onClick:()=>{s.current!=null&&s.current.scrollBy({left:-400,behavior:"smooth"})},children:e.jsx(xn,{className:"icon-sm"})})}),e.jsx("div",{className:"no-scrollbar flex scroll-m-5 gap-1.5 overflow-x-auto md:overflow-hidden",ref:s,children:a.map(c=>e.jsx("div",{className:K("cursor-pointer scroll-mx-5 whitespace-nowrap rounded-3xl px-3 py-2 first:ml-4 last:mr-4 md:px-2 md:first:ml-0 md:last:mr-0",c.id===(n==null?void 0:n.id)?"border-token-text-primary bg-black text-token-main-surface-primary dark:bg-gray-100 md:rounded-none md:border-b-2 md:bg-transparent md:text-token-text-primary dark:md:bg-transparent":"bg-token-main-surface-secondary hover:bg-gray-100 hover:text-token-text-primary dark:hover:bg-white/20 md:rounded-lg md:bg-transparent md:text-token-text-tertiary md:hover:bg-gray-50 dark:md:bg-transparent dark:md:hover:bg-gray-700"),onClick:()=>{g(!0),l(c),setTimeout(()=>{g(!1)},1e3),T.logEvent(P.storeClickCategory,{category:c.id})},ref:y=>{y!=null&&(o.current[c.id]=y)},children:r({id:`gizmo.categoryName.${c.name}`,defaultMessage:c.name,description:"store category"})},c.id))}),p&&e.jsx("div",{className:"absolute right-0 top-2 hidden h-full bg-gradient-to-l from-white from-50% to-transparent pl-8 dark:from-gray-800 md:block",children:e.jsx("button",{className:"mt-2 rounded-full bg-gray-100 p-1 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-white/10",onClick:()=>{s.current!=null&&s.current.scrollBy({left:400,behavior:"smooth"})},children:e.jsx(zn,{className:"icon-sm"})})})]})}function Vn(){const a=ie(),n=Se(),l=dn();return e.jsxs("div",{className:K("fixed bottom-0 flex w-full items-center justify-center gap-2 bg-token-main-surface-secondary p-3 text-sm text-token-text-secondary",!l&&"md:w-[calc(100%-16rem)]"),children:[e.jsx(be,{className:"icon-sm"}),a.formatMessage(b.discoveryThirdPartyGPTsDisabled,{workspaceName:n})]})}function Qn({role:a,onPretendStandardUser:n}){const l=ie();return Xe()?e.jsxs("div",{className:"h-52px flex w-full items-center justify-center gap-2 bg-gray-100 p-3 text-sm dark:bg-gray-700",children:[e.jsx(be,{className:"icon-sm"}),e.jsx(j,{id:"gizmo.discovery.browsingAsOwner",defaultMessage:"You're viewing as a <b>workspace member</b>",values:{b:t=>e.jsxs(H.Root,{defaultValue:a,onValueChange:r=>{n(r===B.STANDARD)},children:[e.jsxs(H.Trigger,{className:"-mx-2 -my-2 bg-transparent px-1 font-semibold",children:[e.jsx(mn,{disabled:a!==B.OWNER,label:l.formatMessage({id:"gizmo.discovery.browsingAsOwnerTooltip",defaultMessage:"Owners can access all third-party GPTs, even if they haven’t been approved."}),side:"bottom",children:e.jsx(H.Value,{})}),e.jsx(H.Icon,{})]}),e.jsx(H.Portal,{children:e.jsxs(H.Content,{children:[e.jsx(H.Item,{value:B.OWNER,children:e.jsx(j,{id:"gizmo.discovery.browsingOwnerRole",defaultMessage:"workspace owner"})}),e.jsx(H.Item,{value:B.STANDARD,children:e.jsx(j,{id:"gizmo.discovery.browsingMemberRole",defaultMessage:"workspace member"})})]})})]})}})]}):null}function ke({pageSearchRef:a,locale:n,setLocale:l,currAccount:s}){const t=tn(),r=Ze(),o=ie(),u=en(),[g,d]=i.useState(!1),[m,p]=i.useState(!1);i.useEffect(()=>{if(a==null||typeof a=="function"){d(!1);return}const c=a==null?void 0:a.current,y=new IntersectionObserver(h=>{h.forEach(v=>{v.target===c&&d(!v.isIntersecting)})},{root:null,rootMargin:"20px",threshold:.5});return c!=null&&y.observe(c),()=>{c!=null&&y.unobserve(c)}},[a]);const k=s==null?void 0:s.canCreateGizmos();return e.jsx(e.Fragment,{children:e.jsxs(on,{className:"z-30 mx-auto flex w-full justify-center gap-2 whitespace-nowrap pt-[1.125rem]",children:[e.jsxs("div",{className:K("w-[calc((100%-768px)/2)] min-w-fit items-center",m?"hidden lg:flex":"flex"),children:[e.jsx(kn,{}),e.jsx(gn,{side:"right",label:n===O.GLOBAL?o.formatMessage(b.discoveryGlobalViewOn):o.formatMessage(b.discoveryGlobalViewOff),children:e.jsx(J,{color:"ghost",onClick:()=>{n===O.GLOBAL?l(O.ENGLISH):l(O.GLOBAL)},children:e.jsx(Sn,{className:K("icon-sm",n===O.GLOBAL?"text-token-text-primary":"text-token-text-tertiary")})})})]}),e.jsx(We,{className:"max-w-3xl flex-grow",inputClassName:K("h-10 text-sm pl-9",!g&&"hidden"),iconClassName:"left-4",open:m,setOpen:p,resultsSizeOffset:-90,placeholder:u?o.formatMessage(b.discoverySearch):o.formatMessage(b.discoverySearchSmall)}),e.jsxs("div",{className:K("w-[calc((100%-768px)/2)] min-w-fit justify-end gap-2",m?"hidden lg:flex":"flex"),children:[k&&e.jsx(J,{color:"ghost",onClick:()=>{r.push("/gpts/mine",void 0,{shallow:!0}),T.logEvent(P.storeMyGizmos)},children:e.jsx(j,{...b.discoveryMyGPTs})}),e.jsx(_n,{canCreateGizmos:k,createUrl:t})]}),e.jsx(hn,{})]})})}const _n=({canCreateGizmos:a,createUrl:n})=>{const[l,s]=i.useState(!1),t=i.useRef(),r=yn(),o=se(),u=(o==null?void 0:o.planType)??"unknown",g="create_gpt",d=()=>{a||(T.logPopoverHover({location:pe,type:g,plan_type:u}),clearTimeout(t.current),s(!0))},m=()=>{a||(t.current=r(function(){s(!1)},300))},p=nn(),k=()=>{T.logUpsellGetPlusButtonClicked({location:pe,type:g,plan_type:u}),cn(p,"Gizmo Discovery page upsell")},c=a?()=>T.logEvent(P.storeCreateGizmo):y=>y.preventDefault();return e.jsxs("div",{onMouseEnter:d,onMouseLeave:m,className:"relative",children:[e.jsx(J,{color:"primary",disabled:!a,visuallyDisabled:!a,onClick:c,as:"link",to:n,icon:Gn,children:e.jsx(j,{...b.discoveryCreateGPT})}),!a&&l&&e.jsxs("div",{className:"absolute right-0 z-10 mt-2 w-64 rounded-lg border border-token-border-light bg-token-main-surface-primary p-3 text-sm shadow-lg",children:[e.jsx("p",{className:"mb-2 whitespace-normal break-words from-token-text-tertiary text-left font-normal",children:e.jsx(j,{...b.createGPTUpsell})}),e.jsx(J,{color:"secondary",onClick:k,size:"small",children:e.jsx(j,{...b.createGPTUpsellButtonLabel})})]})]})},Un=i.forwardRef(function({info:n,items:l,effectiveRole:s},t){return e.jsx($e,{title:n.title,description:n.description,ref:t,children:e.jsx(Pe,{children:l.map((r,o)=>e.jsx(On,{resource:r,effectiveRole:s},`${o}-${r.gizmo.id}`))})})});function On({resource:a,effectiveRole:n}){var t,r,o;const l=(t=a.gizmo.vanity_metrics)==null?void 0:t.num_conversations_str,s=((r=a.gizmo.tags)==null?void 0:r.includes(E.WorkspaceDisabled))&&n!==B.OWNER;return e.jsx(te,{children:e.jsxs(oe,{gizmo:a,className:K("group flex h-24 items-center gap-5 overflow-hidden rounded-xl bg-gray-50 px-7 py-8 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-white/10 md:h-32 lg:h-36",s&&"opacity-50 hover:opacity-100"),onClick:()=>{T.logEvent(P.storeClickGizmo,{gizmo_id:a.gizmo.id,section:"featured"})},children:[e.jsx(Le,{isFirstParty:!!((o=a.gizmo.tags)!=null&&o.includes(E.FirstParty)),src:a.gizmo.display.profile_picture_url??void 0,className:K("h-16 w-16 flex-shrink-0 md:h-24 md:w-24",s&&"grayscale group-hover:grayscale-0")}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"line-clamp-2 font-semibold md:text-lg",children:a.gizmo.display.name}),e.jsx("span",{className:"line-clamp-2 text-xs md:line-clamp-3",children:a.gizmo.display.description}),e.jsxs("div",{className:"mt-1 line-clamp-1 flex justify-start gap-1 text-xs text-token-text-tertiary",children:[e.jsx(Fe,{gizmo:a,className:"text-xs",hideLink:!0}),l&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-[10px]",children:"•"}),e.jsx(Ge,{className:"mt-0.5 h-3 w-3"}),l]})]})]})]})})}const Wn=i.forwardRef(function({info:n,items:l,cursor:s,anon:t,effectiveRole:r,useFetchMoreQuery:o},u){const[g,d]=i.useState(l.length===0),{data:m,hasNextPage:p,fetchNextPage:k,isFetchingNextPage:c,isError:y}=o({cutId:n.id,locale:n.locale,limit:6,cursor:s,enabled:g});i.useEffect(()=>{l.length===0&&k()},[k,l.length]);const[h,v]=i.useState(m.length),x=i.useRef(null),F=Cn(.1);return i.useEffect(()=>{var z;m.length>h&&(v(m.length),(z=x.current)==null||z.scrollIntoView({behavior:"smooth",block:"nearest"}))},[m.length,h]),e.jsxs($e,{title:n.title,description:n.description,ref:u,children:[e.jsxs(Pe,{children:[l.map((z,L)=>e.jsx(he,{resource:z,rank:L+1,cutId:n.id,effectiveRole:r},L)),m.map((z,L)=>e.jsx(he,{resource:z,rank:l.length+L+1,cutId:n.id,delay:F(L-h,m.length-h),effectiveRole:r},L))]}),(!g||p||c||y)&&!t&&s!=null&&e.jsx(J,{color:y?"danger-outline":"secondary",onClick:()=>{d(!0),T.logEvent(P.storeLoadMore,{section:n.id}),k()},fullWidth:!0,className:"mt-2 md:mt-3",loading:c,children:y?e.jsx(j,{...b.discoveryLoadMoreError}):e.jsx(j,{...b.discoveryLoadMore})}),e.jsx("div",{ref:x})]})});function he({resource:a,rank:n,cutId:l,delay:s,effectiveRole:t}){var u,g;const r=((u=a.gizmo.tags)==null?void 0:u.includes(E.WorkspaceDisabled))&&t!==B.OWNER,o=(g=a.gizmo.tags)==null?void 0:g.includes(E.FirstParty);return e.jsx(te,{delay:s,children:e.jsxs(oe,{gizmo:a,className:K("group flex h-[104px] items-center gap-2.5 overflow-hidden rounded-xl px-1 py-4 hover:bg-token-main-surface-secondary md:px-3 md:py-4 lg:px-3",r&&"opacity-50 hover:opacity-100"),onClick:()=>{T.logEvent(P.storeClickGizmo,{gizmo_id:a.gizmo.id,position:n,section:o?"first_party":l})},children:[e.jsx("div",{className:"text-md flex w-8 shrink-0 items-center justify-center font-semibold",children:n}),e.jsx(bn,{resource:a,grayedOut:r})]},a.gizmo.id)})}const _e=Ke,Ue=Ce,Oe=je,Bn=De,We=i.forwardRef(function({className:n,inputClassName:l,iconClassName:s,open:t,setOpen:r,resultsSizeOffset:o,placeholder:u,effectiveRole:g,onSelect:d},m){var V,Z;const p=ie(),[k,c]=i.useState(""),[y,h]=i.useState(""),[v,x]=i.useState(!1),F=t??v,z=r??x,L=i.useRef(null),f=(V=re("4006408854"))==null?void 0:V.value,D=(Z=se())==null?void 0:Z.isWorkspaceAccount(),N=re("3054422710").value,w=D!==void 0&&D&&N;i.useEffect(()=>{if(!F)return;const Q=U=>{var ne;U.key==="Escape"&&(z(!1),(ne=L.current)==null||ne.blur())},ee=U=>{var ne;U.target instanceof Node&&typeof m!="function"&&!((ne=m==null?void 0:m.current)!=null&&ne.contains(U.target))&&z(!1)};return document.addEventListener("keydown",Q,!1),document.addEventListener("mousedown",ee,!1),()=>{document.removeEventListener("keydown",Q,!1),document.removeEventListener("mousedown",ee,!1)}},[F,z,L,m]);const[S,G]=i.useState();i.useEffect(()=>{var ee;const Q=()=>{var U;G((U=window.visualViewport)==null?void 0:U.height)};return(ee=window.visualViewport)==null||ee.addEventListener("resize",Q),Q(),()=>{var U;(U=window.visualViewport)==null||U.removeEventListener("resize",Q)}},[G]);const[$,q]=i.useState(!1);i.useEffect(()=>{$&&!F&&z(!0)},[$,z,F]);const[W,M]=I.useQueryLoader(_e),[C,_]=I.useQueryLoader(Oe),[R,A]=I.useQueryLoader(Ue);return i.useEffect(()=>{f&&_({skip:!f})},[_,f]),i.useEffect(()=>{const Q=setTimeout(()=>{h(k),f&&(M({q:k,skip:k.length===0}),A({q:k,skip:k.length===0||!w}))},250);return()=>{clearTimeout(Q)}},[k,f,M,A,w]),e.jsxs(fe,{as:"div",className:K("group relative rounded-xl",n),ref:m,children:[e.jsx(vn,{className:K("pointer-none icon-md absolute top-0 h-full text-token-text-tertiary",s)}),e.jsx("input",{className:K("z-10 w-full rounded-xl border border-token-border-light bg-token-main-surface-primary py-2 pr-3 font-normal outline-0 delay-100","",l),placeholder:u??p.formatMessage(b.discoverySearch),value:k,onChange:Q=>c(Q.target.value),onFocus:()=>{z(!0),T.logEvent(P.searchOpened)},ref:L}),e.jsx(pn,{show:F,children:e.jsxs(fe.Panel,{static:!0,className:"absolute top-[calc(100%-10px)] w-full overflow-y-auto rounded-lg rounded-t-none border border-t-0 border-token-border-light bg-token-main-surface-primary px-3 py-2",style:{maxHeight:S!=null?S+(o??0):"100vh"},children:[f&&e.jsx(i.Suspense,{fallback:e.jsx(le,{}),children:W&&C&&R&&e.jsx($n,{debouncedQuery:y,searchQueryReference:W,recentQueryReference:C,workspaceQueryReference:R,effectiveRole:g,setPopoverForceOpen:q,onSelect:d,showWorkspaceResults:w})}),!f&&e.jsx(qn,{query:y,effectiveRole:g,setPopoverForceOpen:q,onSelect:d,showWorkspaceResults:w})]})})]})});function le(){return e.jsx("div",{className:"flex items-center justify-center py-1",children:e.jsx(ve,{})})}function $n({searchQueryReference:a,recentQueryReference:n,workspaceQueryReference:l,effectiveRole:s,debouncedQuery:t,setPopoverForceOpen:r,onSelect:o,showWorkspaceResults:u}){const[g,d]=i.useState("ALL"),[m,p]=i.useState(!0),[k,c]=i.useState(u),[y,h]=i.useState(null),[v,x]=i.useState(null),[F,z]=i.useState(null),[L,f]=i.useState(null),[D,N]=i.useState(null),[w,S]=i.useState(!0);i.useEffect(()=>{T.logEvent(P.searchStart)},[]),i.useEffect(()=>{x(null),f(null)},[t]);const G=I.usePreloadedQuery(_e,a),$=I.usePreloadedQuery(Oe,n),q=I.usePreloadedQuery(Ue,l);i.useEffect(()=>{p(!0)},[t]);const W=i.useCallback(M=>{var R,A,V,Z,Q;const C=I.readInlineData(Bn,M);return C?{gizmo:{id:C.legacyId,author:{display_name:((R=C.author)==null?void 0:R.displayName)??null,link_to:((A=C.author)==null?void 0:A.linkTo)??null,user_id:((V=C.author)==null?void 0:V.userId)??null},display:{name:C.display.name,description:C.display.description??null,profile_picture_url:C.display.profilePictureUrl??null},vanity_metrics:{num_conversations_str:((Z=C.vanityMetrics)==null?void 0:Z.numConversationsStr)??void 0},tags:((Q=C.tags)==null?void 0:Q.map(qe))??null,short_url:C.shortUrl}}:null},[]);return i.useEffect(()=>{var M,C,_,R;if(G){p(!1);const A=X((C=(M=G.gizmoSearch)==null?void 0:M.edges)==null?void 0:C.map(V=>W((V==null?void 0:V.node)??null)));h(A),(R=(_=G.gizmoSearch)==null?void 0:_.pageInfo)!=null&&R.endCursor&&x(G.gizmoSearch.pageInfo.endCursor)}},[G,W,x]),i.useEffect(()=>{var M,C,_,R;if(q){c(!1);const A=X((C=(M=q.gizmoSearch)==null?void 0:M.edges)==null?void 0:C.map(V=>W((V==null?void 0:V.node)??null)));z(A),(R=(_=q.gizmoSearch)==null?void 0:_.pageInfo)!=null&&R.endCursor&&f(q.gizmoSearch.pageInfo.endCursor)}},[q,W,f]),i.useEffect(()=>{var M,C,_;if($){S(!1);const R=X((_=(C=(M=$.gizmoDiscoveryCut)==null?void 0:M.items)==null?void 0:C.edges)==null?void 0:_.map(A=>W((A==null?void 0:A.node)??null)));N(R)}},[$,n,W]),i.useEffect(()=>{T.logEvent(P.searchStart)},[]),e.jsx(Be,{debouncedQuery:t,searchResults:y,isLoadingSearch:m,searchResultsCursor:v,showWorkspaceResults:u,workspaceSearchResults:F,workspaceSearchResultsCursor:L,isLoadingWorkspaceSearch:k,isLoadingRecent:w,recent:D,effectiveRole:s,setPopoverForceOpen:r,onSelect:o,activeTab:g,setActiveTab:d})}function qn({query:a,effectiveRole:n,setPopoverForceOpen:l,showWorkspaceResults:s,onSelect:t}){const[r,o]=i.useState("ALL");i.useEffect(()=>{T.logEvent(P.searchStart)},[]);const{data:u,isLoading:g}=an(a),{data:d,isLoading:m}=ln(a,s),{data:p,isLoading:k}=ze({cutId:"recent",limit:3});return e.jsx(Be,{debouncedQuery:a,searchResults:u==null?void 0:u.items,isLoadingSearch:g,searchResultsCursor:u==null?void 0:u.cursor,showWorkspaceResults:s,workspaceSearchResults:d==null?void 0:d.items,workspaceSearchResultsCursor:d==null?void 0:d.cursor,isLoadingWorkspaceSearch:m,isLoadingRecent:k,recent:(p==null?void 0:p.pages.flatMap(c=>c.list.items.map(y=>y.resource)))??[],effectiveRole:n,setPopoverForceOpen:l,onSelect:t,activeTab:r,setActiveTab:o})}function Be({debouncedQuery:a,searchResults:n,isLoadingSearch:l,searchResultsCursor:s,showWorkspaceResults:t,workspaceSearchResults:r,workspaceSearchResultsCursor:o,isLoadingWorkspaceSearch:u,recent:g,isLoadingRecent:d,effectiveRole:m,setPopoverForceOpen:p,onSelect:k,activeTab:c,setActiveTab:y}){const h=i.useRef(ce());if(i.useEffect(()=>{T.logEvent(P.searchStart)},[]),i.useEffect(()=>{!l&&n&&(h.current=ce(),n.length>0?Promise.all(n.map((v,x)=>{T.logEvent(P.searchDisplayResult,{search_id:h.current,gizmo_id:v.gizmo.id,position:x,query:a})})):T.logEvent(P.searchNoResults,{query:a}))},[n,l,a]),a===""&&d)return e.jsx(le,{});if(t){if(c==="ALL"&&l||c==="WORKSPACE"&&u)return e.jsx(le,{});if(a!=""&&!l&&!u&&(!n||n.length===0)&&(!r||r.length===0))return e.jsx("div",{className:"mx-2",children:e.jsx(Y,{onClick:void 0,isSelected:void 0,isClickable:!1,children:e.jsx(j,{...b.discoveryNoResultsSearch})})})}else{if(l)return e.jsx(le,{});if(a!=""&&!l&&(!n||n.length===0))return e.jsx("div",{className:"mx-2",children:e.jsx(Y,{onClick:void 0,isSelected:void 0,isClickable:!1,children:e.jsx(j,{...b.discoveryNoResultsSearch})})})}return e.jsxs(e.Fragment,{children:[e.jsx(Jn,{query:a,activeTab:c,setActiveTab:y,showWorkspaceResults:t,recentSearchResults:g??[]}),e.jsx(Hn,{query:a}),e.jsx(Yn,{query:a,searchIdRef:h.current,searchResults:n,searchResultsCursor:s,isLoadingSearch:l,workspaceSearchResults:r,workspaceSearchResultsCursor:o,isLoadingWorkspaceSearch:u,recentSearchResults:g??[],activeTab:c,setPopoverForceOpen:p,effectiveRole:m,onSelect:k})]})}function Hn({query:a}){if(/search\s?gpt/i.test(a))return e.jsx("div",{className:"mb-1 mt-2 rounded-lg bg-gray-50 py-3 text-center text-xs dark:bg-gray-750",children:e.jsx(j,{id:"NEGLw8",defaultMessage:"Learn more about OpenAI's <searchGPTLink>SearchGPT prototype</searchGPTLink>",values:{searchGPTLink:n=>e.jsx(xe,{href:"/search",target:"_blank",shallow:!0,className:"text-brand-blue-800 dark:text-blue-400",onClick:()=>{T.logEvent(P.searchGPTGizmoBannerLinkClicked)},children:n})}})})}function Y({children:a,onClick:n,isSelected:l,isClickable:s}){return e.jsx("div",{className:`px-3 pb-2 text-xs text-token-text-tertiary ${l?"border-b-2 font-bold":"font-semibold"} ${s?"cursor-pointer":""}`,onClick:()=>{n==null||n()},children:a})}function Jn({query:a,activeTab:n,setActiveTab:l,showWorkspaceResults:s,recentSearchResults:t}){const r=Se();return a===""?t&&t.length>0?e.jsx(Y,{onClick:void 0,isSelected:!1,isClickable:!1,children:e.jsx(j,{...b.discoverySearchRecentlyUsed})}):e.jsx(Y,{onClick:void 0,isSelected:void 0,isClickable:!1,children:e.jsx(j,{...b.discoverySearchRecentlyUsedEmpty})}):e.jsxs("div",{className:"flex",children:[e.jsx(Y,{onClick:()=>l("ALL"),isSelected:n==="ALL"&&s,isClickable:s,children:e.jsx(j,{...b.discoveryAllResultsHeader})}),s&&e.jsx(Y,{onClick:()=>l("WORKSPACE"),isSelected:n==="WORKSPACE",isClickable:!0,children:e.jsx(j,{...b.discoveryWorkspaceResultsHeader,values:{workspaceName:r}})})]})}function Yn({query:a,searchIdRef:n,searchResults:l,searchResultsCursor:s,isLoadingSearch:t,workspaceSearchResults:r,workspaceSearchResultsCursor:o,isLoadingWorkspaceSearch:u,recentSearchResults:g,setPopoverForceOpen:d,activeTab:m,effectiveRole:p,onSelect:k}){var w;const[c,y]=i.useState(!1),h=sn(a,c,m==="WORKSPACE",m==="WORKSPACE"?o:s),{data:v,hasNextPage:x,fetchNextPage:F,isFetchingNextPage:z,isError:L}={...h,data:((w=h.data)==null?void 0:w.pages.flatMap(S=>S.items.map(G=>G)))??[]},[f,D]=i.useState(v.length),N=i.useRef(null);return i.useEffect(()=>{var S;v.length>f&&(D(v.length),(S=N.current)==null||S.scrollIntoView({behavior:"smooth",block:"nearest"}))},[v.length,f]),a===""&&g&&g.length>0?e.jsx(e.Fragment,{children:g.map((S,G)=>e.jsx(ae,{searchId:n,position:G,query:a,resource:S,effectiveRole:p,setPopoverForceOpen:d,onSelect:k},S.gizmo.id))}):a!==""&&!t&&m==="ALL"&&(l==null||l.length===0)?e.jsx("div",{className:"mt-4 px-3 pb-2 text-xs font-semibold text-token-text-tertiary",children:e.jsx(j,{...b.discoveryNoResultsSearch})}):a!==""&&!u&&m==="WORKSPACE"&&(r==null||r.length===0)?e.jsx("div",{className:"mt-4 px-3 pb-2 text-xs font-semibold text-token-text-tertiary",children:e.jsx(j,{...b.discoveryNoResultsSearch})}):e.jsx("div",{children:m==="ALL"?e.jsxs("div",{children:[l&&l.map((S,G)=>e.jsx(ae,{searchId:n,position:G,query:a,resource:S,effectiveRole:p,setPopoverForceOpen:d,onSelect:k},S.gizmo.id)),l&&v&&v.map((S,G)=>e.jsx(ae,{searchId:n,position:G+(l==null?void 0:l.length),query:a,resource:S,effectiveRole:p,setPopoverForceOpen:d,onSelect:k},S.gizmo.id)),(!c&&v.length===0||x||z||L)&&s!=null&&e.jsx(J,{color:L?"danger-outline":"secondary",onClick:()=>{y(!0),F(),d==null||d(!0)},loading:z,fullWidth:!0,className:"mt-2 md:mt-3",children:L?e.jsx(j,{...b.discoveryLoadMoreError}):e.jsx(j,{...b.discoveryLoadMore})})]}):e.jsxs("div",{children:[r&&r.map((S,G)=>e.jsx(ae,{searchId:n,position:G,resource:S,query:a,setPopoverForceOpen:d},S.gizmo.id)),r&&v&&v.map((S,G)=>e.jsx(ae,{searchId:n,position:G+(r==null?void 0:r.length),query:a,resource:S,effectiveRole:p,setPopoverForceOpen:d,onSelect:k},S.gizmo.id)),(!c&&v.length===0||x||z||L)&&o!=null&&e.jsx(J,{color:L?"danger-outline":"secondary",onClick:()=>{y(!0),F(),d==null||d(!0)},fullWidth:!0,className:"mt-2 md:mt-3",loading:z,children:L?e.jsx(j,{...b.discoveryLoadMoreError}):e.jsx(j,{...b.discoveryLoadMore})})]})})}function ae({searchId:a,resource:n,position:l,query:s,effectiveRole:t,setPopoverForceOpen:r,onSelect:o}){var m,p,k;const u=(m=n.gizmo.vanity_metrics)==null?void 0:m.num_conversations_str,g=Je(),d=((p=n.gizmo.tags)==null?void 0:p.includes(E.WorkspaceDisabled))&&t!==B.OWNER;return e.jsxs(oe,{gizmo:n,className:K("group mx-2 flex items-center gap-3 rounded-lg px-3 py-2 hover:bg-gray-50 dark:hover:bg-white/10",d&&"opacity-50 hover:opacity-100"),onClick:()=>{o?o(n):T.logEvent(P.storeClickGizmo,{search_id:a,gizmo_id:n.gizmo.id,position:l,query:s,section:"search"})},onModalOpen:()=>{r==null||r(!0)},onModalClose:()=>{r==null||r(!1)},selectOnly:!!o,children:[e.jsx(Le,{isFirstParty:!!((k=n.gizmo.tags)!=null&&k.includes(E.FirstParty)),src:n.gizmo.display.profile_picture_url??void 0,className:K("h-8 w-8 shrink-0",d&&"grayscale group-hover:grayscale-0")}),e.jsxs("div",{className:"flex flex-col space-y-1 truncate",children:[e.jsx("div",{className:"flex flex-row items-end space-x-2",children:e.jsx("span",{className:"shrink-0 truncate text-sm font-semibold",children:n.gizmo.display.name})}),g&&e.jsx("span",{className:"max-w-md truncate text-xs text-token-text-tertiary",children:n.gizmo.display.description}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"-mt-1",children:e.jsx(Fe,{gizmo:n,className:"truncate text-xs text-token-text-tertiary",hideLink:!0})}),u&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex items-center gap-1 font-semibold text-token-text-tertiary",children:[e.jsx(Ge,{className:"icon-xs"}),e.jsx("span",{className:"line-clamp-1 text-xs",children:u})]})})]})]})]})}const $e=i.forwardRef(function({title:n,description:l,className:s,children:t},r){return e.jsxs("div",{ref:r,className:"h-fit scroll-mt-28 last:min-h-[calc(100vh-8rem)]",children:[e.jsxs(te,{animateTap:!1,children:[e.jsx("div",{className:"text-xl font-semibold md:text-2xl",children:n}),l&&e.jsx("div",{className:"text-sm text-token-text-tertiary md:text-base",children:l})]}),e.jsx("div",{className:K("mb-10 mt-4",s),children:t})]})});function qe(a){switch(a){case"FIRST_PARTY":return E.FirstParty;case"WORKSPACE_DISABLED":return E.WorkspaceDisabled;case"USES_FUNCTION_CALLS":return E.UsesFunctionCalls;case"BETA":return E.Beta;case"PINNED":return E.Pinned;case"PRIVATE":return E.Private;case"PUBLIC":return E.Public;case"REPORTABLE":return E.Reportable;case"WORKSPACE":return E.Workspace;default:return a}}const b=Ye({discoveryAllResultsHeader:{id:"gizmo.discovery.AllResultsHeader",defaultMessage:"All"},discoveryWorkspaceResultsHeader:{id:"gizmo.discovery.workspaceResultsHeaderName",defaultMessage:"{workspaceName} workspace"},discoveryEmpty:{id:"gizmo.discovery.empty",defaultMessage:"Nothing to discover"},discoveryNoResultsSearch:{id:"gizmo.discovery.search.empty",defaultMessage:"No results found"},discoveryError:{id:"gizmo.discovery.error",defaultMessage:"Error loading GPTs"},discoverySearch:{id:"gizmo.discovery.search",defaultMessage:"Search GPTs"},discoverySearchSmall:{id:"gizmo.discovery.searchSmall",defaultMessage:"Search"},discoverySearchRecentlyUsed:{id:"gizmo.discovery.search.recentlyUsed",defaultMessage:"Recently Used"},discoverySearchRecentlyUsedEmpty:{id:"gizmo.discovery.search.recentlyUsedEmpty",defaultMessage:"No recently used GPTs"},discoverySearchResults:{id:"gizmo.discovery.search.results",defaultMessage:"Search Results"},discoveryLoadMore:{id:"gizmo.discovery.loadMore",defaultMessage:"See more"},discoveryLoadMoreError:{id:"gizmo.discovery.loadMoreError",defaultMessage:"Error loading more"},discoveryMyGPTs:{id:"gizmo.discovery.myGPTs",defaultMessage:"My GPTs"},discoveryCreateGPT:{id:"gizmo.discovery.createGPT",defaultMessage:"Create"},discoveryThirdPartyGPTsDisabled:{id:"gizmo.discovery.thirdPartyGPTsDisabled",defaultMessage:"Your admin has blocked GPTs created outside {workspaceName}."},discoverySplashHeader:{id:"gizmo.discovery.splashHeader",defaultMessage:"GPTs"},discoverySplashDescription:{id:"gizmo.discovery.splashDescription",defaultMessage:"Discover and create custom versions of ChatGPT that combine instructions, extra knowledge, and any combination of skills."},discoveryGlobalViewOn:{id:"gizmo.discovery.globalViewOn",defaultMessage:"Global View On"},discoveryGlobalViewOff:{id:"gizmo.discovery.globalViewOff",defaultMessage:"Global View Off"},createdAgoLabel:{id:"gizmo.discovery.createdAgoLabel",defaultMessage:"Created {createdAgo}"},createGPTUpsell:{id:"gizmo.discovery.createGPTUpsell",defaultMessage:"Get ChatGPT Plus to create and share your own GPTs"},createGPTUpsellButtonLabel:{id:"gizmo.discovery.createGPTUpsellButtonLabel",defaultMessage:"Get Plus"}});export{We as G,pa as a};
//# sourceMappingURL=dg9zyoagslpqr7lk.js.map
