import{F as g,c5 as d,c6 as l,p as M,a4 as f,a,u as c,R as i,t as r,I as D}from"./hc9xxm00a3r3byem.js";import{X as m,Y as y}from"./ozzpumen10p6g0yq.js";function v(t,e){return M({queryKey:["workspace/identity",t],queryFn:async()=>{if(t!==void 0)return await i.getWorkspaceIdentitySettings(t)},enabled:e})}function h(){const t=m(y.workspaceId),{data:e}=v(t??void 0,t!=null);return e==null?void 0:e.allow_external_domain_invites}function T(){const t=m(y.workspaceId),{data:e}=v(t??void 0,t!=null);return(e==null?void 0:e.domains)&&(e==null?void 0:e.domains.filter(n=>n.status=="verified"))}function k(t){const e=f();return a({mutationFn:({shouldAutoProvision:n})=>i.setWorkspaceShouldAutoProvision(t,n).then(s=>{const o=n?u.autoProvisionEnabledToast:u.autoProvisionDisabledToast;return r.success(e.formatMessage(o),{duration:3}),s}).catch(s=>{throw r.danger(s.message),s})})}function x(t){const e=f();return a({mutationFn:async({shouldAllowExternalDomainInvites:n})=>{try{const s=await i.setWorkspaceShouldDisableExternalDomainInvites(t,n),o=n?u.allowExternalDomainInvitesToast:u.disableExternalDomainInvitesToast;return r.success(e.formatMessage(o),{duration:3}),s}catch(s){throw r.danger(s.message),s}}})}function b(t){const e=c();return a({mutationFn:({domainId:n})=>i.removeDomainFromWorkspace(t,n),onSuccess:()=>{e.refetchQueries({queryKey:["workspace/identity",t]}),e.refetchQueries({queryKey:["builderProfile"]})}})}function E(t){let e=t;return e.startsWith("-----BEGIN")||(e=`-----BEGIN CERTIFICATE-----
${e}`),e.endsWith("CERTIFICATE-----")||(e=`${e}
-----END CERTIFICATE-----`),e}function w(t){const e=c();return a({mutationFn:({signInEndpoint:n,cert:s})=>i.createSAMLConnection(t,n,E(s)),onSuccess:()=>{e.refetchQueries({queryKey:["workspace/identity",t]})}})}function F(t){const e=c();return a({mutationFn:({connectionId:n,signInEndpoint:s,cert:o,active:p,enforcedClients:I})=>i.updateSAMLConnection(t,n,{signInEndpoint:s,cert:o!==void 0?E(o):void 0,active:p,enforcedClients:I}),onSuccess:()=>{e.refetchQueries({queryKey:["workspace/identity",t]})}})}function q(t){const e=c();return a({mutationFn:({connectionId:n})=>i.deleteSAMLConnection(t,n),onSuccess:()=>{e.refetchQueries({queryKey:["workspace/identity",t]})}})}const A=g.div`text-md mb-4 text-token-text-secondary`,P={[d.VERIFIED]:l({id:"i7FkyS",defaultMessage:"Verified"}),[d.PENDING]:l({id:"THBv/l",defaultMessage:"Pending"}),[d.EXPIRED]:l({id:"+sjWGK",defaultMessage:"Expired"})},u=D({autoProvisionEnabledToast:{id:"workspaceIdentity.autoProvisionEnabledToast",defaultMessage:"Auto provisioning enabled for this workspace"},autoProvisionDisabledToast:{id:"workspaceIdentity.autoProvisionDisabledToast",defaultMessage:"Auto provisioning disabled for this workspace"},allowExternalDomainInvitesToast:{id:"j0jI/4",defaultMessage:"External domain invites are allowed for this workspace"},disableExternalDomainInvitesToast:{id:"67yB97",defaultMessage:"External domain invites are disabled for this workspace"}});export{P as D,A as I,T as a,h as b,w as c,q as d,F as e,v as f,k as g,x as h,b as u};
//# sourceMappingURL=cj3cq0j3ew1e2kbz.js.map
