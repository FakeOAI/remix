const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/sso-ihqxdzxswuiox36n.js","assets/hc9xxm00a3r3byem.js","assets/fga5qe14lr2llx8v.js","assets/root-gxieg4k5.css","assets/ozzpumen10p6g0yq.js","assets/index-small-c8xg50op.css","assets/guykwp3ov0cliuel.js","assets/eq9w2mijkl5gcncq.js","assets/k0a5tmklve7lhdwt.js","assets/io7lyk89lbveno1g.js","assets/kwn3fefba30wvgsb.js","assets/hzcrrlyorrog0p41.js","assets/jt3dvx97wm610wtl.js","assets/iyldmwu8ywhos7ff.js","assets/ovjwzbtdrcsgos3a.js","assets/cqwvbnjobeewuxnd.js","assets/lgu0ki3gruqsdrdd.js","assets/l02mntsvyz06f5g3.js","assets/lyr64vj216kc7moh.js","assets/i9qil017zb3p1czr.js","assets/j6ap2wbjx1muhlqy.js","assets/k6kl8m1o5r79l67s.js","assets/hmu1ot8fm4uszmig.js","assets/c6gg5hubzrgc52sj.js","assets/oz2p01rklj1p4n8d.js","assets/g8nlf109ai64grtj.js","assets/facz9srd4e5z6fv5.js","assets/lxui8l23v2tzixf9.js","assets/btg2u9gpl3szhq0h.js","assets/gi4dwz24es0xqvpd.js","assets/6tjupkkyx0z5k2fa.js","assets/j8vh1bvwq2thm6el.js","assets/hdncrjsjzzuve3ru.js","assets/cj3cq0j3ew1e2kbz.js","assets/lqlcwrsq68jkt57a.js","assets/nug034oo81goid6a.js","assets/n1uzh05qecnh8ko6.js","assets/le2xruw7cnm9ag5m.js","assets/fi9p3eeu24b9vfd1.js","assets/caxkuyopolf76hse.js","assets/exuoj3g9rvnr47xj.js","assets/o65h1gsmgo0mfsrq.js","assets/nbrfb6b5fqz7ea4t.js","assets/btkpb7dih1nft29s.js","assets/flu5midy8l1pp37c.js","assets/m0hxapdm52wypf6x.js","assets/b2rny0kod41myp87.js","assets/kptbw01pxwd1ocyc.js","assets/os9q9b6j79v07zj6.js","assets/k9btfb42xrk56ut9.js","assets/mafougdlzkh8qo68.js","assets/mnfbtuy5shn7j7rh.js","assets/h3k8refrd2si6yl9.js","assets/eozgrwgbmz9gatod.js","assets/fr59f31fg6jwe2u4.js","assets/isu9bse2a2oa6tex.js","assets/cpyn50o38nwfhwhi.js","assets/gi3tzluaomiird95.js","assets/bdei09nh6a4fidtg.js","assets/d0g8ptgc5gcqjwyj.js","assets/ldsypk8ae9f813gj.js","assets/j6bclhc7cbp7p32x.js","assets/isjdmfmhzv09v01t.js","assets/gr8wto7g581ivnj9.js","assets/j1lknt8seu6gd994.js","assets/eptaxtrdc5yo19ql.js","assets/mivz1ihv23m4q321.js","assets/ejr5bx585q00u2xr.js","assets/exmmesynbikjnder.js","assets/hgnflhls3cvgkj18.js","assets/qknnp5ml7bnljg47.js","assets/orzvve5u2p4b12ln.js","assets/e70ig0kgiu5e598s.js","assets/jrqybevk2xmg1j7t.js","assets/eaz86xbejavxr5kl.js","assets/d5gp1p3nlkkh1n5f.js","assets/clqpk0txvmrxgdlw.js","assets/clolni79kv2kq9pa.js","assets/nxwz9vaydgrnlkdl.js","assets/ed0icvfo2r5i5rtx.js","assets/kqwdyvkaaavvn8k3.js","assets/mc2unsdb4z4goxuv.js","assets/j10j4o3neo99b7zs.js","assets/do5dtfxps7uqtxpp.js","assets/kg9nkh26be0hgljf.js","assets/iv4ixuukcg9wgx9n.js","assets/jivegfkq3c3y773c.js","assets/lqbe15vkljpbygph.js","assets/c42bkcuslwv6041k.js","assets/ml6caj8ci8ergnrl.js","assets/o1ngi5g6kc1pvwll.js","assets/shared-mk6ngktc.css","assets/n3ty0r2frjejpyv8.js","assets/fsddy3bxlesj6ecw.js","assets/gbhwfxebtmzdjc5b.js","assets/b15s8fk5jsrtemdo.js","assets/g38016pkmz5kqvdj.js","assets/cudyehvey3vajzc8.js","assets/fentbcf1kft3zbjx.js","assets/gqw4n5vk4ei2sng7.js","assets/hd1qgib7s68j49he.js","assets/hjr2ka8peesj2qf7.js","assets/gfds12tx8qpu0ipq.js","assets/dsvckya76mm06sjp.js","assets/iej0cupg2dqkmejt.js","assets/nhwwej1nq0zrd7sc.js","assets/sso-bmfhfemd.css"])))=>i.map(i=>d[i]);
import{a4 as P,j as t,v as B,aI as M,J as D,X as k,aJ as T,I as C,aj as E,ak as F,E as O,F as Q,r as h,dz as V,aO as U,V as H,T as I,dA as J,Y as L,dB as W,c as w}from"./hc9xxm00a3r3byem.js";import{G as _}from"./g8nlf109ai64grtj.js";import{G as v,z as Y,A as X}from"./lyr64vj216kc7moh.js";import{aR as K,e as N}from"./ozzpumen10p6g0yq.js";import{u as $}from"./cpyn50o38nwfhwhi.js";import{a2 as Z,aY as q,aM as ee,e as te}from"./fga5qe14lr2llx8v.js";import{s as se}from"./eq9w2mijkl5gcncq.js";import{c as ne}from"./iyldmwu8ywhos7ff.js";import{u as re}from"./cqwvbnjobeewuxnd.js";const ae=({actions:e,title:a,description:o,onDismiss:i})=>{var u,x,r,n;const m=P(),l=(u=e==null?void 0:e.primaryAction)!=null&&u.text?m.formatMessage(e.primaryAction.text):void 0,d=(x=e==null?void 0:e.secondaryAction)!=null&&x.text?m.formatMessage(e.secondaryAction.text):void 0;return t.jsx(K,{title:a,content:o,onDismiss:i,primaryCtaText:l,onPrimaryCtaClick:((r=e==null?void 0:e.primaryAction)==null?void 0:r.onClick)??void 0,secondaryCtaText:d,onSecondaryCtaClick:((n=e==null?void 0:e.secondaryAction)==null?void 0:n.onClick)??void 0,isElevated:!0})},oe=({clientThreadId:e,rateLimitInfo:a,onDismiss:o})=>{const{name:i,title:m,call_to_action:l,description:d}=a,u=B(),x=re(!0),r=M(),n=ne(e),s=(u==null?void 0:u.planType)??"unknown",c=r&&"block_reason"in r?r.block_reason:null,g="banner_description",f={type:i||"unknown",location:g,plan_type:s,is_new_conversation:n,is_hard_block:!!r,hard_block_reason:c??""},y=D(),p=G=>{switch(G){case T.GET_PLUS:return{text:b.getPlusButton,onClick:()=>{k.logRateLimitGetPlusButtonClicked(f),se(y,"Prompt textarea rate limit banner")}};case T.NEW_CHAT:return{text:b.newChatButton,onClick:()=>{x({modelId:"",location:g})}}}};N(()=>{k.logRateLimitBannerShown(f)});const[S,R]=l??[],A={primaryAction:p(S),secondaryAction:p(R)};return t.jsx(ae,{onDismiss:o,title:m,description:d,actions:A})},b=C({getPlusButton:{id:"TeyLcp",defaultMessage:"Get Plus"},newChatButton:{id:"7OvnJ5",defaultMessage:"New chat"}}),ie=E(()=>F(()=>import("./sso-ihqxdzxswuiox36n.js").then(e=>e.p),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106])).then(e=>e.PromptTextareaRateLimitBannerNew)),ce=e=>{const{value:a}=O("1028682714");return a?t.jsx(ie,{...e}):t.jsx(oe,{...e})},z=Q.div`group flex h-10 items-center gap-2 rounded-lg px-2 hover:bg-token-main-surface-secondary text-sm text-token-text-primary`;function le(){const{data:e,isLoading:a}=Y({cutId:"recent",limit:8}),{data:o,isLoading:i}=X();return{isLoading:a||i,recent:e,pinned:o}}function de({query:e,onSelectGizmo:a,selectedIdx:o},i){const m=V(),l=h.useRef([]),{isLoading:d,recent:u,pinned:x}=le();h.useImperativeHandle(i,()=>({handleEnterOnIndex:s=>{if(!n[s])return s<r.length?r[s].resource:"create"},getResultsLength:()=>r.length+1,scrollToItem:s=>{const c=l.current[s];c&&c.scrollIntoView({behavior:"instant",block:"nearest"})}}));let r=[];if(d)return t.jsx("div",{className:"absolute right-4 top-0 flex h-full items-center justify-center",children:t.jsx(U,{})});u&&r.push(...u.pages.flatMap(s=>s.list.items).map(s=>({resource:s.resource,from:"recent"}))),x&&r.push(...x.items.map(s=>({resource:s,from:"pinned"}))),r=$(r,s=>s.resource.gizmo.id);const n=r.map(s=>{var c;return(c=s.resource.gizmo.tags)==null?void 0:c.includes(v.WorkspaceDisabled)});return e&&e!==""&&(r=r.filter(s=>{var g,f;return(s.resource.gizmo.display.name.toLowerCase()+((g=s.resource.gizmo.display.description)==null?void 0:g.toLowerCase())+((f=s.resource.gizmo.author.display_name)==null?void 0:f.toLowerCase())).includes(e==null?void 0:e.toLowerCase())})),t.jsxs("div",{className:"max-h-40 overflow-y-auto",children:[r.map((s,c)=>t.jsx("div",{ref:g=>{l.current[c]=g},tabIndex:c,onClick:()=>{n[c]||a(s.resource)},children:t.jsx(ge,{gizmoResource:s.resource,from:s.from,showDescription:m,isSelected:o===c,grayedOut:n[c]})},s.resource.gizmo.id)),t.jsx("div",{ref:s=>{l.current[r.length]=s},tabIndex:r.length,onClick:()=>{a("create")},children:t.jsx(ue,{isSelected:o===r.length})},"create")]})}const me=h.forwardRef(de),ue=({isSelected:e})=>t.jsx(z,{className:e?"bg-token-main-surface-secondary":"",children:t.jsxs(H,{href:"/gpts/editor",target:"_blank",className:"flex flex-row space-x-2 font-semibold",children:[t.jsx("span",{className:"self-center",children:t.jsx(Z,{className:"icon-sm"})}),t.jsx("span",{children:t.jsx(I,{...j.dropdownCreateLabel})})]})}),pe=({onClick:e,onClose:a})=>{const[o,i]=h.useState(null),m=h.useRef(null),l=h.useRef(null),[d,u]=h.useState(0),x=P(),r=n=>{k.logEvent(L.mentionsClickGizmo,{gizmo_id:n==="create"?"create":n.gizmo.id}),n!=="create"&&e(n)};return t.jsxs(t.Fragment,{children:[t.jsx("input",{autoFocus:!0,placeholder:x.formatMessage(j.searchPlaceholder),ref:m,onKeyDown:n=>{var c,g,f,y;const s=((c=l.current)==null?void 0:c.getResultsLength())??0;if((n.key==="Escape"||n.key==="Backspace"&&!o)&&(n.preventDefault(),a()),n.key==="Enter"||n.key==="Tab"){n.preventDefault();const p=(g=l.current)==null?void 0:g.handleEnterOnIndex(d);if(!p)return;p==="create"?(window.open("/gpts/editor","_blank"),a()):r(p)}if(n.key==="ArrowDown"&&d<s-1){n.preventDefault();const p=d+1;(f=l.current)==null||f.scrollToItem(p),u(p)}if(n.key==="ArrowUp"&&d>0){n.preventDefault();const p=d-1;(y=l.current)==null||y.scrollToItem(p),u(p)}},onChange:n=>{i(n.target.value),u(0)},className:"w-full border-0 bg-token-main-surface-primary p-2 text-sm focus:outline-none"}),t.jsx(me,{ref:l,query:o,selectedIdx:d,onSelectGizmo:r})]})},be=({onClick:e,onClose:a})=>{const o=J(),i=!!o;return N(()=>{k.logEvent(L.mentionsOpened,{gizmo_selector_disabled:i})}),i?t.jsx(ce,{clientThreadId:W,rateLimitInfo:o}):t.jsx("div",{onBlur:m=>{m.currentTarget.contains(m.relatedTarget)||a()},className:"popover rounded-2xl border border-token-border-light bg-token-main-surface-primary p-2 shadow-lg",children:t.jsx(pe,{onClick:e,onClose:a})})};function ge({gizmoResource:e,from:a,showDescription:o,isSelected:i,grayedOut:m}){var d;const l=!!((d=e.gizmo.tags)!=null&&d.includes(v.FirstParty));return t.jsxs(z,{className:w(i?"bg-token-main-surface-secondary":"",m&&"opacity-50"),children:[t.jsx(_,{isFirstParty:l,src:e.gizmo.display.profile_picture_url,className:w("icon-xl h-7 w-7 flex-shrink-0",m&&"grayscale group-hover:grayscale-0")}),t.jsxs("div",{className:"flex h-fit grow flex-row justify-between space-x-2 overflow-hidden text-ellipsis whitespace-nowrap",children:[t.jsxs("div",{className:"flex flex-row space-x-2",children:[t.jsx("span",{className:"shrink-0 truncate font-semibold",children:e.gizmo.display.name}),o&&t.jsx("span",{className:"flex-grow truncate text-sm text-token-text-tertiary sm:max-w-xs lg:max-w-md",children:e.gizmo.display.description})]}),t.jsx("span",{className:"shrink-0 self-center",children:a==="recent"?t.jsx(q,{className:"icon-sm"}):t.jsx(ee,{className:"icon-sm"})})]})]})}function Pe({gizmoResource:e,onRemove:a}){var i;const o=!!((i=e.gizmo.tags)!=null&&i.includes(v.FirstParty));return t.jsxs("div",{className:"flex w-full flex-row items-center rounded-t-2xl bg-token-main-surface-secondary px-2 py-1",children:[t.jsxs("div",{className:w("group flex h-10 items-center gap-2 rounded-lg px-2 font-semibold"),children:[t.jsx(_,{isFirstParty:o,src:e.gizmo.display.profile_picture_url,className:"h-6 w-6 flex-shrink-0"}),t.jsxs("div",{className:"space-x-2 overflow-hidden text-ellipsis text-sm text-token-text-tertiary",children:[t.jsx(I,{...j.talkingTo})," ",t.jsx("span",{className:"font-semibold text-token-text-secondary",children:e.gizmo.display.name})]})]}),a&&t.jsx("button",{className:"absolute right-4 text-sm font-bold",onClick:a,children:t.jsx(te,{className:"icon-md text-token-text-secondary hover:text-token-text-primary"})})]})}const j=C({talkingTo:{id:"TaggingDropdown.talkingTo",defaultMessage:"Talking to"},dropdownCreateLabel:{id:"TaggingDropdown.dropdownCreateLabel",defaultMessage:"Create a GPT"},searchPlaceholder:{id:"TaggingDropdown.searchPlaceholder",defaultMessage:"Search recent and pinned GPTs"}});export{be as I,ae as P,Pe as a,ce as b,le as u};
//# sourceMappingURL=c4ub15ug1kevxj8w.js.map
