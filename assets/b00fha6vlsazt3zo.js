import{d9 as R,a4 as f,j as e,d3 as P,v as W,r as I,u as D,a as _,T as i,t as S,da as F,db as T,dc as g,I as L,c as B,R as v,ax as G,G as w}from"./hc9xxm00a3r3byem.js";import{a as q,b as H,A as Y}from"./lmryd6g8vt3gp93f.js";import{B as k}from"./lwskf2c58o0875kf.js";import{u as U}from"./btkpb7dih1nft29s.js";import{X as V,Y as Q,b8 as z,T as K,M as X}from"./ozzpumen10p6g0yq.js";import{l as J,p as O}from"./fga5qe14lr2llx8v.js";import{C as N}from"./hdncrjsjzzuve3ru.js";import{O as Z,a as $}from"./k9btfb42xrk56ut9.js";import{S as d}from"./o65h1gsmgo0mfsrq.js";import{a as ee}from"./eq9w2mijkl5gcncq.js";import{a as te,b as se,c as x,A as j,d as ne,e as oe,f as ie}from"./bhuxwenpl900hvjj.js";import{u as ae,a as re}from"./fdepw20m3sce5u4k.js";import"./lxui8l23v2tzixf9.js";import"./facz9srd4e5z6fv5.js";import"./olkgl1p4p1b910lq.js";import"./guykwp3ov0cliuel.js";import"./nug034oo81goid6a.js";import"./fi9p3eeu24b9vfd1.js";import"./cqwvbnjobeewuxnd.js";import"./iyldmwu8ywhos7ff.js";import"./ovjwzbtdrcsgos3a.js";import"./i9qil017zb3p1czr.js";import"./kwn3fefba30wvgsb.js";import"./io7lyk89lbveno1g.js";import"./caxkuyopolf76hse.js";import"./exuoj3g9rvnr47xj.js";import"./c6gg5hubzrgc52sj.js";import"./nbrfb6b5fqz7ea4t.js";import"./lyr64vj216kc7moh.js";import"./l02mntsvyz06f5g3.js";import"./dkb2noz4qv6snkbi.js";import"./do5dtfxps7uqtxpp.js";import"./fr59f31fg6jwe2u4.js";import"./cj3cq0j3ew1e2kbz.js";import"./b2rny0kod41myp87.js";import"./kptbw01pxwd1ocyc.js";import"./cm4yp0pj7foedy4v.js";import"./dsvckya76mm06sjp.js";import"./k0a5tmklve7lhdwt.js";import"./hzcrrlyorrog0p41.js";import"./jt3dvx97wm610wtl.js";import"./iej0cupg2dqkmejt.js";const b=60*60*24,le=b*90,ce=b*365;function de({conversationTTL:s}){const n=f();let o;return s==null?o=n.formatMessage(t.retentionInfinite):s===le?o=n.formatMessage(t.retentionNinetyDays):s===ce?o=n.formatMessage(t.retentionOneYear):o=n.formatMessage(t.retentionCustomDays,{num:Math.floor(s/b)}),e.jsxs(j,{children:[e.jsx("p",{className:"inline-flex items-center text-base",children:e.jsx(i,{...t.conversationRetention})}),e.jsx(K,{label:n.formatMessage(t.retentionSettingTooltip),children:o})]})}function u({title:s,description:n,children:o,upsellEnterprise:a=!1,descriptionValues:l={}}){return e.jsx(X,{label:e.jsx(i,{...t.enterpriseRequiredMessage}),side:"top",sideOffset:4,disabled:!a,className:"max-w-xl",children:e.jsxs(ne,{className:B(a&&"text-token-text-tertiary"),children:[e.jsxs(oe,{className:"flex items-center gap-3",children:[e.jsx(i,{...s}),a&&e.jsx("span",{className:"rounded-xl bg-token-main-surface-tertiary px-2 pb-0.5 text-sm",children:e.jsx(i,{...t.enterpriseUpsellPill})})]}),n&&e.jsx(ie,{className:"py-2 text-token-text-secondary",children:me(n)?e.jsx(i,{...n,values:l}):n}),o]})})}function me(s){return!!s&&typeof s=="object"&&"id"in s}function pe({workspaceId:s,label:n,setting:o,defaultValue:a,values:l,disabled:h=!1}){const M=f(),y=D(),{variables:c,mutate:C}=_({mutationFn:({setting:r,value:m})=>v.setWorkspaceShareSetting(s,r,m),onSettled:()=>{y.invalidateQueries({queryKey:["workspace-settings"]})},onError:()=>{S.danger(M.formatMessage(t.featureSettingsUpdateFailed))}});return e.jsxs(j,{children:[e.jsx("p",{className:"text-md inline-flex items-center",children:e.jsx(i,{...n})}),e.jsxs(d.Root,{defaultValue:(c==null?void 0:c.value)??a,onValueChange:r=>{C({setting:o,value:r})},disabled:h,children:[e.jsxs(d.Trigger,{className:"text-md focus-visible:border-none",children:[e.jsx(d.Value,{}),e.jsx(d.Icon,{})]}),e.jsx(d.Portal,{children:e.jsx(d.Content,{children:l.map((r,m)=>e.jsx(d.Item,{className:"text-md",value:r.value,children:e.jsx(i,{...r.display})},m))})})]})]})}function ge({onConfirm:s,onClose:n}){const o=f();return e.jsx(G,{type:"warning",isOpen:!0,onClose:n,title:o.formatMessage(t.deleteWorkspaceMemoryModalTitle),showCloseButton:!0,primaryButton:e.jsx(w,{color:"danger",onClick:s,children:e.jsx(i,{...t.deleteWorkspaceMemoryModalConfirm})}),secondaryButton:e.jsx(w,{onClick:n,color:"secondary",children:e.jsx(i,{...t.deleteWorkspaceMemoryModalCancel})}),children:e.jsx("div",{className:"mb-2 text-sm text-token-text-primary",children:e.jsx(i,{...t.deleteWorkspaceMemoryModalInfo,values:{b:a=>e.jsx("b",{children:a})}})})})}function ue({workspaceId:s,data:n}){const o=V(Q.isTeamPlan),a=W(),l=f(),h=z(),{showWorkspaceSettings:M}=U(),[y,c]=I.useState(!1),C=D(),{variables:r,mutate:m}=_({mutationFn:({feature:p,enabled:E})=>v.setWorkspaceBetaFeature(s,p,E),onSettled:()=>{C.invalidateQueries({queryKey:["workspace-settings"]})},onError:()=>{S.danger(l.formatMessage(t.featureSettingsUpdateFailed))}});return e.jsxs(te,{children:[o&&e.jsx(se,{}),e.jsxs(u,{title:t.workspaceDetails,children:[e.jsxs("div",{className:"flex flex-row items-center justify-between",children:[e.jsx(i,{id:"SgdcRQ",defaultMessage:"Organization ID"}),e.jsx(N,{value:(a==null?void 0:a.data.organizationId)??"",onCopied:()=>S.success(l.formatMessage({id:"Ctw3o0",defaultMessage:"Copied organization ID"}))})]}),e.jsxs("div",{className:"flex flex-row items-center justify-between",children:[e.jsx(i,{id:"yFldxx",defaultMessage:"Workspace ID"}),e.jsx(N,{value:s,onCopied:()=>S.success(l.formatMessage({id:"CqDpiM",defaultMessage:"Copied workspace ID"}))})]})]}),e.jsx(u,{title:t.sharingSettingsTitle,upsellEnterprise:o,children:e.jsx(x,{children:e.jsx(pe,{workspaceId:s,label:t.chatSharingTitle,setting:F.CHAT_SHARE_SETTINGS,disabled:o,defaultValue:n.share_settings.chat_share_setting,values:[{display:t.workspaceMembersOnlySelect,value:T.WORKSPACE_ONLY},{display:t.noOneSelect,value:T.NO_ONE}]})})}),h&&e.jsx(u,{title:t.memoryFeatureSettingsTitle,description:t.workspaceMemoryDescription,descriptionValues:{link:p=>e.jsx("a",{href:"https://help.openai.com/en/articles/8590148-memory-in-chatgpt-faq",target:"_blank",className:"underline",rel:"noreferrer",children:p})},upsellEnterprise:o,children:e.jsx(x,{children:e.jsxs(j,{className:"justify-start py-6",children:[e.jsx(ee,{label:"",disabled:o,enabled:(r==null?void 0:r.enabled)??n.beta_settings.sunshine,onChange:p=>{p?m({feature:g.MEMORY,enabled:p}):c(!0)}}),e.jsx("p",{className:"text-md inline-flex items-center",children:e.jsx(i,{...t.memoryOptionTitle})})]})})}),y&&e.jsx(ge,{onConfirm:()=>{m({feature:g.MEMORY,enabled:!1}),c(!1)},onClose:()=>{c(!1)}}),e.jsx(u,{title:t.retentionPolicyTitle,description:t.retentionChange,upsellEnterprise:o,children:e.jsx(de,{conversationTTL:n.conversation_ttl})}),M&&e.jsx(u,{title:t.contextConnectorsTitle,upsellEnterprise:o,description:e.jsx(i,{...t.contextConnectorsSubtitle,values:{helpCenterLink:e.jsx("a",{className:"text-token-link",href:"https://help.openai.com/en/articles/9309188-connected-apps-on-chatgpt",target:"_blank",rel:"noreferrer",children:e.jsx(i,{...t.contextConnectorsHelpCenterLink})})}}),children:e.jsx(x,{children:e.jsxs(x,{children:[e.jsx(k,{disabled:o,label:t.contextConnectorsGoogleDrive,Icon:J,feature:g.CONTEXT_CONNECTOR_GDRIVE,value:n.beta_settings.context_connector_gdrive,workspaceId:s}),e.jsx(k,{disabled:o,label:Z,Icon:O,tooltip:t.contextConnectorsO365BusinessTooltip,feature:g.CONTEXT_CONNECTOR_O365_BUSINESS,value:n.beta_settings.context_connector_o365_business,workspaceId:s}),e.jsx(k,{disabled:o,label:$,Icon:O,tooltip:t.contextConnectorsO365PersonalTooltip,feature:g.CONTEXT_CONNECTOR_O365_PERSONAL,value:n.beta_settings.context_connector_o365_personal,workspaceId:s})]})})})]})}function fe({currentWorkspaceId:s}){const{data:n,isLoading:o}=R(s),a=f();return e.jsxs(e.Fragment,{children:[e.jsx(P,{children:e.jsx("title",{children:a.formatMessage(t.title)})}),e.jsx(q,{title:a.formatMessage(t.title)}),e.jsx(H,{showSpinner:o,children:n===void 0?null:e.jsx(ue,{workspaceId:s,data:n})})]})}const t=L({title:{id:"workspaceSettings.title",defaultMessage:"Settings"},retentionPolicyTitle:{id:"workspaceSettings.retentionPolicyTitle",defaultMessage:"Retention policy"},sharingSettingsTitle:{id:"workspaceSettings.sharingSettingsTitle",defaultMessage:"Sharing"},memoryFeatureSettingsTitle:{id:"workspaceSettings.memoryFeatureSettingsTitle",defaultMessage:"Memory"},memoryOptionTitle:{id:"workspaceSettings.memoryOptionTitle",defaultMessage:"Allow members to use memory"},workspaceMemoryDescription:{id:"workspaceSettings.workspaceMemoryDescription",defaultMessage:"Manage whether members can enable memory. This allows ChatGPT to become more helpful by remembering details and preferences across chats. <link>Learn more</link>"},deleteWorkspaceMemoryModalTitle:{id:"workspaceSettings.deleteWorkspaceMemoryModalTitle",defaultMessage:"Are you sure?"},deleteWorkspaceMemoryModalConfirm:{id:"workspaceSettings.deleteWorkspaceMemoryModalConfirm",defaultMessage:"Disable and delete memories"},deleteWorkspaceMemoryModalCancel:{id:"workspaceSettings.deleteWorkspaceMemoryModalCancel",defaultMessage:"Cancel"},deleteWorkspaceMemoryModalInfo:{id:"workspaceSettings.groups.deleteWorkspaceMemoryModalInfo",defaultMessage:"If you disable memory for your workspace, <b>members' existing memories will be forgotten</b>. This can't be undone."},chatSharingTitle:{id:"workspaceSettings.chatSharingTitle",defaultMessage:"Chats can be shared with..."},workspaceDetails:{id:"workspaceSettings.workspaceDetails",defaultMessage:"Workspace details"},workspaceMembersOnlySelect:{id:"workspaceSettings.workspaceMembersOnlySelect",defaultMessage:"Workspace members only"},noOneSelect:{id:"workspaceSettings.noOneSelect",defaultMessage:"No one"},featureSettingsUpdateFailed:{id:"workspaceSettings.featureSettingsUpdateFailed",defaultMessage:"Failed to update feature setting"},conversationRetention:{id:"workspaceSettings.conversationRetention",defaultMessage:"Chat retention"},retentionInfinite:{id:"workspaceSettings.retentionInfinite",defaultMessage:"Infinite"},retentionNinetyDays:{id:"workspaceSettings.retentionNinetyDays",defaultMessage:"90 days"},retentionOneYear:{id:"workspaceSettings.retentionOneYear",defaultMessage:"1 year"},retentionCustomDays:{id:"workspaceSettings.retentionCustomDays",defaultMessage:"{num} days"},retentionChange:{id:"workspaceSettings.retentionChange",defaultMessage:"Contact your account manager to change this setting."},enterpriseUpsellPill:{id:"workspaceSettings.enterpriseUpsellPill",defaultMessage:"Enterprise"},retentionSettingTooltip:{id:"workspaceSettings.retentionSettingTooltip",defaultMessage:"Contact your account manager to change this setting"},enterpriseRequiredMessage:{id:"workspaceSettings.enterpriseRequiredMessage",defaultMessage:"Only workspaces with the Enterprise plan can change these settings"},contextConnectorsTitle:{id:"workspaceSettings.contextConnectorsTitle",defaultMessage:"Connected Apps"},contextConnectorsSubtitle:{id:"workspaceSettings.contextConnectorsSubtitle",defaultMessage:"Manage which apps users in this workspace can connect to directly from ChatGPT. For more information, refer to the {helpCenterLink}."},contextConnectorsHelpCenterLink:{id:"workspaceSettings.contextConnectorsHelpCenterLink",defaultMessage:"Help Center"},contextConnectorsGoogleDrive:{id:"workspaceSettings.contextConnectorsGoogleDrive",defaultMessage:"Google Drive"},contextConnectorsO365PersonalTooltip:{id:"workspaceSettings.contextConnectorsO365PersonalTooltip",defaultMessage:"This includes personal OneDrive accounts but not OneDrive for Business or SharePoint accounts."},contextConnectorsO365BusinessTooltip:{id:"workspaceSettings.contextConnectorsO365BusinessTooltip",defaultMessage:"This includes OneDrive for Business and SharePoint accounts but not personal accounts."}});function A(s){return e.jsx(fe,{...s})}A.getLayout=function(n){return e.jsx(Y,{mobilePageTitle:"Settings",requireAdminPrivileges:!0,children:n})};function ot(){const s=ae();return re(),e.jsx(A,{...s})}export{ot as default};
//# sourceMappingURL=b00fha6vlsazt3zo.js.map
