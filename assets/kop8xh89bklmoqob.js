import{j as r,h as S,r as c,t as m,R as b,b9 as f,ba as h}from"./hc9xxm00a3r3byem.js";import{u as O}from"./dh1kzidoqedmknvy.js";import"./fga5qe14lr2llx8v.js";function g(t){return r.jsx(E,{...t})}function E({pluginId:t,code:n,state:i,error:e,errorDesc:u}){const s=S(),o=c.useRef(!1);return c.useEffect(()=>{if(o.current===!0)return;o.current=!0;async function p(){const R=`https://chat.openai.com/aip/${t}/oauth/callback`;try{const a=await b.pluginOauthCallback(t,n,R,i);if(a.success){const l=new URL(f(h.OAUTH_SUCCESS,a.redirect_path));l.searchParams.set("oauth_success","true"),s.push(l.toString())}else s.push(f(h.CUSTOM_ERROR,a.redirect_path,a.error??a.message))}catch{s.push(`/?model=gpt-4-plugins&loginAip=${t}&loginSuccess=false`)}}p()},[t,n,i,s]),c.useEffect(()=>{e&&m.danger(`${e}${u?`: ${u}`:""}`,{duration:5})},[e,u]),r.jsx("div",{})}function C(){const t=O();return r.jsx(g,{...t})}export{C as default};
//# sourceMappingURL=kop8xh89bklmoqob.js.map
