import{A as m,j as e,ax as w,a3 as h,T as r,aV as v,I as C,u as N,v as A,r as d,a4 as W,bK as b,bL as y,bM as M,c as O,aO as T}from"./hc9xxm00a3r3byem.js";import{u as z}from"./nug034oo81goid6a.js";import{V as p}from"./ozzpumen10p6g0yq.js";import{a as E,U as L,A as R}from"./lxui8l23v2tzixf9.js";import{s as P,S as U}from"./fga5qe14lr2llx8v.js";import{u as V,a as D}from"./nbrfb6b5fqz7ea4t.js";function F({workspace:s}){const t=N(),c=p(),n=A(),a=(n==null?void 0:n.id)===s.id,x=a?"div":"button",[f,S]=d.useState(!1),o=z(),l=W(),j=d.useCallback(async()=>{S(!0);const{willRedirect:g}=b(t,s.id,o,l);y.disableTemporaryChat(),g||M()},[t,s.id,o,l]),k=D(s);let u=e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(E,{src:s.data.profilePictureUrl,size:"medium"})});if(s.structure===m.PERSONAL){if(!c)return null;u=e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(L,{user:c,customStyle:!0,size:R.workspaceMedium,className:"h-9 w-9 overflow-hidden rounded-full"})})}return e.jsxs(x,{onClick:a?h:j,className:O({"flex w-full items-center gap-2 rounded-lg border border-token-border-medium bg-token-main-surface-primary p-4 hover:bg-token-main-surface-secondary":!0,"bg-token-sidebar-surface-secondary":a,"opacity-50":!s.canAccessWithCurrentSession}),children:[e.jsxs("div",{className:"flex w-full items-center gap-4",children:[u,e.jsxs("div",{className:"inline text-left align-top font-semibold",children:[e.jsx("p",{children:k}),!s.canAccessWithCurrentSession&&e.jsx("p",{className:"leading-4",children:e.jsx("small",{className:"text-token-text-secondary",children:e.jsx(r,{...s.ssoConnectionName?i.authenticateWithSSOToAccessWorkspace:i.authenticateWithoutSSOToAccessWorkspace})})})]})]}),e.jsx("div",{className:"flex h-full items-center p-1",children:f?e.jsx(T,{}):a?e.jsx(P,{className:"icon-lg"}):e.jsx(U,{className:"icon-lg my-auto"})})]})}function I({data:s}){const t=s.map(c=>e.jsx(F,{workspace:c},c.id));return e.jsx("div",{className:"flex w-full flex-col gap-2",children:t})}function H(){const s=V(),t=p(),c=(t==null?void 0:t.email)??"";if(!s||s.length===0)return null;const n=s.filter(a=>a.structure===m.WORKSPACE);return e.jsx(w,{isOpen:!0,onClose:h,type:"success",size:"normal",title:e.jsxs("div",{className:"flex flex-col",children:[e.jsx(r,{...i.workspaceSwitcherTitle}),e.jsx("span",{className:"mt-0.5 text-sm text-token-text-secondary",children:c})]}),children:e.jsxs("div",{className:"flex w-full flex-col items-center justify-between",children:[e.jsx(I,{data:s}),e.jsx("span",{className:"mt-4 text-sm text-token-text-secondary",children:e.jsx(r,{...i.workspaceSwitcherDisclaimer,values:{workspaces:e.jsx("span",{className:"contents font-bold",children:e.jsx(v,{value:n.map(a=>a.data.name)})}),numWorkspaces:n.length}})})]})})}const i=C({workspaceSwitcherTitle:{id:"workspaceSwitcher.title",defaultMessage:"Select a workspace"},workspaceSwitcherDisclaimer:{id:"workspaceSwitcher.disclaimer",defaultMessage:"You've been added to the {workspaces} {numWorkspaces, plural, one {workspace} other {workspaces}}. You can switch between workspaces at any time."},authenticateWithSSOToAccessWorkspace:{id:"CV7pdM",defaultMessage:"Authenticate with SSO to access this workspace"},authenticateWithoutSSOToAccessWorkspace:{id:"zfCWFh",defaultMessage:"Authenticate without SSO to access this workspace"}});export{I as W,H as a};
//# sourceMappingURL=lamtvuipqt8q6qja.js.map
