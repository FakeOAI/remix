const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/bn2lhx6zke7nwlez.js","assets/mvabgae368c8ppg9.js","assets/hrs6fo7evr0q6t9c.js","assets/root-erhliqbe.css","assets/gne0fkkyhu79w0cj.js","assets/conversation-small-cll5buey.css","assets/ia6dvimohnab119m.js","assets/lzx8u2ugd2jcjw0l.js","assets/hrszfqnlwp1fnoth.js","assets/odxqs5vnww3rcto3.js","assets/cgndeylrkni3styz.js","assets/fj28aivwf4skbrrx.js","assets/e4lojulx63yb1fnu.js","assets/o111ibb1bcko4w48.js","assets/cgk4v2mv167tmqt6.js","assets/b7a77rg3i6isvtx3.js","assets/e9lafxuzyeh4418f.js","assets/enn75q6lufvi0ugh.js","assets/gmmvbkxe5ey7g9kx.js","assets/fi4dbewtphuge1gs.js","assets/eh99r9ci7rtdh7f8.js","assets/m950isgow19hm7pr.js","assets/i0wzeah3lv8hvoq1.js","assets/hj1jdsdid85oic0g.js","assets/lbjjhxggsgjm93zr.js","assets/h8c08huq7kdim7pd.js","assets/bys7numkrxh763iw.js","assets/f60kma9ld119vtbt.js","assets/eap3oc6wp9aeta5h.js","assets/im6spfpu2oz5vkzx.js","assets/ja5yiuzt0jg5rwmc.js","assets/dgfuep7jsa6pxgqx.js","assets/b669a0zimaxtcgyl.js","assets/exhv42gchdg4vfzm.js","assets/jvuca0rk2cvjtjrs.js","assets/dc3ketpbjxrcwv04.js","assets/gskqphax9f4k4ik4.js","assets/i984y42mqndoktmp.js","assets/ucpvc4ta8yil70uu.js","assets/imrwt71oa8fmnhl5.js","assets/n7jfa885wv0avc0l.js","assets/cojqbzkombffjeya.js","assets/ezrmoia1d6h4krs5.js","assets/hmuncssfpps8h6ok.js","assets/kqwdyvkaaavvn8k3.js","assets/np3rr7ous6cjv8o6.js","assets/jv0uw18tfndajmj9.js","assets/ibdqb8lli6027nlw.js","assets/fitya7xuihoil20t.js","assets/cqabv93m3nqi2ee0.js","assets/ds56ixz99grd6nso.js","assets/lbelamjx5v2ke3sk.js","assets/mo8efe3rhm77613j.js","assets/fnnmpe5g5wncje2c.js","assets/cd4k14fiiyh8e58o.js","assets/d0massf6araxn800.js","assets/hlzi36ofuxuaifou.js","assets/983a0dy92b3ronpv.js","assets/rl4y52esdvzse089.js","assets/hu3pgn75wy55f817.js","assets/msipipmnnjcgrg74.js","assets/jcldnvik6qpgpua8.js","assets/jgpbxydxgj2mlcoz.js","assets/bi0urjjrppg6dr7p.js","assets/jtjwt6ccfv7khex0.js","assets/eooucqt6zddlxun3.js","assets/j7e6ydqsjfmeldzn.js","assets/kmeibvu7ww7a0ptp.js","assets/cyt4snlewvgjxrdj.js","assets/yb94smk3y0c5djck.js","assets/gbmbc5zdl79rd60t.js","assets/jasdpsvk91c5bpc8.js","assets/gv7no9unqgv4yzqm.js","assets/daiz30nu255kiwq2.js"])))=>i.map(i=>d[i]);
import{y as e,bw as ae,aZ as Pe,a_ as Le,aX as Ne,r,D as q,av as R,l as De,S as U,P as pe,b as xe,a1 as E,a6 as Q,W as os,X as Y,a9 as ns,a7 as rs,Z as g,$ as m,ag as Ie,bJ as is,bI as cs,bG as ls,aR as ds,w as Be,eb as be,bq as Ve,br as us,a3 as hs,au as fs,O as x,aw as gs,u as ms,f5 as ps,ce as Re,ar as xs,az as Fe,a8 as bs,d1 as S,c3 as Cs,fg as Ss,x as Ce,aW as ys,dI as Se,bi as js,bj as Ms,bk as vs,bR as ks,j as As}from"./mvabgae368c8ppg9.js";import{s as ws,k as te,f as oe,j as _s}from"./h8c08huq7kdim7pd.js";import{hJ as ne,eP as Es,hK as We,hL as He,hM as Ts,hN as Ge,u as Os,hO as Ps,hP as Ls,S as Ns,hQ as Ds,hR as Is,ch as K,hS as Bs,hT as Vs,hU as Rs,hV as Fs,eG as Ws,hW as Hs,hX as Gs,hY as $s,hZ as zs,h_ as Us,h$ as Ks,i0 as qs,i1 as Qs,i2 as Ys,i3 as Xs,i4 as Zs,i5 as Js,i6 as ea,i7 as sa,i8 as aa,i9 as ta,ia as oa,ib as na,ci as re,ic as ra,id as ia,eY as ca,eB as $e,c5 as ee,f0 as ye,ie as ze,ig as Ue,hc as la,aD as da,ih as ua,hl as je,fM as ha,bS as se,bT as Me,bY as Ke,cw as fa,ii as ga,bZ as ve,ij as ma,ik as pa,ca as xa,il as ba,ag as Ca,im as Sa,au as ya,eK as ja,c7 as ke,c8 as Ma,gh as va,io as ka,ip as Aa,iq as wa,ir as _a,c0 as Ea,c1 as Ae,is as Ta,r as Oa,cl as Pa,it as La,cy as Na,cm as Da,dd as Ia,iu as Ba,de as Va,iv as Ra}from"./gne0fkkyhu79w0cj.js";import{U as b,G as I,u as T,c as qe,b as Fa}from"./cgk4v2mv167tmqt6.js";import{a as Wa,b as Ha,v as Ga,T as F,c as $a,d as za,n as Ua}from"./hrszfqnlwp1fnoth.js";import{u as Ka,a as Qe}from"./fj28aivwf4skbrrx.js";import{L as qa}from"./e4lojulx63yb1fnu.js";import{S as we,b as Qa,c as Ya,N as Xa}from"./msipipmnnjcgrg74.js";import{u as Ye,b as Za,g as Ja}from"./jcldnvik6qpgpua8.js";import{S as et,C as st}from"./jgpbxydxgj2mlcoz.js";import{T as at,f as tt,b as Xe}from"./eh99r9ci7rtdh7f8.js";import{T as Ze}from"./jtjwt6ccfv7khex0.js";import{m as _e}from"./odxqs5vnww3rcto3.js";import{a as Ee}from"./bi0urjjrppg6dr7p.js";import{aL as ot,bK as nt,V as rt}from"./hrs6fo7evr0q6t9c.js";import{C as it}from"./eooucqt6zddlxun3.js";const ct=60*60*24;function lt(s,a=!1){return ae()==null||a?"loading":!s||Pe.getCookie(Le.AgeVerification)||s.ageVerificationDeadline==null||s.ageVerificationType==="none"?"hide":"show"}function dt({onClose:s}){const{data:{ageVerificationType:a,ageVerificationDeadline:t}={}}=ne();return a==="passive"?e.jsx(ut,{onClose:s}):a==="countdown"&&t!=null?e.jsx(ht,{onClose:s,ageVerificationDeadline:t}):null}const ut=({onClose:s})=>{const{country:a}=Ne();return r.useEffect(()=>{q.addAction("privacy_policy.show_age_verification_modal",{country:a})},[a]),e.jsx(Es,{onClose:s,title:"OpenAI 서비스 이용 가능 연령기준을 확인해 주세요",description:e.jsx("div",{className:"whitespace-pre-wrap",children:e.jsxs("p",{children:["ChatGPT를 이용해주셔서 감사합니다. 대한민국의 법령상 요건을 준수하기 위해, OpenAI는 귀하가 OpenAI 서비스를 이용할 수 있는 나이인지 확인하여야 합니다. ChatGPT를 계속 이용하시려면, 귀하가 18세 이상이거나, 14세 이상이고 부모 또는 보호자의 허락을 받았음을 확인해 주세요.",e.jsx("br",{}),e.jsx("br",{}),"OpenAI의 연령기준 미달시"," ",e.jsx("a",{href:"https://privacy.openai.com/policies?action=ERASURE&modal=log-in",className:"underline",target:"_blank",rel:"noreferrer",children:"이 페이지에서 계정을 삭제해 주세요."})]})}),actionButton:e.jsx(R,{color:"primary",onClick:async()=>{await De.updateAgeVerification(),s()},children:"저는 OpenAI의 연령기준을 충족합니다"}),cancelButton:e.jsx(R,{as:"link",color:"secondary",to:"/auth/logout",children:"로그아웃"})})},ht=({onClose:s,ageVerificationDeadline:a})=>{const t=a!=null?Math.floor(a/60/60/24):0;r.useEffect(()=>{U.logEvent("chatgpt_compliance_age_verification_seen"),pe.logEvent(xe.complianceAgeVerificationSeen)},[]);const{country:o}=Ne();return r.useEffect(()=>{q.addAction("privacy_policy.show_age_verification_countdown",{country:o})},[o]),e.jsxs(We,{children:[e.jsx(He,{className:"text-sm font-semibold [grid-area:_title]",children:e.jsx(E,{...Te.ageVerificationTitle,values:{deadline:t,learnMoreLink:c=>e.jsx("a",{href:"https://help.openai.com/en/articles/8411987-why-am-i-being-asked-to-verify-my-age",target:"_blank",rel:"noreferrer",className:"cursor-pointer font-normal underline",children:c})}})}),e.jsx(Ts,{altText:"Dismiss notification",asChild:!0,children:e.jsx(R,{color:"primary",size:"small",onClick:()=>{U.logEvent("chatgpt_compliance_age_verification_clicked"),pe.logEvent(xe.complianceAgeVerificationClicked),Pe.setCookie(Le.AgeVerification,"true",{maxAge:ct,path:"/"}),s(),b.openModal(I.AgeVerificationInterstitial)},children:e.jsx(E,{...Te.startVerification})})}),e.jsx(Ge,{})]})},Te=Q({ageVerificationTitle:{id:"ageVerificationBanner.title-v1",defaultMessage:"Please verify your age in the next {deadline, plural, =0 {# days} one {# day} other {# days}}. We are required to check if you're old enough to use ChatGPT. <learnMoreLink>Learn more</learnMoreLink>."},dismiss:{id:"ageVerificationBanner.dismiss",defaultMessage:"Dismiss"},startVerification:{id:"ageVerificationBanner.startVerification",defaultMessage:"Start verification"},modalTitle:{id:"ageVerificationModal.title",defaultMessage:"Please confirm you meet our age requirements"},modalDescription:{id:"ageVerificationModal.description.1",defaultMessage:"Thank you for using ChatGPT. To comply with legal requirements in Korea, we need to confirm that you’re old enough to use our service. To continue on ChatGPT, please confirm that you are 18+ or are 14+ and have your parent or guardian’s permission to use ChatGPT. <deleteAccountLink>If you do not meet our age requirements, please delete your account.</deleteAccountLink>"},modalLogout:{id:"ageVerificationModal.logOut",defaultMessage:"Log out"},modalAction:{id:"ageVerificationModal.actionButton",defaultMessage:"I meet OpenAI's age requirements"}});function ft({onClose:s}){const a=Y(),t=ns(),{openSettings:o}=Os(),c=Ps(),{session:n}=rs(),{data:{isStorageComplianceEnabled:l}={}}=ne(),{data:i,isLoading:u}=Ls({enabled:!!(l&&n),select:p=>!p.cookie_consent.is_required});return r.useEffect(()=>{i===!0&&s()},[i,s]),u?null:e.jsx(gt,{onReject:()=>{c.mutateAsync({analytics_cookies_accepted:!1},{onSuccess(){t.success(a.formatMessage(D.updateSuccess))},onError(){t.danger(a.formatMessage(D.updateFailure))}}),s()},onAccept:()=>{c.mutateAsync({analytics_cookies_accepted:!0},{onSuccess(){t.success(a.formatMessage(D.updateSuccess))},onError(){t.danger(a.formatMessage(D.updateFailure))}}),s()},children:e.jsx(E,{id:"CookieConsentBanner.authedDescription.0",defaultMessage:"We use cookies and similar technologies to deliver, maintain, improve our services and for security purposes. Check our <cookiePolicy>cookie policy</cookiePolicy> for details. Click 'Accept all' to let OpenAI and partners use cookies for these purposes. Click 'Reject all' to say no to cookies, except those that are strictly necessary. Choose <manageLink>manage cookies</manageLink> to change your preferences.",values:{cookiePolicy:p=>e.jsx(qa,{href:"https://openai.com/policies/cookie-policy",openNewTab:!0,children:p}),manageLink:p=>e.jsx(mt,{onClick:()=>{o(Ns.DataControls)},children:p})}})})}function gt({children:s,onAccept:a,onReject:t}){return r.useEffect(()=>{q.addAction("privacy_policy.show_cookie_consent_banner")},[]),e.jsxs(We,{children:[e.jsxs(He,{className:"text-sm font-semibold [grid-area:_title]",children:[s,e.jsxs("div",{className:"mt-2 flex justify-end gap-3",children:[e.jsx(R,{color:"secondary",size:"small",onClick:t,children:e.jsx(E,{...D.reject})}),e.jsx(R,{color:"secondary",size:"small",onClick:a,children:e.jsx(E,{...D.accept})})]})]}),e.jsx(Ge,{})]})}const mt=os.button`underline font-normal text-green-600`,D=Q({cookieConsentBannerTitle:{id:"CookieConsentBanner.title",defaultMessage:"We use cookies to provide, improve, and protect our services. Visit our <privacyPolicyLink>privacy policy</privacyPolicyLink> to learn more. You can manage your cookie preferences in your <settingsPanel>settings panel</settingsPanel>. <learnMoreLink>Learn more</learnMoreLink>."},reject:{id:"CookieConsentBanner.reject",defaultMessage:"Reject all"},accept:{id:"CookieConsentBanner.accept",defaultMessage:"Accept all"},updateSuccess:{id:"CookieConsentBanner.updateSuccess",defaultMessage:"Your cookie preferences were updated successfully"},updateFailure:{id:"CookieConsentBanner.updateFailure",defaultMessage:"Unable to update cookie preferences. Try again later."}}),pt=g(()=>m(async()=>{const{ModelOnboardingNUXModal:s}=await import("./bn2lhx6zke7nwlez.js");return{ModelOnboardingNUXModal:s}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12])).then(({ModelOnboardingNUXModal:s})=>s),{ssr:!1}),xt=({onClose:s})=>{const a=Y(),t=K(re.isBusinessWorkspace),o=K(n=>n.currentWorkspace),c=t?a.formatMessage(Oe.workspaceWelcome,{workspaceName:o?.name}):"ChatGPT";return e.jsx(Ve,{isOpen:!0,onClose:us,type:"success",title:c,size:"custom",noPadding:!0,className:"max-w-3xl",description:a.formatMessage(Oe.personalOnboardingSubheading),children:e.jsx(ra,{onClose:s,scope:ia.Personal})})};function bt({clientThreadId:s}){const[a,t]=r.useState(0),{hasSeenOnboardingDate:o}=Ds(),{hasSeenTeamOwnerOnboardingDate:c}=Is(),n=K(re.isBusinessWorkspace),l=Ie(),[i,u]=r.useState(!1),{data:p,isPending:B}=ne(),O=lt(p,B),{eligible:M,isLoading:y}=Ka(),v=is(),_=cs(),k=ls(),P=Wa(()=>Ha.getThread(s)),h=Ga(s)||!P,L=F.getConversationOrigin(s),{data:C,isError:w}=ds(),A=C!=null,W=C&&C?.accountItems.length>1&&C.currentAccountId==null,H=C?.accountItems.some(d=>d.isPersonalAccount()),V=!!C?.accountItems&&C.accountItems.length>0&&C.accountItems.every(({canAccessWithCurrentSession:d})=>!d),{eligible:G,isLoading:X}=Bs(),{value:$}=Be("1542198993"),{punchOutRequireLoginInfo:f}=Vs(),{state:j}=Rs(),{isOpen:z,isLoading:ie}=Fs(),{isOpen:ce,isLoading:le}=Ws(),{isOpen:de,isLoading:ue}=Hs(),{isOpen:he,isLoading:fe}=Gs(),{state:ge}=$s(),N=r.useMemo(()=>[{Component:zs,getModalState:()=>f?"show":"hide",isDeferrable:!1},{Component:Us,getModalState:()=>j,isDeferrable:!1},{Component:Ks,getModalState:()=>ge,isDeferrable:!1},{Component:qs,getModalState:()=>ie||h?"loading":L===be.APPLE?"hide":z?"show":"hide",isDeferrable:!1},{Component:Qs,getModalState:()=>fe||h?"loading":L===be.APPLE?"hide":he?"show":"hide",isDeferrable:!1},{Component:xt,getModalState:()=>n?"hide":o===null?"loading":o===!1?"show":"hide",isDeferrable:!0},{Component:Ys,getModalState:()=>w?"hide":W?"show":A?"hide":"loading",isDeferrable:!1},{Component:Xs,getModalState:()=>v!==null?"show":w||A?"hide":"loading",isDeferrable:!1},{Component:Zs,getModalState:()=>_!==null?"show":w||A?"hide":"loading",isDeferrable:!1},{Component:Js,getModalState:()=>k!=null?"show":w||A?"hide":"loading",isDeferrable:!1},{Component:ea,getModalState:()=>A?V?"show":"hide":"loading",isDeferrable:!1},{Component:sa,getModalState:()=>le?"loading":ce?"show":"hide",isDeferrable:!1},{Component:aa,getModalState:()=>ue?"loading":de?"show":"hide",isDeferrable:!1},{Component:ft,getModalState:()=>"hide",isDeferrable:!1},{Component:ta,getModalState:()=>!l?.isTeam()||!l?.isOwnerOfAccount()||!H?"hide":!A||c===null?"loading":c===!1?"show":"hide",isDeferrable:!1},{Component:oa,getModalState:()=>n?o===null?"loading":o===!1?"show":"hide":"hide",isDeferrable:!0},{Component:na,getModalState:()=>X?"loading":G&&$?"show":"hide",isDeferrable:!1},{Component:dt,getModalState:()=>O,isDeferrable:!1},{Component:pt,getModalState:()=>y?"loading":M?"show":"hide",isDeferrable:!0,expiresAt:new Date(2024,7,13)}].filter(d=>!(d.isDeferrable&&i)&&(!d.expiresAt||d.expiresAt.getTime()>Date.now())),[f,j,k,A,o,c,H,y,n,w,v,_,l,V,W,O,M,i,$,G,X,z,ie,he,fe,ge,le,ce,de,ue,L,h]);r.useEffect(()=>{if(N[a]&&N[a].getModalState()==="hide"){const d=N.findIndex(ts=>ts.getModalState()!=="hide");t(d)}},[a,N]);const Z=N[a],J=Z?.getModalState()==="show";if(r.useEffect(()=>{const d=T.getState().activeModals.has(I.BlockingInitialComponent);J!==d&&(J?b.openModal(I.BlockingInitialComponent):b.closeModal(I.BlockingInitialComponent))},[J]),Z==null)return e.jsx("span",{"data-testid":"blocking-initial-modals-done",className:"hidden"});const me=Z.getModalState();if(me==="loading")return null;me==="hide"&&t(d=>d+1);const as=N[a].Component;return e.jsx(as,{onClose:()=>{u(!0),t(d=>d+1)}})}const Oe=Q({workspaceWelcome:{id:"BlockingInitialModals.workspaceWelcome",defaultMessage:"Welcome to the {workspaceName} workspace"},personalOnboardingSubheading:{id:"BlockingInitialModals.personalOnboardingSubheading",defaultMessage:"Tips for getting started"}}),Ct=g(()=>m(()=>import("./o111ibb1bcko4w48.js"),__vite__mapDeps([13,1,2,3,8,4,5,9,7,10,11,12,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,6,30,31,32,33,34,35,36,37,38,39,40,41])).then(s=>s.DebugConversationSidebar));function Je({clientThreadId:s}){St();const a=ae(),t=a?.includes("debug"),o=hs(),c=T(l=>l.activeSidebar),n=a?.includes("debug")&&c==="debug";return!t||!n?null:e.jsx(Ct,{clientThreadId:s,slideOver:!ca(o),onClose:()=>b.toggleActiveSidebar("debug"),isOpen:!0})}function St(){const a=ae()?.includes("debug");r.useEffect(()=>{if(!a)return;const t=new AbortController;return document.addEventListener("keydown",o=>{o.target instanceof HTMLElement&&["input","textarea","select","button"].includes(o.target.tagName.toLowerCase())||o.key==="\\"&&b.toggleActiveSidebar("debug")},{signal:t.signal}),()=>{t.abort()}},[a])}const yt=g(()=>m(()=>import("./ezrmoia1d6h4krs5.js"),__vite__mapDeps([42,1,2,3,4,5,43,8,9,44,45,7,10,46])).then(s=>s.SearchSources));function es({clientThreadId:s}){const{resolvedTheme:a}=fs(),t=a==="dark",{turnIndex:o,messageId:c,isOpen:n}=qe(),l=r.useCallback(()=>{b.closeChatThreadFlyout(s,c)},[s,c]);return!c||!o||!n?null:e.jsx($e,{anchor:"top",className:x("relative flex-1 border-l",t?"border-l-token-border-medium":"border-l-token-border-xlight"),name:"threadFlyOut",leading:e.jsx(ee,{name:"search-sources-header",type:"primary",className:x("flex min-h-[56px] items-center justify-end !bg-transparent p-1.5"),children:e.jsx("div",{className:"bg-token-main-surface-primary p-1",children:e.jsx(gs,{onClick:l})})}),children:e.jsx(yt,{clientThreadId:s,turnIndex:o,messageId:c,isInSidebar:!0})})}const jt=Object.freeze(Object.defineProperty({__proto__:null,ChatScreenSearchSourcesFlyout:es},Symbol.toStringTag,{value:"Module"}));function ss({clientThreadId:s}){r.useEffect(()=>{b.closeSharingModal()},[s]);const a=ms();r.useEffect(()=>(F.retainThread(s),()=>{setTimeout(()=>{a.invalidateQueries({queryKey:["conversation",s]})},0),F.releaseThread(s)}),[s,a]),r.useEffect(()=>()=>{U.checkGate("3922476776")||ye.abortAllRequests()},[s]);const t=r.useRef(s);r.useEffect(()=>{s!==t.current&&(U.checkGate("3922476776")||ye.clear(),t.current=s)},[s])}const Mt=g(()=>m(()=>import("./ibdqb8lli6027nlw.js"),__vite__mapDeps([47,1,2,3,4,5,22,23,9,24,7,8,10,25,26,11,12,27,14,28,29,6,48,49,50,51,52,53,54,17,55])).then(s=>s.CanvasFocusedViewManager)),vt=g(()=>m(()=>import("./hlzi36ofuxuaifou.js"),__vite__mapDeps([56,1,2,3,14,4,5,10,8,9,42,43,44,45,7,46,57])).then(s=>s.SearchResultsModal));function kt({clientThreadId:s,setClientThreadId:a,urlThreadId:t,prefetchSearch:o}){const c=$a();ss({clientThreadId:s});const{createNewThread:n,onThreadCreated:l,resetThread:i}=ws({clientThreadId:s,setClientThreadId:a});Ye({resetThreadAction:i,clientThreadId:s});const u=te(s);return e.jsxs(Ze,{clientThreadId:s,children:[e.jsx(ze,{clientThreadId:s,urlThreadId:t}),e.jsxs(we,{hideNavigation:c,mobileHeaderContent:e.jsx(at,{clientThreadId:s,inMobileHeader:!0}),mobileHeaderBottomContent:e.jsx(tt,{clientThreadId:s}),mobileHeaderLeftContent:e.jsx(Qa,{onNewChatButtonClick:i}),mobileHeaderRightContent:e.jsx(Ya,{onNewChatButtonClick:i}),sidebar:e.jsx(Xa,{navHeader:s?e.jsx(et,{className:"flex h-[60px] items-center md:h-header-height",onNewThread:n}):null,children:e.jsx(st,{clientThreadId:s,onNewThread:n})}),threadFlyout:e.jsx(es,{clientThreadId:s}),children:[e.jsx(Ue,{}),e.jsx(Xe,{clientThreadId:s,onCreate:l,prefetchSearch:o},s),e.jsxs(we.Sidebars,{children:[u&&e.jsx(Mt,{clientThreadId:s}),e.jsx(Je,{clientThreadId:s}),!1]})]}),e.jsx(At,{clientThreadId:s})]})}function At({clientThreadId:s}){const{value:a}=Be("218782548"),t=la(),{isOpen:o}=qe();return o&&(!t||!a)&&e.jsx(vt,{clientThreadId:s})}const wt=450;function _t({children:s,clientThreadId:a,isOpen:t,onClose:o}){return e.jsx(da,{children:t&&e.jsx(ps,{children:e.jsx(ua.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(_e.div,{className:"h-full w-full bg-token-main-surface-secondary",...je}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx("div",{className:"flex-grow overflow-auto",children:s}),e.jsx(_e.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:wt},...je,children:e.jsx("div",{className:"h-[100vh] pb-4",children:e.jsx(Xe,{clientThreadId:a,hideHeader:!0,hideFooter:!0,hideToolsOverlay:!0,messagesVerticalAlign:"bottom"},a)})})]})]})})})})}const Et=g(()=>m(()=>import("./rl4y52esdvzse089.js"),__vite__mapDeps([58,1,2,3,4,5,25,26,7,8,9,10,11,12,27,14,28,29,6]))),Tt=g(()=>m(()=>import("./hu3pgn75wy55f817.js"),__vite__mapDeps([59,1,2,3,4,5,37,25,26,7,8,9,10,11,12,27,14,28,29,6,60,39,61,62,63,20,21,22,23,24,30,31,32,33,34,35,36,38,40,41,64,65])).then(s=>s.ImageEditor));function Ot({clientThreadId:s}){const a=ha();r.useEffect(()=>{se.close()},[s]);let t;return a?.type===Me.ADAVisualization?t=e.jsx(Et,{clientThreadId:s,visualization:a.visualization}):a?.type===Me.Image&&(t=e.jsx(Tt,{clientThreadId:s,messageId:a.messageId,image:a.image,allImages:a.allImages},a.image.asset_pointer)),e.jsx(_t,{clientThreadId:s,isOpen:a!=null,onClose:se.close,children:t})}const Pt=()=>{const s=Y(),a=T(n=>n.activeModals.has(I.KeyboardActions)),t=()=>{b.closeModal(I.KeyboardActions)},o=Za(),c=r.useMemo(()=>{const n=Math.ceil(o.length/2);return[o.slice(0,n),o.slice(n)]},[o]);return e.jsx(Ve,{isOpen:a,onClose:t,type:"success",size:"custom",className:"md:max-w-[672px] lg:max-w-[796px] xl:max-w-4xl",showCloseButton:!0,title:s.formatMessage(Dt.keyboardActionsModalTitle),children:e.jsx(e.Fragment,{children:e.jsx("div",{className:"grid grid-flow-row grid-cols-[repeat(auto-fit,minmax(250px,1fr))] gap-x-9",children:c.map((n,l)=>e.jsx("div",{className:"flex flex-col overflow-hidden",children:n.map(i=>e.jsx(Lt,{action:i},i.key))},`col-${l}`))})})})},Lt=({action:s})=>e.jsxs("div",{className:"flex items-center justify-between overflow-hidden text-token-text-primary",children:[e.jsx("div",{className:"flex flex-shrink items-center overflow-hidden text-sm",children:e.jsx("div",{className:"truncate",children:e.jsx(E,{...s.actionMessageDescriptor})})}),e.jsx("div",{className:"ml-3 flex flex-row gap-2",children:Ja(s.keyboardBinding).map((a,t)=>e.jsx(Nt,{keyName:a},`${s.key}-${t}`))})]}),Nt=({keyName:s})=>{const a=x("my-2 flex h-8 items-center justify-center rounded-md border border-token-border-light capitalize text-token-text-secondary");return s.length>1?s.length>3?e.jsx("div",{className:x(a,"min-w-[50px]"),children:e.jsx("span",{className:"text-xs",children:s})}):e.jsx("div",{className:x(a,"min-w-[32px]"),children:e.jsx("span",{className:"text-xs",children:s})}):e.jsx("div",{className:x(a,"min-w-[32px]"),children:e.jsx("span",{className:"text-sm",children:s})})},Dt=Q({keyboardActionsModalTitle:{id:"KeyboardActionsModal.keyboardActionsModalTitle",defaultMessage:"Keyboard shortcuts"}});function It(){const s=Ke(),{conversations:a}=Qe();return{isCollapsible:s&&a.length>5,recentConversationLimit:5}}function Bt({clientThreadId:s}){const a=za(s),t=Re(),{isCollapsible:o,recentConversationLimit:c}=It(),n={buckets:o,recentConversationLimit:c},l=r.useRef(!1),i=T(f=>f.isHistoryCollapsed),{conversations:u,buckets:p,hasNextPage:B,fetchNextPage:O,data:M,isLoading:y,isFetchingNextPage:v,isError:_,recents:k,refetch:P}=Qe(n),[h,L]=r.useState(!0),C=r.useCallback(function(j){j===void 0&&L(!1),P({cancelRefetch:!0})},[P,L]),w=t?void 0:a,A=i&&k.items.length>0,W=!i&&p.length>0,H=u.length===0,V=_||M===void 0&&!y&&!v&&l.current,G=!V&&(M===void 0||y||v);M===void 0&&!y&&!l.current&&(l.current=!0,C(!0)),r.useMemo(()=>{fa.publish({kind:"refreshHistory",conversations:u})},[u]);const $=B&&!H&&!i&&!y&&!v;return e.jsxs(e.Fragment,{children:[V&&e.jsx(ga,{showRetry:h,refetch:C}),A&&e.jsx(ve,{header:k.label,children:k.items.map((f,j)=>e.jsx(Ee,{item:f,isActive:f.id===w,testId:`history-item-${j}`},f.id))}),W&&p.map(f=>e.jsx(ve,{header:f.label,children:f.items.map((j,z)=>e.jsx(Ee,{item:j,isActive:j.id===w,testId:`history-item-${z}`},j.id))},f.key)),G&&e.jsx(xs,{className:"sticky top-4 z-30 mt-4 justify-self-center"}),o&&e.jsx(Fe,{children:e.jsx("div",{className:"-ml-2 mb-5",children:e.jsx("div",{hidden:!i,className:x(!i&&"hidden"),children:e.jsx(ma,{type:"more",onClick:b.expandHistory})})})}),$&&e.jsx(pa,{onPaginate:O})]})}const Vt=g(()=>m(()=>import("./j7e6ydqsjfmeldzn.js"),__vite__mapDeps([66,1,2,3,33,7,4,5,8,9,10,14,62,26,63,11,12,6,61,25,27,28,29])).then(s=>s.GizmoSidebarList));function Rt({clientThreadId:s}){const a=Ie(),t=Ua(s),{isUnauthenticated:o}=bs();return o?null:e.jsxs("div",{className:x(S.screenContent),children:[null,e.jsx(Bt,{clientThreadId:s}),a?.canInteractWithGizmos()?e.jsx(Vt,{currentGizmoId:t}):null]})}const Ft=g(()=>m(()=>import("./kmeibvu7ww7a0ptp.js"),__vite__mapDeps([67,1,2,3,14,4,5,10,8,9,25,26,7,11,12,27,28,29,6,60,39])).then(s=>s.UserProfileBar),{ssr:!0});function Wt(){const s=T(a=>a.isHistoryCollapsed);return e.jsxs(xa,{className:x(S.screenTrailingBarContainer),children:[e.jsx(Fe,{children:e.jsx(ba,{hidden:s,onClick:b.collapseHistory,children:e.jsx(E,{id:"1poXLj",defaultMessage:"See less"})})}),e.jsx(Ft,{})]})}const Ht=g(()=>m(()=>import("./cyt4snlewvgjxrdj.js"),__vite__mapDeps([68,1,2,3,4,5,69,70,8,9,71,61,6,7,10,11,12,14])).then(s=>s.FannyPackIconButton),{ssr:!1});function Gt({onNewThread:s}){const a=Y(),t=Fa(),o=T(n=>n.sidebarState===Ca.Floating);Sa({checkElement:n=>n?.tagName==="NAV",enabled:!t&&o,onLightDismiss(){const n=document.querySelector(`input[name="${ke.OpenOrClosed}"]`);n&&(n.checked=!1)}});const{isFannyPackEnabled:c}=ya();return e.jsxs(e.Fragment,{children:[e.jsx(ee,{type:"primary",className:x(S.screenHeader),children:e.jsxs("div",{className:"mt-[3px] flex min-h-[var(--screen-thread-header-min-height)] w-full flex-1 items-center justify-between pl-[3px]",children:[e.jsx("div",{className:"grid items-center gap-1",children:e.jsx(ja,{className:x(S.closeSidebarAction),checked:!t,onChange:n=>{n.currentTarget.checked?b.openSidebar():b.closeSidebar()},icon:e.jsx(ot,{className:S.sidebarIcon}),label:a.formatMessage({id:"fM0vj3",defaultMessage:"Close Sidebar"}),group:ke.OpenOrClosed})}),e.jsxs("div",{className:"flex items-center gap-3",children:[c&&e.jsx(Ht,{className:S.searchAction,icon:e.jsx(nt,{className:S.sidebarIcon})}),e.jsx(Cs,{to:"/",onClick:n=>{n.preventDefault(),s()},children:e.jsx(Ma,{icon:e.jsx(rt,{className:S.sidebarIcon}),className:S.searchAction,label:a.formatMessage({id:"NUNaGU",defaultMessage:"New chat"})})})]})]})}),e.jsx(ee,{type:"primary",className:S.bucketBar,disableSizeTracking:!0,children:" "})]})}function $t(){const{clientThreadId:s,onNewThread:a}=oe();return e.jsx($e,{anchor:"vertical",className:x(S.screen,"popover flex-1 border-r border-r-token-border-xlight"),name:"sidebar",leading:e.jsx(Gt,{onNewThread:a}),trackLeading:!0,trailing:e.jsx(Wt,{}),children:e.jsx(Rt,{clientThreadId:s})})}const zt=g(()=>m(()=>import("./ibdqb8lli6027nlw.js"),__vite__mapDeps([47,1,2,3,4,5,22,23,9,24,7,8,10,25,26,11,12,27,14,28,29,6,48,49,50,51,52,53,54,17,55])).then(s=>s.CanvasFocusedViewManager)),Ut=g(()=>m(()=>Promise.resolve().then(()=>jt),void 0).then(s=>s.ChatScreenSearchSourcesFlyout));function Kt(){const{clientThreadId:s,resetThread:a}=oe();return Ye({resetThreadAction:a,clientThreadId:s}),null}function qt(){const{clientThreadId:s,currentModelId:a,isCompanionWindow:t}=oe();return e.jsx(ka,{conversationId:s,currentModelId:a,isActiveWindow:!t})}function Qt({clientThreadId:s,setClientThreadId:a,urlThreadId:t}){ss({clientThreadId:s});const o=te(s);return e.jsxs(_s,{clientThreadId:s,setClientThreadId:a,children:[e.jsx(qt,{}),e.jsx(Kt,{}),e.jsxs(Ze,{clientThreadId:s,children:[e.jsx(ze,{clientThreadId:s,urlThreadId:t}),e.jsx(Ue,{}),e.jsx(va,{className:Ss.application,sidebar:e.jsx($t,{}),thread:e.jsx(it,{}),details:o&&e.jsx(zt,{clientThreadId:s}),threadExtendedInfo:e.jsx(Ut,{clientThreadId:s}),debugger:e.jsx(Je,{clientThreadId:s}),name:"application-root"})]})]})}var Yt={};const Xt=g(()=>m(()=>import("./gv7no9unqgv4yzqm.js"),__vite__mapDeps([72,1,2,3,4,5,25,26,7,8,9,10,11,12,27,14,28,29,6,73])));function xo(s){const{urlThreadId:a,clientThreadId:t,prefetchSearch:o}=s;Jt();const c=Re(),n=Ce(),[l]=ys(),[i,u]=r.useState(()=>a!==void 0?a:t!==void 0?t:Se());a!==void 0&&i!==a&&F.getServerThreadId(i)!==a&&u(a);const p=Aa(Ce());r.useEffect(()=>{a===void 0&&F.getServerThreadId(i)!==void 0&&u(Se())},[a,i,p]);const B=K(re.workspaceId);te(i);const O=Ke(),{eligible:M,isLoading:y,markAsViewed:v}=wa(),_=_a();r.useEffect(()=>{(n.pathname==="/"||n.pathname.startsWith("/c/"))&&Ea({namespace:Ae.ChatPageLoad})==null&&(Ta({namespace:Ae.ChatPageLoad,opts:{expectedTimingLogs:[{name:"render_model_switcher",expectedInMs:1e4},{name:"render_history_items",expectedInMs:25e3}]}}),q.addTiming("chatgpt.web.chatPage.mounted"))},[]);const k=Oa();r.useEffect(()=>{js(!0).then(h=>{h.force_login&&k({authType:"login"}),Ms.initializeAndGatherData(h),Pa.initializeAndGatherData(h),vs.initializeAndGatherData(h)})},[k]),r.useEffect(()=>{const h=l.get(La)==="true";c!==h&&ks.setIsTemporaryChatEnabled(h)},[c,l]),r.useEffect(()=>{n.state?.focusObject&&se.setFocusedObject(n.state.focusObject)},[n.state?.focusObject]),r.useEffect(()=>{!y&&M&&(v(),_())},[M,y,v,_]);const P=O?Qt:kt;return e.jsx(Na.Provider,{value:null,children:e.jsx(Da,{children:e.jsxs(Ia,{clientThreadId:i,children:[e.jsx(bt,{clientThreadId:i},B),e.jsx(Pt,{}),e.jsx(Ba,{}),e.jsx(P,{urlThreadId:a,clientThreadId:i,setClientThreadId:u,prefetchSearch:o}),e.jsx(Ot,{clientThreadId:i}),e.jsx(Va,{clientThreadId:i}),e.jsx(Zt,{}),!1,e.jsx(Ra,{})]})})})}function Zt(){const s=T(a=>a.sharingModalThreadId);return s?e.jsx(Xt,{serverThreadId:s}):null}function Jt(){As({queryKey:["pingEdge"],queryFn:()=>De.pingEdge(),enabled:!0,staleTime:1/0})}typeof window<"u"&&(window._g=Yt.GOKU_SERVICE);export{xo as C,wt as F,es as a};
//# sourceMappingURL=n9dwzj1521ghymyz.js.map
