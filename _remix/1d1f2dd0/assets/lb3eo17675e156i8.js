const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/jin6ly8d8jlnbzbm.js","assets/lyvmbpf7ocwbhkqv.js","assets/c7ci0rjyj4htmm6k.js","assets/root-dcq62fgs.css","assets/g6lhcxpyem234o4q.js","assets/conversation-small-ict01xsi.css","assets/mgblivg7zbb6krjc.js","assets/nf0lyo87fmthbxnm.js","assets/fum5k2u9xxdkha3i.js","assets/g2ca5q7bw0mlea5j.js","assets/nwn7mr0xxa9yw8bk.js","assets/c3yevlrksv5keue9.js","assets/fnas3sx9icripad8.js","assets/dw2bwtw7gv4b633n.js","assets/f7hryzhmf6534y0i.js","assets/k2y9y6jp2p2f60qu.js","assets/jfec09n9f8qvv3j3.js","assets/hw10e1ayp99m2hf3.js","assets/20oui79okpigofgd.js","assets/dix6qsz4ydykm8n4.js","assets/kjmjj3btbfkn56qw.js","assets/jy6av4ks0llgf0y6.js","assets/ibroecjdj373sbno.js","assets/lzpplhc3tyxr1aci.js","assets/kqwdyvkaaavvn8k3.js","assets/nw3jrqq4fv08urtb.js","assets/cgcpzxkc72wdi609.js","assets/983a0dy92b3ronpv.js","assets/jzkmf4l5ki1xlxoi.js","assets/nluaas4fnxgsw45h.js","assets/j5w4166bn3c02o6l.js","assets/ma9w350fc5ophuxv.js","assets/eddeid75lpiwfdym.js","assets/gv9eg1ueo3b9mo9c.js","assets/eqgwjv8e4xrndo8v.js","assets/l6kds668segx6h78.js","assets/hhs3k8bcm5uv15y4.js","assets/d7ardb32tg47qq74.js","assets/oljcaee89w56bdme.js","assets/hsamjiygc1dmhwpj.js","assets/i5grc34zmg8ozgq0.js","assets/mm7o8pu900skmhu8.js"])))=>i.map(i=>d[i]);
import{aE as l,aF as u,j as e,y as Y,fK as E,r as n,ar as q,fE as w,ao as J,z as T,a4 as X,c6 as P,D as Z,bR as ee,bS as ae,bT as se,cx as te,l as re,N as oe}from"./lyvmbpf7ocwbhkqv.js";import{dd as ie,iJ as M,iK as ne,d5 as O,iL as b,Y as D,iM as k,id as de,iN as ce,gf as L,iO as R,iP as H,hW as le,bA as ue,a$ as W,br as he,iQ as y,iy as f,fp as me,bC as g,bD as A,eT as fe,iR as xe,iS as ge,v as N,iT as be,cb as je,iU as pe,iV as Ce,bN as ve,bO as V,iW as Se,m as _e,iX as Ee,iY as we,fn as Te,ab as Pe,d3 as ye,d4 as Ae,iZ as Ne,i_ as Ve,i$ as Fe,d6 as Ie,j0 as Me,cc as Oe,bM as De}from"./g6lhcxpyem234o4q.js";import{S as F,b as ke,c as Le,N as Re}from"./ma9w350fc5ophuxv.js";import{S as He,b as We,C as ze}from"./eddeid75lpiwfdym.js";import{T as z}from"./eqgwjv8e4xrndo8v.js";import{c as G,u as j}from"./mgblivg7zbb6krjc.js";import{C as K}from"./hsamjiygc1dmhwpj.js";import{m as x}from"./fum5k2u9xxdkha3i.js";const Ge=l(()=>u(()=>import("./jin6ly8d8jlnbzbm.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20])).then(a=>a.CanvasFocusedViewManager)),Ke=l(()=>u(()=>import("./jy6av4ks0llgf0y6.js"),__vite__mapDeps([21,1,2,3,4,5,22,23,24,25,26,8,27])).then(a=>a.SearchResultsModal));function Be({clientThreadId:a,setClientThreadId:s,urlThreadId:t,prefetchSearch:o}){const d=ie();M({clientThreadId:a});const{createNewThread:i,onThreadCreated:m,resetThread:r}=ne({clientThreadId:a,setClientThreadId:s});O({resetThreadAction:r,clientThreadId:a});const h=b();return e.jsxs(D,{enableSandbox:!1,clientThreadId:a,children:[e.jsx(k,{clientThreadId:a,urlThreadId:t}),e.jsxs(F,{hideNavigation:d,mobileHeaderContent:e.jsx(de,{clientThreadId:a,inMobileHeader:!0}),mobileHeaderBottomContent:e.jsx(ce,{clientThreadId:a}),mobileHeaderLeftContent:e.jsx(ke,{onNewChatButtonClick:r}),mobileHeaderRightContent:e.jsx(Le,{onNewChatButtonClick:r}),sidebar:e.jsx(Re,{navHeader:a?e.jsx(He,{className:"flex h-[60px] items-center md:h-header-height",onNewThread:i}):null,children:e.jsx(We,{clientThreadId:a,onNewThread:i})}),threadFlyout:e.jsx(L,{clientThreadId:a}),children:[e.jsx(R,{}),e.jsx(z,{clientThreadId:a,onCreate:m,prefetchSearch:o},a),e.jsxs(F.Sidebars,{children:[h&&e.jsx(Ge,{clientThreadId:a}),e.jsx(H,{clientThreadId:a}),!1]})]}),e.jsx(Ue,{clientThreadId:a})]})}function Ue({clientThreadId:a}){const{value:s}=Y("218782548"),t=le(),{isOpen:o}=ue();return o&&(!t||!s)&&e.jsx(Ke,{clientThreadId:a})}const I=450;function $e({children:a,clientThreadId:s,isOpen:t,onClose:o}){const d=W();return e.jsxs(he,{children:[t&&d&&e.jsx(G,{clientThreadId:s,children:e.jsx(E,{children:e.jsx(y.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(x.div,{className:"h-full w-full bg-token-main-surface-secondary",...f}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx("div",{className:"flex-grow overflow-auto",children:a}),e.jsx(x.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:I},...f,children:e.jsx(K,{hideHeader:!0,hideTools:!0})})]})]})})})}),t&&!d&&e.jsx(E,{children:e.jsx(y.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(x.div,{className:"h-full w-full bg-token-main-surface-secondary",...f}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx("div",{className:"flex-grow overflow-auto",children:a}),e.jsx(x.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:I},...f,children:e.jsx("div",{className:"h-[100vh] pb-4",children:e.jsx(z,{clientThreadId:s,hideHeader:!0,hideFooter:!0,hideToolsOverlay:!0,messagesVerticalAlign:"bottom"},s)})})]})]})})})]})}const Qe=l(()=>u(()=>import("./jzkmf4l5ki1xlxoi.js"),__vite__mapDeps([28,1,2,3,4,5]))),Ye=l(()=>u(()=>import("./nluaas4fnxgsw45h.js"),__vite__mapDeps([29,1,2,3,4,5,30,8,31,6,7,9,32,33,34,14,35,36,37,19,38,39])).then(a=>a.ImageEditor));function qe({clientThreadId:a}){const s=me();n.useEffect(()=>{g.close()},[a]);let t;return s?.type===A.ADAVisualization?t=e.jsx(Qe,{clientThreadId:a,visualization:s.visualization}):s?.type===A.Image&&(t=e.jsx(Ye,{clientThreadId:a,messageId:s.messageId,image:s.image,allImages:s.allImages},s.image.asset_pointer)),e.jsx($e,{clientThreadId:a,isOpen:s!=null,onClose:g.close,children:t})}function Je(){const{clientThreadId:a,resetThread:s}=j();return O({resetThreadAction:s,clientThreadId:a}),null}const Xe=l(()=>u(()=>import("./jin6ly8d8jlnbzbm.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20])).then(a=>a.CanvasFocusedViewManager));function Ze(){const{focusedObject:a,clientThreadId:s}=j(),t=b();return e.jsx(fe,{className:q(w.application,{[w.withFocusedView]:a}),sidebar:e.jsx(ze,{}),thread:e.jsx(K,{}),details:e.jsxs(e.Fragment,{children:[t&&e.jsx(Xe,{clientThreadId:s}),!1]}),threadExtendedInfo:e.jsx(L,{clientThreadId:s}),debugger:e.jsx(H,{clientThreadId:s}),name:"application-root"})}function ea(){const{clientThreadId:a,currentModelId:s,isCompanionWindow:t}=j();return e.jsx(xe,{conversationId:a,currentModelId:s,isActiveWindow:!t})}function aa({clientThreadId:a,setClientThreadId:s,urlThreadId:t,prefetchSearch:o}){return M({clientThreadId:a}),e.jsx(G,{clientThreadId:a,setClientThreadId:s,prefetchSearch:o,children:e.jsxs(ge,{children:[e.jsx(ea,{}),e.jsx(Je,{}),e.jsxs(D,{enableSandbox:!1,clientThreadId:a,children:[e.jsx(k,{clientThreadId:a,urlThreadId:t}),e.jsx(R,{}),e.jsx(Ze,{})]})]})})}var sa={};const ta=l(()=>u(()=>import("./i5grc34zmg8ozgq0.js"),__vite__mapDeps([40,1,2,3,4,5,41])));function fa(a){const{urlThreadId:s,clientThreadId:t,prefetchSearch:o}=a;oa();const d=J(),i=T(),[m]=X(),[r,h]=n.useState(()=>s!==void 0?s:t!==void 0?t:P());s!==void 0&&r!==s&&N.getServerThreadId(r)!==s&&h(s);const B=be(T());n.useEffect(()=>{s===void 0&&N.getServerThreadId(r)!==void 0&&h(P())},[s,r,B]);const U=je(Oe.workspaceId);b();const $=W(),{eligible:p,isLoading:C,markAsViewed:v}=pe(),S=Ce();n.useEffect(()=>{(i.pathname==="/"||i.pathname.startsWith("/c/"))&&ve({namespace:V.ChatPageLoad})==null&&(Se({namespace:V.ChatPageLoad,opts:{expectedTimingLogs:[{name:"render_model_switcher",expectedInMs:1e4},{name:"render_history_items",expectedInMs:25e3}]}}),Z.addTiming("chatgpt.web.chatPage.mounted"))},[]);const _=_e();n.useEffect(()=>{ee(!0).then(c=>{c.force_login&&_({authType:"login"}),ae.initializeAndGatherData(c),Ee.initializeAndGatherData(c),se.initializeAndGatherData(c)})},[_]),n.useEffect(()=>{const c=m.get(we)==="true";d!==c&&te.setIsTemporaryChatEnabled(c)},[d,m]),n.useEffect(()=>{i.state?.focusObject&&g.setFocusedObject(i.state.focusObject)},[i.state?.focusObject]),n.useEffect(()=>{!C&&p&&(v(),S())},[p,C,v,S]),Te();const Q=$?aa:Be;return e.jsx(Pe.Provider,{value:null,children:e.jsx(ye,{children:e.jsxs(Ae,{clientThreadId:r,children:[e.jsx(Ne,{clientThreadId:r},U),!1,e.jsx(Ve,{}),e.jsx(Fe,{}),e.jsx(Q,{urlThreadId:s,clientThreadId:r,setClientThreadId:h,prefetchSearch:o}),e.jsx(qe,{clientThreadId:r}),e.jsx(Ie,{clientThreadId:r}),e.jsx(ra,{}),!1,e.jsx(Me,{})]})})})}function ra(){const a=De(s=>s.sharingModalThreadId);return a?e.jsx(ta,{serverThreadId:a}):null}function oa(){re({queryKey:["pingEdge"],queryFn:()=>oe.pingEdge(),enabled:!0,staleTime:1/0})}typeof window<"u"&&(window._g=sa.GOKU_SERVICE);export{fa as C,I as F};
//# sourceMappingURL=lb3eo17675e156i8.js.map
