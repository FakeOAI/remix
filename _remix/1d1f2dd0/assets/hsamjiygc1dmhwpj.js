const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/4dhr4yqrn1zsluxc.js","assets/lyvmbpf7ocwbhkqv.js","assets/c7ci0rjyj4htmm6k.js","assets/root-dcq62fgs.css","assets/gjea48rjsbb8qkli.js","assets/g6lhcxpyem234o4q.js","assets/conversation-small-ict01xsi.css","assets/mgblivg7zbb6krjc.js","assets/nf0lyo87fmthbxnm.js","assets/fum5k2u9xxdkha3i.js","assets/g2ca5q7bw0mlea5j.js","assets/eqgwjv8e4xrndo8v.js","assets/f7hryzhmf6534y0i.js","assets/l6kds668segx6h78.js","assets/hhs3k8bcm5uv15y4.js","assets/d7ardb32tg47qq74.js","assets/dix6qsz4ydykm8n4.js","assets/oljcaee89w56bdme.js"])))=>i.map(i=>d[i]);
import{ao as X,K as Z,r as u,j as e,aE as P,aF as D,b6 as A,e6 as n,ar as j,Y as J,aY as ee,cR as se,S as ae,X as ne}from"./lyvmbpf7ocwbhkqv.js";import{fl as O,hX as U,de as B,ck as z,cf as V,hY as q,gd as W,hZ as te,cg as re,h_ as oe,b$ as ie,h$ as ce,i0 as de,fv as le,i1 as b,i2 as he,i3 as ue,i4 as me,i5 as Ce,i6 as xe,i7 as pe,v as ge,i8 as ve,dO as Te,i9 as fe,ia as $,ib as je,b0 as w,ic as Se,eQ as Ie,c2 as ye,id as be,ie as we,ig as Ee,ih as Ne,hg as Le,bA as Me,ii as _e,ij as Fe,ik as He,cG as ke,il as Re,ge as H,eU as Pe,eV as De}from"./g6lhcxpyem234o4q.js";import{u as E,i as N}from"./mgblivg7zbb6krjc.js";import{S as Ae,E as Oe,C as k,a as Ue,b as Be}from"./eqgwjv8e4xrndo8v.js";import{u as ze,C as Ve}from"./gv9eg1ueo3b9mo9c.js";import{Y as qe}from"./c7ci0rjyj4htmm6k.js";function G({clientThreadId:s,currentLeafId:t}){const{currentModelId:a}=E(),r=O(s),o=U(s,t),d=B(s),l=X(),h=z(a),i=V(s)&&!o&&(q(r)||r?.kind===Z.GizmoTest);return{showEmptyState:i,canUseNewHomepage:i&&(!d||!1)&&!h&&!l}}function We(s){const{clientThreadId:t}=E(),a=u.useRef(s);a.current=s,u.useEffect(()=>{a.current()},[t])}function $e({clientThreadId:s,currentModelId:t,isModelLoaded:a,onRequestCompletion:r,v2HomepageDisclaimer:o}){return e.jsx(Ae,{clientThreadId:s,currentModelId:t,isModelLoaded:a,onRequestCompletion:r,v2HomepageDisclaimer:o})}const Ge=P(()=>D(()=>import("./4dhr4yqrn1zsluxc.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10])).then(s=>s.ChatScreenContentModals));function Ye({disableEmptyState:s,fullWidth:t}){const{clientThreadId:a,currentModelId:r,conversationLeafId:o,isEmbeddedInFocusedView:d,onChangeItemInView:l,onChangeRating:h,onRequestCompletion:i,onRequestMoreCompletions:m,isModelLoaded:C,prefetchSearch:g}=u.useContext(N),p=W(a,o),S=te(a),v={clientThreadId:a,conversationLeafId:o,currentModelId:r,onChangeItemInView:l,onChangeRating:h,onRequestMoreCompletions:m,onRequestCompletion:i,showAvatar:!1},T=re(a),I=oe({clientThreadId:a,currentLeafId:o,handleRequestCompletion:i,prefetchSearchPromise:g}),f=T||I||s,x=ie(),{initialConversationTurns:L,continuedConversationTurns:M}=ce(p,x),{canUseNewHomepage:_,showEmptyState:F}=G({clientThreadId:a,currentLeafId:o}),Y=p>=2;de(Y);const{setTargetedContent:K}=le(),Q=z(r);return We(()=>{pe(),ge.updateScrollToMessageId(a,"finalAgentTurn")}),ze(c=>{ve({...c,leafId:c.source,isEmbeddedInFocusedView:d})&&K(void 0)}),_&&F&&!f?e.jsx($e,{clientThreadId:a,currentModelId:r,isModelLoaded:C,onRequestCompletion:i,v2HomepageDisclaimer:e.jsx("div",{className:"text-center text-xs text-token-text-secondary",children:e.jsx(b,{clientThreadId:a})})}):!_&&F&&!f?e.jsx(Oe,{clientThreadId:a,currentModelId:r,isModelLoaded:C,onRequestCompletion:i,enableV2Homepage:!Q,v2HomepageDisclaimer:e.jsx(b,{clientThreadId:a})}):e.jsxs(e.Fragment,{children:[x&&e.jsx(he,{}),x&&M.length===0&&e.jsx(ue,{}),e.jsx(A,{children:e.jsxs(u.Suspense,{fallback:null,children:[e.jsx(me,{}),L.length>0&&e.jsx("ol",{className:n.conversationTurnList,children:L.map(({turnIndex:c,isFinalTurn:y})=>e.jsx("li",{className:j(n.conversationTurnWrapper,t&&"w-full"),children:u.createElement(k,{...v,key:`${a}-${c}`,turnIndex:c,isFinalTurn:y})},c))}),x&&e.jsx(Ce,{}),e.jsx("ol",{className:n.conversationTurnList,children:M.map(({turnIndex:c,isFinalTurn:y})=>e.jsx("li",{className:j(n.conversationTurnWrapper,t&&"w-full"),children:u.createElement(k,{...v,key:`${a}-${c}`,turnIndex:c,isFinalTurn:y,scrollToMessageId:S})},c))})]})}),e.jsx(Ge,{}),p>0&&e.jsx(xe,{})]})}function Ke(){return e.jsx(Ye,{})}const Qe=P(()=>D(()=>import("./eqgwjv8e4xrndo8v.js").then(s=>s.c),__vite__mapDeps([11,1,2,3,5,6,12,13,14,9,7,8,10,15,16,17])).then(s=>s.ChatScreenComposerAlerts));function Xe(){const{clientThreadId:s,currentModelId:t,isCompanionWindow:a,onRequestCompletion:r}=u.useContext(N),o=O(s),d=Te(s),l=W(s,d),h=l>=2,i=U(s,d),m=V(s)&&!h&&q(o);fe(l,s,d,m);const{setComposerFooterElement:C}=u.useContext($);return e.jsx("div",{className:n.footer,children:e.jsxs(je,{style:{"--bar-gap":"0.5rem","--bar-background-color":"transparent"},children:[e.jsxs(w,{type:"secondary",className:"relative",children:[h&&e.jsx(Se,{className:n.scrollButton}),e.jsx(Qe,{})]}),e.jsxs(w,{type:"primary",ref:C,name:"composer-bar",children:[e.jsx(Ue,{clientThreadId:s,currentModelId:t,isNewThread:m,noWrap:!0,onRequestCompletion:r,showPromptStarters:m||!i}),!a&&e.jsx("div",{className:"text-center text-xs text-token-text-secondary",children:e.jsx(b,{clientThreadId:s})})]})]})})}function Ze(){const s=J(),{clientThreadId:t,onNewThread:a}=u.useContext(N);return B(t),e.jsxs(w,{leading:!0,type:"primary",className:n.header,children:[e.jsxs("div",{className:n.headerLeading,children:[e.jsx(Ie,{}),e.jsx(ee,{label:s.formatMessage(R.newChat),children:e.jsx(se,{to:"/",className:n.newThread,onClick:r=>{a?(r.preventDefault(),a()):ae.logEvent("chatgpt_web_thread_tap_new_thread")},tabIndex:0,children:e.jsx(ye,{className:n.sidebarIcon,icon:e.jsx(qe,{style:{viewTransitionName:"var(--vt_new_chat_thread)"}}),tabIndex:-1,label:s.formatMessage(R.newChat),style:{display:"var(--screen-size-hidden-on-compact-mode)"}})})}),e.jsx("div",{className:n.threadDropdown,children:e.jsx(be,{clientThreadId:t})})]}),e.jsx("div",{className:n.headerTrailing,children:e.jsx(A,{children:e.jsx(Be,{clientThreadId:t})})})]})}const R=ne({newChat:{id:"rnCpM4",defaultMessage:"New Chat"}});function rs({hideHeader:s=!1,hideFooter:t=!1,hideTools:a=!1,embedded:r=!1}){const{clientThreadId:o,currentModelId:d,conversationLeafId:l,isCompanionWindow:h,isInstalledApp:i,onRequestCompletion:m}=E(),{canUseNewHomepage:C,showEmptyState:g}=G({clientThreadId:o,currentLeafId:l}),p=we()[d],[S,v]=Ee({name:"composer-bar",track:"height"}),T=Ne(o),I=Le(),{isOpen:f}=Me(),x=t||g&&C;return e.jsx(_e.Provider,{value:m,children:e.jsx(Fe,{children:e.jsxs(He,{clientThreadId:o,currentLeafId:l,children:[e.jsx(ke,{children:T!=null&&e.jsx("title",{children:T})}),e.jsx(Re,{clientThreadId:o,className:j(r&&"h-full","flex-1"),currentModelConfig:p,children:e.jsx($.Provider,{value:{setComposerFooterElement:v},children:e.jsxs("div",{className:"h-full",style:{container:"thread-container / inline-size"},children:[e.jsx(H,{id:"canvas-state",name:"canvas-state",checked:I}),e.jsx(H,{id:"thread-extended-info-sidebar-state",name:"thread-extended-info-sidebar-state",checked:f}),e.jsx(Pe,{anchor:"vertical",className:j(n.screen,g&&C&&n.screenEmptyState,h&&n.screenCompanionWindow,i&&n.screenInstalledApp,r&&n.screenEmbedded),name:"thread",leading:!s&&e.jsx(Ze,{}),style:S,trackLeading:!0,trackTrailing:!0,trailing:!x&&e.jsx(Xe,{}),children:e.jsx(Ke,{})}),!h&&!a&&e.jsxs(e.Fragment,{children:[e.jsx(Ve,{}),e.jsx(De,{})]})]})})})]})})})}export{rs as C};
//# sourceMappingURL=hsamjiygc1dmhwpj.js.map
