import{Z as j,f as w,e as P,r as a,a as F,j as e}from"./nqo5y2f0dorhrqsr.js";import{ai as I,r as u,fo as E}from"./ph3npw8ji7sj8uot.js";import{t as p,a as r,u as S,s as b,C as f,b as M,g as C,T as B}from"./lhyhests3vwi7plx.js";import{T as N,C as O}from"./dxefs9qq1mbt6omq.js";import{C as h,T as R}from"./lauelmgwreax6nrk.js";import{C as Q}from"./jo6fah6ux9h3vi1j.js";import"./o3r7nmr05yenkhbb.js";import"./m49nfhshmqjugqqj.js";import"./hl6um10xd4z2y0db.js";import"./gdesxkqxsoz75aum.js";import"./itzwlfoi7caa8gqm.js";import"./ergxkgfpa1klt06l.js";import"./dtuym8kd3x04jas9.js";import"./fzrn137102spawew.js";import"./jduckhgljimdwo8y.js";import"./eouuddjjjwgfogv6.js";import"./l35pvk6j2ug7fgbc.js";import"./mpfzrr34qqs7igfx.js";import"./ehu6hsbnosptkam5.js";const te=()=>(E(),null);function se(){const d=j(),[o]=w(),c=P(),x=p(d.conversationId),n=r(o.get("readonly"),!1),v=r(o.get("isFullScreen"),!1),m=r(o.get("header"),!0),T=r(o.get("hideBottomComposer"),!!n),s=p(d.canmoreId),t=x,i=S();a.useEffect(()=>{b({type:f.Textdoc,textdocId:s})},[s]),M(t,{kind:I.PrimaryAssistant});const l=F();if(a.useEffect(()=>(u.retainThread(t),()=>{setTimeout(()=>{l.invalidateQueries({queryKey:["conversation",t]})},0),u.releaseThread(t)}),[t,l]),a.useEffect(()=>{s||c("/")},[s,c]),a.useEffect(()=>{C().sendMessage({type:h.Loaded})},[s]),!s||i?.type!==f.Textdoc)return null;const y=()=>{C().sendMessage({type:h.Close})},g=n&&!m;return e.jsxs("div",{className:"h-full w-full overflow-hidden contain-content",children:[e.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1"}),e.jsx(Q,{clientThreadId:t,children:e.jsx(B,{clientThreadId:t,children:g?e.jsxs(e.Fragment,{children:[e.jsx(N,{textdocId:i.textdocId}),e.jsx(O,{})]}):e.jsx(R,{isEmbedded:!0,isFullScreen:v,hideHeader:!m,hideBottomComposer:T,isReadonlyFromQueryParam:n,clientThreadId:t,focusedTextdoc:i,onClose:y},"textdocContent")})})]})}export{te as clientLoader,se as default};
//# sourceMappingURL=gwvtio46cg1xnj97.js.map
