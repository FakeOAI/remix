const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/sso-m2fmsn6w9wfb6sqw.js","assets/hehcvio4m1gb3l50.js","assets/mj0e86z3fqyhfd6p.js","assets/root-mdb5006d.css","assets/d1od5t75rjre0q37.js","assets/conversation-small-c8xg50op.css","assets/nmd247tyg4nbli1i.js","assets/blc6m9yvfbiqw7tj.js","assets/pendft9cy0qwlpmm.js","assets/e27c3plf709pfjps.js","assets/nhwwej1nq0zrd7sc.js","assets/lfk6ahmpmfw3arzp.js","assets/de6hd2na1zj1bdt9.js","assets/kbvgp8h7e8n9msg9.js","assets/ofi4kixgvqd4phhv.js","assets/opdxseyyi7e129fv.js","assets/fdz5ns7vvuxev7ii.js","assets/fiqnygv5v6plff91.js","assets/jsc2osrw1pxjhpmr.js","assets/fjtc9c8961x1j4yk.js","assets/l9nlc1vv4x80d0oz.js","assets/hef1z0tdkc7rmtc9.js","assets/okpq8csnd5pe7u0y.js","assets/nx4ufjqz0ura1k4m.js","assets/jmpteouyh67tp5j3.js","assets/khtmh8udoejmujt2.js","assets/dbnjb5rm9b8cwfhk.js","assets/o9zoc2n8hiegk8eq.js","assets/cgsd631hh60w3och.js","assets/gv83x12b7mhoasvx.js","assets/le7jd3smq7prio2n.js","assets/d0g8ptgc5gcqjwyj.js","assets/fn7k2t84edo216ox.js","assets/nhwlnjc8e1vm5bj7.js","assets/isjdmfmhzv09v01t.js","assets/egrvctkvi44v6d1p.js","assets/dbkrsqmsmcqwtxlq.js","assets/lrn06popbfkl82wx.js","assets/i6afu7bqzp7zjx4v.js","assets/g6td4wh79ld90s32.js","assets/5yvj61xsjwtddgcl.js","assets/mn26ibscgdov217s.js","assets/o3o8nd5vtf3ysy5m.js","assets/lkh567csymhclyxf.js","assets/elv48z6h8vjecvwd.js","assets/i2s93dwv6v6k1umn.js","assets/lmz6ppo7fih0rf0a.js","assets/cj3xalxn7dyzay23.js","assets/mojrduahikyopy4i.js","assets/ek6mr4t02vev9p7a.js","assets/hztnvfir1xdnmmzx.js","assets/bvl2uucrqbk83oek.js","assets/i50un8blndjtiuih.js","assets/f35bqrkajm6utqf6.js","assets/h3ytemguyg7b5l6i.js","assets/kqwdyvkaaavvn8k3.js","assets/becnepjry6jfc82d.js","assets/k8thz9cjo9opp4lg.js","assets/lsrj5asz0vgv1508.js","assets/cnvtnlipy3zl5d0x.js","assets/hifwqr7q9csdc2wa.js","assets/gvhhspf3yoodmzh3.js","assets/bymyqxba5w7e9kxj.js","assets/mejqr3pprno7cdtg.js","assets/jtqgwlqmkpfiiqcn.js","assets/iej0cupg2dqkmejt.js","assets/dsf8zq9i24pu5j53.js","assets/mmgyeqbawdmfunid.js","assets/ky7ow0yb6wtgfent.js","assets/kmzyzm4flfnpoxeg.js","assets/shared-mk6ngktc.css","assets/m0krn8iui4214005.js","assets/sso-46pn026z.css","assets/m59pdnmfqk4bmfz1.js","assets/eyd5h8mfyophi4wq.js","assets/jygipr0pq6dcp57g.js","assets/jre0gpu9xk6k0xzd.js","assets/hx0e0ckwmlrjxlny.js","assets/mdkc4w6l975lh4ou.js","assets/opgsnjltal8op6tb.js","assets/cu7i7jyqvstu6net.js","assets/mapy66e6xyjj9n34.js","assets/gxd1w7760nct58xj.js","assets/dhwaaqnupmpk3nns.js"])))=>i.map(i=>d[i]);
import{ci as m,bZ as g,j as s,N as be,G as F,bN as xe,r,a5 as w,J as _,a2 as re,bb as q,K as z,aq as ie,aJ as Ce,aF as ye,aH as ve,ah as le,H as ce,I as Me,bL as Q,V as G,B as ke,dD as Se,be as _e,bc as Y,aC as je,ay as Ae,d9 as we,cp as de,aE as Ee,aQ as ue,d1 as Te,c as L,dg as Pe,d3 as Ie,d4 as De,d5 as Le,cG as Ne,an as Oe,F as Fe}from"./hehcvio4m1gb3l50.js";import{d as H,u as Re}from"./dbnjb5rm9b8cwfhk.js";import{a$ as Be,fU as Ve,fV as me,fW as ze,aN as Ge,fX as He,fY as We,fZ as $e,f_ as Ke,f$ as Ue,bo as N,g0 as qe,g1 as Qe,g2 as Ye,g3 as Xe,g4 as Ze,g5 as Je,g6 as es,g7 as ss,g8 as as,g9 as ts,p as R,aZ as E,U as j,bN as W,ga as os,gb as ns,bW as rs,gc as X,cm as is,A as ls,gd as cs,cH as Z,cG as ds,bB as J,bC as ee,ge as us,ci as ms,gf as gs,gg as se,gh as fs,bf as hs,a7 as ps,gi as bs,gj as xs,gk as Cs,gl as ys,bv as vs}from"./d1od5t75rjre0q37.js";import{l as Ms,d as ks,T as O,m as V}from"./blc6m9yvfbiqw7tj.js";import{u as Ss}from"./okpq8csnd5pe7u0y.js";import{L as _s}from"./nx4ufjqz0ura1k4m.js";import{S as ae,b as js,c as As,N as ws}from"./hx0e0ckwmlrjxlny.js";import{z as Es,a4 as Ts,a5 as Ps,B as ge}from"./kbvgp8h7e8n9msg9.js";import{u as Is,a as Ds,g as Ls}from"./lrn06popbfkl82wx.js";import{a as Ns,C as Os}from"./dbkrsqmsmcqwtxlq.js";import{f as Fs}from"./e27c3plf709pfjps.js";import{m as te}from"./pendft9cy0qwlpmm.js";const Rs=m(()=>g(()=>import("./sso-m2fmsn6w9wfb6sqw.js").then(e=>e.t),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72])).then(e=>e.default));function Bs({clientThreadId:e,children:a}){return H(e)?s.jsx(Rs,{clientThreadId:e,children:a}):s.jsx(s.Fragment,{children:a})}function Vs({onClose:e}){const a=F(),{openSettings:t}=Be(),o=Ve(),{session:l}=xe(),{data:{isStorageComplianceEnabled:n}={}}=me(),{data:i,isLoading:f}=ze({enabled:!!(n&&l),select:h=>!h.cookie_consent.is_required});return r.useEffect(()=>{i===!0&&e()},[i,e]),f?null:s.jsx(zs,{onReject:()=>{o.mutateAsync({analytics_cookies_accepted:!1},{onSuccess(){w.success(a.formatMessage(S.updateSuccess))},onError(){w.danger(a.formatMessage(S.updateFailure))}}),e()},onAccept:()=>{o.mutateAsync({analytics_cookies_accepted:!0},{onSuccess(){w.success(a.formatMessage(S.updateSuccess))},onError(){w.danger(a.formatMessage(S.updateFailure))}}),e()},children:s.jsx(_,{id:"CookieConsentBanner.authedDescription.0",defaultMessage:"We use cookies and similar technologies to deliver, maintain, improve our services and for security purposes. Check our <cookiePolicy>cookie policy</cookiePolicy> for details. Click 'Accept all' to let OpenAI and partners use cookies for these purposes. Click 'Reject all' to say no to cookies, except those that are strictly necessary. Choose <manageLink>manage cookies</manageLink> to change your preferences.",values:{cookiePolicy:h=>s.jsx(_s,{href:"https://openai.com/policies/cookie-policy",openNewTab:!0,children:h}),manageLink:h=>s.jsx(Gs,{onClick:()=>{t(Ge.DataControls)},children:h})}})})}function zs({children:e,onAccept:a,onReject:t}){return r.useEffect(()=>{re.addAction("privacy_policy.show_cookie_consent_banner")},[]),s.jsxs(He,{children:[s.jsxs(We,{className:"text-sm font-semibold [grid-area:_title]",children:[e,s.jsxs("div",{className:"mt-2 flex justify-end gap-3",children:[s.jsx(q,{color:"secondary",size:"small",onClick:t,children:s.jsx(_,{...S.reject})}),s.jsx(q,{color:"secondary",size:"small",onClick:a,children:s.jsx(_,{...S.accept})})]})]}),s.jsx($e,{})]})}const Gs=be.button`underline font-normal text-green-600`,S=z({cookieConsentBannerTitle:{id:"CookieConsentBanner.title",defaultMessage:"We use cookies to provide, improve, and protect our services. Visit our <privacyPolicyLink>privacy policy</privacyPolicyLink> to learn more. You can manage your cookie preferences in your <settingsPanel>settings panel</settingsPanel>. <learnMoreLink>Learn more</learnMoreLink>."},reject:{id:"CookieConsentBanner.reject",defaultMessage:"Reject all"},accept:{id:"CookieConsentBanner.accept",defaultMessage:"Accept all"},updateSuccess:{id:"CookieConsentBanner.updateSuccess",defaultMessage:"Your cookie preferences were updated successfully"},updateFailure:{id:"CookieConsentBanner.updateFailure",defaultMessage:"Unable to update cookie preferences. Try again later."}}),Hs=m(()=>g(async()=>{const{ModelOnboardingNUXModal:e}=await import("./m59pdnmfqk4bmfz1.js");return{ModelOnboardingNUXModal:e}},__vite__mapDeps([73,1,2,3,4,5,22,23,7,8,9])).then(({ModelOnboardingNUXModal:e})=>e),{ssr:!1}),Ws=({onClose:e})=>{const a=F(),t=N(W.isBusinessWorkspace),o=N(n=>n.currentWorkspace),l=t?a.formatMessage(oe.workspaceWelcome,{workspaceName:o==null?void 0:o.name}):"ChatGPT";return s.jsx(ce,{isOpen:!0,onClose:Me,type:"success",title:l,size:"custom",noPadding:!0,className:"max-w-3xl",description:a.formatMessage(oe.personalOnboardingSubheading),children:s.jsx(os,{onClose:e,scope:ns.Personal})})};function $s(){const[e,a]=r.useState(0),{hasSeenOnboardingDate:t}=Ke(),{hasSeenTeamOwnerOnboardingDate:o}=Ue(),l=N(W.isBusinessWorkspace),n=ie(),[i,f]=r.useState(!1),{data:h,isPending:x}=me(),C=qe(h,x),{eligible:b,isLoading:y}=Ss(),u=Ce(),T=ye(),{data:c,isError:v}=ve(),p=c!=null,P=c&&(c==null?void 0:c.accountItems.length)>1&&c.currentAccountId==null,M=c==null?void 0:c.accountItems.some(d=>d.isPersonalAccount()),I=!!(c!=null&&c.accountItems)&&c.accountItems.length>0&&c.accountItems.every(({canAccessWithCurrentSession:d})=>!d),{eligible:D,isLoading:$}=Qe(),{value:K}=le("1542198993"),k=r.useMemo(()=>[{Component:Ws,getModalState:()=>l?"hide":t===null?"loading":t===!1?"show":"hide",isDeferrable:!0},{Component:Ye,getModalState:()=>v?"hide":P?"show":p?"hide":"loading",isDeferrable:!1},{Component:Xe,getModalState:()=>u!==null?"show":v||p?"hide":"loading",isDeferrable:!1},{Component:Ze,getModalState:()=>T!=null?"show":v||p?"hide":"loading",isDeferrable:!1},{Component:Je,getModalState:()=>p?I?"show":"hide":"loading",isDeferrable:!1},{Component:Vs,getModalState:()=>"hide",isDeferrable:!1},{Component:es,getModalState:()=>!(n!=null&&n.isTeam())||!(n!=null&&n.isOwnerOfAccount())||!M?"hide":!p||o===null?"loading":o===!1?"show":"hide",isDeferrable:!1},{Component:ss,getModalState:()=>l?t===null?"loading":t===!1?"show":"hide":"hide",isDeferrable:!0},{Component:as,getModalState:()=>$?"loading":D&&K?"show":"hide",isDeferrable:!1},{Component:ts,getModalState:()=>C,isDeferrable:!1},{Component:Hs,getModalState:()=>y?"loading":b?"show":"hide",isDeferrable:!0,expiresAt:new Date(2024,7,13)}].filter(d=>!(d.isDeferrable&&i)&&(!d.expiresAt||d.expiresAt.getTime()>Date.now())),[T,p,t,o,M,y,l,v,u,n,I,P,C,b,i,K,D,$]);r.useEffect(()=>{if(k[e]&&k[e].getModalState()==="hide"){const d=k.findIndex(pe=>pe.getModalState()!=="hide");a(d)}},[e,k]);const A=k[e],B=(A==null?void 0:A.getModalState())==="show";if(r.useEffect(()=>{const d=R.getState().activeModals.has(E.BlockingInitialComponent);B!==d&&(B?j.openModal(E.BlockingInitialComponent):j.closeModal(E.BlockingInitialComponent))},[B]),A==null)return s.jsx("span",{"data-testid":"blocking-initial-modals-done",className:"hidden"});const U=A.getModalState();if(U==="loading")return null;U==="hide"&&a(d=>d+1);const he=k[e].Component;return s.jsx(he,{onClose:()=>{f(!0),a(d=>d+1)}})}const oe=z({workspaceWelcome:{id:"BlockingInitialModals.workspaceWelcome",defaultMessage:"Welcome to the {workspaceName} workspace"},personalOnboardingSubheading:{id:"BlockingInitialModals.personalOnboardingSubheading",defaultMessage:"Tips for getting started"}}),Ks=m(()=>g(()=>import("./eyd5h8mfyophi4wq.js"),__vite__mapDeps([74,1,2,3,7,4,5,8,9,60,58,59,42,13,14,15,16,17,18,6,19,20,21,22,23,24,25,26,27,28,29,30])).then(e=>e.DebugConversationSidebar)),Us=m(()=>g(()=>import("./sso-m2fmsn6w9wfb6sqw.js").then(e=>e.j),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72])).then(e=>e.default)),qs=m(()=>g(()=>import("./sso-m2fmsn6w9wfb6sqw.js").then(e=>e.F),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72])).then(e=>e.FannyPackChatSidebar)),Qs=m(()=>g(()=>import("./sso-m2fmsn6w9wfb6sqw.js").then(e=>e.F),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72])).then(e=>e.FannyPackSidebarHeader)),ne=m(()=>g(()=>import("./sso-m2fmsn6w9wfb6sqw.js").then(e=>e.k),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72])).then(e=>e.FannyPackInitializer));function Ys(){const e=Ae(),a=e==null?void 0:e.includes("debug");r.useEffect(()=>{if(a)return we(document,{keydown:t=>{t.target instanceof HTMLElement&&["input","textarea","select","button"].includes(t.target.tagName.toLowerCase())||t.key==="\\"&&j.toggleActiveSidebar("debug")}})},[a])}function Xs({clientThreadId:e,setClientThreadId:a,initiallyHighlightedMessageId:t,continueConversationUrl:o,urlThreadId:l}){const n=Ms(),i=rs();Es(e,i?{kind:Q.GizmoInteraction,gizmo_id:i}:{kind:Q.PrimaryAssistant});const f=ks(e),h=G(),x=ie(),C=x==null?void 0:x.features,b=Fs(e),y=ke();r.useEffect(()=>(O.retainThread(e),()=>{setTimeout(()=>{y.invalidateQueries({queryKey:["conversation",e]})},0),O.releaseThread(e)}),[e,y]),r.useEffect(()=>{j.closeSharingModal()},[e,f]);const u=r.useCallback(()=>{a(V()),h.replace(b.tags.includes(Se.GPT_4)?"/":`/?model=${b.id}`,void 0,{shallow:!0})},[a,b.tags,b.id,h]);Is({resetThreadAction:u,clientThreadId:e});const T=R(D=>D.activeSidebar),c=_e();r.useEffect(()=>()=>{Y.checkGate("3922476776")||X.abortAllRequests()},[e]),Ys();const v=r.useRef(e);r.useEffect(()=>{e!==v.current&&(Y.checkGate("3922476776")||X.clear(),v.current=e)},[e]);const p=Re({clientThreadId:e,location:"Model switcher menu item"}),P=H(e),{value:M}=je("187267097"),{value:I}=le("3323077373");return s.jsxs(Bs,{clientThreadId:e,children:[s.jsx(Zs,{clientThreadId:e,urlThreadId:l}),s.jsxs(ae,{hideNavigation:n,mobileHeaderContent:s.jsx(Ts,{clientThreadId:e,inMobileHeader:!0}),mobileHeaderBottomContent:s.jsx(Ps,{clientThreadId:e}),mobileHeaderLeftContent:s.jsx(js,{onNewChatButtonClick:u}),mobileHeaderRightContent:s.jsx(As,{onNewChatButtonClick:u}),sidebar:s.jsx(ws,{navHeader:e?M===!0?s.jsx(Qs,{className:"flex h-[60px] items-center md:h-header-height",onNewThread:p}):s.jsx(Ns,{className:"flex h-[60px] items-center md:h-header-height",onNewThread:p}):null,children:M===!0?s.jsx(qs,{clientThreadId:e,onNewThread:p}):s.jsx(Os,{clientThreadId:e,onNewThread:p})}),children:[!M&&I&&ne&&s.jsx(ne,{}),s.jsx(ge,{clientThreadId:e,initiallyHighlightedMessageId:t,continueConversationUrl:o},e),s.jsxs(ae.Sidebars,{children:[P&&s.jsx(Us,{clientThreadId:e}),(C==null?void 0:C.includes("debug"))&&T==="debug"&&s.jsx(Ks,{clientThreadId:e,slideOver:!c,onClose:()=>j.toggleActiveSidebar("debug"),isOpen:!0})]})]})]})}function Zs({clientThreadId:e,urlThreadId:a}){const t=F(),o=G(),l=de();return s.jsx(Ee,{children:l&&e&&!!a&&s.jsx(is,{isOpen:!0,title:s.jsx(_,{id:"HistoryGizmoItem.leaveTempChatTitle",defaultMessage:"Leave Temporary Chat?"}),description:s.jsx(_,{id:"HistoryGizmoItem.leaveTempChatDescription",defaultMessage:"Temporary Chats don't appear in your history, so you won't be able to come back to it."}),confirmText:t.formatMessage({id:"HistoryGizmoItem.leaveTempChatConfirm",defaultMessage:"Leave Temporary Chat"}),onClose:()=>{o.push("/")},onConfirm:()=>{ue.setIsTemporaryChatEnabled(!1)}})})}const Js=450;function ea({children:e,clientThreadId:a,isOpen:t,onClose:o}){return s.jsx(ls,{children:t&&s.jsx(Te,{children:s.jsx(cs.Provider,{value:{isEmbeddedInFocusedView:!0},children:s.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[s.jsx(te.div,{className:"h-full w-full bg-token-main-surface-secondary",...Z}),s.jsxs("div",{className:"absolute inset-0 flex",children:[s.jsx("div",{className:"flex-grow overflow-auto",children:e}),s.jsx(te.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:Js},...Z,children:s.jsx("div",{className:"h-[100vh] pb-4",children:s.jsx(ge,{clientThreadId:a,hideHeader:!0,hideFooter:!0,hideToolsOverlay:!0,messagesVerticalAlign:"bottom"},a)})})]})]})})})})}const sa=m(()=>g(()=>import("./jygipr0pq6dcp57g.js"),__vite__mapDeps([75,1,2,3,4,5,13,9,7,8,14,15,16,17,18,6,19,20,21,22,23,24,25,26,27,28,29,30]))),aa=m(()=>g(()=>import("./jre0gpu9xk6k0xzd.js"),__vite__mapDeps([76,1,2,3,4,5,13,9,7,8,14,15,16,17,18,6,19,20,21,22,23,24,25,26,27,28,29,30,77,78,58,37,36])).then(e=>e.ImageEditor));function ta({clientThreadId:e}){const a=ds();r.useEffect(()=>{J.close()},[e]);let t;return(a==null?void 0:a.type)===ee.ADAVisualization?t=s.jsx(sa,{clientThreadId:e,visualization:a.visualization}):(a==null?void 0:a.type)===ee.Image&&(t=s.jsx(aa,{clientThreadId:e,messageId:a.messageId,image:a.image,allImages:a.allImages},a.image.asset_pointer)),s.jsx(ea,{clientThreadId:e,isOpen:a!=null,onClose:J.close,children:t})}const oa=()=>{const e=F(),a=R(n=>n.activeModals.has(E.KeyboardActions)),t=()=>{j.closeModal(E.KeyboardActions)},o=Ds(),l=r.useMemo(()=>{const n=Math.ceil(o.length/2);return[o.slice(0,n),o.slice(n)]},[o]);return s.jsx(ce,{isOpen:a,onClose:t,type:"success",size:"custom",className:"md:max-w-[672px] lg:max-w-[796px] xl:max-w-4xl",showCloseButton:!0,title:e.formatMessage(ia.keyboardActionsModalTitle),children:s.jsx(s.Fragment,{children:s.jsx("div",{className:"grid grid-flow-row grid-cols-[repeat(auto-fit,minmax(250px,1fr))] gap-x-9",children:l.map((n,i)=>s.jsx("div",{className:"flex flex-col overflow-hidden",children:n.map(f=>s.jsx(na,{action:f},f.key))},`col-${i}`))})})})},na=({action:e})=>s.jsxs("div",{className:"flex items-center justify-between overflow-hidden text-token-text-primary",children:[s.jsx("div",{className:"flex flex-shrink items-center overflow-hidden text-sm",children:s.jsx("div",{className:"truncate",children:s.jsx(_,{...e.actionMessageDescriptor})})}),s.jsx("div",{className:"ml-3 flex flex-row gap-2",children:Ls(e.keyboardBinding).map((a,t)=>s.jsx(ra,{keyName:a},`${e.key}-${t}`))})]}),ra=({keyName:e})=>{const a=L("my-2 flex h-8 items-center justify-center rounded-md border border-token-border-light capitalize text-token-text-secondary");return e.length>1?e.length>3?s.jsx("div",{className:L(a,"min-w-[50px]"),children:s.jsx("span",{className:"text-xs",children:e})}):s.jsx("div",{className:L(a,"min-w-[32px]"),children:s.jsx("span",{className:"text-xs",children:e})}):s.jsx("div",{className:L(a,"min-w-[32px]"),children:s.jsx("span",{className:"text-sm",children:e})})},ia=z({keyboardActionsModalTitle:{id:"KeyboardActionsModal.keyboardActionsModalTitle",defaultMessage:"Keyboard shortcuts"}});var la={};const ca=m(()=>g(()=>import("./opgsnjltal8op6tb.js"),__vite__mapDeps([79,1,2,3,13,4,5,9,7,8,14,15,16,17,18,6,19,20,21,22,23,24,25,26,27,28,29,30,80]))),da=m(()=>g(()=>import("./mapy66e6xyjj9n34.js"),__vite__mapDeps([81,1,2,3,7,4,5,8,55,56,14,9,82,54,53])).then(e=>e.SearchResultsModal)),ua=m(()=>g(()=>import("./dhwaaqnupmpk3nns.js"),__vite__mapDeps([83,1,2,3,54,7,4,5,8,55,56,14,9])).then(e=>e.ImageLightbox)),ma=m(()=>g(()=>import("./sso-m2fmsn6w9wfb6sqw.js").then(e=>e.S),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72])).then(e=>e.default)),fe=Symbol("invalid path");function Ea(e){const a=e.split(/[#?]/)[0];if(a==="/")return;if(a.match(/^\/g\/\w+$/))return;const t=/(?:(?:\/gizmo)?\/g\/\w+)?\/c\/([a-f0-9-]+)$/.exec(a);return(t==null?void 0:t[1])??fe}function Ta(e){return e===fe}function Pa(e){const{urlThreadId:a,clientThreadId:t}=e,o="serviceStatus"in e?e.serviceStatus:null;pa();const l=de(),n=G(),[i,f]=r.useState(()=>a!==void 0?a:t!==void 0?t:V());a!==void 0&&i!==a&&O.getServerThreadId(i)!==a&&f(a);const h=us(Pe());r.useEffect(()=>{a===void 0&&O.getServerThreadId(i)!==void 0&&f(V())},[a,i,h]);const x=ms(),C=N(W.workspaceId),b=H(i);r.useEffect(()=>{(n.asPath==="/"||n.asPath.startsWith("/c/"))&&gs({namespace:se.ChatPageLoad})==null&&(fs({namespace:se.ChatPageLoad,opts:{expectedTimingLogs:[{name:"render_model_switcher",expectedInMs:1e4},{name:"render_history_items",expectedInMs:25e3}]}}),re.addTiming("chatgpt.web.chatPage.mounted"))},[]);const y=hs();return r.useEffect(()=>{Ie(!0).then(u=>{u.force_login&&y({authType:"login"}),De.initializeAndGatherData(u),ps.initializeAndGatherData(u),Le.initializeAndGatherData(u)})},[y]),r.useEffect(()=>{o!=null&&o.type&&x===!1&&w.warning(o.message,{hasCloseButton:!0,duration:5})},[x,o==null?void 0:o.message,o==null?void 0:o.type]),r.useEffect(()=>{const u=n.query[bs]==="true";l!==u&&ue.setIsTemporaryChatEnabled(u)},[l,n.query]),s.jsxs(Ne.Provider,{value:null,children:[s.jsx($s,{},C),s.jsx(oa,{}),s.jsx(xs,{}),s.jsx(Xs,{urlThreadId:a,clientThreadId:i,setClientThreadId:f}),!b&&s.jsx(ta,{clientThreadId:i}),s.jsx(fa,{clientThreadId:i}),s.jsx(ha,{clientThreadId:i}),s.jsx(ga,{}),b&&s.jsx(ma,{}),s.jsx(Cs,{})]})}function ga(){const e=R(a=>a.sharingModalThreadId);return e?s.jsx(ca,{serverThreadId:e}):null}function fa({clientThreadId:e}){return ys()&&s.jsx(da,{clientThreadId:e})}function ha({clientThreadId:e}){return vs()?s.jsx(ua,{clientThreadId:e}):null}function pa(){Oe({queryKey:["pingEdge"],queryFn:()=>Fe.pingEdge(),enabled:!0,staleTime:1/0})}typeof window<"u"&&(window._g=la.GOKU_SERVICE);export{Bs as C,Js as F,Pa as a,Xs as b,Ea as g,Ta as i};
//# sourceMappingURL=e4ms6cv3spqg117n.js.map
