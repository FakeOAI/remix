const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/me6x5jfp7a88bj93.js","assets/i50pu8hyebaw9kd6.js","assets/ler115iciu2bvc07.js","assets/root-kyx67gpb.css","assets/mixmhi71ciem9jn6.js","assets/conversation-small-ict01xsi.css"])))=>i.map(i=>d[i]);
import{Y as b,j as t,cS as k,aM as y,aN as A,m as v,a3 as L,az as z,bN as T,bO as w,r as p,a8 as P,b0 as O,X as D,dF as F,bb as U,aw as B}from"./i50pu8hyebaw9kd6.js";import{dh as K,di as q,dj as H,U as Z,dk as Q,b0 as S,dl as W,dm as Y,dn as R,dp as V,bM as X,dq as $,dr as J,bg as ee,cc as te,z as se,ds as x,dt as ae,d1 as ie,du as ne,dv as re}from"./mixmhi71ciem9jn6.js";import{b2 as oe,ax as le,Y as ce,Z as de}from"./ler115iciu2bvc07.js";import{a as me}from"./fdqusl6m25j3co7x.js";import{m as j}from"./roq9fh68okqqi129.js";function ue(){const e=b(),a=K(),i=e.formatMessage({id:"gizmo.exploreStoreEnabled",defaultMessage:"Explore GPTs"});return t.jsx(q,{children:t.jsx(j.div,{whileTap:{scale:.98},children:t.jsx(k,{to:H(),onClick:()=>{a.activeSidebar==="popover-nav"&&Z.setActiveSidebar(!1)},children:t.jsx(Q,{icon:oe,"data-testid":"explore-gpts-button",children:i})},"explore")})})}const ge=y(()=>A(()=>import("./me6x5jfp7a88bj93.js"),__vite__mapDeps([0,1,2,3,4,5])).then(e=>e.GizmoKeepInSidebarMenuItem));var I=(e=>(e[e.Keep=0]="Keep",e[e.Recents=1]="Recents",e))(I||{});const pe=2;function G({isActive:e,isNewConversation:a}){const i=v(),l=L(),r=S();return t.jsx("div",{className:z(r?"":"bg-token-sidebar-surface-primary","pt-0"),children:t.jsx(h,{gizmo:void 0,isActive:e,onClick:o=>{T(w(i))&&!a&&(o.preventDefault(),W(l))}})})}function fe(e,a,i,l){const r=se(e,s=>s.flair.kind),o=[...r[x.FirstParty]?.map(({resource:s})=>({gizmo:s,section:0}))??[],...r[x.SidebarKeep]?.map(({resource:s})=>({gizmo:s,section:0}))??[],...r[x.Recent]?.slice(0,l?r[x.Recent]?.length:pe).map(({resource:s})=>({gizmo:s,section:1}))??[]],c=o.length>i+1,n=(c||l)&&!a&&o.length>i?o.slice(0,i):o,u=[...n.filter(({section:s})=>s===0),...n.filter(({section:s})=>s===1)];return{listItems:a?u.slice(ae):u,itemsLeft:o.length-n.length,needsToCollapseItems:c}}function M({gizmo:e,currentGizmoId:a,maxToShowOnLoad:i,hideOverflowMenu:l=!1}){const r=p.useRef(!1),o=!i,c=S(),{listItems:n}=fe(e,o,i??0,c);p.useEffect(()=>{n.length>0&&!r.current&&(Y({namespace:R.ChatPageLoad})?.logTiming("render_gizmo_sidebar"),r.current=!0)},[n]);function u(s,m){const d=t.jsx(h,{gizmo:s,isActive:s.gizmo.id===a,section:m,hideOverflowMenu:l},s.gizmo.id);return c?t.jsx("li",{children:d}):d}return t.jsxs("div",{children:[n.map(({gizmo:s,section:m},d)=>t.jsxs(p.Fragment,{children:[d>1&&m!==n[d-1].section&&t.jsx("div",{className:"my-2 ml-2 h-px w-7 bg-token-sidebar-surface-tertiary"}),u(s,m)]},d)),!c&&t.jsx(ue,{})]})}function xe({currentGizmoId:e}){const{data:{gizmos:a}={}}=V();let i=a;return t.jsxs(t.Fragment,{children:[t.jsx(G,{isActive:e===void 0,isNewConversation:!0}),t.jsx(me,{}),i!=null?t.jsx(M,{gizmo:i,currentGizmoId:e,maxToShowOnLoad:4}):null]})}function he({gizmo:e,isOpen:a,setIsOpen:i,section:l}){const r=v();return t.jsxs(F,{open:a,onOpenChange:i,triggerButton:t.jsx("button",{className:z("flex text-token-text-secondary hover:text-token-text-primary",a?"":"invisible group-hover:visible"),children:t.jsx(de,{className:"icon-md"})}),contentAlign:"start",sideOffset:4,alignOffset:-4,size:"auto",children:[l===1&&t.jsx(U.Item,{onClick:async()=>{await ie.updateGizmoSidebar(r,ne,e.gizmo.id,"keep")},children:t.jsx(B,{...f.keepInSidebar})}),t.jsx(ge,{gizmoResource:e})]})}function h({gizmo:e,historyDisabled:a,section:i,onClick:l,isActive:r,hideOverflowMenu:o=!1}){const c=b(),[n,u]=p.useState(!1),[s,m]=p.useState(!1),d=P(),C=!!e?.gizmo.tags?.includes(X.FirstParty),N=!1;let _=!1,g;if(e!=null)g=e.gizmo.display.name||$;else{if(d==null)return null;a?g=c.formatMessage(f.clearChat):d.canInteractWithGizmos()?g=re:g=c.formatMessage({id:"GizmoSidebarListItem.newChat",defaultMessage:"New chat"})}return t.jsx(j.div,{whileTap:{scale:.98},onMouseEnter:()=>{m(!0)},onMouseLeave:()=>{m(!1)},children:t.jsx(J,{loggingGizmoId:e?.gizmo.id??"primary",href:e!=null?ee(e):"/",onClick:l,showActiveIndicator:_,icon:t.jsx(te,{gizmoId:e?.gizmo.id,isFirstParty:e==null||C,src:e?.gizmo.display.profile_picture_url,className:"h-6 w-6 flex-shrink-0"}),isMenuOpen:n,label:g,hoverRightIcon:t.jsxs("div",{className:"flex gap-2",children:[(s||n)&&e!=null&&!N&&!o&&t.jsx("div",{className:"text-token-text-tertiary",onClick:E=>{E.preventDefault()},children:t.jsx(he,{gizmo:e,isOpen:n,setIsOpen:u,section:i})}),!o&&t.jsx(O,{side:"right",label:c.formatMessage(a?f.clearChat:f.newChat),className:"flex items-center",children:t.jsx("button",{className:n?"text-token-text-tertiary":"invisible text-token-text-secondary hover:text-token-text-primary group-hover:visible",children:a?t.jsx(le,{className:"icon-md"}):t.jsx(ce,{className:"icon-md"})})})]})})})}const f=D({exploreStoreEnabled:{id:"gizmo.exploreStoreEnabled",defaultMessage:"Explore GPTs"},keepInSidebar:{id:"gizmo.keepInSidebar",defaultMessage:"Keep in sidebar"},newChat:{id:"gizmo.newChat",defaultMessage:"New chat"},clearChat:{id:"gizmo.clearChat",defaultMessage:"Clear chat"}}),Ie=Object.freeze(Object.defineProperty({__proto__:null,DefaultGPTSidebarListItem:G,GizmoSidebarList:xe,GizmoSidebarListContent:M,GizmoSidebarListItem:h,SidebarSectionType:I,sidebarMessages:f},Symbol.toStringTag,{value:"Module"}));export{G as D,ue as E,M as G,Ie as a};
//# sourceMappingURL=ablcvm1diiueayss.js.map
