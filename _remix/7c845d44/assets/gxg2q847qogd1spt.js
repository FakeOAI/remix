const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dipevx6we1u7h4ra.js","assets/b7wt2xt2qov1e3qo.js","assets/dxrhvry7p7nlewrm.js","assets/root-iencqs6w.css","assets/rh8ad1epedqht7ch.js","assets/evv55tk8urxnbltz.js","assets/conversation-small-h7jqffb1.css","assets/d69lj30i91ori9n4.js","assets/ep6zex7o7umpiu24.js","assets/maqi8xug6xfk4mlq.js","assets/mcxi10banajg1ii1.js","assets/gf0jz8tychxxb943.js","assets/j5jgbgb4awbcical.js","assets/09prnn1orcdd2p5m.js","assets/h112u9fyifvb4sub.js"])))=>i.map(i=>d[i]);
import{m as e,aH as R,aI as A,r as l,gS as B,gT as $,gk as z,gc as G,bp as W,fr as n,aD as T,y as J,ay as Q,fq as Y,as as Z,G as K,d2 as X,aJ as ee,dP as se,S as ae,F as ne,fo as te,eQ as re}from"./b7wt2xt2qov1e3qo.js";import{eU as E,eV as oe,eW as ie,eX as O,eY as ce,eZ as de,bY as le,e_ as he,e$ as N,f0 as me,f1 as ue,f2 as Ce,f3 as xe,f4 as pe,f5 as fe,b7 as Te,f6 as ge,f7 as ve,f8 as U,f9 as je,al as b,fa as Se,dW as Ie,bx as we,fb as ye,j as Ne,fc as be,fd as Ee,fe as Le,ff as Me,fg as _e,fh as He,ca as ke,fi as Pe,fj as P,eI as Fe,eJ as De}from"./evv55tk8urxnbltz.js";import{S as Re,E as Ae,C as F,a as Be,b as We}from"./d69lj30i91ori9n4.js";import{K as Oe}from"./dxrhvry7p7nlewrm.js";import{C as Ue}from"./mxu56zp4xv5oqrg0.js";function Ve({clientThreadId:s,currentModelId:o,isModelLoaded:a,onRequestCompletion:r,v2HomepageDisclaimer:t}){return e.jsx(Re,{clientThreadId:s,currentModelId:o,isModelLoaded:a,onRequestCompletion:r,v2HomepageDisclaimer:t})}const qe=R(()=>A(()=>import("./dipevx6we1u7h4ra.js"),__vite__mapDeps([0,1,2,3,4,5,6])).then(s=>s.ChatScreenContentModals));function $e({disableEmptyState:s,fullWidth:o}){const{clientThreadId:a,currentModelId:r,conversationLeafId:t,isCompanionWindow:h,isEmbeddedInFocusedView:d,onChangeItemInView:m,onChangeRating:C,onRequestCompletion:i,onRequestMoreCompletions:u,isModelLoaded:x,prefetchSearch:S}=l.useContext(E),p=B(a,t),g=$(a),f={clientThreadId:a,conversationLeafId:t,currentModelId:r,onChangeItemInView:m,onChangeRating:C,onRequestMoreCompletions:u,onRequestCompletion:i,showAvatar:!1},I=z(a),w=oe({clientThreadId:a,currentLeafId:t,handleRequestCompletion:i,prefetchSearchPromise:S}),v=I||w||s,j=G(),{initialConversationTurns:L,continuedConversationTurns:M}=ie(p,j),{canUseNewHomepage:_,showEmptyState:H}=O({clientThreadId:a,currentLeafId:t}),V=p>=2;ce(V);const{setTargetedContent:k}=de(),q=le(r);if(he(()=>{fe(),J.updateScrollToMessageId(a,"finalAgentTurn")}),l.useEffect(()=>{d||k(void 0)},[a,k,d]),_&&H&&!v){const c=h?null:e.jsx("div",{className:"text-center text-xs text-token-text-secondary",children:e.jsx(N,{clientThreadId:a})});return e.jsx(Ve,{clientThreadId:a,currentModelId:r,isModelLoaded:x,onRequestCompletion:i,v2HomepageDisclaimer:c})}else if(!_&&H&&!v)return e.jsx(Ae,{clientThreadId:a,currentModelId:r,isModelLoaded:x,onRequestCompletion:i,enableV2Homepage:!q,v2HomepageDisclaimer:e.jsx(N,{clientThreadId:a})});return e.jsxs(e.Fragment,{children:[j&&e.jsx(me,{}),j&&M.length===0&&e.jsx(ue,{}),e.jsx(W,{children:e.jsxs(l.Suspense,{fallback:null,children:[e.jsx(Ce,{}),L.length>0&&e.jsx("ol",{className:n.conversationTurnList,children:L.map(({turnIndex:c,isFinalTurn:y})=>e.jsx("li",{className:T(n.conversationTurnWrapper,o&&"w-full"),children:l.createElement(F,{...f,key:`${a}-${c}`,turnIndex:c,isFinalTurn:y,scrollToMessageId:g})},c))}),j&&e.jsx(xe,{}),e.jsx("ol",{className:n.conversationTurnList,children:M.map(({turnIndex:c,isFinalTurn:y})=>e.jsx("li",{className:T(n.conversationTurnWrapper,o&&"w-full"),children:l.createElement(F,{...f,key:`${a}-${c}`,turnIndex:c,isFinalTurn:y,scrollToMessageId:g})},c))})]})}),e.jsx(qe,{}),p>0&&e.jsx(pe,{})]})}function ze(){return e.jsx($e,{})}const Ge=R(()=>A(()=>import("./d69lj30i91ori9n4.js").then(s=>s.c),__vite__mapDeps([7,1,2,3,5,6,8,9,10,11,12,13,14])).then(s=>s.ChatScreenComposerAlerts));function Je(){const{clientThreadId:s,currentModelId:o,isCompanionWindow:a,onRequestCompletion:r}=l.useContext(E),t=Te(s),h=Q(s),d=B(s,h),m=d>=2,C=Y(s,h),i=Z(s)&&!m&&ge(t);ve(d,s,h,i);const{setComposerFooterElement:u}=l.useContext(U);return e.jsx("div",{className:n.footer,children:e.jsxs(je,{style:{"--bar-gap":"0.5rem","--bar-background-color":"transparent"},children:[e.jsxs(b,{type:"secondary",className:"relative",children:[m&&e.jsx(Se,{className:n.scrollButton}),e.jsx(Ge,{})]}),e.jsxs(b,{type:"primary",ref:u,name:"composer-bar",children:[e.jsx(Be,{clientThreadId:s,currentModelId:o,isNewThread:i,noWrap:!0,onRequestCompletion:r,showPromptStarters:i||!C}),!a&&e.jsx("div",{className:"text-center text-xs text-token-text-secondary",children:e.jsx(N,{clientThreadId:s})})]})]})})}function Qe(){const s=K(),{clientThreadId:o,isLoggedInUser:a,onNewThread:r}=l.useContext(E);return X(o),e.jsxs(b,{leading:!0,type:"primary",className:n.header,children:[e.jsxs("div",{className:n.headerLeading,children:[a&&e.jsx(Ie,{}),e.jsx(ee,{label:s.formatMessage(D.newChat),className:"hidden @lg/screen-composer:inline-flex",children:e.jsx(se,{to:"/",className:n.newThread,onClick:t=>{r?(t.preventDefault(),r()):ae.logEvent("chatgpt_web_thread_tap_new_thread")},tabIndex:0,children:e.jsx(we,{className:T(n.sidebarIcon),icon:e.jsx(Oe,{}),tabIndex:-1,label:s.formatMessage(D.newChat),style:{viewTransitionName:"var(--vt_new_chat_thread)"}})})}),e.jsx("div",{className:n.threadDropdown,children:e.jsx(ye,{clientThreadId:o})})]}),e.jsx("div",{className:n.headerTrailing,children:e.jsx(W,{children:e.jsx(We,{clientThreadId:o})})})]})}const D=ne({newChat:{id:"rnCpM4",defaultMessage:"New Chat"}});function ss({hideHeader:s=!1,hideFooter:o=!1,hideTools:a=!1,embedded:r=!1}){const{clientThreadId:t,currentModelId:h,conversationLeafId:d,isCompanionWindow:m,isInstalledApp:C,onRequestCompletion:i}=Ne(),{canUseNewHomepage:u,showEmptyState:x}=O({clientThreadId:t,currentLeafId:d}),S=be()[h],[p,g]=Ee({name:"composer-bar",track:"height"}),f=Le(t),I=Me(),w=te(),v=o||x&&u;return e.jsx(re.Provider,{value:i,children:e.jsx(_e,{children:e.jsxs(He,{clientThreadId:t,currentLeafId:d,children:[e.jsx(ke,{children:f!=null&&e.jsx("title",{children:f})}),e.jsx(Pe,{clientThreadId:t,className:T(r&&"h-full","flex-1"),currentModelConfig:S,children:e.jsx(U.Provider,{value:{setComposerFooterElement:g},children:e.jsxs("div",{className:"h-full",style:{container:"thread-container / inline-size"},children:[e.jsx(P,{id:"canvas-state",name:"canvas-state",checked:I}),e.jsx(P,{id:"thread-extended-info-sidebar-state",name:"thread-extended-info-sidebar-state",checked:w}),e.jsx(Fe,{anchor:"vertical",className:T(n.screen,x&&u&&n.screenEmptyState,m&&n.screenCompanionWindow,C&&n.screenInstalledApp,r&&n.screenEmbedded),name:"thread",leading:!s&&e.jsx(Qe,{}),style:p,trackLeading:!0,trackTrailing:!0,trailing:!v&&e.jsx(Je,{}),children:e.jsx(ze,{})}),!m&&!a&&e.jsxs(e.Fragment,{children:[e.jsx(Ue,{}),e.jsx(De,{})]})]})})})]})})})}export{ss as C};
//# sourceMappingURL=gxg2q847qogd1spt.js.map
