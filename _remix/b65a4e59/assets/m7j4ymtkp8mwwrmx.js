import{J as _,r as c,$ as B,u as G,j as e,aB as f,ak as T,P as L,au as k,av as w,bo as C,bp as M,aF as F,d as S,S as U,e_ as W,I as D,ei as R,t as H,a0 as z,K,bC as $}from"./m6nbbof3h4644ciy.js";import{T as P,m as J,L as X}from"./a2ec91wr9xd2mzrp.js";import{C as q}from"./oo2wq2n0p3hj2ayn.js";import{c as Q}from"./cizq55yu4bpguuj3.js";import{cB as O,cC as V,ao as Y,cD as Z,i as I,cE as N,cF as ee,f as te,h as se}from"./mfi1c6oa6hd2jb4h.js";import"./k1mrgdhb41bm8hu6.js";import"./djdvwc5xdbl2qav2.js";import"./isjdmfmhzv09v01t.js";import"./min6enbu5cnch720.js";function oe({auth0Provider:s,nextUrl:o,isStorageComplianceEnabled:r}){const n=O(),a=_(),[t,i]=c.useState(!1),l=V(),x=B(),p=Y(d.signUp),{value:h}=G("2131161815"),u=Z()(),m=!n||h&&!t,j=()=>{L.logLogInButtonClicked({provider:s,location:"Login page"}),t||setTimeout(()=>{i(!0)},500),C.signIn(s,{callbackUrl:o},{prompt:"login",...I(M()),...u?{[N]:"true"}:{}})};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"relative flex grow flex-col items-center justify-between bg-white px-5 py-8 text-black dark:bg-black dark:text-white sm:rounded-t-[30px] md:rounded-none md:px-6",children:[!n&&e.jsx("nav",{className:"flex w-full justify-start px-6 pb-8 md:hidden md:px-6 lg:px-8",children:e.jsx("h1",{"aria-label":a.formatMessage(d.ariaLabel),children:e.jsx("div",{className:"flex cursor-default items-center text-[20px] font-bold leading-none lg:text-[22px]",children:e.jsx("div",{children:P})})})}),e.jsxs("div",{className:"relative flex w-full grow flex-col items-center justify-center",children:[e.jsx("h2",{className:"text-center text-[20px] leading-[1.2] md:text-[32px] md:leading-8",children:n?e.jsx("div",{children:P}):e.jsx(f,{...d.pageTitle})}),e.jsx("div",{className:"mt-5 w-full max-w-[440px]",children:e.jsx(e.Fragment,{children:e.jsxs("div",{className:T("grid gap-x-3 gap-y-2",n?"mx-16 gap-y-4 sm:grid-cols-1 sm:gap-y-4":"sm:grid-cols-2 sm:gap-y-0"),children:[e.jsx(b,{blue:!0,loading:t,testid:"login-button",onClick:j,children:e.jsx(f,{...d.logIn})}),n&&t&&e.jsx(b,{ghost:!0,testid:"login-tryagain-button",onClick:j,children:e.jsx(f,{...d.logInTryAgain})}),m&&e.jsx(b,{blue:!0,testid:"signup-button",onClick:()=>{L.logSignUpButtonClicked({provider:"auth0",location:"Login page"}),k.setCookie(w.SignupRedirectUrl,o,{maxAge:60*60*3}),C.signIn(s,{callbackUrl:o},{prompt:"login",screen_hint:"signup",...I(M()),...u?{[N]:"true"}:{}})},children:e.jsx(f,{...p})})]})})}),l?e.jsx(F,{color:"ghost",className:"mt-2 sm:mt-5",onClick:y=>{y.preventDefault(),L.logEvent(S.authTryItFirstLinkClicked),U.logEvent("chatgpt_auth_try_it_first_link_clicked"),x("/")},children:e.jsx(f,{...d.tryItFirst})}):null]}),e.jsxs("div",{className:"mt-10 flex flex-col justify-center",children:[e.jsx("div",{className:"flex justify-center text-gray-300 md:mb-3",children:e.jsx(W,{className:"h-[22px] w-auto"})}),e.jsx(Q,{isStorageComplianceEnabled:r})]})]})})}function b({icon:s,children:o,className:r,onClick:n,testid:a,blue:t=!1,ghost:i=!1,loading:l=!1}){return e.jsxs(F,{color:t?"blue":i?"ghost":"primary",loading:l,size:"large","data-testid":a,onClick:n,className:r,children:[s?e.jsx("div",{className:T("h-5 w-5 justify-self-start",{}),style:{backgroundImage:s}}):null,e.jsx("span",{children:o})]})}const d=D({pageTitle:{id:"Login.pageTitle",defaultMessage:"Get started"},ariaLabel:{id:"Login.ariaLabel",defaultMessage:"ChatGPT by OpenAI"},welcome:{id:"Login.welcome",defaultMessage:"Welcome to ChatGPT"},logIn:{id:"Login.logIn",defaultMessage:"Log in"},logInTryAgain:{id:"Login.logInTryAgain",defaultMessage:"Try again"},signUp:{id:"Login.signUp",defaultMessage:"Sign up"},continueWithGoogle:{id:"Login.continueWithGoogle",defaultMessage:"Continue with Google"},continueWithMicrosoft:{id:"Login.continueWithMicrosoft",defaultMessage:"Continue with Microsoft"},useDevAuth:{id:"Login.useDevAuth",defaultMessage:"Use dev auth"},useProdAuth:{id:"Login.useProdAuth",defaultMessage:"Use prod auth"},orTryAnotherWay:{id:"Login.orTryAnotherWay",defaultMessage:"Or try another way"},logInWithOpenAI:{id:"Login.logInWithOpenAI",defaultMessage:"Log in with your OpenAI account to continue"},tryItFirst:{id:"Login.tryItFirst",defaultMessage:"Try it first"}});function ne({auth0Provider:s,cfConnectingIp:o,isStorageComplianceEnabled:r,statsigShowCapacityGate:n}){const{hash:a}=H(),[t]=z(),i=t.get("next"),l=(i?.startsWith("/")?i:"/")+a,x=_(),p=K(),h=n===!0,v=c.useRef(!1),u=t.get("sso"),m=u?t.get("connection"):void 0,y=ee()(),A=te()??(se(t,!0,y)||s);return c.useEffect(()=>{if(u&&!h){const g=k.getCookie(w.DeviceId)?.toString();C.signIn(A,{callbackUrl:l},{...g?{device_id:g}:{},...m?{connection:m}:{},...I(g)})}},[l,u,m,h,A]),c.useEffect(()=>{L.logEvent(S.loggedOutOpenedAuthLogin,{cfConnectingIp:o})},[o]),c.useEffect(()=>{window.location.hash==="#pricing"&&k.setCookie(w.ShowPaymentModal,!0,{maxAge:6*60*60})},[]),c.useEffect(()=>{if(v.current)return;v.current=!0;const g=t.get("inv_ws_name"),E=t.get("inv_email");g&&E&&p.success(x.formatMessage(J.invitedToastMessage,{workspace_name:g,email:E}),{hasCloseButton:!0,duration:600})},[t,x,p]),h?e.jsx(q,{}):u?null:e.jsx(ie,{auth0Provider:A,nextUrl:l,isStorageComplianceEnabled:r})}const ie=({auth0Provider:s,nextUrl:o,isStorageComplianceEnabled:r})=>e.jsxs(e.Fragment,{children:[e.jsx(ae,{auth0Provider:s,nextUrl:o,isStorageComplianceEnabled:r}),!1]});function ae({auth0Provider:s,nextUrl:o,isStorageComplianceEnabled:r}){const{resolvedTheme:n}=$(),a=O(),t=n==="dark",i=c.useRef(null);return c.useEffect(()=>{if(a)return;i.current==null&&(i.current=document.body.style.backgroundColor);const l=t?"#00002E":"#FFFFDB";return document.body.style.backgroundColor=l,()=>{i.current!=null&&(document.body.style.backgroundColor=i.current)}},[t,a]),e.jsxs("div",{className:T("flex min-h-full w-screen flex-col sm:supports-[min-height:100dvh]:min-h-[100dvh] md:grid",a?"md:grid-cols-1":"md:grid-cols-2 lg:grid-cols-[60%_40%]"),children:[!a&&e.jsx(X,{}),e.jsx(oe,{auth0Provider:s,nextUrl:o,isStorageComplianceEnabled:r})]})}function pe(){const s=R();return e.jsx(ne,{...s})}export{pe as default};
//# sourceMappingURL=m7j4ymtkp8mwwrmx.js.map
