import{gq as S,e3 as C,dn as v,ee as j,m as e,bo as T,aE as I,fy as x,a5 as b,a9 as y,f$ as E,gr as N,u as P,r as h,dr as f,at as z,bp as M,cy as w,cU as k}from"./krztd3t6ncse43d8.js";import{C as H}from"./mirfjnf4em7vy4dh.js";import{c5 as L,c6 as F,c7 as g,c8 as G,c9 as U,ca as A,cb as p,cc as O,cd as Q,ce as q,cf as D,z as R,b as K,b9 as V,cg as W,ch as Z,ci as _,D as $,cj as B}from"./jdhd0kwf4sgg62y9.js";import{C as J}from"./bq9lpdhuwyughduh.js";import{u as X,a as Y}from"./fhre5cjw2ig9k97r.js";import ee from"./nymt3z2dd1229x51.js";import{u as ae,C as se,b as re,c as te}from"./d2sqi2jpyvct307w.js";import{C as ne}from"./hyft5rzcl2dq7ep2.js";import"./96rsn14wis42w1ri.js";import"./phz8ch2yfd9b07c6.js";import"./en40tgud4wh9l74p.js";import"./bzl3s6uwznx94vma.js";import"./k2gbfytu0j08v0re.js";import"./ke8vc8a9mrj9sfk3.js";import"./jlcio1tq5hx321xo.js";import"./i9q7g9mdenjzh6aq.js";import"./jojmpg0vxs6j18yb.js";import"./jsknyiwwwgwg9qau.js";function ie(){const{clientThreadId:a,currentModelId:s,conversationLeafId:o,onRequestCompletion:r}=X(),{showEmptyState:m}=ae({clientThreadId:a,currentLeafId:o}),u=L()[s],d=S(a),c=F(),l=C(),t=v()??"",n=g({gizmoId:t,draft:!1}),i=j();return e.jsx(T.Provider,{value:r,children:e.jsx(G,{children:e.jsxs(U,{clientThreadId:a,currentLeafId:o,children:[e.jsx(A,{children:d!=null&&e.jsx("title",{children:d})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(p,{id:"canvas-state",name:"canvas-state",checked:c}),e.jsx(p,{id:"thread-extended-info-sidebar-state",name:"thread-extended-info-sidebar-state",checked:l}),e.jsx(O,{anchor:"vertical",className:I(x.screen,m&&x.screenEmptyState),name:"thread",leading:i?e.jsx(se,{}):e.jsx(re,{clientThreadId:a}),trackLeading:!0,children:n.data&&e.jsx("div",{className:"flex h-full w-full",children:e.jsx("div",{className:"max-h-[100cqh] flex-grow overflow-y-auto",children:e.jsx("div",{className:"mx-auto max-w-screen-md",children:e.jsx(Q,{clientThreadId:a,currentModelConfig:u,children:e.jsx(te,{})})})})})}),e.jsx(ne,{}),e.jsx(q,{})]})]})})})}function oe(){const a=B(s=>s.sharingModalThreadId);return a?e.jsx(ee,{serverThreadId:a}):null}function Ee(){const a=b(),s=y(),{gizmoSlug:o}=E(),r=N(o??""),m=g({gizmoId:r,draft:!1}),{isPending:u}=D(r),d=j(),{isLoading:c}=P("491279851"),l=R();h.useEffect(()=>{!c&&!l&&s("/")},[c,l,s]),h.useEffect(()=>{a!=null&&a.isFree()&&s("/")},[a,s]);const[t,n]=h.useState(()=>f());K(t,{kind:z.GizmoInteraction,gizmo_id:r}),h.useEffect(()=>{n(f())},[r]);let i=e.jsx("div",{className:"flex h-full w-full",children:e.jsx("div",{className:"m-auto",children:e.jsxs("div",{className:"flex justify-center",children:[e.jsx("span",{className:"sr-only","aria-busy":!0,role:"status","aria-live":"polite",children:e.jsx(M,{...V.loadingProjects})}),e.jsx(w,{className:"h-10 w-10 text-token-text-secondary"})]})})});return m.data&&!u&&(i=e.jsx(ie,{})),e.jsx(W,{children:e.jsx(Y,{clientThreadId:t,setClientThreadId:n,children:d?e.jsx(Z,{children:e.jsx(_,{className:k.application,sidebar:e.jsx(J,{}),thread:i,debugger:e.jsx($,{clientThreadId:t})})}):e.jsxs(e.Fragment,{children:[e.jsx(H,{clientThreadId:t,setClientThreadId:n,threadContent:i}),e.jsx(oe,{})]})})})}export{Ee as default};
//# sourceMappingURL=f1e7w55mgm0qt30m.js.map
