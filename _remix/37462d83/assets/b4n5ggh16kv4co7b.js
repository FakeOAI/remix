import{L as O,r,a9 as D,u as W,cn as B,m as e,bp as L,aE as T,P as w,cp as I,cq as E,cr as C,cs as M,bD as G,d as F,V as R,gs as H,K as V,fE as K,a8 as z,aa as $,O as q,bV as X}from"./krztd3t6ncse43d8.js";import{T as _,m as Y,L as J}from"./ielyv3q79a0h7ecb.js";import{C as Q}from"./khmfle63vus8pid0.js";import{c as Z}from"./dsu5suzoednhqire.js";import{d3 as U,d4 as ee,aE as te,d5 as se,d6 as oe,d7 as ne,h as P,d8 as S,d9 as N,da as ae,e as ie,f as re,a$ as le}from"./jdhd0kwf4sgg62y9.js";import"./isjdmfmhzv09v01t.js";import"./en40tgud4wh9l74p.js";function ce({auth0Provider:s,nextUrl:n,isStorageComplianceEnabled:a}){const o=U(),l=O(),[t,c]=r.useState(!1),u=ee(),y=D(),A=te(h.signUp),{value:m}=W("2131161815"),f=se(),g=oe(),x=ne(),b=g(),j=x(),{country:p}=B(),d=!o||m&&!t,i=()=>{w.logLogInButtonClicked({provider:s,location:"Login page"}),t||setTimeout(()=>{c(!0)},500),C.signIn(s,{callbackUrl:n},{prompt:"login",...P(M()),...b||f?{[S]:"true"}:{},...j?{[N]:"true"}:{},...p?{country_code:p}:{}})};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"relative flex grow flex-col items-center justify-between bg-white px-5 py-8 text-black dark:bg-black dark:text-white sm:rounded-t-[30px] md:rounded-none md:px-6",children:[!o&&e.jsx("nav",{className:"flex w-full justify-start px-6 pb-8 md:hidden md:px-6 lg:px-8",children:e.jsx("h1",{"aria-label":l.formatMessage(h.ariaLabel),children:e.jsx("div",{className:"flex cursor-default items-center text-[20px] font-bold leading-none lg:text-[22px]",children:e.jsx("div",{children:_})})})}),e.jsxs("div",{className:"relative flex w-full grow flex-col items-center justify-center",children:[e.jsx("h2",{className:"text-center text-[20px] leading-[1.2] md:text-[32px] md:leading-8",children:o?e.jsx("div",{children:_}):e.jsx(L,{...h.pageTitle})}),e.jsx("div",{className:"mt-5 w-full max-w-[440px]",children:e.jsx(e.Fragment,{children:e.jsxs("div",{className:T("grid gap-x-3 gap-y-2",o?"mx-16 gap-y-4 sm:grid-cols-1 sm:gap-y-4":"sm:grid-cols-2 sm:gap-y-0"),children:[e.jsx(k,{blue:!0,loading:t,testid:"login-button",onClick:i,children:e.jsx(L,{...h.logIn})}),o&&t&&e.jsx(k,{ghost:!0,testid:"login-tryagain-button",onClick:i,children:e.jsx(L,{...h.logInTryAgain})}),d&&e.jsx(k,{blue:!0,testid:"signup-button",onClick:()=>{w.logSignUpButtonClicked({provider:"auth0",location:"Login page"}),I.setCookie(E.SignupRedirectUrl,n,{maxAge:60*60*3}),C.signIn(s,{callbackUrl:n},{prompt:"login",screen_hint:"signup",...P(M()),...b||f?{[S]:"true"}:{},...j?{[N]:"true"}:{},...p?{country_code:p}:{}})},children:e.jsx(L,{...A})})]})})}),u?e.jsx(G,{color:"ghost",className:"mt-2 sm:mt-5",onClick:v=>{v.preventDefault(),w.logEvent(F.authTryItFirstLinkClicked),R.logEvent("chatgpt_auth_try_it_first_link_clicked"),y("/")},children:e.jsx(L,{...h.tryItFirst})}):null]}),e.jsxs("div",{className:"mt-10 flex flex-col justify-center",children:[e.jsx("div",{className:"flex justify-center text-gray-300 md:mb-3",children:e.jsx(H,{className:"h-[22px] w-auto"})}),e.jsx(Z,{isStorageComplianceEnabled:a})]})]})})}function k({icon:s,children:n,className:a,onClick:o,testid:l,blue:t=!1,ghost:c=!1,loading:u=!1}){return e.jsxs(G,{color:t?"blue":c?"ghost":"primary",loading:u,size:"large","data-testid":l,onClick:o,className:a,children:[s?e.jsx("div",{className:T("h-5 w-5 justify-self-start",{}),style:{backgroundImage:s}}):null,e.jsx("span",{children:n})]})}const h=V({pageTitle:{id:"Login.pageTitle",defaultMessage:"Get started"},ariaLabel:{id:"Login.ariaLabel",defaultMessage:"ChatGPT by OpenAI"},welcome:{id:"Login.welcome",defaultMessage:"Welcome to ChatGPT"},logIn:{id:"Login.logIn",defaultMessage:"Log in"},logInTryAgain:{id:"Login.logInTryAgain",defaultMessage:"Try again"},signUp:{id:"Login.signUp",defaultMessage:"Sign up"},continueWithGoogle:{id:"Login.continueWithGoogle",defaultMessage:"Continue with Google"},continueWithMicrosoft:{id:"Login.continueWithMicrosoft",defaultMessage:"Continue with Microsoft"},useDevAuth:{id:"Login.useDevAuth",defaultMessage:"Use dev auth"},useProdAuth:{id:"Login.useProdAuth",defaultMessage:"Use prod auth"},orTryAnotherWay:{id:"Login.orTryAnotherWay",defaultMessage:"Or try another way"},logInWithOpenAI:{id:"Login.logInWithOpenAI",defaultMessage:"Log in with your OpenAI account to continue"},tryItFirst:{id:"Login.tryItFirst",defaultMessage:"Try it first"}});function ue({auth0Provider:s,cfConnectingIp:n,isStorageComplianceEnabled:a,statsigShowCapacityGate:o}){const{hash:l}=z(),[t]=$(),c=t.get("next"),u=(c?.startsWith("/")?c:"/")+l,y=O(),A=q(),m=o===!0,f=r.useRef(!1),g=t.get("sso"),x=g?t.get("connection"):void 0,j=ae()(),d=ie()??(re(t,!0,j)||s);return r.useEffect(()=>{sessionStorage.setItem(le,d.toString())},[d]),r.useEffect(()=>{if(g&&!m){const i=I.getCookie(E.DeviceId)?.toString();C.signIn(d,{callbackUrl:u},{...i?{device_id:i}:{},...x?{connection:x}:{},...P(i)})}},[u,g,x,m,d]),r.useEffect(()=>{w.logEvent(F.loggedOutOpenedAuthLogin,{cfConnectingIp:n})},[n]),r.useEffect(()=>{window.location.hash==="#pricing"&&I.setCookie(E.ShowPaymentModal,!0,{maxAge:6*60*60})},[]),r.useEffect(()=>{if(f.current)return;f.current=!0;const i=t.get("inv_ws_name"),v=t.get("inv_email");i&&v&&A.success(y.formatMessage(Y.invitedToastMessage,{workspace_name:i,email:v}),{hasCloseButton:!0,duration:600})},[t,y,A]),m?e.jsx(Q,{}):g?null:e.jsx(de,{auth0Provider:d,nextUrl:u,isStorageComplianceEnabled:a})}const de=({auth0Provider:s,nextUrl:n,isStorageComplianceEnabled:a})=>e.jsxs(e.Fragment,{children:[e.jsx(ge,{auth0Provider:s,nextUrl:n,isStorageComplianceEnabled:a}),!1]});function ge({auth0Provider:s,nextUrl:n,isStorageComplianceEnabled:a}){const o=U(),l=X(),t=r.useRef(null);return r.useEffect(()=>{if(o)return;t.current==null&&(t.current=document.body.style.backgroundColor);const c=l?"#00002E":"#FFFFDB";return document.body.style.backgroundColor=c,()=>{t.current!=null&&(document.body.style.backgroundColor=t.current)}},[l,o]),e.jsxs("div",{className:T("flex min-h-full w-screen flex-col sm:supports-[min-height:100dvh]:min-h-[100dvh] md:grid",o?"md:grid-cols-1":"md:grid-cols-2 lg:grid-cols-[60%_40%]"),children:[!o&&e.jsx(J,{}),e.jsx(ce,{auth0Provider:s,nextUrl:n,isStorageComplianceEnabled:a})]})}function Ae(){const s=K();return e.jsx(ue,{...s})}export{Ae as default};
//# sourceMappingURL=b4n5ggh16kv4co7b.js.map
