const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/sso-lh93s4wrdpp5fblx.js","assets/cya1ek7zbsww3e8p.js","assets/m1h3d66e9x9d8av7.js","assets/root-fuvdhw7t.css","assets/h2x37ub1souzo3by.js","assets/o02kugc5eyp7bzuk.js","assets/conversation-small-cll5buey.css","assets/cd3lr7lq8spr3x1m.js","assets/ji313uzrpltya54g.js","assets/cnkyxf781f12fdb9.js","assets/cnlquey73j7uw8fu.js","assets/lxcl4lkoqrle7fky.js","assets/gqzdg6plr3pmj597.js","assets/lrlzvgtohqckew7u.js","assets/clvle6hjcebazwfi.js","assets/dt5uqt2zhmlrp895.js","assets/n0s5m6clrqpu2fmq.js","assets/ck6f40emr7l3i0b3.js","assets/lptuk0q8xn5ezb1r.js","assets/eqdwfm1ss7l1qetb.js","assets/br9sj6yk029klw3b.js","assets/gq7tdevv4xdhasrb.js","assets/md510keitf2ivqa8.js","assets/beqhh5k54ufxbjqa.js","assets/n7mihaj2sjxshzb0.js","assets/pao6j5dhdawubk5p.js","assets/ht9d44tegtx4tp9s.js","assets/kav457re2wa0x93n.js","assets/bhomxqrcs87wp0ug.js","assets/bjiqtsa2cgudgxj8.js","assets/oqh7ik4ekqszwe7b.js","assets/itghwucfyv5ciib7.js","assets/hxbgovcs84mk9v9r.js","assets/o8i8jua4ntxjn5y6.js","assets/l2vkye9yek1pl7hq.js","assets/983a0dy92b3ronpv.js","assets/idzy572xfl7a5o6a.js","assets/hv7e2fak15kx5n21.js","assets/kqwdyvkaaavvn8k3.js","assets/n34hy54j5bdr6y6c.js","assets/f084274wzviqv3v8.js","assets/pcjzq5zspamo9j8w.js","assets/zy8toyr2lgrov161.js","assets/e9lafxuzyeh4418f.js","assets/oq0wn5kmxc7rsdva.js","assets/obop3mkgis8ubd40.js","assets/nhwwej1nq0zrd7sc.js","assets/ecaf2k8jxs5jdeba.js","assets/dg59tnhw4y7axib5.js","assets/k7gblveuiw9977ct.js","assets/o3xqxqfvzxvixas7.js","assets/t9hafwtdc4pa0i6h.js","assets/cwu0zz6c73ktxehb.js","assets/i54f37mdctri2apr.js","assets/jxvdqm13zt0qwgq5.js","assets/pbdfoko4gp72yxjd.js","assets/iej0cupg2dqkmejt.js","assets/g0lnj6ucdra0znz0.js","assets/m0ufyovf28ile0yl.js","assets/jk8w36bsokizpx57.js","assets/jci37cw2gaa1mzk1.js","assets/m6ckmcg5tc6lq0tg.js","assets/jwu51nzixsme9dia.js","assets/eg0ljzej0vy0q2ev.js","assets/l7os5ptlstx02j38.js","assets/hebnsu59jjcxuabp.js","assets/hdbfjkke7bjaucig.js","assets/swiper-kmk1dd5x.css","assets/hws0vxlbtd7ddny0.js"])))=>i.map(i=>d[i]);
import{a3 as k,t as e,a8 as b,aj as P,r as d,P as $,d as W,ad as G,bH as q,T as x,Q,O as X,a as K,e0 as Y,ax as T,aV as J,a5 as M,a6 as E,aa as Z,f3 as ee,af as se,cm as te}from"./cya1ek7zbsww3e8p.js";import{cM as h,a4 as p,dG as H,ag as A,c6 as ne,eu as ie,q as ae,ev as oe,ew as re,c7 as ce,c8 as le,c2 as de,ex as ue,ey as me,ez as fe,aH as xe,c as he,N as pe,eA as ge,bz as be}from"./o02kugc5eyp7bzuk.js";import{p as ye,a8 as ve,b7 as Se,b8 as je}from"./m1h3d66e9x9d8av7.js";import{B as Ne,D as we}from"./gqzdg6plr3pmj597.js";import{u as N,e as D,b as L,U as j}from"./n0s5m6clrqpu2fmq.js";import{m as Te}from"./cnlquey73j7uw8fu.js";import{d as Ie,m as Ce}from"./cnkyxf781f12fdb9.js";import{u as ke,a as B,H as Pe,b as Ge}from"./l7os5ptlstx02j38.js";import{u as Me,r as Ee}from"./gq7tdevv4xdhasrb.js";import{N as He}from"./cd3lr7lq8spr3x1m.js";function O(){const{activeModals:s}=N(),t=P(),n=h(p.ExploreGPTs),i=h(p.ExploreGPTsNewNux),o=D(),a=L(),l=A(),r=n.eligible&&!n.isLoading&&!a;let c=i.eligible&&!i.isLoading&&!a&&!o&&!l;return s.size>0&&(c=!1),!r&&t?.hasPlusFeatures()&&(c=!1),d.useEffect(()=>{c&&$.logEvent(W.storeDisplayNewNux)},[c]),c}function ss({children:s}){const t=O(),n=k(),i=h(p.ExploreGPTsNewNux);return t?e.jsx(H,{side:"right",show:!0,title:n.formatMessage(I.exploreGPTsTitle),onDismiss:i.markAsViewed,sideOffset:20,theme:"bright",description:e.jsx(b,{...I.exploreGPTsDescriptionNewNux}),children:s}):e.jsx(e.Fragment,{children:s})}const I=G({exploreGPTsTitle:{id:"gptExploreGPTs.title",defaultMessage:"Explore GPTs"},exploreGPTsDescription:{id:"gptExploreGPTs.description",defaultMessage:"Now you can discover GPTs created by the community"},exploreGPTsDescriptionNewNux:{id:"gptExploreGPTs.descriptionNewNux",defaultMessage:"Discover custom versions of ChatGPT created for specific use cases like writing, research, and coding."}});function Ae(){const s=h(p.SonicSidebar),[t,n]=d.useState(!1);return s.isLoading||!s.eligible?null:e.jsx(Te.div,{className:"no-draggable group pb-0",whileTap:{scale:.98},children:e.jsx(Le,{children:e.jsx(ne,{href:"/search",target:"_blank",icon:e.jsx("div",{className:x("gizmo-shadow-stroke mr-[0.5] flex h-6 w-6 items-center justify-center rounded-full bg-token-main-surface-primary align-middle text-token-text-primary"),children:e.jsx(ie,{})}),label:"SearchGPT",hoverRightIcon:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(Be,{isOpen:t,setIsOpen:n,onDismiss:()=>s.markAsViewed()}),e.jsx(ye,{className:x("icon-md text-token-text-tertiary",!t&&"invisible group-hover:visible")})]}),isMenuOpen:!1,loggingGizmoId:"search-gpt-sidebar"})})})}function De(){const s=L(),t=h(p.hasSeenSncSidebarTooltip),n=O(),i=D(),{activeModals:o}=N(),a=A();return!t.isLoading&&t.eligible&&!n&&o.size===0&&!s&&!i&&!a}function Le({children:s}){const t=De(),n=h(p.hasSeenSncSidebarTooltip);return t?e.jsx(H,{side:"right",show:!0,badge:"new",title:"Try SearchGPT",onDismiss:n.markAsViewed,sideOffset:10,theme:"bright",description:"You're in. Get answers with real-time information from relevant sources, and ask follow-up questions.",children:e.jsx("div",{className:"w-full",children:s})}):e.jsx(e.Fragment,{children:s})}function Be({isOpen:s,setIsOpen:t,onDismiss:n}){return e.jsx(Ne,{open:s,onOpenChange:t,triggerButton:e.jsx("button",{className:x("flex text-token-text-tertiary",s?"":"invisible group-hover:visible"),onClick:i=>{i.preventDefault()},children:e.jsx(ve,{className:"icon-md"})}),children:e.jsx(we.Item,{onClick:i=>{i.preventDefault(),n()},children:e.jsx(b,{id:"sidebar.hideFromSidebar",defaultMessage:"Hide from sidebar"})})})}function Oe(){const s=q("114024");return!s.value||s.isLoading?null:e.jsx(Ae,{})}const C=G({unableToLoadHistory:{id:"history.unableToLoad",defaultMessage:"Unable to load history"},retryButton:{id:"history.retryButton",defaultMessage:"Retry"}});function ze({activeId:s,isPrimaryBackgroundColor:t}){const n=K(),[i,o]=d.useState(!1),[a,l]=d.useState(0),r=Y(),{conversations:u,hasNextPage:c,fetchNextPage:y,isLoading:g,isFetchingNextPage:z,isError:w}=Me(),v=d.useRef(null),_=d.useCallback(f=>{g||f==null||(v.current?.disconnect(),v.current=new IntersectionObserver(U=>{U[0].isIntersecting&&c&&y()}),v.current.observe(f))},[g,c,y]);d.useEffect(()=>()=>{v.current?.disconnect()},[]),d.useMemo(()=>{ae.publish({kind:"refreshHistory",conversations:u})},[u]);const S=u;d.useEffect(()=>{const f=oe(re(),Date.now());r(()=>{l(a+1)},f+1e3)},[a,r]);const m=S.length===0;d.useEffect(()=>{m||ce({namespace:le.ChatPageLoad})?.logTiming("render_history_items")},[m]);const R=ke(S,a),{isCollapsible:F}=B(),V=N(f=>f.isHistoryCollapsed);return e.jsxs(Fe,{$centered:g||w||m,children:[m&&g&&e.jsx(T,{className:"m-auto"}),m&&w&&e.jsxs("div",{className:"p-3 text-center italic text-token-text-tertiary",children:[e.jsx(b,{...C.unableToLoadHistory}),!i&&e.jsx("div",{className:"mt-1",children:e.jsx(J,{as:"button",color:"primary",size:"small",className:"m-auto mt-2",onClick:()=>{o(!0),Ee(n)},children:e.jsx(b,{...C.retryButton})})})]}),!g&&!m&&e.jsx("div",{children:F&&V?e.jsx(_e,{activeId:s,items:S,isPrimaryBackgroundColor:t}):e.jsx(Pe,{activeId:s,bucketedItems:R,hasNextPage:c,items:S,isPrimaryBackgroundColor:t,infiniteScrollTriggerElementRef:_})}),z&&e.jsx("div",{className:"m-4 mb-5 flex justify-center",children:e.jsx(T,{})})]})}function _e({activeId:s,items:t,isPrimaryBackgroundColor:n}){const{isCollapsible:i,recentConversationLimit:o}=B(),a=de(),l=t.slice(0,o);if(s){const r=t.findIndex(u=>u.id===s);r>o-1&&l.push(t[r])}return e.jsxs("div",{className:x(n&&"first:mt-0","relative mt-5 last:mb-5"),children:[e.jsx("div",{className:x("sticky top-[--sidebar-sticky-threshold]","z-20"),children:e.jsx("span",{className:"flex h-9 items-center",children:e.jsx(ue,{$screenArch:a,children:e.jsx(b,{id:"VbQeVG",defaultMessage:"Recent"})})})}),e.jsx("ol",{className:a?"mt-1 flex flex-col gap-0.5":void 0,children:l.map((r,u)=>{const c=s===r.id,y=u===0;return e.jsx(Ge,{item:r,isActive:c,isFirstItem:y,isPrimaryBackgroundColor:n,testId:`history-item-${u}`},`history-item-${r.id}`)})}),i&&e.jsx(me,{type:"more",onClick:j.toggleHistoryCollapsed})]})}const Re=Q.memo(ze),Fe=X.div`flex flex-col gap-2 pb-2 text-token-text-primary text-sm mt-5
${({$centered:s})=>[s&&"h-full justify-center items-center empty:hidden"]}`,Ve=M(()=>E(()=>import("./sso-lh93s4wrdpp5fblx.js").then(s=>s.a),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67])).then(s=>s.FannyPackAction)),Ue=M(()=>E(()=>import("./hws0vxlbtd7ddny0.js"),__vite__mapDeps([68,1,2,3,5,6,49,8,9,10,11,16,12,7,13,14,15,17,64,21,23,48])).then(s=>s.GizmoSidebarList));function ts({clientThreadId:s,onNewThread:t}){const n=Ie(s),i=P(),{isUnauthenticated:o}=se(),a=Ce(s),l=te();return o?null:e.jsxs(e.Fragment,{children:[e.jsx(be,{onNewThread:t}),i?.canInteractWithGizmos()?e.jsx(Ue,{currentGizmoId:a}):e.jsx(Oe,{}),!1,!o&&e.jsx(Re,{activeId:l?void 0:n})]})}function ns({className:s,onNewThread:t}){const n=k(),i=Z(),o=fe(),a=ee(()=>navigator.windowControlsOverlay),{isFannyPackEnabled:l}=xe();return e.jsxs("div",{className:x("flex",a?.visible&&a.getTitlebarAreaRect().left>0?"justify-end":"justify-between",s),children:[e.jsx(he,{sideOffset:4,label:n.formatMessage({id:"e7SzX9",defaultMessage:"Close sidebar"}),className:"flex",side:"right",children:e.jsx(pe,{className:"no-draggable","aria-label":n.formatMessage({id:"e7SzX9",defaultMessage:"Close sidebar"}),onClick:()=>{ge(i)?j.toggleNavSidebar():j.togglePopoverNavSidebar()},icon:Se,mobileIcon:je,surfaceContext:"secondary","data-testid":"close-sidebar-button"})}),e.jsxs("div",{className:"flex",children:[l&&e.jsx(Ve,{}),!o&&e.jsx(He,{onClick:t,testId:"create-new-chat-button"})]})]})}export{ts as C,ss as E,Re as H,ns as S,Oe as a};
//# sourceMappingURL=mq2cwvkvtgeu51t6.js.map
