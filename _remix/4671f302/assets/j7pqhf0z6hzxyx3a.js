import{t as p,eq as h,a1 as R,r as m,dP as C,a3 as f,ag as M,S as _,dY as l,bH as b}from"./cya1ek7zbsww3e8p.js";import{v as x}from"./ji313uzrpltya54g.js";import{cY as E,bD as G,bE as I,bF as T}from"./o02kugc5eyp7bzuk.js";import{d as w}from"./cnkyxf781f12fdb9.js";import{a as z,G as d,U as v}from"./n0s5m6clrqpu2fmq.js";function j(e){const o=x(e.gizmo.display.name);return o==null?[]:[{title:o},{property:"og:site_name",content:"ChatGPT"},{property:"og:type",content:"website"},{property:"og:title",content:o},...e.gizmo.display.description?[{name:"description",content:e.gizmo.display.description},{property:"og:description",content:e.gizmo.display.description}]:[],...e.gizmo.display.profile_picture_url?[{property:"og:image",content:e.gizmo.display.profile_picture_url},{property:"og:image:width",content:"512"},{property:"og:image:height",content:"512"}]:[]]}function P({gizmo:e}){return p.jsx(E,{children:p.jsx(h,{metadata:j(e)})})}function U({serverThreadId:e,clientThreadId:o,isStaticSharedThread:a,isDynamicSharedThread:s}){const t=z(d.ReportConversation),i=R("2935021756")?.value,r=b("3376455464")?.value||a||s,y=w(o);let n=e??y;const u=m.useContext(C);n==null&&u!=null&&(n=u.serverSharedThreadId??void 0),i&&typeof window<"u"&&(window._convo_share_debug={isOpen:t,canReport:r,serverThreadIdIsNull:n==null,isStaticSharedThread:a,isDynamicSharedThread:s});const c=f(),g=M();return m.useEffect(()=>{n==null&&t&&r&&(g.danger(c.formatMessage({id:"gizmo.report.conversationModal.emptyConversationError",defaultMessage:"Empty conversations cannot be reported"})),v.closeModal(d.ReportConversation))},[n,t,r,c,g]),!t||!r||n==null?(t&&_.logEvent("chatgpt_conversation_share_report_modal_not_shown",r?"serverThreadId":"canReport"),null):p.jsx(H,{serverThreadId:n,onClose:()=>v.closeModal(d.ReportConversation),isStaticSharedThread:a,isDynamicSharedThread:s})}function H({serverThreadId:e,onClose:o,isStaticSharedThread:a,isDynamicSharedThread:s}){const{data:t}=G(a||s?l.ShareableConversation:l.Conversation),i=f(),r=I(i,e,a||s?l.ShareableConversation:l.Conversation);return t==null||e==null?(_.logEvent("chatgpt_conversation_share_report_modal_not_shown",t==null?"report_reasons":"thread_id"),null):p.jsx(T,{reasons:t.reasons,submitReport:r,title:i.formatMessage({id:"gizmo.report.conversationModal.title",defaultMessage:"Report a conversation"}),onClose:o,header:t.header,subHeader:t.header_explanation})}export{P as G,H as R,U as T,j as g};
//# sourceMappingURL=j7pqhf0z6hzxyx3a.js.map
