const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dqxn29jld5d2658p.js","assets/cya1ek7zbsww3e8p.js","assets/m1h3d66e9x9d8av7.js","assets/root-fuvdhw7t.css","assets/o02kugc5eyp7bzuk.js","assets/conversation-small-cll5buey.css","assets/beqhh5k54ufxbjqa.js","assets/ji313uzrpltya54g.js","assets/cnkyxf781f12fdb9.js","assets/cnlquey73j7uw8fu.js","assets/lxcl4lkoqrle7fky.js","assets/gq7tdevv4xdhasrb.js","assets/lrlzvgtohqckew7u.js","assets/clvle6hjcebazwfi.js","assets/mwq4hgq32r8zxoz9.js","assets/n0s5m6clrqpu2fmq.js","assets/zy8toyr2lgrov161.js","assets/e9lafxuzyeh4418f.js","assets/oq0wn5kmxc7rsdva.js","assets/obop3mkgis8ubd40.js","assets/nbye4lkf0z5yx7k0.js","assets/bsu2bl74d8hvnjqn.js","assets/j7pqhf0z6hzxyx3a.js","assets/h2x37ub1souzo3by.js","assets/cd3lr7lq8spr3x1m.js","assets/gqzdg6plr3pmj597.js","assets/dt5uqt2zhmlrp895.js","assets/ck6f40emr7l3i0b3.js","assets/lptuk0q8xn5ezb1r.js","assets/eqdwfm1ss7l1qetb.js","assets/br9sj6yk029klw3b.js","assets/md510keitf2ivqa8.js","assets/gphz2kh56z3x1ky9.js","assets/igb9dmr373qfmqoq.js","assets/hirsm9330k9ce9fk.js","assets/k7gblveuiw9977ct.js","assets/jci37cw2gaa1mzk1.js","assets/b0g5goygjlgrn1vt.js","assets/t9hafwtdc4pa0i6h.js","assets/mbtmeqavw326paga.js","assets/moe68hd05fytpaqp.js","assets/nbgv50evg19shp1b.js","assets/m6ckmcg5tc6lq0tg.js","assets/idzy572xfl7a5o6a.js","assets/kf8m32zc298d12sy.js","assets/hv7e2fak15kx5n21.js","assets/kqwdyvkaaavvn8k3.js","assets/n34hy54j5bdr6y6c.js","assets/fzfry531gccgg793.js","assets/emxmg4uaj2jku29y.js","assets/k1rx6catehq88xq0.js","assets/mszo4oq5hgf7auf0.js","assets/ier51yc34rlup7h7.js","assets/db9d7ramebkx8sap.js","assets/jf4ni6i8z1hlceg4.js","assets/hsojkhupxqnnfzg0.js","assets/l0j08voj1v7au9ty.js","assets/c87x0ai9klats9rm.js","assets/983a0dy92b3ronpv.js","assets/nyldualv7qhtryei.js","assets/gqb99q6hg5ntpaam.js","assets/bqkoy564loca375u.js","assets/dg59tnhw4y7axib5.js","assets/mq2cwvkvtgeu51t6.js","assets/l7os5ptlstx02j38.js","assets/7xakk3n2qxha7pks.js","assets/hws0vxlbtd7ddny0.js","assets/ertmkmdcxtp7hxjc.js","assets/sso-lh93s4wrdpp5fblx.js","assets/n7mihaj2sjxshzb0.js","assets/pao6j5dhdawubk5p.js","assets/ht9d44tegtx4tp9s.js","assets/kav457re2wa0x93n.js","assets/bhomxqrcs87wp0ug.js","assets/bjiqtsa2cgudgxj8.js","assets/oqh7ik4ekqszwe7b.js","assets/itghwucfyv5ciib7.js","assets/hxbgovcs84mk9v9r.js","assets/o8i8jua4ntxjn5y6.js","assets/l2vkye9yek1pl7hq.js","assets/f084274wzviqv3v8.js","assets/pcjzq5zspamo9j8w.js","assets/nhwwej1nq0zrd7sc.js","assets/ecaf2k8jxs5jdeba.js","assets/o3xqxqfvzxvixas7.js","assets/cwu0zz6c73ktxehb.js","assets/i54f37mdctri2apr.js","assets/jxvdqm13zt0qwgq5.js","assets/pbdfoko4gp72yxjd.js","assets/iej0cupg2dqkmejt.js","assets/g0lnj6ucdra0znz0.js","assets/m0ufyovf28ile0yl.js","assets/jk8w36bsokizpx57.js","assets/jwu51nzixsme9dia.js","assets/eg0ljzej0vy0q2ev.js","assets/hebnsu59jjcxuabp.js","assets/hdbfjkke7bjaucig.js","assets/swiper-kmk1dd5x.css","assets/dnjubreq8ldoy1sk.js","assets/oklrqfq0w9dn20vy.js"])))=>i.map(i=>d[i]);
import{t as e,bD as Z,b6 as De,b7 as Le,b4 as Be,r,D as z,aV as V,j as Ie,S as H,P as he,d as pe,a8 as A,ad as U,O as os,a3 as $,ag as Ve,ae as ns,a5 as y,a6 as v,aj as Fe,bQ as is,bP as rs,bN as cs,aY as ls,a1 as Re,bx as He,by as ds,aa as us,aB as gs,T as p,aW as fs,a as J,ab as be,bo as ms,dO as Q,fe as hs,fa as ps,cm as Ge,ax as bs,af as xs,d5 as _,fm as Cs,s as xe,b1 as Ss,c_ as ys,c$ as vs,d0 as Ms,bY as ks,az as js,u as As}from"./cya1ek7zbsww3e8p.js";import{j as ws,k as ee,T as We}from"./cd3lr7lq8spr3x1m.js";import{i5 as se,cN as _s,i6 as ze,i7 as Ue,i8 as Ns,i9 as $e,u as Ts,ia as Ps,ib as Es,S as Os,ic as Ds,id as Ls,bG as G,ie as Bs,ig as Is,ih as Vs,ii as Fs,en as Rs,ij as Hs,ik as Gs,il as Ws,im as zs,io as Us,ip as $s,iq as Ks,ir as qs,is as Qs,it as Ys,iu as Xs,iv as Zs,iw as Js,ix as ea,iy as sa,iz as aa,iA as ta,iB as oa,ck as ae,iC as na,iD as ia,eA as ra,cX as Ke,cd as Y,f3 as Ce,cy as ca,iE as qe,iF as Qe,gF as la,af as da,iG as ua,gO as Se,fH as ga,bZ as X,b_ as ye,q as fa,c3 as ve,c4 as Me,ey as ke,iH as ma,iI as je,dD as m,iJ as ha,aH as pa,iK as Ae,iL as we,dF as ba,bz as xa,iM as Ca,iN as Sa,fK as ya,iO as va,d3 as Ma,c2 as ka,iP as ja,iQ as Aa,c7 as wa,c8 as _e,iR as _a,v as Na,cn as Ta,iS as Pa,co as Ea,dk as Oa,iT as Da,dl as La,iU as Ba}from"./o02kugc5eyp7bzuk.js";import{U as u,G as I,u as N,c as Ye,d as R,b as Ia}from"./n0s5m6clrqpu2fmq.js";import{T as W,I as Va,c as Fa,d as Ra,m as Ha}from"./cnkyxf781f12fdb9.js";import{u as Ga}from"./lrlzvgtohqckew7u.js";import{L as Wa}from"./clvle6hjcebazwfi.js";import{S as Ne,b as za,c as Ua,N as $a}from"./bqkoy564loca375u.js";import{u as Xe,a as Ka,g as qa}from"./dg59tnhw4y7axib5.js";import{S as Qa,C as Ya}from"./mq2cwvkvtgeu51t6.js";import{b as Xa,f as Za,a as Ze}from"./bsu2bl74d8hvnjqn.js";import{u as Ja,q as et}from"./h2x37ub1souzo3by.js";import{K as st}from"./ji313uzrpltya54g.js";import{m as Te}from"./cnlquey73j7uw8fu.js";import{a as at,b as Pe}from"./l7os5ptlstx02j38.js";import{r as tt,u as ot}from"./gq7tdevv4xdhasrb.js";import{bE as nt,bF as it}from"./m1h3d66e9x9d8av7.js";import{C as rt}from"./7xakk3n2qxha7pks.js";const ct=60*60*24;function lt(s,a=!1){return Z()==null||a?"loading":!s||De.getCookie(Le.AgeVerification)||s.ageVerificationDeadline==null||s.ageVerificationType==="none"?"hide":"show"}function dt({onClose:s}){const{data:{ageVerificationType:a,ageVerificationDeadline:t}={}}=se();return a==="passive"?e.jsx(ut,{onClose:s}):a==="countdown"&&t!=null?e.jsx(gt,{onClose:s,ageVerificationDeadline:t}):null}const ut=({onClose:s})=>{const{country:a}=Be();return r.useEffect(()=>{z.addAction("privacy_policy.show_age_verification_modal",{country:a})},[a]),e.jsx(_s,{onClose:s,title:"OpenAI 서비스 이용 가능 연령기준을 확인해 주세요",description:e.jsx("div",{className:"whitespace-pre-wrap",children:e.jsxs("p",{children:["ChatGPT를 이용해주셔서 감사합니다. 대한민국의 법령상 요건을 준수하기 위해, OpenAI는 귀하가 OpenAI 서비스를 이용할 수 있는 나이인지 확인하여야 합니다. ChatGPT를 계속 이용하시려면, 귀하가 18세 이상이거나, 14세 이상이고 부모 또는 보호자의 허락을 받았음을 확인해 주세요.",e.jsx("br",{}),e.jsx("br",{}),"OpenAI의 연령기준 미달시"," ",e.jsx("a",{href:"https://privacy.openai.com/policies?action=ERASURE&modal=log-in",className:"underline",target:"_blank",rel:"noreferrer",children:"이 페이지에서 계정을 삭제해 주세요."})]})}),actionButton:e.jsx(V,{color:"primary",onClick:async()=>{await Ie.updateAgeVerification(),s()},children:"저는 OpenAI의 연령기준을 충족합니다"}),cancelButton:e.jsx(V,{as:"link",color:"secondary",to:"/auth/logout",children:"로그아웃"})})},gt=({onClose:s,ageVerificationDeadline:a})=>{const t=a!=null?Math.floor(a/60/60/24):0;r.useEffect(()=>{H.logEvent("chatgpt_compliance_age_verification_seen"),he.logEvent(pe.complianceAgeVerificationSeen)},[]);const{country:o}=Be();return r.useEffect(()=>{z.addAction("privacy_policy.show_age_verification_countdown",{country:o})},[o]),e.jsxs(ze,{children:[e.jsx(Ue,{className:"text-sm font-semibold [grid-area:_title]",children:e.jsx(A,{...Ee.ageVerificationTitle,values:{deadline:t,learnMoreLink:i=>e.jsx("a",{href:"https://help.openai.com/en/articles/8411987-why-am-i-being-asked-to-verify-my-age",target:"_blank",rel:"noreferrer",className:"cursor-pointer font-normal underline",children:i})}})}),e.jsx(Ns,{altText:"Dismiss notification",asChild:!0,children:e.jsx(V,{color:"primary",size:"small",onClick:()=>{H.logEvent("chatgpt_compliance_age_verification_clicked"),he.logEvent(pe.complianceAgeVerificationClicked),De.setCookie(Le.AgeVerification,"true",{maxAge:ct,path:"/"}),s(),u.openModal(I.AgeVerificationInterstitial)},children:e.jsx(A,{...Ee.startVerification})})}),e.jsx($e,{})]})},Ee=U({ageVerificationTitle:{id:"ageVerificationBanner.title-v1",defaultMessage:"Please verify your age in the next {deadline, plural, =0 {# days} one {# day} other {# days}}. We are required to check if you're old enough to use ChatGPT. <learnMoreLink>Learn more</learnMoreLink>."},dismiss:{id:"ageVerificationBanner.dismiss",defaultMessage:"Dismiss"},startVerification:{id:"ageVerificationBanner.startVerification",defaultMessage:"Start verification"},modalTitle:{id:"ageVerificationModal.title",defaultMessage:"Please confirm you meet our age requirements"},modalDescription:{id:"ageVerificationModal.description.1",defaultMessage:"Thank you for using ChatGPT. To comply with legal requirements in Korea, we need to confirm that you’re old enough to use our service. To continue on ChatGPT, please confirm that you are 18+ or are 14+ and have your parent or guardian’s permission to use ChatGPT. <deleteAccountLink>If you do not meet our age requirements, please delete your account.</deleteAccountLink>"},modalLogout:{id:"ageVerificationModal.logOut",defaultMessage:"Log out"},modalAction:{id:"ageVerificationModal.actionButton",defaultMessage:"I meet OpenAI's age requirements"}});function ft({onClose:s}){const a=$(),t=Ve(),{openSettings:o}=Ts(),i=Ps(),{session:n}=ns(),{data:{isStorageComplianceEnabled:c}={}}=se(),{data:l,isLoading:h}=Es({enabled:!!(c&&n),select:d=>!d.cookie_consent.is_required});return r.useEffect(()=>{l===!0&&s()},[l,s]),h?null:e.jsx(mt,{onReject:()=>{i.mutateAsync({analytics_cookies_accepted:!1},{onSuccess(){t.success(a.formatMessage(B.updateSuccess))},onError(){t.danger(a.formatMessage(B.updateFailure))}}),s()},onAccept:()=>{i.mutateAsync({analytics_cookies_accepted:!0},{onSuccess(){t.success(a.formatMessage(B.updateSuccess))},onError(){t.danger(a.formatMessage(B.updateFailure))}}),s()},children:e.jsx(A,{id:"CookieConsentBanner.authedDescription.0",defaultMessage:"We use cookies and similar technologies to deliver, maintain, improve our services and for security purposes. Check our <cookiePolicy>cookie policy</cookiePolicy> for details. Click 'Accept all' to let OpenAI and partners use cookies for these purposes. Click 'Reject all' to say no to cookies, except those that are strictly necessary. Choose <manageLink>manage cookies</manageLink> to change your preferences.",values:{cookiePolicy:d=>e.jsx(Wa,{href:"https://openai.com/policies/cookie-policy",openNewTab:!0,children:d}),manageLink:d=>e.jsx(ht,{onClick:()=>{o(Os.DataControls)},children:d})}})})}function mt({children:s,onAccept:a,onReject:t}){return r.useEffect(()=>{z.addAction("privacy_policy.show_cookie_consent_banner")},[]),e.jsxs(ze,{children:[e.jsxs(Ue,{className:"text-sm font-semibold [grid-area:_title]",children:[s,e.jsxs("div",{className:"mt-2 flex justify-end gap-3",children:[e.jsx(V,{color:"secondary",size:"small",onClick:t,children:e.jsx(A,{...B.reject})}),e.jsx(V,{color:"secondary",size:"small",onClick:a,children:e.jsx(A,{...B.accept})})]})]}),e.jsx($e,{})]})}const ht=os.button`underline font-normal text-green-600`,B=U({cookieConsentBannerTitle:{id:"CookieConsentBanner.title",defaultMessage:"We use cookies to provide, improve, and protect our services. Visit our <privacyPolicyLink>privacy policy</privacyPolicyLink> to learn more. You can manage your cookie preferences in your <settingsPanel>settings panel</settingsPanel>. <learnMoreLink>Learn more</learnMoreLink>."},reject:{id:"CookieConsentBanner.reject",defaultMessage:"Reject all"},accept:{id:"CookieConsentBanner.accept",defaultMessage:"Accept all"},updateSuccess:{id:"CookieConsentBanner.updateSuccess",defaultMessage:"Your cookie preferences were updated successfully"},updateFailure:{id:"CookieConsentBanner.updateFailure",defaultMessage:"Unable to update cookie preferences. Try again later."}}),pt=y(()=>v(async()=>{const{ModelOnboardingNUXModal:s}=await import("./dqxn29jld5d2658p.js");return{ModelOnboardingNUXModal:s}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])).then(({ModelOnboardingNUXModal:s})=>s),{ssr:!1}),bt=({onClose:s})=>{const a=$(),t=G(ae.isBusinessWorkspace),o=G(n=>n.currentWorkspace),i=t?a.formatMessage(Oe.workspaceWelcome,{workspaceName:o?.name}):"ChatGPT";return e.jsx(He,{isOpen:!0,onClose:ds,type:"success",title:i,size:"custom",noPadding:!0,className:"max-w-3xl",description:a.formatMessage(Oe.personalOnboardingSubheading),children:e.jsx(na,{onClose:s,scope:ia.Personal})})};function xt(){const[s,a]=r.useState(0),{hasSeenOnboardingDate:t}=Ds(),{hasSeenTeamOwnerOnboardingDate:o}=Ls(),i=G(ae.isBusinessWorkspace),n=Fe(),[c,l]=r.useState(!1),{data:h,isPending:d}=se(),M=lt(h,d),{eligible:w,isLoading:b}=Ga(),T=is(),O=rs(),k=cs(),{data:x,isError:j}=ls(),C=x!=null,P=x&&x?.accountItems.length>1&&x.currentAccountId==null,D=x?.accountItems.some(f=>f.isPersonalAccount()),S=!!x?.accountItems&&x.accountItems.length>0&&x.accountItems.every(({canAccessWithCurrentSession:f})=>!f),{eligible:g,isLoading:E}=Bs(),{value:F}=Re("1542198993"),{punchOutRequireLoginInfo:te}=Is(),{state:oe}=Vs(),{isOpen:ne,isLoading:ie}=Fs(),{isOpen:re,isLoading:ce}=Rs(),{isOpen:le,isLoading:de}=Hs(),{isOpen:ue,isLoading:ge}=Gs(),{state:fe}=Ws(),L=r.useMemo(()=>[{Component:zs,getModalState:()=>te?"show":"hide",isDeferrable:!1},{Component:Us,getModalState:()=>oe,isDeferrable:!1},{Component:$s,getModalState:()=>fe,isDeferrable:!1},{Component:Ks,getModalState:()=>ie?"loading":ne?"show":"hide",isDeferrable:!1},{Component:qs,getModalState:()=>ge?"loading":ue?"show":"hide",isDeferrable:!1},{Component:bt,getModalState:()=>i?"hide":t===null?"loading":t===!1?"show":"hide",isDeferrable:!0},{Component:Qs,getModalState:()=>j?"hide":P?"show":C?"hide":"loading",isDeferrable:!1},{Component:Ys,getModalState:()=>T!==null?"show":j||C?"hide":"loading",isDeferrable:!1},{Component:Xs,getModalState:()=>O!==null?"show":j||C?"hide":"loading",isDeferrable:!1},{Component:Zs,getModalState:()=>k!=null?"show":j||C?"hide":"loading",isDeferrable:!1},{Component:Js,getModalState:()=>C?S?"show":"hide":"loading",isDeferrable:!1},{Component:ea,getModalState:()=>ce?"loading":re?"show":"hide",isDeferrable:!1},{Component:sa,getModalState:()=>de?"loading":le?"show":"hide",isDeferrable:!1},{Component:ft,getModalState:()=>"hide",isDeferrable:!1},{Component:aa,getModalState:()=>!n?.isTeam()||!n?.isOwnerOfAccount()||!D?"hide":!C||o===null?"loading":o===!1?"show":"hide",isDeferrable:!1},{Component:ta,getModalState:()=>i?t===null?"loading":t===!1?"show":"hide":"hide",isDeferrable:!0},{Component:oa,getModalState:()=>E?"loading":g&&F?"show":"hide",isDeferrable:!1},{Component:dt,getModalState:()=>M,isDeferrable:!1},{Component:pt,getModalState:()=>b?"loading":w?"show":"hide",isDeferrable:!0,expiresAt:new Date(2024,7,13)}].filter(f=>!(f.isDeferrable&&c)&&(!f.expiresAt||f.expiresAt.getTime()>Date.now())),[te,oe,k,C,t,o,D,b,i,j,T,O,n,S,P,M,w,c,F,g,E,ne,ie,ue,ge,fe,ce,re,le,de]);r.useEffect(()=>{if(L[s]&&L[s].getModalState()==="hide"){const f=L.findIndex(ts=>ts.getModalState()!=="hide");a(f)}},[s,L]);const K=L[s],q=K?.getModalState()==="show";if(r.useEffect(()=>{const f=N.getState().activeModals.has(I.BlockingInitialComponent);q!==f&&(q?u.openModal(I.BlockingInitialComponent):u.closeModal(I.BlockingInitialComponent))},[q]),K==null)return e.jsx("span",{"data-testid":"blocking-initial-modals-done",className:"hidden"});const me=K.getModalState();if(me==="loading")return null;me==="hide"&&a(f=>f+1);const as=L[s].Component;return e.jsx(as,{onClose:()=>{l(!0),a(f=>f+1)}})}const Oe=U({workspaceWelcome:{id:"BlockingInitialModals.workspaceWelcome",defaultMessage:"Welcome to the {workspaceName} workspace"},personalOnboardingSubheading:{id:"BlockingInitialModals.personalOnboardingSubheading",defaultMessage:"Tips for getting started"}}),Ct=y(()=>v(()=>import("./mwq4hgq32r8zxoz9.js"),__vite__mapDeps([14,1,2,3,8,4,5,9,7,10,11,15,16,17,18,19,20,21,22,23,24,25,12,13,26,27,28,29,30,31,6,32,33,34,35,36,37,38,39,40,41,42,43])).then(s=>s.DebugConversationSidebar));function Je({clientThreadId:s}){St();const a=Z(),t=a?.includes("debug"),o=us(),i=N(c=>c.activeSidebar),n=a?.includes("debug")&&i==="debug";return!t||!n?null:e.jsx(Ct,{clientThreadId:s,slideOver:!ra(o),onClose:()=>u.toggleActiveSidebar("debug"),isOpen:!0})}function St(){const a=Z()?.includes("debug");r.useEffect(()=>{if(!a)return;const t=new AbortController;return document.addEventListener("keydown",o=>{o.target instanceof HTMLElement&&["input","textarea","select","button"].includes(o.target.tagName.toLowerCase())||o.key==="\\"&&u.toggleActiveSidebar("debug")},{signal:t.signal}),()=>{t.abort()}},[a])}const yt=y(()=>v(()=>import("./kf8m32zc298d12sy.js"),__vite__mapDeps([44,1,2,3,4,5,45,8,9,46,47,7,10,48])).then(s=>s.SearchSources));function vt({clientThreadId:s}){const{resolvedTheme:a}=gs(),t=a==="dark",{turnIndex:o,messageId:i,isOpen:n}=Ye(),c=r.useCallback(()=>{u.closeChatThreadFlyout(s)},[s]);return!i||!o||!n?null:e.jsx(Ke,{anchor:"top",className:p("relative flex-1 border-l",t?"border-l-token-border-medium":"border-l-token-border-xlight"),name:"threadFlyOut",leading:e.jsx(Y,{name:"search-sources-header",type:"primary",className:p("flex min-h-[56px] items-center justify-end !bg-transparent p-1.5"),children:e.jsx("div",{className:"bg-token-main-surface-primary p-1",children:e.jsx(fs,{onClick:c})})}),children:e.jsx(yt,{clientThreadId:s,turnIndex:o,messageId:i,isInSidebar:!0})})}function es({clientThreadId:s}){r.useEffect(()=>{u.closeSharingModal()},[s]);const a=J();r.useEffect(()=>(W.retainThread(s),()=>{setTimeout(()=>{a.invalidateQueries({queryKey:["conversation",s]})},0),W.releaseThread(s)}),[s,a]),r.useEffect(()=>()=>{H.checkGate("3922476776")||Ce.abortAllRequests()},[s]);const t=r.useRef(s);r.useEffect(()=>{s!==t.current&&(H.checkGate("3922476776")||Ce.clear(),t.current=s)},[s])}function ss({clientThreadId:s,setClientThreadId:a}){const t=J(),o=ca(),i=o?{kind:be.GizmoInteraction,gizmo_id:o}:{kind:be.PrimaryAssistant};Ja(s,i);const n=ms(),c=st(s),l=r.useRef(c);l.current=c;const h=Va(s),d=r.useCallback(()=>{a(Q());const b=l.current;n(b.tags.includes(hs.GPT_4)?"/":`/?model=${b.id}`,{replace:!0})},[a,n]),M=ws({clientThreadId:s,location:"Model switcher menu item"}),w=r.useCallback(b=>{h||et(n,t,b)},[t,n,h]);return{createNewThread:M,onThreadCreated:w,resetThread:d}}const Mt=y(()=>v(()=>import("./emxmg4uaj2jku29y.js"),__vite__mapDeps([49,1,2,3,4,5,23,24,7,8,9,10,25,12,13,26,15,27,28,29,30,11,31,6,50,51,52,53,54,55,18,56])).then(s=>s.CanvasFocusedViewManager)),kt=y(()=>v(()=>import("./c87x0ai9klats9rm.js"),__vite__mapDeps([57,1,2,3,15,10,8,4,5,9,44,45,46,47,7,48,58])).then(s=>s.SearchResultsModal));function jt({clientThreadId:s,setClientThreadId:a,urlThreadId:t,prefetchSearch:o}){const i=Fa();es({clientThreadId:s});const{createNewThread:n,onThreadCreated:c,resetThread:l}=ss({clientThreadId:s,setClientThreadId:a});Xe({resetThreadAction:l,clientThreadId:s});const h=ee(s);return e.jsxs(We,{clientThreadId:s,children:[e.jsx(qe,{clientThreadId:s,urlThreadId:t}),e.jsxs(Ne,{hideNavigation:i,mobileHeaderContent:e.jsx(Xa,{clientThreadId:s,inMobileHeader:!0}),mobileHeaderBottomContent:e.jsx(Za,{clientThreadId:s}),mobileHeaderLeftContent:e.jsx(za,{onNewChatButtonClick:l}),mobileHeaderRightContent:e.jsx(Ua,{onNewChatButtonClick:l}),sidebar:e.jsx($a,{navHeader:s?e.jsx(Qa,{className:"flex h-[60px] items-center md:h-header-height",onNewThread:n}):null,children:e.jsx(Ya,{clientThreadId:s,onNewThread:n})}),threadFlyout:e.jsx(vt,{clientThreadId:s}),children:[e.jsx(Qe,{}),e.jsx(Ze,{clientThreadId:s,onCreate:c,prefetchSearch:o},s),e.jsxs(Ne.Sidebars,{children:[h&&e.jsx(Mt,{clientThreadId:s}),e.jsx(Je,{clientThreadId:s}),!1]})]}),e.jsx(At,{clientThreadId:s})]})}function At({clientThreadId:s}){const{value:a}=Re("218782548"),t=la(),{isOpen:o}=Ye();return o&&(!t||!a)&&e.jsx(kt,{clientThreadId:s})}const wt=450;function _t({children:s,clientThreadId:a,isOpen:t,onClose:o}){return e.jsx(da,{children:t&&e.jsx(ps,{children:e.jsx(ua.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(Te.div,{className:"h-full w-full bg-token-main-surface-secondary",...Se}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx("div",{className:"flex-grow overflow-auto",children:s}),e.jsx(Te.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:wt},...Se,children:e.jsx("div",{className:"h-[100vh] pb-4",children:e.jsx(Ze,{clientThreadId:a,hideHeader:!0,hideFooter:!0,hideToolsOverlay:!0,messagesVerticalAlign:"bottom"},a)})})]})]})})})})}const Nt=y(()=>v(()=>import("./nyldualv7qhtryei.js"),__vite__mapDeps([59,1,2,3,4,5,23,24,7,8,9,10,25,12,13,26,15,27,28,29,30,11,31,6]))),Tt=y(()=>v(()=>import("./gqb99q6hg5ntpaam.js"),__vite__mapDeps([60,1,2,3,4,5,39,23,24,7,8,9,10,25,12,13,26,15,27,28,29,30,11,31,6,61,41,62,63,64,21,22,32,33,34,35,36,37,38,40,42,43,65])).then(s=>s.ImageEditor));function Pt({clientThreadId:s}){const a=ga();r.useEffect(()=>{X.close()},[s]);let t;return a?.type===ye.ADAVisualization?t=e.jsx(Nt,{clientThreadId:s,visualization:a.visualization}):a?.type===ye.Image&&(t=e.jsx(Tt,{clientThreadId:s,messageId:a.messageId,image:a.image,allImages:a.allImages},a.image.asset_pointer)),e.jsx(_t,{clientThreadId:s,isOpen:a!=null,onClose:X.close,children:t})}const Et=()=>{const s=$(),a=N(n=>n.activeModals.has(I.KeyboardActions)),t=()=>{u.closeModal(I.KeyboardActions)},o=Ka(),i=r.useMemo(()=>{const n=Math.ceil(o.length/2);return[o.slice(0,n),o.slice(n)]},[o]);return e.jsx(He,{isOpen:a,onClose:t,type:"success",size:"custom",className:"md:max-w-[672px] lg:max-w-[796px] xl:max-w-4xl",showCloseButton:!0,title:s.formatMessage(Lt.keyboardActionsModalTitle),children:e.jsx(e.Fragment,{children:e.jsx("div",{className:"grid grid-flow-row grid-cols-[repeat(auto-fit,minmax(250px,1fr))] gap-x-9",children:i.map((n,c)=>e.jsx("div",{className:"flex flex-col overflow-hidden",children:n.map(l=>e.jsx(Ot,{action:l},l.key))},`col-${c}`))})})})},Ot=({action:s})=>e.jsxs("div",{className:"flex items-center justify-between overflow-hidden text-token-text-primary",children:[e.jsx("div",{className:"flex flex-shrink items-center overflow-hidden text-sm",children:e.jsx("div",{className:"truncate",children:e.jsx(A,{...s.actionMessageDescriptor})})}),e.jsx("div",{className:"ml-3 flex flex-row gap-2",children:qa(s.keyboardBinding).map((a,t)=>e.jsx(Dt,{keyName:a},`${s.key}-${t}`))})]}),Dt=({keyName:s})=>{const a=p("my-2 flex h-8 items-center justify-center rounded-md border border-token-border-light capitalize text-token-text-secondary");return s.length>1?s.length>3?e.jsx("div",{className:p(a,"min-w-[50px]"),children:e.jsx("span",{className:"text-xs",children:s})}):e.jsx("div",{className:p(a,"min-w-[32px]"),children:e.jsx("span",{className:"text-xs",children:s})}):e.jsx("div",{className:p(a,"min-w-[32px]"),children:e.jsx("span",{className:"text-sm",children:s})})},Lt=U({keyboardActionsModalTitle:{id:"KeyboardActionsModal.keyboardActionsModalTitle",defaultMessage:"Keyboard shortcuts"}});function Bt(){const s=J(),[a,t]=r.useState(!1);return e.jsxs("div",{className:"p-3 text-center italic text-token-text-tertiary",children:[e.jsx(A,{id:"p9u9Tx",defaultMessage:"Unable to load history"}),!a&&e.jsx("div",{className:"mt-1",children:e.jsx(V,{as:"button",color:"primary",size:"small",className:"m-auto mt-2",onClick:()=>{t(!0),tt(s)},children:e.jsx(A,{id:"3NKcIv",defaultMessage:"Retry"})})})]})}function It({clientThreadId:s}){const a=Ra(s),t=Ge(),{isCollapsible:o,recentConversationLimit:i}=at(),n={buckets:o,recentConversationLimit:i},{conversations:c,buckets:l,hasNextPage:h,fetchNextPage:d,isLoading:M,isFetchingNextPage:w,isError:b,recents:T}=ot(n),O=t?void 0:a,k=N(g=>g.isHistoryCollapsed),x=k&&T.items.length>0,j=!k&&l.length>0,C=c.length===0,P=!b&&(C||M||w);r.useMemo(()=>{fa.publish({kind:"refreshHistory",conversations:c})},[c]);const[D]=ve({onChange:g=>{r.startTransition(async()=>{g&&h&&await d()})}}),[S]=ve({onChange:g=>{r.startTransition(()=>{u.setHistoryShowMoreVisible(g)})}});return e.jsxs(e.Fragment,{children:[P&&e.jsx(bs,{className:"sticky top-4 z-30 mt-4 justify-self-center"}),b&&C&&!P&&e.jsx(Bt,{}),x&&e.jsx(Me,{header:T.label,children:T.items.map((g,E)=>e.jsx(Pe,{item:g,isActive:g.id===O,testId:`history-item-${E}`},g.id))}),j&&l.map(g=>e.jsx(Me,{header:g.label,children:g.items.map((E,F)=>e.jsx(Pe,{item:E,isActive:E.id===O,testId:`history-item-${F}`},E.id))},g.key)),o&&e.jsxs("div",{className:"-ml-2 mb-5",children:[e.jsx("div",{className:p(!k&&"hidden"),children:e.jsx(ke,{type:"more",onClick:u.toggleHistoryCollapsed})}),e.jsx("div",{className:p(k&&"hidden"),ref:S,children:e.jsx(ke,{type:"less",onClick:u.toggleHistoryCollapsed})})]}),h&&!w&&e.jsx("div",{className:"pointer-events-none absolute bottom-8 h-4 w-4","data-testid":"infinite-scroll-trigger",inert:!0,ref:D})]})}const Vt=y(()=>v(()=>import("./hws0vxlbtd7ddny0.js"),__vite__mapDeps([66,1,2,3,4,5,35,7,8,9,10,15,63,25,64,11,6,62,24,12,13,26,27])).then(s=>s.GizmoSidebarList));function Ft({clientThreadId:s}){const a=Fe(),t=Ha(s),{isUnauthenticated:o}=xs();return o?null:e.jsxs("div",{className:p(_.screenContent),children:[null,e.jsx(It,{clientThreadId:s}),a?.canInteractWithGizmos()?e.jsx(Vt,{currentGizmoId:t}):null]})}const Rt=y(()=>v(()=>import("./ertmkmdcxtp7hxjc.js"),__vite__mapDeps([67,1,2,3,4,5,24,7,8,9,10,25,12,13,26,15,27,61,41])).then(s=>s.UserProfileBar),{ssr:!0});function Ht(){const s=N(R.isGptListVisible),a=N(R.isHistoryShowMoreVisible),t=N(R.isHistoryCollapsed),o=N(R.isGptListCollapsed),i=r.useCallback(()=>{t||u.toggleHistoryCollapsed(),o&&u.toggleGptListCollapsed()},[t,o]),n=[];return!t&&!a&&n.push(e.jsx(je,{onClick:u.toggleHistoryCollapsed,children:e.jsx(A,{id:"1poXLj",defaultMessage:"See less"})},"see-less")),s||n.push(e.jsx(je,{onClick:i,children:e.jsx(A,{id:"DnQZfo",defaultMessage:"See GPTs"})},"see-gpt")),e.jsxs(ma,{className:p(_.screenTrailingBarContainer),children:[n,e.jsx(Rt,{})]})}const Gt=y(()=>v(()=>import("./sso-lh93s4wrdpp5fblx.js").then(s=>s.f),__vite__mapDeps([68,1,2,3,23,4,5,24,7,8,9,10,25,12,13,26,15,27,28,29,30,11,31,6,69,70,71,72,73,74,75,76,77,78,79,58,43,45,46,47,80,81,16,17,18,19,82,83,62,35,84,38,85,86,87,88,89,90,91,92,36,42,93,94,64,95,96,97])).then(s=>s.FannyPackIconButton),{ssr:!1});function Wt({onNewThread:s}){const a=$(),t=!Ia(),[o,i]=r.useState(t?m.Pinned:m.Closed);ha({checkElement:l=>l?.tagName==="NAV",enabled:o===m.Floating,onLightDismiss(){i(m.Closed),u.toggleDesktopNavCollapsed(!0)}});const{isFannyPackEnabled:n}=pa(),c=r.useRef(null);return e.jsxs(e.Fragment,{children:[e.jsxs(Y,{type:"primary",className:p(_.screenHeader),children:[e.jsxs("div",{className:"mt-[3px] flex min-h-[var(--screen-thread-header-min-height)] w-full flex-1 items-center justify-between pl-[9px]",children:[e.jsxs("div",{className:"grid items-center gap-1",children:[e.jsx(Ae,{inputRef:c,className:p(_.closeSidebarAction),checked:o===m.Closed,onClick:l=>{o===m.Pinned?(l.preventDefault(),we({css:Ca,update:()=>{i(m.Closed),u.toggleDesktopNavCollapsed(!0)}})):(i(m.Closed),u.toggleDesktopNavCollapsed(closed))},icon:e.jsx(ba,{}),label:a.formatMessage({id:"fM0vj3",defaultMessage:"Close Sidebar"}),group:"sidebar",value:m.Closed}),e.jsx("input",{className:"sr-only",checked:o===m.Floating,id:"sidebar-floating",onChange:l=>{l.currentTarget.checked&&i(m.Floating)},name:"sidebar",type:"radio",value:m.Floating})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:_.togglePinWrapper,children:e.jsx(Ae,{className:p(_.pinSidebarAction),checked:o===m.Pinned,onClick:l=>{l.preventDefault(),we({css:Sa,update:()=>{u.toggleDesktopNavCollapsed(!1),i(m.Pinned),c.current?.focus()}})},icon:e.jsx(nt,{}),label:a.formatMessage({id:"JZfuR3",defaultMessage:"Toggle Sidebar Pin"}),group:"sidebar",value:m.Pinned})}),n&&e.jsx(Gt,{className:_.searchAction,icon:e.jsx(it,{className:"h-5 w-5"})})]})]}),e.jsx(xa,{onNewThread:s})]}),e.jsx(Y,{type:"primary",className:_.bucketBar,disableSizeTracking:!0,children:" "})]})}function zt({clientThreadId:s,onNewThread:a}){return e.jsx(Ke,{anchor:"vertical",className:p(_.screen,"popover flex-1 border-r border-r-token-border-xlight"),name:"sidebar",leading:e.jsx(Wt,{onNewThread:a}),trackLeading:!0,trailing:e.jsx(Ht,{}),children:e.jsx(Ft,{clientThreadId:s})})}const Ut=y(()=>v(()=>import("./emxmg4uaj2jku29y.js"),__vite__mapDeps([49,1,2,3,4,5,23,24,7,8,9,10,25,12,13,26,15,27,28,29,30,11,31,6,50,51,52,53,54,55,18,56])).then(s=>s.CanvasFocusedViewManager));function $t({clientThreadId:s,setClientThreadId:a,urlThreadId:t}){es({clientThreadId:s});const{createNewThread:o,onThreadCreated:i,resetThread:n}=ss({clientThreadId:s,setClientThreadId:a});Xe({resetThreadAction:n,clientThreadId:s});const c=ee(s);return e.jsxs(We,{clientThreadId:s,children:[e.jsx(qe,{clientThreadId:s,urlThreadId:t}),e.jsx(Qe,{}),e.jsx(ya,{className:Cs.application,sidebar:e.jsx(zt,{clientThreadId:s,onNewThread:o}),thread:e.jsx(rt,{clientThreadId:s,onNewThread:o,onThreadCreated:i}),details:c&&e.jsx(Ut,{clientThreadId:s}),debugger:e.jsx(Je,{clientThreadId:s})})]})}var Kt={};const qt=y(()=>v(()=>import("./dnjubreq8ldoy1sk.js"),__vite__mapDeps([98,1,2,3,4,5,23,24,7,8,9,10,25,12,13,26,15,27,28,29,30,11,31,6,99])));function po(s){const{urlThreadId:a,clientThreadId:t,prefetchSearch:o}=s,i="serviceStatus"in s?s.serviceStatus:null;Yt();const n=Ge(),c=xe(),[l]=Ss(),h=Ve(),[d,M]=r.useState(()=>a!==void 0?a:t!==void 0?t:Q());a!==void 0&&d!==a&&W.getServerThreadId(d)!==a&&M(a);const w=va(xe());r.useEffect(()=>{a===void 0&&W.getServerThreadId(d)!==void 0&&M(Q())},[a,d,w]);const b=Ma(),T=G(ae.workspaceId);ee(d);const O=ka(),{eligible:k,isLoading:x,markAsViewed:j}=ja(),C=Aa();r.useEffect(()=>{(c.pathname==="/"||c.pathname.startsWith("/c/"))&&wa({namespace:_e.ChatPageLoad})==null&&(_a({namespace:_e.ChatPageLoad,opts:{expectedTimingLogs:[{name:"render_model_switcher",expectedInMs:1e4},{name:"render_history_items",expectedInMs:25e3}]}}),z.addTiming("chatgpt.web.chatPage.mounted"))},[]);const P=Na();r.useEffect(()=>{ys(!0).then(S=>{S.force_login&&P({authType:"login"}),vs.initializeAndGatherData(S),Ta.initializeAndGatherData(S),Ms.initializeAndGatherData(S)})},[P]),r.useEffect(()=>{i?.type&&b===!1&&h.warning(i.message,{hasCloseButton:!0,duration:5})},[b,i?.message,i?.type,h]),r.useEffect(()=>{const S=l.get(Pa)==="true";n!==S&&ks.setIsTemporaryChatEnabled(S)},[n,l]),r.useEffect(()=>{c.state?.focusObject&&X.setFocusedObject(c.state.focusObject)},[c.state?.focusObject]),r.useEffect(()=>{!x&&k&&(j(),C())},[k,x,j,C]);const D=O?$t:jt;return e.jsx(js.Provider,{value:null,children:e.jsx(Ea,{children:e.jsxs(Oa,{clientThreadId:d,children:[e.jsx(xt,{},T),e.jsx(Et,{}),e.jsx(Da,{}),e.jsx(D,{urlThreadId:a,clientThreadId:d,setClientThreadId:M,prefetchSearch:o}),e.jsx(Pt,{clientThreadId:d}),e.jsx(La,{clientThreadId:d}),e.jsx(Qt,{}),!1,e.jsx(Ba,{})]})})})}function Qt(){const s=N(a=>a.sharingModalThreadId);return s?e.jsx(qt,{serverThreadId:s}):null}function Yt(){As({queryKey:["pingEdge"],queryFn:()=>Ie.pingEdge(),enabled:!0,staleTime:1/0})}typeof window<"u"&&(window._g=Kt.GOKU_SERVICE);export{po as C,wt as F};
//# sourceMappingURL=h3b1py2ed7ism5h8.js.map
