const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/hi2l7bhui5huwg2h.js","assets/cya1ek7zbsww3e8p.js","assets/m1h3d66e9x9d8av7.js","assets/root-fuvdhw7t.css","assets/gqzdg6plr3pmj597.js","assets/o02kugc5eyp7bzuk.js","assets/conversation-small-cll5buey.css","assets/ji313uzrpltya54g.js","assets/cnkyxf781f12fdb9.js","assets/cnlquey73j7uw8fu.js","assets/lxcl4lkoqrle7fky.js"])))=>i.map(i=>d[i]);
import{a5 as y,a6 as A,a as C,bo as L,t as e,T as N,eb as E,ec as _,a8 as u,a3 as T,r as p,aj as P,ad as D,ca as U}from"./cya1ek7zbsww3e8p.js";import{c2 as j,c3 as F,c4 as O,X as B,c5 as H,c6 as K,c as V,c7 as q,c8 as W,c9 as Q,ac as X,ca as Z,V as R,cb as v}from"./o02kugc5eyp7bzuk.js";import{G as J}from"./k7gblveuiw9977ct.js";import{p as Y,c as $,m as ee,G as se}from"./ji313uzrpltya54g.js";import{u as b,d as te,U as S}from"./n0s5m6clrqpu2fmq.js";import{aH as ie,V as ae,a8 as G,ab as ne,X as re,ac as oe,W as le,aI as ce}from"./m1h3d66e9x9d8av7.js";import{a as me,E as de}from"./mq2cwvkvtgeu51t6.js";import{B as pe,D as ue}from"./gqzdg6plr3pmj597.js";import{h as xe}from"./cd3lr7lq8spr3x1m.js";import{m as M}from"./cnlquey73j7uw8fu.js";import"./cnkyxf781f12fdb9.js";import"./lxcl4lkoqrle7fky.js";import"./l7os5ptlstx02j38.js";import"./gq7tdevv4xdhasrb.js";import"./beqhh5k54ufxbjqa.js";import"./dg59tnhw4y7axib5.js";import"./lrlzvgtohqckew7u.js";import"./clvle6hjcebazwfi.js";import"./dt5uqt2zhmlrp895.js";import"./ck6f40emr7l3i0b3.js";const ge=y(()=>A(()=>import("./hi2l7bhui5huwg2h.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10])).then(s=>s.GizmoKeepInSidebarMenuItem));var he=(s=>(s[s.Keep=0]="Keep",s[s.Recents=1]="Recents",s))(he||{});const fe=2;function z({isActive:s,isNewConversation:r}){const i=C(),o=L(),n=j();return e.jsx("div",{className:N(n?"":"bg-token-sidebar-surface-primary","pt-0"),children:e.jsx(k,{gizmo:void 0,isActive:s,onClick:a=>{E(_(i))&&!r&&(a.preventDefault(),xe(o))}})})}function ve(s,r,i){const o=R(s,t=>t.flair.kind),n=[...o[v.FirstParty]?.map(({resource:t})=>({gizmo:t,section:0}))??[],...o[v.SidebarKeep]?.map(({resource:t})=>({gizmo:t,section:0}))??[],...o[v.Recent]?.slice(0,fe).map(({resource:t})=>({gizmo:t,section:1}))??[]],a=n.length>i+1,c=a&&!r&&n.length>i?n.slice(0,i):n;return{listItems:[...c.filter(({section:t})=>t===0),...c.filter(({section:t})=>t===1)],itemsLeft:n.length-c.length,needsToCollapseItems:a}}function I({gizmo:s,currentGizmoId:r}){const i=p.useRef(!1),o=b(),n=b(m=>!te.isGptListCollapsed(m)),a=j(),c=a?5:4,{itemsLeft:g,listItems:t,needsToCollapseItems:h}=ve(s,n,c);p.useEffect(()=>{t.length>0&&!i.current&&(q({namespace:W.ChatPageLoad})?.logTiming("render_gizmo_sidebar"),i.current=!0)},[t]);function f(m,d){const l=e.jsx(k,{gizmo:m,isActive:m.gizmo.id===r,section:d},m.gizmo.id);return a?e.jsx("li",{children:l}):l}return e.jsxs("div",{children:[t.map(({gizmo:m,section:d},l)=>e.jsxs(p.Fragment,{children:[l>1&&d!==t[l-1].section&&e.jsx("div",{className:"my-2 ml-2 h-px w-7 bg-token-sidebar-surface-tertiary"}),f(m,d)]},l)),h?e.jsxs("button",{onClick:S.toggleGptListCollapsed,className:"flex h-10 w-full items-center gap-2 rounded-lg px-2 text-sm text-token-text-primary hover:bg-token-sidebar-surface-secondary",children:[e.jsx("div",{className:"flex h-6 w-6 flex-shrink-0 items-center justify-center",children:e.jsx(G,{className:"icon-md text-token-text-primary"})}),e.jsx("div",{className:"flex grow items-center gap-1",children:n?e.jsxs(e.Fragment,{children:[e.jsx(u,{id:"GizmoSidebarList.showLess",defaultMessage:"See less"}),!a&&e.jsx(ne,{className:"icon-xs"}),a&&e.jsx(re,{className:"icon-xs"})]}):e.jsxs(e.Fragment,{children:[e.jsx(u,{id:"GizmoSidebarList.showMoreItems",defaultMessage:"{numMore} more",values:{numMore:g}}),!a&&e.jsx(oe,{className:"icon-xs"}),a&&e.jsx(le,{className:"icon-xs"})]})})]}):null,e.jsx(de,{children:e.jsx(M.div,{whileTap:{scale:.98},children:e.jsx(U,{to:ee(),onClick:()=>{o.activeSidebar==="popover-nav"&&S.setActiveSidebar(!1)},children:e.jsx(Q,{icon:ce,"data-testid":"explore-gpts-button",children:e.jsx(u,{...x.exploreStoreEnabled})})},"explore")})})]})}function Oe({currentGizmoId:s}){const{data:{gizmos:r}={}}=Y();let i=r;const o=j(),[n]=F({onChange:a=>{p.startTransition(()=>{S.setGptListVisible(a)})}});return o?i!=null?e.jsx(e.Fragment,{children:e.jsxs(O,{header:e.jsx("div",{className:"sticky top-[--sidebar-sticky-threshold] z-20",ref:n,children:e.jsx(u,{id:"ZT2HVu",defaultMessage:"GPTs"})}),children:[e.jsx(z,{isActive:s===void 0,isNewConversation:!0}),e.jsx(I,{gizmo:i,currentGizmoId:s})]})}):null:e.jsxs(e.Fragment,{children:[e.jsx(z,{isActive:s===void 0,isNewConversation:!0}),e.jsx(me,{}),i!=null?e.jsx(I,{gizmo:i,currentGizmoId:s}):null]})}function Se({gizmo:s,isOpen:r,setIsOpen:i,section:o}){const n=C();return e.jsxs(pe,{open:r,onOpenChange:i,triggerButton:e.jsx("button",{className:N("flex text-token-text-secondary hover:text-token-text-primary",r?"":"invisible group-hover:visible"),children:e.jsx(G,{className:"icon-md"})}),contentAlign:"start",sideOffset:4,alignOffset:-4,size:"auto",children:[o===1&&e.jsx(ue.Item,{onClick:async()=>{await X.updateGizmoSidebar(n,se,s.gizmo.id,"keep")},children:e.jsx(u,{...x.keepInSidebar})}),e.jsx(ge,{gizmoResource:s})]})}function k({gizmo:s,historyDisabled:r,section:i,onClick:o,isActive:n}){const a=T(),[c,g]=p.useState(!1),[t,h]=p.useState(!1),f=P(),m=!!s?.gizmo.tags?.includes(B.FirstParty);let d=!1,l;if(s!=null)l=s.gizmo.display.name||H;else{if(f==null)return null;r?l=a.formatMessage(x.clearChat):f.canInteractWithGizmos()?l=Z:l=a.formatMessage({id:"GizmoSidebarListItem.newChat",defaultMessage:"New chat"})}return e.jsx(M.div,{whileTap:{scale:.98},onMouseEnter:()=>{h(!0)},onMouseLeave:()=>{h(!1)},children:e.jsx(K,{loggingGizmoId:s?.gizmo.id??"primary",href:s!=null?$(s):"/",onClick:o,showActiveIndicator:d,icon:e.jsx(J,{isFirstParty:s==null||m,src:s?.gizmo.display.profile_picture_url,className:"h-6 w-6 flex-shrink-0"}),isMenuOpen:c,label:l,hoverRightIcon:e.jsxs("div",{className:"flex gap-2",children:[(t||c)&&s!=null&&e.jsx("div",{className:"text-token-text-tertiary",onClick:w=>{w.preventDefault()},children:e.jsx(Se,{gizmo:s,isOpen:c,setIsOpen:g,section:i})}),e.jsx(V,{side:"right",label:a.formatMessage(r?x.clearChat:x.newChat),className:"flex items-center",children:e.jsx("button",{className:c?"text-token-text-tertiary":"invisible text-token-text-secondary hover:text-token-text-primary group-hover:visible",children:r?e.jsx(ie,{className:"icon-md"}):e.jsx(ae,{className:"icon-md"})})})]})})})}const x=D({exploreStoreEnabled:{id:"gizmo.exploreStoreEnabled",defaultMessage:"Explore GPTs"},keepInSidebar:{id:"gizmo.keepInSidebar",defaultMessage:"Keep in sidebar"},newChat:{id:"gizmo.newChat",defaultMessage:"New chat"},clearChat:{id:"gizmo.clearChat",defaultMessage:"Clear chat"}});export{z as DefaultGPTSidebarListItem,Oe as GizmoSidebarList,k as GizmoSidebarListItem,he as SidebarSectionType,x as sidebarMessages};
//# sourceMappingURL=hws0vxlbtd7ddny0.js.map
