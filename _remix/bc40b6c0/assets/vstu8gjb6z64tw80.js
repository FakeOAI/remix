const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/bnbcn3xshvko96v7.js","assets/cq30atfn4hkan4n6.js","assets/lbhbqlrnc8bwcq3y.js","assets/root-ef8koap5.css","assets/kxnoie2q7a08rba4.js","assets/kuzyui3g7be29dp4.js","assets/conversation-small-eplmind9.css","assets/9wq3vd0xhzl7ebfo.js","assets/irpjl7r7vpd0tpvx.js","assets/k7p05udqvig186nv.js","assets/h52pvmssqdkok97f.js"])))=>i.map(i=>d[i]);
import{j as t,cn as Me,c as D,aC as se,bt as Se,K as Q,as as be,f8 as we,r as R,f1 as ye,f9 as je,cm as ve,c2 as Ne,O as Ce,fa as _e,H as Y,B as ne,P as O,A as W,ak as oe,aD as ae,e4 as Ae,ax as Te,w as Ee,cs as Ie,f2 as ke,fb as ee,fc as Le,N as De,C as Pe,z as Be,aT as Oe}from"./cq30atfn4hkan4n6.js";import{ah as Ue,bq as Re,at as Ge,a4 as ze,br as He,U as Fe,bs as We,b as qe}from"./lbhbqlrnc8bwcq3y.js";import{bL as Qe,n as Ye,er as Ke,es as Xe,et as Ve,eu as Je,ar as $e,ev as Ze,ew as et,bk as tt,a3 as st,ex as nt,bM as z,L as ot,ey as at,ez as H,eA as rt}from"./kuzyui3g7be29dp4.js";import{w as it,b as lt,x as re,y as ct,k as ie,z as le,A as dt}from"./kxnoie2q7a08rba4.js";import{f as ce,T as ut,e as pt}from"./9wq3vd0xhzl7ebfo.js";import{D as S,B as mt}from"./ax5pj9vx3pmr7oyc.js";import{B as ht}from"./kjbs1m5mdgu212wb.js";const gt=({categoryId:e,type:n,className:s})=>{const{data:o,isLoading:i}=it(),r=t.jsx("div",{className:s});if(i)return r;const{iconFilledSrc:a,iconOutlineSrc:l}=(o==null?void 0:o[e])??{},u=(n==="filled"?a:l)??"";return t.jsx(Me,{name:"ModelCategoryIcon",fallback:r,children:t.jsx("div",{className:D("[&_svg]:h-full [&_svg]:w-full",s),dangerouslySetInnerHTML:{__html:u}})})};function ft({currentModel:e,categoryOptions:n,className:s,modelSwitcherDenialsBySlug:o}){const i=e==null?void 0:e.id;return t.jsx(S.Portal,{children:t.jsx(S.SubContent,{className:s,children:n.map(r=>{const{value:a}=r;return"options"in r?t.jsx(L,{currentModel:e,isSelected:i.startsWith(a),option:r,modelSwitcherDenialsBySlug:o},a):t.jsx(U,{isSelected:i===a,value:a,renderName:()=>r.name,modelSwitcherDenialsBySlug:o,showNewChatHint:!1},a)})})})}function L({currentModel:e,option:n,isSelected:s=!1,modelSwitcherDenialsBySlug:o}){const{name:i,options:r,categoryId:a}=n,l=`${i} Models`,u=()=>t.jsx("div",{className:"flex shrink-0 grow justify-between gap-2",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Ge,{className:"icon-md w-7 text-token-text-secondary"}),l]})});return t.jsxs(S.Sub,{children:[t.jsx(S.SubMenuTrigger,{children:t.jsxs("div",{className:"flex grow justify-between gap-2 overflow-hidden",children:[a?u():i,s&&t.jsx("div",{className:"truncate text-token-text-tertiary",children:e.title})]})}),t.jsx(ft,{currentModel:e,categoryOptions:r,modelSwitcherDenialsBySlug:o})]})}function U({value:e,renderName:n,isSelected:s,showNewChatHint:o=!0,onClick:i,modelSwitcherDenialsBySlug:r,isUpgradeUpsell:a=!1}){var p,x;const l=lt(),u=Qe(),c=e?(x=(p=r[e])==null?void 0:p.conversation)==null?void 0:x[0]:null,{layer:g}=se("1846737571"),f=t.jsx(S.Item,{onClick:()=>{if(i)i();else if(e){const M=e;l({modelId:M,location:"Model switcher menu item"}),u(M)}},className:D("!pr-3",s&&"!opacity-100",c&&"pointer-events-none text-token-text-quaternary"),children:t.jsxs("div",{className:"flex grow items-center justify-between gap-2",children:[t.jsx("div",{children:n(c!=null)}),a&&t.jsx(Se,{color:"secondary",size:"small",className:g.get("is_upgrade_button_blue",!1)?"border-none bg-blue-600 text-white hover:bg-blue-800":"",children:t.jsx(Q,{id:"oKo8wt",defaultMessage:"Upgrade"})}),a?t.jsx(t.Fragment,{children:s&&t.jsx(Re,{className:D("icon-md group-hover:invisible",!o&&"block group-hover:hidden")})}):s&&t.jsx(Ue,{className:"icon-md"})]})},e);return c?t.jsx(Ye,{isLeftArrow:!0,sideOffset:-10,label:t.jsx(Ke,{modelSwitcherDeny:c}),children:f}):f}var xt=(e=>(e.BROWSING="browsing_model",e.CODE_INTERPRETER="code_interpreter_model",e.DALLE="dalle_model",e))(xt||{}),w=(e=>(e.ALPHA="alpha",e.DATA_CAMPAIGNS="data_campaigns",e.EXPERIMENTS="experiments",e.MAINLINE="mainline",e))(w||{});const F={browsing_model:{name:t.jsxs("span",{children:["Browse with ",t.jsx(je,{className:"icon-sm mt-[-3px] inline-block"})," Bing"]})},code_interpreter_model:{name:"Advanced Data Analysis"},dalle_model:{name:"DALLÂ·E 3"}};function Rt(e){const n=Mt(e??void 0);return Xe(["alpha","data_campaigns","experiments","mainline"],n)?"bg-orange-500 text-white":"bg-token-main-surface-primary text-token-text-primary"}function Mt(e){const n=de();for(const s of n)if(s.options.length>0&&s.options.find(i=>i.value===e))return s.categoryId;return null}function Gt(e,n){const{data:s}=re();return(s==null?void 0:s.categories.some(i=>i[n]===e))??!1}const St=e=>$e(e,({id:n})=>n.split(":").slice(0,1).join(":"));function de(){const{data:e}=re(),n=Ve(),s=be(),o=we(s==null?void 0:s.getWorkspaceId()),i=(s==null?void 0:s.isEnterprise())??!1,{modelSwitcherDisclaimer:r}=Je(),a=ct();return R.useMemo(()=>{const l=[];if(!e)return l;const{categories:u,groups:c,modelsMap:g}=e;for(const f of u){const{defaultModel:p,categoryId:x,label:M}=f;if(a.has(p)){const b=n===p,h=e.modelsMap[p],m=b?[]:bt(o.data,f,a,e.modelsMap,i);l.push({categoryId:x,value:p,name:M,description:b?r:h.description,options:[T(h,{name:"Default"}),...m]})}}for(const f of c){const{group:p,label:x,modelIds:M}=f,b=M[0],h=M.map(m=>g[m]).filter(({tags:m})=>!m.includes(ye.HIDDEN));if(p==="experiments"){const m=St(h),v=Object.entries(m).map(([y,N])=>{const E=y.split(":").slice(-1)[0];return{key:y,value:E,name:E,options:N.map(P=>{const{title:G}=P;return T({...P,title:G.replace(E,"")})})}});l.push({categoryId:p,value:b,name:x,options:v})}else l.push({categoryId:p,value:b,name:x,options:h.map(m=>T(m))})}return l},[e,a,n,o.data,i,r])}function T(e,n={}){return{value:e.id,name:e.title,...n}}function bt(e,n,s,o,i){const r=[],a=e==null?void 0:e.browsing;if((i&&a||!i)&&n.browsing_model!=null&&s.has(n.browsing_model)){const u=F.browsing_model;r.push(T(o[n.browsing_model],{name:u.name}))}if(n.code_interpreter_model!=null&&s.has(n.code_interpreter_model)){const u=F.code_interpreter_model;r.push(T(o[n.code_interpreter_model],{name:u.name}))}if(n.dalle_model!=null&&s.has(n.dalle_model)){const u=F.dalle_model;r.push(T(o[n.dalle_model],{name:u.name}))}return r}const wt=ve(()=>Ne(()=>import("./bnbcn3xshvko96v7.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10])).then(e=>e.ThreadHeaderGizmoDropdown)),te=Ce.button`group flex cursor-pointer items-center gap-1 rounded-lg py-1.5 px-3 text-lg font-semibold hover:bg-token-main-surface-secondary radix-state-open:bg-token-main-surface-secondary text-token-text-secondary overflow-hidden whitespace-nowrap`;function yt({clientThreadId:e}){const n=Y(),s=Ie(),o=pt(e),[,i]=ke(),r=()=>{i(a=>(a.get(H)==="true"?a.delete(H):a.set(H,"true"),a),{replace:o,state:rt()})};return t.jsx(S.Item,{size:"large",className:"!pr-3",onClick:r,icon:Fe,children:t.jsxs("div",{className:"flex grow items-center justify-between gap-2",children:[t.jsx("div",{className:"flex flex-1 items-center gap-3",children:t.jsx(Q,{...At.temporaryChat})}),t.jsx(ot,{enabled:s,label:n.formatMessage({defaultMessage:"Temporary",id:"temporaryChatToggleLabel"})})]})})}function ue(e,n,s){let o=e;if(e===ee.AUTO){const a=n.filter(({defaultModel:l})=>l!==ee.AUTO);a.length===1&&(o=a[0].defaultModel)}const i=n.find(({defaultModel:a})=>a===o);if(i){const{categoryId:a,shortLabel:l}=i;return{selectedCategory:a,modelLabel:l}}const r=s.find(({modelIds:a})=>a.includes(o));if(r){const{group:a,shortLabel:l}=r;return{selectedCategory:a,modelLabel:l}}return{selectedCategory:null,modelLabel:null}}function jt({modelLabel:e}){return t.jsx("span",{className:"text-token-text-secondary",children:e})}function vt({clientThreadId:e,inMobileHeader:n}){const{isLoading:s,categories:o,groups:i}=ie(),r=_e(),l=le(e).id,u=de(),{modelLabel:c}=ue(l,o,i),g=Ct(e,u),f=Y(),{isUnauthenticated:p}=ne(),x=pe(),M=(!p||!x)&&!r;R.useEffect(()=>{var h;s||(h=Ze({namespace:et.ChatPageLoad}))==null||h.logTiming("render_model_switcher")},[s]);const b=t.jsxs("div",{className:"text-token-text-secondary",children:[at," ",M?t.jsx("span",{className:"text-token-text-secondary",children:c}):p&&c?t.jsx(jt,{modelLabel:c}):null]});return g.length?s?null:t.jsx(mt,{sideOffset:8,size:"large",triggerButton:t.jsxs(te,{"aria-label":c?f.formatMessage({id:"JrtGPQ",defaultMessage:"Model selector, current model is {modelLabel}"},{modelLabel:c}):"",children:[b,t.jsx(ze,{className:"icon-md text-token-text-tertiary"})]}),onOpenChange:h=>{O.logEvent(W.toggleModelSwitcher,{isOpen:h}),oe.logEvent("toggle_model_switcher",null,{isOpen:String(h)})},contentAlign:n?"center":"start",children:t.jsx(_t,{sections:g})}):t.jsx(te,{className:"cursor-default",children:b})}function pe(){return ae("462735957").value}function Nt({category:e,modelSwitcherDenialsBySlug:n,currentGizmoId:s,currentModelId:o,omitIcon:i}){const{defaultModel:r,label:a,categoryId:l,description:u}=e;return t.jsx(U,{value:r,modelSwitcherDenialsBySlug:n,renderName:c=>t.jsx(q,{categoryId:l,name:a,description:u,isDisabled:c,omitIcon:i}),isSelected:!s&&o===r},r)}function Ct(e,n){var X,V,J,$;const s=le(e),o=s.id,i=ce(e),{categories:r,groups:a}=ie(),{doesUserHaveAnyAccountsWithPlusFeatures:l}=Ae(),u=ut.getServerThreadId(e),c=dt({clientThreadId:e}),g=Y(),f=!u,{isUnauthenticated:p}=ne(),x=tt(),{layer:M}=se("2723963139"),b=M.get("is_dynamic_model_enabled",!1),h=pe(),m=n.find(({categoryId:d})=>d===w.ALPHA),v=n.find(({categoryId:d})=>d===w.DATA_CAMPAIGNS),y=n.find(({categoryId:d})=>d===w.EXPERIMENTS),N=n.find(({categoryId:d})=>d===w.MAINLINE),E=ae("566128514").value,P=!!((X=m==null?void 0:m.options)!=null&&X.length),G=!!((V=v==null?void 0:v.options)!=null&&V.length),me=!!((J=y==null?void 0:y.options)!=null&&J.length),he=!!(($=N==null?void 0:N.options)!=null&&$.length),K=Te(),ge=R.useCallback(()=>{O.logEvent(W.openModalAccountPaymentfromModelPicker,{content:"gizmo-button"}),st(K,"Thread header dropdown")},[K]),fe=()=>{oe.logEvent("chatgpt_model_switcher_plus_upgrade_button_clicked"),O.logEvent(W.modelSwitcherPlusUpgradeButtonClicked),p?(Pe.setCookie(Be.ShowPaymentModal,!0,{maxAge:6*60*60}),x({callback:d=>{O.logSignUpButtonClicked({location:"Model switcher GPT-4 upsell",provider:d})}})):ge()},_=[],xe=t.jsxs("div",{className:"mb-1 flex items-center justify-between px-5 pt-2",children:[t.jsx("span",{className:"text-sm text-token-text-tertiary",children:t.jsx(Q,{id:"ilkdMh",defaultMessage:"Model"})}),t.jsx("a",{href:b?"https://help.openai.com/en/articles/9155758-what-is-the-chatgpt-plus-model-selector":"https://help.openai.com/en/articles/7102672-how-can-i-access-gpt-4",target:"_blank",rel:"noreferrer",children:t.jsx(qe,{className:"icon-md h-5 w-5 pl-0.5 text-token-text-tertiary"})})]},"header");if(h&&p){const d={id:"modelSection",content:[]};d.content.push(t.jsx(nt,{},"noAuthUpsell")),_.push(d)}else if(l){const d={id:"modelSection",content:[]};r.length&&d.content.push(xe);const j=new Map;r.forEach(C=>{var k;const I=t.jsx(Nt,{category:C,currentGizmoId:i,currentModelId:o,modelSwitcherDenialsBySlug:c,omitIcon:E});C.subcategory?(j.has(C.subcategory)||j.set(C.subcategory,[]),(k=j.get(C.subcategory))==null||k.push(I)):d.content.push(I)}),j.forEach((C,I)=>{const k=r.find(Z=>Z.subcategory===I&&Z.defaultModel===s.id);d.content.push(t.jsxs(S.Sub,{children:[t.jsx(S.SubMenuTrigger,{children:t.jsxs("div",{className:"flex grow justify-between gap-2 overflow-hidden",children:[I,!!k&&t.jsx("div",{className:"truncate text-token-text-tertiary",children:k.label})]})}),t.jsx(S.Portal,{children:t.jsx(S.SubContent,{className:"min-w-72",children:C})})]}))}),_.push(d)}else{const d={id:"modelSection",content:[]};Le||d.content.push(t.jsx(U,{value:"",onClick:fe,modelSwitcherDenialsBySlug:c,isUpgradeUpsell:!0,renderName:j=>t.jsx(q,{icon:We,isDisabled:j,name:g.formatMessage({id:"mzDzkX",defaultMessage:"ChatGPT Plus"}),description:g.formatMessage({id:"bqTHri",defaultMessage:"Our smartest model & more"}),omitIcon:!1}),isSelected:!1,showNewChatHint:!1},"plusUpgrade")),d.content.push(t.jsx(U,{value:z.AUTO,modelSwitcherDenialsBySlug:c,renderName:j=>t.jsx(q,{icon:He,name:g.formatMessage({id:"U9E7Rx",defaultMessage:"ChatGPT"}),description:g.formatMessage({id:"n96qML",defaultMessage:"Great for everyday tasks"}),isDisabled:j,omitIcon:!1}),isSelected:!i&&o===z.AUTO,showNewChatHint:!0},z.AUTO)),_.push(d)}const A={id:"otherOptionsSection",content:[]},{selectedCategory:B}=ue(o,r,a);return f&&(P&&A.content.push(t.jsx(L,{isSelected:B===w.ALPHA,currentModel:s,option:m,modelSwitcherDenialsBySlug:c},m.value)),G&&A.content.push(t.jsx(L,{isSelected:B===w.DATA_CAMPAIGNS,currentModel:s,option:v,modelSwitcherDenialsBySlug:c},v.value)),me&&A.content.push(t.jsx(L,{currentModel:s,isSelected:B===w.EXPERIMENTS,option:y,modelSwitcherDenialsBySlug:c},y.value)),he&&A.content.push(t.jsx(L,{isSelected:B===w.MAINLINE,currentModel:s,option:N,modelSwitcherDenialsBySlug:c},N.value))),A.content.length&&_.push(A),p||_.push({id:"temporaryChatSection",content:[t.jsx(yt,{clientThreadId:e},"tempChat")]}),_}function q({isDisabled:e,name:n,icon:s,categoryId:o,description:i,extra:r,omitIcon:a}){return t.jsxs("div",{className:"flex items-center gap-3",children:[!a&&t.jsx("span",{className:"flex h-7 w-7 flex-shrink-0 items-center justify-center rounded-full bg-token-main-surface-secondary",children:s?t.jsx(s,{className:"h-4 w-4 text-token-text-primary"}):o&&t.jsx(gt,{type:"filled",className:D("h-4 w-4",e&&"text-gray-300",!e&&"text-token-text-primary"),categoryId:o})}),t.jsxs("div",{children:[n,t.jsxs("div",{className:D(!e&&"text-token-text-secondary","text-xs"),children:[i,r]})]})]})}function _t({sections:e}){return t.jsx(t.Fragment,{children:e.map((n,s)=>t.jsxs(Ee.Fragment,{children:[s!==0?t.jsx(S.Separator,{}):null,n.content]},n.id))})}function zt({clientThreadId:e,inMobileHeader:n=!1}){const s=ce(e);return s==null?t.jsx(vt,{clientThreadId:e,inMobileHeader:n}):t.jsx(wt,{clientThreadId:e,gizmoId:s,inMobileHeader:n})}const At=De({gpt35ShortExplainer:{defaultMessage:"Great for everyday tasks",id:"ModelSwitcher.gpt35ShortExplainer"},modelTunerSmartSelectionTitle:{id:"czjW8I",defaultMessage:"Dynamic"},modelTunerSmartSelectionExplainer:{id:"gp/YH1",defaultMessage:"Optimized for speed and intelligence"},gpt4ShortExplainer:{defaultMessage:"With DALLÂ·E, browsing and analysis",id:"ModelSwitcher.gpt4ShortExplainer"},gpt4ShortExplainerWithoutBrowse:{defaultMessage:"With DALLÂ·E and analysis",id:"ModelSwitcher.gpt4ShortExplainerWithoutBrowse"},gpt4UpsellExplainer:{id:"ModelSwitcher.gpt4Upsell",defaultMessage:"Our smartest and most capable model. Includes DALLÂ·E, browsing and more."},userUpgrade:{id:"ModelSwithcer.upgradeButton",defaultMessage:"Upgrade to Plus"},userUpgradeSignup:{id:"ModelSwitcher.signupUpgradeButton",defaultMessage:"Sign up for ChatGPT Plus"},temporaryChat:{id:"ModelSwitcher.temporaryChat",defaultMessage:"Temporary chat"},shareChat:{id:"ModelSwitcher.shareChat",defaultMessage:"Share chat"}}),Tt=60,Ht=({children:e,scrollViewClassName:n,scrollAnchorTopOffset:s=0})=>{const o=R.useRef(null);return t.jsx("div",{className:"h-full",ref:o,children:t.jsx(Oe,{children:t.jsx(ht,{className:"h-full",followButtonClassName:"hidden",initialScrollBehavior:"auto",scrollViewClassName:n,scroller:()=>Et(o,s)?0:1/0,children:e})})})},Et=(e,n)=>{const s=It(e.current);if(s==null)return!1;const o=s>n,i=s<n-Tt;return!o&&!i};function It(e){if(!e)return null;const n=e.querySelector('[data-scroll-anchor="true"]');if(!n)return null;const s=n.getBoundingClientRect().top,o=e.getBoundingClientRect().top;return s-o}export{xt as C,te as G,gt as M,zt as T,Ht as W,Rt as a,Gt as b,de as u};
//# sourceMappingURL=vstu8gjb6z64tw80.js.map
