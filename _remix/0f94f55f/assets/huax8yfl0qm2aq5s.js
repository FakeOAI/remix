const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/caz4tlqnxuugb41g.js","assets/cbv020t7gzp4f872.js","assets/kq3cjnjkkiu42wsi.js","assets/root-bcm2adyk.css","assets/gpe91l6ql3o0s610.js","assets/conversation-small-eplmind9.css","assets/ihhnf33zws1gyw0j.js","assets/eprwd5wd9a7hvvfw.js","assets/lw9lle2awfx0m3zh.js","assets/j1mltnb4g3et1nfv.js","assets/hte00x4vz53jf7hc.js","assets/c039xathbpqv7hjp.js","assets/fdbknqs7yil65amy.js","assets/hfzfatri6sys4oxa.js","assets/m9c7p1d7qbcooudb.js","assets/nriec8vah7hgye40.js","assets/n1m1f2dq4jbayfm0.js","assets/jcecw02o1g7i3lgl.js","assets/4kmoegar8udth7vh.js","assets/fte4amidzwa0x0i9.js","assets/hryykjcwq4fvumfr.js","assets/le0igyxp535xhyki.js","assets/kef8eqa8xs7zksuh.js","assets/mhs57eaqa1m5tkcf.js","assets/0egy268icy1r7yxm.js","assets/n7z7p9t677plyher.js","assets/pcwsuim2es0x993n.js","assets/oz46yu1qxkhvvlp1.js","assets/lzo1vnl8np4fvanj.js","assets/o9vzg3m91mbenn9c.js","assets/gjpw3bbtuwvhdku2.js","assets/ef38o0dpd1vmn8u6.js","assets/dwg1uidtx2z6dpb7.js","assets/b8qkpw5ble1uwwqm.js","assets/cf35vab9q82m0zj4.js","assets/jwgiwfj2pn5rtepv.js","assets/lnjq7tpfav8s4s8h.js","assets/gcyfs34rqvxyqqfn.js","assets/op9obis5fwukoa18.js","assets/jaab2qdql5x1ymip.js","assets/dtgyxk1jks2sr306.js","assets/hpiio21pr81kn19y.js","assets/caan1pg3ww016xl8.js","assets/l29l32kuno0zg8js.js","assets/lwyj5zt61cufjetj.js","assets/h73djwrxeutdwgij.js","assets/nbel0869cnaupjnl.js","assets/k41xbylswt58q6cl.js","assets/gxxn630wwaiwqexe.js","assets/clqlpxpypflkw97t.js","assets/ntmxna49n6ob1bql.js","assets/cu7i7jyqvstu6net.js","assets/m69xxbeyvigq0zsk.js","assets/kqwdyvkaaavvn8k3.js","assets/n751ai9o4d44xsny.js","assets/nd8c3on4zyxrznef.js","assets/jg0ylq143luitcmx.js"])))=>i.map(i=>d[i]);
import{a7 as Pe,a1 as W,aK as ce,aJ as Ee,r as l,m as s,a5 as L,D as le,bd as Y,a6 as H,aD as M,aE as j,aN as Te,bT as Ne,bR as De,bP as Le,bf as Oe,aA as Re,a2 as de,a3 as Be,u as ue,S as X,aH as Z,bo as Fe,e_ as Ie,f6 as Ve,q as N,fc as D,fd as We,fe as He,cf as Ge,ad as Ue,da as J,cT as qe,cU as ze,cV as $e,b$ as Ke,b1 as Qe,aw as Ye,Z as Xe}from"./cbv020t7gzp4f872.js";import{u as Ze,b as G,d as Je}from"./n1m1f2dq4jbayfm0.js";import{aM as es,gP as ss,gQ as fe,gR as as,ai as os,gS as ts,gT as ns,gU as rs,gV as is,gW as cs,b0 as O,gX as ls,gY as ds,gZ as us,g_ as fs,g$ as gs,h0 as ms,h1 as hs,h2 as ps,h3 as xs,h4 as Cs,h5 as bs,h6 as Ms,h7 as js,D as U,aC as _,Z as R,bu as q,h8 as vs,h9 as Ss,dd as ee,bI as ks,ha as ge,hb as me,hc as he,G as ys,hd as ws,f_ as se,em as As,bj as I,bk as ae,dM as _s,ea as Ps,he as Es,hf as Ts,c2 as Ns,ay as Ds,dj as Ls,hg as Os,e0 as Rs,e1 as oe,hh as Bs,q as Fs,bx as Is,hi as Vs,hj as Ws,by as Hs,bl as te,hk as Gs,hl as Us,hm as qs,hn as zs,ho as $s}from"./gpe91l6ql3o0s610.js";import{T as B,g as V,e as Ks,E as pe,q as xe,I as Qs,i as Ys}from"./lw9lle2awfx0m3zh.js";import{a as Xs}from"./hte00x4vz53jf7hc.js";import{L as Zs}from"./c039xathbpqv7hjp.js";import{S as ne,b as Js,c as ea,N as sa}from"./ef38o0dpd1vmn8u6.js";import{C as Ce}from"./b8qkpw5ble1uwwqm.js";import{a as be,b as aa,g as oa}from"./cf35vab9q82m0zj4.js";import{S as ta,C as na,a as ra}from"./jwgiwfj2pn5rtepv.js";import{b as Me,c as ia,d as je,C as ca,e as ve,f as la,g as da}from"./op9obis5fwukoa18.js";import{u as ua,n as fa,g as ga,s as ma}from"./m9c7p1d7qbcooudb.js";import{I as ha,J as Se,a as ke,K as pa}from"./eprwd5wd9a7hvvfw.js";import{m as re}from"./j1mltnb4g3et1nfv.js";function xa({onClose:e}){const a=W(),o=ce(),{openSettings:r}=es(),n=ss(),{session:t}=Ee(),{data:{isStorageComplianceEnabled:i}={}}=fe(),{data:d,isLoading:f}=as({enabled:!!(i&&t),select:c=>!c.cookie_consent.is_required});return l.useEffect(()=>{d===!0&&e()},[d,e]),f?null:s.jsx(Ca,{onReject:()=>{n.mutateAsync({analytics_cookies_accepted:!1},{onSuccess(){o.success(a.formatMessage(k.updateSuccess))},onError(){o.danger(a.formatMessage(k.updateFailure))}}),e()},onAccept:()=>{n.mutateAsync({analytics_cookies_accepted:!0},{onSuccess(){o.success(a.formatMessage(k.updateSuccess))},onError(){o.danger(a.formatMessage(k.updateFailure))}}),e()},children:s.jsx(L,{id:"CookieConsentBanner.authedDescription.0",defaultMessage:"We use cookies and similar technologies to deliver, maintain, improve our services and for security purposes. Check our <cookiePolicy>cookie policy</cookiePolicy> for details. Click 'Accept all' to let OpenAI and partners use cookies for these purposes. Click 'Reject all' to say no to cookies, except those that are strictly necessary. Choose <manageLink>manage cookies</manageLink> to change your preferences.",values:{cookiePolicy:c=>s.jsx(Zs,{href:"https://openai.com/policies/cookie-policy",openNewTab:!0,children:c}),manageLink:c=>s.jsx(ba,{onClick:()=>{r(os.DataControls)},children:c})}})})}function Ca({children:e,onAccept:a,onReject:o}){return l.useEffect(()=>{le.addAction("privacy_policy.show_cookie_consent_banner")},[]),s.jsxs(ts,{children:[s.jsxs(ns,{className:"text-sm font-semibold [grid-area:_title]",children:[e,s.jsxs("div",{className:"mt-2 flex justify-end gap-3",children:[s.jsx(Y,{color:"secondary",size:"small",onClick:o,children:s.jsx(L,{...k.reject})}),s.jsx(Y,{color:"secondary",size:"small",onClick:a,children:s.jsx(L,{...k.accept})})]})]}),s.jsx(rs,{})]})}const ba=Pe.button`underline font-normal text-green-600`,k=H({cookieConsentBannerTitle:{id:"CookieConsentBanner.title",defaultMessage:"We use cookies to provide, improve, and protect our services. Visit our <privacyPolicyLink>privacy policy</privacyPolicyLink> to learn more. You can manage your cookie preferences in your <settingsPanel>settings panel</settingsPanel>. <learnMoreLink>Learn more</learnMoreLink>."},reject:{id:"CookieConsentBanner.reject",defaultMessage:"Reject all"},accept:{id:"CookieConsentBanner.accept",defaultMessage:"Accept all"},updateSuccess:{id:"CookieConsentBanner.updateSuccess",defaultMessage:"Your cookie preferences were updated successfully"},updateFailure:{id:"CookieConsentBanner.updateFailure",defaultMessage:"Unable to update cookie preferences. Try again later."}}),Ma=M(()=>j(async()=>{const{ModelOnboardingNUXModal:e}=await import("./caz4tlqnxuugb41g.js");return{ModelOnboardingNUXModal:e}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11])).then(({ModelOnboardingNUXModal:e})=>e),{ssr:!1}),ja=({onClose:e})=>{const a=W(),o=O(q.isBusinessWorkspace),r=O(t=>t.currentWorkspace),n=o?a.formatMessage(ie.workspaceWelcome,{workspaceName:r==null?void 0:r.name}):"ChatGPT";return s.jsx(de,{isOpen:!0,onClose:Be,type:"success",title:n,size:"custom",noPadding:!0,className:"max-w-3xl",description:a.formatMessage(ie.personalOnboardingSubheading),children:s.jsx(vs,{onClose:e,scope:Ss.Personal})})};function va(){const[e,a]=l.useState(0),{hasSeenOnboardingDate:o}=is(),{hasSeenTeamOwnerOnboardingDate:r}=cs(),n=O(q.isBusinessWorkspace),t=Te(),[i,d]=l.useState(!1),{data:f,isPending:c}=fe(),h=ls(f,c),{eligible:g,isLoading:p}=Xs(),P=Ne(),v=De(),E=Le(),{data:u,isError:b}=Oe(),C=u!=null,y=u&&(u==null?void 0:u.accountItems.length)>1&&u.currentAccountId==null,T=u==null?void 0:u.accountItems.some(m=>m.isPersonalAccount()),w=!!(u!=null&&u.accountItems)&&u.accountItems.length>0&&u.accountItems.every(({canAccessWithCurrentSession:m})=>!m),{eligible:x,isLoading:z}=ds(),{value:$}=Re("1542198993"),{punchOutRequireLoginInfo:K}=us(),S=l.useMemo(()=>[{Component:fs,getModalState:()=>K?"show":"hide",isDeferrable:!1},{Component:ja,getModalState:()=>n?"hide":o===null?"loading":o===!1?"show":"hide",isDeferrable:!0},{Component:gs,getModalState:()=>b?"hide":y?"show":C?"hide":"loading",isDeferrable:!1},{Component:ms,getModalState:()=>P!==null?"show":b||C?"hide":"loading",isDeferrable:!1},{Component:hs,getModalState:()=>v!==null?"show":b||C?"hide":"loading",isDeferrable:!1},{Component:ps,getModalState:()=>E!=null?"show":b||C?"hide":"loading",isDeferrable:!1},{Component:xs,getModalState:()=>C?w?"show":"hide":"loading",isDeferrable:!1},{Component:xa,getModalState:()=>"hide",isDeferrable:!1},{Component:Cs,getModalState:()=>!(t!=null&&t.isTeam())||!(t!=null&&t.isOwnerOfAccount())||!T?"hide":!C||r===null?"loading":r===!1?"show":"hide",isDeferrable:!1},{Component:bs,getModalState:()=>n?o===null?"loading":o===!1?"show":"hide":"hide",isDeferrable:!0},{Component:Ms,getModalState:()=>z?"loading":x&&$?"show":"hide",isDeferrable:!1},{Component:js,getModalState:()=>h,isDeferrable:!1},{Component:Ma,getModalState:()=>p?"loading":g?"show":"hide",isDeferrable:!0,expiresAt:new Date(2024,7,13)}].filter(m=>!(m.isDeferrable&&i)&&(!m.expiresAt||m.expiresAt.getTime()>Date.now())),[K,E,C,o,r,T,p,n,b,P,v,t,w,y,h,g,i,$,x,z]);l.useEffect(()=>{if(S[e]&&S[e].getModalState()==="hide"){const m=S.findIndex(_e=>_e.getModalState()!=="hide");a(m)}},[e,S]);const A=S[e],F=(A==null?void 0:A.getModalState())==="show";if(l.useEffect(()=>{const m=U.getState().activeModals.has(_.BlockingInitialComponent);F!==m&&(F?R.openModal(_.BlockingInitialComponent):R.closeModal(_.BlockingInitialComponent))},[F]),A==null)return s.jsx("span",{"data-testid":"blocking-initial-modals-done",className:"hidden"});const Q=A.getModalState();if(Q==="loading")return null;Q==="hide"&&a(m=>m+1);const Ae=S[e].Component;return s.jsx(Ae,{onClose:()=>{d(!0),a(m=>m+1)}})}const ie=H({workspaceWelcome:{id:"BlockingInitialModals.workspaceWelcome",defaultMessage:"Welcome to the {workspaceName} workspace"},personalOnboardingSubheading:{id:"BlockingInitialModals.personalOnboardingSubheading",defaultMessage:"Tips for getting started"}});function ye({clientThreadId:e}){l.useEffect(()=>{R.closeSharingModal()},[e]);const a=ue();l.useEffect(()=>(B.retainThread(e),()=>{setTimeout(()=>{a.invalidateQueries({queryKey:["conversation",e]})},0),B.releaseThread(e)}),[e,a]),l.useEffect(()=>()=>{X.checkGate("3922476776")||ee.abortAllRequests()},[e]);const o=l.useRef(e);l.useEffect(()=>{e!==o.current&&(X.checkGate("3922476776")||ee.clear(),o.current=e)},[e])}function we({clientThreadId:e,setClientThreadId:a}){const o=ue(),r=ks(),n=r?{kind:Z.GizmoInteraction,gizmo_id:r}:{kind:Z.PrimaryAssistant};ua(e,n);const t=Fe(),i=ha(e),d=l.useRef(i);d.current=i;const f=l.useCallback(()=>{a(V());const g=d.current;t(g.tags.includes(Ie.GPT_4)?"/":`/?model=${g.id}`,{replace:!0})},[a,t]),c=Ze({clientThreadId:e,location:"Model switcher menu item"}),h=l.useCallback(g=>{fa(t,o,g)},[o,t]);return{createNewThread:c,onThreadCreated:h,resetThread:f}}const Sa=M(()=>j(()=>import("./fdbknqs7yil65amy.js"),__vite__mapDeps([12,1,2,3,4,5,13,14,15,9,16,8,17,7,10,11,18,19,20,21,6,22,23,24,25,26,27])).then(e=>e.CanvasFocusedViewManager));function ka({clientThreadId:e,setClientThreadId:a,urlThreadId:o,prefetchSearch:r}){const n=Ks();ye({clientThreadId:e});const{createNewThread:t,onThreadCreated:i,resetThread:d}=we({clientThreadId:e,setClientThreadId:a});be({resetThreadAction:d,clientThreadId:e});const f=G(e);return s.jsxs(Ce,{clientThreadId:e,children:[s.jsx(ge,{clientThreadId:e,urlThreadId:o}),s.jsxs(ne,{hideNavigation:n,mobileHeaderContent:s.jsx(Me,{clientThreadId:e,inMobileHeader:!0}),mobileHeaderBottomContent:s.jsx(ia,{clientThreadId:e}),mobileHeaderLeftContent:s.jsx(Js,{onNewChatButtonClick:d}),mobileHeaderRightContent:s.jsx(ea,{onNewChatButtonClick:d}),sidebar:s.jsx(sa,{navHeader:e?s.jsx(ta,{className:"flex h-[60px] items-center md:h-header-height",onNewThread:t}):null,children:s.jsx(na,{clientThreadId:e,onNewThread:t})}),children:[s.jsx(me,{}),s.jsx(je,{clientThreadId:e,onCreate:i,prefetchSearch:r},e),s.jsxs(ne.Sidebars,{children:[f&&s.jsx(Sa,{clientThreadId:e}),s.jsx(he,{clientThreadId:e})]})]})]})}const ya=450;function wa({children:e,clientThreadId:a,isOpen:o,onClose:r}){return s.jsx(ys,{children:o&&s.jsx(Ve,{children:s.jsx(ws.Provider,{value:{isEmbeddedInFocusedView:!0},children:s.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[s.jsx(re.div,{className:"h-full w-full bg-token-main-surface-secondary",...se}),s.jsxs("div",{className:"absolute inset-0 flex",children:[s.jsx("div",{className:"flex-grow overflow-auto",children:e}),s.jsx(re.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:ya},...se,children:s.jsx("div",{className:"h-[100vh] pb-4",children:s.jsx(je,{clientThreadId:a,hideHeader:!0,hideFooter:!0,hideToolsOverlay:!0,messagesVerticalAlign:"bottom"},a)})})]})]})})})})}const Aa=M(()=>j(()=>import("./lzo1vnl8np4fvanj.js"),__vite__mapDeps([28,1,2,3,4,5,14,15,9,16,8,17,7,10,11,18,19,20,21,6]))),_a=M(()=>j(()=>import("./o9vzg3m91mbenn9c.js"),__vite__mapDeps([29,1,2,3,4,5,30,14,15,9,16,8,17,7,10,11,18,19,20,21,6,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48])).then(e=>e.ImageEditor));function Pa({clientThreadId:e}){const a=As();l.useEffect(()=>{I.close()},[e]);let o;return(a==null?void 0:a.type)===ae.ADAVisualization?o=s.jsx(Aa,{clientThreadId:e,visualization:a.visualization}):(a==null?void 0:a.type)===ae.Image&&(o=s.jsx(_a,{clientThreadId:e,messageId:a.messageId,image:a.image,allImages:a.allImages},a.image.asset_pointer)),s.jsx(wa,{clientThreadId:e,isOpen:a!=null,onClose:I.close,children:o})}const Ea=()=>{const e=W(),a=U(t=>t.activeModals.has(_.KeyboardActions)),o=()=>{R.closeModal(_.KeyboardActions)},r=aa(),n=l.useMemo(()=>{const t=Math.ceil(r.length/2);return[r.slice(0,t),r.slice(t)]},[r]);return s.jsx(de,{isOpen:a,onClose:o,type:"success",size:"custom",className:"md:max-w-[672px] lg:max-w-[796px] xl:max-w-4xl",showCloseButton:!0,title:e.formatMessage(Da.keyboardActionsModalTitle),children:s.jsx(s.Fragment,{children:s.jsx("div",{className:"grid grid-flow-row grid-cols-[repeat(auto-fit,minmax(250px,1fr))] gap-x-9",children:n.map((t,i)=>s.jsx("div",{className:"flex flex-col overflow-hidden",children:t.map(d=>s.jsx(Ta,{action:d},d.key))},`col-${i}`))})})})},Ta=({action:e})=>s.jsxs("div",{className:"flex items-center justify-between overflow-hidden text-token-text-primary",children:[s.jsx("div",{className:"flex flex-shrink items-center overflow-hidden text-sm",children:s.jsx("div",{className:"truncate",children:s.jsx(L,{...e.actionMessageDescriptor})})}),s.jsx("div",{className:"ml-3 flex flex-row gap-2",children:oa(e.keyboardBinding).map((a,o)=>s.jsx(Na,{keyName:a},`${e.key}-${o}`))})]}),Na=({keyName:e})=>{const a=N("my-2 flex h-8 items-center justify-center rounded-md border border-token-border-light capitalize text-token-text-secondary");return e.length>1?e.length>3?s.jsx("div",{className:N(a,"min-w-[50px]"),children:s.jsx("span",{className:"text-xs",children:e})}):s.jsx("div",{className:N(a,"min-w-[32px]"),children:s.jsx("span",{className:"text-xs",children:e})}):s.jsx("div",{className:N(a,"min-w-[32px]"),children:s.jsx("span",{className:"text-sm",children:e})})},Da=H({keyboardActionsModalTitle:{id:"KeyboardActionsModal.keyboardActionsModalTitle",defaultMessage:"Keyboard shortcuts"}});function La({clientThreadId:e,currentModelId:a,conversationLeafId:o,inlineEmbeddedDisplay:r,onChangeItemInView:n,onChangeRating:t,onRequestMoreCompletions:i,onRequestCompletion:d}){const[f]=l.useState(0),c=pe(e,o);function h(g){return g===f-1}return s.jsx("ol",{children:Array.from({length:c}).map((g,p)=>s.jsx("li",{children:s.jsx(ca,{isFinalTurn:h(p),turnIndex:p,clientThreadId:e,conversationLeafId:o,onChangeItemInView:n,onChangeRating:t,onRequestMoreCompletions:i,onRequestCompletion:d,currentModelId:a,showInlineEmbeddedDisplay:r,skipAvatar:!0},p)},p))})}function Oa({clientThreadId:e,onCompletionFinished:a,onThreadCreated:o,preRequestCompletion:r}){const n=Se(),t=ga(e),i=xe(e),d=ke(e)??n.id,c=pe(e,i)>=2,h=Qs(e,i),g=Ys(e)&&!c&&ma(t),{onRequestCompletion:p}=ve({clientThreadId:e,currentModelId:d,defaultModelId:n.id,onCompletionFinished:a,onThreadCreated:o,preRequestCompletion:r});return s.jsx("div",{className:D.footer,children:s.jsx(We.Provider,{value:p,children:s.jsx(_s,{children:s.jsx(la,{clientThreadId:e,isNewThread:g,onRequestCompletion:p,showPromptStarters:g||!h,currentModelId:d})})})})}function Ra({clientThreadId:e}){return s.jsxs("div",{className:D.header,children:[s.jsxs("div",{className:D.headerLeading,children:[s.jsx(Je,{clientThreadId:e}),s.jsx(Me,{clientThreadId:e})]}),s.jsx("div",{className:D.headerTrailing,children:s.jsx(da,{clientThreadId:e})})]})}function Ba({clientThreadId:e,onThreadCreated:a,onCompletionFinished:o,preRequestCompletion:r}){const n=Se(),t=ke(e)??n.id,i=xe(e),{onRequestCompletion:d,onChangeItemInView:f,onChangeRating:c,onRequestMoreCompletions:h}=ve({clientThreadId:e,currentModelId:t,defaultModelId:n.id,onCompletionFinished:o,onThreadCreated:a,preRequestCompletion:r});return s.jsx(pa,{clientThreadId:e,currentLeafId:i,children:s.jsx(Ps,{anchor:"top",className:"flex-1",leading:s.jsx(Ra,{clientThreadId:e}),trailing:s.jsx(Oa,{clientThreadId:e,onCompletionFinished:o,onThreadCreated:a,preRequestCompletion:r}),children:s.jsx(La,{clientThreadId:e,conversationLeafId:i,currentModelId:t,inlineEmbeddedDisplay:!1,onRequestCompletion:d,onChangeItemInView:f,onChangeRating:c,onRequestMoreCompletions:h})})})}const Fa=M(()=>j(()=>import("./fdbknqs7yil65amy.js"),__vite__mapDeps([12,1,2,3,4,5,13,14,15,9,16,8,17,7,10,11,18,19,20,21,6,22,23,24,25,26,27])).then(e=>e.CanvasFocusedViewManager));function Ia({clientThreadId:e,setClientThreadId:a,urlThreadId:o}){ye({clientThreadId:e});const{createNewThread:r,onThreadCreated:n,resetThread:t}=we({clientThreadId:e,setClientThreadId:a});be({resetThreadAction:t,clientThreadId:e});const i=G(e);return s.jsxs(Ce,{clientThreadId:e,children:[s.jsx(ge,{clientThreadId:e,urlThreadId:o}),s.jsx(me,{}),s.jsx(Es,{className:He.screenDefaults,sidebar:s.jsx(ra,{clientThreadId:e,onNewThread:r}),thread:s.jsx(Ba,{clientThreadId:e,onThreadCreated:n}),details:i&&s.jsx(Fa,{clientThreadId:e}),debugger:s.jsx(he,{clientThreadId:e})})]})}var Va={};const Wa=M(()=>j(()=>import("./clqlpxpypflkw97t.js"),__vite__mapDeps([49,1,2,3,38,7,4,5,8,9,39,14,15,16,17,10,11,18,19,20,21,6,40,41,42,36,43,44,45,30,46,32,47,48,50,51]))),Ha=M(()=>j(()=>import("./m69xxbeyvigq0zsk.js"),__vite__mapDeps([52,1,2,3,8,4,5,9,53,54,7,55,56])).then(e=>e.SearchResultsModal));function ro(e){var w;const{urlThreadId:a,clientThreadId:o,prefetchSearch:r}=e,n="serviceStatus"in e?e.serviceStatus:null;qa();const t=Ge(),i=Ue(),d=J(),f=ce(),[c,h]=l.useState(()=>a!==void 0?a:o!==void 0?o:V());a!==void 0&&c!==a&&B.getServerThreadId(c)!==a&&h(a);const g=Ts(J());l.useEffect(()=>{a===void 0&&B.getServerThreadId(c)!==void 0&&h(V())},[a,c,g]);const p=Ns(),P=O(q.workspaceId),v=Ds();G(c);const E=Ls(),{eligible:u,isLoading:b,markAsViewed:C}=Os();l.useEffect(()=>{(i.asPath==="/"||i.asPath.startsWith("/c/"))&&Rs({namespace:oe.ChatPageLoad})==null&&(Bs({namespace:oe.ChatPageLoad,opts:{expectedTimingLogs:[{name:"render_model_switcher",expectedInMs:1e4},{name:"render_history_items",expectedInMs:25e3}]}}),le.addTiming("chatgpt.web.chatPage.mounted"))},[]);const y=Fs();l.useEffect(()=>{qe(!0).then(x=>{x.force_login&&y({authType:"login"}),ze.initializeAndGatherData(x),Is.initializeAndGatherData(x),$e.initializeAndGatherData(x)})},[y]),l.useEffect(()=>{n!=null&&n.type&&p===!1&&f.warning(n.message,{hasCloseButton:!0,duration:5})},[p,n==null?void 0:n.message,n==null?void 0:n.type,f]),l.useEffect(()=>{const x=i.query[Vs]==="true";t!==x&&Ke.setIsTemporaryChatEnabled(x)},[t,i.query]),l.useEffect(()=>{var x;(x=d.state)!=null&&x.focusObject&&I.setFocusedObject(d.state.focusObject)},[(w=d.state)==null?void 0:w.focusObject]),l.useEffect(()=>{!b&&u&&v&&(C(),Ws(v))},[u,b,C,v]);const T=E?Ia:ka;return s.jsx(Qe.Provider,{value:null,children:s.jsx(Hs,{children:s.jsxs(te.Provider,{store:()=>new te,children:[s.jsx(va,{},P),s.jsx(Ea,{}),s.jsx(Gs,{}),s.jsx(T,{urlThreadId:a,clientThreadId:c,setClientThreadId:h,prefetchSearch:r}),s.jsx(Pa,{clientThreadId:c}),s.jsx(Ua,{clientThreadId:c}),s.jsx(Us,{clientThreadId:c}),s.jsx(Ga,{}),!1,s.jsx(qs,{}),s.jsx(zs,{})]},c)})})}function Ga(){const e=U(a=>a.sharingModalThreadId);return e?s.jsx(Wa,{serverThreadId:e}):null}function Ua({clientThreadId:e}){return $s()&&s.jsx(Ha,{clientThreadId:e})}function qa(){Ye({queryKey:["pingEdge"],queryFn:()=>Xe.pingEdge(),enabled:!0,staleTime:1/0})}typeof window<"u"&&(window._g=Va.GOKU_SERVICE);export{ro as C,ya as F};
//# sourceMappingURL=huax8yfl0qm2aq5s.js.map
