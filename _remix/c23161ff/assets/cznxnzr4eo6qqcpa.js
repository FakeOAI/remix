const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/nyobz575s3iqq6rj.js","assets/xdxfp24iz1v9yfag.js","assets/ig3bdi3tp2s0pq8f.js","assets/root-gq5hrjjg.css","assets/wy2knffjh52zqc86.js","assets/nu1fne0hxn0fobvc.js","assets/conversation-small-ile61fj8.css","assets/lgaiee5rxcq2n96d.js","assets/fte6tx67ld908dz9.js","assets/nugyuk9m2b37r80n.js","assets/fphz236xp9gwvmre.js","assets/br6d6eytaa2r39nf.js","assets/cufjrmhcna5kwrht.js","assets/ep2zpebimu8cy8ft.js","assets/i36u1kcvzuratj55.js"])))=>i.map(i=>d[i]);
import{m as e,aH as D,aI as A,r as l,gR as B,gS as $,gj as z,gb as G,bp as O,fq as n,aD as T,y as J,ay as K,fp as Y,as as Z,G as Q,d2 as X,aJ as ee,dO as se,S as ae,F as ne,fn as te,eP as re}from"./xdxfp24iz1v9yfag.js";import{eV as E,eW as oe,eX as ie,eY as W,eZ as ce,e_ as de,bY as le,e$ as he,f0 as b,f1 as me,f2 as ue,f3 as Ce,f4 as xe,f5 as pe,f6 as fe,b7 as Te,f7 as ge,f8 as ve,f9 as V,fa as je,al as N,fb as Se,dW as Ie,bx as we,fc as ye,j as be,fd as Ne,fe as Ee,ff as Le,fg as Me,fh as _e,fi as He,ca as ke,fj as Pe,fk as P,eJ as Fe,eK as Re}from"./nu1fne0hxn0fobvc.js";import{S as De,E as Ae,C as F,a as Be,b as Oe}from"./lgaiee5rxcq2n96d.js";import{K as We}from"./ig3bdi3tp2s0pq8f.js";import{C as Ve}from"./bfwrvf2pn0lu5f2a.js";function qe({clientThreadId:s,currentModelId:r,isModelLoaded:a,onRequestCompletion:t,v2HomepageDisclaimer:o}){return e.jsx(De,{clientThreadId:s,currentModelId:r,isModelLoaded:a,onRequestCompletion:t,v2HomepageDisclaimer:o})}const Ue=D(()=>A(()=>import("./nyobz575s3iqq6rj.js"),__vite__mapDeps([0,1,2,3,4,5,6])).then(s=>s.ChatScreenContentModals));function $e({disableEmptyState:s,fullWidth:r}){const{clientThreadId:a,currentModelId:t,conversationLeafId:o,isCompanionWindow:i,isEmbeddedInFocusedView:h,onChangeItemInView:m,onChangeRating:u,onRequestCompletion:c,onRequestMoreCompletions:x,isModelLoaded:p,prefetchSearch:g}=l.useContext(E),f=B(a,o),v=$(a),j={clientThreadId:a,conversationLeafId:o,currentModelId:t,onChangeItemInView:m,onChangeRating:u,onRequestMoreCompletions:x,onRequestCompletion:c,showAvatar:!1},S=z(a),w=oe({clientThreadId:a,currentLeafId:o,handleRequestCompletion:c,prefetchSearchPromise:g}),I=S||w||s,C=G(),{initialConversationTurns:L,continuedConversationTurns:M}=ie(f,C),{canUseNewHomepage:_,showEmptyState:H}=W({clientThreadId:a,currentLeafId:o}),q=f>=2;ce(q);const{setTargetedContent:k}=de(),U=le(t);if(he(()=>{fe(),J.updateScrollToMessageId(a,"finalAgentTurn")}),l.useEffect(()=>{h||k(void 0)},[a,k,h]),_&&H&&!I){const d=i?null:e.jsx("div",{className:"text-center text-xs text-token-text-secondary",children:e.jsx(b,{clientThreadId:a})});return e.jsx(qe,{clientThreadId:a,currentModelId:t,isModelLoaded:p,onRequestCompletion:c,v2HomepageDisclaimer:d})}else if(!_&&H&&!I)return e.jsx(Ae,{clientThreadId:a,currentModelId:t,isModelLoaded:p,onRequestCompletion:c,enableV2Homepage:!U,v2HomepageDisclaimer:e.jsx(b,{clientThreadId:a})});return e.jsxs(e.Fragment,{children:[C&&e.jsx(me,{}),C&&M.length===0&&e.jsx(ue,{}),e.jsx(O,{children:e.jsxs(l.Suspense,{fallback:null,children:[e.jsx(Ce,{}),L.length>0&&e.jsx("ol",{className:n.conversationTurnList,children:L.map(({turnIndex:d,isFinalTurn:y})=>e.jsx("li",{className:T(n.conversationTurnWrapper,r&&"w-full"),children:l.createElement(F,{...j,key:`${a}-${d}`,turnIndex:d,isFinalTurn:y,scrollToMessageId:v})},d))}),C&&e.jsx(xe,{}),e.jsx("ol",{className:n.conversationTurnList,children:M.map(({turnIndex:d,isFinalTurn:y})=>e.jsx("li",{className:T(n.conversationTurnWrapper,r&&"w-full"),children:l.createElement(F,{...j,key:`${a}-${d}`,turnIndex:d,isFinalTurn:y,scrollToMessageId:v})},d))})]})}),e.jsx(Ue,{}),f>0&&e.jsx(pe,{})]})}function ze(){return e.jsx($e,{})}const Ge=D(()=>A(()=>import("./lgaiee5rxcq2n96d.js").then(s=>s.c),__vite__mapDeps([7,1,2,3,5,6,8,9,10,11,12,13,14])).then(s=>s.ChatScreenComposerAlerts));function Je(){const{clientThreadId:s,currentModelId:r,isCompanionWindow:a,onRequestCompletion:t}=l.useContext(E),o=Te(s),i=K(s),h=B(s,i),m=h>=2,u=Y(s,i),c=Z(s)&&!m&&ge(o);ve(h,s,i,c);const{setComposerFooterElement:x}=l.useContext(V);return e.jsx("div",{className:n.footer,children:e.jsxs(je,{style:{"--bar-gap":"0.5rem","--bar-background-color":"transparent"},children:[e.jsxs(N,{type:"secondary",className:"relative",children:[m&&e.jsx(Se,{className:n.scrollButton}),e.jsx(Ge,{})]}),e.jsxs(N,{type:"primary",ref:x,name:"composer-bar",children:[e.jsx(Be,{clientThreadId:s,currentModelId:r,isNewThread:c,noWrap:!0,onRequestCompletion:t,showPromptStarters:c||!u}),!a&&e.jsx("div",{className:"text-center text-xs text-token-text-secondary",children:e.jsx(b,{clientThreadId:s})})]})]})})}function Ke(){const s=Q(),{clientThreadId:r,isLoggedInUser:a,onNewThread:t}=l.useContext(E);return X(r),e.jsxs(N,{leading:!0,type:"primary",className:n.header,children:[e.jsxs("div",{className:n.headerLeading,children:[a&&e.jsx(Ie,{}),e.jsx(ee,{label:s.formatMessage(R.newChat),className:"hidden @lg/screen-composer:inline-flex",children:e.jsx(se,{to:"/",className:n.newThread,onClick:o=>{t?(o.preventDefault(),t()):ae.logEvent("chatgpt_web_thread_tap_new_thread")},tabIndex:0,children:e.jsx(we,{className:T(n.sidebarIcon),icon:e.jsx(We,{}),tabIndex:-1,label:s.formatMessage(R.newChat),style:{viewTransitionName:"var(--vt_new_chat_thread)"}})})}),e.jsx("div",{className:n.threadDropdown,children:e.jsx(ye,{clientThreadId:r})})]}),e.jsx("div",{className:n.headerTrailing,children:e.jsx(O,{children:e.jsx(Oe,{clientThreadId:r})})})]})}const R=ne({newChat:{id:"rnCpM4",defaultMessage:"New Chat"}});function ss({hideHeader:s=!1,hideFooter:r=!1,hideTools:a=!1,embedded:t=!1,ref:o}){const{clientThreadId:i,currentModelId:h,conversationLeafId:m,isCompanionWindow:u,isInstalledApp:c,onRequestCompletion:x}=be(),{canUseNewHomepage:p,showEmptyState:g}=W({clientThreadId:i,currentLeafId:m}),f=Ne()[h],[v,j]=Ee({name:"composer-bar",track:"height"}),S=Le(i),w=Me(),I=te(),C=r||g&&p;return e.jsx(re.Provider,{value:x,children:e.jsx(_e,{children:e.jsxs(He,{clientThreadId:i,currentLeafId:m,children:[e.jsx(ke,{children:S!=null&&e.jsx("title",{children:S})}),e.jsx(Pe,{clientThreadId:i,className:T(t&&"h-full","flex-1"),currentModelConfig:f,children:e.jsx(V.Provider,{value:{setComposerFooterElement:j},children:e.jsxs("div",{className:"h-full",style:{container:"thread-container / inline-size"},children:[e.jsx(P,{id:"canvas-state",name:"canvas-state",checked:w}),e.jsx(P,{id:"thread-extended-info-sidebar-state",name:"thread-extended-info-sidebar-state",checked:I}),e.jsx(Fe,{anchor:"vertical",className:T(n.screen,g&&p&&n.screenEmptyState,u&&n.screenCompanionWindow,c&&n.screenInstalledApp,t&&n.screenEmbedded),name:"thread",leading:!s&&e.jsx(Ke,{}),style:v,ref:o,trackLeading:!0,trackTrailing:!0,trailing:!C&&e.jsx(Je,{}),children:e.jsx(ze,{})}),!u&&!a&&e.jsxs(e.Fragment,{children:[e.jsx(Ve,{}),e.jsx(Re,{})]})]})})})]})})})}export{ss as C};
//# sourceMappingURL=cznxnzr4eo6qqcpa.js.map
