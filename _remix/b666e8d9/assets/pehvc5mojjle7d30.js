const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/gpt3umerc2v63w2i.js","assets/iw5llf4a9z2k4qli.js","assets/ere5qx05or5w4r80.js","assets/root-kyx67gpb.css","assets/ffbc0egt64q2hvb1.js","assets/conversation-small-ict01xsi.css","assets/i427bddftbowt48m.js","assets/hskeo4a0suuacupd.js","assets/zbbavq3fohnytg6f.js","assets/ka9urk6fl3lg45ww.js","assets/l1hnzmdnnyhyq50n.js","assets/cl36x71jw22xq21h.js","assets/sbh3gyxbsik6r1mv.js","assets/i2dv3y3bfx4gju2h.js","assets/b98iri3l289u5mbt.js","assets/ioi62ycdahm2tnd9.js","assets/k62b7lpgll63icj7.js","assets/hhgzgwwiotxpkejj.js","assets/o69vrzt176p1v6rh.js","assets/iaugkapujzwqym4n.js","assets/izrqkoclzq344wn2.js","assets/bixe314hudxgokbp.js","assets/d5cfhstao1jbwh2m.js","assets/egjri11ej5amke2f.js","assets/cjqqwss8n1eei4uw.js","assets/kqwdyvkaaavvn8k3.js","assets/myy3q76qm0gk9eld.js","assets/c4r4lyznvvrsp374.js","assets/983a0dy92b3ronpv.js","assets/lrdbc20n9neebd2e.js","assets/bnvxa4s83pef6tds.js","assets/j5w4166bn3c02o6l.js","assets/pcgc6dtiye7citc2.js","assets/fhiwyoymhvxc0gb0.js","assets/cj16du8am7t3gt44.js","assets/eoeh63o4h04w1wx9.js","assets/kso38c0ekioe2ddf.js","assets/lojhgh6xuuk97kca.js","assets/dfgrdefw1xrpj8wg.js","assets/hysz0jnon6fkt45j.js","assets/cts8469jblpkgvuw.js","assets/ofh1d5ibeczs7zaa.js","assets/cvwadlclhxhf5r5y.js","assets/nc66n1jemxju1mir.js"])))=>i.map(i=>d[i]);
import{aM as l,aN as u,j as e,y as $,fK as _,r as i,az as Q,fE as E,ao as Y,z as w,a4 as Z,c7 as P,D as q,bS as X,bT as J,bU as ee,cy as ae,l as se,N as te}from"./iw5llf4a9z2k4qli.js";import{d2 as re,cT as I,gP as oe,cU as ne,gQ as b,X as O,gR as k,fy as ie,gS as de,gO as D,gT as M,gU as L,gV as ce,bB as le,b0 as R,a9 as ue,cV as H,gW as y,gX as g,f$ as he,bD as f,bE as T,a8 as me,eW as ge,eV as xe,gY as fe,gZ as be,q as N,g_ as je,bZ as Ce,g$ as pe,h0 as ve,dm as Se,dn as V,h1 as _e,j as Ee,h2 as we,h3 as Pe,fZ as ye,ac as Te,cR as Ne,cS as Ve,h4 as Ae,h5 as Fe,h6 as Ie,cW as Oe,h7 as ke,b_ as De,dh as Me}from"./ffbc0egt64q2hvb1.js";import{S as A,b as Le,c as Re,N as He}from"./pcgc6dtiye7citc2.js";import{S as We,b as ze,C as Ue}from"./fhiwyoymhvxc0gb0.js";import{T as W}from"./cj16du8am7t3gt44.js";import{C as z}from"./cts8469jblpkgvuw.js";import{m as x}from"./zbbavq3fohnytg6f.js";const Be=l(()=>u(()=>import("./gpt3umerc2v63w2i.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21])).then(a=>a.CanvasFocusedViewManager)),Ge=l(()=>u(()=>import("./d5cfhstao1jbwh2m.js"),__vite__mapDeps([22,1,2,3,4,5,23,24,25,26,27,8,28])).then(a=>a.SearchResultsModal));function Ke({clientThreadId:a,setClientThreadId:s,urlThreadId:t,prefetchSearch:o}){const d=re();I({clientThreadId:a});const{createNewThread:n,onThreadCreated:m,resetThread:r}=oe({clientThreadId:a,setClientThreadId:s});ne({resetThreadAction:r,clientThreadId:a});const h=b();return e.jsxs(O,{enableSandbox:!1,clientThreadId:a,children:[e.jsx(k,{clientThreadId:a,urlThreadId:t}),e.jsxs(A,{hideNavigation:d,mobileHeaderContent:e.jsx(ie,{clientThreadId:a,inMobileHeader:!0}),mobileHeaderBottomContent:e.jsx(de,{clientThreadId:a}),mobileHeaderLeftContent:e.jsx(Le,{onNewChatButtonClick:r}),mobileHeaderRightContent:e.jsx(Re,{onNewChatButtonClick:r}),sidebar:e.jsx(He,{navHeader:a?e.jsx(We,{className:"flex h-[60px] items-center md:h-header-height",onNewThread:n}):null,children:e.jsx(ze,{clientThreadId:a,onNewThread:n})}),threadFlyout:e.jsx(D,{clientThreadId:a}),children:[e.jsx(M,{}),e.jsx(W,{clientThreadId:a,onCreate:m,prefetchSearch:o},a),e.jsxs(A.Sidebars,{children:[h&&e.jsx(Be,{clientThreadId:a}),e.jsx(L,{clientThreadId:a}),!1]})]}),e.jsx($e,{clientThreadId:a})]})}function $e({clientThreadId:a}){const{value:s}=$("218782548"),t=ce(),{isOpen:o}=le();return o&&(!t||!s)&&e.jsx(Ge,{clientThreadId:a})}const F=450;function Qe({children:a,clientThreadId:s,isOpen:t,onClose:o}){const d=R();return e.jsxs(ue,{children:[t&&d&&e.jsx(H,{clientThreadId:s,children:e.jsx(_,{children:e.jsx(y.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(x.div,{className:"h-full w-full bg-token-main-surface-secondary",...g}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx("div",{className:"flex-grow overflow-auto",children:a}),e.jsx(x.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:F},...g,children:e.jsx(z,{hideHeader:!0,hideTools:!0})})]})]})})})}),t&&!d&&e.jsx(_,{children:e.jsx(y.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(x.div,{className:"h-full w-full bg-token-main-surface-secondary",...g}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx("div",{className:"flex-grow overflow-auto",children:a}),e.jsx(x.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:F},...g,children:e.jsx("div",{className:"h-[100vh] pb-4",children:e.jsx(W,{clientThreadId:s,hideHeader:!0,hideFooter:!0,hideToolsOverlay:!0,messagesVerticalAlign:"bottom"},s)})})]})]})})})]})}const Ye=l(()=>u(()=>import("./lrdbc20n9neebd2e.js"),__vite__mapDeps([29,1,2,3,4,5]))),Ze=l(()=>u(()=>import("./bnvxa4s83pef6tds.js"),__vite__mapDeps([30,1,2,3,4,5,31,8,32,20,33,34,14,35,36,6,7,9,37,19,38,39,40,41])).then(a=>a.ImageEditor));function qe({clientThreadId:a}){const s=he();i.useEffect(()=>{f.close()},[a]);let t;return s?.type===T.ADAVisualization?t=e.jsx(Ye,{clientThreadId:a,visualization:s.visualization}):s?.type===T.Image&&(t=e.jsx(Ze,{clientThreadId:a,messageId:s.messageId,image:s.image,allImages:s.allImages},s.image.asset_pointer)),e.jsx(Qe,{clientThreadId:a,isOpen:s!=null,onClose:f.close,children:t})}const Xe=l(()=>u(()=>import("./gpt3umerc2v63w2i.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21])).then(a=>a.CanvasFocusedViewManager));function Je(){const{focusedObject:a,clientThreadId:s}=me(),t=b();return e.jsx(ge,{className:Q(E.application,{[E.withFocusedView]:a}),sidebar:e.jsx(Ue,{}),thread:e.jsx(z,{}),details:e.jsxs(e.Fragment,{children:[t&&e.jsx(Xe,{clientThreadId:s}),!1]}),threadExtendedInfo:e.jsx(D,{clientThreadId:s}),debugger:e.jsx(L,{clientThreadId:s}),name:"application-root"})}function ea({clientThreadId:a,setClientThreadId:s,urlThreadId:t,prefetchSearch:o}){return I({clientThreadId:a}),e.jsx(H,{clientThreadId:a,setClientThreadId:s,prefetchSearch:o,children:e.jsxs(xe,{children:[e.jsx(fe,{}),e.jsx(be,{}),e.jsxs(O,{enableSandbox:!1,clientThreadId:a,children:[e.jsx(k,{clientThreadId:a,urlThreadId:t}),e.jsx(M,{}),e.jsx(Je,{})]})]})})}var aa={};const sa=l(()=>u(()=>import("./cvwadlclhxhf5r5y.js"),__vite__mapDeps([42,1,2,3,4,5,43])));function ha(a){const{urlThreadId:s,clientThreadId:t,prefetchSearch:o}=a;ra();const d=Y(),n=w(),[m]=Z(),[r,h]=i.useState(()=>s!==void 0?s:t!==void 0?t:P());s!==void 0&&r!==s&&N.getServerThreadId(r)!==s&&h(s);const U=je(w());i.useEffect(()=>{s===void 0&&N.getServerThreadId(r)!==void 0&&h(P())},[s,r,U]);const B=Ce(De.workspaceId);b();const G=R(),{eligible:j,isLoading:C,markAsViewed:p}=pe(),v=ve();i.useEffect(()=>{(n.pathname==="/"||n.pathname.startsWith("/c/"))&&Se({namespace:V.ChatPageLoad})==null&&(_e({namespace:V.ChatPageLoad,opts:{expectedTimingLogs:[{name:"render_model_switcher",expectedInMs:1e4},{name:"render_history_items",expectedInMs:25e3}]}}),q.addTiming("chatgpt.web.chatPage.mounted"))},[]);const S=Ee();i.useEffect(()=>{X(!0).then(c=>{c.force_login&&S({authType:"login"}),J.initializeAndGatherData(c),we.initializeAndGatherData(c),ee.initializeAndGatherData(c)})},[S]),i.useEffect(()=>{const c=m.get(Pe)==="true";d!==c&&ae.setIsTemporaryChatEnabled(c)},[d,m]),i.useEffect(()=>{n.state?.focusObject&&f.setFocusedObject(n.state.focusObject)},[n.state?.focusObject]),i.useEffect(()=>{!C&&j&&(p(),v())},[j,C,p,v]),ye();const K=G?ea:Ke;return e.jsx(Te.Provider,{value:null,children:e.jsx(Ne,{children:e.jsxs(Ve,{clientThreadId:r,children:[e.jsx(Ae,{clientThreadId:r},B),!1,e.jsx(Fe,{}),e.jsx(Ie,{}),e.jsx(K,{urlThreadId:s,clientThreadId:r,setClientThreadId:h,prefetchSearch:o}),e.jsx(qe,{clientThreadId:r}),e.jsx(Oe,{clientThreadId:r}),e.jsx(ta,{}),!1,e.jsx(ke,{})]})})})}function ta(){const a=Me(s=>s.sharingModalThreadId);return a?e.jsx(sa,{serverThreadId:a}):null}function ra(){se({queryKey:["pingEdge"],queryFn:()=>te.pingEdge(),enabled:!0,staleTime:1/0})}typeof window<"u"&&(window._g=aa.GOKU_SERVICE);export{ha as C,F};
//# sourceMappingURL=pehvc5mojjle7d30.js.map
