import{y as p,ef as h,w as R,r as m,a0 as f,al as C,S as _,dS as l,L as M}from"./c18i0pp13au3y7ic.js";import{q as x}from"./enssjn5g3z6y1cyn.js";import{cC as b,a0 as w,bi as E,bj as G,bk as I}from"./g4twu77u2twhehgk.js";import{d as T}from"./oebbfh7ymqr9h0bg.js";import{u as j,G as d,U as v}from"./a6yq7dxv0hbp7yf9.js";function z(e){const t=x(e.gizmo.display.name);return t==null?[]:[{title:t},{property:"og:site_name",content:"ChatGPT"},{property:"og:type",content:"website"},{property:"og:title",content:t},...e.gizmo.display.description?[{name:"description",content:e.gizmo.display.description},{property:"og:description",content:e.gizmo.display.description}]:[],...e.gizmo.display.profile_picture_url?[{property:"og:image",content:e.gizmo.display.profile_picture_url},{property:"og:image:width",content:"512"},{property:"og:image:height",content:"512"}]:[]]}function U({gizmo:e}){return p.jsx(b,{children:p.jsx(h,{metadata:z(e)})})}function k({serverThreadId:e,clientThreadId:t,isStaticSharedThread:a,isDynamicSharedThread:s}){const o=j(d.ReportConversation),i=R("2935021756")?.value,r=M("3376455464")?.value||a||s,y=T(t);let n=e??y;const u=m.useContext(w);n==null&&u!=null&&(n=u.serverSharedThreadId??void 0),i&&typeof window<"u"&&(window._convo_share_debug={isOpen:o,canReport:r,serverThreadIdIsNull:n==null,isStaticSharedThread:a,isDynamicSharedThread:s});const c=f(),g=C();return m.useEffect(()=>{n==null&&o&&r&&(g.danger(c.formatMessage({id:"gizmo.report.conversationModal.emptyConversationError",defaultMessage:"Empty conversations cannot be reported"})),v.closeModal(d.ReportConversation))},[n,o,r,c,g]),!o||!r||n==null?(o&&_.logEvent("chatgpt_conversation_share_report_modal_not_shown",r?"serverThreadId":"canReport"),null):p.jsx(H,{serverThreadId:n,onClose:()=>v.closeModal(d.ReportConversation),isStaticSharedThread:a,isDynamicSharedThread:s})}function H({serverThreadId:e,onClose:t,isStaticSharedThread:a,isDynamicSharedThread:s}){const{data:o}=E(a||s?l.ShareableConversation:l.Conversation),i=f(),r=G(i,e,a||s?l.ShareableConversation:l.Conversation);return o==null||e==null?(_.logEvent("chatgpt_conversation_share_report_modal_not_shown",o==null?"report_reasons":"thread_id"),null):p.jsx(I,{reasons:o.reasons,submitReport:r,title:i.formatMessage({id:"gizmo.report.conversationModal.title",defaultMessage:"Report a conversation"}),onClose:t,header:o.header,subHeader:o.header_explanation})}export{U as G,H as R,k as T,z as g};
//# sourceMappingURL=d29skr3h0didb7mn.js.map
