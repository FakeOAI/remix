const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/i63oewx6ofd6jxpt.js","assets/c18i0pp13au3y7ic.js","assets/haiie99g2z7r06p2.js","assets/root-it5gal5m.css","assets/g4twu77u2twhehgk.js","assets/conversation-small-cll5buey.css","assets/gh81skfwc2ue8g4f.js","assets/nhvy7iy1ucx17kzi.js","assets/oebbfh7ymqr9h0bg.js","assets/ipokt9i7zjv6h6xg.js","assets/i0rsuleug17fm96j.js","assets/kj64znksxeizyr44.js","assets/l72gguc1sdhtezl5.js","assets/enssjn5g3z6y1cyn.js","assets/d6pd9vw7xwm0s8og.js","assets/a6yq7dxv0hbp7yf9.js","assets/6821c7u8k44y6qgw.js","assets/k2pl8zald2qe4rou.js","assets/gnw06s083lr5f19e.js","assets/h1mh4abdz9ajp2qf.js","assets/kp8msh463esg9se3.js","assets/8n4pdax1gjhvhr60.js","assets/tdlbzuru68c98r10.js","assets/jd722thjwk9l119v.js","assets/l6q8z1di3hxp7im8.js","assets/uz674jecbic99odm.js","assets/d2rynahwdk8zgr3h.js"])))=>i.map(i=>d[i]);
import{a0 as I,y as e,ae as p,$ as M,r,P as U,d as W,a1 as E,L as $,a4 as b,a6 as q,a9 as K,j as Q,dW as X,aE as J,aw as w,aA as Y,ab as G,ac as C,ag as Z,eV as ee,as as se,ak as te,ch as ne}from"./c18i0pp13au3y7ic.js";import{de as d,L as m,dg as A,dA as D,bU as ae,eJ as oe,bR as ie,b_ as re,eK as ce,eL as le,bV as ue,bW as de,eM as me,bq as fe,bQ as xe,eN as ge,be as he}from"./g4twu77u2twhehgk.js";import{q as pe,ab as be,b4 as Se,b5 as ve}from"./haiie99g2z7r06p2.js";import{B as ye,D as je}from"./6821c7u8k44y6qgw.js";import{c as L,d as _,a as O,U as T}from"./a6yq7dxv0hbp7yf9.js";import{m as Ne}from"./ipokt9i7zjv6h6xg.js";import{d as we,k as Te}from"./oebbfh7ymqr9h0bg.js";import{u as Pe,H as ke}from"./d2rynahwdk8zgr3h.js";import{a as Ie,r as Me}from"./kj64znksxeizyr44.js";import{j as Ee}from"./h1mh4abdz9ajp2qf.js";function H(){const{activeModals:s}=L(),t=M(),n=d(m.ExploreGPTs),a=d(m.ExploreGPTsNewNux),i=_(),o=O(),l=D(),f=n.eligible&&!n.isLoading&&!o;let c=a.eligible&&!a.isLoading&&!o&&!i&&!l;return s.size>0&&(c=!1),!f&&t?.hasPlusFeatures()&&(c=!1),r.useEffect(()=>{c&&U.logEvent(W.storeDisplayNewNux)},[c]),c}function Xe({children:s}){const t=H(),n=I(),a=d(m.ExploreGPTsNewNux);return t?e.jsx(A,{side:"right",show:!0,title:n.formatMessage(P.exploreGPTsTitle),onDismiss:a.markAsViewed,sideOffset:20,theme:"bright",description:e.jsx(p,{...P.exploreGPTsDescriptionNewNux}),children:s}):e.jsx(e.Fragment,{children:s})}const P=E({exploreGPTsTitle:{id:"gptExploreGPTs.title",defaultMessage:"Explore GPTs"},exploreGPTsDescription:{id:"gptExploreGPTs.description",defaultMessage:"Now you can discover GPTs created by the community"},exploreGPTsDescriptionNewNux:{id:"gptExploreGPTs.descriptionNewNux",defaultMessage:"Discover custom versions of ChatGPT created for specific use cases like writing, research, and coding."}});function Ge(){const s=d(m.SonicSidebar),[t,n]=r.useState(!1);return s.isLoading||!s.eligible?null:e.jsx(Ne.div,{className:"no-draggable group pb-0",whileTap:{scale:.98},children:e.jsx(Ae,{children:e.jsx(ae,{href:"/search",target:"_blank",icon:e.jsx("div",{className:b("gizmo-shadow-stroke mr-[0.5] flex h-[18px] w-[18px] items-center justify-center rounded-full bg-token-main-surface-primary align-middle text-token-text-primary"),children:e.jsx(oe,{})}),label:"SearchGPT",hoverRightIcon:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(De,{isOpen:t,setIsOpen:n,onDismiss:()=>s.markAsViewed()}),e.jsx(pe,{className:b("icon-md text-token-text-tertiary",!t&&"invisible group-hover:visible")})]}),isMenuOpen:!1,loggingGizmoId:"search-gpt-sidebar"})})})}function Ce(){const s=O(),t=d(m.hasSeenSncSidebarTooltip),n=H(),a=_(),{activeModals:i}=L(),o=D();return!t.isLoading&&t.eligible&&!n&&i.size===0&&!s&&!a&&!o}function Ae({children:s}){const t=Ce(),n=d(m.hasSeenSncSidebarTooltip);return t?e.jsx(A,{side:"right",show:!0,badge:"new",title:"Try SearchGPT",onDismiss:n.markAsViewed,sideOffset:10,theme:"bright",description:"You're in. Get answers with real-time information from relevant sources, and ask follow-up questions.",children:e.jsx("div",{className:"w-full",children:s})}):e.jsx(e.Fragment,{children:s})}function De({isOpen:s,setIsOpen:t,onDismiss:n}){return e.jsx(ye,{open:s,onOpenChange:t,triggerButton:e.jsx("button",{className:b("flex text-token-text-tertiary",s?"":"invisible group-hover:visible"),onClick:a=>{a.preventDefault()},children:e.jsx(be,{className:"icon-md"})}),children:e.jsx(je.Item,{onClick:a=>{a.preventDefault(),n()},children:e.jsx(p,{id:"sidebar.hideFromSidebar",defaultMessage:"Hide from sidebar"})})})}function Le(){const s=$("114024");return!s.value||s.isLoading?null:e.jsx(Ge,{})}const k=E({unableToLoadHistory:{id:"history.unableToLoad",defaultMessage:"Unable to load history"},retryButton:{id:"history.retryButton",defaultMessage:"Retry"}});function _e({activeId:s,isPrimaryBackgroundColor:t}){const n=Q(),[a,i]=r.useState(!1),[o,l]=r.useState(0),f=X(),y=ie(),{conversations:c,hasNextPage:S,fetchNextPage:j,isLoading:x,isFetchingNextPage:z,isError:N}=Ie(),g=r.useRef(null),R=r.useCallback(h=>{x||h==null||(g.current?.disconnect(),g.current=new IntersectionObserver(V=>{V[0].isIntersecting&&S&&j()}),g.current.observe(h))},[x,S,j]);r.useEffect(()=>()=>{g.current?.disconnect()},[]),r.useMemo(()=>{re.publish({kind:"refreshHistory",conversations:c})},[c]);const v=c;r.useEffect(()=>{const h=ce(le(),Date.now());f(()=>{l(o+1)},h+1e3)},[o,f]);const u=v.length===0;r.useEffect(()=>{u||ue({namespace:de.ChatPageLoad})?.logTiming("render_history_items")},[u]);const F=Pe(v,o);return e.jsxs(Oe,{$centered:x||N||u,$screenArch:y,children:[u&&x&&e.jsx(J,{children:e.jsx(w,{className:"m-auto"})}),u&&N&&e.jsxs("div",{className:"p-3 text-center italic text-token-text-tertiary",children:[e.jsx(p,{...k.unableToLoadHistory}),!a&&e.jsx("div",{className:"mt-1",children:e.jsx(Y,{as:"button",color:"primary",size:"small",className:"m-auto mt-2",onClick:()=>{i(!0),Me(n)},children:e.jsx(p,{...k.retryButton})})})]}),!x&&!u&&e.jsx("div",{children:e.jsx(ke,{activeId:s,bucketedItems:F,hasNextPage:S,items:v,isPrimaryBackgroundColor:t,infiniteScrollTriggerElementRef:R})}),z&&e.jsx("div",{className:"m-4 mb-5 flex justify-center",children:e.jsx(w,{})})]})}const B=q.memo(_e),Oe=K.div`flex flex-col gap-2 text-token-text-primary text-sm 
${({$centered:s,$screenArch:t})=>[s&&"h-full justify-center items-center empty:hidden",!t&&"mt-5 pb-2"]}`,Je=Object.freeze(Object.defineProperty({__proto__:null,default:B},Symbol.toStringTag,{value:"Module"})),He=G(()=>C(()=>import("./i63oewx6ofd6jxpt.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16])).then(s=>s.FannyPackAction)),Be=G(()=>C(()=>import("./k2pl8zald2qe4rou.js"),__vite__mapDeps([17,1,2,3,18,13,4,5,8,9,14,15,16,19,11,12,20,21,22,23,24,25,26,10])).then(s=>s.GizmoSidebarList));function Ye({clientThreadId:s,onNewThread:t}){const n=we(s),a=M(),{isUnauthenticated:i}=te(),o=Te(s),l=ne();return i?null:e.jsxs(e.Fragment,{children:[e.jsx(he,{onNewThread:t}),a?.canInteractWithGizmos()?e.jsx(Be,{currentGizmoId:o}):e.jsx(Le,{}),!1,!i&&e.jsx(B,{activeId:l?void 0:n})]})}function Ze({className:s,onNewThread:t}){const n=I(),a=Z(),i=me(),o=ee(()=>navigator.windowControlsOverlay),{isFannyPackEnabled:l}=fe();return e.jsxs("div",{className:b("flex",o?.visible&&o.getTitlebarAreaRect().left>0?"justify-end":"justify-between",s),children:[e.jsx(se,{sideOffset:4,label:n.formatMessage({id:"e7SzX9",defaultMessage:"Close sidebar"}),className:"flex",side:"right",children:e.jsx(xe,{className:"no-draggable","aria-label":n.formatMessage({id:"e7SzX9",defaultMessage:"Close sidebar"}),onClick:()=>{ge(a)?T.toggleNavSidebar():T.togglePopoverNavSidebar()},icon:Se,mobileIcon:ve,surfaceContext:"secondary","data-testid":"close-sidebar-button"})}),e.jsxs("div",{className:"flex",children:[l&&e.jsx(He,{}),!i&&e.jsx(Ee,{onClick:t,testId:"create-new-chat-button"})]})]})}export{Ye as C,Xe as E,B as H,Ze as S,Le as a,Je as b};
//# sourceMappingURL=h9k2q1s6tchmizhu.js.map
