import{bp as g,r as o,aK as m,l as S,j as R,c1 as p,c2 as f}from"./pcg3wlqr9bj2vzgy.js";import{u as E}from"./igv9mwe0ogu48h3o.js";import"./k3fj5qj7u1fb9jyd.js";function T(){const{pluginId:e,code:i,state:u,error:r,errorDesc:c}=E(),t=g(),n=o.useRef(!1);o.useEffect(()=>{if(n.current===!0)return;n.current=!0;async function h(){const d=`https://chat.openai.com/aip/${e}/oauth/callback`;try{const a=await R.pluginOauthCallback(e,i,d,u);if(a.success){const s=new URL(p(f.OAUTH_SUCCESS,a.redirect_path),location.origin);s.searchParams.set("oauth_success","true"),t(s.pathname+s.search+s.hash)}else t(p(f.CUSTOM_ERROR,a.redirect_path,a.error??a.message))}catch{t(`/?model=gpt-4-plugins&loginAip=${e}&loginSuccess=false`)}}h()},[e,i,u,t]);const l=m();return o.useEffect(()=>{r&&l.danger(`${r}${c?`: ${c}`:""}`,{duration:5})},[r,c,l]),S.jsx("div",{})}export{T as default};
//# sourceMappingURL=llxv70gadu0zvws8.js.map
