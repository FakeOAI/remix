import{r as e,l as c}from"./j51q469vqqyswwq0.js";import"./nakmlpxnz8km92cm.js";const i="sandbox-ready";e.memo(function(s){const n=e.useRef(null),[t,l]=e.useState(null),o=e.useCallback(a=>{a.source===n?.current?.contentWindow&&a.data===i&&l(a.ports[0])},[]);return e.useEffect(()=>(window.addEventListener("message",o),()=>window.removeEventListener("message",o)),[o]),e.useEffect(()=>{t&&s.srcDoc!==void 0&&t.postMessage(s.srcDoc)},[t,s.srcDoc]),c.jsx("iframe",{className:s.className,src:"/sandbox",ref:n})});function f(){const[r,s]=e.useState(""),n=e.useCallback(t=>{s(t.data)},[s]);return e.useEffect(()=>{globalThis?.window?.parent==globalThis?.window&&(location.href="/")},[]),e.useEffect(()=>{const t=new MessageChannel;return window.parent.postMessage(i,"https://chatgpt.com",[t.port2]),t.port1.onmessage=n,()=>void(t.port1.onmessage=null)},[n]),c.jsx("iframe",{srcDoc:r,sandbox:"allow-scripts",style:{position:"fixed",top:0,left:0,width:"100vh",height:"100vw",border:0}})}export{f as default};
//# sourceMappingURL=kzj16n071he6mxq1.js.map
