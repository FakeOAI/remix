import{aC as C,aA as L,aH as P,ab as d,r,P as u,d as g,l as n,$ as l,bg as S,a0 as j,aN as v,ek as y,bE as G,ae as B,X as U}from"./j51q469vqqyswwq0.js";import{cL as b,a8 as f,cM as I,av as K}from"./obfv3y06hphbdxag.js";import{L as D}from"./d8jxcgzgxqig2mkw.js";import{b as V}from"./eq1a948h5ja80igb.js";function R(){return L("437245079").value}function X(){const e=R(),o=V(),i=C("1908072088").config.value,{eligible:a,isLoading:t}=b(f.AG8PqS2q);return{eligible:a&&e&&o&&i.blocking_modal===!0,singleButtonVariant:i.single_button_variant===!0,isLoading:t}}const A=f.UseSidekick,q=f.SidekickLauncherOnboarding,w="https://persistent.oaistatic.com/sidekick/public/ChatGPT_Desktop_public_latest.dmg",E="download";function M(){const e=v(),o=y("1696863369").layer.get("has_sidekick_access",!1);return e!=null&&o}function F(e){return e===E}function H(){const e=G(),{hash:o}=B(),i=F(o.slice(1));return{openModal:()=>{e({hash:E})},closeModal:()=>{e({hash:""})},isOpen:i}}function ne(e){const{eligible:o,isLoading:i}=X(),a=M(),{eligible:t,isLoading:c}=b(A),{eligible:k,isLoading:m}=b(q),h=o||!t||!k||!a||e.conversationMode?.kind!==P.PrimaryAssistant,p=i||m||c;return{eligible:!h&&d.getLayerValue({layerName:"1696863369",key:"show_nux_banner",defaultValue:!1}),isLoading:p}}function oe({onClose:e}){r.useEffect(()=>{u.logEvent(g.sidekickAnnouncementShown),d.logEvent("chatgpt_sidekick_announcement_shown")},[]);const{markAsViewed:o}=b(A),i=r.useCallback(()=>{o(),u.logEvent(g.sidekickAnnouncementDismissed),d.logEvent("chatgpt_sidekick_announcement_closed"),e&&e()},[o,e]),a=r.useCallback(()=>{u.logEvent(g.sidekickAnnouncementLinkClicked),d.logEvent("chatgpt_sidekick_announcement_download_clicked"),o(),e&&e()},[o,e]),t={downloadUrl:w,markAsDownloaded:a,markAsViewed:i,isSidekickAvailable:M()};return n.jsx(Q,{...t})}function W(){window.open(w,"_blank")}function Y(){return v()?.isPlus()?s.bannerTitleMentioningPlus:s.bannerTitleNotMentioningPlus}function ie(){const{closeModal:e,isOpen:o}=H(),i=M(),a=r.useMemo(()=>({isDesktopAppAvailable:i}),[i]),t=()=>{u.logEvent(g.sidekickDownloadModalClosed,a),d.logEvent("chatgpt_sidekick_modal_closed"),e()},c=()=>{u.logEvent(g.sidekickDownloadModalDownloaded,a),d.logEvent("chatgpt_sidekick_modal_download_clicked"),e()};return r.useEffect(()=>{o&&(u.logEvent(g.sidekickDownloadModalShown,{...a}),d.logEvent("chatgpt_sidekick_modal_shown"))},[a,o]),o?n.jsx(z,{downloadUrl:w,markAsDownloaded:c,markAsViewed:t,isSidekickAvailable:i}):null}function z({downloadUrl:e,markAsDownloaded:o,markAsViewed:i,isSidekickAvailable:a}){const t=a?s.modalTitleEligible:s.modalTitleNotEligible,c=n.jsx(l,{...t}),k=n.jsx(l,{...s.modalContent}),m=a?s.disclaimer:s.comingSoonDisclaimer,h=n.jsx(l,{...m,values:{learnMoreLink:N=>n.jsx(D,{openNewTab:!0,href:"https://help.openai.com/en/articles/9275200",children:N})}}),p=n.jsxs("div",{children:[n.jsx("div",{children:k}),n.jsx("div",{className:"mt-2",children:h})]}),x=n.jsx(S,{as:"link",to:e,color:"primary",onClick:o,openNewTab:!0,children:n.jsx(l,{...s.download})}),_=n.jsx(S,{color:"secondary",onClick:i,children:n.jsx(l,{...s.close})}),T=a?x:_,O=a?_:void 0;return n.jsx(I,{onClose:i,title:c,description:p,actionButton:T,cancelButton:O})}function Q({markAsDownloaded:e,markAsViewed:o}){const i=U(),a=r.useCallback(()=>{W(),e()},[e]),t=n.jsx(l,{...Y()}),c=n.jsx(l,{...s.bannerContent}),k=n.jsx(l,{...s.disclaimer,values:{learnMoreLink:h=>n.jsx(D,{openNewTab:!0,href:"https://help.openai.com/en/articles/9275200",children:h},"link")}}),m=n.jsxs("div",{className:"flex-grow",children:[n.jsx("div",{className:"mb-0.5 font-semibold",children:t}),n.jsxs("span",{className:"text-token-text-secondary",children:[c," ",k]})]});return n.jsx(K,{onPrimaryCtaClick:a,primaryCtaText:i.formatMessage(s.download),onDismiss:o,content:m})}const s=j({bannerTitleNotMentioningPlus:{id:"SidekickOnboarding.bannerTitleEnterprisey_2",defaultMessage:"ChatGPT is available for macOS 14+ with Apple Silicon"},bannerTitleMentioningPlus:{id:"SidekickOnboarding.bannerTitleMentioningPlus",defaultMessage:"ChatGPT is now available for macOSâ€”Plus users get early access"},modalTitleEligible:{id:"SidekickOnboarding.modalTitleEligible",defaultMessage:"The ChatGPT app is now available for macOS"},modalTitleNotEligible:{id:"SidekickOnboarding.modalTitleNotEligible",defaultMessage:"The ChatGPT macOS desktop app is coming soon"},modalContent:{id:"SidekickOnboarding.modal_content_eligible",defaultMessage:"Quickly access ChatGPT from anywhere on your computer with a shortcut: Option + Space. Share screenshots, upload files and photos, have voice conversations, and search through past conversations."},bannerContent:{id:"SidekickOnboarding.banner_content_3",defaultMessage:"Get faster access to ChatGPT with the Option + Space shortcut and the floating companion window."},disclaimer:{id:"SidekickOnboarding.disclaimer_3",defaultMessage:"<learnMoreLink>Learn more</learnMoreLink>."},comingSoonDisclaimer:{id:"SidekickOnboarding.coming_soon_disclaimer",defaultMessage:"The app will be available over the next couple of weeks."},download:{id:"SidekickOnboarding.download",defaultMessage:"Download"},close:{id:"SidekickOnboarding.close",defaultMessage:"Close"}});export{ie as D,M as a,H as b,oe as c,ne as d,X as u};
//# sourceMappingURL=ckxksx1fpuuymnl0.js.map
