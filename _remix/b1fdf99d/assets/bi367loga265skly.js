import{gq as S,e3 as C,dn as v,ee as j,m as e,bo as T,aE as I,fy as x,a5 as b,a9 as y,f$ as E,gr as N,u as P,r as h,dr as f,at as z,bp as M,cy as w,cU as k}from"./nihb2uczil39dw86.js";import{C as H}from"./l3fwlrd9lxpfivxb.js";import{c4 as L,c5 as F,c6 as g,c7 as G,c8 as U,c9 as A,ca as p,cb as O,cc as Q,cd as q,ce as D,z as R,b as K,b8 as V,cf as W,cg as Z,ch as _,D as $,ci as B}from"./j1ja9es2uinbyngm.js";import{C as J}from"./dx6q6oryvvz8ohda.js";import{u as X,a as Y}from"./ilm8pde0t6wxr4lu.js";import ee from"./cvwxha0jauphq9np.js";import{u as ae,C as se,b as re,c as te}from"./de4vfk8ttsr9b9w1.js";import{C as ne}from"./n9u3z5yh5y0l456u.js";import"./e9u5x2gkw3h3yccf.js";import"./n50msgs5im1o6g4g.js";import"./mdvgeej9vvn8kxo9.js";import"./n1m8jcne0zx6li4r.js";import"./lja1hqvokmbijl4e.js";import"./coec1f7zdxr2rlh7.js";import"./cq2rkfy14xxr1qp7.js";import"./d77as9dlhv5j0p9a.js";import"./pfhtzqn1oaz2hk2x.js";import"./jhict4yzwesz29wm.js";function ie(){const{clientThreadId:a,currentModelId:s,conversationLeafId:o,onRequestCompletion:r}=X(),{showEmptyState:m}=ae({clientThreadId:a,currentLeafId:o}),u=L()[s],d=S(a),c=F(),l=C(),t=v()??"",n=g({gizmoId:t,draft:!1}),i=j();return e.jsx(T.Provider,{value:r,children:e.jsx(G,{children:e.jsxs(U,{clientThreadId:a,currentLeafId:o,children:[e.jsx(A,{children:d!=null&&e.jsx("title",{children:d})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(p,{id:"canvas-state",name:"canvas-state",checked:c}),e.jsx(p,{id:"thread-extended-info-sidebar-state",name:"thread-extended-info-sidebar-state",checked:l}),e.jsx(O,{anchor:"vertical",className:I(x.screen,m&&x.screenEmptyState),name:"thread",leading:i?e.jsx(se,{}):e.jsx(re,{clientThreadId:a}),trackLeading:!0,children:n.data&&e.jsx("div",{className:"flex h-full w-full",children:e.jsx("div",{className:"max-h-[100cqh] flex-grow overflow-y-auto",children:e.jsx("div",{className:"mx-auto max-w-screen-md",children:e.jsx(Q,{clientThreadId:a,currentModelConfig:u,children:e.jsx(te,{})})})})})}),e.jsx(ne,{}),e.jsx(q,{})]})]})})})}function oe(){const a=B(s=>s.sharingModalThreadId);return a?e.jsx(ee,{serverThreadId:a}):null}function Ee(){const a=b(),s=y(),{gizmoSlug:o}=E(),r=N(o??""),m=g({gizmoId:r,draft:!1}),{isPending:u}=D(r),d=j(),{isLoading:c}=P("491279851"),l=R();h.useEffect(()=>{!c&&!l&&s("/")},[c,l,s]),h.useEffect(()=>{a!=null&&a.isFree()&&s("/")},[a,s]);const[t,n]=h.useState(()=>f());K(t,{kind:z.GizmoInteraction,gizmo_id:r}),h.useEffect(()=>{n(f())},[r]);let i=e.jsx("div",{className:"flex h-full w-full",children:e.jsx("div",{className:"m-auto",children:e.jsxs("div",{className:"flex justify-center",children:[e.jsx("span",{className:"sr-only","aria-busy":!0,role:"status","aria-live":"polite",children:e.jsx(M,{...V.loadingProjects})}),e.jsx(w,{className:"h-10 w-10 text-token-text-secondary"})]})})});return m.data&&!u&&(i=e.jsx(ie,{})),e.jsx(W,{children:e.jsx(Y,{clientThreadId:t,setClientThreadId:n,children:d?e.jsx(Z,{children:e.jsx(_,{className:k.application,sidebar:e.jsx(J,{}),thread:i,debugger:e.jsx($,{clientThreadId:t})})}):e.jsxs(e.Fragment,{children:[e.jsx(H,{clientThreadId:t,setClientThreadId:n,threadContent:i}),e.jsx(oe,{})]})})})}export{Ee as default};
//# sourceMappingURL=bi367loga265skly.js.map
