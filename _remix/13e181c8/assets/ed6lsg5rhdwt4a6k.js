import{ec as m,ed as it,ee as fe,ef as M,eg as ut,eh as dt,ei as p,ej as c,ek as i,el as me,em as ve,en as ft,eo as mt,ep as vt,eq as ht,er as gt,es as pt,et as bt,eu as St,ev as Tt,ew as wt,ex as Ve,ey as Ct,ez as Et,eA as Ue,eB as yt,eC as It,eD as Fe,eE as Ht,eF as xt,eG as _t,eH as kt,eI as Nt,eJ as Ot}from"./hq7ysfundi85z1is.js";import{r as s,a2 as w,a1 as Pt,l as L,m as he,c as Rt,P as Q,a as Z}from"./d2qv8s87ysb5f68b.js";import{m as Ye}from"./jc8x6oz4qxa0il5z.js";import{H as A}from"./m7osvilbcgxty2nd.js";function We(r,e){var u=It(r);if(Fe){var v=Fe(r);e&&(v=Ht(v).call(v,function(g){return Ue(r,g).enumerable})),u.push.apply(u,v)}return u}function Xe(r){for(var e=1;e<arguments.length;e++){var u=arguments[e]!=null?arguments[e]:{};if(e%2){var v;ve(v=We(Object(u),!0)).call(v,function(h){wt(r,h,u[h])})}else if(Ve)Ct(r,Ve(u));else{var g;ve(g=We(Object(u))).call(g,function(h){Et(r,h,Ue(u,h))})}}return r}var Bt=function(){return 1/0},ze=17,Mt="bottom",y="top",Ke=1,Lt=34,Ge={};function jt(r,e){return r(),yt(r,e)}function Je(r){var e=r.mode,u=r.target,v=u.offsetHeight,g=u.scrollHeight,h=u.scrollTop,b=g-h-v<Ke,o=h<Ke,S=e===y?o:b,C=e!==y?o:b;return{atBottom:b,atEnd:S,atStart:C,atTop:o}}function z(r,e){return r===(e===y?0:"100%")}var ge=function(e){var u=e.checkInterval,v=e.children,g=e.debounce,h=e.debug,b=e.initialScrollBehavior,o=e.mode,S=e.nonce,C=e.scroller,l=s.useMemo(function(){return it("<ScrollToBottom>",{force:h})},[h]);o=o===y?y:Mt;var j=s.useRef(0),K=s.useRef(b),Qe=fe(o===y?0:"100%"),te=M(Qe,3),O=te[0],G=te[1],$=te[2],Ze=fe(null),re=M(Ze,3),T=re[0],be=re[1],I=re[2],oe=s.useRef(0),ae=s.useRef(0),J=s.useRef(0),Ae=s.useState(!0),Se=M(Ae,2),Te=Se[0],we=Se[1],et=s.useState(!0),Ce=M(et,2),Ee=Ce[0],ye=Ce[1],tt=s.useState(!0),Ie=M(tt,2),He=Ie[0],xe=Ie[1],rt=s.useState(!1),_e=M(rt,2),ke=_e[0],Ne=_e[1],ot=fe(!0),ne=M(ot,3),le=ne[0],x=ne[1],_=ne[2],X=s.useRef([]),Oe=s.useCallback(function(t){var n=I.current;return X.current.push(t),n&&t({scrollTop:n.scrollTop}),function(){var a=X.current,d=ut(a).call(a,t);~d&&dt(a).call(a,d,1)}},[X,I]),se=s.useCallback(function(){var t=$.current;l(function(){var n;return p(n=["%cSpineTo%c: %conEnd%c is fired."]).call(n,c(i("magenta")),c(i("orange")),[{animateTo:t}])}),j.current=me(),z(t,o)||x(!1),G(null)},[$,l,j,o,G,x]),k=s.useCallback(function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.behavior,d=I.current;if(typeof t!="number"&&t!=="100%")return console.warn('react-scroll-to-bottom: Arguments passed to scrollTo() must be either number or "100%".');l(function(){var f;return[p(f=["%cscrollTo%c: Will scroll to %c".concat(typeof t=="number"?t+"px":t.replace(/%/g,"%%"),"%c")]).call(f,c(i("lime","")),c(i("purple"))),{behavior:a,nextAnimateTo:t,target:d}]}),a==="auto"?(se(),d&&(d.scrollTop=t==="100%"?d.scrollHeight-d.offsetHeight:t)):(a!=="smooth"&&console.warn('react-scroll-to-bottom: Please set "behavior" when calling "scrollTo". In future versions, the default behavior will be changed from smooth scrolling to discrete scrolling to align with HTML Standard.'),G(t)),z(t,o)&&(l(function(){var f;return[p(f=["%cscrollTo%c: Scrolling to end, will set sticky to %ctrue%c."]).call(f,c(i("lime","")),c(i("purple"))),[{mode:o,nextAnimateTo:t}]]}),x(!0))},[l,se,o,G,x,I]),D=s.useCallback(function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.behavior;l(function(){var a;return p(a=["%cscrollToBottom%c: Called"]).call(a,c(i("yellow","")))}),n!=="smooth"&&console.warn('react-scroll-to-bottom: Please set "behavior" when calling "scrollToBottom". In future versions, the default behavior will be changed from smooth scrolling to discrete scrolling to align with HTML Standard.'),k("100%",{behavior:n||"smooth"})},[l,k]),V=s.useCallback(function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.behavior;l(function(){var a;return p(a=["%cscrollToTop%c: Called"]).call(a,c(i("yellow","")))}),n!=="smooth"&&console.warn('react-scroll-to-bottom: Please set "behavior" when calling "scrollToTop". In future versions, the default behavior will be changed from smooth scrolling to discrete scrolling to align with HTML Standard.'),k(0,{behavior:n||"smooth"})},[l,k]),Pe=s.useCallback(function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.behavior;l(function(){var d;return p(d=["%cscrollToEnd%c: Called"]).call(d,c(i("yellow","")))}),n!=="smooth"&&console.warn('react-scroll-to-bottom: Please set "behavior" when calling "scrollToEnd". In future versions, the default behavior will be changed from smooth scrolling to discrete scrolling to align with HTML Standard.');var a={behavior:n||"smooth"};o===y?V(a):D(a)},[l,o,D,V]),Re=s.useCallback(function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.behavior;l(function(){var d;return p(d=["%cscrollToStart%c: Called"]).call(d,c(i("yellow","")))}),n!=="smooth"&&console.warn('react-scroll-to-bottom: Please set "behavior" when calling "scrollToStart". In future versions, the default behavior will be changed from smooth scrolling to discrete scrolling to align with HTML Standard.');var a={behavior:n||"smooth"};o===y?D(a):V(a)},[l,o,D,V]),U=s.useCallback(function(){var t=I.current;if(t){if(K.current==="auto"){l(function(){var R;return p(R=["%ctarget changed%c: Initial scroll"]).call(R,c(i("blue")))}),t.scrollTop=o===y?0:t.scrollHeight-t.offsetHeight,K.current=!1;return}var n=oe.current,a=t.offsetHeight,d=t.scrollHeight,f=t.scrollTop,H=o===y?0:Math.max(0,d-a-f),P=Math.max(0,n-f),Y=C({maxValue:H,minValue:P,offsetHeight:a,scrollHeight:d,scrollTop:f}),N=Math.max(0,Math.min(H,Y)),E;o===y||N!==H?E=f+N:E="100%",l(function(){var R,F,W;return[p(R=[p(F=p(W="%cscrollToSticky%c: Will animate from %c".concat(n,"px%c to %c")).call(W,typeof E=="number"?E+"px":E.replace(/%/g,"%%"),"%c (%c")).call(F,(E==="100%"?H:E)+n,"px%c)")]).call(R,c(i("orange")),c(i("purple")),c(i("purple")),c(i("purple"))),{animateFrom:n,maxValue:H,minValue:P,nextAnimateTo:E,nextValue:N,offsetHeight:a,rawNextValue:Y,scrollHeight:d,scrollTop:f}]}),k(E,{behavior:"smooth"})}},[oe,l,o,C,k,I]),at=s.useCallback(function(t){var n,a=t.timeStampLow,d=$.current,f=I.current,H=d!==null;if(!(a<=j.current||!f)){var P=Je({mode:o,target:f}),Y=P.atBottom,N=P.atEnd,E=P.atStart,R=P.atTop;we(Y),ye(N),Ne(E),xe(R);var F=f.offsetHeight,W=f.scrollHeight,Me=ae.current,Le=J.current,ue=F!==Me,de=W!==Le;if(ue&&(ae.current=F),de&&(J.current=W),!ue&&!de){var q=H&&z(d,o)||N;_.current!==q&&(l(function(){var B,je,$e,De;return[p(B=["%conScroll%c: %csetSticky%c(%c".concat(q,"%c)")]).call(B,c(i("red")),c(i("red")),c(i("purple"))),p(je=[p($e=p(De="(animating = %c".concat(H,"%c && isEnd = %c")).call(De,z(d,o),"%c) || atEnd = %c")).call($e,N,"%c")]).call(je,c(i("purple")),c(i("purple")),c(i("purple")),[{animating:H,animateTo:d,atEnd:N,mode:o,offsetHeight:f.offsetHeight,scrollHeight:f.scrollHeight,sticky:_.current,nextSticky:q}])]}),x(q))}else _.current&&(l(function(){var B;return[p(B=["%conScroll%c: Size changed while sticky, calling %cscrollToSticky()%c"]).call(B,c(i("red")),c(i("orange")),[{offsetHeightChanged:ue,scrollHeightChanged:de}]),{nextOffsetHeight:F,prevOffsetHeight:Me,nextScrollHeight:W,prevScrollHeight:Le}]}),U());var ct=f.scrollTop;ve(n=X.current).call(n,function(B){return B({scrollTop:ct})})}},[$,l,j,o,ae,J,X,U,we,ye,Ne,xe,x,_,I]);s.useEffect(function(){if(T){var t=!1,n=jt(function(){var a=I.current,d=$.current!==null;_.current?Je({mode:o,target:a}).atEnd?t=!1:t?me()-t>Lt&&(d||(oe.current=a.scrollTop,l(function(){var f;return p(f=["%cInterval check%c: Should sticky but not at end, calling %cscrollToSticky()%c to scroll"]).call(f,c(i("navy")),c(i("orange")))}),U()),t=!1):t=me():a.scrollHeight<=a.offsetHeight&&!_.current&&(l(function(){var f;return[p(f=["%cInterval check%c: Container is emptied, setting sticky back to %ctrue%c"]).call(f,c(i("navy")),c(i("purple"))),[{offsetHeight:a.offsetHeight,scrollHeight:a.scrollHeight,sticky:_.current}]]}),x(!0))},Math.max(ze,u)||ze);return function(){return clearInterval(n)}}},[$,u,l,o,U,x,_,T,I]);var Be=s.useMemo(function(){var t=Ge[S]||(Ge[S]=ft({key:"react-scroll-to-bottom--css-"+mt(),nonce:S}));return function(n){return t.css(n)+""}},[S]),nt=s.useMemo(function(){return{observeScrollPosition:Oe,setTarget:be,styleToClassName:Be}},[Oe,be,Be]),ce=s.useMemo(function(){return{atBottom:Te,atEnd:Ee,atStart:ke,atTop:He,mode:o}},[Te,Ee,ke,He,o]),ie=s.useMemo(function(){var t=O!==null;return{animating:t,animatingToEnd:t&&z(O,o),sticky:le}},[O,o,le]),lt=s.useMemo(function(){return Xe(Xe({},ce),ie)},[ce,ie]),st=s.useMemo(function(){return{scrollTo:k,scrollToBottom:D,scrollToEnd:Pe,scrollToStart:Re,scrollToTop:V}},[k,D,Pe,Re,V]);return s.useEffect(function(){if(T){var t=function(){J.current=T.scrollHeight};return T.addEventListener("focus",t,{capture:!0,passive:!0}),function(){return T.removeEventListener("focus",t)}}},[T]),l(function(){var t;return[p(t=["%cRender%c: Render"]).call(t,c(i("cyan",""))),{animateTo:O,animating:O!==null,sticky:le,target:T}]}),w.createElement(vt.Provider,{value:nt},w.createElement(ht.Provider,{value:st},w.createElement(gt.Provider,{value:lt},w.createElement(pt.Provider,{value:ce},w.createElement(bt.Provider,{value:ie},v,T&&w.createElement(St,{debounce:g,name:"scroll",onEvent:at,target:T}),T&&O!==null&&w.createElement(Tt,{name:"scrollTop",onEnd:se,target:T,value:O}))))))};ge.defaultProps={checkInterval:100,children:void 0,debounce:17,debug:void 0,initialScrollBehavior:"smooth",mode:void 0,nonce:void 0,scroller:Bt};ge.propTypes={checkInterval:m.number,children:m.any,debounce:m.number,debug:m.bool,initialScrollBehavior:m.oneOf(["auto","smooth"]),mode:m.oneOf(["bottom","top"]),nonce:m.string,scroller:m.func};var $t={position:"relative"},pe=function(e){var u=e.children,v=e.className,g=e.followButtonClassName,h=e.scrollViewClassName,b=xt()($t);return w.createElement("div",{className:_t(b,(v||"")+"")},w.createElement(kt,{className:(h||"")+""},u),w.createElement(Nt,{className:(g||"")+""}))};pe.defaultProps={children:void 0,className:void 0,followButtonClassName:void 0,scrollViewClassName:void 0};pe.propTypes={children:m.any,className:m.string,followButtonClassName:m.string,scrollViewClassName:m.string};var qe=function(e){var u=e.checkInterval,v=e.children,g=e.className,h=e.debounce,b=e.debug,o=e.followButtonClassName,S=e.initialScrollBehavior,C=e.mode,l=e.nonce,j=e.scroller,K=e.scrollViewClassName;return w.createElement(ge,{checkInterval:u,debounce:h,debug:b,initialScrollBehavior:S,mode:C,nonce:l,scroller:j},w.createElement(pe,{className:g,followButtonClassName:o,scrollViewClassName:K},v))};qe.defaultProps={checkInterval:void 0,children:void 0,className:void 0,debounce:void 0,debug:void 0,followButtonClassName:void 0,initialScrollBehavior:"smooth",mode:void 0,nonce:void 0,scroller:void 0,scrollViewClassName:void 0};qe.propTypes={checkInterval:m.number,children:m.any,className:m.string,debounce:m.number,debug:m.bool,followButtonClassName:m.string,initialScrollBehavior:m.oneOf(["auto","smooth"]),mode:m.oneOf(["bottom","top"]),nonce:m.string,scroller:m.func,scrollViewClassName:m.string};Ot();function Ut({lines:r=1,variance:e=0,size:u="base",width:v=50,widthVariance:g=50,className:h}){const[b]=s.useState(Array.from({length:r+Math.random()*(e??0)},()=>v+Math.random()*g));let o="";switch(u){case"sm":o="h-3 mb-2 mt-0.5";break;case"base":o="h-4 my-2";break;case"lg":o="h-5 my-2";break}return L.jsx(L.Fragment,{children:b.map((S,C)=>L.jsx("div",{className:he("relative w-full overflow-hidden rounded-md bg-token-sidebar-surface-secondary",o,h),style:{width:`${S}%`},children:L.jsx(Ye.div,{className:"absolute left-0 top-0 h-full w-full rotate-45 bg-gradient-to-r from-transparent via-black/20 to-transparent opacity-50 dark:via-white/5",animate:{x:["-100%","100%"],opacity:[1,0,1],transition:{repeat:1/0,repeatType:"loop",duration:1.5+C}}})},C))})}function Yt({lines:r=1,indexOffset:e=0,variance:u=0,width:v=50,widthVariance:g=50,gapFrequency:h=0,scaleUpAnimation:b,className:o}){const S=s.useMemo(()=>Array.from({length:r+Math.random()*(u??0)},()=>v+Math.random()*g),[r,u,v,g]);return L.jsx(Dt,{className:o,children:S.map((C,l)=>L.jsx(Vt,{index:l+e,width:C,className:he(h>0&&(l+1)%h===0&&"mb-snc-1"),customAnimation:b?{initial:{scaleX:b.initialScaleX},animate:{scaleX:1},transition:{scaleX:{duration:b.duration,ease:"easeInOut",delay:l*.07}}}:void 0},l))})}const Dt=Pt.div`flex flex-col items-start gap-2`;function Vt({index:r,width:e,className:u,customAnimation:v}){const{initial:g,animate:h,transition:b}=v??{initial:{},animate:{},transition:{}};return L.jsx(Ye.div,{className:he("h-5 origin-left rounded-md bg-token-border-light dark:bg-white/10",u),style:{width:`${e}%`},initial:{opacity:1,...g},animate:{opacity:[1,.4],...h},transition:{opacity:{repeat:1/0,repeatType:"reverse",duration:.85,ease:"easeInOut",delay:r*.07},...b}})}var Ft=(r=>(r.Sources="sources",r.Images="images",r))(Ft||{});const ee=Rt(()=>({isOpen:!1,selectedTab:"sources",turnIndex:0,messageId:""}));function qt(){return ee(r=>({tab:r.selectedTab,turnIndex:r.turnIndex,messageId:r.messageId}))}function Qt(){return ee(r=>r.isOpen)}const Zt={open:(r,e)=>{Wt(r,e),ee.setState({selectedTab:r,turnIndex:e.turnIndex,messageId:e.messageId,isOpen:!0})},close(r,e){Xt(r,e),ee.setState({isOpen:!1})}};function Wt(r,e){r==="sources"?Q.logEvent(Z.searchLinkSidebarShown,A(e)):r==="images"&&Q.logEvent(Z.searchImagesSidebarShown,A(e))}function Xt(r,e){r==="sources"?Q.logEvent(Z.searchLinkSidebarClosed,A(e)):r==="images"&&Q.logEvent(Z.searchImagesSidebarClosed,A(e))}export{qe as B,Ut as P,Ft as S,Zt as a,Qt as b,Yt as c,Vt as d,qt as u};
//# sourceMappingURL=ed6lsg5rhdwt4a6k.js.map
