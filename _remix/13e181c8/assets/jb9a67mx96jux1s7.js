const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/nh6q25puli6182t1.js","assets/d2qv8s87ysb5f68b.js","assets/ljnrwgh8vy488xdo.js","assets/root-jzy5dbg3.css","assets/hq7ysfundi85z1is.js","assets/conversation-small-ao874ap7.css","assets/nmgk3kiytj9aidtx.js","assets/m7osvilbcgxty2nd.js","assets/7otbpc6iiji8djks.js","assets/jc8x6oz4qxa0il5z.js","assets/k5scw4601lorcqmc.js","assets/bsnlgavyim4g71tk.js","assets/3hy6176fxzvb82av.js","assets/chxujlnvcdjnmxgd.js","assets/h4n6qqydktsrjx5u.js","assets/efk730u3l94gsf4g.js","assets/ed6lsg5rhdwt4a6k.js","assets/opg6ep08epxj6l16.js","assets/jvea3upcm1fi9rff.js","assets/f2wci3e5g4q291dk.js","assets/jnjpe1sziatqh1cg.js","assets/jouuhcz5qcgq8cq8.js","assets/olcraceh9vbly07c.js","assets/pa6nc4whrqx7mh3o.js","assets/nxsm910rze9l5zd7.js","assets/cbeavli64jv5knzj.js","assets/dh8cjzw0w12kbvac.js","assets/n9pok332lyomyi1d.js","assets/ndncnfs49812oyi8.js","assets/c6f0iamr552gt4hy.js","assets/en2euihxwbaxj1cj.js","assets/of5acvbxpw461066.js","assets/ig32dccjxorz3eb6.js","assets/jxzhlfbn4aouq8hw.js","assets/ll7t24an14t868ei.js","assets/n0987a4tzt9qt24i.js","assets/k59821nizpj4zkp2.js","assets/ndh0f0lzroymokao.js","assets/fiy8l2966oe00a1h.js","assets/hyonmf2cmhjgzzz1.js","assets/f8ze6xyj15njdrmf.js","assets/erlue4ji1z7boi3u.js","assets/eyk0tps91sperweg.js","assets/l8re8vpxsj5gc916.js","assets/nnr2albz2dmf1j6t.js","assets/ou206tahyya5vd6g.js","assets/f1vdazgcnf5iq25u.js","assets/frkwctafetgxoy38.js","assets/buvf69gxb6j0hnwj.js","assets/nyc8vdr0n2pp1wns.js","assets/b3o5uwuhcga0w25f.js","assets/ocixfdfl2ra76pn1.js","assets/kqwdyvkaaavvn8k3.js","assets/bgubqlcwhx7vvg8o.js","assets/bjh9joiqda6bzvv5.js"])))=>i.map(i=>d[i]);
import{a1 as Oe,V as B,aK as he,aJ as Le,r as l,l as s,Z as E,D as ge,be as se,a0 as I,aD as M,aE as b,aN as De,b_ as Be,bY as Re,bW as Fe,bg as We,aA as Ve,W as me,X as Ie,u as pe,ao as ae,aH as oe,bp as He,fb as Ge,f0 as qe,m as v,fi as k,eZ as te,fj as ze,fk as Ke,cp as Ue,a8 as $e,di as ne,d0 as Qe,d1 as Ye,d2 as Xe,c6 as Ze,b1 as Je,h as es,j as ss}from"./d2qv8s87ysb5f68b.js";import{u as as,f as H,T as xe}from"./opg6ep08epxj6l16.js";import{aO as os,gQ as ts,gR as Ce,gS as ns,ak as rs,gT as is,gU as cs,gV as ls,gW as ds,gX as us,bM as O,gY as fs,gZ as hs,g_ as gs,g$ as ms,h0 as ps,h1 as xs,h2 as Cs,h3 as Ms,h4 as bs,h5 as Ss,h6 as js,h7 as vs,h8 as ks,h9 as As,ha as ys,hb as ws,hc as _s,hd as Ps,he as Ts,D as G,aE as _,a1 as L,ce as q,hf as Ns,hg as Es,dt as re,cs as Os,hh as Me,hi as be,hj as Se,K as Ls,hk as Ds,gG as ie,fu as Bs,c3 as W,c4 as ce,hl as Rs,hm as Fs,hn as Ws,e_ as Vs,ho as Is,hp as Hs,cO as Gs,aA as qs,dz as zs,hq as Ks,eQ as Us,eR as le,hr as $s,q as Qs,ch as Ys,hs as Xs,ht as Zs,ci as Js,hu as ea,hv as sa,hw as aa,hx as oa,hy as ta}from"./hq7ysfundi85z1is.js";import{T as D,g as V,e as na,F as je,m as ve,H as ra,i as ia}from"./7otbpc6iiji8djks.js";import{a as ca}from"./k5scw4601lorcqmc.js";import{L as la}from"./bsnlgavyim4g71tk.js";import{S as de,b as da,c as ua,N as fa}from"./ig32dccjxorz3eb6.js";import{a as ke,b as ha,g as ga}from"./ll7t24an14t868ei.js";import{S as ma,C as pa,F as xa,a as Ca}from"./n0987a4tzt9qt24i.js";import{T as Ae,b as Ma,c as ye,C as ba,d as Sa,e as ja,f as va}from"./fiy8l2966oe00a1h.js";import{u as ka,n as Aa,g as ya,q as wa}from"./efk730u3l94gsf4g.js";import{I as _a,J as we,a as _e,K as Pa}from"./m7osvilbcgxty2nd.js";import{m as ue}from"./jc8x6oz4qxa0il5z.js";import{bi as Ta}from"./ljnrwgh8vy488xdo.js";import{b as Na}from"./ed6lsg5rhdwt4a6k.js";function Ea({onClose:e}){const a=B(),o=he(),{openSettings:r}=os(),n=ts(),{session:t}=Le(),{data:{isStorageComplianceEnabled:d}={}}=Ce(),{data:c,isLoading:u}=ns({enabled:!!(d&&t),select:i=>!i.cookie_consent.is_required});return l.useEffect(()=>{c===!0&&e()},[c,e]),u?null:s.jsx(Oa,{onReject:()=>{n.mutateAsync({analytics_cookies_accepted:!1},{onSuccess(){o.success(a.formatMessage(A.updateSuccess))},onError(){o.danger(a.formatMessage(A.updateFailure))}}),e()},onAccept:()=>{n.mutateAsync({analytics_cookies_accepted:!0},{onSuccess(){o.success(a.formatMessage(A.updateSuccess))},onError(){o.danger(a.formatMessage(A.updateFailure))}}),e()},children:s.jsx(E,{id:"CookieConsentBanner.authedDescription.0",defaultMessage:"We use cookies and similar technologies to deliver, maintain, improve our services and for security purposes. Check our <cookiePolicy>cookie policy</cookiePolicy> for details. Click 'Accept all' to let OpenAI and partners use cookies for these purposes. Click 'Reject all' to say no to cookies, except those that are strictly necessary. Choose <manageLink>manage cookies</manageLink> to change your preferences.",values:{cookiePolicy:i=>s.jsx(la,{href:"https://openai.com/policies/cookie-policy",openNewTab:!0,children:i}),manageLink:i=>s.jsx(La,{onClick:()=>{r(rs.DataControls)},children:i})}})})}function Oa({children:e,onAccept:a,onReject:o}){return l.useEffect(()=>{ge.addAction("privacy_policy.show_cookie_consent_banner")},[]),s.jsxs(is,{children:[s.jsxs(cs,{className:"text-sm font-semibold [grid-area:_title]",children:[e,s.jsxs("div",{className:"mt-2 flex justify-end gap-3",children:[s.jsx(se,{color:"secondary",size:"small",onClick:o,children:s.jsx(E,{...A.reject})}),s.jsx(se,{color:"secondary",size:"small",onClick:a,children:s.jsx(E,{...A.accept})})]})]}),s.jsx(ls,{})]})}const La=Oe.button`underline font-normal text-green-600`,A=I({cookieConsentBannerTitle:{id:"CookieConsentBanner.title",defaultMessage:"We use cookies to provide, improve, and protect our services. Visit our <privacyPolicyLink>privacy policy</privacyPolicyLink> to learn more. You can manage your cookie preferences in your <settingsPanel>settings panel</settingsPanel>. <learnMoreLink>Learn more</learnMoreLink>."},reject:{id:"CookieConsentBanner.reject",defaultMessage:"Reject all"},accept:{id:"CookieConsentBanner.accept",defaultMessage:"Accept all"},updateSuccess:{id:"CookieConsentBanner.updateSuccess",defaultMessage:"Your cookie preferences were updated successfully"},updateFailure:{id:"CookieConsentBanner.updateFailure",defaultMessage:"Unable to update cookie preferences. Try again later."}}),Da=M(()=>b(async()=>{const{ModelOnboardingNUXModal:e}=await import("./nh6q25puli6182t1.js");return{ModelOnboardingNUXModal:e}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11])).then(({ModelOnboardingNUXModal:e})=>e),{ssr:!1}),Ba=({onClose:e})=>{const a=B(),o=O(q.isBusinessWorkspace),r=O(t=>t.currentWorkspace),n=o?a.formatMessage(fe.workspaceWelcome,{workspaceName:r?.name}):"ChatGPT";return s.jsx(me,{isOpen:!0,onClose:Ie,type:"success",title:n,size:"custom",noPadding:!0,className:"max-w-3xl",description:a.formatMessage(fe.personalOnboardingSubheading),children:s.jsx(Ns,{onClose:e,scope:Es.Personal})})};function Ra(){const[e,a]=l.useState(0),{hasSeenOnboardingDate:o}=ds(),{hasSeenTeamOwnerOnboardingDate:r}=us(),n=O(q.isBusinessWorkspace),t=De(),[d,c]=l.useState(!1),{data:u,isPending:i}=Ce(),f=fs(u,i),{eligible:x,isLoading:y}=ca(),P=Be(),S=Re(),T=Fe(),{data:g,isError:C}=We(),m=g!=null,w=g&&g?.accountItems.length>1&&g.currentAccountId==null,N=g?.accountItems.some(h=>h.isPersonalAccount()),p=!!g?.accountItems&&g.accountItems.length>0&&g.accountItems.every(({canAccessWithCurrentSession:h})=>!h),{eligible:z,isLoading:K}=hs(),{value:U}=Ve("1542198993"),{punchOutRequireLoginInfo:$}=gs(),{state:Q}=ms(),{isOpen:Y,isLoading:X}=ps(),{isOpen:Z,isLoading:J}=xs(),j=l.useMemo(()=>[{Component:Cs,getModalState:()=>$?"show":"hide",isDeferrable:!1},{Component:Ms,getModalState:()=>X?"loading":Y?"show":"hide",isDeferrable:!1},{Component:bs,getModalState:()=>J?"loading":Z?"show":"hide",isDeferrable:!1},{Component:Ss,getModalState:()=>Q,isDeferrable:!1},{Component:Ba,getModalState:()=>n?"hide":o===null?"loading":o===!1?"show":"hide",isDeferrable:!0},{Component:js,getModalState:()=>C?"hide":w?"show":m?"hide":"loading",isDeferrable:!1},{Component:vs,getModalState:()=>P!==null?"show":C||m?"hide":"loading",isDeferrable:!1},{Component:ks,getModalState:()=>S!==null?"show":C||m?"hide":"loading",isDeferrable:!1},{Component:As,getModalState:()=>T!=null?"show":C||m?"hide":"loading",isDeferrable:!1},{Component:ys,getModalState:()=>m?p?"show":"hide":"loading",isDeferrable:!1},{Component:Ea,getModalState:()=>"hide",isDeferrable:!1},{Component:ws,getModalState:()=>!t?.isTeam()||!t?.isOwnerOfAccount()||!N?"hide":!m||r===null?"loading":r===!1?"show":"hide",isDeferrable:!1},{Component:_s,getModalState:()=>n?o===null?"loading":o===!1?"show":"hide":"hide",isDeferrable:!0},{Component:Ps,getModalState:()=>K?"loading":z&&U?"show":"hide",isDeferrable:!1},{Component:Ts,getModalState:()=>f,isDeferrable:!1},{Component:Da,getModalState:()=>y?"loading":x?"show":"hide",isDeferrable:!0,expiresAt:new Date(2024,7,13)}].filter(h=>!(h.isDeferrable&&d)&&(!h.expiresAt||h.expiresAt.getTime()>Date.now())),[$,Q,T,m,o,r,N,y,n,C,P,S,t,p,w,f,x,d,U,z,K,Y,X,Z,J]);l.useEffect(()=>{if(j[e]&&j[e].getModalState()==="hide"){const h=j.findIndex(Ee=>Ee.getModalState()!=="hide");a(h)}},[e,j]);const R=j[e],F=R?.getModalState()==="show";if(l.useEffect(()=>{const h=G.getState().activeModals.has(_.BlockingInitialComponent);F!==h&&(F?L.openModal(_.BlockingInitialComponent):L.closeModal(_.BlockingInitialComponent))},[F]),R==null)return s.jsx("span",{"data-testid":"blocking-initial-modals-done",className:"hidden"});const ee=R.getModalState();if(ee==="loading")return null;ee==="hide"&&a(h=>h+1);const Ne=j[e].Component;return s.jsx(Ne,{onClose:()=>{c(!0),a(h=>h+1)}})}const fe=I({workspaceWelcome:{id:"BlockingInitialModals.workspaceWelcome",defaultMessage:"Welcome to the {workspaceName} workspace"},personalOnboardingSubheading:{id:"BlockingInitialModals.personalOnboardingSubheading",defaultMessage:"Tips for getting started"}});function Pe({clientThreadId:e}){l.useEffect(()=>{L.closeSharingModal()},[e]);const a=pe();l.useEffect(()=>(D.retainThread(e),()=>{setTimeout(()=>{a.invalidateQueries({queryKey:["conversation",e]})},0),D.releaseThread(e)}),[e,a]),l.useEffect(()=>()=>{ae.checkGate("3922476776")||re.abortAllRequests()},[e]);const o=l.useRef(e);l.useEffect(()=>{e!==o.current&&(ae.checkGate("3922476776")||re.clear(),o.current=e)},[e])}function Te({clientThreadId:e,setClientThreadId:a}){const o=pe(),r=Os(),n=r?{kind:oe.GizmoInteraction,gizmo_id:r}:{kind:oe.PrimaryAssistant};ka(e,n);const t=He(),d=_a(e),c=l.useRef(d);c.current=d;const u=l.useCallback(()=>{a(V());const x=c.current;t(x.tags.includes(Ge.GPT_4)?"/":`/?model=${x.id}`,{replace:!0})},[a,t]),i=as({clientThreadId:e,location:"Model switcher menu item"}),f=l.useCallback(x=>{Aa(t,o,x)},[o,t]);return{createNewThread:i,onThreadCreated:f,resetThread:u}}const Fa=M(()=>b(()=>import("./3hy6176fxzvb82av.js"),__vite__mapDeps([12,1,2,3,4,5,13,14,15,16,9,7,8,17,18,10,11,19,20,21,22,6,23,24,25,26,27,28])).then(e=>e.CanvasFocusedViewManager));function Wa({clientThreadId:e,setClientThreadId:a,urlThreadId:o,prefetchSearch:r}){const n=na();Pe({clientThreadId:e});const{createNewThread:t,onThreadCreated:d,resetThread:c}=Te({clientThreadId:e,setClientThreadId:a});ke({resetThreadAction:c,clientThreadId:e});const u=H(e);return s.jsxs(xe,{clientThreadId:e,children:[s.jsx(Me,{clientThreadId:e,urlThreadId:o}),s.jsxs(de,{hideNavigation:n,mobileHeaderContent:s.jsx(Ae,{clientThreadId:e,inMobileHeader:!0}),mobileHeaderBottomContent:s.jsx(Ma,{clientThreadId:e}),mobileHeaderLeftContent:s.jsx(da,{onNewChatButtonClick:c}),mobileHeaderRightContent:s.jsx(ua,{onNewChatButtonClick:c}),sidebar:s.jsx(fa,{navHeader:e?s.jsx(ma,{className:"flex h-[60px] items-center md:h-header-height",onNewThread:t}):null,children:s.jsx(pa,{clientThreadId:e,onNewThread:t})}),children:[s.jsx(be,{}),s.jsx(ye,{clientThreadId:e,onCreate:d,prefetchSearch:r},e),s.jsxs(de.Sidebars,{children:[u&&s.jsx(Fa,{clientThreadId:e}),s.jsx(Se,{clientThreadId:e})]})]})]})}const Va=450;function Ia({children:e,clientThreadId:a,isOpen:o,onClose:r}){return s.jsx(Ls,{children:o&&s.jsx(qe,{children:s.jsx(Ds.Provider,{value:{isEmbeddedInFocusedView:!0},children:s.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[s.jsx(ue.div,{className:"h-full w-full bg-token-main-surface-secondary",...ie}),s.jsxs("div",{className:"absolute inset-0 flex",children:[s.jsx("div",{className:"flex-grow overflow-auto",children:e}),s.jsx(ue.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:Va},...ie,children:s.jsx("div",{className:"h-[100vh] pb-4",children:s.jsx(ye,{clientThreadId:a,hideHeader:!0,hideFooter:!0,hideToolsOverlay:!0,messagesVerticalAlign:"bottom"},a)})})]})]})})})})}const Ha=M(()=>b(()=>import("./c6f0iamr552gt4hy.js"),__vite__mapDeps([29,1,2,3,4,5,15,16,9,7,8,17,18,10,11,19,20,21,22,6]))),Ga=M(()=>b(()=>import("./en2euihxwbaxj1cj.js"),__vite__mapDeps([30,1,2,3,4,5,31,15,16,9,7,8,17,18,10,11,19,20,21,22,6,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48])).then(e=>e.ImageEditor));function qa({clientThreadId:e}){const a=Bs();l.useEffect(()=>{W.close()},[e]);let o;return a?.type===ce.ADAVisualization?o=s.jsx(Ha,{clientThreadId:e,visualization:a.visualization}):a?.type===ce.Image&&(o=s.jsx(Ga,{clientThreadId:e,messageId:a.messageId,image:a.image,allImages:a.allImages},a.image.asset_pointer)),s.jsx(Ia,{clientThreadId:e,isOpen:a!=null,onClose:W.close,children:o})}const za=()=>{const e=B(),a=G(t=>t.activeModals.has(_.KeyboardActions)),o=()=>{L.closeModal(_.KeyboardActions)},r=ha(),n=l.useMemo(()=>{const t=Math.ceil(r.length/2);return[r.slice(0,t),r.slice(t)]},[r]);return s.jsx(me,{isOpen:a,onClose:o,type:"success",size:"custom",className:"md:max-w-[672px] lg:max-w-[796px] xl:max-w-4xl",showCloseButton:!0,title:e.formatMessage($a.keyboardActionsModalTitle),children:s.jsx(s.Fragment,{children:s.jsx("div",{className:"grid grid-flow-row grid-cols-[repeat(auto-fit,minmax(250px,1fr))] gap-x-9",children:n.map((t,d)=>s.jsx("div",{className:"flex flex-col overflow-hidden",children:t.map(c=>s.jsx(Ka,{action:c},c.key))},`col-${d}`))})})})},Ka=({action:e})=>s.jsxs("div",{className:"flex items-center justify-between overflow-hidden text-token-text-primary",children:[s.jsx("div",{className:"flex flex-shrink items-center overflow-hidden text-sm",children:s.jsx("div",{className:"truncate",children:s.jsx(E,{...e.actionMessageDescriptor})})}),s.jsx("div",{className:"ml-3 flex flex-row gap-2",children:ga(e.keyboardBinding).map((a,o)=>s.jsx(Ua,{keyName:a},`${e.key}-${o}`))})]}),Ua=({keyName:e})=>{const a=v("my-2 flex h-8 items-center justify-center rounded-md border border-token-border-light capitalize text-token-text-secondary");return e.length>1?e.length>3?s.jsx("div",{className:v(a,"min-w-[50px]"),children:s.jsx("span",{className:"text-xs",children:e})}):s.jsx("div",{className:v(a,"min-w-[32px]"),children:s.jsx("span",{className:"text-xs",children:e})}):s.jsx("div",{className:v(a,"min-w-[32px]"),children:s.jsx("span",{className:"text-sm",children:e})})},$a=I({keyboardActionsModalTitle:{id:"KeyboardActionsModal.keyboardActionsModalTitle",defaultMessage:"Keyboard shortcuts"}});function Qa({clientThreadId:e,currentModelId:a,conversationLeafId:o,onChangeItemInView:r,onChangeRating:n,onRequestMoreCompletions:t,onRequestCompletion:d}){const c=je(e,o);function u(i){return i===c-1}return s.jsx("ol",{children:Array.from({length:c}).map((i,f)=>s.jsx("li",{children:s.jsx(ba,{isFinalTurn:u(f),turnIndex:f,clientThreadId:e,conversationLeafId:o,onChangeItemInView:r,onChangeRating:n,onRequestMoreCompletions:t,onRequestCompletion:d,currentModelId:a,showAvatar:!1},f)},f))})}function Ya({clientThreadId:e,onRequestCompletion:a}){const o=we(),r=ya(e),n=ve(e),t=_e(e)??o.id,c=je(e,n)>=2,u=ra(e,n),i=ia(e)&&!c&&wa(r);return s.jsx("div",{className:k.footer,children:s.jsx(Rs,{children:s.jsx(Sa,{clientThreadId:e,currentModelId:t,isNewThread:i,noWrap:!0,onRequestCompletion:a,showPromptStarters:i||!u})})})}function Xa({clientThreadId:e}){const a=B();return s.jsxs(Fs,{leading:!0,type:"primary",className:k.header,children:[s.jsxs("div",{className:v(k.headerLeading,"ml-2"),children:[s.jsx(Ws,{className:v(te.headerAction,te.floatSidebarAction,k.openSidebar),htmlFor:xa,icon:s.jsx(Ta,{}),label:a.formatMessage({id:"fWaiMq",defaultMessage:"Open Sidebar"})}),s.jsx(Ae,{clientThreadId:e})]}),s.jsx("div",{className:k.headerTrailing,children:s.jsx(ja,{clientThreadId:e})})]})}function Za({clientThreadId:e,onThreadCreated:a,onCompletionFinished:o,preRequestCompletion:r}){const n=we(),t=_e(e)??n.id,d=ve(e),{onRequestCompletion:c,onChangeItemInView:u,onChangeRating:i,onRequestMoreCompletions:f}=va({clientThreadId:e,currentModelId:t,defaultModelId:n.id,onCompletionFinished:o,onThreadCreated:a,preRequestCompletion:r});return s.jsx(Pa,{clientThreadId:e,currentLeafId:d,children:s.jsx(ze.Provider,{value:c,children:s.jsx(Vs,{anchor:"top",className:k.screen,name:"thread",leading:s.jsx(Xa,{clientThreadId:e}),trackLeading:!0,trackTrailing:!0,trailing:s.jsx(Ya,{clientThreadId:e,onRequestCompletion:c}),children:s.jsx(Qa,{clientThreadId:e,conversationLeafId:d,currentModelId:t,onRequestCompletion:c,onChangeItemInView:u,onChangeRating:i,onRequestMoreCompletions:f})})})})}const Ja=M(()=>b(()=>import("./3hy6176fxzvb82av.js"),__vite__mapDeps([12,1,2,3,4,5,13,14,15,16,9,7,8,17,18,10,11,19,20,21,22,6,23,24,25,26,27,28])).then(e=>e.CanvasFocusedViewManager));function eo({clientThreadId:e,setClientThreadId:a,urlThreadId:o}){Pe({clientThreadId:e});const{createNewThread:r,onThreadCreated:n,resetThread:t}=Te({clientThreadId:e,setClientThreadId:a});ke({resetThreadAction:t,clientThreadId:e});const d=H(e);return s.jsxs(xe,{clientThreadId:e,children:[s.jsx(Me,{clientThreadId:e,urlThreadId:o}),s.jsx(be,{}),s.jsx(Is,{className:Ke.application,sidebar:s.jsx(Ca,{clientThreadId:e,onNewThread:r}),thread:s.jsx(Za,{clientThreadId:e,onThreadCreated:n}),details:d&&s.jsx(Ja,{clientThreadId:e}),debugger:s.jsx(Se,{clientThreadId:e})})]})}var so={};const ao=M(()=>b(()=>import("./nyc8vdr0n2pp1wns.js"),__vite__mapDeps([49,1,2,3,4,5,15,16,9,7,8,17,18,10,11,19,20,21,22,6,50]))),oo=M(()=>b(()=>import("./ocixfdfl2ra76pn1.js"),__vite__mapDeps([51,1,2,3,8,4,5,9,52,53,7,54,16])).then(e=>e.SearchResultsModal));function vo(e){const{urlThreadId:a,clientThreadId:o,prefetchSearch:r}=e,n="serviceStatus"in e?e.serviceStatus:null;ro();const t=Ue(),d=$e(),c=ne(),u=he(),[i,f]=l.useState(()=>a!==void 0?a:o!==void 0?o:V());a!==void 0&&i!==a&&D.getServerThreadId(i)!==a&&f(a);const x=Hs(ne());l.useEffect(()=>{a===void 0&&D.getServerThreadId(i)!==void 0&&f(V())},[a,i,x]);const y=Gs(),P=O(q.workspaceId),S=qs();H(i);const T=zs(),{eligible:g,isLoading:C,markAsViewed:m}=Ks();l.useEffect(()=>{(d.asPath==="/"||d.asPath.startsWith("/c/"))&&Us({namespace:le.ChatPageLoad})==null&&($s({namespace:le.ChatPageLoad,opts:{expectedTimingLogs:[{name:"render_model_switcher",expectedInMs:1e4},{name:"render_history_items",expectedInMs:25e3}]}}),ge.addTiming("chatgpt.web.chatPage.mounted"))},[]);const w=Qs();l.useEffect(()=>{Qe(!0).then(p=>{p.force_login&&w({authType:"login"}),Ye.initializeAndGatherData(p),Ys.initializeAndGatherData(p),Xe.initializeAndGatherData(p)})},[w]),l.useEffect(()=>{n?.type&&y===!1&&u.warning(n.message,{hasCloseButton:!0,duration:5})},[y,n?.message,n?.type,u]),l.useEffect(()=>{const p=d.query[Xs]==="true";t!==p&&Ze.setIsTemporaryChatEnabled(p)},[t,d.query]),l.useEffect(()=>{c.state?.focusObject&&W.setFocusedObject(c.state.focusObject)},[c.state?.focusObject]),l.useEffect(()=>{!C&&g&&S&&(m(),Zs(S))},[g,C,m,S]);const N=T?eo:Wa;return s.jsx(Je.Provider,{value:null,children:s.jsx(Js,{children:s.jsxs(ea,{clientThreadId:i,children:[s.jsx(Ra,{},P),s.jsx(za,{}),s.jsx(sa,{}),s.jsx(N,{urlThreadId:a,clientThreadId:i,setClientThreadId:f,prefetchSearch:r}),s.jsx(qa,{clientThreadId:i}),s.jsx(no,{clientThreadId:i}),s.jsx(aa,{clientThreadId:i}),s.jsx(to,{}),!1,s.jsx(oa,{}),s.jsx(ta,{})]})})})}function to(){const e=G(a=>a.sharingModalThreadId);return e?s.jsx(ao,{serverThreadId:e}):null}function no({clientThreadId:e}){return Na()&&s.jsx(oo,{clientThreadId:e})}function ro(){es({queryKey:["pingEdge"],queryFn:()=>ss.pingEdge(),enabled:!0,staleTime:1/0})}typeof window<"u"&&(window._g=so.GOKU_SERVICE);export{vo as C,Va as F};
//# sourceMappingURL=jb9a67mx96jux1s7.js.map
