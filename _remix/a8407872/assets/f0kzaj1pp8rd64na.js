import{y as e,r as p,$ as j,ae as u,a4 as k,aA as w,aw as M,a1 as G,j as A,l as R,a9 as D,L as _}from"./b75w2kxjgzazjxw6.js";import{cQ as z,cR as $,cS as L,aA as O,$ as C,j as I,l as E}from"./d49gc0vs991bd5hw.js";import{D as f,$ as P}from"./dznwcyn7e2nwaeg2.js";import{p as y,aJ as v,aK as g,aL as b,aM as T,O as U,I as B,S as V,aD as S,B as q}from"./d9rj50fkuog8a2dx.js";const F="#settings/BuilderProfile";function te({selectedDomain:s,verifiedDomains:i,domains:l,onChangeDomain:r}){const[n,t]=p.useState(!1),c=i.length>0,a=j()?.id,o=j()?.isEnterprisey(),{mutateAsync:x}=z(a);return e.jsxs("div",{className:"font-normal",children:[e.jsxs(f.Root,{children:[e.jsx(P,{children:e.jsxs("span",{className:"flex items-center gap-2 py-2",children:[s??e.jsx(u,{...h.selectADomain}),e.jsx(T,{className:"icon-md"})]})}),e.jsx(f.Portal,{children:e.jsxs(f.Content,{children:[e.jsx(f.RadioGroup,{value:s,onValueChange:d=>{d!==s&&r(d)},children:i.map(({id:d,hostname:m})=>e.jsx(f.RadioItem,{value:m,children:e.jsxs("div",{className:"flex flex-row",children:[e.jsx("span",{children:m}),e.jsx("span",{onClick:()=>{x({domainId:d}),r("")},children:e.jsx(U,{className:"icon-sm fixed right-4"})})]})},d))}),c&&e.jsx(f.Separator,{}),e.jsx(f.Item,{onClick:()=>{t(!0)},icon:B,children:e.jsx(u,{...h.addDomain})})]})})]}),a&&!o&&e.jsx($,{domains:l,isOpen:n,onClose:()=>t(!1),workspaceId:a,showUnverifiedDomains:!0,onVerifyDomain:d=>{r(d.hostname)}})]})}function Q(){const s=A();return R({mutationFn:({verifierType:i})=>O.unverifySocialAuth(i),onSuccess:()=>{s.refetchQueries({queryKey:["builderProfile"]})}})}function K({socialData:s}){const{type:i,display_name:l,verified_data:r}=s,n=i==="twitter"?v:i==="linkedin"?g:i==="github"?b:null;return n?e.jsxs("div",{className:"flex w-full flex-row items-center justify-between",children:[e.jsxs("div",{className:"flex flex-row items-center space-x-2 text-token-text-primary",children:[n({className:"icon-md"}),e.jsx("span",{children:l})]}),r?.link_to&&e.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:r.link_to,className:"text-sm text-token-text-tertiary hover:cursor-pointer",children:e.jsx(y,{className:"icon-sm"})})]}):null}function ae({socialData:s,icon:i}){const{id:l,type:r,display_name:n,verified:t,verified_data:c}=s,[a,o]=p.useState(!1),x=Q();return e.jsxs("div",{className:"flex flex-row items-center justify-between space-y-1",children:[e.jsxs("div",{className:k("flex items-center space-x-2"),children:[e.jsx(i,{className:"icon-sm"}),e.jsx("span",{children:n}),t&&c?.username&&e.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:c.link_to,className:"text-sm text-token-text-tertiary hover:cursor-pointer",children:c?.username})]}),t?e.jsx("div",{className:"py-1 font-semibold hover:cursor-pointer",onClick:()=>{x.mutate({verifierType:r})},children:x.isPending?e.jsx(M,{}):e.jsx(V,{className:"icon-sm text-token-text-tertiary"})}):e.jsx(w,{size:"small",color:"secondary",loading:a,onClick:async()=>{o(!0),await L({id:l},F),o(!1)},children:e.jsx(u,{...h.verify})})]})}const h=G({verify:{defaultMessage:"Add",id:"GizmoSocialRow.add"},addDomain:{id:"GizmoSocialRow.addDomain",defaultMessage:"Verify new domain"},selectADomain:{id:"GizmoSocialRow.selectADomain",defaultMessage:"Select a domain"}}),W=D.div`text-sm text-token-text-tertiary`,Z="community builder";function J(s){return"gizmo"in s}function ie({gizmo:s,builderName:i,builderUrl:l,className:r,socials:n,hideLink:t=!1}){const{value:c}=_("2256850471");let a,o;s&&J(s)?(a=s.gizmo.author.display_name,o=s.gizmo.author.link_to):(a=i,o=l),(a===""||a==null)&&(a=Z);const x=n?.filter(m=>m.verified),d=e.jsxs("div",{className:"w-48 space-y-4 text-sm",children:[o&&e.jsxs("div",{className:"flex w-full flex-row items-center justify-between",children:[e.jsxs("div",{className:"flex flex-row items-center space-x-2 text-token-text-primary",children:[e.jsx(S,{className:"icon-md"}),e.jsx("span",{children:e.jsx(u,{id:"gizmo.author.websiteLabel",defaultMessage:"Website"})})]}),e.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:o,className:"text-token-text-tertiary hover:cursor-pointer",children:e.jsx(y,{className:"icon-sm"})})]}),c&&x?.map((m,N)=>m.verified?e.jsx(K,{socialData:m},N):null),e.jsxs("div",{className:"text-xs text-token-text-tertiary",children:[(o||x&&x.length>0)&&e.jsx("hr",{className:"my-2 border-token-border-light"}),e.jsx(u,{id:"gizmo.author.cannotViewLabel",defaultMessage:"The builder of this GPT cannot view your conversations."})]})]});return e.jsxs("div",{className:"flex flex-row items-center space-x-1",children:[e.jsx(W,{className:r,children:e.jsx(u,{id:"gizmo.author.byLabel",defaultMessage:"By {displayName}",values:{displayName:a}})}),!t&&e.jsx(X,{socials:n,website:o,children:d})]})}function X({website:s,socials:i,children:l}){const[r,n]=p.useState(!1);let t=[];s&&t.push(e.jsx(S,{className:"icon-xs text-token-text-secondary"})),i&&i.forEach(a=>{a.verified&&(a.type==="twitter"?t.push(e.jsx(v,{className:"icon-xs text-token-text-secondary"})):a.type==="linkedin"?t.push(e.jsx(g,{className:"icon-xs text-token-text-secondary"})):a.type==="github"&&t.push(e.jsx(b,{className:"icon-xs text-token-text-secondary"})))});const c=t.length-2;return t=t.slice(0,2),c>0&&t.push(e.jsxs("span",{className:"text-xs font-semibold text-token-text-secondary",children:["+",c]},"overflow")),e.jsx(C,{open:r,onOpenChange:n,children:e.jsxs("div",{onPointerLeave:()=>n(!1),children:[e.jsx(I,{asChild:!0,children:e.jsx("div",{onPointerEnter:()=>n(!0),children:t.length>0?e.jsx("div",{className:"flex items-center gap-1 rounded-xl bg-token-main-surface-secondary px-2 py-1",children:t}):e.jsx(q,{className:"icon-xs text-token-text-secondary"})})}),e.jsx(E,{side:"top",sideOffset:8,align:"center",className:"z-10 rounded-lg bg-token-main-surface-primary p-4 drop-shadow-md",children:l})]})})}export{te as D,ie as G,ae as a};
//# sourceMappingURL=f0kzaj1pp8rd64na.js.map
