const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/kzetczvn13sj8089.js","assets/gblfh15g18zr7pwb.js","assets/fxihrcxhyf7cscoy.js","assets/root-mumb2j74.css","assets/excramzz6zmdjrf7.js","assets/conversation-small-ict01xsi.css","assets/m0mw406kbxcyqjdt.js","assets/k5sh7u8yh3bk12bi.js","assets/k04ck5jz7xpugaan.js","assets/fae6lgtd8eq36gap.js","assets/4idux1in6zu9zhnc.js","assets/nko4k8qxio6odphu.js","assets/e3y0zzek4ws7m7o0.js","assets/ipcdr5chr156c54w.js","assets/borfbfzxf550b8oy.js","assets/jhtv6cipbujuvdx6.js","assets/e2entq3r9l4ds8ev.js","assets/bktpkru86bu1aaer.js","assets/ecdqdignc09rcwye.js","assets/p5e2madetvxqyl82.js","assets/1rbjla1tgjw6yynt.js","assets/mo4eqotbvudv7613.js","assets/ov3pvqmw5yb8bxth.js","assets/73tfl2dw0luyvns1.js","assets/kqwdyvkaaavvn8k3.js","assets/eysvz7vw8bhdcomq.js","assets/jrqcjex7g3uqemtc.js","assets/983a0dy92b3ronpv.js","assets/d1qjt0t9zjb1hapb.js","assets/oy0vspzewup12bkw.js","assets/j5w4166bn3c02o6l.js","assets/h0lewpj4sqqc9iao.js","assets/ofwd1hipxshy1t1d.js","assets/icxrpuv2qhfccct8.js","assets/otngahio0sgsfsle.js","assets/e2lvtt0ueejablwa.js","assets/mrstj2r4ne82q2gu.js","assets/lf8x14kyw0wzzg4m.js","assets/hmddrb1hdhlejxgd.js","assets/b0n1ysxsv2on89l8.js","assets/hq1w9pqj3xcsrovj.js","assets/gzqft5bons7mc0zj.js"])))=>i.map(i=>d[i]);
import{aM as l,aN as u,j as e,bV as X,aX as E,fK as w,r as d,az as q,fE as T,ao as Z,z as P,a4 as J,c7 as y,D as ee,bS as ae,bT as se,bU as re,cx as te,l as oe,N as ie}from"./gblfh15g18zr7pwb.js";import{de as ne,d5 as O,iK as de,d6 as D,iL as b,Y as k,iM as L,ie as ce,iN as le,gg as R,iO as H,iP as z,hX as ue,bA as he,a$ as W,br as me,iQ as A,iz as f,fq as fe,bC as g,bD as N,eU as xe,iR as ge,eT as be,v as V,iS as je,cb as Ce,iT as pe,iU as ve,bN as Se,bO as F,iV as _e,m as Ee,iW as we,iX as Te,fo as Pe,ab as ye,d3 as Ae,d4 as Ne,iY as Ve,iZ as Fe,i_ as Ie,d7 as Me,i$ as Oe,cc as De,bM as ke}from"./excramzz6zmdjrf7.js";import{S as I,b as Le,c as Re,N as He}from"./h0lewpj4sqqc9iao.js";import{S as ze,b as We,C as Ue}from"./ofwd1hipxshy1t1d.js";import{T as U}from"./otngahio0sgsfsle.js";import{c as K,u as j}from"./m0mw406kbxcyqjdt.js";import{C as B}from"./b0n1ysxsv2on89l8.js";import{m as x}from"./k04ck5jz7xpugaan.js";const Ke=l(()=>u(()=>import("./kzetczvn13sj8089.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20])).then(a=>a.CanvasFocusedViewManager)),Be=l(()=>u(()=>import("./mo4eqotbvudv7613.js"),__vite__mapDeps([21,1,2,3,4,5,22,23,24,25,26,8,27])).then(a=>a.SearchResultsModal));function Ge({clientThreadId:a,setClientThreadId:s,urlThreadId:r,prefetchSearch:i}){const o=ne();O({clientThreadId:a});const{createNewThread:n,onThreadCreated:m,resetThread:t}=de({clientThreadId:a,setClientThreadId:s});D({resetThreadAction:t,clientThreadId:a});const h=b();return e.jsxs(k,{enableSandbox:!1,clientThreadId:a,children:[e.jsx(L,{clientThreadId:a,urlThreadId:r}),e.jsxs(I,{hideNavigation:o,mobileHeaderContent:e.jsx(ce,{clientThreadId:a,inMobileHeader:!0}),mobileHeaderBottomContent:e.jsx(le,{clientThreadId:a}),mobileHeaderLeftContent:e.jsx(Le,{onNewChatButtonClick:t}),mobileHeaderRightContent:e.jsx(Re,{onNewChatButtonClick:t}),sidebar:e.jsx(He,{navHeader:a?e.jsx(ze,{className:"flex h-[60px] items-center md:h-header-height",onNewThread:n}):null,children:e.jsx(We,{clientThreadId:a,onNewThread:n})}),threadFlyout:e.jsx(R,{clientThreadId:a}),children:[e.jsx(H,{}),e.jsx(U,{clientThreadId:a,onCreate:m,prefetchSearch:i},a),e.jsxs(I.Sidebars,{children:[h&&e.jsx(Ke,{clientThreadId:a}),e.jsx(z,{clientThreadId:a}),!1]})]}),e.jsx($e,{clientThreadId:a})]})}function $e({clientThreadId:a}){const s=X(),r=s?.includes(E.SearchTool)&&!s?.includes(E.SearchToolHoldout),i=ue(),{isOpen:o}=he();return o&&(!i||!r)&&e.jsx(Be,{clientThreadId:a})}const M=450;function Qe({children:a,clientThreadId:s,isOpen:r,onClose:i}){const o=W();return e.jsxs(me,{children:[r&&o&&e.jsx(K,{clientThreadId:s,children:e.jsx(w,{children:e.jsx(A.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(x.div,{className:"h-full w-full bg-token-main-surface-secondary",...f}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx("div",{className:"flex-grow overflow-auto",children:a}),e.jsx(x.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:M},...f,children:e.jsx(B,{hideHeader:!0,hideTools:!0})})]})]})})})}),r&&!o&&e.jsx(w,{children:e.jsx(A.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(x.div,{className:"h-full w-full bg-token-main-surface-secondary",...f}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx("div",{className:"flex-grow overflow-auto",children:a}),e.jsx(x.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:M},...f,children:e.jsx("div",{className:"h-[100vh] pb-4",children:e.jsx(U,{clientThreadId:s,hideHeader:!0,hideFooter:!0,hideToolsOverlay:!0,messagesVerticalAlign:"bottom"},s)})})]})]})})})]})}const Ye=l(()=>u(()=>import("./d1qjt0t9zjb1hapb.js"),__vite__mapDeps([28,1,2,3,4,5]))),Xe=l(()=>u(()=>import("./oy0vspzewup12bkw.js"),__vite__mapDeps([29,1,2,3,4,5,30,8,31,6,7,9,32,33,34,14,35,36,37,19,38,39])).then(a=>a.ImageEditor));function qe({clientThreadId:a}){const s=fe();d.useEffect(()=>{g.close()},[a]);let r;return s?.type===N.ADAVisualization?r=e.jsx(Ye,{clientThreadId:a,visualization:s.visualization}):s?.type===N.Image&&(r=e.jsx(Xe,{clientThreadId:a,messageId:s.messageId,image:s.image,allImages:s.allImages},s.image.asset_pointer)),e.jsx(Qe,{clientThreadId:a,isOpen:s!=null,onClose:g.close,children:r})}function Ze(){const{clientThreadId:a,resetThread:s}=j();return D({resetThreadAction:s,clientThreadId:a}),null}const Je=l(()=>u(()=>import("./kzetczvn13sj8089.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20])).then(a=>a.CanvasFocusedViewManager));function ea(){const{focusedObject:a,clientThreadId:s}=j(),r=b();return e.jsx(xe,{className:q(T.application,{[T.withFocusedView]:a}),sidebar:e.jsx(Ue,{}),thread:e.jsx(B,{}),details:e.jsxs(e.Fragment,{children:[r&&e.jsx(Je,{clientThreadId:s}),!1]}),threadExtendedInfo:e.jsx(R,{clientThreadId:s}),debugger:e.jsx(z,{clientThreadId:s}),name:"application-root"})}function aa(){const{clientThreadId:a,currentModelId:s,isCompanionWindow:r}=j();return e.jsx(ge,{conversationId:a,currentModelId:s,isActiveWindow:!r})}function sa({clientThreadId:a,setClientThreadId:s,urlThreadId:r,prefetchSearch:i}){return O({clientThreadId:a}),e.jsx(K,{clientThreadId:a,setClientThreadId:s,prefetchSearch:i,children:e.jsxs(be,{children:[e.jsx(aa,{}),e.jsx(Ze,{}),e.jsxs(k,{enableSandbox:!1,clientThreadId:a,children:[e.jsx(L,{clientThreadId:a,urlThreadId:r}),e.jsx(H,{}),e.jsx(ea,{})]})]})})}var ra={};const ta=l(()=>u(()=>import("./hq1w9pqj3xcsrovj.js"),__vite__mapDeps([40,1,2,3,4,5,41])));function xa(a){const{urlThreadId:s,clientThreadId:r,prefetchSearch:i}=a;ia();const o=Z(),n=P(),[m]=J(),[t,h]=d.useState(()=>s!==void 0?s:r!==void 0?r:y());s!==void 0&&t!==s&&V.getServerThreadId(t)!==s&&h(s);const G=je(P());d.useEffect(()=>{s===void 0&&V.getServerThreadId(t)!==void 0&&h(y())},[s,t,G]);const $=Ce(De.workspaceId);b();const Q=W(),{eligible:C,isLoading:p,markAsViewed:v}=pe(),S=ve();d.useEffect(()=>{(n.pathname==="/"||n.pathname.startsWith("/c/"))&&Se({namespace:F.ChatPageLoad})==null&&(_e({namespace:F.ChatPageLoad,opts:{expectedTimingLogs:[{name:"render_model_switcher",expectedInMs:1e4},{name:"render_history_items",expectedInMs:25e3}]}}),ee.addTiming("chatgpt.web.chatPage.mounted"))},[]);const _=Ee();d.useEffect(()=>{ae(!0).then(c=>{c.force_login&&_({authType:"login"}),se.initializeAndGatherData(c),we.initializeAndGatherData(c),re.initializeAndGatherData(c)})},[_]),d.useEffect(()=>{const c=m.get(Te)==="true";o!==c&&te.setIsTemporaryChatEnabled(c)},[o,m]),d.useEffect(()=>{n.state?.focusObject&&g.setFocusedObject(n.state.focusObject)},[n.state?.focusObject]),d.useEffect(()=>{!p&&C&&(v(),S())},[C,p,v,S]),Pe();const Y=Q?sa:Ge;return e.jsx(ye.Provider,{value:null,children:e.jsx(Ae,{children:e.jsxs(Ne,{clientThreadId:t,children:[e.jsx(Ve,{clientThreadId:t},$),!1,e.jsx(Fe,{}),e.jsx(Ie,{}),e.jsx(Y,{urlThreadId:s,clientThreadId:t,setClientThreadId:h,prefetchSearch:i}),e.jsx(qe,{clientThreadId:t}),e.jsx(Me,{clientThreadId:t}),e.jsx(oa,{}),!1,e.jsx(Oe,{})]})})})}function oa(){const a=ke(s=>s.sharingModalThreadId);return a?e.jsx(ta,{serverThreadId:a}):null}function ia(){oe({queryKey:["pingEdge"],queryFn:()=>ie.pingEdge(),enabled:!0,staleTime:1/0})}typeof window<"u"&&(window._g=ra.GOKU_SERVICE);export{xa as C,M as F};
//# sourceMappingURL=enwph9e3xixszbv0.js.map
