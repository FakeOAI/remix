const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/cuguyc9tewab5696.js","assets/gblfh15g18zr7pwb.js","assets/fxihrcxhyf7cscoy.js","assets/root-mumb2j74.css","assets/gbbo3cobtpcl0ttd.js","assets/excramzz6zmdjrf7.js","assets/conversation-small-ict01xsi.css","assets/m0mw406kbxcyqjdt.js","assets/k5sh7u8yh3bk12bi.js","assets/k04ck5jz7xpugaan.js","assets/fae6lgtd8eq36gap.js","assets/otngahio0sgsfsle.js","assets/borfbfzxf550b8oy.js","assets/e2lvtt0ueejablwa.js","assets/mrstj2r4ne82q2gu.js","assets/lf8x14kyw0wzzg4m.js","assets/p5e2madetvxqyl82.js","assets/hmddrb1hdhlejxgd.js"])))=>i.map(i=>d[i]);
import{ao as X,K as J,r as m,j as e,aM as D,aN as A,b9 as U,e6 as r,az as f,Y as ee,b0 as se,cR as ae,S as ne,X as te}from"./gblfh15g18zr7pwb.js";import{fm as z,hY as B,df as O,ck as V,cf as W,hZ as q,ge as $,h_ as re,cg as oe,h$ as ie,b$ as ce,i0 as de,i1 as le,fw as he,i2 as b,i3 as me,i4 as ue,i5 as Ce,i6 as pe,i7 as xe,i8 as ge,v as ve,i9 as Te,dR as fe,ia as je,ib as G,ic as Se,b0 as N,id as Ie,eQ as ye,c2 as we,ie as be,ig as Ne,ih as Ee,ii as Le,hh as Me,bA as _e,ij as He,ik as ke,il as Fe,cG as Re,im as Pe,gf as F,eV as De,eW as Ae}from"./excramzz6zmdjrf7.js";import{u as E,i as L}from"./m0mw406kbxcyqjdt.js";import{S as Ue,E as ze,C as R,a as Be,b as Oe}from"./otngahio0sgsfsle.js";import{u as Ve,C as We}from"./icxrpuv2qhfccct8.js";import{Y as qe}from"./fxihrcxhyf7cscoy.js";function Y({clientThreadId:s,currentLeafId:o}){const{currentModelId:a}=E(),n=z(s),t=B(s,o),d=O(s),l=X(),h=V(a),u=W(s)&&!t&&(q(n)||n?.kind===J.GizmoTest);return{showEmptyState:u,canUseNewHomepage:u&&(!d||!1)&&!h&&!l}}function $e(s){const{clientThreadId:o}=E(),a=m.useRef(s);a.current=s,m.useEffect(()=>{a.current()},[o])}function Ge({clientThreadId:s,currentModelId:o,isModelLoaded:a,onRequestCompletion:n,v2HomepageDisclaimer:t}){return e.jsx(Ue,{clientThreadId:s,currentModelId:o,isModelLoaded:a,onRequestCompletion:n,v2HomepageDisclaimer:t})}const Ye=D(()=>A(()=>import("./cuguyc9tewab5696.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10])).then(s=>s.ChatScreenContentModals));function Ke({disableEmptyState:s,fullWidth:o}){const{clientThreadId:a,currentModelId:n,conversationLeafId:t,isCompanionWindow:d,isEmbeddedInFocusedView:l,onChangeItemInView:h,onChangeRating:u,onRequestCompletion:c,onRequestMoreCompletions:C,isModelLoaded:p,prefetchSearch:j}=m.useContext(L),x=$(a,t),S=re(a),g={clientThreadId:a,conversationLeafId:t,currentModelId:n,onChangeItemInView:h,onChangeRating:u,onRequestMoreCompletions:C,onRequestCompletion:c,showAvatar:!1},I=oe(a),y=ie({clientThreadId:a,currentLeafId:t,handleRequestCompletion:c,prefetchSearchPromise:j}),v=I||y||s,T=ce(),{initialConversationTurns:M,continuedConversationTurns:_}=de(x,T),{canUseNewHomepage:H,showEmptyState:k}=Y({clientThreadId:a,currentLeafId:t}),K=x>=2;le(K);const{setTargetedContent:Q}=he(),Z=V(n);if($e(()=>{ge(),ve.updateScrollToMessageId(a,"finalAgentTurn")}),Ve(i=>{Te({...i,leafId:i.source,isEmbeddedInFocusedView:l})&&Q(void 0)}),H&&k&&!v){const i=d?null:e.jsx("div",{className:"text-center text-xs text-token-text-secondary",children:e.jsx(b,{clientThreadId:a})});return e.jsx(Ge,{clientThreadId:a,currentModelId:n,isModelLoaded:p,onRequestCompletion:c,v2HomepageDisclaimer:i})}else if(!H&&k&&!v)return e.jsx(ze,{clientThreadId:a,currentModelId:n,isModelLoaded:p,onRequestCompletion:c,enableV2Homepage:!Z,v2HomepageDisclaimer:e.jsx(b,{clientThreadId:a})});return e.jsxs(e.Fragment,{children:[T&&e.jsx(me,{}),T&&_.length===0&&e.jsx(ue,{}),e.jsx(U,{children:e.jsxs(m.Suspense,{fallback:null,children:[e.jsx(Ce,{}),M.length>0&&e.jsx("ol",{className:r.conversationTurnList,children:M.map(({turnIndex:i,isFinalTurn:w})=>e.jsx("li",{className:f(r.conversationTurnWrapper,o&&"w-full"),children:m.createElement(R,{...g,key:`${a}-${i}`,turnIndex:i,isFinalTurn:w})},i))}),T&&e.jsx(pe,{}),e.jsx("ol",{className:r.conversationTurnList,children:_.map(({turnIndex:i,isFinalTurn:w})=>e.jsx("li",{className:f(r.conversationTurnWrapper,o&&"w-full"),children:m.createElement(R,{...g,key:`${a}-${i}`,turnIndex:i,isFinalTurn:w,scrollToMessageId:S})},i))})]})}),e.jsx(Ye,{}),x>0&&e.jsx(xe,{})]})}function Qe(){return e.jsx(Ke,{})}const Ze=D(()=>A(()=>import("./otngahio0sgsfsle.js").then(s=>s.c),__vite__mapDeps([11,1,2,3,5,6,12,13,14,9,7,8,10,15,16,17])).then(s=>s.ChatScreenComposerAlerts));function Xe(){const{clientThreadId:s,currentModelId:o,isCompanionWindow:a,onRequestCompletion:n}=m.useContext(L),t=z(s),d=fe(s),l=$(s,d),h=l>=2,u=B(s,d),c=W(s)&&!h&&q(t);je(l,s,d,c);const{setComposerFooterElement:C}=m.useContext(G);return e.jsx("div",{className:r.footer,children:e.jsxs(Se,{style:{"--bar-gap":"0.5rem","--bar-background-color":"transparent"},children:[e.jsxs(N,{type:"secondary",className:"relative",children:[h&&e.jsx(Ie,{className:r.scrollButton}),e.jsx(Ze,{})]}),e.jsxs(N,{type:"primary",ref:C,name:"composer-bar",children:[e.jsx(Be,{clientThreadId:s,currentModelId:o,isNewThread:c,noWrap:!0,onRequestCompletion:n,showPromptStarters:c||!u}),!a&&e.jsx("div",{className:"text-center text-xs text-token-text-secondary",children:e.jsx(b,{clientThreadId:s})})]})]})})}function Je(){const s=ee(),{clientThreadId:o,isLoggedInUser:a,onNewThread:n}=m.useContext(L);return O(o),e.jsxs(N,{leading:!0,type:"primary",className:r.header,children:[e.jsxs("div",{className:r.headerLeading,children:[a&&e.jsx(ye,{}),e.jsx(se,{label:s.formatMessage(P.newChat),children:e.jsx(ae,{to:"/",className:r.newThread,onClick:t=>{n?(t.preventDefault(),n()):ne.logEvent("chatgpt_web_thread_tap_new_thread")},tabIndex:0,children:e.jsx(we,{className:r.sidebarIcon,icon:e.jsx(qe,{style:{viewTransitionName:"var(--vt_new_chat_thread)"}}),tabIndex:-1,label:s.formatMessage(P.newChat),style:{display:"var(--screen-size-hidden-on-compact-mode)"}})})}),e.jsx("div",{className:r.threadDropdown,children:e.jsx(be,{clientThreadId:o})})]}),e.jsx("div",{className:r.headerTrailing,children:e.jsx(U,{children:e.jsx(Oe,{clientThreadId:o})})})]})}const P=te({newChat:{id:"rnCpM4",defaultMessage:"New Chat"}});function os({hideHeader:s=!1,hideFooter:o=!1,hideTools:a=!1,embedded:n=!1}){const{clientThreadId:t,currentModelId:d,conversationLeafId:l,isCompanionWindow:h,isInstalledApp:u,onRequestCompletion:c}=E(),{canUseNewHomepage:C,showEmptyState:p}=Y({clientThreadId:t,currentLeafId:l}),j=Ne()[d],[x,S]=Ee({name:"composer-bar",track:"height"}),g=Le(t),I=Me(),{isOpen:y}=_e(),v=o||p&&C;return e.jsx(He.Provider,{value:c,children:e.jsx(ke,{children:e.jsxs(Fe,{clientThreadId:t,currentLeafId:l,children:[e.jsx(Re,{children:g!=null&&e.jsx("title",{children:g})}),e.jsx(Pe,{clientThreadId:t,className:f(n&&"h-full","flex-1"),currentModelConfig:j,children:e.jsx(G.Provider,{value:{setComposerFooterElement:S},children:e.jsxs("div",{className:"h-full",style:{container:"thread-container / inline-size"},children:[e.jsx(F,{id:"canvas-state",name:"canvas-state",checked:I}),e.jsx(F,{id:"thread-extended-info-sidebar-state",name:"thread-extended-info-sidebar-state",checked:y}),e.jsx(De,{anchor:"vertical",className:f(r.screen,p&&C&&r.screenEmptyState,h&&r.screenCompanionWindow,u&&r.screenInstalledApp,n&&r.screenEmbedded),name:"thread",leading:!s&&e.jsx(Je,{}),style:x,trackLeading:!0,trackTrailing:!0,trailing:!v&&e.jsx(Xe,{}),children:e.jsx(Qe,{})}),!h&&!a&&e.jsxs(e.Fragment,{children:[e.jsx(We,{}),e.jsx(Ae,{})]})]})})})]})})})}export{os as C};
//# sourceMappingURL=b0n1ysxsv2on89l8.js.map
