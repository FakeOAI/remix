import{ak as d,r as a,aI as p,aJ as h,j as e,cF as u,aH as c,C as l}from"./nfjrln83fxu65oyx.js";import{C as f,b as S}from"./n1p01er9qicaerpy.js";import{m as x,T as C}from"./sdxzewl9qotrm9f1.js";import{u as T}from"./kum5sju9bc7tb58b.js";import"./o3o9tmae3y8d2645.js";import"./9emxvse99cucc6mp.js";import"./c96sbxi6wxvsoc0g.js";import"./fotsdvg0k4ftt511.js";import"./ckm8yljtdtmdpcej.js";import"./djssfgdq3u970u5n.js";import"./82o8dbrgyyayj5um.js";import"./k1e625mfe6h0rjqj.js";import"./j3p5ed2tzqzsa8ks.js";import"./fy8xrkb7rl3yrxfr.js";import"./44xsey3i2f8m4xto.js";import"./fo9427i0kcp4inqe.js";import"./fdm1h6tj35vtrhik.js";import"./on7xj80i0scb7ado.js";import"./fe5uulh1qpml1fzu.js";import"./ozn2wk5500163zvi.js";import"./i467jgv7omt0wrya.js";import"./ektpk3tof18b1jqk.js";import"./jj2m7hvbnxikn7pv.js";import"./dfivxqttlx7ro0ie.js";import"./a59l4pyxmjm6xfl7.js";import"./ion90t6zd3bq7huk.js";import"./fa449pxhlj1v1ttc.js";import"./fy4qond45jwxb4fp.js";import"./or4b2nd60kazd03v.js";import"./m6o1i3qerrmzcify.js";import"./om6qkwnrs0tnnvh2.js";import"./iwil83bbjs5vopzc.js";function g(r){const i=r.sharedConversationId,{data:t,isError:s}=d({queryKey:[`shared-conversation/${i}`],queryFn:()=>l.getAuthedSharedConversation(i)}),[o]=a.useState(()=>x()),[n,m]=a.useState(!1);return a.useEffect(()=>{s&&(window.location.href=p(h.SHARE_NOT_FOUND))},[s]),a.useEffect(()=>{t&&o&&(C.initThreadFromServerData(o,t,!0,i),m(!0))},[t,i,o]),n?r.continueMode?e.jsx(f,{...r.chatPageProps,clientThreadId:o}):e.jsx(u.Provider,{value:{serverSharedThreadId:i,isIndexable:!1},children:e.jsx(S,{clientThreadId:o,setClientThreadId:()=>{},initiallyHighlightedMessageId:t==null?void 0:t.highlighted_message_id,continueConversationUrl:t==null?void 0:t.continue_conversation_url})}):e.jsx("div",{className:"flex h-full items-center justify-center",children:e.jsx(c,{className:"text-token-text-tertiary"})})}function Z(){const r=T();return e.jsx(g,{...r})}export{Z as default};
//# sourceMappingURL=bviwd0s1lnq5wl1r.js.map
