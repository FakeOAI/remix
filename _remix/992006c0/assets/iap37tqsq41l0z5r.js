import{j as e,e as g,Z as C,r as m,M as v}from"./nqo5y2f0dorhrqsr.js";import{fE as T,dK as I,d3 as b,dV as p,ba as N,as as E,f2 as x,fF as y,u as P,d5 as u,ah as M,cg as z,cA as w}from"./cupmtu2e3gr6f9u2.js";import{C as k}from"./edzif7v6rtj501b7.js";import{c6 as H,c7 as L,c8 as j,c9 as F,ca as A,cb as G,cc as f,cd as O,ce as Q,cf as U,cg as D,J as q,b as K,b8 as R,ch as V,ci as Z,cj as J,D as W,ck as _}from"./ob2kjer3jenmmp3x.js";import{C as B}from"./acameby5mv3yop0n.js";import{u as X,a as Y}from"./koia3902t4l8lyfh.js";import $ from"./ldyj9a1pnauaza2m.js";import{u as ee,C as ae,b as se,c as re}from"./nh1qwxf7uo20o2cg.js";import{C as te}from"./oym1mrmwdfsve1vx.js";import"./gllcu2p72hhtlr5i.js";import"./ktnfigx603oszyd9.js";import"./nbwlmt8yha6ml5ri.js";import"./oo4nlvb71aa1o09p.js";import"./mav83crfduvkg85m.js";import"./mx239m288anxr1l4.js";import"./djpe2ctqrsum97u7.js";import"./lcg8hjmelswuvhqa.js";import"./jia4v37079g3n9z8.js";function ne(){const{clientThreadId:a,currentModelId:t,conversationLeafId:s,onRequestCompletion:c}=X(),{showEmptyState:l}=ee({clientThreadId:a,currentLeafId:s}),h=H()[t],n=T(a),d=L(),r=I(),i=b()??"",o=j({gizmoId:i,draft:!1}),S=p();return e.jsx(N.Provider,{value:c,children:e.jsx(F,{children:e.jsxs(A,{clientThreadId:a,currentLeafId:s,children:[e.jsx(G,{children:n!=null&&e.jsx("title",{children:n})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(f,{id:"canvas-state",name:"canvas-state",checked:d}),e.jsx(f,{id:"thread-extended-info-sidebar-state",name:"thread-extended-info-sidebar-state",checked:r}),e.jsx(O,{anchor:"vertical",className:E(x.screen,l&&x.screenEmptyState),name:"thread",leading:S?e.jsx(ae,{}):e.jsx(se,{clientThreadId:a}),trackLeading:!0,children:o.data&&e.jsx("div",{className:"flex h-full w-full",children:e.jsx("div",{className:"max-h-[100cqh] flex-grow overflow-y-auto",children:e.jsx("div",{className:"mx-auto max-w-screen-md",children:e.jsx(Q,{clientThreadId:a,currentModelConfig:h,children:e.jsx(re,{})})})})})}),e.jsx(te,{}),e.jsx(U,{})]})]})})})}function ie(){const a=_(t=>t.sharingModalThreadId);return a?e.jsx($,{serverThreadId:a}):null}function Ne(){const a=g(),{gizmoSlug:t}=C(),s=y(t??""),c=j({gizmoId:s,draft:!1}),{isPending:l}=D(s),h=p(),{isLoading:n}=P("491279851"),d=q();m.useEffect(()=>{!n&&!d&&a("/")},[n,d,a]);const[r,i]=m.useState(()=>u());K(r,{kind:M.GizmoInteraction,gizmo_id:s}),m.useEffect(()=>{i(u())},[s]);let o=e.jsx("div",{className:"flex h-full w-full",children:e.jsx("div",{className:"m-auto",children:e.jsxs("div",{className:"flex justify-center",children:[e.jsx("span",{className:"sr-only","aria-busy":!0,role:"status","aria-live":"polite",children:e.jsx(v,{...R.loadingProjects})}),e.jsx(z,{className:"h-10 w-10 text-token-text-secondary"})]})})});return c.data&&!l&&(o=e.jsx(ne,{})),e.jsx(V,{children:e.jsx(Y,{clientThreadId:r,setClientThreadId:i,children:h?e.jsx(Z,{children:e.jsx(J,{className:w.application,sidebar:e.jsx(B,{}),thread:o,debugger:e.jsx(W,{clientThreadId:r})})}):e.jsxs(e.Fragment,{children:[e.jsx(k,{clientThreadId:r,setClientThreadId:i,threadContent:o}),e.jsx(ie,{})]})})})}export{Ne as default};
//# sourceMappingURL=iap37tqsq41l0z5r.js.map
