const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ffl0xhuomq38zcvj.js","assets/nhth9ejvp1y38gpf.js","assets/j7o3ku4ystlh3gs9.js","assets/root-i54zhw2b.css","assets/pdsi9ig2nufco8yv.js","assets/conversation-small-ict01xsi.css"])))=>i.map(i=>d[i]);
import{aE as A,aF as k,j,Z as y,a6 as e,ar as z,bM as E,bN as w,aG as f,aj as _,r as g,a3 as L,aY as T,ak as P,cR as F,dE as D,b8 as O}from"./nhth9ejvp1y38gpf.js";import{aY as b,bJ as U,bK as B,bL as K,bM as H,bN as Y,bO as Z,bc as q,bP as Q,bQ as V,bR as W,bS as J,bT as R,bU as X,U as $,bV as ee,bW as te,bX as se,bY as ie,D as ae,bZ as x}from"./pdsi9ig2nufco8yv.js";import{ax as ne,Y as re,aY as oe,Z as le}from"./j7o3ku4ystlh3gs9.js";import{a as ce}from"./b1nw30asgtf2gct6.js";import{m as I}from"./m8z27nzcdqlfi2wy.js";import"./mfj415wp2kzbofro.js";import"./ef7i8cnsnjwg6cb4.js";import"./djym0t15fkaljjnz.js";import"./foozvt2040wx0rof.js";import"./cazlc84xlysibz8s.js";const de=A(()=>k(()=>import("./ffl0xhuomq38zcvj.js"),__vite__mapDeps([0,1,2,3,4,5])).then(t=>t.GizmoKeepInSidebarMenuItem));var me=(t=>(t[t.Keep=0]="Keep",t[t.Recents=1]="Recents",t))(me||{});const ue=2;function v({isActive:t,isNewConversation:a}){const s=j(),n=y(),r=b();return e.jsx("div",{className:z(r?"":"bg-token-sidebar-surface-primary","pt-0"),children:e.jsx(G,{gizmo:void 0,isActive:t,onClick:o=>{E(w(s))&&!a&&(o.preventDefault(),U(n))}})})}function pe(t,a,s){const n=ae(t,i=>i.flair.kind),r=[...n[x.FirstParty]?.map(({resource:i})=>({gizmo:i,section:0}))??[],...n[x.SidebarKeep]?.map(({resource:i})=>({gizmo:i,section:0}))??[],...n[x.Recent]?.slice(0,ue).map(({resource:i})=>({gizmo:i,section:1}))??[]],o=r.length>s+1,l=o&&!a&&r.length>s?r.slice(0,s):r;return{listItems:[...l.filter(({section:i})=>i===0),...l.filter(({section:i})=>i===1)],itemsLeft:r.length-l.length,needsToCollapseItems:o}}function S({gizmo:t,currentGizmoId:a}){const s=g.useRef(!1),n=V(),r=!1,o=b(),l=o?5:4,{listItems:m}=pe(t,r,l);g.useEffect(()=>{m.length>0&&!s.current&&(W({namespace:J.ChatPageLoad})?.logTiming("render_gizmo_sidebar"),s.current=!0)},[m]);function i(c,u){const d=e.jsx(G,{gizmo:c,isActive:c.gizmo.id===a,section:u},c.gizmo.id);return o?e.jsx("li",{children:d}):d}return e.jsxs("div",{children:[m.map(({gizmo:c,section:u},d)=>e.jsxs(g.Fragment,{children:[d>1&&u!==m[d-1].section&&e.jsx("div",{className:"my-2 ml-2 h-px w-7 bg-token-sidebar-surface-tertiary"}),i(c,u)]},d)),e.jsx(R,{children:e.jsx(I.div,{whileTap:{scale:.98},children:e.jsx(F,{to:X(),onClick:()=>{n.activeSidebar==="popover-nav"&&$.setActiveSidebar(!1)},children:e.jsx(ee,{icon:oe,"data-testid":"explore-gpts-button",children:e.jsx(f,{...h.exploreStoreEnabled})})},"explore")})})]})}function Ne({currentGizmoId:t}){const{data:{gizmos:a}={}}=B();let s=a;return b()?s!=null?e.jsx(e.Fragment,{children:e.jsxs(K,{header:e.jsx("div",{className:"sticky top-[--sidebar-sticky-threshold] z-20",children:e.jsx(f,{id:"ZT2HVu",defaultMessage:"GPTs"})}),isLastInGroup:!0,children:[e.jsx(v,{isActive:t===void 0,isNewConversation:!0}),e.jsx(S,{gizmo:s,currentGizmoId:t})]})}):null:e.jsxs(e.Fragment,{children:[e.jsx(v,{isActive:t===void 0,isNewConversation:!0}),e.jsx(ce,{}),s!=null?e.jsx(S,{gizmo:s,currentGizmoId:t}):null]})}function ge({gizmo:t,isOpen:a,setIsOpen:s,section:n}){const r=j();return e.jsxs(D,{open:a,onOpenChange:s,triggerButton:e.jsx("button",{className:z("flex text-token-text-secondary hover:text-token-text-primary",a?"":"invisible group-hover:visible"),children:e.jsx(le,{className:"icon-md"})}),contentAlign:"start",sideOffset:4,alignOffset:-4,size:"auto",children:[n===1&&e.jsx(O.Item,{onClick:async()=>{await te.updateGizmoSidebar(r,se,t.gizmo.id,"keep")},children:e.jsx(f,{...h.keepInSidebar})}),e.jsx(de,{gizmoResource:t})]})}function G({gizmo:t,historyDisabled:a,section:s,onClick:n,isActive:r}){const o=_(),[l,m]=g.useState(!1),[i,c]=g.useState(!1),u=L(),d=!!t?.gizmo.tags?.includes(H.FirstParty),N=!1;let C=!1,p;if(t!=null)p=t.gizmo.display.name||Y;else{if(u==null)return null;a?p=o.formatMessage(h.clearChat):u.canInteractWithGizmos()?p=ie:p=o.formatMessage({id:"GizmoSidebarListItem.newChat",defaultMessage:"New chat"})}return e.jsx(I.div,{whileTap:{scale:.98},onMouseEnter:()=>{c(!0)},onMouseLeave:()=>{c(!1)},children:e.jsx(Z,{loggingGizmoId:t?.gizmo.id??"primary",href:t!=null?q(t):"/",onClick:n,showActiveIndicator:C,icon:e.jsx(Q,{gizmoId:t?.gizmo.id,isFirstParty:t==null||d,src:t?.gizmo.display.profile_picture_url,className:"h-6 w-6 flex-shrink-0"}),isMenuOpen:l,label:p,hoverRightIcon:e.jsxs("div",{className:"flex gap-2",children:[(i||l)&&t!=null&&!N&&e.jsx("div",{className:"text-token-text-tertiary",onClick:M=>{M.preventDefault()},children:e.jsx(ge,{gizmo:t,isOpen:l,setIsOpen:m,section:s})}),e.jsx(T,{side:"right",label:o.formatMessage(a?h.clearChat:h.newChat),className:"flex items-center",children:e.jsx("button",{className:l?"text-token-text-tertiary":"invisible text-token-text-secondary hover:text-token-text-primary group-hover:visible",children:a?e.jsx(ne,{className:"icon-md"}):e.jsx(re,{className:"icon-md"})})})]})})})}const h=P({exploreStoreEnabled:{id:"gizmo.exploreStoreEnabled",defaultMessage:"Explore GPTs"},keepInSidebar:{id:"gizmo.keepInSidebar",defaultMessage:"Keep in sidebar"},newChat:{id:"gizmo.newChat",defaultMessage:"New chat"},clearChat:{id:"gizmo.clearChat",defaultMessage:"Clear chat"}});export{v as DefaultGPTSidebarListItem,Ne as GizmoSidebarList,G as GizmoSidebarListItem,me as SidebarSectionType,h as sidebarMessages};
//# sourceMappingURL=onv2ooecujvgr7ev.js.map
