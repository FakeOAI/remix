import{aj as y,_ as k,dv as v,ap as j,g as _,a6 as a,ar as M,aG as d,aO as S,aY as E,r as p,d as f,P as R}from"./nhth9ejvp1y38gpf.js";import{eU as A,eV as D,bx as N,eW as C,eX as L,eY as T,eZ as m,bq as w,e_ as F}from"./pdsi9ig2nufco8yv.js";import{S as P,a as $}from"./huvwfanicw7piq6a.js";import{g as z}from"./kqwdyvkaaavvn8k3.js";import{a as U}from"./frt8iva99ajobaq3.js";import{E as I}from"./7r7be57snd5f1q36.js";import{m as q}from"./m8z27nzcdqlfi2wy.js";import"./j7o3ku4ystlh3gs9.js";function G({date:e}){const t=y(),s=e instanceof Date?e:new Date(e*1e3),r=A(s,new Date);if(r<4&&r>-4){const o=t.formatRelativeTime(r,"day",{numeric:"auto"});return o.charAt(0).toUpperCase()+o.slice(1)}else return t.formatDate(s,{year:"numeric",month:"long",day:"numeric"})}var H=v,O=k,V=D,W=j;function Y(e,t){var s=W(e)?H:V;return s(e,O(t))}var B=Y,X=N,Z=B;function J(e,t){return X(Z(e,t),1)}var K=J;const Q=_(K);function ue({clientThreadId:e,turnIndex:t,messageId:s,isInSidebar:r=!1}){const o=C(e,t),i=L(e,t),n={clientThreadId:e,messageId:s,turnIndex:t},c=Q(i,l=>l.entries).toSorted((l,u)=>(u?.pub_date??0)-(l?.pub_date??0));return a.jsxs("div",{className:M("flex w-full flex-col border-t border-token-border-light bg-token-main-surface-primary",r?"mt-[-57px]":"mt-0"),children:[a.jsx(x,{title:a.jsx(d,{id:"dlVlo6",defaultMessage:"Citations"}),items:o,analyticsMetadata:{...n,linkType:"citation"},messageId:s}),a.jsx(x,{title:a.jsx(d,{id:"iUafP7",defaultMessage:"Search Results"}),items:c,analyticsMetadata:{...n,linkType:"search_result"},messageId:s,analyticsIndexOffset:o.length})]},`${t}-${e}`)}function x({title:e,items:t,analyticsMetadata:s,analyticsIndexOffset:r=0,messageId:o}){return!t||t.length===0?null:a.jsxs("div",{children:[a.jsx(h,{className:"sticky top-0 z-[1] h-[56px] border-b border-token-border-light bg-token-main-surface-primary px-6 py-4 text-sm font-medium text-token-text-primary",children:e}),a.jsx("div",{className:"flex flex-col px-3 py-2",children:t.map((i,n)=>a.jsx(h,{index:n,children:a.jsx(ee,{item:i,analyticsMetadata:{...s,groupIndex:n,entireListIndex:n+r},messageId:o},n)},`${e}-${n}`))})]})}function h({children:e,index:t=0,className:s=""}){return a.jsx(q.div,{className:s,initial:{opacity:0},animate:{opacity:1},transition:{delay:(t+1)*.03},children:e})}function ee({item:e,analyticsMetadata:t,messageId:s}){const r=U(e.url).data??z(e.url,"short"),o=l=>"ref_id"in l&&"content_type"in l,i=T(),n=S().resolvedTheme==="dark",c=a.jsxs(te,{analyticsMetadata:t,href:e.url,target:"_blank",rel:"noopener",className:"flex flex-col gap-0.5 rounded-xl px-3 py-2.5 hover:bg-token-main-surface-secondary",onMouseEnter:()=>{!("attributions"in e)||!e.attributions||m.setHighlightBySource(s,e)},onMouseLeave:()=>{m.clearHighlights()},children:[a.jsxs("div",{className:"line-clamp-1 flex h-6 items-center gap-2 text-xs",children:[a.jsx(w,{url:e.url,className:"icon-sm rounded-full bg-token-main-surface-primary object-cover",size:32,minSize:20,fallback:a.jsx(P,{className:"icon-sm text-token-text-quaternary"})}),r,o(e)&&a.jsx($,{searchResult:e,className:"inline h-4 w-4 text-token-text-tertiary"})]}),a.jsx("div",{className:"line-clamp-2 text-sm font-semibold",children:e.title}),(e.pub_date??e.snippet)&&a.jsxs("div",{className:"line-clamp-2 text-sm font-normal leading-snug text-token-text-secondary",children:[e.pub_date&&a.jsx(G,{date:e.pub_date}),e.pub_date&&e.snippet&&" â€” ",e.snippet]})]});return i?a.jsx(E,{label:a.jsx(I,{item:e}),className:"text-left text-xs",theme:n?"default":"white",children:c}):c}const te=p.forwardRef(function(t,s){const{analyticsMetadata:r,...o}=t;function i(n,c){if(!t.href)return;const{entireListIndex:l,groupIndex:u,linkType:b,...g}=r;R.logEventWithStatsig(n,c,{...F(g),url:t.href,global_index:l.toString(),local_index:u.toString(),type:b})}return p.useEffect(()=>{i(f.searchLinkShown,"search_link_shown")},[]),a.jsx("a",{ref:s,...o,onClick:n=>{t.onClick?.(n),n.stopPropagation(),i(f.searchLinkClicked,"search_link_clicked")}})});export{ue as SearchSources,x as SourcesListGroup};
//# sourceMappingURL=l7nhxqyg3wky6hmm.js.map
