const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/cne6qu0tc064hjxl.js","assets/nhth9ejvp1y38gpf.js","assets/j7o3ku4ystlh3gs9.js","assets/root-i54zhw2b.css","assets/pdsi9ig2nufco8yv.js","assets/conversation-small-ict01xsi.css","assets/oii8fj5qj88lonjz.js","assets/jg5kzbzbf7ng1jvg.js","assets/olmhu7ge0ychmd1n.js","assets/onv2ooecujvgr7ev.js","assets/m8z27nzcdqlfi2wy.js","assets/mfj415wp2kzbofro.js","assets/ef7i8cnsnjwg6cb4.js","assets/djym0t15fkaljjnz.js","assets/foozvt2040wx0rof.js","assets/cazlc84xlysibz8s.js"])))=>i.map(i=>d[i]);
import{U as $,a6 as e,r as u,ar as l,dE as M,b8 as X,aG as A,aE as f,aF as p,aj as O,aL as Y,a9 as Z,aY as q,a3 as S,aB as j,an as E,b6 as L,b0 as Q,e4 as h,az as J,aA as ee,f1 as se}from"./nhth9ejvp1y38gpf.js";import{dm as v,F as C,bO as te,iW as ne,ds as ae,eK as ie,iX as re,iY as oe,bQ as ce,cj as le,iZ as de,bg as ue,bH as me,i_ as he,U as T,b1 as P,dd as _,a$ as be,b0 as G,i$ as ge,j0 as xe,j1 as fe,f_ as pe,j2 as Se,bL as je,j3 as ve,i8 as Ce,fU as z,aZ as F,j4 as ye,j5 as Ie,j6 as B,j7 as ke,gg as Ne,j8 as we,j9 as Te,eP as Me,ja as Ae}from"./pdsi9ig2nufco8yv.js";import{r as Oe,Z as H,bG as Ee,aA as Le}from"./j7o3ku4ystlh3gs9.js";import{m as Pe}from"./m8z27nzcdqlfi2wy.js";import{N as _e,u as R,i as Ge}from"./mfj415wp2kzbofro.js";import{u as ze}from"./foozvt2040wx0rof.js";import{U as Fe,P as Be}from"./cazlc84xlysibz8s.js";function He(){const s=v(C.SonicSidebar),[t,n]=u.useState(!1);return s.isLoading||!s.eligible?null:e.jsx(Pe.div,{className:"no-draggable group pb-0",whileTap:{scale:.98},children:e.jsx(Ue,{children:e.jsx(te,{href:"/search",target:"_blank",icon:e.jsx("div",{className:l("gizmo-shadow-stroke mr-[0.5] flex h-[18px] w-[18px] items-center justify-center rounded-full bg-token-main-surface-primary align-middle text-token-text-primary"),children:e.jsx(ne,{})}),label:"SearchGPT",hoverRightIcon:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(De,{isOpen:t,setIsOpen:n,onDismiss:()=>s.markAsViewed()}),e.jsx(Oe,{className:l("icon-md text-token-text-tertiary",!t&&"invisible group-hover:visible")})]}),isMenuOpen:!1,loggingGizmoId:"search-gpt-sidebar"})})})}function Re(){const s=ie(),t=v(C.hasSeenSncSidebarTooltip),n=re(),a=oe(),{activeModals:r}=ce(),i=le();return!t.isLoading&&t.eligible&&!n&&r.size===0&&!s&&!a&&!i}function Ue({children:s}){const t=Re(),n=v(C.hasSeenSncSidebarTooltip);return t?e.jsx(ae,{side:"right",show:!0,badge:"new",title:"Try SearchGPT",onDismiss:n.markAsViewed,sideOffset:10,theme:"bright",description:"You're in. Get answers with real-time information from relevant sources, and ask follow-up questions.",children:e.jsx("div",{className:"w-full",children:s})}):e.jsx(e.Fragment,{children:s})}function De({isOpen:s,setIsOpen:t,onDismiss:n}){return e.jsx(M,{open:s,onOpenChange:t,triggerButton:e.jsx("button",{className:l("flex text-token-text-tertiary",s?"":"invisible group-hover:visible"),onClick:a=>{a.preventDefault()},children:e.jsx(H,{className:"icon-md"})}),children:e.jsx(X.Item,{onClick:a=>{a.preventDefault(),n()},children:e.jsx(A,{id:"sidebar.hideFromSidebar",defaultMessage:"Hide from sidebar"})})})}function We(){const s=$("114024");return!s.value||s.isLoading?null:e.jsx(He,{})}const Ve=f(()=>p(()=>import("./cne6qu0tc064hjxl.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8])).then(s=>s.FannyPackAction)),Ke=f(()=>p(()=>import("./onv2ooecujvgr7ev.js"),__vite__mapDeps([9,1,2,3,4,5,10,11,12,13,14,15])).then(s=>s.GizmoSidebarList));function cs({clientThreadId:s,onNewThread:t}){const n=P(s),a=S(),{isUnauthenticated:r}=j(),i=_(s),o=E();return r?null:e.jsxs(e.Fragment,{children:[e.jsx(be,{onNewThread:t}),a?.canInteractWithGizmos()?e.jsx(Ke,{currentGizmoId:i}):e.jsx(We,{}),!1,!r&&e.jsx(G,{activeId:o?void 0:n})]})}function ls({className:s,onNewThread:t}){const n=O(),a=Y(),r=de(),i=Z(()=>navigator.windowControlsOverlay),{isFannyPackEnabled:o}=ue();return e.jsxs("div",{className:l("flex",i?.visible&&i.getTitlebarAreaRect().left>0?"justify-end":"justify-between",s),children:[e.jsx(q,{sideOffset:4,label:n.formatMessage({id:"e7SzX9",defaultMessage:"Close sidebar"}),className:"flex",side:"right",children:e.jsx(me,{className:"no-draggable","aria-label":n.formatMessage({id:"e7SzX9",defaultMessage:"Close sidebar"}),onClick:()=>{he(a)?T.toggleNavSidebar():T.togglePopoverNavSidebar()},icon:Ee,mobileIcon:Le,surfaceContext:"secondary","data-testid":"close-sidebar-button"})}),e.jsxs("div",{className:"flex",children:[o&&e.jsx(Ve,{}),!r&&e.jsx(_e,{onClick:t,testId:"create-new-chat-button"})]})]})}function $e({onClick:s}){const{clientThreadId:t}=R(),{isSidebarFlyoutOpen:n,onSidebarFlyoutOpenChange:a}=ge();return e.jsx("div",{className:"group mt-1 flex w-full items-center justify-start",children:e.jsx(M,{onOpenChange:a,side:"right",sideOffset:4,open:n,contentAlign:"end",triggerButton:e.jsxs("button",{className:l("flex flex-1 select-none items-center gap-2 rounded-lg px-2 py-2.5 text-sm tracking-condensed text-token-text-secondary hover:bg-token-main-surface-secondary focus:ring-0",n&&"bg-token-main-surface-secondary"),onClick:s,children:[e.jsx(H,{className:l("icon-md mr-1 font-semibold text-token-sidebar-icon")}),e.jsx("span",{className:"text-left",children:e.jsx(A,{id:"25xE8F",defaultMessage:"See more"})})]}),size:"auto",children:e.jsx("div",{className:"max-h-[50dvh] overflow-x-auto px-2 [scrollbar-gutter:stable]",children:e.jsx(L,{children:e.jsx(G,{activeId:t,hideOverflowMenu:!0})})})})})}function Xe({clientThreadId:s}){const t=P(s),n=E(),{isCollapsible:a,recentConversationLimit:r}=xe(),i={recentConversationLimit:r},o=u.useRef(!1),c=!0,{conversations:m,data:d,isLoading:g,isError:U,recents:y,refetch:I}=fe(i),[D,k]=u.useState(!0),N=u.useCallback(function(x){x===void 0&&k(!1),I({cancelRefetch:!0})},[I,k]),W=n?void 0:t,V=m.length===0,w=U||d===void 0&&!g&&o.current,K=!w&&(d===void 0||g);return d===void 0&&!g&&!o.current&&(o.current=!0,N(!0)),u.useMemo(()=>{pe.publish({kind:"refreshHistory",conversations:m})},[m]),e.jsxs(e.Fragment,{children:[w&&e.jsx(Se,{showRetry:D,refetch:N}),!V&&e.jsx(je,{header:y.label,isLastInGroup:!0,children:y.items.map((b,x)=>e.jsx(ve,{item:b,isActive:b.id===W,testId:`history-item-${x}`},b.id))}),K&&e.jsx(Q,{className:"sticky top-4 z-30 mt-4 justify-self-center"}),a&&e.jsx(L,{children:e.jsx("div",{className:"-ml-2 mb-5",children:e.jsx("div",{hidden:!c,className:l(!c),children:e.jsx($e,{})})})})]})}const Ye=f(()=>p(()=>import("./onv2ooecujvgr7ev.js"),__vite__mapDeps([9,1,2,3,4,5,10,11,12,13,14,15])).then(s=>s.GizmoSidebarList));function Ze({clientThreadId:s}){const t=S(),n=_(s),{isUnauthenticated:a}=j();return a?null:e.jsxs("div",{className:l(h.screenContent),children:[null,e.jsx(Xe,{clientThreadId:s}),t?.canInteractWithGizmos()?e.jsx(Ye,{currentGizmoId:n}):null]})}function qe(){const s=S(),t=s?.data==null,{isUnauthenticated:n}=j(),{openSettings:a}=Ce(),[r]=u.useState(()=>{const d=J.getCookie(ee.Workspace);return typeof d=="string"&&d!==se}),i=O(),{store:o}=z(),c=o(d=>d.mode);if(!s||r&&t)return null;const m=n?e.jsx(Fe,{}):e.jsx(Ge,{onClickSettings:()=>a()});return e.jsxs(F,{name:"user-profile-bar",className:"z-10 mb-[0.5px] grid-cols-[minmax(0,_1fr)_auto] px-sidebar-inline md:py-1.5",type:"primary",disableSizeTracking:!0,style:{"--bar-gap":"12px","--bar-background-color":"transparent"},children:[m,e.jsx("div",{className:h.togglePinWrapper,children:e.jsx(ye,{tooltipSideOffset:14,className:h.pinSidebarAction,icon:e.jsx(Ie,{}),label:c===B.Floating?i.formatMessage({id:"b43Hkt",defaultMessage:"Pin Sidebar"}):i.formatMessage({id:"6m3n9w",defaultMessage:"Unpin Sidebar"}),htmlFor:ke.FloatingOrPinned})})]})}function Qe(){return e.jsx(F,{className:"z-10 px-sidebar-inline pb-0.5",type:"primary",disableSizeTracking:!0,style:{"--bar-gap":"12px","--bar-background-color":"transparent"},children:e.jsx(Be,{})})}function Je(){return e.jsxs(Ne,{className:l(h.screenTrailingBarContainer),children:[e.jsx(Qe,{}),e.jsx(qe,{})]})}function ds(){const{clientThreadId:s,onNewThread:t}=R(),[n,a]=u.useState(!1),{store:r,actions:i}=z(),o=u.useCallback(c=>{if(c){a(c);return}setTimeout(()=>{a(c)},100)},[]);return ze({onConversationChanged:()=>{a(!1),window.matchMedia("(max-width: 700px)").matches&&r.getState().mode===B.Floating&&setTimeout(()=>{i.closeSidebar()},100)}}),e.jsxs(we,{value:{isSidebarFlyoutOpen:n,onSidebarFlyoutOpenChange:o},children:[e.jsx(Te,{}),e.jsx(Me,{anchor:"vertical",className:l(h.screen,"popover flex-1 border-r border-r-token-border-xlight"),name:"sidebar",leading:e.jsx(Ae,{onNewThread:t}),trackLeading:!0,trailing:e.jsx(Je,{}),children:e.jsx(Ze,{clientThreadId:s})})]})}export{ds as C,ls as S,We as a,cs as b};
//# sourceMappingURL=b1nw30asgtf2gct6.js.map
