const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/v7icrvxs31nzmfhx.js","assets/e2gys00277jk3j4m.js","assets/bfszm5z7s58noy3i.js","assets/root-eplefseb.css","assets/g620wqgic7gc7jni.js","assets/conversation-small-ict01xsi.css","assets/fggoq954nx89b7a3.js","assets/e1yhbzx0zbywvgyc.js","assets/kq1a9f6rp4nk9n62.js","assets/e621k07w9upjtca5.js","assets/m7dsy9bvlybe55i0.js","assets/httk1a7kp5u4hojj.js","assets/f8xj98amm3dv1suu.js","assets/dn7wbjtki9sfx2o6.js","assets/ew25abctq4fygnxa.js","assets/iwvfyvsxksuug4ds.js","assets/l0jzdmu70uspkf49.js"])))=>i.map(i=>d[i]);
import{u as Y,j as e,r as d,ar as u,dF as A,b8 as q,aG as F,aE as v,aF as C,Y as G,aL as J,ac as Z,aY as $,a8 as y,aB as I,ao as z,b6 as E,b0 as Q,e5 as g,az as ee,aA as se,f2 as te}from"./e2gys00277jk3j4m.js";import{dn as k,F as N,bV as ne,j2 as ae,dt as ie,eP as oe,j3 as re,j4 as ce,bM as le,ch as de,j5 as ue,bj as me,bJ as he,j6 as be,U as M,b4 as P,de as L,b2 as fe,b3 as _,dv as Se,dw as m,j7 as xe,j8 as ge,fX as pe,j9 as je,dx as ve,ja as Ce,hS as ye,fR as B,b0 as R,jb as Ie,jc as ke,jd as H,je as Ne,ia as we,jf as Te,jg as Oe,eU as Me,jh as Ae}from"./g620wqgic7gc7jni.js";import{r as Fe,Z as D,bG as Ge,aA as ze}from"./bfszm5z7s58noy3i.js";import{m as Ee}from"./m7dsy9bvlybe55i0.js";import{N as Pe,u as U,h as Le}from"./httk1a7kp5u4hojj.js";import{a as _e}from"./ew25abctq4fygnxa.js";import{U as Be,P as Re}from"./iwvfyvsxksuug4ds.js";function He(){const s=k(N.SonicSidebar),[t,n]=d.useState(!1);return s.isLoading||!s.eligible?null:e.jsx(Ee.div,{className:"no-draggable group pb-0",whileTap:{scale:.98},children:e.jsx(Ue,{children:e.jsx(ne,{href:"/search",target:"_blank",icon:e.jsx("div",{className:u("gizmo-shadow-stroke mr-[0.5] flex h-[18px] w-[18px] items-center justify-center rounded-full bg-token-main-surface-primary align-middle text-token-text-primary"),children:e.jsx(ae,{})}),label:"SearchGPT",hoverRightIcon:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(We,{isOpen:t,setIsOpen:n,onDismiss:()=>s.markAsViewed()}),e.jsx(Fe,{className:u("icon-md text-token-text-tertiary",!t&&"invisible group-hover:visible")})]}),isMenuOpen:!1,loggingGizmoId:"search-gpt-sidebar"})})})}function De(){const s=oe(),t=k(N.hasSeenSncSidebarTooltip),n=re(),a=ce(),{activeModals:i}=le(),o=de();return!t.isLoading&&t.eligible&&!n&&i.size===0&&!s&&!a&&!o}function Ue({children:s}){const t=De(),n=k(N.hasSeenSncSidebarTooltip);return t?e.jsx(ie,{side:"right",show:!0,badge:"new",title:"Try SearchGPT",onDismiss:n.markAsViewed,sideOffset:10,theme:"bright",description:"You're in. Get answers with real-time information from relevant sources, and ask follow-up questions.",children:e.jsx("div",{className:"w-full",children:s})}):e.jsx(e.Fragment,{children:s})}function We({isOpen:s,setIsOpen:t,onDismiss:n}){return e.jsx(A,{open:s,onOpenChange:t,triggerButton:e.jsx("button",{className:u("flex text-token-text-tertiary",s?"":"invisible group-hover:visible"),onClick:a=>{a.preventDefault()},children:e.jsx(D,{className:"icon-md"})}),children:e.jsx(q.Item,{onClick:a=>{a.preventDefault(),n()},children:e.jsx(F,{id:"sidebar.hideFromSidebar",defaultMessage:"Hide from sidebar"})})})}function Ve(){const s=Y("114024");return!s.value||s.isLoading?null:e.jsx(He,{})}const Ke=v(()=>C(()=>import("./v7icrvxs31nzmfhx.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8])).then(s=>s.FannyPackAction)),Xe=v(()=>C(()=>import("./e621k07w9upjtca5.js"),__vite__mapDeps([9,1,2,3,4,5,10,11,12,13,14,15])).then(s=>s.GizmoSidebarList));function ls({clientThreadId:s,onNewThread:t}){const n=P(s),a=y(),{isUnauthenticated:i}=I(),o=L(s),c=z();return i?null:e.jsxs(e.Fragment,{children:[e.jsx(fe,{onNewThread:t}),a?.canInteractWithGizmos()?e.jsx(Xe,{currentGizmoId:o}):e.jsx(Ve,{}),!1,!i&&e.jsx(_,{activeId:c?void 0:n})]})}function ds({className:s,onNewThread:t}){const n=G(),a=J(),i=ue(),o=Z(()=>navigator.windowControlsOverlay),{isFannyPackEnabled:c}=me();return e.jsxs("div",{className:u("flex",o?.visible&&o.getTitlebarAreaRect().left>0?"justify-end":"justify-between",s),children:[e.jsx($,{sideOffset:4,label:n.formatMessage({id:"e7SzX9",defaultMessage:"Close sidebar"}),className:"flex",side:"right",children:e.jsx(he,{className:"no-draggable","aria-label":n.formatMessage({id:"e7SzX9",defaultMessage:"Close sidebar"}),onClick:()=>{be(a)?M.toggleNavSidebar():M.togglePopoverNavSidebar()},icon:Ge,mobileIcon:ze,surfaceContext:"secondary","data-testid":"close-sidebar-button"})}),e.jsxs("div",{className:"flex",children:[c&&e.jsx(Ke,{}),!i&&e.jsx(Pe,{onClick:t,testId:"create-new-chat-button"})]})]})}function Ye({onClick:s}){const{clientThreadId:t}=U(),{isSidebarFlyoutOpen:n,onSidebarFlyoutOpenChange:a}=Se(),i=n(m.Conversation);return e.jsx("div",{className:"group mt-1 flex w-full items-center justify-start",children:e.jsx(A,{onOpenChange:o=>a(m.Conversation,o),side:"right",sideOffset:4,open:i,contentAlign:"end",triggerButton:e.jsxs("button",{className:u("flex flex-1 select-none items-center gap-2 rounded-lg px-2 py-2.5 text-sm tracking-condensed text-token-text-secondary hover:bg-token-main-surface-secondary focus:ring-0",i&&"bg-token-main-surface-secondary"),onClick:s,children:[e.jsx(D,{className:u("icon-md mr-1 font-semibold text-token-sidebar-icon")}),e.jsx("span",{className:"text-left",children:e.jsx(F,{id:"25xE8F",defaultMessage:"See more"})})]}),size:"auto",children:e.jsx("div",{className:"max-h-[50dvh] overflow-x-auto px-2 [scrollbar-gutter:stable]",children:e.jsx(E,{children:e.jsx(_,{activeId:t,hideOverflowMenu:!0})})})})})}function qe({clientThreadId:s}){const t=P(s),n=z(),{isCollapsible:a,recentConversationLimit:i}=xe(),o={recentConversationLimit:i},c=d.useRef(!1),h=!0,{conversations:b,data:r,isLoading:l,isError:f,recents:S,refetch:x}=ge(o),[W,w]=d.useState(!0),T=d.useCallback(function(j){j===void 0&&w(!1),x({cancelRefetch:!0})},[x,w]),V=n?void 0:t,K=b.length===0,O=f||r===void 0&&!l&&c.current,X=!O&&(r===void 0||l);return r===void 0&&!l&&!c.current&&(c.current=!0,T(!0)),d.useMemo(()=>{pe.publish({kind:"refreshHistory",conversations:b})},[b]),e.jsxs(e.Fragment,{children:[O&&e.jsx(je,{showRetry:W,refetch:T}),!K&&e.jsx(ve,{header:S.label,isLastInGroup:!0,children:S.items.map((p,j)=>e.jsx(Ce,{item:p,isActive:p.id===V,testId:`history-item-${j}`},p.id))}),X&&e.jsx(Q,{className:"sticky top-4 z-30 mt-4 justify-self-center"}),a&&e.jsx(E,{children:e.jsx("div",{className:"-ml-2 mb-5",children:e.jsx("div",{hidden:!h,className:u(!h),children:e.jsx(Ye,{})})})})]})}const Je=v(()=>C(()=>import("./l0jzdmu70uspkf49.js"),__vite__mapDeps([16,1,2,3,4,5,9,10,11,12,13,14,15])).then(s=>s.ChatScreenGizmoSidebarList));function Ze({clientThreadId:s}){const t=y(),n=L(s),{isUnauthenticated:a}=I();return a?null:e.jsxs("div",{className:u(g.screenContent),children:[null,e.jsx(qe,{clientThreadId:s}),t?.canInteractWithGizmos()?e.jsx(Je,{currentGizmoId:n}):null]})}function $e(){const s=y(),t=s?.data==null,{isUnauthenticated:n}=I(),{openSettings:a}=ye(),[i]=d.useState(()=>{const r=ee.getCookie(se.Workspace);return typeof r=="string"&&r!==te}),o=G(),{store:c}=B(),h=c(r=>r.mode);if(!s||i&&t)return null;const b=n?e.jsx(Be,{}):e.jsx(Le,{onClickSettings:()=>a()});return e.jsxs(R,{name:"user-profile-bar",className:"z-10 mb-[0.5px] grid-cols-[minmax(0,_1fr)_auto] px-sidebar-inline md:py-1.5",type:"primary",disableSizeTracking:!0,style:{"--bar-gap":"12px","--bar-background-color":"transparent"},children:[b,e.jsx("div",{className:g.togglePinWrapper,children:e.jsx(Ie,{tooltipSideOffset:14,className:g.pinSidebarAction,icon:e.jsx(ke,{}),label:h===H.Floating?o.formatMessage({id:"b43Hkt",defaultMessage:"Pin Sidebar"}):o.formatMessage({id:"6m3n9w",defaultMessage:"Unpin Sidebar"}),htmlFor:Ne.FloatingOrPinned})})]})}function Qe(){return e.jsx(R,{className:"z-10 px-sidebar-inline pb-0.5",type:"primary",disableSizeTracking:!0,style:{"--bar-gap":"12px","--bar-background-color":"transparent"},children:e.jsx(Re,{})})}function es(){return e.jsxs(we,{className:u(g.screenTrailingBarContainer),children:[e.jsx(Qe,{}),e.jsx($e,{})]})}function us(){const{clientThreadId:s,onNewThread:t}=U(),[n,a]=d.useState(!1),[i,o]=d.useState(!1),{store:c,actions:h}=B(),b=d.useCallback(l=>l===m.Conversation?n:l===m.Gizmo?i:!1,[n,i]),r=d.useCallback((l,f)=>{const S=x=>{l===m.Conversation?a(x):l===m.Gizmo&&o(x)};if(f){S(f);return}setTimeout(()=>{S(f)},100)},[]);return _e(()=>{r(m.Conversation,!1),r(m.Gizmo,!1),window.matchMedia("(max-width: 700px)").matches&&c.getState().mode===H.Floating&&setTimeout(()=>{h.closeSidebar()},100)}),e.jsxs(Te,{value:{isSidebarFlyoutOpen:b,onSidebarFlyoutOpenChange:r},children:[e.jsx(Oe,{}),e.jsx(Me,{anchor:"vertical",className:u(g.screen,"popover flex-1 border-r border-r-token-border-xlight"),name:"sidebar",leading:e.jsx(Ae,{onNewThread:t}),trackLeading:!0,trailing:e.jsx(es,{}),children:e.jsx(Ze,{clientThreadId:s})})]})}export{us as C,ds as S,Ve as a,ls as b};
//# sourceMappingURL=ih3ghk3tg73vmyij.js.map
