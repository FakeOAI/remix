const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ek0uz5wcotkypz17.js","assets/e2gys00277jk3j4m.js","assets/bfszm5z7s58noy3i.js","assets/root-eplefseb.css","assets/gjq8fabbc8nyopzw.js","assets/g620wqgic7gc7jni.js","assets/conversation-small-ict01xsi.css","assets/httk1a7kp5u4hojj.js","assets/f8xj98amm3dv1suu.js","assets/m7dsy9bvlybe55i0.js","assets/dn7wbjtki9sfx2o6.js","assets/hivpsfklrhagactc.js","assets/h5mu9fgcpbfm9wev.js","assets/k7elbgtlv42t6mmw.js","assets/g89i6kd9oatbj4op.js","assets/iwhxlae6r11zlpb5.js","assets/dt9m4899d7emv3le.js","assets/f2w69ovzxyyfpdr8.js"])))=>i.map(i=>d[i]);
import{ao as Q,K as X,r as u,j as e,aE as P,aF as D,b6 as A,e6 as r,ar as y,Y as Z,aY as $,cR as J,S as ee,X as se}from"./e2gys00277jk3j4m.js";import{fl as O,hW as U,de as B,ck as ae,cf as z,hX as V,gd as W,hY as ne,cg as te,hZ as re,b$ as oe,h_ as ie,h$ as ce,fv as de,i0 as w,i1 as le,i2 as he,i3 as ue,i4 as me,i5 as Ce,i6 as pe,v as xe,i7 as ge,dO as ve,i8 as Te,i9 as q,ia as fe,b0 as N,ib as je,eQ as Se,c2 as Ie,ic as ye,id as we,ie as Ne,ig as be,hg as Ee,bA as Le,ih as Me,ii as _e,ij as He,cG as ke,ik as Fe,ge as k,eU as Re,eV as Pe}from"./g620wqgic7gc7jni.js";import{u as b,i as E}from"./httk1a7kp5u4hojj.js";import{S as De,E as Ae,C as F,a as Oe,b as Ue}from"./hivpsfklrhagactc.js";import{u as Be,C as ze}from"./ew25abctq4fygnxa.js";import{Y as Ve}from"./bfszm5z7s58noy3i.js";function G({clientThreadId:s,currentLeafId:t}){const{currentModelId:a}=b(),n=O(s),o=U(s,t),c=B(s),l=Q(),m=ae(a),i=z(s)&&!o&&(V(n)||n?.kind===X.GizmoTest);return{showEmptyState:i,canUseNewHomepage:i&&(!c||!1)&&!m&&!l}}function We(s){const{clientThreadId:t}=b(),a=u.useRef(s);a.current=s,u.useEffect(()=>{a.current()},[t])}function qe({clientThreadId:s,currentModelId:t,isModelLoaded:a,onRequestCompletion:n,v2HomepageDisclaimer:o}){return e.jsx(De,{clientThreadId:s,currentModelId:t,isModelLoaded:a,onRequestCompletion:n,v2HomepageDisclaimer:o})}const Ge=P(()=>D(()=>import("./ek0uz5wcotkypz17.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10])).then(s=>s.ChatScreenContentModals));function Ye({disableEmptyState:s,fullWidth:t}){const{clientThreadId:a,currentModelId:n,conversationLeafId:o,isEmbeddedInFocusedView:c,onChangeItemInView:l,onChangeRating:m,onRequestCompletion:i,onRequestMoreCompletions:h,isModelLoaded:C,prefetchSearch:T}=u.useContext(E),p=W(a,o),f=ne(a),x={clientThreadId:a,conversationLeafId:o,currentModelId:n,onChangeItemInView:l,onChangeRating:m,onRequestMoreCompletions:h,onRequestCompletion:i,showAvatar:!1},j=te(a),S=re({clientThreadId:a,currentLeafId:o,handleRequestCompletion:i,prefetchSearchPromise:T}),g=j||S||s,v=oe(),{initialConversationTurns:L,continuedConversationTurns:M}=ie(p,v),{canUseNewHomepage:_,showEmptyState:H}=G({clientThreadId:a,currentLeafId:o}),Y=p>=2;ce(Y);const{setTargetedContent:K}=de();return We(()=>{pe(),xe.updateScrollToMessageId(a,"finalAgentTurn")}),Be(d=>{ge({...d,leafId:d.source,isEmbeddedInFocusedView:c})&&K(void 0)}),_&&H&&!g?e.jsx(qe,{clientThreadId:a,currentModelId:n,isModelLoaded:C,onRequestCompletion:i,v2HomepageDisclaimer:e.jsx("div",{className:"text-center text-xs text-token-text-secondary",children:e.jsx(w,{clientThreadId:a})})}):!_&&H&&!g?e.jsx(Ae,{clientThreadId:a,currentModelId:n,isModelLoaded:C,onRequestCompletion:i,enableV2Homepage:!0,v2HomepageDisclaimer:e.jsx(w,{clientThreadId:a})}):e.jsxs(e.Fragment,{children:[v&&e.jsx(le,{}),v&&M.length===0&&e.jsx(he,{}),e.jsx(A,{children:e.jsxs(u.Suspense,{fallback:null,children:[e.jsx(ue,{}),L.length>0&&e.jsx("ol",{className:r.conversationTurnList,children:L.map(({turnIndex:d,isFinalTurn:I})=>e.jsx("li",{className:y(r.conversationTurnWrapper,t&&"w-full"),children:u.createElement(F,{...x,key:d,turnIndex:d,isFinalTurn:I})},d))}),v&&e.jsx(me,{}),e.jsx("ol",{className:r.conversationTurnList,children:M.map(({turnIndex:d,isFinalTurn:I})=>e.jsx("li",{className:y(r.conversationTurnWrapper,t&&"w-full"),children:u.createElement(F,{...x,key:d,turnIndex:d,isFinalTurn:I,scrollToMessageId:f})},d))})]})}),e.jsx(Ge,{}),p>0&&e.jsx(Ce,{})]})}function Ke(){return e.jsx(Ye,{})}const Qe=P(()=>D(()=>import("./hivpsfklrhagactc.js").then(s=>s.c),__vite__mapDeps([11,1,2,3,5,6,12,13,14,9,7,8,10,15,16,17])).then(s=>s.ChatScreenComposerAlerts));function Xe(){const{clientThreadId:s,currentModelId:t,isCompanionWindow:a,onRequestCompletion:n}=u.useContext(E),o=O(s),c=ve(s),l=W(s,c),m=l>=2,i=U(s,c),h=z(s)&&!m&&V(o);Te(l,s,c,h);const{setComposerFooterElement:C}=u.useContext(q);return e.jsx("div",{className:r.footer,children:e.jsxs(fe,{style:{"--bar-gap":"0.5rem","--bar-background-color":"transparent"},children:[e.jsxs(N,{type:"secondary",className:"relative",children:[m&&e.jsx(je,{className:r.scrollButton}),e.jsx(Qe,{})]}),e.jsxs(N,{type:"primary",ref:C,name:"composer-bar",children:[e.jsx(Oe,{clientThreadId:s,currentModelId:t,isNewThread:h,noWrap:!0,onRequestCompletion:n,showPromptStarters:h||!i}),!a&&e.jsx("div",{className:"text-center text-xs text-token-text-secondary",children:e.jsx(w,{clientThreadId:s})})]})]})})}function Ze(){const s=Z(),{clientThreadId:t,onNewThread:a}=u.useContext(E);return B(t),e.jsxs(N,{leading:!0,type:"primary",className:r.header,children:[e.jsxs("div",{className:r.headerLeading,children:[e.jsx(Se,{}),e.jsx($,{label:s.formatMessage(R.newChat),children:e.jsx(J,{to:"/",className:r.newThread,onClick:n=>{a?(n.preventDefault(),a()):ee.logEvent("chatgpt_web_thread_tap_new_thread")},children:e.jsx(Ie,{className:r.sidebarIcon,icon:e.jsx(Ve,{style:{viewTransitionName:"var(--vt_new_chat_thread)"}}),label:s.formatMessage(R.newChat),style:{display:"var(--screen-size-hidden-on-compact-mode)"}})})}),e.jsx("div",{className:r.threadDropdown,children:e.jsx(ye,{clientThreadId:t})})]}),e.jsx("div",{className:r.headerTrailing,children:e.jsx(A,{children:e.jsx(Ue,{clientThreadId:t})})})]})}const R=se({newChat:{id:"rnCpM4",defaultMessage:"New Chat"}});function ts({hideHeader:s=!1,hideFooter:t=!1,hideTools:a=!1}){const{clientThreadId:n,currentModelId:o,conversationLeafId:c,isCompanionWindow:l,isInstalledApp:m,onRequestCompletion:i}=b(),{canUseNewHomepage:h,showEmptyState:C}=G({clientThreadId:n,currentLeafId:c}),T=we()[o],[p,f]=Ne({name:"composer-bar",track:"height"}),x=be(n),j=Ee(),{isOpen:S}=Le(),g=t||C&&h;return e.jsx(Me.Provider,{value:i,children:e.jsx(_e,{children:e.jsxs(He,{clientThreadId:n,currentLeafId:c,children:[e.jsx(ke,{children:x!=null&&e.jsx("title",{children:x})}),e.jsx(Fe,{clientThreadId:n,className:"flex-1",currentModelConfig:T,children:e.jsx(q.Provider,{value:{setComposerFooterElement:f},children:e.jsxs("div",{className:"h-full",style:{container:"thread-container / inline-size"},children:[e.jsx(k,{id:"canvas-state",name:"canvas-state",checked:j}),e.jsx(k,{id:"thread-extended-info-sidebar-state",name:"thread-extended-info-sidebar-state",checked:S}),e.jsx(Re,{anchor:"vertical",className:y(r.screen,C&&h&&r.screenEmptyState,l&&r.screenCompanionWindow,m&&r.screenInstalledApp),name:"thread",leading:!s&&e.jsx(Ze,{}),style:p,trackLeading:!0,trackTrailing:!0,trailing:!g&&e.jsx(Xe,{}),children:e.jsx(Ke,{})}),!l&&!a&&e.jsxs(e.Fragment,{children:[e.jsx(ze,{}),e.jsx(Pe,{})]})]})})})]})})})}export{ts as C};
//# sourceMappingURL=osqhfcq7mflbhp5v.js.map
