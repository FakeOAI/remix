const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/wcdse0plbapxnkb7.js","assets/e2gys00277jk3j4m.js","assets/bfszm5z7s58noy3i.js","assets/root-eplefseb.css","assets/g620wqgic7gc7jni.js","assets/conversation-small-ict01xsi.css","assets/m7dsy9bvlybe55i0.js","assets/kc29qhgw9xlya1vn.js","assets/j5w4166bn3c02o6l.js","assets/nk4yluoycs98ntt2.js","assets/nujg8fb26pdz2uoj.js","assets/ADAVisualizationComponent-mi6em660.css","assets/j2sub8vhi4qsv186.js","assets/httk1a7kp5u4hojj.js","assets/f8xj98amm3dv1suu.js","assets/dn7wbjtki9sfx2o6.js","assets/bb1qjunbn75xf8uh.js","assets/o8uk4yyxszsp6r7n.js","assets/b7c0jg14o2kl202g.js","assets/mo70l5idezr1lbsw.js","assets/jk84mj6hqf01jo8l.js","assets/mjo2qzb8xs3rattc.js","assets/o6dnlllykj5tgz2f.js","assets/g84pvx4tpp00mu6x.js","assets/f464p6jkc3yow2e5.js"])))=>i.map(i=>d[i]);
import{Y as te,r as M,j as t,aY as ue,ar as N,aw as W,aE as b,aF as S,M as ae,cg as fe,ch as he,aG as z,T as xe,P as B,d as H,K as V,dD as pe}from"./e2gys00277jk3j4m.js";import{hd as Ee,he as Me,fH as Te,fI as Ie,fA as ye,hf as _e,hg as Ae,hh as Ce,hi as ve,hj as je,hk as Ne,hl as be,hm as Se,hn as we,ho as Re,fK as u,fJ as O,hp as K,hq as Y,hr as De,hs as Fe,ht as G,hu as ne,br as L,fa as oe,hv as Oe,hw as Pe,hx as ke,hy as Le,bo as ie,hz as Ve,hA as ze,hB as We,ad as Ue,hC as Be,hD as He,hE as Ke,hF as re,hG as Ye,hH as le,hI as Ge,c as Je,hJ as Qe,bs as $e,hK as Xe,v as Ze,bn as qe,fi as es,hL as ss,fG as i,A as ts,df as as,hM as ns,hN as os,cD as is}from"./g620wqgic7gc7jni.js";import{e as J,f as rs}from"./httk1a7kp5u4hojj.js";import{m as P}from"./m7dsy9bvlybe55i0.js";import{aK as ls,ae as ds}from"./bfszm5z7s58noy3i.js";const cs=(e,a)=>e?.textdocId?e.textdocId:e?.function===O.CreateTextdoc?De(e):a??void 0,ms=({messages:e,isRequestActive:a})=>{const s=te(),o=Ee(e),d=Me(e),n=M.useMemo(()=>{if(Te(o?.message))return Ie(a,o.message,d?.message??null)},[a,o,d]),m=ye(),c=cs(n,m),l=_e(c),f=Ae(),g=Ce(c),p=ve(),x=je(),E=Ne(),h=be(),T=Se(),y=we(),v=Re({textdocId:c,toolResponseMessage:d});if(!n)return null;const j=n.status===u.REDACTED||!h&&!l&&n.status!==u.STREAMING&&n.status!==u.WAITING&&T;let w,R;if(n.status!==u.REDACTED&&n.status!==u.FAILED&&!j&&c){const A=y&&n.function===O.UpdateTextdoc&&n.status===u.COMPLETE;w=()=>{A&&n.versionInt?Fe(c,n.versionInt,p):K(c)},R=()=>{A&&n.versionInt&&E(c,n.versionInt)}}const r=gs(n,l);if(n.function===O.CreateTextdoc){if(n.status===u.STREAMING||n.status===u.WAITING||n.status===u.COMPLETE){const k=h===!0&&(n.status===u.STREAMING||n.status===u.WAITING);return t.jsx(J,{isInlinePreview:v,isFetching:k,type:n.type??null,name:r,isFocused:g,isStreaming:n.status===u.STREAMING,onClick:w,isCanvasOpen:f,textdocId:c})}let A;switch(n.status){case u.FAILED:A=s.formatMessage({id:"SNarKX",defaultMessage:"Failed to generate"});break;case u.CANCELED:A=s.formatMessage({id:"1A6W36",defaultMessage:"Stopped generating"});break;case u.REDACTED:A=t.jsx(ue,{align:"start",label:s.formatMessage({id:"F6q1k7",defaultMessage:"Removed from shared conversation"}),children:s.formatMessage({id:"BqyYDu",defaultMessage:"Created document"})});break}return t.jsx(Q,{children:A})}const I=j||n.status===u.REDACTED,D=x&&!I?r:null,_=t.jsx(Q,{onClick:w,onMouseOver:R,isStreaming:n.status===u.STREAMING,children:n.function===O.CommentTextdoc?fs(s,n,D):us(s,n,D)});return v&&!f&&!j?t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx(J,{isInlinePreview:!0,isFetching:!1,type:l?.type??null,name:r,isFocused:g,isStreaming:n.status===u.STREAMING,onClick:c!=null?()=>K(c):void 0,isCanvasOpen:f,textdocId:c}),_]}):_};function gs(e,a){return a?.title?Y(a.title):e.function===O.CreateTextdoc&&e.title?Y(e.title):null}const Q=({isStreaming:e=!1,onClick:a,onMouseOver:s,children:o})=>t.jsx("button",{disabled:!a,className:N(e&&"loading-shimmer","flex min-h-5 w-fit select-none pt-[3px] text-start text-token-text-secondary",a&&"hover:text-token-text-primary"),onClick:a,onMouseOver:s,children:o}),de=9;function us(e,a,s){if(a.status===u.STREAMING)return s?e.formatMessage({id:"W2xN1Z",defaultMessage:"Editing {documentTitle}"},{documentTitle:s}):e.formatMessage({id:"8taq8v",defaultMessage:"Editing"});if(a.status===u.FAILED)return s?e.formatMessage({id:"UjJKYZ",defaultMessage:"Failed to edit {documentTitle}"},{documentTitle:s}):e.formatMessage({id:"kWUVkg",defaultMessage:"Failed to edit"});if(a.status===u.CANCELED)return s?e.formatMessage({id:"TmSrCd",defaultMessage:"Stopped editing {documentTitle}"},{documentTitle:s}):e.formatMessage({id:"bYV7xA",defaultMessage:"Stopped editing"});const o=a.updates?.length;return a.status===u.REDACTED||!o||o>de?s?e.formatMessage({id:"n+G/ct",defaultMessage:"Edited {documentTitle}"},{documentTitle:s}):e.formatMessage({id:"aegqpL",defaultMessage:"Edited"}):s?e.formatMessage({id:"osYMSb",defaultMessage:"{numEdits, plural, one {Edited {documentTitle}} other {Made {numEdits} edits to {documentTitle}}}"},{numEdits:o,documentTitle:s}):e.formatMessage({id:"xJD3WR",defaultMessage:"{numEdits, plural, one {Edited} other {Made {numEdits} edits}}"},{numEdits:o})}function fs(e,a,s){if(a.status===u.STREAMING)return s?e.formatMessage({id:"8xQH/P",defaultMessage:"Commenting on {documentTitle}"},{documentTitle:s}):e.formatMessage({id:"5yqLeN",defaultMessage:"Commenting"});if(a.status===u.FAILED)return s?e.formatMessage({id:"Rl821S",defaultMessage:"Failed to comment on {documentTitle}"},{documentTitle:s}):e.formatMessage({id:"W007jt",defaultMessage:"Failed to comment"});if(a.status===u.CANCELED)return s?e.formatMessage({id:"bozPdq",defaultMessage:"Stopped commenting on {documentTitle}"},{documentTitle:s}):e.formatMessage({id:"hyBGa7",defaultMessage:"Stopped commenting"});const o=a.comments?.length;return a.status===u.REDACTED||!o||o>de?s?e.formatMessage({id:"LXEzK7",defaultMessage:"Commented on {documentTitle}"},{documentTitle:s}):e.formatMessage({id:"KeMYhy",defaultMessage:"Commented"}):s?e.formatMessage({id:"Ql5lPq",defaultMessage:"{numComments, plural, one {Commented on {documentTitle}} other {Added {numComments} comments on {documentTitle}}}"},{numComments:o,documentTitle:s}):e.formatMessage({id:"FHtyJQ",defaultMessage:"{numComments, plural, one {Commented} other {Added {numComments} comments}}"},{numComments:o})}const hs=2e3,ce=.4,xs=.45,ps=.2,Es=.1,Ms=.25;var C=(e=>(e[e.Running=0]="Running",e[e.Finished=1]="Finished",e[e.Error=2]="Error",e[e.Stopped=3]="Stopped",e[e.Paused=4]="Paused",e))(C||{});function Js({conversationMessages:e,icon:a,status:s,text:o,estimatedToolDurationMs:d,animationLoopDurationMs:n=hs,shouldPersistAfterFinished:m=!1}){const[c,l]=M.useState(s===0?0:s===1&&!m?7:1),[f,g]=M.useState(0);M.useEffect(()=>{s===2?l(8):s===3?l(9):s===4?l(10):s===1?l(c===2?3:7):s===0&&c===10&&(l(2),g(x=>x+1))},[s]);const p=ys(c);return M.useEffect(()=>{const x=e[0].message.id;if(p)return G.addDelayedRenderingMessage(x),()=>{G.removeDelayedRenderingMessage(x)}},[p]),ne(()=>{F(c)&&g(x=>x+1)},n),c===7&&!m?null:t.jsxs("div",{className:"my-2.5 flex items-center gap-2.5",children:[t.jsx(Ts,{icon:a,status:s,uiState:c,estimatedToolDurationMs:d,animationLoopCounter:f,shouldPersistAfterFinished:m,onFillProgressBarAnimationComplete:()=>l(4),onFinishAnimationComplete:()=>{l(5),setTimeout(()=>{l(m?7:6)},Es*1e3)},onHideAnimationComplete:()=>l(7)}),t.jsx(Is,{text:o,uiState:c,animationLoopCounter:f,onEnterAnimationComplete:()=>l(2)})]})}const $=50;function Ts({icon:e,status:a,uiState:s,estimatedToolDurationMs:o,animationLoopCounter:d,shouldPersistAfterFinished:n,onFillProgressBarAnimationComplete:m,onFinishAnimationComplete:c,onHideAnimationComplete:l}){const[f,g]=M.useState(0);ne(()=>{F(s)?g(j=>j+$):s===10&&g(0)},$);let p,x,E;F(s)||s===10?(p="running",x=t.jsx(e,{animationLoopCounter:d}),E="bg-transparent"):s===4||s===5||s===7&&n?(p="finished",x=t.jsx(Oe,{}),E="bg-brand-purple"):a===2?(p="error",x=t.jsx(Pe,{}),E="bg-orange-500"):a===3&&(p="stopped",x=t.jsx(ke,{}),E="bg-gray-300");let h={opacity:0,scale:0,rotate:-180,x:0},T={type:"spring",bounce:.3,duration:xs},y={opacity:0,scale:.6,rotate:0,x:0};s===0?(h={opacity:0,scale:.5,rotate:-180,x:-8},T={type:"spring",bounce:.3,duration:ce}):s===1?h=!1:s===5&&(y={opacity:0,scale:0,rotate:0,x:0},T={type:"spring",bounce:.3,duration:Ms});const v=Le(f,o);return t.jsx("div",{className:"relative h-5 w-5 shrink-0",children:t.jsx(L,{onExitComplete:()=>{s===6&&l()},children:p!=null&&t.jsxs(P.div,{className:N("absolute left-0 top-0 flex h-full w-full items-center justify-center rounded-full text-white",E),initial:h,animate:{opacity:1,scale:1,rotate:0,x:0},exit:y,transition:T,onAnimationComplete:()=>{s===4&&c()},children:[x,(F(s)||s===10)&&t.jsx(oe,{percentage:s===3?100:v,thickness:1.5/23,className:"absolute left-1/2 top-1/2 h-[23px] w-[23px] -translate-x-1/2 -translate-y-1/2 text-brand-purple",backgroundStrokeClassName:"stroke-brand-purple/25 dark:stroke-brand-purple/50",transitionDuration:s===3?`${(100-v)/100*ps}s`:void 0,transitionTimingFunction:s===3?"cubic-bezier(0.55, 0, 1, 1)":void 0,onTransitionEnd:()=>{s===3&&m()}})]},p)})})}function Is({text:e,uiState:a,animationLoopCounter:s,onEnterAnimationComplete:o}){const[d,n]=M.useState(e);M.useEffect(()=>{a===2&&n(e)},[s]),M.useEffect(()=>{F(a)||n(e)},[a,e]);let m={opacity:0,x:0,y:15},c={type:"spring",bounce:.3,opacity:{duration:.15},y:{duration:.3}};a===0?(m={opacity:0,x:-8,y:0},c={type:"spring",bounce:.3,duration:ce,delay:.15}):a===1&&(m=!1);const l=d??void 0;return t.jsx("div",{className:N("relative h-5 w-full leading-5",a===8||a===9?"text-token-text-tertiary":"text-token-text-secondary"),children:t.jsx(L,{children:l!=null&&t.jsx(P.div,{className:"absolute left-0 top-0 line-clamp-1 overflow-visible",initial:m,animate:{opacity:1,x:0,y:0},exit:{opacity:0,x:0,y:-15},transition:c,onAnimationComplete:()=>{a===0&&o()},children:l},l.toString())})})}function F(e){return e===0||e===2||e===3}function ys(e){return F(e)||e===4||e===5||e===6||e===10}const X=W.div`group absolute left-0 top-0 mr-1.5 h-8 overflow-hidden mt-1`;function U({highlightedCommand:e,status:a,children:s,showWorkUserSetting:o=!1,hideOnlyIfNotInteractedWith:d=!1,onOpenAnalytics:n}){const m=s!=null,[c]=M.useState(o),[l,f]=M.useState(o),[g,p]=M.useState(!1),x=a===C.Finished||a===C.Error,E=d?c?!1:!g:!1,h=a===C.Running&&"loading-shimmer";return x&&E?null:m?t.jsxs(t.Fragment,{children:[t.jsx(Z,{$canShowWork:!0,children:t.jsx(L,{children:t.jsx(X,{children:t.jsx(P.button,{onClick:()=>{l||n?.(),f(T=>!T),p(!0)},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:N(h),children:t.jsxs("div",{className:"flex items-center justify-start gap-1",children:[t.jsx("span",{children:e}),l?t.jsx(ls,{className:"icon-md"}):t.jsx(ds,{className:"icon-md"})]})},e?.toString())})})}),t.jsx(L,{children:l&&s&&t.jsx(P.div,{initial:"collapsed",animate:"reveal",exit:"collapsed",variants:{collapsed:{translateY:-20,opacity:0,height:0},reveal:{translateY:0,opacity:1,height:"auto"}},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:s})})]}):t.jsx(Z,{$canShowWork:!1,children:t.jsx(X,{className:N(h),children:e})})}const Z=W.p`first:mt-0 relative h-8
${({$canShowWork:e})=>e?"text-token-text-secondary hover:text-token-text-primary my-1.5":"text-token-text-secondary"}`,q=b(()=>S(()=>import("./wcdse0plbapxnkb7.js").then(e=>e.A),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11])).then(e=>e.default));function _s({messages:e,isRequestActive:a,clientThreadId:s}){const[o,d]=e,n=ie(o.message),m=d?.message.metadata?.aggregate_result,c=Ve(),l=ze(),f=d?.message?We(d.message):[],g=d?.message.metadata?.aggregate_result?.messages.filter(Ue)??[],x=(f.filter(T=>T.type==="chart")??[]).length!==g.length,E=l&&!x;let h=C.Running;return m?.status==="success"?h=C.Finished:d!=null&&d.message.content.content_type!==ae.ExecutionOutput||m!=null&&m.status!=="running"?h=C.Error:(n||!a)&&(h=C.Stopped),t.jsxs(t.Fragment,{children:[t.jsx(As,{messages:e,status:h,isRequestActive:a}),E&&f.map((T,y)=>{const{type:v}=T;return v==="chart"&&!c?(T.fallback_to_image=!0,t.jsx(ee,{children:t.jsx(q,{clientThreadId:s,visualization:T})},y)):t.jsx(ee,{children:t.jsx(q,{clientThreadId:s,visualization:T})},y)}),!E&&d!=null&&t.jsx(Be,{message:d.message})]})}const ee=W.div`mb-3 max-w-[80%]`;function As({messages:e,status:a,isRequestActive:s}){const[o,d]=e,n=te(),m=d?.message.metadata?.aggregate_result,c=ie(o.message),{data:l,error:f}=fe(he.ShowExpandedCodeView);let g=n.formatMessage({id:"message.tools.data-analysis.running",defaultMessage:"Analyzing"});if(m?.status==="success"?g=n.formatMessage({id:"message.tools.data-analysis.finished",defaultMessage:"Analyzed"}):d!=null&&d.message.content.content_type!==ae.ExecutionOutput||m!=null&&m.status!=="running"?g=n.formatMessage({id:"message.tools.data-analysis.error",defaultMessage:"Analysis errored"}):(c||!s)&&(g=n.formatMessage({id:"message.tools.data-analysis.stopped",defaultMessage:"Analysis paused"})),l!==void 0||f){const p=He(o.message)!=null;return t.jsx(U,{status:a,highlightedCommand:g,showWorkUserSetting:l??!1,hideOnlyIfNotInteractedWith:!0,children:p?t.jsxs("div",{className:"mb-3 mt-0.5 overflow-hidden rounded-xl bg-black",children:[t.jsx(Ke,{message:o.message,FormattedText:re}),d!=null&&t.jsx(Ye,{message:d.message})]}):null})}return null}const Cs=3,vs=.1,se=[0,.26,.4];function js({nextMessage:e,isLastMessage:a,isRequestActive:s}){let o=a||!e||e&&!le(e.message);const d=Ge(e?.message),n=Je(d.slice(0,Cs).map(m=>m.entries[0].url));if(e?.message.id&&Qe(e?.message.id),o){const m=s?t.jsxs("div",{className:"flex items-center gap-1",children:[n.map((c,l)=>t.jsx(P.div,{className:N("-ml-1.5 first:ml-0 last:mr-1.5","relative"),initial:{width:l===0?0:6,opacity:0},animate:{width:20,opacity:1},transition:{duration:vs,delay:se[Math.min(l,se.length-1)]},children:t.jsx("div",{className:N("flex h-[22px] w-[22px] items-center overflow-hidden rounded-full","border-2 border-token-main-surface-primary bg-token-main-surface-primary"),children:t.jsx($e,{url:c,size:32,minSize:16,className:"icon-md rounded-full"})})},c)),t.jsx(z,{id:"jjx8Qg",defaultMessage:"Searching the web"})]}):t.jsx(z,{id:"fssXGM",defaultMessage:"Error while searching"});return t.jsx(U,{highlightedCommand:m,status:s?C.Running:C.Error})}return null}const Ns={strong:e=>{const{node:a,children:s,...o}=e;return t.jsx("strong",{...o,className:N(o.className,"font-semibold text-token-text-primary"),children:s})},p:e=>{const{node:a,children:s,...o}=e;return t.jsx("p",{...o,className:N(o.className,"text-base","has-[strong]:mb-1 [&:not(:first-child)]:has-[strong]:mt-3 [&:not(:has(strong))]:mb-3"),children:s})}};function bs({headline:e,message:a}){const o=a.create_time?new Date(a.create_time*1e3):Date.now(),d=+new Date-+o,n=es(a.id,48e4,ss(48e4,d));return t.jsxs("div",{className:"flex items-center gap-2.5",children:[t.jsx(oe,{percentage:n,thickness:1/8,className:"h-5 w-5 text-token-text-primary",backgroundStrokeClassName:"stroke-token-main-surface-tertiary",transitionDuration:`${(100-n)/100*.2}s`,transitionTimingFunction:"cubic-bezier(0.55, 0, 1, 1)"}),e]})}function Ss({messages:e,isStreaming:a,clientThreadId:s}){const[o,d]=M.useState(""),[n,m]=M.useState(!1),f=Xe(s)===xe.STREAMING||a,g=e[0].message,p=g.id,x=Ze.getServerThreadId(s),E=qe(g),h=g.metadata?.summarization_headline,T=a&&h!=null;M.useEffect(()=>{const j=/\*\*(.*?)(?:\*\*|\n|$)/g;let w,R="";for(;(w=j.exec(E))!=null;)R=w[1].trim();R?d(R):g.metadata?.initial_text!=null&&d(g.metadata.initial_text)},[E,g.metadata?.initial_text]),M.useEffect(()=>{E.length>0&&!h&&m(!0)},[E,h]);const y=M.useMemo(()=>({client_thread_id:s,message_id:p,conversationId:x}),[s,p,x]);M.useEffect(()=>{n&&B.logEvent(H.receivedA8KM123Message,y)},[n]);const v=M.useCallback(()=>{B.logEvent(H.openedA8KM123Message,{...y,isStreaming:a})},[y,a]);return t.jsx(U,{status:f?C.Running:C.Finished,highlightedCommand:f?h==null?o:t.jsx(bs,{headline:h,message:g}):g.metadata?.finished_text??"",onOpenAnalytics:v,children:n&&!T?t.jsx("div",{className:"mb-4 border-l-2 pl-4 dark:border-token-text-secondary",children:t.jsx(re,{componentOverrides:Ns,className:"not-prose leading-6",children:E})}):null})}const ws=b(()=>S(()=>import("./j2sub8vhi4qsv186.js"),__vite__mapDeps([12,1,2,3,4,5,13,14,6,15]))),Rs=b(()=>S(()=>import("./bb1qjunbn75xf8uh.js"),__vite__mapDeps([16,1,2,3,4,5]))),Ds=b(()=>S(()=>import("./o8uk4yyxszsp6r7n.js"),__vite__mapDeps([17,1,2,3,4,5,13,14,6,15]))),Fs=b(()=>S(()=>import("./b7c0jg14o2kl202g.js"),__vite__mapDeps([18,1,2,3,4,5])).then(e=>e.TextMessageEditor)),Os=b(()=>S(()=>import("./mo70l5idezr1lbsw.js"),__vite__mapDeps([19,1,2,3,4,5,6,13,14,15]))),Ps=b(()=>S(()=>import("./jk84mj6hqf01jo8l.js"),__vite__mapDeps([20,1,2,3,4,5,13,14,6,15]))),ks=b(()=>S(()=>import("./mjo2qzb8xs3rattc.js"),__vite__mapDeps([21,1,2,3,4,5,22,6,13,14,15])).then(e=>e.BrowsingMessage)),Ls=b(()=>S(()=>import("./g84pvx4tpp00mu6x.js"),__vite__mapDeps([23,1,2,3,4,5])).then(e=>e.SearchResultMessage)),Vs=b(()=>S(()=>import("./f464p6jkc3yow2e5.js"),__vite__mapDeps([24,1,2,3,4,5,13,14,6,15])).then(e=>e.JITPluginMessage));function Qs(e){switch(e.type){case i.Text:case i.Debug:return[e.message];case i.MultiText:case i.Browsing:case i.CodeInterpreter:case i.JITPlugin:case i.RetrievalBrowsing:case i.ParallelBrowsing:case i.Dalle:case i.GizmoEditor:case i.SearchResult:case i.a8km123:case i.f959b8c:case i.b1de6e2:case i.b1de6e2_c:case i.Canmore:case i.de1d73e:case i.SearchGPTQuery:return e.messages;default:throw new Error("Bad")}}function $s({groupedMessagesToRender:e,allGroupedMessages:a,clientThreadId:s,isEditing:o,isUserTurn:d,isCompletionRequestInProgress:n,isFeedbackEnabled:m,isFinalTurn:c,turnIndex:l,hasActiveRequest:f,showEditButton:g=!1,handleEnterEdit:p,handleExitEdit:x,onChangeItemInView:E,onRequestMoreCompletions:h,onRequestCompletion:T,shouldGrowContainer:y=!0}){const{showDebugConversationTurns:v}=ts(),j=as(s),w=a.some(r=>ns.includes(r.type)),R=e.map((r,I)=>{const D=I===a.length-1;switch(r.type){case i.Text:case i.MultiText:{const _=e[I-1],A=_?.type,k=_&&"messages"in _?_.messages:void 0;if(r.type===i.Text){const me=r?.message&&!le(r.message.message),ge=o?t.jsx(Fs,{message:r.message,clientThreadId:s,onChangeItemInView:E,onRequestCompletion:T,onRequestMoreCompletions:h,onExitEdit:x,disabled:f}):w&&me?null:t.jsx(rs,{className:"min-h-8",message:r.message,isFeedbackEnabled:m,isCompletionInProgress:D&&n,turnIndex:l,clientThreadId:s,showEditButton:g,onEnterEdit:p,isUserTurn:d,onRequestMoreCompletions:h,prevGroupedMessageType:A,prevGroupedMessages:k});return t.jsxs(M.Fragment,{children:[ge,t.jsx(os,{isUserTurn:d,message:r.message.message})]},"group-"+r.message.nodeId)}else return r.type===i.MultiText?t.jsx(Ds,{clientThreadId:s,messages:r.messages,isCompletionInProgress:D&&n,isFeedbackEnabled:m,onRequestMoreCompletions:h,prevGroupedMessageType:A,prevGroupedMessages:k},"multitext-"+(r.messages[0]?.nodeId??I)):r.type}case i.Browsing:case i.RetrievalBrowsing:{const _=j!=null&&[V.GizmoInteraction,V.GizmoMagicCreate,V.GizmoTest].includes(j.kind);return t.jsx(ks,{messages:r.messages,isRequestActive:f,isLastMessageInTurn:D,isUsingGizmo:_,isRetrieval:r.type===i.RetrievalBrowsing},"browsing-"+(r.messages[0]?.nodeId??I))}case i.SearchGPTQuery:{const _=a.slice(I+1).find(A=>A.type===i.Text);return t.jsx(js,{isRequestActive:f,isLastMessage:D,nextMessage:_&&_.type===i.Text?_.message:void 0},"searchquery-"+(r.messages[0]?.nodeId??I))}case i.a8km123:return t.jsx(Ss,{messages:r.messages,isStreaming:D&&n,clientThreadId:s},"sum-"+(r.messages[0]?.nodeId??I));case i.f959b8c:return null;case i.b1de6e2:return null;case i.b1de6e2_c:return null;case i.de1d73e:return null;case i.ParallelBrowsing:return t.jsx(Ps,{messages:r.messages},"parallel-"+(r.messages[0]?.nodeId??I));case i.CodeInterpreter:return t.jsx(_s,{messages:r.messages,isRequestActive:f,clientThreadId:s},"ada-"+(r.messages[0]?.nodeId??I));case i.JITPlugin:return t.jsx(Vs,{messages:r.messages,clientThreadId:s,isLastTurnInConversation:c,onRequestCompletion:T},"jit-"+(r.messages[0]?.nodeId??I));case i.Dalle:return t.jsx(Os,{messages:r.messages,clientThreadId:s},"dalle-"+(r.messages[0]?.nodeId??I));case i.GizmoEditor:return t.jsx(ws,{messages:r.messages},"gizmo-editor-"+(r.messages[0]?.nodeId??I));case i.Canmore:return t.jsx(ms,{messages:r.messages,isRequestActive:f},"canmore-"+(r.messages[0]?.nodeId??I));case i.Debug:return v?t.jsx(Rs,{message:r.message},"debug-"+r.message.nodeId):null;case i.SearchResult:return t.jsx(Ls,{messages:r.messages},"search-result-"+(r.messages[0]?.nodeId??I))}});return t.jsx(Ws,{shouldGrowContainer:y,children:R})}function zs(){return t.jsx(is,{type:"danger",children:t.jsx(z,{id:"daIg0P",defaultMessage:"Unable to display this message due to a error."})})}function Ws({children:e,shouldGrowContainer:a}){return t.jsx("div",{className:N({"flex max-w-full flex-col":!0,"flex-grow":a}),children:t.jsx(pe,{name:"GroupedMessages",fallback:zs,children:e})})}export{$s as C,C as T,U as a,Js as b,Qs as g};
//# sourceMappingURL=dt9m4899d7emv3le.js.map
