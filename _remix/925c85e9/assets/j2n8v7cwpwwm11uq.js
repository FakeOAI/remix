import{j as e,e as g,Z as C,r as m,M as v}from"./nqo5y2f0dorhrqsr.js";import{fJ as T,dL as I,d4 as b,dW as p,bb as N,at as y,f6 as x,fK as E,u as P,d6 as u,ai as M,ci as z,cC as w}from"./ea44aepkxmyz26n5.js";import{C as k}from"./otkslg3u4tfmpl14.js";import{c2 as H,c3 as L,c4 as j,c5 as F,c6 as G,c7 as O,c8 as f,c9 as Q,ca as U,cb as A,cc as D,H as q,b as K,b6 as R,cd as W,ce as Z,cf as J,D as V,cg as _}from"./fn7uhkmkudh3vw3f.js";import{C as B}from"./hsut84jr99ao5q4g.js";import{u as X,a as Y}from"./gg3yq1dwjx7pu1s5.js";import $ from"./c3wc2fdm45cuykxz.js";import{u as ee,C as ae,b as se,c as re}from"./m0takahsp5ucjr41.js";import{C as te}from"./k261tbuxq96we1xm.js";import"./flhx4fn7fhjef03e.js";import"./dojh9c2da7skqh96.js";import"./me1wjkpol6ij922a.js";import"./bsmsu7atvs04jstd.js";import"./mav83crfduvkg85m.js";import"./nums9gh1tl3cdmet.js";import"./kzcn0sz9aduth8sg.js";import"./cwgogr1skgz7trto.js";import"./l1svf6ckvy08u9cq.js";function ne(){const{clientThreadId:a,currentModelId:t,conversationLeafId:s,onRequestCompletion:c}=X(),{showEmptyState:l}=ee({clientThreadId:a,currentLeafId:s}),h=H()[t],n=T(a),d=L(),r=I(),i=b()??"",o=j({gizmoId:i,draft:!1}),S=p();return e.jsx(N.Provider,{value:c,children:e.jsx(F,{children:e.jsxs(G,{clientThreadId:a,currentLeafId:s,children:[e.jsx(O,{children:n!=null&&e.jsx("title",{children:n})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(f,{id:"canvas-state",name:"canvas-state",checked:d}),e.jsx(f,{id:"thread-extended-info-sidebar-state",name:"thread-extended-info-sidebar-state",checked:r}),e.jsx(Q,{anchor:"vertical",className:y(x.screen,l&&x.screenEmptyState),name:"thread",leading:S?e.jsx(ae,{}):e.jsx(se,{clientThreadId:a}),trackLeading:!0,children:o.data&&e.jsx("div",{className:"flex h-full w-full",children:e.jsx("div",{className:"max-h-[100cqh] flex-grow overflow-y-auto",children:e.jsx("div",{className:"mx-auto max-w-screen-md",children:e.jsx(U,{clientThreadId:a,currentModelConfig:h,children:e.jsx(re,{})})})})})}),e.jsx(te,{}),e.jsx(A,{})]})]})})})}function ie(){const a=_(t=>t.sharingModalThreadId);return a?e.jsx($,{serverThreadId:a}):null}function Ne(){const a=g(),{gizmoSlug:t}=C(),s=E(t??""),c=j({gizmoId:s,draft:!1}),{isPending:l}=D(s),h=p(),{isLoading:n}=P("491279851"),d=q();m.useEffect(()=>{!n&&!d&&a("/")},[n,d,a]);const[r,i]=m.useState(()=>u());K(r,{kind:M.GizmoInteraction,gizmo_id:s}),m.useEffect(()=>{i(u())},[s]);let o=e.jsx("div",{className:"flex h-full w-full",children:e.jsx("div",{className:"m-auto",children:e.jsxs("div",{className:"flex justify-center",children:[e.jsx("span",{className:"sr-only","aria-busy":!0,role:"status","aria-live":"polite",children:e.jsx(v,{...R.loadingProjects})}),e.jsx(z,{className:"h-10 w-10 text-token-text-secondary"})]})})});return c.data&&!l&&(o=e.jsx(ne,{})),e.jsx(W,{children:e.jsx(Y,{clientThreadId:r,setClientThreadId:i,children:h?e.jsx(Z,{children:e.jsx(J,{className:w.application,sidebar:e.jsx(B,{}),thread:o,debugger:e.jsx(V,{clientThreadId:r})})}):e.jsxs(e.Fragment,{children:[e.jsx(k,{clientThreadId:r,setClientThreadId:i,threadContent:o}),e.jsx(ie,{})]})})})}export{Ne as default};
//# sourceMappingURL=j2n8v7cwpwwm11uq.js.map
