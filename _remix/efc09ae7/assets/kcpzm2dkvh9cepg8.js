import{r as m,m as e,aJ as y,V as F,bi as x,v as Z,cj as fe,aO as A,a6 as he,W as B,cF as M,cE as Q,P as $,d as J,bp as ge,di as pe,ec as K,bW as je,bo as ve,bY as be,bI as ye,fh as Se,ea as Ce,e7 as Ne}from"./ogb0m6wfmpkwr4v0.js";import{T as we,p as L,ay as ke,C as Ie,bB as Fe,aj as q,D as Te}from"./b9t2rzfm26s20fe0.js";import{ch as c,iy as O,iz as Pe,iA as ee,iB as D,iC as te,iD as se,gd as E,gS as Me,ex as Ee,iE as Oe,iF as De,iG as Ue,gc as _e,iH as Ae,ga as Be,gb as Le,eN as ze,ey as Re,iI as Ge,iJ as He,iK as Xe,bJ as We,iL as Ve,iM as Ye,iN as Ze,iO as Qe,iP as z,iQ as $e,aY as Je,iR as Ke,iS as qe,iT as et,iU as ne,cg as tt,iV as st,iW as nt,ir as ot,fn as rt,dr as it,iX as at,iY as lt,iZ as ct,i as dt,i_ as V,i$ as ut,j0 as mt}from"./m0ujq4si8sio1lz0.js";import{P as xt}from"./jxguh64ess8asey2.js";import"./nath3ahjullxvkj2.js";import"./cymro46oa7nb2e4p.js";import"./k16m2blxis1lpu5v.js";import"./gvbypchrabr3tx6x.js";import"./d1lfm62m2dkdm23l.js";import"./cof65v04mq70bnz9.js";import"./1mq4bl028ayzaqnn.js";const ft=[null,"#F14D42","#E36E30","#B98618","#DB9F1E","#3DCB40","#30A633","#27C0A6","#16B7DB","#6490F0","#0088FF","#1D53BF","#512AEB","#875BE1","#EE4D83","#E659C2"];function ht({color:t,active:s,onClick:n}){const o=F();return e.jsx("button",{onClick:()=>n(t),className:"flex h-10 w-10 items-center justify-center rounded-full bg-token-text-primary can-hover:hover:scale-110 can-hover:active:scale-100","aria-label":t??o.formatMessage(c.defaultColor),style:{backgroundColor:t??void 0},children:s&&e.jsx(ke,{className:"h-6 w-6 text-token-main-surface-primary"})})}function gt({currentTheme:t,onSelect:s}){return e.jsx("div",{className:"m-4 grid grid-cols-4 gap-4",children:ft.map(n=>e.jsx(ht,{active:n===t,color:n,onClick:o=>{s(o)}},n))})}const pt=({currentTheme:t,isPopoverOpen:s,...n},o)=>e.jsxs("button",{ref:o,...n,className:"group relative flex h-[60px] w-[60px] items-center justify-center",children:[e.jsx("div",{className:y("absolute flex h-full w-full items-center justify-center rounded-full",t&&"opacity-10",!t&&"bg-token-main-surface-secondary"),style:{backgroundColor:t??void 0}}),e.jsx("div",{className:"relative flex h-full w-full items-center justify-center",children:e.jsx(we,{className:"icon-lg duration-200 ease-out can-hover:group-hover:scale-110",style:{color:t}})}),e.jsx("div",{className:y("absolute bottom-0 right-0 flex h-6 w-6 scale-0 items-center justify-center rounded-full border border-token-border-light bg-token-main-surface-primary text-token-text-secondary opacity-0 drop-shadow-sm duration-200 ease-out group-hover:scale-100 group-hover:opacity-100",s&&"scale-100"),children:e.jsx(L,{className:"h-[18px] w-[18px] rounded-full text-token-text-secondary"})})]}),jt=m.forwardRef(pt);function R({file:t,fileName:s,fileId:n,gizmoId:o}){const i=O(s)&&n!=null,r=Pe(t&&ee(t)?t:null,s,n,o,void 0);return i?e.jsx("div",{className:"flex h-full w-full items-center justify-center bg-[#129FBF] bg-cover bg-center text-white",style:{backgroundImage:`url(${r})`},children:!r&&e.jsx(Ie,{className:"icon-lg"})}):null}function vt({gizmoId:t,gizmoName:s,pendingFiles:n,files:o,modelCapacityUsed:i,onAddFiles:r,removePendingFile:l,pendingFileUpsertMutationsRef:a}){return n.length===0&&o.length===0?e.jsx(Ct,{gizmoName:s,onAddFiles:r}):e.jsx("div",{children:e.jsx(bt,{gizmoId:t,modelCapacityUsed:i,files:o,pendingFiles:n,removePendingFile:l,pendingFileUpsertMutationsRef:a})})}function bt({gizmoId:t,modelCapacityUsed:s,files:n,pendingFiles:o,removePendingFile:i,pendingFileUpsertMutationsRef:r}){const l=D();return n.length===0&&o.length===0?null:e.jsxs("div",{className:"overflow-hidden rounded-lg border border-token-border-light",children:[s&&s>1&&e.jsxs("div",{className:"border-b border-token-border-light bg-gray-50 px-4 py-3 text-xs text-token-text-secondary dark:bg-gray-750",children:[e.jsx("div",{className:"font-medium",children:e.jsx(x,{...c.tooManyFilesTitle})}),e.jsx("div",{children:e.jsx(x,{...c.tooManyFilesDescription})})]}),n.map(a=>e.jsx(St,{gizmoId:t,gizmoFile:a,onDelete:async()=>{const u=new Promise(h=>{r.current.push({id:t,mutationId:Z(),update:p=>{const f=p.files.filter(g=>g.file_id!==a.file_id);return{...p,files:f}},onSuccess:h})});return te(t)({gizmoId:t,upsertProjectMutation:l,pendingFileUpsertMutationsRef:r}),u}},a.file_id)),o.map(a=>e.jsx(yt,{pendingFile:a,onDelete:async()=>i(a.tempId)},a.tempId))]})}function yt({pendingFile:t,onDelete:s}){const n=t.file.name,i=(ee(t.file)&&t.file?.type.startsWith("image/")||O(n))&&e.jsx(R,{file:t.file,fileName:n,fileId:t.fileId??void 0,gizmoId:t.gizmoId??void 0});return e.jsx(oe,{onDelete:s,children:e.jsx(se,{icon:i,fileName:t.file.name,loadingPercentage:t.status===E.Uploading?t.progress:void 0})})}function St({gizmoFile:t,gizmoId:s,onDelete:n}){const o=t.name,r=O(o)&&t.file_id!=null&&e.jsx(R,{fileName:o,fileId:t.file_id,gizmoId:s});return e.jsx(oe,{onDelete:n,children:e.jsx(se,{icon:r,fileName:t.name})})}function oe({children:t,onDelete:s}){const[n,o]=m.useState(!1);return e.jsxs("div",{className:"group flex w-full justify-between border-b border-token-border-light px-3 py-2 text-sm last:border-b-0",children:[e.jsx("div",{className:"w-80 group-hover:w-72",children:t}),e.jsx("div",{className:y("shrink-0 grow-0 bg-token-main-surface-primary pl-1 group-hover:flex",!n&&"hidden"),children:n?e.jsx("div",{className:"flex h-full w-6 items-center justify-center",children:e.jsx(fe,{})}):e.jsx("button",{onClick:async()=>{s&&(o(!0),await s(),o(!1))},children:e.jsx(Fe,{className:"text-token-secondary rounded-full hover:bg-token-main-surface-secondary dark:hover:bg-token-main-surface-tertiary"})})})]})}function Ct({gizmoName:t,onAddFiles:s}){return e.jsx("div",{className:"flex h-full cursor-pointer items-center justify-center rounded-lg border border-token-border-light px-4 py-3 hover:bg-token-main-surface-secondary active:bg-token-main-surface-tertiary",onClick:s,children:e.jsxs("div",{className:"flex flex-col items-center gap-2 py-4 text-sm text-token-text-secondary",children:[e.jsx(q,{}),e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"max-w-100 text-token-text-secondary",children:e.jsx(x,{...c.emptyFileInstructions,values:{gizmoNameText:e.jsx("span",{className:"font-bold",children:e.jsx(x,{...c.emptyFileGizmoName,values:{gizmoName:t}})},"gizmoNameText")}})})})]})})}const Nt=A.div`text-sm text-red-500`,wt=A.textarea`w-full text-sm overflow-y-auto overflow-x-clip rounded-lg border px-3 py-2 focus:ring-2 focus:ring-token-text-primary border-token-border-medium bg-token-main-surface-primary`;function re({onClose:t,gizmo:s}){const n=F(),[o,i]=m.useState(s?.gizmo?.instructions||""),r=D(),l=B(),a=f=>{i(f.target.value)},u=()=>{t()},d=async()=>{try{await r.mutateAsync({update:{instructions:o??""},id:s.gizmo.id}),t()}catch(f){const g=K(f);l.warning(g??"Error",{duration:2})}},h=e.jsx(M.Button,{title:n.formatMessage(c.save),color:"primary",onClick:d,loading:r.isPending}),p=e.jsx(M.Button,{title:n.formatMessage(c.cancel),color:"secondary",onClick:u,disabled:r.isPending});return e.jsx(Q,{className:"max-h-[600px] min-h-[600px] min-w-[820px] max-w-[820px]",isOpen:!0,showCloseButton:!r.isPending,hideSeparator:!0,noPadding:!0,size:"custom",type:"success",title:n.formatMessage(c.editCustomInstructionsTitle),onClose:()=>{r.isPending||t()},children:e.jsxs("div",{className:"flex h-full flex-col px-6 pb-7 pt-0",children:[e.jsx("div",{className:"text-sm font-medium",children:n.formatMessage(c.editCustomInstructionsSubtitle)}),e.jsx("div",{className:"text-sm text-token-text-secondary",children:n.formatMessage(c.editCustomInstructionsDescription)}),e.jsx(wt,{placeholder:n.formatMessage(c.projectInstructionsPlaceholder),className:"mb-1 mt-4 w-full flex-grow resize-none rounded-md bg-token-main-surface-primary",onChange:a,value:o,disabled:r.isPending}),e.jsx(M.Actions,{primaryButton:h,secondaryButton:p})]})})}function kt({gizmoId:t,gizmoName:s,gizmoEditorData:n,openFileDialog:o,pendingFiles:i,setVersion:r,pendingFileUpsertMutationsRef:l}){const a=n?.files?.reduce((f,g)=>f+(g.file_size_tokens??0),0)??0,u=n?.contextStuffingBudget;let d;u&&(d=a/u,a>0&&d<.01&&(d=.01));const h=n?.files??[],p=Array.from(i.current.values()).filter(f=>h.every(g=>g.file_id!==f.fileId));return e.jsx(vt,{gizmoId:t,gizmoName:s,pendingFiles:p,pendingFileUpsertMutationsRef:l,files:h,modelCapacityUsed:d,onAddFiles:o,removePendingFile:f=>{i.current.delete(f),r(g=>g+1)}})}const It=m.forwardRef(function({gizmo:s,showInstructions:n=!0,setIsDirty:o},i){const r=F(),[l,a]=m.useState(!1),u=D(),d=Me(s),h=Ee(d),{data:p}=Oe(),f=p?.modelsList.find(S=>S.tags.includes(he.GPT_4o))??p?.modelsList.find(S=>S.id===De),g=B(),[G,T]=m.useState(0),j=m.useRef(new Map),w=m.useRef([]);m.useEffect(()=>{o&&o(()=>()=>j.current.size>0||w.current.length>0)},[j,w,o]);const ce=Ue(f,void 0),de=async S=>{$.logEvent(J.uploadFile,{client:"web",eventSource:"mouse",intent:"gizmo"});const U=d.id;S.length>0&&await Promise.all(S.map(C=>{const _=We(C);j.current.set(_,{tempId:_,gizmoId:U,file:C,status:E.Uploading,progress:1,fileId:null,cdnUrl:null}),Ve(_,C,r,g,{kind:pe.Gizmo,gizmoId:U},{onFileUploaded:async(v,P,k,N)=>{const b=j.current.get(v);b?.fileId&&b?.fileId&&(w.current.push({id:s.gizmo.id,mutationId:Z(),update:I=>{if(!b.fileId)return I;const xe=[...I.files??[],{file_id:b.fileId,name:b.file.name,size:b.file.size,type:N?.mimeType??Ze(b.file),last_modified:b.file.lastModified,file_size_tokens:N?.fileTokenSize}];return{...I,files:xe}},onSuccess:()=>{j.current.delete(v),T(I=>I+1)}}),te(s.gizmo.id)({gizmoId:s.gizmo.id,upsertProjectMutation:u,pendingFileUpsertMutationsRef:w}))},onFileCreated:(v,P,k)=>{j.current.set(v,{tempId:v,gizmoId:U,file:C,status:E.Uploading,progress:1,...j.current.get(v),fileId:P,cdnUrl:k}),T(N=>N+1)},onFileUploadProgress:(v,P)=>{const k=j.current.get(v);k?.status===E.Uploading&&j.current.set(v,{...k,progress:P}),T(N=>N+1)},onError:v=>{j.current.delete(v)}},{usesRetrievalIndex:f!=null&&Ye(f,C.type,C.name)===ge.Retrieval})}))},H=_e(ce),X=Ae(H),{open:W,getRootProps:ue,isDragActive:me}=Be({noClick:!0,noDragEventsBubbling:!0,onDropAccepted:de,multiple:!0,maxSize:Le,maxFiles:10,...H});return m.useImperativeHandle(i,()=>({openFileDialog:W})),e.jsxs("div",{...ue({className:"relative h-full px-6"}),children:[n&&e.jsxs(ze,{children:[e.jsx("button",{className:"w-full",onClick:()=>a(!0),children:e.jsx("div",{className:"w-full rounded-lg border border-token-border-light text-left text-sm",children:d?.instructions?.length?e.jsx("div",{className:"mx-4 my-3 line-clamp-4",children:d.instructions}):e.jsxs("div",{className:"flex h-full w-full items-center px-4 py-3 text-token-text-secondary",children:[e.jsx("div",{className:"flex-1",children:e.jsx(x,{...c.addCustomInstructions})}),e.jsx(L,{className:"icon-sm"})]})})}),h.includes(Re.GizmoInstructionsTooLong)?e.jsx(Nt,{className:"mt-1",children:e.jsx(x,{...c.instructionsTooLong,values:{length:Ge}})}):null]}),l&&e.jsx(re,{gizmo:s,onClose:()=>{a(!1)}}),e.jsx(kt,{gizmoId:s.gizmo.id,gizmoName:s.gizmo.display.name,gizmoEditorData:d,openFileDialog:W,pendingFiles:j,pendingFileUpsertMutationsRef:w,setVersion:T}),me&&e.jsxs(He,{children:[e.jsx(Xe,{}),e.jsx("h3",{children:e.jsx(x,{...c.dragInstructions})}),e.jsx("h4",{className:"w-2/3 text-center",children:X.length>0?X.join(", "):e.jsx(x,{...c.dragAllAccepted})})]})]})});function Ft({gizmo:t,onClose:s}){const n=F(),[o,i]=m.useState(!1),[r,l]=m.useState(()=>()=>!1),a=m.useRef(null),u=m.useCallback(()=>{a.current?.openFileDialog()},[a]);return e.jsxs(e.Fragment,{children:[e.jsx(Q,{className:"max-h-[600px] min-h-[600px] min-w-[820px] max-w-[820px]",isOpen:!0,showCloseButton:!0,hideSeparator:!0,noPadding:!0,size:"custom",type:"success",onClose:()=>{r()?i(!0):s()},children:e.jsxs("div",{className:"flex h-full flex-col",children:[e.jsx(M.TitleBar,{$hasSeparator:!1,children:e.jsxs("div",{className:"flex w-full items-center gap-2",children:[e.jsx("div",{className:"flex-1",children:e.jsx(je,{className:"text-lg font-semibold leading-6 text-token-text-primary",children:e.jsx(x,{...c.projectFilesModalTitle})})}),e.jsx(ve,{color:"secondary",onClick:u,children:e.jsx(x,{...c.addFilesButtonLabel})}),e.jsx(be,{asChild:!0,className:"sm:mt-0",children:e.jsx(ye,{onClick:s})})]})}),e.jsx("div",{className:"mb-6 flex-grow overflow-y-auto pt-0",children:e.jsx(It,{ref:a,gizmo:t,showInstructions:!1,setIsDirty:l})})]})}),o&&e.jsx(Qe,{isOpen:!0,title:n.formatMessage(c.projectFilesUnsavedChangesTitle),description:"",primaryButtonColor:"danger",onClose:()=>{i(!1)},onConfirm:()=>{s()},children:e.jsx("div",{className:"text-sm",id:"snorlax-unsaved-changes-description",children:e.jsx(x,{...c.projectFilesUnsavedChangesDescription})})})]})}function Tt({gizmo:t}){return e.jsxs("div",{className:"mt-6 grid grid-cols-2 items-start gap-5",children:[e.jsx(Pt,{gizmo:t}),e.jsx(Et,{gizmo:t})]})}function ie({header:t,context:s,contextClassName:n="",icon:o,modal:i,onClick:r,isModalOpen:l=!1}){return e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:r,className:"group/snorlax-control-tile relative h-full rounded-2xl border border-token-border-xlight bg-token-main-surface-primary shadow-xxs hover:bg-token-main-surface-secondary active:bg-token-main-surface-tertiary active:drop-shadow-none",children:e.jsxs("div",{className:"relative mx-5 my-4 flex items-center justify-between gap-3 overflow-hidden",children:[e.jsxs("div",{className:"w-full grow text-left",children:[e.jsx("div",{className:"text-sm font-medium",children:t}),e.jsx("div",{className:y("text-xs text-token-text-secondary",n),children:s})]}),o]})}),l&&i]})}function Pt({gizmo:t}){const{files:s}=t,n=!s.length,o=z(t.gizmo.id),[i,r]=m.useState(!1),l=i&&e.jsx(Ft,{gizmo:t,onClose:()=>{r(!1)}}),a=()=>r(!0);let u,d,h;if(n)u=e.jsx(x,{...c.addFilesButtonLabel}),d=e.jsx(x,{...c.filesControlDescription}),h=e.jsxs("div",{className:"relative flex h-10 w-10 shrink-0 items-center justify-center rounded-full",children:[e.jsx("div",{className:"absolute h-full w-full rounded-full bg-token-main-surface-secondary opacity-5",style:{backgroundColor:o??void 0}}),e.jsx(q,{className:"icon-md h-5 w-5",style:{color:o}})]});else{const f=s.slice(0,3);u=e.jsx(x,{...c.projectFilesModalTitle}),d=e.jsx(x,{...c.filesCount,values:{count:s.length}}),h=e.jsx("div",{className:"relative flex h-10 w-20 shrink-0 items-center justify-center rounded-full",children:f.toReversed().map((g,G)=>e.jsx(Mt,{file:g,index:G,gizmoId:t.gizmo.id},g.id))})}return e.jsx(ie,{isModalOpen:i,modal:l,onClick:a,header:u,context:d,icon:h})}function Mt({file:t,index:s,gizmoId:n}){const o=t.name,r=O(o)&&t.file_id!=null&&e.jsx(R,{fileName:o,fileId:t.file_id,gizmoId:n});return e.jsx("div",{className:"absolute right-0 top-0 h-10 w-10 overflow-hidden rounded-xl border-2 border-token-main-surface-primary group-hover/snorlax-control-tile:border-token-main-surface-secondary",style:{transform:`translateX(${s*-20}px)`},children:r||e.jsx($e,{className:"h-9 w-9 flex-shrink-0",filename:t.name,contextConnectorInfo:void 0})})}function Et({gizmo:t}){const{instructions:s}=t.gizmo,n=!s.length,o=z(t.gizmo.id),[i,r]=m.useState(!1),l=i&&e.jsx(re,{gizmo:t,onClose:()=>{r(!1)}}),a=()=>r(!0);let u,d,h,p;return n?(u=e.jsx(x,{...c.customInstructionsTitle}),d=e.jsx(x,{...c.customInstructionsDescription}),h=e.jsxs("div",{className:"relative flex h-10 w-10 shrink-0 items-center justify-center rounded-full",children:[e.jsx("div",{className:"absolute h-full w-full rounded-full bg-token-main-surface-secondary opacity-5",style:{backgroundColor:o??void 0}}),e.jsx(L,{className:"icon-md h-5 w-5",style:{color:o}})]})):(u=e.jsx(x,{...c.editCustomInstructionsTitle}),p="overflow-hidden text-ellipsis whitespace-nowrap",d=s),e.jsx(ie,{isModalOpen:i,modal:l,onClick:a,header:u,context:d,icon:h,contextClassName:p})}const ae=A.h3`p4 overflow-hidden text-ellipsis break-all py-3 px-4 text-xs font-semibold text-token-text-secondary`,Y=new Map;function Ot(t){const s=Y.get(t);if(s)return s;const n=dt(Dt,2e3,{trailing:!0});return Y.set(t,n),n}async function Dt({gizmoId:t,upsertProjectMutation:s,toaster:n}){const o=mt,i=V(o.getState(),"theme",t);try{i!==void 0&&await s.mutateAsync({id:t,update:{theme:i??void 0}}),V(o.getState(),"theme",t)===i&&ut(t,"theme")}catch(r){const l=K(r);n.warning(l??"Error",{duration:2})}}function Ut({gizmoId:t,theme:s,upsertProjectMutation:n,toaster:o}){ct(t,"theme",s),Ot(t)({gizmoId:t,upsertProjectMutation:n,toaster:o})}function _t({gizmo:t}){const s=t.gizmo.display.emoji,n=z(t.gizmo.id),o=st(),i=D(),[r,l]=m.useState(!1),a=B();if(o&&s)return e.jsx(nt,{emoji:s,className:"icon-lg text-2xl"});const u=d=>{d!==n&&Ut({gizmoId:t.gizmo.id,theme:d,upsertProjectMutation:i,toaster:a})};return e.jsx(ot,{open:r,sideOffset:4,alignOffset:7,side:"bottom",alignAgainstAnchor:"start",size:"none",modal:!0,onOpenChange:d=>l(d),triggerButton:e.jsx(jt,{currentTheme:n,isPopoverOpen:r}),children:e.jsx(gt,{currentTheme:n,onSelect:u})})}function At({gizmo:t}){return e.jsxs("div",{className:"mb-6 ml-3 flex w-full flex-col",children:[e.jsx(_t,{gizmo:t}),e.jsx("button",{className:"ml-1 mt-3 text-left text-4xl font-semibold",onClick:()=>{ne.setShowProjectSettingsModal(!0)},children:t.gizmo.display.name})]})}function le({children:t}){return e.jsx("div",{className:"group relative flex flex-col gap-1 p-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(Te,{className:"icon-md text-token-sidebar-icon"}),t]})})}function Bt({conversation:t,gizmo:s}){const n=Se(t.id)??t.title,[o,i]=m.useState(!1);m.useEffect(()=>Ce(rt,{editTitleInMainScreen:({serverThreadId:a})=>{a===t.id&&i(!0)}}),[t.id]);const{snippet:r}=t,l=e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex-grow overflow-hidden group-hover:mr-5",children:[o?e.jsx(at,{conversation:t,onClose:()=>{i(!1)}}):e.jsx("div",{className:"text-sm font-medium",children:n}),r&&e.jsx("div",{className:"truncate text-sm text-token-text-secondary",children:r})]}),!o&&e.jsx(Lt,{conversation:t})]});return o?l:e.jsx(Ne,{to:it(t.id,s),children:l})}function Lt({conversation:t}){const[s,n]=m.useState(!1);return e.jsx("div",{className:y("absolute bottom-0 top-0 items-center gap-1.5 pr-4 ltr:right-0 rtl:left-0",s?"flex":"hidden can-hover:group-hover:flex"),onClick:o=>{o.preventDefault()},children:e.jsx(lt,{conversation:t,conversationTitle:t.title,onOpenChange:o=>{n(o),o&&$.logEvent(J.conversationHistoryItemOpenMenu,{conversationId:t.id})},inMainScreen:!0})})}function zt({gizmo:t}){const s=tt(t.gizmo.id),n=s.data?.items.length;return e.jsx("div",{className:"mb-14 mt-6",children:n?e.jsx(Gt,{gizmo:t,items:s.data?.items??[]}):e.jsx(Rt,{})})}function Rt(){return e.jsxs(e.Fragment,{children:[e.jsx(ae,{children:e.jsx(x,{...c.emptyChatsInProjectTitle})}),e.jsx("ol",{children:Array.from({length:5}).map((s,n)=>e.jsx("li",{style:{opacity:1-n*.2,transition:"opacity 0.3s ease-in-out"},className:y(n!==4&&"border-b border-token-border-xlight"),children:e.jsx(le,{children:e.jsxs("div",{className:"flex w-full flex-col gap-2",children:[e.jsx("div",{className:"h-2 w-2/12 rounded-full bg-token-main-surface-tertiary"}),e.jsx("div",{className:"h-2 w-5/12 rounded-full bg-token-main-surface-tertiary"})]})})},n))})]})}function Gt({gizmo:t,items:s}){const n=s.length;return e.jsxs(e.Fragment,{children:[e.jsx(ae,{children:e.jsx(x,{...c.chatsInProjectTitle})}),e.jsx("ol",{children:s.map((o,i)=>e.jsx("li",{className:y("first:rounded-t-lg last:rounded-b-lg hover:bg-token-main-surface-secondary",i!==n-1&&"border-b border-token-border-xlight"),children:e.jsx(le,{children:e.jsx(Bt,{conversation:o,gizmo:t})})},o.id))})]})}function ts({clientThreadId:t,gizmoId:s,currentModelId:n,onRequestCompletion:o,composerController:i}){const r=F(),{data:l}=Je(s),a=Ke(u=>u.showProjectSettingsModal);return l?e.jsxs(qe,{isStaticSharedThread:!1,withVerticalPadding:!1,withHorizontalPadding:!0,clientThreadId:t,fullHeight:!0,children:[e.jsx(At,{gizmo:l}),e.jsx(xt,{clientThreadId:t,isNewThread:!0,currentModelId:n,onRequestCompletion:o,composerController:i,hideHeader:!0,showPromptStarters:!1}),e.jsx(Tt,{gizmo:l}),e.jsx(zt,{gizmo:l}),e.jsx(et,{modalTitle:r.formatMessage(c.projectSettingsTitle),submitButtonTitle:r.formatMessage(c.projectSettingsSubmitButton),gizmo:l,isOpen:a,onClose:()=>{ne.setShowProjectSettingsModal(!1)}},s)]}):null}export{ts as SnorlaxSplashScreen};
//# sourceMappingURL=kcpzm2dkvh9cepg8.js.map
