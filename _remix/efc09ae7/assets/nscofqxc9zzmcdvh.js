import{m as e,cG as C,aJ as L,bi as R,N as k,V as E,r as c,cj as O}from"./ogb0m6wfmpkwr4v0.js";import{ct as M,S,ch as b,cu as A,cv as B,cw as j,cx as F,cy as H,cz as P,cA as _,cB as D,cC as I}from"./m0ujq4si8sio1lz0.js";import{G as x}from"./hunslofye2gde7y3.js";import{N as T}from"./b9t2rzfm26s20fe0.js";import"./cymro46oa7nb2e4p.js";import"./fjtqvuwt5aqn5yh5.js";import"./1mq4bl028ayzaqnn.js";import"./dbnmdjnv5aff71w4.js";function G({currentGizmoId:t,onClick:n}){const{isSidebarFlyoutOpen:s,onSidebarFlyoutOpenChange:r}=M(),a=s(S.Snorlax);return e.jsx("div",{className:"group flex w-full items-center justify-start screen-arch:mt-1",children:e.jsx(C,{onOpenChange:o=>r(S.Snorlax,o),side:"right",sideOffset:4,open:a,contentAlign:"end",triggerButton:e.jsxs("button",{className:L("flex flex-1 select-none items-center gap-2.5 rounded-lg px-2 py-2 text-body tracking-condensed text-token-text-secondary ease-[var(--spring-bounce)] hover:bg-token-sidebar-surface-secondary focus:ring-0 screen-arch:py-[7px] screen-arch:hover:bg-token-main-surface-secondary motion-safe:active:scale-[98%] motion-safe:active:transition-transform",a&&"bg-token-main-surface-secondary"),onClick:n,children:[e.jsx("div",{className:"h-6 w-6",children:e.jsx("div",{className:"relative flex h-full items-center justify-center text-token-text-primary",children:e.jsx(T,{className:"icon-md font-semibold text-token-sidebar-icon"})})}),e.jsx("span",{className:"text-left",children:e.jsx(R,{...b.seeMoreProjectItems})})]}),size:"auto",children:e.jsx("div",{className:"max-h-[50dvh] w-80 overflow-x-auto px-2 [scrollbar-gutter:stable]",children:e.jsx(k,{children:e.jsx(A,{currentGizmoId:t,inSidebar:!0,customListItem:x})})})})})}function J({snorlaxes:t,currentGizmoId:n}){return e.jsx(e.Fragment,{children:t.map(s=>e.jsx(x,{gizmo:s.gizmo,subConversations:s.conversations,isActive:s.gizmo.gizmo.id===n},s.gizmo.gizmo.id))})}function $({currentGizmoId:t}){const n=E(),s=c.useRef(!1),{snorlaxes:r,data:a,isLoading:o,isError:v,refetch:u}=B(),f=r.slice(0,j),l=c.useRef(!1),[y,g]=c.useState(!0),h=c.useCallback(function(w){w&&g(!1),u()},[u,g]),N=r&&r?.length>j,p=(r??[]).length===0,d=v||a===void 0&&!o&&l.current,z=!d&&(a===void 0||o);a===void 0&&!o&&!l.current&&(l.current=!0,h(!1));const m=r?.find(i=>i.gizmo.gizmo.id===t);return r?.length>0&&!s.current&&(F({namespace:H.ChatPageLoad})?.logTiming("render_snorlax_sidebar"),s.current=!0),e.jsxs(e.Fragment,{children:[d&&e.jsx(P,{showRetry:y,refetch:h}),!d&&!o&&e.jsxs(_,{header:e.jsxs("div",{className:"flex items-center justify-between",children:[n.formatMessage(b.projectsHeading),!p&&e.jsx(D,{})]}),isLastInGroup:!0,ulClassName:"screen-arch:mb-5",children:[e.jsx(J,{snorlaxes:f,currentGizmoId:t}),m&&!f.some(i=>i.gizmo.gizmo.id===t)&&e.jsx(x,{gizmo:m.gizmo,subConversations:m.conversations,isActive:!0}),N&&e.jsx(G,{currentGizmoId:t}),!o&&p&&e.jsx(I,{})]}),z&&e.jsx(O,{className:"sticky top-4 z-30 mt-4 justify-self-center"})]})}export{$ as SnorlaxSidebarList};
//# sourceMappingURL=nscofqxc9zzmcdvh.js.map
