import{bM as b,m as t,r as f,go as T,l as w,bi as y,er as C}from"./ogb0m6wfmpkwr4v0.js";import{g as v,A as M,a as j,C as u,b as R,c as g,T as A,d as N}from"./ebbi4stfxu4leo9p.js";import{cm as P,cn as S,co as D,cp as E,cq as k,cr as L,b1 as O,cs as z}from"./m0ujq4si8sio1lz0.js";import{m as V}from"./cymro46oa7nb2e4p.js";const G=({size:r="large",position:i="bottom"})=>{const{resolvedTheme:o}=b(),a=o==="dark",s=r==="large"?100:50,e=`${a?"rgba(0,0,0,0)":"rgba(255,255,255,0)"}, ${a?"#2f2f2f":"#ffffff"}`;return i==="bottom"?t.jsx("div",{className:"absolute bottom-0 z-20 h-24 w-full transition-colors",style:{height:s,background:`linear-gradient(${e})`}}):t.jsx("div",{className:"absolute bottom-0 right-0 top-0 z-20 transition-colors",style:{width:s,background:`linear-gradient(to right, ${e})`}})},q=()=>t.jsxs(V.div,{role:"button",className:"absolute bottom-3 left-0 right-0 z-50 mx-auto flex w-fit items-baseline gap-1 rounded-full border border-token-border-light bg-token-main-surface-primary px-3 py-1",initial:!1,animate:{opacity:1},exit:{opacity:0,scale:.9},children:[t.jsx("span",{className:"loading-shimmer-pure-text",children:t.jsx(y,{...C({id:"qmLYih",defaultMessage:"Typing"})})}),t.jsx(A,{gap:1,padding:0})]}),F=({onScroll:r,textdocId:i})=>{const o=P(i),{windowWidth:a}=T(p=>p,{windowWidth:0,windowHeight:0});if(!o)return null;const{versions:s}=o,e=w(s);if(!e)return null;const c=s.length>1?s[s.length-2]:null,d=S(e),x=D(e),l=N({isReadonlyFromQueryParam:!0}),{content:m,currentlyStreamingLineIndex:h}=v(e,c);let n=null;switch(e?.type){case k.DOCUMENT:n=t.jsx(R,{value:m,previousValue:c?.content,comments:[],isRequestActive:d,isRewriting:x,isPreview:!0,isDisabled:!0,hideAccelerators:!0,commentsMode:u.COMMENTS_READONLY,readonlyReason:l,hideToolbar:!0,hideEditOverlay:!0,width:a,modelCursor:e.modelCursor});break;default:e&&E(e.type)&&(n=t.jsx(M,{id:"codemirror",currentlyStreamingLineIndex:h,language:j(e.type),value:m,commentsMode:u.COMMENTS_READONLY,hideToolbar:!0,hideAccelerators:!0,readonlyReason:l,comments:[],isRequestActive:d}))}return t.jsxs(g,{children:[t.jsx(g.Content,{disableScroll:L(),onScroll:r,children:n}),t.jsx(O,{children:z(e)&&t.jsx(q,{})})]})},I=f.memo(F);export{G as C,I as T};
//# sourceMappingURL=fybwnwe3dw3mpgjs.js.map
