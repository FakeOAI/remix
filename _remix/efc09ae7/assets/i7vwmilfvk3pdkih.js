const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ief7zxl6009ko8f4.js","assets/ogb0m6wfmpkwr4v0.js","assets/b9t2rzfm26s20fe0.js","assets/root-jhqn5s0d.css","assets/m0ujq4si8sio1lz0.js","assets/conversation-small-lkohtmkm.css","assets/rhel6km93yroipk0.js","assets/o5hmf9c8a4bsh7zo.js","assets/hl0q2jenep9o3bit.js","assets/uksy3v3qlnetpsqm.js","assets/c4bxzbp1808foto4.js","assets/cymro46oa7nb2e4p.js","assets/j1agjri6e0deq7qe.js","assets/mkm08vgz5itp2vvr.js","assets/dbnmdjnv5aff71w4.js","assets/1mq4bl028ayzaqnn.js","assets/m4vrsstlkv6uutfw.js","assets/nscofqxc9zzmcdvh.js","assets/hunslofye2gde7y3.js","assets/fjtqvuwt5aqn5yh5.js","assets/jxguh64ess8asey2.js","assets/nath3ahjullxvkj2.js","assets/k16m2blxis1lpu5v.js","assets/gvbypchrabr3tx6x.js","assets/d1lfm62m2dkdm23l.js","assets/cof65v04mq70bnz9.js","assets/e8jzmnqtk8za3kw1.js","assets/bw3tfuc2a2wfbcma.js","assets/ittyhqjyc8c6rpuj.js","assets/oe13nnltmvjngnjb.js","assets/ebbi4stfxu4leo9p.js","assets/jeztwd4vodinit8p.js","assets/g04e24001bc4ci45.js","assets/lg1w1hqcuu1wg906.js","assets/k81ulejtlkx2713k.js","assets/deb02ocluok9oo0e.js","assets/lto5kz4mx804bx31.js","assets/fzrn137102spawew.js","assets/mmu1mgyeh9mpscy4.js","assets/mth7lkecabvrdtw9.js","assets/pa6676obnrhvhjmt.js","assets/eflvvlkhde7r179l.js","assets/iham2nty7mtc9a8l.js","assets/i6bwzuhzw5vxd4r7.js","assets/g4tl5lt9yqf20m4s.js"])))=>i.map(i=>d[i]);
import{h3 as K,r as o,ch as Q,m as e,ae as W,B as q,V as X,eA as J,e6 as D,gZ as I,b8 as g,b9 as f,dZ as S,dX as Y,aJ as Z,cH as w,N as $,aB as ee,ad as _,af as se,dg as P,z as N,bh as ae,D as te,cP as re,cQ as ie,cR as oe,dF as ne,g3 as de,A as ce,a0 as le}from"./ogb0m6wfmpkwr4v0.js";import{gt as ue,gu as M,b1 as L,gv as he,gw as me,bC as R,gx as A,gy as b,gq as ge,bS as y,bT as F,I as fe,gz as xe,u as pe,m as be,ck as ve,fr as je,q as Se,r as we,D as ye,j as Ce,cj as Ee,gA as Te,gB as Ie,T as _e,n as Pe,F as Ne,gC as Ae,cd as Fe,gD as ke,gE as Ve,cx as Oe,cy as k,gF as De,aQ as Me,gG as Le,gH as Re,bA as Ue,ci as ze,dh as Be,gI as He,gJ as Ge,gK as Ke,di as Qe,gL as We,ce as qe,fo as Xe}from"./m0ujq4si8sio1lz0.js";import{m}from"./cymro46oa7nb2e4p.js";import{C as Je}from"./j1agjri6e0deq7qe.js";import{C as U}from"./e8jzmnqtk8za3kw1.js";import{T as Ye}from"./jxguh64ess8asey2.js";import{C as Ze}from"./hunslofye2gde7y3.js";function $e(){const a=ue(r=>r.notifications),{activeThreadIds:s}=K();return o.useEffect(()=>{a.filter(t=>t.clientThreadId===void 0||s.has(t.clientThreadId)).map(t=>t.id).filter(t=>t!==void 0).forEach(t=>M(t))},[s,a]),a.length===0||Q?null:e.jsx("div",{className:"fixed right-4 top-8 my-2 flex max-h-[90vh] flex-col-reverse space-y-2 space-y-reverse overflow-y-auto px-2 py-4",children:e.jsx(L,{children:a.map(r=>e.jsx(es,{...r},r.id))})})}function es({...a}){const s=W(),r=q(),t=X(),n=J(a.clientThreadId),d=()=>{n&&me(s,r,n),a.id&&M(a.id)};return e.jsxs(m.div,{onClick:d,className:"inline-flex w-80 cursor-pointer items-center justify-start gap-2.5 rounded-2xl border border-token-border-light bg-token-main-surface-primary px-3 py-3 align-middle shadow-lg",initial:{opacity:0,x:320},animate:{opacity:1,x:0},exit:{opacity:0,x:320},transition:{duration:.5},children:[e.jsx(he,{iconName:"openai",size:"medium",className:"border-token-secondary rounded-full border bg-token-main-surface-primary text-token-text-primary"}),e.jsxs("div",{className:"inline-flex w-full shrink grow basis-0 flex-col items-start justify-start overflow-hidden",children:[e.jsx("div",{className:"w-full truncate text-sm font-medium text-token-text-primary",children:a.title??t.formatMessage({id:"mpXAeu",defaultMessage:"New chat"})}),e.jsx("div",{className:"w-full truncate text-sm text-token-text-tertiary",children:a.subtitle??t.formatMessage({id:"qMEc8J",defaultMessage:"New Message"})})]})]})}const V=450;function ss({children:a,clientThreadId:s,isOpen:r,onClose:t}){const n=D();return e.jsxs(L,{children:[r&&n&&e.jsx(R,{clientThreadId:s,children:e.jsx(I,{children:e.jsx(A.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(m.div,{className:"h-full w-full bg-token-main-surface-secondary",...b}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx(m.div,{className:"relative shrink-0 border-r border-token-border-medium bg-token-main-surface-primary",style:{width:V},...b,children:e.jsx(U,{hideHeader:!0,hideTools:!0})}),e.jsx("div",{className:"relative flex-grow overflow-auto",children:a})]})]})})})}),r&&!n&&e.jsx(I,{children:e.jsx(A.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(m.div,{className:"h-full w-full bg-token-main-surface-secondary",...b}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx("div",{className:"flex-grow overflow-auto",children:a}),e.jsx(m.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:V},...b,children:e.jsx("div",{className:"h-[100vh] pb-4",children:e.jsx(Ye,{clientThreadId:s,hideHeader:!0,hideFooter:!0,hideToolsOverlay:!0,messagesVerticalAlign:"bottom"},s)})})]})]})})})]})}const as=g(()=>f(()=>import("./ief7zxl6009ko8f4.js"),__vite__mapDeps([0,1,2,3,4,5]))),ts=g(()=>f(()=>import("./rhel6km93yroipk0.js"),__vite__mapDeps([6,1,2,3,4,5,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27])).then(a=>a.ImageEditor));function rs({clientThreadId:a}){const s=ge();o.useEffect(()=>{y.close()},[a]);let r;return s?.type===F.ADAVisualization?r=e.jsx(as,{clientThreadId:a,visualization:s.visualization}):s?.type===F.Image&&(r=e.jsx(ts,{clientThreadId:a,messageId:s.messageId,image:s.image,allImages:s.allImages},s.image.asset_pointer)),e.jsx(ss,{clientThreadId:a,isOpen:s!=null,onClose:y.close,children:r})}const is=g(()=>f(()=>import("./ittyhqjyc8c6rpuj.js"),__vite__mapDeps([28,1,2,3,4,5,29,30,11,21,31,32,33,34,35,22,36,37,38,15,39,40])).then(a=>a.CanvasFocusedViewManager)),O=64;function os(){const{focusedObject:a,clientThreadId:s}=fe();S(void 0);const r=o.useRef(null),[t,n]=o.useState({bottom:null,height:null});xe(r,n);const d=pe(),x=S("searchSources"),i=S("summarizer"),l=Y(),[h,v]=o.useState(!1),j=!d&&!!a;let c=0;h&&t.height==null?c=O:h&&t.height!=null?c=O+t.height:!h&&t.height!=null&&(c=t.height);const p=be();return e.jsx(ve,{className:Z(w.application,{[w.withCanvasFocusedView]:!!d,[w.withEmbeddedFocusedView]:j}),banner:e.jsx($,{children:e.jsx(je,{setIsMobileAppUpsellBannerVisible:v})}),sidebar:e.jsx(Ze,{}),thread:e.jsx(U,{ref:r},s),details:e.jsx(is,{clientThreadId:s}),threadExtendedInfo:l&&e.jsxs(e.Fragment,{children:[!1,x&&e.jsx(Se,{clientThreadId:s}),p&&i&&e.jsx(we,{clientThreadId:s})]}),debugger:e.jsx(ye,{clientThreadId:s}),name:"application-root",style:{"--screen-keyboard-bottom":t.bottom?`${t.bottom}px`:"","--screen-height-offset":c>0?`${c}px`:""}})}function ns({clientThreadId:a,urlThreadId:s}){return Ce({clientThreadId:a}),e.jsxs(Ee,{children:[e.jsx(Te,{}),e.jsx(Ie,{}),e.jsxs(_e,{enableSandbox:!1,clientThreadId:a,children:[e.jsx(Pe,{clientThreadId:a,urlThreadId:s}),e.jsx(Ne,{}),e.jsx(os,{})]})]})}var ds={};const cs=g(()=>f(()=>import("./eflvvlkhde7r179l.js"),__vite__mapDeps([41,1,2,3,4,5,42]))),ls=g(()=>f(()=>import("./i6bwzuhzw5vxd4r7.js"),__vite__mapDeps([43,1,2,3,4,5,26,20,21,11,22,23,24,25,15,27,44])));function js(a){const{urlThreadId:s,clientThreadId:r,prefetchSearch:t}=a;hs();const n=ee(),d=_(),[x]=se(),[i,l]=o.useState(()=>s!==void 0?s:r!==void 0?r:P());s!==void 0&&i!==s&&N.getServerThreadId(i)!==s&&l(s);const h=Ae(_());o.useEffect(()=>{s===void 0&&N.getServerThreadId(i)!==void 0&&l(P())},[s,i,h]);const v=Fe(qe.workspaceId),j=D(),{eligible:c,isLoading:p,markAsViewed:C}=ke(),E=Ve(),z=ae("3435450078");o.useEffect(()=>{(d.pathname==="/"||d.pathname.startsWith("/c/"))&&Oe({namespace:k.ChatPageLoad})==null&&(De({namespace:k.ChatPageLoad,opts:{expectedTimingLogs:[{name:"render_model_switcher",expectedInMs:1e4},{name:"render_history_items",expectedInMs:25e3}]}}),te.addTiming("chatgpt.web.chatPage.mounted"))},[]);const T=Me();o.useEffect(()=>{re(!0).then(u=>{u.force_login&&T({authType:"login"}),ie.initializeAndGatherData(u),Le.initializeAndGatherData(u),oe.initializeAndGatherData(u)})},[T]),o.useEffect(()=>{const u=x.get(Re)==="true";n!==u&&ne.setIsTemporaryChatEnabled(u)},[n,x]),o.useEffect(()=>{d.state?.focusObject&&y.setFocusedObject(d.state.focusObject)},[d.state?.focusObject]),o.useEffect(()=>{!p&&c&&(C(),E())},[c,p,C,E]);const{isOpen:B,isLoading:H}=Ue(),G=j?ns:Je;return e.jsx(de.Provider,{value:null,children:e.jsx(ze,{children:e.jsxs(Be,{clientThreadId:i,children:[e.jsx(He,{clientThreadId:i},v),!H&&B&&e.jsx(ls,{clientThreadId:i,setClientThreadId:l}),e.jsx(Ge,{}),e.jsx(Ke,{}),e.jsx(R,{clientThreadId:i,setClientThreadId:l,prefetchSearch:t,children:e.jsx(G,{urlThreadId:s,clientThreadId:i,setClientThreadId:l,prefetchSearch:t})}),e.jsx(rs,{clientThreadId:i}),e.jsx(Qe,{clientThreadId:i}),e.jsx(us,{}),e.jsx(We,{}),z?e.jsx($e,{}):!1]})})})}function us(){const a=Xe(s=>s.sharingModalThreadId);return a?e.jsx(cs,{serverThreadId:a}):null}function hs(){ce({queryKey:["pingEdge"],queryFn:()=>le.pingEdge(),enabled:!0,staleTime:1/0})}typeof window<"u"&&(window._g=ds.GOKU_SERVICE);export{js as C,V as F};
//# sourceMappingURL=i7vwmilfvk3pdkih.js.map
