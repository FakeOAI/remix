import{fh as g,dX as S,dd as v,m as e,f2 as T,aJ as I,fu as h,aa as b,ae as y,fY as P,gm as N,e6 as E,r as c,dg as x,ay as z,bi as k,cj as w,cH as F}from"./ogb0m6wfmpkwr4v0.js";import{C as H}from"./j1agjri6e0deq7qe.js";import{I as M,J as G,K as L,L as O,O as Q,cf as p,P as A,Q as D,R,W as V,X as f,Y as J,V as K,Z as U,cg as W,z as X,b as Y,ch as Z,ci as q,bC as _,cj as B,ck as $,D as ee}from"./m0ujq4si8sio1lz0.js";import{C as se}from"./hunslofye2gde7y3.js";import{C as ae,a as re,b as te}from"./jxguh64ess8asey2.js";import{C as ne}from"./bw3tfuc2a2wfbcma.js";import"./b9t2rzfm26s20fe0.js";import"./mkm08vgz5itp2vvr.js";import"./dbnmdjnv5aff71w4.js";import"./1mq4bl028ayzaqnn.js";import"./cymro46oa7nb2e4p.js";import"./m4vrsstlkv6uutfw.js";import"./nscofqxc9zzmcdvh.js";import"./fjtqvuwt5aqn5yh5.js";import"./nath3ahjullxvkj2.js";import"./k16m2blxis1lpu5v.js";import"./gvbypchrabr3tx6x.js";import"./d1lfm62m2dkdm23l.js";import"./cof65v04mq70bnz9.js";function oe(){const{clientThreadId:s,currentModelId:r,conversationLeafId:d,onRequestCompletion:t}=M(),{showEmptyState:l}=G({clientThreadId:s,currentLeafId:d}),m=L()[r],[u,n]=O({name:"composer-bar",track:"height"}),a=g(s),o=Q(),i=S(),C=v()??"",j=p({gizmoId:C,draft:!1});return e.jsx(T.Provider,{value:t,children:e.jsx(A,{children:e.jsxs(D,{clientThreadId:s,currentLeafId:d,children:[e.jsx(R,{children:a!=null&&e.jsx("title",{children:a})}),e.jsx("div",{className:"flex-1",children:e.jsxs(V.Provider,{value:{setComposerFooterElement:n},children:[e.jsx(f,{id:"canvas-state",name:"canvas-state",checked:o}),e.jsx(f,{id:"thread-extended-info-sidebar-state",name:"thread-extended-info-sidebar-state",checked:i}),e.jsx(J,{anchor:"vertical",className:I(h.screen,l&&h.screenEmptyState),name:"thread",leading:e.jsx(ae,{}),style:u,trackLeading:!0,trackTrailing:!0,trailing:e.jsx(re,{}),children:j.data&&e.jsx("div",{className:"flex h-full w-full",children:e.jsx("div",{className:"h-full flex-grow overflow-y-auto",children:e.jsx("div",{className:"mx-auto max-w-screen-md",children:e.jsx(K,{clientThreadId:s,currentModelConfig:m,children:e.jsx(te,{})})})})})}),e.jsx(ne,{}),e.jsx(U,{})]})})]})})})}function Pe(){const s=b(),r=y(),{gizmoSlug:d}=P(),t=N(d??""),l=p({gizmoId:t,draft:!1}),m=W(t),u=E(),n=X();c.useEffect(()=>{n||r("/")},[n,r]),c.useEffect(()=>{s!=null&&s.isFree()&&r("/")},[s,r]);const[a,o]=c.useState(()=>x());if(Y(a,{kind:z.GizmoInteraction,gizmo_id:t}),c.useEffect(()=>{o(x())},[t]),!n)return null;let i=e.jsx("div",{className:"flex h-full w-full",children:e.jsx("div",{className:"m-auto",children:e.jsxs("div",{className:"flex justify-center",children:[e.jsx("span",{className:"sr-only","aria-busy":!0,role:"status","aria-live":"polite",children:e.jsx(k,{...Z.loadingProjects})}),e.jsx(w,{className:"h-10 w-10 text-token-text-secondary"})]})})});return l.data&&!m.isPending&&(i=e.jsx(oe,{})),e.jsx(q,{children:e.jsx(_,{clientThreadId:a,setClientThreadId:o,children:u?e.jsx(B,{children:e.jsx($,{className:F.application,sidebar:e.jsx(se,{}),thread:i,debugger:e.jsx(ee,{clientThreadId:a})})}):e.jsx(H,{clientThreadId:a,setClientThreadId:o,threadContent:i})})})}export{Pe as default};
//# sourceMappingURL=fv50y0kt9xx9zdw7.js.map
