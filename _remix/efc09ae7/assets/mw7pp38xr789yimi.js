import{fY as j,af as w,ae as P,r as a,ay as F,B as I,z as u,m as e,fZ as E}from"./ogb0m6wfmpkwr4v0.js";import{t as p,a as r,u as S,s as b,C as f,b as B,g as C,T as M}from"./m0ujq4si8sio1lz0.js";import{T as N,C as O}from"./fybwnwe3dw3mpgjs.js";import{C as h,T as R}from"./k81ulejtlkx2713k.js";import"./b9t2rzfm26s20fe0.js";import"./ebbi4stfxu4leo9p.js";import"./cymro46oa7nb2e4p.js";import"./nath3ahjullxvkj2.js";import"./jeztwd4vodinit8p.js";import"./g04e24001bc4ci45.js";import"./deb02ocluok9oo0e.js";import"./k16m2blxis1lpu5v.js";import"./lto5kz4mx804bx31.js";import"./fzrn137102spawew.js";import"./mmu1mgyeh9mpscy4.js";import"./1mq4bl028ayzaqnn.js";import"./mth7lkecabvrdtw9.js";import"./pa6676obnrhvhjmt.js";import"./lg1w1hqcuu1wg906.js";const ee=()=>(E(),null);function te(){const d=j(),[o]=w(),c=P(),v=p(d.conversationId),n=r(o.get("readonly"),!1),x=r(o.get("isFullScreen"),!1),m=r(o.get("header"),!0),T=r(o.get("hideBottomComposer"),!!n),s=p(d.canmoreId),t=v,i=S();a.useEffect(()=>{b({type:f.Textdoc,textdocId:s})},[s]),B(t,{kind:F.PrimaryAssistant});const l=I();if(a.useEffect(()=>(u.retainThread(t),()=>{setTimeout(()=>{l.invalidateQueries({queryKey:["conversation",t]})},0),u.releaseThread(t)}),[t,l]),a.useEffect(()=>{s||c("/")},[s,c]),a.useEffect(()=>{C().sendMessage({type:h.Loaded})},[s]),!s||i?.type!==f.Textdoc)return null;const y=()=>{C().sendMessage({type:h.Close})},g=n&&!m;return e.jsxs("div",{className:"h-full w-full overflow-hidden contain-content",children:[e.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1"}),e.jsx(M,{clientThreadId:t,children:g?e.jsxs(e.Fragment,{children:[e.jsx(N,{textdocId:i.textdocId}),e.jsx(O,{})]}):e.jsx(R,{isEmbedded:!0,isFullScreen:x,hideHeader:!m,hideBottomComposer:T,isReadonlyFromQueryParam:n,clientThreadId:t,focusedTextdoc:i,onClose:y},"textdocContent")})]})}export{ee as clientLoader,te as default};
//# sourceMappingURL=mw7pp38xr789yimi.js.map
