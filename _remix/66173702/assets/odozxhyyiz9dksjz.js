const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/hxqtqg8yj3xvwnew.js","assets/hloj85fregi26ji6.js","assets/g65last9w3zpj4e1.js","assets/root-g1ux4bkd.css","assets/g7w33hsyqmw6f524.js","assets/conversation-small-eplmind9.css","assets/nhwieeg0ur43kl0h.js","assets/oxm37jjpmmj4jh4x.js","assets/dkqa9jl3k2y8d11k.js","assets/g0f573poiara0btd.js","assets/5pvvsmnp202yv97v.js","assets/gqd1dhcfmn5x8vwx.js","assets/exbwrpd3te4zrj2f.js","assets/sso-m7aetue03k0ckwmy.js","assets/l7ofbm80qwh16yc6.js","assets/evumf8dcfco4yuge.js","assets/lgngmdhge2gn7rq1.js","assets/iptnb699ml9qt2uj.js","assets/cfoc0xkgt0nhci6c.js","assets/fnv2p3dc3f4gw68s.js","assets/dmbmb5c51rhhno56.js","assets/jryoneytkli2yql8.js","assets/iut590v2mj7dzk0d.js","assets/hpq29j7kyoxsb2a5.js","assets/obvwz6quqtf1mqmb.js","assets/i9x6hc4twn7kjhx1.js","assets/cd9sca6dk8zxsw8r.js","assets/f4vp42zog7n0vt18.js","assets/kqwdyvkaaavvn8k3.js","assets/nvid5pawe28xh20n.js","assets/huar325mst1d1qc5.js","assets/eapzreq14hph0umf.js","assets/cxf3rf18eu2uh667.js","assets/bcdt9z43mbod8jq4.js","assets/e9lafxuzyeh4418f.js","assets/hz6rcvfsuefanobi.js","assets/jmutnjyuz0rby5b2.js","assets/ej7tj5zdxjybjlps.js","assets/nkcklgtigg32sxvd.js","assets/n1khk5gaaag89qdn.js","assets/j8xrc2euwar8tjsu.js","assets/pepqtxzmru9w56z7.js","assets/nhwwej1nq0zrd7sc.js","assets/rnppmiibbhsjt27s.js","assets/emiobmo9yrp27p7q.js","assets/ee0lorinfbhctvv3.js","assets/cc6pb8mmonp9vszn.js","assets/h3mpj2fxmaknxuj4.js","assets/dgwkym7sicm8o0u9.js","assets/ljbu8sh7393jjfdt.js","assets/hn9f977mxxh6bu82.js","assets/j01a1fgyrmdo2nse.js","assets/gbs7h0lv3lza1lcd.js","assets/jcq12ykszsbw8zt5.js","assets/fz9i5tjlk99soob3.js","assets/jh2k70ey33410zk7.js","assets/b6wvmkrvcwpet9ow.js","assets/namdzpoal4qqgbz9.js","assets/da3yftz680geeh5o.js","assets/hhai1q8khfqgvvcd.js","assets/emi9b5jj9c6f2s4k.js","assets/mfsk43xu0r4dqsjj.js","assets/jikz9wtvwjmakljj.js","assets/k9e78ybg5y5e7va0.js","assets/isjdmfmhzv09v01t.js","assets/evus4wonseo6v7l4.js","assets/nc75mgvyv29o8ab4.js","assets/haqguui3onmvcpyj.js","assets/ckdm3ez7xcyhzjwa.js","assets/issomgzs6y65a2s6.js","assets/lewwg1no9ai6n06r.js","assets/ecj12sgih61lxy5y.js","assets/d0ncnmweshpteaul.js","assets/o6nel3pz54rz9br4.js","assets/emtcu3wnrbdlz01h.js","assets/gqssh1pbissk72t2.js","assets/fi6dd757mqivts1o.js","assets/iej0cupg2dqkmejt.js","assets/mw7iwd6ye5jvherh.js","assets/jk8w36bsokizpx57.js","assets/ewvmsxzfhad2qwsd.js","assets/eo7vghp65woc3hz6.js","assets/a6rugowh172bu26w.js","assets/hnd2zawfdk5okacv.js","assets/bz0xpfvan3caa2ue.js","assets/h5sk1x1otk8yaqwo.js","assets/h1c2h6fvjdvrt7em.js","assets/noj0ntpprmh1xbp4.js","assets/fn9x9w8seh2kgw2v.js","assets/carousel-bss5aguy.css","assets/fzs8iz18244c23om.js","assets/nm04jgpfyxi6pn12.js","assets/mpidr440ffeps0pd.js","assets/nu8iopd3i5uouo3a.js","assets/ltmvfc8uoztqos4n.js","assets/shared-mk6ngktc.css","assets/sso-bfz9b7nm.css","assets/o75xz2j1bsvbr05v.js","assets/ilfuh8f7e6widbxq.js","assets/ffghn7hd8hwa4k5b.js","assets/ng0wks8l6t34dch3.js","assets/osbhfwtxn4zr835f.js","assets/h89ixc84rt6mz1vq.js","assets/oi3hggzou6i0niiu.js","assets/cu7i7jyqvstu6net.js","assets/hnu3wnwrsx3cuzzr.js","assets/glktjiixlihjqsbe.js"])))=>i.map(i=>d[i]);
import{W as Te,N as H,bc as ce,bV as Ee,r as l,j as s,U as L,D as le,aQ as Y,V as U,bH as M,bI as j,as as Pe,b4 as Ne,b1 as De,a$ as Oe,b2 as Le,aC as Re,O as de,Q as Be,I as ue,an as X,bT as J,aA as Ie,e$ as Fe,de as Ve,c as D,fh as O,fi as We,fj as He,bR as Ue,a2 as Ge,dh as Z,cT as ze,cU as $e,cV as qe,be as Ke,cK as Qe,u as Ye,R as Xe}from"./hloj85fregi26ji6.js";import{b as G}from"./cc6pb8mmonp9vszn.js";import{be as Je,gF as Ze,gG as ge,gH as es,aU as ss,gI as as,gJ as os,gK as ts,gL as ns,gM as rs,bD as R,gN as is,gO as cs,gP as ls,gQ as ds,gR as us,gS as gs,gT as fs,gU as ms,gV as hs,gW as ps,gX as xs,gY as Cs,gZ as bs,aj as z,ba as T,a3 as B,c6 as $,g_ as Ms,g$ as js,dX as ee,cj as vs,h0 as fe,h1 as me,h2 as he,A as Ss,h3 as ks,d1 as se,d0 as ys,bS as V,bT as ae,et as As,e$ as ws,h4 as _s,h5 as Ts,cC as Es,bd as Ps,e0 as Ns,h6 as Ds,eS as Os,eT as oe,h7 as Ls,a9 as Rs,c9 as Bs,h8 as Is,h9 as Fs,ca as Vs,bU as te,ha as Ws,hb as Hs,hc as Us,hd as Gs,he as zs}from"./g7w33hsyqmw6f524.js";import{T as I,j as W,k as $s,I as pe,u as xe,J as qs,i as Ks}from"./dkqa9jl3k2y8d11k.js";import{a as Qs}from"./5pvvsmnp202yv97v.js";import{L as Ys}from"./gqd1dhcfmn5x8vwx.js";import{S as ne,b as Xs,c as Js,N as Zs}from"./ffghn7hd8hwa4k5b.js";import{u as Ce,a as ea,g as sa}from"./nkcklgtigg32sxvd.js";import{S as aa,C as oa,a as ta}from"./ng0wks8l6t34dch3.js";import{b as be,c as na,d as Me,C as ra,e as je,f as ia,g as ca}from"./ljbu8sh7393jjfdt.js";import{C as ve}from"./osbhfwtxn4zr835f.js";import{u as la}from"./ee0lorinfbhctvv3.js";import{u as da,b as ua}from"./emi9b5jj9c6f2s4k.js";import{n as ga,z as fa,a4 as ma}from"./emiobmo9yrp27p7q.js";import{z as ha,k as Se,a as ke,E as pa}from"./oxm37jjpmmj4jh4x.js";import{m as re}from"./g0f573poiara0btd.js";function xa({onClose:e}){const a=H(),o=ce(),{openSettings:r}=Je(),n=Ze(),{session:t}=Ee(),{data:{isStorageComplianceEnabled:i}={}}=ge(),{data:d,isLoading:g}=es({enabled:!!(i&&t),select:c=>!c.cookie_consent.is_required});return l.useEffect(()=>{d===!0&&e()},[d,e]),g?null:s.jsx(Ca,{onReject:()=>{n.mutateAsync({analytics_cookies_accepted:!1},{onSuccess(){o.success(a.formatMessage(k.updateSuccess))},onError(){o.danger(a.formatMessage(k.updateFailure))}}),e()},onAccept:()=>{n.mutateAsync({analytics_cookies_accepted:!0},{onSuccess(){o.success(a.formatMessage(k.updateSuccess))},onError(){o.danger(a.formatMessage(k.updateFailure))}}),e()},children:s.jsx(L,{id:"CookieConsentBanner.authedDescription.0",defaultMessage:"We use cookies and similar technologies to deliver, maintain, improve our services and for security purposes. Check our <cookiePolicy>cookie policy</cookiePolicy> for details. Click 'Accept all' to let OpenAI and partners use cookies for these purposes. Click 'Reject all' to say no to cookies, except those that are strictly necessary. Choose <manageLink>manage cookies</manageLink> to change your preferences.",values:{cookiePolicy:c=>s.jsx(Ys,{href:"https://openai.com/policies/cookie-policy",openNewTab:!0,children:c}),manageLink:c=>s.jsx(ba,{onClick:()=>{r(ss.DataControls)},children:c})}})})}function Ca({children:e,onAccept:a,onReject:o}){return l.useEffect(()=>{le.addAction("privacy_policy.show_cookie_consent_banner")},[]),s.jsxs(as,{children:[s.jsxs(os,{className:"text-sm font-semibold [grid-area:_title]",children:[e,s.jsxs("div",{className:"mt-2 flex justify-end gap-3",children:[s.jsx(Y,{color:"secondary",size:"small",onClick:o,children:s.jsx(L,{...k.reject})}),s.jsx(Y,{color:"secondary",size:"small",onClick:a,children:s.jsx(L,{...k.accept})})]})]}),s.jsx(ts,{})]})}const ba=Te.button`underline font-normal text-green-600`,k=U({cookieConsentBannerTitle:{id:"CookieConsentBanner.title",defaultMessage:"We use cookies to provide, improve, and protect our services. Visit our <privacyPolicyLink>privacy policy</privacyPolicyLink> to learn more. You can manage your cookie preferences in your <settingsPanel>settings panel</settingsPanel>. <learnMoreLink>Learn more</learnMoreLink>."},reject:{id:"CookieConsentBanner.reject",defaultMessage:"Reject all"},accept:{id:"CookieConsentBanner.accept",defaultMessage:"Accept all"},updateSuccess:{id:"CookieConsentBanner.updateSuccess",defaultMessage:"Your cookie preferences were updated successfully"},updateFailure:{id:"CookieConsentBanner.updateFailure",defaultMessage:"Unable to update cookie preferences. Try again later."}}),Ma=M(()=>j(async()=>{const{ModelOnboardingNUXModal:e}=await import("./hxqtqg8yj3xvwnew.js");return{ModelOnboardingNUXModal:e}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12])).then(({ModelOnboardingNUXModal:e})=>e),{ssr:!1}),ja=({onClose:e})=>{const a=H(),o=R($.isBusinessWorkspace),r=R(t=>t.currentWorkspace),n=o?a.formatMessage(ie.workspaceWelcome,{workspaceName:r==null?void 0:r.name}):"ChatGPT";return s.jsx(de,{isOpen:!0,onClose:Be,type:"success",title:n,size:"custom",noPadding:!0,className:"max-w-3xl",description:a.formatMessage(ie.personalOnboardingSubheading),children:s.jsx(Ms,{onClose:e,scope:js.Personal})})};function va(){const[e,a]=l.useState(0),{hasSeenOnboardingDate:o}=ns(),{hasSeenTeamOwnerOnboardingDate:r}=rs(),n=R($.isBusinessWorkspace),t=Pe(),[i,d]=l.useState(!1),{data:g,isPending:c}=ge(),h=is(g,c),{eligible:f,isLoading:p}=Qs(),E=Ne(),v=De(),P=Oe(),{data:u,isError:b}=Le(),C=u!=null,y=u&&(u==null?void 0:u.accountItems.length)>1&&u.currentAccountId==null,A=u==null?void 0:u.accountItems.some(m=>m.isPersonalAccount()),N=!!(u!=null&&u.accountItems)&&u.accountItems.length>0&&u.accountItems.every(({canAccessWithCurrentSession:m})=>!m),{eligible:w,isLoading:x}=cs(),{value:q}=Re("1542198993"),{punchOutRequireLoginInfo:K}=ls(),S=l.useMemo(()=>[{Component:ds,getModalState:()=>K?"show":"hide",isDeferrable:!1},{Component:ja,getModalState:()=>n?"hide":o===null?"loading":o===!1?"show":"hide",isDeferrable:!0},{Component:us,getModalState:()=>b?"hide":y?"show":C?"hide":"loading",isDeferrable:!1},{Component:gs,getModalState:()=>E!==null?"show":b||C?"hide":"loading",isDeferrable:!1},{Component:fs,getModalState:()=>v!==null?"show":b||C?"hide":"loading",isDeferrable:!1},{Component:ms,getModalState:()=>P!=null?"show":b||C?"hide":"loading",isDeferrable:!1},{Component:hs,getModalState:()=>C?N?"show":"hide":"loading",isDeferrable:!1},{Component:xa,getModalState:()=>"hide",isDeferrable:!1},{Component:ps,getModalState:()=>!(t!=null&&t.isTeam())||!(t!=null&&t.isOwnerOfAccount())||!A?"hide":!C||r===null?"loading":r===!1?"show":"hide",isDeferrable:!1},{Component:xs,getModalState:()=>n?o===null?"loading":o===!1?"show":"hide":"hide",isDeferrable:!0},{Component:Cs,getModalState:()=>x?"loading":w&&q?"show":"hide",isDeferrable:!1},{Component:bs,getModalState:()=>h,isDeferrable:!1},{Component:Ma,getModalState:()=>p?"loading":f?"show":"hide",isDeferrable:!0,expiresAt:new Date(2024,7,13)}].filter(m=>!(m.isDeferrable&&i)&&(!m.expiresAt||m.expiresAt.getTime()>Date.now())),[K,P,C,o,r,A,p,n,b,E,v,t,N,y,h,f,i,q,w,x]);l.useEffect(()=>{if(S[e]&&S[e].getModalState()==="hide"){const m=S.findIndex(_e=>_e.getModalState()!=="hide");a(m)}},[e,S]);const _=S[e],F=(_==null?void 0:_.getModalState())==="show";if(l.useEffect(()=>{const m=z.getState().activeModals.has(T.BlockingInitialComponent);F!==m&&(F?B.openModal(T.BlockingInitialComponent):B.closeModal(T.BlockingInitialComponent))},[F]),_==null)return s.jsx("span",{"data-testid":"blocking-initial-modals-done",className:"hidden"});const Q=_.getModalState();if(Q==="loading")return null;Q==="hide"&&a(m=>m+1);const we=S[e].Component;return s.jsx(we,{onClose:()=>{d(!0),a(m=>m+1)}})}const ie=U({workspaceWelcome:{id:"BlockingInitialModals.workspaceWelcome",defaultMessage:"Welcome to the {workspaceName} workspace"},personalOnboardingSubheading:{id:"BlockingInitialModals.personalOnboardingSubheading",defaultMessage:"Tips for getting started"}});function ye({clientThreadId:e}){l.useEffect(()=>{B.closeSharingModal()},[e]);const a=ue();l.useEffect(()=>(I.retainThread(e),()=>{setTimeout(()=>{a.invalidateQueries({queryKey:["conversation",e]})},0),I.releaseThread(e)}),[e,a]),l.useEffect(()=>()=>{X.checkGate("3922476776")||ee.abortAllRequests()},[e]);const o=l.useRef(e);l.useEffect(()=>{e!==o.current&&(X.checkGate("3922476776")||ee.clear(),o.current=e)},[e])}function Ae({clientThreadId:e,setClientThreadId:a}){const o=ue(),r=vs(),n=r?{kind:J.GizmoInteraction,gizmo_id:r}:{kind:J.PrimaryAssistant};la(e,n);const t=Ie(),i=ha(e),d=l.useRef(i);d.current=i;const g=l.useCallback(()=>{a(W());const f=d.current;t(f.tags.includes(Fe.GPT_4)?"/":`/?model=${f.id}`,{replace:!0})},[a,t]),c=da({clientThreadId:e,location:"Model switcher menu item"}),h=l.useCallback(f=>{ga(t,o,f)},[o,t]);return{createNewThread:c,onThreadCreated:h,resetThread:g}}const Sa=M(()=>j(()=>import("./sso-m7aetue03k0ckwmy.js").then(e=>e.q),__vite__mapDeps([13,1,2,3,14,4,5,15,16,17,18,19,20,21,22,23,24,9,8,25,26,27,28,29,30,7,31,32,33,34,35,36,37,38,6,39,12,40,10,11,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96])).then(e=>e.default));function ka({clientThreadId:e,setClientThreadId:a,urlThreadId:o,prefetchSearch:r}){const n=$s();ye({clientThreadId:e});const{createNewThread:t,onThreadCreated:i,resetThread:d}=Ae({clientThreadId:e,setClientThreadId:a});Ce({resetThreadAction:d,clientThreadId:e});const g=G(e);return s.jsxs(ve,{clientThreadId:e,children:[s.jsx(fe,{clientThreadId:e,urlThreadId:o}),s.jsxs(ne,{hideNavigation:n,mobileHeaderContent:s.jsx(be,{clientThreadId:e,inMobileHeader:!0}),mobileHeaderBottomContent:s.jsx(na,{clientThreadId:e}),mobileHeaderLeftContent:s.jsx(Xs,{onNewChatButtonClick:d}),mobileHeaderRightContent:s.jsx(Js,{onNewChatButtonClick:d}),sidebar:s.jsx(Zs,{navHeader:e?s.jsx(aa,{className:"flex h-[60px] items-center md:h-header-height",onNewThread:t}):null,children:s.jsx(oa,{clientThreadId:e,onNewThread:t})}),children:[s.jsx(me,{}),s.jsx(Me,{clientThreadId:e,onCreate:i,prefetchSearch:r},e),s.jsxs(ne.Sidebars,{children:[g&&s.jsx(Sa,{clientThreadId:e}),s.jsx(he,{clientThreadId:e})]})]})]})}const ya=450;function Aa({children:e,clientThreadId:a,isOpen:o,onClose:r}){return s.jsx(Ss,{children:o&&s.jsx(Ve,{children:s.jsx(ks.Provider,{value:{isEmbeddedInFocusedView:!0},children:s.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[s.jsx(re.div,{className:"h-full w-full bg-token-main-surface-secondary",...se}),s.jsxs("div",{className:"absolute inset-0 flex",children:[s.jsx("div",{className:"flex-grow overflow-auto",children:e}),s.jsx(re.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:ya},...se,children:s.jsx("div",{className:"h-[100vh] pb-4",children:s.jsx(Me,{clientThreadId:a,hideHeader:!0,hideFooter:!0,hideToolsOverlay:!0,messagesVerticalAlign:"bottom"},a)})})]})]})})})})}const wa=M(()=>j(()=>import("./o75xz2j1bsvbr05v.js"),__vite__mapDeps([97,1,2,3,4,5,44,8,9,45,7,40,12,46,47,10,11,30,48,6]))),_a=M(()=>j(()=>import("./ilfuh8f7e6widbxq.js"),__vite__mapDeps([98,1,2,3,4,5,57,44,8,9,45,7,40,12,46,47,10,11,30,48,6,99,60,23,61,15,59,38,100,53,39,49,50,51,52,54,55,56,58,21,62,26,101])).then(e=>e.ImageEditor));function Ta({clientThreadId:e}){const a=ys();l.useEffect(()=>{V.close()},[e]);let o;return(a==null?void 0:a.type)===ae.ADAVisualization?o=s.jsx(wa,{clientThreadId:e,visualization:a.visualization}):(a==null?void 0:a.type)===ae.Image&&(o=s.jsx(_a,{clientThreadId:e,messageId:a.messageId,image:a.image,allImages:a.allImages},a.image.asset_pointer)),s.jsx(Aa,{clientThreadId:e,isOpen:a!=null,onClose:V.close,children:o})}const Ea=()=>{const e=H(),a=z(t=>t.activeModals.has(T.KeyboardActions)),o=()=>{B.closeModal(T.KeyboardActions)},r=ea(),n=l.useMemo(()=>{const t=Math.ceil(r.length/2);return[r.slice(0,t),r.slice(t)]},[r]);return s.jsx(de,{isOpen:a,onClose:o,type:"success",size:"custom",className:"md:max-w-[672px] lg:max-w-[796px] xl:max-w-4xl",showCloseButton:!0,title:e.formatMessage(Da.keyboardActionsModalTitle),children:s.jsx(s.Fragment,{children:s.jsx("div",{className:"grid grid-flow-row grid-cols-[repeat(auto-fit,minmax(250px,1fr))] gap-x-9",children:n.map((t,i)=>s.jsx("div",{className:"flex flex-col overflow-hidden",children:t.map(d=>s.jsx(Pa,{action:d},d.key))},`col-${i}`))})})})},Pa=({action:e})=>s.jsxs("div",{className:"flex items-center justify-between overflow-hidden text-token-text-primary",children:[s.jsx("div",{className:"flex flex-shrink items-center overflow-hidden text-sm",children:s.jsx("div",{className:"truncate",children:s.jsx(L,{...e.actionMessageDescriptor})})}),s.jsx("div",{className:"ml-3 flex flex-row gap-2",children:sa(e.keyboardBinding).map((a,o)=>s.jsx(Na,{keyName:a},`${e.key}-${o}`))})]}),Na=({keyName:e})=>{const a=D("my-2 flex h-8 items-center justify-center rounded-md border border-token-border-light capitalize text-token-text-secondary");return e.length>1?e.length>3?s.jsx("div",{className:D(a,"min-w-[50px]"),children:s.jsx("span",{className:"text-xs",children:e})}):s.jsx("div",{className:D(a,"min-w-[32px]"),children:s.jsx("span",{className:"text-xs",children:e})}):s.jsx("div",{className:D(a,"min-w-[32px]"),children:s.jsx("span",{className:"text-sm",children:e})})},Da=U({keyboardActionsModalTitle:{id:"KeyboardActionsModal.keyboardActionsModalTitle",defaultMessage:"Keyboard shortcuts"}});function Oa({clientThreadId:e,currentModelId:a,conversationLeafId:o,inlineEmbeddedDisplay:r,onChangeItemInView:n,onChangeRating:t,onRequestMoreCompletions:i,onRequestCompletion:d}){const[g]=l.useState(0),c=pe(e,o);function h(f){return f===g-1}return s.jsx("ol",{children:Array.from({length:c}).map((f,p)=>s.jsx("li",{children:s.jsx(ra,{isFinalTurn:h(p),turnIndex:p,clientThreadId:e,conversationLeafId:o,onChangeItemInView:n,onChangeRating:t,onRequestMoreCompletions:i,onRequestCompletion:d,currentModelId:a,showInlineEmbeddedDisplay:r,skipAvatar:!0},p)},p))})}function La({clientThreadId:e,onCompletionFinished:a,onThreadCreated:o,preRequestCompletion:r}){const n=Se(),t=fa(e),i=xe(e),d=ke(e)??n.id,c=pe(e,i)>=2,h=qs(e,i),f=Ks(e)&&!c&&ma(t),{onRequestCompletion:p}=je({clientThreadId:e,currentModelId:d,defaultModelId:n.id,onCompletionFinished:a,onThreadCreated:o,preRequestCompletion:r});return s.jsx("div",{className:O.footer,children:s.jsx(We.Provider,{value:p,children:s.jsx(As,{children:s.jsx(ia,{clientThreadId:e,isNewThread:f,onRequestCompletion:p,showPromptStarters:f||!h,currentModelId:d})})})})}function Ra({clientThreadId:e}){return s.jsxs("div",{className:O.header,children:[s.jsxs("div",{className:O.headerLeading,children:[s.jsx(ua,{clientThreadId:e}),s.jsx(be,{clientThreadId:e})]}),s.jsx("div",{className:O.headerTrailing,children:s.jsx(ca,{clientThreadId:e})})]})}function Ba({clientThreadId:e,onThreadCreated:a,onCompletionFinished:o,preRequestCompletion:r}){const n=Se(),t=ke(e)??n.id,i=xe(e),{onRequestCompletion:d,onChangeItemInView:g,onChangeRating:c,onRequestMoreCompletions:h}=je({clientThreadId:e,currentModelId:t,defaultModelId:n.id,onCompletionFinished:o,onThreadCreated:a,preRequestCompletion:r});return s.jsx(pa,{clientThreadId:e,currentLeafId:i,children:s.jsx(ws,{anchor:"top",className:"flex-1",leading:s.jsx(Ra,{clientThreadId:e}),trailing:s.jsx(La,{clientThreadId:e,onCompletionFinished:o,onThreadCreated:a,preRequestCompletion:r}),children:s.jsx(Oa,{clientThreadId:e,conversationLeafId:i,currentModelId:t,inlineEmbeddedDisplay:!1,onRequestCompletion:d,onChangeItemInView:g,onChangeRating:c,onRequestMoreCompletions:h})})})}const Ia=M(()=>j(()=>import("./sso-m7aetue03k0ckwmy.js").then(e=>e.q),__vite__mapDeps([13,1,2,3,14,4,5,15,16,17,18,19,20,21,22,23,24,9,8,25,26,27,28,29,30,7,31,32,33,34,35,36,37,38,6,39,12,40,10,11,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96])).then(e=>e.default));function Fa({clientThreadId:e,setClientThreadId:a,urlThreadId:o}){ye({clientThreadId:e});const{createNewThread:r,onThreadCreated:n,resetThread:t}=Ae({clientThreadId:e,setClientThreadId:a});Ce({resetThreadAction:t,clientThreadId:e});const i=G(e);return s.jsxs(ve,{clientThreadId:e,children:[s.jsx(fe,{clientThreadId:e,urlThreadId:o}),s.jsx(me,{}),s.jsx(_s,{className:He.screenDefaults,sidebar:s.jsx(ta,{clientThreadId:e,onNewThread:r}),thread:s.jsx(Ba,{clientThreadId:e,onThreadCreated:n}),details:i&&s.jsx(Ia,{clientThreadId:e}),debugger:s.jsx(he,{clientThreadId:e})})]})}var Va={};const Wa=M(()=>j(()=>import("./h89ixc84rt6mz1vq.js"),__vite__mapDeps([102,1,2,3,49,7,4,5,8,9,50,44,45,40,12,46,47,10,11,30,48,6,51,52,53,54,23,55,56,57,58,59,60,61,15,21,62,26,103,104]))),Ha=M(()=>j(()=>import("./hnu3wnwrsx3cuzzr.js"),__vite__mapDeps([105,1,2,3,8,4,5,9,28,29,30,7,106,27,70])).then(e=>e.SearchResultsModal)),Ua=M(()=>j(()=>import("./sso-m7aetue03k0ckwmy.js").then(e=>e.r),__vite__mapDeps([13,1,2,3,14,4,5,15,16,17,18,19,20,21,22,23,24,9,8,25,26,27,28,29,30,7,31,32,33,34,35,36,37,38,6,39,12,40,10,11,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96])).then(e=>e.default));function lo(e){var w;const{urlThreadId:a,clientThreadId:o,prefetchSearch:r}=e,n="serviceStatus"in e?e.serviceStatus:null;$a();const t=Ue(),i=Ge(),d=Z(),g=ce(),[c,h]=l.useState(()=>a!==void 0?a:o!==void 0?o:W());a!==void 0&&c!==a&&I.getServerThreadId(c)!==a&&h(a);const f=Ts(Z());l.useEffect(()=>{a===void 0&&I.getServerThreadId(c)!==void 0&&h(W())},[a,c,f]);const p=Es(),E=R($.workspaceId),v=Ps(),P=G(c),u=Ns(),{eligible:b,isLoading:C,markAsViewed:y}=Ds();l.useEffect(()=>{(i.asPath==="/"||i.asPath.startsWith("/c/"))&&Os({namespace:oe.ChatPageLoad})==null&&(Ls({namespace:oe.ChatPageLoad,opts:{expectedTimingLogs:[{name:"render_model_switcher",expectedInMs:1e4},{name:"render_history_items",expectedInMs:25e3}]}}),le.addTiming("chatgpt.web.chatPage.mounted"))},[]);const A=Rs();l.useEffect(()=>{ze(!0).then(x=>{x.force_login&&A({authType:"login"}),$e.initializeAndGatherData(x),Bs.initializeAndGatherData(x),qe.initializeAndGatherData(x)})},[A]),l.useEffect(()=>{n!=null&&n.type&&p===!1&&g.warning(n.message,{hasCloseButton:!0,duration:5})},[p,n==null?void 0:n.message,n==null?void 0:n.type,g]),l.useEffect(()=>{const x=i.query[Is]==="true";t!==x&&Ke.setIsTemporaryChatEnabled(x)},[t,i.query]),l.useEffect(()=>{var x;(x=d.state)!=null&&x.focusObject&&V.setFocusedObject(d.state.focusObject)},[(w=d.state)==null?void 0:w.focusObject]),l.useEffect(()=>{!C&&b&&v&&(y(),Fs(v))},[b,C,y,v]);const N=u?Fa:ka;return s.jsx(Qe.Provider,{value:null,children:s.jsx(Vs,{children:s.jsxs(te.Provider,{store:()=>new te,children:[s.jsx(va,{},E),s.jsx(Ea,{}),s.jsx(Ws,{}),s.jsx(N,{urlThreadId:a,clientThreadId:c,setClientThreadId:h,prefetchSearch:r}),s.jsx(Ta,{clientThreadId:c}),s.jsx(za,{clientThreadId:c}),s.jsx(Hs,{clientThreadId:c}),s.jsx(Ga,{}),P&&s.jsx(Ua,{}),s.jsx(Us,{}),s.jsx(Gs,{})]},c)})})}function Ga(){const e=z(a=>a.sharingModalThreadId);return e?s.jsx(Wa,{serverThreadId:e}):null}function za({clientThreadId:e}){return zs()&&s.jsx(Ha,{clientThreadId:e})}function $a(){Ye({queryKey:["pingEdge"],queryFn:()=>Xe.pingEdge(),enabled:!0,staleTime:1/0})}typeof window<"u"&&(window._g=Va.GOKU_SERVICE);export{lo as C,ya as F};
//# sourceMappingURL=odozxhyyiz9dksjz.js.map
