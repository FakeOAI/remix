import{X as d,r as o,a7 as m,j as R,R as g,b1 as l,b2 as p}from"./kx5kvg0igqglf8xo.js";import{u as S}from"./d2tubssqtsobeahn.js";import"./cli8x6zszfmaexxv.js";function _(){const{pluginId:t,code:u,state:i,error:r,errorDesc:c}=S(),a=d(),n=o.useRef(!1);return o.useEffect(()=>{if(n.current===!0)return;n.current=!0;async function h(){const f=`https://chat.openai.com/aip/${t}/oauth/callback`;try{const e=await g.pluginOauthCallback(t,u,f,i);if(e.success){const s=new URL(l(p.OAUTH_SUCCESS,e.redirect_path),location.origin);s.searchParams.set("oauth_success","true"),a.push(s.pathname+s.search+s.hash)}else a.push(l(p.CUSTOM_ERROR,e.redirect_path,e.error??e.message))}catch{a.push(`/?model=gpt-4-plugins&loginAip=${t}&loginSuccess=false`)}}h()},[t,u,i,a]),o.useEffect(()=>{r&&m.danger(`${r}${c?`: ${c}`:""}`,{duration:5})},[r,c]),R.jsx("div",{})}export{_ as default};
//# sourceMappingURL=l720qp35n9gcm5a4.js.map
