const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ll2f1rfa8zhudyvk.js","assets/llx06woxqm5vp2b7.js","assets/bkftj4gvmrvu5un3.js","assets/root-n6qektf0.css","assets/j0tiu643ugkdkhvf.js","assets/conversation-small-lkohtmkm.css","assets/j78uxq34q6l5otb4.js","assets/5tsoofsjgbomajsk.js","assets/b6rom5lp4xitnu99.js","assets/gkotemuzad6bzj8h.js","assets/gi7u4npiw31vt1st.js","assets/jxyxfz0wwv2wfcvf.js","assets/kh56ujruc7x74qac.js","assets/d418okut332borbe.js","assets/f7ozmwgfna2b7hu1.js","assets/j6fs9oow8f80rqhk.js","assets/cdvl5038xcno8myf.js","assets/fzrn137102spawew.js","assets/m3q2u8788i9thy7s.js","assets/gbylvyuzs37klmt9.js","assets/0nhwm9szghcwf51f.js","assets/jxk7dlx8xgpznjip.js","assets/ldjxg7etyk7qzt4t.js","assets/lao2voa72xzx8p6s.js","assets/lf4z2oe5ajdb0f01.js","assets/kqwdyvkaaavvn8k3.js","assets/oql9e6olevo8vc5z.js","assets/gzr6so8zl8oek0vr.js","assets/bv8agnkmar7a25ht.js","assets/l0dywnppe24gfokk.js","assets/bkxf16nfhxi1apch.js","assets/rlyxo08741wtp9u9.js","assets/gjjl3qzrjpc4ybg5.js","assets/c4bxzbp1808foto4.js","assets/jfq9uwdx1kkqwy2m.js","assets/gp278rw5elfucbdt.js","assets/n4ei7wc3pnp72xe5.js","assets/ke1z4vxy50ap8cvr.js","assets/envy0ajpay1utm53.js","assets/kdfh28js6mhgw4li.js","assets/d47qmrig1z8jf388.js","assets/oeddn6jvzai3ugi1.js","assets/nzrmz3cfx52y7dcf.js","assets/ki6hedu2n312z2oy.js","assets/gbz30uhbk6ayuadl.js","assets/kbq7vbr8p710vsqf.js","assets/g4tl5lt9yqf20m4s.js"])))=>i.map(i=>d[i]);
import{r as d,m as e,ae as te,B as re,V as oe,ey as ie,b8 as x,b9 as f,aC as ne,d_ as j,bG as de,bt as N,dY as L,bI as R,gY as P,aJ as ce,gR as C,N as le,aB as ue,ad as T,af as he,dg as A,z as F,bh as me,D as xe,cv as fe,cw as ge,cx as be,dG as pe,g1 as je,A as ve,a0 as Se}from"./llx06woxqm5vp2b7.js";import{hg as Ce,hh as H,A as z,hi as we,hj as Ee,cE as B,bk as ye,cF as _e,cU as U,T as G,hk as K,hl as Ne,hm as Pe,fQ as W,hn as Q,ho as X,hp as Y,hq as Te,bl as q,hr as k,hs as S,fM as Ae,bB as w,bC as V,z as Fe,ht as ke,u as Ve,eX as Ie,eu as Oe,eW as Me,hu as De,hv as Le,hw as Re,bY as He,hx as ze,hy as Be,hz as Ue,hA as I,hB as Ge,az as Ke,hC as We,hD as Qe,bi as Xe,cC as Ye,cD as qe,hE as $e,hF as Je,hG as Ze,cG as es,hH as ss,bZ as as,er as ts}from"./j0tiu643ugkdkhvf.js";import{m as p}from"./b6rom5lp4xitnu99.js";import{S as O,b as rs,c as os}from"./jfq9uwdx1kkqwy2m.js";import{S as is,C as ns}from"./n4ei7wc3pnp72xe5.js";import{T as $,C as J}from"./ke1z4vxy50ap8cvr.js";import{N as ds}from"./gp278rw5elfucbdt.js";import{C as cs}from"./nzrmz3cfx52y7dcf.js";function ls({clientThreadId:s}){const a=Ce(r=>r.notifications);return d.useEffect(()=>{a.filter(t=>t.clientThreadId===s).map(t=>t.id).filter(t=>t!==void 0).forEach(t=>H(t))},[s,a]),a.length===0?null:e.jsx("div",{className:"fixed right-4 top-8 my-2 flex max-h-[90vh] flex-col-reverse space-y-2 space-y-reverse overflow-y-auto px-2 py-4",children:e.jsx(z,{children:a.map(r=>e.jsx(us,{...r},r.id))})})}function us({...s}){const a=te(),r=re(),t=oe(),i=ie(s.clientThreadId),n=()=>{i&&Ee(a,r,i),s.id&&H(s.id)};return e.jsxs(p.div,{onClick:n,className:"inline-flex w-80 cursor-pointer items-center justify-start gap-2.5 rounded-2xl border border-token-border-light bg-token-main-surface-primary px-3 py-3 align-middle shadow-lg",initial:{opacity:0,x:320},animate:{opacity:1,x:0},exit:{opacity:0,x:320},transition:{duration:.5},children:[e.jsx(we,{iconName:"openai",size:"medium",className:"border-token-secondary rounded-full border bg-token-main-surface-primary text-token-text-primary"}),e.jsxs("div",{className:"inline-flex w-full shrink grow basis-0 flex-col items-start justify-start overflow-hidden",children:[e.jsx("div",{className:"w-full truncate text-sm font-medium text-token-text-primary",children:s.title??t.formatMessage({id:"mpXAeu",defaultMessage:"New chat"})}),e.jsx("div",{className:"w-full truncate text-sm text-token-text-tertiary",children:s.subtitle??t.formatMessage({id:"qMEc8J",defaultMessage:"New Message"})})]})]})}const hs=x(()=>f(()=>import("./ll2f1rfa8zhudyvk.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21])).then(s=>s.CanvasFocusedViewManager)),ms=x(()=>f(()=>import("./ldjxg7etyk7qzt4t.js"),__vite__mapDeps([22,1,2,3,23,4,5,24,25,26,27,8])).then(s=>s.SearchResultsModal));function xs({clientThreadId:s,setClientThreadId:a,urlThreadId:r,prefetchSearch:t,threadContent:i}){const n=ne();B({clientThreadId:s});const{createNewThread:u,onThreadCreated:o,resetThread:c}=ye({clientThreadId:s,setClientThreadId:a});_e({resetThreadAction:c,clientThreadId:s});const h=j("searchSources"),g=j("summarizer"),b=U();return e.jsxs(G,{enableSandbox:!1,clientThreadId:s,children:[e.jsx(K,{clientThreadId:s,urlThreadId:r}),e.jsxs(O,{hideNavigation:n,mobileHeaderContent:e.jsx(Ne,{clientThreadId:s,inMobileHeader:!0}),mobileHeaderBottomContent:e.jsx(Pe,{clientThreadId:s}),mobileHeaderLeftContent:e.jsx(rs,{onNewChatButtonClick:c}),mobileHeaderRightContent:e.jsx(os,{onNewChatButtonClick:c}),sidebar:e.jsx(ds,{navHeader:s?e.jsx(is,{className:"flex h-[60px] items-center md:h-header-height",onNewThread:u}):null,children:e.jsx(ns,{clientThreadId:s,onNewThread:u})}),threadFlyout:e.jsxs(e.Fragment,{children:[h&&e.jsx(W,{clientThreadId:s}),b&&g&&e.jsx(Q,{clientThreadId:s})]}),children:[e.jsx(X,{}),i??e.jsx($,{clientThreadId:s,onCreate:o,prefetchSearch:t},s),e.jsxs(O.Sidebars,{children:[e.jsx(hs,{clientThreadId:s}),e.jsx(Y,{clientThreadId:s})]})]}),e.jsx(fs,{clientThreadId:s})]})}function fs({clientThreadId:s}){const a=de(),r=a?.includes(N.SearchTool)&&!a?.includes(N.SearchToolHoldout),t=Te();return L()&&(!t||!r)&&e.jsx(ms,{clientThreadId:s})}const M=450;function gs({children:s,clientThreadId:a,isOpen:r,onClose:t}){const i=R();return e.jsxs(z,{children:[r&&i&&e.jsx(q,{clientThreadId:a,children:e.jsx(P,{children:e.jsx(k.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(p.div,{className:"h-full w-full bg-token-main-surface-secondary",...S}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx(p.div,{className:"relative shrink-0 border-r border-token-border-medium bg-token-main-surface-primary",style:{width:M},...S,children:e.jsx(J,{hideHeader:!0,hideTools:!0})}),e.jsx("div",{className:"relative flex-grow overflow-auto",children:s})]})]})})})}),r&&!i&&e.jsx(P,{children:e.jsx(k.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(p.div,{className:"h-full w-full bg-token-main-surface-secondary",...S}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx("div",{className:"flex-grow overflow-auto",children:s}),e.jsx(p.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:M},...S,children:e.jsx("div",{className:"h-[100vh] pb-4",children:e.jsx($,{clientThreadId:a,hideHeader:!0,hideFooter:!0,hideToolsOverlay:!0,messagesVerticalAlign:"bottom"},a)})})]})]})})})]})}const bs=x(()=>f(()=>import("./bv8agnkmar7a25ht.js"),__vite__mapDeps([28,1,2,3,4,5]))),ps=x(()=>f(()=>import("./l0dywnppe24gfokk.js"),__vite__mapDeps([29,1,2,3,4,5,30,31,32,33,8,34,35,19,36,37,9,15,38,39,40,41,42])).then(s=>s.ImageEditor));function js({clientThreadId:s}){const a=Ae();d.useEffect(()=>{w.close()},[s]);let r;return a?.type===V.ADAVisualization?r=e.jsx(bs,{clientThreadId:s,visualization:a.visualization}):a?.type===V.Image&&(r=e.jsx(ps,{clientThreadId:s,messageId:a.messageId,image:a.image,allImages:a.allImages},a.image.asset_pointer)),e.jsx(gs,{clientThreadId:s,isOpen:a!=null,onClose:w.close,children:r})}const vs=x(()=>f(()=>import("./ll2f1rfa8zhudyvk.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21])).then(s=>s.CanvasFocusedViewManager)),D=64;function Ss(){const{focusedObject:s,clientThreadId:a}=Fe();j(void 0);const r=d.useRef(null),[t,i]=d.useState({bottom:null,height:null});ke(r,i);const n=Ve(),u=j("searchSources"),o=j("summarizer"),c=L(),[h,g]=d.useState(!1),b=!n&&!!s;let l=0;h&&t.height==null?l=D:h&&t.height!=null?l=D+t.height:!h&&t.height!=null&&(l=t.height);const v=U();return e.jsx(Ie,{className:ce(C.application,{[C.withCanvasFocusedView]:!!n,[C.withEmbeddedFocusedView]:b}),banner:e.jsx(le,{children:e.jsx(Oe,{setIsMobileAppUpsellBannerVisible:g})}),sidebar:e.jsx(cs,{}),thread:e.jsx(J,{ref:r},a),details:e.jsx(vs,{clientThreadId:a}),threadExtendedInfo:c&&e.jsxs(e.Fragment,{children:[!1,u&&e.jsx(W,{clientThreadId:a}),v&&o&&e.jsx(Q,{clientThreadId:a})]}),debugger:e.jsx(Y,{clientThreadId:a}),name:"application-root",style:{"--screen-keyboard-bottom":t.bottom?`${t.bottom}px`:"","--screen-height-offset":l>0?`${l}px`:""}})}function Cs({clientThreadId:s,urlThreadId:a}){return B({clientThreadId:s}),e.jsxs(Me,{children:[e.jsx(De,{}),e.jsx(Le,{}),e.jsxs(G,{enableSandbox:!1,clientThreadId:s,children:[e.jsx(K,{clientThreadId:s,urlThreadId:a}),e.jsx(X,{}),e.jsx(Ss,{})]})]})}var ws={};const Es=x(()=>f(()=>import("./ki6hedu2n312z2oy.js"),__vite__mapDeps([43,1,2,3,4,5,44]))),ys=x(()=>f(()=>import("./kbq7vbr8p710vsqf.js"),__vite__mapDeps([45,1,2,3,4,5,37,9,8,15,38,19,39,40,41,46])));function Ms(s){const{urlThreadId:a,clientThreadId:r,prefetchSearch:t}=s;Ns();const i=ue(),n=T(),[u]=he(),[o,c]=d.useState(()=>a!==void 0?a:r!==void 0?r:A());a!==void 0&&o!==a&&F.getServerThreadId(o)!==a&&c(a);const h=Re(T());d.useEffect(()=>{a===void 0&&F.getServerThreadId(o)!==void 0&&c(A())},[a,o,h]);const g=He(as.workspaceId),b=R(),{eligible:l,isLoading:v,markAsViewed:E}=ze(),y=Be(),Z=me("3435450078");d.useEffect(()=>{(n.pathname==="/"||n.pathname.startsWith("/c/"))&&Ue({namespace:I.ChatPageLoad})==null&&(Ge({namespace:I.ChatPageLoad,opts:{expectedTimingLogs:[{name:"render_model_switcher",expectedInMs:1e4},{name:"render_history_items",expectedInMs:25e3}]}}),xe.addTiming("chatgpt.web.chatPage.mounted"))},[]);const _=Ke();d.useEffect(()=>{fe(!0).then(m=>{m.force_login&&_({authType:"login"}),ge.initializeAndGatherData(m),We.initializeAndGatherData(m),be.initializeAndGatherData(m)})},[_]),d.useEffect(()=>{const m=u.get(Qe)==="true";i!==m&&pe.setIsTemporaryChatEnabled(m)},[i,u]),d.useEffect(()=>{n.state?.focusObject&&w.setFocusedObject(n.state.focusObject)},[n.state?.focusObject]),d.useEffect(()=>{!v&&l&&(E(),y())},[l,v,E,y]);const{isOpen:ee,isLoading:se}=Xe(),ae=b?Cs:xs;return e.jsx(je.Provider,{value:null,children:e.jsx(Ye,{children:e.jsxs(qe,{clientThreadId:o,children:[e.jsx($e,{clientThreadId:o},g),!se&&ee&&e.jsx(ys,{clientThreadId:o,setClientThreadId:c}),e.jsx(Je,{}),e.jsx(Ze,{}),e.jsx(q,{clientThreadId:o,setClientThreadId:c,prefetchSearch:t,children:e.jsx(ae,{urlThreadId:a,clientThreadId:o,setClientThreadId:c,prefetchSearch:t})}),e.jsx(js,{clientThreadId:o}),e.jsx(es,{clientThreadId:o}),e.jsx(_s,{}),e.jsx(ss,{}),Z?e.jsx(ls,{clientThreadId:o}):!1]})})})}function _s(){const s=ts(a=>a.sharingModalThreadId);return s?e.jsx(Es,{serverThreadId:s}):null}function Ns(){ve({queryKey:["pingEdge"],queryFn:()=>Se.pingEdge(),enabled:!0,staleTime:1/0})}typeof window<"u"&&(window._g=ws.GOKU_SERVICE);export{Ms as C,M as F};
//# sourceMappingURL=bhb0j345bv3cbnyx.js.map
