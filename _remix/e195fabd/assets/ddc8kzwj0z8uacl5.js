import{ao as d,r as a,aQ as p,aR as h,j as t,cO as u,aN as c,F as l}from"./h0b670ehlczrzmby.js";import{a as f,b as S}from"./pefe0i5d0s07mihz.js";import{l as x,T}from"./ibvmqajet6tua8bo.js";import{u as g}from"./m5es2fi3ko3mxu2w.js";import"./l80md5euhzcfcwih.js";import"./ogz2chpqk6y3mtrw.js";import"./nhycp86hlx2bwzb5.js";import"./mu1vqc3szitsk7hl.js";import"./bkali08fbs0zdeff.js";import"./8mmfayh1wm6g8keu.js";import"./mpymprdh7er7evw1.js";import"./dmngrf0scfzplo2g.js";import"./gk6hhqy16zzq79od.js";import"./mt2myx6gvxjgqmjz.js";import"./digndrx9sk290tqa.js";import"./e0si7fcmujopszjn.js";import"./o2tiwpnkql5k5dy3.js";import"./li3g5zz2n6tf0yv1.js";import"./fqn4xpzuqt7yfqsm.js";import"./nahfh0349yf8tror.js";import"./bm35ep0stfgqlqzs.js";import"./coceas3wwsbi6cn5.js";import"./j9ro4texwlr25fwd.js";import"./ktfn5ffm35diovzn.js";import"./osq1jcqdchc1jwjh.js";import"./k8shj0o33xhwr2jd.js";import"./cvc2k0lzitq596fz.js";import"./f5vxr18ewyzkm6pa.js";import"./hnl2fungzsea6cn6.js";import"./hnx9tkfvio4fcne2.js";import"./cstv0hdfywyxa4xg.js";function v(r){const i=r.sharedConversationId,{data:e,isError:s}=d({queryKey:[`shared-conversation/${i}`],queryFn:()=>l.getAuthedSharedConversation(i)}),[o]=a.useState(()=>x()),[n,m]=a.useState(!1);return a.useEffect(()=>{s&&(window.location.href=p(h.SHARE_NOT_FOUND))},[s]),a.useEffect(()=>{e&&o&&(T.initThreadFromServerData(o,e,!0,i),m(!0))},[e,i,o]),n?r.continueMode?t.jsx(f,{...r.chatPageProps,clientThreadId:o}):t.jsx(u.Provider,{value:{serverSharedThreadId:i,isIndexable:!1},children:t.jsx(S,{clientThreadId:o,setClientThreadId:()=>{},initiallyHighlightedMessageId:e==null?void 0:e.highlighted_message_id,continueConversationUrl:e==null?void 0:e.continue_conversation_url})}):t.jsx("div",{className:"flex h-full items-center justify-center",children:t.jsx(c,{className:"text-token-text-tertiary"})})}function Y(){const r=g();return t.jsx(v,{...r})}export{Y as default};
//# sourceMappingURL=ddc8kzwj0z8uacl5.js.map
