import{j as e,r as j,ar as g,J as f,c as w,bg as G,aN as M,K as D,B as z,D as R,N as A,aD as L}from"./ok0u5qvj4oat7txg.js";import{c3 as O,c4 as $,c5 as C,aL as I,ai as E,aj as P,al as _}from"./li4a57d0tlr94tbl.js";import{D as u,$ as T}from"./k80f85p7anpqiab3.js";import{F as v,b1 as b,b2 as N,b3 as S,b4 as U,o as B,z as F,B as V,b5 as k,m as q}from"./lc2pmkiht993qt7o.js";const K="#settings/BuilderProfile";function ne({selectedDomain:s,verifiedDomains:a,domains:d,onChangeDomain:r}){var h,m;const[i,t]=j.useState(!1),o=a.length>0,n=(h=g())==null?void 0:h.id,c=(m=g())==null?void 0:m.isEnterprisey(),{mutateAsync:l}=O(n);return e.jsxs("div",{className:"font-normal",children:[e.jsxs(u.Root,{children:[e.jsx(T,{children:e.jsxs("span",{className:"flex items-center gap-2 py-2",children:[s??e.jsx(f,{...p.selectADomain}),e.jsx(U,{className:"icon-md"})]})}),e.jsx(u.Portal,{children:e.jsxs(u.Content,{children:[e.jsx(u.RadioGroup,{value:s,onValueChange:x=>{x!==s&&r(x)},children:a.map(({id:x,hostname:y})=>e.jsx(u.RadioItem,{value:y,children:e.jsxs("div",{className:"flex flex-row",children:[e.jsx("span",{children:y}),e.jsx("span",{onClick:()=>{l({domainId:x}),r("")},children:e.jsx(B,{className:"icon-sm fixed right-4"})})]})},x))}),o&&e.jsx(u.Separator,{}),e.jsx(u.Item,{onClick:()=>{t(!0)},icon:F,children:e.jsx(f,{...p.addDomain})})]})})]}),n&&!c&&e.jsx($,{domains:d,isOpen:i,onClose:()=>t(!1),workspaceId:n,showUnverifiedDomains:!0,onVerifyDomain:x=>{r(x.hostname)}})]})}function Q(){const s=z();return R({mutationFn:({verifierType:a})=>I.unverifySocialAuth(a),onSuccess:()=>{s.refetchQueries({queryKey:["builderProfile"]})}})}function W({socialData:s}){const{type:a,display_name:d,verified_data:r}=s,i=a==="twitter"?b:a==="linkedin"?N:a==="github"?S:null;return i?e.jsxs("div",{className:"flex w-full flex-row items-center justify-between",children:[e.jsxs("div",{className:"flex flex-row items-center space-x-2 text-token-text-primary",children:[i({className:"icon-md"}),e.jsx("span",{children:d})]}),(r==null?void 0:r.link_to)&&e.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:r.link_to,className:"text-sm text-token-text-tertiary hover:cursor-pointer",children:e.jsx(v,{className:"icon-sm"})})]}):null}function ae({socialData:s,icon:a}){const{id:d,type:r,display_name:i,verified:t,verified_data:o}=s,[n,c]=j.useState(!1),l=Q();return e.jsxs("div",{className:"flex flex-row items-center justify-between space-y-1",children:[e.jsxs("div",{className:w("flex items-center space-x-2"),children:[e.jsx(a,{className:"icon-sm"}),e.jsx("span",{children:i}),t&&(o==null?void 0:o.username)&&e.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:o.link_to,className:"text-sm text-token-text-tertiary hover:cursor-pointer",children:o==null?void 0:o.username})]}),t?e.jsx("div",{className:"py-1 font-semibold hover:cursor-pointer",onClick:()=>{l.mutate({verifierType:r})},children:l.isPending?e.jsx(M,{}):e.jsx(V,{className:"icon-sm text-token-text-tertiary"})}):e.jsx(G,{size:"small",color:"secondary",loading:n,onClick:async()=>{c(!0),await C({id:d},K),c(!1)},children:e.jsx(f,{...p.verify})})]})}const p=D({verify:{defaultMessage:"Add",id:"GizmoSocialRow.add"},addDomain:{id:"GizmoSocialRow.addDomain",defaultMessage:"Verify new domain"},selectADomain:{id:"GizmoSocialRow.selectADomain",defaultMessage:"Select a domain"}}),Z=A.div`text-sm text-token-text-tertiary`,J="community builder";function X(s){return"gizmo"in s}function ie({gizmo:s,builderName:a,builderUrl:d,className:r,socials:i,hideLink:t=!1}){const{value:o}=L("2256850471");let n,c;s&&X(s)?(n=s.gizmo.author.display_name,c=s.gizmo.author.link_to):(n=a,c=d),(n===""||n==null)&&(n=J);const l=i==null?void 0:i.filter(m=>m.verified),h=e.jsxs("div",{className:"w-48 space-y-4 text-sm",children:[c&&e.jsxs("div",{className:"flex w-full flex-row items-center justify-between",children:[e.jsxs("div",{className:"flex flex-row items-center space-x-2 text-token-text-primary",children:[e.jsx(k,{className:"icon-md"}),e.jsx("span",{children:e.jsx(f,{id:"gizmo.author.websiteLabel",defaultMessage:"Website"})})]}),e.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:c,className:"text-token-text-tertiary hover:cursor-pointer",children:e.jsx(v,{className:"icon-sm"})})]}),o&&(l==null?void 0:l.map((m,x)=>m.verified?e.jsx(W,{socialData:m},x):null)),e.jsxs("div",{className:"text-xs text-token-text-tertiary",children:[(c||l&&l.length>0)&&e.jsx("hr",{className:"my-2 border-token-border-light"}),e.jsx(f,{id:"gizmo.author.cannotViewLabel",defaultMessage:"The builder of this GPT cannot view your conversations."})]})]});return e.jsxs("div",{className:"flex flex-row items-center space-x-1",children:[e.jsx(Z,{className:r,children:e.jsx(f,{id:"gizmo.author.byLabel",defaultMessage:"By {displayName}",values:{displayName:n}})}),!t&&e.jsx(Y,{socials:i,website:c,children:h})]})}function Y({website:s,socials:a,children:d}){const[r,i]=j.useState(!1);let t=[];s&&t.push(e.jsx(k,{className:"icon-xs text-token-text-secondary"})),a&&a.forEach(n=>{n.verified&&(n.type==="twitter"?t.push(e.jsx(b,{className:"icon-xs text-token-text-secondary"})):n.type==="linkedin"?t.push(e.jsx(N,{className:"icon-xs text-token-text-secondary"})):n.type==="github"&&t.push(e.jsx(S,{className:"icon-xs text-token-text-secondary"})))});const o=t.length-2;return t=t.slice(0,2),o>0&&t.push(e.jsxs("span",{className:"text-xs font-semibold text-token-text-secondary",children:["+",o]},"overflow")),e.jsx(E,{open:r,onOpenChange:i,children:e.jsxs("div",{onPointerLeave:()=>i(!1),children:[e.jsx(P,{asChild:!0,children:e.jsx("div",{onPointerEnter:()=>i(!0),children:t.length>0?e.jsx("div",{className:"flex items-center gap-1 rounded-xl bg-token-main-surface-secondary px-2 py-1",children:t}):e.jsx(q,{className:"icon-xs text-token-text-secondary"})})}),e.jsx(_,{side:"top",sideOffset:8,align:"center",className:"z-10 rounded-lg bg-token-main-surface-primary p-4 drop-shadow-md",children:d})]})})}export{ne as D,ie as G,ae as a};
//# sourceMappingURL=ea909066k64xc3ge.js.map
