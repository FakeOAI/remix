const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/sso-y24qlvpjvdevd8x6.js","assets/otclk14vst88v95n.js","assets/cqauunpqwnjujx3i.js","assets/root-cn1q1n2n.css","assets/f6bdrzwk5aclba0b.js","assets/cef20f49k9y1cwjs.js","assets/conversation-small-mclg7qvi.css","assets/d9zyifn8newo7zbx.js","assets/m5be5ov74xrjmrp3.js","assets/ge4estcii3ilqp3x.js","assets/fjotlmkpidhbg5lv.js","assets/dz5d6zj45kdshiom.js","assets/g2mu0f7itg7huslu.js","assets/o0zm8r4ulpygvxzt.js","assets/frpk4161je4wyyc5.js","assets/grwsm8tx5qgi12pr.js","assets/fk3u4mjp5mpw70zy.js","assets/mmxiwemqqtmqbesv.js","assets/ibb3ldlzt4z2r22d.js","assets/k634wtly9qqhfuwz.js","assets/nrpg61rmusf8o8ub.js","assets/dnzexkfcmjpqmtba.js","assets/bj5ozoczrnueocbo.js","assets/k1bybifg8757yvsg.js","assets/bj84hod8soycdu5o.js","assets/kgpt3malt6eqacih.js","assets/hxegvzgw7bblgaxl.js","assets/eayiiad2l5prvvwc.js","assets/i3lhp0y9ixfjs84k.js","assets/j6i8vfg92lbcflka.js","assets/n9r8w67q4d2shpjh.js","assets/fg1cceh1nyryady0.js","assets/gadgua8tzgpajxqz.js","assets/itghwucfyv5ciib7.js","assets/nzal8atexc0mul29.js","assets/hj6cj7m5qcsoqxlf.js","assets/lbcnuoctupcnvlt2.js","assets/983a0dy92b3ronpv.js","assets/dppwq2udw3en7vdg.js","assets/mi7ib6zg2mtczyia.js","assets/kqwdyvkaaavvn8k3.js","assets/g0g7owg6j7cwi23a.js","assets/hvmghhep8rwhhb5m.js","assets/edllx3ycekthkzxl.js","assets/jxgasw6r93foshbs.js","assets/nhwwej1nq0zrd7sc.js","assets/j2ohic1668qrk25b.js","assets/dumt5x10tr8cp7v9.js","assets/igvvklrr5qpdyj7e.js","assets/lkvsxcy06l4nodjs.js","assets/j6hkozum2eq0un17.js","assets/mdtn63qxb80mixss.js","assets/jymfcxvqtjbkrst6.js","assets/cy19cl7z1ypv8mks.js","assets/eg3uwjflf5osl97h.js","assets/j2wfs46bm5ondumk.js","assets/iej0cupg2dqkmejt.js","assets/06o75hql6ljdmcq5.js","assets/lw5mafjeq59vrl67.js","assets/jk8w36bsokizpx57.js","assets/g3t9mr0690be3awb.js","assets/bs15anz3z72ppl2r.js","assets/f5b9dpiw5iadkbq2.js","assets/npw1l0xd4g5ieuef.js","assets/dnz4j21u8t8m6fvq.js","assets/n6wvh22fesvcbzv1.js","assets/inqphz7z0wez6nc0.js","assets/swiper-kmk1dd5x.css","assets/b92csiuvifjzkzko.js"])))=>i.map(i=>d[i]);
import{a4 as P,t as e,a9 as b,ak as E,r as d,P as Q,d as K,ae as G,bK as X,U as h,T as J,Q as Y,a as Z,e1 as ee,ay as w,aU as se,a6 as M,a7 as H,ab as te,f4 as ne,ag as ie,cp as ae}from"./otclk14vst88v95n.js";import{cE as x,a4 as p,dE as A,ag as D,c3 as oe,eE as re,q as ce,eF as le,eG as de,c4 as ue,c5 as me,b_ as L,eH as I,c1 as fe,eI as he,b$ as xe,aG as pe,c as ge,N as be,eJ as ye,bx as ve}from"./cef20f49k9y1cwjs.js";import{p as Se,a8 as Ne,b7 as je,b8 as Te}from"./cqauunpqwnjujx3i.js";import{B as we,D as Ie}from"./g2mu0f7itg7huslu.js";import{u as j,e as B,b as O,U as N}from"./fk3u4mjp5mpw70zy.js";import{m as ke}from"./fjotlmkpidhbg5lv.js";import{d as Ce,m as Pe}from"./ge4estcii3ilqp3x.js";import{u as Ee,a as z,H as Ge,b as Me}from"./dnz4j21u8t8m6fvq.js";import{u as He,r as Ae}from"./k1bybifg8757yvsg.js";import{N as De}from"./d9zyifn8newo7zbx.js";function _(){const{activeModals:s}=j(),t=E(),n=x(p.ExploreGPTs),a=x(p.ExploreGPTsNewNux),o=B(),i=O(),l=D(),r=n.eligible&&!n.isLoading&&!i;let c=a.eligible&&!a.isLoading&&!i&&!o&&!l;return s.size>0&&(c=!1),!r&&t?.hasPlusFeatures()&&(c=!1),d.useEffect(()=>{c&&Q.logEvent(K.storeDisplayNewNux)},[c]),c}function ns({children:s}){const t=_(),n=P(),a=x(p.ExploreGPTsNewNux);return t?e.jsx(A,{side:"right",show:!0,title:n.formatMessage(k.exploreGPTsTitle),onDismiss:a.markAsViewed,sideOffset:20,theme:"bright",description:e.jsx(b,{...k.exploreGPTsDescriptionNewNux}),children:s}):e.jsx(e.Fragment,{children:s})}const k=G({exploreGPTsTitle:{id:"gptExploreGPTs.title",defaultMessage:"Explore GPTs"},exploreGPTsDescription:{id:"gptExploreGPTs.description",defaultMessage:"Now you can discover GPTs created by the community"},exploreGPTsDescriptionNewNux:{id:"gptExploreGPTs.descriptionNewNux",defaultMessage:"Discover custom versions of ChatGPT created for specific use cases like writing, research, and coding."}});function Le(){const s=x(p.SonicSidebar),[t,n]=d.useState(!1);return s.isLoading||!s.eligible?null:e.jsx(ke.div,{className:"no-draggable group pb-0",whileTap:{scale:.98},children:e.jsx(Oe,{children:e.jsx(oe,{href:"/search",target:"_blank",icon:e.jsx("div",{className:h("gizmo-shadow-stroke mr-[0.5] flex h-6 w-6 items-center justify-center rounded-full bg-token-main-surface-primary align-middle text-token-text-primary"),children:e.jsx(re,{})}),label:"SearchGPT",hoverRightIcon:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(ze,{isOpen:t,setIsOpen:n,onDismiss:()=>s.markAsViewed()}),e.jsx(Se,{className:h("icon-md text-token-text-tertiary",!t&&"invisible group-hover:visible")})]}),isMenuOpen:!1,loggingGizmoId:"search-gpt-sidebar"})})})}function Be(){const s=O(),t=x(p.hasSeenSncSidebarTooltip),n=_(),a=B(),{activeModals:o}=j(),i=D();return!t.isLoading&&t.eligible&&!n&&o.size===0&&!s&&!a&&!i}function Oe({children:s}){const t=Be(),n=x(p.hasSeenSncSidebarTooltip);return t?e.jsx(A,{side:"right",show:!0,badge:"new",title:"Try SearchGPT",onDismiss:n.markAsViewed,sideOffset:10,theme:"bright",description:"You're in. Get answers with real-time information from relevant sources, and ask follow-up questions.",children:e.jsx("div",{className:"w-full",children:s})}):e.jsx(e.Fragment,{children:s})}function ze({isOpen:s,setIsOpen:t,onDismiss:n}){return e.jsx(we,{open:s,onOpenChange:t,triggerButton:e.jsx("button",{className:h("flex text-token-text-tertiary",s?"":"invisible group-hover:visible"),onClick:a=>{a.preventDefault()},children:e.jsx(Ne,{className:"icon-md"})}),children:e.jsx(Ie.Item,{onClick:a=>{a.preventDefault(),n()},children:e.jsx(b,{id:"sidebar.hideFromSidebar",defaultMessage:"Hide from sidebar"})})})}function _e(){const s=X("114024");return!s.value||s.isLoading?null:e.jsx(Le,{})}const C=G({unableToLoadHistory:{id:"history.unableToLoad",defaultMessage:"Unable to load history"},retryButton:{id:"history.retryButton",defaultMessage:"Retry"}});function Re({activeId:s,isPrimaryBackgroundColor:t}){const n=Z(),[a,o]=d.useState(!1),[i,l]=d.useState(0),r=ee(),{conversations:u,hasNextPage:c,fetchNextPage:y,isLoading:g,isFetchingNextPage:R,isError:T}=He(),v=d.useRef(null),F=d.useCallback(f=>{g||f==null||(v.current?.disconnect(),v.current=new IntersectionObserver(q=>{q[0].isIntersecting&&c&&y()}),v.current.observe(f))},[g,c,y]);d.useEffect(()=>()=>{v.current?.disconnect()},[]),d.useMemo(()=>{ce.publish({kind:"refreshHistory",conversations:u})},[u]);const S=u;d.useEffect(()=>{const f=le(de(),Date.now());r(()=>{l(i+1)},f+1e3)},[i,r]);const m=S.length===0;d.useEffect(()=>{m||ue({namespace:me.ChatPageLoad})?.logTiming("render_history_items")},[m]);const U=Ee(S,i),{isCollapsible:V}=z(),$=j(f=>f.isHistoryCollapsed),W=L();return e.jsxs(Ve,{$centered:g||T||m,$screenArch:W,children:[m&&g&&e.jsx(w,{className:"m-auto"}),m&&T&&e.jsxs("div",{className:"p-3 text-center italic text-token-text-tertiary",children:[e.jsx(b,{...C.unableToLoadHistory}),!a&&e.jsx("div",{className:"mt-1",children:e.jsx(se,{as:"button",color:"primary",size:"small",className:"m-auto mt-2",onClick:()=>{o(!0),Ae(n)},children:e.jsx(b,{...C.retryButton})})})]}),!g&&!m&&e.jsx("div",{children:V&&$?e.jsx(Fe,{activeId:s,items:S,isPrimaryBackgroundColor:t}):e.jsx(Ge,{activeId:s,bucketedItems:U,hasNextPage:c,items:S,isPrimaryBackgroundColor:t,infiniteScrollTriggerElementRef:F})}),R&&e.jsx("div",{className:"m-4 mb-5 flex justify-center",children:e.jsx(w,{})})]})}function Fe({activeId:s,items:t,isPrimaryBackgroundColor:n}){const{isCollapsible:a,recentConversationLimit:o}=z(),i=L(),l=t.slice(0,o);if(s){const r=t.findIndex(u=>u.id===s);r>o-1&&l.push(t[r])}return e.jsxs("div",{className:h(n&&!i&&"first:mt-0",!i&&"relative mt-5 last:mb-5"),children:[e.jsx("div",{className:h("sticky top-[--sidebar-sticky-threshold]",i&&["z-5",I.historyHeading,I.historyHeadingTimeline],!i&&"z-20"),children:e.jsx("span",{className:"flex h-9 items-center",children:e.jsx(fe,{$screenArch:i,children:e.jsx(b,{id:"VbQeVG",defaultMessage:"Recent"})})})}),e.jsx("ol",{className:i?"mt-1 flex flex-col gap-0.5":void 0,children:l.map((r,u)=>{const c=s===r.id,y=u===0;return e.jsx(Me,{item:r,isActive:c,isFirstItem:y,isInRecents:!0,isPrimaryBackgroundColor:n,testId:`history-item-${u}`},`history-item-${r.id}`)})}),a&&e.jsx(he,{type:"more",onClick:N.toggleHistoryCollapsed})]})}const Ue=J.memo(Re),Ve=Y.div`flex flex-col gap-2 pb-2 text-token-text-primary text-sm
${({$centered:s,$screenArch:t})=>[s&&"h-full justify-center items-center empty:hidden",t?"mt-0 pb-8":"mt-5"]}`,$e=M(()=>H(()=>import("./sso-y24qlvpjvdevd8x6.js").then(s=>s.a),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67])).then(s=>s.FannyPackAction)),We=M(()=>H(()=>import("./b92csiuvifjzkzko.js"),__vite__mapDeps([68,1,2,3,5,6,49,8,9,10,11,16,12,7,13,14,15,17,18,19,64,23,25,48])).then(s=>s.GizmoSidebarList));function is({clientThreadId:s,onNewThread:t}){const n=Ce(s),a=E(),{isUnauthenticated:o}=ie(),i=Pe(s),l=ae();return o?null:e.jsxs(e.Fragment,{children:[e.jsx(ve,{onNewThread:t}),a?.canInteractWithGizmos()?e.jsx(We,{currentGizmoId:i}):e.jsx(_e,{}),!o&&e.jsx(Ue,{activeId:l?void 0:n})]})}function as({className:s,onNewThread:t}){const n=P(),a=te(),o=xe(),i=ne(()=>navigator.windowControlsOverlay),{isFannyPackEnabled:l}=pe();return e.jsxs("div",{className:h("flex",i?.visible&&i.getTitlebarAreaRect().left>0?"justify-end":"justify-between",s),children:[e.jsx(ge,{sideOffset:4,label:n.formatMessage({id:"e7SzX9",defaultMessage:"Close sidebar"}),className:"flex",side:"right",children:e.jsx(be,{className:"no-draggable","aria-label":n.formatMessage({id:"e7SzX9",defaultMessage:"Close sidebar"}),onClick:()=>{ye(a)?N.toggleNavSidebar():N.togglePopoverNavSidebar()},icon:je,mobileIcon:Te,surfaceContext:"secondary","data-testid":"close-sidebar-button"})}),e.jsxs("div",{className:"flex",children:[l&&e.jsx($e,{}),!o&&e.jsx(De,{onClick:t,testId:"create-new-chat-button"})]})]})}export{is as C,ns as E,Ue as H,as as S,_e as a};
//# sourceMappingURL=bd5jijf0dz87v4od.js.map
