import{cv as W,a4 as h,t as e,ak as I,ah as _,r as P,a as D,h as A,a2 as F,a9 as o,eu as B,ev as T,ew as p,aw as j,ae as G,U as H,j as E,bA as L,aU as O}from"./otclk14vst88v95n.js";import{B as S}from"./dk3s0tapnb8qkp7n.js";import{cU as U,bE as q,ch as V,d4 as Y,d5 as v,bH as K,d6 as Q,d7 as z,c as X,M as Z}from"./cef20f49k9y1cwjs.js";import{j as J,Z as N}from"./cqauunpqwnjujx3i.js";import{S as c}from"./mmxiwemqqtmqbesv.js";import{a as $,b as ee}from"./dayvl6fssjenim1y.js";import{a as te,b as se,c as x,A as b,d as ne,e as ae,f as oe}from"./bwxpkpd0vkgn9kyy.js";import{u as ie,a as re}from"./f6kpdkw7xoo83xoa.js";import"./httn24yor539nbee.js";import"./fk3u4mjp5mpw70zy.js";import"./dz5d6zj45kdshiom.js";import"./ge4estcii3ilqp3x.js";import"./fjotlmkpidhbg5lv.js";import"./g2mu0f7itg7huslu.js";import"./d9zyifn8newo7zbx.js";import"./m5be5ov74xrjmrp3.js";import"./o0zm8r4ulpygvxzt.js";import"./frpk4161je4wyyc5.js";import"./grwsm8tx5qgi12pr.js";import"./ibb3ldlzt4z2r22d.js";import"./k634wtly9qqhfuwz.js";import"./j3d76yxy2o2fg9b6.js";import"./gsn4al4j966dpy7s.js";import"./j2wfs46bm5ondumk.js";const w=60*60*24,le=w*90,ce=w*365;function de({conversationTTL:s}){const n=h();let a;return s==null?a=n.formatMessage(t.retentionInfinite):s===le?a=n.formatMessage(t.retentionNinetyDays):s===ce?a=n.formatMessage(t.retentionOneYear):a=n.formatMessage(t.retentionCustomDays,{num:Math.floor(s/w)}),e.jsxs(b,{children:[e.jsx("p",{className:"inline-flex items-center text-base",children:e.jsx(o,{...t.conversationRetention})}),e.jsx(X,{label:n.formatMessage(t.retentionSettingTooltip),children:a})]})}function g({title:s,description:n,children:a,upsellEnterprise:i=!1,descriptionValues:l={}}){return e.jsx(Z,{label:e.jsx(o,{...t.enterpriseRequiredMessage}),side:"top",sideOffset:4,disabled:!i,className:"max-w-xl",children:e.jsxs(ne,{className:H(i&&"text-token-text-tertiary"),children:[e.jsxs(ae,{className:"flex items-center gap-3",children:[e.jsx(o,{...s}),i&&e.jsx("span",{className:"rounded-xl bg-token-main-surface-tertiary px-2 pb-0.5 text-sm",children:e.jsx(o,{...t.enterpriseUpsellPill})})]}),n&&e.jsx(oe,{className:"py-2 text-token-text-secondary",children:pe(n)?e.jsx(o,{...n,values:l}):n}),a]})})}function pe(s){return!!s&&typeof s=="object"&&"id"in s}function ge({workspaceId:s,label:n,setting:a,defaultValue:i,values:l,disabled:u=!1}){const M=h(),C=_(),m=D(),{variables:y,mutate:k}=A({mutationFn:({setting:r,value:f})=>E.setWorkspaceShareSetting(s,r,f),onSettled:()=>{m.invalidateQueries({queryKey:["workspace-settings"]})},onError:()=>{C.danger(M.formatMessage(t.featureSettingsUpdateFailed))}});return e.jsxs(b,{children:[e.jsx("p",{className:"text-md inline-flex items-center",children:e.jsx(o,{...n})}),e.jsxs(c.Root,{defaultValue:y?.value??i,onValueChange:r=>{k({setting:a,value:r})},disabled:u,children:[e.jsxs(c.Trigger,{className:"text-md focus-visible:border-none",children:[e.jsx(c.Value,{}),e.jsx(c.Icon,{})]}),e.jsx(c.Portal,{children:e.jsx(c.Content,{children:l.map((r,f)=>e.jsx(c.Item,{className:"text-md",value:r.value,children:e.jsx(o,{...r.display})},f))})})]})]})}function ue({onConfirm:s,onClose:n}){const a=h();return e.jsx(L,{type:"warning",isOpen:!0,onClose:n,title:a.formatMessage(t.deleteWorkspaceMemoryModalTitle),showCloseButton:!0,primaryButton:e.jsx(O,{color:"danger",onClick:s,children:e.jsx(o,{...t.deleteWorkspaceMemoryModalConfirm})}),secondaryButton:e.jsx(O,{onClick:n,color:"secondary",children:e.jsx(o,{...t.deleteWorkspaceMemoryModalCancel})}),children:e.jsx("div",{className:"mb-2 text-sm text-token-text-primary",children:e.jsx(o,{...t.deleteWorkspaceMemoryModalInfo,values:{b:i=>e.jsx("b",{children:i})}})})})}function me({workspaceId:s,data:n}){const a=q(V.isTeamPlan),i=I(),l=h(),u=_(),{showWorkspaceSettings:M}=Y(),[C,m]=P.useState(!1),y=D(),{variables:k,mutate:r}=A({mutationFn:({feature:d,enabled:R})=>E.setWorkspaceBetaFeature(s,d,R),onSettled:()=>{y.invalidateQueries({queryKey:["workspace-settings"]})},onError:()=>{u.danger(l.formatMessage(t.featureSettingsUpdateFailed))}}),f=F("193142637").value;return e.jsxs(te,{children:[a&&e.jsx(se,{}),e.jsxs(g,{title:t.workspaceDetails,children:[e.jsxs("div",{className:"flex flex-row items-center justify-between",children:[e.jsx(o,{id:"SgdcRQ",defaultMessage:"Organization ID"}),e.jsx(v,{value:i?.data.organizationId??"",onCopied:()=>u.success(l.formatMessage({id:"Ctw3o0",defaultMessage:"Copied organization ID"}))})]}),e.jsxs("div",{className:"flex flex-row items-center justify-between",children:[e.jsx(o,{id:"yFldxx",defaultMessage:"Workspace ID"}),e.jsx(v,{value:s,onCopied:()=>u.success(l.formatMessage({id:"CqDpiM",defaultMessage:"Copied workspace ID"}))})]})]}),e.jsx(g,{title:t.sharingSettingsTitle,upsellEnterprise:a,children:e.jsx(x,{children:e.jsx(ge,{workspaceId:s,label:t.chatSharingTitle,setting:B.CHAT_SHARE_SETTINGS,disabled:a,defaultValue:n.share_settings.chat_share_setting,values:[{display:t.workspaceMembersOnlySelect,value:T.WORKSPACE_ONLY},{display:t.noOneSelect,value:T.NO_ONE}]})})}),e.jsx(g,{title:t.memoryFeatureSettingsTitle,description:t.workspaceMemoryDescription,descriptionValues:{link:d=>e.jsx("a",{href:"https://help.openai.com/en/articles/8590148-memory-in-chatgpt-faq",target:"_blank",className:"underline",rel:"noreferrer",children:d})},upsellEnterprise:a,children:e.jsx(x,{children:e.jsxs(b,{className:"justify-start py-6",children:[e.jsx(K,{label:"",disabled:a,enabled:k?.enabled??n.beta_settings.sunshine,onChange:d=>{d?r({feature:p.MEMORY,enabled:d}):m(!0)}}),e.jsx("p",{className:"text-md inline-flex items-center",children:e.jsx(o,{...t.memoryOptionTitle})})]})})}),C&&e.jsx(ue,{onConfirm:()=>{r({feature:p.MEMORY,enabled:!1}),m(!1)},onClose:()=>{m(!1)}}),f&&e.jsx(g,{title:j({id:"SyabKs",defaultMessage:"Canvas"}),description:j({id:"ROROHD",defaultMessage:"Control whether users in this workspace can use the ChatGPT canvas feature."}),upsellEnterprise:a,children:e.jsx(x,{children:e.jsx(S,{disabled:a,label:j({id:"i8v3nI",defaultMessage:"Canvas"}),feature:p.CANVAS,value:n.beta_settings.canvas,workspaceId:s})})}),e.jsx(g,{title:t.retentionPolicyTitle,description:t.retentionChange,upsellEnterprise:a,children:e.jsx(de,{conversationTTL:n.conversation_ttl})}),M&&e.jsx(g,{title:t.contextConnectorsTitle,upsellEnterprise:a,description:e.jsx(o,{...t.contextConnectorsSubtitle,values:{helpCenterLink:e.jsx("a",{className:"text-token-link",href:"https://help.openai.com/en/articles/9309188-connected-apps-on-chatgpt",target:"_blank",rel:"noreferrer",children:e.jsx(o,{...t.contextConnectorsHelpCenterLink})})}}),children:e.jsx(x,{children:e.jsxs(x,{children:[e.jsx(S,{disabled:a,label:t.contextConnectorsGoogleDrive,Icon:J,feature:p.CONTEXT_CONNECTOR_GDRIVE,value:n.beta_settings.context_connector_gdrive,workspaceId:s}),e.jsx(S,{disabled:a,label:Q,Icon:N,tooltip:t.contextConnectorsO365BusinessTooltip,feature:p.CONTEXT_CONNECTOR_O365_BUSINESS,value:n.beta_settings.context_connector_o365_business,workspaceId:s}),e.jsx(S,{disabled:a,label:z,Icon:N,tooltip:t.contextConnectorsO365PersonalTooltip,feature:p.CONTEXT_CONNECTOR_O365_PERSONAL,value:n.beta_settings.context_connector_o365_personal,workspaceId:s})]})})})]})}function fe({currentWorkspaceId:s}){const{data:n,isLoading:a}=W(s),i=h();return e.jsxs(e.Fragment,{children:[e.jsx(U,{children:e.jsx("title",{children:i.formatMessage(t.title)})}),e.jsx($,{title:i.formatMessage(t.title)}),e.jsx(ee,{showSpinner:a,children:n===void 0?null:e.jsx(me,{workspaceId:s,data:n})})]})}const t=G({title:{id:"workspaceSettings.title",defaultMessage:"Settings"},retentionPolicyTitle:{id:"workspaceSettings.retentionPolicyTitle",defaultMessage:"Retention policy"},sharingSettingsTitle:{id:"workspaceSettings.sharingSettingsTitle",defaultMessage:"Sharing"},memoryFeatureSettingsTitle:{id:"workspaceSettings.memoryFeatureSettingsTitle",defaultMessage:"Memory"},memoryOptionTitle:{id:"workspaceSettings.memoryOptionTitle",defaultMessage:"Allow members to use memory"},workspaceMemoryDescription:{id:"workspaceSettings.workspaceMemoryDescription",defaultMessage:"Manage whether members can enable memory. This allows ChatGPT to become more helpful by remembering details and preferences across chats. <link>Learn more</link>"},deleteWorkspaceMemoryModalTitle:{id:"workspaceSettings.deleteWorkspaceMemoryModalTitle",defaultMessage:"Are you sure?"},deleteWorkspaceMemoryModalConfirm:{id:"workspaceSettings.deleteWorkspaceMemoryModalConfirm",defaultMessage:"Disable and delete memories"},deleteWorkspaceMemoryModalCancel:{id:"workspaceSettings.deleteWorkspaceMemoryModalCancel",defaultMessage:"Cancel"},deleteWorkspaceMemoryModalInfo:{id:"workspaceSettings.groups.deleteWorkspaceMemoryModalInfo",defaultMessage:"If you disable memory for your workspace, <b>members' existing memories will be forgotten</b>. This can't be undone."},chatSharingTitle:{id:"workspaceSettings.chatSharingTitle",defaultMessage:"Chats can be shared with..."},workspaceDetails:{id:"workspaceSettings.workspaceDetails",defaultMessage:"Workspace details"},workspaceMembersOnlySelect:{id:"workspaceSettings.workspaceMembersOnlySelect",defaultMessage:"Workspace members only"},noOneSelect:{id:"workspaceSettings.noOneSelect",defaultMessage:"No one"},featureSettingsUpdateFailed:{id:"workspaceSettings.featureSettingsUpdateFailed",defaultMessage:"Failed to update feature setting"},conversationRetention:{id:"workspaceSettings.conversationRetention",defaultMessage:"Chat retention"},retentionInfinite:{id:"workspaceSettings.retentionInfinite",defaultMessage:"Infinite"},retentionNinetyDays:{id:"workspaceSettings.retentionNinetyDays",defaultMessage:"90 days"},retentionOneYear:{id:"workspaceSettings.retentionOneYear",defaultMessage:"1 year"},retentionCustomDays:{id:"workspaceSettings.retentionCustomDays",defaultMessage:"{num} days"},retentionChange:{id:"workspaceSettings.retentionChange",defaultMessage:"Contact your account manager to change this setting."},enterpriseUpsellPill:{id:"workspaceSettings.enterpriseUpsellPill",defaultMessage:"Enterprise"},retentionSettingTooltip:{id:"workspaceSettings.retentionSettingTooltip",defaultMessage:"Contact your account manager to change this setting"},enterpriseRequiredMessage:{id:"workspaceSettings.enterpriseRequiredMessage",defaultMessage:"Only workspaces with the Enterprise plan can change these settings"},contextConnectorsTitle:{id:"workspaceSettings.contextConnectorsTitle",defaultMessage:"Connected Apps"},contextConnectorsSubtitle:{id:"workspaceSettings.contextConnectorsSubtitle",defaultMessage:"Manage which apps users in this workspace can connect to directly from ChatGPT. For more information, refer to the {helpCenterLink}."},contextConnectorsHelpCenterLink:{id:"workspaceSettings.contextConnectorsHelpCenterLink",defaultMessage:"Help Center"},contextConnectorsGoogleDrive:{id:"workspaceSettings.contextConnectorsGoogleDrive",defaultMessage:"Google Drive"},contextConnectorsO365PersonalTooltip:{id:"workspaceSettings.contextConnectorsO365PersonalTooltip",defaultMessage:"This includes personal OneDrive accounts but not OneDrive for Business or SharePoint accounts."},contextConnectorsO365BusinessTooltip:{id:"workspaceSettings.contextConnectorsO365BusinessTooltip",defaultMessage:"This includes OneDrive for Business and SharePoint accounts but not personal accounts."}});function Ge(){const s=ie();return re(),e.jsx(fe,{...s})}export{Ge as default};
//# sourceMappingURL=sp1awbf5xnd8sr0l.js.map
