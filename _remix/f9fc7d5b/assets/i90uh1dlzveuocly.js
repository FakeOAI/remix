import{eA as m,eB as it,eC as fe,eD as M,eE as ut,eF as dt,eG as p,eH as c,eI as i,eJ as me,eK as ve,eL as ft,eM as mt,eN as vt,eO as ht,eP as gt,eQ as pt,eR as bt,eS as St,eT as Tt,eU as wt,eV as Ve,eW as Ct,eX as Et,eY as Ge,eZ as yt,e_ as It,e$ as Fe,f0 as Ht,f1 as _t,f2 as xt,f3 as Nt,f4 as kt,f5 as Ot}from"./il8crxbwclaclc75.js";import{r as s,a2 as w,a1 as Pt,l as L,m as he,c as Rt,P as Z,a as q}from"./ldmgmrz4k1q6ed5n.js";import{m as Je}from"./g93qmzmxf1wr9awg.js";import{I as A}from"./idw7sys1c2oa2i6c.js";function We(r,e){var u=It(r);if(Fe){var v=Fe(r);e&&(v=Ht(v).call(v,function(g){return Ge(r,g).enumerable})),u.push.apply(u,v)}return u}function Xe(r){for(var e=1;e<arguments.length;e++){var u=arguments[e]!=null?arguments[e]:{};if(e%2){var v;ve(v=We(Object(u),!0)).call(v,function(h){wt(r,h,u[h])})}else if(Ve)Ct(r,Ve(u));else{var g;ve(g=We(Object(u))).call(g,function(h){Et(r,h,Ge(u,h))})}}return r}var Bt=function(){return 1/0},Ke=17,Mt="bottom",y="top",ze=1,Lt=34,Ue={};function $t(r,e){return r(),yt(r,e)}function Ye(r){var e=r.mode,u=r.target,v=u.offsetHeight,g=u.scrollHeight,h=u.scrollTop,b=g-h-v<ze,o=h<ze,S=e===y?o:b,C=e!==y?o:b;return{atBottom:b,atEnd:S,atStart:C,atTop:o}}function K(r,e){return r===(e===y?0:"100%")}var ge=function(e){var u=e.checkInterval,v=e.children,g=e.debounce,h=e.debug,b=e.initialScrollBehavior,o=e.mode,S=e.nonce,C=e.scroller,l=s.useMemo(function(){return it("<ScrollToBottom>",{force:h})},[h]);o=o===y?y:Mt;var $=s.useRef(0),z=s.useRef(b),Ze=fe(o===y?0:"100%"),te=M(Ze,3),O=te[0],U=te[1],j=te[2],qe=fe(null),re=M(qe,3),T=re[0],be=re[1],I=re[2],oe=s.useRef(0),ae=s.useRef(0),Y=s.useRef(0),Ae=s.useState(!0),Se=M(Ae,2),Te=Se[0],we=Se[1],et=s.useState(!0),Ce=M(et,2),Ee=Ce[0],ye=Ce[1],tt=s.useState(!0),Ie=M(tt,2),He=Ie[0],_e=Ie[1],rt=s.useState(!1),xe=M(rt,2),Ne=xe[0],ke=xe[1],ot=fe(!0),ne=M(ot,3),le=ne[0],_=ne[1],x=ne[2],X=s.useRef([]),Oe=s.useCallback(function(t){var n=I.current;return X.current.push(t),n&&t({scrollTop:n.scrollTop}),function(){var a=X.current,d=ut(a).call(a,t);~d&&dt(a).call(a,d,1)}},[X,I]),se=s.useCallback(function(){var t=j.current;l(function(){var n;return p(n=["%cSpineTo%c: %conEnd%c is fired."]).call(n,c(i("magenta")),c(i("orange")),[{animateTo:t}])}),$.current=me(),K(t,o)||_(!1),U(null)},[j,l,$,o,U,_]),N=s.useCallback(function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.behavior,d=I.current;if(typeof t!="number"&&t!=="100%")return console.warn('react-scroll-to-bottom: Arguments passed to scrollTo() must be either number or "100%".');l(function(){var f;return[p(f=["%cscrollTo%c: Will scroll to %c".concat(typeof t=="number"?t+"px":t.replace(/%/g,"%%"),"%c")]).call(f,c(i("lime","")),c(i("purple"))),{behavior:a,nextAnimateTo:t,target:d}]}),a==="auto"?(se(),d&&(d.scrollTop=t==="100%"?d.scrollHeight-d.offsetHeight:t)):(a!=="smooth"&&console.warn('react-scroll-to-bottom: Please set "behavior" when calling "scrollTo". In future versions, the default behavior will be changed from smooth scrolling to discrete scrolling to align with HTML Standard.'),U(t)),K(t,o)&&(l(function(){var f;return[p(f=["%cscrollTo%c: Scrolling to end, will set sticky to %ctrue%c."]).call(f,c(i("lime","")),c(i("purple"))),[{mode:o,nextAnimateTo:t}]]}),_(!0))},[l,se,o,U,_,I]),D=s.useCallback(function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.behavior;l(function(){var a;return p(a=["%cscrollToBottom%c: Called"]).call(a,c(i("yellow","")))}),n!=="smooth"&&console.warn('react-scroll-to-bottom: Please set "behavior" when calling "scrollToBottom". In future versions, the default behavior will be changed from smooth scrolling to discrete scrolling to align with HTML Standard.'),N("100%",{behavior:n||"smooth"})},[l,N]),V=s.useCallback(function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.behavior;l(function(){var a;return p(a=["%cscrollToTop%c: Called"]).call(a,c(i("yellow","")))}),n!=="smooth"&&console.warn('react-scroll-to-bottom: Please set "behavior" when calling "scrollToTop". In future versions, the default behavior will be changed from smooth scrolling to discrete scrolling to align with HTML Standard.'),N(0,{behavior:n||"smooth"})},[l,N]),Pe=s.useCallback(function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.behavior;l(function(){var d;return p(d=["%cscrollToEnd%c: Called"]).call(d,c(i("yellow","")))}),n!=="smooth"&&console.warn('react-scroll-to-bottom: Please set "behavior" when calling "scrollToEnd". In future versions, the default behavior will be changed from smooth scrolling to discrete scrolling to align with HTML Standard.');var a={behavior:n||"smooth"};o===y?V(a):D(a)},[l,o,D,V]),Re=s.useCallback(function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.behavior;l(function(){var d;return p(d=["%cscrollToStart%c: Called"]).call(d,c(i("yellow","")))}),n!=="smooth"&&console.warn('react-scroll-to-bottom: Please set "behavior" when calling "scrollToStart". In future versions, the default behavior will be changed from smooth scrolling to discrete scrolling to align with HTML Standard.');var a={behavior:n||"smooth"};o===y?D(a):V(a)},[l,o,D,V]),G=s.useCallback(function(){var t=I.current;if(t){if(z.current==="auto"){l(function(){var R;return p(R=["%ctarget changed%c: Initial scroll"]).call(R,c(i("blue")))}),t.scrollTop=o===y?0:t.scrollHeight-t.offsetHeight,z.current=!1;return}var n=oe.current,a=t.offsetHeight,d=t.scrollHeight,f=t.scrollTop,H=o===y?0:Math.max(0,d-a-f),P=Math.max(0,n-f),J=C({maxValue:H,minValue:P,offsetHeight:a,scrollHeight:d,scrollTop:f}),k=Math.max(0,Math.min(H,J)),E;o===y||k!==H?E=f+k:E="100%",l(function(){var R,F,W;return[p(R=[p(F=p(W="%cscrollToSticky%c: Will animate from %c".concat(n,"px%c to %c")).call(W,typeof E=="number"?E+"px":E.replace(/%/g,"%%"),"%c (%c")).call(F,(E==="100%"?H:E)+n,"px%c)")]).call(R,c(i("orange")),c(i("purple")),c(i("purple")),c(i("purple"))),{animateFrom:n,maxValue:H,minValue:P,nextAnimateTo:E,nextValue:k,offsetHeight:a,rawNextValue:J,scrollHeight:d,scrollTop:f}]}),N(E,{behavior:"smooth"})}},[oe,l,o,C,N,I]),at=s.useCallback(function(t){var n,a=t.timeStampLow,d=j.current,f=I.current,H=d!==null;if(!(a<=$.current||!f)){var P=Ye({mode:o,target:f}),J=P.atBottom,k=P.atEnd,E=P.atStart,R=P.atTop;we(J),ye(k),ke(E),_e(R);var F=f.offsetHeight,W=f.scrollHeight,Me=ae.current,Le=Y.current,ue=F!==Me,de=W!==Le;if(ue&&(ae.current=F),de&&(Y.current=W),!ue&&!de){var Q=H&&K(d,o)||k;x.current!==Q&&(l(function(){var B,$e,je,De;return[p(B=["%conScroll%c: %csetSticky%c(%c".concat(Q,"%c)")]).call(B,c(i("red")),c(i("red")),c(i("purple"))),p($e=[p(je=p(De="(animating = %c".concat(H,"%c && isEnd = %c")).call(De,K(d,o),"%c) || atEnd = %c")).call(je,k,"%c")]).call($e,c(i("purple")),c(i("purple")),c(i("purple")),[{animating:H,animateTo:d,atEnd:k,mode:o,offsetHeight:f.offsetHeight,scrollHeight:f.scrollHeight,sticky:x.current,nextSticky:Q}])]}),_(Q))}else x.current&&(l(function(){var B;return[p(B=["%conScroll%c: Size changed while sticky, calling %cscrollToSticky()%c"]).call(B,c(i("red")),c(i("orange")),[{offsetHeightChanged:ue,scrollHeightChanged:de}]),{nextOffsetHeight:F,prevOffsetHeight:Me,nextScrollHeight:W,prevScrollHeight:Le}]}),G());var ct=f.scrollTop;ve(n=X.current).call(n,function(B){return B({scrollTop:ct})})}},[j,l,$,o,ae,Y,X,G,we,ye,ke,_e,_,x,I]);s.useEffect(function(){if(T){var t=!1,n=$t(function(){var a=I.current,d=j.current!==null;x.current?Ye({mode:o,target:a}).atEnd?t=!1:t?me()-t>Lt&&(d||(oe.current=a.scrollTop,l(function(){var f;return p(f=["%cInterval check%c: Should sticky but not at end, calling %cscrollToSticky()%c to scroll"]).call(f,c(i("navy")),c(i("orange")))}),G()),t=!1):t=me():a.scrollHeight<=a.offsetHeight&&!x.current&&(l(function(){var f;return[p(f=["%cInterval check%c: Container is emptied, setting sticky back to %ctrue%c"]).call(f,c(i("navy")),c(i("purple"))),[{offsetHeight:a.offsetHeight,scrollHeight:a.scrollHeight,sticky:x.current}]]}),_(!0))},Math.max(Ke,u)||Ke);return function(){return clearInterval(n)}}},[j,u,l,o,G,_,x,T,I]);var Be=s.useMemo(function(){var t=Ue[S]||(Ue[S]=ft({key:"react-scroll-to-bottom--css-"+mt(),nonce:S}));return function(n){return t.css(n)+""}},[S]),nt=s.useMemo(function(){return{observeScrollPosition:Oe,setTarget:be,styleToClassName:Be}},[Oe,be,Be]),ce=s.useMemo(function(){return{atBottom:Te,atEnd:Ee,atStart:Ne,atTop:He,mode:o}},[Te,Ee,Ne,He,o]),ie=s.useMemo(function(){var t=O!==null;return{animating:t,animatingToEnd:t&&K(O,o),sticky:le}},[O,o,le]),lt=s.useMemo(function(){return Xe(Xe({},ce),ie)},[ce,ie]),st=s.useMemo(function(){return{scrollTo:N,scrollToBottom:D,scrollToEnd:Pe,scrollToStart:Re,scrollToTop:V}},[N,D,Pe,Re,V]);return s.useEffect(function(){if(T){var t=function(){Y.current=T.scrollHeight};return T.addEventListener("focus",t,{capture:!0,passive:!0}),function(){return T.removeEventListener("focus",t)}}},[T]),l(function(){var t;return[p(t=["%cRender%c: Render"]).call(t,c(i("cyan",""))),{animateTo:O,animating:O!==null,sticky:le,target:T}]}),w.createElement(vt.Provider,{value:nt},w.createElement(ht.Provider,{value:st},w.createElement(gt.Provider,{value:lt},w.createElement(pt.Provider,{value:ce},w.createElement(bt.Provider,{value:ie},v,T&&w.createElement(St,{debounce:g,name:"scroll",onEvent:at,target:T}),T&&O!==null&&w.createElement(Tt,{name:"scrollTop",onEnd:se,target:T,value:O}))))))};ge.defaultProps={checkInterval:100,children:void 0,debounce:17,debug:void 0,initialScrollBehavior:"smooth",mode:void 0,nonce:void 0,scroller:Bt};ge.propTypes={checkInterval:m.number,children:m.any,debounce:m.number,debug:m.bool,initialScrollBehavior:m.oneOf(["auto","smooth"]),mode:m.oneOf(["bottom","top"]),nonce:m.string,scroller:m.func};var jt={position:"relative"},pe=function(e){var u=e.children,v=e.className,g=e.followButtonClassName,h=e.scrollViewClassName,b=_t()(jt);return w.createElement("div",{className:xt(b,(v||"")+"")},w.createElement(Nt,{className:(h||"")+""},u),w.createElement(kt,{className:(g||"")+""}))};pe.defaultProps={children:void 0,className:void 0,followButtonClassName:void 0,scrollViewClassName:void 0};pe.propTypes={children:m.any,className:m.string,followButtonClassName:m.string,scrollViewClassName:m.string};var Qe=function(e){var u=e.checkInterval,v=e.children,g=e.className,h=e.debounce,b=e.debug,o=e.followButtonClassName,S=e.initialScrollBehavior,C=e.mode,l=e.nonce,$=e.scroller,z=e.scrollViewClassName;return w.createElement(ge,{checkInterval:u,debounce:h,debug:b,initialScrollBehavior:S,mode:C,nonce:l,scroller:$},w.createElement(pe,{className:g,followButtonClassName:o,scrollViewClassName:z},v))};Qe.defaultProps={checkInterval:void 0,children:void 0,className:void 0,debounce:void 0,debug:void 0,followButtonClassName:void 0,initialScrollBehavior:"smooth",mode:void 0,nonce:void 0,scroller:void 0,scrollViewClassName:void 0};Qe.propTypes={checkInterval:m.number,children:m.any,className:m.string,debounce:m.number,debug:m.bool,followButtonClassName:m.string,initialScrollBehavior:m.oneOf(["auto","smooth"]),mode:m.oneOf(["bottom","top"]),nonce:m.string,scroller:m.func,scrollViewClassName:m.string};Ot();function Gt({lines:r=1,variance:e=0,size:u="base",width:v=50,widthVariance:g=50,className:h}){const[b]=s.useState(Array.from({length:r+Math.random()*(e??0)},()=>v+Math.random()*g));let o="";switch(u){case"sm":o="h-3 mb-2 mt-0.5";break;case"base":o="h-4 my-2";break;case"lg":o="h-5 my-2";break}return L.jsx(L.Fragment,{children:b.map((S,C)=>L.jsx("div",{className:he("relative w-full overflow-hidden rounded-md bg-token-sidebar-surface-secondary",o,h),style:{width:`${S}%`},children:L.jsx(Je.div,{className:"absolute left-0 top-0 h-full w-full rotate-45 bg-gradient-to-r from-transparent via-black/20 to-transparent opacity-50 dark:via-white/5",animate:{x:["-100%","100%"],opacity:[1,0,1],transition:{repeat:1/0,repeatType:"loop",duration:1.5+C}}})},C))})}function Jt({lines:r=1,indexOffset:e=0,variance:u=0,width:v=50,widthVariance:g=50,gapFrequency:h=0,scaleUpAnimation:b,className:o}){const S=s.useMemo(()=>Array.from({length:r+Math.random()*(u??0)},()=>v+Math.random()*g),[r,u,v,g]);return L.jsx(Dt,{className:o,children:S.map((C,l)=>L.jsx(Vt,{index:l+e,width:C,className:he(h>0&&(l+1)%h===0&&"mb-snc-1"),customAnimation:b?{initial:{scaleX:b.initialScaleX},animate:{scaleX:1},transition:{scaleX:{duration:b.duration,ease:"easeInOut",delay:l*.07}}}:void 0},l))})}const Dt=Pt.div`flex flex-col items-start gap-2`;function Vt({index:r,width:e,className:u,customAnimation:v}){const{initial:g,animate:h,transition:b}=v??{initial:{},animate:{},transition:{}};return L.jsx(Je.div,{className:he("h-5 origin-left rounded-md bg-token-border-light dark:bg-white/10",u),style:{width:`${e}%`},initial:{opacity:1,...g},animate:{opacity:[1,.4],...h},transition:{opacity:{repeat:1/0,repeatType:"reverse",duration:.85,ease:"easeInOut",delay:r*.07},...b}})}var Ft=(r=>(r.Sources="sources",r.Images="images",r))(Ft||{});const ee=Rt(()=>({isOpen:!1,selectedTab:"sources",turnIndex:0,messageId:""}));function Qt(){return ee(r=>({tab:r.selectedTab,turnIndex:r.turnIndex,messageId:r.messageId}))}function Zt(){return ee(r=>r.isOpen)}const qt={open:(r,e)=>{Wt(r,e),ee.setState({selectedTab:r,turnIndex:e.turnIndex,messageId:e.messageId,isOpen:!0})},close(r,e){Xt(r,e),ee.setState({isOpen:!1})}};function Wt(r,e){r==="sources"?Z.logEvent(q.searchLinkSidebarShown,A(e)):r==="images"&&Z.logEvent(q.searchImagesSidebarShown,A(e))}function Xt(r,e){r==="sources"?Z.logEvent(q.searchLinkSidebarClosed,A(e)):r==="images"&&Z.logEvent(q.searchImagesSidebarClosed,A(e))}export{Qe as B,Gt as P,Ft as S,qt as a,Zt as b,Jt as c,Vt as d,Qt as u};
//# sourceMappingURL=i90uh1dlzveuocly.js.map
