const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/sso-bcdhwpqolbad0i57.js","assets/pcnl88zwhe6noauc.js","assets/kvdx8vbzxgcuhkks.js","assets/root-jg4a1j0p.css","assets/id6kv7jv9hphxx5c.js","assets/conversation-small-eplmind9.css","assets/cope4x5u985pzzfq.js","assets/jihcmvvrci5c89vd.js","assets/k8vqqakx8rs22uii.js","assets/o3ih6na0xmna5yjk.js","assets/nhwwej1nq0zrd7sc.js","assets/hm0arwtm10tdtoye.js","assets/kfrulc8rmw8yti2n.js","assets/k6n3qo2ha5hmjqc2.js","assets/lzfm9o29lo4ctp2z.js","assets/jgmbivmc27v0gy95.js","assets/i7j2ldt4wg0arock.js","assets/fwqjbfqkaqdakiev.js","assets/ibaqjd7y382nf6hh.js","assets/j053g2xm0sxjqbtu.js","assets/hb1t2ewzycvi9qjo.js","assets/dktbvndgtlfnhoar.js","assets/ls9zqvrbl71pkbnj.js","assets/ohs7ejot20dqom7w.js","assets/ih6aojwf0g2xpubh.js","assets/l0pfbg128o9e0ma3.js","assets/bhlq82b3fmqre7q5.js","assets/cm2xvftpqu7du6i9.js","assets/fkuv623c7cca0wv1.js","assets/d0g8ptgc5gcqjwyj.js","assets/nl736dh34affmv1w.js","assets/d4a74wgdkaeh1wb3.js","assets/isjdmfmhzv09v01t.js","assets/i7g2p4d13g5s497l.js","assets/idvh8voo444vwxss.js","assets/o5i8pe93non4qwby.js","assets/faak65mmdu52z98z.js","assets/eo940s0nvc5dnbmw.js","assets/o3dl7eqpabp10k3s.js","assets/c95q2lfgl983d5dr.js","assets/o798k0u5ncnxlnt0.js","assets/cerihv7z5s1sod9k.js","assets/bgji63r51r2prgt5.js","assets/bv8mx3rikufg3zzf.js","assets/eye0bg574aeyy3fw.js","assets/jkrqknxt91v4qt6e.js","assets/lgmu0abvpbf6hfi8.js","assets/l0gei3wp1c72xc50.js","assets/akyfe4elsmomq6xj.js","assets/ifrnbnjr6tffic6m.js","assets/kmju88jxis055v3t.js","assets/bip32edyx2bpfm0h.js","assets/btuzt2xiyju401nv.js","assets/lowwyp3u84frsz70.js","assets/kqwdyvkaaavvn8k3.js","assets/kyxs77b9yb4bqaow.js","assets/hzdsgy7b9dcel7ne.js","assets/bn4vs8vsfpxxcjys.js","assets/mpu2n9l6ijdlavv7.js","assets/itwdw973wa1gnw5y.js","assets/c19ceiewoi55vmub.js","assets/i3m59wreq6q1bbdh.js","assets/pbc8g6e425vhqh8u.js","assets/h9dznhxp5uzmb7zj.js","assets/iej0cupg2dqkmejt.js","assets/2sgvo0wllvt7o0c3.js","assets/jk8w36bsokizpx57.js","assets/nagy87dlfk5c0y9e.js","assets/lss4o3erx878gyjq.js","assets/c2op91f2h6e7dc53.js","assets/jzskb03e380n62a3.js","assets/fhm12g6o08f80za3.js","assets/fpo0gc66f7blhhk0.js","assets/eofd623y9l62f0ob.js","assets/278h87de5hv7xied.js","assets/hmwt5t36jhfy6wre.js","assets/cp060pfophoizmey.js","assets/hydbvqta9lco052a.js","assets/shared-mk6ngktc.css","assets/sso-mvyfzo3w.css"])))=>i.map(i=>d[i]);
import{j as s,c as _,bh as I,P as h,A as u,a4 as B,r as F,az as O,bN as $,ar as H,u as K,R as V,ck as W,b$ as Q,B as J,f4 as X,by as G,ah as Y,aH as Z,K as z}from"./pcnl88zwhe6noauc.js";import{G as ee}from"./dktbvndgtlfnhoar.js";import{cI as U,fd as k,fe as te,q as se,ff as i,fg as ae,U as re,bK as oe,a6 as ne,fh as le,fi as ie,ei as C,fj as ce,fk as de,A as pe,eh as me,av as ue}from"./id6kv7jv9hphxx5c.js";import{z as xe,T as b,f as fe,q as he,i as ye,A as Se}from"./jihcmvvrci5c89vd.js";import{d as ve,a as be}from"./o3ih6na0xmna5yjk.js";import{m as L}from"./k8vqqakx8rs22uii.js";import{G as P}from"./nagy87dlfk5c0y9e.js";function qe({clientThreadId:e,showInlineEmbeddedDisplay:r,isStaticSharedThread:a,children:n,withVerticalPadding:o,withHorizontalPadding:t}){const l=te(),c=k(),p=se(j=>j.activeStageSidebar),m=t&&!a&&!l,d=t&&l&&!c,x=c&&t&&l,f=t&&(!x||!a||p)&&l,v=xe(e);return s.jsx("div",{className:_("text-base",o&&"py-[18px]",t&&!l&&"px-3 md:px-4",r&&!a?"ml-5":"m-auto",m&&"w-full md:px-5 lg:px-4 xl:px-5",d&&"md:px-5",f&&`w-full px-3 ${!v&&!p?"lg:px-0":""}`,x&&"md:px-0"),children:n})}function _e({children:e}){const r=U(),a=k();return s.jsx("div",{className:_("mx-auto flex flex-1 gap-4 text-base md:gap-5 lg:gap-6",a?"md:max-w-3xl":"md:max-w-3xl lg:max-w-[40rem] xl:max-w-[48rem]",r&&"-mx-4"),children:e})}function Be({children:e}){const r=U(),a=k();return s.jsx("div",{className:_("mx-auto gap-4 text-base md:gap-5 lg:gap-6",a?"md:max-w-3xl":"md:max-w-3xl lg:max-w-[40rem] xl:max-w-[48rem]",r&&"-mx-4"),children:e})}const w=e=>{switch(e.type){case i.Reply:return e.text;case i.Starter:case i.Autocomplete:return e.prompt}},je=e=>e.type===i.Reply,D=e=>e.type===i.Starter,M=e=>e.type===i.Autocomplete,g=e=>M(e)&&!!e.theme,we=(e,r,a,n)=>{switch(I.logEvent("chatgpt_prompt_use_suggestion",M(e)&&!g(e)?"":w(e),{id:D(e)||g(e)?e.id??"":"",index:`${r}`,type:e.type}),e.type){case i.Reply:h.logEvent(u.useSuggestedReply,{value:w(e),prompt_type:i.Reply,messageId:n});break;case i.Starter:h.logEvent(u.useStarterPrompt,{value:w(e),prompt_type:i.Starter,title:e.title,body:e.body,id:e.id,category:e.category,client_thread_id:a,messageId:n,index:r,theme:e.theme});break;case i.Autocomplete:{const o=g(e);h.logEvent(u.useAutocomplete,{value:o?w(e):"",prompt_type:i.Autocomplete,title:o?e.title:"",body:o?e.body:"",id:o?e.id:"",category:e.category,index:r,messageId:n,client_thread_id:a,theme:e.theme??""});break}}},Ce=(e,r)=>{const a=b.getThreadCurrentLeafId(r),n=b.getTree(r).getMessageId(a);if(I.logEvent("chatgpt_prompt_show_suggestions",`count_${e.length}`,{type:e[0].type}),e.every(je))h.logEvent(u.showSuggestedReplies,{prompt_count:e.length,prompt_type:i.Reply,client_thread_id:r,suggestions:e.map(o=>o.text),message_id:n});else if(e.every(D)){const{isAdditional:o}=e[0];h.logEvent(o?u.moreStarterPromptsShown:u.showStarterPrompts,{prompt_count:e.length,prompt_type:i.Starter,titles:e.map(t=>t.title),bodies:e.map(t=>t.body),ids:e.map(t=>t.id),client_thread_id:r,message_id:n,themes:e.map(t=>t.theme??"")}),o&&h.logEvent(u.expandMoreStarterPrompts,{client_thread_id:r,message_id:n})}else if(e.every(M)){const o=!!e.find(t=>g(t));h.logEvent(u.showAutocompletePrompts,{prompt_count:e.length,prompt_type:i.Autocomplete,titles:e.map(t=>o?t.title:""),bodies:e.map(t=>o?t.body:""),ids:e.map(t=>o?t.id:""),client_thread_id:r,message_id:n,themes:e.map(t=>t.theme??"")})}else B.addError("Unhandled suggestion type",{type:e[0].type})},Oe=e=>{const r=b.getThreadCurrentLeafId(e),a=b.getTree(e).getMessageId(r);h.logEvent(u.showExpandMoreStarterPromptsButton,{client_thread_id:e,message_id:a})},$e=e=>{const r=b.getThreadCurrentLeafId(e),a=b.getTree(e).getMessageId(r);h.logEvent(u.expandMoreStarterPrompts,{client_thread_id:e,message_id:a})};function R(){const{store:e}=ae(),r=e.useSharedProps();return F.useCallback(async(a,n,o)=>{if(!r)return;const{clientThreadId:t,currentLeafId:l,onCreateNewCompletion:c,onResetState:p,conversationMode:m}=r;re.hideThreadHeader();const d=`${l}-nextPrompt`,x=new oe;await c({promptId:d,content:w(a),eventMetadata:{eventSource:"mouse"},completionMetadata:{suggestions:n,conversationMode:m??fe.getConversationMode(t)},messageMetadata:{is_starter_prompt:!0,suggestion_type:a.type},turnTracker:x});const f=b.getTree(t).getMessageId(d);p(),we(a,o,t,f),ne()},[r])}function E(e){var r;return(r=C(e)?e.promptStarters:e.gizmo.display.prompt_starters)==null?void 0:r.map(a=>({type:i.Starter,title:"",body:a,prompt:a}))}function ge(e,r,a,n,o,t){const l=O(),c=he(r),p=ve((c==null?void 0:c.kind)===$.GizmoInteraction?c.gizmo_id:void 0).data,{gizmoEditorData:m,mode:d}=le(),x=ie(c),y=H(),f=e&&!x&&(n||!(y!=null&&y.isEnterprisey())),{data:v,isLoading:j,isSuccess:N,isError:q}=K({queryKey:["promptStarters",r,a,o,t],queryFn:()=>V.getSampledPromptStarter(a,o,t),enabled:f});return l==null?{promptStarters:[],isLoading:!0,isSuccess:!1}:d==="test"&&m?{promptStarters:E(m)??[],isLoading:!1,isSuccess:!0}:p!=null?{promptStarters:E(p),isLoading:!1,isSuccess:!0}:f?{promptStarters:(v==null?void 0:v.items.map(S=>({type:i.Starter,id:S.id,title:S.title,body:S.description,prompt:S.prompt,category:S.category,oneliner:S.oneliner,theme:S.theme,requires_file_upload:S.requires_file_upload})))??[],isLoading:j,isSuccess:N,isError:q}:{promptStarters:[],isLoading:!1,isSuccess:!0}}const Ne=W(()=>Q(()=>import("./sso-bcdhwpqolbad0i57.js").then(e=>e.a),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79])).then(e=>e.CaNewThreadSplash).catch(()=>()=>null));function He({clientThreadId:e}){const{isUnauthenticated:r}=J(),a=!r,n=ye(e),o=Se(e),t=X(),l=G(),c=R(),p=be(e),m=de(p),{promptStarters:d,isSuccess:x,isError:y}=ge(n&&!o,e,l?2:4,void 0,void 0,p??void 0),f=d&&(d==null?void 0:d.length)>0,v=x&&f&&a&&!m,{layer:j}=Y("4031588851"),N=j.get("is_two_line",!1);return s.jsx(s.Fragment,{children:s.jsx(pe,{children:(y||x)&&s.jsxs(s.Fragment,{children:[s.jsx(Z,{className:`h-12 w-12 ${a?"":"max-sm:hidden"}`}),v&&s.jsx(Ee,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},promptStarters:d,onSelectStarterPrompt:c,isSendBlocked:t,clientThreadId:e,isTwoLine:N}),!f&&a&&!m&&s.jsx(A,{}),m?s.jsx(Ne,{}):null,y&&a&&s.jsx(A,{})]})})})}function A(){return s.jsx("div",{className:"mt-7 text-3xl",children:s.jsx(z,{id:"24tuqq",defaultMessage:"Hi, how can I help?"})})}function Ee({promptStarters:e,onSelectStarterPrompt:r,isSendBlocked:a,clientThreadId:n,isTwoLine:o,...t}){return F.useEffect(()=>{Ce(e,n)},[n]),s.jsx(s.Fragment,{children:o?s.jsx(L.div,{...t,className:"absolute bottom-6 w-full px-4",children:s.jsx(_e,{children:s.jsx(Me,{starterPrompts:e,onSelectStarterPrompt:r,disabled:a})})}):s.jsx(L.div,{...t,children:s.jsx(T,{starterPrompts:e,onSelectStarterPrompt:r,disabled:a})})})}const ke=/\s/;function T({starterPrompts:e,onSelectStarterPrompt:r,disabled:a}){let n=e.map((o,t)=>{let l=o.oneliner??o.title;l===""&&(l=o.body);const c=ke.test(l);return s.jsxs("button",{className:"relative flex w-40 flex-col gap-2 rounded-2xl border border-token-border-light px-3 pb-4 pt-3 text-start align-top text-[15px] shadow-xxs transition enabled:hover:bg-token-main-surface-secondary disabled:cursor-not-allowed",disabled:a,onClick:()=>r(o,e,t),children:[s.jsx(ce,{starterPrompt:o}),s.jsx("div",{className:_("line-clamp-3 max-w-full text-balance text-gray-600 dark:text-gray-500",c?"break-word":"break-all"),children:l})]},o.id??t)});if(n.length>2){const o=Math.floor(n.length/2);n=[n.slice(0,o),n.slice(o)].map((t,l)=>s.jsx("div",{className:"flex max-w-3xl flex-wrap items-stretch justify-center gap-4",children:t},l))}return s.jsx("div",{className:"mx-3 mt-12 flex max-w-3xl flex-wrap items-stretch justify-center gap-4",children:n})}function Me({starterPrompts:e,onSelectStarterPrompt:r,disabled:a}){let n=e.map((t,l)=>s.jsx("button",{className:"relative whitespace-nowrap rounded-2xl border border-token-border-light px-4 py-2 text-start align-top text-[15px] shadow-xxs transition enabled:hover:bg-token-main-surface-secondary disabled:cursor-not-allowed",disabled:a,onClick:()=>r(t,e,l),children:s.jsxs("div",{className:"flex flex-col overflow-hidden",children:[t.title&&s.jsx("div",{className:"truncate font-semibold",children:t.title}),s.jsx("div",{className:_("truncate font-normal",t.title?"opacity-50":""),children:t.body})]})},t.id??l));const o=Math.floor(n.length/2);return n=[n.slice(0,o),n.slice(o)].map((t,l)=>s.jsx("div",{className:"flex flex-col gap-2",children:t},l)),s.jsx("div",{className:"grid w-full grid-flow-row grid-cols-[repeat(auto-fit,minmax(250px,1fr))] gap-2",children:n})}function Ke({gizmo:e,hideOwner:r=!1,children:a,className:n,avatarClassName:o,showStarterPrompts:t=!1,disableStarterPrompts:l=!1}){return e==null?null:s.jsx(s.Fragment,{children:s.jsxs("div",{className:_("flex h-full flex-col items-center justify-center text-token-text-primary",n),children:[s.jsx(Le,{gizmo:e,avatarClassName:o}),s.jsx(Ae,{gizmo:e,hideOwner:r,showStarterPrompts:t,disableStarterPrompts:l}),a]})})}function Le({gizmo:e,avatarClassName:r}){var n;const a=!!(e!=null&&me(e)&&((n=e==null?void 0:e.gizmo.tags)!=null&&n.includes(ue.FirstParty)));return s.jsx("div",{className:"relative",children:s.jsx(ee,{isFirstParty:a||!e,src:e!=null&&C(e)?e.profilePictureUrl:e==null?void 0:e.gizmo.display.profile_picture_url,className:_("mb-3 h-12 w-12",r)})})}function Pe({gizmo:e,disabled:r}){const a=E(e),n=R(),o=G();if(a==null||a.length===0)return null;const t=a.slice(0,o?2:4);return s.jsx(T,{starterPrompts:t,onSelectStarterPrompt:n,disabled:r})}function Ae({gizmo:e,hideOwner:r,showStarterPrompts:a,disableStarterPrompts:n}){const o=e!=null&&C(e)?e.name:e==null?void 0:e.gizmo.display.name,t=e!=null&&C(e)?e.description:e==null?void 0:e.gizmo.display.description;return s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("div",{className:"text-center text-2xl font-semibold",children:o}),!r&&s.jsx("div",{className:"flex items-center gap-1 text-token-text-tertiary",children:s.jsx(s.Fragment,{children:e&&C(e)?s.jsx(P,{gizmo:e}):s.jsx(P,{gizmo:e,socials:e.gizmo.author.display_socials})})}),t&&s.jsx("div",{className:"max-w-md text-center text-sm font-normal text-token-text-primary",children:t}),a&&s.jsx(Pe,{gizmo:e,disabled:n})]})}export{Ke as G,Be as H,Le as L,_e as M,Me as S,qe as T,je as a,ge as b,we as c,Oe as d,$e as e,He as f,w as g,D as i,Ce as t,R as u};
//# sourceMappingURL=gobwpkxgmvivxudj.js.map
