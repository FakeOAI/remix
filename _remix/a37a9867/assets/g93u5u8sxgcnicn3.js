import{a0 as T,r as p,be as F,y as e,ae as l,P as u,b4 as m,en as y,b5 as C,b2 as I,b3 as A,aA as N,d as _,S as P,eb as O,a4 as U,a1 as S,dh as W,x as z,a$ as G,al as D,az as H}from"./mmal6p4kl22zfrfg.js";import{T as R,m as V,L as $}from"./il3l7n3a26vyx5pi.js";import{C as X}from"./ln2gub6t2zumf9kn.js";import{c as K}from"./mt0eomzpfxacw5mc.js";import{cV as q,cW as J,c9 as Q,o as Y,a6 as f,cX as Z,a5 as ee}from"./i8crxwujeo3n60om.js";import"./esia9ah6q4vsupvt.js";import"./fsddy3bxlesj6ecw.js";import"./pbffjd4sant9qggz.js";import"./jyusxtzzgs4ihqfz.js";import"./lwk11n9qbjlycof7.js";import"./a44b3m5ml1mx5nn4.js";import"./ewaqnxa4l26dslc9.js";function te({auth0Provider:i,enableNewAuthFlow:o,nextUrl:s,isStorageComplianceEnabled:n}){const a=q(),c=T(),[t,g]=p.useState(!1),b=J(),k=Q(),L=F(),x=Y(r.signUp),j=()=>{u.logLogInButtonClicked({provider:i,location:"Login page"}),t||setTimeout(()=>{g(!0)},500);const d=k();m.signIn(i,{callbackUrl:s},{prompt:"login",...f(C()),...d?{use_email_otp:"true"}:{}})};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"relative flex grow flex-col items-center justify-between bg-white px-5 py-8 text-black dark:bg-black dark:text-white sm:rounded-t-[30px] md:rounded-none md:px-6",children:[e.jsx("nav",{className:"flex w-full justify-start px-6 pb-8 md:hidden md:px-6 lg:px-8",children:e.jsx("h1",{"aria-label":c.formatMessage(r.ariaLabel),children:e.jsx("div",{className:"flex cursor-default items-center text-[20px] font-bold leading-none lg:text-[22px]",children:e.jsx("div",{children:R})})})}),e.jsxs("div",{className:"relative flex w-full grow flex-col items-center justify-center",children:[e.jsx("h2",{className:"text-center text-[20px] leading-[1.2] md:text-[32px] md:leading-8",children:e.jsx(l,{...r.pageTitle})}),e.jsx("div",{className:"mt-5 w-full max-w-[440px]",children:o?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex w-full flex-col gap-3",children:[e.jsx(h,{icon:`url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 48 48'%3E%3Cdefs%3E%3Cpath id='a' d='M44.5 20H24v8.5h11.8C34.7 33.9 30.1 37 24 37c-7.2 0-13-5.8-13-13s5.8-13 13-13c3.1 0 5.9 1.1 8.1 2.9l6.4-6.4C34.6 4.1 29.6 2 24 2 11.8 2 2 11.8 2 24s9.8 22 22 22c11 0 21-8 21-22 0-1.3-.2-2.7-.5-4z'/%3E%3C/defs%3E%3CclipPath id='b'%3E%3Cuse xlink:href='%23a' overflow='visible'/%3E%3C/clipPath%3E%3Cpath clip-path='url(%23b)' fill='%23FBBC05' d='M0 37V11l17 13z'/%3E%3Cpath clip-path='url(%23b)' fill='%23EA4335' d='M0 11l17 13 7-6.1L48 14V0H0z'/%3E%3Cpath clip-path='url(%23b)' fill='%2334A853' d='M0 37l30-23 7.9 1L48 0v48H0z'/%3E%3Cpath clip-path='url(%23b)' fill='%234285F4' d='M48 48L17 24l-4-3 35-10z'/%3E%3C/svg%3E")`,onClick:()=>{u.logLogInButtonClicked({provider:"google",location:"Login page"}),m.signIn("openai",{callbackUrl:s},{prompt:"login",login_hint:y({idp:"google"}),...f(C())})},children:e.jsx(l,{...r.continueWithGoogle})}),e.jsx(h,{icon:`url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='21' height='21'%3E%3Cpath fill='%23f25022' d='M1 1h9v9H1z'/%3E%3Cpath fill='%2300a4ef' d='M1 11h9v9H1z'/%3E%3Cpath fill='%237fba00' d='M11 1h9v9h-9z'/%3E%3Cpath fill='%23ffb900' d='M11 11h9v9h-9z'/%3E%3C/svg%3E")`,onClick:()=>{u.logLogInButtonClicked({provider:"microsoft",location:"Login page"}),m.signIn("openai",{callbackUrl:s},{prompt:"login",login_hint:y({idp:"microsoft"}),...f(C())})},children:e.jsx(l,{...r.continueWithMicrosoft})}),e.jsx("div",{className:"my-2 w-full border-t border-black/5"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(h,{blue:!0,className:"justify-center",onClick:()=>{u.logLogInButtonClicked({provider:"openai",location:"Login page"}),m.signIn("openai",{callbackUrl:s},{prompt:"login",login_hint:y({idp:"openai"}),...f(C())})},children:e.jsx(l,{...r.logIn})}),e.jsx(h,{blue:!0,className:"justify-center",onClick:()=>{u.logSignUpButtonClicked({provider:"openai",location:"Login page"}),m.signIn("openai",{callbackUrl:s},{prompt:"login",login_hint:y({idp:"openai",screen:"signup"}),...f(C())})},children:e.jsx(l,{...x})})]})]})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:`grid gap-x-3 gap-y-2 ${a?"mx-16 sm:grid-cols-1 sm:gap-y-4":"sm:grid-cols-2 sm:gap-y-0"}`,children:[e.jsx(h,{blue:!0,loading:t,testid:"login-button",onClick:j,children:e.jsx(l,{...r.logIn})}),a&&t&&e.jsx(h,{ghost:!0,testid:"login-tryagain-button",onClick:j,children:e.jsx(l,{...r.logInTryAgain})}),!a&&e.jsx(h,{blue:!0,testid:"signup-button",onClick:()=>{u.logSignUpButtonClicked({provider:"auth0",location:"Login page"}),I.setCookie(A.SignupRedirectUrl,s,{maxAge:60*60*3}),m.signIn(i,{callbackUrl:s},{prompt:"login",screen_hint:"signup",...f(C())})},children:e.jsx(l,{...x})})]})})}),b?e.jsx(N,{color:"ghost",className:"mt-2 sm:mt-5",onClick:d=>{d.preventDefault(),u.logEvent(_.authTryItFirstLinkClicked),P.logEvent("chatgpt_auth_try_it_first_link_clicked"),L("/")},children:e.jsx(l,{...r.tryItFirst})}):null]}),e.jsxs("div",{className:"mt-10 flex flex-col justify-center",children:[e.jsx("div",{className:"flex justify-center text-gray-300 md:mb-3",children:e.jsx(O,{className:"h-[22px] w-auto"})}),e.jsx(K,{isStorageComplianceEnabled:n})]})]})})}function h({icon:i,children:o,className:s,onClick:n,testid:a,blue:c=!1,ghost:t=!1,loading:g=!1}){return e.jsxs(N,{color:c?"blue":t?"ghost":"primary",loading:g,size:"large","data-testid":a,onClick:n,className:s,children:[i?e.jsx("div",{className:U("h-5 w-5 justify-self-start",{}),style:{backgroundImage:i}}):null,e.jsx("span",{children:o})]})}const r=S({pageTitle:{id:"Login.pageTitle",defaultMessage:"Get started"},ariaLabel:{id:"Login.ariaLabel",defaultMessage:"ChatGPT by OpenAI"},welcome:{id:"Login.welcome",defaultMessage:"Welcome to ChatGPT"},logIn:{id:"Login.logIn",defaultMessage:"Log in"},logInTryAgain:{id:"Login.logInTryAgain",defaultMessage:"Try again"},signUp:{id:"Login.signUp",defaultMessage:"Sign up"},continueWithGoogle:{id:"Login.continueWithGoogle",defaultMessage:"Continue with Google"},continueWithMicrosoft:{id:"Login.continueWithMicrosoft",defaultMessage:"Continue with Microsoft"},useDevAuth:{id:"Login.useDevAuth",defaultMessage:"Use dev auth"},useProdAuth:{id:"Login.useProdAuth",defaultMessage:"Use prod auth"},orTryAnotherWay:{id:"Login.orTryAnotherWay",defaultMessage:"Or try another way"},logInWithOpenAI:{id:"Login.logInWithOpenAI",defaultMessage:"Log in with your OpenAI account to continue"},tryItFirst:{id:"Login.tryItFirst",defaultMessage:"Try it first"}});function se({auth0Provider:i,enableNewAuthFlow:o,cfConnectingIp:s,isStorageComplianceEnabled:n,statsigShowCapacityGate:a}){const{hash:c}=z(),[t]=G(),g=t.get("next"),b=(g?.startsWith("/")?g:"/")+c,k=T(),L=D(),x=a===!0,j=p.useRef(!1),d=t.get("sso"),w=d?t.get("connection"):void 0,B=Z()(),E=ee(t,!0,B)||i;return p.useEffect(()=>{if(d&&!x){const v=I.getCookie(A.DeviceId)?.toString();m.signIn(E,{callbackUrl:b},{...v?{device_id:v}:{},...w?{connection:w}:{},...f(v)})}},[b,d,w,x,E]),p.useEffect(()=>{u.logEvent(_.loggedOutOpenedAuthLogin,{cfConnectingIp:s})},[s]),p.useEffect(()=>{window.location.hash==="#pricing"&&I.setCookie(A.ShowPaymentModal,!0,{maxAge:6*60*60})},[]),p.useEffect(()=>{if(j.current)return;j.current=!0;const v=t.get("inv_ws_name"),M=t.get("inv_email");v&&M&&L.success(k.formatMessage(V.invitedToastMessage,{workspace_name:v,email:M}),{hasCloseButton:!0,duration:600})},[t,k,L]),x?e.jsx(X,{}):d?null:e.jsx(ie,{auth0Provider:E,enableNewAuthFlow:o,nextUrl:b,isStorageComplianceEnabled:n})}const ie=({auth0Provider:i,enableNewAuthFlow:o,nextUrl:s,isStorageComplianceEnabled:n})=>e.jsxs(e.Fragment,{children:[e.jsx(oe,{auth0Provider:i,enableNewAuthFlow:o,nextUrl:s,isStorageComplianceEnabled:n}),!1]});function oe({auth0Provider:i,enableNewAuthFlow:o,nextUrl:s,isStorageComplianceEnabled:n}){const{resolvedTheme:a}=H(),c=a==="dark",t=p.useRef(null);return p.useEffect(()=>{t.current===null&&(t.current=document.body.style.backgroundColor);const g=c?"#00002E":"#FFFFDB";return document.body.style.backgroundColor=g,()=>{t.current!==null&&(document.body.style.backgroundColor=t.current)}},[c]),e.jsxs("div",{className:"flex min-h-full w-screen flex-col sm:supports-[min-height:100dvh]:min-h-[100dvh] md:grid md:grid-cols-2 lg:grid-cols-[60%_40%]",children:[e.jsx($,{}),e.jsx(te,{auth0Provider:i,enableNewAuthFlow:o,nextUrl:s,isStorageComplianceEnabled:n})]})}function ve(){const i=W();return e.jsx(se,{...i})}export{ve as default};
//# sourceMappingURL=g93u5u8sxgcnicn3.js.map
