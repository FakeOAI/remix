const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/bwpipv0xqgm268dy.js","assets/l5rf55y8gpic9j7j.js","assets/hxwnvznhtn7zt599.js","assets/root-hz90zheb.css","assets/c8ww2t9q7rwlhved.js","assets/conversation-small-ao874ap7.css","assets/catcclko34r9lbh0.js","assets/hlx564c7m7nbdo16.js","assets/kfqicesy8adidsoj.js","assets/c3evsddbj4url2js.js","assets/dhbqxj38yqs19ycp.js","assets/far2w778d506euen.js","assets/d0ekqeae60c4w8bi.js","assets/g05t9vjo16ly1mfs.js","assets/hhndevom81hqjije.js","assets/kpq79bmjrg2cdmv0.js","assets/b4ve8i43g8dzy4nm.js","assets/ggl8ej2y92j1hjpc.js","assets/i7w5dyo9d6x2grvw.js","assets/m5s574269sxo58qz.js","assets/obmlpvf0eu01tyh4.js","assets/jpgi6tolg12nbn71.js","assets/chfv6vbnigxawfjy.js","assets/n7h7w1vm4f0z2mu5.js","assets/md38s2ry2qvejb8x.js","assets/m0rry74g6mtwf8hx.js","assets/onqhjclv3raud604.js","assets/o71s28u01641zi2u.js","assets/fsy960lic75xolrm.js","assets/j6z9h7xbztgcy71z.js","assets/ierzjwwhlps2yvuq.js","assets/bvznkyjm4qptkl3x.js","assets/bckjascntxue4hmq.js","assets/eoyb9avm763jh9j5.js","assets/tuj4kede5yozp9vh.js","assets/n72uqkle11gzevvd.js","assets/e7zgzf3lmuv2fwq7.js","assets/d4pxg9by9mpowohe.js","assets/n4n7co3tqepu36i3.js","assets/oaices9q47ysptft.js","assets/kprqzagmygdrwwqd.js","assets/ef5n6e0aasjgdj08.js","assets/b0kcluc7c96r2thn.js","assets/bzkcu0fhpth3n2xg.js","assets/jx409ix6237micmb.js","assets/fpsiujxgytpt3giz.js","assets/hqjgtr2um4fbtpeg.js","assets/m93j2j4zzmb2zrza.js","assets/cdtuqy5nh4r8ay0c.js","assets/mnggt0lo7hqlktvw.js","assets/cu7i7jyqvstu6net.js","assets/ol8617xwmmci19ye.js","assets/kqwdyvkaaavvn8k3.js","assets/qi0vldxr8qcd2lin.js","assets/on60qaffewbiuep5.js"])))=>i.map(i=>d[i]);
import{a1 as Ee,V,aJ as ue,aI as Te,r as l,l as s,Z as T,D as fe,bc as ee,a0 as I,aC as M,aD as b,aM as Oe,bY as Le,bW as De,bU as Be,be as Re,az as We,W as ge,X as Fe,u as me,ao as se,aG as ae,bn as Ve,f7 as Ie,f4 as He,m as E,ff as A,fg as Ge,fh as qe,cl as ze,a8 as Ue,df as oe,cY as Ke,cZ as $e,c_ as Qe,c4 as Ye,b0 as Xe,h as Ze,j as Je}from"./l5rf55y8gpic9j7j.js";import{u as es,e as H,T as he,f as ss}from"./b4ve8i43g8dzy4nm.js";import{aM as as,gN as os,gO as pe,gP as ts,ai as ns,gQ as rs,gR as is,gS as cs,gT as ls,gU as ds,bK as O,gV as us,gW as fs,gX as gs,gY as ms,gZ as hs,g_ as ps,g$ as xs,h0 as Cs,h1 as Ms,h2 as bs,h3 as Ss,h4 as vs,h5 as js,h6 as ks,h7 as ys,h8 as As,h9 as ws,D as G,aC as w,Z as L,cc as q,ha as _s,hb as Ps,dq as te,cq as Ns,hc as xe,hd as Ce,he as Me,G as Es,hf as Ts,gD as ne,f2 as Os,c1 as W,c2 as re,e3 as Ls,hg as Ds,e_ as Bs,hh as Rs,hi as Ws,cM as Fs,ay as Vs,dw as Is,hj as Hs,eQ as Gs,eR as ie,hk as qs,q as zs,cf as Us,hl as Ks,hm as $s,cg as Qs,hn as Ys,ho as Xs,hp as Zs,hq as Js,hr as ea}from"./c8ww2t9q7rwlhved.js";import{T as D,g as F,e as sa,D as be,r as Se,H as aa,i as oa}from"./kfqicesy8adidsoj.js";import{a as ta}from"./dhbqxj38yqs19ycp.js";import{L as na}from"./far2w778d506euen.js";import{S as ce,b as ra,c as ia,N as ca}from"./bvznkyjm4qptkl3x.js";import{a as ve,b as la,g as da}from"./eoyb9avm763jh9j5.js";import{S as ua,C as fa,a as ga}from"./tuj4kede5yozp9vh.js";import{b as je,c as ma,d as ke,C as ha,e as pa,f as xa,g as Ca}from"./d4pxg9by9mpowohe.js";import{u as Ma,n as ba,g as Sa,s as va}from"./hhndevom81hqjije.js";import{I as ja,J as ye,a as Ae,K as ka}from"./hlx564c7m7nbdo16.js";import{m as le}from"./c3evsddbj4url2js.js";import{b as ya}from"./kpq79bmjrg2cdmv0.js";function Aa({onClose:e}){const a=V(),o=ue(),{openSettings:r}=as(),n=os(),{session:t}=Te(),{data:{isStorageComplianceEnabled:d}={}}=pe(),{data:c,isLoading:u}=ts({enabled:!!(d&&t),select:i=>!i.cookie_consent.is_required});return l.useEffect(()=>{c===!0&&e()},[c,e]),u?null:s.jsx(wa,{onReject:()=>{n.mutateAsync({analytics_cookies_accepted:!1},{onSuccess(){o.success(a.formatMessage(j.updateSuccess))},onError(){o.danger(a.formatMessage(j.updateFailure))}}),e()},onAccept:()=>{n.mutateAsync({analytics_cookies_accepted:!0},{onSuccess(){o.success(a.formatMessage(j.updateSuccess))},onError(){o.danger(a.formatMessage(j.updateFailure))}}),e()},children:s.jsx(T,{id:"CookieConsentBanner.authedDescription.0",defaultMessage:"We use cookies and similar technologies to deliver, maintain, improve our services and for security purposes. Check our <cookiePolicy>cookie policy</cookiePolicy> for details. Click 'Accept all' to let OpenAI and partners use cookies for these purposes. Click 'Reject all' to say no to cookies, except those that are strictly necessary. Choose <manageLink>manage cookies</manageLink> to change your preferences.",values:{cookiePolicy:i=>s.jsx(na,{href:"https://openai.com/policies/cookie-policy",openNewTab:!0,children:i}),manageLink:i=>s.jsx(_a,{onClick:()=>{r(ns.DataControls)},children:i})}})})}function wa({children:e,onAccept:a,onReject:o}){return l.useEffect(()=>{fe.addAction("privacy_policy.show_cookie_consent_banner")},[]),s.jsxs(rs,{children:[s.jsxs(is,{className:"text-sm font-semibold [grid-area:_title]",children:[e,s.jsxs("div",{className:"mt-2 flex justify-end gap-3",children:[s.jsx(ee,{color:"secondary",size:"small",onClick:o,children:s.jsx(T,{...j.reject})}),s.jsx(ee,{color:"secondary",size:"small",onClick:a,children:s.jsx(T,{...j.accept})})]})]}),s.jsx(cs,{})]})}const _a=Ee.button`underline font-normal text-green-600`,j=I({cookieConsentBannerTitle:{id:"CookieConsentBanner.title",defaultMessage:"We use cookies to provide, improve, and protect our services. Visit our <privacyPolicyLink>privacy policy</privacyPolicyLink> to learn more. You can manage your cookie preferences in your <settingsPanel>settings panel</settingsPanel>. <learnMoreLink>Learn more</learnMoreLink>."},reject:{id:"CookieConsentBanner.reject",defaultMessage:"Reject all"},accept:{id:"CookieConsentBanner.accept",defaultMessage:"Accept all"},updateSuccess:{id:"CookieConsentBanner.updateSuccess",defaultMessage:"Your cookie preferences were updated successfully"},updateFailure:{id:"CookieConsentBanner.updateFailure",defaultMessage:"Unable to update cookie preferences. Try again later."}}),Pa=M(()=>b(async()=>{const{ModelOnboardingNUXModal:e}=await import("./bwpipv0xqgm268dy.js");return{ModelOnboardingNUXModal:e}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11])).then(({ModelOnboardingNUXModal:e})=>e),{ssr:!1}),Na=({onClose:e})=>{const a=V(),o=O(q.isBusinessWorkspace),r=O(t=>t.currentWorkspace),n=o?a.formatMessage(de.workspaceWelcome,{workspaceName:r?.name}):"ChatGPT";return s.jsx(ge,{isOpen:!0,onClose:Fe,type:"success",title:n,size:"custom",noPadding:!0,className:"max-w-3xl",description:a.formatMessage(de.personalOnboardingSubheading),children:s.jsx(_s,{onClose:e,scope:Ps.Personal})})};function Ea(){const[e,a]=l.useState(0),{hasSeenOnboardingDate:o}=ls(),{hasSeenTeamOwnerOnboardingDate:r}=ds(),n=O(q.isBusinessWorkspace),t=Oe(),[d,c]=l.useState(!1),{data:u,isPending:i}=pe(),m=us(u,i),{eligible:g,isLoading:k}=ta(),_=Le(),S=De(),P=Be(),{data:h,isError:C}=Re(),p=h!=null,y=h&&h?.accountItems.length>1&&h.currentAccountId==null,N=h?.accountItems.some(f=>f.isPersonalAccount()),x=!!h?.accountItems&&h.accountItems.length>0&&h.accountItems.every(({canAccessWithCurrentSession:f})=>!f),{eligible:z,isLoading:U}=fs(),{value:K}=We("1542198993"),{punchOutRequireLoginInfo:$}=gs(),{isOpen:Q,isLoading:Y}=ms(),{isOpen:X,isLoading:Z}=hs(),v=l.useMemo(()=>[{Component:ps,getModalState:()=>$?"show":"hide",isDeferrable:!1},{Component:xs,getModalState:()=>Y?"loading":Q?"show":"hide",isDeferrable:!1},{Component:Cs,getModalState:()=>Z?"loading":X?"show":"hide",isDeferrable:!1},{Component:Na,getModalState:()=>n?"hide":o===null?"loading":o===!1?"show":"hide",isDeferrable:!0},{Component:Ms,getModalState:()=>C?"hide":y?"show":p?"hide":"loading",isDeferrable:!1},{Component:bs,getModalState:()=>_!==null?"show":C||p?"hide":"loading",isDeferrable:!1},{Component:Ss,getModalState:()=>S!==null?"show":C||p?"hide":"loading",isDeferrable:!1},{Component:vs,getModalState:()=>P!=null?"show":C||p?"hide":"loading",isDeferrable:!1},{Component:js,getModalState:()=>p?x?"show":"hide":"loading",isDeferrable:!1},{Component:Aa,getModalState:()=>"hide",isDeferrable:!1},{Component:ks,getModalState:()=>!t?.isTeam()||!t?.isOwnerOfAccount()||!N?"hide":!p||r===null?"loading":r===!1?"show":"hide",isDeferrable:!1},{Component:ys,getModalState:()=>n?o===null?"loading":o===!1?"show":"hide":"hide",isDeferrable:!0},{Component:As,getModalState:()=>U?"loading":z&&K?"show":"hide",isDeferrable:!1},{Component:ws,getModalState:()=>m,isDeferrable:!1},{Component:Pa,getModalState:()=>k?"loading":g?"show":"hide",isDeferrable:!0,expiresAt:new Date(2024,7,13)}].filter(f=>!(f.isDeferrable&&d)&&(!f.expiresAt||f.expiresAt.getTime()>Date.now())),[$,P,p,o,r,N,k,n,C,_,S,t,x,y,m,g,d,K,z,U,Q,Y,X,Z]);l.useEffect(()=>{if(v[e]&&v[e].getModalState()==="hide"){const f=v.findIndex(Ne=>Ne.getModalState()!=="hide");a(f)}},[e,v]);const B=v[e],R=B?.getModalState()==="show";if(l.useEffect(()=>{const f=G.getState().activeModals.has(w.BlockingInitialComponent);R!==f&&(R?L.openModal(w.BlockingInitialComponent):L.closeModal(w.BlockingInitialComponent))},[R]),B==null)return s.jsx("span",{"data-testid":"blocking-initial-modals-done",className:"hidden"});const J=B.getModalState();if(J==="loading")return null;J==="hide"&&a(f=>f+1);const Pe=v[e].Component;return s.jsx(Pe,{onClose:()=>{c(!0),a(f=>f+1)}})}const de=I({workspaceWelcome:{id:"BlockingInitialModals.workspaceWelcome",defaultMessage:"Welcome to the {workspaceName} workspace"},personalOnboardingSubheading:{id:"BlockingInitialModals.personalOnboardingSubheading",defaultMessage:"Tips for getting started"}});function we({clientThreadId:e}){l.useEffect(()=>{L.closeSharingModal()},[e]);const a=me();l.useEffect(()=>(D.retainThread(e),()=>{setTimeout(()=>{a.invalidateQueries({queryKey:["conversation",e]})},0),D.releaseThread(e)}),[e,a]),l.useEffect(()=>()=>{se.checkGate("3922476776")||te.abortAllRequests()},[e]);const o=l.useRef(e);l.useEffect(()=>{e!==o.current&&(se.checkGate("3922476776")||te.clear(),o.current=e)},[e])}function _e({clientThreadId:e,setClientThreadId:a}){const o=me(),r=Ns(),n=r?{kind:ae.GizmoInteraction,gizmo_id:r}:{kind:ae.PrimaryAssistant};Ma(e,n);const t=Ve(),d=ja(e),c=l.useRef(d);c.current=d;const u=l.useCallback(()=>{a(F());const g=c.current;t(g.tags.includes(Ie.GPT_4)?"/":`/?model=${g.id}`,{replace:!0})},[a,t]),i=es({clientThreadId:e,location:"Model switcher menu item"}),m=l.useCallback(g=>{ba(t,o,g)},[o,t]);return{createNewThread:i,onThreadCreated:m,resetThread:u}}const Ta=M(()=>b(()=>import("./d0ekqeae60c4w8bi.js"),__vite__mapDeps([12,1,2,3,4,5,13,14,15,9,7,8,16,17,10,11,18,19,20,21,6,22,23,24,25,26,27])).then(e=>e.CanvasFocusedViewManager));function Oa({clientThreadId:e,setClientThreadId:a,urlThreadId:o,prefetchSearch:r}){const n=sa();we({clientThreadId:e});const{createNewThread:t,onThreadCreated:d,resetThread:c}=_e({clientThreadId:e,setClientThreadId:a});ve({resetThreadAction:c,clientThreadId:e});const u=H(e);return s.jsxs(he,{clientThreadId:e,children:[s.jsx(xe,{clientThreadId:e,urlThreadId:o}),s.jsxs(ce,{hideNavigation:n,mobileHeaderContent:s.jsx(je,{clientThreadId:e,inMobileHeader:!0}),mobileHeaderBottomContent:s.jsx(ma,{clientThreadId:e}),mobileHeaderLeftContent:s.jsx(ra,{onNewChatButtonClick:c}),mobileHeaderRightContent:s.jsx(ia,{onNewChatButtonClick:c}),sidebar:s.jsx(ca,{navHeader:e?s.jsx(ua,{className:"flex h-[60px] items-center md:h-header-height",onNewThread:t}):null,children:s.jsx(fa,{clientThreadId:e,onNewThread:t})}),children:[s.jsx(Ce,{}),s.jsx(ke,{clientThreadId:e,onCreate:d,prefetchSearch:r},e),s.jsxs(ce.Sidebars,{children:[u&&s.jsx(Ta,{clientThreadId:e}),s.jsx(Me,{clientThreadId:e})]})]})]})}const La=450;function Da({children:e,clientThreadId:a,isOpen:o,onClose:r}){return s.jsx(Es,{children:o&&s.jsx(He,{children:s.jsx(Ts.Provider,{value:{isEmbeddedInFocusedView:!0},children:s.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[s.jsx(le.div,{className:"h-full w-full bg-token-main-surface-secondary",...ne}),s.jsxs("div",{className:"absolute inset-0 flex",children:[s.jsx("div",{className:"flex-grow overflow-auto",children:e}),s.jsx(le.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:La},...ne,children:s.jsx("div",{className:"h-[100vh] pb-4",children:s.jsx(ke,{clientThreadId:a,hideHeader:!0,hideFooter:!0,hideToolsOverlay:!0,messagesVerticalAlign:"bottom"},a)})})]})]})})})})}const Ba=M(()=>b(()=>import("./fsy960lic75xolrm.js"),__vite__mapDeps([28,1,2,3,4,5,14,15,9,7,8,16,17,10,11,18,19,20,21,6]))),Ra=M(()=>b(()=>import("./j6z9h7xbztgcy71z.js"),__vite__mapDeps([29,1,2,3,4,5,30,14,15,9,7,8,16,17,10,11,18,19,20,21,6,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47])).then(e=>e.ImageEditor));function Wa({clientThreadId:e}){const a=Os();l.useEffect(()=>{W.close()},[e]);let o;return a?.type===re.ADAVisualization?o=s.jsx(Ba,{clientThreadId:e,visualization:a.visualization}):a?.type===re.Image&&(o=s.jsx(Ra,{clientThreadId:e,messageId:a.messageId,image:a.image,allImages:a.allImages},a.image.asset_pointer)),s.jsx(Da,{clientThreadId:e,isOpen:a!=null,onClose:W.close,children:o})}const Fa=()=>{const e=V(),a=G(t=>t.activeModals.has(w.KeyboardActions)),o=()=>{L.closeModal(w.KeyboardActions)},r=la(),n=l.useMemo(()=>{const t=Math.ceil(r.length/2);return[r.slice(0,t),r.slice(t)]},[r]);return s.jsx(ge,{isOpen:a,onClose:o,type:"success",size:"custom",className:"md:max-w-[672px] lg:max-w-[796px] xl:max-w-4xl",showCloseButton:!0,title:e.formatMessage(Ha.keyboardActionsModalTitle),children:s.jsx(s.Fragment,{children:s.jsx("div",{className:"grid grid-flow-row grid-cols-[repeat(auto-fit,minmax(250px,1fr))] gap-x-9",children:n.map((t,d)=>s.jsx("div",{className:"flex flex-col overflow-hidden",children:t.map(c=>s.jsx(Va,{action:c},c.key))},`col-${d}`))})})})},Va=({action:e})=>s.jsxs("div",{className:"flex items-center justify-between overflow-hidden text-token-text-primary",children:[s.jsx("div",{className:"flex flex-shrink items-center overflow-hidden text-sm",children:s.jsx("div",{className:"truncate",children:s.jsx(T,{...e.actionMessageDescriptor})})}),s.jsx("div",{className:"ml-3 flex flex-row gap-2",children:da(e.keyboardBinding).map((a,o)=>s.jsx(Ia,{keyName:a},`${e.key}-${o}`))})]}),Ia=({keyName:e})=>{const a=E("my-2 flex h-8 items-center justify-center rounded-md border border-token-border-light capitalize text-token-text-secondary");return e.length>1?e.length>3?s.jsx("div",{className:E(a,"min-w-[50px]"),children:s.jsx("span",{className:"text-xs",children:e})}):s.jsx("div",{className:E(a,"min-w-[32px]"),children:s.jsx("span",{className:"text-xs",children:e})}):s.jsx("div",{className:E(a,"min-w-[32px]"),children:s.jsx("span",{className:"text-sm",children:e})})},Ha=I({keyboardActionsModalTitle:{id:"KeyboardActionsModal.keyboardActionsModalTitle",defaultMessage:"Keyboard shortcuts"}});function Ga({clientThreadId:e,currentModelId:a,conversationLeafId:o,inlineEmbeddedDisplay:r,onChangeItemInView:n,onChangeRating:t,onRequestMoreCompletions:d,onRequestCompletion:c}){const u=be(e,o);function i(m){return m===u-1}return s.jsx("ol",{children:Array.from({length:u}).map((m,g)=>s.jsx("li",{children:s.jsx(ha,{isFinalTurn:i(g),turnIndex:g,clientThreadId:e,conversationLeafId:o,onChangeItemInView:n,onChangeRating:t,onRequestMoreCompletions:d,onRequestCompletion:c,currentModelId:a,showInlineEmbeddedDisplay:r,showAvatar:!1},g)},g))})}function qa({clientThreadId:e,onRequestCompletion:a}){const o=ye(),r=Sa(e),n=Se(e),t=Ae(e)??o.id,c=be(e,n)>=2,u=aa(e,n),i=oa(e)&&!c&&va(r);return s.jsx("div",{className:A.footer,children:s.jsx(Ls,{children:s.jsx(pa,{clientThreadId:e,currentModelId:t,isNewThread:i,noWrap:!0,onRequestCompletion:a,showPromptStarters:i||!u})})})}function za({clientThreadId:e}){return s.jsxs(Ds,{leading:!0,type:"primary",className:A.header,children:[s.jsxs("div",{className:A.headerLeading,children:[s.jsx(ss,{clientThreadId:e}),s.jsx(je,{clientThreadId:e})]}),s.jsx("div",{className:A.headerTrailing,children:s.jsx(xa,{clientThreadId:e})})]})}function Ua({clientThreadId:e,onThreadCreated:a,onCompletionFinished:o,preRequestCompletion:r}){const n=ye(),t=Ae(e)??n.id,d=Se(e),{onRequestCompletion:c,onChangeItemInView:u,onChangeRating:i,onRequestMoreCompletions:m}=Ca({clientThreadId:e,currentModelId:t,defaultModelId:n.id,onCompletionFinished:o,onThreadCreated:a,preRequestCompletion:r});return s.jsx(ka,{clientThreadId:e,currentLeafId:d,children:s.jsx(Ge.Provider,{value:c,children:s.jsx(Bs,{anchor:"top",className:A.screen,name:"thread",leading:s.jsx(za,{clientThreadId:e}),trackLeading:!0,trackTrailing:!0,trailing:s.jsx(qa,{clientThreadId:e,onRequestCompletion:c}),children:s.jsx(Ga,{clientThreadId:e,conversationLeafId:d,currentModelId:t,inlineEmbeddedDisplay:!1,onRequestCompletion:c,onChangeItemInView:u,onChangeRating:i,onRequestMoreCompletions:m})})})})}const Ka=M(()=>b(()=>import("./d0ekqeae60c4w8bi.js"),__vite__mapDeps([12,1,2,3,4,5,13,14,15,9,7,8,16,17,10,11,18,19,20,21,6,22,23,24,25,26,27])).then(e=>e.CanvasFocusedViewManager));function $a({clientThreadId:e,setClientThreadId:a,urlThreadId:o}){we({clientThreadId:e});const{createNewThread:r,onThreadCreated:n,resetThread:t}=_e({clientThreadId:e,setClientThreadId:a});ve({resetThreadAction:t,clientThreadId:e});const d=H(e);return s.jsxs(he,{clientThreadId:e,children:[s.jsx(xe,{clientThreadId:e,urlThreadId:o}),s.jsx(Ce,{}),s.jsx(Rs,{className:qe.screenDefaults,sidebar:s.jsx(ga,{clientThreadId:e,onNewThread:r}),thread:s.jsx(Ua,{clientThreadId:e,onThreadCreated:n}),details:d&&s.jsx(Ka,{clientThreadId:e}),debugger:s.jsx(Me,{clientThreadId:e})})]})}var Qa={};const Ya=M(()=>b(()=>import("./cdtuqy5nh4r8ay0c.js"),__vite__mapDeps([48,1,2,3,37,7,4,5,8,9,38,14,15,16,17,10,11,18,19,20,21,6,39,40,41,42,35,43,44,30,45,32,46,47,49,50]))),Xa=M(()=>b(()=>import("./ol8617xwmmci19ye.js"),__vite__mapDeps([51,1,2,3,8,4,5,9,52,53,7,54,15])).then(e=>e.SearchResultsModal));function po(e){const{urlThreadId:a,clientThreadId:o,prefetchSearch:r}=e,n="serviceStatus"in e?e.serviceStatus:null;eo();const t=ze(),d=Ue(),c=oe(),u=ue(),[i,m]=l.useState(()=>a!==void 0?a:o!==void 0?o:F());a!==void 0&&i!==a&&D.getServerThreadId(i)!==a&&m(a);const g=Ws(oe());l.useEffect(()=>{a===void 0&&D.getServerThreadId(i)!==void 0&&m(F())},[a,i,g]);const k=Fs(),_=O(q.workspaceId),S=Vs();H(i);const P=Is(),{eligible:h,isLoading:C,markAsViewed:p}=Hs();l.useEffect(()=>{(d.asPath==="/"||d.asPath.startsWith("/c/"))&&Gs({namespace:ie.ChatPageLoad})==null&&(qs({namespace:ie.ChatPageLoad,opts:{expectedTimingLogs:[{name:"render_model_switcher",expectedInMs:1e4},{name:"render_history_items",expectedInMs:25e3}]}}),fe.addTiming("chatgpt.web.chatPage.mounted"))},[]);const y=zs();l.useEffect(()=>{Ke(!0).then(x=>{x.force_login&&y({authType:"login"}),$e.initializeAndGatherData(x),Us.initializeAndGatherData(x),Qe.initializeAndGatherData(x)})},[y]),l.useEffect(()=>{n?.type&&k===!1&&u.warning(n.message,{hasCloseButton:!0,duration:5})},[k,n?.message,n?.type,u]),l.useEffect(()=>{const x=d.query[Ks]==="true";t!==x&&Ye.setIsTemporaryChatEnabled(x)},[t,d.query]),l.useEffect(()=>{c.state?.focusObject&&W.setFocusedObject(c.state.focusObject)},[c.state?.focusObject]),l.useEffect(()=>{!C&&h&&S&&(p(),$s(S))},[h,C,p,S]);const N=P?$a:Oa;return s.jsx(Xe.Provider,{value:null,children:s.jsx(Qs,{children:s.jsxs(Ys,{clientThreadId:i,children:[s.jsx(Ea,{},_),s.jsx(Fa,{}),s.jsx(Xs,{}),s.jsx(N,{urlThreadId:a,clientThreadId:i,setClientThreadId:m,prefetchSearch:r}),s.jsx(Wa,{clientThreadId:i}),s.jsx(Ja,{clientThreadId:i}),s.jsx(Zs,{clientThreadId:i}),s.jsx(Za,{}),!1,s.jsx(Js,{}),s.jsx(ea,{})]})})})}function Za(){const e=G(a=>a.sharingModalThreadId);return e?s.jsx(Ya,{serverThreadId:e}):null}function Ja({clientThreadId:e}){return ya()&&s.jsx(Xa,{clientThreadId:e})}function eo(){Ze({queryKey:["pingEdge"],queryFn:()=>Je.pingEdge(),enabled:!0,staleTime:1/0})}typeof window<"u"&&(window._g=Qa.GOKU_SERVICE);export{po as C,La as F};
//# sourceMappingURL=jl1coq5yv0o2qgwj.js.map
