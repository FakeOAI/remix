import{fC as g,ae as m,r as o,W as S,m as R,a0 as E,dA as h,dB as p}from"./f37ug925tzgwnb2p.js";import"./ees3py8cbftvsdc5.js";function A(){const{pluginId:e,code:i,state:n,error:r,errorDesc:c}=g(),t=m(),u=o.useRef(!1);o.useEffect(()=>{if(u.current===!0)return;u.current=!0;async function f(){const d=`https://chat.openai.com/aip/${e}/oauth/callback`;try{const a=await E.pluginOauthCallback(e,i,d,n);if(a.success){const s=new URL(h(p.OAUTH_SUCCESS,a.redirect_path),location.origin);s.searchParams.set("oauth_success","true"),t(s.pathname+s.search+s.hash)}else t(h(p.CUSTOM_ERROR,a.redirect_path,a.error??a.message))}catch{t({pathname:"/",search:new URLSearchParams({model:"gpt-4-plugins",loginAip:e,loginSuccess:"false"}).toString()})}}f()},[e,i,n,t]);const l=S();return o.useEffect(()=>{r&&l.danger(`${r}${c?`: ${c}`:""}`,{duration:5})},[r,c,l]),R.jsx("div",{})}export{A as default};
//# sourceMappingURL=b089ozu64ue1d4p1.js.map
