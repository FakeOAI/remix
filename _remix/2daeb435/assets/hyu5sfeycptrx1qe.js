import{dS as u,dT as c,r as i,dU as a,b4 as p,j as s,bO as l}from"./hwf9zvd1aw2q6bni.js";import{T as h}from"./l0hizc65fv5mapy4.js";import{u as b}from"./mqj72pi2q2nphcdc.js";import{m as E}from"./iifiuc3nib6ssn9e.js";import"./o9jymz7vdhi3lqx8.js";import"./d2enjwn8b6jly1r9.js";import"./gcq6nq5ilw3cni50.js";import"./hpsvd424sjrdhlcq.js";import"./lwz1f455hysr17f3.js";import"./e2kkvbg1i6izzv9a.js";import"./on5i6wiudhy03n19.js";import"./ijiluygl0s0dhnj2.js";import"./2wm59teo35cqbdt1.js";import"./mtj6k2f8ve73w700.js";import"./lzjpn68pe1mv84wv.js";import"./g94gjpa24d3dgkvc.js";import"./orl0zybyxtbw697s.js";import"./kpo9x19oorjkm66p.js";import"./cqk6btirean3jhb2.js";import"./1tm7s25tu0rcb1ao.js";import"./oj1bhdun86139hql.js";import"./eoz02xxdbtlgnzui.js";import"./feb7uen1emmpiu1v.js";import"./hk65xos2quaf5cjp.js";import"./cr9rnw1iy6gknfzn.js";import"./wx7snc14ve0jovkm.js";import"./lyni056hl6jy3n02.js";import"./g5dhaop2jzbfqw8o.js";import"./c8pe8tpqkw1fjx23.js";import"./et5vszokekahe2km.js";import"./i2qxjm7ksuhoez8f.js";import"./flc79b0l9xqcxtxq.js";import"./mchebjgauimbna10.js";let d=!1;function $(){var e;(e=u)==null||e.registerObserver(c)}function tt(){const[e,m]=i.useState(null);return i.useEffect(()=>{if(d||typeof window>"u")return;const t=window.open("about:blank",a);if(!t)throw new Error("ChatBar: window.open() did not create a window");t.document.documentElement.setAttribute("dir","ltr"),d=!0,document.head.querySelectorAll("link, style").forEach(r=>{t.document.head.appendChild(r.cloneNode(!0))}),new MutationObserver(r=>{r.forEach(o=>{o.type==="childList"&&o.addedNodes.forEach(n=>{(n instanceof HTMLLinkElement||n instanceof HTMLStyleElement)&&t.document.head.appendChild(n.cloneNode(!0))})})}).observe(document.head,{childList:!0}),t.document.documentElement.setAttribute("style",document.documentElement.getAttribute("style")??""),t.document.documentElement.setAttribute("class",document.documentElement.getAttribute("class")??""),new MutationObserver(r=>{r.forEach(o=>{o.type==="attributes"&&o.attributeName!=null&&t.document.documentElement.setAttribute(o.attributeName,document.documentElement.getAttribute(o.attributeName)??"")})}).observe(document.documentElement,{attributes:!0}),m(t.document.body.appendChild(t.document.createElement("div"))),t.addEventListener("unload",r=>{t.close()}),t.addEventListener("focus",()=>{var r;(r=t.document.getElementById("prompt-textarea"))==null||r.focus()})},[]),e&&p.createPortal(s.jsx(f,{}),e,a)}function f(){const[e,m]=i.useState(()=>E());return b(e,{kind:l.PrimaryAssistant}),s.jsx(h,{clientThreadId:e,hideHeader:!0,hideFooter:!0,renderEmptyState:!1},e)}export{tt as DesktopChatBar,$ as initDesktop};
//# sourceMappingURL=hyu5sfeycptrx1qe.js.map
