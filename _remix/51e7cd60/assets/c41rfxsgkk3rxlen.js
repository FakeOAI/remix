import{r as C,g0 as y,l as b,m as t,bi as w,eo as f}from"./kqru8lsn8we722yx.js";import{g as v,A as M,a as j,C as d,b as R,c as l,T as A,d as S}from"./u2crgvhnyoq8kmk8.js";import{i as E,j as P,k as D,l as N,m as L,n as O,o as V,A as k,p as F}from"./nms257ef1lzn00g8.js";import{m as q}from"./ewos3yaiq011b9ly.js";const I=()=>t.jsxs(q.div,{role:"button",className:"absolute bottom-3 left-0 right-0 z-50 mx-auto flex w-fit items-baseline gap-1 rounded-full border border-token-border-light bg-token-main-surface-primary px-3 py-1",initial:!1,animate:{opacity:1},exit:{opacity:0,scale:.9},children:[t.jsx("span",{className:"loading-shimmer",children:t.jsx(w,{...f({id:"qmLYih",defaultMessage:"Typing"})})}),t.jsx(A,{gap:1,padding:0})]}),Y=({onScroll:m,textdocId:u})=>{const i=E(u),x=P(),{windowWidth:g}=y(T=>T,{windowWidth:0,windowHeight:0});if(!i)return null;const{versions:s}=i,e=b(s);if(!e)return null;const n=s.length>1?s[s.length-2]:null,a=D(e),p=N(e),r=S({isReadonlyFromQueryParam:!0}),{content:c,currentlyStreamingLineIndex:h}=v(e,n);let o=null;switch(e?.type){case O.DOCUMENT:o=t.jsx(R,{value:c,previousValue:n?.content,comments:[],isRequestActive:a,isRewriting:p,isPreview:!0,isDisabled:!0,hideAccelerators:!0,commentsMode:d.COMMENTS_READONLY,readonlyReason:r,hideToolbar:!0,hideEditOverlay:!0,width:g,modelCursor:e.modelCursor});break;default:e&&L(e.type)&&(o=t.jsx(M,{id:"codemirror",currentlyStreamingLineIndex:h,language:j(e.type),value:c,commentsMode:d.COMMENTS_READONLY,hideToolbar:!0,hideAccelerators:!0,readonlyReason:r,comments:[],isRequestActive:a}))}return t.jsxs(l,{children:[t.jsx(l.Content,{disableScroll:V(),onScroll:m,children:o}),x&&t.jsx(k,{children:F(e)&&t.jsx(I,{})})]})},Q=C.memo(Y);export{Q as T};
//# sourceMappingURL=c41rfxsgkk3rxlen.js.map
