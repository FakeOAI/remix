const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/eqkce83ryokf80a8.js","assets/mj0lqn4ze2fljnbl.js","assets/n88p71sdmouzlavs.js","assets/root-c5nm8ioq.css","assets/h0zwp6349uausvz0.js","assets/eufwkg2s3wcyxsss.js","assets/conversation-small-o3h1ik6j.css","assets/dc9wi8pwhbd82xja.js","assets/nx475br6f1fubfqz.js","assets/owx9u9anlka4h8j6.js","assets/i05b781ldlkbpamo.js","assets/ezr4n9w03trmg6g9.js","assets/dwmid23hukgprk0q.js","assets/h5drv49qlmfjlq5f.js","assets/kcdah5j4t6xbt59i.js"])))=>i.map(i=>d[i]);
import{j as e,ao as D,ap as A,r as l,aU as U,eb as n,ak as f,J as $,aq as z,cU as Z,S as G,I as K}from"./mj0lqn4ze2fljnbl.js";import{fL as L,fM as B,fN as Q,cN as J,fO as X,ch as Y,fP as ee,fQ as O,fR as se,fS as ae,cP as ne,fT as te,fU as y,fV as re,fW as oe,fX as ie,fY as ce,fZ as de,f_ as le,p as he,bR as ue,c1 as me,f$ as Ce,cM as xe,g0 as pe,g1 as ge,g2 as V,g3 as fe,aZ as b,g4 as Te,cK as ve,eG as je,ck as Se,g5 as Ie,a5 as Ne,g6 as we,g7 as ye,g8 as be,g9 as Le,c3 as Ee,ga as Me,gb as _e,gc as ke,d0 as Pe,gd as He,ge as H,fx as Re,fy as Fe}from"./eufwkg2s3wcyxsss.js";import{S as De,E as Ae,C as R,a as Ue,b as Be}from"./dc9wi8pwhbd82xja.js";import{K as Oe}from"./n88p71sdmouzlavs.js";import{C as Ve}from"./obmdri92td5rt07t.js";function We({clientThreadId:s,currentModelId:o,isModelLoaded:a,onRequestCompletion:r,v2HomepageDisclaimer:t}){return e.jsx(De,{clientThreadId:s,currentModelId:o,isModelLoaded:a,onRequestCompletion:r,v2HomepageDisclaimer:t})}const qe=D(()=>A(()=>import("./eqkce83ryokf80a8.js"),__vite__mapDeps([0,1,2,3,4,5,6])).then(s=>s.ChatScreenContentModals));function $e({disableEmptyState:s,fullWidth:o}){const{clientThreadId:a,currentModelId:r,conversationLeafId:t,isCompanionWindow:h,isEmbeddedInFocusedView:d,onChangeItemInView:u,onChangeRating:C,onRequestCompletion:i,onRequestMoreCompletions:m,isModelLoaded:x,prefetchSearch:S}=l.useContext(L),p=B(a,t),T=Q(a),g={clientThreadId:a,conversationLeafId:t,currentModelId:r,onChangeItemInView:u,onChangeRating:C,onRequestMoreCompletions:m,onRequestCompletion:i,showAvatar:!1},I=J(a),N=X({clientThreadId:a,currentLeafId:t,handleRequestCompletion:i,prefetchSearchPromise:S}),v=I||N||s,j=Y(),{initialConversationTurns:E,continuedConversationTurns:M}=ee(p,j),{canUseNewHomepage:_,showEmptyState:k}=O({clientThreadId:a,currentLeafId:t}),W=p>=2;se(W);const{setTargetedContent:P}=ae(),q=ne(r);if(te(()=>{le(),he.updateScrollToMessageId(a,"finalAgentTurn")}),l.useEffect(()=>{d||P(void 0)},[a,P,d]),_&&k&&!v){const c=h?null:e.jsx("div",{className:"text-center text-xs text-token-text-secondary",children:e.jsx(y,{clientThreadId:a})});return e.jsx(We,{clientThreadId:a,currentModelId:r,isModelLoaded:x,onRequestCompletion:i,v2HomepageDisclaimer:c})}else if(!_&&k&&!v)return e.jsx(Ae,{clientThreadId:a,currentModelId:r,isModelLoaded:x,onRequestCompletion:i,enableV2Homepage:!q,v2HomepageDisclaimer:e.jsx(y,{clientThreadId:a})});return e.jsxs(e.Fragment,{children:[j&&e.jsx(re,{}),j&&M.length===0&&e.jsx(oe,{}),e.jsx(U,{children:e.jsxs(l.Suspense,{fallback:null,children:[e.jsx(ie,{}),E.length>0&&e.jsx("ol",{className:n.conversationTurnList,children:E.map(({turnIndex:c,isFinalTurn:w})=>e.jsx("li",{className:f(n.conversationTurnWrapper,o&&"w-full"),children:l.createElement(R,{...g,key:`${a}-${c}`,turnIndex:c,isFinalTurn:w,scrollToMessageId:T})},c))}),j&&e.jsx(ce,{}),e.jsx("ol",{className:n.conversationTurnList,children:M.map(({turnIndex:c,isFinalTurn:w})=>e.jsx("li",{className:f(n.conversationTurnWrapper,o&&"w-full"),children:l.createElement(R,{...g,key:`${a}-${c}`,turnIndex:c,isFinalTurn:w,scrollToMessageId:T})},c))})]})}),e.jsx(qe,{}),p>0&&e.jsx(de,{})]})}function ze(){return e.jsx($e,{})}const Ze=D(()=>A(()=>import("./dc9wi8pwhbd82xja.js").then(s=>s.c),__vite__mapDeps([7,1,2,3,5,6,8,9,10,11,12,13,14])).then(s=>s.ChatScreenComposerAlerts));function Ge(){const{clientThreadId:s,currentModelId:o,isCompanionWindow:a,onRequestCompletion:r}=l.useContext(L),t=ue(s),h=me(s),d=B(s,h),u=d>=2,C=Ce(s,h),i=xe(s)&&!u&&pe(t);ge(d,s,h,i);const{setComposerFooterElement:m}=l.useContext(V);return e.jsx("div",{className:n.footer,children:e.jsxs(fe,{style:{"--bar-gap":"0.5rem","--bar-background-color":"transparent"},children:[e.jsxs(b,{type:"secondary",className:"relative",children:[u&&e.jsx(Te,{className:n.scrollButton}),e.jsx(Ze,{})]}),e.jsxs(b,{type:"primary",ref:m,name:"composer-bar",children:[e.jsx(Ue,{clientThreadId:s,currentModelId:o,isNewThread:i,noWrap:!0,onRequestCompletion:r,showPromptStarters:i||!C}),!a&&e.jsx("div",{className:"text-center text-xs text-token-text-secondary",children:e.jsx(y,{clientThreadId:s})})]})]})})}function Ke(){const s=$(),{clientThreadId:o,isLoggedInUser:a,onNewThread:r}=l.useContext(L);return ve(o),e.jsxs(b,{leading:!0,type:"primary",className:n.header,children:[e.jsxs("div",{className:n.headerLeading,children:[a&&e.jsx(je,{}),e.jsx(z,{label:s.formatMessage(F.newChat),className:"hidden @lg/screen-composer:inline-flex",children:e.jsx(Z,{to:"/",className:n.newThread,onClick:t=>{r?(t.preventDefault(),r()):G.logEvent("chatgpt_web_thread_tap_new_thread")},tabIndex:0,children:e.jsx(Se,{className:f(n.sidebarIcon),icon:e.jsx(Oe,{}),tabIndex:-1,label:s.formatMessage(F.newChat),style:{viewTransitionName:"var(--vt_new_chat_thread)"}})})}),e.jsx("div",{className:n.threadDropdown,children:e.jsx(Ie,{clientThreadId:o})})]}),e.jsx("div",{className:n.headerTrailing,children:e.jsx(U,{children:e.jsx(Be,{clientThreadId:o})})})]})}const F=K({newChat:{id:"rnCpM4",defaultMessage:"New Chat"}});function ss({hideHeader:s=!1,hideFooter:o=!1,hideTools:a=!1,embedded:r=!1}){const{clientThreadId:t,currentModelId:h,conversationLeafId:d,isCompanionWindow:u,isInstalledApp:C,onRequestCompletion:i}=Ne(),{canUseNewHomepage:m,showEmptyState:x}=O({clientThreadId:t,currentLeafId:d}),S=we()[h],[p,T]=ye({name:"composer-bar",track:"height"}),g=be(t),I=Le(),{isOpen:N}=Ee(),v=o||x&&m;return e.jsx(Me.Provider,{value:i,children:e.jsx(_e,{children:e.jsxs(ke,{clientThreadId:t,currentLeafId:d,children:[e.jsx(Pe,{children:g!=null&&e.jsx("title",{children:g})}),e.jsx(He,{clientThreadId:t,className:f(r&&"h-full","flex-1"),currentModelConfig:S,children:e.jsx(V.Provider,{value:{setComposerFooterElement:T},children:e.jsxs("div",{className:"h-full",style:{container:"thread-container / inline-size"},children:[e.jsx(H,{id:"canvas-state",name:"canvas-state",checked:I}),e.jsx(H,{id:"thread-extended-info-sidebar-state",name:"thread-extended-info-sidebar-state",checked:N}),e.jsx(Re,{anchor:"vertical",className:f(n.screen,x&&m&&n.screenEmptyState,u&&n.screenCompanionWindow,C&&n.screenInstalledApp,r&&n.screenEmbedded),name:"thread",leading:!s&&e.jsx(Ke,{}),style:p,trackLeading:!0,trackTrailing:!0,trailing:!v&&e.jsx(Ge,{}),children:e.jsx(ze,{})}),!u&&!a&&e.jsxs(e.Fragment,{children:[e.jsx(Ve,{}),e.jsx(Fe,{})]})]})})})]})})})}export{ss as C};
//# sourceMappingURL=h7pep5nmnpvx21mk.js.map
