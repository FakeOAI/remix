const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/iif2jon0az7ke6ak.js","assets/b49w4g1m4rvlf13k.js","assets/eqa10itkkpekkuyz.js","assets/root-9jaremil.css","assets/h7m9odjd9i4xn2nr.js","assets/conversation-small-o3h1ik6j.css","assets/ezlke7xle9mekpgp.js","assets/j953lcc0723jc7q2.js","assets/k3myfrovinforztc.js","assets/kgabwrk4bp501lpa.js","assets/oco8rfjyppx1v5uw.js","assets/kjazgk4qsss5vinc.js","assets/j2cr6atvi37fn8xq.js","assets/d2emi4mns18cidkf.js","assets/lsrx3my1m2q2oo5j.js","assets/mso6suezaufd2zmo.js","assets/rfz24dc06w1vnhlj.js","assets/fzrn137102spawew.js","assets/l1xx43017gzgzhqz.js","assets/mx8ks10z8e6msvoe.js","assets/gv5rsv2hlba2ebx7.js","assets/kzd7ff5uk4l3smkk.js","assets/dmjsevjvurz48gtb.js","assets/oo90a40bf3arvc17.js","assets/lmqmbkxdfqliy1t1.js","assets/kqwdyvkaaavvn8k3.js","assets/dpjwdlalymrdj5ve.js","assets/drlijs1kh39hxog8.js","assets/983a0dy92b3ronpv.js","assets/qwst4qjqzf7m5eid.js","assets/bu5dt8tan944xav2.js","assets/lj4h1wctiroqga7p.js","assets/c4bxzbp1808foto4.js","assets/no5lguy3vqe7hbzq.js","assets/k0vbuy6ljrfv1h1g.js","assets/fv6ot224ugmdh2qb.js","assets/kpxy6xc28m0cob8k.js","assets/1e3p1qgbzsweev7g.js","assets/jhmfsyw61jtsqd29.js","assets/c67ep4ylaceyaz5k.js","assets/c3mjcgff7ff0db2z.js","assets/ir6w11med9350gpb.js","assets/gl9pn5hdn6js7p18.js","assets/kfm88p08r8i3sfis.js","assets/nvfegvq8no7200el.js","assets/n4v79ww0i8cta8h5.js"])))=>i.map(i=>d[i]);
import{r as c,Z as Ee,cs as Pe,cr as _e,cp as Te,bt as De,aA as Ie,F as se,j as e,J as Ne,bz as ye,aN as Le,I as Be,ao as g,ap as f,aQ as Fe,aK as oe,fz as te,ak as Ve,ft as ne,ag as We,t as re,X as Re,ca as ie,D as He,bH as Ge,bI as Ue,bJ as ze,cA as Ke,l as Qe,O as qe}from"./b49w4g1m4rvlf13k.js";import{iE as Ye,iF as Je,cr as k,iG as Xe,iH as Ze,iI as $e,a0 as ea,a1 as aa,cI as sa,p as y,iJ as oa,iK as ta,iL as na,iM as ra,eO as ia,iN as da,iO as la,iP as ca,iQ as ua,iR as ha,iS as ga,iT as fa,iU as ma,iV as pa,iW as ba,iX as Sa,iY as xa,iZ as Ma,i_ as Ca,i$ as ja,j0 as wa,j1 as Aa,j2 as va,j3 as Oa,j4 as ka,cB as me,a4 as N,a5 as de,cs as B,j5 as Ea,j6 as Pa,dm as _a,dg as pe,bW as Ta,dh as Da,N as be,j7 as Se,g6 as Ia,j8 as Na,h8 as xe,j9 as Me,ja as Ce,f6 as ya,b_ as La,aV as je,E as Ba,bH as we,jb as le,jc as v,gv as Fa,c0 as L,c1 as ce,a2 as Va,fy as Wa,fx as Ra,jd as Ha,je as Ga,jf as Ua,jg as za,jh as Ka,ji as Qa,jj as ue,jk as qa,h as Ya,jl as Ja,jm as Xa,bG as Za,a6 as $a,de as es,df as as,jn as ss,jo as os,di as ts,jp as ns}from"./h7m9odjd9i4xn2nr.js";import{S as he,b as rs,c as is}from"./no5lguy3vqe7hbzq.js";import{S as ds,C as ls}from"./fv6ot224ugmdh2qb.js";import{T as Ae}from"./kpxy6xc28m0cob8k.js";import{N as cs}from"./k0vbuy6ljrfv1h1g.js";import{C as ve}from"./c3mjcgff7ff0db2z.js";import{m as O}from"./k3myfrovinforztc.js";import{C as us}from"./gl9pn5hdn6js7p18.js";const hs=({onClose:a})=>{const s=Ne(),o=k(B.isBusinessWorkspace),n=k(d=>d.currentWorkspace),i=o?s.formatMessage(ge.workspaceWelcome,{workspaceName:n?.name}):"ChatGPT";return e.jsx(ye,{isOpen:!0,onClose:Le,type:"success",title:i,size:"custom",noPadding:!0,className:"max-w-3xl",description:s.formatMessage(ge.personalOnboardingSubheading),children:e.jsx(Ea,{onClose:a,scope:Pa.Personal})})};function gs({clientThreadId:a}){const[s,o]=c.useState(0),{hasSeenOnboardingDate:n}=Ye(),{hasSeenTeamOwnerOnboardingDate:i}=Je(),d=k(B.isBusinessWorkspace),u=Ee(),[t,m]=c.useState(!1),{data:E,isPending:P,isEnabled:_}=Xe(),b=Ze(E,P&&_),{eligible:A}=$e(),S=Pe(),x=_e(),M=Te(),T=ea(()=>aa.getThread(a)),C=sa(a)||!T,j=y.getConversationOrigin(a),{data:r,isError:w}=De(),h=r!=null,F=r&&r?.accountItems.length>1&&r.currentAccountId==null,V=r?.accountItems.some(l=>l.isPersonalAccount()),W=!!r?.accountItems&&r.accountItems.length>0&&r.accountItems.every(({canAccessWithCurrentSession:l})=>!l),{eligible:R,isLoading:H}=oa(),{value:G}=Ie("1542198993"),{punchOutRequireLoginInfo:U}=ta(),{state:z}=na(),{isOpen:K,isLoading:Q}=ra(),{isOpen:q,isLoading:Y}=ia(),{isOpen:J,isLoading:X}=da(),{isOpen:Z,isLoading:$}=la(),{state:ee}=ca(),p=c.useMemo(()=>[{Component:ua,getModalState:()=>U?"show":"hide",isDeferrable:!1},{Component:ha,getModalState:()=>z,isDeferrable:!1},{Component:ga,getModalState:()=>ee,isDeferrable:!1},{Component:fa,getModalState:()=>Q||C?"loading":j===se.APPLE?"hide":K?"show":"hide",isDeferrable:!1},{Component:ma,getModalState:()=>$||C?"loading":j===se.APPLE?"hide":Z?"show":"hide",isDeferrable:!1},{Component:hs,getModalState:()=>d?"hide":n===null?"loading":n===!1?"show":"hide",isDeferrable:!0},{Component:pa,getModalState:()=>w?"hide":F?"show":h?"hide":"loading",isDeferrable:!1},{Component:ba,getModalState:()=>S!==null?"show":w||h?"hide":"loading",isDeferrable:!1},{Component:Sa,getModalState:()=>x!==null?"show":w||h?"hide":"loading",isDeferrable:!1},{Component:xa,getModalState:()=>M!=null?"show":w||h?"hide":"loading",isDeferrable:!1},{Component:Ma,getModalState:()=>h?W?"show":"hide":"loading",isDeferrable:!1},{Component:Ca,getModalState:()=>Y?"loading":q?"show":"hide",isDeferrable:!1},{Component:ja,getModalState:()=>X?"loading":J?"show":"hide",isDeferrable:!1},{Component:wa,getModalState:()=>"hide",isDeferrable:!1},{Component:Aa,getModalState:()=>!u?.isTeam()||!u?.isOwnerOfAccount()||!V?"hide":!h||i===null?"loading":i===!1?"show":"hide",isDeferrable:!1},{Component:va,getModalState:()=>d?n===null?"loading":n===!1?"show":"hide":"hide",isDeferrable:!0},{Component:Oa,getModalState:()=>H?"loading":R&&G?"show":"hide",isDeferrable:!1},{Component:ka,getModalState:()=>b,isDeferrable:!1}].filter(l=>!(l.isDeferrable&&t)),[A,U,z,M,h,n,i,V,d,w,S,x,u,W,F,b,t,G,R,H,K,Q,Z,$,ee,Y,q,J,X,j,C]);c.useEffect(()=>{if(p[s]&&p[s].getModalState()==="hide"){const l=p.findIndex(ke=>ke.getModalState()!=="hide");o(l)}},[s,p]);const D=p[s],I=D?.getModalState()==="show";if(c.useEffect(()=>{const l=me.getState().activeModals.has(N.BlockingInitialComponent);I!==l&&(I?de.openModal(N.BlockingInitialComponent):de.closeModal(N.BlockingInitialComponent))},[I]),D==null)return e.jsx("span",{"data-testid":"blocking-initial-modals-done",className:"hidden"});const ae=D.getModalState();if(ae==="loading")return null;ae==="hide"&&o(l=>l+1);const Oe=p[s].Component;return e.jsx(Oe,{onClose:()=>{m(!0),o(l=>l+1)}})}const ge=Be({workspaceWelcome:{id:"BlockingInitialModals.workspaceWelcome",defaultMessage:"Welcome to the {workspaceName} workspace"},personalOnboardingSubheading:{id:"BlockingInitialModals.personalOnboardingSubheading",defaultMessage:"Tips for getting started"}}),fs=g(()=>f(()=>import("./iif2jon0az7ke6ak.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20])).then(a=>a.CanvasFocusedViewManager)),ms=g(()=>f(()=>import("./kzd7ff5uk4l3smkk.js"),__vite__mapDeps([21,1,2,3,4,5,22,23,24,25,26,27,8,28])).then(a=>a.SearchResultsModal));function ps({clientThreadId:a,setClientThreadId:s,urlThreadId:o,prefetchSearch:n}){const i=_a();pe({clientThreadId:a});const{createNewThread:d,onThreadCreated:u,resetThread:t}=Ta({clientThreadId:a,setClientThreadId:s});return Da({resetThreadAction:t,clientThreadId:a}),e.jsxs(be,{enableSandbox:!1,clientThreadId:a,children:[e.jsx(Se,{clientThreadId:a,urlThreadId:o}),e.jsxs(he,{hideNavigation:i,mobileHeaderContent:e.jsx(Ia,{clientThreadId:a,inMobileHeader:!0}),mobileHeaderBottomContent:e.jsx(Na,{clientThreadId:a}),mobileHeaderLeftContent:e.jsx(rs,{onNewChatButtonClick:t}),mobileHeaderRightContent:e.jsx(is,{onNewChatButtonClick:t}),sidebar:e.jsx(cs,{navHeader:a?e.jsx(ds,{className:"flex h-[60px] items-center md:h-header-height",onNewThread:d}):null,children:e.jsx(ls,{clientThreadId:a,onNewThread:d})}),threadFlyout:e.jsx(xe,{clientThreadId:a}),children:[e.jsx(Me,{}),e.jsx(Ae,{clientThreadId:a,onCreate:u,prefetchSearch:n},a),e.jsxs(he.Sidebars,{children:[e.jsx(fs,{clientThreadId:a}),e.jsx(Ce,{clientThreadId:a}),!1]})]}),e.jsx(bs,{clientThreadId:a})]})}function bs({clientThreadId:a}){const s=Fe(),o=s?.includes(oe.SearchTool)&&!s?.includes(oe.SearchToolHoldout),n=ya(),{isOpen:i}=La();return i&&(!n||!o)&&e.jsx(ms,{clientThreadId:a})}const fe=450;function Ss({children:a,clientThreadId:s,isOpen:o,onClose:n}){const i=je();return e.jsxs(Ba,{children:[o&&i&&e.jsx(we,{clientThreadId:s,children:e.jsx(te,{children:e.jsx(le.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(O.div,{className:"h-full w-full bg-token-main-surface-secondary",...v}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx("div",{className:"flex-grow overflow-auto",children:a}),e.jsx(O.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:fe},...v,children:e.jsx(ve,{hideHeader:!0,hideTools:!0})})]})]})})})}),o&&!i&&e.jsx(te,{children:e.jsx(le.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(O.div,{className:"h-full w-full bg-token-main-surface-secondary",...v}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx("div",{className:"flex-grow overflow-auto",children:a}),e.jsx(O.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:fe},...v,children:e.jsx("div",{className:"h-[100vh] pb-4",children:e.jsx(Ae,{clientThreadId:s,hideHeader:!0,hideFooter:!0,hideToolsOverlay:!0,messagesVerticalAlign:"bottom"},s)})})]})]})})})]})}const xs=g(()=>f(()=>import("./qwst4qjqzf7m5eid.js"),__vite__mapDeps([29,1,2,3,4,5]))),Ms=g(()=>f(()=>import("./bu5dt8tan944xav2.js"),__vite__mapDeps([30,1,2,3,4,5,31,32,8,33,34,19,35,36,15,37,38,39,9,40,41,42])).then(a=>a.ImageEditor));function Cs({clientThreadId:a}){const s=Fa();c.useEffect(()=>{L.close()},[a]);let o;return s?.type===ce.ADAVisualization?o=e.jsx(xs,{clientThreadId:a,visualization:s.visualization}):s?.type===ce.Image&&(o=e.jsx(Ms,{clientThreadId:a,messageId:s.messageId,image:s.image,allImages:s.allImages},s.image.asset_pointer)),e.jsx(Ss,{clientThreadId:a,isOpen:s!=null,onClose:L.close,children:o})}const js=g(()=>f(()=>import("./iif2jon0az7ke6ak.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20])).then(a=>a.CanvasFocusedViewManager));function ws(){const{focusedObject:a,clientThreadId:s}=Va();return e.jsx(Wa,{className:Ve(ne.application,{[ne.withFocusedView]:a}),sidebar:e.jsx(us,{}),thread:e.jsx(ve,{},s),details:e.jsxs(e.Fragment,{children:[e.jsx(js,{clientThreadId:s}),!1]}),threadExtendedInfo:e.jsx(xe,{clientThreadId:s}),debugger:e.jsx(Ce,{clientThreadId:s}),name:"application-root"})}function As({clientThreadId:a,setClientThreadId:s,urlThreadId:o,prefetchSearch:n}){return pe({clientThreadId:a}),e.jsx(we,{clientThreadId:a,setClientThreadId:s,prefetchSearch:n,children:e.jsxs(Ra,{children:[e.jsx(Ha,{}),e.jsx(Ga,{}),e.jsxs(be,{enableSandbox:!1,clientThreadId:a,children:[e.jsx(Se,{clientThreadId:a,urlThreadId:o}),e.jsx(Me,{}),e.jsx(ws,{})]})]})})}var vs={};const Os=g(()=>f(()=>import("./kfm88p08r8i3sfis.js"),__vite__mapDeps([43,1,2,3,4,5,44]))),ks=g(()=>f(()=>import("./n4v79ww0i8cta8h5.js"),__vite__mapDeps([45,1,2,3,4,5,40,36,15,37,38,8,39,19,9,41])));function Vs(a){const{urlThreadId:s,clientThreadId:o,prefetchSearch:n}=a;Ps();const i=We(),d=re(),[u]=Re(),[t,m]=c.useState(()=>s!==void 0?s:o!==void 0?o:ie());s!==void 0&&t!==s&&y.getServerThreadId(t)!==s&&m(s);const E=Ua(re());c.useEffect(()=>{s===void 0&&y.getServerThreadId(t)!==void 0&&m(ie())},[s,t,E]);const P=k(B.workspaceId),_=je(),{eligible:b,isLoading:A,markAsViewed:S}=za(),x=Ka();c.useEffect(()=>{(d.pathname==="/"||d.pathname.startsWith("/c/"))&&Qa({namespace:ue.ChatPageLoad})==null&&(qa({namespace:ue.ChatPageLoad,opts:{expectedTimingLogs:[{name:"render_model_switcher",expectedInMs:1e4},{name:"render_history_items",expectedInMs:25e3}]}}),He.addTiming("chatgpt.web.chatPage.mounted"))},[]);const M=Ya();c.useEffect(()=>{Ge(!0).then(r=>{r.force_login&&M({authType:"login"}),Ue.initializeAndGatherData(r),Ja.initializeAndGatherData(r),ze.initializeAndGatherData(r)})},[M]),c.useEffect(()=>{const r=u.get(Xa)==="true";i!==r&&Ke.setIsTemporaryChatEnabled(r)},[i,u]),c.useEffect(()=>{d.state?.focusObject&&L.setFocusedObject(d.state.focusObject)},[d.state?.focusObject]),c.useEffect(()=>{!A&&b&&(S(),x())},[b,A,S,x]);const{isOpen:T,isLoading:C}=Za(),j=_?As:ps;return e.jsx($a.Provider,{value:null,children:e.jsx(es,{children:e.jsxs(as,{clientThreadId:t,children:[e.jsx(gs,{clientThreadId:t},P),!C&&T&&e.jsx(ks,{clientThreadId:t,setClientThreadId:m}),e.jsx(ss,{}),e.jsx(os,{}),e.jsx(j,{urlThreadId:s,clientThreadId:t,setClientThreadId:m,prefetchSearch:n}),e.jsx(Cs,{clientThreadId:t}),e.jsx(ts,{clientThreadId:t}),e.jsx(Es,{}),e.jsx(ns,{})]})})})}function Es(){const a=me(s=>s.sharingModalThreadId);return a?e.jsx(Os,{serverThreadId:a}):null}function Ps(){Qe({queryKey:["pingEdge"],queryFn:()=>qe.pingEdge(),enabled:!0,staleTime:1/0})}typeof window<"u"&&(window._g=vs.GOKU_SERVICE);export{Vs as C,fe as F};
//# sourceMappingURL=hz9yb9e8qp16gq5c.js.map
