const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/hc91048cztnyis1d.js","assets/b49w4g1m4rvlf13k.js","assets/eqa10itkkpekkuyz.js","assets/root-9jaremil.css","assets/iak6egtzaondlngv.js","assets/h7m9odjd9i4xn2nr.js","assets/conversation-small-o3h1ik6j.css","assets/kpxy6xc28m0cob8k.js","assets/mso6suezaufd2zmo.js","assets/1e3p1qgbzsweev7g.js","assets/jhmfsyw61jtsqd29.js","assets/k3myfrovinforztc.js","assets/c67ep4ylaceyaz5k.js","assets/mx8ks10z8e6msvoe.js","assets/kgabwrk4bp501lpa.js"])))=>i.map(i=>d[i]);
import{j as e,ao as D,ap as A,r as l,aU as U,eb as n,ak as f,J as $,aq as z,cU as K,S as Q,I as X}from"./b49w4g1m4rvlf13k.js";import{fM as L,fN as B,fO as Y,cI as Z,fP as G,cc as J,fQ as ee,fR as O,fS as se,fT as ae,cK as ne,fU as te,fV as y,fW as re,fX as oe,fY as ie,fZ as ce,f_ as de,f$ as le,p as he,bL as ue,bY as me,g0 as Ce,cH as xe,g1 as pe,g2 as ge,g3 as W,g4 as fe,aW as b,g5 as Te,cF as ve,eI as je,cf as Se,g6 as Ie,a2 as we,g7 as Ne,g8 as ye,g9 as be,ga as Le,b_ as Ee,gb as Me,gc as _e,gd as He,cX as ke,ge as Fe,gf as F,fz as Pe,fA as Re}from"./h7m9odjd9i4xn2nr.js";import{S as De,E as Ae,C as P,a as Ue,b as Be}from"./kpxy6xc28m0cob8k.js";import{K as Oe}from"./eqa10itkkpekkuyz.js";import{C as We}from"./ir6w11med9350gpb.js";function Ve({clientThreadId:s,currentModelId:o,isModelLoaded:a,onRequestCompletion:r,v2HomepageDisclaimer:t}){return e.jsx(De,{clientThreadId:s,currentModelId:o,isModelLoaded:a,onRequestCompletion:r,v2HomepageDisclaimer:t})}const qe=D(()=>A(()=>import("./hc91048cztnyis1d.js"),__vite__mapDeps([0,1,2,3,4,5,6])).then(s=>s.ChatScreenContentModals));function $e({disableEmptyState:s,fullWidth:o}){const{clientThreadId:a,currentModelId:r,conversationLeafId:t,isCompanionWindow:h,isEmbeddedInFocusedView:d,onChangeItemInView:u,onChangeRating:C,onRequestCompletion:i,onRequestMoreCompletions:m,isModelLoaded:x,prefetchSearch:S}=l.useContext(L),p=B(a,t),T=Y(a),g={clientThreadId:a,conversationLeafId:t,currentModelId:r,onChangeItemInView:u,onChangeRating:C,onRequestMoreCompletions:m,onRequestCompletion:i,showAvatar:!1},I=Z(a),w=G({clientThreadId:a,currentLeafId:t,handleRequestCompletion:i,prefetchSearchPromise:S}),v=I||w||s,j=J(),{initialConversationTurns:E,continuedConversationTurns:M}=ee(p,j),{canUseNewHomepage:_,showEmptyState:H}=O({clientThreadId:a,currentLeafId:t}),V=p>=2;se(V);const{setTargetedContent:k}=ae(),q=ne(r);if(te(()=>{le(),he.updateScrollToMessageId(a,"finalAgentTurn")}),l.useEffect(()=>{d||k(void 0)},[a,k,d]),_&&H&&!v){const c=h?null:e.jsx("div",{className:"text-center text-xs text-token-text-secondary",children:e.jsx(y,{clientThreadId:a})});return e.jsx(Ve,{clientThreadId:a,currentModelId:r,isModelLoaded:x,onRequestCompletion:i,v2HomepageDisclaimer:c})}else if(!_&&H&&!v)return e.jsx(Ae,{clientThreadId:a,currentModelId:r,isModelLoaded:x,onRequestCompletion:i,enableV2Homepage:!q,v2HomepageDisclaimer:e.jsx(y,{clientThreadId:a})});return e.jsxs(e.Fragment,{children:[j&&e.jsx(re,{}),j&&M.length===0&&e.jsx(oe,{}),e.jsx(U,{children:e.jsxs(l.Suspense,{fallback:null,children:[e.jsx(ie,{}),E.length>0&&e.jsx("ol",{className:n.conversationTurnList,children:E.map(({turnIndex:c,isFinalTurn:N})=>e.jsx("li",{className:f(n.conversationTurnWrapper,o&&"w-full"),children:l.createElement(P,{...g,key:`${a}-${c}`,turnIndex:c,isFinalTurn:N,scrollToMessageId:T})},c))}),j&&e.jsx(ce,{}),e.jsx("ol",{className:n.conversationTurnList,children:M.map(({turnIndex:c,isFinalTurn:N})=>e.jsx("li",{className:f(n.conversationTurnWrapper,o&&"w-full"),children:l.createElement(P,{...g,key:`${a}-${c}`,turnIndex:c,isFinalTurn:N,scrollToMessageId:T})},c))})]})}),e.jsx(qe,{}),p>0&&e.jsx(de,{})]})}function ze(){return e.jsx($e,{})}const Ke=D(()=>A(()=>import("./kpxy6xc28m0cob8k.js").then(s=>s.c),__vite__mapDeps([7,1,2,3,5,6,8,9,10,11,12,13,14])).then(s=>s.ChatScreenComposerAlerts));function Qe(){const{clientThreadId:s,currentModelId:o,isCompanionWindow:a,onRequestCompletion:r}=l.useContext(L),t=ue(s),h=me(s),d=B(s,h),u=d>=2,C=Ce(s,h),i=xe(s)&&!u&&pe(t);ge(d,s,h,i);const{setComposerFooterElement:m}=l.useContext(W);return e.jsx("div",{className:n.footer,children:e.jsxs(fe,{style:{"--bar-gap":"0.5rem","--bar-background-color":"transparent"},children:[e.jsxs(b,{type:"secondary",className:"relative",children:[u&&e.jsx(Te,{className:n.scrollButton}),e.jsx(Ke,{})]}),e.jsxs(b,{type:"primary",ref:m,name:"composer-bar",children:[e.jsx(Ue,{clientThreadId:s,currentModelId:o,isNewThread:i,noWrap:!0,onRequestCompletion:r,showPromptStarters:i||!C}),!a&&e.jsx("div",{className:"text-center text-xs text-token-text-secondary",children:e.jsx(y,{clientThreadId:s})})]})]})})}function Xe(){const s=$(),{clientThreadId:o,isLoggedInUser:a,onNewThread:r}=l.useContext(L);return ve(o),e.jsxs(b,{leading:!0,type:"primary",className:n.header,children:[e.jsxs("div",{className:n.headerLeading,children:[a&&e.jsx(je,{}),e.jsx(z,{label:s.formatMessage(R.newChat),className:"hidden @lg/screen-composer:inline-flex",children:e.jsx(K,{to:"/",className:n.newThread,onClick:t=>{r?(t.preventDefault(),r()):Q.logEvent("chatgpt_web_thread_tap_new_thread")},tabIndex:0,children:e.jsx(Se,{className:f(n.sidebarIcon),icon:e.jsx(Oe,{}),tabIndex:-1,label:s.formatMessage(R.newChat),style:{viewTransitionName:"var(--vt_new_chat_thread)"}})})}),e.jsx("div",{className:n.threadDropdown,children:e.jsx(Ie,{clientThreadId:o})})]}),e.jsx("div",{className:n.headerTrailing,children:e.jsx(U,{children:e.jsx(Be,{clientThreadId:o})})})]})}const R=X({newChat:{id:"rnCpM4",defaultMessage:"New Chat"}});function ss({hideHeader:s=!1,hideFooter:o=!1,hideTools:a=!1,embedded:r=!1}){const{clientThreadId:t,currentModelId:h,conversationLeafId:d,isCompanionWindow:u,isInstalledApp:C,onRequestCompletion:i}=we(),{canUseNewHomepage:m,showEmptyState:x}=O({clientThreadId:t,currentLeafId:d}),S=Ne()[h],[p,T]=ye({name:"composer-bar",track:"height"}),g=be(t),I=Le(),{isOpen:w}=Ee(),v=o||x&&m;return e.jsx(Me.Provider,{value:i,children:e.jsx(_e,{children:e.jsxs(He,{clientThreadId:t,currentLeafId:d,children:[e.jsx(ke,{children:g!=null&&e.jsx("title",{children:g})}),e.jsx(Fe,{clientThreadId:t,className:f(r&&"h-full","flex-1"),currentModelConfig:S,children:e.jsx(W.Provider,{value:{setComposerFooterElement:T},children:e.jsxs("div",{className:"h-full",style:{container:"thread-container / inline-size"},children:[e.jsx(F,{id:"canvas-state",name:"canvas-state",checked:I}),e.jsx(F,{id:"thread-extended-info-sidebar-state",name:"thread-extended-info-sidebar-state",checked:w}),e.jsx(Pe,{anchor:"vertical",className:f(n.screen,x&&m&&n.screenEmptyState,u&&n.screenCompanionWindow,C&&n.screenInstalledApp,r&&n.screenEmbedded),name:"thread",leading:!s&&e.jsx(Xe,{}),style:p,trackLeading:!0,trackTrailing:!0,trailing:!v&&e.jsx(Qe,{}),children:e.jsx(ze,{})}),!u&&!a&&e.jsxs(e.Fragment,{children:[e.jsx(We,{}),e.jsx(Re,{})]})]})})})]})})})}export{ss as C};
//# sourceMappingURL=c3mjcgff7ff0db2z.js.map
