const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/j49kbyo21u3gqu7z.js","assets/ns1tfo6glfhr2njn.js","assets/jeba75ammv4sijqh.js","assets/root-jhvoex1m.css","assets/lnlvqx2sg8j5t2nm.js","assets/conversation-small-ict01xsi.css","assets/mbxrycrzw6ofzuof.js","assets/jo45qjmv4ly2669u.js","assets/bf1fa2lxk3a560fa.js","assets/obsnxi9d52vyw6j4.js","assets/dm95sr2w80ve06wg.js","assets/ivgpo5nrepdzyqp7.js","assets/evn5zm2tjn42ro46.js","assets/f4axing0y0uimu3h.js","assets/dxxsw577akyd0slr.js","assets/bg8zaety70bid1mn.js","assets/e947clt63wzokhjj.js","assets/b18gqf291rre3pmr.js","assets/bp8s1e0xdpx41ov5.js","assets/bk3hsgjed6qvj0wl.js","assets/mhvon71my93v1a7h.js","assets/j6iar3ehg3a3w36s.js","assets/b4v2lnxl25hbwkp3.js","assets/i2aauj1ucwqe9q3a.js","assets/kqwdyvkaaavvn8k3.js","assets/mo6rtvdy5i8go1pk.js","assets/6vult52rtqtmju65.js","assets/983a0dy92b3ronpv.js","assets/hhe35ygikdgr2udm.js","assets/c3djzj8273obrqyf.js","assets/jl3lximynyeuzxjl.js","assets/j5w4166bn3c02o6l.js","assets/co2x3movnvjr784u.js","assets/mfyvzhwrikpkhgzu.js","assets/mqffpgfolglcb0cw.js","assets/ll1x6vhhgznx1jro.js","assets/g7zewj87vd50b090.js","assets/f3eq50jznu8y5bqh.js","assets/l7rmu1n17m1a7sjz.js","assets/ogyixxhydpyrx7wo.js","assets/grids7u8ookw9xrh.js","assets/nukw4sd8z7mg8l0k.js","assets/g8dawmeussqz1eb2.js"])))=>i.map(i=>d[i]);
import{au as l,av as u,j as e,aV as $,aP as E,fI as _,r as d,ar as q,fC as w,ag as X,t as P,X as Y,c0 as T,D as J,bN as Z,bO as ee,bP as ae,cq as se,l as te,O as re}from"./ns1tfo6glfhr2njn.js";import{d8 as oe,d1 as I,gB as ne,d2 as ie,gC as b,X as k,gD as D,ft as de,gE as ce,gA as M,gF as L,gG as H,gH as le,bQ as ue,b0 as R,a9 as he,d3 as B,gI as y,gJ as m,fU as ge,bS as x,bT as A,a8 as me,eP as fe,eO as xe,gK as be,gL as je,q as F,gM as Ce,ch as pe,gN as ve,gO as Se,gP as Ee,gQ as N,gR as _e,j as we,gS as Pe,gT as Te,fT as ye,ac as Ae,c$ as Fe,d0 as Ne,gU as Ve,gV as Oe,gW as Ie,d4 as ke,gX as De,ci as Me,gc as Le}from"./lnlvqx2sg8j5t2nm.js";import{S as V,b as He,c as Re,N as Be}from"./co2x3movnvjr784u.js";import{S as Ge,a as Ue,C as We}from"./mfyvzhwrikpkhgzu.js";import{T as G}from"./mqffpgfolglcb0cw.js";import{C as U}from"./ogyixxhydpyrx7wo.js";import{m as f}from"./bf1fa2lxk3a560fa.js";const ze=l(()=>u(()=>import("./j49kbyo21u3gqu7z.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19])).then(a=>a.CanvasFocusedViewManager)),Ke=l(()=>u(()=>import("./mhvon71my93v1a7h.js"),__vite__mapDeps([20,1,2,3,4,5,21,22,23,24,25,26,8,27])).then(a=>a.SearchResultsModal));function Qe({clientThreadId:a,setClientThreadId:s,urlThreadId:t,prefetchSearch:n}){const o=oe();I({clientThreadId:a});const{createNewThread:i,onThreadCreated:g,resetThread:r}=ne({clientThreadId:a,setClientThreadId:s});ie({resetThreadAction:r,clientThreadId:a});const h=b();return e.jsxs(k,{enableSandbox:!1,clientThreadId:a,children:[e.jsx(D,{clientThreadId:a,urlThreadId:t}),e.jsxs(V,{hideNavigation:o,mobileHeaderContent:e.jsx(de,{clientThreadId:a,inMobileHeader:!0}),mobileHeaderBottomContent:e.jsx(ce,{clientThreadId:a}),mobileHeaderLeftContent:e.jsx(He,{onNewChatButtonClick:r}),mobileHeaderRightContent:e.jsx(Re,{onNewChatButtonClick:r}),sidebar:e.jsx(Be,{navHeader:a?e.jsx(Ge,{className:"flex h-[60px] items-center md:h-header-height",onNewThread:i}):null,children:e.jsx(Ue,{clientThreadId:a,onNewThread:i})}),threadFlyout:e.jsx(M,{clientThreadId:a}),children:[e.jsx(L,{}),e.jsx(G,{clientThreadId:a,onCreate:g,prefetchSearch:n},a),e.jsxs(V.Sidebars,{children:[h&&e.jsx(ze,{clientThreadId:a}),e.jsx(H,{clientThreadId:a}),!1]})]}),e.jsx($e,{clientThreadId:a})]})}function $e({clientThreadId:a}){const s=$(),t=s?.includes(E.SearchTool)&&!s?.includes(E.SearchToolHoldout),n=le(),{isOpen:o}=ue();return o&&(!n||!t)&&e.jsx(Ke,{clientThreadId:a})}const O=450;function qe({children:a,clientThreadId:s,isOpen:t,onClose:n}){const o=R();return e.jsxs(he,{children:[t&&o&&e.jsx(B,{clientThreadId:s,children:e.jsx(_,{children:e.jsx(y.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(f.div,{className:"h-full w-full bg-token-main-surface-secondary",...m}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx("div",{className:"flex-grow overflow-auto",children:a}),e.jsx(f.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:O},...m,children:e.jsx(U,{hideHeader:!0,hideTools:!0})})]})]})})})}),t&&!o&&e.jsx(_,{children:e.jsx(y.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(f.div,{className:"h-full w-full bg-token-main-surface-secondary",...m}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx("div",{className:"flex-grow overflow-auto",children:a}),e.jsx(f.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:O},...m,children:e.jsx("div",{className:"h-[100vh] pb-4",children:e.jsx(G,{clientThreadId:s,hideHeader:!0,hideFooter:!0,hideToolsOverlay:!0,messagesVerticalAlign:"bottom"},s)})})]})]})})})]})}const Xe=l(()=>u(()=>import("./hhe35ygikdgr2udm.js"),__vite__mapDeps([28,1,2,3,4,5]))),Ye=l(()=>u(()=>import("./c3djzj8273obrqyf.js"),__vite__mapDeps([29,1,2,3,4,5,30,31,8,32,18,33,34,15,35,36,37,9,38,39,40])).then(a=>a.ImageEditor));function Je({clientThreadId:a}){const s=ge();d.useEffect(()=>{x.close()},[a]);let t;return s?.type===A.ADAVisualization?t=e.jsx(Xe,{clientThreadId:a,visualization:s.visualization}):s?.type===A.Image&&(t=e.jsx(Ye,{clientThreadId:a,messageId:s.messageId,image:s.image,allImages:s.allImages},s.image.asset_pointer)),e.jsx(qe,{clientThreadId:a,isOpen:s!=null,onClose:x.close,children:t})}const Ze=l(()=>u(()=>import("./j49kbyo21u3gqu7z.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19])).then(a=>a.CanvasFocusedViewManager));function ea(){const{focusedObject:a,clientThreadId:s}=me(),t=b();return e.jsx(fe,{className:q(w.application,{[w.withFocusedView]:a}),sidebar:e.jsx(We,{}),thread:e.jsx(U,{}),details:e.jsxs(e.Fragment,{children:[t&&e.jsx(Ze,{clientThreadId:s}),!1]}),threadExtendedInfo:e.jsx(M,{clientThreadId:s}),debugger:e.jsx(H,{clientThreadId:s}),name:"application-root"})}function aa({clientThreadId:a,setClientThreadId:s,urlThreadId:t,prefetchSearch:n}){return I({clientThreadId:a}),e.jsx(B,{clientThreadId:a,setClientThreadId:s,prefetchSearch:n,children:e.jsxs(xe,{children:[e.jsx(be,{}),e.jsx(je,{}),e.jsxs(k,{enableSandbox:!1,clientThreadId:a,children:[e.jsx(D,{clientThreadId:a,urlThreadId:t}),e.jsx(L,{}),e.jsx(ea,{})]})]})})}var sa={};const ta=l(()=>u(()=>import("./nukw4sd8z7mg8l0k.js"),__vite__mapDeps([41,1,2,3,4,5,42])));function ga(a){const{urlThreadId:s,clientThreadId:t,prefetchSearch:n}=a;oa();const o=X(),i=P(),[g]=Y(),[r,h]=d.useState(()=>s!==void 0?s:t!==void 0?t:T());s!==void 0&&r!==s&&F.getServerThreadId(r)!==s&&h(s);const W=Ce(P());d.useEffect(()=>{s===void 0&&F.getServerThreadId(r)!==void 0&&h(T())},[s,r,W]);const z=pe(Me.workspaceId);b();const K=R(),{eligible:j,isLoading:C,markAsViewed:p}=ve(),v=Se();d.useEffect(()=>{(i.pathname==="/"||i.pathname.startsWith("/c/"))&&Ee({namespace:N.ChatPageLoad})==null&&(_e({namespace:N.ChatPageLoad,opts:{expectedTimingLogs:[{name:"render_model_switcher",expectedInMs:1e4},{name:"render_history_items",expectedInMs:25e3}]}}),J.addTiming("chatgpt.web.chatPage.mounted"))},[]);const S=we();d.useEffect(()=>{Z(!0).then(c=>{c.force_login&&S({authType:"login"}),ee.initializeAndGatherData(c),Pe.initializeAndGatherData(c),ae.initializeAndGatherData(c)})},[S]),d.useEffect(()=>{const c=g.get(Te)==="true";o!==c&&se.setIsTemporaryChatEnabled(c)},[o,g]),d.useEffect(()=>{i.state?.focusObject&&x.setFocusedObject(i.state.focusObject)},[i.state?.focusObject]),d.useEffect(()=>{!C&&j&&(p(),v())},[j,C,p,v]),ye();const Q=K?aa:Qe;return e.jsx(Ae.Provider,{value:null,children:e.jsx(Fe,{children:e.jsxs(Ne,{clientThreadId:r,children:[e.jsx(Ve,{clientThreadId:r},z),!1,e.jsx(Oe,{}),e.jsx(Ie,{}),e.jsx(Q,{urlThreadId:s,clientThreadId:r,setClientThreadId:h,prefetchSearch:n}),e.jsx(Je,{clientThreadId:r}),e.jsx(ke,{clientThreadId:r}),e.jsx(ra,{}),!1,e.jsx(De,{})]})})})}function ra(){const a=Le(s=>s.sharingModalThreadId);return a?e.jsx(ta,{serverThreadId:a}):null}function oa(){te({queryKey:["pingEdge"],queryFn:()=>re.pingEdge(),enabled:!0,staleTime:1/0})}typeof window<"u"&&(window._g=sa.GOKU_SERVICE);export{ga as C,O as F};
//# sourceMappingURL=b8fyuxiu70ib5j0u.js.map
