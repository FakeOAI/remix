import{r as T,g0 as C,l as y,m as t,bi as w,eo as b}from"./cbdhxbjz462fxz30.js";import{g as f,A as v,a as j,C as c,b as M,c as l,T as R,d as A}from"./jcekas70xjkendbj.js";import{i as E,j as P,k as D,l as N,m as S,n as L,A as O,o as V}from"./f4wa8ql6adp83vsr.js";import{m as k}from"./k5pz0z71530nw1jz.js";const F=()=>t.jsxs(k.div,{role:"button",className:"absolute bottom-3 left-0 right-0 z-50 mx-auto flex w-fit items-baseline gap-1 rounded-full border border-token-border-light bg-token-main-surface-primary px-3 py-1",initial:!1,animate:{opacity:1},exit:{opacity:0,scale:.9},children:[t.jsx("span",{className:"loading-shimmer-pure-text",children:t.jsx(w,{...b({id:"qmLYih",defaultMessage:"Typing"})})}),t.jsx(R,{gap:1,padding:0})]}),q=({onScroll:m,textdocId:u})=>{const i=E(u),{windowWidth:x}=C(h=>h,{windowWidth:0,windowHeight:0});if(!i)return null;const{versions:s}=i,e=y(s);if(!e)return null;const a=s.length>1?s[s.length-2]:null,n=P(e),g=D(e),r=A({isReadonlyFromQueryParam:!0}),{content:d,currentlyStreamingLineIndex:p}=f(e,a);let o=null;switch(e?.type){case S.DOCUMENT:o=t.jsx(M,{value:d,previousValue:a?.content,comments:[],isRequestActive:n,isRewriting:g,isPreview:!0,isDisabled:!0,hideAccelerators:!0,commentsMode:c.COMMENTS_READONLY,readonlyReason:r,hideToolbar:!0,hideEditOverlay:!0,width:x,modelCursor:e.modelCursor});break;default:e&&N(e.type)&&(o=t.jsx(v,{id:"codemirror",currentlyStreamingLineIndex:p,language:j(e.type),value:d,commentsMode:c.COMMENTS_READONLY,hideToolbar:!0,hideAccelerators:!0,readonlyReason:r,comments:[],isRequestActive:n}))}return t.jsxs(l,{children:[t.jsx(l.Content,{disableScroll:L(),onScroll:m,children:o}),t.jsx(O,{children:V(e)&&t.jsx(F,{})})]})},W=T.memo(q);export{W as T};
//# sourceMappingURL=i88v566vc6q9zip7.js.map
