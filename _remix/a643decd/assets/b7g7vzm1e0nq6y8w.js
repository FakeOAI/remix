const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/kgamjqtnpupgzaxg.js","assets/kexrdnttddh7qzt6.js","assets/gukghwx1w2wt60o7.js","assets/root-mqr9jcw8.css","assets/kbiqh4382wehgkqs.js","assets/conversation-small-n29wfzgk.css","assets/jwncpbabjtovk61p.js","assets/pcze8pakrqd1wcyc.js","assets/e2pyafzb82ijtxoo.js","assets/n0jil0j1403wvw54.js","assets/f29uy9wy2omzvjqd.js","assets/c57f1aogbgmodxil.js","assets/m3ze40h781g0y15f.js","assets/ngu8xcvtlsnc46mv.js","assets/jl47lv0u3tq91gxg.js","assets/ca7unlhgrz2u1cog.js","assets/l1v4ozua6xh9x4sy.js","assets/i6xcv697pfw205k7.js","assets/m3suotb2kdzp3nq3.js","assets/dqrm07f83dsa3vts.js","assets/cb8zko7art8nvyzt.js","assets/hws19ll2nuxbz6ke.js","assets/gcg54mujpz2xfwtj.js","assets/ow9s4cb6jxf218c1.js","assets/myf84zgbjy3hwpn7.js","assets/n2bmq5oxxkls2oao.js","assets/h5rkam9mkijmocou.js","assets/n4d2be5iyjenqnqu.js","assets/hid9dyfltdet7p1n.js","assets/bcp2axumtb85y6md.js","assets/exvk56nhzg96m5ls.js","assets/j2sf81irgshj3zhh.js","assets/i2l5hq5zgnuspzws.js","assets/dg6ryjaqq03jv6n1.js","assets/inl7g1nupbgfgd2w.js","assets/cwe6kp96m6p56ec2.js","assets/d25d1lrjjun5qaoa.js","assets/e4fql0g8i7iowtej.js","assets/cm1ori5usrbosu4x.js","assets/bqr6al75rygnttj7.js","assets/kgr94pa8j09816d0.js","assets/mqt8ma5t2ze5cot7.js","assets/hmig5dzvxoboh2wi.js","assets/75wj0b5pdv0deay3.js","assets/odw816q8jb6i4857.js","assets/b3594fo2anq23gib.js","assets/b7peu9pk792u64y5.js","assets/ik77oah5tuw3an92.js","assets/fjxlokfpy71hapsb.js","assets/cadzdvefxmz87tru.js","assets/ekvhvc1rxwakg9cb.js","assets/k28imoz1xsei49z5.js","assets/cpudlqcsuad6nsky.js","assets/l0fl3wwhwvzc74ql.js","assets/yechzddseyrfo0v9.js","assets/jlrw4zxo0ni2k8ca.js","assets/dmn58qwgournpsh0.js","assets/kqwdyvkaaavvn8k3.js","assets/oulj32u6n94f106f.js","assets/fouzb0gj6zwlzylj.js"])))=>i.map(i=>d[i]);
import{a2 as Ge,W as F,aK as Ce,aJ as Ve,r as i,l as s,a0 as b,D as be,bd as V,a1 as z,Q as Me,P as ne,a as re,L as Se,X as U,Y as je,bE as He,aD as f,aE as g,aN as ke,bZ as We,bX as Fe,bV as ze,bf as Ue,aA as Ke,u as ve,ap as ie,aH as ce,bC as $e,dK as H,ff as qe,f4 as Qe,m as S,cj as ye,d3 as N,fk as Ye,e8 as Xe,fl as Je,a9 as le,bi as Ze,cY as es,cZ as ss,c_ as ts,c5 as as,b0 as os,h as ns,j as rs}from"./kexrdnttddh7qzt6.js";import{u as is,f as K,T as Ae}from"./m3suotb2kdzp3nq3.js";import{u as cs,h0 as ls,h1 as we,h2 as ds,S as us,h3 as hs,h4 as ms,h5 as fs,h6 as gs,h7 as ps,h8 as xs,bP as D,h9 as Cs,ha as bs,hb as Ms,hc as Ss,hd as js,he as ks,hf as vs,hg as ys,hh as As,hi as ws,hj as _s,hk as Es,hl as Ps,hm as Ns,hn as Ts,ho as Ls,hp as Os,hq as Bs,hr as Ds,G as k,aH as P,a4 as v,cj as $,hs as Is,ht as Rs,eA as de,cx as Gs,hu as _e,hv as Ee,hw as Pe,Q as Vs,hx as Hs,gS as ue,fM as Ws,c7 as W,c8 as he,hy as Ne,hz as Fs,ek as B,hA as zs,dq as Us,hB as Ks,hC as $s,cU as qs,aD as Qs,aR as Ys,hD as Xs,el as Js,em as me,hE as Zs,v as et,cm as st,hF as tt,hG as at,cn as ot,db as nt,hH as rt,dc as it,hI as ct,hJ as lt}from"./kbiqh4382wehgkqs.js";import{T as I,e as dt,c as ut,b as ht,l as mt}from"./e2pyafzb82ijtxoo.js";import{a as ft}from"./f29uy9wy2omzvjqd.js";import{L as gt}from"./c57f1aogbgmodxil.js";import{bD as pt,V as xt}from"./gukghwx1w2wt60o7.js";import{e as Ct,b as bt,f as Mt,a as Te,g as St}from"./dg6ryjaqq03jv6n1.js";import{S as fe,b as jt,c as kt,N as vt}from"./b7peu9pk792u64y5.js";import{a as Le,b as yt,g as At}from"./fjxlokfpy71hapsb.js";import{S as wt,C as _t,H as Et}from"./cadzdvefxmz87tru.js";import{u as Pt,n as Nt}from"./ca7unlhgrz2u1cog.js";import{J as Tt,q as Lt,a as Ot,K as Bt}from"./pcze8pakrqd1wcyc.js";import{m as ge}from"./n0jil0j1403wvw54.js";import{b as Dt}from"./l1v4ozua6xh9x4sy.js";function It({onClose:e}){const t=F(),a=Ce(),{openSettings:n}=cs(),r=ls(),{session:o}=Ve(),{data:{isStorageComplianceEnabled:c}={}}=we(),{data:l,isLoading:h}=ds({enabled:!!(c&&o),select:d=>!d.cookie_consent.is_required});return i.useEffect(()=>{l===!0&&e()},[l,e]),h?null:s.jsx(Rt,{onReject:()=>{r.mutateAsync({analytics_cookies_accepted:!1},{onSuccess(){a.success(t.formatMessage(w.updateSuccess))},onError(){a.danger(t.formatMessage(w.updateFailure))}}),e()},onAccept:()=>{r.mutateAsync({analytics_cookies_accepted:!0},{onSuccess(){a.success(t.formatMessage(w.updateSuccess))},onError(){a.danger(t.formatMessage(w.updateFailure))}}),e()},children:s.jsx(b,{id:"CookieConsentBanner.authedDescription.0",defaultMessage:"We use cookies and similar technologies to deliver, maintain, improve our services and for security purposes. Check our <cookiePolicy>cookie policy</cookiePolicy> for details. Click 'Accept all' to let OpenAI and partners use cookies for these purposes. Click 'Reject all' to say no to cookies, except those that are strictly necessary. Choose <manageLink>manage cookies</manageLink> to change your preferences.",values:{cookiePolicy:d=>s.jsx(gt,{href:"https://openai.com/policies/cookie-policy",openNewTab:!0,children:d}),manageLink:d=>s.jsx(Gt,{onClick:()=>{n(us.DataControls)},children:d})}})})}function Rt({children:e,onAccept:t,onReject:a}){return i.useEffect(()=>{be.addAction("privacy_policy.show_cookie_consent_banner")},[]),s.jsxs(hs,{children:[s.jsxs(ms,{className:"text-sm font-semibold [grid-area:_title]",children:[e,s.jsxs("div",{className:"mt-2 flex justify-end gap-3",children:[s.jsx(V,{color:"secondary",size:"small",onClick:a,children:s.jsx(b,{...w.reject})}),s.jsx(V,{color:"secondary",size:"small",onClick:t,children:s.jsx(b,{...w.accept})})]})]}),s.jsx(fs,{})]})}const Gt=Ge.button`underline font-normal text-green-600`,w=z({cookieConsentBannerTitle:{id:"CookieConsentBanner.title",defaultMessage:"We use cookies to provide, improve, and protect our services. Visit our <privacyPolicyLink>privacy policy</privacyPolicyLink> to learn more. You can manage your cookie preferences in your <settingsPanel>settings panel</settingsPanel>. <learnMoreLink>Learn more</learnMoreLink>."},reject:{id:"CookieConsentBanner.reject",defaultMessage:"Reject all"},accept:{id:"CookieConsentBanner.accept",defaultMessage:"Accept all"},updateSuccess:{id:"CookieConsentBanner.updateSuccess",defaultMessage:"Your cookie preferences were updated successfully"},updateFailure:{id:"CookieConsentBanner.updateFailure",defaultMessage:"Unable to update cookie preferences. Try again later."}}),Oe=()=>{const e=i.useRef(Vt()),{isUnauthenticated:t,isLoading:a}=Me(),n=gs(),r=Ct(),o=!a&&t&&r&&!e.current&&!n,c=i.useCallback(()=>{o&&(Ht(),ne.logEventWithStatsig(re.meetChatGptModalShown,"chatgpt_meet_chatgpt_modal_shown"))},[o]),l=()=>{ne.logEventWithStatsig(re.meetChatGptModalConfirmationButtonClicked,"chatgpt_meet_chatgpt_modal_confirmation_button_clicked")};return a?{onConfirmationButtonClick:l,onMount:c,state:"loading"}:o?{onConfirmationButtonClick:l,onMount:c,state:"show"}:{onConfirmationButtonClick:l,onMount:c,state:"hide"}};function Vt(){return!!localStorage.getItem(Se.HasSeenMeetChatGptModal)}function Ht(){return localStorage.setItem(Se.HasSeenMeetChatGptModal,"true")}const Wt=({onClose:e})=>{const{onConfirmationButtonClick:t,onMount:a,state:n}=Oe();return i.useEffect(a,[a]),n!=="show"?null:s.jsx(U,{isOpen:!0,noPadding:!0,onClose:je,shouldIgnoreClickOutside:!0,showCloseButton:!1,size:"custom",type:"success",className:"max-w-md",children:s.jsxs("div",{className:"flex flex-col p-6 text-center",children:[s.jsx("div",{className:"-mb-4 -mt-5 self-center",children:s.jsx(pt,{})}),s.jsx("div",{className:"mb-2 text-2xl font-medium",children:s.jsx(b,{id:"fnY8gE",defaultMessage:"Meet ChatGPT"})}),s.jsx("div",{className:"mb-6 text-token-text-secondary",children:s.jsx(b,{id:"OdX5ix",defaultMessage:"AI that can help with brainstorming, researching, planning, and more. Just ask."})}),s.jsx(V,{color:"primary",size:"giant",className:"mb-4",onClick:()=>{t(),e()},children:s.jsx(b,{...He.gotItButtonText})}),s.jsx("div",{className:"text-xs text-token-text-tertiary",children:s.jsx(b,{id:"afZtaK",defaultMessage:"Chats may be reviewed and used to train our models. You can opt out in settings. <learnMoreLink>Learn more</learnMoreLink>",values:{learnMoreLink:r=>s.jsx("a",{className:"underline",href:"https://help.openai.com/en/articles/9737562",rel:"noreferrer",target:"_blank",children:r})}})})]})})},Ft=f(()=>g(async()=>{const{ModelOnboardingNUXModal:e}=await import("./kgamjqtnpupgzaxg.js");return{ModelOnboardingNUXModal:e}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11])).then(({ModelOnboardingNUXModal:e})=>e),{ssr:!1}),zt=({onClose:e})=>{const t=F(),a=D($.isBusinessWorkspace),n=D(o=>o.currentWorkspace),r=a?t.formatMessage(pe.workspaceWelcome,{workspaceName:n?.name}):"ChatGPT";return s.jsx(U,{isOpen:!0,onClose:je,type:"success",title:r,size:"custom",noPadding:!0,className:"max-w-3xl",description:t.formatMessage(pe.personalOnboardingSubheading),children:s.jsx(Is,{onClose:e,scope:Rs.Personal})})};function Ut(){const[e,t]=i.useState(0),{hasSeenOnboardingDate:a}=ps(),{hasSeenTeamOwnerOnboardingDate:n}=xs(),r=D($.isBusinessWorkspace),o=ke(),[c,l]=i.useState(!1),{data:h,isPending:d}=we(),p=Cs(h,d),{eligible:M,isLoading:_}=ft(),T=We(),y=Fe(),L=ze(),{data:m,isError:j}=Ue(),x=m!=null,E=m&&m?.accountItems.length>1&&m.currentAccountId==null,O=m?.accountItems.some(u=>u.isPersonalAccount()),C=!!m?.accountItems&&m.accountItems.length>0&&m.accountItems.every(({canAccessWithCurrentSession:u})=>!u),{eligible:q,isLoading:Q}=bs(),{value:Y}=Ke("1542198993"),{punchOutRequireLoginInfo:X}=Ms(),{state:J}=Ss(),{isOpen:Z,isLoading:ee}=js(),{isOpen:se,isLoading:te}=ks(),{state:ae}=Oe(),A=i.useMemo(()=>[{Component:vs,getModalState:()=>X?"show":"hide",isDeferrable:!1},{Component:ys,getModalState:()=>J,isDeferrable:!1},{Component:Wt,getModalState:()=>ae,isDeferrable:!1},{Component:As,getModalState:()=>ee?"loading":Z?"show":"hide",isDeferrable:!1},{Component:ws,getModalState:()=>te?"loading":se?"show":"hide",isDeferrable:!1},{Component:zt,getModalState:()=>r?"hide":a===null?"loading":a===!1?"show":"hide",isDeferrable:!0},{Component:_s,getModalState:()=>j?"hide":E?"show":x?"hide":"loading",isDeferrable:!1},{Component:Es,getModalState:()=>T!==null?"show":j||x?"hide":"loading",isDeferrable:!1},{Component:Ps,getModalState:()=>y!==null?"show":j||x?"hide":"loading",isDeferrable:!1},{Component:Ns,getModalState:()=>L!=null?"show":j||x?"hide":"loading",isDeferrable:!1},{Component:Ts,getModalState:()=>x?C?"show":"hide":"loading",isDeferrable:!1},{Component:It,getModalState:()=>"hide",isDeferrable:!1},{Component:Ls,getModalState:()=>!o?.isTeam()||!o?.isOwnerOfAccount()||!O?"hide":!x||n===null?"loading":n===!1?"show":"hide",isDeferrable:!1},{Component:Os,getModalState:()=>r?a===null?"loading":a===!1?"show":"hide":"hide",isDeferrable:!0},{Component:Bs,getModalState:()=>Q?"loading":q&&Y?"show":"hide",isDeferrable:!1},{Component:Ds,getModalState:()=>p,isDeferrable:!1},{Component:Ft,getModalState:()=>_?"loading":M?"show":"hide",isDeferrable:!0,expiresAt:new Date(2024,7,13)}].filter(u=>!(u.isDeferrable&&c)&&(!u.expiresAt||u.expiresAt.getTime()>Date.now())),[X,J,L,x,a,n,O,_,r,j,T,y,o,C,E,p,M,c,Y,q,Q,Z,ee,se,te,ae]);i.useEffect(()=>{if(A[e]&&A[e].getModalState()==="hide"){const u=A.findIndex(Re=>Re.getModalState()!=="hide");t(u)}},[e,A]);const R=A[e],G=R?.getModalState()==="show";if(i.useEffect(()=>{const u=k.getState().activeModals.has(P.BlockingInitialComponent);G!==u&&(G?v.openModal(P.BlockingInitialComponent):v.closeModal(P.BlockingInitialComponent))},[G]),R==null)return s.jsx("span",{"data-testid":"blocking-initial-modals-done",className:"hidden"});const oe=R.getModalState();if(oe==="loading")return null;oe==="hide"&&t(u=>u+1);const Ie=A[e].Component;return s.jsx(Ie,{onClose:()=>{l(!0),t(u=>u+1)}})}const pe=z({workspaceWelcome:{id:"BlockingInitialModals.workspaceWelcome",defaultMessage:"Welcome to the {workspaceName} workspace"},personalOnboardingSubheading:{id:"BlockingInitialModals.personalOnboardingSubheading",defaultMessage:"Tips for getting started"}});function Be({clientThreadId:e}){i.useEffect(()=>{v.closeSharingModal()},[e]);const t=ve();i.useEffect(()=>(I.retainThread(e),()=>{setTimeout(()=>{t.invalidateQueries({queryKey:["conversation",e]})},0),I.releaseThread(e)}),[e,t]),i.useEffect(()=>()=>{ie.checkGate("3922476776")||de.abortAllRequests()},[e]);const a=i.useRef(e);i.useEffect(()=>{e!==a.current&&(ie.checkGate("3922476776")||de.clear(),a.current=e)},[e])}function De({clientThreadId:e,setClientThreadId:t}){const a=ve(),n=Gs(),r=n?{kind:ce.GizmoInteraction,gizmo_id:n}:{kind:ce.PrimaryAssistant};Pt(e,r);const o=$e(),c=Tt(e),l=i.useRef(c);l.current=c;const h=i.useCallback(()=>{t(H());const M=l.current;o(M.tags.includes(qe.GPT_4)?"/":`/?model=${M.id}`,{replace:!0})},[t,o]),d=is({clientThreadId:e,location:"Model switcher menu item"}),p=i.useCallback(M=>{Nt(o,a,M)},[a,o]);return{createNewThread:d,onThreadCreated:p,resetThread:h}}const Kt=f(()=>g(()=>import("./m3ze40h781g0y15f.js"),__vite__mapDeps([12,1,2,3,4,5,13,14,15,16,9,7,8,17,18,19,10,11,20,21,22,23,6,24,25,26,27,28,29])).then(e=>e.CanvasFocusedViewManager));function $t({clientThreadId:e,setClientThreadId:t,urlThreadId:a,prefetchSearch:n}){const r=dt();Be({clientThreadId:e});const{createNewThread:o,onThreadCreated:c,resetThread:l}=De({clientThreadId:e,setClientThreadId:t});Le({resetThreadAction:l,clientThreadId:e});const h=K(e);return s.jsxs(Ae,{clientThreadId:e,children:[s.jsx(_e,{clientThreadId:e,urlThreadId:a}),s.jsxs(fe,{hideNavigation:r,mobileHeaderContent:s.jsx(bt,{clientThreadId:e,inMobileHeader:!0}),mobileHeaderBottomContent:s.jsx(Mt,{clientThreadId:e}),mobileHeaderLeftContent:s.jsx(jt,{onNewChatButtonClick:l}),mobileHeaderRightContent:s.jsx(kt,{onNewChatButtonClick:l}),sidebar:s.jsx(vt,{navHeader:e?s.jsx(wt,{className:"flex h-[60px] items-center md:h-header-height",onNewThread:o}):null,children:s.jsx(_t,{clientThreadId:e,onNewThread:o})}),children:[s.jsx(Ee,{}),s.jsx(Te,{clientThreadId:e,onCreate:c,prefetchSearch:n},e),s.jsxs(fe.Sidebars,{children:[h&&s.jsx(Kt,{clientThreadId:e}),s.jsx(Pe,{clientThreadId:e})]})]})]})}const qt=450;function Qt({children:e,clientThreadId:t,isOpen:a,onClose:n}){return s.jsx(Vs,{children:a&&s.jsx(Qe,{children:s.jsx(Hs.Provider,{value:{isEmbeddedInFocusedView:!0},children:s.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[s.jsx(ge.div,{className:"h-full w-full bg-token-main-surface-secondary",...ue}),s.jsxs("div",{className:"absolute inset-0 flex",children:[s.jsx("div",{className:"flex-grow overflow-auto",children:e}),s.jsx(ge.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:qt},...ue,children:s.jsx("div",{className:"h-[100vh] pb-4",children:s.jsx(Te,{clientThreadId:t,hideHeader:!0,hideFooter:!0,hideToolsOverlay:!0,messagesVerticalAlign:"bottom"},t)})})]})]})})})})}const Yt=f(()=>g(()=>import("./exvk56nhzg96m5ls.js"),__vite__mapDeps([30,1,2,3,4,5,15,16,9,7,8,17,18,19,10,11,20,21,22,23,6]))),Xt=f(()=>g(()=>import("./j2sf81irgshj3zhh.js"),__vite__mapDeps([31,1,2,3,4,5,32,15,16,9,7,8,17,18,19,10,11,20,21,22,23,6,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50])).then(e=>e.ImageEditor));function Jt({clientThreadId:e}){const t=Ws();i.useEffect(()=>{W.close()},[e]);let a;return t?.type===he.ADAVisualization?a=s.jsx(Yt,{clientThreadId:e,visualization:t.visualization}):t?.type===he.Image&&(a=s.jsx(Xt,{clientThreadId:e,messageId:t.messageId,image:t.image,allImages:t.allImages},t.image.asset_pointer)),s.jsx(Qt,{clientThreadId:e,isOpen:t!=null,onClose:W.close,children:a})}const Zt=()=>{const e=F(),t=k(o=>o.activeModals.has(P.KeyboardActions)),a=()=>{v.closeModal(P.KeyboardActions)},n=yt(),r=i.useMemo(()=>{const o=Math.ceil(n.length/2);return[n.slice(0,o),n.slice(o)]},[n]);return s.jsx(U,{isOpen:t,onClose:a,type:"success",size:"custom",className:"md:max-w-[672px] lg:max-w-[796px] xl:max-w-4xl",showCloseButton:!0,title:e.formatMessage(ta.keyboardActionsModalTitle),children:s.jsx(s.Fragment,{children:s.jsx("div",{className:"grid grid-flow-row grid-cols-[repeat(auto-fit,minmax(250px,1fr))] gap-x-9",children:r.map((o,c)=>s.jsx("div",{className:"flex flex-col overflow-hidden",children:o.map(l=>s.jsx(ea,{action:l},l.key))},`col-${c}`))})})})},ea=({action:e})=>s.jsxs("div",{className:"flex items-center justify-between overflow-hidden text-token-text-primary",children:[s.jsx("div",{className:"flex flex-shrink items-center overflow-hidden text-sm",children:s.jsx("div",{className:"truncate",children:s.jsx(b,{...e.actionMessageDescriptor})})}),s.jsx("div",{className:"ml-3 flex flex-row gap-2",children:At(e.keyboardBinding).map((t,a)=>s.jsx(sa,{keyName:t},`${e.key}-${a}`))})]}),sa=({keyName:e})=>{const t=S("my-2 flex h-8 items-center justify-center rounded-md border border-token-border-light capitalize text-token-text-secondary");return e.length>1?e.length>3?s.jsx("div",{className:S(t,"min-w-[50px]"),children:s.jsx("span",{className:"text-xs",children:e})}):s.jsx("div",{className:S(t,"min-w-[32px]"),children:s.jsx("span",{className:"text-xs",children:e})}):s.jsx("div",{className:S(t,"min-w-[32px]"),children:s.jsx("span",{className:"text-sm",children:e})})},ta=z({keyboardActionsModalTitle:{id:"KeyboardActionsModal.keyboardActionsModalTitle",defaultMessage:"Keyboard shortcuts"}}),aa=f(()=>g(()=>import("./cadzdvefxmz87tru.js").then(e=>e.a),__vite__mapDeps([49,1,2,3,4,5,39,7,8,9,19,50,47,10,11,6,48,18,20,21])).then(e=>e.GizmoSidebarList),{ssr:!0});function oa({clientThreadId:e}){const t=ke(),a=ut(e),n=ht(e),{isUnauthenticated:r}=Me(),o=ye();return r?null:s.jsxs("div",{className:S(N.screenContent),children:[s.jsx(Et,{activeId:o?void 0:n}),t?.canInteractWithGizmos()?s.jsx(aa,{currentGizmoId:a}):null]})}function xe({onClick:e,children:t}){return s.jsx(Us,{className:S(N.screenTrailingBar),type:"primary",children:s.jsx("div",{className:S("group flex w-full items-center justify-start"),children:s.jsxs("button",{className:"flex flex-1 select-none items-center rounded-lg py-1 pl-4 text-sm tracking-tight text-token-text-secondary hover:bg-token-sidebar-surface-secondary focus:ring-0",onClick:e,children:[s.jsx(xt,{className:"icon-2xl -ml-3 mr-1 font-semibold text-token-text-secondary"}),t]})})})}function na(){const e=k(B.isGptListVisible),t=k(B.isHistoryShowMoreVisible),a=k(B.isHistoryCollapsed),n=k(B.isGptListCollapsed),r=i.useCallback(()=>{a||v.toggleHistoryCollapsed(),n&&v.toggleGptListCollapsed()},[a,n]),o=[];return!a&&!t&&o.push(s.jsx(xe,{onClick:v.toggleHistoryCollapsed,children:s.jsx(b,{id:"1poXLj",defaultMessage:"See less"})})),e||o.push(s.jsx(xe,{onClick:r,children:s.jsx(b,{id:"DnQZfo",defaultMessage:"See GPTs"})})),o.length?s.jsx(zs,{className:S(N.screenTrailingBarContainer),children:o}):null}function ra({clientThreadId:e,onNewThread:t}){return s.jsx(Ne,{anchor:"top",className:S(N.screen,N.screenProps,"flex-1 border-r border-r-token-border-xlight"),name:"sidebar",leading:s.jsx(Fs,{onNewThread:t}),trackLeading:!0,trailing:s.jsx(na,{}),children:s.jsx(oa,{clientThreadId:e})})}const ia=f(()=>g(()=>import("./k28imoz1xsei49z5.js"),__vite__mapDeps([51,1,2,3,4,5,33,7,8,9,34,15,16,17,18,19,10,11,20,21,22,23,6,35,36,37,38,39,40,41,32,42,43,44,45])).then(e=>e.ChatScreenThreadHeader),{ssr:!0}),ca=f(()=>g(()=>import("./cpudlqcsuad6nsky.js"),__vite__mapDeps([52,1,2,3,33,7,4,5,8,9,34,15,16,17,18,19,10,11,20,21,22,23,6,35,36,37,38,39,40,41,32,42,43,44,45])).then(e=>e.ChatScreenThreadContent),{ssr:!0}),la=f(()=>g(()=>import("./l0fl3wwhwvzc74ql.js"),__vite__mapDeps([53,1,2,3,4,5,33,7,8,9,34,15,16,17,18,19,10,11,20,21,22,23,6,35,36,37,38,39,40,41,32,42,43,44,45])).then(e=>e.ChatScreenThreadFooter),{ssr:!0});function da({clientThreadId:e,onThreadCreated:t,onCompletionFinished:a,preRequestCompletion:n}){const r=Lt(),o=Ot(e)??r.id,c=mt(e),{onRequestCompletion:l,onChangeItemInView:h,onChangeRating:d,onRequestMoreCompletions:p}=St({clientThreadId:e,currentModelId:o,defaultModelId:r.id,onCompletionFinished:a,onThreadCreated:t,preRequestCompletion:n});return s.jsx(Bt,{clientThreadId:e,currentLeafId:c,children:s.jsx(Ye.Provider,{value:l,children:s.jsx(Ne,{anchor:"top",className:Xe.screen,name:"thread",leading:s.jsx(ia,{clientThreadId:e}),trackLeading:!0,trackTrailing:!0,trailing:s.jsx(la,{clientThreadId:e,onRequestCompletion:l}),children:s.jsx(ca,{clientThreadId:e,conversationLeafId:c,currentModelId:o,onRequestCompletion:l,onChangeItemInView:h,onChangeRating:d,onRequestMoreCompletions:p})})})})}const ua=f(()=>g(()=>import("./m3ze40h781g0y15f.js"),__vite__mapDeps([12,1,2,3,4,5,13,14,15,16,9,7,8,17,18,19,10,11,20,21,22,23,6,24,25,26,27,28,29])).then(e=>e.CanvasFocusedViewManager));function ha({clientThreadId:e,setClientThreadId:t,urlThreadId:a}){Be({clientThreadId:e});const{createNewThread:n,onThreadCreated:r,resetThread:o}=De({clientThreadId:e,setClientThreadId:t});Le({resetThreadAction:o,clientThreadId:e});const c=K(e);return s.jsxs(Ae,{clientThreadId:e,children:[s.jsx(_e,{clientThreadId:e,urlThreadId:a}),s.jsx(Ee,{}),s.jsx(Ks,{className:Je.application,sidebar:s.jsx(ra,{clientThreadId:e,onNewThread:n}),thread:s.jsx(da,{clientThreadId:e,onThreadCreated:r}),details:c&&s.jsx(ua,{clientThreadId:e}),debugger:s.jsx(Pe,{clientThreadId:e})})]})}var ma={};const fa=f(()=>g(()=>import("./yechzddseyrfo0v9.js"),__vite__mapDeps([54,1,2,3,4,5,15,16,9,7,8,17,18,19,10,11,20,21,22,23,6,55]))),ga=f(()=>g(()=>import("./dmn58qwgournpsh0.js"),__vite__mapDeps([56,1,2,3,8,4,5,9,57,58,7,59,16])).then(e=>e.SearchResultsModal));function Oa(e){const{urlThreadId:t,clientThreadId:a,prefetchSearch:n}=e,r="serviceStatus"in e?e.serviceStatus:null;Ca();const o=ye(),c=le(),[l]=Ze(),h=Ce(),[d,p]=i.useState(()=>t!==void 0?t:a!==void 0?a:H());t!==void 0&&d!==t&&I.getServerThreadId(d)!==t&&p(t);const M=$s(le());i.useEffect(()=>{t===void 0&&I.getServerThreadId(d)!==void 0&&p(H())},[t,d,M]);const _=qs(),T=D($.workspaceId),y=Qs();K(d);const L=Ys(),{eligible:m,isLoading:j,markAsViewed:x}=Xs();i.useEffect(()=>{(c.pathname==="/"||c.pathname.startsWith("/c/"))&&Js({namespace:me.ChatPageLoad})==null&&(Zs({namespace:me.ChatPageLoad,opts:{expectedTimingLogs:[{name:"render_model_switcher",expectedInMs:1e4},{name:"render_history_items",expectedInMs:25e3}]}}),be.addTiming("chatgpt.web.chatPage.mounted"))},[]);const E=et();i.useEffect(()=>{es(!0).then(C=>{C.force_login&&E({authType:"login"}),ss.initializeAndGatherData(C),st.initializeAndGatherData(C),ts.initializeAndGatherData(C)})},[E]),i.useEffect(()=>{r?.type&&_===!1&&h.warning(r.message,{hasCloseButton:!0,duration:5})},[_,r?.message,r?.type,h]),i.useEffect(()=>{const C=l.get(tt)==="true";o!==C&&as.setIsTemporaryChatEnabled(C)},[o,l]),i.useEffect(()=>{c.state?.focusObject&&W.setFocusedObject(c.state.focusObject)},[c.state?.focusObject]),i.useEffect(()=>{!j&&m&&y&&(x(),at(y))},[m,j,x,y]);const O=L?ha:$t;return s.jsx(os.Provider,{value:null,children:s.jsx(ot,{children:s.jsxs(nt,{clientThreadId:d,children:[s.jsx(Ut,{},T),s.jsx(Zt,{}),s.jsx(rt,{}),s.jsx(O,{urlThreadId:t,clientThreadId:d,setClientThreadId:p,prefetchSearch:n}),s.jsx(Jt,{clientThreadId:d}),s.jsx(xa,{clientThreadId:d}),s.jsx(it,{clientThreadId:d}),s.jsx(pa,{}),!1,s.jsx(ct,{}),s.jsx(lt,{})]})})})}function pa(){const e=k(t=>t.sharingModalThreadId);return e?s.jsx(fa,{serverThreadId:e}):null}function xa({clientThreadId:e}){return Dt()&&s.jsx(ga,{clientThreadId:e})}function Ca(){ns({queryKey:["pingEdge"],queryFn:()=>rs.pingEdge(),enabled:!0,staleTime:1/0})}typeof window<"u"&&(window._g=ma.GOKU_SERVICE);export{Oa as C,qt as F};
//# sourceMappingURL=b7g7vzm1e0nq6y8w.js.map
