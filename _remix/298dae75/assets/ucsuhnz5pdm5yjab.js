const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/g24wouv65pduthzi.js","assets/oee7i5r8ijmn1tdg.js","assets/f2inmqlbtoczvhek.js","assets/root-clozo42r.css","assets/gi106u69uoz82g5o.js","assets/conversation-small-ogafjggy.css","assets/omxlgelbri3m7ure.js","assets/c6d4td7prifwq95v.js","assets/bgp9y7d45g2z8pgo.js","assets/k2crnwv3i5iv0rm1.js","assets/b3uzntbkekuwtfz5.js","assets/nl9xd6prt79325d8.js","assets/dfopw6nng9o0fjvg.js","assets/bum482of9yjtp1x9.js","assets/nj8ivj9m1k7j73oe.js","assets/j2839bdtxm3s295f.js","assets/czc78ntp7lxbwobe.js","assets/jn1f9x6cs6bf4bm7.js","assets/g69fsvy6dz9oy2ih.js","assets/lg4zrpvt59dz7t5n.js","assets/bozp2hv7k58zd0lq.js","assets/bnfj7uaz5twrdu2q.js","assets/k9y2oj5l4hsorpoc.js","assets/hu7i3oo2bmxfqxd9.js","assets/c5j4waken8l3vu5u.js","assets/oxw30lx6q94bwcx3.js","assets/e8asnhdm3miha7or.js","assets/hjracnxmlw8cqx37.js","assets/hiue4pb4apntjm2n.js","assets/bwg2wztu3pm6vbu9.js","assets/7i2ixdw64k3sgvnn.js","assets/n035f2ghkw4bdmkr.js","assets/kx42mvmycp9rautg.js","assets/j9ky4ezpuc3w1mpa.js","assets/uplgu51l7gsknmto.js","assets/cjkjz46b4og7nx7m.js","assets/bxko9g5jccavp8x7.js","assets/odrhxvxyx30ri9t3.js","assets/o7ljm7qlrjsjnmgp.js","assets/msyupdh5n562xma1.js","assets/h82nnk2j5i09dgoa.js","assets/i84m6j1umyy8q66z.js","assets/nyfqorh8xq589gjo.js","assets/6t76fgzek7luxfks.js","assets/ggldpq0ktoz02wfo.js","assets/mrprthwdefjvggnb.js","assets/gy07krm4vyp3fth3.js","assets/o5uncaf2d0kzqdoy.js","assets/m0ovrka6pgx8j083.js","assets/mbbbj87h6aw2r9f1.js","assets/irjcpuyp1ykf0l45.js","assets/d2uy7pjs38u57qa3.js","assets/cpnntbr6b6c333kt.js","assets/epeomdg7pdl2yoal.js","assets/bhi3vfm3oreavll3.js","assets/kqwdyvkaaavvn8k3.js","assets/hcfys976kq0u0ntv.js","assets/hyb3ahnt9zouu8n8.js"])))=>i.map(i=>d[i]);
import{a2 as Le,W as F,aK as xe,aJ as De,r,l as s,a0 as w,D as Ce,bd as ne,a1 as H,aD as M,aE as S,aN as be,c0 as Be,b$ as Ie,bZ as Re,bf as Ve,aA as Ge,X as Me,Y as We,a as Se,ap as re,aH as ie,bD as Fe,dM as G,fh as He,f6 as ze,m as x,Q as Ke,cn as ke,d5 as E,fm as Ue,a9 as ce,bi as $e,c_ as qe,c$ as Qe,d0 as Ye,c8 as Xe,b0 as Je,u as Ze,j as es}from"./oee7i5r8ijmn1tdg.js";import{u as ss,f as z,T as je}from"./g69fsvy6dz9oy2ih.js";import{u as as,h0 as ts,h1 as ve,h2 as os,S as ns,h3 as rs,h4 as is,h5 as cs,h6 as ls,h7 as ds,bL as B,h8 as us,h9 as hs,ha as fs,hb as ms,hc as gs,e6 as ps,hd as xs,he as Cs,hf as bs,hg as Ms,hh as Ss,hi as ks,hj as js,hk as vs,hl as ys,hm as As,hn as ws,ho as _s,hp as Ts,hq as Ps,hr as Es,hs as Ns,ht as Os,aK as k,aB as P,V as j,cf as K,hu as Ls,hv as Ds,eB as le,ct as Bs,hw as ye,hx as Ae,hy as we,ag as Is,hz as Rs,gS as de,fM as Vs,c3 as W,c4 as ue,cK as Gs,hA as Ws,el as D,hB as Fs,dm as Hs,hC as zs,hD as Ks,cR as Us,ax as $s,aM as qs,hE as Qs,em as Ys,en as he,hF as Xs,v as Js,ci as Zs,hG as ea,hH as sa,cj as aa,d7 as ta,hI as oa,d8 as na,hJ as ra,hK as ia}from"./gi106u69uoz82g5o.js";import{T as I,c as ca,m as la,d as da}from"./bgp9y7d45g2z8pgo.js";import{a as ua}from"./b3uzntbkekuwtfz5.js";import{L as ha}from"./nl9xd6prt79325d8.js";import{S as fe,b as fa,c as ma,N as ga}from"./j9ky4ezpuc3w1mpa.js";import{u as _e,a as pa,g as xa}from"./bxko9g5jccavp8x7.js";import{S as Ca,C as ba,H as Ma}from"./odrhxvxyx30ri9t3.js";import{b as Sa,f as ka,a as Te}from"./h82nnk2j5i09dgoa.js";import{u as ja,q as va}from"./j2839bdtxm3s295f.js";import{K as ya}from"./c6d4td7prifwq95v.js";import{m as me}from"./k2crnwv3i5iv0rm1.js";import{W as Aa}from"./f2inmqlbtoczvhek.js";import{C as wa}from"./d2uy7pjs38u57qa3.js";import{b as _a}from"./czc78ntp7lxbwobe.js";function Ta({onClose:e}){const a=F(),t=xe(),{openSettings:n}=as(),i=ts(),{session:o}=De(),{data:{isStorageComplianceEnabled:l}={}}=ve(),{data:d,isLoading:f}=os({enabled:!!(l&&o),select:c=>!c.cookie_consent.is_required});return r.useEffect(()=>{d===!0&&e()},[d,e]),f?null:s.jsx(Pa,{onReject:()=>{i.mutateAsync({analytics_cookies_accepted:!1},{onSuccess(){t.success(a.formatMessage(A.updateSuccess))},onError(){t.danger(a.formatMessage(A.updateFailure))}}),e()},onAccept:()=>{i.mutateAsync({analytics_cookies_accepted:!0},{onSuccess(){t.success(a.formatMessage(A.updateSuccess))},onError(){t.danger(a.formatMessage(A.updateFailure))}}),e()},children:s.jsx(w,{id:"CookieConsentBanner.authedDescription.0",defaultMessage:"We use cookies and similar technologies to deliver, maintain, improve our services and for security purposes. Check our <cookiePolicy>cookie policy</cookiePolicy> for details. Click 'Accept all' to let OpenAI and partners use cookies for these purposes. Click 'Reject all' to say no to cookies, except those that are strictly necessary. Choose <manageLink>manage cookies</manageLink> to change your preferences.",values:{cookiePolicy:c=>s.jsx(ha,{href:"https://openai.com/policies/cookie-policy",openNewTab:!0,children:c}),manageLink:c=>s.jsx(Ea,{onClick:()=>{n(ns.DataControls)},children:c})}})})}function Pa({children:e,onAccept:a,onReject:t}){return r.useEffect(()=>{Ce.addAction("privacy_policy.show_cookie_consent_banner")},[]),s.jsxs(rs,{children:[s.jsxs(is,{className:"text-sm font-semibold [grid-area:_title]",children:[e,s.jsxs("div",{className:"mt-2 flex justify-end gap-3",children:[s.jsx(ne,{color:"secondary",size:"small",onClick:t,children:s.jsx(w,{...A.reject})}),s.jsx(ne,{color:"secondary",size:"small",onClick:a,children:s.jsx(w,{...A.accept})})]})]}),s.jsx(cs,{})]})}const Ea=Le.button`underline font-normal text-green-600`,A=H({cookieConsentBannerTitle:{id:"CookieConsentBanner.title",defaultMessage:"We use cookies to provide, improve, and protect our services. Visit our <privacyPolicyLink>privacy policy</privacyPolicyLink> to learn more. You can manage your cookie preferences in your <settingsPanel>settings panel</settingsPanel>. <learnMoreLink>Learn more</learnMoreLink>."},reject:{id:"CookieConsentBanner.reject",defaultMessage:"Reject all"},accept:{id:"CookieConsentBanner.accept",defaultMessage:"Accept all"},updateSuccess:{id:"CookieConsentBanner.updateSuccess",defaultMessage:"Your cookie preferences were updated successfully"},updateFailure:{id:"CookieConsentBanner.updateFailure",defaultMessage:"Unable to update cookie preferences. Try again later."}}),Na=M(()=>S(async()=>{const{ModelOnboardingNUXModal:e}=await import("./g24wouv65pduthzi.js");return{ModelOnboardingNUXModal:e}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11])).then(({ModelOnboardingNUXModal:e})=>e),{ssr:!1}),Oa=({onClose:e})=>{const a=F(),t=B(K.isBusinessWorkspace),n=B(o=>o.currentWorkspace),i=t?a.formatMessage(ge.workspaceWelcome,{workspaceName:n?.name}):"ChatGPT";return s.jsx(Me,{isOpen:!0,onClose:We,type:"success",title:i,size:"custom",noPadding:!0,className:"max-w-3xl",description:a.formatMessage(ge.personalOnboardingSubheading),children:s.jsx(Ls,{onClose:e,scope:Ds.Personal})})};function La(){const[e,a]=r.useState(0),{hasSeenOnboardingDate:t}=ls(),{hasSeenTeamOwnerOnboardingDate:n}=ds(),i=B(K.isBusinessWorkspace),o=be(),[l,d]=r.useState(!1),{data:f,isPending:c}=ve(),C=us(f,c),{eligible:p,isLoading:_}=ua(),N=Be(),v=Ie(),O=Re(),{data:h,isError:b}=Ve(),m=h!=null,T=h&&h?.accountItems.length>1&&h.currentAccountId==null,L=h?.accountItems.some(u=>u.isPersonalAccount()),g=!!h?.accountItems&&h.accountItems.length>0&&h.accountItems.every(({canAccessWithCurrentSession:u})=>!u),{eligible:U,isLoading:$}=hs(),{value:q}=Ge("1542198993"),{punchOutRequireLoginInfo:Q}=fs(),{state:Y}=ms(),{isOpen:X,isLoading:J}=gs(),{isOpen:Z,isLoading:ee}=ps(),{isOpen:se,isLoading:ae}=xs(),{state:te}=Cs(),y=r.useMemo(()=>[{Component:bs,getModalState:()=>Q?"show":"hide",isDeferrable:!1},{Component:Ms,getModalState:()=>Y,isDeferrable:!1},{Component:Ss,getModalState:()=>te,isDeferrable:!1},{Component:ks,getModalState:()=>J?"loading":X?"show":"hide",isDeferrable:!1},{Component:js,getModalState:()=>ae?"loading":se?"show":"hide",isDeferrable:!1},{Component:Oa,getModalState:()=>i?"hide":t===null?"loading":t===!1?"show":"hide",isDeferrable:!0},{Component:vs,getModalState:()=>b?"hide":T?"show":m?"hide":"loading",isDeferrable:!1},{Component:ys,getModalState:()=>N!==null?"show":b||m?"hide":"loading",isDeferrable:!1},{Component:As,getModalState:()=>v!==null?"show":b||m?"hide":"loading",isDeferrable:!1},{Component:ws,getModalState:()=>O!=null?"show":b||m?"hide":"loading",isDeferrable:!1},{Component:_s,getModalState:()=>m?g?"show":"hide":"loading",isDeferrable:!1},{Component:Ts,getModalState:()=>ee?"loading":Z?"show":"hide",isDeferrable:!1},{Component:Ta,getModalState:()=>"hide",isDeferrable:!1},{Component:Ps,getModalState:()=>!o?.isTeam()||!o?.isOwnerOfAccount()||!L?"hide":!m||n===null?"loading":n===!1?"show":"hide",isDeferrable:!1},{Component:Es,getModalState:()=>i?t===null?"loading":t===!1?"show":"hide":"hide",isDeferrable:!0},{Component:Ns,getModalState:()=>$?"loading":U&&q?"show":"hide",isDeferrable:!1},{Component:Os,getModalState:()=>C,isDeferrable:!1},{Component:Na,getModalState:()=>_?"loading":p?"show":"hide",isDeferrable:!0,expiresAt:new Date(2024,7,13)}].filter(u=>!(u.isDeferrable&&l)&&(!u.expiresAt||u.expiresAt.getTime()>Date.now())),[Q,Y,O,m,t,n,L,_,i,b,N,v,o,g,T,C,p,l,q,U,$,X,J,se,ae,te,ee,Z]);r.useEffect(()=>{if(y[e]&&y[e].getModalState()==="hide"){const u=y.findIndex(Oe=>Oe.getModalState()!=="hide");a(u)}},[e,y]);const R=y[e],V=R?.getModalState()==="show";if(r.useEffect(()=>{const u=k.getState().activeModals.has(P.BlockingInitialComponent);V!==u&&(V?j.openModal(P.BlockingInitialComponent):j.closeModal(P.BlockingInitialComponent))},[V]),R==null)return s.jsx("span",{"data-testid":"blocking-initial-modals-done",className:"hidden"});const oe=R.getModalState();if(oe==="loading")return null;oe==="hide"&&a(u=>u+1);const Ne=y[e].Component;return s.jsx(Ne,{onClose:()=>{d(!0),a(u=>u+1)}})}const ge=H({workspaceWelcome:{id:"BlockingInitialModals.workspaceWelcome",defaultMessage:"Welcome to the {workspaceName} workspace"},personalOnboardingSubheading:{id:"BlockingInitialModals.personalOnboardingSubheading",defaultMessage:"Tips for getting started"}});function Pe({clientThreadId:e}){r.useEffect(()=>{j.closeSharingModal()},[e]);const a=Se();r.useEffect(()=>(I.retainThread(e),()=>{setTimeout(()=>{a.invalidateQueries({queryKey:["conversation",e]})},0),I.releaseThread(e)}),[e,a]),r.useEffect(()=>()=>{re.checkGate("3922476776")||le.abortAllRequests()},[e]);const t=r.useRef(e);r.useEffect(()=>{e!==t.current&&(re.checkGate("3922476776")||le.clear(),t.current=e)},[e])}function Ee({clientThreadId:e,setClientThreadId:a}){const t=Se(),n=Bs(),i=n?{kind:ie.GizmoInteraction,gizmo_id:n}:{kind:ie.PrimaryAssistant};ja(e,i);const o=Fe(),l=ya(e),d=r.useRef(l);d.current=l;const f=r.useCallback(()=>{a(G());const p=d.current;o(p.tags.includes(He.GPT_4)?"/":`/?model=${p.id}`,{replace:!0})},[a,o]),c=ss({clientThreadId:e,location:"Model switcher menu item"}),C=r.useCallback(p=>{va(o,t,p)},[t,o]);return{createNewThread:c,onThreadCreated:C,resetThread:f}}const Da=M(()=>S(()=>import("./dfopw6nng9o0fjvg.js"),__vite__mapDeps([12,1,2,3,4,5,13,14,15,16,9,7,8,17,18,19,10,11,20,21,22,23,6,24,25,26,27,28,29])).then(e=>e.CanvasFocusedViewManager));function Ba({clientThreadId:e,setClientThreadId:a,urlThreadId:t,prefetchSearch:n}){const i=ca();Pe({clientThreadId:e});const{createNewThread:o,onThreadCreated:l,resetThread:d}=Ee({clientThreadId:e,setClientThreadId:a});_e({resetThreadAction:d,clientThreadId:e});const f=z(e);return s.jsxs(je,{clientThreadId:e,children:[s.jsx(ye,{clientThreadId:e,urlThreadId:t}),s.jsxs(fe,{hideNavigation:i,mobileHeaderContent:s.jsx(Sa,{clientThreadId:e,inMobileHeader:!0}),mobileHeaderBottomContent:s.jsx(ka,{clientThreadId:e}),mobileHeaderLeftContent:s.jsx(fa,{onNewChatButtonClick:d}),mobileHeaderRightContent:s.jsx(ma,{onNewChatButtonClick:d}),sidebar:s.jsx(ga,{navHeader:e?s.jsx(Ca,{className:"flex h-[60px] items-center md:h-header-height",onNewThread:o}):null,children:s.jsx(ba,{clientThreadId:e,onNewThread:o})}),children:[s.jsx(Ae,{}),s.jsx(Te,{clientThreadId:e,onCreate:l,prefetchSearch:n},e),s.jsxs(fe.Sidebars,{children:[f&&s.jsx(Da,{clientThreadId:e}),s.jsx(we,{clientThreadId:e})]})]})]})}const Ia=450;function Ra({children:e,clientThreadId:a,isOpen:t,onClose:n}){return s.jsx(Is,{children:t&&s.jsx(ze,{children:s.jsx(Rs.Provider,{value:{isEmbeddedInFocusedView:!0},children:s.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[s.jsx(me.div,{className:"h-full w-full bg-token-main-surface-secondary",...de}),s.jsxs("div",{className:"absolute inset-0 flex",children:[s.jsx("div",{className:"flex-grow overflow-auto",children:e}),s.jsx(me.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:Ia},...de,children:s.jsx("div",{className:"h-[100vh] pb-4",children:s.jsx(Te,{clientThreadId:a,hideHeader:!0,hideFooter:!0,hideToolsOverlay:!0,messagesVerticalAlign:"bottom"},a)})})]})]})})})})}const Va=M(()=>S(()=>import("./7i2ixdw64k3sgvnn.js"),__vite__mapDeps([30,1,2,3,4,5,15,16,9,7,8,17,18,19,10,11,20,21,22,23,6]))),Ga=M(()=>S(()=>import("./n035f2ghkw4bdmkr.js"),__vite__mapDeps([31,1,2,3,4,5,32,15,16,9,7,8,17,18,19,10,11,20,21,22,23,6,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51])).then(e=>e.ImageEditor));function Wa({clientThreadId:e}){const a=Vs();r.useEffect(()=>{W.close()},[e]);let t;return a?.type===ue.ADAVisualization?t=s.jsx(Va,{clientThreadId:e,visualization:a.visualization}):a?.type===ue.Image&&(t=s.jsx(Ga,{clientThreadId:e,messageId:a.messageId,image:a.image,allImages:a.allImages},a.image.asset_pointer)),s.jsx(Ra,{clientThreadId:e,isOpen:a!=null,onClose:W.close,children:t})}const Fa=()=>{const e=F(),a=k(o=>o.activeModals.has(P.KeyboardActions)),t=()=>{j.closeModal(P.KeyboardActions)},n=pa(),i=r.useMemo(()=>{const o=Math.ceil(n.length/2);return[n.slice(0,o),n.slice(o)]},[n]);return s.jsx(Me,{isOpen:a,onClose:t,type:"success",size:"custom",className:"md:max-w-[672px] lg:max-w-[796px] xl:max-w-4xl",showCloseButton:!0,title:e.formatMessage(Ka.keyboardActionsModalTitle),children:s.jsx(s.Fragment,{children:s.jsx("div",{className:"grid grid-flow-row grid-cols-[repeat(auto-fit,minmax(250px,1fr))] gap-x-9",children:i.map((o,l)=>s.jsx("div",{className:"flex flex-col overflow-hidden",children:o.map(d=>s.jsx(Ha,{action:d},d.key))},`col-${l}`))})})})},Ha=({action:e})=>s.jsxs("div",{className:"flex items-center justify-between overflow-hidden text-token-text-primary",children:[s.jsx("div",{className:"flex flex-shrink items-center overflow-hidden text-sm",children:s.jsx("div",{className:"truncate",children:s.jsx(w,{...e.actionMessageDescriptor})})}),s.jsx("div",{className:"ml-3 flex flex-row gap-2",children:xa(e.keyboardBinding).map((a,t)=>s.jsx(za,{keyName:a},`${e.key}-${t}`))})]}),za=({keyName:e})=>{const a=x("my-2 flex h-8 items-center justify-center rounded-md border border-token-border-light capitalize text-token-text-secondary");return e.length>1?e.length>3?s.jsx("div",{className:x(a,"min-w-[50px]"),children:s.jsx("span",{className:"text-xs",children:e})}):s.jsx("div",{className:x(a,"min-w-[32px]"),children:s.jsx("span",{className:"text-xs",children:e})}):s.jsx("div",{className:x(a,"min-w-[32px]"),children:s.jsx("span",{className:"text-sm",children:e})})},Ka=H({keyboardActionsModalTitle:{id:"KeyboardActionsModal.keyboardActionsModalTitle",defaultMessage:"Keyboard shortcuts"}}),Ua=M(()=>S(()=>import("./odrhxvxyx30ri9t3.js").then(e=>e.a),__vite__mapDeps([37,1,2,3,4,5,38,7,8,9,19,39,34,10,11,6,36,18,20,21])).then(e=>e.GizmoSidebarList),{ssr:!0});function $a({clientThreadId:e}){const a=be(),t=la(e),n=da(e),{isUnauthenticated:i}=Ke(),o=ke();return i?null:s.jsxs("div",{className:x(E.screenContent),children:[s.jsx(Ma,{activeId:o?void 0:n}),a?.canInteractWithGizmos()?s.jsx(Ua,{currentGizmoId:t}):null]})}function pe({onClick:e,children:a}){return s.jsx(Hs,{className:x(E.screenTrailingBar),type:"primary",children:s.jsx("div",{className:x("group flex w-full items-center justify-start"),children:s.jsxs("button",{className:"flex flex-1 select-none items-center rounded-lg py-1 pl-4 text-sm tracking-tight text-token-text-secondary hover:bg-token-sidebar-surface-secondary focus:ring-0",onClick:e,children:[s.jsx(Aa,{className:"icon-2xl -ml-3 mr-1 font-semibold text-token-text-secondary"}),a]})})})}function qa(){const e=k(D.isGptListVisible),a=k(D.isHistoryShowMoreVisible),t=k(D.isHistoryCollapsed),n=k(D.isGptListCollapsed),i=r.useCallback(()=>{t||j.toggleHistoryCollapsed(),n&&j.toggleGptListCollapsed()},[t,n]),o=[];return!t&&!a&&o.push(s.jsx(pe,{onClick:j.toggleHistoryCollapsed,children:s.jsx(w,{id:"1poXLj",defaultMessage:"See less"})})),e||o.push(s.jsx(pe,{onClick:i,children:s.jsx(w,{id:"DnQZfo",defaultMessage:"See GPTs"})})),o.length?s.jsx(Fs,{className:x(E.screenTrailingBarContainer),children:o}):null}function Qa({clientThreadId:e,onNewThread:a}){return s.jsx(Gs,{anchor:"top",className:x(E.screen,E.screenProps,"flex-1 border-r border-r-token-border-xlight"),name:"sidebar",leading:s.jsx(Ws,{onNewThread:a}),trackLeading:!0,trailing:s.jsx(qa,{}),children:s.jsx($a,{clientThreadId:e})})}const Ya=M(()=>S(()=>import("./dfopw6nng9o0fjvg.js"),__vite__mapDeps([12,1,2,3,4,5,13,14,15,16,9,7,8,17,18,19,10,11,20,21,22,23,6,24,25,26,27,28,29])).then(e=>e.CanvasFocusedViewManager));function Xa({clientThreadId:e,setClientThreadId:a,urlThreadId:t}){Pe({clientThreadId:e});const{createNewThread:n,onThreadCreated:i,resetThread:o}=Ee({clientThreadId:e,setClientThreadId:a});_e({resetThreadAction:o,clientThreadId:e});const l=z(e);return s.jsxs(je,{clientThreadId:e,children:[s.jsx(ye,{clientThreadId:e,urlThreadId:t}),s.jsx(Ae,{}),s.jsx(zs,{className:Ue.application,sidebar:s.jsx(Qa,{clientThreadId:e,onNewThread:n}),thread:s.jsx(wa,{clientThreadId:e,onNewThread:n,onThreadCreated:i}),details:l&&s.jsx(Ya,{clientThreadId:e}),debugger:s.jsx(we,{clientThreadId:e})})]})}var Ja={};const Za=M(()=>S(()=>import("./cpnntbr6b6c333kt.js"),__vite__mapDeps([52,1,2,3,4,5,15,16,9,7,8,17,18,19,10,11,20,21,22,23,6,53]))),et=M(()=>S(()=>import("./bhi3vfm3oreavll3.js"),__vite__mapDeps([54,1,2,3,8,4,5,9,55,56,7,57,16])).then(e=>e.SearchResultsModal));function Mt(e){const{urlThreadId:a,clientThreadId:t,prefetchSearch:n}=e,i="serviceStatus"in e?e.serviceStatus:null;tt();const o=ke(),l=ce(),[d]=$e(),f=xe(),[c,C]=r.useState(()=>a!==void 0?a:t!==void 0?t:G());a!==void 0&&c!==a&&I.getServerThreadId(c)!==a&&C(a);const p=Ks(ce());r.useEffect(()=>{a===void 0&&I.getServerThreadId(c)!==void 0&&C(G())},[a,c,p]);const _=Us(),N=B(K.workspaceId),v=$s();z(c);const O=qs(),{eligible:h,isLoading:b,markAsViewed:m}=Qs();r.useEffect(()=>{(l.pathname==="/"||l.pathname.startsWith("/c/"))&&Ys({namespace:he.ChatPageLoad})==null&&(Xs({namespace:he.ChatPageLoad,opts:{expectedTimingLogs:[{name:"render_model_switcher",expectedInMs:1e4},{name:"render_history_items",expectedInMs:25e3}]}}),Ce.addTiming("chatgpt.web.chatPage.mounted"))},[]);const T=Js();r.useEffect(()=>{qe(!0).then(g=>{g.force_login&&T({authType:"login"}),Qe.initializeAndGatherData(g),Zs.initializeAndGatherData(g),Ye.initializeAndGatherData(g)})},[T]),r.useEffect(()=>{i?.type&&_===!1&&f.warning(i.message,{hasCloseButton:!0,duration:5})},[_,i?.message,i?.type,f]),r.useEffect(()=>{const g=d.get(ea)==="true";o!==g&&Xe.setIsTemporaryChatEnabled(g)},[o,d]),r.useEffect(()=>{l.state?.focusObject&&W.setFocusedObject(l.state.focusObject)},[l.state?.focusObject]),r.useEffect(()=>{!b&&h&&v&&(m(),sa(v))},[h,b,m,v]);const L=O?Xa:Ba;return s.jsx(Je.Provider,{value:null,children:s.jsx(aa,{children:s.jsxs(ta,{clientThreadId:c,children:[s.jsx(La,{},N),s.jsx(Fa,{}),s.jsx(oa,{}),s.jsx(L,{urlThreadId:a,clientThreadId:c,setClientThreadId:C,prefetchSearch:n}),s.jsx(Wa,{clientThreadId:c}),s.jsx(at,{clientThreadId:c}),s.jsx(na,{clientThreadId:c}),s.jsx(st,{}),!1,s.jsx(ra,{}),s.jsx(ia,{})]})})})}function st(){const e=k(a=>a.sharingModalThreadId);return e?s.jsx(Za,{serverThreadId:e}):null}function at({clientThreadId:e}){return _a()&&s.jsx(et,{clientThreadId:e})}function tt(){Ze({queryKey:["pingEdge"],queryFn:()=>es.pingEdge(),enabled:!0,staleTime:1/0})}typeof window<"u"&&(window._g=Ja.GOKU_SERVICE);export{Mt as C,Ia as F};
//# sourceMappingURL=ucsuhnz5pdm5yjab.js.map
