import{j as e,e as g,Z as C,r as m,M as v}from"./nqo5y2f0dorhrqsr.js";import{fJ as T,dL as I,d4 as b,dW as p,bb as N,at as y,f6 as x,fK as E,u as P,d6 as u,ai as M,ci as z,cC as w}from"./e7jigg4ogqyss6p0.js";import{C as k}from"./oaif6zax1jcs0ezz.js";import{c4 as L,c5 as H,c6 as j,c7 as F,c8 as G,c9 as O,ca as f,cb as Q,cc as U,cd as A,ce as D,J as q,b as J,b8 as K,cf as R,cg as W,ch as Z,D as V,ci as _}from"./m9u7tvp4fdkjlbbg.js";import{C as B}from"./f1yov5wd3o4c1atl.js";import{u as X,a as Y}from"./dgv7vmoerxuqt7rm.js";import $ from"./h48vkk6r5sbwlzsx.js";import{u as ee,C as ae,b as se,c as re}from"./bwaku6x0c7y7e967.js";import{C as te}from"./hj4iwy9x0s4trikm.js";import"./dcukrvpfibz9e76k.js";import"./o12dj3663zn6znt4.js";import"./exnhnj0rumla0m15.js";import"./fd0bf5warjs3lrpn.js";import"./mav83crfduvkg85m.js";import"./hqb2wjg1l1ms09xu.js";import"./9oupozacv7fsqa3n.js";import"./bfidd8ids3yglq3h.js";import"./eg6h17gp6trbjn4o.js";function ne(){const{clientThreadId:a,currentModelId:t,conversationLeafId:s,onRequestCompletion:c}=X(),{showEmptyState:l}=ee({clientThreadId:a,currentLeafId:s}),h=L()[t],n=T(a),d=H(),r=I(),i=b()??"",o=j({gizmoId:i,draft:!1}),S=p();return e.jsx(N.Provider,{value:c,children:e.jsx(F,{children:e.jsxs(G,{clientThreadId:a,currentLeafId:s,children:[e.jsx(O,{children:n!=null&&e.jsx("title",{children:n})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(f,{id:"canvas-state",name:"canvas-state",checked:d}),e.jsx(f,{id:"thread-extended-info-sidebar-state",name:"thread-extended-info-sidebar-state",checked:r}),e.jsx(Q,{anchor:"vertical",className:y(x.screen,l&&x.screenEmptyState),name:"thread",leading:S?e.jsx(ae,{}):e.jsx(se,{clientThreadId:a}),trackLeading:!0,children:o.data&&e.jsx("div",{className:"flex h-full w-full",children:e.jsx("div",{className:"max-h-[100cqh] flex-grow overflow-y-auto",children:e.jsx("div",{className:"mx-auto max-w-screen-md",children:e.jsx(U,{clientThreadId:a,currentModelConfig:h,children:e.jsx(re,{})})})})})}),e.jsx(te,{}),e.jsx(A,{})]})]})})})}function ie(){const a=_(t=>t.sharingModalThreadId);return a?e.jsx($,{serverThreadId:a}):null}function Ne(){const a=g(),{gizmoSlug:t}=C(),s=E(t??""),c=j({gizmoId:s,draft:!1}),{isPending:l}=D(s),h=p(),{isLoading:n}=P("491279851"),d=q();m.useEffect(()=>{!n&&!d&&a("/")},[n,d,a]);const[r,i]=m.useState(()=>u());J(r,{kind:M.GizmoInteraction,gizmo_id:s}),m.useEffect(()=>{i(u())},[s]);let o=e.jsx("div",{className:"flex h-full w-full",children:e.jsx("div",{className:"m-auto",children:e.jsxs("div",{className:"flex justify-center",children:[e.jsx("span",{className:"sr-only","aria-busy":!0,role:"status","aria-live":"polite",children:e.jsx(v,{...K.loadingProjects})}),e.jsx(z,{className:"h-10 w-10 text-token-text-secondary"})]})})});return c.data&&!l&&(o=e.jsx(ne,{})),e.jsx(R,{children:e.jsx(Y,{clientThreadId:r,setClientThreadId:i,children:h?e.jsx(W,{children:e.jsx(Z,{className:w.application,sidebar:e.jsx(B,{}),thread:o,debugger:e.jsx(V,{clientThreadId:r})})}):e.jsxs(e.Fragment,{children:[e.jsx(k,{clientThreadId:r,setClientThreadId:i,threadContent:o}),e.jsx(ie,{})]})})})}export{Ne as default};
//# sourceMappingURL=ffttq5t4a5hlr1i0.js.map
