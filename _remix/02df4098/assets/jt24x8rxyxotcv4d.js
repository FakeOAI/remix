import{g as A,hi as T,r,bJ as V,m as a,aE as c,L as B,b5 as Z}from"./dkrkpapzk8i632go.js";import{hO as $,hP as F,l as R,m as W,b7 as _,hQ as D}from"./fnh1ee9l40s79ybh.js";import{g as G,s as J}from"./fyiicr2pxo20g0xa.js";import{D as K}from"./gus5ys87ebe3yyy0.js";import{T as Q}from"./e1wzapvpha769duj.js";import{c as U,bv as q}from"./fow2c4yq3c8klomi.js";import{P as E}from"./kdmay48w4tjzal97.js";import{_ as X}from"./isjdmfmhzv09v01t.js";import{m as p}from"./ey5apunl1vnvf9g5.js";import"./jqqo55reqowwgoc4.js";import"./iagw21vtml2xbtg6.js";var Y=X,z=$,M=T,P=parseFloat,I=Math.min,O=Math.random;function tt(e,t,l){if(l&&typeof l!="boolean"&&z(e,t,l)&&(t=l=void 0),l===void 0&&(typeof t=="boolean"?(l=t,t=void 0):typeof e=="boolean"&&(l=e,e=void 0)),e===void 0&&t===void 0?(e=0,t=1):(e=M(e),t===void 0?(t=e,e=0):t=M(t)),e>t){var s=e;e=t,t=s}if(l||e%1||t%1){var o=O();return I(e+o*(t-e+P("1e-"+((o+"").length-1))),t)}return Y(e,t)}var et=tt;const at=A(et),rt=e=>r.createElement("svg",{width:20,height:17,viewBox:"0 0 20 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},r.createElement("path",{d:"M0 7.5C0 6.67157 0.671573 6 1.5 6H3.83C4.65843 6 5.33 6.67157 5.33 7.5V15.5C5.33 16.3284 4.65843 17 3.83 17H1.5C0.671572 17 0 16.3284 0 15.5V7.5Z",fill:"#10A37F"}),r.createElement("path",{d:"M14.67 5.5C14.67 4.67157 15.3416 4 16.17 4H18.5C19.3284 4 20 4.67157 20 5.5V15.5C20 16.3284 19.3284 17 18.5 17H16.17C15.3416 17 14.67 16.3284 14.67 15.5V5.5Z",fill:"#10A37F"}),r.createElement("path",{d:"M7.33 1.5C7.33 0.671573 8.00157 0 8.83 0H11.17C11.9984 0 12.67 0.671573 12.67 1.5V16C12.67 16.5523 12.2223 17 11.67 17H8.33C7.77772 17 7.33 16.5523 7.33 16V1.5Z",fill:"#10A37F"})),ot=e=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"currentColor",viewBox:"0 0 24 24",...e},r.createElement("path",{fillRule:"evenodd",d:"M14.447 7.106a1 1 0 0 1 .447 1.341l-4 8a1 1 0 1 1-1.788-.894l4-8a1 1 0 0 1 1.341-.447ZM6.6 7.2a1 1 0 0 1 .2 1.4L4.25 12l2.55 3.4a1 1 0 0 1-1.6 1.2l-3-4a1 1 0 0 1 0-1.2l3-4a1 1 0 0 1 1.4-.2Zm10.8 0a1 1 0 0 1 1.4.2l3 4a1 1 0 0 1 0 1.2l-3 4a1 1 0 0 1-1.6-1.2l2.55-3.4-2.55-3.4a1 1 0 0 1 .2-1.4Z",clipRule:"evenodd"})),nt=e=>r.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},r.createElement("rect",{x:2,y:4,width:20,height:16,rx:3,fill:"#007AFF"}),r.createElement("path",{d:"M8 10H16",stroke:"white",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"M8 14H12",stroke:"white",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),lt=e=>r.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},r.createElement("rect",{x:2,y:4,width:20,height:16,rx:4,fill:"#FF5C00"}),r.createElement("path",{d:"M8 14L10.8 11L13.2 13L16 10",stroke:"white",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),st=e=>r.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},r.createElement("path",{d:"M2 11H11V20H5C3.34315 20 2 18.6569 2 17V11Z",fill:"#10A37F"}),r.createElement("path",{d:"M13 11H22V17C22 18.6569 20.6569 20 19 20H13V11Z",fill:"#10A37F"}),r.createElement("path",{d:"M5 4C3.34315 4 2 5.34315 2 7V9H22V7C22 5.34315 20.6569 4 19 4H5Z",fill:"#10A37F"}));function it(e,t){switch(e){case"presentation":return a.jsx(lt,{});case"table":return a.jsx(st,{});case"chart":return a.jsx(rt,{});case W.DOCUMENT:return a.jsx(U,{className:c("icon-md",{"text-token-text-primary":t,"text-token-text-tertiary":!t})});default:return R(e)?a.jsx(ot,{className:c("icon-md",{"text-token-text-primary":t,"text-token-text-tertiary":!t})}):a.jsx(nt,{})}}const dt=({isHovered:e=!1})=>{const t=B();return a.jsx(Z,{label:t.formatMessage({id:"KMbgyZ",defaultMessage:"Open in canvas"}),children:a.jsx(p.div,{role:"button",animate:{opacity:e?1:.64},whileHover:{opacity:1},transition:{type:"tween",duration:.18},className:"text-token-text-secondary transition-colors",children:a.jsx(q,{className:"icon-md"})})})},ct=({isCanvasOpen:e,isFocused:t,isHovered:l,isInlinePreview:s,size:o})=>e?t?"0px 2px 6px 0px rgba(0, 0, 0, 0.06)":"0px 2px 6px 0px rgba(0, 0, 0, 0)":s?l||t?`0px ${o==="large"?12:4}px ${o==="large"?32:10}px 0px rgba(0, 0, 0, 0.064)`:`0px ${o==="large"?6:4}px ${o==="large"?14:4}px 0px rgba(0, 0, 0, 0.04)`:"0px 2px 6px 0px rgba(0, 0, 0, 0)",mt=({textdocId:e,isInlinePreview:t=!1,isStreaming:l=!1,isDisabled:s=!1,isFocused:o=!1,isCanvasOpen:n=!1,marginBottom:u,size:i="large",onClick:m,children:f,icon:b,name:g,type:h})=>{const x=r.useRef(null),[d,w]=r.useState(!1),[C]=r.useState(()=>at(100,180,!1)),{resolvedTheme:N}=V(),k=N==="dark",H=h?a.jsx("span",{className:c("flex-shrink-0 transition-[filter]",{grayscale:!o&&!d}),children:it(h,o&&n)}):a.jsx("div",{className:"flex h-6 w-6 flex-shrink-0 items-center overflow-hidden",children:a.jsx(E,{lines:1,size:"base",width:100,widthVariance:0})}),L=g?a.jsx("span",{className:"min-w-0 truncate",children:g}):a.jsx("div",{className:"flex h-5 flex-grow items-center overflow-hidden",style:{width:C},children:a.jsx(E,{lines:1,size:"base",width:100,widthVariance:0})}),v=l&&a.jsx(F,{size:20,className:c("flex-shrink-0",o?"text-blue-selection":"text-token-text-secondary")}),S=()=>{!x.current||s||(_.logButtonClick(D.MESSAGE_ATTACHMENT,{type:h}),J(x.current),m?.())},y=i==="large"?100:50,j=`${k?"rgba(0,0,0,0)":"rgba(255,255,255,0)"}, ${k?"#2f2f2f":"#ffffff"}`;return a.jsxs(p.div,{role:"button",id:G(e),initial:{opacity:l?0:1,scale:l?.9:1},animate:{opacity:1,scale:1},transition:{type:"spring",bounce:0,duration:.72},className:c("popover relative flex select-none flex-col overflow-hidden border bg-token-main-surface-primary transition-shadow duration-500",s?"cursor-default":"cursor-pointer",{"border-token-text-tertiary font-medium dark:border-gray-600":o&&n,"font-regular":!o,"border-token-border-light":!d&&!o,"border-token-border-medium":d&&!o,"flex min-w-0 max-w-full flex-shrink flex-grow-0 items-center justify-between self-start rounded-xl":n||!t,"w-full rounded-2xl":!n&&t}),onMouseEnter:()=>!s&&w(!0),onMouseLeave:()=>w(!1),onClick:S,ref:x,style:{marginBottom:u,height:n||!t?void 0:i==="large"?"24rem":"10rem",width:i==="small"?"300px":void 0,boxShadow:ct({isCanvasOpen:n,isFocused:o,isHovered:d,isInlinePreview:t,size:i})},children:[a.jsxs("div",{className:c("flex w-full min-w-0 items-center justify-between gap-2 self-start border-token-border-light px-4 transition-colors duration-700",{"border-token-border-light":!d&&!o,"border-token-border-medium":d&&!o,"text-sm font-medium text-token-text-primary":!n&&d&&t,"py-2":n||!t,"py-3":!n&&t,"text-sm font-medium text-token-text-secondary":!n&&!d&&t}),children:[a.jsxs("div",{className:c("flex min-w-0 items-center",{"gap-2":n||!t,"gap-3.5":!n&&t}),children:[b??H,L]}),n?a.jsx(p.span,{animate:v?"show":"initial",variants:{initial:{opacity:0,paddingLeft:0,width:"0"},show:{opacity:1,paddingLeft:2,width:"24px"}},transition:{type:"tween",duration:.18},children:v}):t&&!s?a.jsx(dt,{isHovered:d}):null]}),a.jsxs("div",{className:"relative flex min-h-0 w-full flex-1 flex-col self-end",children:[!n&&f,t&&!n&&a.jsx("div",{className:"absolute bottom-0 z-20 h-24 w-full transition-colors",style:{height:y,background:`linear-gradient(${j})`}}),t&&i==="small"&&!n&&a.jsx("div",{className:"absolute bottom-0 right-0 top-0 z-20 transition-colors",style:{width:y,background:`linear-gradient(to right, ${j})`}})]})]})},jt=({type:e,name:t,isStreaming:l=!1,isFocused:s=!1,onClick:o,textdocId:n,isFetching:u=!1,isCanvasOpen:i=!1,isInlinePreview:m=!1})=>{const[f,b]=r.useState(!1),g=x=>{b(x>0)},h=i||!m?12:!i&&m?16:void 0;return a.jsx(mt,{name:t,isFocused:s,isCanvasOpen:i,textdocId:n,type:e,isInlinePreview:m,isStreaming:l,onClick:o,marginBottom:h,children:m&&a.jsx("div",{className:c("relative flex min-h-0 flex-auto flex-col overflow-hidden border-t transition-colors",{"border-token-border-light":f,"border-transparent":!f}),children:u?a.jsx(K,{isPreview:m}):!!n&&a.jsx(Q,{onScroll:g,textdocId:n})})})};export{jt as CanvasMessageAttachment,mt as CanvasMessageAttachmentWrapper};
//# sourceMappingURL=jt24x8rxyxotcv4d.js.map
