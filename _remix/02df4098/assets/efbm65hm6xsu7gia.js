const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/5yik4ijweuefhsh1.js","assets/dkrkpapzk8i632go.js","assets/fow2c4yq3c8klomi.js","assets/root-k8yvx6b6.css","assets/fnh1ee9l40s79ybh.js","assets/conversation-small-lkohtmkm.css","assets/fyiicr2pxo20g0xa.js","assets/gus5ys87ebe3yyy0.js","assets/ey5apunl1vnvf9g5.js","assets/jqqo55reqowwgoc4.js","assets/kdmay48w4tjzal97.js","assets/iagw21vtml2xbtg6.js","assets/gvz14qf5woeu83oi.js","assets/kgzzu4tf7u5313rd.js","assets/cb4up3wxp9co5lzh.js","assets/dkptqlxvdk2bhhas.js","assets/l0w8th2xkt507fp5.js","assets/fzrn137102spawew.js","assets/lebsyc66aja9e6ew.js","assets/dgwshraa8ui7irnp.js","assets/kuia0na4bz0zmvoq.js","assets/m8dgj9xaftrqw1zi.js","assets/nmytdkdb7qhqpilt.js","assets/lqox74xj9dfls70w.js","assets/n7t7rzdnyh3sx4xa.js","assets/kqwdyvkaaavvn8k3.js","assets/jfpkx85nh6silbcp.js","assets/c8t1cyubvgurxc7r.js","assets/c2vlcigogn5qwtrl.js","assets/el4fcb27xs03z7ro.js","assets/pfcuzj8x5o7k92te.js","assets/j2bivmwr302c49vo.js","assets/c4bxzbp1808foto4.js","assets/ivsfom077coy2e1x.js","assets/ofdx6gir03c2dglj.js","assets/znrwq6qdoakbx8c5.js","assets/ipumxevpyo0r1zke.js","assets/mwbuo0yv1rlpzhci.js","assets/ixhgxacwo4rec3g4.js","assets/ohjx34ealw57wtov.js","assets/ffzyzw8q2vjgtytc.js","assets/otr73oks8k0fyvxy.js","assets/efw69byln5ysm8n2.js","assets/lslme90mkwiqzowu.js","assets/dctc0fwf0d9q9yfs.js","assets/g4tl5lt9yqf20m4s.js"])))=>i.map(i=>d[i]);
import{r as d,m as e,a9 as te,w as re,L as oe,ey as ie,b3 as x,b4 as f,ax as ne,d_ as j,bB as de,bo as N,dY as R,bE as D,g_ as T,aE as ce,gU as C,N as le,aw as ue,a8 as P,aa as he,dg as A,o as F,bc as me,D as xe,cv as fe,cw as ge,cx as be,dG as pe,g6 as je,t as ve,W as Se}from"./dkrkpapzk8i632go.js";import{hb as Ce,hc as H,aC as U,hd as we,he as Ee,cI as B,bc as ye,cJ as _e,cT as z,T as G,hf as K,hg as Ne,hh as Te,fL as W,hi as X,hj as Q,hk as q,hl as Pe,bd as Y,hm as k,hn as S,fs as Ae,bt as w,bu as I,o as Fe,ho as ke,u as Ie,eX as Oe,eu as Ve,eW as Me,hp as Le,hq as Re,hr as De,bR as He,hs as Ue,ht as Be,hu as ze,hv as O,hw as Ge,an as Ke,hx as We,hy as Xe,ba as Qe,cG as qe,cH as Ye,hz as $e,hA as Je,hB as Ze,cK as es,hC as ss,bS as as,c0 as ts}from"./fnh1ee9l40s79ybh.js";import{m as p}from"./ey5apunl1vnvf9g5.js";import{S as V,b as rs,c as os}from"./ivsfom077coy2e1x.js";import{S as is,C as ns}from"./znrwq6qdoakbx8c5.js";import{T as $,C as J}from"./ipumxevpyo0r1zke.js";import{N as ds}from"./ofdx6gir03c2dglj.js";import{C as cs}from"./otr73oks8k0fyvxy.js";function ls({clientThreadId:s}){const a=Ce(r=>r.notifications);return d.useEffect(()=>{a.filter(t=>t.clientThreadId===s).map(t=>t.id).filter(t=>t!==void 0).forEach(t=>H(t))},[s,a]),a.length===0?null:e.jsx("div",{className:"fixed right-4 top-8 my-2 flex max-h-[90vh] flex-col-reverse space-y-2 space-y-reverse overflow-y-auto px-2 py-4",children:e.jsx(U,{children:a.map(r=>e.jsx(us,{...r},r.id))})})}function us({...s}){const a=te(),r=re(),t=oe(),i=ie(s.clientThreadId),n=()=>{i&&Ee(a,r,i),s.id&&H(s.id)};return e.jsxs(p.div,{onClick:n,className:"inline-flex w-80 cursor-pointer items-center justify-start gap-2.5 rounded-2xl border border-token-border-light bg-token-main-surface-primary px-3 py-3 align-middle shadow-lg",initial:{opacity:0,x:320},animate:{opacity:1,x:0},exit:{opacity:0,x:320},transition:{duration:.5},children:[e.jsx(we,{iconName:"openai",size:"medium",className:"border-token-secondary rounded-full border bg-token-main-surface-primary text-token-text-primary"}),e.jsxs("div",{className:"inline-flex w-full shrink grow basis-0 flex-col items-start justify-start overflow-hidden",children:[e.jsx("div",{className:"w-full truncate text-sm font-medium text-token-text-primary",children:s.title??t.formatMessage({id:"mpXAeu",defaultMessage:"New chat"})}),e.jsx("div",{className:"w-full truncate text-sm text-token-text-tertiary",children:s.subtitle??t.formatMessage({id:"qMEc8J",defaultMessage:"New Message"})})]})]})}const hs=x(()=>f(()=>import("./5yik4ijweuefhsh1.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21])).then(s=>s.CanvasFocusedViewManager)),ms=x(()=>f(()=>import("./nmytdkdb7qhqpilt.js"),__vite__mapDeps([22,1,2,3,23,4,5,24,25,26,27,8])).then(s=>s.SearchResultsModal));function xs({clientThreadId:s,setClientThreadId:a,urlThreadId:r,prefetchSearch:t,threadContent:i}){const n=ne();B({clientThreadId:s});const{createNewThread:u,onThreadCreated:o,resetThread:c}=ye({clientThreadId:s,setClientThreadId:a});_e({resetThreadAction:c,clientThreadId:s});const h=j("searchSources"),g=j("summarizer"),b=z();return e.jsxs(G,{enableSandbox:!1,clientThreadId:s,children:[e.jsx(K,{clientThreadId:s,urlThreadId:r}),e.jsxs(V,{hideNavigation:n,mobileHeaderContent:e.jsx(Ne,{clientThreadId:s,inMobileHeader:!0}),mobileHeaderBottomContent:e.jsx(Te,{clientThreadId:s}),mobileHeaderLeftContent:e.jsx(rs,{onNewChatButtonClick:c}),mobileHeaderRightContent:e.jsx(os,{onNewChatButtonClick:c}),sidebar:e.jsx(ds,{navHeader:s?e.jsx(is,{className:"flex h-[60px] items-center md:h-header-height",onNewThread:u}):null,children:e.jsx(ns,{clientThreadId:s,onNewThread:u})}),threadFlyout:e.jsxs(e.Fragment,{children:[h&&e.jsx(W,{clientThreadId:s}),b&&g&&e.jsx(X,{clientThreadId:s})]}),children:[e.jsx(Q,{}),i??e.jsx($,{clientThreadId:s,onCreate:o,prefetchSearch:t},s),e.jsxs(V.Sidebars,{children:[e.jsx(hs,{clientThreadId:s}),e.jsx(q,{clientThreadId:s})]})]}),e.jsx(fs,{clientThreadId:s})]})}function fs({clientThreadId:s}){const a=de(),r=a?.includes(N.SearchTool)&&!a?.includes(N.SearchToolHoldout),t=Pe();return R()&&(!t||!r)&&e.jsx(ms,{clientThreadId:s})}const M=450;function gs({children:s,clientThreadId:a,isOpen:r,onClose:t}){const i=D();return e.jsxs(U,{children:[r&&i&&e.jsx(Y,{clientThreadId:a,children:e.jsx(T,{children:e.jsx(k.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(p.div,{className:"h-full w-full bg-token-main-surface-secondary",...S}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx(p.div,{className:"relative shrink-0 border-r border-token-border-medium bg-token-main-surface-primary",style:{width:M},...S,children:e.jsx(J,{hideHeader:!0,hideTools:!0})}),e.jsx("div",{className:"relative flex-grow overflow-auto",children:s})]})]})})})}),r&&!i&&e.jsx(T,{children:e.jsx(k.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(p.div,{className:"h-full w-full bg-token-main-surface-secondary",...S}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx("div",{className:"flex-grow overflow-auto",children:s}),e.jsx(p.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:M},...S,children:e.jsx("div",{className:"h-[100vh] pb-4",children:e.jsx($,{clientThreadId:a,hideHeader:!0,hideFooter:!0,hideToolsOverlay:!0,messagesVerticalAlign:"bottom"},a)})})]})]})})})]})}const bs=x(()=>f(()=>import("./c2vlcigogn5qwtrl.js"),__vite__mapDeps([28,1,2,3,4,5]))),ps=x(()=>f(()=>import("./el4fcb27xs03z7ro.js"),__vite__mapDeps([29,1,2,3,4,5,30,31,32,8,33,34,19,35,36,9,15,37,38,39,40,41])).then(s=>s.ImageEditor));function js({clientThreadId:s}){const a=Ae();d.useEffect(()=>{w.close()},[s]);let r;return a?.type===I.ADAVisualization?r=e.jsx(bs,{clientThreadId:s,visualization:a.visualization}):a?.type===I.Image&&(r=e.jsx(ps,{clientThreadId:s,messageId:a.messageId,image:a.image,allImages:a.allImages},a.image.asset_pointer)),e.jsx(gs,{clientThreadId:s,isOpen:a!=null,onClose:w.close,children:r})}const vs=x(()=>f(()=>import("./5yik4ijweuefhsh1.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21])).then(s=>s.CanvasFocusedViewManager)),L=64;function Ss(){const{focusedObject:s,clientThreadId:a}=Fe();j(void 0);const r=d.useRef(null),[t,i]=d.useState({bottom:null,height:null});ke(r,i);const n=Ie(),u=j("searchSources"),o=j("summarizer"),c=R(),[h,g]=d.useState(!1),b=!n&&!!s;let l=0;h&&t.height==null?l=L:h&&t.height!=null?l=L+t.height:!h&&t.height!=null&&(l=t.height);const v=z();return e.jsx(Oe,{className:ce(C.application,{[C.withCanvasFocusedView]:!!n,[C.withEmbeddedFocusedView]:b}),banner:e.jsx(le,{children:e.jsx(Ve,{setIsMobileAppUpsellBannerVisible:g})}),sidebar:e.jsx(cs,{}),thread:e.jsx(J,{ref:r},a),details:e.jsx(vs,{clientThreadId:a}),threadExtendedInfo:c&&e.jsxs(e.Fragment,{children:[!1,u&&e.jsx(W,{clientThreadId:a}),v&&o&&e.jsx(X,{clientThreadId:a})]}),debugger:e.jsx(q,{clientThreadId:a}),name:"application-root",style:{"--screen-keyboard-bottom":t.bottom?`${t.bottom}px`:"","--screen-height-offset":l>0?`${l}px`:""}})}function Cs({clientThreadId:s,urlThreadId:a}){return B({clientThreadId:s}),e.jsxs(Me,{children:[e.jsx(Le,{}),e.jsx(Re,{}),e.jsxs(G,{enableSandbox:!1,clientThreadId:s,children:[e.jsx(K,{clientThreadId:s,urlThreadId:a}),e.jsx(Q,{}),e.jsx(Ss,{})]})]})}var ws={};const Es=x(()=>f(()=>import("./efw69byln5ysm8n2.js"),__vite__mapDeps([42,1,2,3,4,5,43]))),ys=x(()=>f(()=>import("./dctc0fwf0d9q9yfs.js"),__vite__mapDeps([44,1,2,3,4,5,36,9,8,15,37,19,38,39,40,45])));function Ms(s){const{urlThreadId:a,clientThreadId:r,prefetchSearch:t}=s;Ns();const i=ue(),n=P(),[u]=he(),[o,c]=d.useState(()=>a!==void 0?a:r!==void 0?r:A());a!==void 0&&o!==a&&F.getServerThreadId(o)!==a&&c(a);const h=De(P());d.useEffect(()=>{a===void 0&&F.getServerThreadId(o)!==void 0&&c(A())},[a,o,h]);const g=He(as.workspaceId),b=D(),{eligible:l,isLoading:v,markAsViewed:E}=Ue(),y=Be(),Z=me("3435450078");d.useEffect(()=>{(n.pathname==="/"||n.pathname.startsWith("/c/"))&&ze({namespace:O.ChatPageLoad})==null&&(Ge({namespace:O.ChatPageLoad,opts:{expectedTimingLogs:[{name:"render_model_switcher",expectedInMs:1e4},{name:"render_history_items",expectedInMs:25e3}]}}),xe.addTiming("chatgpt.web.chatPage.mounted"))},[]);const _=Ke();d.useEffect(()=>{fe(!0).then(m=>{m.force_login&&_({authType:"login"}),ge.initializeAndGatherData(m),We.initializeAndGatherData(m),be.initializeAndGatherData(m)})},[_]),d.useEffect(()=>{const m=u.get(Xe)==="true";i!==m&&pe.setIsTemporaryChatEnabled(m)},[i,u]),d.useEffect(()=>{n.state?.focusObject&&w.setFocusedObject(n.state.focusObject)},[n.state?.focusObject]),d.useEffect(()=>{!v&&l&&(E(),y())},[l,v,E,y]);const{isOpen:ee,isLoading:se}=Qe(),ae=b?Cs:xs;return e.jsx(je.Provider,{value:null,children:e.jsx(qe,{children:e.jsxs(Ye,{clientThreadId:o,children:[e.jsx($e,{clientThreadId:o},g),!se&&ee&&e.jsx(ys,{clientThreadId:o,setClientThreadId:c}),e.jsx(Je,{}),e.jsx(Ze,{}),e.jsx(Y,{clientThreadId:o,setClientThreadId:c,prefetchSearch:t,children:e.jsx(ae,{urlThreadId:a,clientThreadId:o,setClientThreadId:c,prefetchSearch:t})}),e.jsx(js,{clientThreadId:o}),e.jsx(es,{clientThreadId:o}),e.jsx(_s,{}),e.jsx(ss,{}),Z?e.jsx(ls,{clientThreadId:o}):!1]})})})}function _s(){const s=ts(a=>a.sharingModalThreadId);return s?e.jsx(Es,{serverThreadId:s}):null}function Ns(){ve({queryKey:["pingEdge"],queryFn:()=>Se.pingEdge(),enabled:!0,staleTime:1/0})}typeof window<"u"&&(window._g=ws.GOKU_SERVICE);export{Ms as C,M as F};
//# sourceMappingURL=efbm65hm6xsu7gia.js.map
