import{L as M,a3 as B,r as o,m as e,aT as y,cc as T,aZ as D,fm as A,es as I,P as _,d as P,c8 as U,aK as q,u as F}from"./gfs0keudzvcg5rgq.js";import{C as z,T as K,aT as R,aU as W,A as Q,aV as Y}from"./iqnriohw8g1d2uyi.js";import{c5 as w,c6 as N,aJ as G,d7 as H,c9 as X,cD as J,d8 as Z}from"./b6arjgg215unn3v3.js";import{u as $,a as ee,b as se}from"./l22nie6jazt0p95h.js";import{V as te}from"./mz7wigkm8bw5h0fg.js";import{m as ae}from"./o7amlkgkeatodl16.js";import"./bqwulxfepb2c3gj0.js";import"./ng4znd9vscmia3td.js";import"./c4bxzbp1808foto4.js";function oe({conversationId:t}){const s=M(),a=w(N.hasSeenAdvancedVoiceNuxFullPage),c=B(),l=c?.isPlus()??!1,i=c?.isEnterprisey()??!1,d=!l&&!i,u="https://help.openai.com/en/articles/8400625-voice-mode-faq#h_c5d6fe534b",[h,r]=o.useState(!1),[m,f]=o.useState(!1),[k,p]=o.useState(!1),[j,S]=o.useState(!0);o.useEffect(()=>{requestAnimationFrame(()=>f(!0))},[]);const b=()=>{p(!0),A.voiceAdvancedDisclosureAccepted.click(),r(!0),setTimeout(async()=>{S(!1)},H)},n=()=>{a.markAsViewed()},g=e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(z,{className:"mr-4 h-8 w-8"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h4",{className:"font-semibold text-token-text-primary",children:s.formatMessage({id:"TFfx7w",defaultMessage:"Natural conversations"})}),e.jsx("p",{className:"text-token-text-secondary",children:s.formatMessage({id:"qR+v5Q",defaultMessage:"Senses and responds to interruptions, humor, and more."})})]})]}),v=e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(K,{className:"mr-4 h-8 w-8"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h4",{className:"font-semibold text-token-text-primary",children:s.formatMessage({id:"br49Gd",defaultMessage:"Free monthly preview"})}),e.jsx("p",{className:"text-token-text-secondary",children:s.formatMessage({id:"LhOfga",defaultMessage:"Use advanced voice for a short period each month."})})]})]}),E=e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(R,{className:"mr-4 h-8 w-8"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h4",{className:"font-semibold text-token-text-primary",children:s.formatMessage({id:"84QiAT",defaultMessage:"Multiple voices"})}),e.jsx("p",{className:"text-token-text-secondary",children:s.formatMessage({id:"yYgwEW",defaultMessage:"Offers an expanded set of voices to choose from."})})]})]}),V=e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(W,{className:"mr-4 h-8 w-8"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h4",{className:"font-semibold text-token-text-primary",children:s.formatMessage({id:"M/x7uJ",defaultMessage:"Personalized to you"})}),e.jsx("p",{className:"text-token-text-secondary",children:s.formatMessage({id:"QZXq7u",defaultMessage:"Can use memory and custom instructions to shape responses."})})]})]}),C=e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Q,{className:"mr-4 h-8 w-8"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h4",{className:"font-semibold text-token-text-primary",children:s.formatMessage({id:"e6n5kr",defaultMessage:"You’re in control"})}),e.jsx("p",{className:"text-token-text-secondary",children:i?e.jsx(y,{id:"4szv66",defaultMessage:"Your audio recordings are saved but not used for training. Learn how to <link>manage recordings</link>.",values:{link:x=>e.jsx("a",{href:u,target:"_blank",rel:"noopener noreferrer",className:"underline",children:x})}}):e.jsx(y,{id:"M/k4S5",defaultMessage:"Audio recordings are saved, and you can delete them at any time. Learn how to <link>manage recordings</link>.",values:{link:x=>e.jsx("a",{href:u,target:"_blank",rel:"noopener noreferrer",className:"underline",children:x})}})})]})]}),O=d?[v,g,V,C]:[g,E,V,C];return e.jsxs(e.Fragment,{children:[e.jsx(T,{isOpen:h,onClose:n,type:"success",size:"fullscreen",children:e.jsx(G,{children:e.jsx(ae.div,{children:e.jsx(te,{conversationId:t,onClose:n,cameFromNux:!0})})})}),e.jsx(T,{isOpen:j,onClose:n,type:"success",size:"fullscreen",className:`bg-white transition-opacity duration-300 dark:bg-gray-800 ${m&&!k?"opacity-100":"opacity-0"}`,showOverlayBackground:!1,children:e.jsxs("div",{className:"mx-auto flex h-full w-full max-w-lg flex-col items-center justify-center px-4 text-center",children:[e.jsx("h1",{className:"mb-9 text-2xl font-semibold text-token-text-primary",children:d?s.formatMessage({id:"XV3+9K",defaultMessage:"Sneak a peek at advanced voice mode"}):s.formatMessage({id:"9YnxDX",defaultMessage:"Say hello to advanced voice mode"})}),e.jsx("div",{className:"mb-9 space-y-5",children:O.map((x,L)=>e.jsx("div",{children:x},L))}),e.jsxs("p",{className:"mb-9 text-sm text-token-text-primary",children:[s.formatMessage({id:"vtcf3s",defaultMessage:"Voice mode can make mistakes — check important info."}),e.jsx("br",{}),s.formatMessage({id:"4nw2S2",defaultMessage:"Usage limits may change."})]}),e.jsx(D,{className:"rounded-full bg-token-text-primary px-20 py-3 font-semibold",onClick:b,children:e.jsx(y,{id:"ppi93b",defaultMessage:"Continue"})})]})})]})}const ne={default_voice_mode:"advanced",modes:[{mode:"advanced",default_model_slug:Z,disabled_mode_metadata:null,description:"Advanced Voice Mode",display_name:"Advanced Voice",info_message:{actions:[],buttons:[],hint:"Advanced Voice",message_markdown:"Advanced Voice",message:"Advanced Voice",title:"Advanced Voice",display_at_launch:!1},disclosure_message:null,resets_after:"None"}],chatreq_token:"default"};function ie(){const t=F("2775516364").value,s=w(N.hasSeenAdvancedVoiceNuxFullPage);return!s.isLoading&&s.eligible&&t}function ce(){const t=F("562926978").value,s=J()?N.hasSeenAdvancedVoiceWebNuxTooltip:N.hasSeenAdvancedVoiceRealWebNuxTooltip,a=w(s);return{shouldShowTooltipNux:!a.isLoading&&a.eligible&&t,tooltipAnnouncement:a,announcementKey:s}}function ve({clientThreadId:t,gizmoId:s}){const a=I(t),l=M().formatMessage({id:"HDu59A",defaultMessage:"Start voice mode"}),[i,d]=o.useState(!1),[u,h]=o.useState(!1),r=ie(),{shouldShowTooltipNux:m,tooltipAnnouncement:f,announcementKey:k}=ce(),p=$(),j=a??t,S=ee(n=>n.isVoiceModeActive);o.useEffect(()=>{r||h(!1)},[r]);const b=o.useCallback(async()=>{if(_.logEvent(P.composerSpeechButtonClicked),m&&f.markAsViewed(),r){A.voiceAdvancedDisclosureShown.success(),h(!0);return}let n;d(!0);try{n=await p({conversation_id:a??null,requested_voice_mode:"advanced",gizmo_id:s??null},"composer_speech_button")}finally{d(!1)}const g=n??ne;se.setState(v=>{v.voiceStatus=g,v.isVoiceModeActive=!0})},[p,r,m,f,s,a]);return e.jsxs(e.Fragment,{children:[u&&e.jsx(oe,{conversationId:j}),!u&&e.jsx(le,{showNuxTooltip:m,tooltipAnnouncement:f,announcementKey:k,children:e.jsx("button",{"data-testid":"composer-speech-button",onClick:b,"aria-label":l,disabled:S||i,className:"flex h-8 w-8 items-center justify-center rounded-full bg-black text-white transition-colors hover:opacity-70 focus-visible:outline-none focus-visible:outline-black disabled:text-[#f4f4f4] disabled:opacity-30 dark:bg-white dark:text-black dark:focus-visible:outline-white",style:{viewTransitionName:"var(--vt-composer-speech-button)"},children:i?e.jsx(U,{}):e.jsx(Y,{})})})]})}function le({children:t,showNuxTooltip:s,tooltipAnnouncement:a,announcementKey:c}){const l=M();return s?e.jsx(X,{announcementKey:c,theme:"bright",side:"top",show:!0,badge:"new",dismissOnOutsideClick:!0,title:l.formatMessage({id:"DQ6CAP",defaultMessage:"Try advanced voice mode"}),contentAlign:"center",onDismiss:a.markAsViewed,sideOffset:2,children:e.jsx("div",{children:t})}):e.jsx(q,{sideOffset:4,label:l.formatMessage({id:"i4P/ix",defaultMessage:"Use voice mode"}),side:"top",onOpenChange:i=>{i&&(_.logEvent(P.composerSpeechButtonHovered),A.composerSpeechButton.hover())},children:t})}export{ve as ComposerSpeechButton};
//# sourceMappingURL=fzxnad3kvscetr8t.js.map
