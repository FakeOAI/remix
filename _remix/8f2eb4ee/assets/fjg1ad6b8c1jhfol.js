import{dY as c,dZ as p,r as i,aQ as l,d_ as d,ba as h,j as u,bQ as b}from"./d4998ss76kiiys2a.js";import{T as E}from"./lvk16mjiwstb1aqf.js";import{n as f}from"./ny02b1r0q2e9w4rr.js";import{l as v}from"./dhr22l6cwlnk6eb2.js";import"./jgebgvmmewaiobkz.js";import"./ijnl2vv7sqg077ic.js";import"./cdlu5q20cam9cxqi.js";import"./hrpxk0zzejlt1zdz.js";import"./bkaw2sh00lkzz1mk.js";import"./fizvwuv456q1poqt.js";import"./mugd6ac6ijbpkvp5.js";import"./h39np7yaid1flyiv.js";import"./dtxde43hwlqoev9l.js";import"./wp5q7ppkt4ddrdq1.js";import"./l0p0xoyhl72xwmj4.js";import"./lk9nevahcpbvuzfk.js";import"./iu45fwkgaxj64iug.js";import"./crbck9stn89tcssy.js";import"./gnxmxevehaum9r0n.js";import"./czx8ariycgubr29o.js";import"./m1aiqt6drgf0dgrp.js";import"./clpmzqk96lyy2hhn.js";import"./ef8byfwb6jmbpt34.js";import"./h4hakvv935o59pfe.js";import"./dkgx35h9ryrvx1d6.js";import"./monok0lr3q3dru8u.js";import"./lsfi6dlqht91ibg3.js";import"./mqgzohfcuqsh3nsb.js";import"./m8tgv16u8li2vzwm.js";import"./pcgxizbj57vqiyov.js";import"./ne9wvbs62gemz5ku.js";import"./dp5zy89kaoofpkts.js";import"./ha6wyvptaf6ahwpe.js";import"./cabf2of8bxh0m7i2.js";let s=!1;function rt(){var e;(e=c)==null||e.registerObserver(p)}function ot(){const[e,a]=i.useState(null),{value:m}=l("3653083604");return i.useEffect(()=>{if(!m||s||typeof window>"u")return;const t=window.open("about:blank",d);if(!t)throw new Error("ChatBar: window.open() did not create a window");t.document.documentElement.setAttribute("dir","ltr"),s=!0,document.head.querySelectorAll("link, style").forEach(r=>{t.document.head.appendChild(r.cloneNode(!0))}),new MutationObserver(r=>{r.forEach(o=>{o.type==="childList"&&o.addedNodes.forEach(n=>{(n instanceof HTMLLinkElement||n instanceof HTMLStyleElement)&&t.document.head.appendChild(n.cloneNode(!0))})})}).observe(document.head,{childList:!0}),t.document.documentElement.setAttribute("style",document.documentElement.getAttribute("style")??""),t.document.documentElement.setAttribute("class",document.documentElement.getAttribute("class")??""),new MutationObserver(r=>{r.forEach(o=>{o.type==="attributes"&&o.attributeName!=null&&t.document.documentElement.setAttribute(o.attributeName,document.documentElement.getAttribute(o.attributeName)??"")})}).observe(document.documentElement,{attributes:!0}),a(t.document.body.appendChild(t.document.createElement("div"))),t.addEventListener("unload",r=>{t.close()}),t.addEventListener("focus",()=>{var r;(r=t.document.getElementById("prompt-textarea"))==null||r.focus()})},[m]),e&&h.createPortal(u.jsx(w,{}),e,d)}function w(){const[e,a]=i.useState(()=>v());return f(e,{kind:b.PrimaryAssistant}),u.jsx(E,{clientThreadId:e,hideHeader:!0,hideFooter:!0,renderEmptyState:!1},e)}export{ot as DesktopChatBar,rt as initDesktop};
//# sourceMappingURL=fjg1ad6b8c1jhfol.js.map
