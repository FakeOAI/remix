const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/b0t69toz75ohtx2i.js","assets/d4998ss76kiiys2a.js","assets/jgebgvmmewaiobkz.js","assets/root-iasegnfe.css","assets/ijnl2vv7sqg077ic.js","assets/cdlu5q20cam9cxqi.js","assets/conversation-small-eplmind9.css","assets/dhr22l6cwlnk6eb2.js","assets/fizvwuv456q1poqt.js","assets/fbfwg12agjtcvtr7.js","assets/hrpxk0zzejlt1zdz.js","assets/sso-hexuaopvgesml5k1.js","assets/d2bl7olmygmhb3v1.js","assets/ne9wvbs62gemz5ku.js","assets/dhq76rj081844iz8.js","assets/lmmrkiog5qgqqy5h.js","assets/du2fx3py4s4s2fx3.js","assets/l60wejf2rnbgqs8b.js","assets/mqgzohfcuqsh3nsb.js","assets/iq2nectivx8oun2p.js","assets/l0p0xoyhl72xwmj4.js","assets/nn5gnhedjj8rpx0v.js","assets/nzmog53ng1l24zz2.js","assets/ha6wyvptaf6ahwpe.js","assets/juplixc6gwnivx6h.js","assets/kqwdyvkaaavvn8k3.js","assets/haiakfpfaabpdpvg.js","assets/m1aiqt6drgf0dgrp.js","assets/pdam2e5u3zk9nwdq.js","assets/eyf6wzu4fqqsn4mb.js","assets/kgvnaxx6rk002p3w.js","assets/f0z84s9j4soeuc0z.js","assets/nhwwej1nq0zrd7sc.js","assets/jr3n4q33u401ed1v.js","assets/mugd6ac6ijbpkvp5.js","assets/h39np7yaid1flyiv.js","assets/dtxde43hwlqoev9l.js","assets/wp5q7ppkt4ddrdq1.js","assets/lk9nevahcpbvuzfk.js","assets/iu45fwkgaxj64iug.js","assets/crbck9stn89tcssy.js","assets/bkaw2sh00lkzz1mk.js","assets/ny02b1r0q2e9w4rr.js","assets/cabf2of8bxh0m7i2.js","assets/gnxmxevehaum9r0n.js","assets/czx8ariycgubr29o.js","assets/clpmzqk96lyy2hhn.js","assets/m8tgv16u8li2vzwm.js","assets/pcgxizbj57vqiyov.js","assets/klb1u1mb4gad3xsq.js","assets/isjdmfmhzv09v01t.js","assets/dn9edvm1319wl6er.js","assets/dzjq81dy7yarj83i.js","assets/i68hvh4pk2fzbj2p.js","assets/eayrjzmpo9tgf5ry.js","assets/cf81ws1iv4mdv0tz.js","assets/de1tgvcnl9dkf59f.js","assets/mjhgccj8l7975fw3.js","assets/h4hakvv935o59pfe.js","assets/db5uxxl7cilzzobq.js","assets/iahk19c8zdunaftn.js","assets/n731sdlxp1cs95zp.js","assets/xs3suco3b00if9md.js","assets/kk29uvhlmz4tok3w.js","assets/b9xr4r2juy0dou0k.js","assets/k713noxmlwk6ctbs.js","assets/f830k527qdhnsmt8.js","assets/iej0cupg2dqkmejt.js","assets/k629gpsynyv66fil.js","assets/jk8w36bsokizpx57.js","assets/monok0lr3q3dru8u.js","assets/dp5zy89kaoofpkts.js","assets/fwvvd437cc6hvqj1.js","assets/cizwy7pbyxy17mzg.js","assets/kfmf8e3u1ujsc42d.js","assets/glbdaczkz0i7u2v0.js","assets/bgruhbjazoh8x0i1.js","assets/l7v42hfd1olpe85x.js","assets/evrar4c70wc6aa63.js","assets/osx4aio9aflqteum.js","assets/ejosdqez3cwo070k.js","assets/hsow21nksohduv2s.js","assets/ofh5j8nbe2e91jd3.js","assets/shared-mk6ngktc.css","assets/sso-jmjhjxeo.css"])))=>i.map(i=>d[i]);
import{j as t,cn as Me,c as k,aC as te,bt as Se,K as q,as as we,f3 as be,r as U,eY as ye,f4 as je,cm as se,c2 as ne,O as ve,f5 as Ce,H as K,B as oe,P,A as W,ak as ae,aD as re,e4 as Ne,ax as _e,w as Ee,cs as Te,eZ as Ae,f6 as $,N as Ie,C as Le,z as ke,aT as De}from"./d4998ss76kiiys2a.js";import{b as Pe}from"./gnxmxevehaum9r0n.js";import{ae as Be,aK as Oe,ar as Ue,a4 as Re,br as He,U as ze,bs as Ge,b as Fe}from"./jgebgvmmewaiobkz.js";import{ac as We,n as Ye,ep as qe,eq as Ke,er as Qe,es as Xe,aw as Ve,et as Je,eu as Ze,bi as $e,a3 as et,ev as tt,bI as z,R as st,ew as nt,ex as G,ey as ot}from"./cdlu5q20cam9cxqi.js";import{w as at,b as rt,x as le,y as lt,c as ie,z as ce,A as it}from"./ijnl2vv7sqg077ic.js";import{e as de,T as ct,d as dt}from"./dhr22l6cwlnk6eb2.js";import{D as M,B as ut}from"./l0p0xoyhl72xwmj4.js";import{B as mt}from"./mqgzohfcuqsh3nsb.js";const pt=({categoryId:e,type:n,className:s})=>{const{data:o,isLoading:l}=at(),r=t.jsx("div",{className:s});if(l)return r;const{iconFilledSrc:a,iconOutlineSrc:i}=(o==null?void 0:o[e])??{},d=(n==="filled"?a:i)??"";return t.jsx(Me,{name:"ModelCategoryIcon",fallback:r,children:t.jsx("div",{className:k("[&_svg]:h-full [&_svg]:w-full",s),dangerouslySetInnerHTML:{__html:d}})})};function ht({currentModel:e,categoryOptions:n,className:s,modelSwitcherDenialsBySlug:o}){const l=e==null?void 0:e.id;return t.jsx(M.Portal,{children:t.jsx(M.SubContent,{className:s,children:n.map(r=>{const{value:a}=r;return"options"in r?t.jsx(B,{currentModel:e,isSelected:l.startsWith(a),option:r,modelSwitcherDenialsBySlug:o},a):t.jsx(O,{isSelected:l===a,value:a,renderName:()=>r.name,modelSwitcherDenialsBySlug:o,showNewChatHint:!1},a)})})})}function B({currentModel:e,option:n,isSelected:s=!1,modelSwitcherDenialsBySlug:o}){const{name:l,options:r,categoryId:a}=n,i=`${l} Models`,d=()=>t.jsx("div",{className:"flex shrink-0 grow justify-between gap-2",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Ue,{className:"icon-md w-7 text-token-text-secondary"}),i]})});return t.jsxs(M.Sub,{children:[t.jsx(M.SubMenuTrigger,{children:t.jsxs("div",{className:"flex grow justify-between gap-2 overflow-hidden",children:[a?d():l,s&&t.jsx("div",{className:"truncate text-token-text-tertiary",children:e.title})]})}),t.jsx(ht,{currentModel:e,categoryOptions:r,modelSwitcherDenialsBySlug:o})]})}function O({value:e,renderName:n,isSelected:s,showNewChatHint:o=!0,onClick:l,modelSwitcherDenialsBySlug:r,isUpgradeUpsell:a=!1}){var m,h;const i=rt(),d=We(),c=e?(h=(m=r[e])==null?void 0:m.conversation)==null?void 0:h[0]:null,{layer:w}=te("1846737571"),p=t.jsx(M.Item,{onClick:()=>{if(l)l();else if(e){const f=e;i({modelId:f,location:"Model switcher menu item"}),d(f)}},className:k("!pr-3",s&&"!opacity-100",c&&"pointer-events-none text-token-text-quaternary"),children:t.jsxs("div",{className:"flex grow items-center justify-between gap-2",children:[t.jsx("div",{children:n(c!=null)}),a&&t.jsx(Se,{color:"secondary",size:"small",className:w.get("is_upgrade_button_blue",!1)?"border-none bg-blue-600 text-white hover:bg-blue-800":"",children:t.jsx(q,{id:"oKo8wt",defaultMessage:"Upgrade"})}),a?t.jsx(t.Fragment,{children:s&&t.jsx(Oe,{className:k("icon-md group-hover:invisible",!o&&"block group-hover:hidden")})}):s&&t.jsx(Be,{className:"icon-md"})]})},e);return c?t.jsx(Ye,{isLeftArrow:!0,sideOffset:-10,label:t.jsx(qe,{modelSwitcherDeny:c}),children:p}):p}var gt=(e=>(e.BROWSING="browsing_model",e.CODE_INTERPRETER="code_interpreter_model",e.DALLE="dalle_model",e))(gt||{}),N=(e=>(e.ALPHA="alpha",e.EXPERIMENTS="experiments",e.MAINLINE="mainline",e))(N||{});const F={browsing_model:{name:t.jsxs("span",{children:["Browse with ",t.jsx(je,{className:"icon-sm mt-[-3px] inline-block"})," Bing"]})},code_interpreter_model:{name:"Advanced Data Analysis"},dalle_model:{name:"DALL路E 3"}};function Rt(e){const n=ft(e??void 0);return Ke(["alpha","experiments","mainline"],n)?"bg-orange-500 text-white":"bg-token-main-surface-primary text-token-text-primary"}function ft(e){const n=ue();for(const s of n)if(s.options.length>0&&s.options.find(l=>l.value===e))return s.categoryId;return null}function Ht(e,n){const{data:s}=le();return(s==null?void 0:s.categories.some(l=>l[n]===e))??!1}const xt=e=>Ve(e,({id:n})=>n.split(":").slice(0,1).join(":"));function ue(){const{data:e}=le(),n=Qe(),s=we(),o=be(s==null?void 0:s.getWorkspaceId()),l=(s==null?void 0:s.isEnterprise())??!1,{modelSwitcherDisclaimer:r}=Xe(),a=lt();return U.useMemo(()=>{const i=[];if(!e)return i;const{categories:d,groups:c,modelsMap:w}=e;for(const p of d){const{defaultModel:m,categoryId:h,label:f}=p;if(a.has(m)){const S=n===m,g=e.modelsMap[m],x=S?[]:Mt(o.data,p,a,e.modelsMap,l);i.push({categoryId:h,value:m,name:f,description:S?r:g.description,options:[T(g,{name:"Default"}),...x]})}}for(const p of c){const{group:m,label:h,modelIds:f}=p,S=f[0],g=f.map(x=>w[x]).filter(({tags:x})=>!x.includes(ye.HIDDEN));if(m==="experiments"){const x=xt(g),j=Object.entries(x).map(([b,v])=>{const A=b.split(":").slice(-1)[0];return{key:b,value:A,name:A,options:v.map(D=>{const{title:R}=D;return T({...D,title:R.replace(A,"")})})}});i.push({categoryId:m,value:S,name:h,options:j})}else i.push({categoryId:m,value:S,name:h,options:g.map(x=>T(x))})}return i},[e,a,n,o.data,l,r])}function T(e,n={}){return{value:e.id,name:e.title,...n}}function Mt(e,n,s,o,l){const r=[],a=e==null?void 0:e.browsing;if((l&&a||!l)&&n.browsing_model!=null&&s.has(n.browsing_model)){const d=F.browsing_model;r.push(T(o[n.browsing_model],{name:d.name}))}if(n.code_interpreter_model!=null&&s.has(n.code_interpreter_model)){const d=F.code_interpreter_model;r.push(T(o[n.code_interpreter_model],{name:d.name}))}if(n.dalle_model!=null&&s.has(n.dalle_model)){const d=F.dalle_model;r.push(T(o[n.dalle_model],{name:d.name}))}return r}const St=se(()=>ne(()=>import("./b0t69toz75ohtx2i.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10])).then(e=>e.ThreadHeaderGizmoDropdown)),wt=se(()=>ne(()=>import("./sso-hexuaopvgesml5k1.js").then(e=>e.d),__vite__mapDeps([11,1,2,3,12,5,6,13,14,15,16,17,18,19,20,21,8,7,22,23,24,25,26,27,4,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84])).then(e=>e.default)),ee=ve.button`group flex cursor-pointer items-center gap-1 rounded-lg py-1.5 px-3 text-lg font-semibold hover:bg-token-main-surface-secondary radix-state-open:bg-token-main-surface-secondary text-token-text-secondary overflow-hidden whitespace-nowrap`;function bt({clientThreadId:e}){const n=K(),s=Te(),o=dt(e),[,l]=Ae(),r=()=>{l(a=>(a.get(G)==="true"?a.delete(G):a.set(G,"true"),a),{replace:o,state:ot()})};return t.jsx(M.Item,{size:"large",className:"!pr-3",onClick:r,icon:ze,children:t.jsxs("div",{className:"flex grow items-center justify-between gap-2",children:[t.jsx("div",{className:"flex flex-1 items-center gap-3",children:t.jsx(q,{..._t.temporaryChat})}),t.jsx(st,{enabled:s,label:n.formatMessage({defaultMessage:"Temporary",id:"temporaryChatToggleLabel"})})]})})}function me(e,n,s){let o=e;if(e===$.AUTO){const a=n.filter(({defaultModel:i})=>i!==$.AUTO);a.length===1&&(o=a[0].defaultModel)}const l=n.find(({defaultModel:a})=>a===o);if(l){const{categoryId:a,shortLabel:i}=l;return{selectedCategory:a,modelLabel:i}}const r=s.find(({modelIds:a})=>a.includes(o));if(r){const{group:a,shortLabel:i}=r;return{selectedCategory:a,modelLabel:i}}return{selectedCategory:null,modelLabel:null}}function yt({modelLabel:e}){return t.jsx("span",{className:"text-token-text-secondary",children:e})}function jt({clientThreadId:e,inMobileHeader:n}){const{isLoading:s,categories:o,groups:l}=ie(),r=Ce(),i=ce(e).id,d=ue(),{modelLabel:c}=me(i,o,l),w=Ct(e,d),p=K(),{isUnauthenticated:m}=oe(),h=pe(),f=(!m||!h)&&!r;U.useEffect(()=>{var g;s||(g=Je({namespace:Ze.ChatPageLoad}))==null||g.logTiming("render_model_switcher")},[s]);const S=t.jsxs("div",{className:"text-token-text-secondary",children:[nt," ",f?t.jsx("span",{className:"text-token-text-secondary",children:c}):m&&c?t.jsx(yt,{modelLabel:c}):null]});return w.length?s?null:t.jsx(ut,{sideOffset:8,size:"large",triggerButton:t.jsxs(ee,{"aria-label":c?p.formatMessage({id:"JrtGPQ",defaultMessage:"Model selector, current model is {modelLabel}"},{modelLabel:c}):"",children:[S,t.jsx(Re,{className:"icon-md text-token-text-tertiary"})]}),onOpenChange:g=>{P.logEvent(W.toggleModelSwitcher,{isOpen:g}),ae.logEvent("toggle_model_switcher",null,{isOpen:String(g)})},contentAlign:n?"center":"start",children:t.jsx(Nt,{sections:w})}):t.jsx(ee,{className:"cursor-default",children:S})}function pe(){return re("462735957").value}function vt({category:e,modelSwitcherDenialsBySlug:n,currentGizmoId:s,currentModelId:o,omitIcon:l}){const{defaultModel:r,label:a,categoryId:i,description:d}=e;return t.jsx(O,{value:r,modelSwitcherDenialsBySlug:n,renderName:c=>t.jsx(Y,{categoryId:i,name:a,description:d,isDisabled:c,omitIcon:l}),isSelected:!s&&o===r},r)}function Ct(e,n){var X,V,J;const s=ce(e),o=s.id,l=de(e),{categories:r,groups:a}=ie(),{doesUserHaveAnyAccountsWithPlusFeatures:i}=Ne(),d=ct.getServerThreadId(e),c=it({clientThreadId:e}),w=Pe(),p=K(),m=!d,{isUnauthenticated:h}=oe(),f=$e(),{layer:S}=te("2723963139"),g=S.get("is_dynamic_model_enabled",!1),x=pe(),j=n.find(({categoryId:u})=>u===N.ALPHA),b=n.find(({categoryId:u})=>u===N.EXPERIMENTS),v=n.find(({categoryId:u})=>u===N.MAINLINE),A=re("566128514").value,D=!!((X=j==null?void 0:j.options)!=null&&X.length),R=!!((V=b==null?void 0:b.options)!=null&&V.length),he=!!((J=v==null?void 0:v.options)!=null&&J.length),Q=_e(),ge=U.useCallback(()=>{P.logEvent(W.openModalAccountPaymentfromModelPicker,{content:"gizmo-button"}),et(Q,"Thread header dropdown")},[Q]),fe=()=>{ae.logEvent("chatgpt_model_switcher_plus_upgrade_button_clicked"),P.logEvent(W.modelSwitcherPlusUpgradeButtonClicked),h?(Le.setCookie(ke.ShowPaymentModal,!0,{maxAge:6*60*60}),f({callback:u=>{P.logSignUpButtonClicked({location:"Model switcher GPT-4 upsell",provider:u})}})):ge()},_=[],xe=t.jsxs("div",{className:"mb-1 flex items-center justify-between px-5 pt-2",children:[t.jsx("span",{className:"text-sm text-token-text-tertiary",children:t.jsx(q,{id:"ilkdMh",defaultMessage:"Model"})}),t.jsx("a",{href:g?"https://help.openai.com/en/articles/9155758-what-is-the-chatgpt-plus-model-selector":"https://help.openai.com/en/articles/7102672-how-can-i-access-gpt-4",target:"_blank",rel:"noreferrer",children:t.jsx(Fe,{className:"icon-md h-5 w-5 pl-0.5 text-token-text-tertiary"})})]},"header");if(x&&h){const u={id:"modelSection",content:[]};u.content.push(t.jsx(tt,{},"noAuthUpsell")),_.push(u)}else if(i){const u={id:"modelSection",content:[]};r.length&&u.content.push(xe);const y=new Map;r.forEach(C=>{var L;const I=t.jsx(vt,{category:C,currentGizmoId:l,currentModelId:o,modelSwitcherDenialsBySlug:c,omitIcon:A});C.subcategory?(y.has(C.subcategory)||y.set(C.subcategory,[]),(L=y.get(C.subcategory))==null||L.push(I)):u.content.push(I)}),y.forEach((C,I)=>{const L=r.find(Z=>Z.subcategory===I&&Z.defaultModel===s.id);u.content.push(t.jsxs(M.Sub,{children:[t.jsx(M.SubMenuTrigger,{children:t.jsxs("div",{className:"flex grow justify-between gap-2 overflow-hidden",children:[I,!!L&&t.jsx("div",{className:"truncate text-token-text-tertiary",children:L.label})]})}),t.jsx(M.Portal,{children:t.jsx(M.SubContent,{className:"min-w-72",children:C})})]}))}),_.push(u)}else{const u={id:"modelSection",content:[]};u.content.push(t.jsx(O,{value:"",onClick:fe,modelSwitcherDenialsBySlug:c,isUpgradeUpsell:!0,renderName:y=>t.jsx(Y,{icon:Ge,isDisabled:y,name:p.formatMessage({id:"mzDzkX",defaultMessage:"ChatGPT Plus"}),description:p.formatMessage({id:"bqTHri",defaultMessage:"Our smartest model & more"}),omitIcon:!1}),isSelected:!1,showNewChatHint:!1},"plusUpgrade")),u.content.push(t.jsx(O,{value:z.AUTO,modelSwitcherDenialsBySlug:c,renderName:y=>t.jsx(Y,{icon:He,name:p.formatMessage({id:"U9E7Rx",defaultMessage:"ChatGPT"}),description:p.formatMessage({id:"n96qML",defaultMessage:"Great for everyday tasks"}),isDisabled:y,omitIcon:!1}),isSelected:!l&&o===z.AUTO,showNewChatHint:!0},z.AUTO)),_.push(u)}const E={id:"otherOptionsSection",content:[]},{selectedCategory:H}=me(o,r,a);return m&&(D&&E.content.push(t.jsx(B,{isSelected:H===N.ALPHA,currentModel:s,option:j,modelSwitcherDenialsBySlug:c},j.value)),R&&E.content.push(t.jsx(B,{currentModel:s,isSelected:H===N.EXPERIMENTS,option:b,modelSwitcherDenialsBySlug:c},b.value)),he&&E.content.push(t.jsx(B,{isSelected:H===N.MAINLINE,currentModel:s,option:v,modelSwitcherDenialsBySlug:c},v.value))),w&&E.content.push(t.jsx(wt,{clientThreadId:e},"c")),E.content.length&&_.push(E),h||_.push({id:"temporaryChatSection",content:[t.jsx(bt,{clientThreadId:e},"tempChat")]}),_}function Y({isDisabled:e,name:n,icon:s,categoryId:o,description:l,extra:r,omitIcon:a}){return t.jsxs("div",{className:"flex items-center gap-3",children:[!a&&t.jsx("span",{className:"flex h-7 w-7 flex-shrink-0 items-center justify-center rounded-full bg-token-main-surface-secondary",children:s?t.jsx(s,{className:"h-4 w-4 text-token-text-primary"}):o&&t.jsx(pt,{type:"filled",className:k("h-4 w-4",e&&"text-gray-300",!e&&"text-token-text-primary"),categoryId:o})}),t.jsxs("div",{children:[n,t.jsxs("div",{className:k(!e&&"text-token-text-secondary","text-xs"),children:[l,r]})]})]})}function Nt({sections:e}){return t.jsx(t.Fragment,{children:e.map((n,s)=>t.jsxs(Ee.Fragment,{children:[s!==0?t.jsx(M.Separator,{}):null,n.content]},n.id))})}function zt({clientThreadId:e,inMobileHeader:n=!1}){const s=de(e);return s==null?t.jsx(jt,{clientThreadId:e,inMobileHeader:n}):t.jsx(St,{clientThreadId:e,gizmoId:s,inMobileHeader:n})}const _t=Ie({gpt35ShortExplainer:{defaultMessage:"Great for everyday tasks",id:"ModelSwitcher.gpt35ShortExplainer"},modelTunerSmartSelectionTitle:{id:"czjW8I",defaultMessage:"Dynamic"},modelTunerSmartSelectionExplainer:{id:"gp/YH1",defaultMessage:"Optimized for speed and intelligence"},gpt4ShortExplainer:{defaultMessage:"With DALL路E, browsing and analysis",id:"ModelSwitcher.gpt4ShortExplainer"},gpt4ShortExplainerWithoutBrowse:{defaultMessage:"With DALL路E and analysis",id:"ModelSwitcher.gpt4ShortExplainerWithoutBrowse"},gpt4UpsellExplainer:{id:"ModelSwitcher.gpt4Upsell",defaultMessage:"Our smartest and most capable model. Includes DALL路E, browsing and more."},userUpgrade:{id:"ModelSwithcer.upgradeButton",defaultMessage:"Upgrade to Plus"},userUpgradeSignup:{id:"ModelSwitcher.signupUpgradeButton",defaultMessage:"Sign up for ChatGPT Plus"},temporaryChat:{id:"ModelSwitcher.temporaryChat",defaultMessage:"Temporary chat"},shareChat:{id:"ModelSwitcher.shareChat",defaultMessage:"Share chat"}}),Et=60,Gt=({children:e,scrollViewClassName:n,scrollAnchorTopOffset:s=0})=>{const o=U.useRef(null);return t.jsx("div",{className:"h-full",ref:o,children:t.jsx(De,{children:t.jsx(mt,{className:"h-full",followButtonClassName:"hidden",initialScrollBehavior:"auto",scrollViewClassName:n,scroller:()=>Tt(o,s)?0:1/0,children:e})})})},Tt=(e,n)=>{const s=At(e.current);if(s==null)return!1;const o=s>n,l=s<n-Et;return!o&&!l};function At(e){if(!e)return null;const n=e.querySelector('[data-scroll-anchor="true"]');if(!n)return null;const s=n.getBoundingClientRect().top,o=e.getBoundingClientRect().top;return s-o}export{gt as C,ee as G,pt as M,zt as T,Gt as W,Rt as a,Ht as b,ue as u};
//# sourceMappingURL=lsfi6dlqht91ibg3.js.map
