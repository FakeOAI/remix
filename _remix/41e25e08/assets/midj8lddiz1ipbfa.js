const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/gk96649ub1pbgjo7.js","assets/ius2rjc8aciuj2rl.js","assets/lzyd9n5t1klxadwf.js","assets/root-nu4yhphs.css","assets/jdz9mwngh3t5nytb.js","assets/conversation-small-mclg7qvi.css","assets/gh97h5wmaiswo7ni.js","assets/oy4uroqongt50tdh.js","assets/ohr11q9jfhdrs62c.js","assets/og6klen52wg15s6b.js","assets/jxn2hsz21dzfafcn.js","assets/bt3rjqq715dlb9rk.js","assets/o9abjlquvgplxwex.js","assets/itvvna1wmnp67bph.js","assets/m5a7bnos0yxlttcx.js","assets/kjc4oshqrhzrg3a0.js","assets/nz7exheo0ysu8iuh.js","assets/ffwsu9upc6u27gy7.js","assets/penzh2nz9eiif9nk.js","assets/aqi81kj2jfuatpvj.js","assets/ivfy4ocqhs25s40q.js","assets/frgkesjr4ohtrucy.js","assets/n0xyk1p8mg8xlrhw.js","assets/vx5bizwg1cu9jie5.js","assets/bixdynutlthfnow9.js","assets/bii0ba6df7fk4nts.js","assets/nrbhchjhpmcxnzn5.js","assets/nsq2pgu8tq1tcawc.js","assets/fhdlfdpwiavhel0q.js","assets/neli2etkemqy682b.js","assets/e695g0c5z01sstpf.js","assets/hjx4812z2u7dvhgn.js","assets/o64sfjk1jas6g7zs.js","assets/f60fewrenqt9z1gc.js","assets/m4r389o9pzt9brms.js","assets/i2h90m54554wkshr.js","assets/lftg5tnrum5506lg.js","assets/mc6hqckm2bovm7c7.js","assets/cvktv0ro8m6p4z5c.js","assets/ezajklp2uldo4ehy.js","assets/grbxfkczl79xsyet.js","assets/hdjgf6zsg638vv66.js","assets/bh4kjvk3v4d9k3jy.js","assets/luy2tpz5j1tp7o3c.js","assets/bmkzp1rg2dyojp4j.js","assets/kqwdyvkaaavvn8k3.js","assets/howlcyslqvylg9xo.js","assets/mc3ls6h5nfx6hnle.js","assets/b4blg87f4hk0sv9u.js","assets/flwz54elvf71vzv6.js","assets/jztv8relggk7ivv2.js","assets/kmnmauzwuq5adycj.js","assets/nhypl2d7pkfgtosq.js","assets/eqm4edxaoi446921.js","assets/iwwjngk487xweh0v.js","assets/k5fp8nl10c1pgrr7.js","assets/983a0dy92b3ronpv.js","assets/m4cpf4jnw4zeiidw.js","assets/jw139tau8dicpud8.js","assets/l8s0dq5l5641ff1x.js","assets/mvelxfnasjxd6rg2.js","assets/l9a745u6u4i9y22z.js","assets/irdgh4803y6zg4hd.js","assets/hkz2eny9u624hj3x.js","assets/fyy1hv1ae71588g9.js","assets/ojvfpjernz0e6rth.js","assets/sso-ctg9a5sq3kglttk3.js","assets/u6thjkb4r1eqndx3.js","assets/0bwk4yohoavyqsv1.js","assets/l2j01q810j3zjzww.js","assets/ky5ok5k0ed6x3vme.js","assets/eduhtg8y78f7tze9.js","assets/ft4dy4z5nigizpf8.js","assets/mu9ke4rpa9rfyp02.js","assets/itghwucfyv5ciib7.js","assets/fqbvvmg349ntwq4o.js","assets/jpag4ehj1efp4ih5.js","assets/n26tmesjrowexjbj.js","assets/oz00974pnbcwk981.js","assets/iewlaw4gerpbcunt.js","assets/nhwwej1nq0zrd7sc.js","assets/io77c0notgzmatr6.js","assets/n9zyleymc3kvbr89.js","assets/eoacf68t850etpy2.js","assets/bvgjh7k2bvk548yv.js","assets/k24m5penms4frrso.js","assets/pb191eqwuvlbklct.js","assets/ybdlh0et9a3200gw.js","assets/iej0cupg2dqkmejt.js","assets/j182y8iwep147689.js","assets/hj3i75w5vshc3jll.js","assets/jk8w36bsokizpx57.js","assets/666aza9h89iaqdaw.js","assets/okbbzgcxywoz0l9o.js","assets/nq6m9u1jii0eyuhu.js","assets/esf1w59tineqx7a9.js","assets/swiper-kmk1dd5x.css","assets/j4naqzko3opcrc4d.js","assets/nozun60jwjddvdlp.js"])))=>i.map(i=>d[i]);
import{t as s,bF as q,b4 as Ae,b5 as we,b2 as _e,r,D as G,aT as O,j as Te,S as I,P as ue,d as ge,a8 as A,ad as W,O as Xe,a3 as H,ag as Pe,ae as Je,a5 as m,a6 as p,aj as Ee,bS as Ze,bR as es,bP as ss,aW as as,a1 as Ne,bz as Oe,bA as ts,aa as os,aA as ns,T as h,aU as is,a as Le,ab as fe,bp as rs,dP as $,fe as cs,fa as ls,af as ds,co as De,d6 as k,fq as us,s as he,a$ as gs,c$ as fs,d0 as hs,d1 as ms,b_ as ps,ay as bs,u as xs}from"./ius2rjc8aciuj2rl.js";import{j as Cs,k as Q,T as Be}from"./n0xyk1p8mg8xlrhw.js";import{hk as Y,cF as Ss,hl as Ve,hm as Ie,hn as Ms,ho as Fe,u as ks,hp as vs,hq as js,S as ys,hr as As,hs as ws,bE as F,ht as _s,hu as Ts,hv as Ps,hw as Es,ez as Ns,hx as Os,hy as Ls,hz as Ds,hA as Bs,hB as Vs,hC as Is,hD as Fs,hE as Rs,hF as Gs,hG as Ws,hH as Hs,hI as zs,hJ as Us,hK as $s,hL as Ks,hM as qs,ch as X,hN as Qs,hO as Ys,eK as Xs,cT as Re,ca as Js,fd as me,cv as Zs,hP as Ge,hQ as We,gR as ea,af as sa,hR as aa,g_ as pe,fU as ta,bV as K,bW as be,hS as oa,hT as xe,dC as g,hU as na,aG as ia,hV as Ce,hW as Se,dE as ra,bx as ca,hX as la,hY as da,hZ as ua,h_ as ga,c$ as fa,b_ as ha,h$ as ma,i0 as pa,c4 as ba,c5 as Me,i1 as xa,v as Ca,ck as Sa,i2 as Ma,cl as ka,df as va,i3 as ja,dg as ya,i4 as Aa}from"./jdz9mwngh3t5nytb.js";import{U as f,G as T,u as y,c as He,d as V,b as wa}from"./kjc4oshqrhzrg3a0.js";import{T as R,c as _a,m as Ta,d as Pa}from"./ohr11q9jfhdrs62c.js";import{u as Ea}from"./o9abjlquvgplxwex.js";import{L as Na}from"./itvvna1wmnp67bph.js";import{S as ke,b as Oa,c as La,N as Da}from"./l8s0dq5l5641ff1x.js";import{u as ze,a as Ba,g as Va}from"./mvelxfnasjxd6rg2.js";import{S as Ia,C as Fa,H as Ra}from"./l9a745u6u4i9y22z.js";import{b as Ga,f as Wa,a as Ue}from"./aqi81kj2jfuatpvj.js";import{u as Ha,q as za}from"./frgkesjr4ohtrucy.js";import{J as Ua}from"./oy4uroqongt50tdh.js";import{m as ve}from"./og6klen52wg15s6b.js";import{bC as $a,bD as Ka}from"./lzyd9n5t1klxadwf.js";import{C as qa}from"./hkz2eny9u624hj3x.js";const Qa=60*60*24;function Ya(e,a=!1){return q()==null||a?"loading":!e||Ae.getCookie(we.AgeVerification)||e.ageVerificationDeadline==null||e.ageVerificationType==="none"?"hide":"show"}function Xa({onClose:e}){const{data:{ageVerificationType:a,ageVerificationDeadline:t}={}}=Y();return a==="passive"?s.jsx(Ja,{onClose:e}):a==="countdown"&&t!=null?s.jsx(Za,{onClose:e,ageVerificationDeadline:t}):null}const Ja=({onClose:e})=>{const{country:a}=_e();return r.useEffect(()=>{G.addAction("privacy_policy.show_age_verification_modal",{country:a})},[a]),s.jsx(Ss,{onClose:e,title:"OpenAI 서비스 이용 가능 연령기준을 확인해 주세요",description:s.jsx("div",{className:"whitespace-pre-wrap",children:s.jsxs("p",{children:["ChatGPT를 이용해주셔서 감사합니다. 대한민국의 법령상 요건을 준수하기 위해, OpenAI는 귀하가 OpenAI 서비스를 이용할 수 있는 나이인지 확인하여야 합니다. ChatGPT를 계속 이용하시려면, 귀하가 18세 이상이거나, 14세 이상이고 부모 또는 보호자의 허락을 받았음을 확인해 주세요.",s.jsx("br",{}),s.jsx("br",{}),"OpenAI의 연령기준 미달시"," ",s.jsx("a",{href:"https://privacy.openai.com/policies?action=ERASURE&modal=log-in",className:"underline",target:"_blank",rel:"noreferrer",children:"이 페이지에서 계정을 삭제해 주세요."})]})}),actionButton:s.jsx(O,{color:"primary",onClick:async()=>{await Te.updateAgeVerification(),e()},children:"저는 OpenAI의 연령기준을 충족합니다"}),cancelButton:s.jsx(O,{as:"link",color:"secondary",to:"/auth/logout",children:"로그아웃"})})},Za=({onClose:e,ageVerificationDeadline:a})=>{const t=a!=null?Math.floor(a/60/60/24):0;r.useEffect(()=>{I.logEvent("chatgpt_compliance_age_verification_seen"),ue.logEvent(ge.complianceAgeVerificationSeen)},[]);const{country:o}=_e();return r.useEffect(()=>{G.addAction("privacy_policy.show_age_verification_countdown",{country:o})},[o]),s.jsxs(Ve,{children:[s.jsx(Ie,{className:"text-sm font-semibold [grid-area:_title]",children:s.jsx(A,{...je.ageVerificationTitle,values:{deadline:t,learnMoreLink:i=>s.jsx("a",{href:"https://help.openai.com/en/articles/8411987-why-am-i-being-asked-to-verify-my-age",target:"_blank",rel:"noreferrer",className:"cursor-pointer font-normal underline",children:i})}})}),s.jsx(Ms,{altText:"Dismiss notification",asChild:!0,children:s.jsx(O,{color:"primary",size:"small",onClick:()=>{I.logEvent("chatgpt_compliance_age_verification_clicked"),ue.logEvent(ge.complianceAgeVerificationClicked),Ae.setCookie(we.AgeVerification,"true",{maxAge:Qa,path:"/"}),e(),f.openModal(T.AgeVerificationInterstitial)},children:s.jsx(A,{...je.startVerification})})}),s.jsx(Fe,{})]})},je=W({ageVerificationTitle:{id:"ageVerificationBanner.title-v1",defaultMessage:"Please verify your age in the next {deadline, plural, =0 {# days} one {# day} other {# days}}. We are required to check if you're old enough to use ChatGPT. <learnMoreLink>Learn more</learnMoreLink>."},dismiss:{id:"ageVerificationBanner.dismiss",defaultMessage:"Dismiss"},startVerification:{id:"ageVerificationBanner.startVerification",defaultMessage:"Start verification"},modalTitle:{id:"ageVerificationModal.title",defaultMessage:"Please confirm you meet our age requirements"},modalDescription:{id:"ageVerificationModal.description.1",defaultMessage:"Thank you for using ChatGPT. To comply with legal requirements in Korea, we need to confirm that you’re old enough to use our service. To continue on ChatGPT, please confirm that you are 18+ or are 14+ and have your parent or guardian’s permission to use ChatGPT. <deleteAccountLink>If you do not meet our age requirements, please delete your account.</deleteAccountLink>"},modalLogout:{id:"ageVerificationModal.logOut",defaultMessage:"Log out"},modalAction:{id:"ageVerificationModal.actionButton",defaultMessage:"I meet OpenAI's age requirements"}});function et({onClose:e}){const a=H(),t=Pe(),{openSettings:o}=ks(),i=vs(),{session:n}=Je(),{data:{isStorageComplianceEnabled:c}={}}=Y(),{data:l,isLoading:x}=js({enabled:!!(c&&n),select:d=>!d.cookie_consent.is_required});return r.useEffect(()=>{l===!0&&e()},[l,e]),x?null:s.jsx(st,{onReject:()=>{i.mutateAsync({analytics_cookies_accepted:!1},{onSuccess(){t.success(a.formatMessage(_.updateSuccess))},onError(){t.danger(a.formatMessage(_.updateFailure))}}),e()},onAccept:()=>{i.mutateAsync({analytics_cookies_accepted:!0},{onSuccess(){t.success(a.formatMessage(_.updateSuccess))},onError(){t.danger(a.formatMessage(_.updateFailure))}}),e()},children:s.jsx(A,{id:"CookieConsentBanner.authedDescription.0",defaultMessage:"We use cookies and similar technologies to deliver, maintain, improve our services and for security purposes. Check our <cookiePolicy>cookie policy</cookiePolicy> for details. Click 'Accept all' to let OpenAI and partners use cookies for these purposes. Click 'Reject all' to say no to cookies, except those that are strictly necessary. Choose <manageLink>manage cookies</manageLink> to change your preferences.",values:{cookiePolicy:d=>s.jsx(Na,{href:"https://openai.com/policies/cookie-policy",openNewTab:!0,children:d}),manageLink:d=>s.jsx(at,{onClick:()=>{o(ys.DataControls)},children:d})}})})}function st({children:e,onAccept:a,onReject:t}){return r.useEffect(()=>{G.addAction("privacy_policy.show_cookie_consent_banner")},[]),s.jsxs(Ve,{children:[s.jsxs(Ie,{className:"text-sm font-semibold [grid-area:_title]",children:[e,s.jsxs("div",{className:"mt-2 flex justify-end gap-3",children:[s.jsx(O,{color:"secondary",size:"small",onClick:t,children:s.jsx(A,{..._.reject})}),s.jsx(O,{color:"secondary",size:"small",onClick:a,children:s.jsx(A,{..._.accept})})]})]}),s.jsx(Fe,{})]})}const at=Xe.button`underline font-normal text-green-600`,_=W({cookieConsentBannerTitle:{id:"CookieConsentBanner.title",defaultMessage:"We use cookies to provide, improve, and protect our services. Visit our <privacyPolicyLink>privacy policy</privacyPolicyLink> to learn more. You can manage your cookie preferences in your <settingsPanel>settings panel</settingsPanel>. <learnMoreLink>Learn more</learnMoreLink>."},reject:{id:"CookieConsentBanner.reject",defaultMessage:"Reject all"},accept:{id:"CookieConsentBanner.accept",defaultMessage:"Accept all"},updateSuccess:{id:"CookieConsentBanner.updateSuccess",defaultMessage:"Your cookie preferences were updated successfully"},updateFailure:{id:"CookieConsentBanner.updateFailure",defaultMessage:"Unable to update cookie preferences. Try again later."}}),tt=m(()=>p(async()=>{const{ModelOnboardingNUXModal:e}=await import("./gk96649ub1pbgjo7.js");return{ModelOnboardingNUXModal:e}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])).then(({ModelOnboardingNUXModal:e})=>e),{ssr:!1}),ot=({onClose:e})=>{const a=H(),t=F(X.isBusinessWorkspace),o=F(n=>n.currentWorkspace),i=t?a.formatMessage(ye.workspaceWelcome,{workspaceName:o?.name}):"ChatGPT";return s.jsx(Oe,{isOpen:!0,onClose:ts,type:"success",title:i,size:"custom",noPadding:!0,className:"max-w-3xl",description:a.formatMessage(ye.personalOnboardingSubheading),children:s.jsx(Qs,{onClose:e,scope:Ys.Personal})})};function nt(){const[e,a]=r.useState(0),{hasSeenOnboardingDate:t}=As(),{hasSeenTeamOwnerOnboardingDate:o}=ws(),i=F(X.isBusinessWorkspace),n=Ee(),[c,l]=r.useState(!1),{data:x,isPending:d}=Y(),v=Ya(x,d),{eligible:M,isLoading:P}=Ea(),L=Ze(),D=es(),E=ss(),{data:b,isError:j}=as(),C=b!=null,N=b&&b?.accountItems.length>1&&b.currentAccountId==null,B=b?.accountItems.some(u=>u.isPersonalAccount()),S=!!b?.accountItems&&b.accountItems.length>0&&b.accountItems.every(({canAccessWithCurrentSession:u})=>!u),{eligible:J,isLoading:Z}=_s(),{value:ee}=Ne("1542198993"),{punchOutRequireLoginInfo:se}=Ts(),{state:ae}=Ps(),{isOpen:te,isLoading:oe}=Es(),{isOpen:ne,isLoading:ie}=Ns(),{isOpen:re,isLoading:ce}=Os(),{state:le}=Ls(),w=r.useMemo(()=>[{Component:Ds,getModalState:()=>se?"show":"hide",isDeferrable:!1},{Component:Bs,getModalState:()=>ae,isDeferrable:!1},{Component:Vs,getModalState:()=>le,isDeferrable:!1},{Component:Is,getModalState:()=>oe?"loading":te?"show":"hide",isDeferrable:!1},{Component:Fs,getModalState:()=>ce?"loading":re?"show":"hide",isDeferrable:!1},{Component:ot,getModalState:()=>i?"hide":t===null?"loading":t===!1?"show":"hide",isDeferrable:!0},{Component:Rs,getModalState:()=>j?"hide":N?"show":C?"hide":"loading",isDeferrable:!1},{Component:Gs,getModalState:()=>L!==null?"show":j||C?"hide":"loading",isDeferrable:!1},{Component:Ws,getModalState:()=>D!==null?"show":j||C?"hide":"loading",isDeferrable:!1},{Component:Hs,getModalState:()=>E!=null?"show":j||C?"hide":"loading",isDeferrable:!1},{Component:zs,getModalState:()=>C?S?"show":"hide":"loading",isDeferrable:!1},{Component:Us,getModalState:()=>ie?"loading":ne?"show":"hide",isDeferrable:!1},{Component:et,getModalState:()=>"hide",isDeferrable:!1},{Component:$s,getModalState:()=>!n?.isTeam()||!n?.isOwnerOfAccount()||!B?"hide":!C||o===null?"loading":o===!1?"show":"hide",isDeferrable:!1},{Component:Ks,getModalState:()=>i?t===null?"loading":t===!1?"show":"hide":"hide",isDeferrable:!0},{Component:qs,getModalState:()=>Z?"loading":J&&ee?"show":"hide",isDeferrable:!1},{Component:Xa,getModalState:()=>v,isDeferrable:!1},{Component:tt,getModalState:()=>P?"loading":M?"show":"hide",isDeferrable:!0,expiresAt:new Date(2024,7,13)}].filter(u=>!(u.isDeferrable&&c)&&(!u.expiresAt||u.expiresAt.getTime()>Date.now())),[se,ae,E,C,t,o,B,P,i,j,L,D,n,S,N,v,M,c,ee,J,Z,te,oe,re,ce,le,ie,ne]);r.useEffect(()=>{if(w[e]&&w[e].getModalState()==="hide"){const u=w.findIndex(Ye=>Ye.getModalState()!=="hide");a(u)}},[e,w]);const z=w[e],U=z?.getModalState()==="show";if(r.useEffect(()=>{const u=y.getState().activeModals.has(T.BlockingInitialComponent);U!==u&&(U?f.openModal(T.BlockingInitialComponent):f.closeModal(T.BlockingInitialComponent))},[U]),z==null)return s.jsx("span",{"data-testid":"blocking-initial-modals-done",className:"hidden"});const de=z.getModalState();if(de==="loading")return null;de==="hide"&&a(u=>u+1);const Qe=w[e].Component;return s.jsx(Qe,{onClose:()=>{l(!0),a(u=>u+1)}})}const ye=W({workspaceWelcome:{id:"BlockingInitialModals.workspaceWelcome",defaultMessage:"Welcome to the {workspaceName} workspace"},personalOnboardingSubheading:{id:"BlockingInitialModals.personalOnboardingSubheading",defaultMessage:"Tips for getting started"}}),it=m(()=>p(()=>import("./m5a7bnos0yxlttcx.js"),__vite__mapDeps([14,1,2,3,8,4,5,9,7,10,11,15,16,17,18,19,20,21,22,23,12,13,24,25,26,27,28,29,30,6,31,32,33,34,35,36,37,38,39,40,41,42])).then(e=>e.DebugConversationSidebar));function $e({clientThreadId:e}){rt();const a=q(),t=a?.includes("debug"),o=os(),i=y(c=>c.activeSidebar),n=a?.includes("debug")&&i==="debug";return!t||!n?null:s.jsx(it,{clientThreadId:e,slideOver:!Xs(o),onClose:()=>f.toggleActiveSidebar("debug"),isOpen:!0})}function rt(){const a=q()?.includes("debug");r.useEffect(()=>{if(!a)return;const t=new AbortController;return document.addEventListener("keydown",o=>{o.target instanceof HTMLElement&&["input","textarea","select","button"].includes(o.target.tagName.toLowerCase())||o.key==="\\"&&f.toggleActiveSidebar("debug")},{signal:t.signal}),()=>{t.abort()}},[a])}const ct=m(()=>p(()=>import("./luy2tpz5j1tp7o3c.js"),__vite__mapDeps([43,1,2,3,4,5,44,8,9,45,46,7,10,47])).then(e=>e.SearchSources));function lt({clientThreadId:e}){const{resolvedTheme:a}=ns(),t=a==="dark",{turnIndex:o,messageId:i,isOpen:n}=He(),c=r.useCallback(()=>{f.closeChatThreadFlyout(e)},[e]);return!i||!o||!n?null:s.jsx(Re,{anchor:"top",className:h("relative flex-1 border-l",t?"border-l-token-border-medium":"border-l-token-border-xlight"),name:"threadFlyOut",leading:s.jsx(Js,{name:"search-sources-header",type:"primary",className:h("flex min-h-[56px] items-center justify-end !bg-transparent p-1.5"),children:s.jsx("div",{className:"bg-token-main-surface-primary p-1",children:s.jsx(is,{onClick:c})})}),children:s.jsx(ct,{clientThreadId:e,turnIndex:o,messageId:i,isInSidebar:!0})})}function Ke({clientThreadId:e}){r.useEffect(()=>{f.closeSharingModal()},[e]);const a=Le();r.useEffect(()=>(R.retainThread(e),()=>{setTimeout(()=>{a.invalidateQueries({queryKey:["conversation",e]})},0),R.releaseThread(e)}),[e,a]),r.useEffect(()=>()=>{I.checkGate("3922476776")||me.abortAllRequests()},[e]);const t=r.useRef(e);r.useEffect(()=>{e!==t.current&&(I.checkGate("3922476776")||me.clear(),t.current=e)},[e])}function qe({clientThreadId:e,setClientThreadId:a}){const t=Le(),o=Zs(),i=o?{kind:fe.GizmoInteraction,gizmo_id:o}:{kind:fe.PrimaryAssistant};Ha(e,i);const n=rs(),c=Ua(e),l=r.useRef(c);l.current=c;const x=r.useCallback(()=>{a($());const M=l.current;n(M.tags.includes(cs.GPT_4)?"/":`/?model=${M.id}`,{replace:!0})},[a,n]),d=Cs({clientThreadId:e,location:"Model switcher menu item"}),v=r.useCallback(M=>{za(n,t,M)},[t,n]);return{createNewThread:d,onThreadCreated:v,resetThread:x}}const dt=m(()=>p(()=>import("./b4blg87f4hk0sv9u.js"),__vite__mapDeps([48,1,2,3,4,5,21,22,7,8,9,10,23,12,13,24,15,25,26,16,27,28,29,11,30,6,49,50,51,52,53,54])).then(e=>e.CanvasFocusedViewManager)),ut=m(()=>p(()=>import("./k5fp8nl10c1pgrr7.js"),__vite__mapDeps([55,1,2,3,15,10,8,4,5,9,43,44,45,46,7,47,56])).then(e=>e.SearchResultsModal));function gt({clientThreadId:e,setClientThreadId:a,urlThreadId:t,prefetchSearch:o}){const i=_a();Ke({clientThreadId:e});const{createNewThread:n,onThreadCreated:c,resetThread:l}=qe({clientThreadId:e,setClientThreadId:a});ze({resetThreadAction:l,clientThreadId:e});const x=Q(e);return s.jsxs(Be,{clientThreadId:e,children:[s.jsx(Ge,{clientThreadId:e,urlThreadId:t}),s.jsxs(ke,{hideNavigation:i,mobileHeaderContent:s.jsx(Ga,{clientThreadId:e,inMobileHeader:!0}),mobileHeaderBottomContent:s.jsx(Wa,{clientThreadId:e}),mobileHeaderLeftContent:s.jsx(Oa,{onNewChatButtonClick:l}),mobileHeaderRightContent:s.jsx(La,{onNewChatButtonClick:l}),sidebar:s.jsx(Da,{navHeader:e?s.jsx(Ia,{className:"flex h-[60px] items-center md:h-header-height",onNewThread:n}):null,children:s.jsx(Fa,{clientThreadId:e,onNewThread:n})}),threadFlyout:s.jsx(lt,{clientThreadId:e}),children:[s.jsx(We,{}),s.jsx(Ue,{clientThreadId:e,onCreate:c,prefetchSearch:o},e),s.jsxs(ke.Sidebars,{children:[x&&s.jsx(dt,{clientThreadId:e}),s.jsx($e,{clientThreadId:e})]})]}),s.jsx(ft,{clientThreadId:e})]})}function ft({clientThreadId:e}){const{value:a}=Ne("218782548"),t=ea(),{isOpen:o}=He();return o&&(!t||!a)&&s.jsx(ut,{clientThreadId:e})}const ht=450;function mt({children:e,clientThreadId:a,isOpen:t,onClose:o}){return s.jsx(sa,{children:t&&s.jsx(ls,{children:s.jsx(aa.Provider,{value:{isEmbeddedInFocusedView:!0},children:s.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[s.jsx(ve.div,{className:"h-full w-full bg-token-main-surface-secondary",...pe}),s.jsxs("div",{className:"absolute inset-0 flex",children:[s.jsx("div",{className:"flex-grow overflow-auto",children:e}),s.jsx(ve.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:ht},...pe,children:s.jsx("div",{className:"h-[100vh] pb-4",children:s.jsx(Ue,{clientThreadId:a,hideHeader:!0,hideFooter:!0,hideToolsOverlay:!0,messagesVerticalAlign:"bottom"},a)})})]})]})})})})}const pt=m(()=>p(()=>import("./m4cpf4jnw4zeiidw.js"),__vite__mapDeps([57,1,2,3,4,5,21,22,7,8,9,10,23,12,13,24,15,25,26,16,27,28,29,11,30,6]))),bt=m(()=>p(()=>import("./jw139tau8dicpud8.js"),__vite__mapDeps([58,1,2,3,4,5,38,21,22,7,8,9,10,23,12,13,24,15,25,26,16,27,28,29,11,30,6,59,40,60,61,62,19,20,31,32,33,34,35,36,37,39,41,42,63])).then(e=>e.ImageEditor));function xt({clientThreadId:e}){const a=ta();r.useEffect(()=>{K.close()},[e]);let t;return a?.type===be.ADAVisualization?t=s.jsx(pt,{clientThreadId:e,visualization:a.visualization}):a?.type===be.Image&&(t=s.jsx(bt,{clientThreadId:e,messageId:a.messageId,image:a.image,allImages:a.allImages},a.image.asset_pointer)),s.jsx(mt,{clientThreadId:e,isOpen:a!=null,onClose:K.close,children:t})}const Ct=()=>{const e=H(),a=y(n=>n.activeModals.has(T.KeyboardActions)),t=()=>{f.closeModal(T.KeyboardActions)},o=Ba(),i=r.useMemo(()=>{const n=Math.ceil(o.length/2);return[o.slice(0,n),o.slice(n)]},[o]);return s.jsx(Oe,{isOpen:a,onClose:t,type:"success",size:"custom",className:"md:max-w-[672px] lg:max-w-[796px] xl:max-w-4xl",showCloseButton:!0,title:e.formatMessage(kt.keyboardActionsModalTitle),children:s.jsx(s.Fragment,{children:s.jsx("div",{className:"grid grid-flow-row grid-cols-[repeat(auto-fit,minmax(250px,1fr))] gap-x-9",children:i.map((n,c)=>s.jsx("div",{className:"flex flex-col overflow-hidden",children:n.map(l=>s.jsx(St,{action:l},l.key))},`col-${c}`))})})})},St=({action:e})=>s.jsxs("div",{className:"flex items-center justify-between overflow-hidden text-token-text-primary",children:[s.jsx("div",{className:"flex flex-shrink items-center overflow-hidden text-sm",children:s.jsx("div",{className:"truncate",children:s.jsx(A,{...e.actionMessageDescriptor})})}),s.jsx("div",{className:"ml-3 flex flex-row gap-2",children:Va(e.keyboardBinding).map((a,t)=>s.jsx(Mt,{keyName:a},`${e.key}-${t}`))})]}),Mt=({keyName:e})=>{const a=h("my-2 flex h-8 items-center justify-center rounded-md border border-token-border-light capitalize text-token-text-secondary");return e.length>1?e.length>3?s.jsx("div",{className:h(a,"min-w-[50px]"),children:s.jsx("span",{className:"text-xs",children:e})}):s.jsx("div",{className:h(a,"min-w-[32px]"),children:s.jsx("span",{className:"text-xs",children:e})}):s.jsx("div",{className:h(a,"min-w-[32px]"),children:s.jsx("span",{className:"text-sm",children:e})})},kt=W({keyboardActionsModalTitle:{id:"KeyboardActionsModal.keyboardActionsModalTitle",defaultMessage:"Keyboard shortcuts"}}),vt=m(()=>p(()=>import("./fyy1hv1ae71588g9.js"),__vite__mapDeps([64,1,2,3,4,5,34,7,8,9,10,15,61,23,62,11,6,60,22,12,13,24,25,26,16])).then(e=>e.GizmoSidebarList));function jt({clientThreadId:e}){const a=Ee(),t=Ta(e),o=Pa(e),{isUnauthenticated:i}=ds(),n=De();return i?null:s.jsxs("div",{className:h(k.screenContent),children:[s.jsx(Ra,{activeId:n?void 0:o}),a?.canInteractWithGizmos()?s.jsx(vt,{currentGizmoId:t}):null]})}const yt=m(()=>p(()=>import("./ojvfpjernz0e6rth.js"),__vite__mapDeps([65,1,2,3,4,5,22,7,8,9,10,23,12,13,24,15,25,26,16,59,40])).then(e=>e.UserProfileBar),{ssr:!0});function At(){const e=y(V.isGptListVisible),a=y(V.isHistoryShowMoreVisible),t=y(V.isHistoryCollapsed),o=y(V.isGptListCollapsed),i=r.useCallback(()=>{t||f.toggleHistoryCollapsed(),o&&f.toggleGptListCollapsed()},[t,o]),n=[];return!t&&!a&&n.push(s.jsx(xe,{onClick:f.toggleHistoryCollapsed,children:s.jsx(A,{id:"1poXLj",defaultMessage:"See less"})},"see-less")),e||n.push(s.jsx(xe,{onClick:i,children:s.jsx(A,{id:"DnQZfo",defaultMessage:"See GPTs"})},"see-gpt")),s.jsxs(oa,{className:h(k.screenTrailingBarContainer),children:[n,s.jsx(yt,{})]})}const wt=m(()=>p(()=>import("./sso-ctg9a5sq3kglttk3.js").then(e=>e.f),__vite__mapDeps([66,1,2,3,21,4,5,22,7,8,9,10,23,12,13,24,15,25,26,16,27,28,29,11,30,6,67,68,69,70,71,72,73,74,75,76,77,56,42,44,45,46,78,79,17,80,81,82,60,34,83,37,84,85,86,87,88,89,90,91,35,41,92,93,62,94,95,96])).then(e=>e.FannyPackIconButton),{ssr:!1});function _t({onNewThread:e}){const a=H(),t=!wa(),[o,i]=r.useState(t?g.Pinned:g.Closed);na({checkElement:l=>l?.tagName==="NAV",enabled:o===g.Floating,onLightDismiss(){i(g.Closed),f.toggleDesktopNavCollapsed(!0)}});const{isFannyPackEnabled:n}=ia(),c=r.useRef(null);return s.jsxs("div",{className:h(k.screenHeader),children:[s.jsxs("div",{className:"mt-[3px] flex min-h-[var(--screen-thread-header-min-height)] w-full flex-1 justify-between pl-[9px]",children:[s.jsxs("div",{className:"grid items-center gap-1",children:[s.jsx(Ce,{inputRef:c,className:h(k.closeSidebarAction),checked:o===g.Closed,onClick:l=>{o===g.Pinned?(l.preventDefault(),Se({css:la,update:()=>{i(g.Closed),f.toggleDesktopNavCollapsed(!0)}})):(i(g.Closed),f.toggleDesktopNavCollapsed(closed))},icon:s.jsx(ra,{}),label:a.formatMessage({id:"fM0vj3",defaultMessage:"Close Sidebar"}),group:"sidebar",value:g.Closed}),s.jsx("input",{className:"sr-only",checked:o===g.Floating,id:"sidebar-floating",onChange:l=>{l.currentTarget.checked&&i(g.Floating)},name:"sidebar",type:"radio",value:g.Floating})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:k.togglePinWrapper,children:s.jsx(Ce,{className:h(k.pinSidebarAction),checked:o===g.Pinned,onClick:l=>{l.preventDefault(),Se({css:da,update:()=>{f.toggleDesktopNavCollapsed(!1),i(g.Pinned),c.current?.focus()}})},icon:s.jsx($a,{}),label:a.formatMessage({id:"JZfuR3",defaultMessage:"Toggle Sidebar Pin"}),group:"sidebar",value:g.Pinned})}),n&&s.jsx(wt,{className:k.searchAction,icon:s.jsx(Ka,{className:"h-5 w-5"})})]})]}),s.jsx(ca,{onNewThread:e})]})}function Tt({clientThreadId:e,onNewThread:a}){return s.jsx(Re,{anchor:"top",className:h(k.screen,k.screenProps,"flex-1 border-r border-r-token-border-xlight"),name:"sidebar",leading:s.jsx(_t,{onNewThread:a}),trackLeading:!0,trailing:s.jsx(At,{}),children:s.jsx(jt,{clientThreadId:e})})}const Pt=m(()=>p(()=>import("./b4blg87f4hk0sv9u.js"),__vite__mapDeps([48,1,2,3,4,5,21,22,7,8,9,10,23,12,13,24,15,25,26,16,27,28,29,11,30,6,49,50,51,52,53,54])).then(e=>e.CanvasFocusedViewManager));function Et({clientThreadId:e,setClientThreadId:a,urlThreadId:t}){Ke({clientThreadId:e});const{createNewThread:o,onThreadCreated:i,resetThread:n}=qe({clientThreadId:e,setClientThreadId:a});ze({resetThreadAction:n,clientThreadId:e});const c=Q(e);return s.jsxs(Be,{clientThreadId:e,children:[s.jsx(Ge,{clientThreadId:e,urlThreadId:t}),s.jsx(We,{}),s.jsx(ua,{className:us.application,sidebar:s.jsx(Tt,{clientThreadId:e,onNewThread:o}),thread:s.jsx(qa,{clientThreadId:e,onNewThread:o,onThreadCreated:i}),details:c&&s.jsx(Pt,{clientThreadId:e}),debugger:s.jsx($e,{clientThreadId:e})})]})}var Nt={};const Ot=m(()=>p(()=>import("./j4naqzko3opcrc4d.js"),__vite__mapDeps([97,1,2,3,4,5,21,22,7,8,9,10,23,12,13,24,15,25,26,16,27,28,29,11,30,6,98])));function Jt(e){const{urlThreadId:a,clientThreadId:t,prefetchSearch:o}=e,i="serviceStatus"in e?e.serviceStatus:null;Dt();const n=De(),c=he(),[l]=gs(),x=Pe(),[d,v]=r.useState(()=>a!==void 0?a:t!==void 0?t:$());a!==void 0&&d!==a&&R.getServerThreadId(d)!==a&&v(a);const M=ga(he());r.useEffect(()=>{a===void 0&&R.getServerThreadId(d)!==void 0&&v($())},[a,d,M]);const P=fa(),L=F(X.workspaceId);Q(d);const D=ha(),{eligible:E,isLoading:b,markAsViewed:j}=ma(),C=pa();r.useEffect(()=>{(c.pathname==="/"||c.pathname.startsWith("/c/"))&&ba({namespace:Me.ChatPageLoad})==null&&(xa({namespace:Me.ChatPageLoad,opts:{expectedTimingLogs:[{name:"render_model_switcher",expectedInMs:1e4},{name:"render_history_items",expectedInMs:25e3}]}}),G.addTiming("chatgpt.web.chatPage.mounted"))},[]);const N=Ca();r.useEffect(()=>{fs(!0).then(S=>{S.force_login&&N({authType:"login"}),hs.initializeAndGatherData(S),Sa.initializeAndGatherData(S),ms.initializeAndGatherData(S)})},[N]),r.useEffect(()=>{i?.type&&P===!1&&x.warning(i.message,{hasCloseButton:!0,duration:5})},[P,i?.message,i?.type,x]),r.useEffect(()=>{const S=l.get(Ma)==="true";n!==S&&ps.setIsTemporaryChatEnabled(S)},[n,l]),r.useEffect(()=>{c.state?.focusObject&&K.setFocusedObject(c.state.focusObject)},[c.state?.focusObject]),r.useEffect(()=>{!b&&E&&(j(),C())},[E,b,j,C]);const B=D?Et:gt;return s.jsx(bs.Provider,{value:null,children:s.jsx(ka,{children:s.jsxs(va,{clientThreadId:d,children:[s.jsx(nt,{},L),s.jsx(Ct,{}),s.jsx(ja,{}),s.jsx(B,{urlThreadId:a,clientThreadId:d,setClientThreadId:v,prefetchSearch:o}),s.jsx(xt,{clientThreadId:d}),s.jsx(ya,{clientThreadId:d}),s.jsx(Lt,{}),!1,s.jsx(Aa,{})]})})})}function Lt(){const e=y(a=>a.sharingModalThreadId);return e?s.jsx(Ot,{serverThreadId:e}):null}function Dt(){xs({queryKey:["pingEdge"],queryFn:()=>Te.pingEdge(),enabled:!0,staleTime:1/0})}typeof window<"u"&&(window._g=Nt.GOKU_SERVICE);export{Jt as C,ht as F};
//# sourceMappingURL=midj8lddiz1ipbfa.js.map
