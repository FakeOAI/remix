import{j as e,e as S,X as j,r as c}from"./lklglvrzltpv3f05.js";import{fF as C,dK as g,dV as u,ba as T,as as v,f3 as l,fG as I,u as b,d5 as h,ah as P,cA as E}from"./bs81jb3dnj0a9ooo.js";import{C as N}from"./vk3urd45n068fbp5.js";import{cc as M,cd as k,ce as w,cf as y,cg as H,ch as m,ci as L,cj as O,ck as z,O as A,b as F,cl as D,cm as G,cn as U,D as q,co as K}from"./dqnh11qs4iylzde4.js";import{C as R}from"./kcbax707fusa61yn.js";import{u as V,a as W}from"./kl2bgmt55x84dzak.js";import X from"./o0o6gy2e3326wbq1.js";import{u as Z,C as _,b as B,c as J}from"./gvb01y8e3gtx9uk5.js";import{C as Q}from"./lm05wfnyeik1mmhh.js";import"./fasl8n0uuvqqz6kl.js";import"./o9qagrry9v4fk81h.js";import"./ki5sjeil9n6qb61m.js";import"./l64ci4rg34pgsa0c.js";import"./eoh3qcov0jni3wda.js";import"./b8bhangluakgeeen.js";import"./k1m1j9jgmhdxh3ab.js";import"./ddifxjh0oc533rwq.js";import"./kmh8l7b1wdjf04lr.js";import"./l4unnovbfpynn3u7.js";function x(){const{clientThreadId:a,currentModelId:r,conversationLeafId:t,onRequestCompletion:d}=V(),{showEmptyState:i}=Z({clientThreadId:a,currentLeafId:t}),o=M()[r],s=C(a),n=k(),p=g(),f=u();return e.jsx(T.Provider,{value:d,children:e.jsx(w,{children:e.jsxs(y,{clientThreadId:a,currentLeafId:t,children:[e.jsx(H,{children:s!=null&&e.jsx("title",{children:s})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(m,{id:"canvas-state",name:"canvas-state",checked:n}),e.jsx(m,{id:"thread-extended-info-sidebar-state",name:"thread-extended-info-sidebar-state",checked:p}),e.jsx(L,{anchor:"vertical",className:v(l.screen,i&&l.screenEmptyState),name:"thread",leading:f?e.jsx(_,{}):e.jsx(B,{clientThreadId:a}),trackLeading:!0,children:e.jsx("div",{className:"flex h-full w-full",children:e.jsx("div",{className:"max-h-[calc(100cqh-70px)] flex-grow overflow-y-auto",children:e.jsx("div",{className:"mx-auto max-w-screen-md",children:e.jsx(O,{clientThreadId:a,currentModelConfig:o,children:e.jsx(J,{})})})})})}),e.jsx(Q,{}),e.jsx(z,{})]})]})})})}function Y(){const a=K(r=>r.sharingModalThreadId);return a?e.jsx(X,{serverThreadId:a}):null}function je(){const a=S(),{gizmoSlug:r}=j(),t=I(r??""),d=u(),{isLoading:i}=b("491279851"),o=A();c.useEffect(()=>{!i&&!o&&a("/")},[i,o,a]);const[s,n]=c.useState(()=>h());return F(s,{kind:P.GizmoInteraction,gizmo_id:t}),c.useEffect(()=>{n(h())},[t]),e.jsx(D,{children:e.jsx(W,{clientThreadId:s,setClientThreadId:n,children:d?e.jsx(G,{children:e.jsx(U,{className:E.application,sidebar:e.jsx(R,{}),thread:e.jsx(x,{}),debugger:e.jsx(q,{clientThreadId:s})})}):e.jsxs(e.Fragment,{children:[e.jsx(N,{clientThreadId:s,setClientThreadId:n,threadContent:e.jsx(x,{})}),e.jsx(Y,{})]})})})}export{je as default};
//# sourceMappingURL=mi0us8y7skwfc7iu.js.map
