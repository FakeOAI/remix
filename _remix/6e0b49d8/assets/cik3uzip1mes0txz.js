import{r as o,c as P,j as e,M as d}from"./lklglvrzltpv3f05.js";import{g5 as E,g6 as I,F as L,eI as j,bo as N,da as D,dc as F,db as v,eH as x,u as y}from"./bs81jb3dnj0a9ooo.js";import{S as A}from"./et8bgtraglvdyxgt.js";import{fu as R,fv as C,fw as T,fx as S,fy as k,fz as U,fA as z,fB as B}from"./dqnh11qs4iylzde4.js";import{S as n}from"./boj54v7o2srj6ae2.js";import{S as H}from"./lr2wtvbk3k0uolp8.js";const Z=s=>o.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...s},o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12Z",fill:"currentcolor"}),o.createElement("path",{d:"M9.5 14.6683V9.33167C9.5 8.5405 10.3752 8.06266 11.0408 8.49049L15.1915 11.1588C15.8038 11.5525 15.8038 12.4475 15.1915 12.8412L11.0408 15.5095C10.3752 15.9373 9.5 15.4595 9.5 14.6683Z",fill:"currentcolor"}));function G({voice:s}){const[l,r]=o.useState(!1),i=P(),t=E(),g=s.voice,u=s.preview_url,a=o.useRef({playPromise:null}).current,c=I(f=>f.isPlaying&&f.sourceUrl===u),h=L(),m=o.useCallback(async()=>{if(!t)return;const f={voice:g,source:u};j.previews.click(f);try{r(!0),t.changeSource(u),a.playPromise=t.play(),r(!1)}catch(M){j.previews.error(M,f),h.danger(i.formatMessage({id:"DeIYxH",defaultMessage:"Something went wrong playing preview"}))}},[i,t,u,g,a,h]),p=o.useCallback(()=>{t&&(a.playPromise?a.playPromise.then(()=>{t.stop(),a.playPromise=null}):t.stop())},[t,a]),b=o.useCallback(()=>{c?p():l||m()},[p,m,l,c]);return o.useEffect(()=>()=>{c&&p()},[s,c,p]),e.jsx(N,{onClick:b,color:"secondary",className:"flex flex-row flex-nowrap items-center gap-1 border-none font-normal",loading:l,icon:c?H:Z,children:c?e.jsx(d,{id:"yGpEMJ",defaultMessage:"Stop"}):e.jsx(d,{id:"JwYDVp",defaultMessage:"Play"})})}const ee={Trigger:J,Content:Y};function w(){return y("174366048")?.value}function J(){return w()?e.jsx(R,{value:C.Speech,icon:e.jsx(A,{className:"icon-sm"}),label:e.jsx(d,{id:"speechSettings.trigger",defaultMessage:"Speech"})}):null}function Y(){const s=w(),l=y("1426009137")?.value;return s?e.jsxs(T,{value:C.Speech,children:[e.jsx(S,{children:e.jsx(_,{})}),l?e.jsx(S,{children:e.jsx(O,{})}):null]}):null}function V(s){const{data:l,isLoading:r}=D(s)||{},i=F();return{isLoading:r,value:l,setValue:t=>{i.mutate({setting:s,value:t})}}}function _(){const{isLoading:s,value:l,setValue:r}=V(v.VoiceName),i=k(),t=U(),g=s?"":z(l,t),u=i.find(({voice:a})=>a===g);return e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex flex-col flex-nowrap gap-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{children:e.jsx(d,{id:"speechSettings.content.voice",defaultMessage:"Voice"})}),e.jsxs("div",{className:"flex flex-row flex-nowrap items-center gap-1",children:[u?e.jsxs(e.Fragment,{children:[e.jsx(G,{voice:u}),e.jsx("div",{className:"h-4 border-l"})]}):null,e.jsxs(n.Root,{value:g,onValueChange:a=>r(a),disabled:s,children:[e.jsxs(n.Trigger,{children:[e.jsx(n.Value,{}),e.jsx(n.Icon,{})]}),e.jsx(n.Portal,{children:e.jsx(n.Content,{children:i.map(({voice:a,name:c})=>e.jsx(n.Item,{value:a,children:c},a))})})]})]})]})})})}function O(){const{isLoading:s,value:l,setValue:r}=V(v.VoiceMainLanguage);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{children:e.jsx(d,{id:"speechSettings.content.language",defaultMessage:"Main Language"})}),e.jsxs(n.Root,{value:s?"":l??x.Auto,onValueChange:i=>r(i),disabled:s,children:[e.jsxs(n.Trigger,{children:[e.jsx(n.Value,{}),e.jsx(n.Icon,{})]}),e.jsx(n.Portal,{children:e.jsxs(n.Content,{position:"popper",style:{maxHeight:"calc(var(--radix-select-content-available-height) - 5rem)"},children:[e.jsx(n.Item,{value:x.Auto,children:e.jsx(d,{id:"speechSettings.content.autoDetect",defaultMessage:"Auto-Detect"})}),Object.entries(x).filter(([i,t])=>t!==x.Auto).map(([i,t])=>e.jsx(n.Item,{value:t,className:"capitalize",children:i},t))]})})]})]}),e.jsx(B,{children:e.jsx(d,{id:"speechSettings.content.autoDetectDescription",defaultMessage:"For best results, select the language you mainly speak. If it's not listed, it may still be supported via auto-detection."})})]})}export{ee as S,V as u};
//# sourceMappingURL=cik3uzip1mes0txz.js.map
