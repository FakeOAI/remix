const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/gybs1q8i2us4ohwt.js","assets/f1tbg9vupz7s4vaz.js","assets/ku9ixf6u9z228exb.js","assets/root-knsezumx.css","assets/eyfm2skil9fzhvo1.js","assets/conversation-small-ao874ap7.css","assets/ix46tddc1xj4hezn.js","assets/jjp48s31c2bxsk72.js","assets/oixhn1b8fi6yhijp.js","assets/fitsuk0mifdju5f0.js","assets/hprljityfrryo2gz.js","assets/jdy1yw2t3lc2tl2b.js","assets/dp3sw9ytuamjxy7x.js","assets/lrkgybq48wcmqeej.js","assets/nt83og1ffeibaufs.js","assets/mt6h4jzk1jkcs287.js","assets/ioundd5um2qmksi3.js","assets/fe4da7l7k2gvtlow.js","assets/c77l8ej6lw2btxdd.js","assets/ljaj5cms73a3s5g2.js","assets/eg0vn9lfdm5eewe7.js","assets/l45k6ig1jn8cj2c1.js","assets/jzmm2rrmfulao93u.js","assets/bbachvd0uet7chjz.js","assets/l3dd0a36sd9dz113.js","assets/ozai9665rl97qkmr.js","assets/knogs7bdg0wni4ko.js","assets/bst9lq9idt62o2tf.js","assets/n1ugpxrluw7f2lu7.js","assets/nkoeeotz0ju9ho6l.js","assets/knpg1gqui0xdo9t6.js","assets/b8d7o0pzbl5hx1cn.js","assets/d0rjftaxjvcc1b92.js","assets/lvqsfhnymxttluri.js","assets/gbwdai5w2ush8kio.js","assets/lf5fa0mdfxn0evmv.js","assets/lvz3vh6ykh5o8ezo.js","assets/baqpwfc9am8y1apz.js","assets/iduegiibfbnnhhxj.js","assets/ab3r8vaqaocz8og0.js","assets/iwakq96x7vt4obk7.js","assets/abgj1vb4suh1frp8.js","assets/i7szpvpxevaselft.js","assets/ivpev86533cpi79d.js","assets/cb79tl9h1nhnbjw3.js","assets/fqhel6l5kixv21rc.js","assets/ipl67ty0q5fdffnm.js","assets/eg44zdeoyh5lcz2a.js","assets/ncab5sw9ztwzfksi.js","assets/hqc4msajlkyrfr3w.js","assets/e3nlp5i7yrocea4k.js","assets/gosnfbs8wespqitf.js","assets/kqwdyvkaaavvn8k3.js","assets/kxyu5txslxyiprj8.js","assets/cunvjnga8y9l0b0m.js"])))=>i.map(i=>d[i]);
import{a1 as Ee,V,aJ as fe,aI as Oe,r as l,l as s,Z as E,D as ge,bd as se,a0 as I,aC as M,aD as b,aM as Le,bZ as De,bX as Be,bV as Re,bf as Fe,az as We,W as he,X as Ve,u as me,ao as ae,aG as oe,bo as Ie,f7 as He,eY as Ge,m as N,ff as y,fg as qe,fh as ze,cm as Ue,a8 as $e,df as te,cZ as Ke,c_ as Qe,c$ as Ye,c5 as Xe,b0 as Ze,h as Je,j as es}from"./f1tbg9vupz7s4vaz.js";import{u as ss,f as H,T as pe,g as as}from"./fe4da7l7k2gvtlow.js";import{aM as os,gM as ts,gN as xe,gO as ns,ai as rs,gP as is,gQ as cs,gR as ls,gS as ds,gT as us,bK as O,gU as fs,gV as gs,gW as hs,gX as ms,gY as ps,gZ as xs,g_ as Cs,g$ as Ms,h0 as bs,h1 as Ss,h2 as vs,h3 as js,h4 as ks,h5 as As,h6 as ys,h7 as ws,h8 as _s,h9 as Ps,ha as Ts,D as G,aC as w,Z as L,cc as q,hb as Ns,hc as Es,ds as ne,cq as Os,hd as Ce,he as Me,hf as be,G as Ls,hg as Ds,gC as re,fq as Bs,c1 as F,c2 as ie,hh as Rs,hi as Fs,e_ as Ws,hj as Vs,hk as Is,cM as Hs,ay as Gs,dy as qs,hl as zs,eQ as Us,eR as ce,hm as $s,q as Ks,cf as Qs,hn as Ys,ho as Xs,cg as Zs,hp as Js,hq as ea,hr as sa,hs as aa,ht as oa}from"./eyfm2skil9fzhvo1.js";import{T as D,g as W,e as ta,F as Se,m as ve,H as na,i as ra}from"./oixhn1b8fi6yhijp.js";import{a as ia}from"./hprljityfrryo2gz.js";import{L as ca}from"./jdy1yw2t3lc2tl2b.js";import{S as le,b as la,c as da,N as ua}from"./d0rjftaxjvcc1b92.js";import{a as je,b as fa,g as ga}from"./gbwdai5w2ush8kio.js";import{S as ha,C as ma,a as pa}from"./lf5fa0mdfxn0evmv.js";import{T as ke,b as xa,c as Ae,C as Ca,d as Ma,e as ba,f as Sa}from"./iduegiibfbnnhhxj.js";import{u as va,n as ja,g as ka,q as Aa}from"./mt6h4jzk1jkcs287.js";import{I as ya,J as ye,a as we,K as wa}from"./jjp48s31c2bxsk72.js";import{m as de}from"./fitsuk0mifdju5f0.js";import{b as _a}from"./ioundd5um2qmksi3.js";function Pa({onClose:e}){const a=V(),o=fe(),{openSettings:r}=os(),n=ts(),{session:t}=Oe(),{data:{isStorageComplianceEnabled:d}={}}=xe(),{data:c,isLoading:u}=ns({enabled:!!(d&&t),select:i=>!i.cookie_consent.is_required});return l.useEffect(()=>{c===!0&&e()},[c,e]),u?null:s.jsx(Ta,{onReject:()=>{n.mutateAsync({analytics_cookies_accepted:!1},{onSuccess(){o.success(a.formatMessage(j.updateSuccess))},onError(){o.danger(a.formatMessage(j.updateFailure))}}),e()},onAccept:()=>{n.mutateAsync({analytics_cookies_accepted:!0},{onSuccess(){o.success(a.formatMessage(j.updateSuccess))},onError(){o.danger(a.formatMessage(j.updateFailure))}}),e()},children:s.jsx(E,{id:"CookieConsentBanner.authedDescription.0",defaultMessage:"We use cookies and similar technologies to deliver, maintain, improve our services and for security purposes. Check our <cookiePolicy>cookie policy</cookiePolicy> for details. Click 'Accept all' to let OpenAI and partners use cookies for these purposes. Click 'Reject all' to say no to cookies, except those that are strictly necessary. Choose <manageLink>manage cookies</manageLink> to change your preferences.",values:{cookiePolicy:i=>s.jsx(ca,{href:"https://openai.com/policies/cookie-policy",openNewTab:!0,children:i}),manageLink:i=>s.jsx(Na,{onClick:()=>{r(rs.DataControls)},children:i})}})})}function Ta({children:e,onAccept:a,onReject:o}){return l.useEffect(()=>{ge.addAction("privacy_policy.show_cookie_consent_banner")},[]),s.jsxs(is,{children:[s.jsxs(cs,{className:"text-sm font-semibold [grid-area:_title]",children:[e,s.jsxs("div",{className:"mt-2 flex justify-end gap-3",children:[s.jsx(se,{color:"secondary",size:"small",onClick:o,children:s.jsx(E,{...j.reject})}),s.jsx(se,{color:"secondary",size:"small",onClick:a,children:s.jsx(E,{...j.accept})})]})]}),s.jsx(ls,{})]})}const Na=Ee.button`underline font-normal text-green-600`,j=I({cookieConsentBannerTitle:{id:"CookieConsentBanner.title",defaultMessage:"We use cookies to provide, improve, and protect our services. Visit our <privacyPolicyLink>privacy policy</privacyPolicyLink> to learn more. You can manage your cookie preferences in your <settingsPanel>settings panel</settingsPanel>. <learnMoreLink>Learn more</learnMoreLink>."},reject:{id:"CookieConsentBanner.reject",defaultMessage:"Reject all"},accept:{id:"CookieConsentBanner.accept",defaultMessage:"Accept all"},updateSuccess:{id:"CookieConsentBanner.updateSuccess",defaultMessage:"Your cookie preferences were updated successfully"},updateFailure:{id:"CookieConsentBanner.updateFailure",defaultMessage:"Unable to update cookie preferences. Try again later."}}),Ea=M(()=>b(async()=>{const{ModelOnboardingNUXModal:e}=await import("./gybs1q8i2us4ohwt.js");return{ModelOnboardingNUXModal:e}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11])).then(({ModelOnboardingNUXModal:e})=>e),{ssr:!1}),Oa=({onClose:e})=>{const a=V(),o=O(q.isBusinessWorkspace),r=O(t=>t.currentWorkspace),n=o?a.formatMessage(ue.workspaceWelcome,{workspaceName:r?.name}):"ChatGPT";return s.jsx(he,{isOpen:!0,onClose:Ve,type:"success",title:n,size:"custom",noPadding:!0,className:"max-w-3xl",description:a.formatMessage(ue.personalOnboardingSubheading),children:s.jsx(Ns,{onClose:e,scope:Es.Personal})})};function La(){const[e,a]=l.useState(0),{hasSeenOnboardingDate:o}=ds(),{hasSeenTeamOwnerOnboardingDate:r}=us(),n=O(q.isBusinessWorkspace),t=Le(),[d,c]=l.useState(!1),{data:u,isPending:i}=xe(),h=fs(u,i),{eligible:g,isLoading:k}=ia(),_=De(),S=Be(),P=Re(),{data:m,isError:C}=Fe(),p=m!=null,A=m&&m?.accountItems.length>1&&m.currentAccountId==null,T=m?.accountItems.some(f=>f.isPersonalAccount()),x=!!m?.accountItems&&m.accountItems.length>0&&m.accountItems.every(({canAccessWithCurrentSession:f})=>!f),{eligible:z,isLoading:U}=gs(),{value:$}=We("1542198993"),{punchOutRequireLoginInfo:K}=hs(),{state:Q}=ms(),{isOpen:Y,isLoading:X}=ps(),{isOpen:Z,isLoading:J}=xs(),v=l.useMemo(()=>[{Component:Cs,getModalState:()=>K?"show":"hide",isDeferrable:!1},{Component:Ms,getModalState:()=>X?"loading":Y?"show":"hide",isDeferrable:!1},{Component:bs,getModalState:()=>J?"loading":Z?"show":"hide",isDeferrable:!1},{Component:Ss,getModalState:()=>Q,isDeferrable:!1},{Component:Oa,getModalState:()=>n?"hide":o===null?"loading":o===!1?"show":"hide",isDeferrable:!0},{Component:vs,getModalState:()=>C?"hide":A?"show":p?"hide":"loading",isDeferrable:!1},{Component:js,getModalState:()=>_!==null?"show":C||p?"hide":"loading",isDeferrable:!1},{Component:ks,getModalState:()=>S!==null?"show":C||p?"hide":"loading",isDeferrable:!1},{Component:As,getModalState:()=>P!=null?"show":C||p?"hide":"loading",isDeferrable:!1},{Component:ys,getModalState:()=>p?x?"show":"hide":"loading",isDeferrable:!1},{Component:Pa,getModalState:()=>"hide",isDeferrable:!1},{Component:ws,getModalState:()=>!t?.isTeam()||!t?.isOwnerOfAccount()||!T?"hide":!p||r===null?"loading":r===!1?"show":"hide",isDeferrable:!1},{Component:_s,getModalState:()=>n?o===null?"loading":o===!1?"show":"hide":"hide",isDeferrable:!0},{Component:Ps,getModalState:()=>U?"loading":z&&$?"show":"hide",isDeferrable:!1},{Component:Ts,getModalState:()=>h,isDeferrable:!1},{Component:Ea,getModalState:()=>k?"loading":g?"show":"hide",isDeferrable:!0,expiresAt:new Date(2024,7,13)}].filter(f=>!(f.isDeferrable&&d)&&(!f.expiresAt||f.expiresAt.getTime()>Date.now())),[K,Q,P,p,o,r,T,k,n,C,_,S,t,x,A,h,g,d,$,z,U,Y,X,Z,J]);l.useEffect(()=>{if(v[e]&&v[e].getModalState()==="hide"){const f=v.findIndex(Ne=>Ne.getModalState()!=="hide");a(f)}},[e,v]);const B=v[e],R=B?.getModalState()==="show";if(l.useEffect(()=>{const f=G.getState().activeModals.has(w.BlockingInitialComponent);R!==f&&(R?L.openModal(w.BlockingInitialComponent):L.closeModal(w.BlockingInitialComponent))},[R]),B==null)return s.jsx("span",{"data-testid":"blocking-initial-modals-done",className:"hidden"});const ee=B.getModalState();if(ee==="loading")return null;ee==="hide"&&a(f=>f+1);const Te=v[e].Component;return s.jsx(Te,{onClose:()=>{c(!0),a(f=>f+1)}})}const ue=I({workspaceWelcome:{id:"BlockingInitialModals.workspaceWelcome",defaultMessage:"Welcome to the {workspaceName} workspace"},personalOnboardingSubheading:{id:"BlockingInitialModals.personalOnboardingSubheading",defaultMessage:"Tips for getting started"}});function _e({clientThreadId:e}){l.useEffect(()=>{L.closeSharingModal()},[e]);const a=me();l.useEffect(()=>(D.retainThread(e),()=>{setTimeout(()=>{a.invalidateQueries({queryKey:["conversation",e]})},0),D.releaseThread(e)}),[e,a]),l.useEffect(()=>()=>{ae.checkGate("3922476776")||ne.abortAllRequests()},[e]);const o=l.useRef(e);l.useEffect(()=>{e!==o.current&&(ae.checkGate("3922476776")||ne.clear(),o.current=e)},[e])}function Pe({clientThreadId:e,setClientThreadId:a}){const o=me(),r=Os(),n=r?{kind:oe.GizmoInteraction,gizmo_id:r}:{kind:oe.PrimaryAssistant};va(e,n);const t=Ie(),d=ya(e),c=l.useRef(d);c.current=d;const u=l.useCallback(()=>{a(W());const g=c.current;t(g.tags.includes(He.GPT_4)?"/":`/?model=${g.id}`,{replace:!0})},[a,t]),i=ss({clientThreadId:e,location:"Model switcher menu item"}),h=l.useCallback(g=>{ja(t,o,g)},[o,t]);return{createNewThread:i,onThreadCreated:h,resetThread:u}}const Da=M(()=>b(()=>import("./dp3sw9ytuamjxy7x.js"),__vite__mapDeps([12,1,2,3,4,5,13,14,15,16,9,7,8,17,18,10,11,19,20,21,22,6,23,24,25,26,27,28])).then(e=>e.CanvasFocusedViewManager));function Ba({clientThreadId:e,setClientThreadId:a,urlThreadId:o,prefetchSearch:r}){const n=ta();_e({clientThreadId:e});const{createNewThread:t,onThreadCreated:d,resetThread:c}=Pe({clientThreadId:e,setClientThreadId:a});je({resetThreadAction:c,clientThreadId:e});const u=H(e);return s.jsxs(pe,{clientThreadId:e,children:[s.jsx(Ce,{clientThreadId:e,urlThreadId:o}),s.jsxs(le,{hideNavigation:n,mobileHeaderContent:s.jsx(ke,{clientThreadId:e,inMobileHeader:!0}),mobileHeaderBottomContent:s.jsx(xa,{clientThreadId:e}),mobileHeaderLeftContent:s.jsx(la,{onNewChatButtonClick:c}),mobileHeaderRightContent:s.jsx(da,{onNewChatButtonClick:c}),sidebar:s.jsx(ua,{navHeader:e?s.jsx(ha,{className:"flex h-[60px] items-center md:h-header-height",onNewThread:t}):null,children:s.jsx(ma,{clientThreadId:e,onNewThread:t})}),children:[s.jsx(Me,{}),s.jsx(Ae,{clientThreadId:e,onCreate:d,prefetchSearch:r},e),s.jsxs(le.Sidebars,{children:[u&&s.jsx(Da,{clientThreadId:e}),s.jsx(be,{clientThreadId:e})]})]})]})}const Ra=450;function Fa({children:e,clientThreadId:a,isOpen:o,onClose:r}){return s.jsx(Ls,{children:o&&s.jsx(Ge,{children:s.jsx(Ds.Provider,{value:{isEmbeddedInFocusedView:!0},children:s.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[s.jsx(de.div,{className:"h-full w-full bg-token-main-surface-secondary",...re}),s.jsxs("div",{className:"absolute inset-0 flex",children:[s.jsx("div",{className:"flex-grow overflow-auto",children:e}),s.jsx(de.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:Ra},...re,children:s.jsx("div",{className:"h-[100vh] pb-4",children:s.jsx(Ae,{clientThreadId:a,hideHeader:!0,hideFooter:!0,hideToolsOverlay:!0,messagesVerticalAlign:"bottom"},a)})})]})]})})})})}const Wa=M(()=>b(()=>import("./nkoeeotz0ju9ho6l.js"),__vite__mapDeps([29,1,2,3,4,5,15,16,9,7,8,17,18,10,11,19,20,21,22,6]))),Va=M(()=>b(()=>import("./knpg1gqui0xdo9t6.js"),__vite__mapDeps([30,1,2,3,4,5,31,15,16,9,7,8,17,18,10,11,19,20,21,22,6,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48])).then(e=>e.ImageEditor));function Ia({clientThreadId:e}){const a=Bs();l.useEffect(()=>{F.close()},[e]);let o;return a?.type===ie.ADAVisualization?o=s.jsx(Wa,{clientThreadId:e,visualization:a.visualization}):a?.type===ie.Image&&(o=s.jsx(Va,{clientThreadId:e,messageId:a.messageId,image:a.image,allImages:a.allImages},a.image.asset_pointer)),s.jsx(Fa,{clientThreadId:e,isOpen:a!=null,onClose:F.close,children:o})}const Ha=()=>{const e=V(),a=G(t=>t.activeModals.has(w.KeyboardActions)),o=()=>{L.closeModal(w.KeyboardActions)},r=fa(),n=l.useMemo(()=>{const t=Math.ceil(r.length/2);return[r.slice(0,t),r.slice(t)]},[r]);return s.jsx(he,{isOpen:a,onClose:o,type:"success",size:"custom",className:"md:max-w-[672px] lg:max-w-[796px] xl:max-w-4xl",showCloseButton:!0,title:e.formatMessage(za.keyboardActionsModalTitle),children:s.jsx(s.Fragment,{children:s.jsx("div",{className:"grid grid-flow-row grid-cols-[repeat(auto-fit,minmax(250px,1fr))] gap-x-9",children:n.map((t,d)=>s.jsx("div",{className:"flex flex-col overflow-hidden",children:t.map(c=>s.jsx(Ga,{action:c},c.key))},`col-${d}`))})})})},Ga=({action:e})=>s.jsxs("div",{className:"flex items-center justify-between overflow-hidden text-token-text-primary",children:[s.jsx("div",{className:"flex flex-shrink items-center overflow-hidden text-sm",children:s.jsx("div",{className:"truncate",children:s.jsx(E,{...e.actionMessageDescriptor})})}),s.jsx("div",{className:"ml-3 flex flex-row gap-2",children:ga(e.keyboardBinding).map((a,o)=>s.jsx(qa,{keyName:a},`${e.key}-${o}`))})]}),qa=({keyName:e})=>{const a=N("my-2 flex h-8 items-center justify-center rounded-md border border-token-border-light capitalize text-token-text-secondary");return e.length>1?e.length>3?s.jsx("div",{className:N(a,"min-w-[50px]"),children:s.jsx("span",{className:"text-xs",children:e})}):s.jsx("div",{className:N(a,"min-w-[32px]"),children:s.jsx("span",{className:"text-xs",children:e})}):s.jsx("div",{className:N(a,"min-w-[32px]"),children:s.jsx("span",{className:"text-sm",children:e})})},za=I({keyboardActionsModalTitle:{id:"KeyboardActionsModal.keyboardActionsModalTitle",defaultMessage:"Keyboard shortcuts"}});function Ua({clientThreadId:e,currentModelId:a,conversationLeafId:o,inlineEmbeddedDisplay:r,onChangeItemInView:n,onChangeRating:t,onRequestMoreCompletions:d,onRequestCompletion:c}){const u=Se(e,o);function i(h){return h===u-1}return s.jsx("ol",{children:Array.from({length:u}).map((h,g)=>s.jsx("li",{children:s.jsx(Ca,{isFinalTurn:i(g),turnIndex:g,clientThreadId:e,conversationLeafId:o,onChangeItemInView:n,onChangeRating:t,onRequestMoreCompletions:d,onRequestCompletion:c,currentModelId:a,showInlineEmbeddedDisplay:r,showAvatar:!1},g)},g))})}function $a({clientThreadId:e,onRequestCompletion:a}){const o=ye(),r=ka(e),n=ve(e),t=we(e)??o.id,c=Se(e,n)>=2,u=na(e,n),i=ra(e)&&!c&&Aa(r);return s.jsx("div",{className:y.footer,children:s.jsx(Rs,{children:s.jsx(Ma,{clientThreadId:e,currentModelId:t,isNewThread:i,noWrap:!0,onRequestCompletion:a,showPromptStarters:i||!u})})})}function Ka({clientThreadId:e}){return s.jsxs(Fs,{leading:!0,type:"primary",className:y.header,children:[s.jsxs("div",{className:y.headerLeading,children:[s.jsx(as,{clientThreadId:e}),s.jsx(ke,{clientThreadId:e})]}),s.jsx("div",{className:y.headerTrailing,children:s.jsx(ba,{clientThreadId:e})})]})}function Qa({clientThreadId:e,onThreadCreated:a,onCompletionFinished:o,preRequestCompletion:r}){const n=ye(),t=we(e)??n.id,d=ve(e),{onRequestCompletion:c,onChangeItemInView:u,onChangeRating:i,onRequestMoreCompletions:h}=Sa({clientThreadId:e,currentModelId:t,defaultModelId:n.id,onCompletionFinished:o,onThreadCreated:a,preRequestCompletion:r});return s.jsx(wa,{clientThreadId:e,currentLeafId:d,children:s.jsx(qe.Provider,{value:c,children:s.jsx(Ws,{anchor:"top",className:y.screen,name:"thread",leading:s.jsx(Ka,{clientThreadId:e}),trackLeading:!0,trackTrailing:!0,trailing:s.jsx($a,{clientThreadId:e,onRequestCompletion:c}),children:s.jsx(Ua,{clientThreadId:e,conversationLeafId:d,currentModelId:t,inlineEmbeddedDisplay:!1,onRequestCompletion:c,onChangeItemInView:u,onChangeRating:i,onRequestMoreCompletions:h})})})})}const Ya=M(()=>b(()=>import("./dp3sw9ytuamjxy7x.js"),__vite__mapDeps([12,1,2,3,4,5,13,14,15,16,9,7,8,17,18,10,11,19,20,21,22,6,23,24,25,26,27,28])).then(e=>e.CanvasFocusedViewManager));function Xa({clientThreadId:e,setClientThreadId:a,urlThreadId:o}){_e({clientThreadId:e});const{createNewThread:r,onThreadCreated:n,resetThread:t}=Pe({clientThreadId:e,setClientThreadId:a});je({resetThreadAction:t,clientThreadId:e});const d=H(e);return s.jsxs(pe,{clientThreadId:e,children:[s.jsx(Ce,{clientThreadId:e,urlThreadId:o}),s.jsx(Me,{}),s.jsx(Vs,{className:ze.screenDefaults,sidebar:s.jsx(pa,{clientThreadId:e,onNewThread:r}),thread:s.jsx(Qa,{clientThreadId:e,onThreadCreated:n}),details:d&&s.jsx(Ya,{clientThreadId:e}),debugger:s.jsx(be,{clientThreadId:e})})]})}var Za={};const Ja=M(()=>b(()=>import("./hqc4msajlkyrfr3w.js"),__vite__mapDeps([49,1,2,3,4,5,15,16,9,7,8,17,18,10,11,19,20,21,22,6,50]))),eo=M(()=>b(()=>import("./gosnfbs8wespqitf.js"),__vite__mapDeps([51,1,2,3,8,4,5,9,52,53,7,54,16])).then(e=>e.SearchResultsModal));function Mo(e){const{urlThreadId:a,clientThreadId:o,prefetchSearch:r}=e,n="serviceStatus"in e?e.serviceStatus:null;oo();const t=Ue(),d=$e(),c=te(),u=fe(),[i,h]=l.useState(()=>a!==void 0?a:o!==void 0?o:W());a!==void 0&&i!==a&&D.getServerThreadId(i)!==a&&h(a);const g=Is(te());l.useEffect(()=>{a===void 0&&D.getServerThreadId(i)!==void 0&&h(W())},[a,i,g]);const k=Hs(),_=O(q.workspaceId),S=Gs();H(i);const P=qs(),{eligible:m,isLoading:C,markAsViewed:p}=zs();l.useEffect(()=>{(d.asPath==="/"||d.asPath.startsWith("/c/"))&&Us({namespace:ce.ChatPageLoad})==null&&($s({namespace:ce.ChatPageLoad,opts:{expectedTimingLogs:[{name:"render_model_switcher",expectedInMs:1e4},{name:"render_history_items",expectedInMs:25e3}]}}),ge.addTiming("chatgpt.web.chatPage.mounted"))},[]);const A=Ks();l.useEffect(()=>{Ke(!0).then(x=>{x.force_login&&A({authType:"login"}),Qe.initializeAndGatherData(x),Qs.initializeAndGatherData(x),Ye.initializeAndGatherData(x)})},[A]),l.useEffect(()=>{n?.type&&k===!1&&u.warning(n.message,{hasCloseButton:!0,duration:5})},[k,n?.message,n?.type,u]),l.useEffect(()=>{const x=d.query[Ys]==="true";t!==x&&Xe.setIsTemporaryChatEnabled(x)},[t,d.query]),l.useEffect(()=>{c.state?.focusObject&&F.setFocusedObject(c.state.focusObject)},[c.state?.focusObject]),l.useEffect(()=>{!C&&m&&S&&(p(),Xs(S))},[m,C,p,S]);const T=P?Xa:Ba;return s.jsx(Ze.Provider,{value:null,children:s.jsx(Zs,{children:s.jsxs(Js,{clientThreadId:i,children:[s.jsx(La,{},_),s.jsx(Ha,{}),s.jsx(ea,{}),s.jsx(T,{urlThreadId:a,clientThreadId:i,setClientThreadId:h,prefetchSearch:r}),s.jsx(Ia,{clientThreadId:i}),s.jsx(ao,{clientThreadId:i}),s.jsx(sa,{clientThreadId:i}),s.jsx(so,{}),!1,s.jsx(aa,{}),s.jsx(oa,{})]})})})}function so(){const e=G(a=>a.sharingModalThreadId);return e?s.jsx(Ja,{serverThreadId:e}):null}function ao({clientThreadId:e}){return _a()&&s.jsx(eo,{clientThreadId:e})}function oo(){Je({queryKey:["pingEdge"],queryFn:()=>es.pingEdge(),enabled:!0,staleTime:1/0})}typeof window<"u"&&(window._g=Za.GOKU_SERVICE);export{Mo as C,Ra as F};
//# sourceMappingURL=oi2smwl0ox0hifl1.js.map
