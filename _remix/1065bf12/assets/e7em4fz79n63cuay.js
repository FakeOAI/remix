const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/9ayzx27cwvdgadm6.js","assets/sj4egp330zr3hymf.js","assets/root-gxxjueqp.css","assets/ohfy421oyz5q6uux.js","assets/conversation-small-ile61fj8.css","assets/lb1w3qgpbn0kq1vt.js","assets/gwidm6jpuf8p3xv6.js","assets/mk01ochx6b5y44dh.js","assets/lwwm0pc79h5gzvci.js","assets/c4bxzbp1808foto4.js","assets/d422vlbtt271j9aw.js","assets/ihli8gabikxhp006.js","assets/g5wnd0m5z50t7gex.js","assets/fc93tduihgcgsfo0.js","assets/muvy4qzgls86chgu.js","assets/b4c9lw4tw0ib4w9o.js","assets/kg4srka8y24rfx9h.js","assets/ma0s76orva63ppzy.js","assets/ivaueezr69le5sv0.js","assets/edzdph5rs0n89q6j.js","assets/fyuyu14xgxrq03io.js","assets/higzg9p26dh4k0zy.js","assets/c0r6nf8dx7oly5r0.js","assets/ofb8e1zr68997o6g.js","assets/bfgauywy8x0nlmig.js","assets/jpf0fwd7gcj4o5gh.js","assets/h5kaq2cosykz4dzw.js","assets/0w2j97wx4qqmze77.js","assets/nxasmwshc3spt4hc.js","assets/f9kky91mellaq4c2.js","assets/lmq43ajazd5fexhx.js","assets/f2kn2youtfkkt0cw.js","assets/byljuk0ym42go0im.js","assets/fzrn137102spawew.js","assets/hi9iar4thyd62jy7.js","assets/dslktuei64ysgg6i.js","assets/btagl6w1gub4aw61.js","assets/eby9nred49cei6dc.js","assets/lz5m5fte6cwvax3q.js","assets/l9xic3ru5lupzebc.js","assets/g5haie6ta905qzn6.js","assets/g4tl5lt9yqf20m4s.js"])))=>i.map(i=>d[i]);
import{r as o,cw as K,m as e,a9 as Q,w as X,L as q,eJ as Y,ee as D,h3 as _,b3 as f,b4 as x,e5 as w,e3 as $,aE as J,cU as S,N as Z,aw as ee,a8 as P,aa as se,ah as ae,dr as N,s as A,bA as te,D as re,c$ as ie,d0 as oe,d1 as ne,dM as de,g4 as ce,t as le,W as ue}from"./sj4egp330zr3hymf.js";import{j8 as he,j9 as L,aO as R,ja as me,i4 as fe,jb as k,i6 as b,gP as xe,bG as y,bH as F,l as ge,jc as pe,u as be,m as je,cg as ve,fX as we,p as Se,q as ye,D as Ce,jd as Te,j as Ee,cf as Ie,T as _e,n as Pe,F as Ne,je as Ae,c1 as ke,jf as Fe,jg as Oe,cv as Ve,cw as O,jh as Me,aB as De,ji as Le,jj as Re,bo as Ue,ce as ze,da as Be,jk as Ge,jl as He,jm as We,db as Ke,jn as Qe,c2 as Xe,ch as qe}from"./ohfy421oyz5q6uux.js";import{m}from"./d422vlbtt271j9aw.js";import{C as Ye}from"./ihli8gabikxhp006.js";import{a as U,u as C}from"./muvy4qzgls86chgu.js";import{C as z}from"./c0r6nf8dx7oly5r0.js";import{a as $e}from"./ivaueezr69le5sv0.js";import{C as Je}from"./ma0s76orva63ppzy.js";function Ze({clientThreadId:a}){const s=he(t=>t.notifications);return o.useEffect(()=>{s.filter(r=>r.clientThreadId===a).map(r=>r.id).filter(r=>r!==void 0).forEach(r=>L(r))},[a,s]),s.length===0||K?null:e.jsx("div",{className:"fixed right-4 top-8 my-2 flex max-h-[90vh] flex-col-reverse space-y-2 space-y-reverse overflow-y-auto px-2 py-4",children:e.jsx(R,{children:s.map(t=>e.jsx(es,{...t},t.id))})})}function es({...a}){const s=Q(),t=X(),r=q(),n=Y(a.clientThreadId),d=()=>{n&&fe(s,t,n),a.id&&L(a.id)};return e.jsxs(m.div,{onClick:d,className:"inline-flex w-80 cursor-pointer items-center justify-start gap-2.5 rounded-2xl border border-token-border-light bg-token-main-surface-primary px-3 py-3 align-middle shadow-lg",initial:{opacity:0,x:320},animate:{opacity:1,x:0},exit:{opacity:0,x:320},transition:{duration:.5},children:[e.jsx(me,{iconName:"openai",size:"medium",className:"border-token-secondary rounded-full border bg-token-main-surface-primary text-token-text-primary"}),e.jsxs("div",{className:"inline-flex w-full shrink grow basis-0 flex-col items-start justify-start overflow-hidden",children:[e.jsx("div",{className:"w-full truncate text-sm font-medium text-token-text-primary",children:a.title??r.formatMessage({id:"mpXAeu",defaultMessage:"New chat"})}),e.jsx("div",{className:"w-full truncate text-sm text-token-text-tertiary",children:a.subtitle??r.formatMessage({id:"qMEc8J",defaultMessage:"New Message"})})]})]})}const V=450;function ss({children:a,clientThreadId:s,isOpen:t,onClose:r}){const n=D();return e.jsxs(R,{children:[t&&n&&e.jsx(U,{clientThreadId:s,children:e.jsx(_,{children:e.jsx(k.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(m.div,{className:"h-full w-full bg-token-main-surface-secondary",...b}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx(m.div,{className:"relative shrink-0 border-r border-token-border-medium bg-token-main-surface-primary",style:{width:V},...b,children:e.jsx(z,{hideHeader:!0,hideTools:!0})}),e.jsx("div",{className:"relative flex-grow overflow-auto",children:a})]})]})})})}),t&&!n&&e.jsx(_,{children:e.jsx(k.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(m.div,{className:"h-full w-full bg-token-main-surface-secondary",...b}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx("div",{className:"flex-grow overflow-auto",children:a}),e.jsx(m.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:V},...b,children:e.jsx("div",{className:"h-[100vh] pb-4",children:e.jsx($e,{clientThreadId:s,hideHeader:!0,hideFooter:!0,hideToolsOverlay:!0,messagesVerticalAlign:"bottom"},s)})})]})]})})})]})}const as=f(()=>x(()=>import("./9ayzx27cwvdgadm6.js"),__vite__mapDeps([0,1,2,3,4]))),ts=f(()=>x(()=>import("./lb1w3qgpbn0kq1vt.js"),__vite__mapDeps([5,1,2,3,4,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23])).then(a=>a.ImageEditor));function rs({clientThreadId:a}){const s=xe();o.useEffect(()=>{y.close()},[a]);let t;return s?.type===F.ADAVisualization?t=e.jsx(as,{clientThreadId:a,visualization:s.visualization}):s?.type===F.Image&&(t=e.jsx(ts,{clientThreadId:a,messageId:s.messageId,image:s.image,allImages:s.allImages},s.image.asset_pointer)),e.jsx(ss,{clientThreadId:a,isOpen:s!=null,onClose:y.close,children:t})}function is(){const{clientThreadId:a,resetThread:s}=C();return ge({resetThreadAction:s,clientThreadId:a}),null}const os=f(()=>x(()=>import("./bfgauywy8x0nlmig.js"),__vite__mapDeps([24,1,2,3,4,25,10,19,26,27,28,29,30,31,14,32,33,34,20,35,36])).then(a=>a.CanvasFocusedViewManager)),M=64;function ns(){const{focusedObject:a,clientThreadId:s}=C();w(void 0);const t=o.useRef(null),[r,n]=o.useState({bottom:null,height:null});pe(t,n);const d=be(),g=w("searchSources"),i=w("summarizer"),u=$(),[h,j]=o.useState(!1),v=!d&&!!a;let c=0;h&&r.height==null?c=M:h&&r.height!=null?c=M+r.height:!h&&r.height!=null&&(c=r.height);const p=je();return e.jsx(ve,{className:J(S.application,{[S.withCanvasFocusedView]:!!d,[S.withEmbeddedFocusedView]:v}),banner:e.jsx(Z,{children:e.jsx(we,{setIsMobileAppUpsellBannerVisible:j})}),sidebar:e.jsx(Je,{}),thread:e.jsx(z,{ref:t},s),details:e.jsx(os,{clientThreadId:s}),threadExtendedInfo:u&&e.jsxs(e.Fragment,{children:[!1,g&&e.jsx(Se,{clientThreadId:s}),p&&i&&e.jsx(ye,{clientThreadId:s})]}),debugger:e.jsx(Ce,{clientThreadId:s}),name:"application-root",style:{"--screen-keyboard-bottom":r.bottom?`${r.bottom}px`:"","--screen-height-offset":c>0?`${c}px`:""}})}function ds(){const{clientThreadId:a,currentModelId:s,isCompanionWindow:t}=C();return e.jsx(Te,{conversationId:a,currentModelId:s,isActiveWindow:!t})}function cs({clientThreadId:a,urlThreadId:s}){return Ee({clientThreadId:a}),e.jsxs(Ie,{children:[e.jsx(ds,{}),e.jsx(is,{}),e.jsxs(_e,{enableSandbox:!1,clientThreadId:a,children:[e.jsx(Pe,{clientThreadId:a,urlThreadId:s}),e.jsx(Ne,{}),e.jsx(ns,{})]})]})}var ls={};const us=f(()=>x(()=>import("./eby9nred49cei6dc.js"),__vite__mapDeps([37,1,2,3,4,38,39]))),hs=f(()=>x(()=>import("./g5haie6ta905qzn6.js"),__vite__mapDeps([40,1,2,3,4,14,22,18,19,10,20,21,23,41])));function ys(a){const{urlThreadId:s,clientThreadId:t,prefetchSearch:r}=a;fs();const n=ee(),d=P(),[g]=se(),[i,u]=o.useState(()=>s!==void 0?ae.getClientNewThreadIdForServerThreadId(s)??s:t!==void 0?t:N());s!==void 0&&i!==s&&(A.getServerThreadId(i)===s||u(s));const h=Ae(P());o.useEffect(()=>{s===void 0&&A.getServerThreadId(i)!==void 0&&u(N())},[s,i,h]);const j=ke(Xe.workspaceId),v=D(),{eligible:c,isLoading:p,markAsViewed:T}=Fe(),E=Oe(),B=te("3435450078");o.useEffect(()=>{(d.pathname==="/"||d.pathname.startsWith("/c/"))&&Ve({namespace:O.ChatPageLoad})==null&&(Me({namespace:O.ChatPageLoad,opts:{expectedTimingLogs:[{name:"render_model_switcher",expectedInMs:1e4},{name:"render_history_items",expectedInMs:25e3}]}}),re.addTiming("chatgpt.web.chatPage.mounted"))},[]);const I=De();o.useEffect(()=>{ie(!0).then(l=>{l.force_login&&I({authType:"login"}),oe.initializeAndGatherData(l),Le.initializeAndGatherData(l),ne.initializeAndGatherData(l)})},[I]),o.useEffect(()=>{const l=g.get(Re)==="true";n!==l&&de.setIsTemporaryChatEnabled(l)},[n,g]),o.useEffect(()=>{d.state?.focusObject&&y.setFocusedObject(d.state.focusObject)},[d.state?.focusObject]),o.useEffect(()=>{!p&&c&&(T(),E())},[c,p,T,E]);const{isOpen:G,isLoading:H}=Ue(),W=v?cs:Ye;return e.jsx(ce.Provider,{value:null,children:e.jsx(ze,{children:e.jsxs(Be,{clientThreadId:i,children:[e.jsx(Ge,{clientThreadId:i},j),!H&&G&&e.jsx(hs,{clientThreadId:i,setClientThreadId:u}),e.jsx(He,{}),e.jsx(We,{}),e.jsx(U,{clientThreadId:i,setClientThreadId:u,prefetchSearch:r,children:e.jsx(W,{urlThreadId:s,clientThreadId:i,setClientThreadId:u,prefetchSearch:r})}),e.jsx(rs,{clientThreadId:i}),e.jsx(Ke,{clientThreadId:i}),e.jsx(ms,{}),e.jsx(Qe,{}),B?e.jsx(Ze,{clientThreadId:i}):!1]})})})}function ms(){const a=qe(s=>s.sharingModalThreadId);return a?e.jsx(us,{serverThreadId:a}):null}function fs(){le({queryKey:["pingEdge"],queryFn:()=>ue.pingEdge(),enabled:!0,staleTime:1/0})}typeof window<"u"&&(window._g=ls.GOKU_SERVICE);export{ys as C,V as F};
//# sourceMappingURL=e7em4fz79n63cuay.js.map
