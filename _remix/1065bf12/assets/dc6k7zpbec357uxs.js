import{gr as S,e3 as C,dn as v,ee as g,m as e,bo as T,aE as I,fz as x,a5 as b,a9 as E,g0 as N,gs as y,u as P,r as h,dr as f,at as z,bp as M,cy as w,cU as k}from"./sj4egp330zr3hymf.js";import{C as H}from"./ihli8gabikxhp006.js";import{c3 as L,c4 as F,c5 as j,c6 as U,c7 as A,c8 as G,c9 as p,ca as O,cb as Q,cc as D,cd as q,H as R,b as K,b7 as V,ce as W,cf as Z,cg as _,D as B,ch as J}from"./ohfy421oyz5q6uux.js";import{C as X}from"./ma0s76orva63ppzy.js";import{u as Y,a as $}from"./muvy4qzgls86chgu.js";import ee from"./eby9nred49cei6dc.js";import{u as ae,C as se,b as re,c as te}from"./ivaueezr69le5sv0.js";import{C as ne}from"./ofb8e1zr68997o6g.js";import"./g5wnd0m5z50t7gex.js";import"./fc93tduihgcgsfo0.js";import"./d422vlbtt271j9aw.js";import"./b4c9lw4tw0ib4w9o.js";import"./kg4srka8y24rfx9h.js";import"./lz5m5fte6cwvax3q.js";import"./l9xic3ru5lupzebc.js";import"./edzdph5rs0n89q6j.js";import"./fyuyu14xgxrq03io.js";import"./higzg9p26dh4k0zy.js";function oe(){const{clientThreadId:a,currentModelId:s,conversationLeafId:i,onRequestCompletion:r}=Y(),{showEmptyState:m}=ae({clientThreadId:a,currentLeafId:i}),u=L()[s],d=S(a),c=F(),l=C(),t=v()??"",n=j({gizmoId:t,draft:!1}),o=g();return e.jsx(T.Provider,{value:r,children:e.jsx(U,{children:e.jsxs(A,{clientThreadId:a,currentLeafId:i,children:[e.jsx(G,{children:d!=null&&e.jsx("title",{children:d})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(p,{id:"canvas-state",name:"canvas-state",checked:c}),e.jsx(p,{id:"thread-extended-info-sidebar-state",name:"thread-extended-info-sidebar-state",checked:l}),e.jsx(O,{anchor:"vertical",className:I(x.screen,m&&x.screenEmptyState),name:"thread",leading:o?e.jsx(se,{}):e.jsx(re,{clientThreadId:a}),trackLeading:!0,children:n.data&&e.jsx("div",{className:"flex h-full w-full",children:e.jsx("div",{className:"max-h-[100cqh] flex-grow overflow-y-auto",children:e.jsx("div",{className:"mx-auto max-w-screen-md",children:e.jsx(Q,{clientThreadId:a,currentModelConfig:u,children:e.jsx(te,{})})})})})}),e.jsx(ne,{}),e.jsx(D,{})]})]})})})}function ie(){const a=J(s=>s.sharingModalThreadId);return a?e.jsx(ee,{serverThreadId:a}):null}function Ne(){const a=b(),s=E(),{gizmoSlug:i}=N(),r=y(i??""),m=j({gizmoId:r,draft:!1}),{isPending:u}=q(r),d=g(),{isLoading:c}=P("491279851"),l=R();h.useEffect(()=>{!c&&!l&&s("/")},[c,l,s]),h.useEffect(()=>{a!=null&&a.isFree()&&s("/")},[a,s]);const[t,n]=h.useState(()=>f());K(t,{kind:z.GizmoInteraction,gizmo_id:r}),h.useEffect(()=>{n(f())},[r]);let o=e.jsx("div",{className:"flex h-full w-full",children:e.jsx("div",{className:"m-auto",children:e.jsxs("div",{className:"flex justify-center",children:[e.jsx("span",{className:"sr-only","aria-busy":!0,role:"status","aria-live":"polite",children:e.jsx(M,{...V.loadingProjects})}),e.jsx(w,{className:"h-10 w-10 text-token-text-secondary"})]})})});return m.data&&!u&&(o=e.jsx(oe,{})),e.jsx(W,{children:e.jsx($,{clientThreadId:t,setClientThreadId:n,children:d?e.jsx(Z,{children:e.jsx(_,{className:k.application,sidebar:e.jsx(X,{}),thread:o,debugger:e.jsx(B,{clientThreadId:t})})}):e.jsxs(e.Fragment,{children:[e.jsx(H,{clientThreadId:t,setClientThreadId:n,threadContent:o}),e.jsx(ie,{})]})})})}export{Ne as default};
//# sourceMappingURL=dc6k7zpbec357uxs.js.map
