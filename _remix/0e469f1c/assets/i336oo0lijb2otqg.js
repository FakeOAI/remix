const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/g470qqpz782a3zwc.js","assets/fozyys57b6461bwr.js","assets/lek82h8c0bbwxe65.js","assets/root-kz139xyy.css","assets/mo6o1f9tvelsxv14.js","assets/kuzdys3rw3ix3a3q.js","assets/conversation-small-ict01xsi.css","assets/bpuancln8028necu.js","assets/h4gzokywuzejwsfe.js","assets/m8mi556gkar3otze.js","assets/bfb0s41ic10rbtm1.js","assets/d6bow3c69mv4z9f0.js","assets/mei6cyvu3dpf49i7.js","assets/9rr943ci9h3yd022.js","assets/dy7bdqspn1a3k43h.js","assets/hett5s2enuakixkf.js"])))=>i.map(i=>d[i]);
import{j as e,au as R,av as D,r as u,aZ as A,e2 as n,ar as g,J as z,ax as $,cK as K,S as Q,I as Z}from"./fozyys57b6461bwr.js";import{f3 as b,f4 as B,f5 as G,cl as J,f6 as X,c0 as Y,f7 as ee,f8 as O,f9 as se,fa as ae,cp as ne,fb as te,fc as re,fd as N,fe as oe,ff as ie,fg as ce,fh as de,fi as le,fj as he,q as ue,fk as me,fl as Ce,en as fe,fm as xe,ck as pe,fn as Te,fo as ve,fp as q,fq as ge,b0 as L,fr as je,d8 as Se,eg as Ie,c3 as ye,fs as we,a8 as Ne,ft as Le,fu as be,fv as Ee,fw as Me,bP as _e,fx as ke,fy as Pe,fz as He,cC as Fe,fA as Re,fB as P,eP as De,eQ as Ae}from"./kuzdys3rw3ix3a3q.js";import{S as Be,E as Oe,C as H,a as qe,b as Ue}from"./bpuancln8028necu.js";import{K as Ve}from"./lek82h8c0bbwxe65.js";import{C as We}from"./be90a7t8ubd1n5na.js";function ze({clientThreadId:s,currentModelId:o,isModelLoaded:a,onRequestCompletion:r,v2HomepageDisclaimer:t}){return e.jsx(Be,{clientThreadId:s,currentModelId:o,isModelLoaded:a,onRequestCompletion:r,v2HomepageDisclaimer:t})}const $e=R(()=>D(()=>import("./g470qqpz782a3zwc.js"),__vite__mapDeps([0,1,2,3,4,5,6])).then(s=>s.ChatScreenContentModals));function Ke({disableEmptyState:s,fullWidth:o}){const{clientThreadId:a,currentModelId:r,conversationLeafId:t,isCompanionWindow:d,isEmbeddedInFocusedView:l,onChangeItemInView:h,onChangeRating:C,onRequestCompletion:c,onRequestMoreCompletions:m,isModelLoaded:f,prefetchSearch:j}=u.useContext(b),x=B(a,t),S=G(a),p={clientThreadId:a,conversationLeafId:t,currentModelId:r,onChangeItemInView:h,onChangeRating:C,onRequestMoreCompletions:m,onRequestCompletion:c,showAvatar:!1},I=J(a),y=X({clientThreadId:a,currentLeafId:t,handleRequestCompletion:c,prefetchSearchPromise:j}),T=I||y||s,v=Y(),{initialConversationTurns:E,continuedConversationTurns:M}=ee(x,v),{canUseNewHomepage:_,showEmptyState:k}=O({clientThreadId:a,currentLeafId:t}),U=x>=2;se(U);const{setTargetedContent:V}=ae(),W=ne(r);if(te(()=>{he(),ue.updateScrollToMessageId(a,"finalAgentTurn")}),re(i=>{me({...i,leafId:i.source,isEmbeddedInFocusedView:l})&&V(void 0)}),_&&k&&!T){const i=d?null:e.jsx("div",{className:"text-center text-xs text-token-text-secondary",children:e.jsx(N,{clientThreadId:a})});return e.jsx(ze,{clientThreadId:a,currentModelId:r,isModelLoaded:f,onRequestCompletion:c,v2HomepageDisclaimer:i})}else if(!_&&k&&!T)return e.jsx(Oe,{clientThreadId:a,currentModelId:r,isModelLoaded:f,onRequestCompletion:c,enableV2Homepage:!W,v2HomepageDisclaimer:e.jsx(N,{clientThreadId:a})});return e.jsxs(e.Fragment,{children:[v&&e.jsx(oe,{}),v&&M.length===0&&e.jsx(ie,{}),e.jsx(A,{children:e.jsxs(u.Suspense,{fallback:null,children:[e.jsx(ce,{}),E.length>0&&e.jsx("ol",{className:n.conversationTurnList,children:E.map(({turnIndex:i,isFinalTurn:w})=>e.jsx("li",{className:g(n.conversationTurnWrapper,o&&"w-full"),children:u.createElement(H,{...p,key:`${a}-${i}`,turnIndex:i,isFinalTurn:w})},i))}),v&&e.jsx(de,{}),e.jsx("ol",{className:n.conversationTurnList,children:M.map(({turnIndex:i,isFinalTurn:w})=>e.jsx("li",{className:g(n.conversationTurnWrapper,o&&"w-full"),children:u.createElement(H,{...p,key:`${a}-${i}`,turnIndex:i,isFinalTurn:w,scrollToMessageId:S})},i))})]})}),e.jsx($e,{}),x>0&&e.jsx(le,{})]})}function Qe(){return e.jsx(Ke,{})}const Ze=R(()=>D(()=>import("./bpuancln8028necu.js").then(s=>s.c),__vite__mapDeps([7,1,2,3,5,6,8,9,10,11,12,13,14,15])).then(s=>s.ChatScreenComposerAlerts));function Ge(){const{clientThreadId:s,currentModelId:o,isCompanionWindow:a,onRequestCompletion:r}=u.useContext(b),t=Ce(s),d=fe(s),l=B(s,d),h=l>=2,C=xe(s,d),c=pe(s)&&!h&&Te(t);ve(l,s,d,c);const{setComposerFooterElement:m}=u.useContext(q);return e.jsx("div",{className:n.footer,children:e.jsxs(ge,{style:{"--bar-gap":"0.5rem","--bar-background-color":"transparent"},children:[e.jsxs(L,{type:"secondary",className:"relative",children:[h&&e.jsx(je,{className:n.scrollButton}),e.jsx(Ze,{})]}),e.jsxs(L,{type:"primary",ref:m,name:"composer-bar",children:[e.jsx(qe,{clientThreadId:s,currentModelId:o,isNewThread:c,noWrap:!0,onRequestCompletion:r,showPromptStarters:c||!C}),!a&&e.jsx("div",{className:"text-center text-xs text-token-text-secondary",children:e.jsx(N,{clientThreadId:s})})]})]})})}function Je(){const s=z(),{clientThreadId:o,isLoggedInUser:a,onNewThread:r}=u.useContext(b);return Se(o),e.jsxs(L,{leading:!0,type:"primary",className:n.header,children:[e.jsxs("div",{className:n.headerLeading,children:[a&&e.jsx(Ie,{}),e.jsx($,{label:s.formatMessage(F.newChat),children:e.jsx(K,{to:"/",className:n.newThread,onClick:t=>{r?(t.preventDefault(),r()):Q.logEvent("chatgpt_web_thread_tap_new_thread")},tabIndex:0,children:e.jsx(ye,{className:n.sidebarIcon,icon:e.jsx(Ve,{style:{viewTransitionName:"var(--vt_new_chat_thread)"}}),tabIndex:-1,label:s.formatMessage(F.newChat),style:{display:"var(--screen-size-hidden-on-compact-mode)"}})})}),e.jsx("div",{className:n.threadDropdown,children:e.jsx(we,{clientThreadId:o})})]}),e.jsx("div",{className:n.headerTrailing,children:e.jsx(A,{children:e.jsx(Ue,{clientThreadId:o})})})]})}const F=Z({newChat:{id:"rnCpM4",defaultMessage:"New Chat"}});function ns({hideHeader:s=!1,hideFooter:o=!1,hideTools:a=!1,embedded:r=!1}){const{clientThreadId:t,currentModelId:d,conversationLeafId:l,isCompanionWindow:h,isInstalledApp:C,onRequestCompletion:c}=Ne(),{canUseNewHomepage:m,showEmptyState:f}=O({clientThreadId:t,currentLeafId:l}),j=Le()[d],[x,S]=be({name:"composer-bar",track:"height"}),p=Ee(t),I=Me(),{isOpen:y}=_e(),T=o||f&&m;return e.jsx(ke.Provider,{value:c,children:e.jsx(Pe,{children:e.jsxs(He,{clientThreadId:t,currentLeafId:l,children:[e.jsx(Fe,{children:p!=null&&e.jsx("title",{children:p})}),e.jsx(Re,{clientThreadId:t,className:g(r&&"h-full","flex-1"),currentModelConfig:j,children:e.jsx(q.Provider,{value:{setComposerFooterElement:S},children:e.jsxs("div",{className:"h-full",style:{container:"thread-container / inline-size"},children:[e.jsx(P,{id:"canvas-state",name:"canvas-state",checked:I}),e.jsx(P,{id:"thread-extended-info-sidebar-state",name:"thread-extended-info-sidebar-state",checked:y}),e.jsx(De,{anchor:"vertical",className:g(n.screen,f&&m&&n.screenEmptyState,h&&n.screenCompanionWindow,C&&n.screenInstalledApp,r&&n.screenEmbedded),name:"thread",leading:!s&&e.jsx(Je,{}),style:x,trackLeading:!0,trackTrailing:!0,trailing:!T&&e.jsx(Ge,{}),children:e.jsx(Qe,{})}),!h&&!a&&e.jsxs(e.Fragment,{children:[e.jsx(We,{}),e.jsx(Ae,{})]})]})})})]})})})}export{ns as C};
//# sourceMappingURL=i336oo0lijb2otqg.js.map
