const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/f1j4z95vtanxwajn.js","assets/fozyys57b6461bwr.js","assets/lek82h8c0bbwxe65.js","assets/root-kz139xyy.css","assets/kuzdys3rw3ix3a3q.js","assets/conversation-small-ict01xsi.css","assets/ksh4h2aw4zu950oy.js","assets/dr1v4chdnm6u10x9.js","assets/d6bow3c69mv4z9f0.js","assets/dy7bdqspn1a3k43h.js","assets/hkltok61vt7llaiw.js","assets/mc45yflcr6sh2vda.js","assets/fc380nw6uy8wjewh.js","assets/ng0qb5fod5smvszc.js","assets/nmb5paltohmy6edd.js","assets/h4gzokywuzejwsfe.js","assets/kf19pb0mkgyqo600.js","assets/frijk35uk781nisn.js","assets/9rr943ci9h3yd022.js","assets/lu44zlsp9dj9kizz.js","assets/gdggmpu32a0zhe6r.js","assets/my7uyhcvcwhuv2bt.js","assets/osyblh2ldwr59ivi.js","assets/n221ce3vquv8hpd8.js","assets/kqwdyvkaaavvn8k3.js","assets/kg53jb2vvlpay0pm.js","assets/c51na6acy5vhad56.js","assets/983a0dy92b3ronpv.js","assets/milx3n0y9534dqqt.js","assets/k21wmqgxeji6nynp.js","assets/o3iheuhtc5ff5gm4.js","assets/j5w4166bn3c02o6l.js","assets/oil0azgmipjrbdco.js","assets/cutp07fm8ivx0vq8.js","assets/bpuancln8028necu.js","assets/m8mi556gkar3otze.js","assets/bfb0s41ic10rbtm1.js","assets/mei6cyvu3dpf49i7.js","assets/hett5s2enuakixkf.js","assets/i336oo0lijb2otqg.js","assets/be90a7t8ubd1n5na.js","assets/0ft3dk1n8c8eghqe.js","assets/gr6rc20jaosurkfo.js"])))=>i.map(i=>d[i]);
import{au as l,av as u,j as e,aV as $,aP as S,fH as _,r as d,ar as Q,fB as w,ag as q,t as E,X as Y,c0 as P,D as X,bN as J,bO as Z,bP as ee,cq as ae,l as se,O as te}from"./fozyys57b6461bwr.js";import{d7 as re,d0 as O,gA as oe,d1 as ne,X as I,gB as k,fs as ie,gC as de,gz as D,gD as M,gE as L,gF as ce,bP as le,a$ as H,a9 as ue,d2 as R,gG as T,gH as g,fT as he,bR as x,bS as y,a8 as ge,eO as me,eN as fe,gI as xe,gJ as be,q as N,gK as je,cg as pe,gL as Ce,gM as ve,gN as Se,gO as A,gP as _e,j as we,gQ as Ee,gR as Pe,fS as Te,ac as ye,c_ as Ne,c$ as Ae,gS as Fe,gT as Ve,gU as Oe,d3 as Ie,gV as ke,ch as De,gb as Me}from"./kuzdys3rw3ix3a3q.js";import{S as F,b as Le,c as He,N as Re}from"./oil0azgmipjrbdco.js";import{S as Be,a as ze,C as Ge}from"./cutp07fm8ivx0vq8.js";import{T as B}from"./bpuancln8028necu.js";import{C as z}from"./i336oo0lijb2otqg.js";import{m}from"./d6bow3c69mv4z9f0.js";const Ke=l(()=>u(()=>import("./f1j4z95vtanxwajn.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19])).then(a=>a.CanvasFocusedViewManager)),Ue=l(()=>u(()=>import("./gdggmpu32a0zhe6r.js"),__vite__mapDeps([20,1,2,3,4,5,21,22,23,24,25,26,8,27])).then(a=>a.SearchResultsModal));function We({clientThreadId:a,setClientThreadId:s,urlThreadId:t,prefetchSearch:n}){const o=re();O({clientThreadId:a});const{createNewThread:i,onThreadCreated:h,resetThread:r}=oe({clientThreadId:a,setClientThreadId:s});return ne({resetThreadAction:r,clientThreadId:a}),e.jsxs(I,{enableSandbox:!1,clientThreadId:a,children:[e.jsx(k,{clientThreadId:a,urlThreadId:t}),e.jsxs(F,{hideNavigation:o,mobileHeaderContent:e.jsx(ie,{clientThreadId:a,inMobileHeader:!0}),mobileHeaderBottomContent:e.jsx(de,{clientThreadId:a}),mobileHeaderLeftContent:e.jsx(Le,{onNewChatButtonClick:r}),mobileHeaderRightContent:e.jsx(He,{onNewChatButtonClick:r}),sidebar:e.jsx(Re,{navHeader:a?e.jsx(Be,{className:"flex h-[60px] items-center md:h-header-height",onNewThread:i}):null,children:e.jsx(ze,{clientThreadId:a,onNewThread:i})}),threadFlyout:e.jsx(D,{clientThreadId:a}),children:[e.jsx(M,{}),e.jsx(B,{clientThreadId:a,onCreate:h,prefetchSearch:n},a),e.jsxs(F.Sidebars,{children:[e.jsx(Ke,{clientThreadId:a}),e.jsx(L,{clientThreadId:a}),!1]})]}),e.jsx($e,{clientThreadId:a})]})}function $e({clientThreadId:a}){const s=$(),t=s?.includes(S.SearchTool)&&!s?.includes(S.SearchToolHoldout),n=ce(),{isOpen:o}=le();return o&&(!n||!t)&&e.jsx(Ue,{clientThreadId:a})}const V=450;function Qe({children:a,clientThreadId:s,isOpen:t,onClose:n}){const o=H();return e.jsxs(ue,{children:[t&&o&&e.jsx(R,{clientThreadId:s,children:e.jsx(_,{children:e.jsx(T.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(m.div,{className:"h-full w-full bg-token-main-surface-secondary",...g}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx("div",{className:"flex-grow overflow-auto",children:a}),e.jsx(m.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:V},...g,children:e.jsx(z,{hideHeader:!0,hideTools:!0})})]})]})})})}),t&&!o&&e.jsx(_,{children:e.jsx(T.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(m.div,{className:"h-full w-full bg-token-main-surface-secondary",...g}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx("div",{className:"flex-grow overflow-auto",children:a}),e.jsx(m.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:V},...g,children:e.jsx("div",{className:"h-[100vh] pb-4",children:e.jsx(B,{clientThreadId:s,hideHeader:!0,hideFooter:!0,hideToolsOverlay:!0,messagesVerticalAlign:"bottom"},s)})})]})]})})})]})}const qe=l(()=>u(()=>import("./milx3n0y9534dqqt.js"),__vite__mapDeps([28,1,2,3,4,5]))),Ye=l(()=>u(()=>import("./k21wmqgxeji6nynp.js"),__vite__mapDeps([29,1,2,3,4,5,30,31,8,32,18,33,34,15,35,36,37,9,38,39,40])).then(a=>a.ImageEditor));function Xe({clientThreadId:a}){const s=he();d.useEffect(()=>{x.close()},[a]);let t;return s?.type===y.ADAVisualization?t=e.jsx(qe,{clientThreadId:a,visualization:s.visualization}):s?.type===y.Image&&(t=e.jsx(Ye,{clientThreadId:a,messageId:s.messageId,image:s.image,allImages:s.allImages},s.image.asset_pointer)),e.jsx(Qe,{clientThreadId:a,isOpen:s!=null,onClose:x.close,children:t})}const Je=l(()=>u(()=>import("./f1j4z95vtanxwajn.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19])).then(a=>a.CanvasFocusedViewManager));function Ze(){const{focusedObject:a,clientThreadId:s}=ge();return e.jsx(me,{className:Q(w.application,{[w.withFocusedView]:a}),sidebar:e.jsx(Ge,{}),thread:e.jsx(z,{}),details:e.jsxs(e.Fragment,{children:[e.jsx(Je,{clientThreadId:s}),!1]}),threadExtendedInfo:e.jsx(D,{clientThreadId:s}),debugger:e.jsx(L,{clientThreadId:s}),name:"application-root"})}function ea({clientThreadId:a,setClientThreadId:s,urlThreadId:t,prefetchSearch:n}){return O({clientThreadId:a}),e.jsx(R,{clientThreadId:a,setClientThreadId:s,prefetchSearch:n,children:e.jsxs(fe,{children:[e.jsx(xe,{}),e.jsx(be,{}),e.jsxs(I,{enableSandbox:!1,clientThreadId:a,children:[e.jsx(k,{clientThreadId:a,urlThreadId:t}),e.jsx(M,{}),e.jsx(Ze,{})]})]})})}var aa={};const sa=l(()=>u(()=>import("./0ft3dk1n8c8eghqe.js"),__vite__mapDeps([41,1,2,3,4,5,42])));function ha(a){const{urlThreadId:s,clientThreadId:t,prefetchSearch:n}=a;ra();const o=q(),i=E(),[h]=Y(),[r,f]=d.useState(()=>s!==void 0?s:t!==void 0?t:P());s!==void 0&&r!==s&&N.getServerThreadId(r)!==s&&f(s);const G=je(E());d.useEffect(()=>{s===void 0&&N.getServerThreadId(r)!==void 0&&f(P())},[s,r,G]);const K=pe(De.workspaceId),U=H(),{eligible:b,isLoading:j,markAsViewed:p}=Ce(),C=ve();d.useEffect(()=>{(i.pathname==="/"||i.pathname.startsWith("/c/"))&&Se({namespace:A.ChatPageLoad})==null&&(_e({namespace:A.ChatPageLoad,opts:{expectedTimingLogs:[{name:"render_model_switcher",expectedInMs:1e4},{name:"render_history_items",expectedInMs:25e3}]}}),X.addTiming("chatgpt.web.chatPage.mounted"))},[]);const v=we();d.useEffect(()=>{J(!0).then(c=>{c.force_login&&v({authType:"login"}),Z.initializeAndGatherData(c),Ee.initializeAndGatherData(c),ee.initializeAndGatherData(c)})},[v]),d.useEffect(()=>{const c=h.get(Pe)==="true";o!==c&&ae.setIsTemporaryChatEnabled(c)},[o,h]),d.useEffect(()=>{i.state?.focusObject&&x.setFocusedObject(i.state.focusObject)},[i.state?.focusObject]),d.useEffect(()=>{!j&&b&&(p(),C())},[b,j,p,C]),Te();const W=U?ea:We;return e.jsx(ye.Provider,{value:null,children:e.jsx(Ne,{children:e.jsxs(Ae,{clientThreadId:r,children:[e.jsx(Fe,{clientThreadId:r},K),!1,e.jsx(Ve,{}),e.jsx(Oe,{}),e.jsx(W,{urlThreadId:s,clientThreadId:r,setClientThreadId:f,prefetchSearch:n}),e.jsx(Xe,{clientThreadId:r}),e.jsx(Ie,{clientThreadId:r}),e.jsx(ta,{}),!1,e.jsx(ke,{})]})})})}function ta(){const a=Me(s=>s.sharingModalThreadId);return a?e.jsx(sa,{serverThreadId:a}):null}function ra(){se({queryKey:["pingEdge"],queryFn:()=>te.pingEdge(),enabled:!0,staleTime:1/0})}typeof window<"u"&&(window._g=aa.GOKU_SERVICE);export{ha as C,V as F};
//# sourceMappingURL=pbglydy8xxlcxmff.js.map
