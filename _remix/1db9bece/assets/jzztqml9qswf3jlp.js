import{aa as f,a9 as _,b6 as d,g0 as h,r as s,a5 as A,g7 as g,m as l,cy as R,bT as y,bU as C,W as E,P as M,d as O}from"./l5zxgmdvuqhdk2bc.js";import{aX as T}from"./gvv36j3z3mhdi4e0.js";import{C as L}from"./mfyjzas8sr8rnmk5.js";const m={pro:"chatgptpro",plus:"chatgptplusplan"},p=Object.keys(L),w={oiw216z:"sora_redirect"};function b(){const[P]=f(),a=_(),r=d(),{plan:t}=h(),e=P.get("checkout_from"),c=s.useRef(!1),o=A(),n=s.useMemo(()=>o?.subscriptionAnalyticsParams,[o]);if(!t||!(t in m))throw g("/");return s.useEffect(()=>{if(c.current)return;c.current=!0,(async()=>{const u=e&&p.includes(e)?w[e]:"purchase_plan_redirect";try{e&&p.includes(e)&&y.setItem(C.CheckoutFrom,e);const i=await E.getCheckoutLink(r,{plan_name:m[t]});M.logEvent(O.accountPaymentRedirect,{...n,plan:t,location:u}),window.location.href=i.url}catch{T(a,u)}})()},[a,r,t,e,n]),l.jsx("div",{className:"flex h-full w-full items-center justify-center",children:l.jsx(R,{})})}export{b as default};
//# sourceMappingURL=jzztqml9qswf3jlp.js.map
