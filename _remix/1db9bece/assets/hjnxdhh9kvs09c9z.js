import{gr as S,e3 as C,dn as v,ee as j,m as e,bo as T,aE as I,fz as x,a5 as b,a9 as E,g0 as N,gs as y,u as P,r as h,dr as f,at as z,bp as M,cy as w,cU as k}from"./l5zxgmdvuqhdk2bc.js";import{C as H}from"./xpz1vq7z9z64090d.js";import{c5 as L,c6 as F,c7 as g,c8 as G,c9 as U,ca as A,cb as p,cc as O,cd as Q,ce as D,cf as q,z as R,b as K,b9 as V,cg as W,ch as Z,ci as _,D as B,cj as J}from"./gvv36j3z3mhdi4e0.js";import{C as X}from"./nlbn3f10t1gjnuq0.js";import{u as Y,a as $}from"./4wga6zv4lb7ii8e0.js";import ee from"./etg97ayny7epezxy.js";import{u as se,C as ae,b as re,c as te}from"./l5p3p01xk4qto08o.js";import{C as ne}from"./izrjwipc5jpf7u9j.js";import"./l1eoe42j0pu0l1z4.js";import"./gzppqzwoy4o1bo3t.js";import"./iw3xk45z92sm5inx.js";import"./d1pitdzf6bu98waj.js";import"./g0jyobs0vupw3i4x.js";import"./lqrqz29j48ycvj4u.js";import"./gqhfqhafkvat8184.js";import"./o48xd3icd529wce9.js";import"./d3ats15kwi7ii1tn.js";import"./g3x30oxs69ftt0nz.js";function ie(){const{clientThreadId:s,currentModelId:a,conversationLeafId:o,onRequestCompletion:r}=Y(),{showEmptyState:m}=se({clientThreadId:s,currentLeafId:o}),u=L()[a],d=S(s),c=F(),l=C(),t=v()??"",n=g({gizmoId:t,draft:!1}),i=j();return e.jsx(T.Provider,{value:r,children:e.jsx(G,{children:e.jsxs(U,{clientThreadId:s,currentLeafId:o,children:[e.jsx(A,{children:d!=null&&e.jsx("title",{children:d})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(p,{id:"canvas-state",name:"canvas-state",checked:c}),e.jsx(p,{id:"thread-extended-info-sidebar-state",name:"thread-extended-info-sidebar-state",checked:l}),e.jsx(O,{anchor:"vertical",className:I(x.screen,m&&x.screenEmptyState),name:"thread",leading:i?e.jsx(ae,{}):e.jsx(re,{clientThreadId:s}),trackLeading:!0,children:n.data&&e.jsx("div",{className:"flex h-full w-full",children:e.jsx("div",{className:"max-h-[100cqh] flex-grow overflow-y-auto",children:e.jsx("div",{className:"mx-auto max-w-screen-md",children:e.jsx(Q,{clientThreadId:s,currentModelConfig:u,children:e.jsx(te,{})})})})})}),e.jsx(ne,{}),e.jsx(D,{})]})]})})})}function oe(){const s=J(a=>a.sharingModalThreadId);return s?e.jsx(ee,{serverThreadId:s}):null}function Ne(){const s=b(),a=E(),{gizmoSlug:o}=N(),r=y(o??""),m=g({gizmoId:r,draft:!1}),{isPending:u}=q(r),d=j(),{isLoading:c}=P("491279851"),l=R();h.useEffect(()=>{!c&&!l&&a("/")},[c,l,a]),h.useEffect(()=>{s!=null&&s.isFree()&&a("/")},[s,a]);const[t,n]=h.useState(()=>f());K(t,{kind:z.GizmoInteraction,gizmo_id:r}),h.useEffect(()=>{n(f())},[r]);let i=e.jsx("div",{className:"flex h-full w-full",children:e.jsx("div",{className:"m-auto",children:e.jsxs("div",{className:"flex justify-center",children:[e.jsx("span",{className:"sr-only","aria-busy":!0,role:"status","aria-live":"polite",children:e.jsx(M,{...V.loadingProjects})}),e.jsx(w,{className:"h-10 w-10 text-token-text-secondary"})]})})});return m.data&&!u&&(i=e.jsx(ie,{})),e.jsx(W,{children:e.jsx($,{clientThreadId:t,setClientThreadId:n,children:d?e.jsx(Z,{children:e.jsx(_,{className:k.application,sidebar:e.jsx(X,{}),thread:i,debugger:e.jsx(B,{clientThreadId:t})})}):e.jsxs(e.Fragment,{children:[e.jsx(H,{clientThreadId:t,setClientThreadId:n,threadContent:i}),e.jsx(oe,{})]})})})}export{Ne as default};
//# sourceMappingURL=hjnxdhh9kvs09c9z.js.map
