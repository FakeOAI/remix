const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/er38hedgxy5jks4l.js","assets/c2lgex2wl5f4pr2u.js","assets/icybx1g1lu32sdf6.js","assets/root-m9keoudf.css","assets/in76iww2l9gpkbe0.js","assets/bpjo2r0o0vzxmnm3.js","assets/kte2cd4sp8td2woj.js","assets/gz12llwqbfvrgsvm.js","assets/dj6elrwd8a139wzi.js","assets/j7a353f931yfrjrp.js","assets/hfijtbquqixio751.js","assets/isjdmfmhzv09v01t.js","assets/oizw0lv24r6kf6um.js","assets/hwa4y3uwih1lbyz6.js","assets/q8j8sovsuecy6vuz.js","assets/e9r9ar01cxestb7h.js","assets/l6g5wzytgcdv4wrq.js","assets/bfgn2h8lpele6k4b.js","assets/jbakxfl071lu824l.js","assets/daju9mov6cekpv1t.js","assets/nayicli1ccruuyad.js","assets/divumvu01mfctdta.js","assets/d1aoocqamt1you02.js","assets/bhltic4j4lm1i1ap.js","assets/mhimkwpqugv5yjjj.js","assets/c4bxzbp1808foto4.js","assets/dzt6t4p60je4f4jm.js","assets/ADAVisualizationComponent-mi6em660.css","assets/ejg2nrha44zvgfpw.js","assets/irlhtxpdmf6rhox5.js","assets/h9pzzk5jm9racpy0.js","assets/cveic4vyc3zf0upn.js","assets/g2y59fjdrbzv8r21.js","assets/iavq0l2qg7tn86vd.js","assets/fp9w4in146q1s2k9.js","assets/mf9yh58titb212ik.js","assets/gh334xf8yu2kgzva.js","assets/lr12bga6295sol3t.js","assets/ok79zj4asqqk3z9x.js","assets/oou16s0t1x3j5k0j.js","assets/fzrn137102spawew.js","assets/e9lafxuzyeh4418f.js","assets/fqnele1mayehiv31.js","assets/k4rejsops3z3axd7.js","assets/ehyu3eedjqty66d3.js","assets/imjk2mw5s7eszyyf.js","assets/hetbgz7g4zsnnr13.js","assets/h9xm4rrqvhrpw56s.js","assets/dez6zs5mriyawgaj.js","assets/lipvjjyl3fqiz70w.js","assets/h4gf3m2yd1sklkt2.js","assets/ogxlxa8mh31l2qci.js","assets/hlsxpj9vmtzrxjra.js","assets/l73li0ol49oo5idm.js","assets/bfm8hato8gmaz90w.js","assets/i75qnjo3e3m76ro7.js","assets/cngk3xr4dmxdojfm.js","assets/fecvmlj3d2hvct6l.js","assets/h5crs2m2d9olmcdd.js","assets/cnot993g8k2uatyf.js","assets/n5x56nly431cp3kz.js","assets/mm76z1493t6lxwdh.js","assets/bdisglyz7seykkof.js","assets/nl1f1ya0x9piujem.js","assets/dtq8axfe7w5l0mdp.js","assets/hqoeii0k3g76g9o7.js","assets/b6i8imz28tywjybu.js","assets/bcrfoetvwq0k5b12.js"])))=>i.map(i=>d[i]);
import{c as Le,k as Mb,g as ye,i as Ec,r as p,p as Eb,a as b4,b as zP,C as Td,P as E,d as P,D as ue,e as vs,T as pe,f as Vt,h as x4,M as an,l as ws,j as Ss,R as le,v as Lr,E as w4,n as La,m as i,u as lt,o as L,q as he,s as qP,t as me,w as Pe,x as vt,y as Ca,z as S4,_ as YP,A as Pc,B as KP,F as oc,G as Pb,H as hh,I as ph,J as $b,K,L as U,N as Fe,O as C4,Q as rs,S as _4,U as z,V as X,W as QP,X as DS,Y as mh,Z as XP,$ as Ab,a0 as Js,a1 as T4,a2 as Cs,a3 as De,a4 as ZP,a5 as xo,a6 as Su,a7 as Fa,a8 as yt,a9 as wo,aa as Ob,ab as JP,ac as kd,ad as e$,ae as ds,af as t$,ag as vr,ah as fv,ai as ve,aj as cm,ak as LS,al as n$,am as k4,an as Zo,ao as qs,ap as eo,aq as Nb,ar as $e,as as Fn,at as ss,au as qn,av as gh,aw as M4,ax as So,ay as vh,az as r$,aA as Ib,aB as jb,aC as $,aD as s$,aE as _n,aF as Xt,aG as Q,aH as yh,aI as Ze,aJ as Ye,aK as rt,aL as o$,aM as Se,aN as bh,aO as Ba,aP as E4,aQ as Rb,aR as a$,aS as mt,aT as S,aU as ur,aV as Vn,aW as i$,aX as xh,aY as c$,aZ as ce,a_ as Jo,a$ as Db,b0 as It,b1 as l$,b2 as Lb,b3 as wh,b4 as $c,b5 as P4,b6 as $4,b7 as A4,b8 as O4,b9 as Ac,ba as ke,bb as N4,bc as I4,bd as j4,be as R4,bf as Fr,bg as D4,bh as L4,bi as F4,bj as ac,bk as _a,bl as B4,bm as Nt,bn as He,bo as Sh,bp as jt,bq as Je,br as U4,bs as u$,bt as V4,bu as d$,bv as G4,bw as Ua,bx as f$,by as ie,bz as Md,bA as Co,bB as h$,bC as Fb,bD as Ch,bE as Br,bF as W4,bG as _h,bH as tt,bI as H4,bJ as z4,bK as q4,bL as Th,bM as kh,bN as Mh,bO as Y4,bP as Wt,bQ as Oc,bR as p$,bS as Eh,bT as m$,bU as Nc,bV as g$,bW as v$,bX as y$,bY as Wi,bZ as Ic,b_ as FS,b$ as mn,c0 as cn,c1 as Bb,c2 as K4,c3 as b$,c4 as BS,c5 as Va,c6 as x$,c7 as w$,c8 as In,c9 as Q4,ca as Ph,cb as Zt,cc as je,cd as Ub,ce as S$,cf as X4,cg as Vb,ch as Cu,ci as Z4,cj as C$,ck as hv,cl as pv,cm as _$,cn as J4,co as $h,cp as e9,cq as Pt,cr as mv,cs as t9,ct as n9,cu as r9,cv as s9,cw as jc,cx as ao,cy as o9,cz as a9,cA as US,cB as VS,cC as i9,cD as c9,cE as l9,cF as u9,cG as Ah,cH as d9,cI as f9,cJ as h9,cK as p9,cL as T$,cM as k$,cN as m9,cO as g9,cP as v9,cQ as M$,cR as E$,cS as y9,cT as Gb,cU as Wb,cV as P$,cW as Hb,cX as b9,cY as x9,cZ as w9,c_ as S9,c$ as C9,d0 as _9,d1 as T9,d2 as k9,d3 as Rc,d4 as M9,d5 as sr,d6 as Kt,d7 as Hi,d8 as $r,d9 as $$,da as E9,db as P9,dc as $9,dd as Ed,de as Ta,df as A9,dg as Ct,dh as Oh,di as A$,dj as yr,dk as O9,dl as N9,dm as I9,dn as zb,dp as j9,dq as R9,dr as O$,ds as D9,dt as L9,du as N$,dv as F9,dw as B9,dx as I$,dy as Pd,dz as U9,dA as j$,dB as V9,dC as G9,dD as W9,dE as R$,dF as H9,dG as D$,dH as L$,dI as z9,dJ as _u,dK as q9,dL as qb,dM as Nn,dN as F$,dO as Y9,dP as K9,dQ as Q9,dR as X9,dS as Ga,dT as B$,dU as U$,dV as Z9,dW as J9,dX as eF,dY as tF,dZ as nF,d_ as rF,d$ as sF,e0 as oF,e1 as aF,e2 as iF,e3 as V$,e4 as cF,e5 as lF,e6 as Nh,e7 as G$,e8 as uF,e9 as dF,ea as fF,eb as hF,ec as W$,ed as pF,ee as mF,ef as gF,eg as Zr,eh as vF,ei as yF,ej as GS,ek as bF,el as W,em as Cn,en as xF,eo as xi,ep as wF,eq as O,er as H$,es as Yb,et as Wa,eu as Ha,ev as WS,ew as HS,ex as Ve,ey as z$,ez as q$,eA as Y$,eB as K$,eC as Kb,eD as SF,eE as CF,eF as _F,eG as TF,eH as kF,eI as MF,eJ as EF,eK as PF,eL as $F,eM as AF,eN as OF,eO as Q$,eP as X$,eQ as ic,eR as NF,eS as IF,eT as Z$,eU as jF,eV as J$,eW as Ih,eX as zS,eY as RF,eZ as Il,e_ as DF,e$ as eA,f0 as LF,f1 as tA,f2 as FF,f3 as BF,f4 as UF,f5 as ua,f6 as VF,f7 as GF,f8 as wi,f9 as WF,fa as HF,fb as zF,fc as qS,fd as qF,fe as YF,ff as KF,fg as gv,fh as QF,fi as XF,fj as ZF,fk as JF,fl as e7,fm as t7,fn as n7,fo as r7,fp as s7,fq as o7,fr as YS,fs as a7,ft as KS,fu as $n,fv as jl,fw as Tr}from"./c2lgex2wl5f4pr2u.js";import{S as i7,a as c7,b as za,c as Dc,d as nA,e as l7,f as qa,g as rA,h as QS,i as u7,j as XS,k as Lc,l as d7,m as ZS,n as f7,o as h7,p as p7,q as m7,r as Qb,s as jh,t as g7,u as Xb,v as v7,w as sA,x as Zb,y as y7,z as _o,A as b7,B as x7,C as w7,D as S7,E as oA,F as Jb,G as aA,H as iA,I as C7,J as _7,K as T7,L as cA,M as ex,N as tx,O as to,P as k7,Q as M7,R as lA,T as E7,U as nx,V as rx,W as sx,X as Ya,Y as P7,Z as $7,_ as A7,$ as uA,a0 as dA,a1 as fA,a2 as ox,a3 as ax,a4 as ix,a5 as O7,a6 as hA,a7 as N7,a8 as I7,a9 as pA,aa as j7,ab as R7,ac as D7,ad as mA,ae as L7,af as F7,ag as B7,ah as gA,ai as U7,aj as vA,ak as cx,al as V7,am as G7,an as W7,ao as lx,ap as yA,aq as bA,ar as xA,as as H7,at as wA,au as SA,av as z7,aw as q7,ax as Y7,ay as K7,az as Q7,aA as X7,aB as Z7,aC as CA,aD as _A,aE as J7}from"./icybx1g1lu32sdf6.js";function TA(e){return e!=null}const Rh=(e,t)=>e.includes(t),e8=(e,t,n=[])=>{if(e==null)return n;const r=Array.isArray(e)?e:[e];return t?r.map(t):r},kA=(e,t=[])=>n=>e8(n,e,t),MA=(e,t=void 0)=>typeof e!="object"||e==null||Array.isArray(e)?t:e,EA=(e,t)=>{const n=MA(e),r={};for(const s in t)r[s]=t[s](n?.[s]);return r},Mr=e=>t=>EA(t,e),fs=(e,t="")=>typeof e=="object"||e==null?t:String(e),t8=(e,t=0)=>{if(typeof e=="object"||e==null)return t;const n=Number(e);return isNaN(n)?t:n},n8=(e,t=!1)=>{if(typeof e=="boolean")return e;if(typeof e=="number"){if(e===0)return!1;if(e===1)return!0}if(typeof e=="string"){const n=e.toLowerCase();if(n==="false")return!1;if(n==="true")return!0}return t},PA=(e,t,n=t[0])=>Rh(t,e)?e:n,r8=(e,t=e[0])=>n=>PA(n,e,t),hs=e=>t=>t===void 0?void 0:e(t);var Dh=(e=>(e[e.Textdoc=0]="Textdoc",e[e.ADAVisualization=1]="ADAVisualization",e))(Dh||{});const Ir=Le(()=>({focusedObject:null,fromMessageId:null})),Hit=(e,t)=>{const n=Ir.getState();t!==n.fromMessageId&&Ir.setState({focusedObject:e,fromMessageId:t})},ux=e=>{Ir.setState({focusedObject:e,fromMessageId:null})},ka=e=>{const t=Ir.getState(),{focusedObject:n}=t;(!n||n.type!==0||n.textdocId!==e)&&$A(e)},$A=e=>{ux({type:0,textdocId:e})},s8=(e,t,n)=>{ux({type:0,textdocId:e,history:t,showChangesAtVersion:n})},o8=(e,t,n)=>{ux({type:0,textdocId:e,showChangesAtVersion:t,history:n??void 0})},zit=()=>{Ir.setState({focusedObject:null})},qit=()=>{Ir.setState({focusedObject:null,fromMessageId:null})};function a8(e){return function(){return e}}var AA=a8;function i8(e){return function(t,n,r){for(var s=-1,o=Object(t),a=r(t),c=a.length;c--;){var l=a[e?c:++s];if(n(o[l],l,o)===!1)break}return t}}var c8=i8,l8=c8,u8=l8(),d8=u8,f8=d8,h8=Mb;function p8(e,t){return e&&f8(e,t,h8)}var dx=p8,m8=dx;function g8(e,t,n,r){return m8(e,function(s,o,a){t(r,n(s),o,a)}),r}var v8=g8,y8=v8;function b8(e,t){return function(n,r){return y8(n,e,t(r),{})}}var x8=b8,w8=AA,S8=x8,C8=Ec,_8=Object.prototype,T8=_8.toString,k8=S8(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=T8.call(t)),e[t]=n},w8(C8)),M8=k8;const E8=ye(M8);function fx(e,t){if(!e||t==null)return null;const{resolveTempTextdocId:n}=e,r=n?.[t]??t;let s=e.textdocById[r]??e.textdocById[t]??null;if(!s&&n){const o=E8(n);s=e.textdocById[o[r]]??null}return s}var OA={exports:{}},NA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,D){var V=j.length;j.push(D);e:for(;0<V;){var Z=V-1>>>1,se=j[Z];if(0<s(se,D))j[Z]=D,j[V]=se,V=Z;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var D=j[0],V=j.pop();if(V!==D){j[0]=V;e:for(var Z=0,se=j.length,ae=se>>>1;Z<ae;){var be=2*(Z+1)-1,te=j[be],G=be+1,Me=j[G];if(0>s(te,V))G<se&&0>s(Me,te)?(j[Z]=Me,j[G]=V,Z=G):(j[Z]=te,j[be]=V,Z=be);else if(G<se&&0>s(Me,V))j[Z]=Me,j[G]=V,Z=G;else break e}}return D}function s(j,D){var V=j.sortIndex-D.sortIndex;return V!==0?V:j.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,c=a.now();e.unstable_now=function(){return a.now()-c}}var l=[],u=[],d=1,f=null,h=3,m=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(j){for(var D=n(u);D!==null;){if(D.callback===null)r(u);else if(D.startTime<=j)r(u),D.sortIndex=D.expirationTime,t(l,D);else break;D=n(u)}}function C(j){if(v=!1,w(j),!g)if(n(l)!==null)g=!0,B(T);else{var D=n(u);D!==null&&Y(C,D.startTime-j)}}function T(j,D){g=!1,v&&(v=!1,x(M),M=-1),m=!0;var V=h;try{for(w(D),f=n(l);f!==null&&(!(f.expirationTime>D)||j&&!H());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,h=f.priorityLevel;var se=Z(f.expirationTime<=D);D=e.unstable_now(),typeof se=="function"?f.callback=se:f===n(l)&&r(l),w(D)}else r(l);f=n(l)}if(f!==null)var ae=!0;else{var be=n(u);be!==null&&Y(C,be.startTime-D),ae=!1}return ae}finally{f=null,h=V,m=!1}}var _=!1,k=null,M=-1,I=5,A=-1;function H(){return!(e.unstable_now()-A<I)}function q(){if(k!==null){var j=e.unstable_now();A=j;var D=!0;try{D=k(!0,j)}finally{D?F():(_=!1,k=null)}}else _=!1}var F;if(typeof b=="function")F=function(){b(q)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,R=N.port2;N.port1.onmessage=q,F=function(){R.postMessage(null)}}else F=function(){y(q,0)};function B(j){k=j,_||(_=!0,F())}function Y(j,D){M=y(function(){j(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,B(T))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(j){switch(h){case 1:case 2:case 3:var D=3;break;default:D=h}var V=h;h=D;try{return j()}finally{h=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,D){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var V=h;h=j;try{return D()}finally{h=V}},e.unstable_scheduleCallback=function(j,D,V){var Z=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?Z+V:Z):V=Z,j){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=V+se,j={id:d++,callback:D,priorityLevel:j,startTime:V,expirationTime:se,sortIndex:-1},V>Z?(j.sortIndex=V,t(u,j),n(l)===null&&j===n(u)&&(v?(x(M),M=-1):v=!0,Y(C,V-Z))):(j.sortIndex=se,t(l,j),g||m||(g=!0,B(T))),j},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(j){var D=h;return function(){var V=h;h=D;try{return j.apply(this,arguments)}finally{h=V}}}})(NA);OA.exports=NA;var lm=OA.exports;const $d=Symbol(),P8=Symbol(),$8=typeof window>"u"||/ServerSideRendering/.test(window.navigator&&window.navigator.userAgent),IA=$8?p.useEffect:p.useLayoutEffect,A8=lm.unstable_runWithPriority?e=>{try{lm.unstable_runWithPriority(lm.unstable_NormalPriority,e)}catch(t){if(t.message==="Not implemented.")e();else throw t}}:e=>e(),O8=e=>({value:n,children:r})=>{const s=p.useRef(n),o=p.useRef(0),[a,c]=p.useState(null);a&&(a(n),c(null));const l=p.useRef();if(!l.current){const u=new Set,d=(f,h)=>{o.current+=1;const m={n:o.current};h?.suspense&&(m.n*=-1,m.p=new Promise(g=>{c(()=>v=>{m.v=v,delete m.p,g(v)})})),u.forEach(g=>g(m)),f()};l.current={[$d]:{v:s,n:o,l:u,u:d}}}return IA(()=>{s.current=n,o.current+=1,A8(()=>{l.current[$d].l.forEach(u=>{u({n:o.current,v:n})})})},[n]),p.createElement(e,{value:l.current},r)};function N8(e){const t=p.createContext({[$d]:{v:{current:e},n:{current:-1},l:new Set,u:n=>n()}});return t[P8]=t.Provider,t.Provider=O8(t.Provider),delete t.Consumer,t}function I8(e,t){const n=p.useContext(e)[$d],{v:{current:r},n:{current:s},l:o}=n,a=t(r),[c,l]=p.useReducer((u,d)=>{if(!d)return[r,a];if("p"in d)throw d.p;if(d.n===s)return Object.is(u[1],a)?u:[r,a];try{if("v"in d){if(Object.is(u[0],d.v))return u;const f=t(d.v);return Object.is(u[1],f)?u:[d.v,f]}}catch{}return[...u]},[r,a]);return Object.is(c[1],a)||l(),IA(()=>(o.add(l),()=>{o.delete(l)}),[o]),c[1]}var vv=(e=>(e.NATIVE="native",e.LAST_TURN="last_turn",e))(vv||{});const jA=N8(null);function j8(){return{lastCanvasAssistantMessageById:{},resolveTempCommentId:{},resolveTempTextdocId:{},latestTextdocId:null}}function RA(e){return{fetchError:null,isFetchingFromPersistence:!1,textdocById:{},allTextdocIdSet:{},streamingSource:null,...e??j8()}}function os(e,t){return Eb(e,t)}function zi(e,t,n=!0){const r=e.textdocById[t.textdocId];if(r)e.textdocById[t.textdocId]=r,r.metadata.type=t.type,r.metadata.title=t.title,r.metadata.updatedAt=t.createdAt,n?r.versions.push(t):r.versions[r.versions.length-1]=t;else{const s={metadata:{textdocId:t.textdocId,type:t.type,title:t.title,createdAt:t.createdAt,updatedAt:t.createdAt},versions:[t]};e.allTextdocIdSet[t.textdocId]=t.textdocId,e.textdocById[t.textdocId]=s}}function jn(e=b4){return I8(jA,e)}function R8(){return jn(e=>e?.isFetchingFromPersistence)}function Yit(){return jn(e=>e?.resolveTempTextdocId)}function Kit(){return jn(e=>e?.resolveTempCommentId)}function D8(){return jn(e=>e?.latestTextdocId??null)}function Qit(){return jn(e=>e?.streamingSource)}function Xit(e){return jn(t=>fx(t,e))}function Lh(e){return jn(t=>fx(t,e)?.metadata??null)}function DA(){const e=jn(t=>t?.allTextdocIdSet);return e?Object.keys(e):null}function L8(){return jn(e=>e?Object.keys(e.allTextdocIdSet).length>1:!1)}function F8({textdocId:e,toolResponseMessage:t}){return jn(n=>{const r=n?.lastCanvasAssistantMessageById;return r==null||e==null?!0:r[e]==null||r[e]===t?.message.id})}function LA(){return Ir(e=>e.focusedObject)}function Zit(){const e=Ir(t=>t.focusedObject);return e?.type!==Dh.Textdoc?null:e}function B8(){const e=Ir(t=>t.focusedObject);return e?.type!==Dh.Textdoc?null:e.history??null}function Fc(){return LA()!=null}function hx(e){const t=LA();return jn(n=>{if(!e||t?.type!==Dh.Textdoc)return!1;const r=n?.resolveTempTextdocId??{},s=r[t.textdocId]??t.textdocId,o=r[e]??e;return s===o})}var Ad=(e=>(e.Unknown="unknown",e.ShowToast="show_toast",e.CanvasMessage="canvas_message",e.TurnComplete="turn_complete",e))(Ad||{});const U8={canvas_message:Mr({message:MA}),turn_complete:Mr({}),unknown:Mr({}),show_toast:Mr({text:fs})},JS=r8(Object.values(Ad));function V8(e){const{type:t}=EA(e,{type:JS}),n=JS(t);return{type:n,...U8[n](e)}}function eC(e,t){W8(n=>{n.type===e&&t(n)})}function G8(e){const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return new TextDecoder("utf-8").decode(n)}function W8(e){p.useEffect(()=>zP(window,{message:n=>{const r=n.data;if(!(typeof r!="object"||r?.type!=="canmore_native"))try{const s=G8(r.msg),o=V8(JSON.parse(s));e(o)}catch{console.warn(`Unknown message from native app: ${r.msg}`)}}}),[e])}function FA(){let e;const t=H8();switch(t){case"android":e=window.CanmoreNative;break;case"ios":e=window.webkit?.messageHandlers.canmoreNative;break;case"web":e=void 0;break}return{platform:t,isNative:t!=="web",bridge:e,sendMessage:n=>e?.postMessage(btoa(JSON.stringify(n)))}}function H8(){return typeof window.CanmoreNative<"u"?"android":typeof window.webkit<"u"&&typeof window.webkit.messageHandlers.canmoreNative<"u"?"ios":"web"}const z8=e=>{const[t,n]=p.useState(null),r=p.useCallback(o=>{n(a=>{if(!a)return[o];const c=[...a];for(let l=0;l<a.length;l++)c[l].message.id===o.message.id?c[l]=o:l===c.length-1&&c.push(o);return c})},[]),s=p.useCallback(()=>n(null),[]);return eC(Ad.TurnComplete,async()=>{await e(),s()}),eC(Ad.CanvasMessage,async({message:o})=>{const a=o,{message:{recipient:c,author:l}}=a;(c?.startsWith(Td)||l.name?.startsWith(Td))&&r(a)}),t};function q8(e,t){return e.replace(new RegExp("\\\\(\\d+)|\\\\g<(?:(\\d+)|(\\D[^>]*))>|((?<!\\\\)\\\\(?:g(?:<[^>]*)?)?$)","gi"),(n,r,s,o,a)=>{if(r==="0")return"\\0";const c=r??s;if(c)return t[t8(c)]??"";if(o)return t.groups?.[o]??"";if(a)return"";throw new Error("Unreachable")})}function Y8(e,t){let n="",r=0,s=0,o=0,a=0,c=!1;const l=y=>{r+=y},u=y=>{r>s&&(n+=e.slice(s,r)),r=s=r+y},d=y=>{u(0),n+=y},f=()=>{d("\\"),l(1)},h=y=>{if(r+y<e.length)return e[r+y]},m=(y,x=0)=>r+x<e.length&&y===e[r+x],g=y=>{const x=e.indexOf(y,r);if(x===-1)u(e.length-r);else return x-r},v=y=>{let x=1;if(h(y)==="\\"){const w=h(y+1);x=w==="U"?10:w==="u"?6:w==="x"?4:2}const b=r+y+x>e.length;return b&&u(e.length-r),b};for(;r<e.length;){if(m("\\")){if(v(0))continue;const b=h(1)??"";if(b==="a")u(2),d("\\x07");else if(b==="A")u(2),d("^");else if(b==="z")u(2),d("$");else if(b==="Z")u(2),d("(?=\\n?$)");else if(b==="U"){const w=e.slice(r+2,r+10);u(10),d(`\\u{${parseInt(w,16).toString(16)}}`)}else if(b==="u")l(6);else if(b==="x")l(4);else{let w;c?w=/[0bdDsSwWfnrtv()[\]{}|/\\^-]/.test(b):/[1-9]/.test(b)?w=parseInt(b,10)<=a:w=/[0bBdDsSwWfnrtv()[\]{}|/\\^$.?*+]/.test(b),w?l(2):u(1)}continue}if(m("]")){c?(c=!1,l(1)):f();continue}else if(c){if(m("-")&&v(1))continue;/[()[\]{}|/\\]/.test(e[r])?f():l(1);continue}else if(m("[")){c=!0,l(1),m("]")&&f();continue}if(m("|")&&v(1))continue;if(m("{")){const b=/^\{(?:\d+(?:,\d*)?(\}|$)|$)/.exec(e.slice(r));r>0&&b?.[1]==="}"?l(b[0].length):r>0&&b&&t?u(b[0].length):f();continue}else if(m("}")){f();continue}if(m("+")){const b=h(-1);b&&/[*+?}]/.test(b)&&h(-2)!=="\\"?u(1):l(1);continue}if(m(")")){o>0?(o--,l(1)):f();continue}if(!m("(")){l(1);continue}if(v(1))continue;if(h(1)!=="?"){o++,a++,l(1);continue}if(v(2))continue;const y=h(2);if(!y){u(2);continue}if(y==="#"){const b=g(")");b&&u(1+b);continue}if(y==="P"){if(h(3)==="="){const b=g(")");if(b){const w=e.slice(r+4,r+b);u(1+b),d(`\\k<${w}>`)}}else{const b=g(">");if(b){const w=e.slice(r+4,r+b);if(u(1+b),v(0))continue;d(`(?<${w}>`),o++}}continue}if(/[-a-z]/.test(y)){const b=e.indexOf(":",r)>=0,w=g(b?":":")");if(w&&u(1+w),b){if(v(0))continue;d("(?:"),o++}continue}if(y===">"){if(u(3),v(0))continue;d("(?:"),o++;continue}const x=y==="<"?4:3;v(x)||(l(x),o++)}for(n+=e.slice(s,e.length),c&&(n+="]");o-- >0;)n+=")";return n.length>0?n:"(?!)"}function tC(e){const t=[/^`{1,3}\s*$/,/^```[^\n]*\n?/],n=[/\n?`{1,3}\s*$/];for(const r of t)if(r.test(e)){e=e.replace(r,"");break}for(const r of n)if(r.test(e)){e=e.replace(r,"");break}return e}function BA({messageId:e},t){return`temp-tdc-${t}-${e}`}function px({messageId:e}){return`temp-td-${e}`}function K8(){return`temp-pasted-td:${Math.random()}`}function Q8(e){let t="";const n=e.length;let r=0,s=0;for(;r<n;){let o=e.charCodeAt(r);if(o!==92){r++;continue}if(s<r&&(t+=e.slice(s,r)),r++,r>=n){t+="\\";break}switch(o=e.charCodeAt(r),o){case 110:t+=`
`,r++;break;case 116:t+="	",r++;break;case 114:t+="\r",r++;break;case 98:t+="\b",r++;break;case 102:t+="\f",r++;break;case 118:t+="\v",r++;break;case 48:t+="\0",r++;break;case 39:t+="'",r++;break;case 34:t+='"',r++;break;case 92:t+="\\",r++;break;case 120:if(r+2<n){const a=parseInt(e.slice(r+1,r+3),16);if(!isNaN(a)){t+=String.fromCharCode(a),r+=3;break}}t+="\\x",r++;break;case 117:if(r+1<n)if(e.charAt(r+1)==="{"){const a=e.indexOf("}",r+2);if(a!==-1){const c=parseInt(e.slice(r+2,a),16);if(!isNaN(c)&&c<=1114111){t+=String.fromCodePoint(c),r=a+1;break}}}else{const a=parseInt(e.slice(r+1,r+5),16);if(!isNaN(a)){t+=String.fromCharCode(a),r+=5;break}}t+="\\u",r++;break;default:t+="\\"+e.charAt(r),r++;break}s=r}return s<n&&(t+=e.slice(s)),t}function Fh(e,t){E.logEvent(e,{platform:FA().platform,...t??{}})}function X8(e,t,n){E.logEventWithStatsig(e,t,{platform:FA().platform,...n})}function Z8(e,t,n){Fh(e,{distributionValue:t,...n??{}})}function J8(e,t){Fh(P.canvasButtonClicked,{buttonName:e,...t??{}})}function eB(e){if(e instanceof Error){const{name:t,message:n,stack:r,cause:s}=e;return{name:t,message:n,stack:r,cause:s}}return e}function tB(e,t,n){Fh(P.canvasError,{message:e,error:t==null?e:eB(t),attributes:n}),ue.addError(t)}const mx={logButtonClick:J8,logEvent:Fh,logEventWithStatsig:X8,logError:tB,logDistribution:Z8},nC=e=>e===" "||e===`
`||e==="\r"||e==="	";function nB(e,t=!1){let n=0,r=null;const s=[];if(!e)return[void 0,s];if(t)return[c(),s];try{return[JSON.parse(e),null]}catch(g){return r=g,[c(),s]}function o(){for(;n<e.length&&nC(e[n]);)n++;return n<e.length}function a(g){return o()&&e[n]===g?(n++,!0):!1}function c(){if(o())switch(e[n]){case"{":return f();case"[":return h();case'"':{const[g]=u();return g}case"f":return m("false",!1);case"t":return m("true",!0);case"n":return m("null",null);case"-":case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return d()}throw r}function l(g,v=!1){return v?Q8(g):g}function u(g=!1){const v=n+1;let y=!1;for(n++;n<e.length;){const x=e[n++];if(x==="\\"){if(y=!0,n===e.length||e[n]==="u"&&n+4>=e.length){const b=n-1;return n=e.length,[l(e.slice(v,b),y),!1]}n++;continue}if(x==='"'){let b=n;for(;b<e.length&&nC(e[b]);)b++;if(e[b]==null||e[b]===","||e[b]==="]"||e[b]==="}"||g&&e[b]===":")return[l(e.slice(v,n-1),y),!0]}}return[l(e.slice(v,n),y),!1]}function d(){const g=n;for(;n<e.length&&/[0-9.eE+-]/.test(e[n]);)n++;const v=Number(e.slice(g,n));if(isNaN(v)){if(o())throw r;return 0}return v}function f(){n++;const g={};if(a("}"))return g;for(;o();){const[v,y]=u(!0);if(!y||(s.push(v),!o()))break;if(!a(":"))throw r;if(!o()||(g[v]=c(),!o()))break;if(a("}")){s.pop();break}if(!a(","))throw r;s.pop()}return g}function h(){n++;const g=[];if(a("]"))return g;for(s.push(0);o()&&(g.push(c()),!!o());){if(a("]")){s.pop();break}if(!a(","))throw r;s[s.length-1]=g.length}return g}function m(g,v){const y=n+g.length;if(y<=e.length?e.slice(n,y)===g:g.startsWith(e.slice(n)))return n=y,v;throw r}}function um(e,t,n=!1){try{const[r,s]=nB(e);return[t(r),s]}catch(r){return n&&mx.logError("JSON parsing",r),[void 0,[]]}}function Si(e,t){return e!=null&&t.every((n,r)=>e[r]===n)}var ea=(e=>(e.INFERRING_TYPE="inferring",e.PENDING="pending",e.SENT="sent",e))(ea||{});const Er=-1;var An=(e=>(e.CREATING="creating",e.REWRITING="rewriting",e.COMMENTING="commenting",e.UPDATING="updating",e.COMPLETE="complete",e))(An||{});const Jit=e=>e?.status!=="complete",ect=e=>e?.status==="rewriting",tct=e=>e?.status==="creating";var gx=(e=>(e.DOCUMENT="document",e.CODE_BASH="code/bash",e.CODE_ZSH="code/zsh",e.CODE_JAVASCRIPT="code/javascript",e.CODE_TYPESCRIPT="code/typescript",e.CODE_HTML="code/html",e.CODE_CSS="code/css",e.CODE_PYTHON="code/python",e.CODE_JSON="code/json",e.CODE_SQL="code/sql",e.CODE_GO="code/go",e.CODE_YAML="code/yaml",e.CODE_JAVA="code/java",e.CODE_RUST="code/rust",e.CODE_CPP="code/cpp",e.CODE_SWIFT="code/swift",e.CODE_PHP="code/php",e.CODE_XML="code/xml",e.CODE_RUBY="code/ruby",e.CODE_HASKELL="code/haskell",e.CODE_KOTLIN="code/kotlin",e.CODE_CSHARP="code/csharp",e.CODE_C="code/c",e.CODE_OBJECTIVEC="code/objectivec",e.CODE_R="code/r",e.CODE_LUA="code/lua",e.CODE_DART="code/dart",e.CODE_SCALA="code/scala",e.CODE_PERL="code/perl",e.CODE_COMMONLISP="code/commonlisp",e.CODE_CLOJURE="code/clojure",e.CODE_OCAML="code/ocaml",e.CODE_POWERSHELL="code/powershell",e.CODE_VERILOG="code/verilog",e.CODE_DOCKERFILE="code/dockerfile",e.CODE_VUE="code/vue",e.CODE_REACT="code/react",e.CODE_OTHER="code/other",e.LOADING="loading",e))(gx||{});function yv(e){return e.startsWith("code/")}function vx(e){const t=PA(e,Object.values(gx),null);if(t)return t;if(e==="webview")return"code/html";if(e.startsWith("code"))switch(e){case"code/js":return"code/javascript";default:return"code/other"}return"document"}var ct=(e=>(e.CREATE="create",e.REWRITE="rewrite",e.EDIT="edit",e.ADD_COMMENT="add_comment",e.REMOVE_COMMENT="remove_comment",e))(ct||{}),UA=(e=>(e.ACCEPT="accept",e.DISMISS="dismiss",e))(UA||{}),bv=(e=>(e.ACCEPT_INITIATED="accept_initiated",e.DISMISSED="dismissed",e.PENDING="pending",e))(bv||{}),rB=(e=>(e.ADDED="added",e.REMOVED="removed",e))(rB||{}),sB=(e=>(e.ACCEPT_COMMENT="accept_comment",e.ASK_CHATGPT="ask_chatgpt",e.ACCELERATOR="accelerator",e.CONSOLE="console",e.FULL_SCREEN_SUBMIT="full_screen_submit",e))(sB||{});const oB=Mr({type:hs(fs),name:hs(fs),content:hs(fs)}),aB=Mr({updates:kA(Mr({pattern:hs(fs),multiple:hs(n8),replacement:hs(fs)}))}),iB=Mr({comments:kA(Mr({pattern:hs(fs),comment:hs(fs)}))});function VA(e,t,n){const{id:r,author:s,recipient:o,create_time:a}=t;if(!a)throw new Error("Expected a create_time");const c=vs(t),l=n?.metadata?.canvas;if(t?.metadata?.is_redacted||n?.metadata?.is_redacted||c==="The output of this plugin was redacted.")return{function:o,status:pe.REDACTED,messageId:r,author:s,createdAt:a};switch(o){case Vt.CreateTextdoc:{const[u,d]=um(c,oB),f=l?.textdoc_type??(!u?.type||Si(d,["type"])?void 0:vx(u.type));return{function:Vt.CreateTextdoc,status:dm(e,t,n,d!=null),messageId:r,author:s,createdAt:a,textdocId:l?.textdoc_id,versionInt:fm(l),title:u?.name,type:f,content:u?.content}}case Vt.UpdateTextdoc:{const[u,d]=um(c,aB,!e),f=u?.updates.map((h,m)=>({...h,isPartialPattern:Si(d,["updates",m,"pattern"]),isPartial:Si(d,["updates",m])}));return{function:Vt.UpdateTextdoc,status:dm(e,t,n,d!=null),messageId:r,author:s,createdAt:a,textdocId:l?.textdoc_id,versionInt:fm(l),updates:f}}case Vt.CommentTextdoc:{const[u,d]=um(c,iB,!e),f=n?.metadata?.canvas?.comment_ids,h=u?.comments.map((m,g)=>({...m,id:f?.[g],isPartialPattern:Si(d,["comments",g,"pattern"]),isPartial:Si(d,["comments",g])}));return{function:Vt.CommentTextdoc,status:dm(e,t,n,d!=null),messageId:r,author:s,createdAt:a,textdocId:l?.textdoc_id,versionInt:fm(l),comments:h}}}}function Bh(e){return x4(e?.recipient)}function cB(e,t=0){for(let n=t;n<e.length;n++)if(Bh(e[n].message))return!0;return!1}function dm(e,t,n,r){if(t?.metadata?.finish_details?.type==="interrupted")return pe.CANCELED;if(n?.content.content_type===an.SystemError)return pe.FAILED;if(e&&!n)return r?pe.STREAMING:pe.WAITING;const o=n?.metadata?.canvas;return o!=null&&o.is_failure!==!0?pe.COMPLETE:pe.FAILED}function fm(e){return e?.version??e?.version_int}var rC=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function lB(e,t){return!!(e===t||rC(e)&&rC(t))}function uB(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!lB(e[n],t[n]))return!1;return!0}function Ka(e,t){t===void 0&&(t=uB);var n=null;function r(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];if(n&&n.lastThis===this&&t(s,n.lastArgs))return n.lastResult;var a=e.apply(this,s);return n={lastResult:a,lastArgs:s,lastThis:this},a}return r.clear=function(){n=null},r}const dB=5;function GA(e,t){let n=null;for(let r=0;r<t.length;r++){const{message:s}=t[r];if(Bh(s)){const o=r+1<t.length&&t[r+1].message.author.name===s.recipient?t[r+1].message:null;o&&r++;const a=VA(e,s,o);n?n.push(a):n=[a]}}return n}function fB(e,t,n){let r=null;const s=GA(e,n);if(!s)return r;for(const o of s){const a=hB(t,o);a&&(r?r=r.concat(a):r=a)}return r}const hm=Ka((e,t,n)=>{ue.addError(t,n)},([e],[t])=>e===t);function hB(e,t){if(t.status===pe.FAILED||t.status===pe.CANCELED)return null;if(t.function===Vt.CreateTextdoc){if(!t.type)return null;const o=px(t),a=t.content&&yv(t.type)?tC(t.content):t.content;return[{kind:ct.CREATE,textdocId:t.textdocId??o,versionInt:t.versionInt,messageId:t.messageId,author:t.author,createdAt:t.createdAt,tempTextdocId:o,title:t.title??"",type:t.type,content:a??"",isPartial:t.status===pe.STREAMING}]}const n=e?.latestTextdocId,r=t?.textdocId??n;if(t.status===pe.COMPLETE&&(n?t?.textdocId&&t.textdocId!==n&&hm(t.messageId,"Attempted to parse canmore operation with incorrect client latest target id",{latestTextdocId:n,toolCall:t}):hm(t.messageId,"Attempted to parse canmore operation but latestTextdocId is unset",{toolCall:t})),!r)return null;const s=ws(fx(e,r)?.versions);if(!s)return t.status===pe.COMPLETE&&hm(t.messageId,"Attempted to parse canmore operation against unknown target id",{textdocId:r}),null;switch(t.function){case Vt.UpdateTextdoc:{const o=[],a=t.updates??[];for(let c=0;c<a.length;c++){const l=a[c];if(l.isPartialPattern&&l.pattern&&l.pattern.length<dB)continue;if(l.pattern===".*"){const f=l.replacement?yv(s.type)?tC(l.replacement):l.replacement:"";return[{kind:ct.REWRITE,textdocId:r,versionInt:t.versionInt,messageId:t.messageId,createdAt:t.createdAt,author:t.author,content:f,isPartial:t.status===pe.STREAMING&&l.isPartial,comments:[]}]}const u=oC(l.pattern,l.isPartialPattern,l.multiple);if(!u)continue;let d=!1;for(const f of sC(s.content,u,l.multiple)){d=!0;const h=aC(f),m=l.replacement&&q8(l.replacement,f);for(const g of o)if(g.at.end<=h.start){if(!g.isPartialRange){const v=g.at.start-g.at.end+g.content.length;h.start+=v,h.end+=v}}else g.at.start<h.end;o.push({kind:ct.EDIT,textdocId:r,versionInt:t.versionInt,messageId:t.messageId,author:t.author,createdAt:t.createdAt,at:h,content:m??"",isPartialRange:t.status===pe.STREAMING&&l.isPartialPattern,isPartial:t.status===pe.STREAMING&&l.isPartial})}if(!l.isPartialPattern&&!d)return null}return o.length>0?o:null}case Vt.CommentTextdoc:{const o=[],a=t.comments??[];for(let c=0;c<a.length;c++){const l=a[c],u=oC(l.pattern,l.isPartialPattern);if(!u)continue;let d=!1;for(const f of sC(s.content,u)){d=!0;const h=aC(f);h.end>h.start&&o.push({kind:ct.ADD_COMMENT,textdocId:r,versionInt:t.versionInt,messageId:t.messageId,author:t.author,createdAt:t.createdAt,id:l.id,tempId:BA(t,c),at:h,content:l.comment??"",isPartialRange:t.status===pe.STREAMING&&l.isPartialPattern,isPartial:t.status===pe.STREAMING&&l.isPartial})}if(!l.isPartialPattern&&!d)return null}return o.length>0?o:null}}}function*sC(e,t,n=!1){if(n)yield*e.matchAll(t);else{const r=e.match(t);r&&(yield r)}}function oC(e,t,n=!1){if(e)try{const r=Y8(e,t);return new RegExp(r,n?"gsv":"sv")}catch(r){console.warn("Assistant returned invalid Regexp, dropping",{pattern:e,error:r})}}function aC(e){return{start:e.index,end:e.index+e[0].length}}const Bc=Le(Ss(()=>({pastedTextdocs:{}}))),{setState:jo}=Bc,WA={pasteContent:e=>{const t=K8();jo(n=>{n.pastedTextdocs[t]={tempId:t,pastedAt:Date.now(),status:ea.INFERRING_TYPE,content:e,metadata:null}}),le.safePost("/conversation/textdocs/paste",{requestBody:{content:e}}).then(n=>{const{name:r,type:s}=n;jo(o=>{o.pastedTextdocs[t].metadata={temp_id:t,title:r,type:vx(s)}})}).finally(()=>{jo(n=>{n.pastedTextdocs[t]&&(n.pastedTextdocs[t].status=ea.PENDING)})})},editPastedContent:(e,t)=>{jo(n=>{n.pastedTextdocs[e].content=t})},markAllAsSent:()=>{jo(e=>{for(const t of Object.keys(e.pastedTextdocs))e.pastedTextdocs[t].status===ea.PENDING?e.pastedTextdocs[t].status=ea.SENT:delete e.pastedTextdocs[t]})},removePastedContent:e=>{jo(t=>{delete t.pastedTextdocs[e]})}},Uh=Ka(({pastedTextdocs:e})=>e),pB=Ka(e=>Object.values(e)),yx=Ka(e=>Object.values(e).filter(t=>t.status!==ea.SENT)),nct=()=>yx(Uh(Bc.getState())),mB=()=>Bc(e=>pB(Uh(e))),rct=()=>Bc(e=>yx(Uh(e))),sct=()=>Bc(e=>yx(Uh(e)).length>0),bx=()=>({lastFlushedAt:null,lastTriggeredAt:null}),xx=Le(Ss(()=>({userEdits:{},timestamps:{}}))),{setState:Vh}=xx,oct=e=>xx(({timestamps:t})=>(t[e]?.lastTriggeredAt??0)>(t[e]?.lastFlushedAt??0)),act=e=>{Vh(t=>{t.timestamps[e]??=bx(),t.timestamps[e].lastTriggeredAt=Date.now()})},ict=({textdocId:e,basedOnVersionInt:t,content:n,comments:r})=>{Vh(s=>{s.timestamps[e]??=bx(),s.timestamps[e].lastFlushedAt=Date.now(),s.userEdits[e]??=[],s.userEdits[e].push({content:n,basedOnVersionInt:t,nextVersionInt:null,isPending:!0,comments:r})})},cct=({textdocId:e,basedOnVersionInt:t,newVersion:n})=>{Vh(r=>{r.userEdits[e]??=[];for(const s of r.userEdits[e])if(s.basedOnVersionInt===t){s.isPending=!1,s.nextVersionInt=n;break}})},gB=e=>{Vh(t=>{for(const{textdocId:n,versionInt:r}of e){const s=t.userEdits[n];s&&(t.userEdits[n]=s.filter(o=>o.basedOnVersionInt>(r??Er)),s.length===0&&(t.timestamps[n]=bx()))}})},vB=Ka(({userEdits:e})=>e),yB=Ka(e=>{const t=new Map;for(const[n,r]of Object.entries(e)){const s=ws(r);if(!s)continue;const{content:o,comments:a,nextVersionInt:c,basedOnVersionInt:l}=s;t.set(n,{textdocId:n,comments:a,content:o,versionInt:c??l})}return t}),bB=()=>xx(e=>yB(vB(e)));var wx=(e=>(e.READY="ready",e.LOG="log",e.OUTPUT="output",e.ERROR="error",e.RUN_COMPLETE="run_complete",e))(wx||{});function xB(){let e=null;const t=new Promise(n=>e=n);return{resolve:e,promise:t}}function wB(e){let t=null;const n=[];let r=!1;return e.on("message",s=>{t?(t({value:s,done:r}),t=null):n.push(s),s.type===wx.RUN_COMPLETE&&(r=!0)}),{[Symbol.asyncIterator](){return this},next(){if(n.length>0){const s=n.shift();return Promise.resolve({value:s,done:r})}return r?Promise.resolve({value:void 0,done:r}):new Promise(s=>{t=s})}}}const SB=(e,t)=>{const n=p.useRef(null),[r]=p.useState(xB),s=p.useRef(null),o=p.useRef(new Map),a=p.useCallback(async function*(c){await r.promise;const l=Lr(),u=new w4;o.current.set(l,u),s.current?.postMessage({...c,id:l});for await(const d of wB(u))d&&(yield d);o.current.delete(l)},[r.promise]);return p.useImperativeHandle(t,()=>({evalAsync:a})),p.useEffect(()=>zP(window,{message:c=>{if(c.source!==n?.current?.contentWindow)return;const{data:l,ports:u}=c,{type:d}=l;if(s.current=u[0],d===wx.READY)r.resolve?.();else{const{id:f}=l,h=o.current.get(f);La(h).emit("message",l)}}}),[r]),i.jsx("iframe",{className:"fixed h-0 w-0","aria-hidden":"true",src:"/code_execution_sandbox",sandbox:"allow-scripts allow-same-origin",ref:n,tabIndex:-1})};p.forwardRef(SB);const lct=()=>{const{value:e}=lt("3700195277");return e||!1},uct=()=>{const{value:e}=lt("711369489");return e},CB=()=>{const{value:e}=lt("467934241");return e},HA=p.createContext(null),dct=()=>La(p.useContext(HA),"useSandbox must be called from within a SandboxRefContext provider"),_B=({children:e,isEnabled:t})=>{CB();const n=p.useRef(null);return i.jsxs(HA.Provider,{value:n,children:[e,!1]})},xv=e=>e.variantIds.length===2,iC=(e,t)=>{for(let r=t.length-1;r>=0;r--){const{message:{author:s,id:o,metadata:a}}=t[r],c=a?.canvas;if(c?.resolve_pasted_textdoc_id){const{resolve_pasted_textdoc_id:u}=c;e=os(e,d=>{d.latestTextdocId=Object.values(u)[0],d.resolveTempTextdocId={...d.resolveTempTextdocId,...u}})}const l=a?.open_in_canvas_view?.id??c?.textdoc_id;if(l){e=os(e,u=>{u.latestTextdocId=l??null,s.role===he.Tool&&(u.lastCanvasAssistantMessageById[l]=o)});break}}const n=GA(!1,t);if(!n)return e;for(const r of n)e=os(e,s=>{if(r.function===Vt.CreateTextdoc){const{textdocId:o}=r;o&&(s.resolveTempTextdocId[px(r)]=o)}else if(r.function===Vt.CommentTextdoc){const{comments:o=[]}=r;for(let a=0;a<o.length;a++){const{id:c}=o[a];if(c){const l=BA(r,a);s.resolveTempCommentId[c]=l}}}});return e},TB=(e,t,n)=>{if(!xv(n))return iC(t,n.messages);const r=L.getTree(e),{variantIds:s}=n;for(const o of s){const a=r.getLeafFromNode(o).id,c=ws(L.getThreadConversationTurns(e,a));c&&(t=iC(t,c.messages))}return t};function kB(){return new WeakMap}function zA(e,t,n,r){const s=n[r];let o=t.get(s);if(!o){const a=r===0?RA():zA(e,t,n,r-1);o=TB(e,a,s),t.set(s,o)}return o}function MB(e,t,n){return n.length===0?null:zA(e,t,n,n.length-1)}function EB(e,t){const[n]=p.useState(kB);return p.useMemo(()=>MB(e,n,t),[n,e,t])}function qA(e){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n.message.author.role===he.Assistant&&n.message.recipient?.startsWith(qP.CANMORE))return n}}function YA(e){for(let t=e.length-1;t>=0;t--){const n=e[t].message.author;if(n.role===he.Tool&&n.name?.startsWith(Td))return e[t]}}function KA(e,t){const n=[];let r=0,s=0;for(const o of t)n[s]=r,r+=o.length,s+=1;return n[s]=r,e.map(o=>{const{start:a,end:c}=o;return{start:n[a],end:n[c]}})}function PB(e,t){const n=[];let r=0,s=0;for(const o of t)n[r]=s,o.length===2?(n[r+1]=s,r+=2):r+=1,s+=1;return n[r]=s,e.map(o=>{const{start:a,end:c}=o;return{start:n[a],end:n[c]}})}function wv(e,t){const n=e.map(({content:o,id:a,start:c,end:l})=>({id:a,at:{start:c,end:l},content:o})),r=n.map(o=>o.at),s=KA(r,t);return n.map((o,a)=>({...o,at:s[a]}))}function fct(e,t){const n=e.map(o=>o.at),r=PB(n,t);return e.map((o,a)=>({...o,at:r[a]})).map(({content:o,id:a,at:c})=>({id:a,start:c.start,end:c.end,content:o}))}const $B=(e,t)=>{const n=KA(t,e),r=[];for(let o=0;o<n.length;o++){const{start:a}=n[o];let c=0;const l=n.slice(0,o).entries();for(const[u,d]of l)if(a>d.start||a>d.end){const f=d.end-d.start,h=t[u].content.length;c+=h-f}r.push(c)}const s=[];for(let o=0;o<n.length;o++){const{content:a}=t[o],c=n[o],{start:l}=c,u=r[o],d={start:l+u,end:l+u+a.length};s.push({id:`edit-${o}`,content:a,positionBefore:c,positionAfter:d})}return s},AB=(e,t)=>le.safeGet("/textdoc/{textdoc_id}/diff/{version}",{parameters:{path:{textdoc_id:e,version:t}}});function OB(e,t){const n=e.filter(r=>r.op_type==="edit");return $B(t,n)}const NB=async(e,t)=>{if(t===1)return null;const{content_before:n,content_after:r,comments_before:s,comments_after:o,operations:a}=await AB(e,t??-1);return{edits:OB(a,n),contentBefore:n,contentAfter:r,commentsBefore:wv(s,n),commentsAfter:wv(o,r)}},QA=(e,t)=>({queryKey:[e,t,"edit"],enabled:t!=null,gcTime:1e3*60*5,queryFn:()=>NB(e,t)});function hct(e,t){const{data:n=null,isLoading:r}=me(QA(e,t));return{data:n,isLoading:r}}function XA(){const e=Pe();return p.useCallback(async(t,n)=>{await e.prefetchQuery(QA(t,n))},[e])}const ZA=Le(()=>({optimisticRestore:null})),{setState:Tu,getState:IB}=ZA;function jB(e){Tu(t=>{if(t.optimisticRestore){for(const{textdocId:n,versionInt:r}of e)if(t.optimisticRestore.textdocId===n&&t.optimisticRestore.versionInt!==-1&&(t.optimisticRestore.versionInt??Er)<=(r??Er))return{optimisticRestore:null}}return t})}function JA(){return ZA(e=>e.optimisticRestore)}function pct(e,t,n){const r=Pe(),{mutateAsync:s}=vt({mutationKey:["canvas","textdoc","persist"],mutationFn:RB,retry:2,onSuccess:()=>{e&&r.invalidateQueries({queryKey:[e,"textdocs"]})}}),o=JA(),a=p.useCallback(async()=>{if(!t||!n||t.versionInt==null||n.versionInt==null||IB().optimisticRestore!=null)return;const{textdocId:c,versionInt:l}=t,u=n.versionInt,d={...n,versionInt:-1};Tu(()=>({optimisticRestore:d})),$A(c);try{const f=await s({textdocId:c,versionInt:l,restoreFromVersionInt:u});Tu(h=>({optimisticRestore:h.optimisticRestore&&{...h.optimisticRestore,versionInt:f}}))}catch{Tu(()=>({optimisticRestore:null})),s8(c,{version:u})}},[t,n,s]);return{optimisticRestoredTextdocVersion:o,restoreHistoricalTextdocVersion:a}}async function RB({textdocId:e,versionInt:t,restoreFromVersionInt:n}){return(await le.safePost("/textdoc/{textdoc_id}/restore",{parameters:{path:{textdoc_id:e}},requestBody:{version:t,restore_from_version:n}})).version}const DB=async({lastVersion:e,textdocId:t,commentId:n,reason:r})=>(await le.safeDelete("/textdoc/{textdoc_id}/{version}/comment/{comment_id}",{parameters:{query:{reason:r},path:{textdoc_id:t,version:String(e),comment_id:n}}})).version,Sv=Le(()=>({persistingOp:null,ops:[]})),{setState:ku,getState:LB}=Sv,FB=()=>{const e=Sv(({ops:n})=>n),t=Sv(({persistingOp:n})=>n);return p.useMemo(()=>[...e,t].filter(TA),[e,t])},BB=e=>{ku(t=>{let n=t.ops;for(const{textdocId:r,versionInt:s}of e)n=n.filter(o=>o.textdocId!==r||(o.versionInt??Er)>(s??Er));return{ops:n}})},mct=e=>p.useCallback(async(t,n)=>{const r=!!LB().persistingOp,s=e?.versionInt,o=e?.textdocId;if(r||s==null||o==null)return!1;const a={kind:ct.REMOVE_COMMENT,textdocId:o,author:{role:he.User},versionInt:s,createdAt:Date.now()/1e3,commentId:t,reason:n};ku(({ops:c})=>({ops:c,isPersisting:!0,persistingOp:a}));try{const c=await DB({lastVersion:s,textdocId:o,commentId:t,reason:n});return ku(({ops:l})=>({ops:[...l,{...a,versionInt:c}],isPersisting:!1,persistingOp:null})),c}catch{return ku(({ops:c})=>({ops:c,isPersisting:!1,persistingOp:null})),!1}},[e]),UB=e=>le.safeGet("/conversation/{conversation_id}/textdocs",{parameters:{path:{conversation_id:e}}}),VB=async e=>{const t=await UB(e),n=new Map(t?.map(o=>[o.id,o])),r=[];for(const{id:o,content:a,version:c,textdoc_type:l,title:u,comments:d}of t)r.push({textdocId:o,messageId:null,type:vx(l),comments:wv(d,a),status:An.COMPLETE,title:u,content:a,versionInt:c,createdAt:0});return{persistedTextdocVersionById:new Map(r.map(o=>[o.textdocId,o])),persistedTextdocVersions:r,persistedTextdocById:n}};function GB(e){const t=Ca(()=>L.getServerThreadId(e)),{data:n,error:r,isLoading:s,isFetching:o,refetch:a}=me({queryKey:[t,"textdocs"],enabled:!!t,gcTime:0,queryFn:()=>t&&VB(t)});return p.useEffect(()=>{if(!n)return;const{persistedTextdocVersions:c}=n;BB(c),gB(c),jB(c)},[n]),[{...n,error:r,isLoading:s,isFetching:o},a]}const Cv=new Set,e2=e=>{p.useEffect(()=>(Cv.add(e),()=>{Cv.delete(e)}),[e])},cC=e=>{for(const t of Cv)try{t({error:e})}catch(n){ue.addError(n)}};var Od=(e=>(e[e.INITIALIZING=0]="INITIALIZING",e[e.READY=1]="READY",e[e.REFETCHING=2]="REFETCHING",e))(Od||{});function WB(e){const[{error:t,persistedTextdocVersionById:n=null,isLoading:r,isFetching:s},o]=GB(e),a=XA();e2(()=>{const l=L.getThreadCurrentLeafId(e),u=L.getThreadConversationTurns(e,l),f=ws(u)?.messages??[],h=YA(f);if(h==null)return;const m=h.message.metadata?.canvas?.textdoc_id,g=h.message.metadata?.canvas?.version;m!=null&&g!=null&&a(m,g),o()});let c=0;return n&&s?c=2:n&&!s&&!r&&(c=1),p.useMemo(()=>({status:c,fetchError:t,textdocVersionById:n,refetch:o}),[c,t,n,o])}const lC=e=>{if(!e)return;const{messages:t}=e,n=S4(t??[],({message:s})=>s.author.role===he.System),r=n===-1?t:t?.slice(n+1);if(r&&cB(r))return r},HB=({lastTurn:e,clientThreadId:t,isRequestActive:n,persistedTextdocStoreStatus:r})=>{const[s,o]=p.useState(!0),a=n||!s||r===Od.REFETCHING,c=p.useMemo(()=>{if(!e||!xv(e))return null;const u=L.getTree(t),{variantIds:d}=e;return d.map(f=>{const h=u.getLeafFromNode(f).id;return ws(L.getThreadConversationTurns(t,h))})},[t,e]);return[p.useMemo(()=>!a||!e?null:xv(e)?c?.flatMap(lC).filter(TA)??null:lC(e)??null,[a,e,c]),o]};var zB=YP,qB=function(){return zB.Date.now()},YB=qB,KB=Pc,pm=YB,uC=KP,QB="Expected a function",XB=Math.max,ZB=Math.min;function JB(e,t,n){var r,s,o,a,c,l,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(QB);t=uC(t)||0,KB(n)&&(d=!!n.leading,f="maxWait"in n,o=f?XB(uC(n.maxWait)||0,t):o,h="trailing"in n?!!n.trailing:h);function m(_){var k=r,M=s;return r=s=void 0,u=_,a=e.apply(M,k),a}function g(_){return u=_,c=setTimeout(x,t),d?m(_):a}function v(_){var k=_-l,M=_-u,I=t-k;return f?ZB(I,o-M):I}function y(_){var k=_-l,M=_-u;return l===void 0||k>=t||k<0||f&&M>=o}function x(){var _=pm();if(y(_))return b(_);c=setTimeout(x,v(_))}function b(_){return c=void 0,h&&r?m(_):(r=s=void 0,a)}function w(){c!==void 0&&clearTimeout(c),u=0,r=l=s=c=void 0}function C(){return c===void 0?a:b(pm())}function T(){var _=pm(),k=y(_);if(r=arguments,s=this,l=_,k){if(c===void 0)return g(l);if(f)return clearTimeout(c),c=setTimeout(x,t),m(l)}return c===void 0&&(c=setTimeout(x,t)),a}return T.cancel=w,T.flush=C,T}var t2=JB;const n2=ye(t2);var eU=t2,tU=Pc,nU="Expected a function";function rU(e,t,n){var r=!0,s=!0;if(typeof e!="function")throw new TypeError(nU);return tU(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),eU(e,t,{leading:r,maxWait:t,trailing:s})}var sU=rU;const r2=ye(sU);function Nd(e){return e.map(t=>typeof t=="string"?t:"").join("")}function oU(e){return e.map(t=>t.type==="text"?t.text:"").join(`
`)}function Sx(e,t){const n=[];let r=0;for(let s=0;s<e.length;s++){const o=e[s];if(typeof o=="string")if(t!=null&&t<r+o.length){n.push({type:"text",text:o.slice(0,t-r)});break}else n.push({type:"text",text:o}),r+=o.length;else if(o.content_type===oc.ImageAssetPointer){const a=s>0?n[s-1]:null;a?.type==="images"?a.imageAssets.push(o):n.push({type:"images",imageAssets:[o]})}else o.content_type===oc.AudioTranscription&&n.push({type:"transcription",text:o.text})}return n}function aU({isUserTurn:e,parts:t}){if(!e)return Sx(t);const n={text:[],images:[]};for(let s=0;s<t.length;s++){const o=t[s];typeof o=="string"?o.trim().length>0&&n.text.push({type:"text",text:o}):o.content_type===oc.AudioTranscription?n.text.push({type:"transcription",text:o.text}):o.content_type===oc.ImageAssetPointer&&n.images.push(o)}const r=[];return n.images.length>0&&r.unshift({type:"images",imageAssets:n.images}),r.push(...n.text.map(s=>({type:s.type,text:s.text}))),r}function s2(e){const t=e&&new Date(e),n=t&&new Date(t);return n?`after ${n.getHours()%12||12}:${n.getMinutes()<10?"0":""}${n.getMinutes()} ${n.getHours()>=12?"PM":"AM"}`:"later"}class o2{constructor(t,n,r,s){this.targetLength=t,this.isActivelyStreaming=n,this.onUpdate=s,this.bufferedLength=r?0:this.targetLength,r&&!r.isComplete()&&(r.nextBuffer=this,this.prevBuffer=r)}sentLength=null;sentIsComplete=null;bufferedLength;requestUpdateRaf=null;prevBuffer;nextBuffer;setTargetLength(t,n){t<this.bufferedLength&&(this.bufferedLength=t),this.targetLength=t,this.isActivelyStreaming=n,this.shouldUpdate()&&this.updateBufferedState()}shouldUpdate(){return!this.prevBuffer&&(this.isBuffering()||this.sentIsComplete!==this.isComplete())}isBuffering(){return this.bufferedLength<this.targetLength}isComplete(){return!this.prevBuffer&&!this.isActivelyStreaming&&!this.isBuffering()}getTotalRemainingLength(){let t=this.targetLength,n=this.nextBuffer;for(;n;)t+=n.targetLength,n=n.nextBuffer;return t-this.bufferedLength}requestUpdate(){this.requestUpdateRaf||this.sentLength===this.bufferedLength&&this.sentIsComplete===this.isComplete()||(this.requestUpdateRaf=window.requestAnimationFrame(()=>{this.requestUpdateRaf=null;const t=this.isComplete();this.sentLength=this.bufferedLength,this.sentIsComplete=t,this.onUpdate(this.bufferedLength,t),t&&this.resolveDependency()}))}resolveDependency(){if(this.nextBuffer){const t=this.nextBuffer;this.nextBuffer=t.prevBuffer=void 0,t.shouldUpdate()&&t.updateBufferedState()}}destroy(){this.resolveDependency(),this.requestUpdateRaf&&(window.cancelAnimationFrame(this.requestUpdateRaf),this.requestUpdateRaf=null)}}class qi extends o2{static MAX_BUFFERING_LAG_MS=500;static MIN_BUFFERING_CHAR_PER_MS=1/30;frameRequestId;prevAddFrameTime;updateBufferedState(){if(!this.frameRequestId){const t=this.getTotalRemainingLength(),n=Math.max(qi.MIN_BUFFERING_CHAR_PER_MS,t/qi.MAX_BUFFERING_LAG_MS);this.frameRequestId=window.requestAnimationFrame(r=>{this.frameRequestId=void 0;const s=this.prevAddFrameTime===void 0?2/qi.MIN_BUFFERING_CHAR_PER_MS:r-this.prevAddFrameTime,o=Math.floor(n*s);o>0&&(this.prevAddFrameTime=r,this.bufferedLength=Math.min(this.bufferedLength+o,this.targetLength)),this.requestUpdate(),this.shouldUpdate()&&this.updateBufferedState()})}}destroy(){super.destroy(),this.frameRequestId&&window.cancelAnimationFrame(this.frameRequestId)}}class a2 extends o2{constructor(t,n,r,s){super(Nd(t).length,r,s,(o,a)=>n(Sx(this.textMessageParts,o),a)),this.textMessageParts=t}onMessagePartsUpdated(t,n){this.textMessageParts=t,this.setTargetLength(Nd(t).length,n)}}class as extends a2{constructor(t,n,r,s){super(t,n,r,s),this.updateReactComponentDisplay=n}static MIN_CHARS_BEHIND_TO_CATCHUP=20;static CATCHUP_TIME_MS=300;static UPDATE_FREQUENCY_MS=30;displayNextChunkTimeout;updateBufferedState(){const t=this.getTotalRemainingLength(),n=t<as.MIN_CHARS_BEHIND_TO_CATCHUP?this.targetLength-this.bufferedLength:Math.ceil(t*as.UPDATE_FREQUENCY_MS/as.CATCHUP_TIME_MS);this.bufferedLength=Math.min(this.bufferedLength+n,this.targetLength),this.requestUpdate(),this.displayNextChunkTimeout||(this.displayNextChunkTimeout=window.setTimeout(()=>{this.displayNextChunkTimeout=void 0,this.shouldUpdate()&&this.updateBufferedState()},as.UPDATE_FREQUENCY_MS))}destroy(){super.destroy(),window.clearTimeout(this.displayNextChunkTimeout)}}const Rl=15,mm=8;class iU extends a2{constructor(t,n,r,s,o){super(t,n,r,s),this.updateReactComponentDisplay=n,this.concatenatedText=Nd(this.textMessageParts),this.debug=o?.debug??!1,this.streamStartMs=0,this.averageMsPerChar=0,this.debug&&console.debug(["PunctuationBuffer:",`[lagFactors: ${JSON.stringify(this.LAG_FACTORS,null,2)}]`].join(`
`))}LAG_FACTORS={".":Rl,"!":Rl,"?":Rl,"\n":Rl,",":mm,":":mm,";":mm,DEFAULT_LAG_FACTOR:.9,BUFFER_FACTOR:.08,...typeof window<"u"&&window.__PUNCTUATION_BUFFER_LAG_FACTORS};concatenatedText;displayNextCharTimeout;debug;streamStartMs;averageMsPerChar;displayNextChar(){this.displayNextCharTimeout=void 0,this.shouldUpdate()&&(this.bufferedLength++,this.requestUpdate(),this.displayNextCharTimeout=window.setTimeout(()=>this.displayNextChar(),this._getNextCharDelayMs()))}updateBufferedState(){this.concatenatedText=Nd(this.textMessageParts),this.streamStartMs===0?this.streamStartMs=Date.now():this.averageMsPerChar=(Date.now()-this.streamStartMs)/this.targetLength,this.displayNextCharTimeout||this.displayNextChar()}destroy(){super.destroy(),window.clearTimeout(this.displayNextCharTimeout)}_getNextCharDelayMs(){const t=this.concatenatedText[this.bufferedLength-1],n=this.getTotalRemainingLength(),r=1/Math.max(n*this.LAG_FACTORS.BUFFER_FACTOR,1),s=(this.LAG_FACTORS[t]??this.LAG_FACTORS.DEFAULT_LAG_FACTOR)*r,o=this.averageMsPerChar*s;return this.debug&&this._throttledDebugLog(["PunctuationBuffer:",`[lagMs: ${o}]`,`[lastChar: "${t}"]`,`[averageMsPerChar: ${this.averageMsPerChar}]`,`[lagFactor: ${s}]`,`[bufferLagFactor: ${r}]`,`[remainingLength: ${n}]`,"==="].join(`
`)),o}_throttledDebugLog=r2(t=>{console.debug(t)},500,{leading:!0,trailing:!0})}function cU(e){return e.type==="text"}class dC{buffer;text;constructor(t,n,r="",s,o){this.buffer=new t([r],(a,c)=>{const l=a.filter(cU).map(u=>u.text).join("");n(l,c)},s,o),this.text=r}setText(t,n=!0){this.text=t,this.buffer.onMessagePartsUpdated([this.text],n)}isBuffering(){return this.buffer.isBuffering()}isComplete(){return this.buffer.isComplete()}destroy(){return this.buffer.destroy()}}function lU(e,t,n,r){for(var s=-1,o=e==null?0:e.length;++s<o;){var a=e[s];t(r,a,n(a),e)}return r}var uU=lU,dU=Pb;function fU(e,t){return function(n,r){if(n==null)return n;if(!dU(n))return e(n,r);for(var s=n.length,o=t?s:-1,a=Object(n);(t?o--:++o<s)&&r(a[o],o,a)!==!1;);return n}}var hU=fU,pU=dx,mU=hU,gU=mU(pU),i2=gU,vU=i2;function yU(e,t,n,r){return vU(e,function(s,o,a){t(r,s,n(s),a)}),r}var bU=yU,xU=uU,wU=bU,SU=hh,CU=ph;function _U(e,t){return function(n,r){var s=CU(n)?xU:wU,o=t?t():{};return s(n,e,SU(r),o)}}var c2=_U,TU=$b,kU=c2,MU=Object.prototype,EU=MU.hasOwnProperty,PU=kU(function(e,t,n){EU.call(e,n)?e[n].push(t):TU(e,n,[t])}),$U=PU;const Cx=ye($U);function AU(e,t,n){const[r,s]=p.useState(null),o=t?.length??0,a=o>0,c=p.useRef(new Map);return p.useEffect(()=>{if(t)for(const l of t){const{messageId:u}=l;if(u==null||c.current.has(u))continue;const d=new OU((f,h)=>{if(s(m=>({...m,[u]:f})),!!h){for(const[m,g]of c.current.entries())if(m!==u&&!g.isComplete())return;n(!0)}});c.current.set(u,d)}},[o]),p.useEffect(()=>{const l=c.current;return()=>{for(const u of l.values())u.destroy()}},[a]),p.useEffect(()=>{if(!a)return s(null);const l=Cx(t,"messageId");for(const[u,d]of Object.entries(l)){const f=c.current.get(u);f&&f.setTextdocOps(d,!e)}},[a,e,t]),p.useMemo(()=>!a||!r?null:Object.values(r).flatMap(l=>l??[]),[a,r])}class OU{constructor(t){this.onUpdate=t}bufferedOps=[];isFinishedStreaming=!1;rangeBuffers=[];textBuffers=[];completeCounters=[];lastBuffer;destroy(){for(const t of this.rangeBuffers)t?.destroy();for(const t of this.textBuffers)t?.destroy();this.isFinishedStreaming=!0,this.rangeBuffers=[],this.textBuffers=[],this.completeCounters=[],this.lastBuffer=void 0}isBuffering(){return!((this.lastBuffer?.isComplete()??!0)&&(ws(this.completeCounters)?.isComplete()??!0))}getNonEmptyBufferedOpsOrNull(){return this.bufferedOps&&this.bufferedOps.length>0?this.bufferedOps:null}isComplete(){return this.isFinishedStreaming&&!this.isBuffering()}setTextdocOps(t,n){if(this.isFinishedStreaming=n,t)for(let r=0;r<t.length;r++){const s=t[r];if(s.author.role===he.Assistant)switch(s.kind){case ct.CREATE:case ct.REWRITE:this.setAllContentOpAtIndex(s,r);break;case ct.EDIT:case ct.ADD_COMMENT:this.setRangeAndContentOpAtIndex(s,r);break;default:this.setUnbufferedOpAtIndex(s,r)}else this.setUnbufferedOpAtIndex(s,r)}n&&(t?this.isBuffering()||this.onUpdate(this.getNonEmptyBufferedOpsOrNull(),!0):(this.destroy(),this.update(()=>null)))}update(t){const n=this.bufferedOps;this.bufferedOps=Eb(n,t),this.bufferedOps!==n&&this.onUpdate(this.getNonEmptyBufferedOpsOrNull(),this.isComplete())}getBufferedAllContentOp(t,n,r){let s=t[r];return s||(s={...n,content:""},t[r]=s),s}setAllContentOpAtIndex(t,n){const{content:r,isPartial:s=!1}=t;let o=this.textBuffers[n];o?(o.setText(r,s),t.kind===ct.CREATE&&this.update(a=>{const c=this.getBufferedAllContentOp(a,t,n);c.textdocId=t.textdocId})):(o=new dC(as,(a,c)=>{this.update(l=>{const u=this.getBufferedAllContentOp(l,t,n);u.content=a,u.isPartial=!c})},r,s,this.lastBuffer),this.textBuffers[n]=o,this.lastBuffer=o.buffer)}getBufferedRangeAndContentOp(t,n,r){let s=t[r];return s||(s={...n,at:{start:n.at.start,end:n.at.start},content:"",isPartial:!0,isPartialRange:!0},t[r]=s),s}setRangeAndContentOpAtIndex(t,n){const{at:r,content:s,isPartialRange:o=!1,isPartial:a=!1}=t;let c=this.completeCounters[n];c||(c=new NU(()=>{this.update(d=>{const f=this.getBufferedRangeAndContentOp(d,t,n);f.isPartial=!1})}),this.completeCounters[n]=c),c.update("original",!a);let l=this.rangeBuffers[n];l?(this.update(d=>{const f=this.getBufferedRangeAndContentOp(d,t,n);if(f.at.start!==r.start){const h=f.at.end-f.at.start;f.at={start:r.start,end:r.start+h}}}),l.setTargetLength(r.end-r.start,o)):(l=new qi(0,o,this.lastBuffer,(d,f)=>{this.update(h=>{const m=this.getBufferedRangeAndContentOp(h,t,n);m.at.end=m.at.start+d,m.isPartialRange=!f}),c.update("range",f)}),this.rangeBuffers[n]=l,this.lastBuffer=l,c.update("range",!1));let u=this.textBuffers[n];u?u.setText(s??"",a):(u=new dC(as,(d,f)=>{this.update(h=>{const m=this.getBufferedRangeAndContentOp(h,t,n);m.content=d}),c.update("content",f)},s,a,this.lastBuffer),this.textBuffers[n]=u,this.lastBuffer=u.buffer,c.update("content",!1))}setUnbufferedOpAtIndex(t,n){this.update(r=>{r[n]=t})}}class NU{keyStates=new Set;onComplete;constructor(t){this.onComplete=t}isComplete(){return this.onComplete==null}update(t,n){if(!n)this.keyStates.add(t);else if(this.keyStates.delete(t),this.keyStates.size===0&&this.onComplete){const r=this.onComplete;this.onComplete=null,r()}}}const IU=4e4,jU="max-length-toast",l2=n2((e,t,n,r=1.5)=>e.warning(t,{description:n,duration:r,id:jU}),500,{leading:!0,trailing:!1});function gct(e,t,n){l2(e,t.formatMessage(Id.exceededMaxLengthTitle),t.formatMessage(Id.exceededMaxLengthDescription),n)}function RU(e,t,n){l2(e,t.formatMessage(Id.exceededMaxLengthTitle),t.formatMessage(Id.exceededMaxLengthForTruncatedMessageDescription),n)}const Id=K({exceededMaxLengthDescription:{id:"FQSdxE",defaultMessage:"The document is longer than a canvas can currently handle. To edit, please reduce the length."},exceededMaxLengthForTruncatedMessageDescription:{id:"q/2M6n",defaultMessage:"The document was truncated because it was too long."},exceededMaxLengthTitle:{id:"NFtrBL",defaultMessage:"Document exceeds max length"}});function DU(e){const t=U(),n=Fe();e2(()=>{const r=L.getThreadCurrentLeafId(e),s=L.getThreadConversationTurns(e,r),o=ws(s);if(o==null)return;const a=qA(o.messages);a==null||a.message.metadata?.finish_details?.type!=="max_tokens"||RU(n,t,4)})}const vct="g-YyyyMT9XH",LU="g-2fkFE8rbu";var FU=(e=>(e[e.USER=1]="USER",e[e.GROUP=2]="GROUP",e[e.WORKSPACE=3]="WORKSPACE",e[e.ALL=4]="ALL",e[e.PROJECT=5]="PROJECT",e[e.ORGANIZATION=6]="ORGANIZATION",e[e.SYSTEM=7]="SYSTEM",e[e.AGENT=8]="AGENT",e))(FU||{});const BU={can_read:!0,can_view_config:!1,can_write:!1,can_delete:!1,can_export:!1,can_share:!1},yct={can_read:!0,can_view_config:!0,can_write:!1,can_delete:!1,can_export:!1,can_share:!1},wn={Private:"private",User:"user",Group:"group",WorkspaceLink:"workspace_link",Workspace:"workspace",Link:"link",Marketplace:"marketplace"};var Uc=(e=>(e.FirstParty="first_party",e.UsesFunctionCalls="uses_function_calls",e.Reportable="reportable",e.Private="private",e.Workspace="workspace",e.Public="public",e.Beta="beta",e.Pinned="pinned",e.WorkspaceDisabled="workspace_disabled",e.Unreviewable="unreviewable",e))(Uc||{});const bct=e=>e.gizmo.tags?.includes("first_party"),xct=e=>!e.gizmo.tags?.includes("unreviewable");var u2=(e=>(e.FILE_SERVICE="fs",e))(u2||{});function wct(e){return e.type===1||e.type===2}const fC=[1,2,3,4];function Sct(e){return e.length===0?null:e.reduce((t,n)=>fC.indexOf(n.type)<fC.indexOf(t.type)?t:n,e[0])}function Cct(e,t,n){return t=t.filter(r=>r.type===wn.User||r.type===wn.Group),e===wn.Private||e===wn.User||e===wn.Group?[{type:wn.Private,capabilities:BU},...t]:[...t,{type:e,capabilities:n}]}class UU{constructor(t){this.response=t}}var VU=(e=>(e.ENGLISH="en",e.GLOBAL="global",e))(VU||{}),ta=(e=>(e.FirstParty="first_party",e.SidebarKeep="sidebar_keep",e.Mine="mine",e.Recent="recent",e.Workspace="workspace",e))(ta||{});const Gh="client-correlated-secret";function hC(){const e=localStorage.getItem(Gh);return e==null?e:crypto.subtle.importKey("jwk",JSON.parse(e),{name:"HMAC",hash:{name:"SHA-512"}},!0,["sign","verify"])}async function d2(){hC()==null&&localStorage.setItem(Gh,JSON.stringify(await crypto.subtle.exportKey("jwk",await crypto.subtle.generateKey({name:"HMAC",hash:{name:"SHA-512"}},!0,["sign","verify"]))));const t=hC();if(t==null)throw new Error("Failed to get key from storage");return t}function GU(e){const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++)t[n]=parseInt(e.substr(n*2,2),16);return t.buffer}function WU(e){return[...new Uint8Array(e)].map(t=>t.toString(16).padStart(2,"0")).join("")}function HU(e){const t=new URL(e),n=me({queryKey:[Gh,"generate-challenge",e.search],queryFn:async()=>WU(await crypto.subtle.sign("HMAC",await d2(),new TextEncoder().encode(e.search))),staleTime:0});if(n.data!==void 0)return t.hash=n.data,t}function zU(){const e=location?.search,t=location?.hash;return me({queryKey:[Gh,"verify-challenge",e,t],queryFn:async()=>typeof e!="string"||typeof t!="string"?!1:crypto.subtle.verify("HMAC",await d2(),GU(t.slice(1)),new TextEncoder().encode(e))}).data?new URLSearchParams(e):void 0}function qU(e){return e===void 0}var YU=qU;const KU=ye(YU);class jd{turn_id;trigger;result;time_since_prompt_sent_ms;stream_update_event_count=0;first_token_lat;last_model_message_received;time_since_last_event_ms;model_slug;tools_used;gizmo_id;promptSentTimestamp;logger;request_id;completed=!1;num_images_attached=0;num_files_attached=0;bytes_received=0;model_message_update_count=0;stream_encoding;stream_buffering=!1;constructor(){this.turn_id=Lr(),this.promptSentTimestamp=Date.now(),this.tools_used=new Set,this.logger=C4.createLogger("turn-analytics","info","http")}onCompletionStarted(t,n){switch(t){case"next":this.trigger="submit";break;case"variant":this.trigger="reroll";break;case"continue":this.trigger="continue";break}this.model_slug=n}onBytesReceived(t){this.bytes_received+=t?.length??0}updateAttachmentCount(t){t.forEach(n=>{n.author.role==="user"&&n.metadata?.attachments?.forEach(r=>{r.height&&r.width?this.num_images_attached+=1:this.num_files_attached+=1})})}onReceivedRequestId(t){this.request_id=t}onMessageUpdate(t,n,r,s){this.model_slug=this.model_slug??t,this.gizmo_id=this.gizmo_id??n,s===he.Tool&&r&&this.tools_used.add(r),s!==he.User&&s!==he.System&&s!==he.Developer&&s!==he.Root&&(this.model_message_update_count+=1,this.last_model_message_received=Date.now()),this.first_token_lat||(this.first_token_lat=Date.now()-this.promptSentTimestamp)}onUpdateEventCount(){this.stream_update_event_count+=1}handleRawError(t,n){let r;n===400||t==="NetworkError when attempting to fetch resource."||t==="The network connection was lost."?r="network_error":t==="Request timed out"?r="timeout":r="request_failed",this.logCompletion({type:rs.Error,error:{reason:r,message:t,...n&&{status_code:n}}})}createLogPayload(){const t={turn_id:this.turn_id,trigger:this.trigger,result:La(this.result?.type),...this.result?.type===rs.Error?{error:this.result.error}:void 0,time_since_prompt_sent_ms:this.time_since_prompt_sent_ms,stream_update_event_count:this.stream_update_event_count,model_message_update_count:this.model_message_update_count,time_since_last_event_ms:this.time_since_last_event_ms,first_token_lat:this.first_token_lat,bytes_received:this.bytes_received,stream_encoding:this.stream_encoding,stream_buffering:this.stream_buffering,model_slug:this.model_slug,tools_used:[...this.tools_used],gizmo_id:this.gizmo_id,attachments:{files:this.num_files_attached,images:this.num_images_attached,total:this.num_files_attached+this.num_images_attached}};return{request_id:this.request_id,turn_analytics:t}}createStatsigPayload(){return _4({turn_id:String(this.turn_id),trigger:this.trigger,result:this.result?.type,error:JSON.stringify(this.result?.type===rs.Error?{error:this.result.error}:void 0),time_since_prompt_sent_ms:String(this.time_since_prompt_sent_ms),stream_update_event_count:String(this.stream_update_event_count),model_message_update_count:String(this.model_message_update_count),time_since_last_event_ms:JSON.stringify(this.time_since_last_event_ms),first_token_lat:String(this.first_token_lat),bytes_received:String(this.bytes_received),stream_encoding:this.stream_encoding,stream_buffering:this.stream_buffering,model_slug:this.model_slug,tools_used:[...this.tools_used].join(", "),gizmo_id:this.gizmo_id,attachments:JSON.stringify({files:this.num_files_attached,images:this.num_images_attached,total:this.num_files_attached+this.num_images_attached})},KU)}logCompletion(t){this.completed||(this.completed=!0,this.time_since_prompt_sent_ms=Date.now()-this.promptSentTimestamp,this.result=t,this.last_model_message_received&&(this.time_since_last_event_ms=Date.now()-this.last_model_message_received),t.type===rs.Error?this.logger.error("Turn exchange complete",this.createLogPayload()):this.logger.info("Turn exchange complete",this.createLogPayload()),z.logEvent("chatgpt_conversation_turn_turn_exchange_complete",null,this.createStatsigPayload()))}}function QU(e){return me({queryKey:["system-hints"],queryFn:async()=>(await X.getSystemHints()).system_hints.map(({name:n,description:r,logo:s,system_hint:o,required_features:a=[],required_models:c=[]})=>({name:n,description:r,logo:s,systemHint:o,requiredFeatures:a,requiredModels:c})),select:e,staleTime:1/0})}function _x({clientThreadId:e}){const t=L.getThreadCurrentLeafId(e),r=L.getTree(e).getMessage(t).metadata?.model_switcher_deny??[],s={};r.forEach(a=>{const{slug:c,context:l,reason:u,description:d}=a,f=s[c]??{},h=f[l]??[];h.push({reason:u,description:d}),f[l]=h,s[c]=f});const o=QP();for(const{resets_after:a,model_slug:c}of o)[DS.CONVERSATION,DS.REGENERATE].forEach(l=>{const u=s[c]??{},d=u[l]??[],f={reason:mh.RATE_LIMIT,resetsAfter:a};d.push(f),u[l]=d,s[c]=u});return s}const _ct="text-davinci-002-render-sha",Tct="gpt-4",kct="gpt-4o",Mct="o1-preview",Ect="o1-mini",Rd=XP({slug:Ab,max_tokens:4097,title:"Default",description:"",tags:[Js.GPT_3_5],product_features:{}}),XU=({default_model:e,tagline:t,color:n,human_category_name:r,category:s,human_category_short_name:o,human_category_shorter_name:a,subscription_level:c,short_explainer:l,subcategory:u,is_beta:d,...f})=>({color:n,tagline:t,defaultModel:e,label:r,shortLabel:o,description:l,shorterLabel:a??o,subscriptionLevel:c,categoryId:s,subcategory:u,isBeta:d,...f}),ZU=({icon:e,icon_filled_src:t,icon_outline_src:n})=>({iconName:e,iconFilledSrc:t,iconOutlineSrc:n}),JU=({group:e,human_group_name:t,human_group_short_name:n,model_ids:r})=>({group:e,label:t,shortLabel:n,modelIds:r});function eV(){return xo({retry:5,queryKey:["modelIcons"],queryFn:async()=>await X.getModelIcons().then(e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[t,ZU(n)])))})}function tV(e){return xo({retry:5,queryKey:["models",{isHistoryDisabled:e}],queryFn:async()=>await X.getModels(e).then(t=>{const{models:n,internal_groups:r,categories:s,default_model_slug:o}=t,a=n.map(XP);return{categories:s.concat().reverse().map(XU),groups:r?.map(JU)??[],defaultModelSlug:o??null,modelsList:a,modelsMap:Object.fromEntries(a.map(c=>[c.id,c]))}})})}function _s(){const e=ZP();return me(tV(e))}function nV(){return me(eV())}function Vc({isRegen:e=!1}={}){const{isLoading:t,data:{categories:n=[],groups:r=[]}={}}=_s(),s=p.useMemo(()=>e?n.filter(o=>o.is_regenerate_category!==!1):n.filter(o=>!o.is_regenerate_category),[n,e]);return{isLoading:t,categories:s,groups:r??[]}}function Pct(){const{categories:e}=Vc();return!!e.find(({categoryId:t})=>t===Su.GPT4o)}function f2(){const{data:e}=_s();return p.useMemo(()=>e?new Set(Object.keys(e.modelsMap)):new Set([Ab]),[e])}const rV={[Ab]:Rd};function h2(){const{data:e}=_s();return e?.modelsMap??rV}function p2(e,t,n){if(e?.defaultModelSlug&&e?.modelsMap[e.defaultModelSlug])return e.modelsMap[e.defaultModelSlug];let r=Js.GPT_3_5;return n?r=Js.GPT_4:t&&(r=Js.GPT_4o),e?.modelsList.find(s=>s.tags.includes(r))??e?.modelsList[0]??Rd}function Wh(e=!1){const t=Fa(),n=yt(),[,r]=wo();return p.useCallback(({location:s,modelId:o})=>{const a=t.pathname.includes("/g/");e||a?(E.logNewChatButtonClicked({location:s}),n({pathname:"/",search:`?model=${encodeURIComponent(o)}`})):(r(c=>(c.set("model",o),c)),E.logNewChatButtonClicked({location:s}))},[e,t,n,r])}function sV(){const{data:{categories:e=[]}={}}=_s(),{doesUserHaveAnyAccountsWithPlusFeatures:t}=Cs();return t?null:e.find(Ob)?.defaultModel??null}function m2(e){return T4(e)}function Qa(e){const t=m2(e),n=h2();return p.useMemo(()=>t==null?Rd:n[t]??Rd,[t,n])}function g2(e,t){return Qa(e).enabledTools?.includes(t)??!1}function $ct(e){const t=QU(),n=Qa(e),r=p.useMemo(()=>!t.isSuccess||!t.data?[]:t.data,[t.data,t.isSuccess]),s=_x({clientThreadId:e});return p.useMemo(()=>{const a=new Set(n.enabledTools||[]);return r.filter(c=>!(!(c.requiredFeatures.length===0||c.requiredFeatures.every(d=>a.has(d)))||!(c.requiredModels.length===0||c.requiredModels.some(d=>!s[d]))))},[r,n,s])}function v2(){const{data:e}=_s(),{doesUserHaveAnyAccountsWithPlusFeatures:t}=Cs(),n=De();return p2(e,!!t,!!n?.isEnterprisey())}var $t=(e=>(e.Search="search",e))($t||{});class oV{constructor(){}eraseContent(){this.setText("")}getContentToSend(){return{content:this.getCurrentText()}}registerKeyHandlers(t){}canShowAutocompletion(){return!0}logPageMount(){ue.addFirstTiming("chatgpt.web.chatPage.prompttextarea.modern.mounted")}useState(t){return p.useSyncExternalStore(n=>this.subscribe("input",n),()=>t(this),()=>t(this))}}const y2="hints";class io extends JP()(t=>({persistedSystemHints:new Set(t),persistedSystemHintTriggers:{}})){static getPersistedSystemHints=({persistedSystemHints:t})=>t;addPersistedSystemHint=(t,n,r)=>{t===$t.Search&&E.logEventWithStatsig(P.searchModeEngaged,"search_mode_engaged",{...kd(n),triggerSource:r}),this.setState(({persistedSystemHints:s,persistedSystemHintTriggers:o})=>({persistedSystemHints:new Set(s).add(t),persistedSystemHintTriggers:{...o,[t]:r}}))};removePersistedSystemHint=(t,n)=>{t===$t.Search&&E.logEventWithStatsig(P.searchModeDisabled,"search_mode_disabled",kd(n)),this.setState(({persistedSystemHints:r,persistedSystemHintTriggers:s})=>{const o=new Set(r);o.delete(t);const a={...s};return delete a[t],{persistedSystemHints:o,persistedSystemHintTriggers:a}})};getPersistedSystemHintTrigger=t=>{if(this.getState().persistedSystemHints.has(t))return this.getState().persistedSystemHintTriggers[t]};clearPersistedSystemHintTrigger=t=>{this.setState(({persistedSystemHints:n,persistedSystemHintTriggers:r})=>{const s={...r};return delete s[t],{persistedSystemHints:new Set(n),persistedSystemHintTriggers:s}})}}const aV=()=>io.useState(io.getPersistedSystemHints);function Act({children:e,clientThreadId:t,currentLeafId:n}){const[r]=wo(),s=r.get(y2)===$t.Search,o=g2(t,e$.Search),c=(L.getLastMessgageSystemHints(t,n).includes($t.Search)||s)&&o,[l]=p.useState(()=>new io(c?[$t.Search]:[]));return p.useEffect(()=>{const u=l.getState().persistedSystemHints;c&&!u.has($t.Search)&&l?.addPersistedSystemHint($t.Search,{clientThreadId:t,turnIndex:0})},[c,l,t]),i.jsx(io.Provider,{store:l,children:e})}function iV(e){const t=new Set;if(e){const n=e.split(",");Array.isArray(n)&&n.forEach(r=>{Object.values($t).includes(r)&&t.add(r)})}return t}const Mu="q",gm="m";function Oct(e){const{clientThreadId:t,currentLeafId:n,handleRequestCompletion:r}=e,s=p.useRef(!1),{isLoading:o,data:a}=_s(),{doesUserHaveAnyAccountsWithPlusFeatures:c,isLoading:l}=Cs(),u=De(),[d,f]=wo(),h=Fe(),m=p.useCallback((C,T,_,k)=>{L.updateTree(t,M=>{M.addNode(C,_,T,he.User,void 0,k)})},[t]),g=p.useCallback(async(C,{content:T,attachments:_},k,M,I,A)=>{const H=n,q=_.length>0?{attachments:_}:{};q.system_hints=M.systemHints,m(C,H,T,q),r({type:ds.Next,promptId:C,requestedModelId:A,eventMetadata:k,cancelActiveRequests:!0,completionMetadata:M,turnTracker:I})},[m,r,n]),v=t$(()=>window.location.pathname)??null,y=zU();let x=!o&&!l&&v!=null;const[b,w]=p.useState(!0);return p.useEffect(()=>{if(!b||s.current)return;const C=vr.getConversationMode(t);if(!x||C==null)return;if(!lV(v)||cV(v)&&y===void 0||L.getServerThreadId(t)!=null){w(!1);return}const T=(()=>{try{return Object.fromEntries(new URLSearchParams(location.hash.slice(1)).entries())}catch{return{}}})(),_={...Object.fromEntries(d),...T},{[Mu]:k,[gm]:M,[y2]:I}=_,A=(typeof k=="string"?k:null)??(typeof M=="string"?M:null);if(!A||!A.trim()){w(!1);return}const H=iV(I),q=Lr();s.current=!0;let F=a?.modelsList;H.has($t.Search)&&(F=F?.filter(Y=>Y.enabledTools?.includes($t.Search)));const N=a&&p2({...a,modelsList:F??[]},!!c,!!u?.isEnterprisey());if(N==null){h.warning("No model available for this request"),w(!1);return}const R=new jd,B=I?.includes($t.Search);(e.prefetchSearchPromise??Promise.resolve(null)).then(Y=>{f(j=>{const D=new URLSearchParams(j);return D.delete(Mu),D.delete(gm),D}),g(q,{content:A,attachments:[]},{eventSource:"url"},{conversationMode:C,source:"instant-query",systemHints:I?Array.from(H):void 0,prefetchIds:Y!=null?[Y]:void 0,searchSource:B?fv.URL_SEARCH_HINT:void 0},R,N?.id),w(!1)})},[o,l,x,v,a,c,u,g,b,t,y,h,e.prefetchSearchPromise,d,f]),b&&(e.prefetchSearchPromise!=null||d.has(Mu)||d.has(gm)?!0:(w(!1),!1))}function cV(e){return b2(e)}function b2(e){return e==null?!1:/^\/g\/[\w-]+$/.test(e)}function lV(e){return e==null?!1:e==="/"||b2(e)}class ut{static getMyGizmos(){return le.get(`${ve}/gizmos?mine=true`)}static getGizmosByUser(t){return le.get(`${ve}/gizmos/u/${t}`)}static getGizmo(t,n){const r=n?"?draft=true":"";return le.get(`${ve}/gizmos/${t}${r}`)}static shareGizmo(t,n){return le.post(`${ve}/gizmos/${t}/share`,n)}static getGizmoDiscovery(t,n){const r=new URLSearchParams;return t!=null&&r.set("locale",t),le.get(n?`${cm}/gizmos/discovery_anon?${r}`:`${cm}/gizmos/discovery?${r}`,{authOption:LS.SendIfAvailable})}static async getGizmoDiscoveryCut(t,n){const r=o=>{const a={};o!=null&&(a.cursor=o),n?.limit!=null&&(a.limit=`${n.limit}`),n?.locale!=null&&(a.locale=n.locale);const c=`${cm}/gizmos/discovery/${t}`;return le.get(c,{params:a,authOption:LS.SendIfAvailable})},s=await r(n?.cursor);return s.list.items.length===0&&s.list.cursor!=null?(await new Promise(o=>setTimeout(o,Math.random()*30)),r(s.list.cursor)):s}static getGizmoBootstrap(){return le.get(`${ve}/gizmos/bootstrap?limit=2`)}static getGizmoPinned(){return le.get(`${ve}/gizmos/pinned`)}static getGizmoSearch(t,n=null){return n?le.get(`${ve}/gizmos/search?q=${t}&cursor=${n} `):le.get(`${ve}/gizmos/search?q=${t}`)}static getGizmoSearchForWorkspace(t,n=null){return n?le.get(`${ve}/gizmos/search?q=${t}&workspace_only=true&cursor=${n}`):le.get(`${ve}/gizmos/search?q=${t}&workspace_only=true`)}static async postGizmoAppeal(t,n,r,s,o){await le.post(`${ve}/gizmos/${n}/appeal`,{reason:r,share_recipient:s,categories:o}),await t.invalidateQueries({queryKey:["gizmo",{gizmoId:n}]})}static async postGizmoCancelAppeal(t,n){await le.post(`${ve}/gizmos/${n}/cancel_appeal`,{}),await t.invalidateQueries({queryKey:["gizmo",{gizmoId:n}]})}static upsertDraft(t,n){return n!==void 0?le.post(`${ve}/gizmos?gizmo_id=${n}`,t):le.post(`${ve}/gizmos`,t)}static promoteDraft(t,n){return le.post(`${ve}/gizmos/${n}/promote`,t)}static deleteGizmo(t){return le.delete(`${ve}/gizmos/${t}`)}static getBuilderProfile(){return le.get(`${ve}/gizmo_creator_profile`)}static updateBuilderProfile(t){return le.post(`${ve}/gizmo_creator_profile`,t)}static unverifySocialAuth(t){return le.delete(`${ve}/gizmo_creator_profile/socials/${t}`)}static async updateGizmoSidebar(t,n,r,s){const o=await le.post(`${ve}/gizmos/${r}/sidebar`,{action:s});switch(s){case"keep":n.handleGizmoSidebarKeep(t,r);break;case"hide":n.handleGizmoSidebarHide(t,r);break}return o}static async removeFromRecent(t,n){const r=await le.post(`${ve}/gizmos/${n}/remove_recent`,{});return t.invalidateQueries({queryKey:["gizmos","bootstrap"]}),t.invalidateQueries({queryKey:["gizmos","discovery"]}),r}static fetchOpenAPISpec(t){return le.post(`${ve}/gizmos/fetch_openapi`,{url:t})}static validateOpenAPISpec(t){return le.post(`${ve}/gizmos/validate_openapi`,{raw_spec:t})}static transformToOpenAPISpec(t,n){return le.post(`${ve}/gizmos/transform_openapi`,{...t,auth:n})}static async doOAuthRedirect(t,n,r,s,o){const a=await le.post(`${ve}/gizmos/oauth_redirect`,{gizmo_id:t,gizmo_action_id:n,domain:r,redirect_to:s,draft:o});window.location.href=a.redirect_uri}static async upsertUserActionSettings(t,n,r){return le.post(`${ve}/gizmos/action_settings`,{gizmo_action_id:t,domain:n,action_settings:r})}static async getUserActionSettings(t){return le.get(`${ve}/gizmos/user_action_settings?gizmo_id=${t}`)}static async generateCategory(t,n){return le.post(`${ve}/gizmos/gen_category`,{name:t,instructions:n})}static async getConversations(t){return le.get(`${ve}/gizmos/${t}/conversations`)}static async getCategories(){return le.get(`${ve}/gizmos/categories`)}static async getUserReview(t){return le.get(`${ve}/gizmo_reviews/${t}`)}static async upsertUserReview(t,n,r,s){return le.post(`${ve}/gizmo_reviews/${t}`,{rating:n,message:r,include_from:s})}static async sendFeedbackEmail(t,n,r){return le.post(`${ve}/gizmos/${t}/feedback`,{message:n,include_from:r})}static async getAbout(t){return le.get(`${ve}/gizmos/${t}/about`)}static async getCreatorSlice({creatorId:t}){return le.get(`${ve}/gizmo_creators/${t}/gizmos`)}static async getVersion({gizmoId:t,version:n}){return n==null?le.get(`${ve}/gizmos/${t}/version/latest`):le.get(`${ve}/gizmos/${t}/version/${n}`)}static async listVersions({gizmoId:t,limit:n,cursor:r}){const s={};return n&&(s.limit=n),r&&(s.cursor=r),le.get(`${ve}/gizmos/${t}/versions`,{params:s})}static async copyGizmo({gizmoId:t}){return await le.post(`${ve}/gizmos/${t}/copy`)}}async function uV(){const e=await X.getMe();return{id:e.id,email:e.email,name:e.name,picture:e.picture,created:e.created}}const x2=xo({queryKey:["user"],queryFn:uV,staleTime:1/0});function tn(){return me(x2).data}const dV={currentWorkspace:null,subscriptionStatus:null,workspaces:[]};function zn(e){const t=me({...n$(),select:n=>{const r=k4(n);return{currentWorkspace:r?.data??null,subscriptionStatus:r?.data.subscriptionStatus??null,workspaces:n.accountItems.map(s=>s.data)}}}).data??dV;return e?e(t):t}const Ma={hasMultipleWorkspaces:({workspaces:e})=>e.length>1,isPersonalWorkspace:({currentWorkspace:e})=>e?.structure===Zo.PERSONAL,isBusinessWorkspace:({currentWorkspace:e})=>e!=null?e.structure===Zo.WORKSPACE:void 0,isEduPlan:({subscriptionStatus:e})=>e?.planType===qs.EDU,isEnterpriseyPlan:({subscriptionStatus:e})=>e?.planType===qs.ENTERPRISE||e?.planType===qs.EDU,isTeamPlan:({subscriptionStatus:e})=>e?.planType===qs.TEAM,isAdmin:({currentWorkspace:e})=>e!=null&&e.role===eo.ADMIN,isOwner:({currentWorkspace:e})=>e!=null&&e.role===eo.OWNER,workspaceId:({currentWorkspace:e})=>e!=null?e.id:null,businessWorkspace:({currentWorkspace:e})=>e?.structure===Zo.WORKSPACE?e:void 0,businessWorkspaceId:({currentWorkspace:e})=>e?.structure===Zo.WORKSPACE?e.id:void 0,hasPaidSubscription:({subscriptionStatus:e})=>e!=null?e.hasPaidSubscription:!1,wasPaidCustomer:({subscriptionStatus:e})=>e!=null?e.wasPaidCustomer:!1,hasCustomerObject:({subscriptionStatus:e})=>e!=null?e.hasCustomerObject:!1,hasUnclaimedFreeTrial:({currentWorkspace:e})=>e?.promoData?.has_claimed_free_trial,lastActiveSubscription:({subscriptionStatus:e})=>e!=null?e.lastActiveSubscription:null,workspaces:({workspaces:e})=>e,accountUserId:({currentWorkspace:e})=>e?.accountUserId};function Nct(){const e=De();if(e!=null)return e.hasPlusFeatures()}function Ict(){return De()?.data.subscriptionStatus.lastActiveSubscription}function jct(e){return e.gizmo.current_user_permission?.can_write??!1}function Rct(e){return e.gizmo.current_user_permission?.can_view_config??!1}function fV(e,t,n){const r=t?.name;switch(e){case wn.Link:return n.formatMessage(Dl.privacyAnyoneWithLink);case wn.Private:return n.formatMessage(Dl.privacyOnlyMe);case wn.Group:case wn.User:return n.formatMessage({id:"B9pJ5o",defaultMessage:"Invite only"});case wn.Marketplace:return n.formatMessage(Dl.privacyMarketplace);case wn.Workspace:return n.formatMessage(Dl.privacyWorkspace,{workspaceName:r});case wn.WorkspaceLink:return n.formatMessage({id:"T5Eek0",defaultMessage:"Anyone at {workspaceName} with the link"},{workspaceName:r})}}function Dct(e){const t=U(),n=zn(r=>r.currentWorkspace);return fV(e,n,t)}function hV(e){return"gizmo"in e}function w2(e){return"id"in e}function Lct(e){return`${e.replaceAll(".","_").replaceAll("-","_")}__jit_plugin`}const Dl=K({privacyOnlyMe:{id:"gizmo.privacyOnlyMe",defaultMessage:"Only me"},privacyAnyoneWithLink:{id:"gizmo.privacyAnyoneWithLink",defaultMessage:"Anyone with a link"},privacyWorkspace:{id:"gizmo.privacyWorkspace",defaultMessage:"Anyone at {workspaceName}"},privacyMarketplace:{id:"gizmo.privacyMarketplace",defaultMessage:"Everyone"}}),Fct="GPT Builder";function Bct(e){if(e)return`ChatGPT - ${e}`}function Tx(e){return e.gizmo.short_url??e.gizmo.id??"-"}function Hh(e){return`/g/${e}`}function Uct(e){return`https://chatgpt.com${Hh(e)}`}function kx(e){return Hh(Tx(e))}function Vct(e,t){const n=new URLSearchParams;return t!=null&&n.set(Mu,t),HU(new URL(`${kx(e)}?${n}`,"https://chatgpt.com"))}function Gct(e){return`/g/${Tx(e)}`}function Wct(e){return hV(e)&&e.gizmo.live_version===0||w2(e)&&e.liveVersion===0}function Hct(e,t){return me({queryKey:["gizmos","discovery",{locale:e,isAnon:t}],queryFn:async()=>ut.getGizmoDiscovery(e,t)})}function pV({cutId:e,locale:t,limit:n,cursor:r,enabled:s=!0}){return Nb({queryKey:["gizmos","discovery",{cutId:e,locale:t,limit:n}],queryFn:async({pageParam:o})=>ut.getGizmoDiscoveryCut(e,{locale:t,cursor:o,limit:n}),initialPageParam:r,getNextPageParam:o=>o.list.cursor??void 0,enabled:s})}function mV(){return me({queryKey:["gizmos","pinned"],queryFn:async()=>ut.getGizmoPinned()})}function Yi(){return xo({queryKey:["gizmos","bootstrap"],queryFn:async()=>ut.getGizmoBootstrap().then(e=>({gizmos:Object.values(e).flat().filter(n=>n).map(n=>({resource:n.resource,flair:n.flair}))}))})}function zct(){return me(Yi())}function pC(e,t){const n=e.filter(s=>s.resource.gizmo.id!==t.resource.gizmo.id);let r=n.findIndex(s=>s.flair.kind===ta.Recent);return r===-1&&(r=n.length),n.splice(r,0,t),n}const S2={handleGizmoInteracted(e,t){const n=e.getQueryData(co(e,t).queryKey);n!=null&&e.setQueryData(Yi().queryKey,r=>{if(r==null)return r;const s=r.gizmos.find(o=>o.resource.gizmo.id===t);return s?.flair.kind===ta.FirstParty||s?.flair.kind===ta.SidebarKeep?r:{gizmos:pC(r.gizmos,{resource:n,flair:{kind:ta.Recent}})}})},handleGizmoSidebarKeep(e,t){const n=e.getQueryData(co(e,t).queryKey);n!=null&&e.setQueryData(Yi().queryKey,r=>r==null?r:{gizmos:pC(r.gizmos,{resource:n,flair:{kind:ta.SidebarKeep}})})},handleGizmoSidebarHide(e,t){e.setQueryData(Yi().queryKey,n=>n?.gizmos.some(r=>r.resource.gizmo.id===t)?{gizmos:n.gizmos.filter(r=>r.resource.gizmo.id!==t)}:n)}};function Xa(e,t=!1){const n=Pe();return me(co(n,e,t))}function qct({gizmoId:e,draft:t,version:n}){const r=Pe(),s=n?{queryKey:["gizmo","version",{gizmoId:e,version:n}],queryFn:async()=>ut.getVersion({gizmoId:e,version:n}),enabled:e!=null}:co(r,e,t);return me(s)}function Yct(e,t){return me({queryKey:["gizmo","userActionSettings",{gizmoId:e}],queryFn:async()=>ut.getUserActionSettings(e),enabled:e!=null&&t})}function co(e,t,n=!1){return xo({queryKey:["gizmo",{gizmoId:t},{draft:n}],queryFn:async()=>ut.getGizmo(t,n),enabled:t!=null,initialData:()=>{if(n===!0)return;const r=e.getQueryData(Yi().queryKey);if(r!=null)return r.gizmos.find(o=>o.resource.gizmo.id===t)?.resource;const s=e.getQueryData(["gizmos","discovery"]);if(s!=null)for(const o of s.cuts){const a=o.list.items.find(c=>c.resource.gizmo.id===t)?.resource;if(a!=null)return a}}})}function gV(e,t){return e.fetchQuery(co(e,t))}function Kct(e){return me({queryKey:["gizmo",{search:e}],queryFn:async()=>ut.getGizmoSearch(e),enabled:e.length>0})}function Qct(e,t){return me({queryKey:["gizmo-search-workspace",{search:e}],queryFn:async()=>ut.getGizmoSearchForWorkspace(e),enabled:e.length>0&&t})}function Xct(e,t=!1,n=!1,r=null){return Nb({queryKey:[n?"gizmo-search-workspace":"gizmo",{query:e,cursor:r}],queryFn:async({pageParam:s})=>n?ut.getGizmoSearchForWorkspace(e,r=s):ut.getGizmoSearch(e,r=s),initialPageParam:r,getNextPageParam:s=>s.cursor??void 0,enabled:t})}function Zct(){const e=Pe();return vt({mutationFn:async({gizmoId:t,editorData:n})=>{const{instructions:r,name:s,description:o,emoji:a,theme:c,profilePictureId:l,profilePictureUrl:u,promptStarters:d,tools:f,files:h,trainingDisabled:m}=n,g={instructions:r,display:{name:s,description:o,emoji:a,theme:c,profile_pic_id:l,profile_picture_url:u,prompt_starters:d},tools:f,files:h.map(v=>({...v,location:u2.FILE_SERVICE})),training_disabled:m};return ut.upsertDraft(g,t)},onSettled:t=>{t&&(e.setQueryData(co(e,t.gizmo.id,!0).queryKey,t),e.invalidateQueries({queryKey:["gizmos","mine"],refetchType:"none"}))}})}function Jct(){const e=Pe();return vt({mutationFn:async({gizmoId:t,data:n})=>{const{sharingRecipient:r,categories:s}=n,o=await ut.promoteDraft({sharing:n.sharingSubjects&&n.sharingSubjects.length>0?n.sharingSubjects:{recipient:r},categories:s},t);if(o.error)throw new UU(o);return o.resource},onSettled:t=>{e.invalidateQueries({queryKey:["gizmos"],refetchType:"all"}),e.invalidateQueries({queryKey:["gizmos","pinned"],refetchType:"none"}),t&&e.setQueryData(co(e,t.gizmo.id,!1).queryKey,t)}})}function elt(){const e=Pe();return vt({mutationFn:async({gizmoId:t})=>ut.deleteGizmo(t),onSettled:()=>{e.invalidateQueries({queryKey:["gizmos"],refetchType:"all"})}})}function tlt(){const e=Pe(),t=Fe();return vt({mutationFn:async({name:n,hideName:r,websiteUrl:s,willReceiveSupportEmails:o})=>ut.updateBuilderProfile({name:n,hide_name:r,website_url:s,will_receive_support_emails:o}),onSuccess:n=>{e.setQueryData(["builderProfile"],n)},onError:n=>{t.warning(n.message)}})}function nlt(){return me({queryKey:["builderProfile"],queryFn:async()=>ut.getBuilderProfile()})}function rlt(){return vt({mutationFn:async({gizmoId:e})=>ut.copyGizmo({gizmoId:e})})}function slt(){return me({queryKey:["gizmoCategories"],queryFn:async()=>ut.getCategories()})}function olt(e,t){return!!(t!=null&&[$e.PrimaryAssistant,$e.GizmoInteraction].includes(t)&&e?.includes(Js.GPT_4))}function vV(e,t){const n=Pe(),r=Fe();return vt({mutationFn:async({rating:s,message:o,includeFrom:a})=>{await ut.upsertUserReview(e,s,o,a)},onSuccess:async()=>{n.invalidateQueries({queryKey:["gizmo","review",{gizmoId:e}]})},onError:s=>{r.danger(s.message)}})}const zh=Le(Ss(()=>({statusMap:{}}))),yV=e=>zh(t=>t.statusMap[e]),alt=()=>zh(e=>Object.values(e.statusMap).some(t=>t?.value===Fn.UNREAD)),cc=(e,t)=>{zh.setState(n=>{n.statusMap[e]=t;const r=L.getServerThreadId(e);r&&(n.statusMap[r]=t)})},bV=e=>{zh.setState(t=>{for(const{id:n,async_status:r}of e)r!=null&&(t.statusMap[n]={source:ss.SERVER,value:r})})},C2={};function xV(e){return C2[e]??null}function wV(e){return e in C2}async function Mx(e,t){const n=xV(e),r=n??await X.getConversation(e);return t==null&&n&&(t=!0),n||ue.addTiming("chatgpt.web.chatPage.loadExistingConversation"),L.initThreadFromServerData(e,r,t,void 0,t),cc(r.conversation_id,r.async_status?{source:ss.SERVER,value:r.async_status}:null),r}const SV=(e,t)=>{const n=yt(),{pathname:r}=Fa(),s=qn(),o=gh(),a=Fe();me({queryKey:["conversation",e],queryFn:()=>Mx(e,t).catch(c=>{const l=M4(r),u=l!=null?Hh(l):"/";throw n(u),a.danger(`Unable to load conversation ${e}`,{testId:"conversation-fetch-error-toaster"}),c}),enabled:!So(e)&&!s&&!o,refetchOnMount:!0})};function Dd(e,t){return t!=null||e!=null?{modelSelectionPositionRange:t,modelCursorPosition:e}:void 0}function CV(e,t,n){const r=[],s=t.start-t.end+n;for(const o of e){const a=_V(o.at,t,s);a&&r.push(a===o.at?o:{...o,at:a})}return r}function _V(e,t,n){return t.start>=e.end?e:t.start<=e.start&&t.end>=e.end?null:t.end<=e.start?n===0?e:{start:e.start+n,end:e.end+n}:t.start<=e.start?{start:t.end+n,end:e.end+n}:t.end>=e.end?{start:e.start,end:t.start}:{start:e.start,end:e.end+n}}const TV=/[*_-\s\d.\\`]+$/;function _v(e,t){return t?e.replace(TV,""):e}function kV(e,t){return os(e,n=>{for(const r of t){if(r.kind===ct.CREATE){const s=EV(r);zi(n,s)}else{const s=n.textdocById[r.textdocId];if(!s){ue.addError("Attempted to apply canmore operation to an unknown target id",{textdocOp:r});continue}const o=s.versions[s.versions.length-1],a=_2(o,r);zi(n,a,MV(o,r))}r.textdocId&&(n.latestTextdocId=r.textdocId)}})}function MV(e,t){if(t.author.role===he.User)return e.messageId?!0:t.createdAt-e.createdAt>3600;switch(t.kind){case ct.REWRITE:return!0;case ct.EDIT:return t.messageId!==e.messageId;case ct.ADD_COMMENT:return!1;case ct.REMOVE_COMMENT:return!1}}function EV(e){const t=!!e.isPartial,n=_v(e.content,t);return{textdocId:e.textdocId,versionInt:e.versionInt??null,messageId:e.messageId??null,title:e.title,type:e.type,content:n,createdAt:e.createdAt,status:t?An.CREATING:An.COMPLETE,comments:[],modelCursor:Dd(e.author.role===he.Assistant&&e.isPartial?n.length:void 0)}}function PV(e,t){if(!e.isPartial)return;if(e.isPartialRange)return Dd(void 0,e.at);const n=e.at.start+t.length;return Dd(n)}function _2(e,t){switch(t.kind){case ct.REMOVE_COMMENT:return{...e,versionInt:t.versionInt??e.versionInt,comments:e.comments.map(n=>n.id===t.commentId?{...n,status:t.reason===UA.ACCEPT?bv.ACCEPT_INITIATED:bv.DISMISSED}:n)};case ct.REWRITE:{const n=e.status!==An.COMPLETE||t.isPartial===!0,r=_v(t.content,n),s=t.author.role===he.Assistant&&t.isPartial?r.length:void 0;return{...e,versionInt:t.versionInt??e.versionInt,messageId:t.messageId??null,content:r,createdAt:t.createdAt,comments:t.comments??e.comments,status:t.isPartial?An.REWRITING:An.COMPLETE,modelCursor:Dd(s)}}case ct.EDIT:{const n=t.isPartial&&t.isPartialRange?e.content.slice(t.at.start,t.at.end):_v(t.content,t.isPartial===!0),r=e.content.slice(0,t.at.start)+n+e.content.slice(t.at.end);return{...e,versionInt:t.versionInt??e.versionInt,messageId:t.messageId??null,content:r,createdAt:t.createdAt,status:t.isPartial?An.UPDATING:An.COMPLETE,comments:CV(e.comments,t.at,n.length),modelCursor:PV(t,n)}}case ct.ADD_COMMENT:{const n={id:t.id??t.tempId,tempId:t.tempId,at:t.at,content:t.content??""},r=e.comments.concat(n);return{...e,versionInt:t.versionInt??e.versionInt,messageId:t.messageId??null,createdAt:t.createdAt,status:t.isPartial?An.COMMENTING:An.COMPLETE,comments:r}}}}function $V(e){const t=vh(e),n=r$(e,t),r=Ib(e),s=jb(r),o=WB(e),a=bB(),c=z8(()=>Promise.allSettled([o.refetch(),Mx(e,!0)])),[l,u]=HB({isRequestActive:s,lastTurn:ws(n),clientThreadId:e,persistedTextdocStoreStatus:o.status}),d=!!l,f=c??l,h=!!c||s,m=f?c?vv.NATIVE:vv.LAST_TURN:null,g=p.useMemo(()=>n.slice(0,d?-1:n.length),[n.length,d]),v=EB(e,g),y=JA(),x=FB(),b=mB(),w=p.useMemo(()=>{let M=RA(v);const{textdocVersionById:I,fetchError:A,status:H}=o;return M=os(M,q=>{q.fetchError=A,q.isFetchingFromPersistence=H===Od.REFETCHING||H===Od.INITIALIZING;for(const{pastedAt:F,content:N,metadata:R,tempId:B}of b){const Y=q.resolveTempTextdocId[B]??B,{title:j="",type:D=gx.DOCUMENT}=R??{};zi(q,{textdocId:Y,title:j,type:D,content:N,createdAt:F,versionInt:0,comments:[],messageId:null,status:An.COMPLETE})}if(I)for(const[F,N]of I.entries()){q.allTextdocIdSet[F]=F;const R=a.get(F);let B=R&&(R.versionInt??Er)>(N.versionInt??Er)?{...N,...R}:N;const Y=x.filter(D=>D.textdocId===F&&D.kind===ct.REMOVE_COMMENT);let j=B.versionInt;for(const D of Y)B=_2(B,D),j=Math.max(j??Er,D.versionInt??Er);B={...B,versionInt:j},q.textdocById[F]=void 0,zi(q,B)}}),y?os(M,q=>{zi(q,y,!1)}):M},[b,v,o,a,y,x]),C=p.useMemo(()=>f?.length?fB(h,w,f):null,[f,h,w]),T=p.useMemo(()=>os(w,M=>{for(const I of C??[])if(I.kind===ct.CREATE){const{tempTextdocId:A,textdocId:H}=I;A&&H&&(M.resolveTempTextdocId[A]=H)}}),[C,w]),_=AU(h,C,u);return p.useMemo(()=>_?os(kV(T,_),M=>{M.streamingSource=m}):T,[T,m,_])}function ilt({clientThreadId:e,children:t,enableSandbox:n=!1}){const r=$V(e);return DU(e),i.jsx(jA.Provider,{value:r,children:i.jsx(_B,{isEnabled:n,children:t})})}const AV=["https:","mailto:","tel:"],Eu=e=>{if(e===void 0)return;let t;try{t=new URL(e,window.location.origin)}catch{return}if(AV.includes(t.protocol))return t.href};function T2({href:e,children:t,...n}){const r=gh();return i.jsx("a",{href:Eu(e),target:"_blank",rel:r?"noopener noreferrer":"noopener",...n,children:t})}function qh({className:e,openNewTab:t=!1,type:n="primary",...r}){return i.jsx("a",{rel:"noopener",className:$("cursor-pointer font-normal underline",n==="primary"&&"text-green-600",e),target:t?"_blank":"_self",...r})}var Ee=(e=>(e.LocaleBanner="oai/apps/hasSeenLocaleBanner",e.HasSeenPluginDisclaimer="oai/apps/hasSeenPluginsDisclaimer",e.FirstTimeUsingUserContext="oai/apps/hasUserContextFirstTime/2023-06-29",e.Onboarding="oai/apps/hasSeenOnboarding",e.TeamOwnerOnboarding="oai/apps/hasSeenTeamOwnerOnboarding",e.MemoryOnboarding="oai/apps/hasSeenMemoryOnboarding",e.TemporaryChatOnboarding="oai/apps/hasSeenTemporaryChatOnboarding",e.ArchiveConversationOnboarding="oai/apps/hasSeenArchiveConversationOnboarding",e.ExploreGPTs="oai/apps/hasSeenExploreGPTs2",e.ExploreGPTsNewNux="oai/apps/hasSeenExploreGPTsNewNux",e.MentionGPTs="oai/apps/hasSeenMentionGPTs",e.ModelTunerDisclaimer="oai/apps/hasSeenModelTunerDisclaimer",e.DalleEditingOnboarding="oai/apps/hasSeenDalleEditingOnboarding",e.ModelSwitcherAutoDowngrade="oai/apps/hasSeenModelSwitcherAutoDowngrade",e.SonicSidebar="oai/apps/hasDismissedSonicSidebar",e.ContextConnectors="oai/apps/hasSeenContextConnectorTooltip",e.hasDismissedCanvasOnboarding="oai/apps/hasDismissedCanvasOnboarding",e.hasDismissedCanvasContextualOnboarding="oai/apps/hasDismissedCanvasContextualOnboarding",e.HasSeenAdvancedVoiceOnMobile="oai/apps/hasSeenAdvancedVoiceOnMobile/2024-09-26",e.SidekickLauncherOnboarding="oai/apps/hasSeenSidekickLauncherOnboarding",e.UseSidekick="oai/apps/hasDismissedUseSidekick",e.UseSidetron="oai/apps/hasDismissedUseSidetron",e.hasSeenSncUsageNux="oai/apps/hasSeenSncUsageNux",e.hasSeenSncWelcomeNux="oai/apps/hasSeenSncWelcomeNux",e.hasSeenSncSidebarTooltip="oai/apps/hasSeenSncSidebarTooltip",e.hasSeenSncSourcesTooltip="oai/apps/hasSeenSncSourcesTooltip",e.hasSeenComposerSearchButtonTooltip="oai/apps/hasSeenComposerSearchButtonTooltip",e.hasSeenPioneer="oai/apps/hasSeenPioneer",e.hasSeenCanvasDropdownNux="oai/apps/hasSeenCanvasDropdownNux",e.hasSeenAdvancedVoiceWebNuxTooltip="oai/apps/hasSeenAdvancedVoiceWebNuxTooltip",e.hasSeenAdvancedVoiceRealWebNuxTooltip="oai/apps/hasSeenAdvancedVoiceRealWebNuxTooltip",e.hasSeenAdvancedVoiceNuxFullPage="oai/apps/hasSeenAdvancedVoice/2024-09-24",e.hasSeenWindowsAppOnboarding="oai/apps/hasSeenWindowsAppOnboarding",e.DesktopBrowserExtensionAnnouncement="oai/apps/hasSeenDesktopBrowserExtensionAnnouncement",e.DesktopBrowserExtensionReactiveAnnouncement="oai/apps/hasSeenDesktopBrowserExtensionReactiveAnnouncement",e.NewOnboardingFlow="oai/apps/hasSeenOnboardingFlow",e.hasUsedConversationalOnboardingStarterPrompt="oai/apps/hasUsedNewUserStarterPrompt",e.hasSeenMobileAppUpsellBanner="oai/apps/hasSeenMobileAppUpsellBanner",e.hasSeenStrawSelection="oai/apps/hasSeenStrawSelection",e.hasSeenWebComposerStraw="oai/apps/hasSeenWebComposerStraw",e.hasSeenElectronComposerStraw="oai/apps/hasSeenElectronComposerStraw",e.hasStartedWebVoiceModeStraw="oai/apps/hasStartedWebVoiceModeStraw",e.hasStartedElectronVoiceModeStraw="oai/apps/hasStartedElectronVoiceModeStraw",e))(Ee||{});function OV(){return s$(e=>e.eligible_announcements)}function Ue(e){const{data:t=[],isLoading:n}=OV(),r=k2();return{eligible:t.includes(e),markAsViewed:()=>r.mutate({key:e}),isLoading:n}}function k2(){const e=Pe();return vt({mutationFn:({key:t})=>X.announcementViewed(t),onMutate:async({key:t})=>{e.setQueryData(["userSettings"],n=>({...n,eligible_announcements:n.eligible_announcements.filter(r=>r!==t)}))},onSuccess:()=>{e.invalidateQueries({queryKey:["userSettings"]})}})}function clt(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}function lc(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Tv=e=>Array.isArray(e);function M2(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function uc(e){return typeof e=="string"||Array.isArray(e)}function mC(e){const t=[{},{}];return e?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Ex(e,t,n,r){if(typeof t=="function"){const[s,o]=mC(r);t=t(n!==void 0?n:e.custom,s,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,o]=mC(r);t=t(n!==void 0?n:e.custom,s,o)}return t}function Yh(e,t,n){const r=e.getProps();return Ex(r,t,n!==void 0?n:r.custom,e)}const Px=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$x=["initial",...Px],Gc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ts=new Set(Gc),fr=e=>e*1e3,hr=e=>e/1e3,NV={type:"spring",stiffness:500,damping:25,restSpeed:10},IV=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),jV={type:"keyframes",duration:.8},RV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},DV=(e,{keyframes:t})=>t.length>2?jV:Ts.has(e)?e.startsWith("scale")?IV(t[1]):NV:RV;function LV({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:a,repeatDelay:c,from:l,elapsed:u,...d}){return!!Object.keys(d).length}function E2(e,t){return e[t]||e.default||e}const FV={skipAnimations:!1,useManualTiming:!1},BV=e=>e!==null;function Kh(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(BV),o=t&&n!=="loop"&&t%2===1?0:s.length-1;return!o||r===void 0?s[o]:r}const Jt=e=>e;function UV(e){let t=new Set,n=new Set,r=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function c(u){o.has(u)&&(l.schedule(u),e()),u(a)}const l={schedule:(u,d=!1,f=!1)=>{const m=f&&r?t:n;return d&&o.add(u),m.has(u)||m.add(u),u},cancel:u=>{n.delete(u),o.delete(u)},process:u=>{if(a=u,r){s=!0;return}r=!0,[t,n]=[n,t],n.clear(),t.forEach(c),r=!1,s&&(s=!1,l.process(u))}};return l}const Ll=["read","resolveKeyframes","update","preRender","render","postRender"],VV=40;function P2(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,a=Ll.reduce((x,b)=>(x[b]=UV(o),x),{}),{read:c,resolveKeyframes:l,update:u,preRender:d,render:f,postRender:h}=a,m=()=>{const x=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(x-s.timestamp,VV),1),s.timestamp=x,s.isProcessing=!0,c.process(s),l.process(s),u.process(s),d.process(s),f.process(s),h.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(m))},g=()=>{n=!0,r=!0,s.isProcessing||e(m)};return{schedule:Ll.reduce((x,b)=>{const w=a[b];return x[b]=(C,T=!1,_=!1)=>(n||g(),w.schedule(C,T,_)),x},{}),cancel:x=>{for(let b=0;b<Ll.length;b++)a[Ll[b]].cancel(x)},state:s,steps:a}}const{schedule:Ne,cancel:jr,state:ys,steps:llt}=P2(typeof requestAnimationFrame<"u"?requestAnimationFrame:Jt,!0),$2=e=>/^0[^.\s]+$/u.test(e);function GV(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||$2(e):!0}let WV=Jt,kv=Jt;const A2=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),O2=e=>t=>typeof t=="string"&&t.startsWith(e),N2=O2("--"),HV=O2("var(--"),Ax=e=>HV(e)?zV.test(e.split("/*")[0].trim()):!1,zV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,qV=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function YV(e){const t=qV.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function I2(e,t,n=1){const[r,s]=YV(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const a=o.trim();return A2(a)?parseFloat(a):a}return Ax(s)?I2(s,t,n+1):s}const lo=(e,t,n)=>n>t?t:n<e?e:n,Za={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ki={...Za,transform:e=>lo(0,1,e)},Fl={...Za,default:1},Qi=e=>Math.round(e*1e5)/1e5,Ox=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,KV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,QV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function Wc(e){return typeof e=="string"}function XV(e){return e==null}const Hc=e=>({test:t=>Wc(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Qr=Hc("deg"),pr=Hc("%"),de=Hc("px"),ZV=Hc("vh"),JV=Hc("vw"),gC={...pr,parse:e=>pr.parse(e)/100,transform:e=>pr.transform(e*100)},eG=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),vC=e=>e===Za||e===de,yC=(e,t)=>parseFloat(e.split(", ")[t]),bC=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return yC(s[1],t);{const o=r.match(/^matrix\((.+)\)$/u);return o?yC(o[1],e):0}},tG=new Set(["x","y","z"]),nG=Gc.filter(e=>!tG.has(e));function rG(e){const t=[];return nG.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Ea={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:bC(4,13),y:bC(5,14)};Ea.translateX=Ea.x;Ea.translateY=Ea.y;const j2=e=>t=>t.test(e),sG={test:e=>e==="auto",parse:e=>e},R2=[Za,de,pr,Qr,JV,ZV,sG],xC=e=>R2.find(j2(e)),no=new Set;let Mv=!1,Ev=!1;function D2(){if(Ev){const e=Array.from(no).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=rG(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([o,a])=>{var c;(c=r.getValue(o))===null||c===void 0||c.set(a)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Ev=!1,Mv=!1,no.forEach(e=>e.complete()),no.clear()}function L2(){no.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Ev=!0)})}function oG(){L2(),D2()}class Nx{constructor(t,n,r,s,o,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=o,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(no.add(this),Mv||(Mv=!0,Ne.read(L2),Ne.resolveKeyframes(D2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;for(let o=0;o<t.length;o++)if(t[o]===null)if(o===0){const a=s?.get(),c=t[t.length-1];if(a!==void 0)t[0]=a;else if(r&&n){const l=r.readValue(n,c);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=c),s&&a===void 0&&s.set(t[0])}else t[o]=t[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),no.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,no.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Ix=(e,t)=>n=>!!(Wc(n)&&QV.test(n)&&n.startsWith(e)||t&&!XV(n)&&Object.prototype.hasOwnProperty.call(n,t)),F2=(e,t,n)=>r=>{if(!Wc(r))return r;const[s,o,a,c]=r.match(Ox);return{[e]:parseFloat(s),[t]:parseFloat(o),[n]:parseFloat(a),alpha:c!==void 0?parseFloat(c):1}},aG=e=>lo(0,255,e),vm={...Za,transform:e=>Math.round(aG(e))},Ys={test:Ix("rgb","red"),parse:F2("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+vm.transform(e)+", "+vm.transform(t)+", "+vm.transform(n)+", "+Qi(Ki.transform(r))+")"};function iG(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Pv={test:Ix("#"),parse:iG,transform:Ys.transform},na={test:Ix("hsl","hue"),parse:F2("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+pr.transform(Qi(t))+", "+pr.transform(Qi(n))+", "+Qi(Ki.transform(r))+")"},Qt={test:e=>Ys.test(e)||Pv.test(e)||na.test(e),parse:e=>Ys.test(e)?Ys.parse(e):na.test(e)?na.parse(e):Pv.parse(e),transform:e=>Wc(e)?e:e.hasOwnProperty("red")?Ys.transform(e):na.transform(e)};function cG(e){var t,n;return isNaN(e)&&Wc(e)&&(((t=e.match(Ox))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(KV))===null||n===void 0?void 0:n.length)||0)>0}const B2="number",U2="color",lG="var",uG="var(",wC="${}",dG=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function dc(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let o=0;const c=t.replace(dG,l=>(Qt.test(l)?(r.color.push(o),s.push(U2),n.push(Qt.parse(l))):l.startsWith(uG)?(r.var.push(o),s.push(lG),n.push(l)):(r.number.push(o),s.push(B2),n.push(parseFloat(l))),++o,wC)).split(wC);return{values:n,split:c,indexes:r,types:s}}function V2(e){return dc(e).values}function G2(e){const{split:t,types:n}=dc(e),r=t.length;return s=>{let o="";for(let a=0;a<r;a++)if(o+=t[a],s[a]!==void 0){const c=n[a];c===B2?o+=Qi(s[a]):c===U2?o+=Qt.transform(s[a]):o+=s[a]}return o}}const fG=e=>typeof e=="number"?0:e;function hG(e){const t=V2(e);return G2(e)(t.map(fG))}const bs={test:cG,parse:V2,createTransformer:G2,getAnimatableNone:hG},pG=new Set(["brightness","contrast","saturate","opacity"]);function mG(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Ox)||[];if(!r)return e;const s=n.replace(r,"");let o=pG.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+s+")"}const gG=/\b([a-z-]*)\(.*?\)/gu,$v={...bs,getAnimatableNone:e=>{const t=e.match(gG);return t?t.map(mG).join(" "):e}},SC={...Za,transform:Math.round},jx={borderWidth:de,borderTopWidth:de,borderRightWidth:de,borderBottomWidth:de,borderLeftWidth:de,borderRadius:de,radius:de,borderTopLeftRadius:de,borderTopRightRadius:de,borderBottomRightRadius:de,borderBottomLeftRadius:de,width:de,maxWidth:de,height:de,maxHeight:de,size:de,top:de,right:de,bottom:de,left:de,padding:de,paddingTop:de,paddingRight:de,paddingBottom:de,paddingLeft:de,margin:de,marginTop:de,marginRight:de,marginBottom:de,marginLeft:de,rotate:Qr,rotateX:Qr,rotateY:Qr,rotateZ:Qr,scale:Fl,scaleX:Fl,scaleY:Fl,scaleZ:Fl,skew:Qr,skewX:Qr,skewY:Qr,distance:de,translateX:de,translateY:de,translateZ:de,x:de,y:de,z:de,perspective:de,transformPerspective:de,opacity:Ki,originX:gC,originY:gC,originZ:de,zIndex:SC,backgroundPositionX:de,backgroundPositionY:de,fillOpacity:Ki,strokeOpacity:Ki,numOctaves:SC},vG={...jx,color:Qt,backgroundColor:Qt,outlineColor:Qt,fill:Qt,stroke:Qt,borderColor:Qt,borderTopColor:Qt,borderRightColor:Qt,borderBottomColor:Qt,borderLeftColor:Qt,filter:$v,WebkitFilter:$v},Rx=e=>vG[e];function W2(e,t){let n=Rx(e);return n!==$v&&(n=bs),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const yG=new Set(["auto","none","0"]);function bG(e,t,n){let r=0,s;for(;r<e.length&&!s;){const o=e[r];typeof o=="string"&&!yG.has(o)&&dc(o).values.length&&(s=e[r]),r++}if(s&&n)for(const o of t)e[o]=W2(n,s)}class H2 extends Nx{constructor(t,n,r,s,o){super(t,n,r,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),Ax(u))){const d=I2(u,n.current);d!==void 0&&(t[l]=d),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!eG.has(r)||t.length!==2)return;const[s,o]=t,a=xC(s),c=xC(o);if(a!==c)if(vC(a)&&vC(c))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)GV(t[s])&&r.push(s);r.length&&bG(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ea[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const o=n.getValue(r);o&&o.jump(this.measuredOrigin,!1);const a=s.length-1,c=s[a];s[a]=Ea[r](n.measureViewportBox(),window.getComputedStyle(n.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function z2(e){let t;return()=>(t===void 0&&(t=e()),t)}let Pu;function xG(){Pu=void 0}const ps={now:()=>(Pu===void 0&&ps.set(ys.isProcessing||FV.useManualTiming?ys.timestamp:performance.now()),Pu),set:e=>{Pu=e,queueMicrotask(xG)}},CC=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(bs.test(e)||e==="0")&&!e.startsWith("url("));function wG(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function SG(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],a=CC(s,t),c=CC(o,t);return!a||!c?!1:wG(e)||n==="spring"&&r}const CG=40;class q2{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ps.now(),this.options={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:o,repeatType:a,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>CG?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&oG(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=ps.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:o,delay:a,onComplete:c,onUpdate:l,isGenerator:u}=this.options;if(!u&&!SG(t,r,s,o))if(a)this.options.duration=0;else{l?.(Kh(t,this.options,n)),c?.(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,n);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}function Dx(e,t){return t?e*(1e3/t):0}const _G=5;function Y2(e,t,n){const r=Math.max(t-_G,0);return Dx(n-e(r),t-r)}const ym=.001,TG=.01,kG=10,MG=.05,EG=1;function PG({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let s,o,a=1-t;a=lo(MG,EG,a),e=lo(TG,kG,hr(e)),a<1?(s=u=>{const d=u*a,f=d*e,h=d-n,m=Av(u,a),g=Math.exp(-f);return ym-h/m*g},o=u=>{const f=u*a*e,h=f*n+n,m=Math.pow(a,2)*Math.pow(u,2)*e,g=Math.exp(-f),v=Av(Math.pow(u,2),a);return(-s(u)+ym>0?-1:1)*((h-m)*g)/v}):(s=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-ym+d*f},o=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const c=5/e,l=AG(s,o,c);if(e=fr(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:e}}}const $G=12;function AG(e,t,n){let r=n;for(let s=1;s<$G;s++)r=r-e(r)/t(r);return r}function Av(e,t){return e*Math.sqrt(1-t*t)}const OG=["duration","bounce"],NG=["stiffness","damping","mass"];function _C(e,t){return t.some(n=>e[n]!==void 0)}function IG(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!_C(e,NG)&&_C(e,OG)){const n=PG(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function Lx({keyframes:e,restDelta:t,restSpeed:n,...r}){const s=e[0],o=e[e.length-1],a={done:!1,value:s},{stiffness:c,damping:l,mass:u,duration:d,velocity:f,isResolvedFromDuration:h}=IG({...r,velocity:-hr(r.velocity||0)}),m=f||0,g=l/(2*Math.sqrt(c*u)),v=o-s,y=hr(Math.sqrt(c/u)),x=Math.abs(v)<5;n||(n=x?.01:2),t||(t=x?.005:.5);let b;if(g<1){const w=Av(y,g);b=C=>{const T=Math.exp(-g*y*C);return o-T*((m+g*y*v)/w*Math.sin(w*C)+v*Math.cos(w*C))}}else if(g===1)b=w=>o-Math.exp(-y*w)*(v+(m+y*v)*w);else{const w=y*Math.sqrt(g*g-1);b=C=>{const T=Math.exp(-g*y*C),_=Math.min(w*C,300);return o-T*((m+g*y*v)*Math.sinh(_)+w*v*Math.cosh(_))/w}}return{calculatedDuration:h&&d||null,next:w=>{const C=b(w);if(h)a.done=w>=d;else{let T=0;g<1&&(T=w===0?fr(m):Y2(b,w,C));const _=Math.abs(T)<=n,k=Math.abs(o-C)<=t;a.done=_&&k}return a.value=a.done?o:C,a}}}function TC({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:a,min:c,max:l,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=M=>c!==void 0&&M<c||l!==void 0&&M>l,g=M=>c===void 0?l:l===void 0||Math.abs(c-M)<Math.abs(l-M)?c:l;let v=n*t;const y=f+v,x=a===void 0?y:a(y);x!==y&&(v=x-f);const b=M=>-v*Math.exp(-M/r),w=M=>x+b(M),C=M=>{const I=b(M),A=w(M);h.done=Math.abs(I)<=u,h.value=h.done?x:A};let T,_;const k=M=>{m(h.value)&&(T=M,_=Lx({keyframes:[h.value,g(h.value)],velocity:Y2(w,M,h.value),damping:s,stiffness:o,restDelta:u,restSpeed:d}))};return k(0),{calculatedDuration:null,next:M=>{let I=!1;return!_&&T===void 0&&(I=!0,C(M),k(M)),T!==void 0&&M>=T?_.next(M-T):(!I&&C(M),h)}}}const K2=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,jG=1e-7,RG=12;function DG(e,t,n,r,s){let o,a,c=0;do a=t+(n-t)/2,o=K2(a,r,s)-e,o>0?n=a:t=a;while(Math.abs(o)>jG&&++c<RG);return a}function zc(e,t,n,r){if(e===t&&n===r)return Jt;const s=o=>DG(o,0,1,e,n);return o=>o===0||o===1?o:K2(s(o),t,r)}const LG=zc(.42,0,1,1),FG=zc(0,0,.58,1),Q2=zc(.42,0,.58,1),X2=e=>Array.isArray(e)&&typeof e[0]!="number",Z2=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,J2=e=>t=>1-e(1-t),Fx=e=>1-Math.sin(Math.acos(e)),eO=J2(Fx),BG=Z2(Fx),tO=zc(.33,1.53,.69,.99),Bx=J2(tO),UG=Z2(Bx),VG=e=>(e*=2)<1?.5*Bx(e):.5*(2-Math.pow(2,-10*(e-1))),kC={linear:Jt,easeIn:LG,easeInOut:Q2,easeOut:FG,circIn:Fx,circInOut:BG,circOut:eO,backIn:Bx,backInOut:UG,backOut:tO,anticipate:VG},Ov=e=>{if(Array.isArray(e)){kv(e.length===4);const[t,n,r,s]=e;return zc(t,n,r,s)}else if(typeof e=="string")return kv(kC[e]!==void 0),kC[e];return e},GG=(e,t)=>n=>t(e(n)),Ar=(...e)=>e.reduce(GG),uo=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},St=(e,t,n)=>e+(t-e)*n;function bm(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function WG({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,o=0,a=0;if(!t)s=o=a=n;else{const c=n<.5?n*(1+t):n+t-n*t,l=2*n-c;s=bm(l,c,e+1/3),o=bm(l,c,e),a=bm(l,c,e-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:r}}function Ld(e,t){return n=>n>0?t:e}const xm=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},HG=[Pv,Ys,na],zG=e=>HG.find(t=>t.test(e));function MC(e){const t=zG(e);if(!t)return!1;let n=t.parse(e);return t===na&&(n=WG(n)),n}const EC=(e,t)=>{const n=MC(e),r=MC(t);if(!n||!r)return Ld(e,t);const s={...n};return o=>(s.red=xm(n.red,r.red,o),s.green=xm(n.green,r.green,o),s.blue=xm(n.blue,r.blue,o),s.alpha=St(n.alpha,r.alpha,o),Ys.transform(s))},Nv=new Set(["none","hidden"]);function qG(e,t){return Nv.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function YG(e,t){return n=>St(e,t,n)}function Ux(e){return typeof e=="number"?YG:typeof e=="string"?Ax(e)?Ld:Qt.test(e)?EC:XG:Array.isArray(e)?nO:typeof e=="object"?Qt.test(e)?EC:KG:Ld}function nO(e,t){const n=[...e],r=n.length,s=e.map((o,a)=>Ux(o)(o,t[a]));return o=>{for(let a=0;a<r;a++)n[a]=s[a](o);return n}}function KG(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=Ux(e[s])(e[s],t[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}}function QG(e,t){var n;const r=[],s={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const a=t.types[o],c=e.indexes[a][s[a]],l=(n=e.values[c])!==null&&n!==void 0?n:0;r[o]=l,s[a]++}return r}const XG=(e,t)=>{const n=bs.createTransformer(t),r=dc(e),s=dc(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Nv.has(e)&&!s.values.length||Nv.has(t)&&!r.values.length?qG(e,t):Ar(nO(QG(r,s),s.values),n):Ld(e,t)};function rO(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?St(e,t,n):Ux(e)(e,t)}function ZG(e,t,n){const r=[],s=n||rO,o=e.length-1;for(let a=0;a<o;a++){let c=s(e[a],e[a+1]);if(t){const l=Array.isArray(t)?t[a]||Jt:t;c=Ar(l,c)}r.push(c)}return r}function Vx(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const o=e.length;if(kv(o===t.length),o===1)return()=>t[0];if(o===2&&e[0]===e[1])return()=>t[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=ZG(t,r,s),c=a.length,l=u=>{let d=0;if(c>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=uo(e[d],e[d+1],u);return a[d](f)};return n?u=>l(lo(e[0],e[o-1],u)):l}function sO(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=uo(0,t,r);e.push(St(n,1,s))}}function Gx(e){const t=[0];return sO(t,e.length-1),t}function JG(e,t){return e.map(n=>n*t)}function eW(e,t){return e.map(()=>t||Q2).splice(0,e.length-1)}function Fd({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=X2(r)?r.map(Ov):Ov(r),o={done:!1,value:t[0]},a=JG(n&&n.length===t.length?n:Gx(t),e),c=Vx(a,t,{ease:Array.isArray(s)?s:eW(t,s)});return{calculatedDuration:e,next:l=>(o.value=c(l),o.done=l>=e,o)}}const Iv=2e4;function oO(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Iv;)t+=n,r=e.next(t);return t>=Iv?1/0:t}const tW=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Ne.update(t,!0),stop:()=>jr(t),now:()=>ys.isProcessing?ys.timestamp:ps.now()}},nW={decay:TC,inertia:TC,tween:Fd,keyframes:Fd,spring:Lx},rW=e=>e/100;class Qh extends q2{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{const{onStop:l}=this.options;l&&l(),this.resolver.cancel(),this.isStopped=!0,this.state!=="idle"&&this.teardown()};const{name:n,motionValue:r,element:s,keyframes:o}=this.options,a=s?.KeyframeResolver||Nx,c=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new a(o,c,n,r,s),this.resolver.scheduleResolve()}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o,velocity:a=0}=this.options,c=nW[n]||Fd;let l,u;c!==Fd&&typeof t[0]!="number"&&(l=Ar(rW,rO(t[0],t[1])),t=[0,100]);const d=c({...this.options,keyframes:t});o==="mirror"&&(u=c({...this.options,keyframes:[...t].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=oO(d));const{calculatedDuration:f}=d,h=f+s,m=h*(r+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:h,totalDuration:m}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:M}=this.options;return{done:!0,value:M[M.length-1]}}const{finalKeyframe:s,generator:o,mirroredGenerator:a,mapPercentToKeyframes:c,keyframes:l,calculatedDuration:u,totalDuration:d,resolvedDuration:f}=r;if(this.startTime===null)return o.next(0);const{delay:h,repeat:m,repeatType:g,repeatDelay:v,onUpdate:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const x=this.currentTime-h*(this.speed>=0?1:-1),b=this.speed>=0?x<0:x>d;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let w=this.currentTime,C=o;if(m){const M=Math.min(this.currentTime,d)/f;let I=Math.floor(M),A=M%1;!A&&M>=1&&(A=1),A===1&&I--,I=Math.min(I,m+1),!!(I%2)&&(g==="reverse"?(A=1-A,v&&(A-=v/f)):g==="mirror"&&(C=a)),w=lo(0,1,A)*f}const T=b?{done:!1,value:l[0]}:C.next(w);c&&(T.value=c(T.value));let{done:_}=T;!b&&u!==null&&(_=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&_);return k&&s!==void 0&&(T.value=Kh(l,this.options,s)),y&&y(T.value),k&&this.finish(),T}get duration(){const{resolved:t}=this;return t?hr(t.calculatedDuration):0}get time(){return hr(this.currentTime)}set time(t){t=fr(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=hr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=tW,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}function sW(e){return new Qh(e)}const aO=new Set(["opacity","clipPath","filter","transform"]),iO=e=>Array.isArray(e)&&typeof e[0]=="number";function cO(e){return!!(!e||typeof e=="string"&&e in Wx||iO(e)||Array.isArray(e)&&e.every(cO))}const Fi=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Wx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Fi([0,.65,.55,1]),circOut:Fi([.55,0,1,.45]),backIn:Fi([.31,.01,.66,-.59]),backOut:Fi([.33,1.53,.69,.99])};function oW(e){return lO(e)||Wx.easeOut}function lO(e){if(e)return iO(e)?Fi(e):Array.isArray(e)?e.map(oW):Wx[e]}function aW(e,t,n,{delay:r=0,duration:s=300,repeat:o=0,repeatType:a="loop",ease:c,times:l}={}){const u={[t]:n};l&&(u.offset=l);const d=lO(c);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"})}const iW=z2(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Bd=10,cW=2e4;function lW(e){return e.type==="spring"||!cO(e.ease)}function uW(e,t){const n=new Qh({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const s=[];let o=0;for(;!r.done&&o<cW;)r=n.sample(o),s.push(r.value),o+=Bd;return{times:void 0,keyframes:s,duration:o-Bd,ease:"linear"}}class PC extends q2{constructor(t){super(t);const{name:n,motionValue:r,element:s,keyframes:o}=this.options;this.resolver=new H2(o,(a,c)=>this.onKeyframesResolved(a,c),n,r,s),this.resolver.scheduleResolve()}initPlayback(t,n){var r;let{duration:s=300,times:o,ease:a,type:c,motionValue:l,name:u,startTime:d}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(lW(this.options)){const{onComplete:h,onUpdate:m,motionValue:g,element:v,...y}=this.options,x=uW(t,y);t=x.keyframes,t.length===1&&(t[1]=t[0]),s=x.duration,o=x.times,a=x.ease,c="keyframes"}const f=aW(l.owner.current,u,t,{...this.options,duration:s,times:o,ease:a});return f.startTime=d??this.calcStartTime(),this.pendingTimeline?(f.timeline=this.pendingTimeline,this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:h}=this.options;l.set(Kh(t,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:s,times:o,type:c,ease:a,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return hr(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return hr(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=fr(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Jt;const{animation:r}=n;r.timeline=t,r.onfinish=null}return Jt}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:s,type:o,ease:a,times:c}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:f,element:h,...m}=this.options,g=new Qh({...m,keyframes:r,duration:s,type:o,ease:a,times:c,isGenerator:!0}),v=fr(this.time);u.setWithVelocity(g.sample(v-Bd).value,g.sample(v).value,Bd)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:s,repeatType:o,damping:a,type:c}=t;return iW()&&r&&aO.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!s&&o!=="mirror"&&a!==0&&c!=="inertia"}}function dW(e,t){let n;const r=()=>{const{currentTime:s}=t,a=(s===null?0:s.value)/100;n!==a&&e(a),n=a};return Ne.update(r,!0),()=>jr(r)}const fW=z2(()=>window.ScrollTimeline!==void 0);class Hx{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,n){return Promise.all(this.animations).then(t).catch(n)}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t){const n=this.animations.map(r=>{if(fW()&&r.attachTimeline)r.attachTimeline(t);else return r.pause(),dW(s=>{r.time=r.duration*s},t)});return()=>{n.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const zx=(e,t,n,r={},s,o,a)=>c=>{const l=E2(r,e)||{},u=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-fr(u);let f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:m=>{t.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{c(),l.onComplete&&l.onComplete(),a&&a()},onStop:a,name:e,motionValue:t,element:o?void 0:s};LV(l)||(f={...f,...DV(e,f)}),f.duration&&(f.duration=fr(f.duration)),f.repeatDelay&&(f.repeatDelay=fr(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let h=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(h=!0)),h&&!o&&t.get()!==void 0){const m=Kh(f.keyframes,l);if(m!==void 0)return Ne.update(()=>{f.onUpdate(m),f.onComplete()}),new Hx([])}return!o&&PC.supports(f)?new PC(f):new Qh(f)},hW=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),pW=e=>Tv(e)?e[e.length-1]||0:e;function Xh(e,t){e.indexOf(t)===-1&&e.push(t)}function qc(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class uO{constructor(){this.subscriptions=[]}add(t){return Xh(this.subscriptions,t),()=>qc(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let o=0;o<s;o++){const a=this.subscriptions[o];a&&a(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const $C=30,mW=e=>!isNaN(parseFloat(e)),Xi={current:void 0};class dO{constructor(t,n={}){this.version="12.0.0-alpha.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const o=ps.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=ps.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=mW(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new uO);const r=this.events[t].add(n);return t==="change"?()=>{r(),Ne.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Xi.current&&Xi.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=ps.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>$C)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,$C);return Dx(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function dr(e,t){return new dO(e,t)}function gW(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,dr(n))}function vW(e,t){const n=Yh(e,t);let{transitionEnd:r={},transition:s={},...o}=n||{};o={...o,...r};for(const a in o){const c=pW(o[a]);gW(e,a,c)}}const Zh=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),yW="framerAppearId",fO="data-"+Zh(yW);function bW(e){return e.props[fO]}function hO(e){if(Ts.has(e))return"transform";if(aO.has(e))return Zh(e)}class xW extends dO{constructor(){super(...arguments),this.output=[],this.counts=new Map}add(t){const n=hO(t);if(!n)return;const r=this.counts.get(n)||0;this.counts.set(n,r+1),r===0&&(this.output.push(n),this.update());let s=!1;return()=>{if(s)return;s=!0;const o=this.counts.get(n)-1;this.counts.set(n,o),o===0&&(qc(this.output,n),this.update())}}update(){this.set(this.output.length?this.output.join(", "):"auto")}}const _t=e=>!!(e&&e.getVelocity);function wW(e){return!!(_t(e)&&e.add)}function jv(e,t){var n;if(!e.applyWillChange)return;let r=e.getValue("willChange");if(!r&&!(!((n=e.props.style)===null||n===void 0)&&n.willChange)&&(r=new xW("auto"),e.addValue("willChange",r)),wW(r))return r.add(t)}function SW({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function qx(e,t,{delay:n=0,transitionOverride:r,type:s}={}){var o;let{transition:a=e.getDefaultTransition(),transitionEnd:c,...l}=t;r&&(a=r);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const f in l){const h=e.getValue(f,(o=e.latestValues[f])!==null&&o!==void 0?o:null),m=l[f];if(m===void 0||d&&SW(d,f))continue;const g={delay:n,...E2(a||{},f)};let v=!1;if(window.MotionHandoffAnimation){const x=bW(e);if(x){const b=window.MotionHandoffAnimation(x,f,Ne);b!==null&&(g.startTime=b,v=!0)}}h.start(zx(f,h,m,e.shouldReduceMotion&&Ts.has(f)?{type:!1}:g,e,v,jv(e,f)));const y=h.animation;y&&u.push(y)}return c&&Promise.all(u).then(()=>{Ne.update(()=>{c&&vW(e,c)})}),u}function Rv(e,t,n={}){var r;const s=Yh(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const a=s?()=>Promise.all(qx(e,s,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=o;return CW(e,t,d+u,f,h,n)}:()=>Promise.resolve(),{when:l}=o;if(l){const[u,d]=l==="beforeChildren"?[a,c]:[c,a];return u().then(()=>d())}else return Promise.all([a(),c(n.delay)])}function CW(e,t,n=0,r=0,s=1,o){const a=[],c=(e.variantChildren.size-1)*r,l=s===1?(u=0)=>u*r:(u=0)=>c-u*r;return Array.from(e.variantChildren).sort(_W).forEach((u,d)=>{u.notify("AnimationStart",t),a.push(Rv(u,t,{...o,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(a)}function _W(e,t){return e.sortNodePosition(t)}function TW(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(o=>Rv(e,o,n));r=Promise.all(s)}else if(typeof t=="string")r=Rv(e,t,n);else{const s=typeof t=="function"?Yh(e,t,n.custom):t;r=Promise.all(qx(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const kW=[...Px].reverse(),MW=Px.length;function EW(e){return t=>Promise.all(t.map(({animation:n,options:r})=>TW(e,n,r)))}function PW(e){let t=EW(e),n=AC(),r=!0;const s=l=>(u,d)=>{var f;const h=Yh(e,d,l==="exit"?(f=e.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:g,...v}=h;u={...u,...v,...g}}return u};function o(l){t=l(e)}function a(l){const u=e.getProps(),d=e.getVariantContext(!0)||{},f=[],h=new Set;let m={},g=1/0;for(let y=0;y<MW;y++){const x=kW[y],b=n[x],w=u[x]!==void 0?u[x]:d[x],C=uc(w),T=x===l?b.isActive:null;T===!1&&(g=y);let _=w===d[x]&&w!==u[x]&&C;if(_&&r&&e.manuallyAnimateOnMount&&(_=!1),b.protectedKeys={...m},!b.isActive&&T===null||!w&&!b.prevProp||lc(w)||typeof w=="boolean")continue;let M=$W(b.prevProp,w)||x===l&&b.isActive&&!_&&C||y>g&&C,I=!1;const A=Array.isArray(w)?w:[w];let H=A.reduce(s(x),{});T===!1&&(H={});const{prevResolvedValues:q={}}=b,F={...q,...H},N=R=>{M=!0,h.has(R)&&(I=!0,h.delete(R)),b.needsAnimating[R]=!0;const B=e.getValue(R);B&&(B.liveStyle=!1)};for(const R in F){const B=H[R],Y=q[R];if(m.hasOwnProperty(R))continue;let j=!1;Tv(B)&&Tv(Y)?j=!M2(B,Y):j=B!==Y,j?B!=null?N(R):h.add(R):B!==void 0&&h.has(R)?N(R):b.protectedKeys[R]=!0}b.prevProp=w,b.prevResolvedValues=H,b.isActive&&(m={...m,...H}),r&&e.blockInitialAnimation&&(M=!1),M&&(!_||I)&&f.push(...A.map(R=>({animation:R,options:{type:x}})))}if(h.size){const y={};h.forEach(x=>{const b=e.getBaseTarget(x),w=e.getValue(x);w&&(w.liveStyle=!0),y[x]=b??null}),f.push({animation:y})}let v=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(v=!1),r=!1,v?t(f):Promise.resolve()}function c(l,u){var d;if(n[l].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(h=>{var m;return(m=h.animationState)===null||m===void 0?void 0:m.setActive(l,u)}),n[l].isActive=u;const f=a(l);for(const h in n)n[h].protectedKeys={};return f}return{animateChanges:a,setActive:c,setAnimateFunction:o,getState:()=>n,reset:()=>{n=AC(),r=!0}}}function $W(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!M2(t,e):!1}function js(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function AC(){return{animate:js(!0),whileInView:js(),whileHover:js(),whileTap:js(),whileDrag:js(),whileFocus:js(),exit:js()}}class ks{constructor(t){this.isMounted=!1,this.node=t}update(){}}class AW extends ks{constructor(t){super(t),t.animationState||(t.animationState=PW(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();lc(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let OW=0;class NW extends ks{constructor(){super(...arguments),this.id=OW++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const ult={animation:{Feature:AW},exit:{Feature:NW}},pO=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Jh(e,t="page"){return{point:{x:e[`${t}X`],y:e[`${t}Y`]}}}const IW=e=>t=>pO(t)&&e(t,Jh(t));function is(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Or(e,t,n,r){return is(e,t,IW(n),r)}const OC=(e,t)=>Math.abs(e-t);function jW(e,t){const n=OC(e.x,t.x),r=OC(e.y,t.y);return Math.sqrt(n**2+r**2)}class mO{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Sm(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=jW(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:g}=f,{timestamp:v}=ys;this.history.push({...g,timestamp:v});const{onStart:y,onMove:x}=this.handlers;h||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=wm(h,this.transformPagePoint),Ne.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:g,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Sm(f.type==="pointercancel"?this.lastMoveEventInfo:wm(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,y),g&&g(f,y)},!pO(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const a=Jh(t),c=wm(a,this.transformPagePoint),{point:l}=c,{timestamp:u}=ys;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,Sm(c,this.history)),this.removeListeners=Ar(Or(this.contextWindow,"pointermove",this.handlePointerMove),Or(this.contextWindow,"pointerup",this.handlePointerUp),Or(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),jr(this.updatePoint)}}function wm(e,t){return t?{point:t(e.point)}:e}function NC(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Sm({point:e},t){return{point:e,delta:NC(e,gO(t)),offset:NC(e,RW(t)),velocity:DW(t,.1)}}function RW(e){return e[0]}function gO(e){return e[e.length-1]}function DW(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=gO(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>fr(t)));)n--;if(!r)return{x:0,y:0};const o=hr(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const a={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function vO(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const IC=vO("dragHorizontal"),jC=vO("dragVertical");function yO(e){let t=!1;if(e==="y")t=jC();else if(e==="x")t=IC();else{const n=IC(),r=jC();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function bO(){const e=yO(!0);return e?(e(),!1):!0}function ra(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const xO=1e-4,LW=1-xO,FW=1+xO,wO=.01,BW=0-wO,UW=0+wO;function Rr(e){return e.max-e.min}function dlt(e,t,n){return Math.abs(e-t)<=n}function RC(e,t,n,r=.5){e.origin=r,e.originPoint=St(t.min,t.max,e.origin),e.scale=Rr(n)/Rr(t),e.translate=St(n.min,n.max,e.origin)-e.originPoint,(e.scale>=LW&&e.scale<=FW||isNaN(e.scale))&&(e.scale=1),(e.translate>=BW&&e.translate<=UW||isNaN(e.translate))&&(e.translate=0)}function flt(e,t,n,r){RC(e.x,t.x,n.x,r?r.originX:void 0),RC(e.y,t.y,n.y,r?r.originY:void 0)}function DC(e,t,n){e.min=n.min+t.min,e.max=e.min+Rr(t)}function hlt(e,t,n){DC(e.x,t.x,n.x),DC(e.y,t.y,n.y)}function LC(e,t,n){e.min=t.min-n.min,e.max=e.min+Rr(t)}function plt(e,t,n){LC(e.x,t.x,n.x),LC(e.y,t.y,n.y)}function VW(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?St(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?St(n,e,r.max):Math.min(e,n)),e}function FC(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function GW(e,{top:t,left:n,bottom:r,right:s}){return{x:FC(e.x,n,s),y:FC(e.y,t,r)}}function BC(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function WW(e,t){return{x:BC(e.x,t.x),y:BC(e.y,t.y)}}function HW(e,t){let n=.5;const r=Rr(e),s=Rr(t);return s>r?n=uo(t.min,t.max-r,e.min):r>s&&(n=uo(e.min,e.max-s,t.min)),lo(0,1,n)}function zW(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Dv=.35;function qW(e=Dv){return e===!1?e=0:e===!0&&(e=Dv),{x:UC(e,"left","right"),y:UC(e,"top","bottom")}}function UC(e,t,n){return{min:VC(e,t),max:VC(e,n)}}function VC(e,t){return typeof e=="number"?e:e[t]||0}const GC=()=>({translate:0,scale:1,origin:0,originPoint:0}),mlt=()=>({x:GC(),y:GC()}),WC=()=>({min:0,max:0}),Yx=()=>({x:WC(),y:WC()});function Zn(e){return[e("x"),e("y")]}function SO({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function YW({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function KW(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Cm(e){return e===void 0||e===1}function QW({scale:e,scaleX:t,scaleY:n}){return!Cm(e)||!Cm(t)||!Cm(n)}function XW(e){return QW(e)||ZW(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function ZW(e){return HC(e.x)||HC(e.y)}function HC(e){return e&&e!=="0%"}function Ud(e,t,n){const r=e-n,s=t*r;return n+s}function zC(e,t,n,r,s){return s!==void 0&&(e=Ud(e,s,r)),Ud(e,n,r)+t}function Lv(e,t=0,n=1,r,s){e.min=zC(e.min,t,n,r,s),e.max=zC(e.max,t,n,r,s)}function JW(e,{x:t,y:n}){Lv(e.x,t.translate,t.scale,t.originPoint),Lv(e.y,n.translate,n.scale,n.originPoint)}const qC=.999999999999,YC=1.0000000000001;function glt(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let o,a;for(let c=0;c<s;c++){o=n[c],a=o.projectionDelta;const{visualElement:l}=o.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&XC(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,JW(e,a)),r&&XW(o.latestValues)&&XC(e,o.latestValues))}t.x<YC&&t.x>qC&&(t.x=1),t.y<YC&&t.y>qC&&(t.y=1)}function KC(e,t){e.min=e.min+t,e.max=e.max+t}function QC(e,t,n,r,s=.5){const o=St(e.min,e.max,s);Lv(e,t,n,o,r)}function XC(e,t){QC(e.x,t.x,t.scaleX,t.scale,t.originX),QC(e.y,t.y,t.scaleY,t.scale,t.originY)}function CO(e,t){return SO(KW(e.getBoundingClientRect(),t))}function eH(e,t,n){const r=CO(e,n),{scroll:s}=t;return s&&(KC(r.x,s.offset.x),KC(r.y,s.offset.y)),r}const _O=({current:e})=>e?e.ownerDocument.defaultView:null,tH=new WeakMap;class nH{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Yx(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Jh(d,"page").point)},o=(d,f)=>{var h;const{drag:m,dragPropagation:g,onDragStart:v}=this.getProps();if(m&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=yO(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Zn(x=>{let b=this.getAxisMotionValue(x).get()||0;if(pr.test(b)){const{projection:w}=this.visualElement;if(w&&w.layout){const C=w.layout.layoutBox[x];C&&(b=Rr(C)*(parseFloat(b)/100))}}this.originPoint[x]=b}),v&&Ne.postRender(()=>v(d,f)),(h=this.removeWillChange)===null||h===void 0||h.call(this),this.removeWillChange=jv(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(d,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:g,onDrag:v}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:y}=f;if(m&&this.currentDirection===null){this.currentDirection=rH(y),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),v&&v(d,f)},c=(d,f)=>this.stop(d,f),l=()=>Zn(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new mO(t,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:c,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:_O(this.visualElement)})}stop(t,n){var r;(r=this.removeWillChange)===null||r===void 0||r.call(this);const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Ne.postRender(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!Bl(t,s,this.currentDirection))return;const o=this.getAxisMotionValue(t);let a=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(a=VW(a,this.constraints[t],this.elastic[t])),o.set(a)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;n&&ra(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=GW(s.layoutBox,n):this.constraints=!1,this.elastic=qW(r),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Zn(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=zW(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ra(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=eH(r,s.root,this.visualElement.getTransformPagePoint());let a=WW(s.layout.layoutBox,o);if(n){const c=n(YW(a));this.hasMutatedConstraints=!!c,c&&(a=SO(c))}return a}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:c}=this.getProps(),l=this.constraints||{},u=Zn(d=>{if(!Bl(d,n,this.currentDirection))return;let f=l&&l[d]||{};a&&(f={min:0,max:0});const h=s?200:1e6,m=s?40:1e7,g={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(c)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(zx(t,r,0,n,this.visualElement,!1,jv(this.visualElement,t)))}stopAnimation(){Zn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Zn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Zn(n=>{const{drag:r}=this.getProps();if(!Bl(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:c}=s.layout.layoutBox[n];o.set(t[n]-St(a,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ra(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Zn(a=>{const c=this.getAxisMotionValue(a);if(c&&this.constraints!==!1){const l=c.get();s[a]=HW({min:l,max:l},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Zn(a=>{if(!Bl(a,t,null))return;const c=this.getAxisMotionValue(a),{min:l,max:u}=this.constraints[a];c.set(St(l,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;tH.set(this.visualElement,this);const t=this.visualElement.current,n=Or(t,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();ra(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ne.read(r);const a=is(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Zn(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{a(),n(),o(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:a=Dv,dragMomentum:c=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:a,dragMomentum:c}}}function Bl(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function rH(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class vlt extends ks{constructor(t){super(t),this.removeGroupControls=Jt,this.removeListeners=Jt,this.controls=new nH(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Jt}unmount(){this.removeGroupControls(),this.removeListeners()}}const ZC=e=>(t,n)=>{e&&Ne.postRender(()=>e(t,n))};class ylt extends ks{constructor(){super(...arguments),this.removePointerDownListener=Jt}onPointerDown(t){this.session=new mO(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_O(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:ZC(t),onStart:ZC(n),onMove:r,onEnd:(o,a)=>{delete this.session,s&&Ne.postRender(()=>s(o,a))}}}mount(){this.removePointerDownListener=Or(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Yc=p.createContext(null);function sH(){const e=p.useContext(Yc);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=p.useId();p.useEffect(()=>r(s),[]);const o=p.useCallback(()=>n&&n(s),[s,n]);return!t&&n?[!1,o]:[!0]}function blt(){return oH(p.useContext(Yc))}function oH(e){return e===null?!0:e.isPresent}const Kx=p.createContext({}),TO=p.createContext({}),aH={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function JC(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ci={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(de.test(e))e=parseFloat(e);else return e;const n=JC(e,t.target.x),r=JC(e,t.target.y);return`${n}% ${r}%`}},iH={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=bs.parse(e);if(s.length>5)return r;const o=bs.createTransformer(e),a=typeof s[0]!="number"?1:0,c=n.x.scale*t.x,l=n.y.scale*t.y;s[0+a]/=c,s[1+a]/=l;const u=St(c,l,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),o(s)}},kO={};function cH(e){Object.assign(kO,e)}const{schedule:MO,cancel:xlt}=P2(queueMicrotask,!1);class lH extends p.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=t;cH(uH),o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),aH.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,a=r.projection;return a&&(a.isPresent=o,s||t.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?a.promote():a.relegate()||Ne.postRender(()=>{const c=a.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),MO.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function wlt(e){const[t,n]=sH(),r=p.useContext(Kx);return i.jsx(lH,{...e,layoutGroup:r,switchLayoutGroup:p.useContext(TO),isPresent:t,safeToRemove:n})}const uH={borderRadius:{...Ci,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ci,borderTopRightRadius:Ci,borderBottomLeftRadius:Ci,borderBottomRightRadius:Ci,boxShadow:iH},EO=["TopLeft","TopRight","BottomLeft","BottomRight"],dH=EO.length,e_=e=>typeof e=="string"?parseFloat(e):e,t_=e=>typeof e=="number"||de.test(e);function Slt(e,t,n,r,s,o){s?(e.opacity=St(0,n.opacity!==void 0?n.opacity:1,fH(r)),e.opacityExit=St(t.opacity!==void 0?t.opacity:1,0,hH(r))):o&&(e.opacity=St(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<dH;a++){const c=`border${EO[a]}Radius`;let l=n_(t,c),u=n_(n,c);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||t_(l)===t_(u)?(e[c]=Math.max(St(e_(l),e_(u),r),0),(pr.test(u)||pr.test(l))&&(e[c]+="%")):e[c]=u}(t.rotate||n.rotate)&&(e.rotate=St(t.rotate||0,n.rotate||0,r))}function n_(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const fH=PO(0,.5,eO),hH=PO(.5,.95,Jt);function PO(e,t,n){return r=>r<e?0:r>t?1:n(uo(e,t,r))}function r_(e,t){e.min=t.min,e.max=t.max}function Clt(e,t){r_(e.x,t.x),r_(e.y,t.y)}function _lt(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function s_(e,t,n,r,s){return e-=t,e=Ud(e,1/n,r),s!==void 0&&(e=Ud(e,1/s,r)),e}function pH(e,t=0,n=1,r=.5,s,o=e,a=e){if(pr.test(t)&&(t=parseFloat(t),t=St(a.min,a.max,t/100)-a.min),typeof t!="number")return;let c=St(o.min,o.max,r);e===o&&(c-=t),e.min=s_(e.min,t,n,c,s),e.max=s_(e.max,t,n,c,s)}function o_(e,t,[n,r,s],o,a){pH(e,t[n],t[r],t[s],t.scale,o,a)}const mH=["x","scaleX","originX"],gH=["y","scaleY","originY"];function Tlt(e,t,n,r){o_(e.x,t,mH,n?n.x:void 0,r?r.x:void 0),o_(e.y,t,gH,n?n.y:void 0,r?r.y:void 0)}function a_(e){return e.translate===0&&e.scale===1}function klt(e){return a_(e.x)&&a_(e.y)}function i_(e,t){return e.min===t.min&&e.max===t.max}function Mlt(e,t){return i_(e.x,t.x)&&i_(e.y,t.y)}function c_(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Elt(e,t){return c_(e.x,t.x)&&c_(e.y,t.y)}function Plt(e){return Rr(e.x)/Rr(e.y)}function $lt(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Alt{constructor(){this.members=[]}add(t){Xh(this.members,t),t.scheduleRender()}remove(t){if(qc(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Olt(e,t,n){let r="";const s=e.x.translate/t.x,o=e.y.translate/t.y,a=n?.z||0;if((s||o||a)&&(r=`translate3d(${s}px, ${o}px, ${a}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:m,skewY:g}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),m&&(r+=`skewX(${m}deg) `),g&&(r+=`skewY(${g}deg) `)}const c=e.x.scale*t.x,l=e.y.scale*t.y;return(c!==1||l!==1)&&(r+=`scale(${c}, ${l})`),r||"none"}const vH=(e,t)=>e.depth-t.depth;class Nlt{constructor(){this.children=[],this.isDirty=!1}add(t){Xh(this.children,t),this.isDirty=!0}remove(t){qc(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(vH),this.isDirty=!1,this.children.forEach(t)}}function yH(e){const t=_t(e)?e.get():e;return hW(t)?t.toValue():t}function Ilt(e,t){const n=ps.now(),r=({timestamp:s})=>{const o=s-n;o>=t&&(jr(r),e(o-t))};return Ne.read(r,!0),()=>jr(r)}function bH(e){return e instanceof SVGElement&&e.tagName!=="svg"}function $O(e,t,n){const r=_t(e)?e:dr(e);return r.start(zx("",r,t,n)),r.animation}function l_(e,t){const n=t?"pointerenter":"pointerleave",r=t?"onHoverStart":"onHoverEnd",s=(o,a)=>{if(o.pointerType==="touch"||bO())return;const c=e.getProps();e.animationState&&c.whileHover&&e.animationState.setActive("whileHover",t);const l=c[r];l&&Ne.postRender(()=>l(o,a))};return Or(e.current,n,s,{passive:!e.getProps()[r]})}class xH extends ks{mount(){this.unmount=Ar(l_(this.node,!0),l_(this.node,!1))}unmount(){}}class wH extends ks{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ar(is(this.node.current,"focus",()=>this.onFocus()),is(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const AO=(e,t)=>t?e===t?!0:AO(e,t.parentElement):!1;function _m(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Jh(n))}class SH extends ks{constructor(){super(...arguments),this.removeStartListeners=Jt,this.removeEndListeners=Jt,this.removeAccessibleListeners=Jt,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=Or(window,"pointerup",(c,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps(),h=!f&&!AO(this.node.current,c.target)?d:u;h&&Ne.update(()=>h(c,l))},{passive:!(r.onTap||r.onPointerUp)}),a=Or(window,"pointercancel",(c,l)=>this.cancelPress(c,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Ar(o,a),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=o=>{if(o.key!=="Enter"||this.isPressing)return;const a=c=>{c.key!=="Enter"||!this.checkPressEnd()||_m("up",(l,u)=>{const{onTap:d}=this.node.getProps();d&&Ne.postRender(()=>d(l,u))})};this.removeEndListeners(),this.removeEndListeners=is(this.node.current,"keyup",a),_m("down",(c,l)=>{this.startPress(c,l)})},n=is(this.node.current,"keydown",t),r=()=>{this.isPressing&&_m("cancel",(o,a)=>this.cancelPress(o,a))},s=is(this.node.current,"blur",r);this.removeAccessibleListeners=Ar(n,s)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Ne.postRender(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!bO()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Ne.postRender(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Or(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=is(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ar(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Fv=new WeakMap,Tm=new WeakMap,CH=e=>{const t=Fv.get(e.target);t&&t(e)},_H=e=>{e.forEach(CH)};function TH({root:e,...t}){const n=e||document;Tm.has(n)||Tm.set(n,{});const r=Tm.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(_H,{root:e,...t})),r[s]}function kH(e,t,n){const r=TH(t);return Fv.set(e,n),r.observe(e),()=>{Fv.delete(e),r.unobserve(e)}}const MH={some:0,all:1};class EH extends ks{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=t,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:MH[s]},c=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(l)};return kH(this.node.current,a,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(PH(t,n))&&this.startObserver()}unmount(){}}function PH({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const jlt={inView:{Feature:EH},tap:{Feature:SH},focus:{Feature:wH},hover:{Feature:xH}},Kc=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),ep=p.createContext({}),Qx=typeof window<"u",Qc=Qx?p.useLayoutEffect:p.useEffect,OO=p.createContext({strict:!1});let u_=!1;function $H(e,t,n,r,s){var o;const{visualElement:a}=p.useContext(ep),c=p.useContext(OO),l=p.useContext(Yc),u=p.useContext(Kc).reducedMotion,d=p.useRef(void 0);r=r||c.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:a,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const f=d.current,h=p.useContext(TO);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&OH(d.current,n,s,h),p.useInsertionEffect(()=>{f&&f.update(n,l)});const m=n[fO],g=p.useRef(!!m&&!window.MotionHandoffIsComplete&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,m)));return Qc(()=>{f&&(f.updateFeatures(),MO.render(f.render),g.current&&f.animationState&&f.animationState.animateChanges())}),p.useEffect(()=>{f&&(!g.current&&f.animationState&&f.animationState.animateChanges(),g.current=!1,u_||(u_=!0,queueMicrotask(AH)))}),f}function AH(){window.MotionHandoffIsComplete=!0}function OH(e,t,n,r){const{layoutId:s,layout:o,drag:a,dragConstraints:c,layoutScroll:l,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:NO(e.parent)),e.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!a||c&&ra(c),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function NO(e){if(e)return e.options.allowProjection!==!1?e.projection:NO(e.parent)}function NH(e,t,n){return p.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):ra(n)&&(n.current=r))},[t])}function tp(e){return lc(e.animate)||$x.some(t=>uc(e[t]))}function IO(e){return!!(tp(e)||e.variants)}function IH(e,t){if(tp(e)){const{initial:n,animate:r}=e;return{initial:n===!1||uc(n)?n:void 0,animate:uc(r)?r:void 0}}return e.inherit!==!1?t:{}}function jH(e){const{initial:t,animate:n}=IH(e,p.useContext(ep));return p.useMemo(()=>({initial:t,animate:n}),[d_(t),d_(n)])}function d_(e){return Array.isArray(e)?e.join(" "):e}const f_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Pa={};for(const e in f_)Pa[e]={isEnabled:t=>f_[e].some(n=>!!t[n])};function RH(e){for(const t in e)Pa[t]={...Pa[t],...e[t]}}const DH=Symbol.for("motionComponentSymbol");function LH({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){e&&RH(e);function o(c,l){let u;const d={...p.useContext(Kc),...c,layoutId:FH(c)},{isStatic:f}=d,h=jH(c),m=r(c,f);if(!f&&Qx){BH();const g=UH(d);u=g.MeasureLayout,h.visualElement=$H(s,m,d,t,g.ProjectionNode)}return i.jsxs(ep.Provider,{value:h,children:[u&&h.visualElement?i.jsx(u,{visualElement:h.visualElement,...d}):null,n(s,c,NH(m,h.visualElement,l),m,f,h.visualElement)]})}const a=p.forwardRef(o);return a[DH]=s,a}function FH({layoutId:e}){const t=p.useContext(Kx).id;return t&&e!==void 0?t+"-"+e:e}function BH(e,t){p.useContext(OO).strict}function UH(e){const{drag:t,layout:n}=Pa;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const VH=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Xx(e){return typeof e!="string"||e.includes("-")?!1:!!(VH.indexOf(e)>-1||/[A-Z]/u.test(e))}function jO(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const o in n)e.style.setProperty(o,n[o])}const RO=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function DO(e,t,n,r){jO(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(RO.has(s)?s:Zh(s),t.attrs[s])}function LO(e,{layout:t,layoutId:n}){return Ts.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!kO[e]||e==="opacity")}function Zx(e,t,n){var r;const{style:s}=e,o={};for(const a in s)(_t(s[a])||t.style&&_t(t.style[a])||LO(a,e)||((r=n?.getValue(a))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[a]=s[a]);return n&&s&&typeof s.willChange=="string"&&(n.applyWillChange=!1),o}function FO(e,t,n){const r=Zx(e,t,n);for(const s in e)if(_t(e[s])||_t(t[s])){const o=Gc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[o]=e[s]}return r}function Ja(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}function GH({applyWillChange:e=!1,scrapeMotionValuesFromProps:t,createRenderState:n,onMount:r},s,o,a,c){const l={latestValues:HH(s,o,a,c?!1:e,t),renderState:n()};return r&&(l.mount=u=>r(s,u,l)),l}const BO=e=>(t,n)=>{const r=p.useContext(ep),s=p.useContext(Yc),o=()=>GH(e,t,r,s,n);return n?o():Ja(o)};function WH(e,t){const n=hO(t);n&&Xh(e,n)}function h_(e,t,n){const r=Array.isArray(t)?t:[t];for(let s=0;s<r.length;s++){const o=Ex(e,r[s]);if(o){const{transitionEnd:a,transition:c,...l}=o;n(l,a)}}}function HH(e,t,n,r,s){var o;const a={},c=[],l=r&&((o=e.style)===null||o===void 0?void 0:o.willChange)===void 0,u=s(e,{});for(const y in u)a[y]=yH(u[y]);let{initial:d,animate:f}=e;const h=tp(e),m=IO(e);t&&m&&!h&&e.inherit!==!1&&(d===void 0&&(d=t.initial),f===void 0&&(f=t.animate));let g=n?n.initial===!1:!1;g=g||d===!1;const v=g?f:d;return v&&typeof v!="boolean"&&!lc(v)&&h_(e,v,(y,x)=>{for(const b in y){let w=y[b];if(Array.isArray(w)){const C=g?w.length-1:0;w=w[C]}w!==null&&(a[b]=w)}for(const b in x)a[b]=x[b]}),l&&(f&&d!==!1&&!lc(f)&&h_(e,f,y=>{for(const x in y)WH(c,x)}),c.length&&(a.willChange=c.join(","))),a}const Jx=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),UO=()=>({...Jx(),attrs:{}}),VO=(e,t)=>t&&typeof e=="number"?t.transform(e):e,zH={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},qH=Gc.length;function YH(e,t,n){let r="",s=!0;for(let o=0;o<qH;o++){const a=Gc[o],c=e[a];if(c===void 0)continue;let l=!0;if(typeof c=="number"?l=c===(a.startsWith("scale")?1:0):l=parseFloat(c)===0,!l||n){const u=VO(c,jx[a]);if(!l){s=!1;const d=zH[a]||a;r+=`${d}(${u}) `}n&&(t[a]=u)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function ew(e,t,n){const{style:r,vars:s,transformOrigin:o}=e;let a=!1,c=!1;for(const l in t){const u=t[l];if(Ts.has(l)){a=!0;continue}else if(N2(l)){s[l]=u;continue}else{const d=VO(u,jx[l]);l.startsWith("origin")?(c=!0,o[l]=d):r[l]=d}}if(t.transform||(a||n?r.transform=YH(t,e.transform,n):r.transform&&(r.transform="none")),c){const{originX:l="50%",originY:u="50%",originZ:d=0}=o;r.transformOrigin=`${l} ${u} ${d}`}}function p_(e,t,n){return typeof e=="string"?e:de.transform(t+n*e)}function KH(e,t,n){const r=p_(t,e.x,e.width),s=p_(n,e.y,e.height);return`${r} ${s}`}const QH={offset:"stroke-dashoffset",array:"stroke-dasharray"},XH={offset:"strokeDashoffset",array:"strokeDasharray"};function ZH(e,t,n=1,r=0,s=!0){e.pathLength=1;const o=s?QH:XH;e[o.offset]=de.transform(-r);const a=de.transform(t),c=de.transform(n);e[o.array]=`${a} ${c}`}function tw(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:o,pathLength:a,pathSpacing:c=1,pathOffset:l=0,...u},d,f){if(ew(e,u,f),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:m,dimensions:g}=e;h.transform&&(g&&(m.transform=h.transform),delete h.transform),g&&(s!==void 0||o!==void 0||m.transform)&&(m.transformOrigin=KH(g,s!==void 0?s:.5,o!==void 0?o:.5)),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),a!==void 0&&ZH(h,a,c,l,!1)}const nw=e=>typeof e=="string"&&e.toLowerCase()==="svg",JH={useVisualState:BO({scrapeMotionValuesFromProps:FO,createRenderState:UO,onMount:(e,t,{renderState:n,latestValues:r})=>{Ne.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Ne.render(()=>{tw(n,r,nw(t.tagName),e.transformTemplate),DO(t,n)})}})},ez={useVisualState:BO({applyWillChange:!0,scrapeMotionValuesFromProps:Zx,createRenderState:Jx})};function GO(e,t,n){for(const r in t)!_t(t[r])&&!LO(r,n)&&(e[r]=t[r])}function tz({transformTemplate:e},t){return p.useMemo(()=>{const n=Jx();return ew(n,t,e),Object.assign({},n.vars,n.style)},[t])}function nz(e,t){const n=e.style||{},r={};return GO(r,n,e),Object.assign(r,tz(e,t)),r}function rz(e,t){const n={},r=nz(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const sz=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Vd(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||sz.has(e)}let WO=e=>!Vd(e);function oz(e){e&&(WO=t=>t.startsWith("on")?!Vd(t):e(t))}try{oz(require("@emotion/is-prop-valid").default)}catch{}function az(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(WO(s)||n===!0&&Vd(s)||!t&&!Vd(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function iz(e,t,n,r){const s=p.useMemo(()=>{const o=UO();return tw(o,t,nw(r),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};GO(o,e.style,e),s.style={...o,...s.style}}return s}function cz(e=!1){return(n,r,s,{latestValues:o},a)=>{const l=(Xx(n)?iz:rz)(r,o,a,n),u=az(r,typeof n=="string",e),d=n!==p.Fragment?{...u,...l,ref:s}:{},{children:f}=r,h=p.useMemo(()=>_t(f)?f.get():f,[f]);return p.createElement(n,{...d,children:h})}}function Rlt(e,t){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const a={...Xx(r)?JH:ez,preloadedFeatures:e,useRender:cz(s),createVisualElement:t,Component:r};return LH(a)}}const Gd={current:null},rw={current:!1};function HO(){if(rw.current=!0,!!Qx)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Gd.current=e.matches;e.addListener(t),t()}else Gd.current=!1}function lz(e,t,n){for(const r in t){const s=t[r],o=n[r];if(_t(s))e.addValue(r,s);else if(_t(o))e.addValue(r,dr(s,{owner:e}));else if(o!==s)if(e.hasValue(r)){const a=e.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=e.getStaticValue(r);e.addValue(r,dr(a!==void 0?a:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const fc=new WeakMap,uz=[...R2,Qt,bs],dz=e=>uz.find(j2(e)),m_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],fz=$x.length;class hz{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:o,visualState:a},c={}){this.applyWillChange=!1,this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Nx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.isRenderScheduled=!1,this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.isRenderScheduled=!1,this.scheduleRender=()=>{this.isRenderScheduled||(this.isRenderScheduled=!0,Ne.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=tp(n),this.isVariantNode=IO(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in f){const m=f[h];l[h]!==void 0&&_t(m)&&m.set(l[h],!1)}}mount(t){this.current=t,fc.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),rw.current||HO(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Gd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){fc.delete(this.current),this.projection&&this.projection.unmount(),jr(this.notifyUpdate),jr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Ts.has(t),s=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&Ne.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),o(),a&&a(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Pa){const n=Pa[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Yx()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<m_.length;r++){const s=m_[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,a=t[o];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=lz(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<fz;r++){const s=$x[r],o=this.props[s];(uc(o)||o===!1)&&(n[s]=o)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=dr(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(A2(s)||$2(s))?s=parseFloat(s):!dz(s)&&bs.test(n)&&(s=W2(t,n)),this.setBaseTarget(t,_t(s)?s.get():s)),_t(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const a=Ex(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);a&&(s=a[t])}if(r&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!_t(o)?o:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new uO),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class zO extends hz{constructor(){super(...arguments),this.KeyframeResolver=H2}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}}function pz(e){return window.getComputedStyle(e)}class qO extends zO{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=jO}readValueFromInstance(t,n){if(Ts.has(n)){const r=Rx(n);return r&&r.default||0}else{const r=pz(t),s=(N2(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return CO(t,n)}build(t,n,r){ew(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Zx(t,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;_t(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class YO extends zO{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Yx}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ts.has(n)){const r=Rx(n);return r&&r.default||0}return n=RO.has(n)?n:Zh(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return FO(t,n,r)}build(t,n,r){tw(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,s){DO(t,n,r,s)}mount(t){this.isSVGTag=nw(t.tagName),super.mount(t)}}const Dlt=(e,t)=>Xx(e)?new YO(t):new qO(t,{allowProjection:e!==p.Fragment});class mz extends p.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function gz({children:e,isPresent:t}){const n=p.useId(),r=p.useRef(null),s=p.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=p.useContext(Kc);return p.useInsertionEffect(()=>{const{width:a,height:c,top:l,left:u}=s.current;if(t||!r.current||!a||!c)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return o&&(d.nonce=o),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${c}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),i.jsx(mz,{isPresent:t,childRef:r,sizeRef:s,children:p.cloneElement(e,{ref:r})})}const vz=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:a})=>{const c=Ja(yz),l=p.useId(),u=p.useMemo(()=>({id:l,initial:t,isPresent:n,custom:s,onExitComplete:d=>{c.set(d,!0);for(const f of c.values())if(!f)return;r&&r()},register:d=>(c.set(d,!1),()=>c.delete(d))}),o?[Math.random()]:[n]);return p.useMemo(()=>{c.forEach((d,f)=>c.set(f,!1))},[n]),p.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),a==="popLayout"&&(e=i.jsx(gz,{isPresent:n,children:e})),i.jsx(Yc.Provider,{value:u,children:e})};function yz(){return new Map}const Ul=e=>e.key||"";function g_(e){const t=[];return p.Children.forEach(e,n=>{p.isValidElement(n)&&t.push(n)}),t}const Llt=({children:e,exitBeforeEnter:t,custom:n,initial:r=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:a="sync"})=>{const c=p.useMemo(()=>g_(e),[e]),l=c.map(Ul),u=p.useRef(!0),d=p.useRef(c),f=Ja(()=>new Map),[h,m]=p.useState(c),[g,v]=p.useState(c);Qc(()=>{u.current=!1,d.current=c;for(let b=0;b<g.length;b++){const w=Ul(g[b]);l.includes(w)?f.delete(w):f.get(w)!==!0&&f.set(w,!1)}},[g,l.length,l.join("-")]);const y=[];if(c!==h){let b=[...c];for(let w=0;w<g.length;w++){const C=g[w],T=Ul(C);l.includes(T)||(b.splice(w,0,C),y.push(C))}a==="wait"&&y.length&&(b=y),v(g_(b)),m(c);return}const{forceRender:x}=p.useContext(Kx);return i.jsx(i.Fragment,{children:g.map(b=>{const w=Ul(b),C=c===g||l.includes(w),T=()=>{if(f.has(w))f.set(w,!0);else return;let _=!0;f.forEach(k=>{k||(_=!1)}),_&&(x?.(),v(d.current),s&&s())};return i.jsx(vz,{isPresent:C,initial:!u.current||r?void 0:!1,custom:C?void 0:n,presenceAffectsLayout:o,mode:a,onExitComplete:C?void 0:T,children:b},w)})})};function KO(e){const t=Ja(()=>dr(e)),{isStatic:n}=p.useContext(Kc);if(n){const[,r]=p.useState(e);p.useEffect(()=>t.on("change",r),[])}return t}function QO(e,t){const n=KO(t()),r=()=>n.set(t());return r(),Qc(()=>{const s=()=>Ne.preRender(r,!1,!0),o=e.map(a=>a.on("change",s));return()=>{o.forEach(a=>a()),jr(r)}}),n}const bz=e=>e&&typeof e=="object"&&e.mix,xz=e=>bz(e)?e.mix:void 0;function wz(...e){const t=!Array.isArray(e[0]),n=t?0:-1,r=e[0+n],s=e[1+n],o=e[2+n],a=e[3+n],c=Vx(s,o,{mixer:xz(o[0]),...a});return t?c(r):c}function Sz(e){Xi.current=[],e();const t=QO(Xi.current,e);return Xi.current=void 0,t}function Flt(e,t,n,r){if(typeof e=="function")return Sz(e);const s=typeof t=="function"?t:wz(t,n,r);return Array.isArray(e)?v_(e,s):v_([e],([o])=>s(o))}function v_(e,t){const n=Ja(()=>[]);return QO(e,()=>{n.length=0;const r=e.length;for(let s=0;s<r;s++)n[s]=e[s].get();return t(n)})}function y_(e){return typeof e=="number"?e:parseFloat(e)}function Blt(e,t={}){const{isStatic:n}=p.useContext(Kc),r=p.useRef(null),s=KO(_t(e)?y_(e.get()):e),o=p.useRef(s.get()),a=p.useRef(()=>{}),c=()=>{const u=r.current;u&&u.time===0&&u.sample(ys.delta),l(),r.current=sW({keyframes:[s.get(),o.current],velocity:s.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...t,onUpdate:a.current})},l=()=>{r.current&&r.current.stop()};return p.useInsertionEffect(()=>s.attach((u,d)=>n?d(u):(o.current=u,a.current=d,Ne.update(c),s.get()),l),[JSON.stringify(t)]),Qc(()=>{if(_t(e))return e.on("change",u=>s.set(y_(u)))},[s]),s}function Ult(e,t,n){p.useInsertionEffect(()=>e.on(t,n),[e,t,n])}function sw(e,t,n){var r;if(typeof e=="string"){let s=document;n?((r=n[e])!==null&&r!==void 0||(n[e]=s.querySelectorAll(e)),e=n[e]):e=s.querySelectorAll(e)}else e instanceof Element&&(e=[e]);return Array.from(e||[])}const $u=new WeakMap;let Xr;function Cz(e,t){if(t){const{inlineSize:n,blockSize:r}=t[0];return{width:n,height:r}}else return e instanceof SVGElement&&"getBBox"in e?e.getBBox():{width:e.offsetWidth,height:e.offsetHeight}}function _z({target:e,contentRect:t,borderBoxSize:n}){var r;(r=$u.get(e))===null||r===void 0||r.forEach(s=>{s({target:e,contentSize:t,get size(){return Cz(e,n)}})})}function Tz(e){e.forEach(_z)}function kz(){typeof ResizeObserver>"u"||(Xr=new ResizeObserver(Tz))}function Mz(e,t){Xr||kz();const n=sw(e);return n.forEach(r=>{let s=$u.get(r);s||(s=new Set,$u.set(r,s)),s.add(t),Xr?.observe(r)}),()=>{n.forEach(r=>{const s=$u.get(r);s?.delete(t),s?.size||Xr?.unobserve(r)})}}const Au=new Set;let Zi;function Ez(){Zi=()=>{const e={width:window.innerWidth,height:window.innerHeight},t={target:window,size:e,contentSize:e};Au.forEach(n=>n(t))},window.addEventListener("resize",Zi)}function Pz(e){return Au.add(e),Zi||Ez(),()=>{Au.delete(e),!Au.size&&Zi&&(Zi=void 0)}}function $z(e,t){return typeof e=="function"?Pz(e):Mz(e,t)}const Az=50,b_=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),Oz=()=>({time:0,x:b_(),y:b_()}),Nz={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function x_(e,t,n,r){const s=n[t],{length:o,position:a}=Nz[t],c=s.current,l=n.time;s.current=e[`scroll${a}`],s.scrollLength=e[`scroll${o}`]-e[`client${o}`],s.offset.length=0,s.offset[0]=0,s.offset[1]=s.scrollLength,s.progress=uo(0,s.scrollLength,s.current);const u=r-l;s.velocity=u>Az?0:Dx(s.current-c,u)}function Iz(e,t,n){x_(e,"x",t,n),x_(e,"y",t,n),t.time=n}function jz(e,t){const n={x:0,y:0};let r=e;for(;r&&r!==t;)if(r instanceof HTMLElement)n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const s=r.getBoundingClientRect();r=r.parentElement;const o=r.getBoundingClientRect();n.x+=s.left-o.left,n.y+=s.top-o.top}else if(r instanceof SVGGraphicsElement){const{x:s,y:o}=r.getBBox();n.x+=s,n.y+=o;let a=null,c=r.parentNode;for(;!a;)c.tagName==="svg"&&(a=c),c=r.parentNode;r=a}else break;return n}const Rz={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},Bv={start:0,center:.5,end:1};function w_(e,t,n=0){let r=0;if(e in Bv&&(e=Bv[e]),typeof e=="string"){const s=parseFloat(e);e.endsWith("px")?r=s:e.endsWith("%")?e=s/100:e.endsWith("vw")?r=s/100*document.documentElement.clientWidth:e.endsWith("vh")?r=s/100*document.documentElement.clientHeight:e=s}return typeof e=="number"&&(r=t*e),n+r}const Dz=[0,0];function Lz(e,t,n,r){let s=Array.isArray(e)?e:Dz,o=0,a=0;return typeof e=="number"?s=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?s=e.split(" "):s=[e,Bv[e]?e:"0"]),o=w_(s[0],n,r),a=w_(s[1],t),o-a}const Fz={x:0,y:0};function Bz(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function Uz(e,t,n){const{offset:r=Rz.All}=n,{target:s=e,axis:o="y"}=n,a=o==="y"?"height":"width",c=s!==e?jz(s,e):Fz,l=s===e?{width:e.scrollWidth,height:e.scrollHeight}:Bz(s),u={width:e.clientWidth,height:e.clientHeight};t[o].offset.length=0;let d=!t[o].interpolate;const f=r.length;for(let h=0;h<f;h++){const m=Lz(r[h],u[a],l[a],c[o]);!d&&m!==t[o].interpolatorOffsets[h]&&(d=!0),t[o].offset[h]=m}d&&(t[o].interpolate=Vx(t[o].offset,Gx(r)),t[o].interpolatorOffsets=[...t[o].offset]),t[o].progress=t[o].interpolate(t[o].current)}function Vz(e,t=e,n){if(n.x.targetOffset=0,n.y.targetOffset=0,t!==e){let r=t;for(;r&&r!==e;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=t===e?t.scrollWidth:t.clientWidth,n.y.targetLength=t===e?t.scrollHeight:t.clientHeight,n.x.containerLength=e.clientWidth,n.y.containerLength=e.clientHeight}function Gz(e,t,n,r={}){return{measure:()=>Vz(e,r.target,n),update:s=>{Iz(e,n,s),(r.offset||r.target)&&Uz(e,n,r)},notify:()=>t(n)}}const _i=new WeakMap,S_=new WeakMap,km=new WeakMap,C_=e=>e===document.documentElement?window:e;function Wz(e,{container:t=document.documentElement,...n}={}){let r=km.get(t);r||(r=new Set,km.set(t,r));const s=Oz(),o=Gz(t,e,s,n);if(r.add(o),!_i.has(t)){const c=()=>{for(const h of r)h.measure()},l=()=>{for(const h of r)h.update(ys.timestamp)},u=()=>{for(const h of r)h.notify()},d=()=>{Ne.read(c,!1,!0),Ne.read(l,!1,!0),Ne.update(u,!1,!0)};_i.set(t,d);const f=C_(t);window.addEventListener("resize",d,{passive:!0}),t!==document.documentElement&&S_.set(t,$z(t,d)),f.addEventListener("scroll",d,{passive:!0})}const a=_i.get(t);return Ne.read(a,!1,!0),()=>{var c;jr(a);const l=km.get(t);if(!l||(l.delete(o),l.size))return;const u=_i.get(t);_i.delete(t),u&&(C_(t).removeEventListener("scroll",u),(c=S_.get(t))===null||c===void 0||c(),window.removeEventListener("resize",u))}}function __(e,t){WV(!!(!t||t.current))}const Hz=()=>({scrollX:dr(0),scrollY:dr(0),scrollXProgress:dr(0),scrollYProgress:dr(0)});function Vlt({container:e,target:t,layoutEffect:n=!0,...r}={}){const s=Ja(Hz);return(n?Qc:p.useEffect)(()=>(__("target",t),__("container",e),Wz(({x:a,y:c})=>{s.scrollX.set(a.current),s.scrollXProgress.set(a.progress),s.scrollY.set(c.current),s.scrollYProgress.set(c.progress)},{...r,container:e?.current||void 0,target:t?.current||void 0})),[e,t,JSON.stringify(r.offset)]),s}function Glt(){!rw.current&&HO();const[e]=p.useState(Gd.current);return e}function zz(e){return typeof e=="object"&&!Array.isArray(e)}function qz(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=bH(e)?new YO(t):new qO(t);n.mount(e),fc.set(e,n)}function Yz(e,t=100){const n=Lx({keyframes:[0,t],...e}),r=Math.min(oO(n),Iv);return{type:"keyframes",ease:s=>n.next(r*s).value/t,duration:hr(r)}}function T_(e,t,n,r){var s;return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?n:(s=r.get(t))!==null&&s!==void 0?s:e}const Kz=(e,t,n)=>{const r=t-e;return((n-e)%r+r)%r+e};function Qz(e,t){return X2(e)?e[Kz(0,e.length,t)]:e}function Xz(e,t,n){for(let r=0;r<e.length;r++){const s=e[r];s.at>t&&s.at<n&&(qc(e,s),r--)}}function Zz(e,t,n,r,s,o){Xz(e,s,o);for(let a=0;a<t.length;a++)e.push({value:t[a],at:St(s,o,r[a]),easing:Qz(n,a)})}function Jz(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const eq="easeInOut";function tq(e,{defaultTransition:t={},...n}={},r){const s=t.duration||.3,o=new Map,a=new Map,c={},l=new Map;let u=0,d=0,f=0;for(let h=0;h<e.length;h++){const m=e[h];if(typeof m=="string"){l.set(m,d);continue}else if(!Array.isArray(m)){l.set(m.name,T_(d,m.at,u,l));continue}let[g,v,y={}]=m;y.at!==void 0&&(d=T_(d,y.at,u,l));let x=0;const b=(w,C,T,_=0,k=0)=>{const M=nq(w),{delay:I=0,times:A=Gx(M),type:H="keyframes",...q}=C;let{ease:F=t.ease||"easeOut",duration:N}=C;const R=typeof I=="function"?I(_,k):I,B=M.length;if(B<=2&&H==="spring"){let V=100;if(B===2&&oq(M)){const ae=M[1]-M[0];V=Math.abs(ae)}const Z={...q};N!==void 0&&(Z.duration=fr(N));const se=Yz(Z,V);F=se.ease,N=se.duration}N??(N=s);const Y=d+R,j=Y+N;A.length===1&&A[0]===0&&(A[1]=1);const D=A.length-M.length;D>0&&sO(A,D),M.length===1&&M.unshift(null),Zz(T,M,F,A,Y,j),x=Math.max(R+N,x),f=Math.max(j,f)};if(_t(g)){const w=k_(g,a);b(v,y,M_("default",w))}else{const w=sw(g,r,c),C=w.length;for(let T=0;T<C;T++){v=v,y=y;const _=w[T],k=k_(_,a);for(const M in v)b(v[M],rq(y,M),M_(M,k),T,C)}}u=d,d+=x}return a.forEach((h,m)=>{for(const g in h){const v=h[g];v.sort(Jz);const y=[],x=[],b=[];for(let C=0;C<v.length;C++){const{at:T,value:_,easing:k}=v[C];y.push(_),x.push(uo(0,f,T)),b.push(k||"easeOut")}x[0]!==0&&(x.unshift(0),y.unshift(y[0]),b.unshift(eq)),x[x.length-1]!==1&&(x.push(1),y.push(null)),o.has(m)||o.set(m,{keyframes:{},transition:{}});const w=o.get(m);w.keyframes[g]=y,w.transition[g]={...t,duration:f,ease:b,times:x,...n}}}),o}function k_(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function M_(e,t){return t[e]||(t[e]=[]),t[e]}function nq(e){return Array.isArray(e)?e:[e]}function rq(e,t){return e[t]?{...e,...e[t]}:{...e}}const sq=e=>typeof e=="number",oq=e=>e.every(sq);function XO(e,t,n,r){const s=sw(e),o=s.length,a=[];for(let c=0;c<o;c++){const l=s[c];fc.has(l)||qz(l);const u=fc.get(l),d={...n};typeof d.delay=="function"&&(d.delay=d.delay(c,o)),a.push(...qx(u,{...t,transition:d},{}))}return new Hx(a)}const aq=e=>Array.isArray(e)&&Array.isArray(e[0]);function iq(e,t,n){const r=[];return tq(e,t,n).forEach(({keyframes:o,transition:a},c)=>{let l;_t(c)?l=$O(c,o.default,a.default):l=XO(c,o,a),r.push(l)}),new Hx(r)}const cq=e=>{function t(n,r,s){let o;return aq(n)?o=iq(n,r,e):zz(r)?o=XO(n,r,s):o=$O(n,r,s),o}return t},Wlt=cq();function lq(e,t){if(e==="first")return 0;{const n=t-1;return e==="last"?n:n/2}}function Hlt(e=.1,{startDelay:t=0,from:n=0,ease:r}={}){return(s,o)=>{const a=typeof n=="number"?n:lq(n,o),c=Math.abs(a-s);let l=e*c;if(r){const u=o*e;l=Ov(r)(l/u)*u}return t+l}}const uq="_leadingBar_9ia9b_1",dq="_leadingBarScrollAnimation_9ia9b_17",fq="_primary_9ia9b_21",Mm={leadingBar:uq,"add-top-shadow":"_add-top-shadow_9ia9b_1",leadingBarScrollAnimation:dq,primary:fq};function hq({disabled:e=!1,track:t}={}){const[n,r]=p.useState(null),s=p.useRef(null),o=p.useRef(null),a=p.useCallback(c=>{if(o.current&&(o.current.disconnect(),o.current=null),s.current=c,e||!c)return;const l=new ResizeObserver(u=>{if(!u.length)return;const d=u[0],{width:f,height:h}=pq(d);p.startTransition(()=>{r(m=>{const g={width:f,height:h};return!m||t==="width"&&m.width!==f||t==="height"&&m.height!==h||m.width!==f||m.height!==h?g:m})})});l.observe(c),o.current=l},[e,t]);return[n,a]}function pq(e){let t,n;if(e.borderBoxSize){const r=Array.isArray(e.borderBoxSize)?e.borderBoxSize[0]:e.borderBoxSize;t=r.inlineSize,n=r.blockSize}else t=e.contentRect.width,n=e.contentRect.height;return{width:t,height:n}}function Ji({disableSizeTracking:e,name:t,track:n}){const[r,s]=hq({disabled:n===void 0||e,track:n});let o={};return t&&!e&&n&&r&&(o={[`--${t}-${n}`]:`${r[n==="width"?"width":"height"]}px`}),[o,s,r]}function Uv(e){const{axis:t="horizontal",children:n,className:r,hidden:s,leading:o,overlay:a,ref:c,style:l,type:u,...d}=e,[f,h]=Ji(d);return i.jsx("div",{"bar-type":u,hidden:s,"data-testid":`bar-${d.name??"default"}`,className:$("grid gap-bar",t==="vertical"&&"flex-col",o&&[Mm.leadingBar,Mm.leadingBarScrollAnimation],a==null&&"sticky",a==null&&r,u==="primary"&&Mm.primary),ref:c??h,style:{...l,...f},children:a==null?n:i.jsx("div",{className:$("absolute flex w-full flex-col justify-center gap-bar",a==="bottom"&&"bottom-[100%] mb-bar-bottom",r),children:n})})}const mq=p.forwardRef(function({icon:t,mobileIcon:n,className:r,surfaceContext:s="primary",...o},a){return i.jsxs("button",{...o,className:$("h-10 rounded-lg px-2 text-token-text-secondary focus-visible:outline-0 disabled:text-token-text-quaternary",s==="primary"?"focus-visible:bg-token-main-surface-secondary enabled:hover:bg-token-main-surface-secondary":"focus-visible:bg-token-sidebar-surface-secondary enabled:hover:bg-token-sidebar-surface-secondary",r),ref:a,children:[i.jsx(t,{className:$("icon-xl-heavy",{"max-md:hidden":n!=null})}),n?i.jsx(n,{className:"icon-xl-heavy md:hidden"}):null]})});function Tn(){const{layer:e}=_n("660512088");return e.get("enable_arch_updates",!1)}function gq(e,t){try{var n=global,r=n.document;if(typeof r<"u"&&r.createElement&&r.head&&r.head.appendChild){var s=r.querySelector('html meta[name="'.concat(encodeURI(e),'"]'))||r.createElement("meta");s.setAttribute("name",e),s.setAttribute("content",t),r.head.appendChild(s)}}catch{}}function zlt(){gq("react-scroll-to-bottom:version","4.2.0")}var Vl=function(e){return e&&e.Math===Math&&e},nn=Vl(typeof globalThis=="object"&&globalThis)||Vl(typeof window=="object"&&window)||Vl(typeof self=="object"&&self)||Vl(typeof Xt=="object"&&Xt)||function(){return this}()||Xt||Function("return this")(),Rt=function(e){try{return!!e()}catch{return!0}},vq=Rt,np=!vq(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),yq=np,ZO=Function.prototype,E_=ZO.apply,P_=ZO.call,ow=typeof Reflect=="object"&&Reflect.apply||(yq?P_.bind(E_):function(){return P_.apply(E_,arguments)}),JO=np,eN=Function.prototype,Vv=eN.call,bq=JO&&eN.bind.bind(Vv,Vv),Mt=JO?bq:function(e){return function(){return Vv.apply(e,arguments)}},tN=Mt,xq=tN({}.toString),wq=tN("".slice),ei=function(e){return wq(xq(e),8,-1)},Sq=ei,Cq=Mt,aw=function(e){if(Sq(e)==="Function")return Cq(e)},Gv=typeof document=="object"&&document.all,_q=typeof Gv>"u"&&Gv!==void 0,nN={all:Gv,IS_HTMLDDA:_q},rN=nN,Tq=rN.all,rn=rN.IS_HTMLDDA?function(e){return typeof e=="function"||e===Tq}:function(e){return typeof e=="function"},Xc={},kq=Rt,kn=!kq(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),Mq=np,Gl=Function.prototype.call,xr=Mq?Gl.bind(Gl):function(){return Gl.apply(Gl,arguments)},iw={},sN={}.propertyIsEnumerable,oN=Object.getOwnPropertyDescriptor,Eq=oN&&!sN.call({1:2},1);iw.f=Eq?function(t){var n=oN(this,t);return!!n&&n.enumerable}:sN;var Zc=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},Pq=Mt,$q=Rt,Aq=ei,Em=Object,Oq=Pq("".split),aN=$q(function(){return!Em("z").propertyIsEnumerable(0)})?function(e){return Aq(e)==="String"?Oq(e,""):Em(e)}:Em,cw=function(e){return e==null},Nq=cw,Iq=TypeError,lw=function(e){if(Nq(e))throw Iq("Can't call method on "+e);return e},jq=aN,Rq=lw,wr=function(e){return jq(Rq(e))},$_=rn,iN=nN,Dq=iN.all,Ur=iN.IS_HTMLDDA?function(e){return typeof e=="object"?e!==null:$_(e)||e===Dq}:function(e){return typeof e=="object"?e!==null:$_(e)},Ht={},Pm=Ht,$m=nn,Lq=rn,A_=function(e){return Lq(e)?e:void 0},Sr=function(e,t){return arguments.length<2?A_(Pm[e])||A_($m[e]):Pm[e]&&Pm[e][t]||$m[e]&&$m[e][t]},Fq=Mt,Ms=Fq({}.isPrototypeOf),cN=typeof navigator<"u"&&String(navigator.userAgent)||"",lN=nn,Am=cN,O_=lN.process,N_=lN.Deno,I_=O_&&O_.versions||N_&&N_.version,j_=I_&&I_.v8,Bn,Wd;j_&&(Bn=j_.split("."),Wd=Bn[0]>0&&Bn[0]<4?1:+(Bn[0]+Bn[1]));!Wd&&Am&&(Bn=Am.match(/Edge\/(\d+)/),(!Bn||Bn[1]>=74)&&(Bn=Am.match(/Chrome\/(\d+)/),Bn&&(Wd=+Bn[1])));var uw=Wd,R_=uw,Bq=Rt,Uq=nn,Vq=Uq.String,ti=!!Object.getOwnPropertySymbols&&!Bq(function(){var e=Symbol("symbol detection");return!Vq(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&R_&&R_<41}),Gq=ti,uN=Gq&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Wq=Sr,Hq=rn,zq=Ms,qq=uN,Yq=Object,Jc=qq?function(e){return typeof e=="symbol"}:function(e){var t=Wq("Symbol");return Hq(t)&&zq(t.prototype,Yq(e))},Kq=String,rp=function(e){try{return Kq(e)}catch{return"Object"}},Qq=rn,Xq=rp,Zq=TypeError,dw=function(e){if(Qq(e))return e;throw Zq(Xq(e)+" is not a function")},Jq=dw,eY=cw,fw=function(e,t){var n=e[t];return eY(n)?void 0:Jq(n)},Om=xr,Nm=rn,Im=Ur,tY=TypeError,nY=function(e,t){var n,r;if(t==="string"&&Nm(n=e.toString)&&!Im(r=Om(n,e))||Nm(n=e.valueOf)&&!Im(r=Om(n,e))||t!=="string"&&Nm(n=e.toString)&&!Im(r=Om(n,e)))return r;throw tY("Can't convert object to primitive value")},dN={exports:{}},D_=nn,rY=Object.defineProperty,sY=function(e,t){try{rY(D_,e,{value:t,configurable:!0,writable:!0})}catch{D_[e]=t}return t},oY=nn,aY=sY,L_="__core-js_shared__",iY=oY[L_]||aY(L_,{}),hw=iY,F_=hw;(dN.exports=function(e,t){return F_[e]||(F_[e]=t!==void 0?t:{})})("versions",[]).push({version:"3.32.2",mode:"pure",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.32.2/LICENSE",source:"https://github.com/zloirock/core-js"});var ni=dN.exports,cY=lw,lY=Object,Es=function(e){return lY(cY(e))},uY=Mt,dY=Es,fY=uY({}.hasOwnProperty),Mn=Object.hasOwn||function(t,n){return fY(dY(t),n)},hY=Mt,pY=0,mY=Math.random(),gY=hY(1 .toString),pw=function(e){return"Symbol("+(e===void 0?"":e)+")_"+gY(++pY+mY,36)},vY=nn,yY=ni,B_=Mn,bY=pw,xY=ti,wY=uN,sa=vY.Symbol,jm=yY("wks"),SY=wY?sa.for||sa:sa&&sa.withoutSetter||bY,Et=function(e){return B_(jm,e)||(jm[e]=xY&&B_(sa,e)?sa[e]:SY("Symbol."+e)),jm[e]},CY=xr,U_=Ur,V_=Jc,_Y=fw,TY=nY,kY=Et,MY=TypeError,EY=kY("toPrimitive"),PY=function(e,t){if(!U_(e)||V_(e))return e;var n=_Y(e,EY),r;if(n){if(t===void 0&&(t="default"),r=CY(n,e,t),!U_(r)||V_(r))return r;throw MY("Can't convert object to primitive value")}return t===void 0&&(t="number"),TY(e,t)},$Y=PY,AY=Jc,sp=function(e){var t=$Y(e,"string");return AY(t)?t:t+""},OY=nn,G_=Ur,Wv=OY.document,NY=G_(Wv)&&G_(Wv.createElement),fN=function(e){return NY?Wv.createElement(e):{}},IY=kn,jY=Rt,RY=fN,hN=!IY&&!jY(function(){return Object.defineProperty(RY("div"),"a",{get:function(){return 7}}).a!==7}),DY=kn,LY=xr,FY=iw,BY=Zc,UY=wr,VY=sp,GY=Mn,WY=hN,W_=Object.getOwnPropertyDescriptor;Xc.f=DY?W_:function(t,n){if(t=UY(t),n=VY(n),WY)try{return W_(t,n)}catch{}if(GY(t,n))return BY(!LY(FY.f,t,n),t[n])};var HY=Rt,zY=rn,qY=/#|\.prototype\./,el=function(e,t){var n=KY[YY(e)];return n===XY?!0:n===QY?!1:zY(t)?HY(t):!!t},YY=el.normalize=function(e){return String(e).replace(qY,".").toLowerCase()},KY=el.data={},QY=el.NATIVE="N",XY=el.POLYFILL="P",ZY=el,H_=aw,JY=dw,eK=np,tK=H_(H_.bind),mw=function(e,t){return JY(e),t===void 0?e:eK?tK(e,t):function(){return e.apply(t,arguments)}},Yn={},nK=kn,rK=Rt,pN=nK&&rK(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),sK=Ur,oK=String,aK=TypeError,Ps=function(e){if(sK(e))return e;throw aK(oK(e)+" is not an object")},iK=kn,cK=hN,lK=pN,Wl=Ps,z_=sp,uK=TypeError,Rm=Object.defineProperty,dK=Object.getOwnPropertyDescriptor,Dm="enumerable",Lm="configurable",Fm="writable";Yn.f=iK?lK?function(t,n,r){if(Wl(t),n=z_(n),Wl(r),typeof t=="function"&&n==="prototype"&&"value"in r&&Fm in r&&!r[Fm]){var s=dK(t,n);s&&s[Fm]&&(t[n]=r.value,r={configurable:Lm in r?r[Lm]:s[Lm],enumerable:Dm in r?r[Dm]:s[Dm],writable:!1})}return Rm(t,n,r)}:Rm:function(t,n,r){if(Wl(t),n=z_(n),Wl(r),cK)try{return Rm(t,n,r)}catch{}if("get"in r||"set"in r)throw uK("Accessors not supported");return"value"in r&&(t[n]=r.value),t};var fK=kn,hK=Yn,pK=Zc,tl=fK?function(e,t,n){return hK.f(e,t,pK(1,n))}:function(e,t,n){return e[t]=n,e},Hl=nn,mK=ow,gK=aw,vK=rn,yK=Xc.f,bK=ZY,Ro=Ht,xK=mw,Do=tl,q_=Mn,wK=function(e){var t=function(n,r,s){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,r)}return new e(n,r,s)}return mK(e,this,arguments)};return t.prototype=e.prototype,t},Ge=function(e,t){var n=e.target,r=e.global,s=e.stat,o=e.proto,a=r?Hl:s?Hl[n]:(Hl[n]||{}).prototype,c=r?Ro:Ro[n]||Do(Ro,n,{})[n],l=c.prototype,u,d,f,h,m,g,v,y,x;for(h in t)u=bK(r?h:n+(s?".":"#")+h,e.forced),d=!u&&a&&q_(a,h),g=c[h],d&&(e.dontCallGetSet?(x=yK(a,h),v=x&&x.value):v=a[h]),m=d&&v?v:t[h],!(d&&typeof g==typeof m)&&(e.bind&&d?y=xK(m,Hl):e.wrap&&d?y=wK(m):o&&vK(m)?y=gK(m):y=m,(e.sham||m&&m.sham||g&&g.sham)&&Do(y,"sham",!0),Do(c,h,y),o&&(f=n+"Prototype",q_(Ro,f)||Do(Ro,f,{}),Do(Ro[f],h,m),e.real&&l&&(u||!l[h])&&Do(l,h,m)))},SK=ei,ri=Array.isArray||function(t){return SK(t)==="Array"},CK=Ge,_K=ri;CK({target:"Array",stat:!0},{isArray:_K});var TK=Ht,kK=TK.Array.isArray,MK=kK,mN=MK,EK=mN,PK=EK,$K=PK,AK=$K,OK=AK,NK=OK;const gN=ye(NK);function IK(e){if(gN(e))return e}var jK=Math.ceil,RK=Math.floor,DK=Math.trunc||function(t){var n=+t;return(n>0?RK:jK)(n)},LK=DK,op=function(e){var t=+e;return t!==t||t===0?0:LK(t)},FK=op,BK=Math.min,UK=function(e){return e>0?BK(FK(e),9007199254740991):0},VK=UK,To=function(e){return VK(e.length)},GK=TypeError,WK=9007199254740991,vN=function(e){if(e>WK)throw GK("Maximum allowed index exceeded");return e},HK=sp,zK=Yn,qK=Zc,si=function(e,t,n){var r=HK(t);r in e?zK.f(e,r,qK(0,n)):e[r]=n},YK=Et,KK=YK("toStringTag"),yN={};yN[KK]="z";var gw=String(yN)==="[object z]",QK=gw,XK=rn,Ou=ei,ZK=Et,JK=ZK("toStringTag"),eQ=Object,tQ=Ou(function(){return arguments}())==="Arguments",nQ=function(e,t){try{return e[t]}catch{}},oi=QK?Ou:function(e){var t,n,r;return e===void 0?"Undefined":e===null?"Null":typeof(n=nQ(t=eQ(e),JK))=="string"?n:tQ?Ou(t):(r=Ou(t))==="Object"&&XK(t.callee)?"Arguments":r},rQ=Mt,sQ=rn,Hv=hw,oQ=rQ(Function.toString);sQ(Hv.inspectSource)||(Hv.inspectSource=function(e){return oQ(e)});var aQ=Hv.inspectSource,iQ=Mt,cQ=Rt,bN=rn,lQ=oi,uQ=Sr,dQ=aQ,xN=function(){},fQ=[],wN=uQ("Reflect","construct"),vw=/^\s*(?:class|function)\b/,hQ=iQ(vw.exec),pQ=!vw.exec(xN),Ti=function(t){if(!bN(t))return!1;try{return wN(xN,fQ,t),!0}catch{return!1}},SN=function(t){if(!bN(t))return!1;switch(lQ(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return pQ||!!hQ(vw,dQ(t))}catch{return!0}};SN.sham=!0;var yw=!wN||cQ(function(){var e;return Ti(Ti.call)||!Ti(Object)||!Ti(function(){e=!0})||e})?SN:Ti,Y_=ri,mQ=yw,gQ=Ur,vQ=Et,yQ=vQ("species"),K_=Array,bQ=function(e){var t;return Y_(e)&&(t=e.constructor,mQ(t)&&(t===K_||Y_(t.prototype))?t=void 0:gQ(t)&&(t=t[yQ],t===null&&(t=void 0))),t===void 0?K_:t},xQ=bQ,bw=function(e,t){return new(xQ(e))(t===0?0:t)},wQ=Rt,SQ=Et,CQ=uw,_Q=SQ("species"),ap=function(e){return CQ>=51||!wQ(function(){var t=[],n=t.constructor={};return n[_Q]=function(){return{foo:1}},t[e](Boolean).foo!==1})},TQ=Ge,kQ=Rt,MQ=ri,EQ=Ur,PQ=Es,$Q=To,Q_=vN,X_=si,AQ=bw,OQ=ap,NQ=Et,IQ=uw,CN=NQ("isConcatSpreadable"),jQ=IQ>=51||!kQ(function(){var e=[];return e[CN]=!1,e.concat()[0]!==e}),RQ=function(e){if(!EQ(e))return!1;var t=e[CN];return t!==void 0?!!t:MQ(e)},DQ=!jQ||!OQ("concat");TQ({target:"Array",proto:!0,arity:1,forced:DQ},{concat:function(t){var n=PQ(this),r=AQ(n,0),s=0,o,a,c,l,u;for(o=-1,c=arguments.length;o<c;o++)if(u=o===-1?n:arguments[o],RQ(u))for(l=$Q(u),Q_(s+l),a=0;a<l;a++,s++)a in u&&X_(r,s,u[a]);else Q_(s+1),X_(r,s++,u);return r.length=s,r}});var LQ=oi,FQ=String,nl=function(e){if(LQ(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return FQ(e)},ip={},BQ=op,UQ=Math.max,VQ=Math.min,cp=function(e,t){var n=BQ(e);return n<0?UQ(n+t,0):VQ(n,t)},GQ=wr,WQ=cp,HQ=To,Z_=function(e){return function(t,n,r){var s=GQ(t),o=HQ(s),a=WQ(r,o),c;if(e&&n!==n){for(;o>a;)if(c=s[a++],c!==c)return!0}else for(;o>a;a++)if((e||a in s)&&s[a]===n)return e||a||0;return!e&&-1}},_N={includes:Z_(!0),indexOf:Z_(!1)},lp={},zQ=Mt,Bm=Mn,qQ=wr,YQ=_N.indexOf,KQ=lp,J_=zQ([].push),TN=function(e,t){var n=qQ(e),r=0,s=[],o;for(o in n)!Bm(KQ,o)&&Bm(n,o)&&J_(s,o);for(;t.length>r;)Bm(n,o=t[r++])&&(~YQ(s,o)||J_(s,o));return s},xw=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],QQ=TN,XQ=xw,ww=Object.keys||function(t){return QQ(t,XQ)},ZQ=kn,JQ=pN,eX=Yn,tX=Ps,nX=wr,rX=ww;ip.f=ZQ&&!JQ?Object.defineProperties:function(t,n){tX(t);for(var r=nX(n),s=rX(n),o=s.length,a=0,c;o>a;)eX.f(t,c=s[a++],r[c]);return t};var sX=Sr,oX=sX("document","documentElement"),aX=ni,iX=pw,eT=aX("keys"),up=function(e){return eT[e]||(eT[e]=iX(e))},cX=Ps,lX=ip,tT=xw,uX=lp,dX=oX,fX=fN,hX=up,nT=">",rT="<",zv="prototype",qv="script",kN=hX("IE_PROTO"),Um=function(){},MN=function(e){return rT+qv+nT+e+rT+"/"+qv+nT},sT=function(e){e.write(MN("")),e.close();var t=e.parentWindow.Object;return e=null,t},pX=function(){var e=fX("iframe"),t="java"+qv+":",n;return e.style.display="none",dX.appendChild(e),e.src=String(t),n=e.contentWindow.document,n.open(),n.write(MN("document.F=Object")),n.close(),n.F},zl,Nu=function(){try{zl=new ActiveXObject("htmlfile")}catch{}Nu=typeof document<"u"?document.domain&&zl?sT(zl):pX():sT(zl);for(var e=tT.length;e--;)delete Nu[zv][tT[e]];return Nu()};uX[kN]=!0;var Sw=Object.create||function(t,n){var r;return t!==null?(Um[zv]=cX(t),r=new Um,Um[zv]=null,r[kN]=t):r=Nu(),n===void 0?r:lX.f(r,n)},dp={},mX=TN,gX=xw,vX=gX.concat("length","prototype");dp.f=Object.getOwnPropertyNames||function(t){return mX(t,vX)};var EN={},oT=cp,yX=To,bX=si,xX=Array,wX=Math.max,SX=function(e,t,n){for(var r=yX(e),s=oT(t,r),o=oT(n===void 0?r:n,r),a=xX(wX(o-s,0)),c=0;s<o;s++,c++)bX(a,c,e[s]);return a.length=c,a},CX=ei,_X=wr,PN=dp.f,TX=SX,$N=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],kX=function(e){try{return PN(e)}catch{return TX($N)}};EN.f=function(t){return $N&&CX(t)==="Window"?kX(t):PN(_X(t))};var fp={};fp.f=Object.getOwnPropertySymbols;var MX=tl,hp=function(e,t,n,r){return r&&r.enumerable?e[t]=n:MX(e,t,n),e},EX=Yn,PX=function(e,t,n){return EX.f(e,t,n)},Cw={},$X=Et;Cw.f=$X;var aT=Ht,AX=Mn,OX=Cw,NX=Yn.f,ft=function(e){var t=aT.Symbol||(aT.Symbol={});AX(t,e)||NX(t,e,{value:OX.f(e)})},IX=xr,jX=Sr,RX=Et,DX=hp,AN=function(){var e=jX("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,r=RX("toPrimitive");t&&!t[r]&&DX(t,r,function(s){return IX(n,this)},{arity:1})},LX=gw,FX=oi,BX=LX?{}.toString:function(){return"[object "+FX(this)+"]"},UX=gw,VX=Yn.f,GX=tl,WX=Mn,HX=BX,zX=Et,iT=zX("toStringTag"),rl=function(e,t,n,r){if(e){var s=n?e:e.prototype;WX(s,iT)||VX(s,iT,{configurable:!0,value:t}),r&&!UX&&GX(s,"toString",HX)}},qX=nn,YX=rn,cT=qX.WeakMap,KX=YX(cT)&&/native code/.test(String(cT)),QX=KX,ON=nn,XX=Ur,ZX=tl,Vm=Mn,Gm=hw,JX=up,eZ=lp,lT="Object already initialized",Yv=ON.TypeError,tZ=ON.WeakMap,Hd,hc,zd,nZ=function(e){return zd(e)?hc(e):Hd(e,{})},rZ=function(e){return function(t){var n;if(!XX(t)||(n=hc(t)).type!==e)throw Yv("Incompatible receiver, "+e+" required");return n}};if(QX||Gm.state){var Jn=Gm.state||(Gm.state=new tZ);Jn.get=Jn.get,Jn.has=Jn.has,Jn.set=Jn.set,Hd=function(e,t){if(Jn.has(e))throw Yv(lT);return t.facade=e,Jn.set(e,t),t},hc=function(e){return Jn.get(e)||{}},zd=function(e){return Jn.has(e)}}else{var Lo=JX("state");eZ[Lo]=!0,Hd=function(e,t){if(Vm(e,Lo))throw Yv(lT);return t.facade=e,ZX(e,Lo,t),t},hc=function(e){return Vm(e,Lo)?e[Lo]:{}},zd=function(e){return Vm(e,Lo)}}var _w={set:Hd,get:hc,has:zd,enforce:nZ,getterFor:rZ},sZ=mw,oZ=Mt,aZ=aN,iZ=Es,cZ=To,lZ=bw,uT=oZ([].push),zr=function(e){var t=e===1,n=e===2,r=e===3,s=e===4,o=e===6,a=e===7,c=e===5||o;return function(l,u,d,f){for(var h=iZ(l),m=aZ(h),g=sZ(u,d),v=cZ(m),y=0,x=f||lZ,b=t?x(l,v):n||a?x(l,0):void 0,w,C;v>y;y++)if((c||y in m)&&(w=m[y],C=g(w,y,h),e))if(t)b[y]=C;else if(C)switch(e){case 3:return!0;case 5:return w;case 6:return y;case 2:uT(b,w)}else switch(e){case 4:return!1;case 7:uT(b,w)}return o?-1:r||s?s:b}},Tw={forEach:zr(0),map:zr(1),filter:zr(2),some:zr(3),every:zr(4),find:zr(5),findIndex:zr(6),filterReject:zr(7)},pp=Ge,kw=nn,Mw=xr,uZ=Mt,$a=kn,Aa=ti,dZ=Rt,At=Mn,fZ=Ms,Kv=Ps,mp=wr,Ew=sp,hZ=nl,Qv=Zc,pc=Sw,NN=ww,pZ=dp,IN=EN,mZ=fp,jN=Xc,RN=Yn,gZ=ip,DN=iw,dT=hp,vZ=PX,Pw=ni,yZ=up,LN=lp,fT=pw,bZ=Et,xZ=Cw,wZ=ft,SZ=AN,CZ=rl,FN=_w,gp=Tw.forEach,fn=yZ("hidden"),vp="Symbol",mc="prototype",_Z=FN.set,hT=FN.getterFor(vp),Gn=Object[mc],ro=kw.Symbol,Bi=ro&&ro[mc],TZ=kw.TypeError,Wm=kw.QObject,BN=jN.f,Gs=RN.f,UN=IN.f,kZ=DN.f,VN=uZ([].push),Dr=Pw("symbols"),sl=Pw("op-symbols"),MZ=Pw("wks"),Xv=!Wm||!Wm[mc]||!Wm[mc].findChild,Zv=$a&&dZ(function(){return pc(Gs({},"a",{get:function(){return Gs(this,"a",{value:7}).a}})).a!==7})?function(e,t,n){var r=BN(Gn,t);r&&delete Gn[t],Gs(e,t,n),r&&e!==Gn&&Gs(Gn,t,r)}:Gs,Hm=function(e,t){var n=Dr[e]=pc(Bi);return _Z(n,{type:vp,tag:e,description:t}),$a||(n.description=t),n},yp=function(t,n,r){t===Gn&&yp(sl,n,r),Kv(t);var s=Ew(n);return Kv(r),At(Dr,s)?(r.enumerable?(At(t,fn)&&t[fn][s]&&(t[fn][s]=!1),r=pc(r,{enumerable:Qv(0,!1)})):(At(t,fn)||Gs(t,fn,Qv(1,{})),t[fn][s]=!0),Zv(t,s,r)):Gs(t,s,r)},$w=function(t,n){Kv(t);var r=mp(n),s=NN(r).concat(zN(r));return gp(s,function(o){(!$a||Mw(GN,r,o))&&yp(t,o,r[o])}),t},EZ=function(t,n){return n===void 0?pc(t):$w(pc(t),n)},GN=function(t){var n=Ew(t),r=Mw(kZ,this,n);return this===Gn&&At(Dr,n)&&!At(sl,n)?!1:r||!At(this,n)||!At(Dr,n)||At(this,fn)&&this[fn][n]?r:!0},WN=function(t,n){var r=mp(t),s=Ew(n);if(!(r===Gn&&At(Dr,s)&&!At(sl,s))){var o=BN(r,s);return o&&At(Dr,s)&&!(At(r,fn)&&r[fn][s])&&(o.enumerable=!0),o}},HN=function(t){var n=UN(mp(t)),r=[];return gp(n,function(s){!At(Dr,s)&&!At(LN,s)&&VN(r,s)}),r},zN=function(e){var t=e===Gn,n=UN(t?sl:mp(e)),r=[];return gp(n,function(s){At(Dr,s)&&(!t||At(Gn,s))&&VN(r,Dr[s])}),r};Aa||(ro=function(){if(fZ(Bi,this))throw TZ("Symbol is not a constructor");var t=!arguments.length||arguments[0]===void 0?void 0:hZ(arguments[0]),n=fT(t),r=function(s){this===Gn&&Mw(r,sl,s),At(this,fn)&&At(this[fn],n)&&(this[fn][n]=!1),Zv(this,n,Qv(1,s))};return $a&&Xv&&Zv(Gn,n,{configurable:!0,set:r}),Hm(n,t)},Bi=ro[mc],dT(Bi,"toString",function(){return hT(this).tag}),dT(ro,"withoutSetter",function(e){return Hm(fT(e),e)}),DN.f=GN,RN.f=yp,gZ.f=$w,jN.f=WN,pZ.f=IN.f=HN,mZ.f=zN,xZ.f=function(e){return Hm(bZ(e),e)},$a&&vZ(Bi,"description",{configurable:!0,get:function(){return hT(this).description}}));pp({global:!0,constructor:!0,wrap:!0,forced:!Aa,sham:!Aa},{Symbol:ro});gp(NN(MZ),function(e){wZ(e)});pp({target:vp,stat:!0,forced:!Aa},{useSetter:function(){Xv=!0},useSimple:function(){Xv=!1}});pp({target:"Object",stat:!0,forced:!Aa,sham:!$a},{create:EZ,defineProperty:yp,defineProperties:$w,getOwnPropertyDescriptor:WN});pp({target:"Object",stat:!0,forced:!Aa},{getOwnPropertyNames:HN});SZ();CZ(ro,vp);LN[fn]=!0;var PZ=ti,qN=PZ&&!!Symbol.for&&!!Symbol.keyFor,$Z=Ge,AZ=Sr,OZ=Mn,NZ=nl,YN=ni,IZ=qN,zm=YN("string-to-symbol-registry"),jZ=YN("symbol-to-string-registry");$Z({target:"Symbol",stat:!0,forced:!IZ},{for:function(e){var t=NZ(e);if(OZ(zm,t))return zm[t];var n=AZ("Symbol")(t);return zm[t]=n,jZ[n]=t,n}});var RZ=Ge,DZ=Mn,LZ=Jc,FZ=rp,BZ=ni,UZ=qN,pT=BZ("symbol-to-string-registry");RZ({target:"Symbol",stat:!0,forced:!UZ},{keyFor:function(t){if(!LZ(t))throw TypeError(FZ(t)+" is not a symbol");if(DZ(pT,t))return pT[t]}});var VZ=Mt,Aw=VZ([].slice),GZ=Mt,mT=ri,WZ=rn,gT=ei,HZ=nl,vT=GZ([].push),zZ=function(e){if(WZ(e))return e;if(mT(e)){for(var t=e.length,n=[],r=0;r<t;r++){var s=e[r];typeof s=="string"?vT(n,s):(typeof s=="number"||gT(s)==="Number"||gT(s)==="String")&&vT(n,HZ(s))}var o=n.length,a=!0;return function(c,l){if(a)return a=!1,l;if(mT(this))return l;for(var u=0;u<o;u++)if(n[u]===c)return l}}},qZ=Ge,KN=Sr,QN=ow,YZ=xr,ol=Mt,XN=Rt,yT=rn,bT=Jc,ZN=Aw,KZ=zZ,QZ=ti,XZ=String,ms=KN("JSON","stringify"),ql=ol(/./.exec),xT=ol("".charAt),ZZ=ol("".charCodeAt),JZ=ol("".replace),eJ=ol(1 .toString),tJ=/[\uD800-\uDFFF]/g,wT=/^[\uD800-\uDBFF]$/,ST=/^[\uDC00-\uDFFF]$/,CT=!QZ||XN(function(){var e=KN("Symbol")("stringify detection");return ms([e])!=="[null]"||ms({a:e})!=="{}"||ms(Object(e))!=="{}"}),_T=XN(function(){return ms("\uDF06\uD834")!=='"\\udf06\\ud834"'||ms("\uDEAD")!=='"\\udead"'}),nJ=function(e,t){var n=ZN(arguments),r=KZ(t);if(!(!yT(r)&&(e===void 0||bT(e))))return n[1]=function(s,o){if(yT(r)&&(o=YZ(r,this,XZ(s),o)),!bT(o))return o},QN(ms,null,n)},rJ=function(e,t,n){var r=xT(n,t-1),s=xT(n,t+1);return ql(wT,e)&&!ql(ST,s)||ql(ST,e)&&!ql(wT,r)?"\\u"+eJ(ZZ(e,0),16):e};ms&&qZ({target:"JSON",stat:!0,arity:3,forced:CT||_T},{stringify:function(t,n,r){var s=ZN(arguments),o=QN(CT?nJ:ms,null,s);return _T&&typeof o=="string"?JZ(o,tJ,rJ):o}});var sJ=Ge,oJ=ti,aJ=Rt,JN=fp,iJ=Es,cJ=!oJ||aJ(function(){JN.f(1)});sJ({target:"Object",stat:!0,forced:cJ},{getOwnPropertySymbols:function(t){var n=JN.f;return n?n(iJ(t)):[]}});var lJ=ft;lJ("asyncIterator");var uJ=ft;uJ("hasInstance");var dJ=ft;dJ("isConcatSpreadable");var fJ=ft;fJ("iterator");var hJ=ft;hJ("match");var pJ=ft;pJ("matchAll");var mJ=ft;mJ("replace");var gJ=ft;gJ("search");var vJ=ft;vJ("species");var yJ=ft;yJ("split");var bJ=ft,xJ=AN;bJ("toPrimitive");xJ();var wJ=Sr,SJ=ft,CJ=rl;SJ("toStringTag");CJ(wJ("Symbol"),"Symbol");var _J=ft;_J("unscopables");var TJ=nn,kJ=rl;kJ(TJ.JSON,"JSON",!0);var MJ=Ht,EJ=MJ.Symbol,ai={},Jv=kn,PJ=Mn,eI=Function.prototype,$J=Jv&&Object.getOwnPropertyDescriptor,Ow=PJ(eI,"name"),AJ=Ow&&(function(){}).name==="something",OJ=Ow&&(!Jv||Jv&&$J(eI,"name").configurable),NJ={EXISTS:Ow,PROPER:AJ,CONFIGURABLE:OJ},IJ=Rt,jJ=!IJ(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),RJ=Mn,DJ=rn,LJ=Es,FJ=up,BJ=jJ,TT=FJ("IE_PROTO"),ey=Object,UJ=ey.prototype,tI=BJ?ey.getPrototypeOf:function(e){var t=LJ(e);if(RJ(t,TT))return t[TT];var n=t.constructor;return DJ(n)&&t instanceof n?n.prototype:t instanceof ey?UJ:null},VJ=Rt,GJ=rn,WJ=Ur,HJ=Sw,kT=tI,zJ=hp,qJ=Et,ty=qJ("iterator"),nI=!1,Nr,qm,Ym;[].keys&&(Ym=[].keys(),"next"in Ym?(qm=kT(kT(Ym)),qm!==Object.prototype&&(Nr=qm)):nI=!0);var YJ=!WJ(Nr)||VJ(function(){var e={};return Nr[ty].call(e)!==e});YJ?Nr={}:Nr=HJ(Nr);GJ(Nr[ty])||zJ(Nr,ty,function(){return this});var rI={IteratorPrototype:Nr,BUGGY_SAFARI_ITERATORS:nI},KJ=rI.IteratorPrototype,QJ=Sw,XJ=Zc,ZJ=rl,JJ=ai,eee=function(){return this},tee=function(e,t,n,r){var s=t+" Iterator";return e.prototype=QJ(KJ,{next:XJ(+!r,n)}),ZJ(e,s,!1,!0),JJ[s]=eee,e},nee=Ge,ree=xr,sI=NJ,see=tee,oee=tI,aee=rl,MT=hp,iee=Et,ET=ai,oI=rI,cee=sI.PROPER;sI.CONFIGURABLE;oI.IteratorPrototype;var Yl=oI.BUGGY_SAFARI_ITERATORS,Km=iee("iterator"),PT="keys",Kl="values",$T="entries",lee=function(){return this},aI=function(e,t,n,r,s,o,a){see(n,t,r);var c=function(x){if(x===s&&h)return h;if(!Yl&&x&&x in d)return d[x];switch(x){case PT:return function(){return new n(this,x)};case Kl:return function(){return new n(this,x)};case $T:return function(){return new n(this,x)}}return function(){return new n(this)}},l=t+" Iterator",u=!1,d=e.prototype,f=d[Km]||d["@@iterator"]||s&&d[s],h=!Yl&&f||c(s),m=t==="Array"&&d.entries||f,g,v,y;if(m&&(g=oee(m.call(new e)),g!==Object.prototype&&g.next&&(aee(g,l,!0,!0),ET[l]=lee)),cee&&s===Kl&&f&&f.name!==Kl&&(u=!0,h=function(){return ree(f,this)}),s)if(v={values:c(Kl),keys:o?h:c(PT),entries:c($T)},a)for(y in v)(Yl||u||!(y in d))&&MT(d,y,v[y]);else nee({target:t,proto:!0,forced:Yl||u},v);return a&&d[Km]!==h&&MT(d,Km,h,{name:s}),ET[t]=h,v},iI=function(e,t){return{value:e,done:t}},uee=wr,AT=ai,cI=_w;Yn.f;var dee=aI,Ql=iI,lI="Array Iterator",fee=cI.set,hee=cI.getterFor(lI);dee(Array,"Array",function(e,t){fee(this,{type:lI,target:uee(e),index:0,kind:t})},function(){var e=hee(this),t=e.target,n=e.kind,r=e.index++;if(!t||r>=t.length)return e.target=void 0,Ql(void 0,!0);switch(n){case"keys":return Ql(r,!1);case"values":return Ql(t[r],!1)}return Ql([r,t[r]],!1)},"values");AT.Arguments=AT.Array;var pee={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},mee=pee,gee=nn,vee=oi,yee=tl,OT=ai,bee=Et,NT=bee("toStringTag");for(var Qm in mee){var IT=gee[Qm],Xm=IT&&IT.prototype;Xm&&vee(Xm)!==NT&&yee(Xm,NT,Qm),OT[Qm]=OT.Array}var xee=EJ,wee=xee,See=Et,Cee=Yn.f,jT=See("metadata"),RT=Function.prototype;RT[jT]===void 0&&Cee(RT,jT,{value:null});var _ee=ft;_ee("asyncDispose");var Tee=ft;Tee("dispose");var kee=ft;kee("metadata");var Mee=wee,Eee=Mee,Pee=Sr,$ee=Mt,Nw=Pee("Symbol"),Aee=Nw.keyFor,Oee=$ee(Nw.prototype.valueOf),uI=Nw.isRegisteredSymbol||function(t){try{return Aee(Oee(t))!==void 0}catch{return!1}},Nee=Ge,Iee=uI;Nee({target:"Symbol",stat:!0},{isRegisteredSymbol:Iee});var jee=ni,dI=Sr,Ree=Mt,Dee=Jc,Lee=Et,qd=dI("Symbol"),DT=qd.isWellKnownSymbol,fI=dI("Object","getOwnPropertyNames"),Fee=Ree(qd.prototype.valueOf),LT=jee("wks");for(var Zm=0,FT=fI(qd),Bee=FT.length;Zm<Bee;Zm++)try{var BT=FT[Zm];Dee(qd[BT])&&Lee(BT)}catch{}var hI=function(t){if(DT&&DT(t))return!0;try{for(var n=Fee(t),r=0,s=fI(LT),o=s.length;r<o;r++)if(LT[s[r]]==n)return!0}catch{}return!1},Uee=Ge,Vee=hI;Uee({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:Vee});var Gee=ft;Gee("matcher");var Wee=ft;Wee("observable");var Hee=Ge,zee=uI;Hee({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:zee});var qee=Ge,Yee=hI;qee({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:Yee});var Kee=ft;Kee("metadataKey");var Qee=ft;Qee("patternMatch");var Xee=ft;Xee("replaceAll");var Zee=Eee,Jee=Zee,ete=Jee,tte=ete;const pI=ye(tte);var Iw=Mt,nte=op,rte=nl,ste=lw,ote=Iw("".charAt),UT=Iw("".charCodeAt),ate=Iw("".slice),VT=function(e){return function(t,n){var r=rte(ste(t)),s=nte(n),o=r.length,a,c;return s<0||s>=o?e?"":void 0:(a=UT(r,s),a<55296||a>56319||s+1===o||(c=UT(r,s+1))<56320||c>57343?e?ote(r,s):a:e?ate(r,s,s+2):(a-55296<<10)+(c-56320)+65536)}},ite={codeAt:VT(!1),charAt:VT(!0)},cte=ite.charAt,lte=nl,mI=_w,ute=aI,GT=iI,gI="String Iterator",dte=mI.set,fte=mI.getterFor(gI);ute(String,"String",function(e){dte(this,{type:gI,string:lte(e),index:0})},function(){var t=fte(this),n=t.string,r=t.index,s;return r>=n.length?GT(void 0,!0):(s=cte(n,r),t.index+=s.length,GT(s,!1))});var hte=oi,WT=fw,pte=cw,mte=ai,gte=Et,vte=gte("iterator"),jw=function(e){if(!pte(e))return WT(e,vte)||WT(e,"@@iterator")||mte[hte(e)]},yte=jw,bte=yte,xte=bte,wte=xte,Ste=wte,Cte=Ste,_te=Cte,Tte=_te,kte=Tte,Mte=kte;const vI=ye(Mte);function Ete(e,t){var n=e==null?null:typeof pI<"u"&&vI(e)||e["@@iterator"];if(n!=null){var r=[],s=!0,o=!1,a,c;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(r.push(a.value),!(t&&r.length===t));s=!0);}catch(l){o=!0,c=l}finally{try{!s&&n.return!=null&&n.return()}finally{if(o)throw c}}return r}}var Pte=Ge,HT=ri,$te=yw,Ate=Ur,zT=cp,Ote=To,Nte=wr,Ite=si,jte=Et,Rte=ap,Dte=Aw,Lte=Rte("slice"),Fte=jte("species"),Jm=Array,Bte=Math.max;Pte({target:"Array",proto:!0,forced:!Lte},{slice:function(t,n){var r=Nte(this),s=Ote(r),o=zT(t,s),a=zT(n===void 0?s:n,s),c,l,u;if(HT(r)&&(c=r.constructor,$te(c)&&(c===Jm||HT(c.prototype))?c=void 0:Ate(c)&&(c=c[Fte],c===null&&(c=void 0)),c===Jm||c===void 0))return Dte(r,o,a);for(l=new(c===void 0?Jm:c)(Bte(a-o,0)),u=0;o<a;o++,u++)o in r&&Ite(l,u,r[o]);return l.length=u,l}});var Ute=Ht,ii=function(e){return Ute[e+"Prototype"]},Vte=ii,Gte=Vte("Array").slice,Wte=Ms,Hte=Gte,eg=Array.prototype,zte=function(e){var t=e.slice;return e===eg||Wte(eg,e)&&t===eg.slice?Hte:t},qte=zte,Yte=qte,Kte=Yte,Qte=Kte,Xte=Qte,Zte=Xte,Jte=Zte,ene=Jte;const tne=ye(ene);var nne=xr,qT=Ps,rne=fw,sne=function(e,t,n){var r,s;qT(e);try{if(r=rne(e,"return"),!r){if(t==="throw")throw n;return n}r=nne(r,e)}catch(o){s=!0,r=o}if(t==="throw")throw n;if(s)throw r;return qT(r),n},one=Ps,ane=sne,ine=function(e,t,n,r){try{return r?t(one(n)[0],n[1]):t(n)}catch(s){ane(e,"throw",s)}},cne=Et,lne=ai,une=cne("iterator"),dne=Array.prototype,fne=function(e){return e!==void 0&&(lne.Array===e||dne[une]===e)},hne=xr,pne=dw,mne=Ps,gne=rp,vne=jw,yne=TypeError,bne=function(e,t){var n=arguments.length<2?vne(e):t;if(pne(n))return mne(hne(n,e));throw yne(gne(e)+" is not iterable")},xne=mw,wne=xr,Sne=Es,Cne=ine,_ne=fne,Tne=yw,kne=To,YT=si,Mne=bne,Ene=jw,KT=Array,Pne=function(t){var n=Sne(t),r=Tne(this),s=arguments.length,o=s>1?arguments[1]:void 0,a=o!==void 0;a&&(o=xne(o,s>2?arguments[2]:void 0));var c=Ene(n),l=0,u,d,f,h,m,g;if(c&&!(this===KT&&_ne(c)))for(h=Mne(n,c),m=h.next,d=r?new this:[];!(f=wne(m,h)).done;l++)g=a?Cne(h,o,[f.value,l],!0):f.value,YT(d,l,g);else for(u=kne(n),d=r?new this(u):KT(u);u>l;l++)g=a?o(n[l],l):n[l],YT(d,l,g);return d.length=l,d},$ne=Et,yI=$ne("iterator"),bI=!1;try{var Ane=0,QT={next:function(){return{done:!!Ane++}},return:function(){bI=!0}};QT[yI]=function(){return this},Array.from(QT,function(){throw 2})}catch{}var One=function(e,t){try{if(!t&&!bI)return!1}catch{return!1}var n=!1;try{var r={};r[yI]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch{}return n},Nne=Ge,Ine=Pne,jne=One,Rne=!jne(function(e){Array.from(e)});Nne({target:"Array",stat:!0,forced:Rne},{from:Ine});var Dne=Ht,Lne=Dne.Array.from,Fne=Lne,Bne=Fne,Une=Bne,Vne=Une,Gne=Vne,Wne=Gne,Hne=Wne,zne=Hne;const xI=ye(zne);function ny(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wI(e,t){var n;if(e){if(typeof e=="string")return ny(e,t);var r=tne(n=Object.prototype.toString.call(e)).call(n,8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return xI(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ny(e,t)}}function qne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rw(e,t){return IK(e)||Ete(e,t)||wI(e,t)||qne()}var SI={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],s=0;s<arguments.length;s++){var o=arguments[s];if(o){var a=typeof o;if(a==="string"||a==="number")r.push(o);else if(Array.isArray(o)){if(o.length){var c=n.apply(null,o);c&&r.push(c)}}else if(a==="object")if(o.toString===Object.prototype.toString)for(var l in o)t.call(o,l)&&o[l]&&r.push(l);else r.push(o.toString())}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(SI);var Yne=SI.exports;const CI=ye(Yne);var _I={exports:{}},Kne="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Qne=Kne,Xne=Qne;function TI(){}function kI(){}kI.resetWarningCache=TI;var Zne=function(){function e(r,s,o,a,c,l){if(l!==Xne){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:kI,resetWarningCache:TI};return n.PropTypes=n,n};_I.exports=Zne();var Jne=_I.exports;const or=ye(Jne);var MI=Q.createContext({scrollTo:function(){return 0},scrollToBottom:function(){return 0},scrollToEnd:function(){return 0},scrollToStart:function(){return 0},scrollToTop:function(){return 0}});MI.displayName="ScrollToBottomFunctionContext";function Dw(){return p.useContext(MI)}function ere(){var e=Dw(),t=e.scrollToEnd;return t}var EI=Q.createContext({atBottom:!0,atEnd:!0,atStart:!1,atTop:!0,mode:"bottom"});EI.displayName="ScrollToBottomState1Context";var PI=Q.createContext({animating:!1,animatingToEnd:!1,sticky:!0});PI.displayName="ScrollToBottomState2Context";var $I=Q.createContext({animating:!1,animatingToEnd:!1,atBottom:!0,atEnd:!0,atStart:!1,atTop:!0,mode:"bottom",sticky:!0});$I.displayName="ScrollToBottomStateContext";var XT=[$I,EI,PI];function AI(e){return p.useContext(XT[e]||XT[0])}function tre(){var e=AI(2),t=e.sticky;return[t]}var Lw=Q.createContext({offsetHeight:0,scrollHeight:0,setTarget:function(){return 0},styleToClassName:function(){return""}});Lw.displayName="ScrollToBottomInternalContext";function OI(){return p.useContext(Lw)}function NI(){var e=OI(),t=e.styleToClassName;return t}var nre={backgroundColor:"rgba(0, 0, 0, .2)",borderRadius:10,borderWidth:0,bottom:5,cursor:"pointer",height:20,outline:0,position:"absolute",right:20,width:20,"&:hover":{backgroundColor:"rgba(0, 0, 0, .4)"},"&:active":{backgroundColor:"rgba(0, 0, 0, .6)"}},II=function(t){var n=t.children,r=t.className,s=tre(),o=Rw(s,1),a=o[0],c=NI()(nre),l=ere();return!a&&Q.createElement("button",{className:CI(c,(r||"")+""),onClick:l,type:"button"},n)};II.defaultProps={children:void 0,className:""};II.propTypes={children:or.any,className:or.string};var jI={exports:{}},rre=Ge,sre=kn,ZT=Yn.f;rre({target:"Object",stat:!0,forced:Object.defineProperty!==ZT,sham:!sre},{defineProperty:ZT});var ore=Ht,RI=ore.Object,are=jI.exports=function(t,n,r){return RI.defineProperty(t,n,r)};RI.defineProperty.sham&&(are.sham=!0);var ire=jI.exports,cre=ire,DI=cre,lre=DI,ure=lre,dre=ure,fre=dre,hre=fre,pre=hre;const mre=ye(pre);function qlt(e,t,n){return t in e?mre(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gre(e){if(gN(e))return ny(e)}function vre(e){if(typeof pI<"u"&&vI(e)!=null||e["@@iterator"]!=null)return xI(e)}function yre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ws(e){return gre(e)||vre(e)||wI(e)||yre()}var Xl=function(e){return e&&e.Math==Math&&e},En=Xl(typeof globalThis=="object"&&globalThis)||Xl(typeof window=="object"&&window)||Xl(typeof self=="object"&&self)||Xl(typeof Xt=="object"&&Xt)||function(){return this}()||Function("return this")(),Fw={},Kn=function(e){try{return!!e()}catch{return!0}},bre=Kn,ko=!bre(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),LI={},FI={}.propertyIsEnumerable,BI=Object.getOwnPropertyDescriptor,xre=BI&&!FI.call({1:2},1);LI.f=xre?function(t){var n=BI(this,t);return!!n&&n.enumerable}:FI;var UI=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},wre={}.toString,Bw=function(e){return wre.call(e).slice(8,-1)},Sre=Kn,Cre=Bw,_re="".split,Tre=Sre(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return Cre(e)=="String"?_re.call(e,""):Object(e)}:Object,bp=function(e){if(e==null)throw TypeError("Can't call method on "+e);return e},kre=Tre,Mre=bp,Uw=function(e){return kre(Mre(e))},Rn=function(e){return typeof e=="function"},Ere=Rn,al=function(e){return typeof e=="object"?e!==null:Ere(e)},tg=En,Pre=Rn,$re=function(e){return Pre(e)?e:void 0},xp=function(e,t){return arguments.length<2?$re(tg[e]):tg[e]&&tg[e][t]},Are=xp,Ore=Are("navigator","userAgent")||"",VI=En,ng=Ore,JT=VI.process,ek=VI.Deno,tk=JT&&JT.versions||ek&&ek.version,nk=tk&&tk.v8,er,Yd;nk?(er=nk.split("."),Yd=er[0]<4?1:er[0]+er[1]):ng&&(er=ng.match(/Edge\/(\d+)/),(!er||er[1]>=74)&&(er=ng.match(/Chrome\/(\d+)/),er&&(Yd=er[1])));var Nre=Yd&&+Yd,rk=Nre,Ire=Kn,GI=!!Object.getOwnPropertySymbols&&!Ire(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&rk&&rk<41}),jre=GI,WI=jre&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Rre=Rn,Dre=xp,Lre=WI,HI=Lre?function(e){return typeof e=="symbol"}:function(e){var t=Dre("Symbol");return Rre(t)&&Object(e)instanceof t},Fre=function(e){try{return String(e)}catch{return"Object"}},Bre=Rn,Ure=Fre,Vre=function(e){if(Bre(e))return e;throw TypeError(Ure(e)+" is not a function")},Gre=Vre,zI=function(e,t){var n=e[t];return n==null?void 0:Gre(n)},rg=Rn,sg=al,Wre=function(e,t){var n,r;if(t==="string"&&rg(n=e.toString)&&!sg(r=n.call(e))||rg(n=e.valueOf)&&!sg(r=n.call(e))||t!=="string"&&rg(n=e.toString)&&!sg(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},qI={exports:{}},sk=En,Vw=function(e,t){try{Object.defineProperty(sk,e,{value:t,configurable:!0,writable:!0})}catch{sk[e]=t}return t},Hre=En,zre=Vw,ok="__core-js_shared__",qre=Hre[ok]||zre(ok,{}),Gw=qre,ak=Gw;(qI.exports=function(e,t){return ak[e]||(ak[e]=t!==void 0?t:{})})("versions",[]).push({version:"3.18.3",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"});var Ww=qI.exports,Yre=bp,YI=function(e){return Object(Yre(e))},Kre=YI,Qre={}.hasOwnProperty,Mo=Object.hasOwn||function(t,n){return Qre.call(Kre(t),n)},Xre=0,Zre=Math.random(),KI=function(e){return"Symbol("+String(e===void 0?"":e)+")_"+(++Xre+Zre).toString(36)},Jre=En,ese=Ww,ik=Mo,tse=KI,ck=GI,nse=WI,ki=ese("wks"),ec=Jre.Symbol,rse=nse?ec:ec&&ec.withoutSetter||tse,il=function(e){return(!ik(ki,e)||!(ck||typeof ki[e]=="string"))&&(ck&&ik(ec,e)?ki[e]=ec[e]:ki[e]=rse("Symbol."+e)),ki[e]},lk=al,uk=HI,sse=zI,ose=Wre,ase=il,ise=ase("toPrimitive"),cse=function(e,t){if(!lk(e)||uk(e))return e;var n=sse(e,ise),r;if(n){if(t===void 0&&(t="default"),r=n.call(e,t),!lk(r)||uk(r))return r;throw TypeError("Can't convert object to primitive value")}return t===void 0&&(t="number"),ose(e,t)},lse=cse,use=HI,QI=function(e){var t=lse(e,"string");return use(t)?t:String(t)},dse=En,dk=al,ry=dse.document,fse=dk(ry)&&dk(ry.createElement),XI=function(e){return fse?ry.createElement(e):{}},hse=ko,pse=Kn,mse=XI,ZI=!hse&&!pse(function(){return Object.defineProperty(mse("div"),"a",{get:function(){return 7}}).a!=7}),gse=ko,vse=LI,yse=UI,bse=Uw,xse=QI,wse=Mo,Sse=ZI,fk=Object.getOwnPropertyDescriptor;Fw.f=gse?fk:function(t,n){if(t=bse(t),n=xse(n),Sse)try{return fk(t,n)}catch{}if(wse(t,n))return yse(!vse.f.call(t,n),t[n])};var cl={},Cse=al,$s=function(e){if(Cse(e))return e;throw TypeError(String(e)+" is not an object")},_se=ko,Tse=ZI,hk=$s,kse=QI,pk=Object.defineProperty;cl.f=_se?pk:function(t,n,r){if(hk(t),n=kse(n),hk(r),Tse)try{return pk(t,n,r)}catch{}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[n]=r.value),t};var Mse=ko,Ese=cl,Pse=UI,wp=Mse?function(e,t,n){return Ese.f(e,t,Pse(1,n))}:function(e,t,n){return e[t]=n,e},JI={exports:{}},$se=Rn,sy=Gw,Ase=Function.toString;$se(sy.inspectSource)||(sy.inspectSource=function(e){return Ase.call(e)});var ej=sy.inspectSource,Ose=En,Nse=Rn,Ise=ej,mk=Ose.WeakMap,jse=Nse(mk)&&/native code/.test(Ise(mk)),Rse=Ww,Dse=KI,gk=Rse("keys"),tj=function(e){return gk[e]||(gk[e]=Dse(e))},Hw={},Lse=jse,Fse=En,Bse=al,Use=wp,og=Mo,ag=Gw,Vse=tj,Gse=Hw,vk="Object already initialized",Wse=Fse.WeakMap,Kd,gc,Qd,Hse=function(e){return Qd(e)?gc(e):Kd(e,{})},zse=function(e){return function(t){var n;if(!Bse(t)||(n=gc(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}};if(Lse||ag.state){var Rs=ag.state||(ag.state=new Wse),qse=Rs.get,yk=Rs.has,Yse=Rs.set;Kd=function(e,t){if(yk.call(Rs,e))throw new TypeError(vk);return t.facade=e,Yse.call(Rs,e,t),t},gc=function(e){return qse.call(Rs,e)||{}},Qd=function(e){return yk.call(Rs,e)}}else{var Fo=Vse("state");Gse[Fo]=!0,Kd=function(e,t){if(og(e,Fo))throw new TypeError(vk);return t.facade=e,Use(e,Fo,t),t},gc=function(e){return og(e,Fo)?e[Fo]:{}},Qd=function(e){return og(e,Fo)}}var nj={set:Kd,get:gc,has:Qd,enforce:Hse,getterFor:zse},oy=ko,Kse=Mo,rj=Function.prototype,Qse=oy&&Object.getOwnPropertyDescriptor,zw=Kse(rj,"name"),Xse=zw&&(function(){}).name==="something",Zse=zw&&(!oy||oy&&Qse(rj,"name").configurable),qw={EXISTS:zw,PROPER:Xse,CONFIGURABLE:Zse},Jse=En,bk=Rn,eoe=Mo,xk=wp,toe=Vw,noe=ej,sj=nj,roe=qw.CONFIGURABLE,soe=sj.get,ooe=sj.enforce,aoe=String(String).split("String");(JI.exports=function(e,t,n,r){var s=r?!!r.unsafe:!1,o=r?!!r.enumerable:!1,a=r?!!r.noTargetGet:!1,c=r&&r.name!==void 0?r.name:t,l;if(bk(n)&&(String(c).slice(0,7)==="Symbol("&&(c="["+String(c).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!eoe(n,"name")||roe&&n.name!==c)&&xk(n,"name",c),l=ooe(n),l.source||(l.source=aoe.join(typeof c=="string"?c:""))),e===Jse){o?e[t]=n:toe(t,n);return}else s?!a&&e[t]&&(o=!0):delete e[t];o?e[t]=n:xk(e,t,n)})(Function.prototype,"toString",function(){return bk(this)&&soe(this).source||noe(this)});var ll=JI.exports,oj={},ioe=Math.ceil,coe=Math.floor,Sp=function(e){var t=+e;return t!==t||t===0?0:(t>0?coe:ioe)(t)},loe=Sp,uoe=Math.max,doe=Math.min,foe=function(e,t){var n=loe(e);return n<0?uoe(n+t,0):doe(n,t)},hoe=Sp,poe=Math.min,aj=function(e){return e>0?poe(hoe(e),9007199254740991):0},moe=aj,goe=function(e){return moe(e.length)},voe=Uw,yoe=foe,boe=goe,wk=function(e){return function(t,n,r){var s=voe(t),o=boe(s),a=yoe(r,o),c;if(e&&n!=n){for(;o>a;)if(c=s[a++],c!=c)return!0}else for(;o>a;a++)if((e||a in s)&&s[a]===n)return e||a||0;return!e&&-1}},xoe={includes:wk(!0),indexOf:wk(!1)},ig=Mo,woe=Uw,Soe=xoe.indexOf,Coe=Hw,ij=function(e,t){var n=woe(e),r=0,s=[],o;for(o in n)!ig(Coe,o)&&ig(n,o)&&s.push(o);for(;t.length>r;)ig(n,o=t[r++])&&(~Soe(s,o)||s.push(o));return s},Yw=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],_oe=ij,Toe=Yw,koe=Toe.concat("length","prototype");oj.f=Object.getOwnPropertyNames||function(t){return _oe(t,koe)};var cj={};cj.f=Object.getOwnPropertySymbols;var Moe=xp,Eoe=oj,Poe=cj,$oe=$s,Aoe=Moe("Reflect","ownKeys")||function(t){var n=Eoe.f($oe(t)),r=Poe.f;return r?n.concat(r(t)):n},Ooe=Mo,Noe=Aoe,Ioe=Fw,joe=cl,Roe=function(e,t){for(var n=Noe(t),r=joe.f,s=Ioe.f,o=0;o<n.length;o++){var a=n[o];Ooe(e,a)||r(e,a,s(t,a))}},Doe=Kn,Loe=Rn,Foe=/#|\.prototype\./,ul=function(e,t){var n=Uoe[Boe(e)];return n==Goe?!0:n==Voe?!1:Loe(t)?Doe(t):!!t},Boe=ul.normalize=function(e){return String(e).replace(Foe,".").toLowerCase()},Uoe=ul.data={},Voe=ul.NATIVE="N",Goe=ul.POLYFILL="P",Woe=ul,cg=En,Hoe=Fw.f,zoe=wp,qoe=ll,Yoe=Vw,Koe=Roe,Qoe=Woe,Xoe=function(e,t){var n=e.target,r=e.global,s=e.stat,o,a,c,l,u,d;if(r?a=cg:s?a=cg[n]||Yoe(n,{}):a=(cg[n]||{}).prototype,a)for(c in t){if(u=t[c],e.noTargetGet?(d=Hoe(a,c),l=d&&d.value):l=a[c],o=Qoe(r?c:n+(s?".":"#")+c,e.forced),!o&&l!==void 0){if(typeof u==typeof l)continue;Koe(u,l)}(e.sham||l&&l.sham)&&zoe(u,"sham",!0),qoe(a,c,u,e)}},Zoe=il,Joe=Zoe("toStringTag"),lj={};lj[Joe]="z";var Kw=String(lj)==="[object z]",eae=Kw,tae=Rn,Iu=Bw,nae=il,rae=nae("toStringTag"),sae=Iu(function(){return arguments}())=="Arguments",oae=function(e,t){try{return e[t]}catch{}},uj=eae?Iu:function(e){var t,n,r;return e===void 0?"Undefined":e===null?"Null":typeof(n=oae(t=Object(e),rae))=="string"?n:sae?Iu(t):(r=Iu(t))=="Object"&&tae(t.callee)?"Arguments":r},aae=uj,Cp=function(e){if(aae(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return String(e)},iae=$s,dj=function(){var e=iae(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},Qw={},fj=Kn,cae=En,hj=cae.RegExp;Qw.UNSUPPORTED_Y=fj(function(){var e=hj("a","y");return e.lastIndex=2,e.exec("abcd")!=null});Qw.BROKEN_CARET=fj(function(){var e=hj("^r","gy");return e.lastIndex=2,e.exec("str")!=null});var lae=ij,uae=Yw,dae=Object.keys||function(t){return lae(t,uae)},fae=ko,hae=cl,pae=$s,mae=dae,gae=fae?Object.defineProperties:function(t,n){pae(t);for(var r=mae(n),s=r.length,o=0,a;s>o;)hae.f(t,a=r[o++],n[a]);return t},vae=xp,yae=vae("document","documentElement"),bae=$s,xae=gae,Sk=Yw,wae=Hw,Sae=yae,Cae=XI,_ae=tj,Ck=">",_k="<",ay="prototype",iy="script",pj=_ae("IE_PROTO"),lg=function(){},mj=function(e){return _k+iy+Ck+e+_k+"/"+iy+Ck},Tk=function(e){e.write(mj("")),e.close();var t=e.parentWindow.Object;return e=null,t},Tae=function(){var e=Cae("iframe"),t="java"+iy+":",n;return e.style.display="none",Sae.appendChild(e),e.src=String(t),n=e.contentWindow.document,n.open(),n.write(mj("document.F=Object")),n.close(),n.F},Zl,ju=function(){try{Zl=new ActiveXObject("htmlfile")}catch{}ju=typeof document<"u"?document.domain&&Zl?Tk(Zl):Tae():Tk(Zl);for(var e=Sk.length;e--;)delete ju[ay][Sk[e]];return ju()};wae[pj]=!0;var kae=Object.create||function(t,n){var r;return t!==null?(lg[ay]=bae(t),r=new lg,lg[ay]=null,r[pj]=t):r=ju(),n===void 0?r:xae(r,n)},Mae=Kn,Eae=En,Pae=Eae.RegExp,$ae=Mae(function(){var e=Pae(".","s");return!(e.dotAll&&e.exec(`
`)&&e.flags==="s")}),Aae=Kn,Oae=En,Nae=Oae.RegExp,Iae=Aae(function(){var e=Nae("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"}),jae=Cp,Rae=dj,kk=Qw,Dae=Ww,Lae=kae,Fae=nj.get,Bae=$ae,Uae=Iae,Xd=RegExp.prototype.exec,Vae=Dae("native-string-replace",String.prototype.replace),cy=Xd,ly=function(){var e=/a/,t=/b*/g;return Xd.call(e,"a"),Xd.call(t,"a"),e.lastIndex!==0||t.lastIndex!==0}(),gj=kk.UNSUPPORTED_Y||kk.BROKEN_CARET,uy=/()??/.exec("")[1]!==void 0,Gae=ly||uy||gj||Bae||Uae;Gae&&(cy=function(t){var n=this,r=Fae(n),s=jae(t),o=r.raw,a,c,l,u,d,f,h;if(o)return o.lastIndex=n.lastIndex,a=cy.call(o,s),n.lastIndex=o.lastIndex,a;var m=r.groups,g=gj&&n.sticky,v=Rae.call(n),y=n.source,x=0,b=s;if(g&&(v=v.replace("y",""),v.indexOf("g")===-1&&(v+="g"),b=s.slice(n.lastIndex),n.lastIndex>0&&(!n.multiline||n.multiline&&s.charAt(n.lastIndex-1)!==`
`)&&(y="(?: "+y+")",b=" "+b,x++),c=new RegExp("^(?:"+y+")",v)),uy&&(c=new RegExp("^"+y+"$(?!\\s)",v)),ly&&(l=n.lastIndex),u=Xd.call(g?c:n,b),g?u?(u.input=u.input.slice(x),u[0]=u[0].slice(x),u.index=n.lastIndex,n.lastIndex+=u[0].length):n.lastIndex=0:ly&&u&&(n.lastIndex=n.global?u.index+u[0].length:l),uy&&u&&u.length>1&&Vae.call(u[0],c,function(){for(d=1;d<arguments.length-2;d++)arguments[d]===void 0&&(u[d]=void 0)}),u&&m)for(u.groups=f=Lae(null),d=0;d<m.length;d++)h=m[d],f[h[0]]=u[h[1]];return u});var Xw=cy,Wae=Xoe,Mk=Xw;Wae({target:"RegExp",proto:!0,forced:/./.exec!==Mk},{exec:Mk});var Ek=ll,Hae=Xw,Pk=Kn,vj=il,zae=wp,qae=vj("species"),ug=RegExp.prototype,Yae=function(e,t,n,r){var s=vj(e),o=!Pk(function(){var u={};return u[s]=function(){return 7},""[e](u)!=7}),a=o&&!Pk(function(){var u=!1,d=/a/;return e==="split"&&(d={},d.constructor={},d.constructor[qae]=function(){return d},d.flags="",d[s]=/./[s]),d.exec=function(){return u=!0,null},d[s](""),!u});if(!o||!a||n){var c=/./[s],l=t(s,""[e],function(u,d,f,h,m){var g=d.exec;return g===Hae||g===ug.exec?o&&!m?{done:!0,value:c.call(d,f,h)}:{done:!0,value:u.call(f,d,h)}:{done:!1}});Ek(String.prototype,e,l[0]),Ek(ug,s,l[1])}r&&zae(ug[s],"sham",!0)},Kae=Sp,Qae=Cp,Xae=bp,$k=function(e){return function(t,n){var r=Qae(Xae(t)),s=Kae(n),o=r.length,a,c;return s<0||s>=o?e?"":void 0:(a=r.charCodeAt(s),a<55296||a>56319||s+1===o||(c=r.charCodeAt(s+1))<56320||c>57343?e?r.charAt(s):a:e?r.slice(s,s+2):(a-55296<<10)+(c-56320)+65536)}},Zae={codeAt:$k(!1),charAt:$k(!0)},Jae=Zae.charAt,eie=function(e,t,n){return t+(n?Jae(e,t).length:1)},tie=YI,nie=Math.floor,rie="".replace,sie=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,oie=/\$([$&'`]|\d{1,2})/g,aie=function(e,t,n,r,s,o){var a=n+e.length,c=r.length,l=oie;return s!==void 0&&(s=tie(s),l=sie),rie.call(o,l,function(u,d){var f;switch(d.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(a);case"<":f=s[d.slice(1,-1)];break;default:var h=+d;if(h===0)return u;if(h>c){var m=nie(h/10);return m===0?u:m<=c?r[m-1]===void 0?d.charAt(1):r[m-1]+d.charAt(1):u}f=r[h-1]}return f===void 0?"":f})},iie=$s,cie=Rn,lie=Bw,uie=Xw,die=function(e,t){var n=e.exec;if(cie(n)){var r=n.call(e,t);return r!==null&&iie(r),r}if(lie(e)==="RegExp")return uie.call(e,t);throw TypeError("RegExp#exec called on incompatible receiver")},fie=Yae,hie=Kn,pie=$s,mie=Rn,gie=Sp,vie=aj,Bo=Cp,yie=bp,bie=eie,xie=zI,wie=aie,Sie=die,Cie=il,dy=Cie("replace"),_ie=Math.max,Tie=Math.min,kie=function(e){return e===void 0?e:String(e)},Mie=function(){return"a".replace(/./,"$0")==="$0"}(),Ak=function(){return/./[dy]?/./[dy]("a","$0")==="":!1}(),Eie=!hie(function(){var e=/./;return e.exec=function(){var t=[];return t.groups={a:"7"},t},"".replace(e,"$<a>")!=="7"});fie("replace",function(e,t,n){var r=Ak?"$":"$0";return[function(o,a){var c=yie(this),l=o==null?void 0:xie(o,dy);return l?l.call(o,c,a):t.call(Bo(c),o,a)},function(s,o){var a=pie(this),c=Bo(s);if(typeof o=="string"&&o.indexOf(r)===-1&&o.indexOf("$<")===-1){var l=n(t,a,c,o);if(l.done)return l.value}var u=mie(o);u||(o=Bo(o));var d=a.global;if(d){var f=a.unicode;a.lastIndex=0}for(var h=[];;){var m=Sie(a,c);if(m===null||(h.push(m),!d))break;var g=Bo(m[0]);g===""&&(a.lastIndex=bie(c,vie(a.lastIndex),f))}for(var v="",y=0,x=0;x<h.length;x++){m=h[x];for(var b=Bo(m[0]),w=_ie(Tie(gie(m.index),c.length),0),C=[],T=1;T<m.length;T++)C.push(kie(m[T]));var _=m.groups;if(u){var k=[b].concat(C,w,c);_!==void 0&&k.push(_);var M=Bo(o.apply(void 0,k))}else M=wie(b,c,w,C,_,o);w>=y&&(v+=c.slice(y,w)+M,y=w+b.length)}return v+c.slice(y)}]},!Eie||!Mie||Ak);var Pie=typeof Bun=="function"&&Bun&&typeof Bun.version=="string",$ie=TypeError,Aie=function(e,t){if(e<t)throw $ie("Not enough arguments");return e},yj=nn,Oie=ow,Nie=rn,Iie=Pie,jie=cN,Rie=Aw,Die=Aie,Lie=yj.Function,Fie=/MSIE .\./.test(jie)||Iie&&function(){var e=yj.Bun.version.split(".");return e.length<3||e[0]==="0"&&(e[1]<3||e[1]==="3"&&e[2]==="0")}(),bj=function(e,t){var n=t?2:1;return Fie?function(r,s){var o=Die(arguments.length,1)>n,a=Nie(r)?r:Lie(r),c=o?Rie(arguments,n):[],l=o?function(){Oie(a,this,c)}:a;return t?e(l,s):e(l)}:e},Bie=Ge,xj=nn,Uie=bj,Ok=Uie(xj.setInterval,!0);Bie({global:!0,bind:!0,forced:xj.setInterval!==Ok},{setInterval:Ok});var Vie=Ge,wj=nn,Gie=bj,Nk=Gie(wj.setTimeout,!0);Vie({global:!0,bind:!0,forced:wj.setTimeout!==Nk},{setTimeout:Nk});var Wie=Ht,Hie=Wie.setInterval,zie=Hie;const Ylt=ye(zie);var qie=Rt,Sj=function(e,t){var n=[][e];return!!n&&qie(function(){n.call(null,t||function(){return 1},1)})},Yie=Ge,Kie=aw,Qie=_N.indexOf,Xie=Sj,fy=Kie([].indexOf),Cj=!!fy&&1/fy([1],1,-0)<0,Zie=Cj||!Xie("indexOf");Yie({target:"Array",proto:!0,forced:Zie},{indexOf:function(t){var n=arguments.length>1?arguments[1]:void 0;return Cj?fy(this,t,n)||0:Qie(this,t,n)}});var Jie=ii,ece=Jie("Array").indexOf,tce=Ms,nce=ece,dg=Array.prototype,rce=function(e){var t=e.indexOf;return e===dg||tce(dg,e)&&t===dg.indexOf?nce:t},sce=rce,oce=sce,ace=oce;const Klt=ye(ace);var ice=kn,cce=ri,lce=TypeError,uce=Object.getOwnPropertyDescriptor,dce=ice&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}(),fce=dce?function(e,t){if(cce(e)&&!uce(e,"length").writable)throw lce("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t},Ik=rp,hce=TypeError,pce=function(e,t){if(!delete e[t])throw hce("Cannot delete property "+Ik(t)+" of "+Ik(e))},mce=Ge,gce=Es,vce=cp,yce=op,bce=To,xce=fce,wce=vN,Sce=bw,Cce=si,fg=pce,_ce=ap,Tce=_ce("splice"),kce=Math.max,Mce=Math.min;mce({target:"Array",proto:!0,forced:!Tce},{splice:function(t,n){var r=gce(this),s=bce(r),o=vce(t,s),a=arguments.length,c,l,u,d,f,h;for(a===0?c=l=0:a===1?(c=0,l=s-o):(c=a-2,l=Mce(kce(yce(n),0),s-o)),wce(s+c-l),u=Sce(r,l),d=0;d<l;d++)f=o+d,f in r&&Cce(u,d,r[f]);if(u.length=l,c<l){for(d=o;d<s-l;d++)f=d+l,h=d+c,f in r?r[h]=r[f]:fg(r,h);for(d=s;d>s-l+c;d--)fg(r,d-1)}else if(c>l)for(d=s-l;d>o;d--)f=d+l-1,h=d+c-1,f in r?r[h]=r[f]:fg(r,h);for(d=0;d<c;d++)r[d+o]=arguments[d+2];return xce(r,s-l+c),u}});var Ece=ii,Pce=Ece("Array").splice,$ce=Ms,Ace=Pce,hg=Array.prototype,Oce=function(e){var t=e.splice;return e===hg||$ce(hg,e)&&t===hg.splice?Ace:t},Nce=Oce,Ice=Nce,jce=Ice;const Qlt=ye(jce);var Rce=ii,Dce=Rce("Array").concat,Lce=Ms,Fce=Dce,pg=Array.prototype,Bce=function(e){var t=e.concat;return e===pg||Lce(pg,e)&&t===pg.concat?Fce:t},Uce=Bce,Vce=Uce,Gce=Vce;const vc=ye(Gce);var Wce=Ge,Hce=Mt,_j=Date,zce=Hce(_j.prototype.getTime);Wce({target:"Date",stat:!0},{now:function(){return zce(new _j)}});var qce=Ht,Yce=qce.Date.now,Kce=Yce,Qce=Kce,Xce=Qce;const yc=ye(Xce);var Zce=Tw.forEach,Jce=Sj,ele=Jce("forEach"),tle=ele?[].forEach:function(t){return Zce(this,t,arguments.length>1?arguments[1]:void 0)},nle=Ge,jk=tle;nle({target:"Array",proto:!0,forced:[].forEach!==jk},{forEach:jk});var rle=ii,sle=rle("Array").forEach,ole=sle,ale=ole,ile=oi,cle=Mn,lle=Ms,ule=ale,mg=Array.prototype,dle={DOMTokenList:!0,NodeList:!0},fle=function(e){var t=e.forEach;return e===mg||lle(mg,e)&&t===mg.forEach||cle(dle,ile(e))?ule:t},hle=fle;const ple=ye(hle);var mle=Ge,gle=Es,Tj=ww,vle=Rt,yle=vle(function(){Tj(1)});mle({target:"Object",stat:!0,forced:yle},{keys:function(t){return Tj(gle(t))}});var ble=Ht,xle=ble.Object.keys,wle=xle,Sle=wle,Cle=Sle;const Xlt=ye(Cle);var _le=Ht,Tle=_le.Object.getOwnPropertySymbols,kle=Tle,Mle=kle,Ele=Mle;const Zlt=ye(Ele);var Ple=Ge,$le=Tw.filter,Ale=ap,Ole=Ale("filter");Ple({target:"Array",proto:!0,forced:!Ole},{filter:function(t){return $le(this,t,arguments.length>1?arguments[1]:void 0)}});var Nle=ii,Ile=Nle("Array").filter,jle=Ms,Rle=Ile,gg=Array.prototype,Dle=function(e){var t=e.filter;return e===gg||jle(gg,e)&&t===gg.filter?Rle:t},Lle=Dle,Fle=Lle,Ble=Fle;const Jlt=ye(Ble);var kj={exports:{}},Ule=Ge,Vle=Rt,Gle=wr,Mj=Xc.f,Ej=kn,Wle=!Ej||Vle(function(){Mj(1)});Ule({target:"Object",stat:!0,forced:Wle,sham:!Ej},{getOwnPropertyDescriptor:function(t,n){return Mj(Gle(t),n)}});var Hle=Ht,Pj=Hle.Object,zle=kj.exports=function(t,n){return Pj.getOwnPropertyDescriptor(t,n)};Pj.getOwnPropertyDescriptor.sham&&(zle.sham=!0);var qle=kj.exports,Yle=qle,Kle=Yle,Qle=Kle;const eut=ye(Qle);var Xle=Sr,Zle=Mt,Jle=dp,eue=fp,tue=Ps,nue=Zle([].concat),rue=Xle("Reflect","ownKeys")||function(t){var n=Jle.f(tue(t)),r=eue.f;return r?nue(n,r(t)):n},sue=Ge,oue=kn,aue=rue,iue=wr,cue=Xc,lue=si;sue({target:"Object",stat:!0,sham:!oue},{getOwnPropertyDescriptors:function(t){for(var n=iue(t),r=cue.f,s=aue(n),o={},a=0,c,l;s.length>a;)l=r(n,c=s[a++]),l!==void 0&&lue(o,c,l);return o}});var uue=Ht,due=uue.Object.getOwnPropertyDescriptors,fue=due,hue=fue,pue=hue;const tut=ye(pue);var $j={exports:{}},mue=Ge,gue=kn,Rk=ip.f;mue({target:"Object",stat:!0,forced:Object.defineProperties!==Rk,sham:!gue},{defineProperties:Rk});var vue=Ht,Aj=vue.Object,yue=$j.exports=function(t,n){return Aj.defineProperties(t,n)};Aj.defineProperties.sham&&(yue.sham=!0);var bue=$j.exports,xue=bue,wue=xue,Sue=wue;const nut=ye(Sue);var Cue=DI;const rut=ye(Cue);function _ue(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function Tue(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var kue=function(){function e(n){var r=this;this._insertTag=function(s){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,o),r.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Tue(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var o=_ue(s);try{o.insertRule(r,o.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),qt="-ms-",Zd="-moz-",Ae="-webkit-",Oj="comm",Zw="rule",Jw="decl",Mue="@import",Nj="@keyframes",Eue="@layer",Pue=Math.abs,_p=String.fromCharCode,$ue=Object.assign;function Aue(e,t){return Ut(e,0)^45?(((t<<2^Ut(e,0))<<2^Ut(e,1))<<2^Ut(e,2))<<2^Ut(e,3):0}function Ij(e){return e.trim()}function Oue(e,t){return(e=t.exec(e))?e[0]:e}function Oe(e,t,n){return e.replace(t,n)}function hy(e,t){return e.indexOf(t)}function Ut(e,t){return e.charCodeAt(t)|0}function bc(e,t,n){return e.slice(t,n)}function ar(e){return e.length}function e1(e){return e.length}function Jl(e,t){return t.push(e),e}function Nue(e,t){return e.map(t).join("")}var Tp=1,Oa=1,jj=0,gn=0,wt=0,ci="";function kp(e,t,n,r,s,o,a){return{value:e,root:t,parent:n,type:r,props:s,children:o,line:Tp,column:Oa,length:a,return:""}}function Mi(e,t){return $ue(kp("",null,null,"",null,null,0),e,{length:-e.length},t)}function Iue(){return wt}function jue(){return wt=gn>0?Ut(ci,--gn):0,Oa--,wt===10&&(Oa=1,Tp--),wt}function Sn(){return wt=gn<jj?Ut(ci,gn++):0,Oa++,wt===10&&(Oa=1,Tp++),wt}function mr(){return Ut(ci,gn)}function Ru(){return gn}function dl(e,t){return bc(ci,e,t)}function xc(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Rj(e){return Tp=Oa=1,jj=ar(ci=e),gn=0,[]}function Dj(e){return ci="",e}function Du(e){return Ij(dl(gn-1,py(e===91?e+2:e===40?e+1:e)))}function Rue(e){for(;(wt=mr())&&wt<33;)Sn();return xc(e)>2||xc(wt)>3?"":" "}function Due(e,t){for(;--t&&Sn()&&!(wt<48||wt>102||wt>57&&wt<65||wt>70&&wt<97););return dl(e,Ru()+(t<6&&mr()==32&&Sn()==32))}function py(e){for(;Sn();)switch(wt){case e:return gn;case 34:case 39:e!==34&&e!==39&&py(wt);break;case 40:e===41&&py(e);break;case 92:Sn();break}return gn}function Lue(e,t){for(;Sn()&&e+wt!==57;)if(e+wt===84&&mr()===47)break;return"/*"+dl(t,gn-1)+"*"+_p(e===47?e:Sn())}function Fue(e){for(;!xc(mr());)Sn();return dl(e,gn)}function Bue(e){return Dj(Lu("",null,null,null,[""],e=Rj(e),0,[0],e))}function Lu(e,t,n,r,s,o,a,c,l){for(var u=0,d=0,f=a,h=0,m=0,g=0,v=1,y=1,x=1,b=0,w="",C=s,T=o,_=r,k=w;y;)switch(g=b,b=Sn()){case 40:if(g!=108&&Ut(k,f-1)==58){hy(k+=Oe(Du(b),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:k+=Du(b);break;case 9:case 10:case 13:case 32:k+=Rue(g);break;case 92:k+=Due(Ru()-1,7);continue;case 47:switch(mr()){case 42:case 47:Jl(Uue(Lue(Sn(),Ru()),t,n),l);break;default:k+="/"}break;case 123*v:c[u++]=ar(k)*x;case 125*v:case 59:case 0:switch(b){case 0:case 125:y=0;case 59+d:x==-1&&(k=Oe(k,/\f/g,"")),m>0&&ar(k)-f&&Jl(m>32?Lk(k+";",r,n,f-1):Lk(Oe(k," ","")+";",r,n,f-2),l);break;case 59:k+=";";default:if(Jl(_=Dk(k,t,n,u,d,s,c,w,C=[],T=[],f),o),b===123)if(d===0)Lu(k,t,_,_,C,o,f,c,T);else switch(h===99&&Ut(k,3)===110?100:h){case 100:case 108:case 109:case 115:Lu(e,_,_,r&&Jl(Dk(e,_,_,0,0,s,c,w,s,C=[],f),T),s,T,f,c,r?C:T);break;default:Lu(k,_,_,_,[""],T,0,c,T)}}u=d=m=0,v=x=1,w=k="",f=a;break;case 58:f=1+ar(k),m=g;default:if(v<1){if(b==123)--v;else if(b==125&&v++==0&&jue()==125)continue}switch(k+=_p(b),b*v){case 38:x=d>0?1:(k+="\f",-1);break;case 44:c[u++]=(ar(k)-1)*x,x=1;break;case 64:mr()===45&&(k+=Du(Sn())),h=mr(),d=f=ar(w=k+=Fue(Ru())),b++;break;case 45:g===45&&ar(k)==2&&(v=0)}}return o}function Dk(e,t,n,r,s,o,a,c,l,u,d){for(var f=s-1,h=s===0?o:[""],m=e1(h),g=0,v=0,y=0;g<r;++g)for(var x=0,b=bc(e,f+1,f=Pue(v=a[g])),w=e;x<m;++x)(w=Ij(v>0?h[x]+" "+b:Oe(b,/&\f/g,h[x])))&&(l[y++]=w);return kp(e,t,n,s===0?Zw:c,l,u,d)}function Uue(e,t,n){return kp(e,t,n,Oj,_p(Iue()),bc(e,2,-2),0)}function Lk(e,t,n,r){return kp(e,t,n,Jw,bc(e,0,r),bc(e,r+1,-1),r)}function da(e,t){for(var n="",r=e1(e),s=0;s<r;s++)n+=t(e[s],s,e,t)||"";return n}function Vue(e,t,n,r){switch(e.type){case Eue:if(e.children.length)break;case Mue:case Jw:return e.return=e.return||e.value;case Oj:return"";case Nj:return e.return=e.value+"{"+da(e.children,r)+"}";case Zw:e.value=e.props.join(",")}return ar(n=da(e.children,r))?e.return=e.value+"{"+n+"}":""}function Gue(e){var t=e1(e);return function(n,r,s,o){for(var a="",c=0;c<t;c++)a+=e[c](n,r,s,o)||"";return a}}function Wue(e){return function(t){t.root||(t=t.return)&&e(t)}}function Hue(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var zue=function(t,n,r){for(var s=0,o=0;s=o,o=mr(),s===38&&o===12&&(n[r]=1),!xc(o);)Sn();return dl(t,gn)},que=function(t,n){var r=-1,s=44;do switch(xc(s)){case 0:s===38&&mr()===12&&(n[r]=1),t[r]+=zue(gn-1,n,r);break;case 2:t[r]+=Du(s);break;case 4:if(s===44){t[++r]=mr()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=_p(s)}while(s=Sn());return t},Yue=function(t,n){return Dj(que(Rj(t),n))},Fk=new WeakMap,Kue=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,s=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!Fk.get(r))&&!s){Fk.set(t,!0);for(var o=[],a=Yue(n,o),c=r.props,l=0,u=0;l<a.length;l++)for(var d=0;d<c.length;d++,u++)t.props[u]=o[l]?a[l].replace(/&\f/g,c[d]):c[d]+" "+a[l]}}},Que=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function Lj(e,t){switch(Aue(e,t)){case 5103:return Ae+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ae+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Ae+e+Zd+e+qt+e+e;case 6828:case 4268:return Ae+e+qt+e+e;case 6165:return Ae+e+qt+"flex-"+e+e;case 5187:return Ae+e+Oe(e,/(\w+).+(:[^]+)/,Ae+"box-$1$2"+qt+"flex-$1$2")+e;case 5443:return Ae+e+qt+"flex-item-"+Oe(e,/flex-|-self/,"")+e;case 4675:return Ae+e+qt+"flex-line-pack"+Oe(e,/align-content|flex-|-self/,"")+e;case 5548:return Ae+e+qt+Oe(e,"shrink","negative")+e;case 5292:return Ae+e+qt+Oe(e,"basis","preferred-size")+e;case 6060:return Ae+"box-"+Oe(e,"-grow","")+Ae+e+qt+Oe(e,"grow","positive")+e;case 4554:return Ae+Oe(e,/([^-])(transform)/g,"$1"+Ae+"$2")+e;case 6187:return Oe(Oe(Oe(e,/(zoom-|grab)/,Ae+"$1"),/(image-set)/,Ae+"$1"),e,"")+e;case 5495:case 3959:return Oe(e,/(image-set\([^]*)/,Ae+"$1$`$1");case 4968:return Oe(Oe(e,/(.+:)(flex-)?(.*)/,Ae+"box-pack:$3"+qt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ae+e+e;case 4095:case 3583:case 4068:case 2532:return Oe(e,/(.+)-inline(.+)/,Ae+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ar(e)-1-t>6)switch(Ut(e,t+1)){case 109:if(Ut(e,t+4)!==45)break;case 102:return Oe(e,/(.+:)(.+)-([^]+)/,"$1"+Ae+"$2-$3$1"+Zd+(Ut(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~hy(e,"stretch")?Lj(Oe(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Ut(e,t+1)!==115)break;case 6444:switch(Ut(e,ar(e)-3-(~hy(e,"!important")&&10))){case 107:return Oe(e,":",":"+Ae)+e;case 101:return Oe(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ae+(Ut(e,14)===45?"inline-":"")+"box$3$1"+Ae+"$2$3$1"+qt+"$2box$3")+e}break;case 5936:switch(Ut(e,t+11)){case 114:return Ae+e+qt+Oe(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Ae+e+qt+Oe(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Ae+e+qt+Oe(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Ae+e+qt+e+e}return e}var Xue=function(t,n,r,s){if(t.length>-1&&!t.return)switch(t.type){case Jw:t.return=Lj(t.value,t.length);break;case Nj:return da([Mi(t,{value:Oe(t.value,"@","@"+Ae)})],s);case Zw:if(t.length)return Nue(t.props,function(o){switch(Oue(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return da([Mi(t,{props:[Oe(o,/:(read-\w+)/,":"+Zd+"$1")]})],s);case"::placeholder":return da([Mi(t,{props:[Oe(o,/:(plac\w+)/,":"+Ae+"input-$1")]}),Mi(t,{props:[Oe(o,/:(plac\w+)/,":"+Zd+"$1")]}),Mi(t,{props:[Oe(o,/:(plac\w+)/,qt+"input-$1")]})],s)}return""})}},Zue=[Xue],Jue=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var y=v.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var s=t.stylisPlugins||Zue,o={},a,c=[];a=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(v){for(var y=v.getAttribute("data-emotion").split(" "),x=1;x<y.length;x++)o[y[x]]=!0;c.push(v)});var l,u=[Kue,Que];{var d,f=[Vue,Wue(function(v){d.insert(v)})],h=Gue(u.concat(s,f)),m=function(y){return da(Bue(y),h)};l=function(y,x,b,w){d=b,m(y?y+"{"+x.styles+"}":x.styles),w&&(g.inserted[x.name]=!0)}}var g={key:n,sheet:new kue({key:n,container:a,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:l};return g.sheet.hydrate(c),g};function ede(e){for(var t=0,n,r=0,s=e.length;s>=4;++r,s-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(s){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var tde={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},nde=/[A-Z]|^ms/g,rde=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Fj=function(t){return t.charCodeAt(1)===45},Bk=function(t){return t!=null&&typeof t!="boolean"},vg=Hue(function(e){return Fj(e)?e:e.replace(nde,"-$&").toLowerCase()}),Uk=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(rde,function(r,s,o){return ir={name:s,styles:o,next:ir},s})}return tde[t]!==1&&!Fj(t)&&typeof n=="number"&&n!==0?n+"px":n};function wc(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return ir={name:n.name,styles:n.styles,next:ir},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)ir={name:r.name,styles:r.styles,next:ir},r=r.next;var s=n.styles+";";return s}return sde(e,t,n)}case"function":{if(e!==void 0){var o=ir,a=n(e);return ir=o,wc(e,t,a)}break}}if(t==null)return n;var c=t[n];return c!==void 0?c:n}function sde(e,t,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=wc(e,t,n[s])+";";else for(var o in n){var a=n[o];if(typeof a!="object")t!=null&&t[a]!==void 0?r+=o+"{"+t[a]+"}":Bk(a)&&(r+=vg(o)+":"+Uk(o,a)+";");else if(Array.isArray(a)&&typeof a[0]=="string"&&(t==null||t[a[0]]===void 0))for(var c=0;c<a.length;c++)Bk(a[c])&&(r+=vg(o)+":"+Uk(o,a[c])+";");else{var l=wc(e,t,a);switch(o){case"animation":case"animationName":{r+=vg(o)+":"+l+";";break}default:r+=o+"{"+l+"}"}}}return r}var Vk=/label:\s*([^\s;\n{]+)\s*(;|$)/g,ir,yg=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var s=!0,o="";ir=void 0;var a=t[0];a==null||a.raw===void 0?(s=!1,o+=wc(r,n,a)):o+=a[0];for(var c=1;c<t.length;c++)o+=wc(r,n,t[c]),s&&(o+=a[c]);Vk.lastIndex=0;for(var l="",u;(u=Vk.exec(o))!==null;)l+="-"+u[1];var d=ede(o)+l;return{name:d,styles:o,next:ir}},ode=!0;function Bj(e,t,n){var r="";return n.split(" ").forEach(function(s){e[s]!==void 0?t.push(e[s]+";"):r+=s+" "}),r}var ade=function(t,n,r){var s=t.key+"-"+n.name;(r===!1||ode===!1)&&t.registered[s]===void 0&&(t.registered[s]=n.styles)},ide=function(t,n,r){ade(t,n,r);var s=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var o=n;do t.insert(n===o?"."+s:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function Gk(e,t){if(e.inserted[t.name]===void 0)return e.insert("",t,e.sheet,!0)}function Wk(e,t,n){var r=[],s=Bj(e,r,n);return r.length<2?n:s+t(r)}var sut=function(t){var n=Jue(t);n.sheet.speedy=function(c){this.isSpeedy=c},n.compat=!0;var r=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var f=yg(u,n.registered,void 0);return ide(n,f,!1),n.key+"-"+f.name},s=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var f=yg(u,n.registered),h="animation-"+f.name;return Gk(n,{name:f.name,styles:"@keyframes "+h+"{"+f.styles+"}"}),h},o=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var f=yg(u,n.registered);Gk(n,f)},a=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];return Wk(n.registered,r,cde(u))};return{css:r,cx:a,injectGlobal:o,keyframes:s,hydrate:function(l){l.forEach(function(u){n.inserted[u]=!0})},flush:function(){n.registered={},n.inserted={},n.sheet.flush()},sheet:n.sheet,cache:n,getRegisteredStyles:Bj.bind(null,n.registered),merge:Wk.bind(null,n.registered,r)}},cde=function e(t){for(var n="",r=0;r<t.length;r++){var s=t[r];if(s!=null){var o=void 0;switch(typeof s){case"boolean":break;case"object":{if(Array.isArray(s))o=e(s);else{o="";for(var a in s)s[a]&&a&&(o&&(o+=" "),o+=a)}break}default:o=s}o&&(n&&(n+=" "),n+=o)}}return n},lde=ll,t1=Date.prototype,Hk="Invalid Date",Uj="toString",ude=t1[Uj],dde=t1.getTime;String(new Date(NaN))!=Hk&&lde(t1,Uj,function(){var t=dde.call(this);return t===t?ude.call(this):Hk});var fde=Kw,hde=uj,pde=fde?{}.toString:function(){return"[object "+hde(this)+"]"},mde=Kw,gde=ll,vde=pde;mde||gde(Object.prototype,"toString",vde,{unsafe:!0});var yde=qw.PROPER,bde=ll,xde=$s,zk=Cp,wde=Kn,Sde=dj,n1="toString",Vj=RegExp.prototype,Gj=Vj[n1],Cde=wde(function(){return Gj.call({source:"a",flags:"b"})!="/a/b"}),_de=yde&&Gj.name!=n1;(Cde||_de)&&bde(RegExp.prototype,n1,function(){var t=xde(this),n=zk(t.source),r=t.flags,s=zk(r===void 0&&t instanceof RegExp&&!("flags"in Vj)?Sde.call(t):r);return"/"+n+"/"+s},{unsafe:!0});var qk=typeof window<"u"?window:self,Tde=qk.crypto||qk.msCrypto,kde=function(e){if(!e)return Math.random;var t=Math.pow(2,32),n=new Uint32Array(1);return function(){return e.getRandomValues(n)[0]/t}}(Tde);const Mde=ye(kde);function out(){return Mde().toString(26).substr(2,5).replace(/[0-9]/g,function(e){return String.fromCharCode(e.charCodeAt(0)+65)})}var Ede=mN;const my=ye(Ede);function Pde(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"white",n="background-color: ".concat(e,"; border-radius: 4px; padding: 2px 4px;");return t&&(n+=" color: ".concat(t,";")),[n,""]}function Yk(e,t){for(var n,r,s=arguments.length,o=new Array(s>2?s-2:0),a=2;a<s;a++)o[a-2]=arguments[a];return vc(n=[vc(r="%c".concat(e,"%c ")).call(r,t)]).call(n,Ws(Pde("green","white")),o)}function aut(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.force,r=n===void 0?!1:n;return r?function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];if(o.length){var c=o,l=Rw(c,1),u=l[0];typeof u=="function"&&(o=u());var d=my(o[0])?o:[o],f=d.length===1;ple(d).call(d,function(h,m){if(f){var g,v;(g=console).log.apply(g,Ws(Yk.apply(void 0,vc(v=[e]).call(v,Ws(h)))))}else if(m){var y;(y=console).log.apply(y,Ws(my(h)?h:[h]))}else{var x,b;(x=console).groupCollapsed.apply(x,Ws(Yk.apply(void 0,vc(b=[e]).call(b,Ws(h)))))}}),f||console.groupEnd()}}:function(){return 0}}var $de=ko,Ade=qw.EXISTS,Ode=cl.f,Wj=Function.prototype,Nde=Wj.toString,Ide=/^\s*function ([^ (]*)/,jde="name";$de&&!Ade&&Ode(Wj,jde,{configurable:!0,get:function(){try{return Nde.call(this).match(Ide)[1]}catch{return""}}});var Rde=Ht,Dde=Rde.setTimeout,Lde=Dde;const Fde=ye(Lde);function Bde(e,t){if(!t)return e;var n=0,r=null;return function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];var c=yc();c-n>t?(e.apply(void 0,o),n=c):(clearTimeout(r),r=Fde(function(){e.apply(void 0,o),n=yc()},Math.max(0,t-c+n)))}}var Ude=function(t){var n=t.debounce,r=t.name,s=t.onEvent,o=t.target,a=p.useRef();a.current=s;var c=p.useMemo(function(){return Bde(function(u){var d=a.current;d&&d(u)},n)},[n,a]),l=p.useCallback(function(u){u.timeStampLow=yc(),c(u)},[c]);return p.useLayoutEffect(function(){return o.addEventListener(r,l,{passive:!0}),l({target:o,type:r}),function(){return o.removeEventListener(r,l)}},[r,l,o]),!1};Ude.defaultProps={debounce:200};var Vde=Math.sign||function(t){var n=+t;return n===0||n!==n?n:n<0?-1:1},Gde=Ge,Wde=Vde;Gde({target:"Math",stat:!0},{sign:Wde});var Hde=Ht,zde=Hde.Math.sign,qde=zde,Yde=qde,Kde=Yde;const Qde=ye(Kde);function Xde(e,t){var n=Qde(t-e),r=Math.sqrt(Math.abs(t-e)),s=e+r*n;return n>0?Math.min(t,s):Math.max(t,s)}function Zde(e,t,n,r){for(var s=e,o=0;o<r;o++)s=n(s,t);return s}var Jde=function(t){var n=t.name,r=t.onEnd,s=t.target,o=t.value,a=p.useRef(),c=p.useCallback(function(u,d,f,h){var m=arguments.length>4&&arguments[4]!==void 0?arguments[4]:yc();(f==="100%"||typeof f=="number")&&(cancelAnimationFrame(a.current),a.current=requestAnimationFrame(function(){if(s){var g=f==="100%"?s.scrollHeight-s.offsetHeight:f,v=Zde(d,g,Xde,(yc()-m)/5);Math.abs(g-v)<1.5&&(v=g),s[u]=v,g===v?r&&r(!0):c(u,d,f,h+1,m)}}))},[a,r,s]),l=p.useCallback(function(){cancelAnimationFrame(a.current),r&&r(!1)},[r]);return p.useLayoutEffect(function(){return c(n,s[n],o,1),s?(s.addEventListener("pointerdown",l,{passive:!0}),s.addEventListener("wheel",l,{passive:!0}),function(){s.removeEventListener("pointerdown",l),s.removeEventListener("wheel",l),cancelAnimationFrame(a.current)}):function(){return cancelAnimationFrame(a.current)}},[c,a,l,n,s,o]),!1};Jde.propTypes={name:or.string.isRequired,onEnd:or.func,target:or.any.isRequired,value:or.oneOfType([or.number,or.oneOf(["100%"])]).isRequired};function iut(e){var t=p.useState(e),n=Rw(t,2),r=n[0],s=n[1],o=p.useRef(),a=p.useCallback(function(c){typeof c=="function"?a(function(l){return c=c(l),o.current=c,c}):(o.current=c,a(c))},[o]);return o.current=r,[r,s,o]}var efe={height:"100%",overflowY:"auto",width:"100%"},Hj=function(t){var n=t.children,r=t.className,s=p.useContext(Lw),o=s.setTarget,a=NI()(efe);return Q.createElement("div",{className:CI(a,(r||"")+""),ref:o},n)};Hj.defaultProps={children:void 0,className:void 0};Hj.propTypes={children:or.any,className:or.string};function cut(){var e=AI(1),t=e.atTop;return[t]}function lut(e){var t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];e&&typeof e!="function"?console.error('react-scroll-to-bottom: First argument passed to "useObserveScrollPosition" must be a function.'):my(n)||console.error('react-scroll-to-bottom: Second argument passed to "useObserveScrollPosition" must be an array if specified.');var r=OI(),s=r.observeScrollPosition;p.useEffect(function(){return e&&s(e)},vc(t=[]).call(t,Ws(n),[!e,s]))}function uut(){var e=Dw(),t=e.scrollToBottom;return t}function dut(){var e=Dw(),t=e.scrollToTop;return t}var fo={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Jd={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},tfe=typeof navigator<"u"&&/Mac/.test(navigator.platform),nfe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Gt=0;Gt<10;Gt++)fo[48+Gt]=fo[96+Gt]=String(Gt);for(var Gt=1;Gt<=24;Gt++)fo[Gt+111]="F"+Gt;for(var Gt=65;Gt<=90;Gt++)fo[Gt]=String.fromCharCode(Gt+32),Jd[Gt]=String.fromCharCode(Gt);for(var bg in fo)Jd.hasOwnProperty(bg)||(Jd[bg]=fo[bg]);function fut(e){var t=tfe&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||nfe&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?Jd:fo)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}var zj=(e=>(e.ACCELERATOR="accelerator",e.BLOCK_COMMENT_LAUNCHER="block_comment_launcher",e.CLOSE_TEXTDOC="close_textdoc",e.COLLAPSED_COMMENT="collapsed_comment",e.COMMENT_ACCEPT="comment_accept",e.COMMENT_DISMISS="comment_dismiss",e.COPY="copy",e.DOWNLOAD="download",e.EXPANDED_COMMENT="expanded_comment",e.FILE_DRAWER_ITEM="file_drawer_item",e.HISTORY_NEXT="history_next",e.HISTORY_PREVIOUS="history_previous",e.MESSAGE_ATTACHMENT="message_attachment",e.SHOW_CHANGES="show_changes",e.TOOLBAR_FORMAT_BOLD="toolbar_format_bold",e.TOOLBAR_FORMAT_HEADER1="toolbar_format_header1",e.TOOLBAR_FORMAT_HEADER2="toolbar_format_header2",e.TOOLBAR_FORMAT_HEADER3="toolbar_format_header3",e.TOOLBAR_FORMAT_ITALIC="toolbar_format_italic",e.TOOLBAR_FORMAT_PARAGRAPH="toolbar_format_paragraph",e.TOOLBAR_ASK_CHATGPT="toolbar_ask_chatgpt",e))(zj||{});function hut(e,t){const n=p.useRef(e);p.useEffect(()=>{n.current=e},[e]),p.useEffect(()=>{function r(){n.current()}if(t!=null){const s=window.setInterval(r,t);return()=>clearInterval(s)}},[t])}function qe(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function ee(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Fu(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fu=function(n){return typeof n}:Fu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Fu(e)}function oe(e){ee(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Fu(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function qj(e,t){ee(2,arguments);var n=oe(e),r=qe(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function Yj(e,t){ee(2,arguments);var n=oe(e),r=qe(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var s=n.getDate(),o=new Date(n.getTime());o.setMonth(n.getMonth()+r+1,0);var a=o.getDate();return s>=a?o:(n.setFullYear(o.getFullYear(),o.getMonth(),s),n)}function Mp(e,t){ee(2,arguments);var n=oe(e).getTime(),r=qe(t);return new Date(n+r)}var rfe=36e5;function put(e,t){ee(2,arguments);var n=qe(t);return Mp(e,n*rfe)}var sfe={};function Vr(){return sfe}function mut(e,t){var n,r,s,o,a,c,l,u;ee(1,arguments);var d=Vr(),f=qe((n=(r=(s=(o=t?.weekStartsOn)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(c=a.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=oe(e),m=h.getDay(),g=(m<f?7:0)+m-f;return h.setDate(h.getDate()-g),h.setHours(0,0,0,0),h}function Na(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function ef(e){ee(1,arguments);var t=oe(e);return t.setHours(0,0,0,0),t}var ofe=864e5;function r1(e,t){ee(2,arguments);var n=ef(e),r=ef(t),s=n.getTime()-Na(n),o=r.getTime()-Na(r);return Math.round((s-o)/ofe)}var afe=6e4;function gut(e,t){ee(2,arguments);var n=qe(t);return Mp(e,n*afe)}function vut(e,t){ee(2,arguments);var n=qe(t),r=n*3;return Yj(e,r)}function yut(e,t){ee(2,arguments);var n=qe(t);return Mp(e,n*1e3)}function but(e,t){ee(2,arguments);var n=qe(t),r=n*7;return qj(e,r)}function xut(e,t){ee(2,arguments);var n=qe(t);return Yj(e,n*12)}function fa(e,t){ee(2,arguments);var n=oe(e),r=oe(t),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}var Ep=6e4,Pp=36e5,ife=1e3;function Kj(e,t){ee(2,arguments);var n=ef(e),r=ef(t);return n.getTime()===r.getTime()}function Bu(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Bu=function(n){return typeof n}:Bu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Bu(e)}function cfe(e){return ee(1,arguments),e instanceof Date||Bu(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function lfe(e){if(ee(1,arguments),!cfe(e)&&typeof e!="number")return!1;var t=oe(e);return!isNaN(Number(t))}function ufe(e,t){ee(2,arguments);var n=oe(e),r=oe(t),s=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return s*12+o}function dfe(e,t){ee(2,arguments);var n=oe(e),r=oe(t);return n.getFullYear()-r.getFullYear()}function Kk(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function ffe(e,t){ee(2,arguments);var n=oe(e),r=oe(t),s=Kk(n,r),o=Math.abs(r1(n,r));n.setDate(n.getDate()-s*o);var a=+(Kk(n,r)===-s),c=s*(o-a);return c===0?0:c}function $p(e,t){return ee(2,arguments),oe(e).getTime()-oe(t).getTime()}var Qk={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},hfe="trunc";function fl(e){return e?Qk[e]:Qk[hfe]}function wut(e,t,n){ee(2,arguments);var r=$p(e,t)/Pp;return fl(void 0)(r)}function Qj(e,t,n){ee(2,arguments);var r=$p(e,t)/Ep;return fl(void 0)(r)}function Xj(e){ee(1,arguments);var t=oe(e);return t.setHours(23,59,59,999),t}function pfe(e){ee(1,arguments);var t=oe(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function mfe(e){ee(1,arguments);var t=oe(e);return Xj(t).getTime()===pfe(t).getTime()}function Zj(e,t){ee(2,arguments);var n=oe(e),r=oe(t),s=fa(n,r),o=Math.abs(ufe(n,r)),a;if(o<1)a=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*o);var c=fa(n,r)===-s;mfe(oe(e))&&o===1&&fa(e,r)===1&&(c=!1),a=s*(o-Number(c))}return a===0?0:a}function Sut(e,t,n){ee(2,arguments);var r=Zj(e,t)/3;return fl(void 0)(r)}function gfe(e,t,n){ee(2,arguments);var r=$p(e,t)/1e3;return fl(void 0)(r)}function Cut(e,t,n){ee(2,arguments);var r=ffe(e,t)/7;return fl(void 0)(r)}function _ut(e,t){ee(2,arguments);var n=oe(e),r=oe(t),s=fa(n,r),o=Math.abs(dfe(n,r));n.setFullYear(1584),r.setFullYear(1584);var a=fa(n,r)===-s,c=s*(o-Number(a));return c===0?0:c}function Tut(e){ee(1,arguments);var t=oe(e);return t.setSeconds(0,0),t}function kut(e){ee(1,arguments);var t=oe(e),n=t.getMonth(),r=n-n%3;return t.setMonth(r,1),t.setHours(0,0,0,0),t}function Mut(e){ee(1,arguments);var t=oe(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Eut(e){ee(1,arguments);var t=oe(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function Put(e){ee(1,arguments);var t=oe(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function $ut(e){ee(1,arguments);var t=oe(e);return t.setMinutes(59,59,999),t}function Aut(e,t){var n,r,s,o,a,c;ee(1,arguments);var l=Vr(),u=qe((n=(r=(s=(o=void 0)!==null&&o!==void 0?o:void 0)!==null&&s!==void 0?s:l.weekStartsOn)!==null&&r!==void 0?r:(a=l.locale)===null||a===void 0||(c=a.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=oe(e),f=d.getDay(),h=(f<u?-7:0)+6-(f-u);return d.setDate(d.getDate()+h),d.setHours(23,59,59,999),d}function Out(e){ee(1,arguments);var t=oe(e);return t.setSeconds(59,999),t}function Nut(e){ee(1,arguments);var t=oe(e),n=t.getMonth(),r=n-n%3+3;return t.setMonth(r,0),t.setHours(23,59,59,999),t}function Iut(e){ee(1,arguments);var t=oe(e);return t.setMilliseconds(999),t}function vfe(){return Xj(Date.now())}function Jj(e,t){ee(2,arguments);var n=qe(t);return Mp(e,-n)}var yfe=864e5;function bfe(e){ee(1,arguments);var t=oe(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),s=n-r;return Math.floor(s/yfe)+1}function Ia(e){ee(1,arguments);var t=1,n=oe(e),r=n.getUTCDay(),s=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function eR(e){ee(1,arguments);var t=oe(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=Ia(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var a=Ia(o);return t.getTime()>=s.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function xfe(e){ee(1,arguments);var t=eR(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=Ia(n);return r}var wfe=6048e5;function tR(e){ee(1,arguments);var t=oe(e),n=Ia(t).getTime()-xfe(t).getTime();return Math.round(n/wfe)+1}function ho(e,t){var n,r,s,o,a,c,l,u;ee(1,arguments);var d=Vr(),f=qe((n=(r=(s=(o=t?.weekStartsOn)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(c=a.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=oe(e),m=h.getUTCDay(),g=(m<f?7:0)+m-f;return h.setUTCDate(h.getUTCDate()-g),h.setUTCHours(0,0,0,0),h}function s1(e,t){var n,r,s,o,a,c,l,u;ee(1,arguments);var d=oe(e),f=d.getUTCFullYear(),h=Vr(),m=qe((n=(r=(s=(o=t?.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(c=a.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&s!==void 0?s:h.firstWeekContainsDate)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(f+1,0,m),g.setUTCHours(0,0,0,0);var v=ho(g,t),y=new Date(0);y.setUTCFullYear(f,0,m),y.setUTCHours(0,0,0,0);var x=ho(y,t);return d.getTime()>=v.getTime()?f+1:d.getTime()>=x.getTime()?f:f-1}function Sfe(e,t){var n,r,s,o,a,c,l,u;ee(1,arguments);var d=Vr(),f=qe((n=(r=(s=(o=t?.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(c=a.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=s1(e,t),m=new Date(0);m.setUTCFullYear(h,0,f),m.setUTCHours(0,0,0,0);var g=ho(m,t);return g}var Cfe=6048e5;function nR(e,t){ee(1,arguments);var n=oe(e),r=ho(n,t).getTime()-Sfe(n,t).getTime();return Math.round(r/Cfe)+1}function Re(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var qr={y:function(t,n){var r=t.getUTCFullYear(),s=r>0?r:1-r;return Re(n==="yy"?s%100:s,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):Re(r+1,2)},d:function(t,n){return Re(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return Re(t.getUTCHours()%12||12,n.length)},H:function(t,n){return Re(t.getUTCHours(),n.length)},m:function(t,n){return Re(t.getUTCMinutes(),n.length)},s:function(t,n){return Re(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,s=t.getUTCMilliseconds(),o=Math.floor(s*Math.pow(10,r-3));return Re(o,n.length)}},Uo={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},_fe={G:function(t,n,r){var s=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var s=t.getUTCFullYear(),o=s>0?s:1-s;return r.ordinalNumber(o,{unit:"year"})}return qr.y(t,n)},Y:function(t,n,r,s){var o=s1(t,s),a=o>0?o:1-o;if(n==="YY"){var c=a%100;return Re(c,2)}return n==="Yo"?r.ordinalNumber(a,{unit:"year"}):Re(a,n.length)},R:function(t,n){var r=eR(t);return Re(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return Re(r,n.length)},Q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return Re(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return Re(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,n,r){var s=t.getUTCMonth();switch(n){case"M":case"MM":return qr.M(t,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(t,n,r){var s=t.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return Re(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(t,n,r,s){var o=nR(t,s);return n==="wo"?r.ordinalNumber(o,{unit:"week"}):Re(o,n.length)},I:function(t,n,r){var s=tR(t);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):Re(s,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):qr.d(t,n)},D:function(t,n,r){var s=bfe(t);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):Re(s,n.length)},E:function(t,n,r){var s=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(t,n,r,s){var o=t.getUTCDay(),a=(o-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(a);case"ee":return Re(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(t,n,r,s){var o=t.getUTCDay(),a=(o-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(a);case"cc":return Re(a,n.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(t,n,r){var s=t.getUTCDay(),o=s===0?7:s;switch(n){case"i":return String(o);case"ii":return Re(o,n.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(t,n,r){var s=t.getUTCHours(),o=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,n,r){var s=t.getUTCHours(),o;switch(s===12?o=Uo.noon:s===0?o=Uo.midnight:o=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,n,r){var s=t.getUTCHours(),o;switch(s>=17?o=Uo.evening:s>=12?o=Uo.afternoon:s>=4?o=Uo.morning:o=Uo.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var s=t.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return qr.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):qr.H(t,n)},K:function(t,n,r){var s=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):Re(s,n.length)},k:function(t,n,r){var s=t.getUTCHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):Re(s,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):qr.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):qr.s(t,n)},S:function(t,n){return qr.S(t,n)},X:function(t,n,r,s){var o=s._originalDate||t,a=o.getTimezoneOffset();if(a===0)return"Z";switch(n){case"X":return Zk(a);case"XXXX":case"XX":return Fs(a);case"XXXXX":case"XXX":default:return Fs(a,":")}},x:function(t,n,r,s){var o=s._originalDate||t,a=o.getTimezoneOffset();switch(n){case"x":return Zk(a);case"xxxx":case"xx":return Fs(a);case"xxxxx":case"xxx":default:return Fs(a,":")}},O:function(t,n,r,s){var o=s._originalDate||t,a=o.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+Xk(a,":");case"OOOO":default:return"GMT"+Fs(a,":")}},z:function(t,n,r,s){var o=s._originalDate||t,a=o.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+Xk(a,":");case"zzzz":default:return"GMT"+Fs(a,":")}},t:function(t,n,r,s){var o=s._originalDate||t,a=Math.floor(o.getTime()/1e3);return Re(a,n.length)},T:function(t,n,r,s){var o=s._originalDate||t,a=o.getTime();return Re(a,n.length)}};function Xk(e,t){var n=e>0?"-":"+",r=Math.abs(e),s=Math.floor(r/60),o=r%60;if(o===0)return n+String(s);var a=t;return n+String(s)+a+Re(o,2)}function Zk(e,t){if(e%60===0){var n=e>0?"-":"+";return n+Re(Math.abs(e)/60,2)}return Fs(e,t)}function Fs(e,t){var n=t||"",r=e>0?"-":"+",s=Math.abs(e),o=Re(Math.floor(s/60),2),a=Re(s%60,2);return r+o+n+a}var Jk=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},rR=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Tfe=function(t,n){var r=t.match(/(P+)(p+)?/)||[],s=r[1],o=r[2];if(!o)return Jk(t,n);var a;switch(s){case"P":a=n.dateTime({width:"short"});break;case"PP":a=n.dateTime({width:"medium"});break;case"PPP":a=n.dateTime({width:"long"});break;case"PPPP":default:a=n.dateTime({width:"full"});break}return a.replace("{{date}}",Jk(s,n)).replace("{{time}}",rR(o,n))},gy={p:rR,P:Tfe},kfe=["D","DD"],Mfe=["YY","YYYY"];function sR(e){return kfe.indexOf(e)!==-1}function oR(e){return Mfe.indexOf(e)!==-1}function tf(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Efe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Pfe=function(t,n,r){var s,o=Efe[t];return typeof o=="string"?s=o:n===1?s=o.one:s=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function xg(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var $fe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Afe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ofe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Nfe={date:xg({formats:$fe,defaultWidth:"full"}),time:xg({formats:Afe,defaultWidth:"full"}),dateTime:xg({formats:Ofe,defaultWidth:"full"})},Ife={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},jfe=function(t,n,r,s){return Ife[t]};function Ei(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=e.formattingValues[a]||e.formattingValues[o]}else{var c=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[l]||e.values[c]}var u=e.argumentCallback?e.argumentCallback(t):t;return s[u]}}var Rfe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Dfe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Lfe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ffe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Bfe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ufe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Vfe=function(t,n){var r=Number(t),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Gfe={ordinalNumber:Vfe,era:Ei({values:Rfe,defaultWidth:"wide"}),quarter:Ei({values:Dfe,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Ei({values:Lfe,defaultWidth:"wide"}),day:Ei({values:Ffe,defaultWidth:"wide"}),dayPeriod:Ei({values:Bfe,defaultWidth:"wide",formattingValues:Ufe,defaultFormattingWidth:"wide"})};function Pi(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;var a=o[0],c=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(c)?Hfe(c,function(f){return f.test(a)}):Wfe(c,function(f){return f.test(a)}),u;u=e.valueCallback?e.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;var d=t.slice(a.length);return{value:u,rest:d}}}function Wfe(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function Hfe(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function zfe(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var s=r[0],o=t.match(e.parsePattern);if(!o)return null;var a=e.valueCallback?e.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;var c=t.slice(s.length);return{value:a,rest:c}}}var qfe=/^(\d+)(th|st|nd|rd)?/i,Yfe=/\d+/i,Kfe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Qfe={any:[/^b/i,/^(a|c)/i]},Xfe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Zfe={any:[/1/i,/2/i,/3/i,/4/i]},Jfe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ehe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},the={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},nhe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},rhe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},she={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ohe={ordinalNumber:zfe({matchPattern:qfe,parsePattern:Yfe,valueCallback:function(t){return parseInt(t,10)}}),era:Pi({matchPatterns:Kfe,defaultMatchWidth:"wide",parsePatterns:Qfe,defaultParseWidth:"any"}),quarter:Pi({matchPatterns:Xfe,defaultMatchWidth:"wide",parsePatterns:Zfe,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Pi({matchPatterns:Jfe,defaultMatchWidth:"wide",parsePatterns:ehe,defaultParseWidth:"any"}),day:Pi({matchPatterns:the,defaultMatchWidth:"wide",parsePatterns:nhe,defaultParseWidth:"any"}),dayPeriod:Pi({matchPatterns:rhe,defaultMatchWidth:"any",parsePatterns:she,defaultParseWidth:"any"})},o1={code:"en-US",formatDistance:Pfe,formatLong:Nfe,formatRelative:jfe,localize:Gfe,match:ohe,options:{weekStartsOn:0,firstWeekContainsDate:1}},ahe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ihe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,che=/^'([^]*?)'?$/,lhe=/''/g,uhe=/[a-zA-Z]/;function dhe(e,t,n){var r,s,o,a,c,l,u,d,f,h,m,g,v,y,x,b,w,C;ee(2,arguments);var T=String(t),_=Vr(),k=(r=(s=n?.locale)!==null&&s!==void 0?s:_.locale)!==null&&r!==void 0?r:o1,M=qe((o=(a=(c=(l=n?.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(u=n.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&c!==void 0?c:_.firstWeekContainsDate)!==null&&a!==void 0?a:(f=_.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(M>=1&&M<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var I=qe((m=(g=(v=(y=n?.weekStartsOn)!==null&&y!==void 0?y:n==null||(x=n.locale)===null||x===void 0||(b=x.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&v!==void 0?v:_.weekStartsOn)!==null&&g!==void 0?g:(w=_.locale)===null||w===void 0||(C=w.options)===null||C===void 0?void 0:C.weekStartsOn)!==null&&m!==void 0?m:0);if(!(I>=0&&I<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!k.localize)throw new RangeError("locale must contain localize property");if(!k.formatLong)throw new RangeError("locale must contain formatLong property");var A=oe(e);if(!lfe(A))throw new RangeError("Invalid time value");var H=Na(A),q=Jj(A,H),F={firstWeekContainsDate:M,weekStartsOn:I,locale:k,_originalDate:A},N=T.match(ihe).map(function(R){var B=R[0];if(B==="p"||B==="P"){var Y=gy[B];return Y(R,k.formatLong)}return R}).join("").match(ahe).map(function(R){if(R==="''")return"'";var B=R[0];if(B==="'")return fhe(R);var Y=_fe[B];if(Y)return!(n!=null&&n.useAdditionalWeekYearTokens)&&oR(R)&&tf(R,t,String(e)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&sR(R)&&tf(R,t,String(e)),Y(q,R,k.localize,F);if(B.match(uhe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+B+"`");return R}).join("");return N}function fhe(e){var t=e.match(che);return t?t[1].replace(lhe,"'"):e}function a1(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function hhe(e){return a1({},e)}var eM=1440,phe=2520,wg=43200,mhe=86400;function ghe(e,t,n){var r,s;ee(2,arguments);var o=Vr(),a=(r=(s=n?.locale)!==null&&s!==void 0?s:o.locale)!==null&&r!==void 0?r:o1;if(!a.formatDistance)throw new RangeError("locale must contain formatDistance property");var c=fa(e,t);if(isNaN(c))throw new RangeError("Invalid time value");var l=a1(hhe(n),{addSuffix:!!n?.addSuffix,comparison:c}),u,d;c>0?(u=oe(t),d=oe(e)):(u=oe(e),d=oe(t));var f=gfe(d,u),h=(Na(d)-Na(u))/1e3,m=Math.round((f-h)/60),g;if(m<2)return n!=null&&n.includeSeconds?f<5?a.formatDistance("lessThanXSeconds",5,l):f<10?a.formatDistance("lessThanXSeconds",10,l):f<20?a.formatDistance("lessThanXSeconds",20,l):f<40?a.formatDistance("halfAMinute",0,l):f<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):m===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",m,l);if(m<45)return a.formatDistance("xMinutes",m,l);if(m<90)return a.formatDistance("aboutXHours",1,l);if(m<eM){var v=Math.round(m/60);return a.formatDistance("aboutXHours",v,l)}else{if(m<phe)return a.formatDistance("xDays",1,l);if(m<wg){var y=Math.round(m/eM);return a.formatDistance("xDays",y,l)}else if(m<mhe)return g=Math.round(m/wg),a.formatDistance("aboutXMonths",g,l)}if(g=Zj(d,u),g<12){var x=Math.round(m/wg);return a.formatDistance("xMonths",x,l)}else{var b=g%12,w=Math.floor(g/12);return b<3?a.formatDistance("aboutXYears",w,l):b<9?a.formatDistance("overXYears",w,l):a.formatDistance("almostXYears",w+1,l)}}function jut(e,t){return ee(1,arguments),ghe(e,Date.now(),t)}function Rut(e){ee(1,arguments);var t=qe(e);return oe(t*1e3)}function aR(e){ee(1,arguments);var t=oe(e),n=t.getMonth();return n}function nf(e){return ee(1,arguments),oe(e).getFullYear()}function vhe(e,t){ee(2,arguments);var n=oe(e),r=oe(t);return n.getTime()>r.getTime()}function Uu(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Uu=function(n){return typeof n}:Uu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Uu(e)}function iR(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vy(e,t)}function vy(e,t){return vy=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},vy(e,t)}function cR(e){var t=bhe();return function(){var r=rf(e),s;if(t){var o=rf(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return yhe(this,s)}}function yhe(e,t){return t&&(Uu(t)==="object"||typeof t=="function")?t:yy(e)}function yy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bhe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function rf(e){return rf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},rf(e)}function i1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xhe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c1(e,t,n){return t&&xhe(e.prototype,t),e}function by(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var whe=10,lR=function(){function e(){i1(this,e),by(this,"subPriority",0)}return c1(e,[{key:"validate",value:function(n,r){return!0}}]),e}(),She=function(e){iR(n,e);var t=cR(n);function n(r,s,o,a,c){var l;return i1(this,n),l=t.call(this),l.value=r,l.validateValue=s,l.setValue=o,l.priority=a,c&&(l.subPriority=c),l}return c1(n,[{key:"validate",value:function(s,o){return this.validateValue(s,this.value,o)}},{key:"set",value:function(s,o,a){return this.setValue(s,o,this.value,a)}}]),n}(lR),Che=function(e){iR(n,e);var t=cR(n);function n(){var r;i1(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),by(yy(r),"priority",whe),by(yy(r),"subPriority",-1),r}return c1(n,[{key:"set",value:function(s,o){if(o.timestampIsSet)return s;var a=new Date(0);return a.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),a.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),a}}]),n}(lR);function _he(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function The(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function khe(e,t,n){return t&&The(e.prototype,t),e}var Ie=function(){function e(){_he(this,e)}return khe(e,[{key:"run",value:function(n,r,s,o){var a=this.parse(n,r,s,o);return a?{setter:new She(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}},{key:"validate",value:function(n,r,s){return!0}}]),e}();function Vu(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Vu=function(n){return typeof n}:Vu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Vu(e)}function Mhe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ehe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Phe(e,t,n){return t&&Ehe(e.prototype,t),e}function $he(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xy(e,t)}function xy(e,t){return xy=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},xy(e,t)}function Ahe(e){var t=Nhe();return function(){var r=sf(e),s;if(t){var o=sf(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return Ohe(this,s)}}function Ohe(e,t){return t&&(Vu(t)==="object"||typeof t=="function")?t:wy(e)}function wy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nhe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function sf(e){return sf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},sf(e)}function tM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ihe=function(e){$he(n,e);var t=Ahe(n);function n(){var r;Mhe(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),tM(wy(r),"priority",140),tM(wy(r),"incompatibleTokens",["R","u","t","T"]),r}return Phe(n,[{key:"parse",value:function(s,o,a){switch(o){case"G":case"GG":case"GGG":return a.era(s,{width:"abbreviated"})||a.era(s,{width:"narrow"});case"GGGGG":return a.era(s,{width:"narrow"});case"GGGG":default:return a.era(s,{width:"wide"})||a.era(s,{width:"abbreviated"})||a.era(s,{width:"narrow"})}}},{key:"set",value:function(s,o,a){return o.era=a,s.setUTCFullYear(a,0,1),s.setUTCHours(0,0,0,0),s}}]),n}(Ie),ht={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},cr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function pt(e,t){return e&&{value:t(e.value),rest:e.rest}}function nt(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function lr(e,t){var n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};var r=n[1]==="+"?1:-1,s=n[2]?parseInt(n[2],10):0,o=n[3]?parseInt(n[3],10):0,a=n[5]?parseInt(n[5],10):0;return{value:r*(s*Pp+o*Ep+a*ife),rest:t.slice(n[0].length)}}function uR(e){return nt(ht.anyDigitsSigned,e)}function dt(e,t){switch(e){case 1:return nt(ht.singleDigit,t);case 2:return nt(ht.twoDigits,t);case 3:return nt(ht.threeDigits,t);case 4:return nt(ht.fourDigits,t);default:return nt(new RegExp("^\\d{1,"+e+"}"),t)}}function of(e,t){switch(e){case 1:return nt(ht.singleDigitSigned,t);case 2:return nt(ht.twoDigitsSigned,t);case 3:return nt(ht.threeDigitsSigned,t);case 4:return nt(ht.fourDigitsSigned,t);default:return nt(new RegExp("^-?\\d{1,"+e+"}"),t)}}function l1(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function dR(e,t){var n=t>0,r=n?t:1-t,s;if(r<=50)s=e||100;else{var o=r+50,a=Math.floor(o/100)*100,c=e>=o%100;s=e+a-(c?100:0)}return n?s:1-s}function fR(e){return e%400===0||e%4===0&&e%100!==0}function Gu(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Gu=function(n){return typeof n}:Gu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Gu(e)}function jhe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rhe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dhe(e,t,n){return t&&Rhe(e.prototype,t),e}function Lhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sy(e,t)}function Sy(e,t){return Sy=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},Sy(e,t)}function Fhe(e){var t=Uhe();return function(){var r=af(e),s;if(t){var o=af(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return Bhe(this,s)}}function Bhe(e,t){return t&&(Gu(t)==="object"||typeof t=="function")?t:Cy(e)}function Cy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uhe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function af(e){return af=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},af(e)}function nM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vhe=function(e){Lhe(n,e);var t=Fhe(n);function n(){var r;jhe(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),nM(Cy(r),"priority",130),nM(Cy(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return Dhe(n,[{key:"parse",value:function(s,o,a){var c=function(u){return{year:u,isTwoDigitYear:o==="yy"}};switch(o){case"y":return pt(dt(4,s),c);case"yo":return pt(a.ordinalNumber(s,{unit:"year"}),c);default:return pt(dt(o.length,s),c)}}},{key:"validate",value:function(s,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(s,o,a){var c=s.getUTCFullYear();if(a.isTwoDigitYear){var l=dR(a.year,c);return s.setUTCFullYear(l,0,1),s.setUTCHours(0,0,0,0),s}var u=!("era"in o)||o.era===1?a.year:1-a.year;return s.setUTCFullYear(u,0,1),s.setUTCHours(0,0,0,0),s}}]),n}(Ie);function Wu(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wu=function(n){return typeof n}:Wu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Wu(e)}function Ghe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Whe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hhe(e,t,n){return t&&Whe(e.prototype,t),e}function zhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_y(e,t)}function _y(e,t){return _y=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},_y(e,t)}function qhe(e){var t=Khe();return function(){var r=cf(e),s;if(t){var o=cf(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return Yhe(this,s)}}function Yhe(e,t){return t&&(Wu(t)==="object"||typeof t=="function")?t:Ty(e)}function Ty(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Khe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function cf(e){return cf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},cf(e)}function rM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qhe=function(e){zhe(n,e);var t=qhe(n);function n(){var r;Ghe(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),rM(Ty(r),"priority",130),rM(Ty(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return Hhe(n,[{key:"parse",value:function(s,o,a){var c=function(u){return{year:u,isTwoDigitYear:o==="YY"}};switch(o){case"Y":return pt(dt(4,s),c);case"Yo":return pt(a.ordinalNumber(s,{unit:"year"}),c);default:return pt(dt(o.length,s),c)}}},{key:"validate",value:function(s,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(s,o,a,c){var l=s1(s,c);if(a.isTwoDigitYear){var u=dR(a.year,l);return s.setUTCFullYear(u,0,c.firstWeekContainsDate),s.setUTCHours(0,0,0,0),ho(s,c)}var d=!("era"in o)||o.era===1?a.year:1-a.year;return s.setUTCFullYear(d,0,c.firstWeekContainsDate),s.setUTCHours(0,0,0,0),ho(s,c)}}]),n}(Ie);function Hu(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Hu=function(n){return typeof n}:Hu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Hu(e)}function Xhe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zhe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jhe(e,t,n){return t&&Zhe(e.prototype,t),e}function epe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ky(e,t)}function ky(e,t){return ky=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},ky(e,t)}function tpe(e){var t=rpe();return function(){var r=lf(e),s;if(t){var o=lf(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return npe(this,s)}}function npe(e,t){return t&&(Hu(t)==="object"||typeof t=="function")?t:My(e)}function My(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rpe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function lf(e){return lf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},lf(e)}function sM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var spe=function(e){epe(n,e);var t=tpe(n);function n(){var r;Xhe(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),sM(My(r),"priority",130),sM(My(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return Jhe(n,[{key:"parse",value:function(s,o){return of(o==="R"?4:o.length,s)}},{key:"set",value:function(s,o,a){var c=new Date(0);return c.setUTCFullYear(a,0,4),c.setUTCHours(0,0,0,0),Ia(c)}}]),n}(Ie);function zu(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zu=function(n){return typeof n}:zu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},zu(e)}function ope(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ape(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ipe(e,t,n){return t&&ape(e.prototype,t),e}function cpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ey(e,t)}function Ey(e,t){return Ey=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},Ey(e,t)}function lpe(e){var t=dpe();return function(){var r=uf(e),s;if(t){var o=uf(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return upe(this,s)}}function upe(e,t){return t&&(zu(t)==="object"||typeof t=="function")?t:Py(e)}function Py(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dpe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function uf(e){return uf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},uf(e)}function oM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fpe=function(e){cpe(n,e);var t=lpe(n);function n(){var r;ope(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),oM(Py(r),"priority",130),oM(Py(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return ipe(n,[{key:"parse",value:function(s,o){return of(o==="u"?4:o.length,s)}},{key:"set",value:function(s,o,a){return s.setUTCFullYear(a,0,1),s.setUTCHours(0,0,0,0),s}}]),n}(Ie);function qu(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qu=function(n){return typeof n}:qu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},qu(e)}function hpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ppe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mpe(e,t,n){return t&&ppe(e.prototype,t),e}function gpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$y(e,t)}function $y(e,t){return $y=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},$y(e,t)}function vpe(e){var t=bpe();return function(){var r=df(e),s;if(t){var o=df(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return ype(this,s)}}function ype(e,t){return t&&(qu(t)==="object"||typeof t=="function")?t:Ay(e)}function Ay(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bpe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function df(e){return df=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},df(e)}function aM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xpe=function(e){gpe(n,e);var t=vpe(n);function n(){var r;hpe(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),aM(Ay(r),"priority",120),aM(Ay(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return mpe(n,[{key:"parse",value:function(s,o,a){switch(o){case"Q":case"QQ":return dt(o.length,s);case"Qo":return a.ordinalNumber(s,{unit:"quarter"});case"QQQ":return a.quarter(s,{width:"abbreviated",context:"formatting"})||a.quarter(s,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(s,{width:"wide",context:"formatting"})||a.quarter(s,{width:"abbreviated",context:"formatting"})||a.quarter(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,o){return o>=1&&o<=4}},{key:"set",value:function(s,o,a){return s.setUTCMonth((a-1)*3,1),s.setUTCHours(0,0,0,0),s}}]),n}(Ie);function Yu(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yu=function(n){return typeof n}:Yu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Yu(e)}function wpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Spe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cpe(e,t,n){return t&&Spe(e.prototype,t),e}function _pe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oy(e,t)}function Oy(e,t){return Oy=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},Oy(e,t)}function Tpe(e){var t=Mpe();return function(){var r=ff(e),s;if(t){var o=ff(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return kpe(this,s)}}function kpe(e,t){return t&&(Yu(t)==="object"||typeof t=="function")?t:Ny(e)}function Ny(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mpe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ff(e){return ff=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},ff(e)}function iM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Epe=function(e){_pe(n,e);var t=Tpe(n);function n(){var r;wpe(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),iM(Ny(r),"priority",120),iM(Ny(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Cpe(n,[{key:"parse",value:function(s,o,a){switch(o){case"q":case"qq":return dt(o.length,s);case"qo":return a.ordinalNumber(s,{unit:"quarter"});case"qqq":return a.quarter(s,{width:"abbreviated",context:"standalone"})||a.quarter(s,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(s,{width:"wide",context:"standalone"})||a.quarter(s,{width:"abbreviated",context:"standalone"})||a.quarter(s,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(s,o){return o>=1&&o<=4}},{key:"set",value:function(s,o,a){return s.setUTCMonth((a-1)*3,1),s.setUTCHours(0,0,0,0),s}}]),n}(Ie);function Ku(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ku=function(n){return typeof n}:Ku=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ku(e)}function Ppe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ape(e,t,n){return t&&$pe(e.prototype,t),e}function Ope(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Iy(e,t)}function Iy(e,t){return Iy=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},Iy(e,t)}function Npe(e){var t=jpe();return function(){var r=hf(e),s;if(t){var o=hf(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return Ipe(this,s)}}function Ipe(e,t){return t&&(Ku(t)==="object"||typeof t=="function")?t:jy(e)}function jy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jpe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hf(e){return hf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},hf(e)}function cM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Rpe=function(e){Ope(n,e);var t=Npe(n);function n(){var r;Ppe(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),cM(jy(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),cM(jy(r),"priority",110),r}return Ape(n,[{key:"parse",value:function(s,o,a){var c=function(u){return u-1};switch(o){case"M":return pt(nt(ht.month,s),c);case"MM":return pt(dt(2,s),c);case"Mo":return pt(a.ordinalNumber(s,{unit:"month"}),c);case"MMM":return a.month(s,{width:"abbreviated",context:"formatting"})||a.month(s,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(s,{width:"wide",context:"formatting"})||a.month(s,{width:"abbreviated",context:"formatting"})||a.month(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,o){return o>=0&&o<=11}},{key:"set",value:function(s,o,a){return s.setUTCMonth(a,1),s.setUTCHours(0,0,0,0),s}}]),n}(Ie);function Qu(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qu=function(n){return typeof n}:Qu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Qu(e)}function Dpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lpe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fpe(e,t,n){return t&&Lpe(e.prototype,t),e}function Bpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ry(e,t)}function Ry(e,t){return Ry=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},Ry(e,t)}function Upe(e){var t=Gpe();return function(){var r=pf(e),s;if(t){var o=pf(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return Vpe(this,s)}}function Vpe(e,t){return t&&(Qu(t)==="object"||typeof t=="function")?t:Dy(e)}function Dy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gpe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function pf(e){return pf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},pf(e)}function lM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wpe=function(e){Bpe(n,e);var t=Upe(n);function n(){var r;Dpe(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),lM(Dy(r),"priority",110),lM(Dy(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return Fpe(n,[{key:"parse",value:function(s,o,a){var c=function(u){return u-1};switch(o){case"L":return pt(nt(ht.month,s),c);case"LL":return pt(dt(2,s),c);case"Lo":return pt(a.ordinalNumber(s,{unit:"month"}),c);case"LLL":return a.month(s,{width:"abbreviated",context:"standalone"})||a.month(s,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(s,{width:"wide",context:"standalone"})||a.month(s,{width:"abbreviated",context:"standalone"})||a.month(s,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(s,o){return o>=0&&o<=11}},{key:"set",value:function(s,o,a){return s.setUTCMonth(a,1),s.setUTCHours(0,0,0,0),s}}]),n}(Ie);function Hpe(e,t,n){ee(2,arguments);var r=oe(e),s=qe(t),o=nR(r,n)-s;return r.setUTCDate(r.getUTCDate()-o*7),r}function Xu(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xu=function(n){return typeof n}:Xu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Xu(e)}function zpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qpe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ype(e,t,n){return t&&qpe(e.prototype,t),e}function Kpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ly(e,t)}function Ly(e,t){return Ly=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},Ly(e,t)}function Qpe(e){var t=Zpe();return function(){var r=mf(e),s;if(t){var o=mf(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return Xpe(this,s)}}function Xpe(e,t){return t&&(Xu(t)==="object"||typeof t=="function")?t:Fy(e)}function Fy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zpe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function mf(e){return mf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},mf(e)}function uM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jpe=function(e){Kpe(n,e);var t=Qpe(n);function n(){var r;zpe(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),uM(Fy(r),"priority",100),uM(Fy(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return Ype(n,[{key:"parse",value:function(s,o,a){switch(o){case"w":return nt(ht.week,s);case"wo":return a.ordinalNumber(s,{unit:"week"});default:return dt(o.length,s)}}},{key:"validate",value:function(s,o){return o>=1&&o<=53}},{key:"set",value:function(s,o,a,c){return ho(Hpe(s,a,c),c)}}]),n}(Ie);function eme(e,t){ee(2,arguments);var n=oe(e),r=qe(t),s=tR(n)-r;return n.setUTCDate(n.getUTCDate()-s*7),n}function Zu(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zu=function(n){return typeof n}:Zu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Zu(e)}function tme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nme(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rme(e,t,n){return t&&nme(e.prototype,t),e}function sme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&By(e,t)}function By(e,t){return By=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},By(e,t)}function ome(e){var t=ime();return function(){var r=gf(e),s;if(t){var o=gf(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return ame(this,s)}}function ame(e,t){return t&&(Zu(t)==="object"||typeof t=="function")?t:Uy(e)}function Uy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ime(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gf(e){return gf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},gf(e)}function dM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cme=function(e){sme(n,e);var t=ome(n);function n(){var r;tme(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),dM(Uy(r),"priority",100),dM(Uy(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return rme(n,[{key:"parse",value:function(s,o,a){switch(o){case"I":return nt(ht.week,s);case"Io":return a.ordinalNumber(s,{unit:"week"});default:return dt(o.length,s)}}},{key:"validate",value:function(s,o){return o>=1&&o<=53}},{key:"set",value:function(s,o,a){return Ia(eme(s,a))}}]),n}(Ie);function Ju(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ju=function(n){return typeof n}:Ju=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ju(e)}function lme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ume(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dme(e,t,n){return t&&ume(e.prototype,t),e}function fme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vy(e,t)}function Vy(e,t){return Vy=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},Vy(e,t)}function hme(e){var t=mme();return function(){var r=vf(e),s;if(t){var o=vf(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return pme(this,s)}}function pme(e,t){return t&&(Ju(t)==="object"||typeof t=="function")?t:ed(e)}function ed(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mme(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vf(e){return vf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},vf(e)}function Sg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gme=[31,28,31,30,31,30,31,31,30,31,30,31],vme=[31,29,31,30,31,30,31,31,30,31,30,31],yme=function(e){fme(n,e);var t=hme(n);function n(){var r;lme(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),Sg(ed(r),"priority",90),Sg(ed(r),"subPriority",1),Sg(ed(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return dme(n,[{key:"parse",value:function(s,o,a){switch(o){case"d":return nt(ht.date,s);case"do":return a.ordinalNumber(s,{unit:"date"});default:return dt(o.length,s)}}},{key:"validate",value:function(s,o){var a=s.getUTCFullYear(),c=fR(a),l=s.getUTCMonth();return c?o>=1&&o<=vme[l]:o>=1&&o<=gme[l]}},{key:"set",value:function(s,o,a){return s.setUTCDate(a),s.setUTCHours(0,0,0,0),s}}]),n}(Ie);function td(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?td=function(n){return typeof n}:td=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},td(e)}function bme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xme(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wme(e,t,n){return t&&xme(e.prototype,t),e}function Sme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gy(e,t)}function Gy(e,t){return Gy=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},Gy(e,t)}function Cme(e){var t=Tme();return function(){var r=yf(e),s;if(t){var o=yf(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return _me(this,s)}}function _me(e,t){return t&&(td(t)==="object"||typeof t=="function")?t:nd(e)}function nd(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tme(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yf(e){return yf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},yf(e)}function Cg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kme=function(e){Sme(n,e);var t=Cme(n);function n(){var r;bme(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),Cg(nd(r),"priority",90),Cg(nd(r),"subpriority",1),Cg(nd(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return wme(n,[{key:"parse",value:function(s,o,a){switch(o){case"D":case"DD":return nt(ht.dayOfYear,s);case"Do":return a.ordinalNumber(s,{unit:"date"});default:return dt(o.length,s)}}},{key:"validate",value:function(s,o){var a=s.getUTCFullYear(),c=fR(a);return c?o>=1&&o<=366:o>=1&&o<=365}},{key:"set",value:function(s,o,a){return s.setUTCMonth(0,a),s.setUTCHours(0,0,0,0),s}}]),n}(Ie);function u1(e,t,n){var r,s,o,a,c,l,u,d;ee(2,arguments);var f=Vr(),h=qe((r=(s=(o=(a=n?.weekStartsOn)!==null&&a!==void 0?a:n==null||(c=n.locale)===null||c===void 0||(l=c.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&o!==void 0?o:f.weekStartsOn)!==null&&s!==void 0?s:(u=f.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&r!==void 0?r:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=oe(e),g=qe(t),v=m.getUTCDay(),y=g%7,x=(y+7)%7,b=(x<h?7:0)+g-v;return m.setUTCDate(m.getUTCDate()+b),m}function rd(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rd=function(n){return typeof n}:rd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},rd(e)}function Mme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Eme(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pme(e,t,n){return t&&Eme(e.prototype,t),e}function $me(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wy(e,t)}function Wy(e,t){return Wy=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},Wy(e,t)}function Ame(e){var t=Nme();return function(){var r=bf(e),s;if(t){var o=bf(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return Ome(this,s)}}function Ome(e,t){return t&&(rd(t)==="object"||typeof t=="function")?t:Hy(e)}function Hy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nme(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function bf(e){return bf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},bf(e)}function fM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ime=function(e){$me(n,e);var t=Ame(n);function n(){var r;Mme(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),fM(Hy(r),"priority",90),fM(Hy(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return Pme(n,[{key:"parse",value:function(s,o,a){switch(o){case"E":case"EE":case"EEE":return a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(s,{width:"wide",context:"formatting"})||a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,o){return o>=0&&o<=6}},{key:"set",value:function(s,o,a,c){return s=u1(s,a,c),s.setUTCHours(0,0,0,0),s}}]),n}(Ie);function sd(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sd=function(n){return typeof n}:sd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},sd(e)}function jme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rme(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dme(e,t,n){return t&&Rme(e.prototype,t),e}function Lme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zy(e,t)}function zy(e,t){return zy=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},zy(e,t)}function Fme(e){var t=Ume();return function(){var r=xf(e),s;if(t){var o=xf(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return Bme(this,s)}}function Bme(e,t){return t&&(sd(t)==="object"||typeof t=="function")?t:qy(e)}function qy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ume(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function xf(e){return xf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},xf(e)}function hM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vme=function(e){Lme(n,e);var t=Fme(n);function n(){var r;jme(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),hM(qy(r),"priority",90),hM(qy(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return Dme(n,[{key:"parse",value:function(s,o,a,c){var l=function(d){var f=Math.floor((d-1)/7)*7;return(d+c.weekStartsOn+6)%7+f};switch(o){case"e":case"ee":return pt(dt(o.length,s),l);case"eo":return pt(a.ordinalNumber(s,{unit:"day"}),l);case"eee":return a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"});case"eeeee":return a.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(s,{width:"wide",context:"formatting"})||a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,o){return o>=0&&o<=6}},{key:"set",value:function(s,o,a,c){return s=u1(s,a,c),s.setUTCHours(0,0,0,0),s}}]),n}(Ie);function od(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?od=function(n){return typeof n}:od=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},od(e)}function Gme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wme(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hme(e,t,n){return t&&Wme(e.prototype,t),e}function zme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yy(e,t)}function Yy(e,t){return Yy=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},Yy(e,t)}function qme(e){var t=Kme();return function(){var r=wf(e),s;if(t){var o=wf(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return Yme(this,s)}}function Yme(e,t){return t&&(od(t)==="object"||typeof t=="function")?t:Ky(e)}function Ky(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kme(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wf(e){return wf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},wf(e)}function pM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qme=function(e){zme(n,e);var t=qme(n);function n(){var r;Gme(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),pM(Ky(r),"priority",90),pM(Ky(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return Hme(n,[{key:"parse",value:function(s,o,a,c){var l=function(d){var f=Math.floor((d-1)/7)*7;return(d+c.weekStartsOn+6)%7+f};switch(o){case"c":case"cc":return pt(dt(o.length,s),l);case"co":return pt(a.ordinalNumber(s,{unit:"day"}),l);case"ccc":return a.day(s,{width:"abbreviated",context:"standalone"})||a.day(s,{width:"short",context:"standalone"})||a.day(s,{width:"narrow",context:"standalone"});case"ccccc":return a.day(s,{width:"narrow",context:"standalone"});case"cccccc":return a.day(s,{width:"short",context:"standalone"})||a.day(s,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(s,{width:"wide",context:"standalone"})||a.day(s,{width:"abbreviated",context:"standalone"})||a.day(s,{width:"short",context:"standalone"})||a.day(s,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(s,o){return o>=0&&o<=6}},{key:"set",value:function(s,o,a,c){return s=u1(s,a,c),s.setUTCHours(0,0,0,0),s}}]),n}(Ie);function Xme(e,t){ee(2,arguments);var n=qe(t);n%7===0&&(n=n-7);var r=1,s=oe(e),o=s.getUTCDay(),a=n%7,c=(a+7)%7,l=(c<r?7:0)+n-o;return s.setUTCDate(s.getUTCDate()+l),s}function ad(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ad=function(n){return typeof n}:ad=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ad(e)}function Zme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jme(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ege(e,t,n){return t&&Jme(e.prototype,t),e}function tge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qy(e,t)}function Qy(e,t){return Qy=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},Qy(e,t)}function nge(e){var t=sge();return function(){var r=Sf(e),s;if(t){var o=Sf(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return rge(this,s)}}function rge(e,t){return t&&(ad(t)==="object"||typeof t=="function")?t:Xy(e)}function Xy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sge(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Sf(e){return Sf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Sf(e)}function mM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oge=function(e){tge(n,e);var t=nge(n);function n(){var r;Zme(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),mM(Xy(r),"priority",90),mM(Xy(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return ege(n,[{key:"parse",value:function(s,o,a){var c=function(u){return u===0?7:u};switch(o){case"i":case"ii":return dt(o.length,s);case"io":return a.ordinalNumber(s,{unit:"day"});case"iii":return pt(a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"}),c);case"iiiii":return pt(a.day(s,{width:"narrow",context:"formatting"}),c);case"iiiiii":return pt(a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"}),c);case"iiii":default:return pt(a.day(s,{width:"wide",context:"formatting"})||a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"}),c)}}},{key:"validate",value:function(s,o){return o>=1&&o<=7}},{key:"set",value:function(s,o,a){return s=Xme(s,a),s.setUTCHours(0,0,0,0),s}}]),n}(Ie);function id(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?id=function(n){return typeof n}:id=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},id(e)}function age(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ige(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cge(e,t,n){return t&&ige(e.prototype,t),e}function lge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zy(e,t)}function Zy(e,t){return Zy=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},Zy(e,t)}function uge(e){var t=fge();return function(){var r=Cf(e),s;if(t){var o=Cf(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return dge(this,s)}}function dge(e,t){return t&&(id(t)==="object"||typeof t=="function")?t:Jy(e)}function Jy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fge(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Cf(e){return Cf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Cf(e)}function gM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hge=function(e){lge(n,e);var t=uge(n);function n(){var r;age(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),gM(Jy(r),"priority",80),gM(Jy(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return cge(n,[{key:"parse",value:function(s,o,a){switch(o){case"a":case"aa":case"aaa":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(s,{width:"wide",context:"formatting"})||a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(s,o,a){return s.setUTCHours(l1(a),0,0,0),s}}]),n}(Ie);function cd(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cd=function(n){return typeof n}:cd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},cd(e)}function pge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gge(e,t,n){return t&&mge(e.prototype,t),e}function vge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&e0(e,t)}function e0(e,t){return e0=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},e0(e,t)}function yge(e){var t=xge();return function(){var r=_f(e),s;if(t){var o=_f(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return bge(this,s)}}function bge(e,t){return t&&(cd(t)==="object"||typeof t=="function")?t:t0(e)}function t0(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xge(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _f(e){return _f=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},_f(e)}function vM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wge=function(e){vge(n,e);var t=yge(n);function n(){var r;pge(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),vM(t0(r),"priority",80),vM(t0(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return gge(n,[{key:"parse",value:function(s,o,a){switch(o){case"b":case"bb":case"bbb":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(s,{width:"wide",context:"formatting"})||a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(s,o,a){return s.setUTCHours(l1(a),0,0,0),s}}]),n}(Ie);function ld(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ld=function(n){return typeof n}:ld=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ld(e)}function Sge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _ge(e,t,n){return t&&Cge(e.prototype,t),e}function Tge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n0(e,t)}function n0(e,t){return n0=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},n0(e,t)}function kge(e){var t=Ege();return function(){var r=Tf(e),s;if(t){var o=Tf(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return Mge(this,s)}}function Mge(e,t){return t&&(ld(t)==="object"||typeof t=="function")?t:r0(e)}function r0(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ege(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Tf(e){return Tf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Tf(e)}function yM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pge=function(e){Tge(n,e);var t=kge(n);function n(){var r;Sge(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),yM(r0(r),"priority",80),yM(r0(r),"incompatibleTokens",["a","b","t","T"]),r}return _ge(n,[{key:"parse",value:function(s,o,a){switch(o){case"B":case"BB":case"BBB":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(s,{width:"wide",context:"formatting"})||a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(s,o,a){return s.setUTCHours(l1(a),0,0,0),s}}]),n}(Ie);function ud(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ud=function(n){return typeof n}:ud=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ud(e)}function $ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Age(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oge(e,t,n){return t&&Age(e.prototype,t),e}function Nge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s0(e,t)}function s0(e,t){return s0=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},s0(e,t)}function Ige(e){var t=Rge();return function(){var r=kf(e),s;if(t){var o=kf(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return jge(this,s)}}function jge(e,t){return t&&(ud(t)==="object"||typeof t=="function")?t:o0(e)}function o0(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rge(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function kf(e){return kf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},kf(e)}function bM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dge=function(e){Nge(n,e);var t=Ige(n);function n(){var r;$ge(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),bM(o0(r),"priority",70),bM(o0(r),"incompatibleTokens",["H","K","k","t","T"]),r}return Oge(n,[{key:"parse",value:function(s,o,a){switch(o){case"h":return nt(ht.hour12h,s);case"ho":return a.ordinalNumber(s,{unit:"hour"});default:return dt(o.length,s)}}},{key:"validate",value:function(s,o){return o>=1&&o<=12}},{key:"set",value:function(s,o,a){var c=s.getUTCHours()>=12;return c&&a<12?s.setUTCHours(a+12,0,0,0):!c&&a===12?s.setUTCHours(0,0,0,0):s.setUTCHours(a,0,0,0),s}}]),n}(Ie);function dd(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?dd=function(n){return typeof n}:dd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},dd(e)}function Lge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bge(e,t,n){return t&&Fge(e.prototype,t),e}function Uge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a0(e,t)}function a0(e,t){return a0=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},a0(e,t)}function Vge(e){var t=Wge();return function(){var r=Mf(e),s;if(t){var o=Mf(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return Gge(this,s)}}function Gge(e,t){return t&&(dd(t)==="object"||typeof t=="function")?t:i0(e)}function i0(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wge(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Mf(e){return Mf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Mf(e)}function xM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Hge=function(e){Uge(n,e);var t=Vge(n);function n(){var r;Lge(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),xM(i0(r),"priority",70),xM(i0(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return Bge(n,[{key:"parse",value:function(s,o,a){switch(o){case"H":return nt(ht.hour23h,s);case"Ho":return a.ordinalNumber(s,{unit:"hour"});default:return dt(o.length,s)}}},{key:"validate",value:function(s,o){return o>=0&&o<=23}},{key:"set",value:function(s,o,a){return s.setUTCHours(a,0,0,0),s}}]),n}(Ie);function fd(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fd=function(n){return typeof n}:fd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},fd(e)}function zge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yge(e,t,n){return t&&qge(e.prototype,t),e}function Kge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c0(e,t)}function c0(e,t){return c0=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},c0(e,t)}function Qge(e){var t=Zge();return function(){var r=Ef(e),s;if(t){var o=Ef(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return Xge(this,s)}}function Xge(e,t){return t&&(fd(t)==="object"||typeof t=="function")?t:l0(e)}function l0(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zge(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ef(e){return Ef=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Ef(e)}function wM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jge=function(e){Kge(n,e);var t=Qge(n);function n(){var r;zge(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),wM(l0(r),"priority",70),wM(l0(r),"incompatibleTokens",["h","H","k","t","T"]),r}return Yge(n,[{key:"parse",value:function(s,o,a){switch(o){case"K":return nt(ht.hour11h,s);case"Ko":return a.ordinalNumber(s,{unit:"hour"});default:return dt(o.length,s)}}},{key:"validate",value:function(s,o){return o>=0&&o<=11}},{key:"set",value:function(s,o,a){var c=s.getUTCHours()>=12;return c&&a<12?s.setUTCHours(a+12,0,0,0):s.setUTCHours(a,0,0,0),s}}]),n}(Ie);function hd(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hd=function(n){return typeof n}:hd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},hd(e)}function eve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nve(e,t,n){return t&&tve(e.prototype,t),e}function rve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u0(e,t)}function u0(e,t){return u0=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},u0(e,t)}function sve(e){var t=ave();return function(){var r=Pf(e),s;if(t){var o=Pf(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return ove(this,s)}}function ove(e,t){return t&&(hd(t)==="object"||typeof t=="function")?t:d0(e)}function d0(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ave(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Pf(e){return Pf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Pf(e)}function SM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ive=function(e){rve(n,e);var t=sve(n);function n(){var r;eve(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),SM(d0(r),"priority",70),SM(d0(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return nve(n,[{key:"parse",value:function(s,o,a){switch(o){case"k":return nt(ht.hour24h,s);case"ko":return a.ordinalNumber(s,{unit:"hour"});default:return dt(o.length,s)}}},{key:"validate",value:function(s,o){return o>=1&&o<=24}},{key:"set",value:function(s,o,a){var c=a<=24?a%24:a;return s.setUTCHours(c,0,0,0),s}}]),n}(Ie);function pd(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?pd=function(n){return typeof n}:pd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},pd(e)}function cve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uve(e,t,n){return t&&lve(e.prototype,t),e}function dve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f0(e,t)}function f0(e,t){return f0=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},f0(e,t)}function fve(e){var t=pve();return function(){var r=$f(e),s;if(t){var o=$f(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return hve(this,s)}}function hve(e,t){return t&&(pd(t)==="object"||typeof t=="function")?t:h0(e)}function h0(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pve(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $f(e){return $f=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},$f(e)}function CM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mve=function(e){dve(n,e);var t=fve(n);function n(){var r;cve(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),CM(h0(r),"priority",60),CM(h0(r),"incompatibleTokens",["t","T"]),r}return uve(n,[{key:"parse",value:function(s,o,a){switch(o){case"m":return nt(ht.minute,s);case"mo":return a.ordinalNumber(s,{unit:"minute"});default:return dt(o.length,s)}}},{key:"validate",value:function(s,o){return o>=0&&o<=59}},{key:"set",value:function(s,o,a){return s.setUTCMinutes(a,0,0),s}}]),n}(Ie);function md(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?md=function(n){return typeof n}:md=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},md(e)}function gve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yve(e,t,n){return t&&vve(e.prototype,t),e}function bve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p0(e,t)}function p0(e,t){return p0=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},p0(e,t)}function xve(e){var t=Sve();return function(){var r=Af(e),s;if(t){var o=Af(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return wve(this,s)}}function wve(e,t){return t&&(md(t)==="object"||typeof t=="function")?t:m0(e)}function m0(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sve(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Af(e){return Af=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Af(e)}function _M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Cve=function(e){bve(n,e);var t=xve(n);function n(){var r;gve(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),_M(m0(r),"priority",50),_M(m0(r),"incompatibleTokens",["t","T"]),r}return yve(n,[{key:"parse",value:function(s,o,a){switch(o){case"s":return nt(ht.second,s);case"so":return a.ordinalNumber(s,{unit:"second"});default:return dt(o.length,s)}}},{key:"validate",value:function(s,o){return o>=0&&o<=59}},{key:"set",value:function(s,o,a){return s.setUTCSeconds(a,0),s}}]),n}(Ie);function gd(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gd=function(n){return typeof n}:gd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},gd(e)}function _ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kve(e,t,n){return t&&Tve(e.prototype,t),e}function Mve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g0(e,t)}function g0(e,t){return g0=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},g0(e,t)}function Eve(e){var t=$ve();return function(){var r=Of(e),s;if(t){var o=Of(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return Pve(this,s)}}function Pve(e,t){return t&&(gd(t)==="object"||typeof t=="function")?t:v0(e)}function v0(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $ve(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Of(e){return Of=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Of(e)}function TM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ave=function(e){Mve(n,e);var t=Eve(n);function n(){var r;_ve(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),TM(v0(r),"priority",30),TM(v0(r),"incompatibleTokens",["t","T"]),r}return kve(n,[{key:"parse",value:function(s,o){var a=function(l){return Math.floor(l*Math.pow(10,-o.length+3))};return pt(dt(o.length,s),a)}},{key:"set",value:function(s,o,a){return s.setUTCMilliseconds(a),s}}]),n}(Ie);function vd(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vd=function(n){return typeof n}:vd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},vd(e)}function Ove(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ive(e,t,n){return t&&Nve(e.prototype,t),e}function jve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y0(e,t)}function y0(e,t){return y0=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},y0(e,t)}function Rve(e){var t=Lve();return function(){var r=Nf(e),s;if(t){var o=Nf(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return Dve(this,s)}}function Dve(e,t){return t&&(vd(t)==="object"||typeof t=="function")?t:b0(e)}function b0(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lve(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Nf(e){return Nf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Nf(e)}function kM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fve=function(e){jve(n,e);var t=Rve(n);function n(){var r;Ove(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),kM(b0(r),"priority",10),kM(b0(r),"incompatibleTokens",["t","T","x"]),r}return Ive(n,[{key:"parse",value:function(s,o){switch(o){case"X":return lr(cr.basicOptionalMinutes,s);case"XX":return lr(cr.basic,s);case"XXXX":return lr(cr.basicOptionalSeconds,s);case"XXXXX":return lr(cr.extendedOptionalSeconds,s);case"XXX":default:return lr(cr.extended,s)}}},{key:"set",value:function(s,o,a){return o.timestampIsSet?s:new Date(s.getTime()-a)}}]),n}(Ie);function yd(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yd=function(n){return typeof n}:yd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},yd(e)}function Bve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vve(e,t,n){return t&&Uve(e.prototype,t),e}function Gve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x0(e,t)}function x0(e,t){return x0=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},x0(e,t)}function Wve(e){var t=zve();return function(){var r=If(e),s;if(t){var o=If(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return Hve(this,s)}}function Hve(e,t){return t&&(yd(t)==="object"||typeof t=="function")?t:w0(e)}function w0(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zve(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function If(e){return If=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},If(e)}function MM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qve=function(e){Gve(n,e);var t=Wve(n);function n(){var r;Bve(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),MM(w0(r),"priority",10),MM(w0(r),"incompatibleTokens",["t","T","X"]),r}return Vve(n,[{key:"parse",value:function(s,o){switch(o){case"x":return lr(cr.basicOptionalMinutes,s);case"xx":return lr(cr.basic,s);case"xxxx":return lr(cr.basicOptionalSeconds,s);case"xxxxx":return lr(cr.extendedOptionalSeconds,s);case"xxx":default:return lr(cr.extended,s)}}},{key:"set",value:function(s,o,a){return o.timestampIsSet?s:new Date(s.getTime()-a)}}]),n}(Ie);function bd(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?bd=function(n){return typeof n}:bd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},bd(e)}function Yve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qve(e,t,n){return t&&Kve(e.prototype,t),e}function Xve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S0(e,t)}function S0(e,t){return S0=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},S0(e,t)}function Zve(e){var t=eye();return function(){var r=jf(e),s;if(t){var o=jf(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return Jve(this,s)}}function Jve(e,t){return t&&(bd(t)==="object"||typeof t=="function")?t:C0(e)}function C0(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eye(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function jf(e){return jf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},jf(e)}function EM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tye=function(e){Xve(n,e);var t=Zve(n);function n(){var r;Yve(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),EM(C0(r),"priority",40),EM(C0(r),"incompatibleTokens","*"),r}return Qve(n,[{key:"parse",value:function(s){return uR(s)}},{key:"set",value:function(s,o,a){return[new Date(a*1e3),{timestampIsSet:!0}]}}]),n}(Ie);function xd(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xd=function(n){return typeof n}:xd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},xd(e)}function nye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sye(e,t,n){return t&&rye(e.prototype,t),e}function oye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_0(e,t)}function _0(e,t){return _0=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},_0(e,t)}function aye(e){var t=cye();return function(){var r=Rf(e),s;if(t){var o=Rf(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return iye(this,s)}}function iye(e,t){return t&&(xd(t)==="object"||typeof t=="function")?t:T0(e)}function T0(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cye(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Rf(e){return Rf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Rf(e)}function PM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lye=function(e){oye(n,e);var t=aye(n);function n(){var r;nye(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),PM(T0(r),"priority",20),PM(T0(r),"incompatibleTokens","*"),r}return sye(n,[{key:"parse",value:function(s){return uR(s)}},{key:"set",value:function(s,o,a){return[new Date(a),{timestampIsSet:!0}]}}]),n}(Ie),uye={G:new Ihe,y:new Vhe,Y:new Qhe,R:new spe,u:new fpe,Q:new xpe,q:new Epe,M:new Rpe,L:new Wpe,w:new Jpe,I:new cme,d:new yme,D:new kme,E:new Ime,e:new Vme,c:new Qme,i:new oge,a:new hge,b:new wge,B:new Pge,h:new Dge,H:new Hge,K:new Jge,k:new ive,m:new mve,s:new Cve,S:new Ave,X:new Fve,x:new qve,t:new tye,T:new lye};function wd(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wd=function(n){return typeof n}:wd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},wd(e)}function $M(e,t){var n;if(typeof Symbol>"u"||e[Symbol.iterator]==null){if(Array.isArray(e)||(n=dye(e))||t){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(u){throw u},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,a=!1,c;return{s:function(){n=e[Symbol.iterator]()},n:function(){var u=n.next();return o=u.done,u},e:function(u){a=!0,c=u},f:function(){try{!o&&n.return!=null&&n.return()}finally{if(a)throw c}}}}function dye(e,t){if(e){if(typeof e=="string")return AM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AM(e,t)}}function AM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var fye=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,hye=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,pye=/^'([^]*?)'?$/,mye=/''/g,gye=/\S/,vye=/[a-zA-Z]/;function Dut(e,t,n,r){var s,o,a,c,l,u,d,f,h,m,g,v,y,x,b,w,C,T;ee(3,arguments);var _=String(e),k=String(t),M=Vr(),I=(s=(o=r?.locale)!==null&&o!==void 0?o:M.locale)!==null&&s!==void 0?s:o1;if(!I.match)throw new RangeError("locale must contain match property");var A=qe((a=(c=(l=(u=r?.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(d=r.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&l!==void 0?l:M.firstWeekContainsDate)!==null&&c!==void 0?c:(h=M.locale)===null||h===void 0||(m=h.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(A>=1&&A<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var H=qe((g=(v=(y=(x=r?.weekStartsOn)!==null&&x!==void 0?x:r==null||(b=r.locale)===null||b===void 0||(w=b.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&y!==void 0?y:M.weekStartsOn)!==null&&v!==void 0?v:(C=M.locale)===null||C===void 0||(T=C.options)===null||T===void 0?void 0:T.weekStartsOn)!==null&&g!==void 0?g:0);if(!(H>=0&&H<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(k==="")return _===""?oe(n):new Date(NaN);var q={firstWeekContainsDate:A,weekStartsOn:H,locale:I},F=[new Che],N=k.match(hye).map(function(xe){var re=xe[0];if(re in gy){var Ce=gy[re];return Ce(xe,I.formatLong)}return xe}).join("").match(fye),R=[],B=$M(N),Y;try{var j=function(){var re=Y.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&oR(re)&&tf(re,k,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&sR(re)&&tf(re,k,e);var Ce=re[0],st=uye[Ce];if(st){var ne=st.incompatibleTokens;if(Array.isArray(ne)){var ot=R.find(function(Is){return ne.includes(Is.token)||Is.token===Ce});if(ot)throw new RangeError("The format string mustn't contain `".concat(ot.fullToken,"` and `").concat(re,"` at the same time"))}else if(st.incompatibleTokens==="*"&&R.length>0)throw new RangeError("The format string mustn't contain `".concat(re,"` and any other token at the same time"));R.push({token:Ce,fullToken:re});var Dt=st.run(_,re,I.match,q);if(!Dt)return{v:new Date(NaN)};F.push(Dt.setter),_=Dt.rest}else{if(Ce.match(vye))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Ce+"`");if(re==="''"?re="'":Ce==="'"&&(re=yye(re)),_.indexOf(re)===0)_=_.slice(re.length);else return{v:new Date(NaN)}}};for(B.s();!(Y=B.n()).done;){var D=j();if(wd(D)==="object")return D.v}}catch(xe){B.e(xe)}finally{B.f()}if(_.length>0&&gye.test(_))return new Date(NaN);var V=F.map(function(xe){return xe.priority}).sort(function(xe,re){return re-xe}).filter(function(xe,re,Ce){return Ce.indexOf(xe)===re}).map(function(xe){return F.filter(function(re){return re.priority===xe}).sort(function(re,Ce){return Ce.subPriority-re.subPriority})}).map(function(xe){return xe[0]}),Z=oe(n);if(isNaN(Z.getTime()))return new Date(NaN);var se=Jj(Z,Na(Z)),ae={},be=$M(V),te;try{for(be.s();!(te=be.n()).done;){var G=te.value;if(!G.validate(se,q))return new Date(NaN);var Me=G.set(se,ae,q);Array.isArray(Me)?(se=Me[0],a1(ae,Me[1])):se=Me}}catch(xe){be.e(xe)}finally{be.f()}return se}function yye(e){return e.match(pye)[1].replace(mye,"'")}function Lut(e){ee(1,arguments);var t=oe(e);return t.setMinutes(0,0,0),t}function Fut(e){ee(1,arguments);var t=oe(e);return t.setMilliseconds(0),t}function bye(e,t){ee(2,arguments);var n=oe(e),r=oe(t);return n.getFullYear()===r.getFullYear()}function hR(e){return ee(1,arguments),bye(e,Date.now())}function xye(e){return ee(1,arguments),Kj(e,Date.now())}function wye(e){return ee(1,arguments),Kj(e,qj(Date.now(),1))}function But(e,t){var n;ee(1,arguments);var r=qe((n=t?.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var s=Tye(e),o;if(s.date){var a=kye(s.date,r);o=Mye(a.restDateString,a.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);var c=o.getTime(),l=0,u;if(s.time&&(l=Eye(s.time),isNaN(l)))return new Date(NaN);if(s.timezone){if(u=Pye(s.timezone),isNaN(u))return new Date(NaN)}else{var d=new Date(c+l),f=new Date(0);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return new Date(c+l+u)}var eu={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Sye=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Cye=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,_ye=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Tye(e){var t={},n=e.split(eu.dateTimeDelimiter),r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],eu.timeZoneDelimiter.test(t.date)&&(t.date=e.split(eu.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){var s=eu.timezone.exec(r);s?(t.time=r.replace(s[1],""),t.timezone=s[1]):t.time=r}return t}function kye(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var s=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?s:o*100,restDateString:e.slice((r[1]||r[2]).length)}}function Mye(e,t){if(t===null)return new Date(NaN);var n=e.match(Sye);if(!n)return new Date(NaN);var r=!!n[4],s=$i(n[1]),o=$i(n[2])-1,a=$i(n[3]),c=$i(n[4]),l=$i(n[5])-1;if(r)return Iye(t,c,l)?$ye(t,c,l):new Date(NaN);var u=new Date(0);return!Oye(t,o,a)||!Nye(t,s)?new Date(NaN):(u.setUTCFullYear(t,o,Math.max(s,a)),u)}function $i(e){return e?parseInt(e):1}function Eye(e){var t=e.match(Cye);if(!t)return NaN;var n=_g(t[1]),r=_g(t[2]),s=_g(t[3]);return jye(n,r,s)?n*Pp+r*Ep+s*1e3:NaN}function _g(e){return e&&parseFloat(e.replace(",","."))||0}function Pye(e){if(e==="Z")return 0;var t=e.match(_ye);if(!t)return 0;var n=t[1]==="+"?-1:1,r=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return Rye(r,s)?n*(r*Pp+s*Ep):NaN}function $ye(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var s=r.getUTCDay()||7,o=(t-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+o),r}var Aye=[31,null,31,30,31,30,31,31,30,31,30,31];function pR(e){return e%400===0||e%4===0&&e%100!==0}function Oye(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(Aye[t]||(pR(e)?29:28))}function Nye(e,t){return t>=1&&t<=(pR(e)?366:365)}function Iye(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function jye(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function Rye(e,t){return t>=0&&t<=59}var Dye=(e=>(e.Mobile="mobile",e.Small="small",e.Medium="medium",e.Large="large",e.XLarge="xlarge",e))(Dye||{});const li={small:640,medium:768,large:1024,xlarge:1280};function ui(e){const t=yh(),n=a=>typeof t<"u"?!!t?.matchMedia(a)?.matches:!1,[r,s]=p.useState(n(e));function o(){s(n(e))}return p.useEffect(()=>{const a=t?.matchMedia(e);if(a)return o(),a.addListener?a.addListener(o):a.addEventListener("change",o),()=>{a.removeListener?a.removeListener(o):a.removeEventListener("change",o)}},[e]),r}function Eo(){return ui(`(min-width: ${li.small}px)`)}function Po(){return ui(`(min-width: ${li.medium}px)`)}function Lye(e){return e?e.matchMedia(`(min-width: ${li.medium}px)`).matches:!0}function mR(){return ui(`(min-width: ${li.large}px)`)}function Fye(){return ui(`(min-width: ${li.xlarge}px)`)}function As(){return!Eo()}function Uut(e){return!e?.matchMedia(`(min-width: ${li.small}px)`).matches}function gR(){return/iPad|iPhone|iPod/.test(window.navigator.platform)}function vR(){return/Android/.test(window.navigator.userAgent)}function Bye(){return gR()||vR()}function Uye(){return gR()&&navigator.userAgent.includes("CriOS")}function Vye(){return vR()&&navigator.userAgent.includes("Chrome")}function Vut(){return navigator.userAgent.includes("Mac OS X")}function Gye(){return navigator.userAgent.includes("Windows_NT")}function Wye(){return navigator.userAgent.includes("Chrome/")&&!/Android|iPhone|iPad/i.test(navigator.userAgent)}function Gut(){const e=Eo(),t=Po(),n=mR();return Fye()?"xlarge":n?"large":t?"medium":e?"small":"mobile"}function Wut(){return ui("(prefers-color-scheme: dark)")}function Hye(){return ui("(hover: hover) and (pointer: fine)")}function on(e){this.content=e}on.prototype={constructor:on,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,s=r.find(e),o=r.content.slice();return s==-1?o.push(n||e,t):(o[s+1]=t,n&&(o[s]=n)),new on(o)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new on(n)},addToStart:function(e,t){return new on([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new on(n)},addBefore:function(e,t,n){var r=this.remove(t),s=r.content.slice(),o=r.find(e);return s.splice(o==-1?s.length:o,0,t,n),new on(s)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=on.from(e),e.size?new on(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=on.from(e),e.size?new on(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=on.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};on.from=function(e){if(e instanceof on)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new on(t)};function yR({percentage:e,thickness:t=1/12,className:n,sizeOverride:r,backgroundStrokeClassName:s="stroke-gray-400",transitionDuration:o,transitionTimingFunction:a,onTransitionEnd:c}){const l=r??120,u=l*t,d=(l-u)/2,f=2*Math.PI*d,h=f-e/100*f;return i.jsxs("svg",{width:l,height:l,viewBox:`0 0 ${l} ${l}`,className:n,children:[i.jsx("circle",{className:$("origin-[50%_50%] -rotate-90",s),strokeWidth:u,fill:"transparent",r:d,cx:l/2,cy:l/2}),i.jsx("circle",{className:"origin-[50%_50%] -rotate-90 transition-[stroke-dashoffset]",stroke:"currentColor",strokeWidth:u,strokeDashoffset:h,strokeDasharray:`${f} ${f}`,fill:"transparent",r:d,cx:l/2,cy:l/2,style:{transitionDuration:o,transitionTimingFunction:a},onTransitionEnd:c})]})}const Hut=({size:e=40,className:t="text-blue-selection"})=>i.jsx("div",{className:$("relative",t),style:{width:e,height:e},children:i.jsxs("svg",{className:"absolute h-full w-full animate-spin",viewBox:"0 0 50 50",children:[i.jsx("defs",{children:i.jsxs("linearGradient",{id:"spinner-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[i.jsx("stop",{offset:"0%",style:{stopColor:"currentColor",stopOpacity:1}}),i.jsx("stop",{offset:"100%",style:{stopColor:"currentColor",stopOpacity:0}})]})}),i.jsx("circle",{cx:"25",cy:"25",r:"20",stroke:"url(#spinner-gradient)",strokeWidth:"8",strokeLinecap:"round",fill:"none",strokeDasharray:"75,150",strokeDashoffset:"0"})]})});function zye(e,t,n){return e===e&&(n!==void 0&&(e=e<=n?e:n),t!==void 0&&(e=e>=t?e:t)),e}var qye=zye,Yye=qye,Tg=KP;function Kye(e,t,n){return n===void 0&&(n=t,t=void 0),n!==void 0&&(n=Tg(n),n=n===n?n:0),t!==void 0&&(t=Tg(t),t=t===t?t:0),Yye(Tg(e),t,n)}var Qye=Kye;const Df=ye(Qye);var Te=(e=>(e[e.Text=0]="Text",e[e.MultiText=1]="MultiText",e[e.Browsing=2]="Browsing",e[e.CodeInterpreter=3]="CodeInterpreter",e[e.JITPlugin=4]="JITPlugin",e[e.RetrievalBrowsing=5]="RetrievalBrowsing",e[e.ParallelBrowsing=6]="ParallelBrowsing",e[e.Dalle=7]="Dalle",e[e.Canmore=8]="Canmore",e[e.GizmoEditor=9]="GizmoEditor",e[e.SearchResult=10]="SearchResult",e[e.Debug=11]="Debug",e[e.SearchGPTQuery=12]="SearchGPTQuery",e[e.a8km123=13]="a8km123",e[e.f959b8c=14]="f959b8c",e[e.b1de6e2=15]="b1de6e2",e[e.b1de6e2_c=16]="b1de6e2_c",e[e.de1d73e=17]="de1d73e",e))(Te||{});const zut=[2,5,12],qut=e=>e.some(t=>t.type===Te.Canmore&&t.messages.some(({message:n})=>Bh(n)&&n.recipient===Vt.CreateTextdoc)),k0=Ze(()=>Ye(()=>import("./er38hedgxy5jks4l.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11])).then(e=>e.CanvasMessageAttachment)),Xye=Ze(()=>Ye(()=>import("./er38hedgxy5jks4l.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11])).then(e=>e.CanvasMessageAttachmentWrapper));function M0(e){let t=e;return t=t.replace(/\.[^/.]+$/,""),t=t.replace(/_/g," "),t=t.replace(/([a-z])([A-Z])/g,"$1 $2"),t.split(" ").map(r=>r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()).join(" ")}function Zye(e){const t=p.useRef(!1);return()=>{t.current||(e(),t.current=!0)}}const Jye=(e,t)=>e?.textdocId?e.textdocId:e?.function===Vt.CreateTextdoc?px(e):t??void 0,Yut=({messages:e,isRequestActive:t,clientThreadId:n})=>{const r=U(),s=qA(e),o=YA(e),a=p.useMemo(()=>{if(Bh(s?.message))return VA(t,s.message,o?.message??null)},[t,s,o]),c=D8(),l=Jye(a,c),u=Lh(l),d=Fc(),f=hx(l),h=B8(),m=L8(),g=XA(),v=R8(),y=F8({textdocId:l,toolResponseMessage:o}),x=Zye(()=>{const I=vr.getThreadModelId(n);mx.logError("Textdoc missing from conversation",null,{clientThreadId:n,modelId:I,textdocId:l,latestTextdocId:c,toolCallTextdocId:a?.textdocId,toolCallStatus:a?.status,toolCallFunction:a?.function})});if(p.useEffect(()=>{!t&&a?.status===pe.COMPLETE&&!v&&!u&&x()},[a,u,t,v,x]),!a)return null;const b=a.status===pe.REDACTED||!v&&!u&&a.status!==pe.STREAMING&&a.status!==pe.WAITING;let w,C;if(a.status!==pe.REDACTED&&a.status!==pe.FAILED&&!b&&l){const I=a.function===Vt.UpdateTextdoc&&a.status===pe.COMPLETE;w=()=>{I&&a.versionInt?o8(l,a.versionInt,h):ka(l)},C=()=>{I&&a.versionInt&&g(l,a.versionInt)}}const T=e0e(a,u);if(a.function===Vt.CreateTextdoc){if(a.status===pe.STREAMING||a.status===pe.WAITING||a.status===pe.COMPLETE){const A=v===!0&&(a.status===pe.STREAMING||a.status===pe.WAITING);return i.jsx(k0,{isInlinePreview:y,isFetching:A,type:a.type??null,name:T,isFocused:f,isStreaming:a.status===pe.STREAMING,onClick:w,isCanvasOpen:d,textdocId:l})}let I;switch(a.status){case pe.FAILED:I=r.formatMessage({id:"SNarKX",defaultMessage:"Failed to generate"});break;case pe.CANCELED:I=r.formatMessage({id:"1A6W36",defaultMessage:"Stopped generating"});break;case pe.REDACTED:I=i.jsx(rt,{align:"start",label:r.formatMessage({id:"F6q1k7",defaultMessage:"Removed from shared conversation"}),children:r.formatMessage({id:"BqyYDu",defaultMessage:"Created document"})});break}return i.jsx(OM,{children:I})}const _=b||a.status===pe.REDACTED,k=m&&!_?T:null,M=i.jsx(OM,{onClick:w,onMouseOver:C,isStreaming:a.status===pe.STREAMING,children:a.function===Vt.CommentTextdoc?n0e(r,a,k):t0e(r,a,k)});return y&&!d&&!b&&l?i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsx(k0,{isInlinePreview:!0,isFetching:!1,type:u?.type??null,name:T,isFocused:f,isStreaming:a.status===pe.STREAMING,onClick:l!=null?()=>ka(l):void 0,isCanvasOpen:d,textdocId:l}),M]}):M};function e0e(e,t){return t?.title?M0(t.title):e.function===Vt.CreateTextdoc&&e.title?M0(e.title):null}const OM=({isStreaming:e=!1,onClick:t,onMouseOver:n,children:r})=>i.jsx("button",{disabled:!t,className:$(e&&"loading-shimmer","flex min-h-5 w-fit select-none pt-[3px] text-start text-token-text-secondary",t&&"hover:text-token-text-primary"),onClick:t,onMouseOver:n,children:r}),bR=9;function t0e(e,t,n){if(t.status===pe.STREAMING)return n?e.formatMessage({id:"W2xN1Z",defaultMessage:"Editing {documentTitle}"},{documentTitle:n}):e.formatMessage({id:"8taq8v",defaultMessage:"Editing"});if(t.status===pe.FAILED)return n?e.formatMessage({id:"UjJKYZ",defaultMessage:"Failed to edit {documentTitle}"},{documentTitle:n}):e.formatMessage({id:"kWUVkg",defaultMessage:"Failed to edit"});if(t.status===pe.CANCELED)return n?e.formatMessage({id:"TmSrCd",defaultMessage:"Stopped editing {documentTitle}"},{documentTitle:n}):e.formatMessage({id:"bYV7xA",defaultMessage:"Stopped editing"});const r=t.updates?.length;return t.status===pe.REDACTED||!r||r>bR?n?e.formatMessage({id:"n+G/ct",defaultMessage:"Edited {documentTitle}"},{documentTitle:n}):e.formatMessage({id:"aegqpL",defaultMessage:"Edited"}):n?e.formatMessage({id:"osYMSb",defaultMessage:"{numEdits, plural, one {Edited {documentTitle}} other {Made {numEdits} edits to {documentTitle}}}"},{numEdits:r,documentTitle:n}):e.formatMessage({id:"xJD3WR",defaultMessage:"{numEdits, plural, one {Edited} other {Made {numEdits} edits}}"},{numEdits:r})}function n0e(e,t,n){if(t.status===pe.STREAMING)return n?e.formatMessage({id:"8xQH/P",defaultMessage:"Commenting on {documentTitle}"},{documentTitle:n}):e.formatMessage({id:"5yqLeN",defaultMessage:"Commenting"});if(t.status===pe.FAILED)return n?e.formatMessage({id:"Rl821S",defaultMessage:"Failed to comment on {documentTitle}"},{documentTitle:n}):e.formatMessage({id:"W007jt",defaultMessage:"Failed to comment"});if(t.status===pe.CANCELED)return n?e.formatMessage({id:"bozPdq",defaultMessage:"Stopped commenting on {documentTitle}"},{documentTitle:n}):e.formatMessage({id:"hyBGa7",defaultMessage:"Stopped commenting"});const r=t.comments?.length;return t.status===pe.REDACTED||!r||r>bR?n?e.formatMessage({id:"LXEzK7",defaultMessage:"Commented on {documentTitle}"},{documentTitle:n}):e.formatMessage({id:"KeMYhy",defaultMessage:"Commented"}):n?e.formatMessage({id:"Ql5lPq",defaultMessage:"{numComments, plural, one {Commented on {documentTitle}} other {Added {numComments} comments on {documentTitle}}}"},{numComments:r,documentTitle:n}):e.formatMessage({id:"FHtyJQ",defaultMessage:"{numComments, plural, one {Commented} other {Added {numComments} comments}}"},{numComments:r})}function r0e(e){const t=Math.floor(e/60),n=Math.floor(t/60),r=String(Math.floor(e)%60).padStart(2,"0"),s=String(t%60).padStart(2,"0");return n===0?`${s}:${r}`:`${n}:${s}:${r}`}function s0e(e){const t=e?.audio_asset_pointer?.metadata;if(t?.start!==void 0&&t?.end!==void 0)return t.end-t.start}const Kut=p.memo(function(t){const n=U(),{content:r,metadata:s}=t.message;if(!(r.content_type==="multimodal_text"&&t.isUserTurn))return;const a=r.parts.filter(o$.isPartRealTimeUserAudioVideoAssetPointer).find(l=>l.audio_asset_pointer),c=s0e(a);return i.jsxs("div",{className:"my-2 mr-4 flex flex-row justify-end gap-1 text-xs text-token-text-secondary",children:[s?.real_time_audio_has_video&&i.jsx(i7,{"aria-label":n.formatMessage({id:"/nS9Zn",defaultMessage:"Recorded with video or screenshare"}),className:"icon-sm"}),a&&i.jsx(c7,{"aria-label":n.formatMessage({id:"eP1JEa",defaultMessage:"Recorded with voice"}),className:"icon-sm"}),c!==void 0&&i.jsx("span",{className:"font-semibold",children:r0e(c)})]})});function o0e({type:e="info",children:t,isDismissible:n=!1,onDismiss:r,className:s,isElevated:o=!1}){const[a,c]=p.useState(!1);if(a)return null;let l;return e!=="none"&&(l=Dc),i.jsxs(a0e,{$type:e,className:$("flex w-full items-start gap-3 rounded-2xl border text-sm",e==="warning"||e==="danger"?"bg-opacity-5":"bg-opacity-10",n?"py-2.5 pl-3 pr-2 md:py-3 md:pl-4 md:pr-3":"px-3 py-2.5 md:p-4",o&&"shadow-xxs",s),children:[l&&i.jsx(l,{className:$("icon-lg shrink-0",n&&"mt-[2px] md:mt-px",(e==="info"||e==="none")&&"text-token-text-secondary")}),i.jsx("div",{className:$("grow",n?"pt-[4px] md:pt-[3px]":"pt-[2px]",!l&&"pl-1"),children:t}),n&&i.jsx("button",{onClick:()=>{c(!0),r?.()},className:$("flex h-7 w-7 shrink-0 items-center justify-center rounded-full bg-transparent text-token-text-primary",(e==="info"||e==="none")&&"hover:bg-token-main-surface-secondary",e==="danger"&&"hover:bg-token-surface-error/10",e==="warning"&&"hover:bg-orange-400/10"),children:i.jsx(za,{className:"icon-md"})})]})}const a0e=Se.div`
${({$type:e})=>{switch(e){case"danger":return"text-token-text-error border-token-surface-error/15 bg-token-surface-error bg-opacity-0";case"warning":return"text-orange-600 bg-orange-400 bg-opacity-0 border-orange-400/15";case"success":return"text-green-500 border-green-500 bg-green-500 bg-opacity-0";default:return"text-token-text-primary border-token-border-light bg-token-main-surface-primary bg-opacity-0"}}}`,i0e=({textdocId:e})=>{const t=jn(l=>l?.resolveTempTextdocId[e]??e),n=Lh(t),r=hx(t),s=Fc();if(!n)return null;const o=()=>{ka(t)},{title:a,type:c}=n;return i.jsx("div",{className:"flex w-full justify-end",children:i.jsx(k0,{textdocId:t,type:c,name:a,isFocused:r,isCanvasOpen:s,onClick:o,isInlinePreview:!0})})},c0e=({messages:e})=>{const[t]=e,n=t?.message.metadata?.canvas;return!n||n.user_message_type!=null?null:i.jsx(i.Fragment,{children:n.pasted_textdocs?.map(({tempId:r})=>i.jsx(i0e,{textdocId:r},r))})};function l0e(e,t=[]){if(t.length===0)return e;const n=t.filter(r=>r.end_ix<=e.length&&r.citation_format_type==="tether_markdown"&&r.metadata?.type==="webpage");for(let r=n.length-1;r>=0;r--){const s=n[r];if(s.metadata?.type!=="webpage")continue;const{start_ix:o,end_ix:a,metadata:c}=s,u=e.substring(o,a).replace(/\[(.*?)\]\((\d+)\)/g,`[$1](${c?.url})`);e=e.substring(0,o)+u+e.substring(a)}return e}function u0e(e,t=[]){if(t.length===0)return[];const n=[],r=t.filter(o=>o.end_ix<=e.length&&o.citation_format_type!=="tether_markdown"),s=E4(e);for(let o=r.length-1;o>=0;o--){const a=r[o];let c;const{start_ix:l,end_ix:u,metadata:d,invalid_reason:f}=a;if(!d?.type)continue;const h=s.slice(l,u).join("");switch(d.type){case"webpage":c={...d,type:"webpage",title:d.title??"",snippet:d.text??null,pub_date:h0e(d.pub_date),matched_text:h,start_idx:l,end_idx:u,alt:null,prompt_text:null,safe_urls:[],attributions:null};break;case"file":c={...d,matched_text:h,start_idx:l,end_idx:u,alt:null,prompt_text:null,safe_urls:[]};break}f&&(c={type:"invalid",alt:f,prompt_text:null,start_idx:l,end_idx:u,matched_text:h,invalid:!0,safe_urls:[]});let m=!1;if(n.length>0){const g=n[n.length-1];NM(g)===NM(c)&&s.slice(g.end_idx,a.start_ix).join("").trim().length===0&&(n[n.length-1].end_idx=a.end_ix,m=!0)}!m&&c&&n.push(c)}return n}function d0e(e,t=[],n=[]){const r=l0e(e,t),o=[...n.length>0?[]:u0e(r,t),...n],a=Ba(o);return{text:r,contentReferences:a}}function f0e(){return bh("1001765573").config.get("ca_enabled",!1)}function NM(e){switch(e.type){case"file":return e.id;case"webpage":return e.url;case"invalid":return e.alt}}function h0e(e){return e==null?null:new Date(e).getTime()/1e3}class p0e{loggedEvents=new Set;logEvent(t,n){if(!this.loggedEvents.has(t)){const[r]=window.performance.getEntriesByType("navigation");r||Rb.error("Failed to get navigation timing");const s=window.performance.now()-r.requestStart;E.logEvent(t,{timeMs:s,...n}),this.loggedEvents.add(t)}}}const m0e=new p0e;let kg=null;function d1(){return kg||(kg=Ye(()=>import("./oizw0lv24r6kf6um.js").then(e=>e.F),__vite__mapDeps([12,1,2,3,13,14,15,16,17,6,18,19,20,8,21,22]))),kg}const f1=Ze(()=>d1().then(e=>e.FormattedText)),Mg=Ze(()=>d1().then(e=>e.UserFormattedText));function Qut(){return p.use(d1()),null}const g0e={highlightedAttributions:new Set},IM=3,E0=Le(()=>g0e),jM={enabled:!0,debugMode:!1,disableSegmentReplacement:!1,filterToSection:!0,influenceTemperature:.25,probThreshold:.25},gs=Le()(a$(()=>({...jM}),{name:"search.attributions-settings",getStorage:()=>localStorage,version:IM,migrate:(e,t)=>t!==IM?jM:e}));function xR(e,t){return`${e}-${t}`}const RM={setHighlight:(e,t)=>{if(e==null)return;if(t==null||t.length===0)return RM.clearHighlights();Array.isArray(t)||(t=[t]);const n=new Set(t.map(r=>xR(e,r)));return E0.setState(()=>({highlightedAttributions:n}))},setHighlightBySource:(e,t)=>{let n;"attribution_segments"in t&&(n=t.attribution_segments??void 0);const r=gs.getState().filterToSection,s=gs.getState().influenceTemperature;let o;if("attributions_debug"in t&&(o=t.attributions_debug),o?.full_indexed_influence&&o?.ref_id&&s!==o?.influence_temperature){const a=gs.getState().probThreshold,c=x0e(o,s,void 0,r);if(c){n=[];for(const{attribution_index:l,probability:u}of c)u>a&&n.push(String(l))}}RM.setHighlight(e,n)},clearHighlights:()=>E0.setState({highlightedAttributions:new Set})},v0e=()=>{const{value:e}=mt("2192543539");return e},y0e=()=>{const e=v0e(),t=gs(n=>n.enabled);return e&&t},Xut=()=>gs(e=>e.debugMode),Zut=(e,t)=>E0(n=>e==null?!1:n.highlightedAttributions.has(xR(e,t))),b0e=()=>gs(e=>e.disableSegmentReplacement||!e.enabled),Jut=()=>gs(e=>e.influenceTemperature),edt=()=>gs(e=>e.filterToSection);function wR(e,t=1,n){const r={};for(const s in e){const o=e[s],a={},c=Object.entries(o);for(const[f,h]of c)a[f]=h;let l=0;const u={};for(const f in a){const h=a[f],m=Math.exp(h/t);u[f]=m,l+=m}const d={};for(const f in u)d[f]=u[f]/l;r[s]=d}return r}function x0e(e,t=1,n,r){const s=e.full_indexed_influence,o=e.ref_id;if(!s||!o)return null;const a=wR(s,t),c=[];for(const l in a)r&&e.filtered_segments&&!e.filtered_segments?.includes(l)||c.push({attribution_index:l,probability:a[l][o],influence:s[l][o]});return c.sort((l,u)=>u.probability-l.probability),c}function tdt(e,t=1,n){const r={};if(e.every(a=>a.influence==null))return e;e.forEach((a,c)=>{r[`${c}`]=a.influence??0});const o=wR({0:r},t);return e.map((a,c)=>({...a,probability:o[0][`${c}`]}))}const w0e=p.createContext(void 0);function S0e(){const{value:e}=mt("568802918");return e}function C0e(){const e=new Intl.Segmenter("en-us",{granularity:"word"});return t=>{let n="";const r=[];return Array.from(e.segment(t)).forEach(({segment:s,isWordLike:o})=>{if(!o){n+=s;return}r.push(`${n}${s}`),n=""}),n.length>0?r.length===0?[n]:[...r.slice(0,r.length-1),`${r[r.length-1]}${n}`]:r}}class cs{static Interval=200;static ResetInterval=5e3;animatedNodeCount=0;alreadyAnimatedCount=0;batch=1;nextBatch=2;keyToNodeMap=new Map;hasNodeInBatch=!1;hasNodeInNextBatch=!1;state="reset";waitingRichBlocks=new Set;lastCreatedNode;segmenter;isActivelyStreaming=!1;onReset;onResetContext;onStylesUpdated;constructor(t){this.onStylesUpdated=t??(()=>{});try{this.segmenter=C0e()}catch{this.segmenter=n=>n.split("")}}setOnStylesUpdatedCallback(t){this.onStylesUpdated=t}setOnResetContext(t){this.onResetContext=t}setOnResetCallback(t){this.onReset=t}onStreamingChanged(t){this.isActivelyStreaming!==t&&(this.isActivelyStreaming=t,t?this.maybeStartBatch():setTimeout(()=>{this.reset()},cs.ResetInterval))}reset(){p.startTransition(()=>{this.animatedNodeCount=0,this.batch=1,this.nextBatch=2,this.keyToNodeMap.forEach(t=>{t.textSegments.clear()}),this.keyToNodeMap.clear(),this.hasNodeInBatch=!1,this.hasNodeInNextBatch=!1,this.waitingRichBlocks.clear(),this.lastCreatedNode=void 0,this.state="reset",this.onStylesUpdated(this.createTopLevelStyles()),this.onReset?.(),this.onResetContext?.()})}advanceToNextBatch(){if(this.hasNodeInBatch){if(this.batch=this.nextBatch,this.nextBatch++,this.hasNodeInBatch=!1,this.onStylesUpdated(this.createTopLevelStyles()),!this.hasNodeInNextBatch){this.state="idle",this.animatedNodeCount=0,this.alreadyAnimatedCount=0;return}setTimeout(()=>{this.hasNodeInBatch=!0,this.hasNodeInNextBatch=!1,this.advanceToNextBatch()},cs.Interval)}}get isIdleOrReset(){return this.state==="idle"||this.state==="reset"}get canAddToCurrentBatch(){return this.isActivelyStreaming&&this.state==="waiting"}get canStartNewBatch(){return this.isIdleOrReset&&this.isActivelyStreaming}maybeStartBatch(){this.canStartNewBatch&&(this.state="waiting",setTimeout(()=>this.advanceToNextBatch(),cs.Interval))}createTopLevelStyles(){const t={};let n=1;for(;n<this.nextBatch+1;)t[`--batch-play-state-${n}`]="playing",n++;return this.state==="reset"&&(t["--turn-block-opacity"]="1",t["--turn-animation"]="none"),t}createBlockstyles(t){return{"--streaming-animation-state":`var(--batch-play-state-${t})`,"--animation-rate":`var(--batch-play-rate-${t})`}}createMarkerStyles(t){if(typeof t=="number")return{"--animation-marker-count":t??this.animatedNodeCount};const n=t?.position?.start.line??-1,r=t?.position?.start.column??-1;let s;for(const o of this.keyToNodeMap.values()){const{start:a}=o.element.position??{start:{line:-1,column:-1}};if(a.line>=n&&a.column>=r){s=o;break}}return s?{"--animation-marker-count":s.startCount+1}:{}}createChildStyles(t,n){return{...n,"--animation-count":t.startCount,"--streaming-animation-state":`var(--batch-play-state-${t.batch})`}}processChildren({children:t,element:n}){const r=this.makeAnimationNode(n,void 0,!1);return Q.Children.map(t,(o,a)=>{const c=n.children[a];return this.processNode({element:c,parent:r,reactNode:o}).reactElement})}makeAnimationNode(t,n,r){const s=this.generateKey(t);let o=this.batch;this.canAddToCurrentBatch?this.hasNodeInBatch=!0:(this.hasNodeInNextBatch=!0,o=this.batch+1);let a=this.keyToNodeMap.get(s);return a?a.parent=n:(a={batch:o,key:s,element:t,startCount:r?this.animatedNodeCount++:this.animatedNodeCount,parent:n,textSegments:new Set,children:new Map},this.keyToNodeMap.set(s,a),this.lastCreatedNode=a),this.waitingRichBlocks.forEach(c=>c()),a}getStaticStyles(t){const n={"--streaming-animation-state":"paused"};if(!t)return n;const r=this.generateKey(t);if(this.keyToNodeMap.has(r)){const s=this.keyToNodeMap.get(r);if(s)return this.createChildStyles(s)}return n}async processElementForStyles(t,n){const r=this;function s(){const u=t?.position?.start.line??0,d=t?.position?.start.column??0,{position:f}=r.lastCreatedNode?.element??{position:{start:{line:-1,column:-1}}},h=f?.start.line??-1,m=f?.start.column??-1;return h>=u&&m>=d}let o;function a(u){if(s()){r.waitingRichBlocks.delete(o);const d=r.makeAnimationNode(t,void 0,!0),f=r.createChildStyles(d,n);return u?.(f),f}}const c=a();if(c)return c;function l(){return new Promise(u=>{o=()=>a(u),r.waitingRichBlocks.add(o)})}return l()}static getNodeType(t,n){if(p.isValidElement(n)){if(t.type==="text")return 1;if(t.type==="element")return 0}return typeof n=="string"?2:3}processReactParent({reactNode:t,element:n,parent:r}){const s=Q.Children.map(t.props.children,(o,a)=>{const c=n.children[a];if(!c)return o;const l=this.processNode({element:c,reactNode:o,parent:r});return r.children.set(l.key,l),l.reactElement});return r.reactElement=p.cloneElement(t,{children:s,style:{...t.props.style,...n.tagName==="li"?this.createMarkerStyles(r.startCount):{}}}),r}processReactText({reactNode:t,parent:n}){const{children:r,node:s}=t.props,o=s;if(!o)return r;const a=this.makeAnimationNode(o,n,!1),c=Q.Children.map(r,l=>{const u=this.processNode({element:o,reactNode:l,parent:a});return n.children.set(u.key,u),u.reactElement});return n.reactElement=p.cloneElement(t,{children:c}),n}processPlainText({element:t,reactNode:n,parent:r}){if([" "].includes(n))r.reactElement=n;else{const s=this.segmenter(n),o=r,a=o.startCount;r.reactElement=i.jsx(i.Fragment,{children:s.map((c,l)=>{const u=this.generateKey(t);o.textSegments.has(u)||(this.animatedNodeCount++,o.textSegments.add(u));const d=a+l;return i.jsx("span",{style:{"--animation-count":d,"--streaming-animation-state":`var(--batch-play-state-${r.batch})`},children:c},l)})})}return r}processNode({element:t,reactNode:n,parent:r}){const s=this.makeAnimationNode(t,r,!1);switch(s.reactElement=n,cs.getNodeType(t,n)){case 0:return this.processReactParent({reactNode:n,element:t,parent:s});case 1:return this.processReactText({reactNode:n,element:t,parent:s});case 2:return this.processPlainText({reactNode:n,element:t,parent:s});default:return s}}generateKey(t){const{start:n}=t?.position??{start:{line:-1,column:-1}};return`${n.line}-${n.column}`}}const SR=p.createContext(new cs(()=>({})));function ndt(){return p.useContext(SR)}function _0e(){const e=p.useRef(void 0);return e.current||(e.current=new cs),{reset:p.useCallback(()=>{e.current=new cs},[]),streamingContext:e.current,StreamingProvider:SR.Provider}}function T0e({messages:e}){const[t,n]=p.useState(),r=U();let s=null;for(const o of e)if(o.message.metadata?.dalle?.from_client?.operation!=null){s=o.message.metadata.dalle.from_client.operation;break}return p.useEffect(()=>{if(s==null)return;const o=s.original_file_id;async function a(c){try{const l=await X.getFileDownloadLink(c);l.status===ur.Success?n(l.download_url):ue.addError(`Error fetching URL for file ${c}: ${l.status}`)}catch(l){ue.addError(new Error(`Error fetching URL for file ${c}`,{cause:l}))}}a(o)},[s]),s==null?null:i.jsxs("div",{className:"mt-2 flex items-center gap-1 text-token-text-tertiary",children:[i.jsx(nA,{className:"icon-md shrink-0"}),t==null?i.jsx("div",{className:"h-7"}):i.jsxs(i.Fragment,{children:[i.jsx("img",{src:t,alt:r.formatMessage({id:"textMessage.editedImageAltText",defaultMessage:"Edited image"}),className:"h-7 w-auto rounded opacity-50"}),s.type==="inpainting"&&i.jsx("span",{className:"ml-1 text-sm font-semibold",children:i.jsx(S,{id:"textMessage.inpaintedImage",defaultMessage:"Selection"})})]})]})}const di=Se.a`bold underline`,Un=({className:e,isUserTurn:t,flag:n,children:r})=>n!=="info"&&t?i.jsx(DM,{className:$("w-full pr-5 text-right",e),$flag:n,children:r}):i.jsxs(DM,{$flag:n,className:$("flex w-full items-start gap-3 rounded-2xl border p-4",n==="warning"||n==="danger"?"bg-opacity-5":"bg-opacity-10",e),children:[i.jsx(Dc,{className:"icon-lg"}),i.jsx("div",{className:"pt-px",children:r})]}),DM=Se.div`text-sm 
${({$flag:e})=>{switch(e){case"danger":return"text-token-text-error border-token-surface-error/15 bg-token-surface-error bg-opacity-0";case"warning":return"text-orange-600 border-token-border-light bg-orange-400 bg-opacity-0";case"info":return"text-token-text-primary border-token-border-light bg-token-main-surface-primary bg-opacity-0";default:return"text-green-500 border-green-500 bg-green-500 bg-opacity-0"}}}`,k0e={a:e=>{const{node:t,...n}=e;return i.jsx(di,{...n,target:"_blank",rel:"noreferrer",className:"[&&]:text-black [&&]:underline [&&]:hover:text-black [&&]:dark:text-white [&&]:hover:dark:text-white"})}};function M0e({disclaimerContent:e,isUserTurn:t,className:n}){switch(e){case"us_elections_policy":return i.jsx(Un,{flag:"info",isUserTurn:t,className:n,children:i.jsx(S,{id:"D1Mw8a",defaultMessage:"Always verify information about voting with your state or local election authority. For more information, visit <usElectionLink></usElectionLink>.",values:{usElectionLink:P0e}})});case"eu_elections_policy":return i.jsx(Un,{flag:"info",isUserTurn:t,className:n,children:i.jsx(S,{id:"Disclaimer.EUElections",defaultMessage:"Always verify information about voting with your local election authority. For more information about the EU elections, visit <euElectionLink></euElectionLink>.",values:{euElectionLink:E0e}})});case"generic_elections_policy":return i.jsx(Un,{flag:"info",isUserTurn:t,className:n,children:i.jsx(S,{id:"Disclaimer.GenericElections",defaultMessage:"Always verify information about voting with your local election authority."})})}return i.jsx(Un,{flag:"info",isUserTurn:t,className:n,children:i.jsx(f1,{className:"text-sm",componentOverrides:k0e,children:e})})}const E0e=()=>i.jsx(di,{target:"_blank",href:"https://elections.europa.eu",rel:"noreferrer",children:"elections.europa.eu"}),P0e=()=>i.jsx(di,{target:"_blank",href:"https://canivote.org",rel:"noreferrer",children:"canivote.org"});function $0e({className:e,isUserTurn:t,message:n}){return n?.disclaimers?.length?i.jsx("div",{className:"flex flex-col gap-2",children:n.disclaimers.map(r=>i.jsx(M0e,{className:e,disclaimerContent:r,isUserTurn:t},r))}):null}const CR=-1,Ap=0,Lf=1,Ff=2,h1=3,p1=4,m1=5,g1=6,_R=7,TR=8,LM=typeof self=="object"?self:globalThis,A0e=(e,t)=>{const n=(s,o)=>(e.set(o,s),s),r=s=>{if(e.has(s))return e.get(s);const[o,a]=t[s];switch(o){case Ap:case CR:return n(a,s);case Lf:{const c=n([],s);for(const l of a)c.push(r(l));return c}case Ff:{const c=n({},s);for(const[l,u]of a)c[r(l)]=r(u);return c}case h1:return n(new Date(a),s);case p1:{const{source:c,flags:l}=a;return n(new RegExp(c,l),s)}case m1:{const c=n(new Map,s);for(const[l,u]of a)c.set(r(l),r(u));return c}case g1:{const c=n(new Set,s);for(const l of a)c.add(r(l));return c}case _R:{const{name:c,message:l}=a;return n(new LM[c](l),s)}case TR:return n(BigInt(a),s);case"BigInt":return n(Object(BigInt(a)),s)}return n(new LM[o](a),s)};return r},FM=e=>A0e(new Map,e)(0),Vo="",{toString:O0e}={},{keys:N0e}=Object,Ai=e=>{const t=typeof e;if(t!=="object"||!e)return[Ap,t];const n=O0e.call(e).slice(8,-1);switch(n){case"Array":return[Lf,Vo];case"Object":return[Ff,Vo];case"Date":return[h1,Vo];case"RegExp":return[p1,Vo];case"Map":return[m1,Vo];case"Set":return[g1,Vo]}return n.includes("Array")?[Lf,n]:n.includes("Error")?[_R,n]:[Ff,n]},tu=([e,t])=>e===Ap&&(t==="function"||t==="symbol"),I0e=(e,t,n,r)=>{const s=(a,c)=>{const l=r.push(a)-1;return n.set(c,l),l},o=a=>{if(n.has(a))return n.get(a);let[c,l]=Ai(a);switch(c){case Ap:{let d=a;switch(l){case"bigint":c=TR,d=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return s([CR],a)}return s([c,d],a)}case Lf:{if(l)return s([l,[...a]],a);const d=[],f=s([c,d],a);for(const h of a)d.push(o(h));return f}case Ff:{if(l)switch(l){case"BigInt":return s([l,a.toString()],a);case"Boolean":case"Number":case"String":return s([l,a.valueOf()],a)}if(t&&"toJSON"in a)return o(a.toJSON());const d=[],f=s([c,d],a);for(const h of N0e(a))(e||!tu(Ai(a[h])))&&d.push([o(h),o(a[h])]);return f}case h1:return s([c,a.toISOString()],a);case p1:{const{source:d,flags:f}=a;return s([c,{source:d,flags:f}],a)}case m1:{const d=[],f=s([c,d],a);for(const[h,m]of a)(e||!(tu(Ai(h))||tu(Ai(m))))&&d.push([o(h),o(m)]);return f}case g1:{const d=[],f=s([c,d],a);for(const h of a)(e||!tu(Ai(h)))&&d.push(o(h));return f}}const{message:u}=a;return s([c,{name:l,message:u}],a)};return o},BM=(e,{json:t,lossy:n}={})=>{const r=[];return I0e(!(t||n),!!t,new Map,r)(e),r},Eg=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?FM(BM(e,t)):structuredClone(e):(e,t)=>FM(BM(e,t)),rdt=function(e,t,n,r,s){const o=v1(t);return kR(e)?o.call(s,e,n,r):!1},v1=function(e){if(e==null)return D0e;if(typeof e=="string")return R0e(e);if(typeof e=="object")return j0e(e);if(typeof e=="function")return y1(e);throw new Error("Expected function, string, or array as `test`")};function j0e(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=v1(e[n]);return y1(r);function r(...s){let o=-1;for(;++o<t.length;)if(t[o].apply(this,s))return!0;return!1}}function R0e(e){return y1(t);function t(n){return n.tagName===e}}function y1(e){return t;function t(n,r,s){return!!(kR(n)&&e.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function D0e(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}function kR(e){return e!==null&&typeof e=="object"&&"type"in e&&"tagName"in e}const L0e=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,F0e=/^[a-zA-Z]:\\/;function B0e(e){if(typeof e!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return F0e.test(e)?!1:L0e.test(e)}function U0e(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function sdt(e){return e.join(" ").trim()}const MR=function(e){if(e==null)return H0e;if(typeof e=="function")return Op(e);if(typeof e=="object")return Array.isArray(e)?V0e(e):G0e(e);if(typeof e=="string")return W0e(e);throw new Error("Expected function, string, or object as test")};function V0e(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=MR(e[n]);return Op(r);function r(...s){let o=-1;for(;++o<t.length;)if(t[o].apply(this,s))return!0;return!1}}function G0e(e){const t=e;return Op(n);function n(r){const s=r;let o;for(o in e)if(s[o]!==t[o])return!1;return!0}}function W0e(e){return Op(t);function t(n){return n&&n.type===e}}function Op(e){return t;function t(n,r,s){return!!(z0e(n)&&e.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function H0e(){return!0}function z0e(e){return e!==null&&typeof e=="object"&&"type"in e}const ER=[],q0e=!0,UM=!1,Y0e="skip";function K0e(e,t,n,r){let s;typeof t=="function"&&typeof n!="function"?(r=n,n=t):s=t;const o=MR(s),a=r?-1:1;c(e,void 0,[])();function c(l,u,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const m=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return h;function h(){let m=ER,g,v,y;if((!t||o(l,u,d[d.length-1]||void 0))&&(m=Q0e(n(l,d)),m[0]===UM))return m;if("children"in l&&l.children){const x=l;if(x.children&&m[0]!==Y0e)for(v=(r?x.children.length:-1)+a,y=d.concat(x);v>-1&&v<x.children.length;){const b=x.children[v];if(g=c(b,v,y)(),g[0]===UM)return g;v=typeof g[1]=="number"?g[1]:v+a}}return m}}}function Q0e(e){return Array.isArray(e)?e:typeof e=="number"?[q0e,e]:e==null?ER:[e]}function X0e(e,t,n,r){let s,o,a;typeof t=="function"&&typeof n!="function"?(o=void 0,a=t,s=n):(o=t,a=n,s=r),K0e(e,o,c,s);function c(l,u){const d=u[u.length-1],f=d?d.children.indexOf(l):void 0;return a(l,f,d)}}const Z0e=["http","https"],J0e=["nofollow"],ebe={};function tbe(e){const t=e||ebe,n=t.protocols||Z0e,r=v1(t.test);return function(s){X0e(s,"element",function(o,a,c){if(o.tagName==="a"&&typeof o.properties.href=="string"&&r(o,a,c)){const l=o.properties.href;if(B0e(l)?n.includes(l.slice(0,l.indexOf(":"))):l.startsWith("//")){const u=Oi(t.content,o),d=u&&!Array.isArray(u)?[u]:u,f=Oi(t.rel,o)||J0e,h=typeof f=="string"?U0e(f):f,m=Oi(t.target,o),g=Oi(t.properties,o);if(g&&Object.assign(o.properties,Eg(g)),h.length>0&&(o.properties.rel=[...h]),m&&(o.properties.target=m),d){const v=Oi(t.contentProperties,o)||{};o.children.push({type:"element",tagName:"span",properties:Eg(v),children:Eg(d)})}}}})}}function Oi(e,t){return typeof e=="function"?e(t):e}const nbe="gpt-4",P0="model_cap_exceeded",rbe="oai/apps/capExpiresAt";Le(()=>({serverThreadIds:new Set}));function sbe(){const e=hl(s=>s.isoDate),t=Date.now(),n=e&&new Date(e).getTime(),r=e&&n&&n<=t;return p.useEffect(()=>{r&&PR()},[r]),r?null:e?nbe:null}const hl=Le()(a$(()=>({isoDate:""}),{name:rbe}));function obe(e){hl.setState({isoDate:e})}function PR(){hl.setState({isoDate:""})}const abe=Ze(()=>Ye(()=>import("./e9r9ar01cxestb7h.js").then(e=>e.F),__vite__mapDeps([15,1,2,3])));function ibe(e){return e.message.metadata?.safety_plugin_status_code===123}function cbe(e){return e.message.metadata?.finish_details?.type==="content_filter"}function b1(e){if(e===void 0)return{flagSeverity:void 0,shouldHideContent:!1,errCode:void 0,errMessage:void 0};const{errType:t,errCode:n,err:r,disclaimers:s}=e,o=cbe(e),a=o&&ibe(e),c=s&&s.length>0;return a?{flagSeverity:"warning",shouldHideContent:!0,errCode:Vn.ContentRegurgitation,errMessage:r}:!c&&o?{flagSeverity:"warning",shouldHideContent:!0,errCode:Vn.ContentOrTos,errMessage:r}:{flagSeverity:t,shouldHideContent:t==="danger"&&(n===Vn.ContentPolicy||n===Vn.ModelIncompatibility),disclaimers:s,errCode:n,errMessage:r}}function lbe({message:e,onRequestMoreCompletions:t,clientThreadId:n,id:r,isFeedbackEnabled:s,isUserTurn:o,className:a}){const{errCode:c,errMessage:l,flagSeverity:u}=b1(e);switch(c){case Vn.ContentPolicy:return i.jsx(Un,{flag:u,isUserTurn:o,className:a,children:i.jsx(hbe,{isFeedbackEnabled:s})});case Vn.ModelIncompatibility:return i.jsx(Un,{flag:u,isUserTurn:o,className:a,children:i.jsx(S,{...hn.modelIncompatibilityMessage})});case Vn.ContentOrTos:return i.jsx(Un,{flag:u,isUserTurn:o,className:a,children:i.jsx(dbe,{isFeedbackEnabled:s})});case Vn.ContentRegurgitation:return i.jsx(Un,{flag:u,isUserTurn:o,className:a,children:i.jsx(fbe,{})});case P0:return i.jsx(ube,{className:a,id:r,onRequestMoreCompletions:t,flag:u,clientThreadId:n,isUserTurn:o});case i$:return i.jsx(Un,{flag:u,isUserTurn:o,className:a,children:i.jsx(S,{...hn.historyDisabledConversationMissing})});default:return l!==void 0?i.jsx(Un,{flag:u,isUserTurn:o,className:a,children:i.jsx(abe,{rehypePlugins:[[tbe,{target:"_new",rel:"noopener noreferrer"}]],className:"markdown prose w-full break-words dark:prose-invert",children:l})}):null}}function ube({className:e,id:t,onRequestMoreCompletions:n,flag:r,clientThreadId:s,isUserTurn:o}){const a=hl(v=>v.isoDate),c=s2(a),l=xh(s??c$),u=l&&l.kind!==$e.PrimaryAssistant,d=Wh(),f=v2(),h=p.useCallback(()=>{z.logEvent("chatgpt_regenerate_due_to_rate_limit_button_clicked",void 0,{useDefaultModel:"false",...kd({clientThreadId:s})});const v=new jd;n(t,{eventSource:"mouse"},v,!0,"none",!1)},[t,n,s]),m=p.useCallback(()=>{const v=new jd,y=f.id;z.logEvent("chatgpt_regenerate_due_to_rate_limit_button_clicked",void 0,{useDefaultModel:"true",...kd({clientThreadId:s})}),d({modelId:y,location:"Model switcher menu item"}),n(t,{eventSource:"mouse"},v,!0,"none",!0)},[n,t,f.id,d,s]);let g;return u?g=a!=null?i.jsx("span",{children:i.jsx(S,{...hn.gptUsageCapExceededCustomFeature,values:{link:VM,formattedTime:c}})}):i.jsx(S,{...hn.gptUsageCapExceededExpired}):g=a!=null?i.jsx("span",{children:i.jsx(S,{...hn.gptUsageCapExceeded,values:{link:VM,formattedTime:c}})}):i.jsx(S,{...hn.gptUsageCapExceededExpired}),i.jsx(Un,{flag:a!=null?r:void 0,isUserTurn:o,className:e,children:i.jsxs("div",{className:"flex items-center gap-6",children:[g,a==null&&i.jsx(ce,{color:"secondary",className:"flex-shrink-0",onClick:h,children:i.jsx(S,{...hn.buttonTryAgain})}),a!=null&&!u&&i.jsx(ce,{color:"secondary",className:"flex-shrink-0",onClick:m,children:i.jsx(S,{...hn.buttonUseDefaultModel})})]})})}const VM=e=>i.jsx("a",{href:"https://share.hsforms.com/16d0ZZVM3QZirXnCD_q7u1Q4sk30",target:"_blank",rel:"noreferrer",className:"underline",children:e});function dbe({isFeedbackEnabled:e}){return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:e?"font-semibold":"",children:i.jsx(S,{...hn.contentOrTosViolationNoFeedback,values:{contentPolicyLink:$R,termsLink:pbe}})}),i.jsx("div",{children:e&&i.jsx(S,{...hn.contentPolicyFeedback})})]})}function fbe(){return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"font-semibold",children:i.jsx(S,{...hn.contentRegurgitationViolation})}),i.jsx("div",{children:i.jsx(S,{...hn.readModelSpec,values:{modelSpecLink:mbe}})})]})}function hbe({isFeedbackEnabled:e}){return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:e?"font-semibold":"",children:i.jsx(S,{...hn.contentPolicyViolationNoFeedback,values:{contentPolicyLink:$R}})}),i.jsx("div",{children:e&&i.jsx(S,{...hn.contentPolicyFeedback})})]})}const $R=e=>i.jsx(di,{target:"_blank",href:"https://openai.com/policies/usage-policies",rel:"noreferrer",children:e}),pbe=e=>i.jsx(di,{target:"_blank",href:"https://openai.com/policies/terms-of-use",rel:"noreferrer",children:e}),mbe=e=>i.jsx(di,{target:"_blank",href:"https://cdn.openai.com/spec/model-spec-2024-05-08.html",rel:"noreferrer",children:e}),hn=K({contentPolicyFeedback:{id:"TextMessageDisplay.contentPolicyFeedback",defaultMessage:"Did we get it wrong? Please tell us by giving this response a thumbs down."},contentPolicyViolation:{id:"TextMessageDisplay.contentPolicyViolation.2",defaultMessage:"This content may violate our <contentPolicyLink>usage policies</contentPolicyLink>. Did we get it wrong? Please tell us by giving this response a thumbs down."},contentPolicyViolationNoFeedback:{id:"TextMessageDisplay.contentPolicyViolationNoFeedback",defaultMessage:"This content may violate our <contentPolicyLink>usage policies</contentPolicyLink>."},modelIncompatibilityMessage:{id:"cyOWhN",defaultMessage:"Your request was flagged as potentially violating our usage policy. Please try again with a different prompt."},contentOrTosViolation:{id:"TextMessageDisplay.contentOrTosViolation.2",defaultMessage:"This content may violate our <termsLink>Terms of Use</termsLink> or <contentPolicyLink>usage policies</contentPolicyLink>. Did we get it wrong? Please tell us by giving this response a thumbs down."},contentOrTosViolationNoFeedback:{id:"TextMessageDisplay.contentOrTosViolationNoFeedback",defaultMessage:"This content may violate our <termsLink>Terms of Use</termsLink> or <contentPolicyLink>usage policies</contentPolicyLink>."},contentRegurgitationViolation:{id:"kAMQnd",defaultMessage:"ChatGPT isn't designed to provide this type of content."},readModelSpec:{id:"fQ0JYv",defaultMessage:"Read the <modelSpecLink>Model Spec</modelSpecLink> for more on how ChatGPT handles creators' content."},historyDisabledConversationMissing:{id:"TextMessageDisplay.historyDisabledConversationMissing",defaultMessage:"Sorry, conversations created when Chat History is off expire after 6 hours of inactivity. Please start a new conversation to continue using ChatGPT."},somethingWentWrong:{id:"TextMessageDisplay.somethingWentWrong",defaultMessage:"Something went wrong."},gptUsageCapExceeded:{id:"TextMessageDisplay.gptUsageCapExceeded",defaultMessage:"You've reached the current usage cap for GPT-4. You can continue with the default model now, or try again {formattedTime}. <link>Learn more</link>"},gptUsageCapExceededCustomFeature:{id:"TextMessageDisplay.gptUsageCapExceededCustomFeature",defaultMessage:"You've reached the current usage cap for GPT-4, please try again {formattedTime}. <link>Learn more</link>"},gptUsageCapExceededExpired:{id:"TextMessageDisplay.gptUsageCapExceededExpired",defaultMessage:"You previously reached your usage cap for GPT-4, but you can now try sending your message again"},buttonUseDefaultModel:{id:"TextMessageDisplay.buttonUseDefaultModel",defaultMessage:"Use default model"},buttonTryAgain:{id:"TextMessageDisplay.buttonTryAgain",defaultMessage:"Try again"}}),gbe="application/vnd.google-apps.spreadsheet",vbe="application/vnd.google-apps.presentation",ybe="application/vnd.google-apps.document",bbe=["xlsx","pptx","docx"],xbe={[gbe]:"xlsx",[vbe]:"pptx",[ybe]:"docx"};function AR(e){return e?xbe[e.split(";")[0]]??null:null}function wbe(e){return bbe.includes(e)}function Sbe(e){return e&&wbe(e)?e:null}var Xe=(e=>(e[e.None=0]="None",e[e.Multimodal=1]="Multimodal",e[e.Interpreter=2]="Interpreter",e[e.Retrieval=3]="Retrieval",e[e.ContextConnector=4]="ContextConnector",e[e.ProfilePicture=5]="ProfilePicture",e))(Xe||{});function Cbe(e){if(e)return{contextConnector:e.context_connector,sourceUrl:e.source_url,syntheticExtension:Sbe(e.synthetic_extension),type:e.type}}var es=(e=>(e.Uploading="uploading",e.Ready="ready",e))(es||{});function po(e){return e.startsWith("file-service://")?e.replace("file-service://",""):e.startsWith("sediment://")?e.replace("sediment://",""):e}function _be(e){return"file-service://"+e}function Tbe(e){return e.startsWith("file-service://")}function $0(e,t,n){switch(t){case"file_zero_bytes":return e.formatMessage(Ft.fileZeroBytes,n);case"file_too_large":return e.formatMessage(Ft.fileTooLarge,n);case"over_user_quota":return e.formatMessage(Ft.overUserQuota,n);case"file_not_found":case"file_expired":return e.formatMessage(Ft.fileNotFound,n);case"file_timed_out":return e.formatMessage(Ft.fileTimedOut,n);case"ace_pod_expired":return e.formatMessage(Ft.codeInterpreterSessionTimeout,n);case"permission_error":return e.formatMessage(Ft.permissionError,n);case"default_upload_error":case"file_rejected":return e.formatMessage(Ft.defaultCreateEntryError,n);case"default_download_link_error":return e.formatMessage(Ft.defaultDownloadLinkError,n);case"file_empty":return e.formatMessage(Ft.fileEmpty,n);case"too_many_tokens":return e.formatMessage(Ft.fileTooManyTokens,n);case"file_encrypted":return e.formatMessage(Ft.fileEncrypted,n);case"file_corrupted":return e.formatMessage(Ft.fileCorrupted,n);case"failed_upload_to_blobstore":return e.formatMessage(Ft.failedUploadToBlobStore,n);case"internal_error":default:return e.formatMessage(Ft.unknownError)}}function odt(){const e=U();return p.useCallback((t,n)=>$0(e,t,n),[e])}function adt(){const{session:e}=Db(),{isUnauthenticated:t}=It(),n=U(),r=Fe();return async(s,o)=>{if(!t&&e==null)return r.danger(n.formatMessage(Ft.fileDownloadFailed)),!1;try{const a=await X.getFileDownloadLink(s,void 0,t);if(a.status!==ur.Success)throw new Error("File is not ready to download: "+JSON.stringify(a));const c=a.download_url,l=document.createElement("a");l.href=c,l.download=o,l.click(),window.open(c,"_blank")}catch{return r.danger(n.formatMessage(Ft.fileDownloadFailed)),!1}return!0}}function pl(e,t){return t?.kind===$e.GizmoInteraction||t?.kind===$e.GizmoTest?t.gizmo?.product_features:e?.product_features}function Bf(e,t){const n=pl(e,t);return n?.attachments?.type===Jo.CodeInterpreter?Xe.Interpreter:n?.attachments?.type===Jo.Multimodal?Xe.Multimodal:n?.attachments?.type===Jo.Retrieval?Xe.Retrieval:n?.attachments?.type===Jo.ContextConnector?Xe.ContextConnector:Xe.None}function x1(e){const t=e.split(".").pop()?.toLowerCase();return{md:"text/markdown",java:"text/x-java",py:"text/x-script.python",c:"text/x-c",cpp:"text/x-c++",h:"text/x-c++",php:"text/x-php",rb:"text/x-ruby",tex:"application/x-latext",ts:"text/x-typescript",cs:"text/x-csharp"}[t??""]||""}function kbe(e){switch(e){case"application/vnd.google-apps.spreadsheet":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";case"application/vnd.google-apps.document":case"application/vnd.google-apps.presentation":return"text/plain";default:return e}}function Mbe(e,t,n,r,s){if(s==null)return e;const o=x1(t);o&&(n=o),r&&(n=kbe(n));const{accepted_mime_types:a,can_accept_all_mime_types:c}=s;return a==null||a.length===0||!c||a.includes(n)?e:Xe.Interpreter}function idt(e,t,n){const r=t!==""?t:x1(n),s=e?.product_features?.attachments;if(s!=null)return s.accepted_mime_types?.includes(r)?s.type:s.image_mime_types?.includes(r)?Jo.Multimodal:Jo.CodeInterpreter}function Ebe(e,t){const n=pl(e,t);return n?.attachments?.can_accept_all_mime_types?void 0:n?.attachments?.accepted_mime_types}function OR(e,t){const n=pl(e,t),{attachments:r}=n??{};return r?.image_mime_types?r.image_mime_types:r?.type==="multimodal"?r.accepted_mime_types??Pbe:[]}const Pbe=["image/png","image/jpeg","image/gif","image/webp"];function $be(e){return p.useMemo(()=>{if(e===void 0)return{};const t={"image/jpeg":[".jpg",".jpeg"],"image/svg+xml":[".svg"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":[".pptx"]};return{accept:e.reduce((n,r)=>(r in t?n[r]=t[r]:r.includes("/")&&(n[r]=[`.${r.split("/")[1]}`]),n),{})}},[e])}function mo(e){return e.split(".").pop()?.toLowerCase()}function w1(e){const t=mo(e);return t!=null&&["jpg","jpeg","png","gif","webp"].includes(t)}function NR(e){const t=mo(e);return t!=null&&["xls","xlsx","csv"].includes(t)}function Abe(e){const t=mo(e);return t!=null&&["xls","xlsx"].includes(t)}function IR(e,t,n="fit"){return new Promise((r,s)=>{const o=new FileReader;o.onerror=a=>{ue.addError(new Error("File reading has failed:",{cause:a})),s(new Error("Failed to read the file."))},o.onload=a=>{const c=new Image;c.onerror=l=>{ue.addError(new Error("Image loading has failed:",{cause:l})),s(new Error("Failed to load the image."))},c.onload=()=>{const l=document.createElement("canvas");let u,d=0,f=0;switch(n){case"fill":u=t/Math.min(c.width,c.height);break;case"square":u=t/Math.min(c.width,c.height);break;case"fit":u=t/Math.max(c.width,c.height);break}const h=c.width*u,m=c.height*u;n==="square"?(l.width=t,l.height=t,d=(t-h)/2,f=(t-m)/2):(l.width=h,l.height=m);const g=l.getContext("2d");if(g==null){ue.addError("Canvas context creation failed. Your environment might not fully support HTML5 canvas."),s(new Error("Failed to create canvas context."));return}g.drawImage(c,d,f,h,m);const v=e.type||"image/png";l.toBlob(y=>{y?r(new File([y],e.name,{type:v})):(ue.addError("Blob creation failed. Blob is null."),s(new Error("Failed to create blob from image data.")))},v)},a.target==null?(ue.addError("Event target is null. Failed to load image."),s("Failed to load image.")):c.src=a.target.result},o.readAsDataURL(e)})}function cdt(e,t){return IR(e,t,"square")}function jR(e){const t=e.name.split("/")??[];return(t[t.length-1]??"").replace(/[-_]/g," ").split(".")[0]}function RR(e,t){return t?e.slice(0,-t.length-1):e}const Ft=K({defaultCreateEntryError:{id:"fileUpload.defaultCreateEntryError",defaultMessage:"Unable to upload {fileName}"},defaultDownloadLinkError:{id:"fileUpload.defaultDownloadLinkError",defaultMessage:"Failed to get upload status for {fileName}"},unknownError:{id:"fileUpload.unknownError",defaultMessage:"Unknown error occurred"},fileZeroBytes:{id:"fileUpload.fileZeroBytes",defaultMessage:"File is empty"},fileTooLarge:{id:"fileUpload.fileTooLarge",defaultMessage:"File is too large"},overUserQuota:{id:"fileUpload.overUserQuota",defaultMessage:"User quota exceeded"},fileNotFound:{id:"fileUpload.fileNotFound",defaultMessage:"File not found"},fileTimedOut:{id:"fileUpload.fileTimedOut",defaultMessage:"File upload timed out. Please try again."},fileEmpty:{id:"fileUpload.fileEmpty",defaultMessage:"No text could be extracted from this file."},fileTooManyTokens:{id:"fileUpload.fileTooManyTokens",defaultMessage:"This file contains too much text content. Please try again with a smaller file."},fileEncrypted:{id:"fileUpload.fileEncrypted",defaultMessage:"This file is encrypted/requires a password to access. Please try again with an unencrypted file."},fileCorrupted:{id:"fileUpload.fileCorrupted",defaultMessage:"This file is corrupted. Please ensure the file is not corrupted and try again."},codeInterpreterSessionTimeout:{id:"fileUpload.codeInterpreterSessionTimeout",defaultMessage:"Code interpreter session expired"},permissionError:{id:"fileUpload.permissionError",defaultMessage:"Missing permission to access file"},fileDownloadFailed:{id:"filesModal.fileDownloadFailed",defaultMessage:"File download failed. Please try again."},failedUploadToBlobStore:{id:"fileUpload.failedUploadToBlobStore",defaultMessage:"Failed upload to files.oaiusercontent.com. Please ensure your network settings allow access to this site or contact your network administrator."}}),Obe=e=>({type:"table",file_id:e.id??"",title:jR(e),file_name:e.name,context_connector_info:e.context_connector_info});function DR(){return l$(Lb.DataAnalysisV2)}const Nbe=p.createContext({isEmbeddedInFocusedView:!1});function $o(){return p.useContext(Nbe).isEmbeddedInFocusedView}const Ibe=Ze(()=>Ye(()=>import("./bhltic4j4lm1i1ap.js").then(e=>e.A),__vite__mapDeps([23,1,2,3,6,24,25,21,26,27])).then(e=>e.default)),jbe=Ze(()=>Ye(()=>Promise.resolve().then(()=>lRe),void 0)),Rbe=Se.div`flex gap-2 flex-wrap mt-1 max-w-[80%] justify-end`,Dbe=Se.div`flex flex-col gap-2`,Lbe=({parts:e,attachments:t,isUserTurn:n,clientThreadId:r})=>{const s=As(),o=DR(),a=o$.getImageAssetPointersFromParts(e),c=new Set(a.map(m=>po(m.asset_pointer))),u=$o()||s,d=(t??[]).filter(m=>NR(m.name)),f=(t??[]).filter(m=>m.id==null||c.has(m.id)?!1:o?!d.includes(m):!0);return(o?(f.length>0||d.length>0)&&n:f.length>0&&n)?i.jsxs(i.Fragment,{children:[i.jsx(Rbe,{children:f.map(m=>i.jsx(jbe,{file:m.name,fileId:m.id,contextConnectorInfo:Cbe(m.context_connector_info),width:s?"normal":"wide",alwaysShowData:!0},m.id))}),o&&i.jsx(Dbe,{className:$(!u&&"w-[80%]"),children:d.map(m=>i.jsx(Ibe,{clientThreadId:r,visualization:Obe(m)},m.id))})]}):null},Fbe=wh(()=>({images:new Set})),Bbe=e=>$c(Fbe,e);function Ube(){return Bbe(e=>e.images)}function ldt(e){return P4(e)&&!$4(e)}const nu=50,Vbe=95;function udt(e,t){if(e<=t)return e/t*nu;{const n=nu,r=Vbe-nu,s=e-t,a=-(nu/t)/r;return n+r*(1-Math.exp(a*s))}}class Gbe{mostRecentCompletionRequest;loggedRequests=new Set;onCompletionRequestStarted(t){this.mostRecentCompletionRequest={requestId:t,timestamp:Date.now()},this.loggedRequests.clear()}logEvent(t,n,r,s,o){const a=this.mostRecentCompletionRequest;if(a!=null&&!this.loggedRequests.has(t)){const l=L.getThreadConversationTurns(n,r).find(u=>u.messages.some(d=>d.message.id===r));l!=null&&l.messages.some(u=>u.nodeId===a.requestId)&&(E.logEvent(t,{messageId:r,timeMs:Date.now()-a.timestamp,...s}),o?.(),this.loggedRequests.add(t))}}}const A0=new Gbe;function Wbe(e){return(e.find(s=>s.message.metadata?.image_search_results!==void 0)?.message.metadata?.image_search_results??[]).slice(0,5)}function Hbe({messages:e}){const t=Wbe(e),n=Ube();return t.length===0?null:i.jsx("div",{className:$({"mb-2":!0,"grid grid-flow-col gap-3":t.length>1,"w-1/3":t.length===1}),children:t.filter(({contentUrl:r})=>n.has(r)).map((r,s)=>i.jsx("a",{href:r.hostPageUrl,target:"_blank",rel:"noreferrer",children:i.jsx("img",{src:r.contentUrl,alt:r.name,className:"aspect-square rounded-xl object-cover"})},s))})}function zbe({onEnterEdit:e}){const n=U().formatMessage({id:"gG9rea",defaultMessage:"Edit message"});return i.jsx("div",{className:"absolute bottom-0 right-full top-0 -mr-3.5 hidden pr-5 pt-1 [.group\\/conversation-turn:hover_&]:block",children:i.jsx(rt,{sideOffset:4,label:n,children:i.jsx("button",{"aria-label":n,className:"flex h-9 w-9 items-center justify-center rounded-full text-token-text-secondary transition hover:bg-token-main-surface-tertiary",onClick:e,children:i.jsx(l7,{className:"icon-md"})})})})}function Pg({containsImagesOrAttachments:e,isUserTurn:t,showEditButton:n,onEnterEdit:r,children:s}){return i.jsxs("div",{className:$("relative max-w-[70%]",t&&"rounded-3xl bg-token-message-surface px-5 py-2.5",t&&e&&"rounded-tr-lg"),children:[s,n&&i.jsx(zbe,{onEnterEdit:r})]})}const qbe=Ze(()=>Ye(()=>import("./ejg2nrha44zvgfpw.js"),__vite__mapDeps([28,1,2,3,29])).then(e=>e.TextMessageImageGroup));function LR({attachments:e,citations:t,contentReferences:n,className:r,clientThreadId:s,displayParts:o,isCompletionInProgress:a,id:c,isActivelyStreaming:l,isUserTurn:u,turnIndex:d,isFeedbackEnabled:f,messages:h,onRequestMoreCompletions:m,parts:g,prevGroupedMessageType:v,prevGroupedMessages:y,showEditButton:x,onEnterEdit:b,size:w="medium"}){const C=h.length>1,{flagSeverity:T,shouldHideContent:_}=b1(C?void 0:h[0]),k=g.some(A=>A!==""),M=!k&&h[0].message.metadata?.content_references?.length===0,I=h[0].message.metadata?.targeted_reply_label??h[0].message.metadata?.targeted_reply;return p.useEffect(()=>{const A=h[0].message;if(A.author.metadata?.real_author===`tool:${qP.SEARCHGPT}`&&k){const H=A.metadata?.search_source;A0.logEvent(P.searchToolRequestTimeToFirstTextToken,s,A.id,{search_source:H},()=>{H===A4.InstantQuery&&m0e.logEvent(P.searchToolPageLoadTimeToFirstTextToken,{message_id:A.id})})}},[s,k,h]),p.useEffect(()=>{if(!M)switch(v){case Te.Browsing:A0.logEvent(P.browsingTimeToFirstTextToken,s,h[0].message.id);break}},[M,h,s,v]),i.jsxs("div",{"data-message-author-role":h[0].message.author.role,"data-message-id":h[0].message.id,dir:"auto",className:$(r,"text-message flex w-full flex-col items-end gap-2 whitespace-normal break-words [.text-message+&]:mt-5"),"data-message-model-slug":h[0].message.metadata?.model_slug,children:[I&&i.jsxs("div",{className:"mb-1 ml-6 mt-1 flex items-start gap-1.5 text-sm font-normal text-token-text-tertiary sm:ml-7 lg:ml-8",children:[i.jsx(nA,{className:"icon-md mt-1 shrink-0"}),i.jsx("p",{className:"mr-2 line-clamp-3",children:I})]}),u&&i.jsx(c0e,{messages:h}),i.jsx(T0e,{messages:h}),i.jsx(Ybe,{parts:g,attachments:e,isUserTurn:u,isCompletionInProgress:a,turnIndex:d,displayParts:o,isActivelyStreaming:l,shouldHideContent:_,showEditButton:x,onEnterEdit:b,clientThreadId:s,id:c,isEmpty:M,prevGroupedMessageType:v,prevGroupedMessages:y,flagSeverity:T,messages:h,citations:t,contentReferences:n,size:w}),i.jsx(lbe,{message:C?void 0:h[0],id:c,isFeedbackEnabled:f,onRequestMoreCompletions:m,clientThreadId:s,isUserTurn:u}),i.jsx($0e,{isUserTurn:u,message:C?void 0:h[0]}),!u&&!l&&y&&v===Te.SearchResult&&i.jsx(Hbe,{messages:y})]})}function Ybe({clientThreadId:e,id:t,displayParts:n,isCompletionInProgress:r,turnIndex:s,isActivelyStreaming:o,shouldHideContent:a,showEditButton:c=!1,onEnterEdit:l,isEmpty:u,prevGroupedMessageType:d,prevGroupedMessages:f,messages:h,citations:m,contentReferences:g,size:v,isUserTurn:y,parts:x,attachments:b}){const w=U(),C=p.useRef(!1),T=oU(n),[_,k]=p.useState({}),[M,I]=p.useState(!1),A=S0e(),{streamingContext:H}=_0e();p.useEffect(()=>{A&&(H.setOnStylesUpdatedCallback(k),H.onStreamingChanged(r),H.setOnResetCallback(()=>I(!1)),r&&(I(!0),k(H.createTopLevelStyles())))},[A,r,H]);const q=h[0].message.metadata?.serialization_metadata,F=O4(h[0].message).length,N=p.useMemo(()=>({clientThreadId:e,messageId:t,turnIndex:s}),[e,t,s]),{toggleThreadSidebar:R}=Ac(),B=p.useCallback(()=>{R({type:"searchSources",clientThreadId:e,turnIndex:s,messageId:t})},[e,s,t,R]),Y=i.jsx(Lbe,{parts:x,attachments:b,isUserTurn:y,clientThreadId:e},"files-and-tables"),j=!!(b?.length||n.some(ae=>ae.type==="images")),D=b0e();function V(ae,be){const te=d===Te.CodeInterpreter?f?.map(Dt=>Dt.message):void 0,{text:G,contentReferences:Me}=d0e(be,m,g);let xe=Me;D&&(xe=Me.filter(Dt=>Dt.type!=="attribution"));const{processedText:re,displayedContentReferences:Ce}=N4(G,xe,o?void 0:te,!1,o);re.includes(I4)&&!C.current&&(C.current=!0,ue.addError(new Error("Failed replaceTextWithDirectives"),{text:re,displayedContentReferences:Ce}));const st=h[0].message,ne=st.metadata?.message_locale;let ot=i.jsx(f1,{clientThreadId:e,messageId:t,isStreamingOrProcessing:M,size:v,className:$(o&&!A&&"result-streaming"),children:re===""?"&#8203;":re});if(ne!=null){const Dt=j4(ne,!1);Dt!=null&&(ot=i.jsx(R4,{locale:Dt,children:ot}))}return i.jsx(w0e.Provider,{value:{analyticsMetadata:N,message:st,contentReferences:Ce,onShowSearchResults:B,numImageResults:F,isActivelyStreaming:o,useSafeUrls:!0},children:ot},ae)}const Z=n.map((ae,be)=>{if(ae.type==="transcription"){const te=a?null:ae.text;let G=null;if(y&&a)G=i.jsx("span",{className:"italic opacity-30",children:i.jsx(S,{...ru.contentRemoved})});else if(y&&te!=null)G=te.trim().length===0?i.jsx("span",{className:"italic opacity-30",children:i.jsx(Mg,{text:w.formatMessage(ru.transcriptUnavailable),customSymbolOffsets:void 0})}):i.jsx("span",{className:"italic opacity-65",children:i.jsx(Mg,{text:`“${te.trim()}”`,customSymbolOffsets:void 0})});else if(!y&&te!=null)return V(be,te);return i.jsx(Pg,{containsImagesOrAttachments:j,isUserTurn:y,showEditButton:c,onEnterEdit:l,children:G},be)}else if(ae.type==="text"){const te=a?null:ae.text;return!u&&!a&&!y?V(be,T):u&&o&&!y?A?i.jsx("div",{className:"pulsing-dot"},be):i.jsx("div",{className:"result-streaming",children:i.jsx("span",{children:i.jsx("pre",{})})},be):i.jsx(Pg,{containsImagesOrAttachments:j,isUserTurn:y,showEditButton:c,onEnterEdit:l,children:y&&a?i.jsx("span",{className:"italic opacity-30",children:i.jsx(S,{...ru.contentRemoved})}):te?i.jsx(Mg,{text:te,customSymbolOffsets:q?.custom_symbol_offsets}):null},be)}else if(ae.type==="images"){const te=h[0].message.metadata?.attachments??[];return i.jsx(qbe,{assets:ae.imageAssets,attachments:te},be)}else return null}),se=n.findIndex(ae=>ae.type==="text");if(se!==-1?Z.splice(se,0,Y):Z.push(Y),a&&y)Z.length=0,Z.push(i.jsx(Pg,{containsImagesOrAttachments:j,isUserTurn:y,onEnterEdit:ke,children:i.jsx("span",{className:"italic opacity-30",children:i.jsx(S,{...ru.contentRemoved})})}));else if(a&&!y)return null;return i.jsx("div",{className:$("flex w-full flex-col gap-1 empty:hidden",y&&"items-end rtl:items-start",!y&&"first:pt-[3px]",M&&"streaming-response"),style:_,children:Z})}const ru=K({contentRemoved:{id:"textMessage.contentRemoved",defaultMessage:"Content removed"},transcriptUnavailable:{id:"textMessage.transcriptUnavailable",defaultMessage:"Transcript Unavailable"}}),O0=wh(()=>({delayedRenderingMessageIds:new Set})),Kbe=e=>$c(O0,e);function ddt(){return Kbe(e=>e.delayedRenderingMessageIds)}const $g={addDelayedRenderingMessage(e){O0.setState(t=>{if(t.delayedRenderingMessageIds.has(e))return t;const n=new Set(t.delayedRenderingMessageIds);return n.add(e),{delayedRenderingMessageIds:n}})},removeDelayedRenderingMessage(e){O0.setState(t=>{if(!t.delayedRenderingMessageIds.has(e))return t;const n=new Set(t.delayedRenderingMessageIds);return n.delete(e),{delayedRenderingMessageIds:n}})}};function Qbe(e){const{isActivelyStreaming:t,...n}=e,r=Fr(),s=r?.includes("debug")??!1,o=e.messages[e.messages.length-1].message.id,[a,c]=p.useState(Sx(e.parts)),l=p.useRef(void 0);return l.current===void 0&&(l.current=r?.includes(D4)??!1?new iU(e.parts,c,t,void 0,{debug:s}):new as(e.parts,c,t)),p.useEffect(()=>{l.current!=null&&(l.current.onMessagePartsUpdated(e.parts,t),l.current.isBuffering()&&$g.addDelayedRenderingMessage(o))},[e.parts,o,t]),p.useEffect(()=>{l.current!=null&&!l.current.isBuffering()&&$g.removeDelayedRenderingMessage(o)},[a,o]),p.useEffect(()=>()=>$g.removeDelayedRenderingMessage(o),[o]),p.useEffect(()=>()=>{l.current!=null&&(l.current.destroy(),l.current=void 0)},[]),i.jsx(LR,{...n,displayParts:a,isActivelyStreaming:t||l.current?.isBuffering()})}function Xbe({message:e,isCompletionInProgress:t,clientThreadId:n,className:r,isUserTurn:s,turnIndex:o,isFeedbackEnabled:a,prevGroupedMessageType:c,prevGroupedMessages:l,showEditButton:u,onEnterEdit:d,onRequestMoreCompletions:f}){const h=p.useMemo(()=>"parts"in e.message.content?e.message.content.parts:[vs(e.message)],[e]);return i.jsx(Zbe,{parts:h,messages:[e],isCompletionInProgress:t,className:r,citations:e.message.metadata?.citations,contentReferences:e.message.metadata?.content_references,attachments:e.message.metadata?.attachments,isUserTurn:s,turnIndex:o,id:e.nodeId,isFeedbackEnabled:a,onRequestMoreCompletions:f,clientThreadId:n,showEditButton:u,onEnterEdit:d,prevGroupedMessageType:c,prevGroupedMessages:l})}const fdt=Q.memo(Xbe);function Zbe(e){const t=e.messages.length>1,{flagSeverity:n}=b1(t?void 0:e.messages[0]),r=n!=="danger"&&e.isCompletionInProgress,s=!e.parts.some(a=>a!==""),[o]=p.useState(()=>!e.isUserTurn&&(e.isCompletionInProgress||s));return o?i.jsx(Qbe,{...e,isActivelyStreaming:r}):i.jsx(LR,{...e,displayParts:aU({isUserTurn:e.isUserTurn,parts:e.parts}),isActivelyStreaming:r})}function FR({url:e,size:t=16,minSize:n,fallback:r,className:s}){const o=exe(e,t);return o==null?r??null:n!=null?i.jsx(Jbe,{faviconUrl:o,size:t,minSize:n,fallback:r,className:s}):i.jsx(BR,{faviconUrl:o,size:t,className:s})}function Jbe({faviconUrl:e,size:t,minSize:n,fallback:r,className:s}){const{data:o,isLoading:a}=me({queryKey:["imageSize",e],queryFn:()=>new Promise((c,l)=>{const u=new Image;u.onload=()=>{c(Math.min(u.width,u.height))},u.onerror=()=>{l()},u.src=e})});return a?i.jsx("div",{className:s}):o==null||o<n?r??null:i.jsx(BR,{faviconUrl:e,size:t,className:s})}function BR({faviconUrl:e,size:t,className:n}){return i.jsx("img",{src:e,alt:"Favicon",width:t,height:t,className:n})}function exe(e,t){if(!e)return null;try{const{origin:n}=new URL(e);return`https://www.google.com/s2/favicons?domain=${n}&sz=${t}`}catch(n){return ue.addError(n),null}}function txe(e,t="short"){try{const n=new URL(e).hostname.replace("www.","");return t==="hostname"?n:n.replace(/\.[^.]*$/,"")}catch{return e}}function N0(e,t){return t?`/g/${Tx(t)}/c/${e}`:`/c/${e}`}function hdt(){return"/gpts"}function UR(){return"/gpts/mine"}function VR(e){return e?`/gpts/editor/${e}`:"/gpts/editor"}function pdt(e){const t=nxe();return e==null?t:VR(e)}function nxe(e){return VR(e)}function GR(e){try{const t=new URL(e);return t.hostname=t.hostname.replace(/^(www\.|web\.|mbasic\.|mobile\.)(secure\.)?/,""),t.pathname="",[...t.searchParams.keys()].forEach(n=>t.searchParams.delete(n)),t.toString()}catch{return e}}function rxe(e){if(!e)return null;try{return new URL(e).hostname}catch{return null}}function mdt(e){const t=rxe(e);return t?t.replace(/^www\./,""):e}const GM=()=>{let e,t;const n=new Promise((r,s)=>{e=r,t=s});return{resolve:e,reject:t,value:n}},sxe=(e,t)=>{const n=e.name??`batcher:${Math.random().toString(16).slice(2)})`,r=e.scheduler??WR(10),s=globalThis.__BATSHIT_DEVTOOLS__?.for(n);let o={seq:0,batch:new Set,currentRequest:GM(),timer:void 0,start:null,latest:null};s?.create({seq:o.seq});const a=()=>{o.batch=new Set,o.currentRequest=GM(),o.timer=void 0,o.start=null,o.latest=null};return{fetch:l=>{o.start||(o.start=Date.now()),o.latest=Date.now(),o.batch.add(l),clearTimeout(o.timer);const u=r(o.start,o.latest,o.batch.size);s?.queue({seq:o.seq,query:l,batch:[...o.batch],scheduled:u,latest:o.latest,start:o.start});const d=()=>{const f=o.seq,h=e.fetcher([...o.batch]),m=o.currentRequest;return s?.fetch({seq:f,batch:[...o.batch]}),a(),h.then(g=>{s?.data({seq:f,data:g}),m.resolve(g)}).catch(g=>{s?.error({seq:f,error:g}),m.reject(g)}),o.seq++,h};if(u==="immediate"){const f=o.currentRequest;return d(),f.value.then(h=>e.resolver(h,l))}else return u==="never"?o.currentRequest.value.then(f=>e.resolver(f,l)):(o.timer=setTimeout(d,u),o.currentRequest.value.then(f=>e.resolver(f,l)))}}},oxe=e=>(t,n)=>t.find(r=>r[e]==n),WR=e=>(t,n)=>{const r=n-t;return e-r},HR=L4(e=>sxe({fetcher:async t=>{const n=new Map;for await(const r of le.streamedJsonPost(`${ve}/attributions`,{urls:t}))r.attribution&&n.set(r.url,r.attribution),e.setQueryData(["attribution",{url:r.url}],r.attribution);return Ba(t.map(r=>{const s=n.get(r);return s&&{url:r,attribution:s}}))},resolver:oxe("url"),scheduler:WR(100)}));function axe(e,{useBaseUrl:t=!0,enabled:n=!0}={}){const r=t?GR(e):e,s=Pe(),o=HR(s);return me({queryKey:["attribution",{url:r}],queryFn:async()=>(await o.fetch(r)).attribution,enabled:n&&!!e})}function gdt(e,{useBaseUrl:t=!0,enabled:n=!0}={}){const r=t?e.map(GR):e,s=Pe(),o=HR(s);return F4({queries:r.map(a=>({queryKey:["attribution",{url:a}],queryFn:async()=>(await o.fetch(a)).attribution,enabled:r.length>0&&n})),combine:a=>{const c=new Map;for(let l=0;l<a.length;l++){const u=a[l].data;u&&c.set(e[l],u)}return c}})}function ixe({url:e}){const t=axe(e).data??txe(e,"short");return i.jsx(i.Fragment,{children:t})}var zR=(e=>(e.Sources="sources",e.Images="images",e))(zR||{});function WM(e){return new Promise(t=>{setTimeout(()=>t(e()),0)})}function cxe(){const e="scheduler"in globalThis;if(!e)return{supportsScheduler:e,supportsYield:!1};const n="yield"in globalThis.scheduler;return{supportsScheduler:e,supportsYield:n}}let Ag;function lxe(){const e=globalThis.scheduler,{supportsScheduler:t,supportsYield:n}=cxe();return e&&n?e:t&&!n?(Object.defineProperty(e,"yield",{value:()=>e.postTask(()=>{})}),e):(Ag||(Ag={postTask:WM,yield:()=>WM(()=>{})}),Ag)}class uxe{scheduler;setScheduler(){this.scheduler||(this.scheduler=lxe())}postTask(t,n){return this.setScheduler(),this.scheduler.postTask(t,n)}yield(){return this.setScheduler(),this.scheduler.yield()}}const Uf=new uxe;function dxe(){return{finished:Promise.resolve(),ready:Promise.resolve(),skipTransition:()=>{},types:new Set,updateCallbackDone:Promise.resolve()}}function fxe(){return"ViewTransitionTypeSet"in document}function ha({forceFlushSync:e,update:t,className:n,types:r}){if("startViewTransition"in document){let s;const o=fxe();r&&document.documentElement.setAttribute("active-view-transition-type",r.join(","));const a=["active-view-transition"];return n&&a.push(n),document.documentElement.classList.add(...a),o?s=document.startViewTransition({update:()=>{document.documentElement.classList.add("update-callback-done"),e?ac.flushSync(t):t()},types:r}):s=document.startViewTransition(()=>{document.documentElement.classList.add("update-callback-done"),e?ac.flushSync(t):t()}),s.finished?.then(async()=>{await Uf.yield(),document.documentElement.classList.remove(...a,"update-callback-done"),document.documentElement.removeAttribute("active-view-transition-type")}),s}else{const s=dxe();return setTimeout(()=>{t()},0),s}}const hxe=5;function vdt({navigation:e,onShowSearchResults:t,trackContentReferenceEvent:n}){p.useEffect(()=>{n(P.searchContentReferenceShown,"search_content_reference_shown",e.type,{urls:e.domains.map(o=>o.url).join(",")})},[e]);const r=e.domains[0],s=e.domains.slice(1,hxe);return i.jsxs("div",{className:$("not-prose mb-3 flex gap-2",s.length>0?"flex-col":"flex-row"),children:[i.jsx(zM,{isPrimary:!0,navigationDomain:r,trackContentReferenceEvent:n}),s.length>0?i.jsxs("div",{className:"flex items-stretch gap-2",children:[s.map(o=>i.jsx(zM,{navigationDomain:o,trackContentReferenceEvent:n},o.url)),i.jsx(HM,{onShowSearchResults:t,trackContentReferenceEvent:n})]}):i.jsx(HM,{onShowSearchResults:t,trackContentReferenceEvent:n})]})}const HM=({onShowSearchResults:e,trackContentReferenceEvent:t})=>{const n=Tn(),r=p.useCallback(()=>{function s(){t(P.searchContentReferenceClicked,"search_content_reference_clicked","navigation",{sidebar:"sidebar"}),e(zR.Sources)}n?ha({className:"open-thread-sidebar",update:s}):s()},[n,e,t]);return i.jsx("button",{className:"flex w-8 items-center justify-center rounded-xl bg-[#EDF1FA] text-token-link hover:bg-[#E4EAF7] dark:bg-[#2C313C] dark:hover:bg-[#313949]",onClick:r,children:i.jsx(qa,{className:""})})},zM=({isPrimary:e,navigationDomain:t,trackContentReferenceEvent:n})=>i.jsx("div",{className:$("min-w-0 flex-1"),children:i.jsx(pxe,{isPrimary:e,title:t.title,url:t.url,domain:t.domain,trackContentReferenceEvent:n})}),pxe=({isPrimary:e,title:t,url:n,domain:r,trackContentReferenceEvent:s})=>i.jsxs(T2,{href:n,onClick:()=>s(P.searchContentReferenceClicked,"search_content_reference_clicked","navigation",{url:n,title:t}),className:$("flex flex-row items-center gap-2 rounded-xl bg-[#EDF1FA] text-token-link hover:bg-[#E4EAF7] dark:bg-[#2C313C] dark:hover:bg-[#313949]",e?"px-4 py-3":"px-4 py-2.5"),children:[i.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-white dark:bg-[#39445B]",children:i.jsx(FR,{url:n,size:16,className:"rounded-full"})}),i.jsxs("div",{className:"flex min-w-0 flex-col gap-0.5",children:[i.jsx("div",{className:$("truncate font-semibold",e?"text-sm":"text-xs"),children:t}),i.jsx("div",{className:"truncate text-xs",children:e?r:i.jsx(ixe,{url:n})})]})]});function ydt({tldr:e,trackContentReferenceEvent:t}){const n={url:e.url,title:e.display_title},r=e.url!=null&&e.url!=="";return p.useEffect(()=>{r&&t(P.searchContentReferenceShown,"search_content_reference_shown",e.type,n)},[r]),r?i.jsx("div",{className:"not-prose mb-3 flex flex-col gap-4 text-base",children:i.jsx(T2,{href:e.url,onClick:()=>t(P.searchContentReferenceClicked,"search_content_reference_clicked",e.type,n),className:"group/tldr",children:i.jsxs("div",{className:"grid max-w-full shrink grid-cols-[1fr,auto] items-center gap-x-8 sm:gap-x-16",children:[i.jsxs("div",{className:"flex shrink flex-col overflow-hidden",children:[i.jsx("div",{className:"shrink text-lg font-semibold text-token-text-primary 2xl:text-xl",children:e.display_title}),i.jsx("div",{className:"flex items-center truncate text-token-link [overflow-wrap:anywhere] group-hover/tldr:opacity-70",children:Ba(e.breadcrumbs)?.map((s,o)=>i.jsxs(p.Fragment,{children:[o!==0&&i.jsx(qa,{className:"h-4 w-4 shrink-0"}),i.jsx("div",{className:"truncate",children:s.toLowerCase()})]},o))})]}),i.jsx(FR,{url:e.url,size:128,minSize:32,className:"mr-[0.1875rem] h-7 w-7 shrink-0 rounded"}),e.snippet&&i.jsx("div",{className:"line-clamp-3 overflow-hidden text-ellipsis text-sm text-token-text-tertiary",children:e.snippet})]})})}):null}var mxe=Object.defineProperty,Vf=Object.getOwnPropertySymbols,qR=Object.prototype.hasOwnProperty,YR=Object.prototype.propertyIsEnumerable,qM=(e,t,n)=>t in e?mxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,I0=(e,t)=>{for(var n in t||(t={}))qR.call(t,n)&&qM(e,n,t[n]);if(Vf)for(var n of Vf(t))YR.call(t,n)&&qM(e,n,t[n]);return e},j0=(e,t)=>{var n={};for(var r in e)qR.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Vf)for(var r of Vf(e))t.indexOf(r)<0&&YR.call(e,r)&&(n[r]=e[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var go;(e=>{const t=class _e{constructor(l,u,d,f){if(this.version=l,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],l<_e.MIN_VERSION||l>_e.MAX_VERSION)throw new RangeError("Version value out of range");if(f<-1||f>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let h=[];for(let g=0;g<this.size;g++)h.push(!1);for(let g=0;g<this.size;g++)this.modules.push(h.slice()),this.isFunction.push(h.slice());this.drawFunctionPatterns();const m=this.addEccAndInterleave(d);if(this.drawCodewords(m),f==-1){let g=1e9;for(let v=0;v<8;v++){this.applyMask(v),this.drawFormatBits(v);const y=this.getPenaltyScore();y<g&&(f=v,g=y),this.applyMask(v)}}s(0<=f&&f<=7),this.mask=f,this.applyMask(f),this.drawFormatBits(f),this.isFunction=[]}static encodeText(l,u){const d=e.QrSegment.makeSegments(l);return _e.encodeSegments(d,u)}static encodeBinary(l,u){const d=e.QrSegment.makeBytes(l);return _e.encodeSegments([d],u)}static encodeSegments(l,u,d=1,f=40,h=-1,m=!0){if(!(_e.MIN_VERSION<=d&&d<=f&&f<=_e.MAX_VERSION)||h<-1||h>7)throw new RangeError("Invalid value");let g,v;for(g=d;;g++){const w=_e.getNumDataCodewords(g,u)*8,C=a.getTotalBits(l,g);if(C<=w){v=C;break}if(g>=f)throw new RangeError("Data too long")}for(const w of[_e.Ecc.MEDIUM,_e.Ecc.QUARTILE,_e.Ecc.HIGH])m&&v<=_e.getNumDataCodewords(g,w)*8&&(u=w);let y=[];for(const w of l){n(w.mode.modeBits,4,y),n(w.numChars,w.mode.numCharCountBits(g),y);for(const C of w.getData())y.push(C)}s(y.length==v);const x=_e.getNumDataCodewords(g,u)*8;s(y.length<=x),n(0,Math.min(4,x-y.length),y),n(0,(8-y.length%8)%8,y),s(y.length%8==0);for(let w=236;y.length<x;w^=253)n(w,8,y);let b=[];for(;b.length*8<y.length;)b.push(0);return y.forEach((w,C)=>b[C>>>3]|=w<<7-(C&7)),new _e(g,u,b,h)}getModule(l,u){return 0<=l&&l<this.size&&0<=u&&u<this.size&&this.modules[u][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),u=l.length;for(let d=0;d<u;d++)for(let f=0;f<u;f++)d==0&&f==0||d==0&&f==u-1||d==u-1&&f==0||this.drawAlignmentPattern(l[d],l[f]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const u=this.errorCorrectionLevel.formatBits<<3|l;let d=u;for(let h=0;h<10;h++)d=d<<1^(d>>>9)*1335;const f=(u<<10|d)^21522;s(f>>>15==0);for(let h=0;h<=5;h++)this.setFunctionModule(8,h,r(f,h));this.setFunctionModule(8,7,r(f,6)),this.setFunctionModule(8,8,r(f,7)),this.setFunctionModule(7,8,r(f,8));for(let h=9;h<15;h++)this.setFunctionModule(14-h,8,r(f,h));for(let h=0;h<8;h++)this.setFunctionModule(this.size-1-h,8,r(f,h));for(let h=8;h<15;h++)this.setFunctionModule(8,this.size-15+h,r(f,h));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let d=0;d<12;d++)l=l<<1^(l>>>11)*7973;const u=this.version<<12|l;s(u>>>18==0);for(let d=0;d<18;d++){const f=r(u,d),h=this.size-11+d%3,m=Math.floor(d/3);this.setFunctionModule(h,m,f),this.setFunctionModule(m,h,f)}}drawFinderPattern(l,u){for(let d=-4;d<=4;d++)for(let f=-4;f<=4;f++){const h=Math.max(Math.abs(f),Math.abs(d)),m=l+f,g=u+d;0<=m&&m<this.size&&0<=g&&g<this.size&&this.setFunctionModule(m,g,h!=2&&h!=4)}}drawAlignmentPattern(l,u){for(let d=-2;d<=2;d++)for(let f=-2;f<=2;f++)this.setFunctionModule(l+f,u+d,Math.max(Math.abs(f),Math.abs(d))!=1)}setFunctionModule(l,u,d){this.modules[u][l]=d,this.isFunction[u][l]=!0}addEccAndInterleave(l){const u=this.version,d=this.errorCorrectionLevel;if(l.length!=_e.getNumDataCodewords(u,d))throw new RangeError("Invalid argument");const f=_e.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][u],h=_e.ECC_CODEWORDS_PER_BLOCK[d.ordinal][u],m=Math.floor(_e.getNumRawDataModules(u)/8),g=f-m%f,v=Math.floor(m/f);let y=[];const x=_e.reedSolomonComputeDivisor(h);for(let w=0,C=0;w<f;w++){let T=l.slice(C,C+v-h+(w<g?0:1));C+=T.length;const _=_e.reedSolomonComputeRemainder(T,x);w<g&&T.push(0),y.push(T.concat(_))}let b=[];for(let w=0;w<y[0].length;w++)y.forEach((C,T)=>{(w!=v-h||T>=g)&&b.push(C[w])});return s(b.length==m),b}drawCodewords(l){if(l.length!=Math.floor(_e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let f=0;f<this.size;f++)for(let h=0;h<2;h++){const m=d-h,v=(d+1&2)==0?this.size-1-f:f;!this.isFunction[v][m]&&u<l.length*8&&(this.modules[v][m]=r(l[u>>>3],7-(u&7)),u++)}}s(u==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let d=0;d<this.size;d++){let f;switch(l){case 0:f=(d+u)%2==0;break;case 1:f=u%2==0;break;case 2:f=d%3==0;break;case 3:f=(d+u)%3==0;break;case 4:f=(Math.floor(d/3)+Math.floor(u/2))%2==0;break;case 5:f=d*u%2+d*u%3==0;break;case 6:f=(d*u%2+d*u%3)%2==0;break;case 7:f=((d+u)%2+d*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][d]&&f&&(this.modules[u][d]=!this.modules[u][d])}}getPenaltyScore(){let l=0;for(let h=0;h<this.size;h++){let m=!1,g=0,v=[0,0,0,0,0,0,0];for(let y=0;y<this.size;y++)this.modules[h][y]==m?(g++,g==5?l+=_e.PENALTY_N1:g>5&&l++):(this.finderPenaltyAddHistory(g,v),m||(l+=this.finderPenaltyCountPatterns(v)*_e.PENALTY_N3),m=this.modules[h][y],g=1);l+=this.finderPenaltyTerminateAndCount(m,g,v)*_e.PENALTY_N3}for(let h=0;h<this.size;h++){let m=!1,g=0,v=[0,0,0,0,0,0,0];for(let y=0;y<this.size;y++)this.modules[y][h]==m?(g++,g==5?l+=_e.PENALTY_N1:g>5&&l++):(this.finderPenaltyAddHistory(g,v),m||(l+=this.finderPenaltyCountPatterns(v)*_e.PENALTY_N3),m=this.modules[y][h],g=1);l+=this.finderPenaltyTerminateAndCount(m,g,v)*_e.PENALTY_N3}for(let h=0;h<this.size-1;h++)for(let m=0;m<this.size-1;m++){const g=this.modules[h][m];g==this.modules[h][m+1]&&g==this.modules[h+1][m]&&g==this.modules[h+1][m+1]&&(l+=_e.PENALTY_N2)}let u=0;for(const h of this.modules)u=h.reduce((m,g)=>m+(g?1:0),u);const d=this.size*this.size,f=Math.ceil(Math.abs(u*20-d*10)/d)-1;return s(0<=f&&f<=9),l+=f*_e.PENALTY_N4,s(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let d=[6];for(let f=this.size-7;d.length<l;f-=u)d.splice(1,0,f);return d}}static getNumRawDataModules(l){if(l<_e.MIN_VERSION||l>_e.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*l+128)*l+64;if(l>=2){const d=Math.floor(l/7)+2;u-=(25*d-10)*d-55,l>=7&&(u-=36)}return s(208<=u&&u<=29648),u}static getNumDataCodewords(l,u){return Math.floor(_e.getNumRawDataModules(l)/8)-_e.ECC_CODEWORDS_PER_BLOCK[u.ordinal][l]*_e.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let u=[];for(let f=0;f<l-1;f++)u.push(0);u.push(1);let d=1;for(let f=0;f<l;f++){for(let h=0;h<u.length;h++)u[h]=_e.reedSolomonMultiply(u[h],d),h+1<u.length&&(u[h]^=u[h+1]);d=_e.reedSolomonMultiply(d,2)}return u}static reedSolomonComputeRemainder(l,u){let d=u.map(f=>0);for(const f of l){const h=f^d.shift();d.push(0),u.forEach((m,g)=>d[g]^=_e.reedSolomonMultiply(m,h))}return d}static reedSolomonMultiply(l,u){if(l>>>8||u>>>8)throw new RangeError("Byte out of range");let d=0;for(let f=7;f>=0;f--)d=d<<1^(d>>>7)*285,d^=(u>>>f&1)*l;return s(d>>>8==0),d}finderPenaltyCountPatterns(l){const u=l[1];s(u<=this.size*3);const d=u>0&&l[2]==u&&l[3]==u*3&&l[4]==u&&l[5]==u;return(d&&l[0]>=u*4&&l[6]>=u?1:0)+(d&&l[6]>=u*4&&l[0]>=u?1:0)}finderPenaltyTerminateAndCount(l,u,d){return l&&(this.finderPenaltyAddHistory(u,d),u=0),u+=this.size,this.finderPenaltyAddHistory(u,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(l,u){u[0]==0&&(l+=this.size),u.pop(),u.unshift(l)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(c,l,u){if(l<0||l>31||c>>>l)throw new RangeError("Value out of range");for(let d=l-1;d>=0;d--)u.push(c>>>d&1)}function r(c,l){return(c>>>l&1)!=0}function s(c){if(!c)throw new Error("Assertion error")}const o=class at{constructor(l,u,d){if(this.mode=l,this.numChars=u,this.bitData=d,u<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(l){let u=[];for(const d of l)n(d,8,u);return new at(at.Mode.BYTE,l.length,u)}static makeNumeric(l){if(!at.isNumeric(l))throw new RangeError("String contains non-numeric characters");let u=[];for(let d=0;d<l.length;){const f=Math.min(l.length-d,3);n(parseInt(l.substring(d,d+f),10),f*3+1,u),d+=f}return new at(at.Mode.NUMERIC,l.length,u)}static makeAlphanumeric(l){if(!at.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],d;for(d=0;d+2<=l.length;d+=2){let f=at.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d))*45;f+=at.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d+1)),n(f,11,u)}return d<l.length&&n(at.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d)),6,u),new at(at.Mode.ALPHANUMERIC,l.length,u)}static makeSegments(l){return l==""?[]:at.isNumeric(l)?[at.makeNumeric(l)]:at.isAlphanumeric(l)?[at.makeAlphanumeric(l)]:[at.makeBytes(at.toUtf8ByteArray(l))]}static makeEci(l){let u=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)n(l,8,u);else if(l<16384)n(2,2,u),n(l,14,u);else if(l<1e6)n(6,3,u),n(l,21,u);else throw new RangeError("ECI assignment value out of range");return new at(at.Mode.ECI,0,u)}static isNumeric(l){return at.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return at.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,u){let d=0;for(const f of l){const h=f.mode.numCharCountBits(u);if(f.numChars>=1<<h)return 1/0;d+=4+h+f.bitData.length}return d}static toUtf8ByteArray(l){l=encodeURI(l);let u=[];for(let d=0;d<l.length;d++)l.charAt(d)!="%"?u.push(l.charCodeAt(d)):(u.push(parseInt(l.substring(d+1,d+3),16)),d+=2);return u}};o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let a=o;e.QrSegment=o})(go||(go={}));(e=>{(t=>{const n=class{constructor(s,o){this.ordinal=s,this.formatBits=o}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(go||(go={}));(e=>{(t=>{const n=class{constructor(s,o){this.modeBits=s,this.numBitsCharCount=o}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(go||(go={}));var oa=go;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var gxe={L:oa.QrCode.Ecc.LOW,M:oa.QrCode.Ecc.MEDIUM,Q:oa.QrCode.Ecc.QUARTILE,H:oa.QrCode.Ecc.HIGH},KR=128,QR="L",XR="#FFFFFF",ZR="#000000",JR=!1,e3=1,vxe=4,yxe=0,bxe=.1;function t3(e,t=0){const n=[];return e.forEach(function(r,s){let o=null;r.forEach(function(a,c){if(!a&&o!==null){n.push(`M${o+t} ${s+t}h${c-o}v1H${o+t}z`),o=null;return}if(c===r.length-1){if(!a)return;o===null?n.push(`M${c+t},${s+t} h1v1H${c+t}z`):n.push(`M${o+t},${s+t} h${c+1-o}v1H${o+t}z`);return}a&&o===null&&(o=c)})}),n.join("")}function n3(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((s,o)=>o<t.x||o>=t.x+t.w?s:!1))}function xxe(e,t,n,r){if(r==null)return null;const s=e.length+n*2,o=Math.floor(t*bxe),a=s/t,c=(r.width||o)*a,l=(r.height||o)*a,u=r.x==null?e.length/2-c/2:r.x*a,d=r.y==null?e.length/2-l/2:r.y*a,f=r.opacity==null?1:r.opacity;let h=null;if(r.excavate){let g=Math.floor(u),v=Math.floor(d),y=Math.ceil(c+u-g),x=Math.ceil(l+d-v);h={x:g,y:v,w:y,h:x}}const m=r.crossOrigin;return{x:u,y:d,h:l,w:c,excavation:h,opacity:f,crossOrigin:m}}function wxe(e,t){return t!=null?Math.max(Math.floor(t),0):e?vxe:yxe}function r3({value:e,level:t,minVersion:n,includeMargin:r,marginSize:s,imageSettings:o,size:a}){let c=Q.useMemo(()=>{const h=oa.QrSegment.makeSegments(e);return oa.QrCode.encodeSegments(h,gxe[t],n)},[e,t,n]);const{cells:l,margin:u,numCells:d,calculatedImageSettings:f}=Q.useMemo(()=>{let h=c.getModules();const m=wxe(r,s),g=h.length+m*2,v=xxe(h,a,m,o);return{cells:h,margin:m,numCells:g,calculatedImageSettings:v}},[c,a,o,r,s]);return{qrcode:c,margin:u,cells:l,numCells:d,calculatedImageSettings:f}}var Sxe=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),Cxe=Q.forwardRef(function(t,n){const r=t,{value:s,size:o=KR,level:a=QR,bgColor:c=XR,fgColor:l=ZR,includeMargin:u=JR,minVersion:d=e3,marginSize:f,imageSettings:h}=r,g=j0(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","marginSize","imageSettings"]),{style:v}=g,y=j0(g,["style"]),x=h?.src,b=Q.useRef(null),w=Q.useRef(null),C=Q.useCallback(F=>{b.current=F,typeof n=="function"?n(F):n&&(n.current=F)},[n]),[T,_]=Q.useState(!1),{margin:k,cells:M,numCells:I,calculatedImageSettings:A}=r3({value:s,level:a,minVersion:d,includeMargin:u,marginSize:f,imageSettings:h,size:o});Q.useEffect(()=>{if(b.current!=null){const F=b.current,N=F.getContext("2d");if(!N)return;let R=M;const B=w.current,Y=A!=null&&B!==null&&B.complete&&B.naturalHeight!==0&&B.naturalWidth!==0;Y&&A.excavation!=null&&(R=n3(M,A.excavation));const j=window.devicePixelRatio||1;F.height=F.width=o*j;const D=o/I*j;N.scale(D,D),N.fillStyle=c,N.fillRect(0,0,I,I),N.fillStyle=l,Sxe?N.fill(new Path2D(t3(R,k))):M.forEach(function(V,Z){V.forEach(function(se,ae){se&&N.fillRect(ae+k,Z+k,1,1)})}),A&&(N.globalAlpha=A.opacity),Y&&N.drawImage(B,A.x+k,A.y+k,A.w,A.h)}}),Q.useEffect(()=>{_(!1)},[x]);const H=I0({height:o,width:o},v);let q=null;return x!=null&&(q=Q.createElement("img",{src:x,key:x,style:{display:"none"},onLoad:()=>{_(!0)},ref:w,crossOrigin:A?.crossOrigin})),Q.createElement(Q.Fragment,null,Q.createElement("canvas",I0({style:H,height:o,width:o,ref:C,role:"img"},y)),q)});Cxe.displayName="QRCodeCanvas";var S1=Q.forwardRef(function(t,n){const r=t,{value:s,size:o=KR,level:a=QR,bgColor:c=XR,fgColor:l=ZR,includeMargin:u=JR,minVersion:d=e3,title:f,marginSize:h,imageSettings:m}=r,g=j0(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","title","marginSize","imageSettings"]),{margin:v,cells:y,numCells:x,calculatedImageSettings:b}=r3({value:s,level:a,minVersion:d,includeMargin:u,marginSize:h,imageSettings:m,size:o});let w=y,C=null;m!=null&&b!=null&&(b.excavation!=null&&(w=n3(y,b.excavation)),C=Q.createElement("image",{href:m.src,height:b.h,width:b.w,x:b.x+v,y:b.y+v,preserveAspectRatio:"none",opacity:b.opacity,crossOrigin:b.crossOrigin}));const T=t3(w,v);return Q.createElement("svg",I0({height:o,width:o,viewBox:`0 0 ${x} ${x}`,ref:n,role:"img"},g),!!f&&Q.createElement("title",null,f),Q.createElement("path",{fill:c,d:`M0,0 h${x}v${x}H0z`,shapeRendering:"crispEdges"}),Q.createElement("path",{fill:l,d:T,shapeRendering:"crispEdges"}),C)});S1.displayName="QRCodeSVG";const fi=({onDismiss:e,title:t,content:n,onPrimaryCtaClick:r,primaryCtaText:s,primaryCtaQrLink:o,onPrimaryCtaQrClick:a,onSecondaryCtaClick:c,secondaryCtaText:l,icon:u,isElevated:d=!0,isPrimaryCtaDisabled:f=!1})=>{const h=$o(),m=(s||l)&&i.jsxs("div",{className:"flex shrink-0 gap-2 pb-1 md:pb-0",children:[s&&i.jsx(ce,{onClick:r,color:"primary",className:"shrink-0",disabled:f,children:s}),l&&i.jsx(ce,{onClick:c,color:"secondary",className:"shrink-0",children:l})]});return i.jsxs("div",{className:$("flex w-full items-start gap-4 rounded-2xl border border-token-border-light bg-token-main-surface-primary py-4 pl-5 pr-3 text-sm text-token-text-primary [text-wrap:pretty] dark:border-transparent dark:bg-token-main-surface-secondary lg:mx-auto",d&&"shadow-xxs",h?"flex-col":"md:items-center"),children:[i.jsxs("div",{className:$("flex h-full w-full items-start gap-4",!h&&"md:items-center"),children:[u&&i.jsx("div",{className:"h-full",children:u}),i.jsxs("div",{className:$("mt-1.5 flex grow items-start gap-4 md:mt-0 md:flex-row md:items-center md:justify-between md:gap-8",o?"flex-row":"flex-col"),children:[i.jsxs("div",{className:"flex max-w-none flex-col",children:[t&&i.jsx("div",{className:$("font-bold text-token-text-primary"),children:t}),i.jsx("div",{className:$(t?"text-token-text-secondary":""),children:n})]}),o&&i.jsx(S1,{className:"min-h-[62px] min-w-[62px] cursor-pointer",onClick:a,size:62,value:o}),!h&&m]}),i.jsx("div",{className:"flex shrink-0 items-center gap-2",children:!!e&&i.jsx(_a,{onClick:e})})]}),h&&m]})},_xe=({onDismiss:e,title:t,content:n,onPrimaryCtaClick:r,primaryCtaText:s,onSecondaryCtaClick:o,secondaryCtaText:a})=>i.jsxs("div",{className:$("border-main-surface-secondary flex h-16 items-center border-b bg-token-main-surface-primary px-2 text-sm text-token-text-primary"),children:[i.jsxs("div",{className:"flex items-center justify-center",children:[!!e&&i.jsx(_a,{onClick:e,className:"-mr-2 text-token-text-tertiary"}),i.jsx(rA,{className:"h-16 w-16 rounded-sm pt-1 shadow-none"}),i.jsxs("div",{className:"-ml-1 flex flex-col",children:[t&&i.jsx("div",{className:"font-bold text-token-text-primary",children:t}),i.jsx("div",{className:$(t?"-mt-0.5 text-token-text-secondary":""),children:n})]})]}),i.jsxs("div",{className:"ml-auto flex justify-end",children:[s&&i.jsx(ce,{onClick:r,color:"primary",className:"shrink-0",children:s}),a&&i.jsx(ce,{onClick:o,color:"secondary",className:"mr-2 shrink-0",children:a})]})]}),s3=Ee.DesktopBrowserExtensionAnnouncement,o3=Ee.DesktopBrowserExtensionReactiveAnnouncement,Txe=5,kxe="https://chromewebstore.google.com/detail/searchgpt/ejcfepkfckglbgocfkanmcdngdijcgld";function Mxe({announcementKey:e=s3,onClose:t}){p.useEffect(()=>{E.logEventWithStatsig(P.chatgptBrowserExtensionAnnouncementShown,"chatgpt_browser_extension_announcement_shown")},[]);const{markAsViewed:n}=Ue(e),r=p.useCallback(()=>{n(),E.logEventWithStatsig(P.chatgptBrowserExtensionAnnouncementClosed,"chatgpt_browser_extension_announcement_closed"),t&&t()},[n,t]),s=p.useCallback(()=>{E.logEventWithStatsig(P.chatgptBrowserExtensionAnnouncementCTAClicked,"chatgpt_browser_extension_announcement_cta_clicked"),n(),t&&t()},[n,t]);return i.jsx(Exe,{downloadUrl:kxe,announcementKey:e,handleCTAClicked:s,handleClose:r})}function wdt({onClose:e}){return Mxe({announcementKey:o3,onClose:e})}function Exe({downloadUrl:e,announcementKey:t,handleCTAClicked:n,handleClose:r}){const s=()=>{n(),window.open(e)},o=i.jsxs("div",{className:"flex-grow",children:[i.jsx("div",{className:"mb-0.5 font-semibold",children:i.jsx(S,{id:"uAZwaE",defaultMessage:"Use ChatGPT for every search"})}),i.jsx("span",{className:"text-token-text-secondary",children:i.jsx(S,{id:"+wTq4L",defaultMessage:"Download the Chrome extension to switch your default search engine to ChatGPT, and get instant answers from trusted sources with every search."})})]});return i.jsx(fi,{onPrimaryCtaClick:s,primaryCtaText:i.jsx(S,{id:"x9mKG0",defaultMessage:"Get Extension"}),onDismiss:()=>r(t),content:o})}function a3(e){const{value:t}=mt("2634628831"),n=t$(()=>document.documentElement.dataset.searchExtension==="1"),r=g2(e.clientThreadId,e$.Search);return Wye()&&!n&&r&&t}function Sdt(e){const t=a3(e),n=Pxe(),r=Ue(s3);return r.eligible&&!r.isLoading&&t&&n&&!So(e.clientThreadId)&&e.conversationMode?.kind===$e.PrimaryAssistant}function Cdt(e){const t=a3(e),n=vh(e.clientThreadId),r=r$(e.clientThreadId,n),s=B4(r,l=>l.role===he.User);var o=!1;const a=s?.messages[0]?.message;if(a?.content.content_type===an.Text){const l=a?.content.parts[0]?.toLowerCase();l&&(o=l.includes("chrome extension")||l.includes("default search"))}const c=Ue(o3);return c.eligible&&!c.isLoading&&t&&o}function _dt(e){const t=Nt.getItem(He.SearchSettings)??{};t.hasSearchedMinTimes||(t.searchMessageIds||(t.searchMessageIds=[]),t.searchMessageIds.includes(e)||(t.searchMessageIds.push(e),t.searchMessageIds.length>=Txe&&(t.hasSearchedMinTimes=!0,delete t.searchMessageIds),Nt.setItem(He.SearchSettings,t)))}function Pxe(){return(Nt.getItem(He.SearchSettings)??{}).hasSearchedMinTimes===!0}const $xe="5.7.5",Axe=100,Oxe=0,Nxe=350,Ixe=24,jxe=24,Rxe="Comp 1",Dxe=0,Lxe=[],Fxe=[{ddd:0,ind:1,ty:4,nm:"border",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,shapes:[{ty:"gr",hd:!1,it:[{ty:"el",hd:!1,d:1,s:{a:0,k:[22,22],ix:2},p:{a:0,k:[0,0],ix:2}},{ty:"st",c:{a:0,k:[.203921568627451,.207843137254902,.2509803921568627],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2,ix:2},hd:!1,lc:2,lj:2},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:0,k:[12,12],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:-180,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:350,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"Path",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,shapes:[{ty:"gr",hd:!1,it:[{ty:"sh",hd:!1,d:1,ks:{a:0,k:{c:!1,v:[[8.6485975,.1178352687211168],[8.880497499999999,1.074935268721117],[6.6505975,3.304865268721118],[6.6505975,6.016105268721118],[9.3617975,6.016105268721118],[11.5916975,3.786175268721117],[12.5487975,4.018115268721118],[11.1692975,8.727405268721117],[5.5576975,9.820205268721118],[3.272757499999999,12.10510526872112],[.561517499999999,12.10510526872112],[.561517499999999,9.393905268721117],[2.8464575,7.109005268721118],[3.9393075,1.497375268721117],[8.6485975,.1178352687211168],[8.6485975,.1178352687211168],[8.6485975,.1178352687211168]],i:[[0,0],[.3205000000000009,-.3204799999999999],[.7432999999999996,-.7433100000000001],[-.7487000000000013,-.7487000000000013],[-.7487000000000013,.7486999999999995],[-.7433000000000014,.743310000000001],[-.09659999999999869,-.4428200000000011],[1.278300000000002,-1.2783],[1.8610999999999986,.7885999999999989],[.7616466666666675,-.7616333333333323],[.7486899999999999,.7486999999999995],[-.7486899999999999,.7487000000000013],[-.7616466666666675,.7616333333333323],[-1.5171100000000006,1.5171199999999994],[-1.6442,-.3585899999999995],[0,0],[0,0]],o:[[.4428000000000001,.09658000000000033],[-.7432999999999996,.7433100000000001],[-.7487000000000013,.7486899999999999],[.7485999999999997,.7486999999999995],[.7432999999999996,-.743310000000001],[.3204999999999991,-.3204799999999999],[.3585999999999991,1.644189999999998],[-1.5170999999999992,1.5170999999999992],[-.7616466666666675,.761633333333334],[-.7486899999999999,.7486999999999995],[-.7486899999999999,-.7485999999999997],[.7616466666666666,-.7616333333333323],[-.7885500000000008,-1.8611],[1.278289999999998,-1.27829],[0,0],[0,0],[.4428000000000001,.09658000000000033]]}}},{ty:"fl",c:{a:0,k:[.6980392156862745,.3843137254901961,.996078431372549],ix:2},o:{a:0,k:100,ix:2},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:1,k:[{t:0,s:[13.23,10.77154381752014],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:50,s:[12,12],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:100,s:[12,12],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:117,s:[12,12],i:{x:[.5],y:[1.5]},o:{x:[.8],y:[0]}},{t:227,s:[12,12],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:282,s:[13.23,10.77],i:{x:[1],y:[1]},o:{x:[0],y:[0]}}],ix:2},a:{a:1,k:[{t:0,s:[7.559483528137207,5.104858875274658],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:50,s:[7.559483528137207,5.104858875274658],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}}],ix:2},s:{a:1,k:[{t:0,s:[100,100],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:50,s:[121.15,121.15],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:60,s:[121.15,121.15],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:100,s:[121.15,121.15],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:117,s:[121.15,121.15],i:{x:[.5],y:[1.5]},o:{x:[.8],y:[0]}},{t:227,s:[121.15,121.15],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:282,s:[100,100],i:{x:[1],y:[1]},o:{x:[0],y:[0]}}],ix:2},r:{a:1,k:[{t:0,s:[0],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:50,s:[45],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:60,s:[45],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:100,s:[-45],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:117,s:[-45],i:{x:[.5],y:[1.5]},o:{x:[.8],y:[0]}},{t:167,s:[45],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:184,s:[45],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:217,s:[-45],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:227,s:[-45],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:282,s:[0],i:{x:[1],y:[1]},o:{x:[0],y:[0]}}],ix:2},o:{a:0,k:100,ix:2},sk:{a:1,k:[{t:0,s:[0],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:50,s:[0],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}}],ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:350,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"Circle",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,shapes:[{ty:"gr",hd:!1,it:[{ty:"sh",hd:!1,d:1,ks:{a:0,k:{c:!1,v:[[0,-10],[10,0],[0,10],[-10,0],[0,-10]],i:[[-5.5228475,0],[0,-5.5228475],[5.5228475,0],[0,5.5228475],[-5.5228475,0]],o:[[5.5228475,0],[0,5.5228475],[-5.5228475,0],[0,-5.5228475],[5.5228475,0]]}}},{ty:"fl",c:{a:0,k:[.203921568627451,.207843137254902,.2509803921568627],ix:2},o:{a:0,k:100,ix:2},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:0,k:[12,12],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:90,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:350,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"Circle",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,shapes:[{ty:"gr",hd:!1,it:[{ty:"el",hd:!1,d:1,s:{a:0,k:[24,24],ix:2},p:{a:0,k:[0,0],ix:2}},{ty:"fl",c:{a:0,k:[.6980392156862745,.3843137254901961,.996078431372549],ix:2},o:{a:0,k:100,ix:2},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:0,k:[12,12],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:-180,ix:2},o:{a:0,k:25,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:350,st:0,bm:0}],Bxe=[],Uxe={v:$xe,fr:Axe,ip:Oxe,op:Nxe,w:Ixe,h:jxe,nm:Rxe,ddd:Dxe,assets:Lxe,layers:Fxe,markers:Bxe},Vxe="5.7.5",Gxe=100,Wxe=0,Hxe=400,zxe=24,qxe=24,Yxe="Comp 1",Kxe=0,Qxe=[],Xxe=[{ddd:0,ind:1,ty:3,nm:"",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[12,12],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,ip:0,op:400,st:0,bm:0,hd:!1},{ddd:0,ind:2,ty:4,nm:"Path's solid stroke",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,parent:1,shapes:[{ty:"gr",hd:!1,it:[{ty:"sh",hd:!1,d:1,ks:{a:1,k:[{t:125,s:[{c:!1,v:[[3.5,0],[0,5.8332999999999995],[3.5,5.8332999999999995]],i:[[0,0],[1.166666666666667,-1.944433333333334],[-1.166666666666667,0]],o:[[-1.166666666666666,1.944433333333333],[1.166666666666666,0],[0,0]]}],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:200,s:[{c:!1,v:[[5.836999893188477,0],[9.336999893188477,5.83329963684082],[5.9886474609375,5.83329963684082]],i:[[-1.184650421142578,-1.832367897033691],[0,0],[-1.166666666666667,0]],o:[[1.184650897979736,1.832367539405823],[0,0],[0,0]]}],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:325,s:[{c:!1,v:[[5.836999893188477,0],[9.336999893188477,5.83329963684082],[5.9886474609375,5.83329963684082]],i:[[-1.184650421142578,-1.832367897033691],[0,0],[-1.166666666666667,0]],o:[[1.184650897979736,1.832367539405823],[0,0],[0,0]]}],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:400,s:[{c:!1,v:[[3.503000259399414,0],[.003000259399414062,5.83329963684082],[3.503000259399414,5.83329963684082]],i:[[.2074432373046875,-.3626899719238281],[0,0],[-1.166666666666667,0]],o:[[-.2074427604675293,.3626899123191833],[0,0],[0,0]]}],i:{x:[1],y:[1]},o:{x:[0],y:[0]}}],ix:2}},{ty:"st",c:{a:0,k:[.6941176470588235,.3803921568627451,.9921568627450981],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2.33333,ix:2},hd:!1,lc:2,lj:2},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:1,k:[{t:125,s:[-4.666999816894531,-4.666650772094727],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:200,s:[-4.67,-4.666650772094727],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:325,s:[-4.67,-4.666650772094727],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}}],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:0,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:400,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"Path's solid stroke",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,parent:1,shapes:[{ty:"gr",hd:!1,it:[{ty:"sh",hd:!1,d:1,ks:{a:1,k:[{t:125,s:[{c:!1,v:[[0,2.3332999999999995],[3.5,0]],i:[[0,0],[-.7981999999999996,1.4169]],o:[[1.4311000000000007,0],[0,0]]}],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:200,s:[{c:!1,v:[[-2.333999633789062,2.333300590515137],[-5.833999633789062,0]],i:[[1.169005393981934,0],[.7811636924743652,1.481373190879822]],o:[[-1.169005155563354,0],[-.7811641693115234,-1.481372833251953]]}],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:325,s:[{c:!1,v:[[-2.333999633789062,2.333300590515137],[-5.833999633789062,0]],i:[[1.169005393981934,0],[.7811636924743652,1.481373190879822]],o:[[-1.169005155563354,0],[-.7811641693115234,-1.481372833251953]]}],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:400,s:[{c:!1,v:[[-.003000259399414062,2.333300590515137],[3.496999740600586,0]],i:[[-1.720494270324707,0],[-.6510887145996094,1.120759010314941]],o:[[1.720494627952576,0],[.6510882377624512,-1.120759010314941]]}],i:{x:[1],y:[1]},o:{x:[0],y:[0]}}],ix:2}},{ty:"st",c:{a:0,k:[.6941176470588235,.3803921568627451,.9921568627450981],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2.33333,ix:2},hd:!1,lc:2,lj:2},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:1,k:[{t:200,s:[1.166999816894531,2.33335018157959],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:325,s:[1.17,2.33335018157959],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}}],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:0,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:400,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"border",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,shapes:[{ty:"gr",hd:!1,it:[{ty:"el",hd:!1,d:1,s:{a:0,k:[22,22],ix:2},p:{a:0,k:[0,0],ix:2}},{ty:"st",c:{a:0,k:[.203921568627451,.207843137254902,.2509803921568627],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2,ix:2},hd:!1,lc:2,lj:2},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:0,k:[12,12],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:-180,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:400,st:0,bm:0}],Zxe=[],Jxe={v:Vxe,fr:Gxe,ip:Wxe,op:Hxe,w:zxe,h:qxe,nm:Yxe,ddd:Kxe,assets:Qxe,layers:Xxe,markers:Zxe},ewe="5.7.5",twe=100,nwe=0,rwe=400,swe=24,owe=24,awe="Comp 1",iwe=0,cwe=[],lwe=[{ddd:0,ind:1,ty:3,nm:"",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[12,12],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,ip:0,op:400,st:0,bm:0,hd:!1},{ddd:0,ind:2,ty:4,nm:"Path's solid stroke",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,parent:1,shapes:[{ty:"gr",hd:!1,it:[{ty:"sh",hd:!1,d:1,ks:{a:1,k:[{t:125,s:[{c:!1,v:[[3.5,0],[0,5.8332999999999995],[3.5,5.8332999999999995]],i:[[0,0],[1.166666666666667,-1.9444333333333343],[-1.166666666666667,0]],o:[[-1.166666666666666,1.9444333333333326],[1.166666666666666,0],[0,0]]}],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:200,s:[{c:!1,v:[[5.836999893188477,0],[9.336999893188477,5.83329963684082],[5.9886474609375,5.83329963684082]],i:[[-1.1846504211425781,-1.8323678970336914],[0,0],[-1.166666666666667,0]],o:[[1.1846508979797363,1.8323675394058228],[0,0],[0,0]]}],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:325,s:[{c:!1,v:[[5.836999893188477,0],[9.336999893188477,5.83329963684082],[5.9886474609375,5.83329963684082]],i:[[-1.1846504211425781,-1.8323678970336914],[0,0],[-1.166666666666667,0]],o:[[1.1846508979797363,1.8323675394058228],[0,0],[0,0]]}],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:400,s:[{c:!1,v:[[3.503000259399414,0],[.0030002593994140625,5.83329963684082],[3.503000259399414,5.83329963684082]],i:[[.2074432373046875,-.3626899719238281],[0,0],[-1.166666666666667,0]],o:[[-.2074427604675293,.36268991231918335],[0,0],[0,0]]}],i:{x:[1],y:[1]},o:{x:[0],y:[0]}}],ix:2}},{ty:"st",c:{a:0,k:[.6941176470588235,.3803921568627451,.9921568627450981],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2.33333,ix:2},hd:!1,lc:2,lj:2},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:1,k:[{t:125,s:[-4.666999816894531,-4.666650772094727],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:200,s:[-4.67,-4.666650772094727],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:325,s:[-4.67,-4.666650772094727],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}}],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:0,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:400,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"Path's solid stroke",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,parent:1,shapes:[{ty:"gr",hd:!1,it:[{ty:"sh",hd:!1,d:1,ks:{a:1,k:[{t:125,s:[{c:!1,v:[[0,2.3332999999999995],[3.5,0]],i:[[0,0],[-.7981999999999996,1.4169]],o:[[1.4311000000000007,0],[0,0]]}],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:200,s:[{c:!1,v:[[-2.3339996337890625,2.3333005905151367],[-5.8339996337890625,0]],i:[[1.1690053939819336,0],[.7811636924743652,1.4813731908798218]],o:[[-1.1690051555633545,0],[-.7811641693115234,-1.4813728332519531]]}],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:325,s:[{c:!1,v:[[-2.3339996337890625,2.3333005905151367],[-5.8339996337890625,0]],i:[[1.1690053939819336,0],[.7811636924743652,1.4813731908798218]],o:[[-1.1690051555633545,0],[-.7811641693115234,-1.4813728332519531]]}],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:400,s:[{c:!1,v:[[-.0030002593994140625,2.3333005905151367],[3.496999740600586,0]],i:[[-1.720494270324707,0],[-.6510887145996094,1.1207590103149414]],o:[[1.7204946279525757,0],[.6510882377624512,-1.1207590103149414]]}],i:{x:[1],y:[1]},o:{x:[0],y:[0]}}],ix:2}},{ty:"st",c:{a:0,k:[.6941176470588235,.3803921568627451,.9921568627450981],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2.33333,ix:2},hd:!1,lc:2,lj:2},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:1,k:[{t:200,s:[1.1669998168945312,2.33335018157959],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:325,s:[1.17,2.33335018157959],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}}],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:0,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:400,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"border",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,shapes:[{ty:"gr",hd:!1,it:[{ty:"el",hd:!1,d:1,s:{a:0,k:[22,22],ix:2},p:{a:0,k:[0,0],ix:2}},{ty:"st",c:{a:0,k:[1,1,1],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2,ix:2},hd:!1,lc:2,lj:2},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:0,k:[12,12],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:-180,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:400,st:0,bm:0}],uwe=[],dwe={v:ewe,fr:twe,ip:nwe,op:rwe,w:swe,h:owe,nm:awe,ddd:iwe,assets:cwe,layers:lwe,markers:uwe},fwe="5.7.5",hwe=100,pwe=0,mwe=350,gwe=24,vwe=24,ywe="Comp 1",bwe=0,xwe=[],wwe=[{ddd:0,ind:1,ty:4,nm:"border",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,shapes:[{ty:"gr",hd:!1,it:[{ty:"el",hd:!1,d:1,s:{a:0,k:[22,22],ix:2},p:{a:0,k:[0,0],ix:2}},{ty:"st",c:{a:0,k:[1,1,1],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2,ix:2},hd:!1,lc:2,lj:2},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:0,k:[12,12],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:-180,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:350,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"Path",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,shapes:[{ty:"gr",hd:!1,it:[{ty:"sh",hd:!1,d:1,ks:{a:0,k:{c:!1,v:[[8.6485975,.1178352687211168],[8.880497499999999,1.074935268721117],[6.6505975,3.304865268721118],[6.6505975,6.016105268721118],[9.3617975,6.016105268721118],[11.5916975,3.786175268721117],[12.5487975,4.018115268721118],[11.1692975,8.727405268721117],[5.5576975,9.820205268721118],[3.272757499999999,12.10510526872112],[.561517499999999,12.10510526872112],[.561517499999999,9.393905268721117],[2.8464575,7.109005268721118],[3.9393075,1.497375268721117],[8.6485975,.1178352687211168],[8.6485975,.1178352687211168],[8.6485975,.1178352687211168]],i:[[0,0],[.3205000000000009,-.3204799999999999],[.7432999999999996,-.7433100000000001],[-.7487000000000013,-.7487000000000013],[-.7487000000000013,.7486999999999995],[-.7433000000000014,.743310000000001],[-.09659999999999869,-.4428200000000011],[1.278300000000002,-1.2783],[1.8610999999999986,.7885999999999989],[.7616466666666675,-.7616333333333323],[.7486899999999999,.7486999999999995],[-.7486899999999999,.7487000000000013],[-.7616466666666675,.7616333333333323],[-1.5171100000000006,1.5171199999999994],[-1.6442,-.3585899999999995],[0,0],[0,0]],o:[[.4428000000000001,.09658000000000033],[-.7432999999999996,.7433100000000001],[-.7487000000000013,.7486899999999999],[.7485999999999997,.7486999999999995],[.7432999999999996,-.743310000000001],[.3204999999999991,-.3204799999999999],[.3585999999999991,1.644189999999998],[-1.5170999999999992,1.5170999999999992],[-.7616466666666675,.761633333333334],[-.7486899999999999,.7486999999999995],[-.7486899999999999,-.7485999999999997],[.7616466666666666,-.7616333333333323],[-.7885500000000008,-1.8611],[1.278289999999998,-1.27829],[0,0],[0,0],[.4428000000000001,.09658000000000033]]}}},{ty:"fl",c:{a:0,k:[.6980392156862745,.3843137254901961,.996078431372549],ix:2},o:{a:0,k:100,ix:2},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:1,k:[{t:0,s:[13.23,10.77154381752014],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:50,s:[12,12],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:100,s:[12,12],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:117,s:[12,12],i:{x:[.5],y:[1.5]},o:{x:[.8],y:[0]}},{t:227,s:[12,12],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:282,s:[13.23,10.77],i:{x:[1],y:[1]},o:{x:[0],y:[0]}}],ix:2},a:{a:1,k:[{t:0,s:[7.559483528137207,5.104858875274658],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:50,s:[7.559483528137207,5.104858875274658],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}}],ix:2},s:{a:1,k:[{t:0,s:[100,100],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:50,s:[121.15,121.15],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:60,s:[121.15,121.15],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:100,s:[121.15,121.15],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:117,s:[121.15,121.15],i:{x:[.5],y:[1.5]},o:{x:[.8],y:[0]}},{t:227,s:[121.15,121.15],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:282,s:[100,100],i:{x:[1],y:[1]},o:{x:[0],y:[0]}}],ix:2},r:{a:1,k:[{t:0,s:[0],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:50,s:[45],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:60,s:[45],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:100,s:[-45],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:117,s:[-45],i:{x:[.5],y:[1.5]},o:{x:[.8],y:[0]}},{t:167,s:[45],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:184,s:[45],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:217,s:[-45],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:227,s:[-45],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:282,s:[0],i:{x:[1],y:[1]},o:{x:[0],y:[0]}}],ix:2},o:{a:0,k:100,ix:2},sk:{a:1,k:[{t:0,s:[0],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:50,s:[0],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}}],ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:350,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"Circle",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,shapes:[{ty:"gr",hd:!1,it:[{ty:"sh",hd:!1,d:1,ks:{a:0,k:{c:!1,v:[[0,-10],[10,0],[0,10],[-10,0],[0,-10]],i:[[-5.5228475,0],[0,-5.5228475],[5.5228475,0],[0,5.5228475],[-5.5228475,0]],o:[[5.5228475,0],[0,5.5228475],[-5.5228475,0],[0,-5.5228475],[5.5228475,0]]}}},{ty:"fl",c:{a:0,k:[1,1,1],ix:2},o:{a:0,k:100,ix:2},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:0,k:[12,12],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:90,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:350,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"Circle",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,shapes:[{ty:"gr",hd:!1,it:[{ty:"el",hd:!1,d:1,s:{a:0,k:[24,24],ix:2},p:{a:0,k:[0,0],ix:2}},{ty:"fl",c:{a:0,k:[.6941176470588235,.3803921568627451,.9921568627450981],ix:2},o:{a:0,k:100,ix:2},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:0,k:[12,12],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:-180,ix:2},o:{a:0,k:25,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:350,st:0,bm:0}],Swe=[],Cwe={v:fwe,fr:hwe,ip:pwe,op:mwe,w:gwe,h:vwe,nm:ywe,ddd:bwe,assets:xwe,layers:wwe,markers:Swe},_we=Ze(()=>Ye(()=>import("./h9pzzk5jm9racpy0.js"),__vite__mapDeps([30,1,2,3])));function i3({animationData:e,animationSegmentToPlay:t,animationLoopCounter:n}){const r=p.useRef(null);return p.useEffect(()=>{r.current?.playSegments(t,!0)},[n]),i.jsx(_we,{animationData:e,lottieRef:r,loop:!1,autoplay:!1})}function Tdt(e){return i.jsx(jt,{width:"8",height:"9",viewBox:"0 0 8 9",fill:"none",...e,children:i.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.66607 0.376042C8.01072 0.605806 8.10385 1.07146 7.87408 1.4161L3.54075 7.9161C3.40573 8.11863 3.18083 8.24304 2.93752 8.24979C2.69421 8.25654 2.46275 8.1448 2.31671 7.95008L0.150044 5.06119C-0.098484 4.72982 -0.0313267 4.25972 0.300044 4.01119C0.631415 3.76266 1.10152 3.82982 1.35004 4.16119L2.88068 6.20204L6.62601 0.584055C6.85577 0.239408 7.32142 0.146278 7.66607 0.376042Z",fill:"currentColor"})})}function kdt(e){return i.jsxs(jt,{width:"4",height:"12",viewBox:"0 0 4 12",fill:"none",...e,children:[i.jsx("mask",{id:"path-1-inside-1_1975_4008",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1 6.5C1 7.05228 1.44772 7.5 2 7.5C2.55228 7.5 3 7.05228 3 6.5V1.5C3 0.947715 2.55228 0.5 2 0.5C1.44772 0.5 1 0.947715 1 1.5L1 6.5ZM0.75 10.25C0.75 10.9404 1.30964 11.5 2 11.5C2.69036 11.5 3.25 10.9404 3.25 10.25C3.25 9.55964 2.69036 9 2 9C1.30964 9 0.75 9.55964 0.75 10.25Z"})}),i.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1 6.5C1 7.05228 1.44772 7.5 2 7.5C2.55228 7.5 3 7.05228 3 6.5V1.5C3 0.947715 2.55228 0.5 2 0.5C1.44772 0.5 1 0.947715 1 1.5L1 6.5ZM0.75 10.25C0.75 10.9404 1.30964 11.5 2 11.5C2.69036 11.5 3.25 10.9404 3.25 10.25C3.25 9.55964 2.69036 9 2 9C1.30964 9 0.75 9.55964 0.75 10.25Z",fill:"currentColor"}),i.jsx("path",{d:"M1 6.5H-0.25H1ZM1 1.5L-0.25 1.5L-0.25 1.5L1 1.5ZM2 6.25C2.13807 6.25 2.25 6.36193 2.25 6.5H-0.25C-0.25 7.74264 0.757359 8.75 2 8.75V6.25ZM1.75 6.5C1.75 6.36193 1.86193 6.25 2 6.25V8.75C3.24264 8.75 4.25 7.74264 4.25 6.5H1.75ZM1.75 1.5V6.5H4.25V1.5H1.75ZM2 1.75C1.86193 1.75 1.75 1.63807 1.75 1.5H4.25C4.25 0.257359 3.24264 -0.75 2 -0.75V1.75ZM2.25 1.5C2.25 1.63807 2.13807 1.75 2 1.75V-0.75C0.757359 -0.75 -0.25 0.257359 -0.25 1.5L2.25 1.5ZM2.25 6.5L2.25 1.5L-0.25 1.5L-0.25 6.5L2.25 6.5ZM2 10.25H-0.5C-0.5 11.6307 0.619288 12.75 2 12.75V10.25ZM2 10.25V12.75C3.38071 12.75 4.5 11.6307 4.5 10.25H2ZM2 10.25H2H4.5C4.5 8.86929 3.38071 7.75 2 7.75V10.25ZM2 10.25H2V7.75C0.619288 7.75 -0.5 8.86929 -0.5 10.25H2Z",fill:"currentColor",mask:"url(#path-1-inside-1_1975_4008)"})]})}function Mdt(e){return i.jsx(jt,{width:"8",height:"9",viewBox:"0 0 8 9",fill:"none",...e,children:i.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.32256 1.48447C7.59011 1.16827 7.55068 0.695034 7.23447 0.427476C6.91827 0.159918 6.44503 0.199354 6.17748 0.515559L4.00002 3.08892L1.82256 0.515559C1.555 0.199354 1.08176 0.159918 0.765559 0.427476C0.449355 0.695034 0.409918 1.16827 0.677476 1.48447L3.01755 4.25002L0.677476 7.01556C0.409918 7.33176 0.449354 7.805 0.765559 8.07256C1.08176 8.34011 1.555 8.30068 1.82256 7.98447L4.00002 5.41111L6.17748 7.98447C6.44503 8.30068 6.91827 8.34011 7.23447 8.07256C7.55068 7.805 7.59011 7.33176 7.32256 7.01556L4.98248 4.25002L7.32256 1.48447Z",fill:"currentColor"})})}function Edt({animationLoopCounter:e}){const{resolvedTheme:t}=Sh(),n=t==="dark";return i.jsx(i3,{animationData:n?Uxe:Cwe,animationSegmentToPlay:[0,300],animationLoopCounter:e})}function Pdt({animationLoopCounter:e}){const{resolvedTheme:t}=Sh(),n=t==="dark";return i.jsx(i3,{animationData:n?Jxe:dwe,animationSegmentToPlay:[0,400],animationLoopCounter:e})}const Twe={label:"Auto",value:""},kwe="The user has opted in to provide additional feedback on the previous response. Encourage the user to share feedback that you can store in a memory to better meet their needs in future. Use no more than 3 turns. If at any point the user indicates no longer wanting to provide feedback, return to the original topic.",c3=Le(()=>({forceParagen:!1,forceParagenModel:Twe,forceIndepthFeedback:!1,forceIndepthFeedbackPrompt:kwe,forceRateLimit:!1,resetRateLimits:!1,showDebugConversationTurns:!1,rebaseSystemMessageContent:null,forceUseSearch:null,paragenStreamType:"none",paragenCotSummaryDisplay:"allow",showParagenMetadata:!0,showSearchSettingsModal:!1})),Mwe={[Je.Browsing]:{group:Te.Browsing},[Je.BrowseTool]:{group:Te.Browsing},[Je.SearchGPTQuery]:{group:Te.SearchGPTQuery},[Je.RetrievalBrowsing]:{group:Te.RetrievalBrowsing},[Je.RetrievalBrowsingTool]:{group:Te.RetrievalBrowsing},[Je.ParallelBrowsing]:{group:Te.ParallelBrowsing},[Je.ParallelBrowsingTool]:{group:Te.ParallelBrowsing},[Je.JITPlugin]:{group:Te.JITPlugin,alwaysStartsNewGroup:!0},[Je.JITPluginTool]:{group:Te.JITPlugin},[Je.Dalle]:{group:Te.Dalle,alwaysStartsNewGroup:!0},[Je.DalleTool]:{group:Te.Dalle},[Je.CodeInterpreter]:{group:Te.CodeInterpreter,alwaysStartsNewGroup:!0},[Je.a8km123]:{group:Te.a8km123},[Je.f959b8c]:{group:Te.f959b8c},[Je.b1de6e2]:{group:Te.b1de6e2},[Je.b1de6e2_c]:{group:Te.b1de6e2_c},[Je.de1d73e]:{group:Te.de1d73e},[Je.CodeInterpreterTool]:{group:Te.CodeInterpreter},[Je.GizmoEditor]:{group:Te.GizmoEditor},[Je.SearchResultTool]:{group:Te.SearchResult},[Je.ImagePreloadTool]:{group:Te.SearchResult},[Je.CanmoreTool]:{group:Te.Canmore}};function $dt(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n],s=U4(r.message),o=e?.[n-1],a=Mwe[s],c=o!=null&&(u$(o.message)||V4(r.message)),l=s===Je.Text&&vs(r.message);if(d$(r.message))t.push({type:Te.Debug,message:r});else if(a!==void 0){const u=t.findLast(d=>d.type!==Te.Debug);u?.type===a.group&&"messages"in u&&!a.alwaysStartsNewGroup?u.messages.push(r):a.group!==Te.Text&&a.group!==Te.Debug&&t.push({type:a.group,messages:[r]})}else if(c&&l!=null){const u=t.pop();u?.type===Te.MultiText?(u.messages.push(r),t.push(u)):u?.type===Te.Text&&t.push({type:Te.MultiText,messages:[u.message,r]})}else t.push({type:Te.Text,message:r})}return t}function su(e){e.danger("Failed to copy to clipboard.",{duration:4,hasCloseButton:!0})}function ml(e,t,n){const{navigator:r}=n?.target?.ownerDocument?.defaultView??window;return new Promise((s,o)=>{if(!r?.clipboard){su(t),o();return}try{if("write"in r.clipboard&&"supports"in ClipboardItem){const a=new ClipboardItem(Object.fromEntries(Object.entries(typeof e=="string"?{"text/plain":e}:e).map(([c,l])=>[c,typeof l=="string"?new Blob([l],{type:c}):l])));r.clipboard.write([a]).then(()=>s("success"),()=>{su(t),o()})}else{const a=typeof e=="string"?e:e["text/plain"]??"";r.clipboard.writeText(a).then(()=>s("success"),()=>{su(t),o()})}}catch{su(t),o()}})}const Ewe=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M9.64978 13.0257L6.36281 14.2164C5.32547 14.5922 4.17846 14.0599 3.8009 13.0274L3.45909 12.0927L4.0564 10.8177L1.75 7.41901L4.09784 6.56847L6.66195 8.05349C7.17468 8.35044 7.79343 8.40537 8.35086 8.20343L16.8625 5.11998C17.1541 5.01435 17.4664 4.97773 17.7746 5.01305L20.6083 5.33764C21.3056 5.41751 21.8977 5.88262 22.1377 6.53907C22.4878 7.49623 21.9919 8.55457 21.0303 8.90295L15.7542 10.8143M16.3515 9.53934L13 14.5L10.1826 15.5206L9.84014 11.8982",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),p.createElement("path",{d:"M3 19H21",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})),Pwe=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.9969 3.39017C14.5497 2.17402 15.961 1.60735 17.2013 2.10349L19.4044 2.98475C20.7337 3.51645 21.3458 5.05369 20.7459 6.35358L19.0629 10H20C20.5523 10 21 10.4477 21 11V19C21 20.6569 19.6569 22 18 22H6C4.34315 22 3 20.6569 3 19V11C3 10.4504 3.44331 10.0044 3.99183 10L3.84325 9.89871C3.83307 9.89177 3.82303 9.88465 3.81311 9.87733C2.55917 8.9526 2.79737 7.01262 4.23778 6.41871L6.35774 5.5446L7.08184 3.36883C7.57382 1.8905 9.49246 1.51755 10.5024 2.70393L11.9888 4.45002L13.5103 4.46084L13.9969 3.39017ZM15.5096 4.89554C16.2552 5.48975 16.5372 6.59381 15.9713 7.51403L14.8266 9.37513C14.8265 9.38763 14.8266 9.40262 14.8273 9.42012C14.8294 9.47125 14.8357 9.52793 14.8451 9.58262C14.8548 9.63855 14.8654 9.67875 14.8714 9.69773C14.9032 9.79819 14.9184 9.89994 14.9184 10H16.8602L18.93 5.51547C19.0499 5.25549 18.9275 4.94804 18.6617 4.8417L16.4585 3.96044C16.2105 3.86122 15.9282 3.97455 15.8176 4.21778L15.5096 4.89554ZM12.8885 10C12.8572 9.84122 12.8358 9.66998 12.8289 9.50115C12.8194 9.26483 12.8254 8.81125 13.0664 8.41953L14.2677 6.46628L11.9746 6.44997C11.3934 6.44584 10.8427 6.18905 10.4659 5.74646L8.97951 4.00037L8.25541 6.17614C8.07187 6.72765 7.65748 7.17203 7.12012 7.39359L5.00091 8.26739L7.06338 9.67378C7.19188 9.7614 7.29353 9.87369 7.3663 10H12.8885ZM5 12V19C5 19.5523 5.44772 20 6 20H18C18.5523 20 19 19.5523 19 19V12H5ZM9.5 14.5C9.5 13.9477 9.94771 13.5 10.5 13.5H13.5C14.0523 13.5 14.5 13.9477 14.5 14.5C14.5 15.0523 14.0523 15.5 13.5 15.5H10.5C9.94771 15.5 9.5 15.0523 9.5 14.5Z",fill:"currentColor"})),$we=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M5 16.584C3.2341 15.8124 2 14.0503 2 12C2 9.46726 3.88316 7.37436 6.32568 7.04508C7.13649 4.69118 9.37075 3 12 3C15.3137 3 18 5.68629 18 9C20.2091 9 22 10.7909 22 13C22 14.2632 21.4145 15.3896 20.5 16.1227",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),p.createElement("path",{d:"M9.25 16L6.75 21",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),p.createElement("path",{d:"M13.25 16L10.75 21",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),p.createElement("path",{d:"M17.25 16L14.75 21",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),Awe=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M4.5 17.5L7.56881 14.3817C8.32655 13.6117 9.55878 13.5826 10.352 14.316L16.5 20",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),p.createElement("path",{d:"M19 12H18.3798C17.504 12 16.672 11.6173 16.102 10.9524L11.898 6.04763C11.328 5.38269 10.496 5 9.6202 5H6C4.89543 5 4 5.89543 4 7V18C4 19.1046 4.89543 20 6 20H18C19.1046 20 20 19.1046 20 18V17",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),p.createElement("path",{d:"M19 5H18.3798C17.504 5 16.672 5.38269 16.102 6.04763L14 8.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),p.createElement("circle",{cx:8.5,cy:9.5,r:1.5,fill:"currentColor"}),p.createElement("path",{d:"M18 14V10C18 9.58798 18.4704 9.35279 18.8 9.6L21.4667 11.6C21.7333 11.8 21.7333 12.2 21.4667 12.4L18.8 14.4C18.4704 14.6472 18 14.412 18 14Z",fill:"currentColor"}),p.createElement("path",{d:"M18 7V3C18 2.58798 18.4704 2.35279 18.8 2.6L21.4667 4.6C21.7333 4.8 21.7333 5.2 21.4667 5.4L18.8 7.4C18.4704 7.64721 18 7.41202 18 7Z",fill:"currentColor"})),Owe=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M15.5 14V17",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),p.createElement("rect",{x:5,y:3,width:14,height:18,rx:2,stroke:"currentColor",strokeWidth:2}),p.createElement("circle",{cx:8.5,cy:14,r:1,fill:"currentColor"}),p.createElement("circle",{cx:8.5,cy:17,r:1,fill:"currentColor"}),p.createElement("circle",{cx:12,cy:17,r:1,fill:"currentColor"}),p.createElement("circle",{cx:12,cy:14,r:1,fill:"currentColor"}),p.createElement("circle",{cx:8.5,cy:11,r:1,fill:"currentColor"}),p.createElement("circle",{cx:12,cy:11,r:1,fill:"currentColor"}),p.createElement("circle",{cx:15.5,cy:11,r:1,fill:"currentColor"})),Nwe=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("circle",{cx:12,cy:10.5,r:7.5,stroke:"currentColor",strokeWidth:2}),p.createElement("path",{d:"M8 17V22L12 21L16 22V17",stroke:"currentColor",strokeWidth:2,strokeLinejoin:"round"})),Iwe=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M17 8H19C20.1046 8 21 8.89543 21 10V17C21 18.1046 20.1046 19 19 19M19 19H5C3.89543 19 3 18.1046 3 17V7C3 5.89543 3.89543 5 5 5H15C16.1046 5 17 5.89543 17 7V17C17 18.1046 17.8954 19 19 19Z",stroke:"currentColor",strokeWidth:2}),p.createElement("path",{d:"M7 10H13",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),p.createElement("path",{d:"M7 13H10",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),jwe=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M6 5H5C3.89543 5 3 5.89543 3 7V8M18 5H19C20.1046 5 21 5.89543 21 7V8M21 16V17C21 18.1046 20.1046 19 19 19H18M6 19H5C3.89543 19 3 18.1046 3 17V16",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),p.createElement("path",{d:"M8 10H16",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),p.createElement("path",{d:"M8 14H14",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})),Rwe=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M4 18V7H20V18C20 19.1046 19.1046 20 18 20H6C4.89543 20 4 19.1046 4 18Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),p.createElement("path",{d:"M9 10V6C9 4.34315 10.3431 3 12 3V3C13.6569 3 15 4.34315 15 6V10",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),Dwe=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M3 6H10",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),p.createElement("path",{d:"M3 10H7",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),p.createElement("path",{d:"M13.4282 17.5718L20.5 10.5C21.6046 9.39543 21.6046 7.60457 20.5 6.5C19.3954 5.39543 17.6046 5.39543 16.5 6.5L9.42819 13.5718C9.14899 13.851 8.95868 14.2066 8.88124 14.5938L8 19L12.4062 18.1188C12.7934 18.0413 13.149 17.851 13.4282 17.5718Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function Lwe(e){switch(e){case"genius":return m7;case"idea":return QS;case"code":return p7;case"data-vis":return h7;case"dalle":return Awe;case"local":return f7;case"math":return Owe;case"misc":return Pwe;case"news":return Iwe;case"teach-or-explain":return ZS;case"read-or-analyze":return jwe;case"rank-or-rate":return Nwe;case"current-event":return XS;case"shop":return Rwe;case"travel":return Ewe;case"weather":return $we;case"work":return ZS;case"write":return Dwe;case"vision":return d7;case"file-upload-document":return Lc;case"browse":return XS;case"onboarding":return u7;default:return QS}}function Fwe(e){switch(e){case"write":case"shop":return"#cb8bd0";case"idea":case"travel":return"#e2c541";case"code":case"vision":return"#6C71FF";case"file-upload-document":return"#EA8444";case"dalle":return"#35AE47";case"genius":return"#E659C2";case"teach-or-explain":case"misc":default:return"#76d0eb"}}const aa=["#cb8bd0","#e2c541","#ed6262","#76d0eb"];function Bwe(e){switch(e){case"write":case"shop":return aa[0];case"idea":case"travel":return aa[1];case"code":case"vision":return aa[2];case"teach-or-explain":case"misc":default:return aa[3]}}function Adt({starterPrompt:e,useV2Colors:t}){if(e.category==null)return null;const n=Lwe(e.category);return i.jsx(n,{className:"icon-md",style:{color:t?Fwe(e.category):Bwe(e.category)}})}const R0=({iconName:e,className:t,notice:n,size:r="medium"})=>{let s=f$;return e==="user"&&(s=Qb),i.jsxs(Gwe,{className:$(t,Uwe[r]),children:[i.jsx(s,{className:l3[r]}),n&&(n==="warning"||n==="danger")&&i.jsx(C1,{$type:n,children:"!"})]})},Uwe={small:"h-[18px] w-[18px]",gizmo:"h-8 w-8",gizmoConversation:"h-6 w-6",medium:"h-8 w-8",workspaceMedium:"h-9 w-9",large:"h-12 w-12",workspaceAvatarPreview:"h-24 w-24",cover:"h-[234px] w-[234px]"},Wn={small:18,gizmo:32,gizmoConversation:24,medium:32,workspaceMedium:36,large:48,workspaceAvatarPreview:96,cover:234},l3={small:"icon-xs",medium:"icon-md",workspaceMedium:"icon-md",large:"icon-lg",workspaceAvatarPreview:"icon-workspace-avatar-preview",cover:"icon-cover",gizmo:"icon-md",gizmoConversation:"icon-sm"},Np=e=>{const{user:t,notice:n}=e,r=n&&(n==="warning"||n==="danger")&&i.jsx(C1,{$type:n,children:"!"});if(t?.picture)return i.jsxs("div",{className:$("relative flex",e.customStyle?e.className:""),children:[i.jsx("img",{src:t.picture,alt:"User",width:e.customStyle?e.size:Wn[e.size],height:e.customStyle?e.size:Wn[e.size],className:e.customStyle?"":e.roundedStyle??"rounded-sm",referrerPolicy:"no-referrer"}),r]});const s=(t?.name??"").split(" ").map(o=>o[0]).join("");return i.jsx("div",{className:"overflow-hidden rounded-full",style:e.customStyle?{width:e.size,height:e.size}:{width:Wn[e.size],height:Wn[e.size]},children:i.jsxs("div",{className:$("relative flex items-center justify-center bg-blue-300 text-white",e.customStyle?e.className:$(e.size==="gizmo"?"h-7 w-7 overflow-hidden rounded-full text-xs":"h-full w-full",e.size==="small"||e.size==="gizmo"||e.size==="gizmoConversation"?"text-xs":"text-sm")),children:[s?i.jsx("div",{className:"indent-[0.1em] tracking-widest",children:s}):i.jsx(Qb,{className:e.customStyle?"h-4/5 w-4/5":l3[e.size]}),r]})})};function Ip({src:e,size:t="large",alt:n}){const[r,s]=p.useState(!1);return r||!e?i.jsx(G4,{width:Wn[t].toString(),height:Wn[t].toString()}):i.jsx("img",{src:e,className:"inline rounded-full bg-token-main-surface-secondary",alt:n??"",width:Wn[t],height:Wn[t],onError:()=>s(!0)})}function Odt({className:e,iconSize:t="medium",notice:n,workspace:r}){const s=De();r??=s;const o=r?.isPersonalAccount(),a=tn();return i.jsx(Ua,{children:i.jsx("div",{className:$("flex items-center justify-center overflow-hidden rounded-full",e),children:!r||o&&a!==void 0?i.jsx(Np,{user:a,size:t,notice:n}):i.jsxs(i.Fragment,{children:[i.jsx(Ip,{src:r.data.profilePictureUrl,size:t}),n&&i.jsx(C1,{$type:n,children:"!"})]})})})}const Vwe=Se.div`relative p-1 rounded-sm h-9 w-9 flex items-center justify-center`,Gwe=({className:e,children:t})=>i.jsx(Vwe,{className:e,children:t}),C1=Se.span`
  absolute w-4 h-4 rounded-full text-[10px] text-white flex  justify-center items-center right-0 top-[20px] -mr-2 border border-white
  ${({$type:e})=>e==="warning"&&"bg-orange-500 text-white"}
  ${({$type:e})=>e==="danger"&&"bg-red-500 text-white"}
`;function Ndt({name:e,size:t,className:n,initialsCount:r=1}){let s="";return r===1?s=e.charAt(0):s=e.split(" ").slice(0,2).map(o=>o[0]).join(""),i.jsx("div",{className:$("overflow-hidden rounded-full pt-[4.5px] text-center text-[9px] font-extralight text-white",n),style:{backgroundColor:Wwe(e),width:Wn[t]+"px",height:Wn[t]+"px"},children:s})}function Wwe(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)+t^e.charCodeAt(n);return aa[Math.abs(t)%aa.length]}const Hwe=({children:e})=>{const t=DA(),n=As();return!t?.length||n?null:i.jsxs(ie.Root,{children:[i.jsx(ie.Trigger,{className:"h-10 px-2",children:e}),i.jsx(ie.Portal,{children:i.jsx(ie.Content,{align:"end",onCloseAutoFocus:r=>r.preventDefault(),children:t.map(r=>i.jsx(zwe,{textdocId:r},r))})})]})},zwe=({textdocId:e})=>{const t=La(Lh(e));return i.jsx(ie.Item,{icon:Lc,onClick:()=>{mx.logButtonClick(zj.FILE_DRAWER_ITEM),ka(t.textdocId)},children:M0(t.title)})},Idt=()=>{const e=U(),t=DA(),n=Fc();if(!t||n)return null;const r=t.length;return r===1?i.jsx(qwe,{textdocId:t[0]}):i.jsx(Hwe,{children:i.jsx(rt,{label:e.formatMessage({id:"xX2Zyt",defaultMessage:"Open canvas"}),children:i.jsxs("div",{className:"flex items-center gap-1 text-token-text-secondary",style:{viewTransitionName:"var(--vt-thread-header-open-canvas)"},children:[i.jsx(Lc,{className:"icon-xl-heavy"}),r]})})})},qwe=({textdocId:e})=>{const t=U(),n=La(Lh(e));return i.jsx(rt,{label:t.formatMessage({id:"xX2Zyt",defaultMessage:"Open canvas"}),children:i.jsx(mq,{onClick:()=>ka(n.textdocId),icon:Lc,style:{viewTransitionName:"var(--vt-thread-header-open-canvas)"}})})},jdt=({children:e})=>Fc()?null:i.jsx(i.Fragment,{children:e});function Ywe({className:e,icon:t,label:n,onClick:r,style:s,tabIndex:o=0}){return i.jsx("label",{className:$(e,Md.wrapper),style:s,tabIndex:-1,children:i.jsx("button",{className:Md.label,"aria-label":n,onClick:r,tabIndex:o,children:t})})}var u3="AlertDialog",[Kwe,Rdt]=Co(u3,[h$]),Gr=h$(),d3=e=>{const{__scopeAlertDialog:t,...n}=e,r=Gr(t);return i.jsx(kh,{...r,...n,modal:!0})};d3.displayName=u3;var Qwe="AlertDialogTrigger",Xwe=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Gr(n);return i.jsx(Fb,{...s,...r,ref:t})});Xwe.displayName=Qwe;var Zwe="AlertDialogPortal",f3=e=>{const{__scopeAlertDialog:t,...n}=e,r=Gr(t);return i.jsx(Mh,{...r,...n})};f3.displayName=Zwe;var Jwe="AlertDialogOverlay",h3=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Gr(n);return i.jsx(Ch,{...s,...r,ref:t})});h3.displayName=Jwe;var pa="AlertDialogContent",[e1e,t1e]=Kwe(pa),p3=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,o=Gr(n),a=p.useRef(null),c=Br(t,a),l=p.useRef(null);return i.jsx(W4,{contentName:pa,titleName:m3,docsSlug:"alert-dialog",children:i.jsx(e1e,{scope:n,cancelRef:l,children:i.jsxs(_h,{role:"alertdialog",...o,...s,ref:c,onOpenAutoFocus:tt(s.onOpenAutoFocus,u=>{u.preventDefault(),l.current?.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[i.jsx(H4,{children:r}),i.jsx(r1e,{contentRef:a})]})})})});p3.displayName=pa;var m3="AlertDialogTitle",g3=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Gr(n);return i.jsx(z4,{...s,...r,ref:t})});g3.displayName=m3;var v3="AlertDialogDescription",y3=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Gr(n);return i.jsx(q4,{...s,...r,ref:t})});y3.displayName=v3;var n1e="AlertDialogAction",b3=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Gr(n);return i.jsx(Th,{...s,...r,ref:t})});b3.displayName=n1e;var x3="AlertDialogCancel",w3=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=t1e(x3,n),o=Gr(n),a=Br(t,s);return i.jsx(Th,{...o,...r,ref:a})});w3.displayName=x3;var r1e=({contentRef:e})=>{const t=`\`${pa}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${pa}\` by passing a \`${v3}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${pa}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},s1e=d3,o1e=f3,a1e=h3,i1e=p3,c1e=b3,l1e=w3,u1e=g3,d1e=y3;function S3({title:e,description:t,onClose:n,actionButton:r,cancelButton:s}){return i.jsx(s1e,{open:!0,onOpenChange:o=>{o||n()},children:i.jsxs(o1e,{children:[i.jsx(a1e,{className:"fixed inset-0 border-token-border-medium radix-state-open:animate-show"}),i.jsxs(i1e,{className:"fixed start-1/2 top-1/2 flex max-h-[85vh] w-[90vw] max-w-lg -translate-x-1/2 -translate-y-1/2 flex-col gap-2 rounded-2xl bg-token-main-surface-primary shadow-2xl focus:outline-none radix-state-open:animate-alertShow",onEscapeKeyDown:o=>o.preventDefault(),children:[i.jsx(u1e,{className:"border-b border-token-border-light p-4 text-lg font-semibold md:p-6",children:e}),i.jsxs("div",{className:"flex flex-col gap-4 p-4 md:p-6",children:[i.jsx(d1e,{className:"text-base",children:t}),i.jsxs("div",{className:"flex justify-end gap-2",children:[s&&i.jsx(l1e,{asChild:!0,children:s}),i.jsx(c1e,{asChild:!0,children:r})]})]})]})]})})}const C3="1696863369",f1e=Ee.UseSidekick,h1e=Ee.SidekickLauncherOnboarding,p1e="https://help.openai.com/en/articles/9275200",m1e="https://persistent.oaistatic.com/sidekick/public/ChatGPT_Desktop_public_latest.dmg",_3="1697140512",g1e=Ee.UseSidetron,v1e=Ee.hasSeenWindowsAppOnboarding,y1e="https://help.openai.com/en/articles/9982051",b1e="https://apps.microsoft.com/detail/9nt1r1c2hh7j",T3="download";function k3(e,t){const n=De(),r=Y4(e).layer.get(t,!1);return n!=null&&r}function x1e(){return k3(C3,"has_sidekick_access")}function w1e(){return k3(_3,"can_download_sidetron")}function _1(){const e=x1e(),t=w1e();return{isSidekickAvailable:e,isSidetronAvailable:t,isDesktopAppAvailable:e||t}}function S1e(e){return e===T3}function C1e(){const e=yt(),{hash:t}=Fa(),n=S1e(t.slice(1));return{openModal:()=>{e({hash:T3})},closeModal:()=>{e({hash:""})},isOpen:n}}function Ddt(e){const t=_1(),{isDesktopAppAvailable:n}=t,r=T1(t),s=z.getLayerValue({layerName:r.statsigLayerName,key:"show_nux_banner",defaultValue:!1}),{eligible:o,isLoading:a}=Ue(r.downloadAnnouncement),{eligible:c,isLoading:l}=Ue(r.onboardingAnnouncement);return{eligible:!(!o||!c||!n||e.conversationMode?.kind!==$e.PrimaryAssistant)&&s,isLoading:l||a}}function Ldt({onClose:e}){const t=_1(),n=T1(t);p.useEffect(()=>{E.logEvent(n.analyticsBannerShown),z.logEvent(n.statsigBannerShown)},[n.analyticsBannerShown,n.statsigBannerShown]);const{markAsViewed:r}=Ue(n.downloadAnnouncement),s=p.useCallback(()=>{r(),E.logEvent(n.analyticsBannerDismissed),z.logEvent(n.statsigBannerDismissed),e&&e()},[r,e,n.analyticsBannerDismissed,n.statsigBannerDismissed]),o=p.useCallback(()=>{E.logEvent(n.analyticsBannerDownloadClicked),z.logEvent(n.statsigBannerDownloadClicked),r(),e&&e()},[r,e,n.analyticsBannerDownloadClicked,n.statsigBannerDownloadClicked]),a={...n,isAppAvailable:t.isDesktopAppAvailable,markAsDownloaded:o,markAsViewed:s};return i.jsx(k1e,{...a})}function _1e(e){window.open(e,"_blank")}function T1(e){return e.isSidekickAvailable?A1e:O1e}function T1e(e){return e.bannerTitle}function Fdt(){const{closeModal:e,isOpen:t}=C1e(),n=_1(),{isDesktopAppAvailable:r}=n,s=T1(n),o=p.useMemo(()=>({isDesktopAppAvailable:r}),[r]),a=()=>{E.logEvent(s.analyticsModalClosed,o),z.logEvent(s.statsigModalClosed),e()},c=()=>{E.logEvent(s.analyticsModalDownloadClicked,o),z.logEvent(s.statsigModalDownloadClicked),e()};if(p.useEffect(()=>{t&&(E.logEvent(s.analyticsModalShown,{...o}),z.logEvent(s.statsigModalShown))},[o,t,s.analyticsModalShown,s.statsigModalShown]),!t)return null;const l={...s,isAppAvailable:n.isDesktopAppAvailable,markAsDownloaded:c,markAsViewed:a};return i.jsx(M1e,{...l})}function k1e({downloadUrl:e,markAsDownloaded:t,markAsViewed:n,messages:r,learnMoreUrl:s}){const o=U(),a=p.useCallback(()=>{_1e(e),t()},[t,e]),c=i.jsx(S,{...T1e(r)}),l=i.jsx(S,{...r.bannerContent}),u=i.jsx(S,{...r.disclaimer,values:{learnMoreLink:f=>i.jsx(qh,{openNewTab:!0,href:s,children:f},"link")}}),d=i.jsxs("div",{className:"flex-grow",children:[i.jsx("div",{className:"mb-0.5 font-semibold",children:c}),i.jsxs("span",{className:"text-token-text-secondary",children:[l," ",u]})]});return i.jsx(fi,{onPrimaryCtaClick:a,primaryCtaText:o.formatMessage(r.download),onDismiss:n,content:d})}function M1e({downloadUrl:e,markAsDownloaded:t,markAsViewed:n,isAppAvailable:r,messages:s,learnMoreUrl:o}){const a=s.modalTitle,c=i.jsx(S,{...a}),l=i.jsx(S,{...s.modalContent}),u=s.disclaimer,d=i.jsx(S,{...u,values:{learnMoreLink:y=>i.jsx(qh,{openNewTab:!0,href:o,children:y})}}),f=i.jsxs("div",{children:[i.jsx("div",{children:l}),i.jsx("div",{className:"mt-2",children:d})]}),h=i.jsx(ce,{as:"link",to:e,color:"primary",onClick:t,openNewTab:!0,children:i.jsx(S,{...s.download})}),m=i.jsx(ce,{color:"secondary",onClick:n,children:i.jsx(S,{...$1e.close})}),g=r?h:m,v=r?m:void 0;return i.jsx(S3,{onClose:n,title:c,description:f,actionButton:g,cancelButton:v})}const E1e=K({bannerTitle:{id:"SidekickOnboarding.bannerTitle",defaultMessage:"ChatGPT is now available for macOS 14+ with Apple Silicon"},bannerContent:{id:"SidekickOnboarding.banner_content_3",defaultMessage:"Get faster access to ChatGPT with the Option + Space shortcut, and use Advanced Voice Mode to get hands-free answers while you work."},modalTitle:{id:"SidekickOnboarding.modalTitle",defaultMessage:"ChatGPT is available for macOS 14+ with Apple Silicon"},modalContent:{id:"SidekickOnboarding.modal_content_eligible",defaultMessage:"Quickly access ChatGPT from anywhere on your computer with the Option + Space shortcut. Share screenshots, upload files, and use Advanced Voice Mode to chat with your computer and get hands-free answers while you work."},disclaimer:{id:"SidekickOnboarding.disclaimer_3",defaultMessage:"<learnMoreLink>Learn more</learnMoreLink>."},download:{id:"SidekickOnboarding.download",defaultMessage:"Download"}}),P1e=K({bannerTitle:{id:"SidetronOnboarding.bannerTitle",defaultMessage:"ChatGPT is now available for Windows 10+"},bannerContent:{id:"SidetronOnboarding.banner_content_3",defaultMessage:"Get faster access to ChatGPT with the Alt + Space shortcut, and use Advanced Voice Mode to get hands-free answers while you work."},modalTitle:{id:"SidetronOnboarding.modalTitle",defaultMessage:"ChatGPT is available for Windows 10+"},modalContent:{id:"SidetronOnboarding.modal_content_eligible",defaultMessage:"Quickly access ChatGPT from anywhere on your computer with the Alt + Space shortcut. Share screenshots, upload files, and use Advanced Voice Mode to chat with your computer and get hands-free answers while you work."},disclaimer:{id:"SidetronOnboarding.disclaimer_3",defaultMessage:"<learnMoreLink>Learn more</learnMoreLink>."},download:{id:"SidetronOnboarding.download",defaultMessage:"Download on Microsoft Store"}}),$1e=K({close:{id:"SidekickOnboarding.close",defaultMessage:"Close"}}),A1e={downloadUrl:m1e,messages:E1e,learnMoreUrl:p1e,analyticsModalShown:P.sidekickDownloadModalShown,analyticsModalClosed:P.sidekickDownloadModalClosed,analyticsModalDownloadClicked:P.sidekickDownloadModalDownloaded,analyticsBannerShown:P.sidekickAnnouncementShown,analyticsBannerDismissed:P.sidekickAnnouncementDismissed,analyticsBannerDownloadClicked:P.sidekickAnnouncementLinkClicked,statsigLayerName:C3,statsigModalShown:"chatgpt_sidekick_modal_shown",statsigModalClosed:"chatgpt_sidekick_modal_closed",statsigModalDownloadClicked:"chatgpt_sidekick_modal_download_clicked",statsigBannerShown:"chatgpt_sidekick_announcement_shown",statsigBannerDismissed:"chatgpt_sidekick_announcement_closed",statsigBannerDownloadClicked:"chatgpt_sidekick_announcement_download_clicked",downloadAnnouncement:f1e,onboardingAnnouncement:h1e},O1e={downloadUrl:b1e,messages:P1e,learnMoreUrl:y1e,analyticsModalShown:P.sidetronDownloadModalShown,analyticsModalClosed:P.sidetronDownloadModalClosed,analyticsModalDownloadClicked:P.sidetronDownloadModalDownloaded,analyticsBannerShown:P.sidetronAnnouncementShown,analyticsBannerDismissed:P.sidetronAnnouncementDismissed,analyticsBannerDownloadClicked:P.sidetronAnnouncementLinkClicked,statsigLayerName:_3,statsigModalShown:"chatgpt_sidetron_modal_shown",statsigModalClosed:"chatgpt_sidetron_modal_closed",statsigModalDownloadClicked:"chatgpt_sidetron_modal_download_clicked",statsigBannerShown:"chatgpt_sidetron_announcement_shown",statsigBannerDismissed:"chatgpt_sidetron_announcement_closed",statsigBannerDownloadClicked:"chatgpt_sidetron_announcement_download_clicked",downloadAnnouncement:g1e,onboardingAnnouncement:v1e},N1e=25;function I1e(e,t=0,n="",r=N1e,s=void 0){return me({queryKey:["workspace",e,t,n],queryFn:async()=>await X.getWorkspaceUsers(e,t,r,n),placeholderData:s,enabled:!!e})}function Bdt(e){const{data:t}=I1e(e);return t?.total??0}const Udt="https://help.openai.com/en/collections/3943089-billing",Vdt="https://openai.com/chatgpt/enterprise",Gdt="https://help.openai.com/en/articles/7905690-how-do-i-cancel-my-apple-subscription-for-chatgpt-plus-in-the-chatgpt-ios-app",Wdt="https://help.openai.com/en/articles/8258076-how-to-cancel-my-plus-subscription-in-the-chatgpt-android-app",Hdt="https://help.openai.com/en/articles/7102672-how-can-i-access-gpt-4",j1e="pricing",zdt="team-pricing",qdt={WEBAPP:"chatgpt_web",MOBILE_IOS:"chatgpt_mobile_ios",MOBILE_ANDROID:"chatgpt_mobile_android",GRANTED:"chatgpt_gratis_recepient",NOT_PURCHASED:"chatgpt_not_purchased"},Ydt={ALREADY_PAID:"User is already paid"};let D0;function Os(e,t){D0=t,e({hash:j1e})}function Kdt(e){e({hash:""})}function Qdt(){const e=D0;return D0=void 0,e}Se.ol`ml-5 list-decimal`;const R1e=Se.ul`ml-3 list-disc`,D1e=Se.li`marker:text-token-text-tertiary text-token-text-primary mb-2`;function M3(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var k1="Radio",[L1e,E3]=Co(k1),[F1e,B1e]=L1e(k1),P3=p.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:o,disabled:a,value:c="on",onCheck:l,form:u,...d}=e,[f,h]=p.useState(null),m=Br(t,y=>h(y)),g=p.useRef(!1),v=f?u||!!f.closest("form"):!0;return i.jsxs(F1e,{scope:n,checked:s,disabled:a,children:[i.jsx(Wt.button,{type:"button",role:"radio","aria-checked":s,"data-state":O3(s),"data-disabled":a?"":void 0,disabled:a,value:c,...d,ref:m,onClick:tt(e.onClick,y=>{s||l?.(),v&&(g.current=y.isPropagationStopped(),g.current||y.stopPropagation())})}),v&&i.jsx(U1e,{control:f,bubbles:!g.current,name:r,value:c,checked:s,required:o,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});P3.displayName=k1;var $3="RadioIndicator",A3=p.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...s}=e,o=B1e($3,n);return i.jsx(Oc,{present:r||o.checked,children:i.jsx(Wt.span,{"data-state":O3(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t})})});A3.displayName=$3;var U1e=e=>{const{control:t,checked:n,bubbles:r=!0,...s}=e,o=p.useRef(null),a=M3(n),c=p$(t);return p.useEffect(()=>{const l=o.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(a!==n&&f){const h=new Event("click",{bubbles:r});f.call(l,n),l.dispatchEvent(h)}},[a,n,r]),i.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function O3(e){return e?"checked":"unchecked"}var V1e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],M1="RadioGroup",[G1e,Xdt]=Co(M1,[Eh,E3]),N3=Eh(),I3=E3(),[W1e,H1e]=G1e(M1),j3=p.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:o,required:a=!1,disabled:c=!1,orientation:l,dir:u,loop:d=!0,onValueChange:f,...h}=e,m=N3(n),g=m$(u),[v,y]=Nc({prop:o,defaultProp:s,onChange:f});return i.jsx(W1e,{scope:n,name:r,required:a,disabled:c,value:v,onValueChange:y,children:i.jsx(g$,{asChild:!0,...m,orientation:l,dir:g,loop:d,children:i.jsx(Wt.div,{role:"radiogroup","aria-required":a,"aria-orientation":l,"data-disabled":c?"":void 0,dir:g,...h,ref:t})})})});j3.displayName=M1;var R3="RadioGroupItem",D3=p.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...s}=e,o=H1e(R3,n),a=o.disabled||r,c=N3(n),l=I3(n),u=p.useRef(null),d=Br(t,u),f=o.value===s.value,h=p.useRef(!1);return p.useEffect(()=>{const m=v=>{V1e.includes(v.key)&&(h.current=!0)},g=()=>h.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",g)}},[]),i.jsx(v$,{asChild:!0,...c,focusable:!a,active:f,children:i.jsx(P3,{disabled:a,required:o.required,checked:f,...l,...s,name:o.name,ref:d,onCheck:()=>o.onValueChange(s.value),onKeyDown:tt(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:tt(s.onFocus,()=>{h.current&&u.current?.click()})})})});D3.displayName=R3;var z1e="RadioGroupIndicator",L3=p.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,s=I3(n);return i.jsx(A3,{...s,...r,ref:t})});L3.displayName=z1e;var Zdt=j3,F3=D3,B3=L3;const q1e=Se.div`p-6`,Y1e=Se.label`font-semibold text-base cursor-pointer`,K1e=Se.div`flex flex-col gap-3 text-token-text-secondary text-sm mt-3`,Q1e=Se.p`text-token-text-primary`,X1e=Se.s`text-token-text-tertiary`,Go=999,Jdt=2;function eft({billingType:e,name:t,billingFeatures:n,cost:r,costStructure:s}){return i.jsxs(q1e,{children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(F3,{value:e,id:e,className:"h-5 w-5 cursor-pointer rounded-full border border-token-border-medium bg-token-main-surface-primary outline-none hover:bg-token-main-surface-secondary radix-state-checked:border-green-500 radix-state-checked:bg-green-500",children:i.jsx(B3,{className:"flex items-center justify-center",children:i.jsx(jh,{className:"mt-0.25 h-[14px] w-[14px] stroke-[3] text-white"})})}),i.jsx(Y1e,{htmlFor:e,children:i.jsx(S,{...t})})]}),i.jsxs(K1e,{children:[i.jsxs("div",{children:[i.jsx(Q1e,{children:i.jsx(S,{...r,values:{s:(...o)=>i.jsx(X1e,{children:o})}})}),i.jsx("p",{children:i.jsx(S,{...s})})]}),i.jsx(R1e,{children:n.map(o=>i.jsx(D1e,{children:i.jsx(S,{...o})},o.id))})]})]})}function tft({numSeats:e,minSeats:t,setNumSeats:n}){return i.jsxs("div",{className:"mb-3 flex items-center",children:[i.jsx("button",{disabled:e<=t,onClick:r=>{const s=r.shiftKey;n(o=>Df(o-=s?10:1,t,Go))},className:"px-4 py-2 disabled:cursor-not-allowed disabled:text-token-text-secondary",children:i.jsx(g7,{className:"icon-sm"})}),i.jsx("input",{type:"number",min:t,max:Go,name:"seats",value:e,onChange:r=>{n(parseInt(r.target.value))},onBlur:()=>{e<t&&n(t),e>Go&&n(Go),e||n(t)},className:"m-0 h-9 appearance-none rounded border border-gray-200 px-2 py-0 text-center text-sm text-gray-800 shadow-none outline-none ring-transparent focus:border-green-500 focus:ring-green-500 dark:border-gray-700"}),i.jsx("button",{disabled:e>=Go,onClick:r=>{const s=r.shiftKey;n(o=>Df(o+=s?10:1,t,Go))},className:"px-4 py-2 disabled:cursor-not-allowed disabled:text-token-text-secondary",children:i.jsx(Xb,{className:"icon-sm"})})]})}const un=K({flexiblePlanName:{id:"teamBilling.flexiblePlan.name",defaultMessage:"Flexible plan"},flexiblePlanCost:{id:"teamBilling.flexiblePlan.cost",defaultMessage:"USD $30"},flexibleBilledMonthly:{id:"teamBilling.flexiblePlan.billedMonthly",defaultMessage:"Price billed monthly"},flexibleAddRemoveUsers:{id:"teamBilling.flexiblePlan.addRemoveUsers",defaultMessage:"Add or remove users as needed"},flexibleMinBill:{id:"teamBilling.flexiblePlan.minBill",defaultMessage:"The minimum monthly bill is for 2 users, USD $60/month"},seatsTitle:{id:"teamBilling.seatsTitle",defaultMessage:"Seats"},summaryTitle:{id:"teamBilling.summaryTitle",defaultMessage:"Summary"},annualPlanName:{id:"teamBilling.annualPlan.name",defaultMessage:"Annual plan"},annualPlanCost:{id:"teamBilling.annualPlan.cost",defaultMessage:"USD $25 <s>$30</s>"},annualBilledAnnually:{id:"teamBilling.annualPlan.billedAnnually",defaultMessage:"Annual price billed annually"},annualAddUsersWithRenewal:{id:"teamBilling.annualPlan.addUsersWithRenewal",defaultMessage:"Add users as needed, remove users only when you renew the contract"},annualMinBill:{id:"teamBilling.annualPlan.minBill",defaultMessage:"The minimum bill is for 2 users, USD $50/month billed annually"},teamsCostStructure:{id:"teamBilling.teamsCostStructure",defaultMessage:"per person/month"},annualSavingsPercentage:{id:"teamBilling.annualSavingsPercentage",defaultMessage:"16.7% off"},createWorkspace:{id:"createWorkspace.title",defaultMessage:"Create workspace"},cancel:{id:"createWorkspace.cancel",defaultMessage:"Cancel"},selectTeamPlan:{id:"createWorkspace.selectTeamPlan",defaultMessage:"Select Team Plan"},selectTeamPlanModalTitle:{id:"createWorkspace.selectTeamPlanModalTitle",defaultMessage:"Select your team plan"},continueToBillingButton:{id:"createWorkspace.continueToBillingButton",defaultMessage:"Continue to billing"},paymentErrorWarning:{id:"createWorkspace.paymentErrorWarning",defaultMessage:"The payments page encountered an error. Please try again. If the problem continues, please visit help.openai.com."},selectBillingOption:{id:"createWorkspace.selectBillingOption",defaultMessage:"Select billing options"},annualPlanSelected:{id:"teamBilling.annualPlanSelected",defaultMessage:"ChatGPT Team annual plan"},annualPlanBilled:{id:"teamBilling.annualPlanBilled",defaultMessage:"Price billed annually, starting {date}"},annualPlanTotal:{id:"teamBilling.annualPlanTotal",defaultMessage:"USD ${totalCost} per year total"},flexiblePlanSelected:{id:"teamBilling.flexiblePlanSelected",defaultMessage:"ChatGPT Team flexible plan"},flexiblePlanBilled:{id:"teamBilling.flexiblePlanBilled",defaultMessage:"Price billed monthly, starting {date}"},flexiblePlanTotal:{id:"teamBilling.flexiblePlanTotal",defaultMessage:"USD ${totalCost} per month total"},continueToPricePreview:{id:"teamBilling.continueToPricePreview",defaultMessage:"Continue"},changeEffectDate:{id:"teamBilling.changeEffectDate",defaultMessage:"This change will take effect at your next renewal on {date}"},confirmPageChangeEffectDate:{id:"teamBilling.confirmPageChangeEffectDate",defaultMessage:"Your billing schedule will change from {current_plan} to {new_plan} starting at your next renewal on {date}"},confirmChange:{id:"teamBilling.confirmChange",defaultMessage:"Confirm"}}),nft={type:"month",name:un.flexiblePlanName,cost:un.flexiblePlanCost,costStructure:un.teamsCostStructure,billingFeatures:[un.flexibleBilledMonthly,un.flexibleAddRemoveUsers,un.flexibleMinBill]},rft={type:"year",name:un.annualPlanName,cost:un.annualPlanCost,costStructure:un.teamsCostStructure,originalCost:un.flexiblePlanCost,savingsFromOriginal:un.annualSavingsPercentage,billingFeatures:[un.annualBilledAnnually,un.annualAddUsersWithRenewal,un.annualMinBill]},Z1e="ext-oai-did",J1e="ext-login-allow-phone",eSe="ext-signup-allow-phone";function tSe(e){return{[Z1e]:e}}function nSe(){const{layer:e}=_n("1346366956");return()=>e.get("use_email_otp",!1)}function E1(){return p.useContext(y$).isElectron}function rSe(){const e=E1(),{value:t}=lt("1072178956"),{value:n}=lt("3342258807");if(e){if(n)return sSe;if(t)return oSe}}const sSe=Wi.OpenAISidetron,oSe=Wi.Auth0Sidetron;function aSe(){const{layer:e}=_n("1346366956");return()=>e.get("login_allow_phone",!1)}function iSe(){const{value:e}=mt("719574156");return e}function cSe(){const{layer:e}=_n("1346366956");return()=>e.get("signup_allow_phone",!1)}function lSe(){const{layer:e}=_n("1914829685");return()=>e.get("forward_to_authapi",!1)}function uSe(e,t,n){return t&&n?Wi.OpenAI:t?Wi.LoginWebAuth0:Wi.Auth0}function vn(){const[e]=wo(),{value:t}=mt("1198030896"),n=nSe(),r=iSe(),s=aSe(),o=cSe(),{country:a}=Ic(),c=lSe(),l=rSe();return({authType:d="signup",callbackUrl:f="/",additionalAuthParams:h={},callback:m,shouldOpenPaymentModalOnAuth:g=!1,forceAuthFlow:v=void 0}={})=>{const y=v===FS.Auth0,x=v===FS.AuthApi,b=c(),w=l??uSe(e,t,(b||x)&&!y),C=n(),T=s(),_=o();g&&mn.setCookie(cn.ShowPaymentModal,!0,{maxAge:6*60*60}),m?.(w),Bb.signIn(w,{callbackUrl:f},{prompt:"login",screen_hint:d,...tSe(K4()),...C?{use_email_otp:"true"}:{},...T||r?{[J1e]:"true"}:{},..._?{[eSe]:"true"}:{},...a?{country_code:a}:{},...h})}}var gt=(e=>(e.DownloadMessages="download-messages",e.InviteUsersToWorkspace="invite-users-to-workspace",e.WorkspaceAppearance="workspace-appearance",e.KeyboardActions="keyboard-actions",e.UserContext="user-context",e.WorkspaceSwitcher="workspace-switcher",e.ReadOnlyConversationTemplate="read-only-conversation-template",e.CookieManagement="cookie-management",e.AgeVerificationInterstitial="age-verification-interstitial",e.GPTDetails="gpt-details",e.GPTPrivacySettings="gpt-privacy-settings",e.GPTFeedbackEmail="gpt-support-email",e.GPTReview="gpt-review",e.GPTRemoveThirdParty="gpt-remove-third-party",e.SharedConversationModeration="shared-conversation-moderation",e.ReportConversation="report-conversation",e.BlockingInitialComponent="blocking-initial-component",e.NoAuthNewChat="no-auth-new-chat",e.GlobalMemoryOnboarding="global-memory-onboarding",e.AccountPayment="account-payment",e.CreateExclusion="create-exclusion",e.AddServiceAccountKey="add-service-account-key",e.DeleteServiceAccountKey="delete-service-account-key",e))(gt||{});const U3=He.IsNavigationCollapsed,V3=He.IsGptListCollapsed;function dSe(){const e=Nt.getItem(U3)??!1;return mn.setCookie(cn.NavigationState,e?"0":"1",{maxAge:2**30}),{collapsed:e}}function fSe({collapsed:e}){Nt.setItem(U3,e),mn.setCookie(cn.NavigationState,e?"0":"1",{maxAge:2**30})}const we=Le()(()=>({isThreadHeaderVisible:!0,isDesktopNavCollapsed:dSe().collapsed,isVoiceActive:!1,sharingModalThreadId:void 0,feedbackModalThreadId:void 0,leaveWorkspaceData:null,activeSidebar:!1,activeStageSidebar:!1,activeModals:new Set,isLatencyDevToolsVisible:!1,purchaseWorkspaceData:null,isGptListCollapsed:Nt.getItem(V3)??!0,browseMode:"conversation",voiceFeedbackThread:null,lastVoiceSessionStartTime:null,lastVoiceSessionEndTime:null,displayAnnouncementTooltip:null})),sft={isThreadHeaderVisible:e=>e.isThreadHeaderVisible,isLatencyDevtoolsVisible:e=>e.isLatencyDevToolsVisible,isGptListCollapsed:e=>e.isGptListCollapsed},ze={setBrowseMode:e=>{we.setState(t=>({...t,browseMode:e}))},enterGizmoEditor:()=>{we.setState({browseMode:"gizmo-editor"})},exitGizmoEditor:()=>{we.setState({browseMode:"conversation"})},toggleGptListCollapsed:()=>{we.setState(e=>{const t=!e.isGptListCollapsed;return Nt.setItem(V3,t),E.logToggleShowGptList({isCollapsed:t}),{isGptListCollapsed:t}})},toggleNavSidebar:()=>{we.getState().activeStageSidebar?ze.togglePopoverNavSidebar():ze.toggleDesktopNavCollapsed()},togglePopoverNavSidebar:()=>{ze.toggleActiveSidebar("popover-nav")},closePopoverNavSidebar:()=>{we.setState(e=>e.activeSidebar==="popover-nav"?{activeSidebar:void 0}:{})},toggleDesktopNavCollapsed:e=>{we.setState(t=>{const n=e??!t.isDesktopNavCollapsed;return fSe({collapsed:n}),E.logToggleDesktopNavCollapsed({isDesktopNavCollapsed:n}),{isDesktopNavCollapsed:n}})},hideThreadHeader:()=>{we.setState({isThreadHeaderVisible:!1})},showThreadHeader:()=>{we.setState({isThreadHeaderVisible:!0})},openSharingModal(e,t){we.setState({sharingModalThreadId:e}),E.logEvent(P.shareConversationOpenModal,{location:t})},closeSharingModal(){we.setState({sharingModalThreadId:void 0})},openFeedbackModal(e){we.setState({feedbackModalThreadId:e})},closeFeedbackModal(){we.setState({feedbackModalThreadId:void 0})},setLeaveWorkspaceData(e){we.setState({leaveWorkspaceData:e})},setPurchaseWorkspaceData(e){we.setState({purchaseWorkspaceData:e})},setActiveSidebar(e){we.setState({activeSidebar:e})},toggleActiveSidebar(e){we.setState(t=>({activeSidebar:t.activeSidebar===e?!1:e}))},closeActiveSidebar(){we.setState(()=>({activeSidebar:!1}))},setActiveStageSidebar(e){we.setState({activeStageSidebar:e})},toggleModal(e){we.setState(t=>{const n=new Set(t.activeModals);return n.has(e)?n.delete(e):n.add(e),{activeModals:n}})},openModal(e){we.setState(t=>{const n=new Set(t.activeModals);return n.add(e),{activeModals:n}})},closeModal(e){we.setState(t=>{const n=new Set(t.activeModals);return n.delete(e),{activeModals:n}})},closeAllActiveModals(){we.setState({activeModals:new Set})},hideLatencyDevTools:()=>{we.setState({isLatencyDevToolsVisible:!1})},showLatencyDevTools:()=>{we.setState({isLatencyDevToolsVisible:!0})},showAnnouncementTooltipExclusively(e){we.setState(t=>t.displayAnnouncementTooltip?t:{displayAnnouncementTooltip:e})}};function P1(e){return we(t=>t.activeModals.has(e))}function jp(){const{isUnauthenticated:e}=It(),t=p.useContext(b$).getCookie(cn.NavigationState),n=we(r=>r.isDesktopNavCollapsed);return e?!0:t?t==="0":n}function hSe(){const[e,t]=p.useState(!1),n=we(r=>r.activeModals);return p.useEffect(()=>{t(r=>r||n.has("blocking-initial-component"))},[n]),e}const G3=typeof document<"u"?Q.useLayoutEffect:()=>{};function pSe(e){const t=p.useRef(null);return G3(()=>{t.current=e},[e]),p.useCallback((...n)=>{const r=t.current;return r?.(...n)},[])}const gl=e=>{var t;return(t=e?.ownerDocument)!==null&&t!==void 0?t:document},Ks=e=>e&&"window"in e&&e.window===e?e:gl(e).defaultView||window;function mSe(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(n=>e.test(n.brand)))||e.test(window.navigator.userAgent)}function gSe(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function W3(e){let t=null;return()=>(t==null&&(t=e()),t)}const vSe=W3(function(){return gSe(/^Mac/i)}),ySe=W3(function(){return mSe(/Android/i)});function bSe(e){return e.mozInputSource===0&&e.isTrusted?!0:ySe()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}class xSe{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(t,n){this.nativeEvent=n,this.target=n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget,this.bubbles=n.bubbles,this.cancelable=n.cancelable,this.defaultPrevented=n.defaultPrevented,this.eventPhase=n.eventPhase,this.isTrusted=n.isTrusted,this.timeStamp=n.timeStamp,this.type=t}}function H3(e){let t=p.useRef({isFocused:!1,observer:null});G3(()=>{const r=t.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=pSe(r=>{e?.(r)});return p.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){t.current.isFocused=!0;let s=r.target,o=a=>{t.current.isFocused=!1,s.disabled&&n(new xSe("blur",a)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};s.addEventListener("focusout",o,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&s.disabled){var a;(a=t.current.observer)===null||a===void 0||a.disconnect();let c=s===document.activeElement?null:document.activeElement;s.dispatchEvent(new FocusEvent("blur",{relatedTarget:c})),s.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:c}))}}),t.current.observer.observe(s,{attributes:!0,attributeFilter:["disabled"]})}},[n])}function wSe(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:s}=e;const o=p.useCallback(l=>{if(l.target===l.currentTarget)return r&&r(l),s&&s(!1),!0},[r,s]),a=H3(o),c=p.useCallback(l=>{const u=gl(l.target);l.target===l.currentTarget&&u.activeElement===l.target&&(n&&n(l),s&&s(!0),a(l))},[s,n,a]);return{focusProps:{onFocus:!t&&(n||s||r)?c:void 0,onBlur:!t&&(r||s)?o:void 0}}}let vl=null,L0=new Set,tc=new Map,vo=!1,F0=!1;const SSe={Tab:!0,Escape:!0};function $1(e,t){for(let n of L0)n(e,t)}function CSe(e){return!(e.metaKey||!vSe()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function Gf(e){vo=!0,CSe(e)&&(vl="keyboard",$1("keyboard",e))}function On(e){vl="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(vo=!0,$1("pointer",e))}function z3(e){bSe(e)&&(vo=!0,vl="virtual")}function q3(e){e.target===window||e.target===document||(!vo&&!F0&&(vl="virtual",$1("virtual",e)),vo=!1,F0=!1)}function Y3(){vo=!1,F0=!0}function B0(e){if(typeof window>"u"||tc.get(Ks(e)))return;const t=Ks(e),n=gl(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){vo=!0,r.apply(this,arguments)},n.addEventListener("keydown",Gf,!0),n.addEventListener("keyup",Gf,!0),n.addEventListener("click",z3,!0),t.addEventListener("focus",q3,!0),t.addEventListener("blur",Y3,!1),typeof PointerEvent<"u"?(n.addEventListener("pointerdown",On,!0),n.addEventListener("pointermove",On,!0),n.addEventListener("pointerup",On,!0)):(n.addEventListener("mousedown",On,!0),n.addEventListener("mousemove",On,!0),n.addEventListener("mouseup",On,!0)),t.addEventListener("beforeunload",()=>{K3(e)},{once:!0}),tc.set(t,{focus:r})}const K3=(e,t)=>{const n=Ks(e),r=gl(e);t&&r.removeEventListener("DOMContentLoaded",t),tc.has(n)&&(n.HTMLElement.prototype.focus=tc.get(n).focus,r.removeEventListener("keydown",Gf,!0),r.removeEventListener("keyup",Gf,!0),r.removeEventListener("click",z3,!0),n.removeEventListener("focus",q3,!0),n.removeEventListener("blur",Y3,!1),typeof PointerEvent<"u"?(r.removeEventListener("pointerdown",On,!0),r.removeEventListener("pointermove",On,!0),r.removeEventListener("pointerup",On,!0)):(r.removeEventListener("mousedown",On,!0),r.removeEventListener("mousemove",On,!0),r.removeEventListener("mouseup",On,!0)),tc.delete(n))};function _Se(e){const t=gl(e);let n;return t.readyState!=="loading"?B0(e):(n=()=>{B0(e)},t.addEventListener("DOMContentLoaded",n)),()=>K3(e,n)}typeof document<"u"&&_Se();function Q3(){return vl!=="pointer"}const TSe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function kSe(e,t,n){var r;const s=typeof window<"u"?Ks(n?.target).HTMLInputElement:HTMLInputElement,o=typeof window<"u"?Ks(n?.target).HTMLTextAreaElement:HTMLTextAreaElement,a=typeof window<"u"?Ks(n?.target).HTMLElement:HTMLElement,c=typeof window<"u"?Ks(n?.target).KeyboardEvent:KeyboardEvent;return e=e||n?.target instanceof s&&!TSe.has(n==null||(r=n.target)===null||r===void 0?void 0:r.type)||n?.target instanceof o||n?.target instanceof a&&n?.target.isContentEditable,!(e&&t==="keyboard"&&n instanceof c&&!SSe[n.key])}function MSe(e,t,n){B0(),p.useEffect(()=>{let r=(s,o)=>{kSe(!!n?.isTextInput,s,o)&&e(Q3())};return L0.add(r),()=>{L0.delete(r)}},t)}function ESe(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:s}=e,o=p.useRef({isFocusWithin:!1}),a=p.useCallback(u=>{o.current.isFocusWithin&&!u.currentTarget.contains(u.relatedTarget)&&(o.current.isFocusWithin=!1,n&&n(u),s&&s(!1))},[n,s,o]),c=H3(a),l=p.useCallback(u=>{!o.current.isFocusWithin&&document.activeElement===u.target&&(r&&r(u),s&&s(!0),o.current.isFocusWithin=!0,c(u))},[r,s,c]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:l,onBlur:a}}}let Wf=!1,Og=0;function U0(){Wf=!0,setTimeout(()=>{Wf=!1},50)}function YM(e){e.pointerType==="touch"&&U0()}function PSe(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",YM):document.addEventListener("touchend",U0),Og++,()=>{Og--,!(Og>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",YM):document.removeEventListener("touchend",U0))}}function oft(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:s}=e,[o,a]=p.useState(!1),c=p.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;p.useEffect(PSe,[]);let{hoverProps:l,triggerHoverEnd:u}=p.useMemo(()=>{let d=(m,g)=>{if(c.pointerType=g,s||g==="touch"||c.isHovered||!m.currentTarget.contains(m.target))return;c.isHovered=!0;let v=m.currentTarget;c.target=v,t&&t({type:"hoverstart",target:v,pointerType:g}),n&&n(!0),a(!0)},f=(m,g)=>{if(c.pointerType="",c.target=null,g==="touch"||!c.isHovered)return;c.isHovered=!1;let v=m.currentTarget;r&&r({type:"hoverend",target:v,pointerType:g}),n&&n(!1),a(!1)},h={};return typeof PointerEvent<"u"?(h.onPointerEnter=m=>{Wf&&m.pointerType==="mouse"||d(m,m.pointerType)},h.onPointerLeave=m=>{!s&&m.currentTarget.contains(m.target)&&f(m,m.pointerType)}):(h.onTouchStart=()=>{c.ignoreEmulatedMouseEvents=!0},h.onMouseEnter=m=>{!c.ignoreEmulatedMouseEvents&&!Wf&&d(m,"mouse"),c.ignoreEmulatedMouseEvents=!1},h.onMouseLeave=m=>{!s&&m.currentTarget.contains(m.target)&&f(m,"mouse")}),{hoverProps:h,triggerHoverEnd:f}},[t,n,r,s,c]);return p.useEffect(()=>{s&&u({currentTarget:c.target},c.pointerType)},[s]),{hoverProps:l,isHovered:o}}function aft(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,s=p.useRef({isFocused:!1,isFocusVisible:t||Q3()}),[o,a]=p.useState(!1),[c,l]=p.useState(()=>s.current.isFocused&&s.current.isFocusVisible),u=p.useCallback(()=>l(s.current.isFocused&&s.current.isFocusVisible),[]),d=p.useCallback(m=>{s.current.isFocused=m,a(m),u()},[u]);MSe(m=>{s.current.isFocusVisible=m,u()},[],{isTextInput:n});let{focusProps:f}=wSe({isDisabled:r,onFocusChange:d}),{focusWithinProps:h}=ESe({isDisabled:!r,onFocusWithinChange:d});return{isFocused:o,isFocusVisible:c,focusProps:r?h:f}}var $Se=Object.defineProperty,ASe=(e,t,n)=>t in e?$Se(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ng=(e,t,n)=>(ASe(e,typeof t!="symbol"?t+"":t,n),n);let OSe=class{constructor(){Ng(this,"current",this.detect()),Ng(this,"handoffState","pending"),Ng(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},so=new OSe;function Ao(e){return so.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}function Rp(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Wr(){let e=[],t={addEventListener(n,r,s,o){return n.addEventListener(r,s,o),t.add(()=>n.removeEventListener(r,s,o))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Rp(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,s){let o=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:s}),this.add(()=>{Object.assign(n.style,{[r]:o})})},group(n){let r=Wr();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let s of e.splice(r,1))s()}},dispose(){for(let n of e.splice(0))n()}};return t}function Dp(){let[e]=p.useState(Wr);return p.useEffect(()=>()=>e.dispose(),[e]),e}let kt=(e,t)=>{so.isServer?p.useEffect(e,t):p.useLayoutEffect(e,t)};function Oo(e){let t=p.useRef(e);return kt(()=>{t.current=e},[e]),t}let Be=function(e){let t=Oo(e);return Q.useCallback((...n)=>t.current(...n),[t])};function NSe(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function ISe(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function cft({disabled:e=!1}={}){let t=p.useRef(null),[n,r]=p.useState(!1),s=Dp(),o=Be(()=>{t.current=null,r(!1),s.dispose()}),a=Be(c=>{if(s.dispose(),t.current===null){t.current=c.currentTarget,r(!0);{let l=Ao(c.currentTarget);s.addEventListener(l,"pointerup",o,!1),s.addEventListener(l,"pointermove",u=>{if(t.current){let d=NSe(u);r(ISe(d,t.current.getBoundingClientRect()))}},!1),s.addEventListener(l,"pointercancel",o,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:a,onPointerUp:o,onClick:o}}}let jSe=p.createContext(void 0);function X3(){return p.useContext(jSe)}function V0(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function xs(e,t,...n){if(e in t){let s=t[e];return typeof s=="function"?s(...n):s}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,xs),r}var Hf=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Hf||{}),ls=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(ls||{});function Pn({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:s,visible:o=!0,name:a,mergeRefs:c}){c=c??RSe;let l=Z3(t,e);if(o)return ou(l,n,r,a,c);let u=s??0;if(u&2){let{static:d=!1,...f}=l;if(d)return ou(f,n,r,a,c)}if(u&1){let{unmount:d=!0,...f}=l;return xs(d?0:1,{0(){return null},1(){return ou({...f,hidden:!0,style:{display:"none"}},n,r,a,c)}})}return ou(l,n,r,a,c)}function ou(e,t={},n,r,s){let{as:o=n,children:a,refName:c="ref",...l}=Ig(e,["unmount","static"]),u=e.ref!==void 0?{[c]:e.ref}:{},d=typeof a=="function"?a(t):a;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(t)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let f={};if(t){let h=!1,m=[];for(let[g,v]of Object.entries(t))typeof v=="boolean"&&(h=!0),v===!0&&m.push(g.replace(/([A-Z])/g,y=>`-${y.toLowerCase()}`));if(h){f["data-headlessui-state"]=m.join(" ");for(let g of m)f[`data-${g}`]=""}}if(o===p.Fragment&&(Object.keys(Bs(l)).length>0||Object.keys(Bs(f)).length>0))if(!p.isValidElement(d)||Array.isArray(d)&&d.length>1){if(Object.keys(Bs(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Bs(l)).concat(Object.keys(Bs(f))).map(h=>`  - ${h}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(h=>`  - ${h}`).join(`
`)].join(`
`))}else{let h=d.props,m=h?.className,g=typeof m=="function"?(...x)=>V0(m(...x),l.className):V0(m,l.className),v=g?{className:g}:{},y=Z3(d.props,Bs(Ig(l,["ref"])));for(let x in f)x in y&&delete f[x];return p.cloneElement(d,Object.assign({},y,f,u,{ref:s(d.ref,u.ref)},v))}return p.createElement(o,Object.assign({},Ig(l,["ref"]),o!==p.Fragment&&u,o!==p.Fragment&&f),d)}function lft(){let e=p.useRef([]),t=p.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function RSe(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function Z3(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):t[s]=r[s];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[s=>{var o;return(o=s?.preventDefault)==null?void 0:o.call(s)}]);for(let r in n)Object.assign(t,{[r](s,...o){let a=n[r];for(let c of a){if((s instanceof Event||s?.nativeEvent instanceof Event)&&s.defaultPrevented)return;c(s,...o)}}});return t}function uft(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):t[s]=r[s];for(let r in n)Object.assign(t,{[r](...s){let o=n[r];for(let a of o)a?.(...s)}});return t}function ln(e){var t;return Object.assign(p.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Bs(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function Ig(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}let DSe="span";var zf=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(zf||{});function LSe(e,t){var n;let{features:r=1,...s}=e,o={ref:t,"aria-hidden":(r&2)===2?!0:(n=s["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Pn({ourProps:o,theirProps:s,slot:{},defaultTag:DSe,name:"Hidden"})}let G0=ln(LSe),FSe=p.createContext(void 0);function BSe(){return p.useContext(FSe)}function dft(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=t?.getAttribute("disabled")==="";return r&&USe(n)?!1:r}function USe(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}let J3=Symbol();function VSe(e,t=!0){return Object.assign(e,{[J3]:t})}function Qn(...e){let t=p.useRef(e);p.useEffect(()=>{t.current=e},[e]);let n=Be(r=>{for(let s of t.current)s!=null&&(typeof s=="function"?s(r):s.current=r)});return e.every(r=>r==null||r?.[J3])?void 0:n}let A1=p.createContext(null);A1.displayName="DescriptionContext";function eD(){let e=p.useContext(A1);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,eD),t}return e}function GSe(){let[e,t]=p.useState([]);return[e.length>0?e.join(" "):void 0,p.useMemo(()=>function(n){let r=Be(o=>(t(a=>[...a,o]),()=>t(a=>{let c=a.slice(),l=c.indexOf(o);return l!==-1&&c.splice(l,1),c}))),s=p.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return Q.createElement(A1.Provider,{value:s},n.children)},[t])]}let WSe="p";function HSe(e,t){let n=p.useId(),r=X3(),{id:s=`headlessui-description-${n}`,...o}=e,a=eD(),c=Qn(t);kt(()=>a.register(s),[s,a.register]);let l=r||!1,u=p.useMemo(()=>({...a.slot,disabled:l}),[a.slot,l]),d={ref:c,...a.props,id:s};return Pn({ourProps:d,theirProps:o,slot:u,defaultTag:WSe,name:a.name||"Description"})}let zSe=ln(HSe),qSe=Object.assign(zSe,{});var tD=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(tD||{});let Lp=p.createContext(null);Lp.displayName="LabelContext";function nD(){let e=p.useContext(Lp);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,nD),t}return e}function YSe(e){var t,n,r;let s=(n=(t=p.useContext(Lp))==null?void 0:t.value)!=null?n:void 0;return((r=void 0)!=null?r:0)>0?[s,...e].filter(Boolean).join(" "):s}function fft({inherit:e=!1}={}){let t=YSe(),[n,r]=p.useState([]),s=e?[t,...n].filter(Boolean):n;return[s.length>0?s.join(" "):void 0,p.useMemo(()=>function(o){let a=Be(l=>(r(u=>[...u,l]),()=>r(u=>{let d=u.slice(),f=d.indexOf(l);return f!==-1&&d.splice(f,1),d}))),c=p.useMemo(()=>({register:a,slot:o.slot,name:o.name,props:o.props,value:o.value}),[a,o.slot,o.name,o.props,o.value]);return Q.createElement(Lp.Provider,{value:c},o.children)},[r])]}let KSe="label";function QSe(e,t){var n;let r=p.useId(),s=nD(),o=BSe(),a=X3(),{id:c=`headlessui-label-${r}`,htmlFor:l=o??((n=s.props)==null?void 0:n.htmlFor),passive:u=!1,...d}=e,f=Qn(t);kt(()=>s.register(c),[c,s.register]);let h=Be(y=>{let x=y.currentTarget;if(x instanceof HTMLLabelElement&&y.preventDefault(),s.props&&"onClick"in s.props&&typeof s.props.onClick=="function"&&s.props.onClick(y),x instanceof HTMLLabelElement){let b=document.getElementById(x.htmlFor);if(b){let w=b.getAttribute("disabled");if(w==="true"||w==="")return;let C=b.getAttribute("aria-disabled");if(C==="true"||C==="")return;(b instanceof HTMLInputElement&&(b.type==="radio"||b.type==="checkbox")||b.role==="radio"||b.role==="checkbox"||b.role==="switch")&&b.click(),b.focus({preventScroll:!0})}}}),m=a||!1,g=p.useMemo(()=>({...s.slot,disabled:m}),[s.slot,m]),v={ref:f,...s.props,id:c,htmlFor:l,onClick:h};return u&&("onClick"in v&&(delete v.htmlFor,delete v.onClick),"onClick"in d&&delete d.onClick),Pn({ourProps:v,theirProps:d,slot:g,defaultTag:l?KSe:"div",name:s.name||"Label"})}let XSe=ln(QSe);Object.assign(XSe,{});let ZSe=p.createContext(()=>{});function JSe({value:e,children:t}){return Q.createElement(ZSe.Provider,{value:e},t)}function eCe(e){if(e===null)return{width:0,height:0};let{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}function hft(e,t=!1){let[n,r]=p.useReducer(()=>({}),{}),s=p.useMemo(()=>eCe(e),[e,n]);return kt(()=>{if(!e)return;let o=new ResizeObserver(r);return o.observe(e),()=>{o.disconnect()}},[e]),t?{width:`${s.width}px`,height:`${s.height}px`}:s}let tCe=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};function rD(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(s){return r.add(s),()=>r.delete(s)},dispatch(s,...o){let a=t[s].call(n,...o);a&&(n=a,r.forEach(c=>c()))}}}function sD(e){return p.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}let nCe=new tCe(()=>rD(()=>[],{ADD(e){return this.includes(e)?this:[...this,e]},REMOVE(e){let t=this.indexOf(e);if(t===-1)return this;let n=this.slice();return n.splice(t,1),n}}));function hi(e,t){let n=nCe.get(t),r=p.useId(),s=sD(n);if(kt(()=>{if(e)return n.dispatch("ADD",r),()=>n.dispatch("REMOVE",r)},[n,e]),!e)return!1;let o=s.indexOf(r),a=s.length;return o===-1&&(o=a,a+=1),o===a-1}let W0=new Map,nc=new Map;function KM(e){var t;let n=(t=nc.get(e))!=null?t:0;return nc.set(e,n+1),n!==0?()=>QM(e):(W0.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>QM(e))}function QM(e){var t;let n=(t=nc.get(e))!=null?t:1;if(n===1?nc.delete(e):nc.set(e,n-1),n!==1)return;let r=W0.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,W0.delete(e))}function rCe(e,{allowed:t,disallowed:n}={}){let r=hi(e,"inert-others");kt(()=>{var s,o;if(!r)return;let a=Wr();for(let l of(s=n?.())!=null?s:[])l&&a.add(KM(l));let c=(o=t?.())!=null?o:[];for(let l of c){if(!l)continue;let u=Ao(l);if(!u)continue;let d=l.parentElement;for(;d&&d!==u.body;){for(let f of d.children)c.some(h=>f.contains(h))||a.add(KM(f));d=d.parentElement}}return a.dispose},[r,t,n])}function sCe(e,t,n){let r=Oo(s=>{let o=s.getBoundingClientRect();o.x===0&&o.y===0&&o.width===0&&o.height===0&&n()});p.useEffect(()=>{if(!e)return;let s=t===null?null:t instanceof HTMLElement?t:t.current;if(!s)return;let o=Wr();if(typeof ResizeObserver<"u"){let a=new ResizeObserver(()=>r.current(s));a.observe(s),o.add(()=>a.disconnect())}if(typeof IntersectionObserver<"u"){let a=new IntersectionObserver(()=>r.current(s));a.observe(s),o.add(()=>a.disconnect())}return()=>o.dispose()},[t,r,e])}let qf=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),oCe=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var kr=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(kr||{}),H0=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(H0||{}),aCe=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(aCe||{});function oD(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(qf)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function iCe(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(oCe)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var aD=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(aD||{});function iD(e,t=0){var n;return e===((n=Ao(e))==null?void 0:n.body)?!1:xs(t,{0(){return e.matches(qf)},1(){let r=e;for(;r!==null;){if(r.matches(qf))return!0;r=r.parentElement}return!1}})}function mft(e){let t=Ao(e);Wr().nextFrame(()=>{t&&!iD(t.activeElement,0)&&gr(e)})}var cCe=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(cCe||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function gr(e){e?.focus({preventScroll:!0})}let lCe=["textarea","input"].join(",");function uCe(e){var t,n;return(n=(t=e?.matches)==null?void 0:t.call(e,lCe))!=null?n:!1}function dCe(e,t=n=>n){return e.slice().sort((n,r)=>{let s=t(n),o=t(r);if(s===null||o===null)return 0;let a=s.compareDocumentPosition(o);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function gft(e,t){return ma(oD(),t,{relativeTo:e})}function ma(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:s=[]}={}){let o=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,a=Array.isArray(e)?n?dCe(e):e:t&64?iCe(e):oD(e);s.length>0&&a.length>1&&(a=a.filter(m=>!s.some(g=>g!=null&&"current"in g?g?.current===m:g===m))),r=r??o.activeElement;let c=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,a.indexOf(r))-1;if(t&4)return Math.max(0,a.indexOf(r))+1;if(t&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},d=0,f=a.length,h;do{if(d>=f||d+f<=0)return 0;let m=l+d;if(t&16)m=(m+f)%f;else{if(m<0)return 3;if(m>=f)return 1}h=a[m],h?.focus(u),d+=c}while(h!==o.activeElement);return t&6&&uCe(h)&&h.select(),2}function cD(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function fCe(){return/Android/gi.test(window.navigator.userAgent)}function hCe(){return cD()||fCe()}function Ni(e,t,n,r){let s=Oo(n);p.useEffect(()=>{if(!e)return;function o(a){s.current(a)}return document.addEventListener(t,o,r),()=>document.removeEventListener(t,o,r)},[e,t,r])}function lD(e,t,n,r){let s=Oo(n);p.useEffect(()=>{if(!e)return;function o(a){s.current(a)}return window.addEventListener(t,o,r),()=>window.removeEventListener(t,o,r)},[e,t,r])}const XM=30;function pCe(e,t,n){let r=hi(e,"outside-click"),s=Oo(n),o=p.useCallback(function(l,u){if(l.defaultPrevented)return;let d=u(l);if(d===null||!d.getRootNode().contains(d)||!d.isConnected)return;let f=function h(m){return typeof m=="function"?h(m()):Array.isArray(m)||m instanceof Set?m:[m]}(t);for(let h of f)if(h!==null&&(h.contains(d)||l.composed&&l.composedPath().includes(h)))return;return!iD(d,aD.Loose)&&d.tabIndex!==-1&&l.preventDefault(),s.current(l,d)},[s,t]),a=p.useRef(null);Ni(r,"pointerdown",l=>{var u,d;a.current=((d=(u=l.composedPath)==null?void 0:u.call(l))==null?void 0:d[0])||l.target},!0),Ni(r,"mousedown",l=>{var u,d;a.current=((d=(u=l.composedPath)==null?void 0:u.call(l))==null?void 0:d[0])||l.target},!0),Ni(r,"click",l=>{hCe()||a.current&&(o(l,()=>a.current),a.current=null)},!0);let c=p.useRef({x:0,y:0});Ni(r,"touchstart",l=>{c.current.x=l.touches[0].clientX,c.current.y=l.touches[0].clientY},!0),Ni(r,"touchend",l=>{let u={x:l.changedTouches[0].clientX,y:l.changedTouches[0].clientY};if(!(Math.abs(u.x-c.current.x)>=XM||Math.abs(u.y-c.current.y)>=XM))return o(l,()=>l.target instanceof HTMLElement?l.target:null)},!0),lD(r,"blur",l=>o(l,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function yl(...e){return p.useMemo(()=>Ao(...e),[...e])}function uD(e,t,n,r){let s=Oo(n);p.useEffect(()=>{e=e??window;function o(a){s.current(a)}return e.addEventListener(t,o,r),()=>e.removeEventListener(t,o,r)},[e,t,r])}function vft(e,t){return p.useMemo(()=>{var n;if(e.type)return e.type;let r=(n=e.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||t?.tagName==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function mCe(){let e;return{before({doc:t}){var n;let r=t.documentElement,s=(n=t.defaultView)!=null?n:window;e=Math.max(0,s.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,s=Math.max(0,r.clientWidth-r.offsetWidth),o=Math.max(0,e-s);n.style(r,"paddingRight",`${o}px`)}}}function gCe(){return cD()?{before({doc:e,d:t,meta:n}){function r(s){return n.containers.flatMap(o=>o()).some(o=>o.contains(s))}t.microTask(()=>{var s;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let c=Wr();c.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>c.dispose()))}let o=(s=window.scrollY)!=null?s:window.pageYOffset,a=null;t.addEventListener(e,"click",c=>{if(c.target instanceof HTMLElement)try{let l=c.target.closest("a");if(!l)return;let{hash:u}=new URL(l.href),d=e.querySelector(u);d&&!r(d)&&(a=d)}catch{}},!0),t.addEventListener(e,"touchstart",c=>{if(c.target instanceof HTMLElement)if(r(c.target)){let l=c.target;for(;l.parentElement&&r(l.parentElement);)l=l.parentElement;t.style(l,"overscrollBehavior","contain")}else t.style(c.target,"touchAction","none")}),t.addEventListener(e,"touchmove",c=>{if(c.target instanceof HTMLElement){if(c.target.tagName==="INPUT")return;if(r(c.target)){let l=c.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&c.preventDefault()}else c.preventDefault()}},{passive:!1}),t.add(()=>{var c;let l=(c=window.scrollY)!=null?c:window.pageYOffset;o!==l&&window.scrollTo(0,o),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}:{}}function vCe(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function yCe(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let Qs=rD(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:Wr(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:yCe(n)},s=[gCe(),mCe(),vCe()];s.forEach(({before:o})=>o?.(r)),s.forEach(({after:o})=>o?.(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Qs.subscribe(()=>{let e=Qs.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",s=n.count!==0;(s&&!r||!s&&r)&&Qs.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Qs.dispatch("TEARDOWN",n)}});function bCe(e,t,n=()=>({containers:[]})){let r=sD(Qs),s=t?r.get(t):void 0,o=s?s.count>0:!1;return kt(()=>{if(!(!t||!e))return Qs.dispatch("PUSH",t,n),()=>Qs.dispatch("POP",t,n)},[e,t]),o}function xCe(e,t,n=()=>[document.body]){let r=hi(e,"scroll-lock");bCe(r,t,s=>{var o;return{containers:[...(o=s.containers)!=null?o:[],n]}})}function ZM(e){return[e.screenX,e.screenY]}function yft(){let e=p.useRef([-1,-1]);return{wasMoved(t){let n=ZM(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=ZM(t)}}}function wCe(e=0){let[t,n]=p.useState(e),r=p.useCallback(l=>n(l),[t]),s=p.useCallback(l=>n(u=>u|l),[t]),o=p.useCallback(l=>(t&l)===l,[t]),a=p.useCallback(l=>n(u=>u&~l),[n]),c=p.useCallback(l=>n(u=>u^l),[n]);return{flags:t,setFlag:r,addFlag:s,hasFlag:o,removeFlag:a,toggleFlag:c}}var SCe={},JM,eE;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((JM=process==null?void 0:SCe)==null?void 0:JM.NODE_ENV)==="test"&&typeof((eE=Element?.prototype)==null?void 0:eE.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var CCe=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(CCe||{});function _Ce(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function TCe(e,t,n,r){let[s,o]=p.useState(n),{hasFlag:a,addFlag:c,removeFlag:l}=wCe(e&&s?3:0),u=p.useRef(!1),d=p.useRef(!1),f=Dp();return kt(()=>{var h;if(e){if(n&&o(!0),!t){n&&c(3);return}return(h=r?.start)==null||h.call(r,n),kCe(t,{inFlight:u,prepare(){d.current?d.current=!1:d.current=u.current,u.current=!0,!d.current&&(n?(c(3),l(4)):(c(4),l(2)))},run(){d.current?n?(l(3),c(4)):(l(4),c(3)):n?l(1):c(1)},done(){var m;d.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(u.current=!1,l(7),n||o(!1),(m=r?.end)==null||m.call(r,n))}})}},[e,n,t,f]),e?[s,{closed:a(1),enter:a(2),leave:a(4),transition:a(2)||a(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function kCe(e,{prepare:t,run:n,done:r,inFlight:s}){let o=Wr();return ECe(e,{prepare:t,inFlight:s}),o.nextFrame(()=>{n(),o.requestAnimationFrame(()=>{o.add(MCe(e,r))})}),o.dispose}function MCe(e,t){var n,r;let s=Wr();if(!e)return s.dispose;let o=!1;s.add(()=>{o=!0});let a=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(c=>c instanceof CSSTransition))!=null?r:[];return a.length===0?(t(),s.dispose):(Promise.allSettled(a.map(c=>c.finished)).then(()=>{o||t()}),s.dispose)}function ECe(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function bft(e,{container:t,accept:n,walk:r}){let s=p.useRef(n),o=p.useRef(r);p.useEffect(()=>{s.current=n,o.current=r},[n,r]),kt(()=>{if(!t||!e)return;let a=Ao(t);if(!a)return;let c=s.current,l=o.current,u=Object.assign(f=>c(f),{acceptNode:c}),d=a.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,u,!1);for(;d.nextNode();)l(d.currentNode)},[t,e,s,o])}function O1(e,t){let n=p.useRef([]),r=Be(e);p.useEffect(()=>{let s=[...n.current];for(let[o,a]of t.entries())if(n.current[o]!==a){let c=r(t,s);return n.current=t,c}},[r,...t])}function xft(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}let Fp=p.createContext(null);Fp.displayName="OpenClosedContext";var Hn=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Hn||{});function Bp(){return p.useContext(Fp)}function PCe({value:e,children:t}){return Q.createElement(Fp.Provider,{value:e},t)}function $Ce({children:e}){return Q.createElement(Fp.Provider,{value:null},e)}function ACe(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let ts=[];ACe(()=>{function e(t){if(!(t.target instanceof HTMLElement)||t.target===document.body||ts[0]===t.target)return;let n=t.target;n=n.closest(qf),ts.unshift(n??t.target),ts=ts.filter(r=>r!=null&&r.isConnected),ts.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function OCe(e){throw new Error("Unexpected object: "+e)}var NCe=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(NCe||{});function wft(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),s=r??-1;switch(e.focus){case 0:{for(let o=0;o<n.length;++o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 1:{s===-1&&(s=n.length);for(let o=s-1;o>=0;--o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 2:{for(let o=s+1;o<n.length;++o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 3:{for(let o=n.length-1;o>=0;--o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 4:{for(let o=0;o<n.length;++o)if(t.resolveId(n[o],o,n)===e.id)return o;return r}case 5:return null;default:OCe(e)}}function dD(e){let t=Be(e),n=p.useRef(!1);p.useEffect(()=>(n.current=!1,()=>{n.current=!0,Rp(()=>{n.current&&t()})}),[t])}function ICe(){let e=typeof document>"u";return"useSyncExternalStore"in BS?(t=>t.useSyncExternalStore)(BS)(()=>()=>{},()=>!1,()=>!e):!1}function bl(){let e=ICe(),[t,n]=p.useState(so.isHandoffComplete);return t&&so.isHandoffComplete===!1&&n(!1),p.useEffect(()=>{t!==!0&&n(!0)},[t]),p.useEffect(()=>so.handoff(),[]),e?!1:t}let fD=p.createContext(!1);function jCe(){return p.useContext(fD)}function tE(e){return Q.createElement(fD.Provider,{value:e.force},e.children)}function RCe(e){let t=jCe(),n=p.useContext(pD),r=yl(e),[s,o]=p.useState(()=>{var a;if(!t&&n!==null)return(a=n.current)!=null?a:null;if(so.isServer)return null;let c=r?.getElementById("headlessui-portal-root");if(c)return c;if(r===null)return null;let l=r.createElement("div");return l.setAttribute("id","headlessui-portal-root"),r.body.appendChild(l)});return p.useEffect(()=>{s!==null&&(r!=null&&r.body.contains(s)||r==null||r.body.appendChild(s))},[s,r]),p.useEffect(()=>{t||n!==null&&o(n.current)},[n,o,t]),s}let hD=p.Fragment,DCe=ln(function(e,t){let n=e,r=p.useRef(null),s=Qn(VSe(d=>{r.current=d}),t),o=yl(r),a=RCe(r),[c]=p.useState(()=>{var d;return so.isServer?null:(d=o?.createElement("div"))!=null?d:null}),l=p.useContext(z0),u=bl();return kt(()=>{!a||!c||a.contains(c)||(c.setAttribute("data-headlessui-portal",""),a.appendChild(c))},[a,c]),kt(()=>{if(c&&l)return l.register(c)},[l,c]),dD(()=>{var d;!a||!c||(c instanceof Node&&a.contains(c)&&a.removeChild(c),a.childNodes.length<=0&&((d=a.parentElement)==null||d.removeChild(a)))}),u?!a||!c?null:ac.createPortal(Pn({ourProps:{ref:s},theirProps:n,slot:{},defaultTag:hD,name:"Portal"}),c):null});function LCe(e,t){let n=Qn(t),{enabled:r=!0,...s}=e;return r?Q.createElement(DCe,{...s,ref:n}):Pn({ourProps:{ref:n},theirProps:s,slot:{},defaultTag:hD,name:"Portal"})}let FCe=p.Fragment,pD=p.createContext(null);function BCe(e,t){let{target:n,...r}=e,s={ref:Qn(t)};return Q.createElement(pD.Provider,{value:n},Pn({ourProps:s,theirProps:r,defaultTag:FCe,name:"Popover.Group"}))}let z0=p.createContext(null);function UCe(){let e=p.useContext(z0),t=p.useRef([]),n=Be(o=>(t.current.push(o),e&&e.register(o),()=>r(o))),r=Be(o=>{let a=t.current.indexOf(o);a!==-1&&t.current.splice(a,1),e&&e.unregister(o)}),s=p.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,p.useMemo(()=>function({children:o}){return Q.createElement(z0.Provider,{value:s},o)},[s])]}let VCe=ln(LCe),mD=ln(BCe),GCe=Object.assign(VCe,{Group:mD});function WCe(e,t=typeof document<"u"?document.defaultView:null,n){let r=hi(e,"escape");uD(t,"keydown",s=>{r&&(s.defaultPrevented||s.key===tD.Escape&&n(s))})}function HCe(){var e;let[t]=p.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=p.useState((e=t?.matches)!=null?e:!1);return kt(()=>{if(!t)return;function s(o){r(o.matches)}return t.addEventListener("change",s),()=>t.removeEventListener("change",s)},[t]),n}function zCe({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=yl(n),s=Be(()=>{var o,a;let c=[];for(let l of e)l!==null&&(l instanceof HTMLElement?c.push(l):"current"in l&&l.current instanceof HTMLElement&&c.push(l.current));if(t!=null&&t.current)for(let l of t.current)c.push(l);for(let l of(o=r?.querySelectorAll("html > *, body > *"))!=null?o:[])l!==document.body&&l!==document.head&&l instanceof HTMLElement&&l.id!=="headlessui-portal-root"&&(n&&(l.contains(n)||l.contains((a=n?.getRootNode())==null?void 0:a.host))||c.some(u=>l.contains(u))||c.push(l));return c});return{resolveContainers:s,contains:Be(o=>s().some(a=>a.contains(o)))}}let gD=p.createContext(null);function nE({children:e,node:t}){let[n,r]=p.useState(null),s=vD(t??n);return Q.createElement(gD.Provider,{value:s},e,s===null&&Q.createElement(G0,{features:zf.Hidden,ref:o=>{var a,c;if(o){for(let l of(c=(a=Ao(o))==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?c:[])if(l!==document.body&&l!==document.head&&l instanceof HTMLElement&&l!=null&&l.contains(o)){r(l);break}}}}))}function vD(e=null){var t;return(t=p.useContext(gD))!=null?t:e}function N1(){let e=p.useRef(!1);return kt(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var Ui=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Ui||{});function qCe(){let e=p.useRef(0);return lD(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function yD(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}let YCe="div";var Hs=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(Hs||{});function KCe(e,t){let n=p.useRef(null),r=Qn(n,t),{initialFocus:s,initialFocusFallback:o,containers:a,features:c=15,...l}=e;bl()||(c=0);let u=yl(n);JCe(c,{ownerDocument:u});let d=e_e(c,{ownerDocument:u,container:n,initialFocus:s,initialFocusFallback:o});t_e(c,{ownerDocument:u,container:n,containers:a,previousActiveElement:d});let f=qCe(),h=Be(x=>{let b=n.current;b&&(w=>w())(()=>{xs(f.current,{[Ui.Forwards]:()=>{ma(b,kr.First,{skipElements:[x.relatedTarget,o]})},[Ui.Backwards]:()=>{ma(b,kr.Last,{skipElements:[x.relatedTarget,o]})}})})}),m=hi(!!(c&2),"focus-trap#tab-lock"),g=Dp(),v=p.useRef(!1),y={ref:r,onKeyDown(x){x.key=="Tab"&&(v.current=!0,g.requestAnimationFrame(()=>{v.current=!1}))},onBlur(x){if(!(c&4))return;let b=yD(a);n.current instanceof HTMLElement&&b.add(n.current);let w=x.relatedTarget;w instanceof HTMLElement&&w.dataset.headlessuiFocusGuard!=="true"&&(bD(b,w)||(v.current?ma(n.current,xs(f.current,{[Ui.Forwards]:()=>kr.Next,[Ui.Backwards]:()=>kr.Previous})|kr.WrapAround,{relativeTo:x.target}):x.target instanceof HTMLElement&&gr(x.target)))}};return Q.createElement(Q.Fragment,null,m&&Q.createElement(G0,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:zf.Focusable}),Pn({ourProps:y,theirProps:l,defaultTag:YCe,name:"FocusTrap"}),m&&Q.createElement(G0,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:zf.Focusable}))}let QCe=ln(KCe),XCe=Object.assign(QCe,{features:Hs});function ZCe(e=!0){let t=p.useRef(ts.slice());return O1(([n],[r])=>{r===!0&&n===!1&&Rp(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=ts.slice())},[e,ts,t]),Be(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function JCe(e,{ownerDocument:t}){let n=!!(e&8),r=ZCe(n);O1(()=>{n||t?.activeElement===t?.body&&gr(r())},[n]),dD(()=>{n&&gr(r())})}function e_e(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:s}){let o=p.useRef(null),a=hi(!!(e&1),"focus-trap#initial-focus"),c=N1();return O1(()=>{if(e===0)return;if(!a){s!=null&&s.current&&gr(s.current);return}let l=n.current;l&&Rp(()=>{if(!c.current)return;let u=t?.activeElement;if(r!=null&&r.current){if(r?.current===u){o.current=u;return}}else if(l.contains(u)){o.current=u;return}if(r!=null&&r.current)gr(r.current);else{if(e&16){if(ma(l,kr.First|kr.AutoFocus)!==H0.Error)return}else if(ma(l,kr.First)!==H0.Error)return;if(s!=null&&s.current&&(gr(s.current),t?.activeElement===s.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}o.current=t?.activeElement})},[s,a,e]),o}function t_e(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:s}){let o=N1(),a=!!(e&4);uD(t?.defaultView,"focus",c=>{if(!a||!o.current)return;let l=yD(r);n.current instanceof HTMLElement&&l.add(n.current);let u=s.current;if(!u)return;let d=c.target;d&&d instanceof HTMLElement?bD(l,d)?(s.current=d,gr(d)):(c.preventDefault(),c.stopPropagation(),gr(u)):gr(s.current)},!0)}function bD(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function xD(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:SD)!==p.Fragment||Q.Children.count(e.children)===1}let Up=p.createContext(null);Up.displayName="TransitionContext";var n_e=(e=>(e.Visible="visible",e.Hidden="hidden",e))(n_e||{});function r_e(){let e=p.useContext(Up);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function s_e(){let e=p.useContext(Vp);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Vp=p.createContext(null);Vp.displayName="NestingContext";function Gp(e){return"children"in e?Gp(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function wD(e,t){let n=Oo(e),r=p.useRef([]),s=N1(),o=Dp(),a=Be((m,g=ls.Hidden)=>{let v=r.current.findIndex(({el:y})=>y===m);v!==-1&&(xs(g,{[ls.Unmount](){r.current.splice(v,1)},[ls.Hidden](){r.current[v].state="hidden"}}),o.microTask(()=>{var y;!Gp(r)&&s.current&&((y=n.current)==null||y.call(n))}))}),c=Be(m=>{let g=r.current.find(({el:v})=>v===m);return g?g.state!=="visible"&&(g.state="visible"):r.current.push({el:m,state:"visible"}),()=>a(m,ls.Unmount)}),l=p.useRef([]),u=p.useRef(Promise.resolve()),d=p.useRef({enter:[],leave:[]}),f=Be((m,g,v)=>{l.current.splice(0),t&&(t.chains.current[g]=t.chains.current[g].filter(([y])=>y!==m)),t?.chains.current[g].push([m,new Promise(y=>{l.current.push(y)})]),t?.chains.current[g].push([m,new Promise(y=>{Promise.all(d.current[g].map(([x,b])=>b)).then(()=>y())})]),g==="enter"?u.current=u.current.then(()=>t?.wait.current).then(()=>v(g)):v(g)}),h=Be((m,g,v)=>{Promise.all(d.current[g].splice(0).map(([y,x])=>x)).then(()=>{var y;(y=l.current.shift())==null||y()}).then(()=>v(g))});return p.useMemo(()=>({children:r,register:c,unregister:a,onStart:f,onStop:h,wait:u,chains:d}),[c,a,r,f,h,d,u])}let SD=p.Fragment,CD=Hf.RenderStrategy;function o_e(e,t){var n,r;let{transition:s=!0,beforeEnter:o,afterEnter:a,beforeLeave:c,afterLeave:l,enter:u,enterFrom:d,enterTo:f,entered:h,leave:m,leaveFrom:g,leaveTo:v,...y}=e,[x,b]=p.useState(null),w=p.useRef(null),C=xD(e),T=Qn(...C?[w,t,b]:t===null?[]:[t]),_=(n=y.unmount)==null||n?ls.Unmount:ls.Hidden,{show:k,appear:M,initial:I}=r_e(),[A,H]=p.useState(k?"visible":"hidden"),q=s_e(),{register:F,unregister:N}=q;kt(()=>F(w),[F,w]),kt(()=>{if(_===ls.Hidden&&w.current){if(k&&A!=="visible"){H("visible");return}return xs(A,{hidden:()=>N(w),visible:()=>F(w)})}},[A,w,F,N,k,_]);let R=bl();kt(()=>{if(C&&R&&A==="visible"&&w.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[w,A,R,C]);let B=I&&!M,Y=M&&k&&I,j=p.useRef(!1),D=wD(()=>{j.current||(H("hidden"),N(w))},q),V=Be(G=>{j.current=!0;let Me=G?"enter":"leave";D.onStart(w,Me,xe=>{xe==="enter"?o?.():xe==="leave"&&c?.()})}),Z=Be(G=>{let Me=G?"enter":"leave";j.current=!1,D.onStop(w,Me,xe=>{xe==="enter"?a?.():xe==="leave"&&l?.()}),Me==="leave"&&!Gp(D)&&(H("hidden"),N(w))});p.useEffect(()=>{C&&s||(V(k),Z(k))},[k,C,s]);let se=!(!s||!C||!R||B),[,ae]=TCe(se,x,k,{start:V,end:Z}),be=Bs({ref:T,className:((r=V0(y.className,Y&&u,Y&&d,ae.enter&&u,ae.enter&&ae.closed&&d,ae.enter&&!ae.closed&&f,ae.leave&&m,ae.leave&&!ae.closed&&g,ae.leave&&ae.closed&&v,!ae.transition&&k&&h))==null?void 0:r.trim())||void 0,..._Ce(ae)}),te=0;return A==="visible"&&(te|=Hn.Open),A==="hidden"&&(te|=Hn.Closed),ae.enter&&(te|=Hn.Opening),ae.leave&&(te|=Hn.Closing),Q.createElement(Vp.Provider,{value:D},Q.createElement(PCe,{value:te},Pn({ourProps:be,theirProps:y,defaultTag:SD,features:CD,visible:A==="visible",name:"Transition.Child"})))}function a_e(e,t){let{show:n,appear:r=!1,unmount:s=!0,...o}=e,a=p.useRef(null),c=xD(e),l=Qn(...c?[a,t]:t===null?[]:[t]);bl();let u=Bp();if(n===void 0&&u!==null&&(n=(u&Hn.Open)===Hn.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[d,f]=p.useState(n?"visible":"hidden"),h=wD(()=>{n||f("hidden")}),[m,g]=p.useState(!0),v=p.useRef([n]);kt(()=>{m!==!1&&v.current[v.current.length-1]!==n&&(v.current.push(n),g(!1))},[v,n]);let y=p.useMemo(()=>({show:n,appear:r,initial:m}),[n,r,m]);kt(()=>{n?f("visible"):!Gp(h)&&a.current!==null&&f("hidden")},[n,h]);let x={unmount:s},b=Be(()=>{var C;m&&g(!1),(C=e.beforeEnter)==null||C.call(e)}),w=Be(()=>{var C;m&&g(!1),(C=e.beforeLeave)==null||C.call(e)});return Q.createElement(Vp.Provider,{value:h},Q.createElement(Up.Provider,{value:y},Pn({ourProps:{...x,as:p.Fragment,children:Q.createElement(_D,{ref:l,...x,...o,beforeEnter:b,beforeLeave:w})},theirProps:{},defaultTag:p.Fragment,features:CD,visible:d==="visible",name:"Transition"})))}function i_e(e,t){let n=p.useContext(Up)!==null,r=Bp()!==null;return Q.createElement(Q.Fragment,null,!n&&r?Q.createElement(q0,{ref:t,...e}):Q.createElement(_D,{ref:t,...e}))}let q0=ln(a_e),_D=ln(o_e),I1=ln(i_e),c_e=Object.assign(q0,{Child:I1,Root:q0});var l_e=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(l_e||{}),u_e=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(u_e||{});let d_e={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},j1=p.createContext(null);j1.displayName="DialogContext";function Wp(e){let t=p.useContext(j1);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Wp),n}return t}function f_e(e,t){return xs(t.type,d_e,e,t)}let rE=ln(function(e,t){let n=p.useId(),{id:r=`headlessui-dialog-${n}`,open:s,onClose:o,initialFocus:a,role:c="dialog",autoFocus:l=!0,__demoMode:u=!1,unmount:d=!1,...f}=e,h=p.useRef(!1);c=function(){return c==="dialog"||c==="alertdialog"?c:(h.current||(h.current=!0,console.warn(`Invalid role [${c}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let m=Bp();s===void 0&&m!==null&&(s=(m&Hn.Open)===Hn.Open);let g=p.useRef(null),v=Qn(g,t),y=yl(g),x=s?0:1,[b,w]=p.useReducer(f_e,{titleId:null,descriptionId:null,panelRef:p.createRef()}),C=Be(()=>o(!1)),T=Be(V=>w({type:0,id:V})),_=bl()?x===0:!1,[k,M]=UCe(),I={get current(){var V;return(V=b.panelRef.current)!=null?V:g.current}},A=vD(),{resolveContainers:H}=zCe({mainTreeNode:A,portals:k,defaultContainers:[I]}),q=m!==null?(m&Hn.Closing)===Hn.Closing:!1;rCe(u||q?!1:_,{allowed:Be(()=>{var V,Z;return[(Z=(V=g.current)==null?void 0:V.closest("[data-headlessui-portal]"))!=null?Z:null]}),disallowed:Be(()=>{var V;return[(V=A?.closest("body > *:not(#headlessui-portal-root)"))!=null?V:null]})}),pCe(_,H,V=>{V.preventDefault(),C()}),WCe(_,y?.defaultView,V=>{V.preventDefault(),V.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),C()}),xCe(u||q?!1:_,y,H),sCe(_,g,C);let[F,N]=GSe(),R=p.useMemo(()=>[{dialogState:x,close:C,setTitleId:T,unmount:d},b],[x,b,C,T,d]),B=p.useMemo(()=>({open:x===0}),[x]),Y={ref:v,id:r,role:c,tabIndex:-1,"aria-modal":u?void 0:x===0?!0:void 0,"aria-labelledby":b.titleId,"aria-describedby":F,unmount:d},j=!HCe(),D=Hs.None;return _&&!u&&(D|=Hs.RestoreFocus,D|=Hs.TabLock,l&&(D|=Hs.AutoFocus),j&&(D|=Hs.InitialFocus)),Q.createElement($Ce,null,Q.createElement(tE,{force:!0},Q.createElement(GCe,null,Q.createElement(j1.Provider,{value:R},Q.createElement(mD,{target:g},Q.createElement(tE,{force:!1},Q.createElement(N,{slot:B},Q.createElement(M,null,Q.createElement(XCe,{initialFocus:a,initialFocusFallback:g,containers:H,features:D},Q.createElement(JSe,{value:C},Pn({ourProps:Y,theirProps:f,slot:B,defaultTag:h_e,features:p_e,visible:x===0,name:"Dialog"})))))))))))}),h_e="div",p_e=Hf.RenderStrategy|Hf.Static;function m_e(e,t){let{transition:n=!1,open:r,...s}=e,o=Bp(),a=e.hasOwnProperty("open")||o!==null,c=e.hasOwnProperty("onClose");if(!a&&!c)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!a)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!c)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!o&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!s.static?Q.createElement(nE,null,Q.createElement(c_e,{show:r,transition:n,unmount:s.unmount},Q.createElement(rE,{ref:t,...s}))):Q.createElement(nE,null,Q.createElement(rE,{ref:t,open:r,...s}))}let g_e="div";function v_e(e,t){let n=p.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:s=!1,...o}=e,[{dialogState:a,unmount:c},l]=Wp("Dialog.Panel"),u=Qn(t,l.panelRef),d=p.useMemo(()=>({open:a===0}),[a]),f=Be(m=>{m.stopPropagation()}),h={ref:u,id:r,onClick:f};return Q.createElement(s?I1:p.Fragment,{...s?{unmount:c}:{}},Pn({ourProps:h,theirProps:o,slot:d,defaultTag:g_e,name:"Dialog.Panel"}))}let y_e="div";function b_e(e,t){let{transition:n=!1,...r}=e,[{dialogState:s,unmount:o}]=Wp("Dialog.Backdrop"),a=p.useMemo(()=>({open:s===0}),[s]),c={ref:t,"aria-hidden":!0};return Q.createElement(n?I1:p.Fragment,{...n?{unmount:o}:{}},Pn({ourProps:c,theirProps:r,slot:a,defaultTag:y_e,name:"Dialog.Backdrop"}))}let x_e="h2";function w_e(e,t){let n=p.useId(),{id:r=`headlessui-dialog-title-${n}`,...s}=e,[{dialogState:o,setTitleId:a}]=Wp("Dialog.Title"),c=Qn(t);p.useEffect(()=>(a(r),()=>a(null)),[r,a]);let l=p.useMemo(()=>({open:o===0}),[o]);return Pn({ourProps:{ref:c,id:r},theirProps:s,slot:l,defaultTag:x_e,name:"Dialog.Title"})}let S_e=ln(m_e),C_e=ln(v_e);ln(b_e);let __e=ln(w_e),Sft=Object.assign(S_e,{Panel:C_e,Title:__e,Description:qSe});function Cft(e,t){let n=p.useRef({left:0,top:0});if(kt(()=>{if(!t)return;let s=t.getBoundingClientRect();s&&(n.current=s)},[e,t]),t==null||!e||t===document.activeElement)return!1;let r=t.getBoundingClientRect();return r.top!==n.current.top||r.left!==n.current.left}let sE=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function oE(e){var t,n;let r=(t=e.innerText)!=null?t:"",s=e.cloneNode(!0);if(!(s instanceof HTMLElement))return r;let o=!1;for(let c of s.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))c.remove(),o=!0;let a=o?(n=s.innerText)!=null?n:"":r;return sE.test(a)&&(a=a.replace(sE,"")),a}function T_e(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(s=>{let o=document.getElementById(s);if(o){let a=o.getAttribute("aria-label");return typeof a=="string"?a.trim():oE(o).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return oE(e).trim()}function _ft(e){let t=p.useRef(""),n=p.useRef("");return Be(()=>{let r=e.current;if(!r)return"";let s=r.innerText;if(t.current===s)return n.current;let o=T_e(r).trim().toLowerCase();return t.current=s,n.current=o,o})}const k_e="https://help.openai.com/en/collections/3742473-chatgpt",M_e="https://help.openai.com/en/articles/9982051",E_e="https://help.openai.com/en/articles/6825453-chatgpt-release-notes",P_e="https://help.openai.com/en/articles/10003026-windows-app-release-notes";function $_e(){return Va?M_e:k_e}function A_e(){return Va?P_e:E_e}function Tft(){const e=U(),t=e.formatMessage(Pr.adminRoleName),n=e.formatMessage(Pr.ownerRoleName),r=e.formatMessage(Pr.standardRoleName);return p.useMemo(()=>({[eo.OWNER]:n,[eo.ADMIN]:t,[eo.STANDARD]:r}),[n,t,r])}function kft(e){const t=U();return e?.isWorkspaceAccount()?e.isTeam()?t.formatMessage(Pr.teamPlanName):e.isEdu()?t.formatMessage(Pr.eduPlanName):t.formatMessage(Pr.enterprisePlanName):t.formatMessage(Pr.personalPlanName)}function O_e(e){const t=U();return TD(t,e)}function N_e(){const e=De(),t=U();return TD(t,e)}function TD(e,t){return t==null||t.isPersonalAccount()?e.formatMessage(Pr.personalWorkspaceTitle):t.data.name??e.formatMessage(Pr.defaultWorkspaceTitle)}function kD(){return tn()?.email??null}function Mft(){const e=tn();return e?.name??e?.email??null}function MD(){return zn(({workspaces:e})=>e)}function I_e(){const{data:e}=x$();return e?.accountItems.filter(t=>!t.isDeactivated())??[]}function Eft(e){return MD().find(r=>r.id===e)?.role===eo.OWNER}function Pft(e){return MD().find(r=>r.id===e)?.role===eo.ADMIN}const Pr=K({defaultWorkspaceTitle:{id:"useWorkspaces.defaultWorkspaceTitle",defaultMessage:"Untitled Workspace"},personalWorkspaceTitle:{id:"useWorkspaces.personalWorkspaceTitle",defaultMessage:"Personal account"},personalPlanName:{id:"useWorkspaces.personalPlanName",defaultMessage:"Personal"},enterprisePlanName:{id:"useWorkspaces.enterprisePlanName",defaultMessage:"Enterprise"},eduPlanName:{id:"useWorkspaces.eduPlanName",defaultMessage:"Edu"},teamPlanName:{id:"useWorkspaces.teamPlanName",defaultMessage:"Team"},adminRoleName:{id:"useWorkspaces.adminRoleName",defaultMessage:"Admin"},ownerRoleName:{id:"useWorkspaces.ownerRoleName",defaultMessage:"Owner"},standardRoleName:{id:"useWorkspacews.standardRoleName",defaultMessage:"Member"}});function $ft({menuItemComponent:e}){const t=De(),n=yt(),r=p.useCallback(()=>{E.logEvent(P.clickSidebarAccountPortalMenuItem),Os(n,"Sidebar account menu item")},[n]);return mt("1028682714"),i.jsxs(i.Fragment,{children:[t?.hasPaidSubscription()&&i.jsx(e,{onClick:r,icon:v7,children:i.jsx(S,{id:"popoverNavigation.myPlan",defaultMessage:"My plan"})}),t?.canInteractWithGizmos()&&i.jsx(e,{onClick:()=>{E.logEvent(P.accountMenuClickMyGPTs),n(UR())},icon:sA,children:i.jsx(S,{id:"popoverNavigation.myGpts",defaultMessage:"My GPTs"})}),i.jsx(e,{icon:Zb,onClick:()=>{ze.openModal(gt.UserContext),E.logEvent(P.accountMenuClickCustomizeChatGPT)},children:i.jsx(S,{id:"popoverNavigation.chatPreferences.1",defaultMessage:"Customize ChatGPT"})})]})}function Aft({menuItemComponent:e,routedMenuItemComponent:t}){const n=De(),r=lt("2756095923")?.value&&n?.isEdu()&&n?.isStandardUserOfAccount();return i.jsxs(i.Fragment,{children:[!r&&i.jsx(t,{to:"/admin",icon:y7,children:i.jsx(S,{...jg.myWorkspaceSettings})}),i.jsx(t,{to:UR(),onClick:()=>{E.logEvent(P.accountMenuClickMyGPTs)},icon:sA,children:i.jsx(S,{...jg.myGpts})}),i.jsx(e,{onClick:()=>{ze.openModal(gt.UserContext),E.logEvent(P.accountMenuClickCustomizeChatGPT)},icon:Zb,children:i.jsx(S,{...jg.chatPreferences})})]})}const jg=K({myWorkspaceSettings:{id:"workspacePopoverNavigation.myWorkspaceSettings",defaultMessage:"Manage workspace"},chatPreferences:{id:"B4s/Jz",defaultMessage:"Customize ChatGPT"},myGpts:{id:"workspacePopoverNavigation.myGpts",defaultMessage:"My GPTs"}});var R1="Tabs",[j_e,Oft]=Co(R1,[Eh]),ED=Eh(),[R_e,D1]=j_e(R1),PD=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:a="horizontal",dir:c,activationMode:l="automatic",...u}=e,d=m$(c),[f,h]=Nc({prop:r,onChange:s,defaultProp:o});return i.jsx(R_e,{scope:n,baseId:w$(),value:f,onValueChange:h,orientation:a,dir:d,activationMode:l,children:i.jsx(Wt.div,{dir:d,"data-orientation":a,...u,ref:t})})});PD.displayName=R1;var $D="TabsList",AD=p.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,o=D1($D,n),a=ED(n);return i.jsx(g$,{asChild:!0,...a,orientation:o.orientation,dir:o.dir,loop:r,children:i.jsx(Wt.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});AD.displayName=$D;var OD="TabsTrigger",ND=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=e,a=D1(OD,n),c=ED(n),l=RD(a.baseId,r),u=DD(a.baseId,r),d=r===a.value;return i.jsx(v$,{asChild:!0,...c,focusable:!s,active:d,children:i.jsx(Wt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...o,ref:t,onMouseDown:tt(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:tt(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:tt(e.onFocus,()=>{const f=a.activationMode!=="manual";!d&&!s&&f&&a.onValueChange(r)})})})});ND.displayName=OD;var ID="TabsContent",jD=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...a}=e,c=D1(ID,n),l=RD(c.baseId,r),u=DD(c.baseId,r),d=r===c.value,f=p.useRef(d);return p.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),i.jsx(Oc,{present:s||d,children:({present:h})=>i.jsx(Wt.div,{"data-state":d?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:u,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&o})})});jD.displayName=ID;function RD(e,t){return`${e}-trigger-${t}`}function DD(e,t){return`${e}-content-${t}`}var Nft=PD,Ift=AD,D_e=ND,L_e=jD,L1="Switch",[F_e,jft]=Co(L1),[B_e,U_e]=F_e(L1),LD=p.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:o,required:a,disabled:c,value:l="on",onCheckedChange:u,form:d,...f}=e,[h,m]=p.useState(null),g=Br(t,w=>m(w)),v=p.useRef(!1),y=h?d||!!h.closest("form"):!0,[x=!1,b]=Nc({prop:s,defaultProp:o,onChange:u});return i.jsxs(B_e,{scope:n,checked:x,disabled:c,children:[i.jsx(Wt.button,{type:"button",role:"switch","aria-checked":x,"aria-required":a,"data-state":UD(x),"data-disabled":c?"":void 0,disabled:c,value:l,...f,ref:g,onClick:tt(e.onClick,w=>{b(C=>!C),y&&(v.current=w.isPropagationStopped(),v.current||w.stopPropagation())})}),y&&i.jsx(V_e,{control:h,bubbles:!v.current,name:r,value:l,checked:x,required:a,disabled:c,form:d,style:{transform:"translateX(-100%)"}})]})});LD.displayName=L1;var FD="SwitchThumb",BD=p.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=U_e(FD,n);return i.jsx(Wt.span,{"data-state":UD(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});BD.displayName=FD;var V_e=e=>{const{control:t,checked:n,bubbles:r=!0,...s}=e,o=p.useRef(null),a=M3(n),c=p$(t);return p.useEffect(()=>{const l=o.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(a!==n&&f){const h=new Event("click",{bubbles:r});f.call(l,n),l.dispatchEvent(h)}},[a,n,r]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function UD(e){return e?"checked":"unchecked"}var G_e=LD,W_e=BD;function VD({onChange:e,enabled:t,label:n,disabled:r,icon:s=null,size:o="normal",id:a,testId:c,backgroundColor:l="black"}){const u=p.useCallback(()=>{e?.(!t)},[t,e]);return i.jsx(G_e,{id:a,checked:t,disabled:r,onCheckedChange:u,"aria-label":n,className:$("focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-token-text-secondary focus-visible:ring-offset-2 focus-visible:radix-state-checked:ring-black focus-visible:dark:ring-token-main-surface-primary focus-visible:dark:radix-state-checked:ring-green-600",r?"cursor-not-allowed opacity-50":"cursor-pointer",l==="green"?"bg-green-600 bg-opacity-15 radix-state-checked:bg-green-600":"bg-gray-200 radix-state-checked:bg-black dark:border dark:border-token-border-medium dark:bg-transparent","relative shrink-0 rounded-full dark:radix-state-checked:border-green-600 dark:radix-state-checked:bg-green-600",o==="normal"?"h-[20px] w-[32px]":o==="large"?"h-[32px] w-[54px]":"h-[19px] w-[30px]"),"data-testid":c,children:i.jsx(W_e,{className:$("flex items-center justify-center rounded-full","transition-transform duration-100 will-change-transform ltr:translate-x-0.5 rtl:-translate-x-0.5","bg-white",o==="normal"?"h-[16px] w-[16px] ltr:radix-state-checked:translate-x-[14px] rtl:radix-state-checked:translate-x-[-14px]":o==="large"?"h-[26px] w-[26px] ltr:radix-state-checked:translate-x-[24px] rtl:radix-state-checked:translate-x-[-24px]":"h-[15px] w-[15px] ltr:radix-state-checked:translate-x-[13px] rtl:radix-state-checked:translate-x-[-13px]"),children:s})})}var Yf=(e=>(e.General="General",e.DesktopApp="DesktopApp",e.BetaFeatures="BetaFeatures",e.DataControls="DataControls",e.Personalization="Personalization",e.Jawbone="Jawbone",e.BuilderProfile="BuilderProfile",e.ConnectorSettings="ConnectorSettings",e.Speech="Speech",e.Security="Security",e.Nimbus="Nimbus",e.Subscription="Subscription",e))(Yf||{});function Rft({value:e,icon:t,label:n,testId:r}){const s=Po();return i.jsxs(D_e,{className:$("group flex items-center justify-start gap-2 rounded-md px-2 py-1.5 text-sm text-token-text-primary radix-state-active:bg-token-main-surface-tertiary radix-state-active:text-token-text-primary md:radix-state-active:bg-token-main-surface-secondary",{"flex-1 justify-center":!s}),value:e,"data-testid":r,children:[t,i.jsx("div",{className:s?"text-left":"truncate",children:n})]})}function Dft({value:e,children:t}){return i.jsx(L_e,{className:"max-h-[calc(100vh-150px)] w-full overflow-y-auto md:min-h-[380px]",value:e,children:i.jsx("div",{className:"flex flex-col gap-3 px-4 pb-6 text-sm text-token-text-primary sm:px-6 md:ps-0 md:pt-5",children:t})})}function Lft({children:e}){return i.jsx("div",{className:"border-b border-token-border-light pb-3 last-of-type:border-b-0",children:e})}const GD=Se.div`text-xs text-token-text-secondary pr-12 mt-3`;function Fft({label:e,disabled:t,enabled:n,onChange:r,description:s,toggleTooltip:o,isLoading:a=!1,testId:c}){let l=i.jsx(VD,{disabled:t,enabled:n,onChange:r,label:e,icon:t?i.jsx(_o,{className:"icon-xs dark:text-black"}):null,size:"normal",testId:c});return o!=null&&(l=i.jsx(rt,{label:o,side:"top",sideOffset:4,children:l})),i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{children:e}),a?i.jsx(In,{}):l]}),s!=null&&i.jsx(GD,{children:s})]})}function Bft({color:e="secondary",disabled:t,label:n,buttonLabel:r,onClick:s,description:o,testId:a}){const c=o?"items-start":"items-center";return i.jsxs("div",{className:$("flex",c,"justify-between"),children:[i.jsxs("div",{children:[i.jsx("div",{children:n}),o!=null&&i.jsx(GD,{children:o})]}),i.jsx(ce,{className:"shrink-0",color:e,disabled:!!t,onClick:s,"data-testid":a,children:r})]})}function Uft({onClick:e,label:t,stateLabel:n,testId:r}){return i.jsx("button",{className:"w-full",onClick:e,"data-testid":r,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{children:t}),i.jsxs("div",{className:"flex items-center text-token-text-secondary",children:[n&&i.jsx("div",{className:"-mt-0.5 me-1",children:n}),i.jsx(Q4,{className:"icon-sm"})]})]})})}function H_e(e){return e?.startsWith("settings")??!1}function WD(){const{hash:e}=Fa(),t=yt(),n=H_e(e.slice(1)),r=n?e.slice(1).split("/")[1]:void 0,s=Object.values(Yf).includes(r)?r:Yf.General;return{openSettings:o=>{const a=o?`settings/${o}`:"settings";t({hash:a})},closeSettings:()=>{t({hash:""})},isOpen:n,currentTab:s}}const z_e=xo({queryKey:["clientApplications"],queryFn:X.getClientApplications});function Vft(){const{data:e,isLoading:t}=me(z_e),{value:n}=mt("582612297");return{clientApplications:e?.items.filter(s=>s.type==="apple"?n:!0),isLoading:t}}function Gft(){const e=Fe();return vt({mutationFn:X.revokeClientApplication,onSuccess:()=>{window.location.reload()},onError:t=>{ue.addError("Failed to revoke client application",{error:t}),e.danger("Failed to disconnect. Please try again later.")}})}function xl(){const{layer:e}=_n("3637408529");return e.get("is_login_primary_button",!1)}const q_e=()=>{const{layer:e}=_n("1346366956");return e.get("signup_cta_copy","SIGN_UP")},pi=e=>{switch(q_e()){case"SIGN_UP":return e;case"SIGN_UP_FOR_FREE":return au.signUpForFreeCta;case"CREATE_ACCOUNT":return au.createAccountCta;case"CREATE_NEW_ACCOUNT":return au.createNewAccountCta;case"CREATE_FREE_ACCOUNT":return au.createFreeAccountCta}},au=K({createAccountCta:{id:"createAccountCta",defaultMessage:"Create account"},createNewAccountCta:{id:"createNewAccountCta",defaultMessage:"Create new account"},createFreeAccountCta:{id:"createFreeAccountCta",defaultMessage:"Create free account"},signUpForFreeCta:{id:"signUpForFreeCta",defaultMessage:"Sign up for free"}});function Sc(e,t="/",n={}){e(t,{replace:n?.replace,state:F1()})}function F1(){return{newConversationSignal:{}}}function Wft(e){return e.state?.newConversationSignal}function Y_e(e){z.logEvent("chatgpt_web_thread_tap_new_thread"),Nt.getItem(He.HasSeenNewChatModal)===!0?Sc(e):(Nt.setItem(He.HasSeenNewChatModal,!0),ze.openModal(gt.NoAuthNewChat))}function Hft(){return P1(gt.NoAuthNewChat)?i.jsx(K_e,{onClose:()=>{ze.closeModal(gt.NoAuthNewChat)}}):null}function K_e({onClose:e}){const t=vn(),n=yt(),r=Ph("1934819688"),s=r.config.get("is_redesign_enabled",!1),o=r.config.get("secondary_button_type","cancel"),a=pi(Zt.signUpButtonText),c=f=>{f.preventDefault(),t({authType:"signup",callback:h=>{z.logEvent("chatgpt_new_chat_modal_sign_up_link_clicked"),E.logSignUpButtonClicked({location:"New chat modal",provider:h})}})},l=f=>{f.preventDefault(),t({authType:"login",callback:h=>{z.logEvent("chatgpt_new_chat_modal_log_in_link_clicked"),E.logLogInButtonClicked({location:"New chat modal",provider:h})}})},u=()=>{z.logEvent("chatgpt_new_chat_modal_cancel_button_clicked"),E.logEvent(P.newChatModalCancelButtonClicked),e()},d=()=>{z.logEvent("chatgpt_new_chat_modal_new_chat_button_clicked"),E.logNewChatButtonClicked({location:"New Chat Modal New Chat Button"}),Sc(n),e()};return p.useEffect(()=>{z.logEvent("chatgpt_new_chat_modal_shown"),E.logEvent(P.newChatModalShown)},[]),i.jsx(je,{isOpen:!0,type:"success",onClose:e,noPadding:!0,size:"custom",className:"max-w-sm",children:i.jsxs("div",{className:"flex flex-col justify-center p-6",children:[i.jsxs("div",{className:"mb-2 grid w-full grid-cols-[1fr,auto,1fr] items-center",children:[i.jsx("div",{}),i.jsx("div",{className:"text-xl font-medium",children:i.jsx(S,{id:"d+R7z5",defaultMessage:"Clear current chat?"})}),i.jsx("div",{className:"flex justify-end",children:s?i.jsx(_a,{onClick:e}):null})]}),i.jsx("p",{className:"mb-6 text-center text-token-text-secondary",children:i.jsx(S,{id:"+Olycu",defaultMessage:"To start a new chat, your current conversation will be discarded. <signup>Sign up</signup> or <login>log in</login> to save chats.",values:{signup:f=>i.jsx("a",{href:"#",className:"font-medium text-token-text-primary",onClick:c,children:f}),login:f=>i.jsx("a",{href:"#",className:"font-medium text-token-text-primary",onClick:l,children:f})}})}),i.jsx(ce,{className:"mb-3",color:s?"primary":"danger",size:"giant",onClick:d,children:i.jsx(S,{id:"cBGbrD",defaultMessage:"Clear chat"})}),o==="cancel"?i.jsx(ce,{size:"giant",onClick:u,color:"secondary",children:i.jsx(S,{...Zt.cancelButtonText})}):null,o==="login"?i.jsx(ce,{size:"giant",onClick:()=>{t({authType:"login",callback:f=>{E.logLogInButtonClicked({location:"New chat modal",provider:f})}})},color:"ghost",children:i.jsx(S,{...Zt.logInButtonText})}):null,o==="signup"?i.jsx(ce,{size:"giant",onClick:()=>{t({authType:"signup",callback:f=>{E.logSignUpButtonClicked({location:"New chat modal",provider:f})}})},color:"ghost",children:i.jsx(S,{...a})}):null]})})}function Q_e({clientThreadId:e,location:t}){const n=Pe(),{id:r}=Qa(e),s=Wh(!0),o=yt(),a=qn(),c=Fa();return p.useCallback(()=>{Ub(S$(n))?Y_e(o):a?o({pathname:c.pathname,search:c.search},{state:F1()}):(s({modelId:r,location:t}),z.logEvent("chatgpt_web_thread_tap_new_thread"))},[n,t,r,s,o,a,c])}const Y0=Le(()=>({focusedObject:null}));function X_e(){return Y0(e=>e.focusedObject)}const zft={setFocusedObject:e=>{Y0.setState({focusedObject:e})},close(){Y0.setState({focusedObject:null})}};var HD=(e=>(e.DOGFOODING="dogfooding",e.ALPHA="alpha",e))(HD||{});function Z_e(e){return e==="gpt-4o-gdrive"||e==="gpt-4o-gdrive-1007-mclick"}function zD(e){return f0e()&&Z_e(e)}function J_e(e){const t=zD(e),n=eTe();return t&&!!n}function eTe(){const e=bh("1001765573");if(!e.config.get("ca_enabled",!1))return null;const n=e.config.get("feedback_format",null);return n&&Object.values(HD).includes(n)?n:null}const B1=Le(()=>({displayingSideBySideFeedback:!1,unskippable:!1})),tTe=p.createContext({isWithinDataAnalysisToolMessage:!1});function nTe({jupyterMessage:e}){const t=gh(),n=U();if(t)return i.jsxs("div",{className:"my-1 flex h-52 w-full max-w-xs flex-col items-center justify-center gap-2 rounded-md border-black/5 bg-gray-100 p-7 text-center text-token-text-tertiary dark:border-white/10",children:[i.jsx(b7,{className:"icon-lg"}),i.jsx(S,{...Q0.imageNotSupported})]});if(e.image_payload!=null)return i.jsx("img",{className:"my-1",src:`data:image/png;base64,${e.image_payload}`,alt:n.formatMessage(Q0.altText)});if(e.image_url!=null){const r=po(e.image_url);return i.jsx(oTe,{fileId:r})}return null}const rTe=30*1e3,qD=100,K0=1.5,sTe=Math.log(1-rTe*(1-K0)/qD)/Math.log(K0);function oTe({fileId:e}){const t=U(),{data:n,isLoading:r,refetch:s}=me({queryKey:["getFileDownloadLink",e],queryFn:()=>X.getFileDownloadLink(e),refetchInterval:o=>{const a=o.state.dataUpdateCount;return o.state.data?.status===ur.Success||a>sTe||o.state.status===ur.Error?!1:Math.pow(K0,a)*qD}});return p.useEffect(()=>{if(n?.status===ur.Success){const a=new URL(n.download_url,location.toString()).searchParams.get("se");a!=null&&!r&&new Date>new Date(a)&&s()}},[n,r,s]),n?.status!==ur.Success?null:i.jsx("img",{src:n.download_url,className:"my-1 max-h-full max-w-full",alt:t.formatMessage(Q0.altText)})}const Q0=K({imageNotSupported:{id:"CodeExecutionOutputImage.imageNotSupported",defaultMessage:"Image output is not supported in a shared chat"},altText:{id:"CodeExecutionOutputImage.altText",defaultMessage:"Output image"}});function qft({FormattedText:e,message:t}){const{resolvedTheme:n}=Sh();return i.jsx(tTe.Provider,{value:{isWithinDataAnalysisToolMessage:!0},children:i.jsx(e,{className:$("markdown prose w-full break-words dark:prose-invert",n==="dark"?"dark":"light"),children:aTe(t)})})}function aTe(e){function t(n,r){return`\`\`\`${r}
${n}
\`\`\``}if(e.content.content_type==="code")return t(e.content.text,"python");if(e.recipient==="python"){if(e.content.content_type!=="text")throw new Error("Unexpected content type for code message");const n=e.content.parts;if(n.length!==1||typeof n[0]!="string")throw new Error("Unexpected parts for code message");return t(n[0],"python")}throw new Error("Unexpected code message format")}function Yft({message:e}){const t=U();if(e.content.content_type!==an.ExecutionOutput)return null;const n=e.metadata?.aggregate_result;if(!n)return ue.addError("Corrupt code execution result message"),null;const r=n.messages.filter(cTe),s=r.length>0,o=n.final_expression_output!=null,a=n.in_kernel_exception!=null;return i.jsxs(i.Fragment,{children:[s&&i.jsx(aE,{label:"STDOUT/STDERR",output:r.map((c,l)=>i.jsx("span",{className:c.stream_name==="stderr"?"text-red-500":"",children:c.text},`${l}`))}),o&&i.jsx(aE,{label:t.formatMessage({id:"codeInterpreterMessage.resultLabel",defaultMessage:"Result"}),output:n.final_expression_output}),a&&i.jsx(iTe,{traceback:n.in_kernel_exception.traceback.join("")})]})}function aE({label:e,output:t}){return i.jsxs("div",{className:"bg-gray-700 p-4 text-xs",children:[i.jsx("div",{className:"mb-1 text-gray-400",children:e}),i.jsx("div",{className:"prose flex flex-col-reverse text-white",children:i.jsx("pre",{className:"shrink-0",children:t})})]})}function iTe({traceback:e}){return i.jsx("div",{className:"overflow-auto border-t border-gray-500 text-white",children:i.jsx("div",{className:"border-l-4 border-red-500 p-2 text-xs",children:i.jsx("div",{className:"scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-700 flex max-h-64 flex-col-reverse",children:i.jsx("pre",{className:"shrink-0",children:e})})})})}function Kft({message:e}){if(e.content.content_type!==an.ExecutionOutput)return null;const t=e.metadata?.aggregate_result;return t?i.jsx(i.Fragment,{children:t.messages.filter(YD).map((n,r)=>i.jsx(nTe,{jupyterMessage:n},r))}):(ue.addError("Corrupt code execution result message"),null)}function cTe(e){return e.message_type==="stream"}function YD(e){return e.message_type==="image"||"image_url"in e&&Tbe(e.image_url+"")}function Qft(){const e=tn(),t=De();return t&&e&&!X4(e)&&t.isEnterprisey()}function Xft(){return l$(Lb.ChartSerialization)}function Zft(e,t){const n=e==="chart"?He.HasSeenAdaInteractiveChart:He.HasSeenAdaInteractiveTable,[r,s]=p.useState(Nt.getItem(n,{userId:t})??!1),o=p.useCallback(()=>{s(!0),Nt.setItem(n,!0,{userId:t})},[n,t]);return[r,o]}function Jft(e){const[t,n]=p.useState([]),r=Ca(()=>{const s=L.resolveThreadId(e),o=L.getThreadCurrentLeafId(e);return L.getTree(s).getBranchFromLeaf(o)});return p.useEffect(()=>{const s=KD(r);s.length!==t.length&&n(s)},[t.length,e,r]),t}function lTe(e){return Ca(()=>{const t=L.resolveThreadId(e),n=L.getThreadCurrentLeafId(e),s=L.getTree(t).getBranchFromLeaf(n);return KD(s).length>0})}function uTe(e){const t=e.metadata?.aggregate_result?.messages.filter(YD)??[];let n=0;const r=(e.metadata?.ada_visualizations??[]).map(o=>{let a=o;return o.type=="chart"&&(a={...o,fallback_image:t[n++]}),a}),s=(e.metadata?.attachments??[]).filter(o=>NR(o.name)).map(o=>({type:"table",file_id:o.id??"",title:jR(o),file_name:o.name,context_connector_info:o.context_connector_info}));return[...r,...s]}function KD(e){return e.filter(n=>n.message?.author.role==="tool"&&n.message?.author.name==="python"||(n.message?.metadata?.attachments??[]).length>0).flatMap(n=>uTe(n.message))}Le(e=>({selectedSpreadsheet:null,setSelectedSpreadsheet:t=>e({selectedSpreadsheet:t})}));async function dTe(e,t,n){const r=await e.text(),{parse:s}=await Ye(async()=>{const{parse:a}=await import("./oeujip5i1ptrxie5.js");return{parse:a}},[]),o=s(r);return{content:{columnNames:o.shift(),columnTypes:o[0].map(()=>"string"),rows:o},file_name:t,download_url:n}}function fTe(e){const t=e[0].values.length,n=[];for(let r=0;r<t;r++){const s=e.map(o=>o.values[r]);n.push(s)}return n}function eht(e){return me({queryKey:["ada-visualization","chart",e.file_id],queryFn:async()=>{const t=await X.getFileDownloadLink(e.file_id);if(t.status===ur.Success){const r=await(await fetch(t.download_url)).json();return{content:{chart_type:r.type,title:r.title,labels:r.labels,datasets:r.datasets,x_label:r.x_label,y_label:r.y_label},file_name:t.file_name??"",download_url:t.download_url}}else throw new Error("Failed to download chart json from interpreter")}})}function tht(e){return me({queryKey:["ada-visualization","table",e.file_id],queryFn:async()=>{if(e.file_name&&Abe(e.file_name)){const t=await X.getAdaExcelFileContents(e.file_id);return{content:t.sheets.map(n=>({name:n.name,columnNames:n.columns.map(r=>r.name),columnTypes:n.columns.map(()=>"string"),rows:fTe(n.columns)})),download_url:t.download_url,file_name:e.file_name}}else{const t=await X.getFileDownloadLink(e.file_id);if(t.status===ur.Success){const n=await fetch(t.download_url);return dTe(n,t.file_name??"",t.download_url)}else throw new Error("Failed to download from interpreter")}}})}function hTe(e){const t=B1(),n=lTe(e),r=DR();return n&&r&&!t.displayingSideBySideFeedback}const QD={isParagenVisible:!1,isParagenSkipped:!1},pTe=()=>{const{config:e}=Ph("4274348958"),t=e.get("show_paragen_skip_button",null),n=e.get("show_paragen_descriptor_labels",null),r=e.get("default_paragen_descriptor_label",null);return{shouldShowParagenLabels:n,defaultParagenLabel:r,shouldShowSkipButton:t}},U1=Le(Ss(()=>QD)),Kf=U1.setState,mTe={reset:()=>Kf(QD),skipParagen:()=>{Kf(e=>{e.isParagenSkipped=!0})}},nht=()=>U1(({isParagenSkipped:e})=>e),rht=()=>{Vb(()=>(Kf(e=>{e.isParagenVisible=!0}),()=>{Kf(e=>{e.isParagenVisible=!1})}))},gTe="https://challenges.cloudflare.com/turnstile/v0/api.js",vTe={[Cu.PAID]:"0x4AAAAAAASbFNinhLLnW5f1",[Cu.FREEACCOUNT]:"0x4AAAAAAACPe2BTwOIpYk6H",[Cu.NOAUTH]:"0x4AAAAAAASbHVR44GU82lOI"};class Qf{toString(){return JSON.stringify(this.toJSON())}}class Rg extends Qf{constructor(t){super(),this.message=t,this.message=t}toJSON(){return{"Turnstile-Internal-Error":this.message}}}class yTe extends Qf{constructor(t){super(),this.errorCode=t,this.errorCode=t}toJSON(){return{"Turnstile-Client-Error":this.errorCode}}}class bTe{app=Cu.NOAUTH;status="idle";turnstileInstancePromise=null;enforcementTokenPromise=null;requestStartTimeMs=0;_onCompleted;_onError;async initializeAndGatherData(t){this._getOrCreateInstance(t)}async _getOrCreateInstance(t){return!t.turnstile?.required||t.turnstile?.dx?null:(this.app!==t.persona&&(this.app=t.persona,this.turnstileInstancePromise=this._getTurnstileInstancePromise()),this.turnstileInstancePromise??new Rg("Turnstile instance not initialized."))}async getEnforcementToken(t){return t.turnstile?.dx?Z4(t.turnstile.dx):this.startEnforcement(t).then(n=>(this.enforcementTokenPromise=null,n?n.toString():null))}async startEnforcement(t){return t.turnstile?.required?this.enforcementTokenPromise!==null?this.enforcementTokenPromise:this.enforcementTokenPromise=this._getEnforcementToken(t):null}async _getEnforcementToken(t,n){const r=await this._getOrCreateInstance(t);return r instanceof Qf||r===null?r:new Promise((s,o)=>{this.setOnCompleted(a=>{const c=performance.now()-this.requestStartTimeMs;ue.addAction("turnstile_get_token_success",{app:this.app.toString(),durationMs:c}),s(a)}),this.setOnError(a=>{if(!n)this._getEnforcementToken(t,!0).then(s,o);else{const c=performance.now()-this.requestStartTimeMs;ue.addAction("turnstile_get_token_error",{app_release:"75b52bd08d6aac5d903d1c564f878c0935c2fcee",error:a,app:this.app.toString(),durationMs:c}),s(new yTe(a))}}),this.setStatus("ready"),this.requestStartTimeMs=performance.now(),r.reset(),r.execute()})}setStatus(t){this.status=t}onCompleted(t){this._onCompleted?.(t)}setOnCompleted(t){this._onCompleted=t}onError(t){this._onError?.(t)}setOnError(t){this._onError=t}onExpired(){this.enforcementTokenPromise=null}_getTurnstileInstancePromise(t){if(this.turnstileInstancePromise!==null)if(t)this.turnstileInstancePromise.then(n=>{n instanceof Qf||n.remove()}),this.turnstileInstancePromise=null;else return this.turnstileInstancePromise;return this.turnstileInstancePromise=new Promise((n,r)=>{const s="onloadTurnstileCallback";Object.defineProperty(window,s,{value:()=>{if(this.status==="ready")return;this.setStatus("script_loaded");const{turnstile:u}=window;if(u===null){this.setStatus("error"),t?(ue.addAction("turnstile_instance_missing",{app_release:"75b52bd08d6aac5d903d1c564f878c0935c2fcee",app:this.app.toString()}),n(new Rg("Turnstile instance missing"))):this._getTurnstileInstancePromise(!0).then(n,r);return}u.render("#"+o,{sitekey:vTe[this.app],execution:"execute",callback:this.onCompleted.bind(this),"error-callback":this.onError.bind(this),"expired-callback":this.onExpired.bind(this)}),n(u)}});const o="cf-turnstile",a="cf-turnstile-script";document.getElementById(o)?.remove(),document.getElementById(a)?.remove();const c=document.createElement("div");c.id=o,c.hidden=!0,document.body.appendChild(c),this.setStatus("loading");const l=document.createElement("script");l.id=a,l.src=gTe+`?onload=${s}`,l.async=!0,l.defer=!0,l.onerror=()=>{this.setStatus("error"),t?(ue.addAction("turnstile_script_load_error",{app_release:"75b52bd08d6aac5d903d1c564f878c0935c2fcee",app:this.app.toString()}),n(new Rg("Turnstile script failed to load"))):this._getTurnstileInstancePromise(!0).then(n,r)},document.body.appendChild(l)}),this.turnstileInstancePromise}}const X0=new bTe,XD=Le(Ss(()=>({userMessageCount:Number(localStorage.getItem(He.NoAuthUserMessageCount)??0)}))),xTe={incrementUserMessageCount:()=>{XD.setState(e=>{const t=e.userMessageCount+1;e.userMessageCount=t,localStorage.setItem(He.NoAuthUserMessageCount,String(t))})}};var it=(e=>(e.Starter="starter",e.Reply="reply",e.Autocomplete="autocomplete",e))(it||{}),wTe=(e=>(e.Search="Search",e))(wTe||{});const ZD={data:void 0},Z0=Le()(()=>({...ZD}));function J0(e){if(e.data==null)return Z0.setState(e);const t=e.data.suggestions.map(n=>({text:n,type:it.Reply}));Z0.setState({data:{messageId:e.data.messageId,suggestions:t}})}function sht(){return Z0(e=>e.data)}const STe=async(e,t,n)=>{J0({data:void 0});const r=await X.generateSuggestions(e,t,n),{suggestions:s}=r;J0({data:{messageId:t,suggestions:s}})},JD=()=>{J0(ZD)};function Dg(e){return e.status,e.status==="fulfilled"?e.value:null}function CTe(e,t){return{forceParagen:e.forceParagen,forceParagenModel:e.forceParagenModel.value,forceRateLimit:e.forceRateLimit,resetRateLimits:e.resetRateLimits,disableSystemContentToggling:e.rebaseSystemMessageContent?!0:void 0,forceUseSearch:e.forceUseSearch??t?.forceUseSearch,paragenStreamType:e.paragenStreamType,paragenCotSummaryDisplay:e.paragenCotSummaryDisplay}}async function _Te({navigateToAuth:e,completionRequestProfiler:t}){t?.logTiming("start_chat_requirements");const n=await C$();t?.logTiming("fetched_chat_requirements"),n.force_login&&e({authType:"login"});const[r,s,o]=await Promise.allSettled([hv.getEnforcementToken(n).then(a=>(t?.logTiming("fetched_arkose_token"),a)),X0.getEnforcementToken(n).then(a=>(t?.logTiming("fetched_turnstile_token"),a)),pv.getEnforcementToken(n).then(a=>(t?.logTiming("fetched_p_token"),a))]);return{arkoseToken:Dg(r),chatRequirements:n,proofToken:Dg(o),turnstileToken:Dg(s)}}async function TTe(e){const{prependMessages:t,appendMessages:n,cancelActiveRequests:r,cancelRequests:s,clientThreadId:o,completionMetadata:a,currentModelId:c,debugSettings:l,defaultModelId:u,eventMetadata:d,extraStreamParams:f,focusOnNewCompletion:h=!0,isUnauthenticated:m,navigateToAuth:g,preRequestCompletion:v,promptId:y,requestCompletion:x,requestedModelId:b,turnTracker:w,profiler:C,type:T,updateTree:_,useDefaultModel:k}=e;JD(),mTe.reset(),r&&s();const M=performance.now();let I=c;b?I=b:k&&(I=u);const{arkoseToken:A,chatRequirements:H,proofToken:q,turnstileToken:F}=await _Te({navigateToAuth:g,completionRequestProfiler:C});v?.(o,y),await x({model:I,completionType:T,parentNodeId:y,metadata:d,focusOnNewCompletion:h,completionMetadata:a,chatReq:H,arkoseToken:A,turnstileToken:F,proofToken:q,preflightTime:performance.now()-M,extraStreamParams:CTe(l,f),prependMessages:t,appendMessages:n,updateTree:_,turnTracker:w,profiler:C}),m&&xTe.incrementUserMessageCount()}const mi=Le(()=>({messagesDevData:{},activeNodeId:void 0,ui:{focusedNodeId:void 0}})),kTe=()=>mi.getState().ui.focusedNodeId,gi=()=>mi.getState().messagesDevData;function oht(e){const t=Object.keys(gi()),n=t.indexOf(e);if(n===-1)throw new Error("Key not found in object");const r=(n+1)%t.length;return t[r]}function aht(e){const t=Object.keys(gi()),n=t.indexOf(e);if(n===-1)throw new Error("Key not found in object");const r=(n-1+t.length)%t.length;return t[r]}function iht(e){return Object.keys(gi()).indexOf(e)}const cht=()=>Object.keys(gi()).length;function MTe(e,t){for(var n,r=-1,s=e.length;++r<s;){var o=t(e[r]);o!==void 0&&(n=n===void 0?o:n+o)}return n}var ETe=MTe,PTe=ETe,$Te=NaN;function ATe(e,t){var n=e==null?0:e.length;return n?PTe(e,t)/n:$Te}var OTe=ATe,NTe=OTe,ITe=Ec;function jTe(e){return NTe(e,ITe)}var RTe=jTe;const DTe=ye(RTe);function LTe(e){return e.length===0?null:e.reduce((n,r)=>n+r,0)/e.length}function FTe(e){const t=e.length;if(t===0)return 0;const n=LTe(e)||0,r=e.reduce((s,o)=>s+Math.pow(o-n,2),0)/t;return Math.sqrt(r)}function iE(e,t){const n=e.slice().sort((c,l)=>c-l),r=t*(n.length-1),s=Math.floor(r),o=Math.ceil(r);if(s===o)return n[s];const a=r-s;return(1-a)*n[s]+a*n[o]}function BTe(e){if(e.length===0)return null;const t=e.slice().sort((r,s)=>r-s),n=Math.floor(t.length/2);return t.length%2===0?(t[n-1]+t[n])/2:t[n]}var Ln=(e=>(e.FirstTokenLatency="first_token_lat",e.TotalRequestTime="total_request_time",e.TokenCount="token_count",e.StdDevTokenLatency="std_dev_token_lat",e.MeanTokenLatency="mean_token_lat",e.MedianTokenLatency="median_token_lat",e.MinTokenLatency="min_token_lat",e.MaxTokenLatency="max_token_lat",e.P95TokenLatency="p95_token_lat",e.P99TokenLatency="p99_token_lat",e))(Ln||{});const e5=e=>{const t=e.filter(h=>h.requestCount>1);let n=0;for(let h=0;h<e.length;h++){const m=e[h];if(n=m.requestDuration,m.content!=="")break}const r=iE(t.map(h=>h.lastTokenDuration),.95),s=iE(t.map(h=>h.lastTokenDuration),.99),o=DTe(t.map(h=>h.lastTokenDuration)),a=BTe(t.map(h=>h.lastTokenDuration)),c=t.filter(h=>h.lastTokenDuration!==0).reduce((h,m)=>Math.min(h,m.lastTokenDuration),1/0),l=t.reduce((h,m)=>Math.max(h,m.lastTokenDuration),-1/0),u=FTe(t.map(h=>h.lastTokenDuration)),d=e[e.length-1]?.requestDuration;return[{id:"first_token_lat",name:"First Token lat.",stat:n>0?`${n.toFixed(2)}ms`:null,value:n>0?n:null,category:"summary"},{id:"total_request_time",name:"Total request time",stat:d?`${(d/1e3).toFixed(2)}s`:null,value:d||null,category:"summary"},{id:"token_count",name:"Token count",stat:`${e.length}`,value:e.length,category:"summary"},{id:"std_dev_token_lat",name:"Std dev Token lat.",stat:`${u.toFixed(2)}`,value:u,category:"token"},{id:"mean_token_lat",name:"Mean Token lat.",stat:o?`${o.toFixed(2)}ms`:null,value:o??null,category:"aggregate"},{id:"median_token_lat",name:"Median Token lat.",stat:a?`${a.toFixed(2)}ms`:null,value:a??null,category:"token"},{id:"min_token_lat",name:"Min Token lat.",stat:`${c.toFixed(2)}ms`,value:c??null,category:"token"},{id:"max_token_lat",name:"Max Token lat.",stat:`${l.toFixed(2)}ms`,value:l??null,category:"token"},{id:"p95_token_lat",name:"p95 Token lat.",stat:r?`${r.toFixed(2)}ms`:null,value:r??null,category:"aggregate"},{id:"p99_token_lat",name:"p99 Token lat.",stat:s?`${s.toFixed(2)}ms`:null,value:s??null,category:"aggregate"}]},lht=()=>{const e=gi(),t=kTe();if(!e||!t)return{stats:[],targetLatencyData:[]};const r=e[t]?.data??[];return{stats:e5(r),targetLatencyData:r}},UTe=(e,t,n,r)=>{mi.setState(s=>{const o={focusedNodeId:e},a={status:"active",data:[],model:t,serverRequestId:n,preflightTime:r};return{...s,activeNodeId:e,ui:o,messagesDevData:{...s.messagesDevData,[e]:a}}})},VTe=(e,t,n)=>{const r=n?.search_source;mi.setState(s=>{const o=s.messagesDevData[e];return{...s,activeNodeId:e,messagesDevData:{...s.messagesDevData,[e]:{...o,data:[...o?.data??[],t],searchSource:r}}}})},tr=(e,t)=>t.find(n=>n.id===e)?.value,GTe=e=>{const n=gi()[e],r=e5(n.data),{preflightTime:s,model:o,serverRequestId:a,searchSource:c}=n,l={model:o,serverRequestId:a,preflightTime:s,searchSource:c,countTokens:tr(Ln.TokenCount,r),tsFirstToken:tr(Ln.FirstTokenLatency,r),tsMaxTokenTime:tr(Ln.MaxTokenLatency,r),tsMeanTokenWithoutFirst:tr(Ln.MeanTokenLatency,r),tsMedianTokenWithoutFirst:tr(Ln.MedianTokenLatency,r),tsMinTokenTime:tr(Ln.MinTokenLatency,r),tsStdDevTokenTime:tr(Ln.StdDevTokenLatency,r),tsP95TokenWithoutFirst:tr(Ln.P95TokenLatency,r),tsP99TokenWithoutFirst:tr(Ln.P99TokenLatency,r),tsTotalRequestTime:tr(Ln.TotalRequestTime,r)};X.postLatencyTimingEvent(l)},WTe=e=>mi.setState(t=>{const n={...t.messagesDevData[e],status:"finished"};return{...t,messagesDevData:{...t.messagesDevData,[e]:n}}}),uht=e=>mi.setState(t=>({...t,ui:{...t.ui,focusedNodeId:e}}));class HTe{completionStartTime=Date.now();completionEndTime;blurDuringCompletionTime;refocusTime;constructor(){window.addEventListener("blur",this.onWindowBlur)}logFocusAfterBlurDuringCompletionEvent=()=>{z.logEvent("chatgpt_focus_after_blur_during_completion",null,{completion_duration_ms:`${this.completionEndTime-this.completionStartTime}`,blur_time_ms:`${this.blurDuringCompletionTime-this.completionStartTime}`,refocus_time_ms:`${this.refocusTime-this.completionStartTime}`}),E.logEvent(P.focusAfterBlurDuringCompletion,{completion_duration_ms:`${this.completionEndTime-this.completionStartTime}`,blur_time_ms:`${this.blurDuringCompletionTime-this.completionStartTime}`,refocus_time_ms:`${this.refocusTime-this.completionStartTime}`})};onWindowBlur=()=>{this.blurDuringCompletionTime===void 0&&(this.blurDuringCompletionTime=Date.now(),window.addEventListener("focus",this.onWindowFocusAfterBlur))};onWindowFocusAfterBlur=()=>{this.refocusTime=Date.now(),this.completionEndTime!==void 0&&this.logFocusAfterBlurDuringCompletionEvent(),this.cleanupFocusAfterBlurListener()};cleanupFocusAfterBlurListener=()=>{window.removeEventListener("focus",this.onWindowFocusAfterBlur)};onMessageError=()=>{window.removeEventListener("blur",this.onWindowBlur)};onMessageDone=()=>{window.removeEventListener("blur",this.onWindowBlur),this.blurDuringCompletionTime!==void 0&&(this.completionEndTime=Date.now(),z.logEvent("chatgpt_blur_during_completion",null,{completion_duration_ms:`${this.completionEndTime-this.completionStartTime}`,blur_time_ms:`${this.blurDuringCompletionTime-this.completionStartTime}`}),E.logEvent(P.blurDuringCompletion,{completion_duration_ms:`${this.completionEndTime-this.completionStartTime}`,blur_time_ms:`${this.blurDuringCompletionTime-this.completionStartTime}`}),this.refocusTime!==void 0&&this.logFocusAfterBlurDuringCompletionEvent())}}class zTe{constructor(t){this.requestLatencyId=t}requestStartTime=performance.now();requestLastTokenTime=performance.now();requestCount=0;requestTimes=[];onResponse(t,n,r){const s=performance.now(),o=s-this.requestLastTokenTime,a=s-this.requestStartTime;this.requestLastTokenTime=s,this.requestCount+=1;const c={requestCount:this.requestCount,requestDuration:a,lastTokenDuration:Number(JSON.stringify(o)),messageType:n.content.content_type,content:_$(n)?vs(n):""};this.requestTimes.push(c),t.type==="message"?VTe(this.requestLatencyId,c,n.metadata):t.type==="done"&&r!=null&&(WTe(this.requestLatencyId),GTe(this.requestLatencyId))}}const qTe=1e4,t5=Le(Ss(()=>({notifications:[]}))),YTe=e=>{const t=crypto.randomUUID();t5.setState(r=>{r.notifications.push({...e,id:t})});const n=e.timeout??qTe;setTimeout(()=>{KTe(t)},n)},KTe=e=>{t5.setState(t=>{t.notifications=t.notifications.filter(n=>n.id!==e)})},dht="https://help.openai.com/en/articles/8590148-memory-faq";function n5(e,t=!0){return["memories",{gizmoId:e,includeMemoryEntries:t}]}function QTe(e,t=!0,n=!0){return me({queryKey:n5(e,t),queryFn:async()=>{const r=await X.getMemories(e,t),s=Math.min(Math.floor(100*r.memory_num_tokens/r.memory_max_tokens),100);return{...r,memoryFullPct:s}},refetchOnMount:"always",enabled:n})}async function XTe(e,t){if(t.metadata?.client_actions===void 0||t.metadata.client_actions.length===0)return[];const r=t.metadata.client_actions.filter(o=>o.type==="browser_tool");return r.length==0?[]:(await Promise.all(r.map(o=>tke(e,o.action,t)))).flat()}class ZTe{conversationId;constructor(t){this.conversationId=t}createRequest(t){return new Promise((n,r)=>{const s=new BroadcastChannel(Math.random().toString()),o=setTimeout(()=>{r("Timeout"),s.close()},6e4);s.onmessage=c=>{n(c.data),clearTimeout(o),s.close()};const a={action:"browse",id:this.conversationId,...t,channel:s.name};window.postMessage(a,"*")})}browse(t){return this.createRequest({url:t,type:"browse"})}back(){return this.createRequest({type:"back"})}click(t){return this.createRequest({target:t,type:"click"})}scroll(t){return this.createRequest({amount:t,type:"scroll"})}quote(t,n){return this.createRequest({quote_start:t,quote_end:n,type:"quote"})}}function JTe(e){for(const t in e.urls)e.text.includes(`${t}`)||delete e.urls[t]}function iu(e,t,n){return JTe(n),{id:Lr(),author:{role:he.Tool,name:"browser"},content:{content_type:an.TetherBrowsingDisplay,result:n.text,summary:n.title},metadata:{_cite_metadata:{citation_format:{name:"tether_og"},metadata_list:[{type:"webpage",title:n.title,url:n.url,text:n.text}]}},recipient:"all"}}function eke(e,t,n){return{id:Lr(),author:{role:he.Tool,name:"browser"},content:{content_type:an.Text,parts:[`${JSON.stringify(n)}`]},recipient:"all"}}async function tke(e,t,n){const r=new ZTe(e);try{switch(t.command){case"back":{const s=await r.back();return[iu(e,n,s)]}case"quote":{const s=await r.quote(t.quote_start,t.quote_end);return[eke(e,n,s)]}case"scroll":{const s=await r.scroll(t.amount);return[iu(e,n,s)]}case"open_url":{const s=await r.browse(t.url);return[iu(e,n,s)]}case"click":{const s=await r.click(t.target);return[iu(e,n,s)]}default:throw new Error("Unsupported browser action type "+t)}}catch(s){return ue.addError(s),[{id:Lr(),author:{role:he.Tool,name:"browser"},content:{content_type:an.Text,parts:[`Error making browse call: ${s}`]},recipient:"all"}]}}function r5(e){return e==null||[$e.PrimaryAssistant,$e.GizmoInteraction].includes(e.kind)}function wl(e,t){const n=xh(e,t),{data:r}=Xa(n!=null&&"gizmo_id"in n?n.gizmo_id:void 0,n?.kind===$e.GizmoTest);if(n!=null)switch(n.kind){case $e.GizmoInteraction:case $e.GizmoMagicCreate:case $e.GizmoTest:return{gizmo:r,...n};case $e.PrimaryAssistant:return n}}function nke(e){return e.kind===$e.GizmoInteraction||e.kind===$e.GizmoMagicCreate||e.kind===$e.GizmoTest?e.gizmo:void 0}const rke=28,s5="conversationHistory";function V1(e={}){const{buckets:t,recentConversationLimit:n}=e,s=Fr()?.includes(J4)??!1,o=De(),a=!s&&!!o?.data,c=U(),{data:l,fetchNextPage:u,hasNextPage:d,isLoading:f,isFetchingNextPage:h,isError:m,refetch:g}=Nb({queryKey:[s5],queryFn:async({pageParam:b})=>{const w=await X.getConversations({offset:b,limit:rke});return bV(w.items),w},initialPageParam:0,getNextPageParam:b=>{const w=b.offset+b.limit;return w<b.total?w:void 0},enabled:a}),v=p.useMemo(()=>l?.pages.flatMap(w=>w.items)??[],[l,e]),y=p.useMemo(()=>{if(!l||!t)return[];const b=ske(v,c);return[b.recent,b.dynamicMonths,b.dynamicYears].flatMap(C=>Object.entries(C).map(([T,{items:_,label:k}],M)=>({key:`${T}-${M}`,label:k,items:_}))).filter(C=>C.items.length>0)},[v,l,c,t]),x=p.useMemo(()=>{const b=v.slice(0,n??5);return{key:"recents",label:c.formatMessage(Vi.historyBucketRecent),items:b}},[v,n,c]);return{buckets:y,conversations:v,data:l,fetchNextPage:u,hasNextPage:d,refetch:g,recents:x,isLoading:f,isFetchingNextPage:h,isError:m}}function ske(e,t){return e.reduce((n,r)=>{const s=new Date(r.update_time??r.create_time??0),o=r1(new Date,s);if(o===0)n.recent.today.items.push(r);else if(o<=1)n.recent.yesterday.items.push(r);else if(o<=7)n.recent.lastSeven.items.push(r);else if(o<=30)n.recent.lastThirty.items.push(r);else if(hR(s)){const a=nf(s),c=aR(s),l=`${a}-${c}`;n.dynamicMonths[l]?n.dynamicMonths[l].items.push(r):n.dynamicMonths[l]={label:t.formatDate(s,{month:"long"}),items:[r]}}else{const c=`${nf(s)}-`;n.dynamicYears[c]?n.dynamicYears[c].items.push(r):n.dynamicYears[c]={label:t.formatDate(s,{year:"numeric"}),items:[r]}}return n},{recent:{today:{label:t.formatMessage(Vi.historyBucketToday),items:[]},yesterday:{label:t.formatMessage(Vi.historyBucketYesterday),items:[]},lastSeven:{label:t.formatMessage(Vi.historyBucketLastSeven),items:[]},lastThirty:{label:t.formatMessage(Vi.historyBucketLastThirty),items:[]}},dynamicMonths:{},dynamicYears:{}})}function yo(e){e.invalidateQueries({queryKey:[s5]}),e.invalidateQueries({queryKey:["gizmoConversations"]})}const Vi=K({historyBucketRecent:{id:"history.bucket.recent",defaultMessage:"Recent"},historyBucketToday:{id:"history.bucket.today",defaultMessage:"Today"},historyBucketYesterday:{id:"history.bucket.yesterday",defaultMessage:"Yesterday"},historyBucketLastSeven:{id:"history.bucket.lastSeven",defaultMessage:"Previous 7 Days"},historyBucketLastThirty:{id:"history.bucket.lastThirty",defaultMessage:"Previous 30 Days"}});function oke(e){window.history.pushState({},"",e)}function ake(e,t,n){const s=L.getTree(t).getMessageId(L.getThreadCurrentLeafId(t));X.generateTitle(t,s,n).then(({title:o})=>{L.setTitle(t,o,$h.Generated),yo(e),E.logEvent(P.renameThread,{threadId:t,content:o,model:n})})}function ike(e,t,n){const r=()=>{const o=N0(n);e(o)},s=vr.getGizmoId(n);s!=null?gV(t,s).then(o=>{oke(N0(n,o))}).catch(o=>{ue.addError(o),r()}):r()}const eb={onCreate(e,t,n,r,s){E.logEvent(P.newThread),!r&&r5(vr.getConversationMode(t))&&e9(n).then(o=>{Ub(o)||(yo(n),e(t,s))})},onCreateFinished(e,t,n){if(!(n||!t)&&!z.checkGate("2562876640")){const r=vr.getThread(t)?.initialThreadData.lastModelUsed;r==null&&ue.addError("missing lastModelUsed on conversation create finished"),ake(e,t,r)}}};function cE(e,t){e.updateNodeMetadata(t.id,{completionSampleFinishTime:Date.now()})}class cke{constructor(t,n,r,s,o,a,c,l,u,d,f,h,m){this.queryClient=t,this.clientThreadId=n,this.targetNodeId=r,this.completionType=s,this.model=o,this.eventSource=a,this.onCreate=c,this.isCompanionWindow=l,this.callModelAgain=d,this.onCompletionFinished=f,this.isHistoryAndTrainingDisabled=m,this.currentTree=L.getTree(n),this.currentNodeId=r,this.activeBranchLastMessage=this.currentTree.getMessage(this.currentNodeId),this.isCompanionWindow=l,this.completionLatencyTracker=new zTe(u),this.turnTracker=h,this.turnTracker.onCompletionStarted(s,this.model)}currentTree;currentNodeId;firstResponse=!0;didCreateFirstCompletionInNewThread=!1;activeBranchLastMessage;messagesToUpdate={};allIncompleteStreamedMessages={};responseThreadId;isCompletionBlocked=!1;isEitherFlagged=!1;variantsInStreamInfo;activeBranchNodeId;blurDuringCompletionTracker=new HTe;completionLatencyTracker;turnTracker;debouncedUpdateCompletion=n2(()=>{this.isCompletionBlocked||L.updateTree(this.clientThreadId,t=>{Object.values(this.messagesToUpdate).forEach(n=>{t.updateNodeMessage(n.id,n)})}),this.messagesToUpdate={}},50,{leading:!0,maxWait:50});handleResponse=async t=>{if(t.type!=="done"&&this.turnTracker.onUpdateEventCount(),this.completionLatencyTracker.onResponse(t,this.activeBranchLastMessage,this.responseThreadId),this.responseThreadId===void 0&&"conversationId"in t){const n=t.conversationId;this.responseThreadId=n,So(this.clientThreadId)&&L.getServerThreadId(this.clientThreadId)!==n&&(L.setServerIdForNewThread(this.clientThreadId,n),E.logEvent(P.attributeClientThreadToServerThread,{client_thread_id:this.clientThreadId,server_thread_id:n}))}switch(t.type){case"error":this.handleError(t);break;case"num_variants_in_stream":this.bindVariantInfoToTree(t);break;case"moderation":this.handleModeration(t);break;case"url_moderation":this.handleUrlModeration(t);break;case"message":this.handleMessage(t),this.debouncedUpdateCompletion();break;case"done":this.handleDone();break;case"gizmo_inline_review":this.handleGizmoInlineReview(t);break;case"title_generation":this.handleTitleGeneration(t);break;case"conversation_detail_metadata":this.handleConversationDetailMetadata(t);break}};handleError(t){const n=t.error,r=n?.message||"Something went wrong",s=n instanceof Pt&&n.code||"",o=n instanceof Pt&&n.status,a=n instanceof Pt?n.detail?.can_retry:void 0;switch(this.turnTracker.handleRawError(r,o),L.updateTree(this.clientThreadId,c=>{c.updateNodeMessage(this.currentNodeId,this.activeBranchLastMessage),c.updateNodeMetadata(this.currentNodeId,{err:r,errType:"danger",errCode:s,completionSampleFinishTime:Date.now(),canRetry:a})}),s){case Vn.ContentPolicy:case Vn.ContentOrTos:case P0:case i$:break;default:r!==void 0&&z.logEvent("chatgpt_conversation_error_web",r)}if(this.blurDuringCompletionTracker.onMessageError(),this.cleanUp(),this.onCompletionFinished(this.responseThreadId),n instanceof Pt&&n.code===P0){const c=n.detail?.clears_in;c&&(obe(new Date(Date.now()+c*1e3).toISOString()),setTimeout(()=>{PR()},c*1e3))}}handleGizmoInlineReview(t){L.setPromptGptRating(this.clientThreadId,t.gizmoId)}handleTitleGeneration(t){L.setTitle(this.clientThreadId,t.title,$h.Generated)}handleConversationDetailMetadata(t){const{default_model_slug:n}=t;n&&L.setThreadModelId(this.clientThreadId,n),mv.updateDetails(t)}bindVariantInfoToTree(t){this.variantsInStreamInfo=t,L.updateTree(this.clientThreadId,n=>{const r=n.getParentPromptNode(this.currentNodeId);n.updateNodeMetadata(r.id,{variantsInStreamInfo:this.variantsInStreamInfo})})}handleModeration(t){const{isCompletion:n,messageId:r,conversationId:s,flagged:o,blocked:a,disclaimers:c,metadata:l}=t,u=!!c?.length&&n;(o||a||u)&&(this.isEitherFlagged=!0,a&&n&&(this.isCompletionBlocked=!0),L.updateTree(this.clientThreadId,d=>{const f=d.messageIdToNodeId(r);a&&d.clearNodeMessageParts(f),d.updateNodeMetadata(f,{...(u&&!!c?.length&&t9(c,a))??{},...o&&n9,...a&&(l?.model_incompatibility?r9:s9),completionSampleFinishTime:Date.now()})}),E.logEvent(n?a?P.completionBlockedByModeration:P.completionFlaggedByModeration:a?P.promptBlockedByModeration:P.promptFlaggedByModeration,{threadId:s,id:r}))}handleUrlModeration(t){const{conversationId:n,url:r,isSafe:s}=t;s&&L.addThreadSafeUrl(n,r)}handleMessage(t){let n=!0;const{message:r,conversationId:s}=t;if(this.turnTracker.onMessageUpdate(r.metadata?.model_slug,r.metadata?.gizmo_id,r.author.name,r.author.role),this.firstResponse&&!this.currentTree.hasReceivedServerCompletion){if(this.currentTree.hasNodeOrMessageId(r.id))return r?.author.role!==he.User?void 0:L.updateTree(this.clientThreadId,o=>{o.updateNodeMessage(r.id,r)});if(r.author.role===he.User&&r.content.content_type===an.UserEditableContext)return;if((r?.author.role===he.System||r?.author.role===he.Developer)&&(r.metadata?.parent_id?this.currentTree.getNodeByIdOrMessageId(r.metadata.parent_id):void 0)?.message.author.role!==he.User){this.currentTree.appendSystemMessageToRoot(r);return}}if(this.firstResponse&&r.metadata?.rebase_system_message){L.updateTree(this.clientThreadId,o=>{if(r.metadata?.parent_id==null)throw Error("Unexpected rebased system message without parent");const a=o.getNodeByIdOrMessageId(this.targetNodeId);o.deleteNode(this.targetNodeId),o.addNode(r.id,r,r.metadata.parent_id,r.author.role),o.addNode(a.id,a.message,r.id,a.message.author.role)});return}if(this.firstResponse){const o=Ca.getState().threads[this.clientThreadId]?.continuingFromSharedConversationId!=null;L.removeContinuingFromSharedConversationId(this.clientThreadId),this.firstResponse=!1,this.didCreateFirstCompletionInNewThread=!this.currentTree.hasReceivedServerCompletion||o,L.updateTree(this.clientThreadId,c=>{c.updateNodeMessage(this.currentNodeId,r)}),this.didCreateFirstCompletionInNewThread&&eb.onCreate(this.onCreate,s,this.queryClient,this.isHistoryAndTrainingDisabled,this.isCompanionWindow);const a={id:this.targetNodeId,threadId:s,completionType:this.completionType,eventSource:this.eventSource,model:this.model};if(this.completionType===ds.Next){const c=Ca.getState().threads[s],l=c?.conversationTurns?.length,u=c?.conversationTurns?.filter(f=>f.role==he.User),d=u&&u[u.length-1]?.messages[0].message;if(d?.content.content_type==an.Text){const f=d.content.parts.join("").length,h=u?.length??0;a.countConversationTurns=l,a.countUserSubmittedMessages=h,a.countLastUserPromptTextMessageLength=f}}E.logEvent(P.generateCompletion,a)}else if(this.completionType!==ds.Continue){const o=this.currentTree.containsNodeOrMessageId(r.id),a=r.metadata?.parent_id;if(o||(this.debouncedUpdateCompletion.flush(),L.updateTree(this.clientThreadId,c=>{if(a==null)throw new Error(`Received a message with no parentId: ${JSON.stringify(r)}`);c.addNode(r.id,r,a,he.Assistant)})),a!=null&&a===this.activeBranchNodeId){const c=this.allIncompleteStreamedMessages[a];c!=null&&(L.updateTree(this.clientThreadId,l=>{cE(l,c)}),delete this.allIncompleteStreamedMessages[a])}if(n=(this.variantsInStreamInfo?.num_variants_in_stream??1)===1||this.activeBranchNodeId==null||this.activeBranchNodeId===r.id||this.currentTree.isAncestorOfNode(this.activeBranchNodeId,r.id),n&&this.activeBranchNodeId!==r.id){this.activeBranchNodeId=r.id,this.currentNodeId=r.id;const c=L.getThreadCurrentLeafId(this.clientThreadId);this.currentTree.messageIdToNodeId(this.currentNodeId)!==this.currentTree.messageIdToNodeId(c)&&L.setThreadCurrentLeafId(this.clientThreadId,this.currentNodeId),a!=null&&L.updateTree(this.clientThreadId,l=>{const u=l.getParentPromptNode(r.id);l.updateNodeMetadata(u.id,{variantsInStreamInfo:this.variantsInStreamInfo})})}}if(r?.author.role===he.Tool&&r?.author.name==="bio"){const o=r.metadata?.gizmo_id;setTimeout(()=>{this.queryClient.invalidateQueries({queryKey:n5(o)})},5e3)}n&&(this.activeBranchLastMessage=r),this.messagesToUpdate[r.id]=r,this.allIncompleteStreamedMessages[r.id]=r}async handleDone(){if(this.turnTracker.model_message_update_count>0?this.turnTracker.logCompletion({type:rs.Success}):this.turnTracker.logCompletion({type:rs.Error,error:{reason:"empty_response",message:"Successful completion ended with no messages"}}),this.isCompletionBlocked||(this.debouncedUpdateCompletion.flush(),this.isEitherFlagged||(this.didCreateFirstCompletionInNewThread&&eb.onCreateFinished(this.queryClient,this.responseThreadId,this.isHistoryAndTrainingDisabled),this.onCompletionFinished(this.responseThreadId))),L.updateTree(this.clientThreadId,t=>{Object.values(this.allIncompleteStreamedMessages).forEach(n=>{cE(t,n)})}),jc.publish({kind:"createConversation",clientThreadId:this.clientThreadId}),this.blurDuringCompletionTracker.onMessageDone(),this.cleanUp(),this.activeBranchLastMessage?.metadata?.client_actions!==void 0){const t=await XTe(this.clientThreadId,this.activeBranchLastMessage);t.length>0&&this.callModelAgain(this.currentNodeId,t)}}cleanUp(){setTimeout(()=>{cc(this.clientThreadId,{source:ss.CLIENT,value:Fn.UNREAD});const t=L.getTitle(this.clientThreadId),n=L.getLastMessageContent(this.clientThreadId),r=n?.content_type===an.Text?n.parts[0]:void 0;YTe({title:t,subtitle:r,clientThreadId:this.clientThreadId}),ao.removeRequest(this.targetNodeId),L.releaseThread(this.clientThreadId)},0)}}const Xf=new Set,fht=e=>{p.useEffect(()=>(Xf.add(e),()=>{Xf.delete(e)}),[e])},lke=()=>Xf.size>0,uke=()=>Promise.allSettled(Array.from(Xf).map(e=>e())),ia=e=>{if(e.type===it.Starter&&e.category==="onboarding")return"";switch(e.type){case it.Reply:return e.text;case it.Starter:case it.Autocomplete:return e.prompt}},dke=e=>e.type===it.Reply,o5=e=>e.type===it.Starter,G1=e=>e.type===it.Autocomplete,Sd=e=>G1(e)&&!!e.theme,fke=(e,t,n,r)=>{switch(z.logEvent("chatgpt_prompt_use_suggestion",G1(e)&&!Sd(e)?"":ia(e),{id:o5(e)||Sd(e)?e.id??"":"",index:`${t}`,type:e.type}),e.type){case it.Reply:E.logEvent(P.useSuggestedReply,{value:ia(e),prompt_type:it.Reply,messageId:r});break;case it.Starter:E.logEvent(P.useStarterPrompt,{value:ia(e),prompt_type:it.Starter,title:e.title,body:e.body,id:e.id,category:e.category,client_thread_id:n,messageId:r,index:t,theme:e.theme});break;case it.Autocomplete:{const s=Sd(e);E.logEvent(P.useAutocomplete,{value:s?ia(e):"",prompt_type:it.Autocomplete,title:s?e.title:"",body:s?e.body:"",id:s?e.id:"",category:e.category,index:t,messageId:r,client_thread_id:n,theme:e.theme??""});break}}},hht=(e,t)=>{const n=L.getThreadCurrentLeafId(t),r=L.getTree(t).getMessageId(n);if(z.logEvent("chatgpt_prompt_show_suggestions",`count_${e.length}`,{type:e[0].type}),e.every(dke))E.logEvent(P.showSuggestedReplies,{prompt_count:e.length,prompt_type:it.Reply,client_thread_id:t,suggestions:e.map(s=>s.text),message_id:r});else if(e.every(o5)){const{isAdditional:s}=e[0];E.logEvent(s?P.moreStarterPromptsShown:P.showStarterPrompts,{prompt_count:e.length,prompt_type:it.Starter,titles:e.map(o=>o.title),bodies:e.map(o=>o.body),ids:e.map(o=>o.id),client_thread_id:t,message_id:r,themes:e.map(o=>o.theme??"")}),s&&E.logEvent(P.expandMoreStarterPrompts,{client_thread_id:t,message_id:r})}else if(e.every(G1)){const s=!!e.find(o=>Sd(o));E.logEvent(P.showAutocompletePrompts,{prompt_count:e.length,prompt_type:it.Autocomplete,titles:e.map(o=>s?o.title:""),bodies:e.map(o=>s?o.body:""),ids:e.map(o=>s?o.id:""),client_thread_id:t,message_id:r,themes:e.map(o=>o.theme??"")})}else ue.addError("Unhandled suggestion type",{type:e[0].type})},pht=e=>{const t=L.getThreadCurrentLeafId(e),n=L.getTree(e).getMessageId(t);E.logEvent(P.showExpandMoreStarterPromptsButton,{client_thread_id:e,message_id:n})},mht=e=>{const t=L.getThreadCurrentLeafId(e),n=L.getTree(e).getMessageId(t);E.logEvent(P.expandMoreStarterPrompts,{client_thread_id:e,message_id:n})};async function hke(e,t){const n=e.getReader();let r;for(;!(r=await n.read()).done;)t(r.value)}function pke(e){let t,n,r,s=!1;return function(a){t===void 0?(t=a,n=0,r=-1):t=gke(t,a);const c=t.length;let l=0;for(;n<c;){s&&(t[n]===10&&(l=++n),s=!1);let u=-1;for(;n<c&&u===-1;++n)switch(t[n]){case 58:r===-1&&(r=n-l);break;case 13:s=!0;case 10:u=n;break}if(u===-1)break;e(t.subarray(l,u),r),l=n,r=-1}l===c?t=void 0:l!==0&&(t=t.subarray(l),n-=l)}}function mke(e,t,n){let r=lE();const s=new TextDecoder;return function(a,c){if(a.length===0)n?.(r),r=lE();else if(c>0){const l=s.decode(a.subarray(0,c)),u=c+(a[c+1]===32?2:1),d=s.decode(a.subarray(u));switch(l){case"data":r.data=r.data?r.data+`
`+d:d;break;case"event":r.event=d;break;case"id":e(r.id=d);break;case"retry":const f=parseInt(d,10);isNaN(f)||t(r.retry=f);break}}}}function gke(e,t){const n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function lE(){return{data:"",event:"",id:"",retry:void 0}}var vke=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const tb="text/event-stream",yke=1e3,uE="last-event-id";function bke(e,t){var{signal:n,headers:r,onopen:s,onmessage:o,onclose:a,onerror:c,openWhenHidden:l,fetch:u}=t,d=vke(t,["signal","headers","onopen","onmessage","onclose","onerror","openWhenHidden","fetch"]);return new Promise((f,h)=>{const m=Object.assign({},r);m.accept||(m.accept=tb);let g;function v(){g.abort(),document.hidden||T()}l||document.addEventListener("visibilitychange",v);let y=yke,x=0;function b(){document.removeEventListener("visibilitychange",v),window.clearTimeout(x),g.abort()}n?.addEventListener("abort",()=>{b(),f()});const w=u??window.fetch,C=s??xke;async function T(){var _;g=new AbortController;try{const k=await w(e,Object.assign(Object.assign({},d),{headers:m,signal:g.signal}));await C(k),await hke(k.body,pke(mke(M=>{M?m[uE]=M:delete m[uE]},M=>{y=M},o))),a?.(),b(),f()}catch(k){if(!g.signal.aborted)try{const M=(_=c?.(k))!==null&&_!==void 0?_:y;window.clearTimeout(x),x=window.setTimeout(T,M)}catch(M){b(),h(M)}}}T()})}function xke(e){const t=e.headers.get("content-type");if(!t?.startsWith(tb))throw new Error(`Expected content-type to be ${tb}, Actual: ${t}`)}var wke=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{},Xs="1.6.0",dE=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function Ske(e){var t=new Set([e]),n=new Set,r=e.match(dE);if(!r)return function(){return!1};var s={major:+r[1],minor:+r[2],patch:+r[3],prerelease:r[4]};if(s.prerelease!=null)return function(l){return l===e};function o(c){return n.add(c),!1}function a(c){return t.add(c),!0}return function(l){if(t.has(l))return!0;if(n.has(l))return!1;var u=l.match(dE);if(!u)return o(l);var d={major:+u[1],minor:+u[2],patch:+u[3],prerelease:u[4]};return d.prerelease!=null||s.major!==d.major?o(l):s.major===0?s.minor===d.minor&&s.patch<=d.patch?a(l):o(l):s.minor<=d.minor?a(l):o(l)}}var Cke=Ske(Xs),_ke=Xs.split(".")[0],Cc=Symbol.for("opentelemetry.js.api."+_ke),_c=wke;function Sl(e,t,n,r){var s;r===void 0&&(r=!1);var o=_c[Cc]=(s=_c[Cc])!==null&&s!==void 0?s:{version:Xs};if(!r&&o[e]){var a=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return n.error(a.stack||a.message),!1}if(o.version!==Xs){var a=new Error("@opentelemetry/api: Registration of version v"+o.version+" for "+e+" does not match previously registered API v"+Xs);return n.error(a.stack||a.message),!1}return o[e]=t,n.debug("@opentelemetry/api: Registered a global for "+e+" v"+Xs+"."),!0}function bo(e){var t,n,r=(t=_c[Cc])===null||t===void 0?void 0:t.version;if(!(!r||!Cke(r)))return(n=_c[Cc])===null||n===void 0?void 0:n[e]}function Cl(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+Xs+".");var n=_c[Cc];n&&delete n[e]}var Tke=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,o=[],a;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)o.push(s.value)}catch(c){a={error:c}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},kke=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},Mke=function(){function e(t){this._namespace=t.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Ii("debug",this._namespace,t)},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Ii("error",this._namespace,t)},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Ii("info",this._namespace,t)},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Ii("warn",this._namespace,t)},e.prototype.verbose=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Ii("verbose",this._namespace,t)},e}();function Ii(e,t,n){var r=bo("diag");if(r)return n.unshift(t),r[e].apply(r,kke([],Tke(n),!1))}var bn;(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(bn||(bn={}));function Eke(e,t){e<bn.NONE?e=bn.NONE:e>bn.ALL&&(e=bn.ALL),t=t||{};function n(r,s){var o=t[r];return typeof o=="function"&&e>=s?o.bind(t):function(){}}return{error:n("error",bn.ERROR),warn:n("warn",bn.WARN),info:n("info",bn.INFO),debug:n("debug",bn.DEBUG),verbose:n("verbose",bn.VERBOSE)}}var Pke=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,o=[],a;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)o.push(s.value)}catch(c){a={error:c}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},$ke=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},Ake="diag",br=function(){function e(){function t(s){return function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];var c=bo("diag");if(c)return c[s].apply(c,$ke([],Pke(o),!1))}}var n=this,r=function(s,o){var a,c,l;if(o===void 0&&(o={logLevel:bn.INFO}),s===n){var u=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return n.error((a=u.stack)!==null&&a!==void 0?a:u.message),!1}typeof o=="number"&&(o={logLevel:o});var d=bo("diag"),f=Eke((c=o.logLevel)!==null&&c!==void 0?c:bn.INFO,s);if(d&&!o.suppressOverrideMessage){var h=(l=new Error().stack)!==null&&l!==void 0?l:"<failed to generate stacktrace>";d.warn("Current logger will be overwritten from "+h),f.warn("Current logger will overwrite one already registered from "+h)}return Sl("diag",f,n,!0)};n.setLogger=r,n.disable=function(){Cl(Ake,n)},n.createComponentLogger=function(s){return new Mke(s)},n.verbose=t("verbose"),n.debug=t("debug"),n.info=t("info"),n.warn=t("warn"),n.error=t("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}(),Oke=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,o=[],a;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)o.push(s.value)}catch(c){a={error:c}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},Nke=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ike=function(){function e(t){this._entries=t?new Map(t):new Map}return e.prototype.getEntry=function(t){var n=this._entries.get(t);if(n)return Object.assign({},n)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(t){var n=Oke(t,2),r=n[0],s=n[1];return[r,s]})},e.prototype.setEntry=function(t,n){var r=new e(this._entries);return r._entries.set(t,n),r},e.prototype.removeEntry=function(t){var n=new e(this._entries);return n._entries.delete(t),n},e.prototype.removeEntries=function(){for(var t,n,r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];var o=new e(this._entries);try{for(var a=Nke(r),c=a.next();!c.done;c=a.next()){var l=c.value;o._entries.delete(l)}}catch(u){t={error:u}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o},e.prototype.clear=function(){return new e},e}(),jke=Symbol("BaggageEntryMetadata"),Rke=br.instance();function Dke(e){return e===void 0&&(e={}),new Ike(new Map(Object.entries(e)))}function ght(e){return typeof e!="string"&&(Rke.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:jke,toString:function(){return e}}}function a5(e){return Symbol.for(e)}var Lke=function(){function e(t){var n=this;n._currentContext=t?new Map(t):new Map,n.getValue=function(r){return n._currentContext.get(r)},n.setValue=function(r,s){var o=new e(n._currentContext);return o._currentContext.set(r,s),o},n.deleteValue=function(r){var s=new e(n._currentContext);return s._currentContext.delete(r),s}}return e}(),Fke=new Lke,vi=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bke=function(){function e(){}return e.prototype.createHistogram=function(t,n){return Kke},e.prototype.createCounter=function(t,n){return Yke},e.prototype.createUpDownCounter=function(t,n){return Qke},e.prototype.createObservableGauge=function(t,n){return Zke},e.prototype.createObservableCounter=function(t,n){return Xke},e.prototype.createObservableUpDownCounter=function(t,n){return Jke},e.prototype.addBatchObservableCallback=function(t,n){},e.prototype.removeBatchObservableCallback=function(t){},e}(),W1=function(){function e(){}return e}(),Uke=function(e){vi(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.add=function(n,r){},t}(W1),Vke=function(e){vi(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.add=function(n,r){},t}(W1),Gke=function(e){vi(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.record=function(n,r){},t}(W1),H1=function(){function e(){}return e.prototype.addCallback=function(t){},e.prototype.removeCallback=function(t){},e}(),Wke=function(e){vi(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(H1),Hke=function(e){vi(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(H1),zke=function(e){vi(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(H1),qke=new Bke,Yke=new Uke,Kke=new Gke,Qke=new Vke,Xke=new Wke,Zke=new Hke,Jke=new zke,eMe={get:function(e,t){if(e!=null)return e[t]},keys:function(e){return e==null?[]:Object.keys(e)}},tMe={set:function(e,t,n){e!=null&&(e[t]=n)}},nMe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,o=[],a;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)o.push(s.value)}catch(c){a={error:c}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},rMe=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},sMe=function(){function e(){}return e.prototype.active=function(){return Fke},e.prototype.with=function(t,n,r){for(var s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];return n.call.apply(n,rMe([r],nMe(s),!1))},e.prototype.bind=function(t,n){return n},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),oMe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,o=[],a;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)o.push(s.value)}catch(c){a={error:c}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},aMe=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},Lg="context",iMe=new sMe,Hp=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(t){return Sl(Lg,t,br.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(t,n,r){for(var s,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return(s=this._getContextManager()).with.apply(s,aMe([t,n,r],oMe(o),!1))},e.prototype.bind=function(t,n){return this._getContextManager().bind(t,n)},e.prototype._getContextManager=function(){return bo(Lg)||iMe},e.prototype.disable=function(){this._getContextManager().disable(),Cl(Lg,br.instance())},e}(),nb;(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(nb||(nb={}));var i5="0000000000000000",c5="00000000000000000000000000000000",cMe={traceId:c5,spanId:i5,traceFlags:nb.NONE},rc=function(){function e(t){t===void 0&&(t=cMe),this._spanContext=t}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,n){return this},e.prototype.setAttributes=function(t){return this},e.prototype.addEvent=function(t,n){return this},e.prototype.setStatus=function(t){return this},e.prototype.updateName=function(t){return this},e.prototype.end=function(t){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(t,n){},e}(),z1=a5("OpenTelemetry Context Key SPAN");function q1(e){return e.getValue(z1)||void 0}function lMe(){return q1(Hp.getInstance().active())}function Y1(e,t){return e.setValue(z1,t)}function uMe(e){return e.deleteValue(z1)}function dMe(e,t){return Y1(e,new rc(t))}function l5(e){var t;return(t=q1(e))===null||t===void 0?void 0:t.spanContext()}var fMe=/^([0-9a-f]{32})$/i,hMe=/^[0-9a-f]{16}$/i;function pMe(e){return fMe.test(e)&&e!==c5}function mMe(e){return hMe.test(e)&&e!==i5}function u5(e){return pMe(e.traceId)&&mMe(e.spanId)}function gMe(e){return new rc(e)}var Fg=Hp.getInstance(),d5=function(){function e(){}return e.prototype.startSpan=function(t,n,r){r===void 0&&(r=Fg.active());var s=!!n?.root;if(s)return new rc;var o=r&&l5(r);return vMe(o)&&u5(o)?new rc(o):new rc},e.prototype.startActiveSpan=function(t,n,r,s){var o,a,c;if(!(arguments.length<2)){arguments.length===2?c=n:arguments.length===3?(o=n,c=r):(o=n,a=r,c=s);var l=a??Fg.active(),u=this.startSpan(t,o,l),d=Y1(l,u);return Fg.with(d,c,void 0,u)}},e}();function vMe(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}var yMe=new d5,bMe=function(){function e(t,n,r,s){this._provider=t,this.name=n,this.version=r,this.options=s}return e.prototype.startSpan=function(t,n,r){return this._getTracer().startSpan(t,n,r)},e.prototype.startActiveSpan=function(t,n,r,s){var o=this._getTracer();return Reflect.apply(o.startActiveSpan,o,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):yMe},e}(),xMe=function(){function e(){}return e.prototype.getTracer=function(t,n,r){return new d5},e}(),wMe=new xMe,fE=function(){function e(){}return e.prototype.getTracer=function(t,n,r){var s;return(s=this.getDelegateTracer(t,n,r))!==null&&s!==void 0?s:new bMe(this,t,n,r)},e.prototype.getDelegate=function(){var t;return(t=this._delegate)!==null&&t!==void 0?t:wMe},e.prototype.setDelegate=function(t){this._delegate=t},e.prototype.getDelegateTracer=function(t,n,r){var s;return(s=this._delegate)===null||s===void 0?void 0:s.getTracer(t,n,r)},e}(),hE;(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(hE||(hE={}));var pE;(function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"})(pE||(pE={}));var mE;(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(mE||(mE={}));var gE=Hp.getInstance(),vht=br.instance(),SMe=function(){function e(){}return e.prototype.getMeter=function(t,n,r){return qke},e}(),CMe=new SMe,Bg="metrics",_Me=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalMeterProvider=function(t){return Sl(Bg,t,br.instance())},e.prototype.getMeterProvider=function(){return bo(Bg)||CMe},e.prototype.getMeter=function(t,n,r){return this.getMeterProvider().getMeter(t,n,r)},e.prototype.disable=function(){Cl(Bg,br.instance())},e}(),yht=_Me.getInstance(),TMe=function(){function e(){}return e.prototype.inject=function(t,n){},e.prototype.extract=function(t,n){return t},e.prototype.fields=function(){return[]},e}(),K1=a5("OpenTelemetry Baggage Key");function f5(e){return e.getValue(K1)||void 0}function kMe(){return f5(Hp.getInstance().active())}function MMe(e,t){return e.setValue(K1,t)}function EMe(e){return e.deleteValue(K1)}var Ug="propagation",PMe=new TMe,$Me=function(){function e(){this.createBaggage=Dke,this.getBaggage=f5,this.getActiveBaggage=kMe,this.setBaggage=MMe,this.deleteBaggage=EMe}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(t){return Sl(Ug,t,br.instance())},e.prototype.inject=function(t,n,r){return r===void 0&&(r=tMe),this._getGlobalPropagator().inject(t,n,r)},e.prototype.extract=function(t,n,r){return r===void 0&&(r=eMe),this._getGlobalPropagator().extract(t,n,r)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){Cl(Ug,br.instance())},e.prototype._getGlobalPropagator=function(){return bo(Ug)||PMe},e}(),bht=$Me.getInstance(),Vg="trace",AMe=function(){function e(){this._proxyTracerProvider=new fE,this.wrapSpanContext=gMe,this.isSpanContextValid=u5,this.deleteSpan=uMe,this.getSpan=q1,this.getActiveSpan=lMe,this.getSpanContext=l5,this.setSpan=Y1,this.setSpanContext=dMe}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(t){var n=Sl(Vg,this._proxyTracerProvider,br.instance());return n&&this._proxyTracerProvider.setDelegate(t),n},e.prototype.getTracerProvider=function(){return bo(Vg)||this._proxyTracerProvider},e.prototype.getTracer=function(t,n){return this.getTracerProvider().getTracer(t,n)},e.prototype.disable=function(){Cl(Vg,br.instance()),this._proxyTracerProvider=new fE},e}(),h5=AMe.getInstance(),Us=(e=>(e.V1="v1",e.V1_TEST="v1_test",e))(Us||{});class OMe{prevObjByChannel=[];prevDelta={channel:0,op:"add",path:"",value:void 0};applyDelta(t){try{const n=this.decodeDelta(t),r=n.channel,s=this.prevObjByChannel[r],o=jMe(s,n);return this.prevObjByChannel[r]=o,o}catch(n){ue.addError(`Error applying delta: ${n}`)}}decodeDelta(t){IMe(t);const n=NMe(t,this.prevDelta),r=p5(n);return this.prevDelta=r,r}}function NMe(e,t){for(const[n,r]of m5)n!=="value"&&!(r in e)&&(e[r]=t[n]);return e}function p5(e){const t=e;for(const[n,r]of m5)r in e&&(t[n]=e[r],delete e[r]);return t.op==="patch"&&(t.value=t.value.map(p5)),t}function IMe(e){if(!e||typeof e!="object")throw new Error("Unexpected delta non-object")}const m5=[["channel","c"],["path","p"],["op","o"],["value","v"]];function jMe(e,t){return Eb({__root:e},r=>g5(r,t)).__root}function g5(e,t){const n=LMe(t.path??"");for(let s=0;s<n.length-1;s++)e[n[s]]===void 0&&(typeof n[s+1]=="number"?e[n[s]]=[]:e[n[s]]={}),e=e[n[s]];const r=n[n.length-1];switch(t.op){case"patch":for(const s of t.value){const o={__root:e[r]};g5(o,s),e[r]=o.__root}break;case"add":Array.isArray(e)?e.splice(r,0,t.value):e[r]=t.value;break;case"remove":Array.isArray(e)?e.splice(r,1):delete e[r];break;case"replace":e[r]=t.value;break;case"append":if(typeof e[r]=="string")e[r]+=t.value;else if(Array.isArray(e[r]))e[r].push(...BMe(t.value));else if(vE(e[r])&&vE(t.value))for(let s in t.value)e[r][s]=t.value[s];else e[r]=t.value;break;case"truncate":e[r]&&(typeof e[r]=="string"?e[r]=e[r].substring(0,t.value):Array.isArray(e[r])&&(e[r].length=t.value));break;default:throw new Error("Unknown json delta operation")}}function RMe(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}const DMe=/^(?:0|[1-9]\d*)$/d;function LMe(e){const t=["__root"];if(e==="")return t;e[0]==="/"&&(e=e.substring(1));for(const n of e.split("/"))DMe.test(n)?t.push(parseInt(n,10)):t.push(RMe(n));return t}function FMe(e,t){const n=[],r=a=>typeof a=="object"&&a!=null&&!Array.isArray(a),s=a=>a===null?"null":Array.isArray(a)?"array":typeof a,o=(a,c,l)=>{if(c!==l)if(Array.isArray(c)&&Array.isArray(l))for(let u=0;u<Math.max(c.length,l.length);u++)o(`${a}/${u}`,c[u],l[u]);else if(r(c)&&r(l))for(const u of Object.keys({...c,...l}))o(`${a}/${u}`,c[u],l[u]);else n.push(`${s(c)} != ${s(l)} at ${a}`)};return o("",e,t),n}function BMe(e){return Array.isArray(e)?e:[e]}function vE(e){return typeof e=="object"&&e!=null&&!Array.isArray(e)}const v5="prompt-textarea";function Q1(){document.getElementById(v5)?.focus()}const xht={getAndReset:(e,t)=>{const n=Nt.getItem(He.RestoreMessageAfterOauthRedirect);return Nt.removeItem(He.RestoreMessageAfterOauthRedirect),!n||n.userId!==e||t!==n.serverThreadId||Date.now()>n.expiresAt?null:n},set:(e,t,n)=>{const r={userId:e,serverThreadId:t,inputText:n,expiresAt:Date.now()+6e4};Nt.setItem(He.RestoreMessageAfterOauthRedirect,r)}},UMe=()=>io.useState(io.getPersistedSystemHints).has($t.Search),VMe=()=>{const e=io.useStore(),t=p.useCallback(()=>e.getPersistedSystemHintTrigger($t.Search),[e]),n=p.useCallback(()=>e.clearPersistedSystemHintTrigger($t.Search),[e]),r=p.useCallback((s,o,a)=>{(s?e.addPersistedSystemHint:e.removePersistedSystemHint)($t.Search,o,a)},[e]);return{getSearchModeTrigger:t,clearSearchModeTrigger:n,setThreadSearchMode:r}},wht=(e,t,n)=>e?"file_upload_pending":t?n?"text_content_too_long":void 0:"empty_text_content",GMe=e=>e.replace(/[\u{E0000}-\u{E007F}]+/gu,""),Sht=e=>{const t=GMe(e.getContentToSend().content);return Math.ceil(t.length/4)},WMe=1e3;function HMe(e){return e&&e.length>WMe&&!o9().shift&&z.checkGate("1508312659")}const zMe="OAI-Echo-Logs",Wo={FOCUS_IN:0,FOCUS_OUT:1,COPY:2,PASTE:3,TOUCH_START:4,TOUCH_END:5},y5=[];function Ho(e){return()=>{y5.push({type:e,ts:Math.round(performance.now())})}}const qMe={focusin:Ho(Wo.FOCUS_IN),focusout:Ho(Wo.FOCUS_OUT),copy:Ho(Wo.COPY),paste:Ho(Wo.PASTE),touchstart:Ho(Wo.TOUCH_START),touchend:Ho(Wo.TOUCH_END)};function Cht(e){const t=e??document.getElementById(v5);for(const[n,r]of Object.entries(qMe))t?.removeEventListener(n,r),t?.addEventListener(n,r)}function YMe(){return{[zMe]:y5.slice(0,10).map(e=>`${e.type},${e.ts}`).join(",")}}const KMe=1e3*30,ji=h5.getTracer("completion");class yE extends Error{}function QMe(e,t,n,r){return(async(o=null)=>{lke()&&await uke();const a=new AbortController,c="threadId"in t?t.threadId:void 0,l="continueFromSharedConversationId"in t?t.continueFromSharedConversationId:void 0,u=Lr(),d=z.checkGate("1987334402"),f=z.checkGate("2964350589"),h=[d&&Us.V1,f&&Us.V1_TEST].filter(Boolean),m={action:t.completionType,messages:t.messages.length>0?t.messages:void 0,conversation_id:c,continue_from_shared_conversation_id:c!=null?void 0:l,parent_message_id:t.parentMessageId,model:t.model,timezone_offset_min:new Date().getTimezoneOffset(),timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,variant_purpose:t.completionMetadata?.variantPurpose,suggestions:t.completionMetadata?.suggestions?t.completionMetadata.suggestions.map(te=>ia(te)):void 0,chosen_suggestion:t.completionMetadata?.suggestion?{type:t.completionMetadata.suggestion.type,index:t.completionMetadata.suggestionIndex,source:t.completionMetadata?.suggestion.type===it.Autocomplete?t.completionMetadata.suggestion.source:void 0,user_input:t.completionMetadata?.suggestion.type===it.Autocomplete?t.completionMetadata.suggestion.userInput:void 0}:void 0,history_and_training_disabled:t.historyDisabled,juice:t.completionMetadata?.juice,conversation_mode:t.completionMetadata?.conversationMode,force_paragen:t.forceParagen,force_paragen_model_slug:t.forceParagenModel,force_indepth_feedback:t.forceIndepthFeedback,force_rate_limit:t.forceRateLimit,reset_rate_limits:t.resetRateLimits,disable_system_content_toggling:t.disableSystemContentToggling,websocket_request_id:u,source:t.completionMetadata?.source,system_hints:t.completionMetadata?.systemHints,prefetch_ids:t.completionMetadata?.prefetchIds,supported_encodings:h,conversation_origin:t.conversationOrigin,force_use_search:t.forceUseSearch,client_reported_search_source:t.completionMetadata?.searchSource,client_contextual_info:t.contextualInfo,paragen_stream_type_override:t.paragenStreamType==="none"?null:t.paragenStreamType,paragen_cot_summary_display_override:t.paragenCotSummaryDisplay,is_onboarding_conversation:t.isOnboardingConversation},g=z.checkGate("1113464293");g&&(m.supports_buffering=!0),t.turnTracker.stream_buffering=g;let v,y;const x=S$(e);Ub(x)?(y="https://chatgpt.com/backend-anon",v=le.getUnauthHeaders().additionalHeaders):(y="https://chatgpt.com/backend-api",v=le.getAuthedHeadersWithAccessToken(x?.accessToken));const b=`${y}/conversation`,w=a9(t.chatReq,o??t.arkoseToken,t.turnstileToken,t.proofToken,null),C={...v,...YMe(),...w};let T=!1,_=!1,k=!1,M=!1,I,A,H,q,F;ji.startActiveSpan("completion.response",te=>{I=ji.startSpan("completion.first_response"),A=ji.startSpan("completion.first_token_including_tool_calls"),H=ji.startSpan("completion.first_token_including_visible_content"),q=ji.startSpan("completion.first_token"),F=te});const N=h5.setSpan(gE.active(),F);let R=null,B=null,Y,j=!1,D=!1;function V(){D||(D=!0,n({type:"done"}),cC())}function Z(te){if(t.turnTracker.onBytesReceived(te.data),te.data==="[DONE]")a.abort(),F.end(),V();else if(te.event!=="ping")try{let G=JSON.parse(te.data);if(te.event==="delta_encoding")if(G===Us.V1||G===Us.V1_TEST)R=G,t.turnTracker.stream_encoding=R??void 0,B=new OMe;else{ue.addError(`[completion-delta] unknown delta encoding: ${G}`);return}else if(te.event==="delta"){if(!B){ue.addError("[completion-delta] delta event before delta_encoding");return}const Me=B.applyDelta(G);if(R===Us.V1_TEST){!j&&!l9(Me,Y)&&(j=!0,ue.addError("[completion-delta] delta resulted in a different object",{differences:FMe(Me,Y)}));return}else G=Me}else R===Us.V1_TEST&&!j&&(Y=G);if(G.error){const Me=Pt.createWithErrorMessage(b,"server",G.error);throw n({type:"error",error:Me}),Me}else"type"in G?G.type==="gizmo_inline_review"?n({type:"gizmo_inline_review",gizmoId:G.gizmo_id}):G.type==="title_generation"?n({type:"title_generation",title:G.title,conversation_id:G.conversation_id}):G.type==="moderation"?n({type:"moderation",conversationId:G.conversation_id,messageId:G.message_id,isCompletion:G.is_completion,flagged:G.moderation_response.flagged,blocked:G.moderation_response.blocked,disclaimers:G.moderation_response.disclaimers,metadata:G.moderation_response.metadata}):G.type==="url_moderation"?n({type:"url_moderation",conversationId:G.conversation_id,messageId:G.message_id,url:G.url_moderation_result.full_url,isSafe:G.url_moderation_result.is_safe}):G.type==="num_variants_in_stream"?n({type:"num_variants_in_stream",num_variants_in_stream:G.num_variants_in_stream,display_treatment:G.display_treatment}):G.type==="conversation_detail_metadata"?n(G):G.type==="message_stream_complete"&&V():(n({type:"message",message:G.message,conversationId:G.conversation_id}),T||(T=!0,I.end()),!_&&G.message.author.role===he.Assistant&&(_=!0,A.end()),!k&&G.message.author.role===he.Assistant&&_$(G.message)&&(k=!0,H.end()),!M&&G.message.author.role===he.Assistant&&u9(G.message)&&(M=!0,q.end()))}catch(G){if(G instanceof Pt)throw G}}let se=null,ae=setTimeout(()=>{se===!0?(E.logEvent(P.asyncResponseWaitTooLong,{}),t.turnTracker.logCompletion({type:rs.Error,error:{reason:"timeout",message:"Async Response Took Too Long to Come Back"}})):se===!1&&(E.logEvent(P.sseResponseWaitTooLong,{}),t.turnTracker.logCompletion({type:rs.Error,error:{reason:"timeout",message:"SSE Response Took Too Long to Come Back"}}))},KMe);return gE.with(N,()=>(t.profiler?.logTiming("fetch_event_source"),bke(b,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",...C},body:JSON.stringify(m),signal:a.signal,openWhenHidden:!0,async onopen(te){const G=te.headers.get("content-type")??"",Me=te.headers.get("Cf-Ray")??null;if(te.ok&&G.includes("text/event-stream")){se=!1,r(Me,t.model,t.turnTracker);return}else if(G.includes("application/json")){const xe=await te.json(),re=new Pt(b,te.status,xe);if(re.isServerError())throw re;if((re?.code==="expired_session_key"||re?.code==="invalid_api_key"||re?.code==="token_expired")&&typeof window<"u"&&window._oaiHandleSessionExpired?.("stream",JSON.stringify(re)),re?.code==="deactivated_workspace"){window.location.href.includes("/workspace/deactivated")||(window.location.href="/workspace/deactivated");return}throw re}else{const xe=await te.text();throw new Pt(b,te.status,{detail:{message:US,code:"unexpected_content_type",contentType:G,text:xe?.substring(0,1e3)}})}},onmessage:te=>{if(se)throw Pt.createWithErrorMessage(b,"server",US);ae&&(clearTimeout(ae),ae=null),Z(te)},onerror(te){let G=te instanceof Error?te:new Error(JSON.stringify(te));throw G instanceof yE||se||(G.message==="Failed to fetch"&&(G=Pt.createWithErrorMessage(b,"server",`An error occurred. Either the engine you requested does not exist or there was another issue processing your request. ${VS}`)),G.message==="network error"&&(G=Pt.createWithErrorMessage(b,"client",`A network error occurred. Please check your connection and try again. ${VS}`)),i9("fetch-error:conversation:new-message",{url:b,message:G?.message}),n({type:"error",error:G}),cC(G)),G}}))).catch(async te=>{te instanceof yE||(te instanceof Pt?c9(te):ue.addError(te),t.turnTracker.handleRawError(te.message??"Something went wrong",te.status))}),a})()}function XMe({clientThreadId:e,continuingFromSharedConversationId:t,onCompletionFinished:n=ke,onCreate:r=ke}){const s=Pe(),{resolvedTheme:o}=Sh(),a=o==="dark",c=Ah(),l=p.useRef(n),u=ZP();l.current=n;const d=p.useCallback(async function({model:f,completionType:h,parentNodeId:m,metadata:g,focusOnNewCompletion:v=!0,completionMetadata:y,chatReq:x,arkoseToken:b,turnstileToken:w,proofToken:C,preflightTime:T,extraStreamParams:_,prependMessages:k,appendMessages:M,updateTree:I,turnTracker:A,profiler:H}){jc.publish({kind:"requestCompletion"});const q=L.getTree(e);L.retainThread(e);const F=f9(),N=`${d9}${e}-${F}`,R=`${e}-${F}`;I?.();const B=q.getNodeByIdOrMessageId(m);q.getConversationTurns(m).length>2&&L.updateScrollToMessageId(e,B.message.id);const D={gizmo_id:B.message.metadata?.gizmo_id};y?.juice!=null&&(D.snorkle_status=1),L.updateTree(e,re=>{re.addNode(N,"",m,he.Assistant,void 0,D)}),v&&L.setThreadCurrentLeafId(e,N);let V,Z=[],se=q.getNodeByIdOrMessageId(B.parentId);for(;se!=null&&(se.metadata?.isPlaceholderTemplateAssistantWelcomeMessage===!0||se.metadata?.isClientCreatedSystemMessage===!0);){const re=se.message;Z.unshift(re);const Ce=q.getNodeByIdOrMessageId(se.parentId);V=Ce.message?.id??Ce.id,se=Ce}if(h===ds.Next||h===ds.Variant){const re=q.getNodeByIdOrMessageId(B.parentId);if(V??=re.message?.id??re.id,k){let Ce=B.parentId,st=B.id;L.updateTree(e,ne=>{for(const ot of k)ne.insertNodeBefore(st,{id:ot.id,message:ot,parentId:Ce,children:[]}),Ce=ot.id}),Z.push(...k)}if(Z.push(B.message),M){let Ce=m;L.updateTree(e,st=>{for(const ne of M)st.insertNodeBefore(N,{id:ne.id,message:ne,parentId:Ce,children:[]}),Ce=ne.id}),Z.push(...M)}Z=ZMe(Z,_)}else V??=B.message.id;const ae=L.getServerThreadId(e);ae===void 0&&So(e)&&L.updateInitialThreadDataForNewThread(e,f);async function be(re,Ce){const st=performance.now(),ne=await C$();hv.initializeAndGatherData(ne),X0.initializeAndGatherData(ne),pv.initializeAndGatherData(ne),L.updateTree(e,$l=>{for(const Xn of Ce)$l.addNode(Xn.id,Xn,re,he.Assistant,{completionSampleFinishTime:Date.now()}),re=Xn.id}),L.setThreadCurrentLeafId(e,re);const ot=await hv.getEnforcementToken(ne),Dt=await X0.getEnforcementToken(ne),Is=await pv.getEnforcementToken(ne);d({model:f,completionType:ds.Next,parentNodeId:re,metadata:{},chatReq:ne,arkoseToken:ot??null,turnstileToken:Dt??null,proofToken:Is??null,preflightTime:performance.now()-st,extraStreamParams:_,turnTracker:A})}A.updateAttachmentCount(Z);const te=new cke(s,e,N,h,f,g.eventSource,r,c,R,be,(...re)=>l.current(...re),A,u),G=(re,Ce,st)=>{re&&st.onReceivedRequestId(re),UTe(R,Ce,re,T)},Me={is_dark_mode:a,time_since_loaded:Math.floor(performance.now()/1e3),page_height:window?.innerHeight,page_width:window?.innerWidth,pixel_ratio:window?.devicePixelRatio,screen_height:window?.screen?.height,screen_width:window?.screen?.width},xe=await QMe(s,{conversationOrigin:L.getConversationOrigin(e),model:f,completionType:h,threadId:ae,continueFromSharedConversationId:t,historyDisabled:u,parentMessageId:V,messages:Z,chatReq:x,arkoseToken:b??null,turnstileToken:w??null,proofToken:C??null,completionMetadata:y,..._,turnTracker:A,profiler:H,contextualInfo:Me,isOnboardingConversation:y?.isOnboardingConversation},te.handleResponse,G);cc(e,{source:ss.CLIENT,value:Fn.STREAMING}),ao.addRequest(N,xe,A),A0.onCompletionRequestStarted(N)},[e,s,r,t,c,u,a]);return d}const ZMe=(e,t)=>{let n=e;return t?.forceUseSearch===!1&&e.length>0&&(n=e.map(r=>{const{system_hints:s,...o}=r.metadata||{};return{...r,metadata:{...o,system_hints:s?.filter(a=>a!==$t.Search)}}})),n},JMe=Ze(()=>Ye(()=>import("./cveic4vyc3zf0upn.js"),__vite__mapDeps([31,1,2,3,32,33,6])).then(e=>e.CAFeedbackModal));function eEe({clientThreadId:e,currentModelId:t,defaultModelId:n,onCompletionFinished:r,onThreadCreated:s,preRequestCompletion:o}){const a=c3(),c=vn(),{isUnauthenticated:l}=It(),u=h9(e),d=Pe(),f=xh(e),h=De(),m=hTe(e),g=B1(),v=qn(),{config:y}=Ph("1013114931"),x=y.get("show_follow_ups",!1)&&h?.isPersonalAccount(),b=!g.displayingSideBySideFeedback&&x,w=p.useCallback(F=>{const R=L.getTree(e).getLeafFromNode(F);L.setThreadCurrentLeafId(e,R.id)},[e]),C=J_e(t),[T,_]=p.useState(),k=p.useCallback(({nodeId:F,messageId:N,rating:R})=>{const B=L.getServerThreadId(e);E.logEvent(P.thumbRating,{id:N,threadId:B,rating:R,model:t});const Y=L.getTree(e),j=Y.getNodeByIdOrMessageId(F);if(B!==void 0&&!C&&X.submitMessageFeedback({message_id:N,conversation_id:B,rating:R}),L.updateTree(e,D=>{D.updateNodeMetadata(F,{rating:R})}),C){_(i.jsx(JMe,{citations:j.message.metadata?.citations??[],rating:R,conversationId:B??"",messageId:N,onSubmit:()=>{_(void 0)},onCancel:()=>_(void 0),conversationTree:Y,nodeId:F},`${F}-${R}`));return}},[e,t,C]),M=p.useCallback(F=>{if(F==null||(r?.(F),v)||(f?.kind===$e.GizmoInteraction&&S2.handleGizmoInteracted(d,f.gizmo_id),!(m||b)))return;const R=L.getThreadCurrentLeafId(F),B=L.getTree(F).getMessage(R);u$(B)||p9(B)||STe(F,B.id,t)},[f,t,r,d,m,b,v]),I=XMe({clientThreadId:e,continuingFromSharedConversationId:u,onCompletionFinished:M,onCreate:s}),A=p.useCallback(()=>{const F=L.getThreadCurrentLeafId(e);if(F==null)return;const R=L.getTree(e).getBranchFromLeaf(F);ao.abortRequests(R.map(B=>B.id))},[e]),H=p.useCallback(F=>TTe({cancelRequests:A,clientThreadId:e,currentModelId:t,debugSettings:a,defaultModelId:n,isUnauthenticated:l,navigateToAuth:c,preRequestCompletion:o,requestCompletion:I,...F}),[A,e,t,a,n,l,c,o,I]),q=p.useCallback((F,N,R,B=!0,Y="none",j)=>{const V=L.getTree(e).getParentPromptNode(F).id;H({type:ds.Variant,promptId:V,eventMetadata:N,cancelActiveRequests:!1,focusOnNewCompletion:B,useDefaultModel:j,completionMetadata:{variantPurpose:Y,conversationMode:vr.getConversationMode(e)},turnTracker:R})},[e,H]);return{caModal:T,onRequestCompletion:H,onRequestMoreCompletions:q,onChangeItemInView:w,onChangeRating:k,cancelRequests:A}}function tEe(){const t=tn()?.id,{currentWorkspace:n}=zn(({currentWorkspace:o})=>({currentWorkspace:o})),r=n?.id;return Nt.getItem(He.LastUsedModel,{workspaceId:r,userId:t})}function nEe(){const t=tn()?.id,{currentWorkspace:n}=zn(({currentWorkspace:o})=>({currentWorkspace:o})),r=n?.id;return p.useCallback(o=>{if(!o)return null;const a=Date.now(),c={modelId:o,updatedAt:a};Nt.setItem(He.LastUsedModel,c,{workspaceId:r,userId:t})},[r,t])}function rEe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var sEe=rEe,oEe=T$,aEe=$b;function iEe(e,t,n,r){var s=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var c=t[o],l=r?r(n[c],e[c],c,n,e):void 0;l===void 0&&(l=e[c]),s?aEe(n,c,l):oEe(n,c,l)}return n}var zp=iEe,cEe=zp,lEe=Mb;function uEe(e,t){return e&&cEe(t,lEe(t),e)}var dEe=uEe,fEe=zp,hEe=k$;function pEe(e,t){return e&&fEe(t,hEe(t),e)}var mEe=pEe,Zf={exports:{}};Zf.exports;(function(e,t){var n=YP,r=t&&!t.nodeType&&t,s=r&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===r,a=o?n.Buffer:void 0,c=a?a.allocUnsafe:void 0;function l(u,d){if(d)return u.slice();var f=u.length,h=c?c(f):new u.constructor(f);return u.copy(h),h}e.exports=l})(Zf,Zf.exports);var gEe=Zf.exports;function vEe(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var yEe=vEe,bEe=zp,xEe=m9;function wEe(e,t){return bEe(e,xEe(e),t)}var SEe=wEe,CEe=zp,_Ee=g9;function TEe(e,t){return CEe(e,_Ee(e),t)}var kEe=TEe,MEe=Object.prototype,EEe=MEe.hasOwnProperty;function PEe(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&EEe.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var $Ee=PEe,bE=v9;function AEe(e){var t=new e.constructor(e.byteLength);return new bE(t).set(new bE(e)),t}var X1=AEe,OEe=X1;function NEe(e,t){var n=t?OEe(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var IEe=NEe,jEe=/\w*$/;function REe(e){var t=new e.constructor(e.source,jEe.exec(e));return t.lastIndex=e.lastIndex,t}var DEe=REe,xE=M$,wE=xE?xE.prototype:void 0,SE=wE?wE.valueOf:void 0;function LEe(e){return SE?Object(SE.call(e)):{}}var FEe=LEe,BEe=X1;function UEe(e,t){var n=t?BEe(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var VEe=UEe,GEe=X1,WEe=IEe,HEe=DEe,zEe=FEe,qEe=VEe,YEe="[object Boolean]",KEe="[object Date]",QEe="[object Map]",XEe="[object Number]",ZEe="[object RegExp]",JEe="[object Set]",ePe="[object String]",tPe="[object Symbol]",nPe="[object ArrayBuffer]",rPe="[object DataView]",sPe="[object Float32Array]",oPe="[object Float64Array]",aPe="[object Int8Array]",iPe="[object Int16Array]",cPe="[object Int32Array]",lPe="[object Uint8Array]",uPe="[object Uint8ClampedArray]",dPe="[object Uint16Array]",fPe="[object Uint32Array]";function hPe(e,t,n){var r=e.constructor;switch(t){case nPe:return GEe(e);case YEe:case KEe:return new r(+e);case rPe:return WEe(e,n);case sPe:case oPe:case aPe:case iPe:case cPe:case lPe:case uPe:case dPe:case fPe:return qEe(e,n);case QEe:return new r;case XEe:case ePe:return new r(e);case ZEe:return HEe(e);case JEe:return new r;case tPe:return zEe(e)}}var pPe=hPe,mPe=Pc,CE=Object.create,gPe=function(){function e(){}return function(t){if(!mPe(t))return{};if(CE)return CE(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),vPe=gPe,yPe=vPe,bPe=E$,xPe=y9;function wPe(e){return typeof e.constructor=="function"&&!xPe(e)?yPe(bPe(e)):{}}var SPe=wPe,CPe=Gb,_Pe=Wb,TPe="[object Map]";function kPe(e){return _Pe(e)&&CPe(e)==TPe}var MPe=kPe,EPe=MPe,PPe=Hb,_E=P$,TE=_E&&_E.isMap,$Pe=TE?PPe(TE):EPe,APe=$Pe,OPe=Gb,NPe=Wb,IPe="[object Set]";function jPe(e){return NPe(e)&&OPe(e)==IPe}var RPe=jPe,DPe=RPe,LPe=Hb,kE=P$,ME=kE&&kE.isSet,FPe=ME?LPe(ME):DPe,BPe=FPe,UPe=b9,VPe=sEe,GPe=T$,WPe=dEe,HPe=mEe,zPe=gEe,qPe=yEe,YPe=SEe,KPe=kEe,QPe=w9,XPe=S9,ZPe=Gb,JPe=$Ee,e$e=pPe,t$e=SPe,n$e=ph,r$e=x9,s$e=APe,o$e=Pc,a$e=BPe,i$e=Mb,c$e=k$,l$e=1,u$e=2,d$e=4,b5="[object Arguments]",f$e="[object Array]",h$e="[object Boolean]",p$e="[object Date]",m$e="[object Error]",x5="[object Function]",g$e="[object GeneratorFunction]",v$e="[object Map]",y$e="[object Number]",w5="[object Object]",b$e="[object RegExp]",x$e="[object Set]",w$e="[object String]",S$e="[object Symbol]",C$e="[object WeakMap]",_$e="[object ArrayBuffer]",T$e="[object DataView]",k$e="[object Float32Array]",M$e="[object Float64Array]",E$e="[object Int8Array]",P$e="[object Int16Array]",$$e="[object Int32Array]",A$e="[object Uint8Array]",O$e="[object Uint8ClampedArray]",N$e="[object Uint16Array]",I$e="[object Uint32Array]",We={};We[b5]=We[f$e]=We[_$e]=We[T$e]=We[h$e]=We[p$e]=We[k$e]=We[M$e]=We[E$e]=We[P$e]=We[$$e]=We[v$e]=We[y$e]=We[w5]=We[b$e]=We[x$e]=We[w$e]=We[S$e]=We[A$e]=We[O$e]=We[N$e]=We[I$e]=!0;We[m$e]=We[x5]=We[C$e]=!1;function Cd(e,t,n,r,s,o){var a,c=t&l$e,l=t&u$e,u=t&d$e;if(n&&(a=s?n(e,r,s,o):n(e)),a!==void 0)return a;if(!o$e(e))return e;var d=n$e(e);if(d){if(a=JPe(e),!c)return qPe(e,a)}else{var f=ZPe(e),h=f==x5||f==g$e;if(r$e(e))return zPe(e,c);if(f==w5||f==b5||h&&!s){if(a=l||h?{}:t$e(e),!c)return l?KPe(e,HPe(a,e)):YPe(e,WPe(a,e))}else{if(!We[f])return s?e:{};a=e$e(e,f,c)}}o||(o=new UPe);var m=o.get(e);if(m)return m;o.set(e,a),a$e(e)?e.forEach(function(y){a.add(Cd(y,t,n,y,e,o))}):s$e(e)&&e.forEach(function(y,x){a.set(x,Cd(y,t,n,x,e,o))});var g=u?l?XPe:QPe:l?c$e:i$e,v=d?void 0:g(e);return VPe(v||e,function(y,x){v&&(x=y,y=e[x]),GPe(a,x,Cd(y,t,n,x,e,o))}),a}var j$e=Cd,R$e=j$e,D$e=1,L$e=4;function F$e(e){return R$e(e,D$e|L$e)}var B$e=F$e;const cu=ye(B$e);function U$e(e){return`https://chatgpt.com${kx(e)}`}function _ht(e,t,n,r){ml(U$e(e),t,n),r&&t.info(r,{testId:"copy-gizmo-url-toast"})}function Tht(e){return e.some(t=>t.type===C9.JIT_PLUGIN)}function V$e(e){return"gizmo_id"in e?e.gizmo_id??null:null}function kht(e){return{id:e.gizmo.id,instructions:e.gizmo.instructions,name:e.gizmo.display.name,description:e.gizmo.display.description??"",emoji:e.gizmo.display.emoji??void 0,theme:e.gizmo.display.theme??void 0,profilePictureId:e.gizmo.display.profile_pic_id??void 0,profilePictureUrl:e.gizmo.display.profile_picture_url??void 0,promptStarters:e.gizmo.display.prompt_starters??[],tools:cu(e.tools),files:cu(e.files),sharing:e.gizmo.sharing?cu(e.gizmo.sharing):{subjects:[],recipient:e.gizmo.share_recipient},trainingDisabled:e.gizmo.training_disabled??!1,sharingRecipient:e.gizmo.share_recipient,sharingTargets:cu(e.gizmo.sharing_targets),liveVersion:e.gizmo.live_version??0,contextStuffingBudget:e.gizmo.context_stuffing_budget}}const G$e=e=>["conversation","init",e],W$e=({clientThreadId:e,conversationMode:t,clientModelId:n},r)=>{const s=V$e(t),o=So(e)?null:e;return{gcTime:0,refetchOnWindowFocus:!0,refetchOnMount:"always",queryKey:G$e(e),queryFn:()=>X.getConversationDetails({conversationId:o,gizmoId:s,requestedDefaultModel:n}),enabled:!wV(e)}},H$e=e=>(Fe(),me(W$e(e))),z$e=(e,t)=>{const n=(typeof e=="string"?[e]:e)??[];for(const r of n)if(r&&t.has(r))return r;return null},q$e=(e,t,n)=>{const r=f2(),[s,o]=wo(),a=s.get("model"),{modelId:c=null}=tEe()??{};SV(e);const l=_9(e)??null,u=[a,l,c],d=z$e(u,r);p.useEffect(()=>{L.initThread(e,t,d),n?.shouldScrollToBottom&&L.updateScrollToMessageId(e,"finalAgentTurn"),mv.reset()},[e,n?.shouldScrollToBottom]);const f=()=>{o(v=>(v.delete("model"),v))},{isLoading:h,data:m}=H$e({clientThreadId:e,clientModelId:u.find(v=>!!v)??null,conversationMode:t}),g=QP();p.useEffect(()=>{if(!(!a||h)){if(!r.has(a)||g.find(v=>v.model_slug===a))return f();L.setThreadModelId(e,a)}},[a,g,r,e]),p.useEffect(()=>{if(h||!m)return;const{default_model_slug:v}=m;a&&v&&a!==v&&f(),mv.updateDetails(m),v&&L.setThreadModelId(e,v)},[h,m])};function Y$e({clientThreadId:e,setClientThreadId:t}){const n=Pe(),r=T9(),s=r?{kind:$e.GizmoInteraction,gizmo_id:r}:{kind:$e.PrimaryAssistant};q$e(e,s,{shouldScrollToBottom:!0});const o=yt(),a=Qa(e),c=p.useRef(a);c.current=a;const l=k9(e),u=Rc(e),{data:d}=Xa(u),f=!1,h=p.useCallback(()=>{t?.(M9());const v=c.current;o(v.tags.includes(Js.GPT_4)?"/":`/?model=${v.id}`,{replace:!0})},[t,o]),m=Q_e({clientThreadId:e,location:"Model switcher menu item"}),g=p.useCallback((v,y)=>{l||y||ike(o,n,v)},[l,d,f,o,n]);return{createNewThread:m,onThreadCreated:g,resetThread:h}}function S5(){return{caModal:null,clientThreadId:"",isLoggedInUser:!1,focusedObject:null,currentModelId:"",isModelLoaded:!1,isEmbeddedInFocusedView:!1,isInstalledApp:!1,isCompanionWindow:!1,conversationLeafId:"",onNewThread:()=>{throw new Error("onNewThread not implemented")},onRequestCompletion:()=>{throw new Error("onRequestCompletion not implemented")},onChangeItemInView:()=>{throw new Error("onChangeItemInView not implemented")},onChangeRating:()=>{throw new Error("onChangeRating not implemented")},onRequestMoreCompletions:()=>{throw new Error("onRequestMoreCompletions not implemented")},resetThread:()=>{throw new Error("resetThread not implemented")}}}const C5=p.createContext(S5());function yi(){try{return p.useContext(C5)}catch{return S5()}}function Mht({children:e,clientThreadId:t,setClientThreadId:n,prefetchSearch:r}){const{createNewThread:s,onThreadCreated:o,resetThread:a}=Y$e({clientThreadId:t,setClientThreadId:n}),c=v2(),l=m2(t),u=vh(t),d=$o(),f=c.id,h=l??f,m=Ah(),g=E1(),v=X_e(),{isUnauthenticated:y}=It(),x=!y,{caModal:b,onRequestCompletion:w,onChangeItemInView:C,onChangeRating:T,onRequestMoreCompletions:_}=eEe({clientThreadId:t,currentModelId:h,defaultModelId:c.id,onThreadCreated:o});return i.jsx(C5.Provider,{value:{caModal:b,clientThreadId:t,currentModelId:h,isModelLoaded:!!l,isEmbeddedInFocusedView:d,isInstalledApp:g,isLoggedInUser:x,isCompanionWindow:m,focusedObject:v,conversationLeafId:u,onNewThread:s,onRequestCompletion:w,onChangeItemInView:C,onChangeRating:T,onRequestMoreCompletions:_,resetThread:a,prefetchSearch:r},children:e})}const _5=e=>{const{isLoading:t,value:n}=lt("80186230"),r=As(),{eligible:s,isLoading:o,markAsViewed:a}=Ue(e);return{markAsViewed:a,eligible:!r&&s&&n,isLoading:o||t}};function Eht(){return _5(Ee.hasDismissedCanvasOnboarding)}function Pht(){return _5(Ee.hasDismissedCanvasContextualOnboarding)}const Jf=10,T5=4,eh={duration:20,hasCloseButton:!0},k5=512,K$e=k5*1024*1024,M5={duration:20,hasCloseButton:!0};function ga(e){return JSON.stringify({file:e.name,modified:e.lastModified,currentTime:new Date().toString()})}function rb(e){return new Promise((t,n)=>{const r=new FileReader,s=new Image;r.onload=()=>{s.onload=()=>t(s),s.onerror=o=>n(o),s.src=r.result},r.readAsDataURL(e)})}async function Z1(e,t,n,r,s,o,a){const c={ENTRY_CREATED:10,FILE_UPLOADED:60,FILE_PROCESSED:100};let l=sr.Initial;E.logEvent(P.uploadFileInitiated,{client:"web",useCase:s.kind,uploadEntry:"local"});const u=a.usesRetrievalIndex??!1,d=u?performance.now():void 0,f=c3.getState().resetRateLimits;try{const{file_id:h,upload_url:m}=await X.createFile(t.name,t.size,s,!!f);o.onFileCreated(e,h,m),l=sr.FileCreated,o.onFileUploadProgress(e,c.ENTRY_CREATED);const g=s.kind===Kt.Gizmo?s.gizmoId:void 0,v=u,y={client:"web",useCase:s.kind,uploadEntry:"local",fileId:h,fileSize:t.size};E.logEvent(P.blobStoreUploadStarted,y);const x=await X.uploadFileToAzureStorage(t,m,T=>{o.onFileUploadProgress(e,c.ENTRY_CREATED+(c.FILE_UPLOADED-c.ENTRY_CREATED)*T)});o.onFileUploadProgress(e,c.FILE_UPLOADED),x.status!==201&&(E.logEvent(P.blobStoreUploadError,{...y,error_type_name:`HTTPStatus${x.status}`,error_msg:`HTTP status ${x.status}: ${x.statusText}`,error_stack:""}),Q$e(x,h,v)),E.logEvent(P.blobStoreUploadCompleted,y),l=sr.FileUploaded;const b=z.checkGate("1371760254"),w=z.checkGate("2451420520"),C=g?w:b;if(C){const T={file_id:h,use_case:s.kind,gizmo_id:g,index_for_retrieval:u,file_name:t.name},_=await X.processFileUploadStream(T,k=>{o.onFileUploadProgress(e,c.FILE_UPLOADED+(c.FILE_PROCESSED-c.FILE_UPLOADED)*k/100)});l=sr.FileProcessed,o.onFileUploaded(e,h,a.imageDimensions,_),u&&(l=sr.RetrievalIndexCreated)}else if(await X.processFileUpload(h,{gizmoId:g}),l=sr.FileProcessed,u){const T=await E5(h,g);T?.status===Hi.Skipped&&r.danger(n.formatMessage($5.retrievalSkippedFile,{fileName:T.name}),M5),o.onFileUploaded(e,h,void 0,{fileTokenSize:T.file_size_tokens}),l=sr.RetrievalIndexCreated}else o.onFileUploaded(e,h,a.imageDimensions);d!=null&&X.postRetrievalTiming({e2eLatencyMs:performance.now()-d,type:"file",stream:C})}catch(h){P5(n,r,t.name,h);let m="NotInstanceOfError";h instanceof Pt?m=`${h.name}_${h.status}`:(h instanceof Error||h instanceof $r)&&(m=h.name),o.onError(e,"error",m,s,l)}}async function $ht(e,t,n,r,s,o){const{width:a,height:c}=await rb(t);return Z1(e,t,n,r,{kind:s},o,{imageDimensions:{width:a,height:c}})}async function E5(e,t){const n=Date.now()+6e4,r=o=>new Promise(a=>setTimeout(a,o));let s=0;for(;Date.now()<n;){const o=await X.getRetrievalStatus(e,t);if(o.status===Hi.Success||o.status===Hi.Skipped)return o;if(o.status===Hi.Failed)throw new $r("Context extraction failed",o.error_code);s++,await r(Math.min(1e3,100*s))}throw new $r("Retrieval indexing timed out")}async function Q$e(e,t,n=!1){let r="Unknown error";try{r=await e.data}catch{}throw n&&X.markFileUploadFailed(t,{error:r}),new $r("File upload to blobstore failed","failed_upload_to_blobstore")}function P5(e,t,n,r){let s=$0(e,"default_upload_error",{fileName:n});r instanceof $r&&r.code!=null&&(s=$0(e,r.code)),t.danger(s,M5)}const $5=K({retrievalSkippedFile:{id:"useFilePickerState.retrievalSkippedFile",defaultMessage:'Unable to extract text from "{fileName}"'}}),A5={files:[],connectorFileData:{}},O5=p.createContext(null);function Aht({children:e,initialState:t=A5}){const[n]=p.useState(()=>wh(()=>t));return i.jsx(O5.Provider,{value:n,children:e})}function _l(){const e=p.useContext(O5);if(e==null)throw new Error("useFilePickerState must be used inside a FilePickerContext");return e}function N5(e){const t=_l();return $c(t,e)}const X$e={hasUploadInProgress:({files:e})=>e.some(t=>t.status===es.Uploading),getReadyFiles:({files:e})=>e.filter(t=>t.status===es.Ready)},Gg=2048;async function Z$e(e,t,n,r,s,o,a,c,l){const u=performance.now();E.logEvent(P.uploadFileInitiated,{client:"web",useCase:r.kind,contextConnector:o.contextConnector,fileSourceType:o.type});let d=sr.Initial;const f=I5(e);r.kind===Kt.Gizmo&&(r={...r,kind:s.includes(J1(n))?Kt.Multimodal:Kt.MyFiles});try{const h=await X.uploadConnectorAPI(t,o.contextConnector,r,n,a,o.o365DriveId,o.manifest);switch(h.type){case"error":throw J$e(h.error);case"file":{switch(f.onFileCreated(t,h.file.id,"",o.contextConnector),d=sr.FileProcessed,r.kind){case Kt.MyFiles:{f.onFileUploadProgress(t,90);const m=await E5(h.file.file_id,a);m?.status===Hi.Skipped&&l.danger(c.formatMessage($5.retrievalSkippedFile,{fileName:m.name}),eh),f.onFileUploaded(t,h.file.file_id,void 0,{fileTokenSize:m.file_size_tokens,mimeType:h.file.mime_type}),d=sr.RetrievalIndexCreated;break}case Kt.Multimodal:{f.onFileUploaded(t,h.file.file_id,{width:512,height:512},{mimeType:h.file.mime_type});break}case Kt.AceUpload:{f.onFileUploaded(t,h.file.file_id,void 0,{mimeType:h.file.mime_type});break}case Kt.DalleAgent:case Kt.Gizmo:case Kt.ProfilePicture:throw new $r(`Use case not supported by cloud doc: ${r.kind}`)}break}case"folder":throw new $r("Folder type not supported")}X.postRetrievalTiming({e2eLatencyMs:performance.now()-u,type:o.contextConnector})}catch(h){ue.addError(new Error(`Failed to upload connected file by ${o.contextConnector}`,{cause:h}));const m=RR(n.name,o?.syntheticExtension);P5(c,l,m,h);let g="NotInstanceOfError";h instanceof Pt?g=`${h.name}_${h.status}`:(h instanceof Error||h instanceof $r)&&(g=h.name),f.onError(t,"error","connector_upload_"+g,{kind:Kt.MyFiles},d)}}function J1(e){return e.type||x1(e.name)}function J$e({status_code:e,error_code:t,error_message:n}){if(e&&e<500){let r="internal_error";return t?r=t:e===404?r="file_not_found":e===403?r="permission_error":e===413&&(r="file_too_large"),new $r(n,r)}else return Pt.createWithErrorMessage("/connectors/upload","server",n)}const pn={reset:e=>{e.setState(A5)},uploadFile:async(e,t,n,r,s,o,a,c={},l,u)=>{const{gizmoId:d}=c,f=e.getState().files,h=Mbe(r,n.name,n.type,u?.contextConnector,l),m={tempId:t,gizmoId:c.gizmoId,status:es.Uploading,file:n,progress:1,fileId:null,cdnUrl:null,contextConnectorInfo:u,contextConnector:u?.contextConnector};if(f.length===Jf)E.logEvent(P.uploadedMaxFilesError),a.danger(o.formatMessage(EE.maxUploadsAtATime,{maxUploads:Jf,fileName:n.name}),eh);else if(f.some(g=>g.tempId===t))E.logEvent(P.uploadedDuplicateFileError),a.danger(o.formatMessage(EE.duplicateFileAttached,{fileName:n.name.length>20?n.name.slice(0,19)+"…":n.name}),eh);else{e.setState(({files:y})=>({files:[...y,m]}));let g;const v={};if(s.includes(n.type)){if(g={kind:Kt.Multimodal},!u){let{width:y,height:x}=await rb(n);if(y>Gg||x>Gg)try{const b=await IR(n,Gg),w=await rb(b);y=w.width,x=w.height,n=b}catch(b){ue.addError(new Error("Error resizing image:",{cause:b}))}v.imageDimensions={width:y,height:x}}}else switch(h){case Xe.Multimodal:throw new Error(`Multimodal file upload not supported mime type, ${n.type}
Supported mime types: `+s.join(", "));case Xe.Interpreter:g={kind:Kt.AceUpload};break;case Xe.Retrieval:g={kind:Kt.MyFiles},v.usesRetrievalIndex=!0;break;case Xe.ProfilePicture:throw new Error("cannot upload profile picture via uploadFile");case Xe.ContextConnector:case Xe.None:return}d!=null&&(g={kind:Kt.Gizmo,gizmoId:d}),c.skipUpload||(u?await Z$e(e,t,n,g,s,u,c.gizmoId,o,a):await Z1(t,n,o,a,g,I5(e),v))}},createFileCompleted:(e,t,n,r,s)=>{const o=e.getState().files,a=o.findIndex(l=>l.tempId===t),c=o[a];if(a>=0&&c.status===es.Uploading){const l=[...o];l.splice(a,1,{...c,progress:10,fileId:n,cdnUrl:r,contextConnector:s}),e.setState({files:l})}},updateProgress:(e,t,n)=>{const r=e.getState().files,s=r.findIndex(a=>a.tempId===t),o=r[s];if(s>=0&&o.status===es.Uploading){const a=[...r];a.splice(s,1,{...o,progress:n}),e.setState({files:a})}},uploadCompleted:(e,t,n,r,s,o)=>{const a=e.getState().files,c=a.findIndex(l=>l.tempId===t);if(c>=0&&a[c].status===es.Uploading&&a[c].fileId!=null){const l=a[c],u=[...a],d={...l,tempId:t,status:es.Ready,progress:100,fileSpec:{name:l.file.name,id:l.fileId,size:l.file.size,contextConnectorInfo:l.contextConnectorInfo,mimeType:s?.mimeType??J1(l.file),...r||{},...s||{}}};u.splice(c,1,d);const f={...e.getState().connectorFileData};o&&(f[o?.file_id]=o),e.setState({files:u,connectorFileData:f}),E.logEvent(P.uploadFileCompleted,{status:l.status,fileId:l.fileId,contextConnector:l.contextConnector??"local"})}},remove:(e,t,n,r,s,o)=>{const a=e.getState().files,c=a.findIndex(l=>l.tempId===t);if(c>=0){const l=a[c];n==="error"?E.logEvent(P.uploadFileError,{status:l.status,fileId:l.fileId,client:"web",errorClassName:r??"undefined",useCaseType:s,uploadStatus:o??"undefined",contextConnector:l.contextConnector}):E.logEvent(P.removeFile,{status:l.status,fileId:l.fileId});const u=[...a];u.splice(c,1),e.setState({files:u})}}},I5=e=>({onFileCreated:pn.createFileCompleted.bind(null,e),onFileUploadProgress:pn.updateProgress.bind(null,e),onFileUploaded:pn.uploadCompleted.bind(null,e),onError:pn.remove.bind(null,e)}),EE=K({maxUploadsAtATime:{id:"useFilePickerState.maxUploadsAtATime",defaultMessage:"Unable to upload {fileName}. Max {maxUploads} uploads at a time"},duplicateFileAttached:{id:"useFilePickerState.duplicateFileAttached",defaultMessage:"Unable to upload {fileName} because an identical file has already been attached to this message."}});function Oht(e,t,n,r){let s=X$e.getReadyFiles(e.getState());r?.kind===$e.GizmoMagicCreate?s=s.filter(h=>h.gizmoId!=null):s=s.filter(h=>h.gizmoId==null);let o=t??"";const a=[],c=[],l=Bf(n,r),d=OR(n,r).length>0,f=l===Xe.Interpreter||l===Xe.Retrieval||l===Xe.ContextConnector;return s.forEach(({fileSpec:h})=>{if(f){const m=h.contextConnectorInfo;a.push({id:h.id,size:h.size,name:h.name,context_connector_info:m?{context_connector:m?.contextConnector,source_url:m?.sourceUrl,synthetic_extension:m?.syntheticExtension??null,type:m?.type}:void 0,mime_type:h.mimeType,width:"width"in h?h.width:void 0,height:"height"in h?h.height:void 0,file_token_size:h.fileTokenSize})}d&&"width"in h&&"height"in h&&c.push({content_type:oc.ImageAssetPointer,asset_pointer:_be(h.id),size_bytes:h.size,width:h.width,height:h.height})}),c.length>0&&(c.push(t??""),o={content_type:an.MultimodalText,parts:c}),{content:o,attachments:a}}async function Nht({clientThreadId:e,currentRequestId:t,queryClient:n,isHistoryAndTrainingDisabled:r}){const s=L.getServerThreadId(e),o=L.getTree(e);!o.hasReceivedServerCompletion&&!r&&o.getParent(t).metadata?.errCode!==Vn.ContentPolicy&&setTimeout(()=>{eb.onCreateFinished(n,s,r)},500),s&&z.checkGate("3922476776")&&await X.stopConversationProcess(s),ao.abortRequest(t)&&L.updateTree(e,c=>{const l=L.getThreadCurrentLeafId(e);c.updateNodeMessageMetadata(l,{finish_details:{type:"interrupted"}})})}const Iht=Le(e=>({targetedContent:void 0,setTargetedContent:t=>{e({targetedContent:t})}}));function jht(){const{eligible:e,isLoading:t,markAsViewed:n}=Ue(Ee.NewOnboardingFlow),[r,s]=p.useState(!0),o=As();return{isOpen:e&&r&&!o,isLoading:t,setIsOpen:s,markAsViewed:n}}var eS=(e=>(e.SonicHome="sonic.web.home",e.SonicServer="sonic.ssr.search",e.SonicBusinessesMap="sonic.web.businessesMap",e.ChatPageLoad="chatgpt.web.pageLoad",e.CompletionRequest="chatgpt.web.completionRequest",e.ProofOfWork="chatgpt.web.proofOfWork",e.GetDiffedDoc="chatgpt.web.canvas.getDiffedDoc",e.GetPositionTransformer="chatgpt.web.canvas.getPositionTransformer",e))(eS||{});class eAe{namespace;expectedTimingLogs;expectedTimingLogTimeouts={};startMs=-1;lastLogMs=-1;loggedTimings=new Set;timingBlocks={};debug=!1;constructor(t,n){this.namespace=t,this.expectedTimingLogs=n?.expectedTimingLogs??[],this.debug=n?.debug??!1,this.reset()}reset(){this.startMs=this.lastLogMs=performance.now(),this.timingBlocks={},this.loggedTimings=new Set;for(const t of Object.values(this.expectedTimingLogTimeouts))clearTimeout(t);this.expectedTimingLogTimeouts={};for(const t of this.expectedTimingLogs){const n=setTimeout(()=>{ue.addAction(`${this.namespace}.${t.name}.timed_out`,t.initializationInfo??{})},t.expectedInMs);this.expectedTimingLogTimeouts[t.name]=n,this.debug&&console.debug(`[DatadogProfiler] Expecting ${this.namespace}.${t.name} to be logged within ${t.expectedInMs}ms`)}}logTiming(t,n={fromLastLog:!1}){if(this.loggedTimings.has(t)){console.warn(`[DatadogProfiler] Timing ${this.namespace}.${t} already logged`);return}const r=performance.now()-(n.fromLastLog?this.lastLogMs:this.startMs);ue.addAction(`${this.namespace}.${t}`,{durationMs:r,...n.context}),this.lastLogMs=performance.now(),this.loggedTimings.add(t),t in this.expectedTimingLogTimeouts&&(clearTimeout(this.expectedTimingLogTimeouts[t]),delete this.expectedTimingLogTimeouts[t]),this.debug&&console.debug(`[DatadogProfiler] ${this.namespace}.${t}: ${r}ms`)}startBlock(t){this.timingBlocks[t]=performance.now()}endBlock(t,n={throwError:!0}){const r=this.timingBlocks[t];if(r===void 0&&n.throwError)throw new Error(`Block "${t}" not started`);const s=performance.now()-r;ue.addAction(`${this.namespace}.${t}`,{durationMs:s}),delete this.timingBlocks[t]}}const Tc={};function tAe({namespace:e,opts:t}){return Tc[e]!==void 0&&ue.addError(`Profiler already exists for namespace ${e}`),Tc[e]=new eAe(e,t)}function j5({namespace:e}){return Tc[e]}function nAe({namespace:e,opts:t}){let n=Tc[e];return n===void 0&&(n=Tc[e]=tAe({namespace:e,opts:t})),n}function Rht({namespace:e,opts:t}){const[n]=p.useState(()=>nAe({namespace:e,opts:t}));return n}var tS=(e=>(e.Personal="chat",e.Workspace="workspace",e.Team="team",e))(tS||{});const rAe=({dismissLink:e,onLogInButtonClick:t,onSignUpButtonClick:n,subtitle:r,title:s})=>{const a=Eo()?"center":"bottom",c=xl(),l=pi(PE.signUpCta),u=i.jsx(ce,{as:"button",size:"large",color:c?"secondary":"primary",onClick:n,fullWidth:!0,children:i.jsx(S,{...l})}),d=i.jsx(ce,{as:"button",size:"large",color:c?"primary":"secondary",fullWidth:!0,onClick:t,children:i.jsx(S,{...PE.logInCta})}),f=c?[d,u]:[u,d];return i.jsx(je,{isOpen:!0,onClose:ke,shouldIgnoreClickOutside:!0,showCloseButton:!1,type:"success",noPadding:!0,position:a,size:"custom",className:"max-w-[373px] sm:max-w-[400px]",children:i.jsxs("div",{className:"flex flex-col items-center justify-center px-6 py-8 sm:px-10 sm:pb-10 sm:pt-12",children:[i.jsx("p",{className:"mb-1 text-center text-2xl font-semibold",children:i.jsx(S,{...s})}),i.jsx("p",{className:"mb-6 text-center text-token-text-secondary",children:i.jsx(S,{...r})}),i.jsx("div",{className:"flex w-full flex-col gap-2 sm:gap-2.5",children:f}),e?i.jsx("a",{href:"#",className:"mt-5 cursor-pointer text-sm font-semibold text-token-text-secondary underline",onClick:h=>{h.preventDefault(),e.onClick()},children:i.jsx(S,{...e.text})}):null]})})},PE=K({signUpCta:{id:"NoAuthModal.signUpCta",defaultMessage:"Sign up"},logInCta:{id:"NoAuthModal.logInCta",defaultMessage:"Log in"}});function nS(){return mn.getCookie(cn.HasLoggedInBefore)!=null}function Dht(){const{value:e}=mt("2173548801"),{layer:t}=$$("3637408529");return e?t.get("is_anon_chat_enabled",!1):!1}const $E=10,sAe=({type:e="default"}={})=>{const[t,n]=p.useState(()=>sessionStorage.getItem(He.NoAuthHasDismissedSoftRateLimitModal)!=null),{isUnauthenticated:r,isLoading:s}=It(),o=nS(),a=XD(g=>g.userMessageCount),c=p.useRef(a),l=a>=$E,[u,d]=p.useState(!1);p.useEffect(()=>{c.current<a&&(c.current=a,a===$E&&d(!0))},[a]);const f=r&&l&&(e==="default"||u)&&!t&&!o&&!s,h=p.useCallback(()=>{f&&(E.logEvent(P.noAuthSoftRateLimitModalShown),z.logEvent("chatgpt_no_auth_soft_rate_limit_modal_shown"))},[f]),m=()=>{n(!0),sessionStorage.setItem(He.NoAuthHasDismissedSoftRateLimitModal,"true")};return s?{isLoading:!0,isOpen:null,onClose:null,onMount:null}:{isLoading:!1,isOpen:f,onClose:m,onMount:h}},Lht=({onClose:e})=>{const t=vn(),n=xl(),{isOpen:r,onClose:s,onMount:o}=sAe();return p.useEffect(()=>{o?.()},[o]),r?i.jsx(rAe,{dismissLink:{text:lu.stayLoggedOutLink,onClick:()=>{E.logEvent(P.noAuthSoftRateLimitModalStayLoggedOutLinkClicked),z.logEvent("chatgpt_no_auth_soft_rate_limit_modal_stay_logged_out_link_clicked"),e(),s()}},onLogInButtonClick:()=>{t({authType:"login",callback:a=>{E.logLogInButtonClicked({provider:a,location:"No Auth Soft Rate Limit Modal"})}})},onSignUpButtonClick:()=>{t({authType:"signup",callback:a=>{E.logSignUpButtonClicked({provider:a,location:"No Auth Soft Rate Limit Modal"})}})},subtitle:n?lu.logInSubtitle:lu.signUpSubtitle,title:lu.title}):null},lu=K({title:{id:"NoAuthSoftRateLimitModal.title",defaultMessage:"Thanks for trying ChatGPT"},signUpSubtitle:{id:"zpngdW",defaultMessage:"Sign up or log in to get smarter responses, upload files and images, and more."},logInSubtitle:{id:"iVew+I",defaultMessage:"Log in or sign up to get smarter responses, upload files and images, and more."},stayLoggedOutLink:{id:"NoAuthWelcomeBackModal.stayLoggedOut",defaultMessage:"Stay logged out"}}),AE="has-dismissed-welcome-back-modal",oAe=()=>{const[e,t]=p.useState(()=>sessionStorage.getItem(AE)!=null),{layer:n}=_n("3637408529"),r=n.get("is_no_auth_welcome_back_modal_enabled",!1),{isUnauthenticated:s,isLoading:o}=It(),a=nS(),c=()=>{t(!0),sessionStorage.setItem(AE,"true")};return o?{isLoading:!0,isOpen:null,onClose:null}:{isLoading:!1,isOpen:s&&r&&!e&&a,onClose:c}},Fht=({onClose:e})=>{const t=vn(),n=Eo(),r=pi(Ri.signUpCta),s=n?"center":"bottom",{isOpen:o,onClose:a}=oAe();return p.useEffect(()=>{o&&(E.logEvent(P.noAuthWelcomeBackModalShown),z.logEvent("chatgpt_no_auth_welcome_back_modal_shown"))},[o]),o?i.jsx(je,{isOpen:!0,onClose:ke,shouldIgnoreClickOutside:!0,showCloseButton:!1,type:"success",noPadding:!0,size:"custom",className:"max-w-[373px] sm:max-w-[400px]",position:s,children:i.jsxs("div",{className:"flex flex-col items-center justify-center px-6 py-8 sm:p-10",children:[i.jsx("p",{className:"mb-1 text-center text-2xl font-semibold",children:i.jsx(S,{...Ri.title})}),i.jsx("p",{className:"mb-6 text-center text-lg text-token-text-secondary",children:i.jsx(S,{...Ri.subtitle})}),i.jsx(ce,{as:"button",size:"large",color:"primary",fullWidth:!0,className:"mb-2 sm:mb-3","data-testid":"welcome-login-button",onClick:()=>{t({authType:"login",callback:c=>{E.logLogInButtonClicked({provider:c,location:"No Auth Welcome Back Modal"})}})},children:i.jsx(S,{...Ri.logInCta})}),i.jsx(ce,{as:"button",size:"large",color:"secondary",fullWidth:!0,className:"mb-5",onClick:()=>{t({authType:"signup",callback:c=>{E.logSignUpButtonClicked({provider:c,location:"No Auth Welcome Back Modal"})}})},children:i.jsx(S,{...r})}),i.jsx("a",{href:"#",className:"cursor-pointer font-semibold text-token-text-secondary underline sm:text-sm",onClick:c=>{c.preventDefault(),E.logEvent(P.noAuthWelcomeBackModalStayLoggedOutLinkClicked),z.logEvent("chatgpt_no_auth_welcome_back_modal_stay_logged_out_link_clicked"),e(),a()},"data-testid":"dismiss-welcome",children:i.jsx(S,{...Ri.stayLoggedOutLink})})]})}):null},Ri=K({title:{id:"NoAuthWelcomeBackModal.title",defaultMessage:"Welcome back"},subtitle:{id:"7WQi5y",defaultMessage:"Log in or sign up to get smarter responses, upload files and images, and more."},signUpCta:{id:"NoAuthWelcomeBackModal.signUpCta",defaultMessage:"Sign up"},logInCta:{id:"NoAuthWelcomeBackModal.logInCta",defaultMessage:"Log in"},stayLoggedOutLink:{id:"NoAuthWelcomeBackModal.stayLoggedOut",defaultMessage:"Stay logged out"}});function aAe(){const e=p.useRef(iAe()),t=vn(),n=p.useCallback(()=>{e.current?E.logEventWithStatsig(P.noAuthPunchOutSignInAsModalShown,"chatgpt_no_auth_punch_out_sign_in_as_modal_shown"):console.warn("PunchOutSignInAsModal is being mounted without punchOutRequireLoginInfo")},[]);return{onCancelButtonClick:()=>{E.logEventWithStatsig(P.noAuthPunchOutSignInAsModalCancelButtonClicked,"chatgpt_no_auth_punch_out_sign_in_as_modal_cancel_button_clicked"),sb()},onContinueButtonClick:({token:o})=>{E.logEventWithStatsig(P.noAuthPunchOutSignInAsModalContinueButtonClicked,"chatgpt_no_auth_punch_out_sign_in_as_modal_continue_button_clicked"),sb(),t({authType:"login",callback:a=>{E.logLogInButtonClicked({location:"No Auth Punch Out Sign In As Modal",provider:a})},callbackUrl:`/continue_from_api?token=${o}`})},onMount:n,punchOutRequireLoginInfo:e.current}}function iAe(){if(typeof window>"u")return null;const e=mn.getCookie(cn.PunchOutRequireLoginInfo);if(!e)return null;try{const t=JSON.parse(e);return E9(t,P9),t}catch(t){sb(),t instanceof $9?console.warn("Invalid struct for punch out require login info",t):ue.addError("Failed to parse punch out require login info",{error:t})}return null}function sb(){mn.deleteCookie(cn.PunchOutRequireLoginInfo)}const Bht=({onClose:e})=>{const{onCancelButtonClick:t,onContinueButtonClick:n,onMount:r,punchOutRequireLoginInfo:s}=aAe(),a=Po()?"medium":"large";if(p.useEffect(r,[r]),!s)return null;const{email:c}=s;return i.jsx(je,{isOpen:!0,noPadding:!0,onClose:ke,shouldIgnoreClickOutside:!0,showCloseButton:!1,size:"custom",type:"success",className:"max-w-md",children:i.jsxs("div",{className:"flex flex-col p-6",children:[i.jsx("div",{className:"mb-6 text-center text-xl font-medium md:text-left",children:i.jsx(S,{id:"0e8g2r",defaultMessage:"Sign in as {email}?",values:{email:c}})}),i.jsxs("div",{className:"flex flex-col gap-3 md:flex-row-reverse md:gap-2 md:self-end",children:[i.jsx(ce,{color:"primary",size:a,onClick:()=>n(s),children:i.jsx(S,{...Zt.continueButtonText})}),i.jsx(ce,{color:"secondary",size:a,onClick:()=>{t(),e()},children:i.jsx(S,{...Zt.cancelButtonText})})]})]})})};function Tl(){return Fr()?.includes(Lb.Sunshine)??!1}function R5(){const{data:e}=Ed(Ta.Sunshine),t=Tl();return!!e&&t}function cAe(){return lt("1611573287").value??!1}function lAe(){const e=R5(),t=cAe();return e&&t}const D5=Ee.MemoryOnboarding;function uAe(){const e=Tl(),{eligible:t,isLoading:n}=Ue(D5);return{eligible:t&&e,isLoading:n}}function Wg({icon:e,title:t,description:n}){return i.jsxs("div",{className:"flex items-start",children:[i.jsx("div",{className:"mt-1",children:e}),i.jsxs("div",{className:"ml-4",children:[i.jsx("div",{className:"text-lg font-semibold",children:t}),i.jsx("p",{className:"mt-1 text-sm text-token-text-secondary",children:n})]})]})}function Uht({onClose:e}){const t=dAe(),n=A9(),r=U(),{markAsViewed:s}=Ue(D5),o=p.useCallback(()=>{s(),e()},[s,e]);return i.jsx(je,{isOpen:!0,onClose:ke,size:"custom",className:"max-w-xl",type:"success",title:r.formatMessage(nr.title),secondaryButton:t?i.jsx(Ct.Button,{onClick:async()=>{try{await n.mutateAsync({setting:Ta.Sunshine,value:!1}),o()}catch{}},title:r.formatMessage(nr.notNow),color:"secondary"}):null,primaryButton:t?i.jsx(Ct.Button,{onClick:async()=>{try{await n.mutateAsync({setting:Ta.Sunshine,value:!0}),o()}catch{}},title:r.formatMessage(nr.enable),color:"primary"}):i.jsx(Ct.Button,{onClick:o,title:r.formatMessage(nr.continue),color:"primary"}),children:i.jsxs("div",{className:"mb-6 flex flex-col gap-3",children:[i.jsx(Wg,{icon:i.jsx(x7,{}),title:r.formatMessage(nr.bulletTitle1),description:r.formatMessage(nr.bulletDescription1)}),i.jsx(Wg,{icon:i.jsx(w7,{}),title:r.formatMessage(nr.bulletTitle2),description:i.jsx(S,{...nr.bulletDescription2,values:{learnMoreLink:a=>i.jsx("a",{href:"https://help.openai.com/en/articles/8590148-memory-faq",target:"_blank",rel:"noreferrer",className:"cursor-pointer underline",children:a})}})}),i.jsx(Wg,{icon:i.jsx(S7,{}),title:r.formatMessage(nr.bulletTitle3),description:r.formatMessage(nr.bulletDescription3)})]})})}function dAe(){const{value:e}=mt("1542198993");return e}const nr=K({title:{id:"MemoryOnboardingModal.title.1",defaultMessage:"ChatGPT now has memory"},bulletTitle1:{id:"MemoryOnboardingModal.bulletTitle1",defaultMessage:"Keep the conversation going"},bulletDescription1:{id:"MemoryOnboardingModal.bulletDescription1.1",defaultMessage:"ChatGPT will automatically remember details and preferences you share in your conversations, carrying them between chats."},bulletTitle2:{id:"MemoryOnboardingModal.bulletTitle2.1",defaultMessage:"A smarter assistant"},bulletDescription2:{id:"MemoryOnboardingModal.bulletDescription2.2",defaultMessage:"Memories are used to give you more relevant responses and may be used to train our models if you have model training enabled. <learnMoreLink>Learn more</learnMoreLink>"},bulletTitle3:{id:"MemoryOnboardingModal.bulletTitle3",defaultMessage:"You're in control"},bulletDescription3:{id:"MemoryOnboardingModal.bulletDescription3.2",defaultMessage:"Review or clear specific memories, restart from scratch, or turn the feature on or off in settings."},continue:{id:"MemoryOnboardingModal.continue",defaultMessage:"Continue"},notNow:{id:"MemoryOnboardingModal.notNow",defaultMessage:"Not now"},enable:{id:"MemoryOnboardingModal.enable",defaultMessage:"Enable"}});var Vs=(e=>(e.paid_users_only="paid_users_only",e.unsupported_app_version="unsupported_app_version",e))(Vs||{});const fAe=()=>{const{value:e,isLoading:t}=lt("2335877601"),{value:n,isLoading:r}=lt("2441614537"),{doesUserHaveAnyAccountsWithPlusFeatures:s,isLoading:o}=Cs();return Va?t||r||o?{isLoading:!0,isOpen:null,modalType:null,onClose:null}:e?{isLoading:!1,isOpen:!0,modalType:"unsupported_app_version",onClose:()=>{}}:!s&&!n?{isLoading:!1,isOpen:!0,modalType:"paid_users_only",onClose:()=>{}}:{isLoading:!1,isOpen:!1,modalType:null,onClose:null}:{isLoading:!1,isOpen:!1,modalType:null,onClose:null}},Vht="chatgpt",Ght="oauth_complete",hAe="ms-windows-store://pdp/?productid=9nt1r1c2hh7j",pAe="https://apps.microsoft.com/detail/9nt1r1c2hh7j",Wht=()=>{const e="center",{isOpen:t,modalType:n}=fAe(),r=yt(),s=kD(),o=Gye();if(p.useEffect(()=>{t&&n!==void 0&&E.logEvent(P.sidetronBlockingModalShown,{modalType:n})},[t,n]),!t)return null;function a(){switch(E.logEvent(P.sidetronModalActionClicked,{modalType:n}),n){case Vs.unsupported_app_version:window.open(o?hAe:pAe,"_blank");return;case Vs.paid_users_only:Os(r,"Upper right settings menu");return;case null:Rb.warn("No modal type provided for DesktopBlockingModal");return}}function c(){switch(n){case Vs.unsupported_app_version:return mAe;case Vs.paid_users_only:return OE;case null:return OE}}function l(){switch(n){case Vs.unsupported_app_version:return!1;case Vs.paid_users_only:return!0;case null:return!1}}return i.jsx(je,{isOpen:!0,onClose:ke,shouldIgnoreClickOutside:!0,showCloseButton:!1,type:"success",noPadding:!0,position:e,children:i.jsxs("div",{className:"flex flex-col items-center justify-center px-6 py-8",children:[i.jsx("p",{className:"mb-1 text-center text-2xl font-semibold",children:i.jsx(S,{...c().title})}),i.jsx("p",{className:"mb-6 text-center text-lg text-token-text-secondary",children:i.jsx(S,{...c().subtitle})}),i.jsx(ce,{as:"button",size:"large",color:"primary",fullWidth:!0,className:"mb-2 sm:mb-3","data-testid":"desktop-blocking-modal-action-button",onClick:a,children:i.jsx(S,{...c().cta})}),l()&&i.jsxs("span",{children:[s," · ",i.jsx("a",{href:"#",className:"cursor-pointer font-semibold text-token-text-secondary underline sm:text-sm",onClick:u=>{u.preventDefault(),E.logEvent(P.sidetronModalLogoutClicked,{modalType:n}),Oh()},"data-testid":"desktop-blocking-modal-logout",children:i.jsx(S,{...c().logout})})]})]})})},OE=K({title:{id:"DesktopBlockingModal.paidTitle",defaultMessage:"Upgrade to use Windows app"},subtitle:{id:"DesktopBlockingModal.paidSubtitle",defaultMessage:"The Windows app is currently available for Plus, Team, Enterprise, and Edu plans."},cta:{id:"DesktopBlockingModal.paidUpgradeCta",defaultMessage:"See Plans"},logout:{id:"DesktopBlockingModal.paidLogout",defaultMessage:"Log out"}}),mAe=K({title:{id:"DesktopBlockingModal.sunsettingTitle",defaultMessage:"Update required"},subtitle:{id:"DesktopBlockingModal.sunsettingSubtitle",defaultMessage:"A new version of ChatGPT Windows is available and must be installed to continue."},cta:{id:"DesktopBlockingModal.sunsettingCta",defaultMessage:"Get Download"},logout:{id:"DesktopBlockingModal.sunsettingLogout",defaultMessage:"Log out"}}),gAe=({className:e})=>i.jsxs("div",{className:$("flex-column flex gap-[10px]",e),children:[i.jsx("div",{className:"relative flex h-[62px] w-[88px] items-center justify-center rounded-2xl border border-[rgba(0,0,0,0.18)] bg-[#F1F1F1] bg-gradient-to-b from-white/0 to-white/20 shadow-[0_1px_1px_rgba(0,0,0,0.03),_0_4.93747px_9.05202px_rgba(0,0,0,0.11)] dark:bg-black dark:to-white/15",children:i.jsx("span",{className:"absolute bottom-[8px] right-[12px] text-[12px] font-semibold leading-[15px] tracking-[-0.197499px] text-token-text-secondary",children:i.jsx(S,{...NE.alt})})}),i.jsx("div",{className:"relative flex h-[62px] w-[232px] items-center justify-center rounded-2xl border border-[rgba(0,0,0,0.18)] bg-[#F1F1F1] bg-gradient-to-b from-white/0 to-white/20 shadow-[0_1px_1px_rgba(0,0,0,0.03),_0_4.93747px_9.05202px_rgba(0,0,0,0.11)] dark:bg-black dark:to-white/15",children:i.jsx("span",{className:"absolute bottom-[8px] right-[12px] text-[12px] font-semibold leading-[15px] tracking-[-0.197499px] text-token-text-secondary",children:i.jsx(S,{...NE.space})})})]}),NE=K({alt:{id:"DesktopOnboardingKeyboardIllustration.altKeyboardKeyLabel",defaultMessage:"alt"},space:{id:"DesktopOnboardingKeyboardIllustration.spaceKeyboardKeyLabel",defaultMessage:"space"}}),vAe=Ee.hasSeenWindowsAppOnboarding,yAe=()=>{const{eligible:e,markAsViewed:t,isLoading:n}=Ue(vAe),{value:r,isLoading:s}=lt("1454021170");return Va?n||s?{isLoading:!0,isOpen:null,onClose:null}:{isLoading:!1,isOpen:e&&r,onClose:t}:{isLoading:!1,isOpen:!1,onClose:null}},Hht=({onClose:e})=>{const{isOpen:t,onClose:n}=yAe();return t?(z.logEvent("chatgpt_sidetron_onboarding_nux_shown"),i.jsx(je,{isOpen:!0,onClose:ke,type:"success",noPadding:!0,position:"center",className:"max-w-[552px] p-14 sm:max-w-[552px]",children:i.jsxs("div",{className:"flex flex-col items-center justify-center px-6 py-8",children:[i.jsx(_a,{className:"absolute right-4 top-4",onClick:()=>{e(),n()}}),i.jsx("p",{className:"mb-3 text-center text-2xl font-bold",children:i.jsx(S,{...uu.title})}),i.jsx("p",{className:"text-center text-lg text-token-text-tertiary",children:i.jsx(S,{...uu.subtitle})}),i.jsx(gAe,{className:"my-8"}),i.jsx("p",{className:"mb-2 text-center text-lg font-semibold",children:i.jsx(S,{...uu.keyboardShortcut})}),i.jsx("p",{className:"text-center text-lg text-token-text-tertiary",children:i.jsx(S,{...uu.keyboardShortcutHint})})]})})):null},uu=K({title:{id:"DesktopOnboardingModal.title",defaultMessage:"Quickly access ChatGPT"},subtitle:{id:"DesktopOnboardingModal.subtitle",defaultMessage:"Use a shortcut to ask questions, upload files, or take screenshots from anywhere on your computer."},keyboardShortcut:{id:"DesktopOnboardingModal.keyboardShortcut1",defaultMessage:"Press Alt+Space to open the the companion window"},keyboardShortcutHint:{id:"DesktopOnboardingModal.keyboardShortcutHint",defaultMessage:"You can change this shortcut in Settings."}});function L5(){return i.jsx("hr",{className:"w-full border-token-border-xheavy"})}const IE=({value:e,isSelected:t,onSelect:n,workspacePlanType:r})=>i.jsxs("button",{className:"mb-2 flex w-full cursor-pointer items-center justify-between outline-none lg:text-left",onClick:()=>n(e),children:[i.jsxs("div",{className:"flex items-center gap-2",children:[e==="transfer"?i.jsx(oA,{className:"icon-sm"}):i.jsx(Jb,{className:"icon-sm"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold",children:e==="transfer"?i.jsx(S,{...Qe.initialModalTransferLabel}):i.jsx(S,{...Qe.initialModalExportLabel})}),i.jsx("div",{className:"text-sm text-token-text-secondary",children:e==="transfer"?r===qs.EDU?i.jsx(S,{...Qe.initialModalTransferEduDetail}):i.jsx(S,{...Qe.initialModalTransferEnterpriseDetail}):i.jsx(S,{...Qe.initialModalExportDetail})})]})]}),i.jsx("div",{className:$({"flex h-4 w-4 flex-shrink-0 rounded-full border align-middle":!0,"bg-black":t}),children:t&&i.jsx(jh,{className:"m-auto h-3 w-3 scale-x-75 stroke-[4] text-white"})})]}),bAe=({setCurrentStep:e,destinationWorkspaceName:t,destinationWorkspaceProfilePictureUrl:n,destinationWorkspacePlanType:r})=>{const[s,o]=p.useState(""),a=U(),c=async()=>{s==="transfer"?e(1):s==="export"&&e(2)},l=r===qs.EDU?a.formatMessage(Qe.initialModalEduTitle):a.formatMessage(Qe.initialModalEnterpriseTitle);return i.jsx(je,{isOpen:!0,onClose:ke,type:"warning",title:l,primaryButton:i.jsx(yr,{title:a.formatMessage(Qe.initialModalConfirm),onClick:c,color:"primary",className:"ml-4"}),children:i.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[i.jsxs("div",{className:"flex w-full items-center gap-4",children:[i.jsx(Ip,{src:n,size:"large"}),i.jsx("div",{className:"font-semibold",children:t})]}),i.jsxs("div",{className:"pb-4",children:[i.jsx("h3",{className:"mb-2 text-base font-semibold",children:i.jsx(S,{...Qe.initialModalExplanation})}),i.jsx("div",{className:"mb-2 text-sm text-token-text-secondary",children:i.jsx(S,{...Qe.initialModalMustChoose})}),i.jsxs("ul",{className:"list-disc pl-5 text-sm text-token-text-secondary",children:[i.jsx("li",{className:"mb-2",children:i.jsx(S,{...Qe.initialModalDataDelete})}),i.jsx("li",{children:i.jsx(S,{...Qe.initialModalBilling})})]})]}),i.jsx(IE,{value:"transfer",isSelected:s==="transfer",onSelect:o,workspacePlanType:r}),i.jsx(L5,{}),i.jsx(IE,{value:"export",isSelected:s==="export",onSelect:o,workspacePlanType:r})]})})},jE=({currentStep:e,setCurrentStep:t,performAction:n})=>{const r=U();return i.jsx(je,{isOpen:!0,onClose:ke,type:"success",title:r.formatMessage(Qe.selectedModalTitle),primaryButton:i.jsx(yr,{title:e===1?r.formatMessage(Qe.transferModalConfirm):r.formatMessage(Qe.exportModalConfirm),color:e===2?"danger":"primary",onClick:n}),secondaryButton:i.jsx(yr,{title:r.formatMessage(Qe.selectedModalBack),color:"secondary",onClick:async()=>{t(0)}}),children:i.jsxs("div",{className:"pb-4",children:[i.jsx("h3",{className:"mb-2 text-base font-semibold",children:e===1?i.jsx(S,{...Qe.transferModalConfirmTitle}):i.jsx(S,{...Qe.exportModalConfirmTitle})}),e===1?i.jsx("div",{className:"text-sm text-token-text-secondary",children:i.jsx(S,{...Qe.transferModalConfirmLabel})}):i.jsxs("ul",{className:"list-disc pl-5 text-sm text-token-text-secondary",children:[i.jsx("li",{className:"mb-1",children:i.jsx(S,{...Qe.exportModalChatHistoryLabel})}),i.jsx("li",{className:"mb-1",children:i.jsx(S,{...Qe.exportModalDeleteLabel})}),i.jsx("li",{className:"mb-1",children:i.jsx(S,{...Qe.exportModalChatDownloadLabel})})]}),i.jsx("h4",{className:"pt-5 font-semibold text-token-text-primary",children:e==1?i.jsx(S,{...Qe.transferModalProceed}):i.jsx(S,{...Qe.exportModalProceed})})]})})};function zht(){const[e,t]=p.useState(0),n=A$();if(!n)return null;switch(e){case 0:return i.jsx(bAe,{setCurrentStep:t,destinationWorkspaceName:n.destinationWorkspaceName,destinationWorkspaceProfilePictureUrl:n.destinationWorkspaceProfilePictureUrl,destinationWorkspacePlanType:n.destinationWorkspacePlanType});case 1:return i.jsx(jE,{currentStep:e,setCurrentStep:t,performAction:async()=>{(await X.transferAccount(n.destinationWorkspaceId)).success&&(window.location.href="/")}});case 2:return i.jsx(jE,{currentStep:e,setCurrentStep:t,performAction:async()=>{(await X.submitExportAndDeactivate()).success&&(window.location.href="/")}})}}const Qe=K({initialModalEnterpriseTitle:{id:"initialModal.title",defaultMessage:"You've been added to a ChatGPT Enterprise workspace"},initialModalEduTitle:{id:"initialModal.eduTitle",defaultMessage:"You've been added to a ChatGPT Edu workspace"},initialModalExplanation:{id:"initialModal.explanation",defaultMessage:"What should we do with your existing workspace?"},initialModalMustChoose:{id:"initialModal.mustChoose",defaultMessage:"In order to join this new workspace, you must choose to either migrate or export your existing chat history."},initialModalDataDelete:{id:"initialModal.dataDelete",defaultMessage:"All Plugins and Custom Instructions in the existing workspace will be deleted."},initialModalBilling:{id:"initialModal.billing",defaultMessage:"If you have a ChatGPT Plus subscription, it will be canceled and refunded upon completing this step."},initialModalConfirm:{id:"initialModal.confirm",defaultMessage:"Continue"},initialModalTransferLabel:{id:"initialModal.transferLabel",defaultMessage:"Transfer existing chat history and GPTs"},initialModalTransferEnterpriseDetail:{id:"initialModal.initialModalTransferEnterpriseDetail",defaultMessage:"Merge into the Enterprise workspace"},initialModalTransferEduDetail:{id:"initialModal.initialModalTransferEduDetail",defaultMessage:"Merge into the Edu workspace"},initialModalExportLabel:{id:"initialModal.exportLabel",defaultMessage:"Export and delete existing chat history"},initialModalExportDetail:{id:"initialModal.exportDetail",defaultMessage:"Delete the existing workspace"},selectedModalTitle:{id:"selectedModal.title",defaultMessage:"Are you sure?"},selectedModalBack:{id:"selectedModal.back",defaultMessage:"Back"},transferModalConfirmTitle:{id:"transferModal.confirmTitle",defaultMessage:"Transferring chat history is permanent and can't be undone."},transferModalConfirmLabel:{id:"transferModal.confirmLabel",defaultMessage:"Your chat history and GPTs will be transferred to the new workspace and your existing workspace will be deleted."},transferModalConfirm:{id:"transferModal.confirm",defaultMessage:"Confirm transfer"},transferModalProceed:{id:"transferModal.proceed",defaultMessage:'To proceed, click "Confirm transfer" below.'},exportModalConfirmTitle:{id:"exportModal.confirmTitle",defaultMessage:"Deleting chat history is permanent and can't be undone."},exportModalChatHistoryLabel:{id:"exportModal.chatHistoryLabel",defaultMessage:"Your chat history will be included in the export."},exportModalDeleteLabel:{id:"exportModal.deleteLabel",defaultMessage:"Your GPTs, Plugins and Custom Instructions will be deleted."},exportModalChatDownloadLabel:{id:"exportModal.chatDownloadLabel",defaultMessage:"The data will be sent to your registered email in a downloadable file. The download link will expire 24 hours after you receive it."},exportModalConfirm:{id:"exportModal.confirm",defaultMessage:"Export and delete workspace"},exportModalProceed:{id:"exportModal.proceed",defaultMessage:'To proceed, click "Export and delete workspace" below.'}});function qht(){const e=O9(),t=U();return e!==null?i.jsx(je,{isOpen:!0,onClose:ke,type:"warning",size:"custom",className:"max-w-3xl",title:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("div",{className:"text-lg",children:i.jsx(S,{...du.title})}),i.jsx("div",{className:"text-sm font-normal",children:i.jsx(S,{...du.subtitle})})]}),icon:_o,primaryButton:i.jsx(Ct.Button,{onClick:async()=>{const r=await Bb.signOut({redirect:!1,callbackUrl:`/auth/login?next=${encodeURIComponent(location.pathname+location.search+location.hash)}`});location.href=r.url},color:"primary",title:t.formatMessage(du.signOutButton)}),children:i.jsx("div",{className:"flex flex-col space-y-4",children:i.jsx("div",{children:i.jsx(S,{...du.detail,values:{email:i.jsx("span",{className:"font-semibold",children:e.userEmail})}})})})}):null}const du=K({title:{id:"AllWorkspacesBlockedModal.title",defaultMessage:"Access Denied"},subtitle:{id:"AllWorkspacesBlockedModal.subtitle",defaultMessage:"Your IT administrator has blocked access to this workspace"},detail:{id:"AllWorkspacesBlockedModal.detail",defaultMessage:"It looks like you’re either trying to login using a personal email or you don’t have access to a workspace that’s been approved by your IT administrator. Please use an authorized work email to access your workspace, or contact your IT administrator for access."},signOutButton:{id:"AllWorkspacesBlockedModal.signOutButton",defaultMessage:"Sign Out"}});function Yht(){const{data:e}=x$(),t=vn(),n=e?.accountItems.find(c=>c.ssoConnectionName),r=e?.accountItems.find(c=>!c.ssoConnectionName),s=!!n,o=!s&&!!r,a=()=>{const c=n?.ssoConnectionName&&s?{connection:n.ssoConnectionName}:void 0;t({authType:"login",additionalAuthParams:c})};return i.jsx(je,{isOpen:!0,onClose:ke,type:"warning",size:"custom",className:"max-w-3xl",title:i.jsx("div",{className:"flex flex-col",children:i.jsx("div",{className:"text-lg",children:i.jsx(S,{...Ds.title})})}),icon:_o,primaryButton:i.jsx(Ct.Button,{onClick:()=>{E.logLogOutButtonClicked({location:"invalid_account_modal"}),Oh()},color:"primary",children:i.jsx(S,{...Ds.logOut})}),secondaryButton:s||o?i.jsx(Ct.Button,{onClick:a,color:"primary",children:i.jsx(S,{...s?Ds.ssoButton:Ds.noSSOButton})}):null,children:i.jsx("div",{className:"flex flex-col space-y-4",children:i.jsxs("div",{children:[i.jsx("p",{children:i.jsx(S,{...Ds.description})}),i.jsx("br",{}),s&&i.jsx("p",{children:i.jsx(S,{...Ds.ssoSuggestion})}),o&&i.jsx("p",{children:i.jsx(S,{...Ds.noSSOSuggestion})})]})})})}const Ds=K({title:{id:"sMC0Cy",defaultMessage:"No Accessible Workspaces"},description:{id:"ADpJJ4",defaultMessage:"It looks like you're currently unable to access any of your accounts. Try waiting a minute and logging in again."},logOut:{id:"KlMYRb",defaultMessage:"Log out"},ssoSuggestion:{id:"KCNTGv",defaultMessage:"Logging in with SSO may fix these issues."},noSSOSuggestion:{id:"mp/4+s",defaultMessage:"Logging in without SSO may fix these issues."},ssoButton:{id:"Nsa12I",defaultMessage:"Log in with SSO"},noSSOButton:{id:"60pUg9",defaultMessage:"Log in"}});function Kht(){const e=N9(),t=U(),[n,r]=p.useState(),s=e!==null;if(p.useEffect(()=>{s||r(void 0)},[s]),!s)return null;const o=i.jsx("span",{className:"font-semibold",children:e.ownerEmail}),a=e.hasActiveRequest||n==="success",c=e.workspacePlanType===qs.EDU;return i.jsx(je,{isOpen:!0,onClose:ke,type:"warning",size:"custom",className:"max-w-3xl",title:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("div",{className:"text-lg",children:i.jsx(S,{...Cr.title,values:{workspaceName:e.accountName}})}),i.jsx("div",{className:"text-sm font-normal",children:c?i.jsx(S,{...Cr.eduSubtitle}):i.jsx(S,{...Cr.enterpriseSubtitle})})]}),icon:_o,primaryButton:i.jsx(Ct.Button,{onClick:async()=>{r("requesting");try{(await X.requestWorkspaceAccess(e.accountId)).success&&r("success")}catch{r("error")}},color:"primary",title:t.formatMessage(Cr.requestAccessButton),disabled:a}),secondaryButton:i.jsx(Ct.Button,{onClick:async()=>{const l=await Bb.signOut({redirect:!1,callbackUrl:`/auth/login?next=${encodeURIComponent(location.pathname+location.search+location.hash)}`});location.href=l.url},color:"secondary",title:t.formatMessage(Cr.signOutButton)}),children:i.jsxs("div",{className:"flex flex-col space-y-4",children:[i.jsx("div",{children:c?i.jsx(S,{...Cr.emailBelongsToEduWorkspace,values:{email:i.jsx("span",{className:"font-semibold",children:e.userEmail})}}):i.jsx(S,{...Cr.emailBelongsToEnterpriseWorkspace,values:{email:i.jsx("span",{className:"font-semibold",children:e.userEmail})}})}),i.jsx("div",{children:a?i.jsx(S,{...Cr.activeRequestMessage,values:{email:o}}):n==="requesting"?i.jsx(In,{}):n==="error"?i.jsx(S,{...Cr.contactWorkspaceAdminEmail,values:{email:o}}):null})]})})}const Cr=K({title:{id:"RequestWorkspaceAccessModal.title",defaultMessage:"Request access to {workspaceName}"},enterpriseSubtitle:{id:"RequestWorkspaceAccessModal.subtitle",defaultMessage:"ChatGPT Enterprise has been enabled in your workspace"},eduSubtitle:{id:"RequestWorkspaceAccessModal.eduSubtitle",defaultMessage:"ChatGPT Edu has been enabled in your workspace"},emailBelongsToEnterpriseWorkspace:{id:"RequestWorkspaceAccessModal.emailBelongsToEnterpriseWorkspace",defaultMessage:"{email} belongs to a ChatGPT Enterprise plan but currently has no access."},emailBelongsToEduWorkspace:{id:"RequestWorkspaceAccessModal.emailBelongsToEduWorkspace",defaultMessage:"{email} belongs to a ChatGPT Edu plan but currently has no access."},requestWorkspaceAccessMessage:{id:"RequestWorkspaceAccessModal.requestWorkspaceAccessMessage",defaultMessage:"You may request access to the workspace account."},requestedWorkspaceAccessMessage:{id:"RequestWorkspaceAccessModal.requestedWorkspaceAccessMessage",defaultMessage:"Successfully requested access to the workspace account. Your workspace administrator at {email} may approve the request."},contactWorkspaceAdminEmail:{id:"RequestWorkspaceAccessModal.contactWorkspaceAdminEmail",defaultMessage:"Could not request access. Contact your workspace administrator at {email} to request access to a new workspace account."},signOutButton:{id:"RequestWorkspaceAccessModal.signOutButton",defaultMessage:"Sign Out"},requestAccessButton:{id:"RequestWorkspaceAccessModal.requestAccessButton",defaultMessage:"Request access"},activeRequestMessage:{id:"RequestWorkspaceAccessModal.activeRequestMessage",defaultMessage:"You have a pending invite request for this workspace. Contact your workspace administrator at {email} to approve your request."}}),xAe=Ee.Onboarding,F5=()=>{const{eligible:e,markAsViewed:t,isLoading:n}=Ue(xAe);return{setHasSeenOnboarding:t,hasSeenOnboardingDate:n?null:!e}},wAe=()=>{const{eligible:e,markAsViewed:t,isLoading:n}=Ue(Ee.TeamOwnerOnboarding);return{setHasSeenTeamOwnerOnboarding:t,hasSeenTeamOwnerOnboardingDate:n?null:!e}};function SAe({onClose:e,scope:t}){const{setHasSeenOnboarding:n}=F5(),r=p.useCallback(()=>{e(!0),n()},[e,n]);return t===tS.Personal?i.jsx(_Ae,{onSubmit:r}):i.jsx(TAe,{onSubmit:()=>{e(!0)}})}const va=({icon:e,title:t,body:n})=>i.jsxs("div",{className:"flex flex-col gap-2 md:w-1/3",children:[i.jsxs("div",{className:"flex flex-row items-center gap-2",children:[i.jsx("div",{children:e}),i.jsx("div",{className:"font-semibold text-token-text-primary",children:t})]}),i.jsx("div",{className:"text-sm text-token-text-secondary",children:n})]}),CAe="https://help.openai.com/en/articles/7039943-data-usage-for-consumer-services-faq",_Ae=({onSubmit:e})=>{const t=U();return i.jsxs("div",{className:"flex flex-col gap-3 p-4 md:p-6",children:[i.jsxs("div",{className:"flex flex-col gap-6 md:flex-row",children:[i.jsx(va,{icon:i.jsx(aA,{isSolid:!0,className:"icon-md text-green-600"}),title:i.jsx(S,{...dn.askAway}),body:i.jsx(S,{...dn.askAwayBody})}),i.jsx(va,{icon:i.jsx(I9,{className:"icon-md text-brand-purple"}),title:i.jsx(S,{...dn.warning}),body:i.jsx(S,{...dn.warningBody,values:{article:n=>i.jsx("a",{href:CAe,target:"_blank",className:"underline",rel:"noopener noreferrer",children:n})}})}),i.jsx(va,{icon:i.jsx(zb,{className:"icon-md text-orange-300"}),title:i.jsx(S,{...dn.accuracy}),body:i.jsx(S,{...dn.accuracyBody})})]}),i.jsx("div",{className:"flex flex-row justify-end",children:i.jsx(yr,{title:t.formatMessage(dn.gettingStartedButton),onClick:e,color:"primary","data-testid":"getting-started-button"})})]})},TAe=({onSubmit:e})=>{const t=U();return i.jsxs("div",{className:"flex flex-col gap-6 p-4 md:p-6",children:[i.jsxs("div",{className:"flex flex-col gap-6 md:flex-row",children:[i.jsx(va,{icon:i.jsx(_o,{className:"icon-md text-brand-purple"}),title:i.jsx(S,{...dn.workUse}),body:i.jsx(S,{...dn.workUseBody})}),i.jsx(va,{icon:i.jsx(aA,{className:"icon-md text-green-600"}),title:i.jsx(S,{...dn.askAway}),body:i.jsx(S,{...dn.askAwayBody})}),i.jsx(va,{icon:i.jsx(zb,{className:"icon-md text-orange-300"}),title:i.jsx(S,{...dn.accuracy}),body:i.jsx(S,{...dn.accuracyBody})})]}),i.jsx("div",{className:"flex flex-row justify-end",children:i.jsx(yr,{title:t.formatMessage(dn.gettingStartedButton),onClick:e,color:"primary"})})]})},dn=K({askAway:{id:"onboarding.askAway",defaultMessage:"Ask away"},askAwayBody:{id:"onboarding.askAwayBody",defaultMessage:"ChatGPT can answer questions, help you learn, write code, brainstorm together, and much more."},warning:{id:"onboarding.warning",defaultMessage:"Don’t share sensitive info"},warningBody:{id:"onboarding.warningBody",defaultMessage:"Chat history may be reviewed or used to improve our services. Learn more about your choices in our <article>Help Center</article>."},accuracy:{id:"onboarding.accuracy",defaultMessage:"Check your facts"},accuracyBody:{id:"onboarding.accuracyBody",defaultMessage:"While we have safeguards, ChatGPT may give you inaccurate information. It’s not intended to give advice."},gettingStartedButton:{id:"onboarding.gettingStartedButton",defaultMessage:"Okay, let’s go"},workspaceWelcome:{id:"onboarding.workspaceWelcome",defaultMessage:"Welcome to the {workspaceName} Workspace"},workspaceWelcomeNoName:{id:"onboarding.workspaceWelcomeNoName",defaultMessage:"Welcome to the your Workspace"},workspaceWelcomeBody:{id:"onboarding.workspaceWelcomeBody",defaultMessage:"Here you can use our latest models, with more capabilities, and fewer limits."},workUse:{id:"onboarding.workUse",defaultMessage:"Made for use at work"},workUseBody:{id:"onboarding.workUseBody",defaultMessage:"By default, chats in this workspace are not used to train our AI models."}}),RE=({value:e,isSelected:t,onSelect:n})=>i.jsxs("button",{className:"mb-2 flex w-full cursor-pointer items-center justify-between outline-none lg:text-left",onClick:()=>n(e),children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"flex-shrink-0",children:e==="transfer"?i.jsx(oA,{}):i.jsx(C7,{})}),i.jsxs("div",{className:"flex flex-col text-left",children:[i.jsx("div",{className:"font-semibold",children:e==="transfer"?i.jsx(S,{...Bt.teamAccountTransferModalTransferLabel}):i.jsx(S,{...Bt.teamAccountTransferModalCreateLabel})}),i.jsx("div",{className:"flex-wrap text-sm text-token-text-secondary",children:e==="transfer"?i.jsx(S,{...Bt.teamAccountTransferModalTransferDetail}):i.jsx(S,{...Bt.teamAccountTransferModalCreateDetail})})]})]}),i.jsx("div",{className:$("flex h-4 w-4 flex-shrink-0 items-center justify-center rounded-full border",{"bg-black":t}),children:t&&i.jsx(jh,{className:"h-3 w-3 scale-x-75 stroke-[4] text-white"})})]}),kAe=({setCurrentStep:e,setHasSeenOnboarding:t})=>{const[n,r]=p.useState(""),s=U(),o=()=>{n==="transfer"?e(1):n==="create"&&t&&t()};return i.jsx(je,{isOpen:!0,onClose:ke,type:"warning",title:s.formatMessage(Bt.teamAccountTransferModalTitle),primaryButton:i.jsx(yr,{title:s.formatMessage(Bt.teamAccountTransferModalConfirm),onClick:o,color:"primary",className:"ml-4"}),children:i.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[i.jsx("div",{className:"text-md mb-2 text-token-text-primary",children:i.jsx(S,{...Bt.teamAccountTransferModalExplanation})}),i.jsx(RE,{value:"transfer",isSelected:n==="transfer",onSelect:r}),i.jsx(L5,{}),i.jsx(RE,{value:"create",isSelected:n==="create",onSelect:r})]})})},MAe=({currentWorkspace:e,setCurrentStep:t,fromSettings:n,setHasSeenOnboarding:r,onClose:s=ke})=>{const o=U(),a=tn(),c=yt(),l=a?.name;return i.jsx(je,{isOpen:!0,onClose:r?ke:s,type:"success",title:o.formatMessage(Bt.selectedModalTitle),primaryButton:i.jsx(yr,{title:n?o.formatMessage(Bt.mergeModalConfirm):o.formatMessage(Bt.teamTransferModalConfirm),color:"primary",onClick:async()=>{const u=await X.transferAccount(e.id);r&&r(),u.success?O$():c(j9(R9.ACCOUNT_TRANSFER_ERROR))}}),secondaryButton:i.jsx(yr,{title:o.formatMessage(Bt.selectedModalBack),color:"secondary",onClick:n?s:async()=>{t(0)}}),children:i.jsxs("div",{className:"flex flex-col justify-center gap-4",children:[i.jsxs("div",{className:"flex w-full items-center gap-4",children:[i.jsx(Np,{user:a,size:"large",roundedStyle:"rounded-full"}),i.jsxs("div",{className:"pt-2",children:[i.jsx("div",{className:"font-semibold",children:l}),i.jsx("div",{className:"mb-2 text-sm text-token-text-secondary",children:i.jsx(S,{...Bt.tansferModalPersonalAccount})})]})]}),i.jsx("div",{className:"-mb-2 -mt-3 flex justify-start pl-3",children:i.jsx(iA,{className:"icon-sm"})}),i.jsxs("div",{className:"flex w-full items-center gap-4",children:[i.jsx(Ip,{src:e.profilePictureUrl,size:"large"}),i.jsx("div",{className:"font-semibold",children:e.name})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"mb-2 text-base font-semibold",children:i.jsx(S,{...Bt.teamTransferModalConfirmTitle})}),i.jsxs("ul",{className:"list-disc pl-5 text-sm text-token-text-secondary",children:[i.jsx("li",{className:"mb-2",children:i.jsx(S,{...Bt.teamTransferModalMigrateData})}),i.jsx("li",{className:"mb-2",children:i.jsx(S,{...Bt.teamTransferModalDeleteData})}),i.jsx("li",{children:i.jsx(S,{...Bt.teamTransferModalCancelPlus})})]})]}),i.jsx("div",{className:"mx-auto mb-2 flex max-w-5xl items-center rounded-md border border-token-border-medium bg-token-main-surface-secondary px-2 py-2 md:px-2 lg:px-4 lg:py-3",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(zb,{className:"flex-shrink-0 text-red-500"}),i.jsx("p",{className:"ml-4 text-sm",children:i.jsx(S,{...Bt.teamTransferModalWarning,values:{link:u=>i.jsx("a",{href:"https://help.openai.com/en/articles/8801890 ",target:"_blank",className:"underline",rel:"noreferrer",children:u})}})})]})})]})})};function Qht({onClose:e=ke,fromSettings:t=!1}){const[n,r]=p.useState(t?1:0),s=De()?.data,{setHasSeenTeamOwnerOnboarding:o}=wAe(),a=t?void 0:o;switch(n){case 0:return i.jsx(kAe,{setCurrentStep:r,setHasSeenOnboarding:a});case 1:return i.jsx(MAe,{setCurrentStep:r,currentWorkspace:s,onClose:e,fromSettings:t,setHasSeenOnboarding:a})}}const Bt=K({teamAccountTransferModalTitle:{id:"teamAccountTransferModal.title",defaultMessage:"Your ChatGPT Team workspace is ready"},teamAccountTransferModalExplanation:{id:"teamAccountTransferModal.explanation",defaultMessage:"Do you want to transfer your chat history and GPTs to the Team workspace?"},teamAccountTransferModalConfirm:{id:"teamAccountTransferModal.confirm",defaultMessage:"Continue"},teamAccountTransferModalTransferLabel:{id:"teamAccountTransferModal.transferLabel",defaultMessage:"Transfer chat history and GPTs"},teamAccountTransferModalTransferDetail:{id:"teamAccountTransferModal.transferDetail",defaultMessage:"Carry over existing data from your personal workspace"},teamAccountTransferModalCreateLabel:{id:"teamAccountTransferModal.createLabel",defaultMessage:"Start as empty workspace"},teamAccountTransferModalCreateDetail:{id:"teamAccountTransferModal.createDetail",defaultMessage:"Keep your personal workspace separate. If you’re on Plus, you will maintain your subscription until you cancel"},selectedModalTitle:{id:"selectedModal.title",defaultMessage:"Are you sure?"},selectedModalBack:{id:"selectedModal.back",defaultMessage:"Back"},tansferModalPersonalAccount:{id:"teamTransferModal.personalAccount",defaultMessage:"Personal workspace"},teamTransferModalConfirmTitle:{id:"teamTransferModal.confirmTitle",defaultMessage:"Transfer of existing data is permanent and can't be undone."},teamTransferModalMigrateData:{id:"teamTransferModal.migrateData",defaultMessage:"Your chat history and GPTs in your personal workspace will be migrated to the Team workspace."},teamTransferModalDeleteData:{id:"teamTransferModal.deleteData",defaultMessage:"Your Plugins and custom instructions in your personal workspace will be deleted."},teamTransferModalCancelPlus:{id:"teamTransferModal.cancelPlus",defaultMessage:"If you have a ChatGPT Plus subscription, it will be canceled and refunded upon merging."},teamTransferModalWarning:{id:"teamTransferModal.warning",defaultMessage:"You will lose access to your data if you leave or are removed from the Team workspace, or if the workspace is deactivated. <link>Learn more</link>"},teamTransferModalConfirm:{id:"teamTransferModal.confirm",defaultMessage:"Confirm transfer"},mergeModalConfirm:{id:"mergerModal.confirm",defaultMessage:"Confirm merge"}});function EAe({workspace:e}){const t=Pe(),n=tn(),s=De()?.id===e.id,o=s?"div":"button",[a,c]=p.useState(!1),l=vn(),u=U(),d=Fe(),f=p.useCallback(async()=>{c(!0);const{willRedirect:g}=L9(t,e.id,l,u,d);N$.disableTemporaryChat(),g||O$()},[t,e.id,l,u,d]),h=O_e(e);let m=i.jsx("div",{className:"flex items-center justify-center",children:i.jsx(Ip,{src:e.data.profilePictureUrl,size:"medium"})});if(e.structure===Zo.PERSONAL){if(!n)return null;m=i.jsx("div",{className:"flex items-center justify-center",children:i.jsx(Np,{user:n,customStyle:!0,size:Wn.workspaceMedium,className:"h-9 w-9 overflow-hidden rounded-full"})})}return i.jsxs(o,{onClick:s?ke:f,className:$({"flex w-full items-center gap-2 rounded-lg border border-token-border-medium bg-token-main-surface-primary p-4 hover:bg-token-main-surface-secondary":!0,"bg-token-sidebar-surface-secondary":s,"opacity-50":!e.canAccessWithCurrentSession}),children:[i.jsxs("div",{className:"flex w-full items-center gap-4",children:[m,i.jsxs("div",{className:"inline text-left align-top font-semibold",children:[i.jsx("p",{children:h}),!e.canAccessWithCurrentSession&&i.jsx("p",{className:"leading-4",children:i.jsx("small",{className:"text-token-text-secondary",children:i.jsx(S,{...e.ssoConnectionName?th.authenticateWithSSOToAccessWorkspace:th.authenticateWithoutSSOToAccessWorkspace})})})]})]}),i.jsx("div",{className:"flex h-full items-center p-1",children:a?i.jsx(In,{}):s?i.jsx(_7,{className:"icon-lg"}):i.jsx(qa,{className:"icon-lg my-auto"})})]})}function PAe({data:e}){const t=e.map(n=>i.jsx(EAe,{workspace:n},n.id));return i.jsx("div",{className:"flex w-full flex-col gap-2",children:t})}function Xht(){const e=I_e(),n=tn()?.email??"";if(!e||e.length===0)return null;const r=e.filter(s=>s.structure===Zo.WORKSPACE);return i.jsx(je,{isOpen:!0,onClose:ke,type:"success",size:"normal",title:i.jsxs("div",{className:"flex flex-col",children:[i.jsx(S,{...th.workspaceSwitcherTitle}),i.jsx("span",{className:"mt-0.5 text-sm text-token-text-secondary",children:n})]}),children:i.jsxs("div",{className:"flex w-full flex-col items-center justify-between",children:[i.jsx(PAe,{data:e}),i.jsx("span",{className:"mt-4 text-sm text-token-text-secondary",children:i.jsx(S,{...th.workspaceSwitcherDisclaimer,values:{workspaces:i.jsx("span",{className:"contents font-bold",children:i.jsx(D9,{value:r.map(s=>s.data.name)})}),numWorkspaces:r.length}})})]})})}const th=K({workspaceSwitcherTitle:{id:"workspaceSwitcher.title",defaultMessage:"Select a workspace"},workspaceSwitcherDisclaimer:{id:"workspaceSwitcher.disclaimer",defaultMessage:"You've been added to the {workspaces} {numWorkspaces, plural, one {workspace} other {workspaces}}. You can switch between workspaces at any time."},authenticateWithSSOToAccessWorkspace:{id:"CV7pdM",defaultMessage:"Authenticate with SSO to access this workspace"},authenticateWithoutSSOToAccessWorkspace:{id:"zfCWFh",defaultMessage:"Authenticate without SSO to access this workspace"}});var rS="ToastProvider",[sS,$Ae,AAe]=F9("Toast"),[B5,Zht]=Co("Toast",[AAe]),[OAe,qp]=B5(rS),U5=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:a}=e,[c,l]=p.useState(null),[u,d]=p.useState(0),f=p.useRef(!1),h=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${rS}\`. Expected non-empty \`string\`.`),i.jsx(sS.Provider,{scope:t,children:i.jsx(OAe,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:c,onViewportChange:l,onToastAdd:p.useCallback(()=>d(m=>m+1),[]),onToastRemove:p.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:a})})};U5.displayName=rS;var V5="ToastViewport",NAe=["F8"],ob="toast.viewportPause",ab="toast.viewportResume",G5=p.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=NAe,label:s="Notifications ({hotkey})",...o}=e,a=qp(V5,n),c=$Ae(n),l=p.useRef(null),u=p.useRef(null),d=p.useRef(null),f=p.useRef(null),h=Br(t,f,a.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=a.toastCount>0;p.useEffect(()=>{const y=x=>{r.length!==0&&r.every(w=>x[w]||x.code===w)&&f.current?.focus()};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),p.useEffect(()=>{const y=l.current,x=f.current;if(g&&y&&x){const b=()=>{if(!a.isClosePausedRef.current){const _=new CustomEvent(ob);x.dispatchEvent(_),a.isClosePausedRef.current=!0}},w=()=>{if(a.isClosePausedRef.current){const _=new CustomEvent(ab);x.dispatchEvent(_),a.isClosePausedRef.current=!1}},C=_=>{!y.contains(_.relatedTarget)&&w()},T=()=>{y.contains(document.activeElement)||w()};return y.addEventListener("focusin",b),y.addEventListener("focusout",C),y.addEventListener("pointermove",b),y.addEventListener("pointerleave",T),window.addEventListener("blur",b),window.addEventListener("focus",w),()=>{y.removeEventListener("focusin",b),y.removeEventListener("focusout",C),y.removeEventListener("pointermove",b),y.removeEventListener("pointerleave",T),window.removeEventListener("blur",b),window.removeEventListener("focus",w)}}},[g,a.isClosePausedRef]);const v=p.useCallback(({tabbingDirection:y})=>{const b=c().map(w=>{const C=w.ref.current,T=[C,...qAe(C)];return y==="forwards"?T:T.reverse()});return(y==="forwards"?b.reverse():b).flat()},[c]);return p.useEffect(()=>{const y=f.current;if(y){const x=b=>{const w=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!w){const T=document.activeElement,_=b.shiftKey;if(b.target===y&&_){u.current?.focus();return}const I=v({tabbingDirection:_?"backwards":"forwards"}),A=I.findIndex(H=>H===T);Hg(I.slice(A+1))?b.preventDefault():_?u.current?.focus():d.current?.focus()}};return y.addEventListener("keydown",x),()=>y.removeEventListener("keydown",x)}},[c,v]),i.jsxs(B9,{ref:l,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&i.jsx(ib,{ref:u,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"forwards"});Hg(y)}}),i.jsx(sS.Slot,{scope:n,children:i.jsx(Wt.ol,{tabIndex:-1,...o,ref:h})}),g&&i.jsx(ib,{ref:d,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"backwards"});Hg(y)}})]})});G5.displayName=V5;var W5="ToastFocusProxy",ib=p.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,o=qp(W5,n);return i.jsx(I$,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:a=>{const c=a.relatedTarget;!o.viewport?.contains(c)&&r()}})});ib.displayName=W5;var Yp="Toast",IAe="toast.swipeStart",jAe="toast.swipeMove",RAe="toast.swipeCancel",DAe="toast.swipeEnd",H5=p.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...a}=e,[c=!0,l]=Nc({prop:r,defaultProp:s,onChange:o});return i.jsx(Oc,{present:n||c,children:i.jsx(BAe,{open:c,...a,ref:t,onClose:()=>l(!1),onPause:Pd(e.onPause),onResume:Pd(e.onResume),onSwipeStart:tt(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:tt(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:tt(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:tt(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});H5.displayName=Yp;var[LAe,FAe]=B5(Yp,{onClose(){}}),BAe=p.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:a,onEscapeKeyDown:c,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...g}=e,v=qp(Yp,n),[y,x]=p.useState(null),b=Br(t,N=>x(N)),w=p.useRef(null),C=p.useRef(null),T=s||v.duration,_=p.useRef(0),k=p.useRef(T),M=p.useRef(0),{onToastAdd:I,onToastRemove:A}=v,H=Pd(()=>{y?.contains(document.activeElement)&&v.viewport?.focus(),a()}),q=p.useCallback(N=>{!N||N===1/0||(window.clearTimeout(M.current),_.current=new Date().getTime(),M.current=window.setTimeout(H,N))},[H]);p.useEffect(()=>{const N=v.viewport;if(N){const R=()=>{q(k.current),u?.()},B=()=>{const Y=new Date().getTime()-_.current;k.current=k.current-Y,window.clearTimeout(M.current),l?.()};return N.addEventListener(ob,B),N.addEventListener(ab,R),()=>{N.removeEventListener(ob,B),N.removeEventListener(ab,R)}}},[v.viewport,T,l,u,q]),p.useEffect(()=>{o&&!v.isClosePausedRef.current&&q(T)},[o,T,v.isClosePausedRef,q]),p.useEffect(()=>(I(),()=>A()),[I,A]);const F=p.useMemo(()=>y?X5(y):null,[y]);return v.viewport?i.jsxs(i.Fragment,{children:[F&&i.jsx(UAe,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:F}),i.jsx(LAe,{scope:n,onClose:H,children:ac.createPortal(i.jsx(sS.ItemSlot,{scope:n,children:i.jsx(U9,{asChild:!0,onEscapeKeyDown:tt(c,()=>{v.isFocusedToastEscapeKeyDownRef.current||H(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(Wt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":v.swipeDirection,...g,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:tt(e.onKeyDown,N=>{N.key==="Escape"&&(c?.(N.nativeEvent),N.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,H()))}),onPointerDown:tt(e.onPointerDown,N=>{N.button===0&&(w.current={x:N.clientX,y:N.clientY})}),onPointerMove:tt(e.onPointerMove,N=>{if(!w.current)return;const R=N.clientX-w.current.x,B=N.clientY-w.current.y,Y=!!C.current,j=["left","right"].includes(v.swipeDirection),D=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,V=j?D(0,R):0,Z=j?0:D(0,B),se=N.pointerType==="touch"?10:2,ae={x:V,y:Z},be={originalEvent:N,delta:ae};Y?(C.current=ae,fu(jAe,f,be,{discrete:!1})):DE(ae,v.swipeDirection,se)?(C.current=ae,fu(IAe,d,be,{discrete:!1}),N.target.setPointerCapture(N.pointerId)):(Math.abs(R)>se||Math.abs(B)>se)&&(w.current=null)}),onPointerUp:tt(e.onPointerUp,N=>{const R=C.current,B=N.target;if(B.hasPointerCapture(N.pointerId)&&B.releasePointerCapture(N.pointerId),C.current=null,w.current=null,R){const Y=N.currentTarget,j={originalEvent:N,delta:R};DE(R,v.swipeDirection,v.swipeThreshold)?fu(DAe,m,j,{discrete:!0}):fu(RAe,h,j,{discrete:!0}),Y.addEventListener("click",D=>D.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),UAe=e=>{const{__scopeToast:t,children:n,...r}=e,s=qp(Yp,t),[o,a]=p.useState(!1),[c,l]=p.useState(!1);return HAe(()=>a(!0)),p.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),c?null:i.jsx(j$,{asChild:!0,children:i.jsx(I$,{...r,children:o&&i.jsxs(i.Fragment,{children:[s.label," ",n]})})})},VAe="ToastTitle",z5=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return i.jsx(Wt.div,{...r,ref:t})});z5.displayName=VAe;var GAe="ToastDescription",WAe=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return i.jsx(Wt.div,{...r,ref:t})});WAe.displayName=GAe;var q5="ToastAction",Y5=p.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?i.jsx(Q5,{altText:n,asChild:!0,children:i.jsx(oS,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${q5}\`. Expected non-empty \`string\`.`),null)});Y5.displayName=q5;var K5="ToastClose",oS=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=FAe(K5,n);return i.jsx(Q5,{asChild:!0,children:i.jsx(Wt.button,{type:"button",...r,ref:t,onClick:tt(e.onClick,s.onClose)})})});oS.displayName=K5;var Q5=p.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return i.jsx(Wt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function X5(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),zAe(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const a=r.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...X5(r))}}),t}function fu(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?V9(s,o):s.dispatchEvent(o)}var DE=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),o=r>s;return t==="left"||t==="right"?o&&r>n:!o&&s>n};function HAe(e=()=>{}){const t=Pd(e);G9(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function zAe(e){return e.nodeType===e.ELEMENT_NODE}function qAe(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Hg(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var YAe=U5,KAe=G5,QAe=H5,Z5=z5,XAe=Y5,J5=oS;function eL({children:e}){return i.jsxs(YAe,{children:[i.jsx(QAe,{className:"radix-state-closed:animate-hide radix-state-open:animate-slideIn popover grid grid-cols-[auto_max-content] items-center gap-x-4 rounded-lg bg-token-main-surface-primary p-4 shadow-xs [grid-template-areas:_'title_action'_'description_action'] sm:max-w-2xl",open:!0,children:e}),i.jsx(KAe,{className:"fixed bottom-0 right-0 z-50 m-0 flex max-w-[100vw] list-none flex-col gap-4 p-6 outline-none"})]})}function ZAe(e){return e!=null&&e in W9}const Xo="compliance",JAe=60*60*24*30*6,e2e={serverPrimedAllowBrowserStorageValue:!0,showCookieConsentBanner:!1,isStorageComplianceEnabled:!1,ageVerificationDeadline:null,ageVerificationType:"none"},t2e={IT:"countdown",KR:"passive"};function n2e(e,t){const n=ZAe(t),r=e.registration_country??"",s=r in R$&&e.age_verification.is_required;if(!n&&!s)return e2e;const o=n&&e.require_cookie_consent;return{serverPrimedAllowBrowserStorageValue:o?e.cookie_consent.analytics_cookies_accepted??!1:!0,showCookieConsentBanner:o&&e.cookie_consent.is_required,isStorageComplianceEnabled:o,ageVerificationDeadline:s?e.age_verification.remaining_seconds??null:null,ageVerificationType:s?t2e[r]??"none":"none"}}const tL=xo({queryKey:[Xo],queryFn:async()=>await X.getCompliance().then(e=>{if(e.cookie_consent.is_required){const t=mn.getCookie(cn.AllowNonessential),n=e.cookie_consent.analytics_cookies_accepted;if(t===void 0&&n!=null)mn.setCookie(cn.AllowNonessential,n,{maxAge:JAe,domain:H9});else if(t!==n&&t!=null){const r={analytics_cookies_accepted:t};return X.updateCookieConsentCompliance(r),{...e,cookie_consent:{...e.cookie_consent,...r}}}}return e}).catch(e=>(e instanceof Pt&&e.status===401&&Oh(),{registration_country:null,require_cookie_consent:!1,age_verification:{is_required:!1},cookie_consent:{is_required:!1},terms_of_use:{is_required:!1,accepted_at:null}}))});function nL({enabled:e,select:t}){return me({...tL,enabled:e,select:t})}function rL(){const{country:e}=Ic(),t=e!=null&&e in R$;return{...me({...tL,enabled:t,select:r=>n2e(r,e)}),isEnabled:t}}function r2e(){const e=Pe();return vt({mutationFn:async t=>await X.updateCookieConsentCompliance(t),onSuccess:()=>{e.refetchQueries({queryKey:[Xo]})},onMutate:async t=>{await e.cancelQueries({queryKey:[Xo]});const n=e.getQueryData([Xo]);return e.setQueryData([Xo],r=>{if(r!==void 0)return{...r,cookie_consent:{...r.cookie_consent,...t}}}),{previousValue:n}},onError:(t,n,r)=>{r!==void 0&&e.setQueryData([Xo],r.previousValue)}})}function Jht({serverPrimedAllowBrowserStorageValue:e,enabled:t}){const{data:n,isLoading:r}=nL({enabled:t,select:s=>s.cookie_consent.analytics_cookies_accepted===!0});return r||!t?e:n??!1}const s2e=60*60*24;function ept(e,t=!1){return Fr()==null||t?"loading":!e||mn.getCookie(cn.AgeVerification)||e.ageVerificationDeadline==null||e.ageVerificationType==="none"?"hide":"show"}function tpt({onClose:e}){const{data:{ageVerificationType:t,ageVerificationDeadline:n}={}}=rL();return t==="passive"?i.jsx(o2e,{onClose:e}):t==="countdown"&&n!=null?i.jsx(a2e,{onClose:e,ageVerificationDeadline:n}):null}const o2e=({onClose:e})=>{const{country:t}=Ic();return p.useEffect(()=>{ue.addAction("privacy_policy.show_age_verification_modal",{country:t})},[t]),i.jsx(S3,{onClose:e,title:"OpenAI 서비스 이용 가능 연령기준을 확인해 주세요",description:i.jsx("div",{className:"whitespace-pre-wrap",children:i.jsxs("p",{children:["ChatGPT를 이용해주셔서 감사합니다. 대한민국의 법령상 요건을 준수하기 위해, OpenAI는 귀하가 OpenAI 서비스를 이용할 수 있는 나이인지 확인하여야 합니다. ChatGPT를 계속 이용하시려면, 귀하가 18세 이상이거나, 14세 이상이고 부모 또는 보호자의 허락을 받았음을 확인해 주세요.",i.jsx("br",{}),i.jsx("br",{}),"OpenAI의 연령기준 미달시"," ",i.jsx("a",{href:"https://privacy.openai.com/policies?action=ERASURE&modal=log-in",className:"underline",target:"_blank",rel:"noreferrer",children:"이 페이지에서 계정을 삭제해 주세요."})]})}),actionButton:i.jsx(ce,{color:"primary",onClick:async()=>{await X.updateAgeVerification(),e()},children:"저는 OpenAI의 연령기준을 충족합니다"}),cancelButton:i.jsx(ce,{as:"link",color:"secondary",to:"/auth/logout",children:"로그아웃"})})},a2e=({onClose:e,ageVerificationDeadline:t})=>{const n=t!=null?Math.floor(t/60/60/24):0;p.useEffect(()=>{z.logEvent("chatgpt_compliance_age_verification_seen"),E.logEvent(P.complianceAgeVerificationSeen)},[]);const{country:r}=Ic();return p.useEffect(()=>{ue.addAction("privacy_policy.show_age_verification_countdown",{country:r})},[r]),i.jsxs(eL,{children:[i.jsx(Z5,{className:"text-sm font-semibold [grid-area:_title]",children:i.jsx(S,{...LE.ageVerificationTitle,values:{deadline:n,learnMoreLink:s=>i.jsx("a",{href:"https://help.openai.com/en/articles/8411987-why-am-i-being-asked-to-verify-my-age",target:"_blank",rel:"noreferrer",className:"cursor-pointer font-normal underline",children:s})}})}),i.jsx(XAe,{altText:"Dismiss notification",asChild:!0,children:i.jsx(ce,{color:"primary",size:"small",onClick:()=>{z.logEvent("chatgpt_compliance_age_verification_clicked"),E.logEvent(P.complianceAgeVerificationClicked),mn.setCookie(cn.AgeVerification,"true",{maxAge:s2e,path:"/"}),e(),ze.openModal(gt.AgeVerificationInterstitial)},children:i.jsx(S,{...LE.startVerification})})}),i.jsx(J5,{})]})},LE=K({ageVerificationTitle:{id:"ageVerificationBanner.title-v1",defaultMessage:"Please verify your age in the next {deadline, plural, =0 {# days} one {# day} other {# days}}. We are required to check if you're old enough to use ChatGPT. <learnMoreLink>Learn more</learnMoreLink>."},dismiss:{id:"ageVerificationBanner.dismiss",defaultMessage:"Dismiss"},startVerification:{id:"ageVerificationBanner.startVerification",defaultMessage:"Start verification"},modalTitle:{id:"ageVerificationModal.title",defaultMessage:"Please confirm you meet our age requirements"},modalDescription:{id:"ageVerificationModal.description.1",defaultMessage:"Thank you for using ChatGPT. To comply with legal requirements in Korea, we need to confirm that you’re old enough to use our service. To continue on ChatGPT, please confirm that you are 18+ or are 14+ and have your parent or guardian’s permission to use ChatGPT. <deleteAccountLink>If you do not meet our age requirements, please delete your account.</deleteAccountLink>"},modalLogout:{id:"ageVerificationModal.logOut",defaultMessage:"Log out"},modalAction:{id:"ageVerificationModal.actionButton",defaultMessage:"I meet OpenAI's age requirements"}});function npt({onClose:e}){const t=U(),n=Fe(),{openSettings:r}=WD(),s=r2e(),{session:o}=Db(),{data:{isStorageComplianceEnabled:a}={}}=rL(),{data:c,isLoading:l}=nL({enabled:!!(a&&o),select:u=>!u.cookie_consent.is_required});return p.useEffect(()=>{c===!0&&e()},[c,e]),l?null:i.jsx(i2e,{onReject:()=>{s.mutateAsync({analytics_cookies_accepted:!1},{onSuccess(){n.success(t.formatMessage(ca.updateSuccess))},onError(){n.danger(t.formatMessage(ca.updateFailure))}}),e()},onAccept:()=>{s.mutateAsync({analytics_cookies_accepted:!0},{onSuccess(){n.success(t.formatMessage(ca.updateSuccess))},onError(){n.danger(t.formatMessage(ca.updateFailure))}}),e()},children:i.jsx(S,{id:"CookieConsentBanner.authedDescription.0",defaultMessage:"We use cookies and similar technologies to deliver, maintain, improve our services and for security purposes. Check our <cookiePolicy>cookie policy</cookiePolicy> for details. Click 'Accept all' to let OpenAI and partners use cookies for these purposes. Click 'Reject all' to say no to cookies, except those that are strictly necessary. Choose <manageLink>manage cookies</manageLink> to change your preferences.",values:{cookiePolicy:u=>i.jsx(qh,{href:"https://openai.com/policies/cookie-policy",openNewTab:!0,children:u}),manageLink:u=>i.jsx(c2e,{onClick:()=>{r(Yf.DataControls)},children:u})}})})}function i2e({children:e,onAccept:t,onReject:n}){return p.useEffect(()=>{ue.addAction("privacy_policy.show_cookie_consent_banner")},[]),i.jsxs(eL,{children:[i.jsxs(Z5,{className:"text-sm font-semibold [grid-area:_title]",children:[e,i.jsxs("div",{className:"mt-2 flex justify-end gap-3",children:[i.jsx(ce,{color:"secondary",size:"small",onClick:n,children:i.jsx(S,{...ca.reject})}),i.jsx(ce,{color:"secondary",size:"small",onClick:t,children:i.jsx(S,{...ca.accept})})]})]}),i.jsx(J5,{})]})}const c2e=Se.button`underline font-normal text-green-600`,ca=K({cookieConsentBannerTitle:{id:"CookieConsentBanner.title",defaultMessage:"We use cookies to provide, improve, and protect our services. Visit our <privacyPolicyLink>privacy policy</privacyPolicyLink> to learn more. You can manage your cookie preferences in your <settingsPanel>settings panel</settingsPanel>. <learnMoreLink>Learn more</learnMoreLink>."},reject:{id:"CookieConsentBanner.reject",defaultMessage:"Reject all"},accept:{id:"CookieConsentBanner.accept",defaultMessage:"Accept all"},updateSuccess:{id:"CookieConsentBanner.updateSuccess",defaultMessage:"Your cookie preferences were updated successfully"},updateFailure:{id:"CookieConsentBanner.updateFailure",defaultMessage:"Unable to update cookie preferences. Try again later."}}),l2e=()=>{const e=p.useRef(u2e()),{isUnauthenticated:t,isLoading:n}=It(),r=nS(),s=D$(),o=!n&&t&&s&&!e.current&&!r,a=p.useCallback(()=>{o&&(d2e(),E.logEventWithStatsig(P.meetChatGptModalShown,"chatgpt_meet_chatgpt_modal_shown"))},[o]),c=()=>{E.logEventWithStatsig(P.meetChatGptModalConfirmationButtonClicked,"chatgpt_meet_chatgpt_modal_confirmation_button_clicked")};return n?{onConfirmationButtonClick:c,onMount:a,state:"loading"}:o?{onConfirmationButtonClick:c,onMount:a,state:"show"}:{onConfirmationButtonClick:c,onMount:a,state:"hide"}};function u2e(){return!!localStorage.getItem(He.HasSeenMeetChatGptModal)}function d2e(){return localStorage.setItem(He.HasSeenMeetChatGptModal,"true")}const rpt=({onClose:e})=>{const{onConfirmationButtonClick:t,onMount:n,state:r}=l2e(),o=L$()?FE.trainingDisclaimer:FE.safetyAndAbuseDisclaimer;return p.useEffect(n,[n]),r!=="show"?null:i.jsx(je,{isOpen:!0,noPadding:!0,onClose:ke,shouldIgnoreClickOutside:!0,showCloseButton:!1,size:"custom",type:"success",className:"max-w-md",children:i.jsxs("div",{className:"flex flex-col p-6 text-center",children:[i.jsx("div",{className:"-mb-4 -mt-5 self-center",children:i.jsx(rA,{})}),i.jsx("div",{className:"mb-2 text-2xl font-medium",children:i.jsx(S,{id:"fnY8gE",defaultMessage:"Meet ChatGPT"})}),i.jsx("div",{className:"mb-6 text-token-text-secondary",children:i.jsx(S,{id:"OdX5ix",defaultMessage:"AI that can help with brainstorming, researching, planning, and more. Just ask."})}),i.jsx(ce,{color:"primary",size:"giant",className:"mb-4",onClick:()=>{t(),e()},children:i.jsx(S,{...Zt.gotItButtonText})}),i.jsx("div",{className:"text-xs text-token-text-tertiary",children:i.jsx(S,{...o,values:{learnMoreLink:a=>i.jsx("a",{className:"underline",href:"https://help.openai.com/en/articles/9737562",rel:"noreferrer",target:"_blank",children:a})}})})]})})},FE=K({trainingDisclaimer:{id:"hebnC4",defaultMessage:"Chats may be reviewed and used to train our models. You can opt out in settings. <learnMoreLink>Learn more</learnMoreLink>"},safetyAndAbuseDisclaimer:{id:"KpKqVi",defaultMessage:"Chats may be reviewed for safety and abuse prevention. <learnMoreLink>Learn more</learnMoreLink>"}}),f2e=60*60*24*30*12;function h2e(){const{isLoading:e,data:t}=me(x2),n=p.useRef(p2e()),r=t?.email??null,s=p.useCallback(()=>{n.current&&t?E.logEventWithStatsig(P.punchOutAnonToAuthedModalShown,"chatgpt_punch_out_anon_to_authed_modal_shown"):console.warn("PunchOutAnonToAuthedModal is being mounted without a user and a token")},[t]),o=c=>{E.logEventWithStatsig(P.punchOutAnonToAuthedModalContinueButtonClicked,"chatgpt_punch_out_anon_to_authed_modal_continue_button_clicked"),BE(),m2e(),window.location.href=`/continue_from_api?token=${c}`},a=()=>{BE(),E.logEventWithStatsig(P.PunchOutAnonToAuthedModalCancelButtonClicked,"chatgpt_punch_out_anon_to_authed_modal_cancel_button_clicked")};return e?{email:null,onCancelButtonClick:a,onContinueButtonClick:o,onMount:s,state:"loading",token:null}:n.current&&r?{email:r,onCancelButtonClick:a,onContinueButtonClick:o,onMount:s,state:"show",token:n.current}:{email:null,onCancelButtonClick:a,onContinueButtonClick:o,onMount:s,state:"hide",token:null}}function p2e(){return mn.getCookie(cn.PunchOutRequireAnonToAuthedToken)??null}function BE(){return mn.deleteCookie(cn.PunchOutRequireAnonToAuthedToken)}function m2e(){mn.setCookie(cn.PunchOutAnonToAuthedEnabled,"true",{maxAge:f2e})}const spt=({onClose:e})=>{const{onCancelButtonClick:t,onContinueButtonClick:n,onMount:r,token:s,email:o,state:a}=h2e(),l=Po()?"medium":"large";return p.useEffect(r,[r]),a!=="show"?null:i.jsx(je,{isOpen:!0,noPadding:!0,onClose:ke,shouldIgnoreClickOutside:!0,showCloseButton:!1,size:"custom",type:"success",className:"max-w-md",children:i.jsxs("div",{className:"flex flex-col p-6",children:[i.jsx("div",{className:"mb-2 text-center text-xl font-medium md:text-left",children:i.jsx(S,{id:"qAel0I",defaultMessage:"Always open in ChatGPT?"})}),i.jsx("div",{className:"mb-6 text-center text-token-text-secondary md:text-left",children:i.jsx(S,{id:"9Pb+Og",defaultMessage:"Chats you open from Siri will be saved in your account <emailContainer>({email})</emailContainer>.",values:{emailContainer:u=>i.jsx("span",{className:"font-medium",children:u}),email:o}})}),i.jsxs("div",{className:"flex flex-col gap-3 md:flex-row-reverse md:gap-2 md:self-end",children:[i.jsx(ce,{color:"primary",size:l,onClick:()=>n(s),children:i.jsx(S,{...Zt.continueButtonText})}),i.jsx(ce,{color:"secondary",size:l,onClick:()=>{t(),e()},children:i.jsx(S,{...Zt.cancelButtonText})})]})]})})},g2e=({onContinue:e,scope:t})=>{const n=U(),r=N_e();return i.jsx(je,{isOpen:!0,onClose:ke,type:"success",title:n.formatMessage(ya.chatgptTitle,{workspaceName:r}),size:"custom",noPadding:!0,className:"max-w-2xl",children:i.jsx(SAe,{onClose:()=>{e()},scope:t})})},v2e=({onContinue:e,onSkip:t,isEduPlan:n})=>{const r=U();return i.jsx(je,{isOpen:!0,onClose:ke,type:"success",title:r.formatMessage(ya.primaryRoleTitle),size:"custom",className:"max-w-lg",children:i.jsx(sL,{options:n?x2e:b2e,onSkip:t,onSubmit:e})})},y2e=({onContinue:e,onSkip:t,isEduPlan:n})=>{const r=U();return i.jsx(je,{isOpen:!0,onClose:ke,type:"success",title:r.formatMessage(ya.workTypeTitle),size:"custom",className:"max-w-lg",children:i.jsx(sL,{options:n?S2e:w2e,onSkip:t,onSubmit:e,multiSelect:!0})})};function sL({options:e,onSkip:t=ke,onSubmit:n=ke,multiSelect:r=!1}){const s=U(),[o,a]=p.useState([]);function c(u,d){const f=u.indexOf(d);return f===-1?[...u,d]:[...u.slice(0,f),...u.slice(f+1)]}const l=p.useCallback(u=>{const d=u.currentTarget.dataset.value??"";r?a(c(o,d)):n(d)},[n,o,a,r]);return i.jsxs("div",{children:[r&&i.jsx("p",{className:"mx-2 text-sm text-token-text-tertiary",children:s.formatMessage(ya.selectAll)}),i.jsx("div",{className:"flex flex-col items-center justify-center",children:i.jsx("div",{className:"flex-wrap space-y-4",children:e.map(u=>i.jsx(ce,{onClick:l,color:o.includes(u.id)?"primary":"secondary",size:"medium",className:"mx-2","data-value":u.id,children:i.jsx(S,{...u.displayValue})},u.id))})}),i.jsxs("div",{className:"mt-4 flex flex-row justify-end",children:[i.jsx(yr,{title:s.formatMessage(ya.skipButton),onClick:t}),r&&i.jsx(yr,{title:s.formatMessage(ya.continueButton),onClick:()=>{n(o)},disabled:o.length===0,color:"primary",className:"ml-4"})]})]})}function opt({onClose:e}){const{setHasSeenOnboarding:t}=F5(),[n,r]=p.useState(0),[s,o]=p.useState({role:void 0,departments:void 0}),a=zn(Ma.workspaceId),c=zn(Ma.isEduPlan),u=tn()?.id,d=()=>{z.logEvent("chatgpt_biz_onboarding_skipped"),E.logEvent(P.bizOnboardingSkipped),e(),t()};switch(n){case 0:return i.jsx(g2e,{scope:tS.Workspace,onContinue:()=>{r(1)}});case 1:return i.jsx(v2e,{onContinue:f=>{o(h=>({...h,role:f})),r(2)},onSkip:d,isEduPlan:c});case 2:return i.jsx(y2e,{onContinue:f=>{const h={...s,departments:f};e(),t(),z.logEvent("chatgpt_biz_onboarding_completed"),E.logEvent(P.bizOnboardingCompleted),X.updateWorkspaceUserOnboardingInformation(a,u,h)},onSkip:d,isEduPlan:c});default:return i.jsx(i.Fragment,{})}}const ya=K({chatgptTitle:{id:"onboarding.chatgptTitle.0",defaultMessage:"Welcome to the {workspaceName} workspace"},primaryRoleTitle:{id:"onboarding.primaryRoleTitle",defaultMessage:"What's your primary role?"},workTypeTitle:{id:"onboarding.workTypeTitle",defaultMessage:"What kind of work do you do?"},selectAll:{id:"onboarding.selectAll",defaultMessage:"Select all that apply"},skipButton:{id:"onboarding.skipButton",defaultMessage:"Skip"},continueButton:{id:"onboarding.continueButton",defaultMessage:"Continue"}}),xt=K({marketing:{id:"onboarding.departments.marketing",defaultMessage:"Marketing"},analytics:{id:"onboarding.departments.analytics",defaultMessage:"Data or Analytics"},product:{id:"onboarding.departments.product",defaultMessage:"Product Management"},comms:{id:"onboarding.departments.comms",defaultMessage:"Communications"},finance:{id:"onboarding.departments.finance",defaultMessage:"Finance or Accounting"},customer_experience:{id:"onboarding.departments.customer_experience",defaultMessage:"Customer Experience"},project_management:{id:"onboarding.departments.project_management",defaultMessage:"Project or Program Management"},engineering:{id:"onboarding.departments.engineering",defaultMessage:"Engineering"},education_professional:{id:"onboarding.departments.education_professional",defaultMessage:"Education Professional"},design:{id:"onboarding.departments.design",defaultMessage:"Design"},administrative:{id:"onboarding.departments.administrative",defaultMessage:"Administrative Assistant"},partnerships:{id:"onboarding.departments.partnerships",defaultMessage:"Partnerships"},it:{id:"onboarding.departments.it",defaultMessage:"Information Technology (IT)"},ops:{id:"onboarding.departments.ops",defaultMessage:"Operations"},human_resources:{id:"onboarding.departments.human_resources",defaultMessage:"Human Resources"},research:{id:"onboarding.departments.research",defaultMessage:"Research & Development"},sales:{id:"onboarding.departments.sales",defaultMessage:"Sales"},legal:{id:"onboarding.departments.legal",defaultMessage:"Legal"},healthcare:{id:"onboarding.departments.healthcare",defaultMessage:"Healthcare Professional"},other:{id:"onboarding.departments.other",defaultMessage:"Other"}}),zt=K({engineering:{id:"onboarding.edu_departments.engineering",defaultMessage:"Engineering"},math:{id:"onboarding.edu_departments.math",defaultMessage:"Mathematics"},applied_sciences:{id:"onboarding.edu_departments.applied_sciences",defaultMessage:"Applied Sciences"},finance:{id:"onboarding.edu_departments.finance",defaultMessage:"Finance or Accounting"},health:{id:"onboarding.edu_departments.health",defaultMessage:"Health or Medical"},law:{id:"onboarding.edu_departments.law",defaultMessage:"Law"},business:{id:"onboarding.edu_departments.business",defaultMessage:"Business"},social:{id:"onboarding.edu_departments.social",defaultMessage:"Social Sciences"},liberal_art:{id:"onboarding.edu_departments.liberal_art",defaultMessage:"Liberal Arts"},fine_art:{id:"onboarding.edu_departments.fine_art",defaultMessage:"Fine Arts"},linguistics:{id:"onboarding.edu_departments.linguistics",defaultMessage:"Linguistics"},teaching:{id:"onboarding.edu_departments.teaching",defaultMessage:"Teaching"},dev:{id:"onboarding.edu_departments.dev",defaultMessage:"Research & Development"},campus_ops:{id:"onboarding.edu_departments.campus_ops",defaultMessage:"Campus Operations"},it:{id:"onboarding.edu_departments.it",defaultMessage:"Information Technology (IT)"},other:{id:"onboarding.edu_departments.other",defaultMessage:"Other"}}),Yr=K({team_member:{id:"onboarding.role.team_member",defaultMessage:"Team Member/ Individual Contributor"},manager:{id:"onboarding.role.manager",defaultMessage:"Manager"},student:{id:"onboarding.role.student",defaultMessage:"Student"},executive:{id:"onboarding.role.executive",defaultMessage:"Executive"},director:{id:"onboarding.role.director",defaultMessage:"Director"},business_owner:{id:"onboarding.role.business_owner",defaultMessage:"Business Owner"},freelancer:{id:"onboarding.role.freelancer",defaultMessage:"Freelancer"},other:{id:"onboarding.role.other",defaultMessage:"Other"}}),zo=K({student:{id:"onboarding.edu_role.student",defaultMessage:"Student"},instructional_staff:{id:"onboarding.edu_role.instructional_staff",defaultMessage:"Instructional Staff"},researcher:{id:"onboarding.edu_role.researcher",defaultMessage:"Researcher"},admin:{id:"onboarding.edu_role.admin",defaultMessage:"Administration"},alumni:{id:"onboarding.edu_role.alumni",defaultMessage:"Alumni"},other:{id:"onboarding.edu_role.other",defaultMessage:"Other"}}),b2e=[{id:"team_member",displayValue:Yr.team_member},{id:"manager",displayValue:Yr.manager},{id:"student",displayValue:Yr.student},{id:"executive",displayValue:Yr.executive},{id:"director",displayValue:Yr.director},{id:"business_owner",displayValue:Yr.business_owner},{id:"freelancer",displayValue:Yr.freelancer},{id:"other",displayValue:Yr.other}],x2e=[{id:"student",displayValue:zo.student},{id:"instructional_staff",displayValue:zo.instructional_staff},{id:"researcher",displayValue:zo.researcher},{id:"admin",displayValue:zo.admin},{id:"alumni",displayValue:zo.alumni},{id:"other",displayValue:zo.other}],w2e=[{id:"marketing",displayValue:xt.marketing},{id:"analytics",displayValue:xt.analytics},{id:"product",displayValue:xt.product},{id:"comms",displayValue:xt.comms},{id:"engineering",displayValue:xt.engineering},{id:"education_professional",displayValue:xt.education_professional},{id:"finance",displayValue:xt.finance},{id:"customer_experience",displayValue:xt.customer_experience},{id:"project_management",displayValue:xt.project_management},{id:"design",displayValue:xt.design},{id:"administrative",displayValue:xt.administrative},{id:"it",displayValue:xt.it},{id:"ops",displayValue:xt.ops},{id:"human_resources",displayValue:xt.human_resources},{id:"research",displayValue:xt.research},{id:"sales",displayValue:xt.sales},{id:"partnerships",displayValue:xt.partnerships},{id:"legal",displayValue:xt.legal},{id:"healthcare",displayValue:xt.healthcare},{id:"other",displayValue:xt.other}],S2e=[{id:"engineering",displayValue:zt.engineering},{id:"math",displayValue:zt.math},{id:"applied_sciences",displayValue:zt.applied_sciences},{id:"finance",displayValue:zt.finance},{id:"health",displayValue:zt.health},{id:"law",displayValue:zt.law},{id:"business",displayValue:zt.business},{id:"social",displayValue:zt.social},{id:"liberal_art",displayValue:zt.liberal_art},{id:"fine_art",displayValue:zt.fine_art},{id:"linguistics",displayValue:zt.linguistics},{id:"teaching",displayValue:zt.teaching},{id:"dev",displayValue:zt.dev},{id:"campus_ops",displayValue:zt.campus_ops},{id:"it",displayValue:zt.it},{id:"other",displayValue:zt.other}];function C2e(e){switch(e){case _u.SSOMismatch:return{title:Jr.cannotAccessWorkspace,description:Jr.ssoMismatchDescription};case _u.RequireSSOLogin:return{title:Jr.cannotAccessWorkspace,description:Jr.requireSSODescription};case _u.UnexpectedSSOLogin:return{title:Jr.cannotAccessWorkspace,description:Jr.unexpectedSSODescription}}}const _2e=2e3;function apt(){const e=z9(),t=De(),n=U(),r=vn(),s=A$(),o=me({...n$(),select:()=>null}),a=De(),c=e?.errorCode,l=e!=null&&o.isFetched&&s==null&&!!a,[u,d]=p.useState(!1);p.useEffect(()=>{l&&setTimeout(()=>{d(!0)},_2e)},[l]);const f=c===_u.UnexpectedSSOLogin,h=l&&(f?u:!0),m=kD();if(p.useEffect(()=>{if(!c||!h)return;const b=m?.split("@")?.[1];ue.addError(`SSO Catch All Modal: ${c} for ${m??"unknown user"}`,{sso_error:c,email:m,email_hostname:b})},[c,h,m]),!h)return null;const g=e?.accountName??t?.name??n.formatMessage(Jr.workspacePlaceholder),v=()=>{const b=t?.ssoConnectionName?{connection:t.ssoConnectionName}:void 0;r({authType:"login",additionalAuthParams:b})},{title:y,description:x}=C2e(e.errorCode);return i.jsx(je,{isOpen:!0,onClose:ke,type:"warning",size:"custom",className:"max-w-3xl",title:i.jsx("div",{className:"flex flex-col",children:i.jsx("div",{className:"text-lg",children:i.jsx(S,{...y})})}),icon:_o,primaryButton:i.jsx(Ct.Button,{onClick:v,color:"primary",children:i.jsx(S,{...Jr.authenticateNotice,values:{workspaceName:g}})}),secondaryButton:i.jsx(Ct.Button,{onClick:()=>{E.logLogOutButtonClicked({location:"sso_catch_all_modal"}),Oh()},children:i.jsx(S,{id:"KlMYRb",defaultMessage:"Log out"})}),children:i.jsx("div",{className:"flex flex-col space-y-4",children:i.jsx("div",{children:i.jsx(S,{...x})})})})}const Jr=K({authenticateNotice:{id:"zF1QJE",defaultMessage:"Authenticate to {workspaceName}"},workspacePlaceholder:{id:"IIY4N4",defaultMessage:"this workspace"},cannotAccessWorkspace:{id:"IlXHdd",defaultMessage:"Cannot Access This Workspace"},ssoMismatchDescription:{id:"xSuU9q",defaultMessage:"The SSO you logged in with does not match the SSO registered for this workspace. Try re-authenticating with that SSO."},unexpectedSSODescription:{id:"uSkRZx",defaultMessage:"This workspace doesn't have an SSO associated with it, but you're trying to log in with SSO. Try logging in with social authentication (i.e. Google) or with your password."},requireSSODescription:{id:"akKMy1",defaultMessage:"Your organization requires that you log in with SSO to access this workspace"}}),hu="temporary-chat",aS=p.createContext(void 0);function ipt(){return p.useContext(aS).threadContentScrollContainerElementRef}function cpt(){return La(p.useContext(aS).footerRootContainerElementRef,"footerRootContainerElementRef")}function T2e({value:e,children:t}){return i.jsx(aS.Provider,{value:e,children:t})}function k2e(){return i.jsx("div",{slot:"keyboard"})}function M2e(e){const{anchor:t,children:n,className:r,leading:s,ref:o,style:a,trailing:c,trackLeading:l,trackTrailing:u,...d}=e,{name:f}=d,[h,m]=Ji(d),[g,v]=Ji({disableSizeTracking:!l,name:`${f}-leading`,track:"height"}),[y,x]=Ji({disableSizeTracking:!u,name:`${f}-trailing`,track:"height"}),b=t==="vertical"||t==="bottom",w=f??"default",C=null,T=p.useRef(null),_=p.useMemo(()=>({threadContentScrollContainerElementRef:C,footerRootContainerElementRef:T}),[]);return i.jsxs("section",{className:$(q9.screen,r),"data-testid":`screen-${w}`,"screen-anchor":t,ref:k=>{m(k),o&&(o.current=k)},style:{...a,...h,...g,...y,container:f?`${f} / inline-size`:void 0,minWidth:`min(var(--screen-${w}_min-width), 100cqw)`},children:[i.jsx("div",{slot:"leading",ref:v,children:s}),i.jsx("div",{slot:"content",children:i.jsx(T2e,{value:_,children:n})}),i.jsx("div",{slot:"trailing",ref:k=>{x(k),T.current=k},children:c}),b&&i.jsx(k2e,{})]})}function oL(e){const{className:t,htmlFor:n,icon:r,label:s,onClick:o,onActivate:a,style:c,tooltipSideOffset:l,tabIndex:u=0}=e;return i.jsx(rt,{label:s,className:"inline-flex",interactive:!1,sideOffset:l,children:i.jsx("label",{className:$(t,Md.wrapper),style:c,htmlFor:n,onClick:o,tabIndex:u,onKeyPress:d=>{(d.key==="Enter"||d.key===" ")&&a?.(d)},children:i.jsxs("span",{className:Md.label,children:[i.jsx("span",{className:"sr-only",children:s}),r]})})})}function cb({id:e,name:t,checked:n,onChange:r=ke}){return i.jsx("input",{className:"sr-only",checked:n,id:e,name:t,type:"checkbox",readOnly:!0,onChange:r})}function E2e({title:e,handleClose:t,children:n}){const r=qb(),{closeThreadSidebar:s}=Ac();return i.jsxs(i.Fragment,{children:[i.jsx(M2e,{anchor:"top",className:"relative flex-1 border-l border-l-token-border-sharp",name:"threadFlyOut",trackLeading:!0,leading:i.jsx(Uv,{name:"search-sources-header",type:"primary",className:`flex min-h-[calc(var(--screen-thread-header-min-height,60px)+1px)] items-center ${e?"":"justify-end p-1.5"} !bg-transparent`,children:e?i.jsxs("div",{className:"flex items-start justify-between bg-token-main-surface-primary px-6 py-4",children:[i.jsx("span",{className:"text-lg font-medium",children:e}),i.jsx(_a,{className:"-mr-1",onClick:t})]}):i.jsx("div",{className:"bg-token-main-surface-primary p-1",children:i.jsx(_a,{onClick:t})})}),children:n}),i.jsx(cb,{id:Nn.ThreadSidebarOpenOrClosed,name:Nn.ThreadSidebarOpenOrClosed,checked:r,onChange:o=>{o.currentTarget.checked||s({})}})]})}function UE(e,t){const s=300/e,o=35/s;let a;if(t<=o)a=s*t;else{const l=e-o,d=-4*((t-o)/l);a=35+(99.9-35)*(1-Math.exp(d))}return Math.min(a,99.9)}const lpt=(e,t)=>{const n=+new Date-e,[r,s]=p.useState(UE(t,n));return p.useEffect(()=>{const o=setInterval(()=>{const a=+new Date-e,c=UE(t,a);if(s(c),c>=100||a>=t)return clearInterval(o),s(100),100},100);return()=>{clearInterval(o)}},[e,t]),r};function upt({percentage:e,height:t=10,className:n,backgroundClassName:r="bg-gray-400",barClassName:s="bg-current",transitionDuration:o,transitionTimingFunction:a,onTransitionEnd:c}){return i.jsxs("div",{className:$("relative w-full",n),style:{height:t},children:[i.jsx("div",{className:$("absolute left-0 top-0 h-full w-full",r)}),i.jsx("div",{className:$("absolute left-0 top-0 h-full transition-[width]",s),style:{width:`${Math.max(Math.min(e,100),0)}%`,transitionDuration:o,transitionTimingFunction:a},onTransitionEnd:c})]})}function dpt(){return mt("3435450078")}function fpt({title:e,content:t,buttons:n,time:r,icon:s,size:o="default",progressBar:a,disabled:c=!1,onClick:l}){const u=c?"border-token-dot-color border-opacity-10":"border-token-main-surface-secondary shadow",d=o==="small"?`w-2/3 px-[20px] py-[16px] ${c?"":"gap-4"}`:"w-full gap-4 px-[22px] pb-[22px] pt-[18px]",f=l?"cursor-pointer":"";return i.jsxs("div",{className:`inline-flex flex-col items-start justify-start rounded-2xl border ${u} bg-token-main-surface-primary dark:bg-token-main-surface-secondary ${d} ${f}`,onClick:l,children:[i.jsxs("div",{className:`flex flex-col items-start justify-start self-stretch ${o==="small"?"":"gap-1.5"}`,children:[i.jsxs("div",{className:`inline-flex items-start justify-start self-stretch ${o==="small"?"":"gap-2"}`,children:[i.jsx("div",{className:`shrink grow basis-0 text-base font-semibold leading-normal ${c?"text-token-text-secondary":"text-token-text-primary"}`,children:e}),i.jsx("div",{className:"relative h-6 w-6"}),!c&&(s||i.jsx(T7,{className:"relative h-6 w-6"}))]}),i.jsx("div",{className:"flex w-full flex-col items-start justify-start",children:i.jsx("div",{className:`inline-flex w-full items-start justify-start self-stretch rounded ${o==="small"?"gap-1":"gap-2.5 py-1"}`,children:i.jsx("div",{className:`w-full text-base font-normal leading-relaxed ${c?"text-token-text-tertiary":"text-token-text-secondary"}`,children:t})})})]}),a?i.jsxs("div",{className:`${n&&n.length>0?"-mt-2":""} mb-2 inline-flex items-center justify-between self-stretch`,children:[a,n]}):i.jsxs("div",{className:"inline-flex items-center justify-end self-stretch",children:[r&&i.jsx("div",{className:"shrink grow basis-0 text-[15px] font-normal leading-normal text-token-text-tertiary",children:r}),i.jsx("div",{className:"flex gap-2",children:n})]})]})}var aL={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.Unidentified="Unidentified",t.Alt="Alt",t.AltGraph="AltGraph",t.CapsLock="CapsLock",t.Control="Control",t.Fn="Fn",t.FnLock="FnLock",t.Hyper="Hyper",t.Meta="Meta",t.NumLock="NumLock",t.ScrollLock="ScrollLock",t.Shift="Shift",t.Super="Super",t.Symbol="Symbol",t.SymbolLock="SymbolLock",t.Enter="Enter",t.Tab="Tab",t.ArrowDown="ArrowDown",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.ArrowUp="ArrowUp",t.End="End",t.Home="Home",t.PageDown="PageDown",t.PageUp="PageUp",t.Backspace="Backspace",t.Clear="Clear",t.Copy="Copy",t.CrSel="CrSel",t.Cut="Cut",t.Delete="Delete",t.EraseEof="EraseEof",t.ExSel="ExSel",t.Insert="Insert",t.Paste="Paste",t.Redo="Redo",t.Undo="Undo",t.Accept="Accept",t.Again="Again",t.Attn="Attn",t.Cancel="Cancel",t.ContextMenu="ContextMenu",t.Escape="Escape",t.Execute="Execute",t.Find="Find",t.Finish="Finish",t.Help="Help",t.Pause="Pause",t.Play="Play",t.Props="Props",t.Select="Select",t.ZoomIn="ZoomIn",t.ZoomOut="ZoomOut",t.BrightnessDown="BrightnessDown",t.BrightnessUp="BrightnessUp",t.Eject="Eject",t.LogOff="LogOff",t.Power="Power",t.PowerOff="PowerOff",t.PrintScreen="PrintScreen",t.Hibernate="Hibernate",t.Standby="Standby",t.WakeUp="WakeUp",t.AllCandidates="AllCandidates",t.Alphanumeric="Alphanumeric",t.CodeInput="CodeInput",t.Compose="Compose",t.Convert="Convert",t.Dead="Dead",t.FinalMode="FinalMode",t.GroupFirst="GroupFirst",t.GroupLast="GroupLast",t.GroupNext="GroupNext",t.GroupPrevious="GroupPrevious",t.ModeChange="ModeChange",t.NextCandidate="NextCandidate",t.NonConvert="NonConvert",t.PreviousCandidate="PreviousCandidate",t.Process="Process",t.SingleCandidate="SingleCandidate",t.HangulMode="HangulMode",t.HanjaMode="HanjaMode",t.JunjaMode="JunjaMode",t.Eisu="Eisu",t.Hankaku="Hankaku",t.Hiragana="Hiragana",t.HiraganaKatakana="HiraganaKatakana",t.KanaMode="KanaMode",t.KanjiMode="KanjiMode",t.Katakana="Katakana",t.Romaji="Romaji",t.Zenkaku="Zenkaku",t.ZenkakuHanaku="ZenkakuHanaku",t.F1="F1",t.F2="F2",t.F3="F3",t.F4="F4",t.F5="F5",t.F6="F6",t.F7="F7",t.F8="F8",t.F9="F9",t.F10="F10",t.F11="F11",t.F12="F12",t.F13="F13",t.F14="F14",t.F15="F15",t.F16="F16",t.F17="F17",t.F18="F18",t.F19="F19",t.F20="F20",t.Soft1="Soft1",t.Soft2="Soft2",t.Soft3="Soft3",t.Soft4="Soft4",t.AppSwitch="AppSwitch",t.Call="Call",t.Camera="Camera",t.CameraFocus="CameraFocus",t.EndCall="EndCall",t.GoBack="GoBack",t.GoHome="GoHome",t.HeadsetHook="HeadsetHook",t.LastNumberRedial="LastNumberRedial",t.Notification="Notification",t.MannerMode="MannerMode",t.VoiceDial="VoiceDial",t.ChannelDown="ChannelDown",t.ChannelUp="ChannelUp",t.MediaFastForward="MediaFastForward",t.MediaPause="MediaPause",t.MediaPlay="MediaPlay",t.MediaPlayPause="MediaPlayPause",t.MediaRecord="MediaRecord",t.MediaRewind="MediaRewind",t.MediaStop="MediaStop",t.MediaTrackNext="MediaTrackNext",t.MediaTrackPrevious="MediaTrackPrevious",t.AudioBalanceLeft="AudioBalanceLeft",t.AudioBalanceRight="AudioBalanceRight",t.AudioBassDown="AudioBassDown",t.AudioBassBoostDown="AudioBassBoostDown",t.AudioBassBoostToggle="AudioBassBoostToggle",t.AudioBassBoostUp="AudioBassBoostUp",t.AudioBassUp="AudioBassUp",t.AudioFaderFront="AudioFaderFront",t.AudioFaderRear="AudioFaderRear",t.AudioSurroundModeNext="AudioSurroundModeNext",t.AudioTrebleDown="AudioTrebleDown",t.AudioTrebleUp="AudioTrebleUp",t.AudioVolumeDown="AudioVolumeDown",t.AudioVolumeMute="AudioVolumeMute",t.AudioVolumeUp="AudioVolumeUp",t.MicrophoneToggle="MicrophoneToggle",t.MicrophoneVolumeDown="MicrophoneVolumeDown",t.MicrophoneVolumeMute="MicrophoneVolumeMute",t.MicrophoneVolumeUp="MicrophoneVolumeUp",t.TV="TV",t.TV3DMode="TV3DMode",t.TVAntennaCable="TVAntennaCable",t.TVAudioDescription="TVAudioDescription",t.TVAudioDescriptionMixDown="TVAudioDescriptionMixDown",t.TVAudioDescriptionMixUp="TVAudioDescriptionMixUp",t.TVContentsMenu="TVContentsMenu",t.TVDataService="TVDataService",t.TVInput="TVInput",t.TVInputComponent1="TVInputComponent1",t.TVInputComponent2="TVInputComponent2",t.TVInputComposite1="TVInputComposite1",t.TVInputComposite2="TVInputComposite2",t.TVInputHDMI1="TVInputHDMI1",t.TVInputHDMI2="TVInputHDMI2",t.TVInputHDMI3="TVInputHDMI3",t.TVInputHDMI4="TVInputHDMI4",t.TVInputVGA1="TVInputVGA1",t.TVMediaContext="TVMediaContext",t.TVNetwork="TVNetwork",t.TVNumberEntry="TVNumberEntry",t.TVPower="TVPower",t.TVRadioService="TVRadioService",t.TVSatellite="TVSatellite",t.TVSatelliteBS="TVSatelliteBS",t.TVSatelliteCS="TVSatelliteCS",t.TVSatelliteToggle="TVSatelliteToggle",t.TVTerrestrialAnalog="TVTerrestrialAnalog",t.TVTerrestrialDigital="TVTerrestrialDigital",t.TVTimer="TVTimer",t.AVRInput="AVRInput",t.AVRPower="AVRPower",t.ColorF0Red="ColorF0Red",t.ColorF1Green="ColorF1Green",t.ColorF2Yellow="ColorF2Yellow",t.ColorF3Blue="ColorF3Blue",t.ColorF4Grey="ColorF4Grey",t.ColorF5Brown="ColorF5Brown",t.ClosedCaptionToggle="ClosedCaptionToggle",t.Dimmer="Dimmer",t.DisplaySwap="DisplaySwap",t.DVR="DVR",t.Exit="Exit",t.FavoriteClear0="FavoriteClear0",t.FavoriteClear1="FavoriteClear1",t.FavoriteClear2="FavoriteClear2",t.FavoriteClear3="FavoriteClear3",t.FavoriteRecall0="FavoriteRecall0",t.FavoriteRecall1="FavoriteRecall1",t.FavoriteRecall2="FavoriteRecall2",t.FavoriteRecall3="FavoriteRecall3",t.FavoriteStore0="FavoriteStore0",t.FavoriteStore1="FavoriteStore1",t.FavoriteStore2="FavoriteStore2",t.FavoriteStore3="FavoriteStore3",t.Guide="Guide",t.GuideNextDay="GuideNextDay",t.GuidePreviousDay="GuidePreviousDay",t.Info="Info",t.InstantReplay="InstantReplay",t.Link="Link",t.ListProgram="ListProgram",t.LiveContent="LiveContent",t.Lock="Lock",t.MediaApps="MediaApps",t.MediaAudioTrack="MediaAudioTrack",t.MediaLast="MediaLast",t.MediaSkipBackward="MediaSkipBackward",t.MediaSkipForward="MediaSkipForward",t.MediaStepBackward="MediaStepBackward",t.MediaStepForward="MediaStepForward",t.MediaTopMenu="MediaTopMenu",t.NavigateIn="NavigateIn",t.NavigateNext="NavigateNext",t.NavigateOut="NavigateOut",t.NavigatePrevious="NavigatePrevious",t.NextFavoriteChannel="NextFavoriteChannel",t.NextUserProfile="NextUserProfile",t.OnDemand="OnDemand",t.Pairing="Pairing",t.PinPDown="PinPDown",t.PinPMove="PinPMove",t.PinPToggle="PinPToggle",t.PinPUp="PinPUp",t.PlaySpeedDown="PlaySpeedDown",t.PlaySpeedReset="PlaySpeedReset",t.PlaySpeedUp="PlaySpeedUp",t.RandomToggle="RandomToggle",t.RcLowBattery="RcLowBattery",t.RecordSpeedNext="RecordSpeedNext",t.RfBypass="RfBypass",t.ScanChannelsToggle="ScanChannelsToggle",t.ScreenModeNext="ScreenModeNext",t.Settings="Settings",t.SplitScreenToggle="SplitScreenToggle",t.STBInput="STBInput",t.STBPower="STBPower",t.Subtitle="Subtitle",t.Teletext="Teletext",t.VideoModeNext="VideoModeNext",t.Wink="Wink",t.ZoomToggle="ZoomToggle",t.SpeechCorrectionList="SpeechCorrectionList",t.SpeechInputToggle="SpeechInputToggle",t.Close="Close",t.New="New",t.Open="Open",t.Print="Print",t.Save="Save",t.SpellCheck="SpellCheck",t.MailForward="MailForward",t.MailReply="MailReply",t.MailSend="MailSend",t.LaunchCalculator="LaunchCalculator",t.LaunchCalendar="LaunchCalendar",t.LaunchContacts="LaunchContacts",t.LaunchMail="LaunchMail",t.LaunchMediaPlayer="LaunchMediaPlayer",t.LaunchMusicPlayer="LaunchMusicPlayer",t.LaunchMyComputer="LaunchMyComputer",t.LaunchPhone="LaunchPhone",t.LaunchScreenSaver="LaunchScreenSaver",t.LaunchSpreadsheet="LaunchSpreadsheet",t.LaunchWebBrowser="LaunchWebBrowser",t.LaunchWebCam="LaunchWebCam",t.LaunchWordProcessor="LaunchWordProcessor",t.LaunchApplication1="LaunchApplication1",t.LaunchApplication2="LaunchApplication2",t.LaunchApplication3="LaunchApplication3",t.LaunchApplication4="LaunchApplication4",t.LaunchApplication5="LaunchApplication5",t.LaunchApplication6="LaunchApplication6",t.LaunchApplication7="LaunchApplication7",t.LaunchApplication8="LaunchApplication8",t.LaunchApplication9="LaunchApplication9",t.LaunchApplication10="LaunchApplication10",t.LaunchApplication11="LaunchApplication11",t.LaunchApplication12="LaunchApplication12",t.LaunchApplication13="LaunchApplication13",t.LaunchApplication14="LaunchApplication14",t.LaunchApplication15="LaunchApplication15",t.LaunchApplication16="LaunchApplication16",t.BrowserBack="BrowserBack",t.BrowserFavorites="BrowserFavorites",t.BrowserForward="BrowserForward",t.BrowserHome="BrowserHome",t.BrowserRefresh="BrowserRefresh",t.BrowserSearch="BrowserSearch",t.BrowserStop="BrowserStop",t.Decimal="Decimal",t.Key11="Key11",t.Key12="Key12",t.Multiply="Multiply",t.Add="Add",t.Divide="Divide",t.Subtract="Subtract",t.Separator="Separator"}(e.Key||(e.Key={}))})(aL);function iS(){const{value:e}=mt("3768008236"),{layer:t}=_n("3436367576");let n=!1,r=!1;const s=t.get("enable_local_indexing",!1);n=t.get("enable_ux",!1)||e,r=s||e;const{value:a}=mt("187267097"),{value:c}=mt("3323077373");return{isFannyPackEnabled:a||n,isFannyPackInitializerEnabled:c||r}}const P2e=async(e,t,n,r,s="mouse")=>{const o=L.getThreadCurrentLeafId(e),c=L.getThreadConversationTurns(e,o)[t];if(!c)return Promise.reject();const{messages:l}=c,u=l.reduce((f,h)=>!h.err&&h.message.author.role===he.Assistant&&h.message.recipient==="all"?f+(f?`

`:"")+vs(h.message,{shouldGetTextFromContentReferences:!0}):f,""),d={"text/plain":u};try{let f="";const{markdownToHtml:h}=await Ye(async()=>{const{markdownToHtml:m}=await import("./oizw0lv24r6kf6um.js").then(g=>g.F);return{markdownToHtml:m}},__vite__mapDeps([12,1,2,3,13,14,15,16,17,6,18,19,20,8,21,22]));for(const m of l)!m.err&&m.message.author.role===he.Assistant&&m.message.recipient==="all"&&(f&&(f+=`

`),f+=await h(vs(m.message)));d["text/html"]=f}catch(f){ue.addError(f)}return ml(d,n,r).then(()=>{const f=L.getServerThreadId(e);f&&X.submitImplicitMessageFeedback({messageId:l[0].message.id,type:"copy",serverThreadId:f,selectedText:u,source:s,location:"message"})})},$2e=(e,t,n,r="mouse")=>{const s=L.getThreadCurrentLeafId(e),o=L.getThreadConversationTurns(e,s);return P2e(e,o.length-1,t,n,r)};var Hr={};Object.defineProperty(Hr,"__esModule",{value:!0});var A2e=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),zg={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},iL={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:A2e?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},cS={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var pu=1;pu<20;pu++)cS["f"+pu]=111+pu;function Kp(e,t,n){t&&!("byKey"in t)&&(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map(function(a){return cL(a,t)}),s=function(c){return r.some(function(l){return lL(l,c)})},o=n==null?s:s(n);return o}function O2e(e,t){return Kp(e,t)}function N2e(e,t){return Kp(e,{byKey:!0},t)}function cL(e,t){var n=t&&t.byKey,r={};e=e.replace("++","+add");var s=e.split("+"),o=s.length;for(var a in zg)r[zg[a]]=!1;var c=!0,l=!1,u=void 0;try{for(var d=s[Symbol.iterator](),f;!(c=(f=d.next()).done);c=!0){var h=f.value,m=h.endsWith("?")&&h.length>1;m&&(h=h.slice(0,-1));var g=lS(h),v=zg[g];if(h.length>1&&!v&&!iL[h]&&!cS[g])throw new TypeError('Unknown modifier: "'+h+'"');(o===1||!v)&&(n?r.key=g:r.which=uL(h)),v&&(r[v]=m?null:!0)}}catch(y){l=!0,u=y}finally{try{!c&&d.return&&d.return()}finally{if(l)throw u}}return r}function lL(e,t){for(var n in e){var r=e[n],s=void 0;if(r!=null&&(n==="key"&&t.key!=null?s=t.key.toLowerCase():n==="which"?s=r===91&&t.which===93?91:t.which:s=t[n],!(s==null&&r===!1)&&s!==r))return!1}return!0}function uL(e){e=lS(e);var t=cS[e]||e.toUpperCase().charCodeAt(0);return t}function lS(e){return e=e.toLowerCase(),e=iL[e]||e,e}var I2e=Hr.default=Kp;Hr.isHotkey=Kp;Hr.isCodeHotkey=O2e;Hr.isKeyHotkey=N2e;Hr.parseHotkey=cL;Hr.compareHotkey=lL;Hr.toKeyCode=uL;Hr.toKeyName=lS;function j2e(e,t,n){const r=yh(),s=e.map(o=>{const{keyboardBinding:a}=o;let c=a.join("+");if(o.altKeyboardBindings){c=[c];const l=o.altKeyboardBindings.map(u=>u.join("+"));c=c.concat(l)}return I2e(c,{byKey:!0})});F$(()=>{if(n?.enabled===!1)return;const o=l=>{if(!l.repeat)for(let u=0;u<s.length;u++)s[u](l)&&(e[u].enabled===void 0||e[u].enabled)&&(l.preventDefault(),t(e[u]),e[u].action(l))},a=l=>{l.key!==void 0&&o(l)},c=r?.document??document;return c.addEventListener("keydown",a),()=>{c.removeEventListener("keydown",a)}},[e,n])}const R2e=/```.*?\n([\s\S]+?)\n?```[^`]*$/gms;function lb(){return/Mac|iPod|iPhone|iPad/.test(window.navigator.platform)}const ge={Mod:"mod",Comma:",",Space:"Space"," ":"Space"," ":"Space",...aL.Key},D2e={[ge.Mod]:lb()?"⌘":"Ctrl",[ge.Meta]:lb()?"⌘":"Win",[ge.Comma]:",",[ge.Enter]:"⏎",[ge.Escape]:"Esc",[ge.ArrowUp]:"↑",[ge.ArrowDown]:"↓",[ge.ArrowLeft]:"←",[ge.ArrowRight]:"→",[ge.Backspace]:"⌫",[ge.Delete]:"⌦",[ge.Tab]:"⇥",[ge.Control]:"Ctrl",[ge.Shift]:"Shift"},L2e=e=>e.map(t=>D2e[t]??t),Dn=K({newChat:{id:"keyboardActions.newChat",defaultMessage:"Open new chat"},focusPromptTextarea:{id:"keyboardActions.focusPromptTextarea",defaultMessage:"Focus chat input"},copyLastCodeBlock:{id:"keyboardActions.copyLastCodeBlock",defaultMessage:"Copy last code block"},copyLastResponse:{id:"keyboardActions.copyLastResponse",defaultMessage:"Copy last response"},toggleCustomInstructions:{id:"keyboardActions.toggleCustomInstructions",defaultMessage:"Set custom instructions"},navigationToggle:{id:"keyboardActions.navigationToggle",defaultMessage:"Toggle sidebar"},deleteChat:{id:"keyboardActions.deleteChat",defaultMessage:"Delete chat"},archiveChat:{id:"keyboardActions.archiveChat",defaultMessage:"Archive chat"},zoomIn:{id:"keyboardActions.zoomIn",defaultMessage:"Zoom in"},zoomOut:{id:"keyboardActions.zoomOut",defaultMessage:"Zoom out"},resetZoom:{id:"keyboardActions.resetZoom",defaultMessage:"Reset zoom"},toggleKeyboardActions:{id:"keyboardActions.toggleKeyboardActions",defaultMessage:"Show shortcuts"}}),uS=new Y9,F2e=({resetThreadAction:e,clientThreadId:t,focusPromptTextareaAction:n,toaster:r,isFannyPackEnabled:s,isZoomEnabled:o})=>[{key:"newChat",action:e||ke,actionMessageDescriptor:Dn.newChat,group:"Core",keyboardBinding:[ge.Mod,ge.Shift,"o"],altKeyboardBindings:s?[]:[[ge.Mod,"k"]]},{key:"focusPromptTextarea",action:n??Q1,actionMessageDescriptor:Dn.focusPromptTextarea,group:"Chat",keyboardBinding:[ge.Shift,ge.Escape]},{key:"copyLastCodeBlock",action:a=>{if(t!=null){const c=L.getThreadCurrentLeafId(t),l=L.getThreadConversationTurns(t,c);for(let u=l.length-1;u>=0;u--){const{messages:d}=l[u],h=[...d.reduce((g,v)=>v.err==null&&v.message.author.role===he.Assistant&&v.message.recipient==="all"?g+(g?`

`:"")+vs(v.message):g,"").matchAll(R2e)],m=h.length?h[h.length-1][1]:null;if(m!=null){ml(m,r,a).then(()=>{r.success("Copied code block to clipboard")});break}}}},actionMessageDescriptor:Dn.copyLastCodeBlock,group:"Chat",keyboardBinding:[ge.Mod,ge.Shift,";"],altKeyboardBindings:[[ge.Mod,ge.Shift,":"]]},{key:"copyLastResponse",action:a=>{t!=null&&$2e(t,r,a,"keyboard").then(()=>{r.success("Last response copied to clipboard")})},actionMessageDescriptor:Dn.copyLastResponse,group:"Chat",keyboardBinding:[ge.Mod,ge.Shift,"c"]},{key:"toggleCustomInstructions",action:()=>ze.toggleModal(gt.UserContext),actionMessageDescriptor:Dn.toggleCustomInstructions,group:"Settings",keyboardBinding:[ge.Mod,ge.Shift,"i"]},{key:"navigationToggle",action:()=>ze.toggleNavSidebar(),actionMessageDescriptor:Dn.navigationToggle,group:"Core",keyboardBinding:[ge.Mod,ge.Shift,"s"]},{key:"deleteChat",action:()=>{if(t){const a=L.getServerThreadId(t);a&&uS.publish({kind:"deleteChat",serverThreadId:a})}},actionMessageDescriptor:Dn.deleteChat,group:"Chat",keyboardBinding:[ge.Mod,ge.Shift,ge.Backspace],altKeyboardBindings:[[ge.Mod,ge.Shift,ge.Delete]]},{key:"zoomIn",enabled:o,action:()=>K9(),actionMessageDescriptor:Dn.zoomIn,group:"Chat",keyboardBinding:[ge.Mod,"+"],altKeyboardBindings:[[ge.Mod,"="]]},{key:"zoomOut",enabled:o,action:()=>Q9(),actionMessageDescriptor:Dn.zoomOut,group:"Chat",keyboardBinding:[ge.Mod,"-"]},{key:"resetZoom",enabled:o,action:()=>X9(),actionMessageDescriptor:Dn.resetZoom,group:"Chat",keyboardBinding:[ge.Mod,"0"]},{key:"toggleKeyboardActions",action:()=>ze.toggleModal(gt.KeyboardActions),actionMessageDescriptor:Dn.toggleKeyboardActions,group:"Settings",keyboardBinding:[ge.Mod,"/"]}],dL=e=>j2e(e,t=>{E.logEvent(P.keyboardShortcut,{keyboardActionKey:t.key}),ue.addAction("chatgpt_keyboard_shortcut",{keyboardActionKey:t.key})},{enabled:!0}),fL=({resetThreadAction:e,clientThreadId:t,focusPromptTextareaAction:n}={})=>{const r=Fe(),{isFannyPackEnabled:s}=iS(),{value:o}=lt("842034403"),a=Va&&o;return p.useMemo(()=>F2e({resetThreadAction:e,clientThreadId:t,focusPromptTextareaAction:n,toaster:r,isFannyPackEnabled:s,isZoomEnabled:a}).filter(({enabled:l=!0})=>l),[r,t,e,s,n,a])},B2e=({resetThreadAction:e,clientThreadId:t,focusPromptTextareaAction:n})=>{const r=fL({resetThreadAction:e,clientThreadId:t,focusPromptTextareaAction:n}),o=we(a=>a.isVoiceActive)?[]:r;dL(o)},hpt=({setSelectedVoiceIndex:e,prevVoiceIndex:t,nextVoiceIndex:n})=>{const r=[{key:"selectPrevVoice",action:()=>{e(t)},actionMessageDescriptor:{defaultMessage:"Select previous voice"},group:"Chat",keyboardBinding:[ge.ArrowLeft]},{key:"selectNextVoice",action:()=>{e(n)},actionMessageDescriptor:{defaultMessage:"Select next voice"},group:"Chat",keyboardBinding:[ge.ArrowRight]}];dL(r)};function U2e({href:e,icon:t,expandToContainer:n,label:r,rightIcon:s,hoverLeftIcon:o,hoverRightIcon:a,isMenuOpen:c,showActiveIndicator:l,loggingGizmoId:u,onClick:d,target:f,testId:h,elementRef:m}){const g=Tn();return i.jsxs(Ga,{to:e,target:f,title:r,"data-testid":h,className:$("group flex items-center gap-2.5 rounded-lg",!g&&"h-10 bg-token-sidebar-surface-primary font-normal",g&&"py-1.5 tracking-condensed",!n&&"px-2",n&&"flex-1 px-3 py-2",g&&l&&"bg-token-sidebar-surface-secondary",g&&!c&&"hover:bg-token-main-surface-secondary",!g&&c&&"bg-token-main-surface-primary",!g&&!c&&"hover:bg-token-sidebar-surface-secondary"),onClick:v=>{E.logNewChatButtonClicked({location:"Sidebar gizmo list",gizmo_id:u}),E.logEvent(P.sidebarClickGizmo,{gizmo_id:u}),d?.(v)},ref:m,children:[o||t,i.jsx("div",{className:$(g?"text-body":"text-sm","grow overflow-hidden text-ellipsis whitespace-nowrap text-token-text-primary"),children:r}),a,s]})}function V2e(){return Ph("1722608525").config.get("show_new_button",!1)}function ppt({onNewThread:e}){const t=U();return V2e()?i.jsx("div",{className:"no-draggable relative self-stretch",children:i.jsx(U2e,{href:"/",expandToContainer:!0,onClick:r=>{e?(r.preventDefault(),e()):z.logEvent("chatgpt_web_thread_tap_new_thread")},hoverRightIcon:null,icon:i.jsx(cA,{className:"icon-sidebar text-[##676767] dark:text-[#B9B9B9]"}),isMenuOpen:!1,label:t.formatMessage({id:"mG13YW",defaultMessage:"New chat"}),loggingGizmoId:"primary",testId:"new-chat-button"})}):null}var dS="Popover",[hL,mpt]=Co(dS,[B$]),kl=B$(),[G2e,Ns]=hL(dS),pL=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:a=!1}=e,c=kl(t),l=p.useRef(null),[u,d]=p.useState(!1),[f=!1,h]=Nc({prop:r,defaultProp:s,onChange:o});return i.jsx(aF,{...c,children:i.jsx(G2e,{scope:t,contentId:w$(),triggerRef:l,open:f,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:p.useCallback(()=>d(!0),[]),onCustomAnchorRemove:p.useCallback(()=>d(!1),[]),modal:a,children:n})})};pL.displayName=dS;var mL="PopoverAnchor",gL=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Ns(mL,n),o=kl(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:c}=s;return p.useEffect(()=>(a(),()=>c()),[a,c]),i.jsx(U$,{...o,...r,ref:t})});gL.displayName=mL;var vL="PopoverTrigger",yL=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Ns(vL,n),o=kl(n),a=Br(t,s.triggerRef),c=i.jsx(Wt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":TL(s.open),...r,ref:a,onClick:tt(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?c:i.jsx(U$,{asChild:!0,...o,children:c})});yL.displayName=vL;var fS="PopoverPortal",[W2e,H2e]=hL(fS,{forceMount:void 0}),bL=e=>{const{__scopePopover:t,forceMount:n,children:r,container:s}=e,o=Ns(fS,t);return i.jsx(W2e,{scope:t,forceMount:n,children:i.jsx(Oc,{present:n||o.open,children:i.jsx(j$,{asChild:!0,container:s,children:r})})})};bL.displayName=fS;var ja="PopoverContent",xL=p.forwardRef((e,t)=>{const n=H2e(ja,e.__scopePopover),{forceMount:r=n.forceMount,...s}=e,o=Ns(ja,e.__scopePopover);return i.jsx(Oc,{present:r||o.open,children:o.modal?i.jsx(z2e,{...s,ref:t}):i.jsx(q2e,{...s,ref:t})})});xL.displayName=ja;var z2e=p.forwardRef((e,t)=>{const n=Ns(ja,e.__scopePopover),r=p.useRef(null),s=Br(t,r),o=p.useRef(!1);return p.useEffect(()=>{const a=r.current;if(a)return Z9(a)},[]),i.jsx(J9,{as:eF,allowPinchZoom:!0,children:i.jsx(wL,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:tt(e.onCloseAutoFocus,a=>{a.preventDefault(),o.current||n.triggerRef.current?.focus()}),onPointerDownOutside:tt(e.onPointerDownOutside,a=>{const c=a.detail.originalEvent,l=c.button===0&&c.ctrlKey===!0,u=c.button===2||l;o.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:tt(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),q2e=p.forwardRef((e,t)=>{const n=Ns(ja,e.__scopePopover),r=p.useRef(!1),s=p.useRef(!1);return i.jsx(wL,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(r.current||n.triggerRef.current?.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=o.target;n.triggerRef.current?.contains(a)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),wL=p.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:d,...f}=e,h=Ns(ja,n),m=kl(n);return tF(),i.jsx(nF,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:i.jsx(rF,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:c,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:i.jsx(sF,{"data-state":TL(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),SL="PopoverClose",CL=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Ns(SL,n);return i.jsx(Wt.button,{type:"button",...r,ref:t,onClick:tt(e.onClick,()=>s.onOpenChange(!1))})});CL.displayName=SL;var Y2e="PopoverArrow",_L=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=kl(n);return i.jsx(oF,{...s,...r,ref:t})});_L.displayName=Y2e;function TL(e){return e?"open":"closed"}var hS=pL,gpt=gL,nh=yL,kL=bL,pS=xL,K2e=CL,Q2e=_L;function Qp(e){const[t,n]=p.useState(!1),{announcementKey:r,onDismiss:s,...o}=e,{children:a,show:c}=o,{layer:l,isLoading:u}=_n("717266490"),d=l.get("one_announcement_tooltip_per_session",!1),f=we(g=>!!g.displayAnnouncementTooltip),h=we(g=>!d||g.displayAnnouncementTooltip===r);if(p.useEffect(()=>{d&&c&&t&&ze.showAnnouncementTooltipExclusively(r)},[t,d,r,c]),p.useEffect(()=>{c&&!u&&(!d||h)&&(z.logEvent("announcement_tooltip_shown",null,{announcement_key:r}),E.logEvent(P.announcementTooltipShown,{announcement_key:r}))},[c,h,r,d,u]),f&&!h)return a;const m=()=>{(!d||h)&&(s(),u||(z.logEvent("announcement_tooltip_dismissed",null,{announcement_key:r}),E.logEvent(P.announcementTooltipDismissed,{announcement_key:r})))};return i.jsx(X2e,{...o,onDismiss:m,renderAsInvisible:d&&!f,onContentBecomeVisible:()=>{d&&n(!0)}})}function X2e({align:e,arrowPadding:t,alignOffset:n,show:r,onDismiss:s,children:o,title:a,side:c,sideOffset:l,theme:u="default",badge:d="new",contentAlign:f="start",description:h,className:m,onContentBecomeVisible:g,renderAsInvisible:v=!1,dismissOnOutsideClick:y=!1}){const x=p.useRef(null),b=p.useRef(null);return p.useEffect(()=>{b.current&&b.current.getBoundingClientRect().width>0&&b.current.getBoundingClientRect().height>0&&g?.()},[g]),i.jsxs(hS,{open:r,onOpenChange:w=>{w||s()},children:[i.jsx(nh,{asChild:!0,onClick:()=>{s()},ref:x,children:o}),i.jsx(kL,{container:x.current?.ownerDocument.body,children:i.jsxs(pS,{arrowPadding:t,alignOffset:n,align:e,side:c,sideOffset:l,onOpenAutoFocus:w=>{w.preventDefault()},onCloseAutoFocus:w=>{w.preventDefault()},onInteractOutside:w=>{w.target instanceof Element&&x.current?.contains(w.target)?w.preventDefault():y?s():w.preventDefault()},updatePositionStrategy:"always",className:$("relative z-10 animate-slideLeftAndFade select-none rounded-xl p-4 text-sm shadow-sm",u==="default"?"bg-gray-900 text-white dark:bg-gray-50 dark:text-gray-700":"bg-blue-400 text-white",v&&"invisible"),children:[i.jsxs("div",{ref:b,className:$("flex max-w-xs flex-col gap-1",m),children:[i.jsxs("div",{className:"mb-0.5 flex gap-2",children:[d==="new"?i.jsx("span",{className:$("rounded px-1.5 py-0.5 text-[10px] font-semibold uppercase leading-normal",u==="default"?"bg-token-main-surface-primary text-token-main-surface-primary-inverse":"bg-white text-blue-selection"),children:i.jsx(S,{...VE.new})}):d==="beta"&&i.jsx("span",{className:"rounded-full bg-blue-100 px-1.5 text-[10px] font-semibold text-blue-600",children:i.jsx(S,{...VE.beta})}),i.jsx("div",{className:$("grow font-semibold",f&&`text-${f}`),children:a}),i.jsx(K2e,{className:"-my-1 -mr-1 p-1 opacity-70 transition hover:opacity-100",children:i.jsx(za,{className:"icon-sm"})})]}),h!==void 0&&i.jsx("div",{className:$(f&&`text-${f}`),children:h})]}),i.jsx(Q2e,{asChild:!0,children:i.jsx("div",{className:$("relative top-[-6px] h-3 w-3 rotate-45 transform rounded-br-sm",u==="default"?"bg-gray-900 dark:bg-gray-50":"bg-blue-400")})})]})})]})}const VE=K({new:{id:"announcementTooltip.new",defaultMessage:"New"},beta:{id:"announcementTooltip.beta",defaultMessage:"Beta"}});function Z2e(){const{activeModals:e}=we(),t=De(),n=Ue(Ee.ExploreGPTs),r=Ue(Ee.ExploreGPTsNewNux),s=hSe(),o=jp(),a=As(),c=n.eligible&&!n.isLoading&&!o;let u=r.eligible&&!r.isLoading&&!o&&!s&&!a;return e.size>0&&(u=!1),!c&&t?.hasPlusFeatures()&&(u=!1),p.useEffect(()=>{u&&E.logEvent(P.storeDisplayNewNux)},[u]),u}function vpt({children:e}){const t=Z2e(),n=U(),r=Ue(Ee.ExploreGPTsNewNux);return t?i.jsx(Qp,{announcementKey:Ee.ExploreGPTsNewNux,side:"right",show:!0,title:n.formatMessage(GE.exploreGPTsTitle),onDismiss:r.markAsViewed,sideOffset:20,theme:"bright",description:i.jsx(S,{...GE.exploreGPTsDescriptionNewNux}),children:e}):i.jsx(i.Fragment,{children:e})}const GE=K({exploreGPTsTitle:{id:"gptExploreGPTs.title",defaultMessage:"Explore GPTs"},exploreGPTsDescription:{id:"gptExploreGPTs.description",defaultMessage:"Now you can discover GPTs created by the community"},exploreGPTsDescriptionNewNux:{id:"gptExploreGPTs.descriptionNewNux",defaultMessage:"Discover custom versions of ChatGPT created for specific use cases like writing, research, and coding."}}),ypt=e=>p.createElement("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M10.6705 9.08685L12.9224 2.74037C13.2891 1.70714 12.2929 0.710936 11.2596 1.07757L4.91316 3.32954C4.1737 3.59193 3.59193 4.1737 3.32954 4.91316L1.07757 11.2596C0.710936 12.2929 1.70714 13.2891 2.74037 12.9224L9.08685 10.6705C9.82631 10.4081 10.4081 9.82631 10.6705 9.08685Z",stroke:"currentColor",style:{stroke:"currentColor",strokeOpacity:1},strokeWidth:1.2}),p.createElement("path",{d:"M7.00006 8.5C7.82849 8.5 8.50006 7.82843 8.50006 7C8.50006 6.17157 7.82849 5.5 7.00006 5.5C6.17163 5.5 5.50006 6.17157 5.50006 7C5.50006 7.82843 6.17163 8.5 7.00006 8.5Z",stroke:"currentColor",style:{stroke:"currentColor",strokeOpacity:1}})),J2e=Se.h3`px-2 text-xs font-semibold text-ellipsis overflow-hidden break-all ${({$screenArch:e})=>[e?"text-token-sidebar-title-primary pb-1.5 pt-2":"pt-3 pb-2 text-token-text-primary"]}`;function eOe({conversation:e,onClose:t}){const[n,r]=p.useState(e.title),s=Pe();function o(){n!==e.title&&(L.setTitle(e.id,n,$h.User),E.logEvent(P.renameThread,{threadId:e.id,content:n}),X.patchConversation(e.id,{title:n}).then(()=>{yo(s)}))}return i.jsx("input",{type:"text",value:n,onChange:a=>{r(a.target.value)},onKeyDown:a=>{switch(a.key){case"Escape":t();break;case"Enter":o(),t();break}},onBlur:()=>{o(),t()},autoFocus:!0,className:"w-full border border-token-border-light bg-transparent p-0 text-sm"})}function tOe(e,t,n){const{title:r,titleSource:s}=iF(e),[o,a]=p.useState(!1),c=r??t,l=p.useRef(c);return p.useEffect(()=>(n&&s===$h.Generated&&c!==l.current&&a(!0),()=>{l.current=c}),[n,c,s]),{isTypingEffect:o,resolvedTitle:c}}function ML(){const e=p.useRef(!1);return p.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),p.useCallback(()=>e.current,[])}function nOe({text:e}){const t=ML(),[n,r]=p.useState(!0),[s,o]=p.useState(0),a=p.useMemo(()=>Array.from(e),[e]),c=p.useMemo(()=>new rOe().humanTypingDelaysQuertyDistance(a),[a]);return p.useEffect(()=>{e&&n&&(r(!0),c.forEach((l,u)=>{setTimeout(()=>{t()&&(o(u),u===c.length-1&&r(!1))},l)}))},[c,t,n,e]),i.jsx(i.Fragment,{children:a.slice(0,s+1).join("")})}class rOe{qwertyDistance(t,n){const r={q:[0,0],w:[1,0],e:[2,0],r:[3,0],t:[4,0],y:[5,0],u:[6,0],i:[7,0],o:[8,0],p:[9,0],a:[0,1],s:[1,1],d:[2,1],f:[3,1],g:[4,1],h:[5,1],j:[6,1],k:[7,1],l:[8,1],z:[0,2],x:[1,2],c:[2,2],v:[3,2],b:[4,2],n:[5,2],m:[6,2]},[s,o]=r[t.toLowerCase()]??[0,0],[a,c]=r[n.toLowerCase()]??[0,0];return Math.abs(s-a)+Math.abs(o-c)}humanTypingDelaysQuertyDistance(t,n=10,r=100){let s=0;const o=[];for(let a=0;a<t.length;++a){let c;if(a>0){const l=this.qwertyDistance(t[a-1],t[a]);l===0?c=this.getRandomInt(n,Math.floor(r/2)):l===1?c=this.getRandomInt(n,Math.floor(r*2/3)):c=this.getRandomInt(n,r)}else c=this.getRandomInt(n,r);o.push(c+s),s+=c}return o}getRandomInt(t,n){return Math.floor(Math.random()*(n-t+1))+t}}function sOe({title:e,handleDelete:t,onClose:n}){const r=U(),s=Tl();return i.jsxs(je,{isOpen:!0,onClose:()=>n(),type:"success",title:r.formatMessage(mu.deleteModalTitle),primaryButton:i.jsx(Ct.Button,{title:r.formatMessage(mu.deleteModalConfirm),color:"danger",onClick:()=>{t(),n()},"data-testid":"delete-conversation-confirm-button"}),secondaryButton:i.jsx(Ct.Button,{title:r.formatMessage(mu.deleteModalCancel),color:"secondary",onClick:()=>n()}),children:[i.jsx(S,{...mu.deleteModalBody,values:{title:i.jsx("strong",{children:e})}}),s&&i.jsx("div",{className:"mt-2 text-sm text-token-text-tertiary",children:i.jsx(S,{id:"history.deleteModalMemoryDisclaimer",defaultMessage:"To clear any memories from this chat, visit your <link>settings</link>.",values:{link:o=>i.jsx(Ga,{to:"#settings/Personalization",className:"underline",onClick:()=>{setTimeout(()=>{n({closeParentModal:!0})},100)},children:o})}})})]})}const mu=K({deleteModalTitle:{id:"history.deleteModalTitle",defaultMessage:"Delete chat?"},deleteModalBody:{id:"history.deleteModalBody",defaultMessage:"This will delete {title}."},deleteModalConfirm:{id:"history.deleteModalConfirm",defaultMessage:"Delete"},deleteModalCancel:{id:"history.deleteModalCancel",defaultMessage:"Cancel"}}),oOe=Ze(()=>Ye(()=>import("./fp9w4in146q1s2k9.js"),__vite__mapDeps([34,1,2,3,35,36,37,6])).then(e=>e.GizmoConversationOptionsDropdown)),aOe=new Date(2024,9,11,0);function iOe(e){z.checkGate("3922476776")||ao.abortAllRequests(),E.logEvent(P.loadThread,{threadId:e})}function cOe({conversation:e,conversationTitle:t,onOpenChange:n,testId:r,inMainScreen:s=!1}){const o=U(),{isUnauthenticated:a}=It(),{eligible:c,markAsViewed:l}=Ue(Ee.ArchiveConversationOnboarding),u=cF(e.id),[d,f]=p.useState(!1),h=Pe(),m=yt(),g=Fe(),v=Tn();if(p.useEffect(()=>V$(uS,{deleteChat:({serverThreadId:x})=>{x===e.id&&f(!0)},archiveChat:async({serverThreadId:x})=>{x===e.id&&(await X.patchConversation(e.id,{is_archived:!0}),yo(h),z.logEvent("chatgpt_conversation_archived"),E.logEvent(P.conversationArchived),c&&(g.info(o.formatMessage({defaultMessage:"You can view archived chats in Settings",id:"HistoryGizmoItem.archiveChatOnboarding"}),{duration:10,hasCloseButton:!0}),l()),u&&Sc(m))}}),[m,g,h,c,e.id,o,u,l]),a)return null;const y=i.jsx(oOe,{conversation:e,onOpenChange:n,inMainScreen:s,children:i.jsx("button",{className:"flex items-center justify-center text-token-text-secondary transition hover:text-token-text-primary radix-state-open:text-token-text-secondary","data-testid":r,children:i.jsx(ex,{className:"icon-md"})})});return i.jsxs(i.Fragment,{children:[v?y:i.jsx(rt,{label:o.formatMessage({id:"tJPHEQ",defaultMessage:"Options"}),sideOffset:4,side:"top",children:y}),d&&i.jsx(sOe,{title:t,handleDelete:()=>{X.patchConversation(e.id,{is_visible:!1}).then(()=>{yo(h),z.logEvent("chatgpt_conversation_deleted"),E.logEvent(P.conversationDeleted),jc.publish({kind:"deleteConversation",serverThreadId:e.id})}),u&&Sc(m)},onClose:()=>{f(!1)}})]})}const EL=5,lOe=3e3;function uOe({threadId:e}){const t=Pe(),n=p.useRef(!1),r=p.useRef(null);return p.useEffect(()=>{async function s(){n.current=!0;const o=await Mx(e);if(o.async_status===Fn.UNREAD){yo(t),L.initThreadFromServerData(e,o,!0,void 0,!0);return}if(o.async_status!==Fn.STREAMING)return;const a=o.update_time??0;Qj(new Date,new Date(a*1e3))<EL?r.current=window.setTimeout(s,lOe):X.setConversationStatus(e)}return n.current||(E.logEvent(P.conversationPollingStarted),s()),()=>{r.current&&window.clearTimeout(r.current)}},[t,e]),null}function dOe({conversation:e,className:t,hideOverflowMenu:n=!1,isActive:r,elementRef:s,isPrimaryBackgroundColor:o,testId:a}){const c=U(),[l,u]=p.useState(!1),[d,f]=p.useState(!1),[h,m]=p.useState(!1),{value:g}=lt("3922476776"),{value:v}=lt("232791851"),y=yV(e.id),{value:x=null,source:b=null}=y??{},w=Ib(e.id),C=jb(w),T=Qj(new Date,new Date(e.update_time??0))<EL,_=e.update_time&&vhe(new Date(e.update_time),aOe),k=x===Fn.STREAMING&&T,M=v&&!r&&!C&&_&&x===Fn.UNREAD,I=!1,A=v&&!r&&(C||k),H=v&&x===Fn.STREAMING&&b===ss.SERVER&&!C&&T,q=p.useRef(!1);p.useEffect(()=>{q.current||g&&(async()=>(q.current=!0,r&&x===Fn.UNREAD&&(b===ss.SERVER&&await X.setConversationStatus(e.id),cc(e.id,null)),!r&&b===ss.CLIENT&&x===Fn.UNREAD&&(await X.setConversationStatus(e.id,x),cc(e.id,{value:Fn.UNREAD,source:ss.SERVER})),q.current=!1))()},[g,r,e.id,x,b,C]),p.useEffect(()=>V$(uS,{editTitle:({serverThreadId:Z})=>{(Z?Z===e.id:r)&&u(!0)}}),[e.id,r]);const F=c.formatMessage({id:"mpXAeu",defaultMessage:"New chat"}),{resolvedTitle:N,isTypingEffect:R}=tOe(e.id,e.title,r),B=Po(),Y=R&&r&&B,{data:j}=Xa(e.conversation_template_id??void 0),D=Tn(),V=i.jsx("div",{className:$("absolute bottom-0 top-0 items-center gap-1.5 pr-2 ltr:right-0 rtl:left-0",r||d?"flex":"hidden can-hover:group-hover:flex"),children:i.jsx(cOe,{conversation:e,conversationTitle:N??e.title,onOpenChange:Z=>{f(Z),Z&&E.logEvent(P.conversationHistoryItemOpenMenu,{conversationId:e.id})},testId:`${a}-options`})});return i.jsxs("div",{className:$("no-draggable group relative rounded-lg active:opacity-90",t,D&&"text-body tracking-condensed ease-[var(--spring-bounce)] hover:bg-token-main-surface-secondary motion-safe:active:scale-[98%] motion-safe:active:transition-transform",r&&D&&"bg-token-main-surface-secondary",r&&!D&&"bg-token-sidebar-surface-secondary",!r&&!D&&"hover:bg-token-sidebar-surface-secondary",d&&!r&&"bg-token-sidebar-surface-secondary"),onMouseEnter:()=>{m(!0)},onMouseLeave:()=>{m(!1)},children:[H&&i.jsx(uOe,{threadId:e.id}),i.jsx(Ga,{to:N0(e.id,j),onClick:Z=>{Z.metaKey||Z.ctrlKey||r||iOe(e.id)},onDoubleClick:()=>{u(!0)},ref:s,className:"flex items-center gap-2 p-2",style:{maskImage:D?"var(--sidebar-mask)":void 0},children:i.jsxs("div",{className:$("relative grow overflow-hidden whitespace-nowrap",A&&!I&&"loading-shimmer"),dir:"auto",title:N??F,children:[Y?i.jsx(nOe,{text:N||F}):N||F,!D&&i.jsx("div",{className:$("absolute bottom-0 top-0 to-transparent ltr:right-0 ltr:bg-gradient-to-l rtl:left-0 rtl:bg-gradient-to-r",o?r||!r&&d?"from-token-sidebar-surface-secondary":"from-token-main-surface-primary":!1,o?!1:r||!r&&d?"from-token-sidebar-surface-secondary":"from-token-sidebar-surface-primary",{"from-token-main-surface-primary can-hover:group-hover:from-token-sidebar-surface-secondary":o&&!r&&!d,"from-token-sidebar-surface-primary can-hover:group-hover:from-token-sidebar-surface-secondary":!o&&!r&&!d,"w-10 from-60%":r||d,"w-8 from-0% can-hover:group-hover:w-10 can-hover:group-hover:from-60%":!r&&!d})})]})}),l?i.jsx("div",{className:"absolute bottom-0 left-[7px] right-2 top-0 flex items-center bg-token-sidebar-surface-secondary",children:i.jsx(eOe,{conversation:e,onClose:()=>{u(!1)}})}):M?i.jsx("div",{className:"absolute bottom-0 top-0 flex items-center gap-1.5 pr-2 ltr:right-0 rtl:left-0",children:i.jsx("div",{className:"h-2 w-2 rounded-full bg-blue-selection"})}):!n&&V]})}function ub({className:e,elementRef:t,item:n,isActive:r,isFirstItem:s,isPrimaryBackgroundColor:o,testId:a,hideOverflowMenu:c=!1}){const l=Tn();return i.jsx("li",{className:$(!l&&"relative",s&&!l?"z-[15]":""),"data-testid":a,children:i.jsx(dOe,{className:e,isPrimaryBackgroundColor:o,conversation:n,isActive:r,elementRef:t,testId:a,hideOverflowMenu:c})})}const gu=K({historyBucketToday:{id:"history.bucket.today",defaultMessage:"Today"},historyBucketYesterday:{id:"history.bucket.yesterday",defaultMessage:"Yesterday"},historyBucketLastSeven:{id:"history.bucket.lastSeven",defaultMessage:"Previous 7 Days"},historyBucketLastThirty:{id:"history.bucket.lastThirty",defaultMessage:"Previous 30 Days"}}),fOe=5;function hOe(e,t){const n=U();return p.useMemo(()=>e.reduce((r,s)=>{const o=new Date(s.update_time??s.create_time??0),a=r1(new Date,o);if(a===0)r.recent.today.items.push(s);else if(a<=1)r.recent.yesterday.items.push(s);else if(a<=7)r.recent.lastSeven.items.push(s);else if(a<=30)r.recent.lastThirty.items.push(s);else if(hR(o)){const c=nf(o),l=aR(o),u=`${c}-${l}`;r.dynamicMonths[u]?r.dynamicMonths[u].items.push(s):r.dynamicMonths[u]={label:n.formatDate(o,{month:"long"}),items:[s]}}else{const l=`${nf(o)}-`;r.dynamicYears[l]?r.dynamicYears[l].items.push(s):r.dynamicYears[l]={label:n.formatDate(o,{year:"numeric"}),items:[s]}}return r},{recent:{today:{label:i.jsx(S,{...gu.historyBucketToday}),items:[]},yesterday:{label:i.jsx(S,{...gu.historyBucketYesterday}),items:[]},lastSeven:{label:i.jsx(S,{...gu.historyBucketLastSeven}),items:[]},lastThirty:{label:i.jsx(S,{...gu.historyBucketLastThirty}),items:[]}},dynamicMonths:{},dynamicYears:{}}),[t,e])}function pOe({activeId:e,bucketedItems:t,items:n,hasNextPage:r,isPrimaryBackgroundColor:s,infiniteScrollTriggerElementRef:o,hideOverflowMenu:a}){const c=Tn();return i.jsx(i.Fragment,{children:[t.recent,t.dynamicMonths,t.dynamicYears].flatMap((l,u)=>i.jsx(p.Fragment,{children:Object.entries(l).map(([d,{items:f,label:h}],m)=>{if(d!=="today"&&!f.length)return null;const g=!!f.find(v=>n.length>0&&v.id===n[0]?.id);return f.length>0&&i.jsxs("div",{className:$(s&&"first:mt-0",c&&"first:mt-1",!c&&"relative mt-5 first:mt-0 last:mb-5"),children:[i.jsx("div",{className:$("sticky",!c&&"bg-token-sidebar-surface-primary",c?"top-[--sidebar-sticky-threshold] z-20":"top-0 z-20"),children:i.jsx("span",{className:"flex h-9 items-center",children:i.jsx(J2e,{$screenArch:c,children:h})})}),i.jsx("ol",{className:c?"flex flex-col gap-0.5":void 0,children:f.map((v,y)=>{const x=e===v.id,b=g&&y===0,w=r&&n[n.length-fOe-1]?.id===v.id?o:void 0;return x&&c?null:i.jsx(ub,{item:v,hideOverflowMenu:a,isActive:x,isFirstItem:b,isPrimaryBackgroundColor:s,elementRef:w,testId:`history-item-${y}`},`history-item-${v.id}-${d}`)})})]},`${d}-${u}-${m}`)})},`category-${u}`))})}const WE=K({unableToLoadHistory:{id:"history.unableToLoad",defaultMessage:"Unable to load history"},retryButton:{id:"history.retryButton",defaultMessage:"Retry"}});function mOe({activeId:e,isPrimaryBackgroundColor:t,hideOverflowMenu:n}){const r=Pe(),[s,o]=p.useState(!1),[a,c]=p.useState(0),l=lF(),u=Tn(),d={},{conversations:f,hasNextPage:h,fetchNextPage:m,isLoading:g,isFetchingNextPage:v,isError:y}=V1(d),x=p.useRef(null),b=p.useCallback(_=>{g||_==null||(x.current?.disconnect(),x.current=new IntersectionObserver(k=>{k[0].isIntersecting&&h&&m()}),x.current.observe(_))},[g,h,m]);p.useEffect(()=>()=>{x.current?.disconnect()},[]),p.useMemo(()=>{jc.publish({kind:"refreshHistory",conversations:f})},[f]);const w=f;p.useEffect(()=>{const _=$p(vfe(),Date.now());l(()=>{c(a+1)},_+1e3)},[a,l]);const C=w.length===0;p.useEffect(()=>{C||j5({namespace:eS.ChatPageLoad})?.logTiming("render_history_items")},[C]);const T=hOe(w,a);return i.jsxs(vOe,{$centered:g||y||C,$screenArch:u,children:[C&&g&&i.jsx(Ua,{children:i.jsx(In,{className:"m-auto"})}),C&&y&&i.jsxs("div",{className:"p-3 text-center italic text-token-text-tertiary",children:[i.jsx(S,{...WE.unableToLoadHistory}),!s&&i.jsx("div",{className:"mt-1",children:i.jsx(ce,{as:"button",color:"primary",size:"small",className:"m-auto mt-2",onClick:()=>{o(!0),yo(r)},children:i.jsx(S,{...WE.retryButton})})})]}),!g&&!C&&i.jsx("div",{children:i.jsx(pOe,{activeId:e,bucketedItems:T,hasNextPage:h,items:w,isPrimaryBackgroundColor:t,infiniteScrollTriggerElementRef:b,hideOverflowMenu:n})}),v&&i.jsx("div",{className:"m-4 mb-5 flex justify-center",children:i.jsx(In,{})})]})}const gOe=Q.memo(mOe),vOe=Se.div`flex flex-col gap-2 text-token-text-primary text-sm
${({$centered:e,$screenArch:t})=>[e&&"h-full justify-center items-center empty:hidden",!t&&"mt-5 pb-2"]}`;function qg({label:e,tooltip:t,Icon:n}){return i.jsxs("div",{className:"flex items-center gap-1 text-sm font-semibold opacity-70",children:[n&&i.jsx(n,{className:"icon-sm"}),i.jsx("div",{children:e}),i.jsx(rt,{label:t,children:i.jsx(Dc,{className:"icon-sm ml-1"})})]})}function bpt({clientThreadId:e,gizmoId:t}){const n=U(),r=Tl(),s=R5(),o=lAe(),{data:a}=QTe(t,!1,o),c=!!t,l=qn(),u=Nh(e);return o?l&&(!u||c)?i.jsx(qg,{label:n.formatMessage(qo.temporaryChat),tooltip:n.formatMessage(qo.temporaryChatTooltip),Icon:tx}):r&&!s&&!l?i.jsx(qg,{label:n.formatMessage(qo.memoryOff),tooltip:n.formatMessage(qo.memoryOffTooltip)}):a&&a?.memoryFullPct>=100?i.jsx(qg,{label:n.formatMessage(qo.memoryFull),tooltip:n.formatMessage(qo.memoryFullTooltip)}):null:null}const qo=K({temporaryChat:{id:"ConversationPrivacyIndicator.temporaryChat",defaultMessage:"Temporary Chat"},temporaryChatTooltip:{id:"ConversationPrivacyIndicator.temporaryChatTooltip",defaultMessage:"Temporary Chats won't appear in your history, and ChatGPT won't remember anything you talk about."},memoryOff:{id:"ConversationPrivacyIndicator.memoryOff",defaultMessage:"Memory Off"},memoryOffTooltip:{id:"ConversationPrivacyIndicator.memoryOffTooltip",defaultMessage:"ChatGPT won't remember anything you talk about in this conversation."},memoryFull:{id:"2Eq+5y",defaultMessage:"Memory Full"},memoryFullTooltip:{id:"dNA8jQ",defaultMessage:"ChatGPT's memory is full. You can forget existing memories to make space."}}),yOe=Ze(()=>Ye(()=>import("./ok79zj4asqqk3z9x.js"),__vite__mapDeps([38,1,2,3,39,40,41,42,18])).then(e=>e.DebugConversationSidebar));function xpt({clientThreadId:e}){bOe();const t=Fr(),n=t?.includes("debug"),r=yh(),s=we(a=>a.activeSidebar),o=t?.includes("debug")&&s==="debug";return!n||!o?null:i.jsx(yOe,{clientThreadId:e,slideOver:!Lye(r),onClose:()=>ze.toggleActiveSidebar("debug"),isOpen:!0})}function bOe(){const t=Fr()?.includes("debug");p.useEffect(()=>{if(!t)return;const n=new AbortController;return document.addEventListener("keydown",r=>{r.target instanceof HTMLElement&&["input","textarea","select","button"].includes(r.target.tagName.toLowerCase())||r.key==="\\"&&ze.toggleActiveSidebar("debug")},{signal:n.signal}),()=>{n.abort()}},[t])}const xOe=Ze(()=>Ye(()=>import("./k4rejsops3z3axd7.js"),__vite__mapDeps([43,44,1,2,3])).then(e=>e.FannyPackInitializer));function wpt(){const{isFannyPackEnabled:e,isFannyPackInitializerEnabled:t}=iS();return e||!t?null:i.jsx(xOe,{})}const wOe={showFreeTrialLoadingPayment:!1,showConfirmDismissFreeTrial:!1,didCloseFreeTrial:!1},mS=Le()(()=>({...wOe}));function Spt(e){mS.setState({showFreeTrialLoadingPayment:e})}function Cpt(e){mS.setState({showConfirmDismissFreeTrial:e})}function _pt(e){mS.setState({didCloseFreeTrial:e})}const SOe=()=>me({queryKey:["userSurvey"],queryFn:async()=>X.getActiveUserSurvey()}),COe=()=>{const e=Pe();return vt({mutationFn:async({surveyId:t,reason:n})=>X.completeUserSurvey(t,n),onSuccess:async()=>{e.invalidateQueries({queryKey:["userSurvey"]})}})};function Tpt(){const e=U(),[t,n]=p.useState(!1),r=SOe().data?.survey,s=COe(),o=l=>{n(!0),r!=null&&s.mutate({surveyId:r.id,reason:l})},a=!t&&r!=null,c=Tn();return a?i.jsx("div",{className:$("mb-1 bg-brand-blue-800",c?"mx-3 rounded-md":"mx-1 rounded-sm"),children:i.jsxs("div",{className:"flex flex-col items-center justify-stretch gap-3 p-3 text-sm text-white",children:[i.jsxs("div",{className:"flex w-full items-start",children:[i.jsxs("div",{className:"flex flex-grow flex-col gap-1",children:[i.jsx("div",{className:"font-bold",children:i.jsx(S,{id:"navigation.survey.title",defaultMessage:"We are asking a small group of people for their opinion"})}),i.jsx("div",{children:i.jsx(S,{id:"navigation.survey.description",defaultMessage:"Could you spare few minutes to take a short survey?"})})]}),i.jsx("button",{className:"text-white/25 hover:text-white/40",onClick:()=>o("dismissed"),"aria-label":e.formatMessage({id:"navigation.survey.dismiss",defaultMessage:"Dismiss survey"}),children:i.jsx(za,{className:"icon-sm-adaptive"})})]}),i.jsxs("a",{href:r.link,target:"_blank",className:"flex w-full flex-row items-center justify-center gap-2 rounded bg-white/25 p-2 hover:bg-white/40",rel:"noreferrer",onClick:()=>o("link_clicked"),children:[i.jsx(to,{className:"icon-sm"}),i.jsx(S,{id:"navigation.survey.takeSurvey",defaultMessage:"Take survey"})]})]})}):null}function _Oe(){return i.jsxs(i.Fragment,{children:[i.jsx(ie.Item,{icon:to,children:i.jsx("a",{href:$_e(),target:"_blank",onClick:()=>{E.logEvent(P.clickFaqLink)},className:"w-full",rel:"noreferrer",children:i.jsx(S,{id:"thread.helpAndFaq",defaultMessage:"Help & FAQ"})})}),i.jsx(ie.Item,{icon:to,children:i.jsx("a",{href:A_e(),target:"_blank",className:"w-full",rel:"noreferrer",children:i.jsx(S,{id:"thread.releaseNotes",defaultMessage:"Release notes"})})}),i.jsx(ie.Item,{icon:to,children:i.jsx("a",{href:"https://openai.com/policies",target:"_blank",onClick:()=>{E.logEvent(P.clickPrivacyPolicy)},className:"w-full",rel:"noreferrer",children:i.jsx(S,{id:"thread.termsAndPolicies",defaultMessage:"Terms & policies"})})})]})}const TOe=Se.button`flex w-full items-center gap-2.5 rounded-lg px-2 text-token-text-primary ${({$isScreenArch:e})=>e?"hover:bg-token-main-surface-secondary":"hover:bg-token-sidebar-surface-secondary"}`,kpt=p.forwardRef(function({icon:t,children:n,...r},s){const o=Tn();return i.jsxs(TOe,{ref:s,...r,$isScreenArch:o,className:$(o?"py-1.5":"h-10"),children:[i.jsx("div",{className:"flex h-6 w-6 items-center justify-center text-token-text-secondary",children:i.jsx(t,{className:"icon-md"})}),i.jsx("span",{className:o?"text-body":"text-sm",children:n})]})}),Mpt=({setIsMobileAppUpsellBannerVisible:e=()=>{}})=>{const t=U(),{eligible:n,markAsViewed:r}=Ue(Ee.hasSeenMobileAppUpsellBanner),s=As(),o=Uye(),a=Vye(),c=n&&s&&(o||a);p.useEffect(()=>{c&&(z.logEvent("chatgpt_web_mobile_app_upsell_banner_shown"),E.logEvent(P.mobileAppUpsellBannerShown)),e(c)},[c,e]);const l=()=>{r(),e(!1),z.logEvent("chatgpt_web_mobile_app_upsell_banner_dismissed"),E.logEvent(P.mobileAppUpsellBannerDismissed)},u=()=>{const d=a?"https://play.google.com/store/apps/details?id=com.openai.chatgpt&referrer=utm_source=mobile_banner":o?"https://apps.apple.com/us/app/chatgpt/id6448311069":"";window.open(d,"_blank"),z.logEvent("chatgpt_web_mobile_app_upsell_banner_clicked"),E.logEvent(P.mobileAppUpsellBannerClicked)};return i.jsx(i.Fragment,{children:c&&i.jsx(_xe,{title:t.formatMessage({id:"mobileTopBanner.title",defaultMessage:"ChatGPT"}),content:t.formatMessage({id:"mobileTopBanner.content",defaultMessage:"The official app by OpenAI"}),secondaryCtaText:t.formatMessage({id:"mobileTopBanner.secondaryCtaText",defaultMessage:"Open"}),onDismiss:l,onSecondaryCtaClick:u})})};function kOe({title:e,description:t,confirmText:n,cancelText:r,isOpen:s=!1,onClose:o,onConfirm:a,primaryButtonColor:c="primary",children:l}){const u=U();return i.jsx(je,{isOpen:s,onClose:o,type:"success",title:e,description:t,primaryButton:i.jsx(Ct.Button,{title:n??u.formatMessage(HE.confirmLabel),color:c,onClick:a}),secondaryButton:i.jsx(Ct.Button,{title:r??u.formatMessage(HE.cancelLabel),color:"secondary",onClick:o}),children:l})}const HE=K({confirmLabel:{id:"ConfirmModal.confirmLabel",defaultMessage:"Confirm"},cancelLabel:{id:"ConfirmModal.cancelLabel",defaultMessage:"Cancel"}});function Ept({clientThreadId:e,urlThreadId:t}){const n=U(),r=yt(),s=qn();return i.jsx(Ua,{children:s&&e&&!!t&&i.jsx(kOe,{isOpen:!0,title:i.jsx(S,{id:"HistoryGizmoItem.leaveTempChatTitle",defaultMessage:"Leave Temporary Chat?"}),description:i.jsx(S,{id:"HistoryGizmoItem.leaveTempChatDescription",defaultMessage:"Temporary Chats don't appear in your history, so you won't be able to come back to it."}),confirmText:n.formatMessage({id:"HistoryGizmoItem.leaveTempChatConfirm",defaultMessage:"Leave Temporary Chat"}),onClose:()=>{r("/")},onConfirm:()=>{N$.setIsTemporaryChatEnabled(!1)}})})}function MOe({id:e,label:t,checked:n,onChange:r,disabled:s,className:o,labelClassName:a,readOnly:c,labelSide:l="right"}){const u=t&&i.jsx("label",{className:$("form-check-label text-token-text-primary",a),htmlFor:e,children:t});return i.jsxs("div",{className:"form-check flex items-center gap-2",children:[l==="left"&&u,i.jsx("input",{className:$("form-check-input float-left h-4 w-4 appearance-none rounded-sm border border-gray-300 bg-white bg-contain bg-center bg-no-repeat align-top transition duration-200 checked:border-blue-600 checked:bg-blue-600 focus:outline-none",s?"cursor-not-allowed":"cursor-pointer",o),type:"checkbox",disabled:s,onChange:r,checked:n,readOnly:c,id:e,"data-testid":e}),l==="right"&&u]})}const Ppt=136,$pt=Se.div`draggable no-draggable-children sticky top-0 p-3 mb-1.5 flex items-center justify-between z-10 h-header-height font-semibold bg-token-main-surface-primary`,Apt=p.forwardRef(function(t,n){const{tooltip:r,className:s,testId:o,...a}=t,c=i.jsx(ce,{color:t.color??"secondary",size:"medium",...a,className:s,ref:n,"data-testid":o});return r!=null?i.jsx(rt,{label:r,children:c}):c});function Opt({label:e,disabled:t=!1,tooltipText:n,value:r}){const s=p.useId();return i.jsx("div",{className:$("flex items-center gap-2",t?"opacity-50":""),children:i.jsx(G$,{disabled:n==null,label:n,side:"right",children:i.jsxs("label",{htmlFor:s,className:"flex cursor-pointer items-center gap-1",children:[i.jsx(F3,{id:s,value:r,disabled:t,className:"mr-1 flex h-5 w-5 shrink-0 items-center justify-center rounded-full border border-gray-500 bg-white dark:border-gray-600 dark:bg-gray-700",children:i.jsx(B3,{className:"h-2 w-2 rounded-full bg-gray-950 dark:bg-white"})}),e]})})})}function Npt(e){return i.jsx(MOe,{...e,className:$("!rounded border-gray-950 checked:!bg-black dark:border-gray-600 dark:bg-gray-700",e.className)})}function EOe(){return mt("2067628123").value}var POe=(e=>(e.Header="Header",e.HeaderTop="HeaderTop",e.HeaderBottom="HeaderBottom",e))(POe||{}),$Oe=(e=>(e.Box="Box",e.ItemActions="ItemActions",e.PromptTextareaAction="PromptTextareaAction",e.BannerTermsDisclaimer="BannerTermsDisclaimer",e.BannerSignup="BannerSignup",e.BannersRateLimit="BannersRateLimit",e.BannerSidekickAnnouncement="BannerSidekickAnnouncement",e.BannerMemoryFull="BannerMemoryFull",e.ParagenControls="ParagenControls",e.AdvancedVoiceOnMobileAnnouncement="AdvancedVoiceOnMobileAnnouncement",e.SearchBrowserExtensionAnnouncement="SearchBrowserExtensionAnnouncement",e.SearchBrowserExtensionReactiveAnnouncement="SearchBrowserExtensionReactiveAnnouncement",e))($Oe||{}),AOe=(e=>(e.DallePromptControls="DallePromptControls",e))(AOe||{});const zE={contentAreas:{Header:{dimensions:null,contentId:null},HeaderTop:{dimensions:null,contentId:null},HeaderBottom:{dimensions:null,contentId:null}},sharedProps:null};function OOe(){const e=Le(uF(Ss(()=>zE)));function t(n,r){e.setState(s=>{s.contentAreas[n].dimensions=r})}return{reset:()=>e.setState(zE),useContentAreaId(n){return e(r=>r.contentAreas[n].contentId)},useHasAnnouncementInHeader(){const n=e(r=>r.contentAreas.HeaderTop.contentId);return n==="AdvancedVoiceOnMobileAnnouncement"||n==="BannerSidekickAnnouncement"},useContentAreaApi(n){const r=p.useCallback(o=>e.setState(a=>{a.contentAreas[n].contentId=o}),[n]),s=p.useCallback(()=>{e.setState(o=>{o.contentAreas[n].contentId=null})},[n]);return{set:r,remove:s}},useContentAreaDimensions(n,r){return e(s=>r(s.contentAreas[n].dimensions))},useContentAreaResizeObserver(n,r){p.useEffect(()=>{if(r.current){t(n,r.current.getBoundingClientRect());const s=new ResizeObserver(o=>{for(const a of o)t(n,a.contentRect)});return s.observe(r.current),()=>{s.disconnect(),t(n,null)}}},[r,n])},useIsHeaderContentAreaPopulated(){return e(n=>!!n.contentAreas.HeaderTop.contentId||!!n.contentAreas.HeaderBottom.contentId)},useSharedProps(n){return e(r=>n?n(r.sharedProps):r.sharedProps)},useSetSharedProps(){return p.useCallback(n=>{e.setState(r=>{r.sharedProps=n})},[])}}}const PL=p.createContext(null);function Ipt({children:e}){return i.jsx(PL.Provider,{value:{store:p.useRef(OOe()).current},children:e})}function gS(){const e=p.useContext(PL);if(!e)throw new Error("usePromptTextareaContext must be used within a PromptTextareaProvider");return e}function NOe(e){return e!=null&&(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.tagName==="SELECT"||!!e.getAttribute("contenteditable"))}function jpt(e){p.useEffect(()=>{const{document:t}=e;if(!t)return;const n=t.defaultView;if(!n)return;const r=s=>{s.code!=="Space"&&(!s.metaKey||s.key==="v")&&!NOe(t.activeElement)&&e.focus()};return n.addEventListener("keypress",r),()=>{n.removeEventListener("keypress",r)}},[e])}function Rpt({fullHeight:e,isStaticSharedThread:t,children:n,withVerticalPadding:r,withHorizontalPadding:s}){const o=Ah();s=s&&!o;const a=s&&!t;return i.jsx("div",{className:$("m-auto text-base",r&&"py-[18px]",s&&"px-3 md:px-4",a&&"w-full md:px-5 lg:px-4 xl:px-5",e&&"h-full"),children:n})}function Dpt({children:e}){const t=$o(),n=jp();return i.jsx("div",{className:$("mx-auto flex flex-1 gap-4 text-base md:gap-5 lg:gap-6",n?"md:max-w-3xl":"md:max-w-3xl lg:max-w-[40rem] xl:max-w-[48rem]",t&&"-mx-4"),children:e})}function Lpt({children:e}){const t=$o(),n=jp();return Tn()?i.jsx("div",{className:"mx-auto mt-[var(--screen-optical-offset-amount)] flex h-full max-w-[var(--screen-content-ideal-size)] flex-col justify-center text-base",children:e}):i.jsx("div",{className:$("mx-auto flex h-full w-full flex-col text-base lg:justify-center",n?"md:max-w-3xl":"md:max-w-3xl lg:max-w-[40rem] xl:max-w-[48rem]",t&&"-mx-4"),children:e})}function Fpt(){const e=U();return i.jsx(ce,{onClick:()=>{ze.openModal(gt.SharedConversationModeration)},className:"w-1/3",children:e.formatMessage({id:"thread.sharedConversation.moderate",defaultMessage:"Moderate conversation"})})}function $L({className:e,...t}){return i.jsx("textarea",{className:$("form-textarea w-full rounded-lg border border-token-border-light bg-token-main-surface-secondary text-sm text-token-text-primary focus:border-token-text-primary focus:shadow-none focus:outline-none focus:ring-token-text-primary",e),...t})}function IOe(e,t){const n=e??t??0;return $(e!=null&&e!=t&&"opacity-50 dark:opacity-60",n>4?"text-brand-purple":n>3?"text-green-500":n>2?"text-yellow-500":n>1?"text-orange-500":"text-red-500")}function jOe(e){switch(e){case 1:return xn.hoverRating1;case 2:return xn.hoverRating2;case 3:return xn.hoverRating3;case 4:return xn.hoverRating4;case 5:return xn.hoverRating5}}function ROe(e){return me({queryFn:async()=>ut.getUserReview(e),queryKey:["gizmo","review",{gizmoId:e}],enabled:e!=null})}const DOe=({rating:e,onRating:t,className:n})=>{const[r,s]=p.useState(),o=U();return i.jsx("div",{className:$("flex flex-row",n),children:[1,2,3,4,5].map(a=>{const c=i.jsx(k7,{className:$("icon-2xl cursor-pointer",(r??e??0)>=a?IOe(r,e):"text-token-main-surface-tertiary")}),l=jOe(r??0),u=l&&o.formatMessage(l);return i.jsx("div",{onClick:()=>{t(a)},onMouseEnter:()=>{s(a)},onMouseLeave:()=>{s(void 0)},className:"p-1",children:l?i.jsx(rt,{label:u,side:"top",sideOffset:4,children:c}):c},a)})})},Bpt=({gizmo:e})=>P1(gt.GPTReview)?i.jsx(LOe,{gizmo:e}):null,LOe=({gizmo:e})=>{const t=tn(),n=()=>ze.closeModal(gt.GPTReview),r=U(),s=Fe(),[o,a]=p.useState(""),[c,l]=p.useState(!1),u=ROe(e.gizmo.id),d=vV(e.gizmo.id),[f,h]=p.useState(),m=f===u.data?.rating;p.useEffect(()=>{u.data!=null&&f==null&&h(u.data.rating)},[u.data,f]),p.useEffect(()=>{E.logEvent(P.showRatingModal,{gizmo_id:e.gizmo.id})},[e.gizmo.id]);const g=u.data!=null,v=!e.gizmo.tags?.includes(Uc.FirstParty)&&e.gizmo.author.will_receive_support_emails;return i.jsx(je,{type:"success",title:i.jsxs("div",{children:[i.jsx(S,{...xn.title}),i.jsxs("div",{className:"align-end mt-2 flex text-sm font-normal",children:[g?i.jsx(S,{...xn.subtitleChange}):i.jsx(S,{...xn.subtitle}),i.jsx(rt,{label:r.formatMessage(xn.subtitleTooltip),className:"ml-1 flex cursor-pointer items-center pl-1",sideOffset:0,children:i.jsx("div",{className:"icon-xs flex items-center justify-center rounded-full border border-token-text-tertiary text-[8px] font-bold text-token-text-tertiary",children:"i"})})]})]}),isOpen:!0,onClose:n,size:"custom",showCloseButton:!0,className:"max-w-xl overflow-y-auto",hideSeparator:!0,children:i.jsxs("div",{className:"flex flex-grow flex-col space-y-8",children:[i.jsx(DOe,{rating:f,onRating:h,className:"mx-auto flex flex-row items-center"}),v&&i.jsxs("div",{children:[i.jsx($L,{className:"mb-1 w-full resize-none overflow-y-auto rounded-md bg-transparent focus:border-gray-200 focus:ring-gray-200 dark:focus:border-white dark:focus:ring-white",placeholder:r.formatMessage(xn.messagePlaceholder),value:o,rows:1,onChange:y=>a(y.target.value)}),i.jsxs("div",{className:$("flex flex-row items-center space-x-2 self-start",o.length>0?"text-token-text-primary":"text-token-text-tertiary"),children:[i.jsx("input",{type:"checkbox",className:"rounded",checked:c,onChange:y=>l(y.target.checked)}),t&&i.jsx("span",{className:"text-sm",children:i.jsx(S,{...xn.includeFrom,values:{email:i.jsx("strong",{children:t.email})}})})]})]}),i.jsx(ce,{color:"primary",disabled:m,onClick:async()=>{if(f==null){s.warning("Please select a rating");return}E.logEvent(P.submitRatingModal,{gizmo_id:e.gizmo.id,rating:f}),await d.mutateAsync({rating:f,message:o.length>0?o:void 0,includeFrom:o.length>0?c:void 0}),s.success(r.formatMessage(xn.successToast),{duration:3}),n()},children:i.jsx(S,{...xn.submit})})]})})},xn=K({title:{id:"GizmoReviewModal.title",defaultMessage:"Leave Feedback"},subtitle:{id:"GizmoReviewModal.subtitle",defaultMessage:"How would you rate this GPT?"},subtitleChange:{id:"GizmoReviewModal.subtitleChange",defaultMessage:"Would you like to change your rating?"},subtitleTooltip:{id:"GizmoReviewModal.subtitleTooltip",defaultMessage:"Stars will be public and anonymous"},messagePlaceholder:{id:"GizmoReviewModal.messagePlaceholder",defaultMessage:"Add an optional private email to the creator"},submit:{id:"GizmoReviewModal.submit",defaultMessage:"Submit"},successToast:{id:"GizmoReviewModal.successToast",defaultMessage:"Review sent"},includeFrom:{id:"GizmoReviewModal.includeFrom",defaultMessage:"Include my email address {email}"},hoverRating1:{id:"GizmoReviewModal.hoverRating1",defaultMessage:"Bad"},hoverRating2:{id:"GizmoReviewModal.hoverRating2",defaultMessage:"Okay"},hoverRating3:{id:"GizmoReviewModal.hoverRating3",defaultMessage:"Good"},hoverRating4:{id:"GizmoReviewModal.hoverRating4",defaultMessage:"Great!"},hoverRating5:{id:"GizmoReviewModal.hoverRating5",defaultMessage:"Excellent!"}});function vS({isFirstParty:e,src:t,alt:n,className:r,gizmoId:s,gizmoEmoji:o,gizmoTheme:a}){return i.jsx("div",{className:r,children:t!=null?i.jsx("div",{className:"gizmo-shadow-stroke overflow-hidden rounded-full",children:i.jsx("img",{src:t,className:"h-full w-full bg-token-main-surface-secondary",alt:n??"GPT",width:80,height:80})}):i.jsx("div",{className:$("relative flex h-full items-center justify-center text-token-text-primary","gizmo-shadow-stroke rounded-full bg-token-main-surface-primary"),children:e?i.jsx(f$,{className:"h-2/3 w-2/3"}):i.jsx(M7,{className:"h-2/3 w-2/3 text-gray-400"})})})}function FOe({gizmoId:e,className:t}){const{data:n}=Xa(e);return i.jsx(vS,{gizmoId:e,src:n?.gizmo.display.profile_picture_url,isFirstParty:n?.gizmo.tags?.includes(Uc.FirstParty)??!1,className:t})}function BOe(e){return e!==e}var UOe=BOe;function VOe(e,t,n){for(var r=n-1,s=e.length;++r<s;)if(e[r]===t)return r;return-1}var GOe=VOe,WOe=dF,HOe=UOe,zOe=GOe;function qOe(e,t,n){return t===t?zOe(e,t,n):WOe(e,HOe,n)}var YOe=qOe,KOe=YOe;function QOe(e,t){var n=e==null?0:e.length;return!!n&&KOe(e,t,0)>-1}var XOe=QOe;function ZOe(e,t,n){for(var r=-1,s=e==null?0:e.length;++r<s;)if(n(t,e[r]))return!0;return!1}var JOe=ZOe,Yg=fF,eNe=hF,tNe=W$,nNe=1/0,rNe=Yg&&1/tNe(new Yg([,-0]))[1]==nNe?function(e){return new Yg(e)}:eNe,sNe=rNe,oNe=pF,aNe=XOe,iNe=JOe,cNe=mF,lNe=sNe,uNe=W$,dNe=200;function fNe(e,t,n){var r=-1,s=aNe,o=e.length,a=!0,c=[],l=c;if(n)a=!1,s=iNe;else if(o>=dNe){var u=t?null:lNe(e);if(u)return uNe(u);a=!1,s=cNe,l=new oNe}else l=t?[]:c;e:for(;++r<o;){var d=e[r],f=t?t(d):d;if(d=n||d!==0?d:0,a&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),c.push(d)}else s(l,f,n)||(l!==c&&l.push(f),c.push(d))}return c}var hNe=fNe,pNe=hh,mNe=hNe;function gNe(e,t){return e&&e.length?mNe(e,pNe(t)):[]}var vNe=gNe;const AL=ye(vNe),yNe=({actions:e,title:t,description:n,onDismiss:r})=>{const s=U(),o=e?.primaryAction?.text?s.formatMessage(e.primaryAction.text):void 0,a=e?.secondaryAction?.text?s.formatMessage(e.secondaryAction.text):void 0;return i.jsx(fi,{title:t,content:n,onDismiss:r,primaryCtaText:o,onPrimaryCtaClick:e?.primaryAction?.onClick??void 0,secondaryCtaText:a,onSecondaryCtaClick:e?.secondaryAction?.onClick??void 0,isElevated:!0})},bNe=({clientThreadId:e,rateLimitInfo:t,onDismiss:n})=>{const{name:r,title:s,call_to_action:o,description:a}=t,c=De(),l=Wh(!0),u=gF(),d=Nh(e),f=c?.planType??"unknown",h=Po(),m=u&&"block_reason"in u?u.block_reason:null,g="banner_description",v={type:r||"unknown",location:g,plan_type:f,is_new_conversation:d,is_hard_block:!!u,hard_block_reason:m??"",call_to_action:o},y=yt(),x=vn(),{isUnauthenticated:b}=It(),w=xl(),C=pi(Zt.signUpButtonText),T=I=>{switch(I){case Zr.AUTHENTICATE:return{text:w?Zt.logInButtonText:C,onClick:()=>{x({authType:w?"login":"signup",callback:A=>{w?E.logLogInButtonClicked({location:`Rate limit banner - ${r}`,provider:A}):E.logSignUpButtonClicked({location:`Rate limit banner - ${r}`,provider:A})}})}};case Zr.AUTHENTICATE_SECONDARY:return{text:w?C:Zt.logInButtonText,onClick:()=>{x({authType:w?"signup":"login",callback:A=>{w?E.logSignUpButtonClicked({location:`Rate limit banner - ${r}`,provider:A}):E.logLogInButtonClicked({location:`Rate limit banner - ${r}`,provider:A})}})}};case Zr.GET_PLUS:return{text:qE.getPlusButton,onClick:()=>{E.logRateLimitGetPlusButtonClicked(v),b?x({authType:w?"login":"signup",shouldOpenPaymentModalOnAuth:!0,callback:A=>{w?E.logLogInButtonClicked({location:"Rate limit banner Get Plus upsell",provider:A}):E.logSignUpButtonClicked({location:"Rate limit banner Get Plus upsell",provider:A})}}):Os(y,"Prompt textarea rate limit banner")}};case Zr.NEW_CHAT:return{text:qE.newChatButton,onClick:()=>{l({modelId:"",location:g})}}}};Vb(()=>{E.logRateLimitBannerShown(v)});let[_,k]=o??[];_===Zr.AUTHENTICATE&&h&&(k=Zr.AUTHENTICATE_SECONDARY);const M={primaryAction:T(_),secondaryAction:T(k)};return i.jsx(yNe,{onDismiss:n,title:s,description:a,actions:M})},qE=K({getPlusButton:{id:"TeyLcp",defaultMessage:"Get Plus"},newChatButton:{id:"7OvnJ5",defaultMessage:"New chat"}}),xNe=e=>(mt("1028682714"),i.jsx(bNe,{...e})),OL=Se.div`group flex h-10 items-center gap-2 rounded-lg px-2 hover:bg-token-main-surface-secondary text-sm text-token-text-primary`;function NL(){const{data:e,isLoading:t}=pV({cutId:"recent",limit:8}),{data:n,isLoading:r}=mV();return{isLoading:t||r,recent:e,pinned:n}}function wNe({query:e,onSelectGizmo:t,selectedIdx:n},r){const s=Eo(),o=p.useRef([]),{isLoading:a,recent:c,pinned:l}=NL();p.useImperativeHandle(r,()=>({handleEnterOnIndex:f=>{if(!d[f])return f<u.length?u[f].resource:"create"},getResultsLength:()=>u.length+1,scrollToItem:f=>{const h=o.current[f];h&&h.scrollIntoView({behavior:"instant",block:"nearest"})}}));let u=[];if(a)return i.jsx("div",{className:"absolute right-4 top-0 flex h-full items-center justify-center",children:i.jsx(In,{})});c&&u.push(...c.pages.flatMap(f=>f.list.items).map(f=>({resource:f.resource,from:"recent"}))),l&&u.push(...l.items.map(f=>({resource:f,from:"pinned"}))),u=AL(u,f=>f.resource.gizmo.id);const d=u.map(f=>f.resource.gizmo.tags?.includes(Uc.WorkspaceDisabled));return e&&e!==""&&(u=u.filter(f=>(f.resource.gizmo.display.name.toLowerCase()+f.resource.gizmo.display.description?.toLowerCase()+f.resource.gizmo.author.display_name?.toLowerCase()).includes(e?.toLowerCase()))),i.jsxs("div",{className:"max-h-40 overflow-y-auto",children:[u.map((f,h)=>i.jsx("div",{ref:m=>{o.current[h]=m},tabIndex:h,onClick:()=>{d[h]||t(f.resource)},children:i.jsx(TNe,{gizmoResource:f.resource,from:f.from,showDescription:s,isSelected:n===h,grayedOut:d[h]})},f.resource.gizmo.id)),i.jsx("div",{ref:f=>{o.current[u.length]=f},tabIndex:u.length,onClick:()=>{t("create")},children:i.jsx(CNe,{isSelected:n===u.length})},"create")]})}const SNe=p.forwardRef(wNe),CNe=({isSelected:e})=>i.jsx(OL,{className:e?"bg-token-main-surface-secondary":"",children:i.jsxs(Ga,{to:"/gpts/editor",target:"_blank",className:"flex flex-row space-x-2 font-semibold",children:[i.jsx("span",{className:"self-center",children:i.jsx(Xb,{className:"icon-sm"})}),i.jsx("span",{children:i.jsx(S,{...IL.dropdownCreateLabel})})]})}),_Ne=({onClick:e,onClose:t})=>{const[n,r]=p.useState(null),s=p.useRef(null),o=p.useRef(null),[a,c]=p.useState(0),l=U(),u=d=>{E.logEvent(P.mentionsClickGizmo,{gizmo_id:d==="create"?"create":d.gizmo.id}),d!=="create"&&e(d)};return i.jsxs(i.Fragment,{children:[i.jsx("input",{autoFocus:!0,placeholder:l.formatMessage(IL.searchPlaceholder),ref:s,onKeyDown:d=>{const f=o.current?.getResultsLength()??0;if((d.key==="Escape"||d.key==="Backspace"&&!n)&&(d.preventDefault(),t()),d.key==="Enter"||d.key==="Tab"){d.preventDefault();const h=o.current?.handleEnterOnIndex(a);if(!h)return;h==="create"?(window.open("/gpts/editor","_blank"),t()):u(h)}if(d.key==="ArrowDown"&&a<f-1){d.preventDefault();const h=a+1;o.current?.scrollToItem(h),c(h)}if(d.key==="ArrowUp"&&a>0){d.preventDefault();const h=a-1;o.current?.scrollToItem(h),c(h)}},onChange:d=>{r(d.target.value),c(0)},className:"w-full border-0 bg-token-main-surface-primary p-2 text-sm focus:outline-none"}),i.jsx(SNe,{ref:o,query:n,selectedIdx:a,onSelectGizmo:u})]})},Upt=({onClick:e,onClose:t})=>{const n=vF(),r=!!n;return Vb(()=>{E.logEvent(P.mentionsOpened,{gizmo_selector_disabled:r})}),r?i.jsx(xNe,{clientThreadId:c$,rateLimitInfo:n}):i.jsx("div",{onBlur:s=>{s.currentTarget.contains(s.relatedTarget)||t()},className:"popover rounded-2xl border border-token-border-light bg-token-main-surface-primary p-2 shadow-lg",children:i.jsx(_Ne,{onClick:e,onClose:t})})};function TNe({gizmoResource:e,from:t,showDescription:n,isSelected:r,grayedOut:s}){const o=!!e.gizmo.tags?.includes(Uc.FirstParty);return i.jsxs(OL,{className:$(r?"bg-token-main-surface-secondary":"",s&&"opacity-50"),children:[i.jsx(vS,{isFirstParty:o,src:e.gizmo.display.profile_picture_url,className:$("icon-xl h-7 w-7 flex-shrink-0",s&&"grayscale group-hover:grayscale-0")}),i.jsxs("div",{className:"flex h-fit grow flex-row justify-between space-x-2 overflow-hidden text-ellipsis whitespace-nowrap",children:[i.jsxs("div",{className:"flex flex-row space-x-2",children:[i.jsx("span",{className:"shrink-0 truncate font-semibold",children:e.gizmo.display.name}),n&&i.jsx("span",{className:"flex-grow truncate text-sm text-token-text-tertiary sm:max-w-xs lg:max-w-md",children:e.gizmo.display.description})]}),i.jsx("span",{className:"shrink-0 self-center",children:t==="recent"?i.jsx(lA,{className:"icon-sm"}):i.jsx(E7,{className:"icon-sm"})})]})]})}const IL=K({talkingTo:{id:"TaggingDropdown.talkingTo",defaultMessage:"Talking to"},dropdownCreateLabel:{id:"TaggingDropdown.dropdownCreateLabel",defaultMessage:"Create a GPT"},searchPlaceholder:{id:"TaggingDropdown.searchPlaceholder",defaultMessage:"Search recent and pinned GPTs"}}),Tt={filePickerStarted:e=>{E.logEvent(P.contextConnectorsPickerStarted,{contextConnector:e})},filePickerLoaded:e=>{E.logEvent(P.contextConnectorsPickerLoaded,{contextConnector:e})},filePickerPicked:(e,t)=>{E.logEvent(P.contextConnectorsPickerPicked,{contextConnector:e,numFiles:t})},filePickerCancelled:e=>{E.logEvent(P.contextConnectorsPickerCancelled,{contextConnector:e})},linkPasted:e=>{E.logEvent(P.contextConnectorsLinkPasted,{...e})},linkMetadataFetchStarted:e=>{E.logEvent(P.contextConnectorsLinkMetadataFetchStarted,{contextConnector:e})},linkMetadataFetchSucceeded:(e,t)=>{E.logEvent(P.contextConnectorsLinkMetadataFetchSucceeded,{contextConnector:e,mimeType:t})},linkMetadataFetchFailed:(e,t)=>{E.logEvent(P.contextConnectorsLinkMetadataFetchFailed,{contextConnector:e,reason:String(t)})},oauthUpsellButtonClick:(e,t)=>{E.logEvent(P.contextConnectorsOAuthUpsellButtonClick,{contextConnector:e,choice:t})},expiredAccessTokenUsed:(e,t)=>{E.logEvent(P.contextConnectorsExpiredAccessTokenUsed,{contextConnector:e,useCase:t})}};function Xp(){const e=tn(),t=bh("1967546325").config,n=t.get("gdrivePicker",!1),r=t.get("o365Picker",!1),s=t.get("gdriveLink",!1),o=t.get("o365PersonalLink",!1),a=t.get("o365BusinessLink",!1),c=t.get("testCtor1Link",!1),l=t.get("testCtor2Link",!1),u=t.get("gdrivePercentage",0),d=t.get("o365Percentage",0),f=t.get("testCtor1Percentage",0),h=t.get("testCtor2Percentage",0),m=t.get("loadTestPercentage",0),g=t.get("showWorkspaceSettings",!1),v=e?kNe(e.id):null;return p.useMemo(()=>({gdriveStatus:Kr(n,v,u),o365Status:Kr(r,v,d),gdriveLinkStatus:Kr(s,v,u),o365PersonalLinkStatus:Kr(o,v,d),o365BusinessLinkStatus:Kr(a,v,d),confluenceLinkStatus:Kr(c,v,f),jiraLinkStatus:Kr(l,v,h),loadTest:Kr(!0,v,m)==="true",showWorkspaceSettings:g}),[n,v,u,r,d,s,o,a,c,f,l,h,m,g])}function Kr(e,t,n){return!e||t==null?"false":t<n?"true":"ifConnected"}function kNe(e){const n=MNe(e)%100;return Math.abs(n)}function MNe(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)-t+r,t|=0}return t}var ENe=$b,PNe=dx,$Ne=hh;function ANe(e,t){var n={};return t=$Ne(t),PNe(e,function(r,s,o){ENe(n,s,t(r,s,o))}),n}var ONe=ANe;const NNe=ye(ONe);function INe(e){var t=function(r,s){return Q.createElement(e,yF({},r,{forwardedRef:s}))},n=e.displayName||e.name;return t.displayName="withForwardedRef("+n+")",p.forwardRef(t)}var YE=Object.keys,jNe=function(t,n){if(t===n)return!0;if(!(t instanceof Object)||!(n instanceof Object))return!1;for(var r=YE(t),s=r.length,o=0;o<s;o++)if(!(r[o]in n))return!1;for(var o=0;o<s;o++)if(t[r[o]]!==n[r[o]])return!1;return s===YE(n).length},RNe=function(e,t){var n=window.getComputedStyle(t),r=n.borderBottomWidth,s=n.borderTopWidth,o=n.fontSize,a=n.lineHeight,c=n.paddingBottom,l=n.paddingTop,u=a==="normal"?parseFloat(o)*1.2:parseFloat(a),d=e===0?0:u*e+parseFloat(r)+parseFloat(s)+parseFloat(c)+parseFloat(l),f=t.scrollHeight+parseFloat(r)+parseFloat(s);return Math.max(d,f)},_d=function(e,t){if(t){var n="hidden",r=window.getComputedStyle(t).maxHeight;if(r!=="none"){var s=parseFloat(r);s<t.scrollHeight&&(n="")}t.style.height="0",t.style.overflowY=n,t.style.height="".concat(RNe(e,t),"px")}},DNe=function(e){var t=p.useRef(e),n=p.useRef(0);return jNe(e,t.current)||(t.current=e,n.current+=1),p.useMemo(function(){return t.current},[n.current])},KE=typeof window>"u"?Function.prototype:p.useLayoutEffect,LNe=function(e){var t=e.forwardedRef,n=GS(e,["forwardedRef"]),r=typeof t=="function",s=DNe(n.style),o=p.useRef(),a=r||!t?o:t,c=n.rows?parseInt(""+n.rows,10):0,l=n.onChange,u=n.onInput,d=GS(n,["onChange","onInput"]);KE(function(){_d(c,a.current)},[n.className,n.value,a,c,s]),KE(function(){if(window.ResizeObserver){var m=new ResizeObserver(function(){_d(c,a.current)});return m.observe(a.current),function(){m.disconnect()}}},[a,c]);var f=p.useCallback(function(m){l?.(m),u?.(m),_d(c,a.current)},[l,u,a,c]),h=p.useCallback(function(m){a.current=m,r&&t(m)},[t,r,a]);return Q.createElement("textarea",bF({},d,{onInput:f,ref:h,rows:c}))};const Vpt=INe(LNe);class FNe extends oV{textArea=null;get document(){return this.textArea?.ownerDocument}setValue(t){this.textArea&&(typeof t=="string"?this.textArea.value=t:this.textArea.value=t(this.textArea.value))}getSystemHints(){return[]}replaceSlashCommandTokensWithText(){}isEmpty(){const t=this.textArea?.value;return t==null||t.trim().length===0}trimLeadingText(t){let n=!1;return this.setValue(r=>r.startsWith(t)?(n=!0,r.replace(t,"")):r),n&&this.textArea&&this.textArea.setSelectionRange(this.textArea.selectionStart-t.length,this.textArea.selectionEnd-t.length),n}replaceAll(t,n){this.setValue(r=>r.replaceAll(t,n))}appendText(t){this.setValue(n=>n+t)}focus(){this.textArea?.focus()}setText(t){this.setValue(t)}setPlaceholder(){}getCurrentText(){return this.textArea?.value||""}hasMultipleLines(){return this.getCurrentText().includes(`
`)}resize(t){this.textArea&&_d(t,this.textArea)}isReady(){return this.textArea!==null}acceptLegacyKeydown(){return!0}getSelectionStart(){return this.textArea?.selectionStart??0}subscribe(t,n){return this.textArea?.addEventListener(t,n),()=>{this.textArea?.removeEventListener(t,n)}}}const db="open-connector";function BNe(){const e=yt(),t=Fa(),[n]=wo(),r=n.get(db),s=p.useCallback(()=>{const a=new URLSearchParams(t.search);a.delete(db),e({...t,search:a.toString()},{replace:!0})},[t,e]);return{connector:Object.values(W).find(a=>a===r),clearParam:s}}async function UNe(e,t){const n=`https://chat.openai.com/aip/${e.id}/oauth/callback`,r=await X.pluginOauthRedirect(e.id,n,t);window.location.href=r.redirect_uri}async function jL(e,t,n,r){const s=await X.connectorOauthRedirect(e.id,n,t,r);window.location.href=s.redirect_uri}function VNe(e){switch(e){case Cn.Link:return"link_paste_popover";case Cn.Picker:return"file_upload_menu"}}async function Gpt(e){await X.deleteUserConnectedApp(e),window.location.reload()}const Zs={uploadFile:GNe,uploadPickedFile:HNe,doContextConnectorOauthRedirect:WNe};function GNe(e,t,n,r,s,o,a,c){pn.uploadFile(e,ga(t),t,c??Xe.Retrieval,n,r,s,{gizmoId:a},o)}async function WNe(e,t,n,r){if(!t)return;n();let s="";r===Cn.Picker&&(s=`${db}=${t.type}`),e??="/",s&&(e.includes("?")?e+=`&${s}`:e+=`?${s}`),jL({id:t.id},VNe(r),`${window.location.origin}/ccc/${t.id}/oauth/callback`,e)}function HNe(e,t,n,r,s,o,a,c,l){let u=t.title;n===W.GDRIVE&&(u=t.syntheticExtension?`${t.title}.${t.syntheticExtension}`:t.title);const d=t.mimeType.split(";")[0],f=d.startsWith("image/");if(s?.includes(d)===!1||f&&!r.includes(d)){l.danger(c.formatMessage(zNe.unsupportedFileType,{fileName:u}),eh);return}pn.uploadFile(e,t.id,new File([],u,{type:d}),Xe.Retrieval,r,c,l,{gizmoId:a},o,{contextConnector:n,sourceUrl:t.url,syntheticExtension:t.syntheticExtension,type:Cn.Picker,o365DriveId:t.o365DriveId})}function Zp(e,t){e.access_token&&e.expires_at!=null&&e.expires_at*1e3<=Date.now()&&Tt.expiredAccessTokenUsed(e.type,t)}const zNe=K({unsupportedFileType:{id:"ContextConnectorUtils.unsupportedFileType",defaultMessage:"{fileName} is not a supported file type"}}),qNe="77377267392",RL="AIzaSyAOHzpLbFWAcLwrOn1IvQeVd0jHRntTlPk",Wpt="gdrive-sync-connector-2216c16c-b5a5-43e9-a654-e6eb9a6a2227";var ns=(e=>(e.OneDrive_BUSINESS_DRIVE_ITEMS="https://graph.microsoft.com/v1.0/me/drive/items",e.OneDrive_BUSINESS_DRIVE_ROOT="https://graph.microsoft.com/v1.0/me/drive/root",e.OneDrive_BUSINESS_SHARES="https://graph.microsoft.com/v1.0/shares",e.OneDrive_PERSONAL_DRIVE_ITEMS="https://api.onedrive.com/v1.0/drives",e.OneDrive_PERSONAL_SHARES="https://api.onedrive.com/v1.0/shares",e))(ns||{});const YNe=new Map;function DL(){const{gdriveLinkStatus:e,o365BusinessLinkStatus:t,o365PersonalLinkStatus:n,confluenceLinkStatus:r,jiraLinkStatus:s}=Xp();return yS(e,t,n,r,s)}function Jp(){const{gdriveStatus:e,o365Status:t}=Xp();return yS(e,t,t)}function Hpt(){const{gdriveStatus:e,o365Status:t,confluenceLinkStatus:n,jiraLinkStatus:r}=Xp();return yS(e,t,t,n,r)}function yS(e,t,n,r=null,s=null){const a=De()?.getWorkspaceId(),c=[W.GDRIVE,W.O365_PERSONAL,W.O365_BUSINESS,...r==="true"||r==="ifConnected"?[W.CONFLUENCE]:[],...s==="true"||s==="ifConnected"?[W.JIRA]:[]],{connectors:l,isLoading:u}=LL(c),{data:d,isLoading:f}=xF(a),h=!a||d?.beta_settings?.[xi.CONTEXT_CONNECTOR_GDRIVE],m=!a||d?.beta_settings?.[xi.CONTEXT_CONNECTOR_O365_PERSONAL],g=!a||d?.beta_settings?.[xi.CONTEXT_CONNECTOR_O365_BUSINESS],v=!a||d?.beta_settings?.[xi.CONTEXT_CONNECTOR_CONFLUENCE],y=!a||d?.beta_settings?.[xi.CONTEXT_CONNECTOR_JIRA],x=l.get(W.GDRIVE),b=l.get(W.O365_PERSONAL),w=l.get(W.O365_BUSINESS),C=l.get(W.CONFLUENCE),T=l.get(W.JIRA),_=(M,I)=>M==="true"||M==="ifConnected"&&I;return{connectorConfig:p.useMemo(()=>{const M=!!x?.access_token,I=_(e,M),A=!!(b?.access_token??w?.access_token),H=_(t,A),q=_(n,A),F=!!r&&_(r,!!C?.access_token),N=!!s&&_(s,!!T?.access_token),R=[I&&x&&h?[W.GDRIVE,x]:null,q&&b&&m?[W.O365_PERSONAL,b]:null,H&&w&&g?[W.O365_BUSINESS,w]:null,F&&C&&v?[W.CONFLUENCE,C]:null,N&&T&&y?[W.JIRA,T]:null];return new Map(Ba(R))},[x,e,b,w,C,T,t,n,r,s,h,m,g,v,y]),isLoading:u||f}}function LL(e){const[t,n]=p.useState(YNe),{isUnauthenticated:r}=It(),{isSuccess:s,data:o,isLoading:a}=me({queryKey:["fetchConnectorData",e],queryFn:KNe,refetchInterval:30*60*1e3,enabled:!r});return p.useEffect(()=>{s&&n(new Map(o.map(c=>[c.type,c])))},[s,o]),{connectors:t,isLoading:a}}async function KNe({queryKey:e}){const[t,n]=e;let r=null;try{r=await X.checkConnectorAPI(n)}catch(o){if(o instanceof Pt)return[];ue.addError(new Error("Server Error while retrieving context connector entry",{cause:o}))}return r?r.connectors.map(o=>{if(!o.access_token)return o;if(o.type===W.O365_PERSONAL)o.onedrive_endpoint_hint={type:"personal",baseUrl:"https://onedrive.live.com",parsedUrl:"https://onedrive.live.com/picker"};else if(o.type===W.O365_BUSINESS){const a=o.onedrive_business_metadata?.base_url;if(a){const c=new URL(a);o.onedrive_endpoint_hint={type:"business",baseUrl:a,parsedUrl:`https://${c.hostname}/_layouts/15/FilePicker.aspx`}}}return o}):[]}function zpt({composerController:e,parsedDocumentHandler:t}){const{gdriveLinkStatus:n,o365BusinessLinkStatus:r,o365PersonalLinkStatus:s}=Xp();return n==="false"&&r==="false"&&s==="false"?null:i.jsx(QNe,{composerController:e,parsedDocumentHandler:t})}function QNe({composerController:e,parsedDocumentHandler:t}){const{connectorConfig:n}=DL();return p.useEffect(()=>{const r=e instanceof FNe?"input":"change",s=()=>{const o=XNe(e,n);t(o)};return s(),e.subscribe(r,s)},[e,n,t]),null}function XNe(e,t){const n=e.getCurrentText(),r=[];for(const s of t.values())switch(s.type){case W.GDRIVE:{const o=tIe(n,s);r.push(...o),s.access_token&&o.reduce((c,l)=>c.replace(l.url,""),n)!==n&&o.forEach(({url:c})=>e.replaceAll(c,""));break}case W.O365:break;case W.O365_BUSINESS:{const o=fIe(n,s).filter(a=>a!=null);s.access_token&&o.forEach(({url:a})=>e.replaceAll(a,"")),r.push(...o);break}case W.O365_PERSONAL:{const o=oIe(n,s).filter(a=>a!=null);s.access_token&&o.forEach(({url:a})=>e.replaceAll(a,"")),r.push(...o);break}case W.CONFLUENCE:{const o=iIe(n,s).filter(a=>a!=null);s.access_token&&o.forEach(({url:a})=>e.replaceAll(a,"")),r.push(...o);break}case W.JIRA:{const o=uIe(n,s).filter(a=>a!=null);s.access_token&&o.forEach(({url:a})=>e.replaceAll(a,"")),r.push(...o);break}}return r.length&&Tt.linkPasted(NNe(Cx(r,s=>s.type),s=>s.length)),r}const ZNe=/\bhttps:\/\/docs\.google\.com\/(document|spreadsheets|presentation)\/d\/([\w-]+)\/?(?:(?:edit|view)\/?)?(?:\?[\w\-.~%=]*)?(?:#[\w\-.~%=]*)?/gm,JNe=/\bhttps:\/\/drive\.google\.com\/(file)\/d\/([\w-]+)\/?(?:(?:edit|view)\/?)?(?:\?[\w\-.~%=]*)?(?:#[\w\-.~%=]*)?/gm,eIe="https://www.googleapis.com/auth/drive.readonly";function tIe(e,t){return[...e.matchAll(ZNe),...e.matchAll(JNe)].map(n=>{const r={url:n[0],id:n[2],type:W.GDRIVE};return t.access_token&&t.scopes&&t.scopes.includes(eIe)?{...r,handler:{type:"fetch",tryFetch:async()=>{Zp(t,Cn.Link);const o=`https://www.googleapis.com/drive/v3/files/${r.id}?fields=name,mimeType`,a=await fetch(o,{method:"GET",headers:{Authorization:`Bearer ${t.access_token}`,"Content-Type":"application/json"}});if(!a.ok)return Promise.reject(new Error(`HTTP ${a.status}`));const{name:c,mimeType:l}=await a.json(),u=AR(l);return{connector:W.GDRIVE,id:r.id,title:c,mimeType:l,url:r.url,syntheticExtension:u}}}}:{...r,handler:{type:"prompt",message:"not-connected"}}})}function FL(e){let t;try{t=new URL(e).toString()}catch{return null}return`u!${btoa(t).replaceAll("=","").replaceAll("/","_").replaceAll("+","-")}`}const nIe=/\bhttps:\/\/onedrive\.live\.com\/[\w\-_.~!*'();:@&=+$,\\/?%#[\]]*/gm,rIe=/\bhttps:\/\/photos\.onedrive\.com\/(?:share|photo)\/[\w\-_.~!*'();:@&=+$,\\/?%#[\]]*/gm,sIe=/\bhttps:\/\/1drv\.ms\/[\w\-_.~!*'();:@&=+$,\\/?%#[\]]*/gm;function oIe(e,t){return[...e.matchAll(nIe),...e.matchAll(sIe),...e.matchAll(rIe)].map(n=>{const r=FL(n[0]);if(!r)return null;const s={url:n[0],id:r,type:W.O365_PERSONAL};return t.access_token?{...s,handler:{type:"fetch",tryFetch:BL(ns.OneDrive_PERSONAL_SHARES,r,t.access_token,t)}}:{...s,handler:{type:"prompt",message:"not-connected"}}})}const aIe=/\bhttps:\/\/([^\s]+?\.atlassian\.net)\/wiki\/spaces\/[^\s]+\/pages\/(\d+)\/([^\s]+)?/gm;function iIe(e,t){return[...e.matchAll(aIe)].map(n=>{const r=n[1],s=n[2],o=n[3];if(!s)return null;const a={url:n[0],id:s,type:W.CONFLUENCE};return t.access_token?{...a,handler:{type:"fetch",tryFetch:async()=>{let c=o;return!o&&t.access_token&&(c=await mIe(t.access_token,`https://${r}`,t,s)),{connector:t.type,id:s,title:c,mimeType:"text/html",url:a.url,syntheticExtension:null,manifest:{id:s,domain:r,type:wF.PAGE,manifest_type:W.CONFLUENCE}}}}}:{...a,handler:{type:"prompt",message:"not-connected"}}})}const cIe=/\bhttps:\/\/([^\s]+?\.atlassian\.net)\/browse\/([^\s]+)\??/gm,lIe=/\bhttps:\/\/([^\s]+?\.atlassian\.net)\/jira\/(?:[^\s]+\/)*projects\/(?:[^\s]+\/)+(?:[^\s]+\/?)\?selectedIssue=([^\s]+)&?/gm;function uIe(e,t){return[...e.matchAll(cIe),...e.matchAll(lIe)].map(n=>{const r=n[1],s=n[2];if(!s||!r)return null;const o={url:n[0],id:s,type:W.JIRA};return t.access_token?{...o,handler:{type:"fetch",tryFetch:async()=>{const a=await gIe(t.access_token,`https://${r}`,t,s);return Promise.resolve({connector:t.type,id:s,title:a,mimeType:"text/markdown",url:o.url,syntheticExtension:null,manifest:{id_or_key:s,domain:r,manifest_type:W.JIRA}})}}}:{...o,handler:{type:"prompt",message:"not-connected"}}})}const dIe=/\bhttps:\/\/[^\s]+?\.sharepoint\.com\/[^\s]*/gm;function fIe(e,t){return[...e.matchAll(dIe)].map(n=>{const r=FL(n[0]),s=ns.OneDrive_BUSINESS_SHARES;if(!r)return null;const o={url:n[0],id:r,type:W.O365_BUSINESS};return t.access_token?{...o,handler:{type:"fetch",tryFetch:BL(s,r,t.access_token,t)}}:{...o,handler:{type:"prompt",message:"not-connected"}}})}function BL(e,t,n,r,s){switch(e){case ns.OneDrive_BUSINESS_SHARES:case ns.OneDrive_PERSONAL_SHARES:return()=>Kg(`${e}/${encodeURIComponent(t)}/driveItem`,n,r);case ns.OneDrive_BUSINESS_DRIVE_ITEMS:return()=>Kg(`${e}/${encodeURIComponent(t)}`,n,r);case ns.OneDrive_BUSINESS_DRIVE_ROOT:return async()=>{const o=await hIe(n,t);if(!o)return Promise.reject(null);const a=`${e}:${encodeURIComponent(o)}`;return Kg(a,n,r)};case ns.OneDrive_PERSONAL_DRIVE_ITEMS:return()=>Promise.reject(null)}}async function hIe(e,t){const r=await fetch("https://graph.microsoft.com/v1.0/me/drive/root",{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!r.ok)return null;const{webUrl:s}=await r.json(),a=new URL(s).pathname;return t.startsWith(a)?t.substring(a.length):t}async function Kg(e,t,n,r){Zp(n,Cn.Link);const s=await fetch(e,{method:"GET",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!s.ok)return Promise.reject(new Error(`HTTP ${s.status}`));const{id:o,name:a,file:c,webUrl:l,...u}=await s.json();return r||(r=u.parentReference?.driveId),{connector:n.type,id:o,title:a??"",mimeType:c?.mimeType??"",url:l??"",syntheticExtension:null,o365DriveId:r}}const pIe="https://api.atlassian.com/oauth/token/accessible-resources";async function UL(e,t,n){Zp(n,Cn.Link);const s=(await le.get(pIe,{additionalHeaders:{Authorization:`Bearer ${e}`}})).find(o=>o.url===t)?.id;return s||Promise.reject(new Error("Cloud ID not found"))}async function mIe(e,t,n,r){const s=await UL(e,t,n);return(await le.get(`https://api.atlassian.com/ex/confluence/${s}/wiki/api/v2/pages/${r}?include-version=false`,{additionalHeaders:{Authorization:`Bearer ${e}`}})).title??"Confluence Page"}async function gIe(e,t,n,r){const s=await UL(e,t,n);return(await le.get(`https://api.atlassian.com/ex/jira/${s}/rest/api/2/issue/${r}?fields=summary`,{additionalHeaders:{Authorization:`Bearer ${e}`}})).fields.summary??"Jira Issue"}var bS={};Object.defineProperty(bS,"__esModule",{value:!0});function VL(e,t){if(t)return e;throw new Error("Unhandled discriminated union member: "+JSON.stringify(e))}bS.assertNever=VL;var xS=bS.default=VL;const vIe=O({defaultMessage:"Microsoft OneDrive (personal)",id:"ContextConnector.OneDrivePersonal.name"}),yIe=O({defaultMessage:"Microsoft OneDrive (work/school)",id:"ContextConnector.OneDriveBusiness.name"}),wS=K({includesSharePoint:{id:"ContextConnectorPicker.o365BusinessIncludesSharePoint",defaultMessage:"Includes SharePoint"}});function Ml(e,t){switch(e){case W.GDRIVE:return"Google Drive";case W.O365:return"Microsoft OneDrive";case W.O365_PERSONAL:return t?.formatMessage(vIe)??"Microsoft OneDrive (personal)";case W.O365_BUSINESS:return t?.formatMessage(yIe)??"Microsoft OneDrive (work/school)";case W.CONFLUENCE:return"Confluence";case W.JIRA:return"Jira"}}function bIe(e,t){switch(e){case W.GDRIVE:switch(t){case"doc":case"docx":return"Google Docs";case"xls":case"xlsx":return"Google Sheets";case"ppt":case"pptx":return"Google Slides";default:return"Google Drive"}case W.O365:case W.O365_PERSONAL:case W.O365_BUSINESS:switch(t){case"doc":case"docx":return"Microsoft Word";case"xls":case"xlsx":return"Microsoft Excel";case"ppt":case"pptx":return"Microsoft PowerPoint";default:return"Microsoft OneDrive"}case W.CONFLUENCE:return"Page";case W.JIRA:return"Issue"}xS(e)}function xIe({contextConnector:e,extension:t}){return i.jsx(i.Fragment,{children:bIe(e,t)})}function QE(e,t){return e.connector===t.connector&&e.type===t.type}const wIe=()=>Le((e,t)=>({_messages:[],_dismissedMessages:[],getFirstMessage:()=>t()._messages[0]??null,appendMessageIfNotDismissed:n=>{e(r=>r._messages.some(s=>QE(s,n))||r._dismissedMessages.some(s=>QE(s,n))?r:{...r,_messages:[...r._messages,n]})},dismissMessage:n=>{e(r=>r._messages.includes(n)?{...r,_messages:r._messages.filter(s=>s!==n),_dismissedMessages:[...r._dismissedMessages,n]}:r)},clearMessages:()=>{e(n=>n._messages.length||n._dismissedMessages.length?{...n,_messages:[],_dismissedMessages:[]}:n)},openMenu:!1,requestOpenMenu:()=>e(n=>({...n,openMenu:!0})),confirmMenuOpened:()=>e(n=>({...n,openMenu:!1}))})),SIe=wIe(),CIe=p.createContext(SIe);function kc(){const e=p.useContext(CIe);return $c(e)}function GL({size:e="default",triggerIcon:t,triggerButton:n,children:r,side:s="bottom",className:o,sideOffset:a=10,alignOffset:c=0,open:l,onOpenChange:u,alignAgainstAnchor:d="center",disableAutofocus:f=!1,modal:h=!1}){const m=p.useRef(null);return i.jsxs(hS,{open:l,onOpenChange:u,modal:h,children:[t?i.jsx(nh,{className:"rounded-lg p-2 hover:bg-token-main-surface-secondary",ref:m,children:i.jsx(t,{className:"icon-md"})}):i.jsx(nh,{asChild:!0,ref:m,children:n}),i.jsx(kL,{container:m.current?.ownerDocument.body,children:i.jsx(H$,{$as:pS,side:s,sideOffset:a,alignOffset:c,align:d,collisionPadding:10,onOpenAutoFocus:g=>{f&&g.preventDefault()},className:$({"min-w-[200px] max-w-xs":e==="default"},o),children:r})})]})}function qpt({onOauthRedirect:e,children:t}){const{connectorConfig:n,isLoading:r}=DL(),s=kc(),{value:o}=lt("1242184140"),{getFirstMessage:a}=s,c=a(),l=c?n.get(c.connector):null,u=r||!l,d=o?_Ie:TIe,f=p.useMemo(()=>{if(u||!c)return null;switch(c.type){case"not-connected":return i.jsx(d,{unconnectedMessage:c,onOauthRedirect:e,entry:l})}},[d,u,l,c,e]),{dismissMessage:h}=kc(),m=p.useCallback(g=>{!g&&c&&!u&&h(c)},[u,h,c]);return i.jsx(GL,{size:"none",open:!u,onOpenChange:m,side:"top",sideOffset:4,triggerButton:t,children:f})}function _Ie({unconnectedMessage:e,onOauthRedirect:t,entry:n}){const{dismissMessage:r}=kc(),s=U(),o=Ml(e.connector,s),a=kIe(e.connector),c=()=>{Tt.oauthUpsellButtonClick(n.type,"link"),Zs.doContextConnectorOauthRedirect(location.pathname+location.search+location.hash,n,t,Cn.Link)},l=()=>{Tt.oauthUpsellButtonClick(n.type,"not-now"),r(e)};return i.jsxs("div",{className:"flex w-[294px] max-w-full flex-col p-2 sm:w-[384px]",children:[i.jsxs("div",{className:"mb-5 flex flex-row gap-2",children:[i.jsx(EIe,{icon:a}),i.jsx("span",{className:"text-sm font-bold",children:i.jsx(S,{...us.connectTo,values:{connectorName:o}})})]}),i.jsx("span",{className:"mb-5 text-sm text-token-text-secondary",children:i.jsx(S,{...us.description,values:{connectorName:o}})}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(ce,{color:"primary",onClick:c,children:i.jsx(S,{...us.connect})}),i.jsx(ce,{color:"secondary",onClick:l,children:i.jsx(S,{...us.notNow})})]})]})}function TIe({unconnectedMessage:e,onOauthRedirect:t,entry:n}){const{dismissMessage:r}=kc(),s=U(),o=Ml(e.connector,s),{icon1:a,icon2:c,icon3:l,icon4:u}=MIe(e.connector);return i.jsxs("div",{className:"flex w-[294px] max-w-full flex-col p-4 sm:w-[384px]",children:[i.jsxs("div",{className:"mb-3 flex flex-row gap-2 self-center",children:[i.jsx(vu,{icon:a,rotation:-6}),i.jsx(vu,{icon:c,rotation:6}),i.jsx(vu,{icon:l,rotation:-6}),i.jsx(vu,{icon:u,rotation:6})]}),i.jsx("span",{className:"mb-3 text-lg font-semibold",children:i.jsx(S,{...us.connectTo,values:{connectorName:o}})}),i.jsx("span",{className:"mb-4 text-sm text-token-text-secondary",children:i.jsx(S,{...us.description,values:{connectorName:o}})}),i.jsxs("div",{className:"flex flex-row-reverse gap-3 self-end",children:[i.jsx(ce,{color:"primary",onClick:()=>{Tt.oauthUpsellButtonClick(n.type,"link"),Zs.doContextConnectorOauthRedirect(location.pathname+location.search+location.hash,n,t,Cn.Link)},children:i.jsx(S,{...us.connect})}),i.jsx(ce,{color:"secondary",onClick:()=>{Tt.oauthUpsellButtonClick(n.type,"not-now"),r(e)},children:i.jsx(S,{...us.notNow})})]})]})}function kIe(e){switch(e){case W.GDRIVE:return i.jsx(Ya,{width:20,height:20});case W.O365:case W.O365_BUSINESS:case W.O365_PERSONAL:return i.jsx(sx,{width:20,height:20});case W.CONFLUENCE:return i.jsx(rx,{width:20,height:20});case W.JIRA:return i.jsx(nx,{width:20,height:20})}xS(e)}function MIe(e){switch(e){case W.GDRIVE:return{icon1:i.jsx(Ya,{}),icon2:i.jsx(ox,{}),icon3:i.jsx(ax,{}),icon4:i.jsx(ix,{})};case W.O365:case W.O365_BUSINESS:case W.O365_PERSONAL:return{icon1:i.jsx(sx,{}),icon2:i.jsx(uA,{}),icon3:i.jsx(dA,{}),icon4:i.jsx(fA,{})};case W.CONFLUENCE:case W.JIRA:return{icon1:i.jsx(P7,{}),icon2:i.jsx($7,{}),icon3:i.jsx(Lc,{}),icon4:i.jsx(A7,{})}}xS(e)}const EIe=({icon:e})=>i.jsx("div",{className:$("flex h-[20px] w-[20px]"),children:i.jsx("div",{className:"object-contain",children:e})});function vu({rotation:e,icon:t}){return i.jsx("div",{className:$("flex h-[44px] w-[44px] items-center justify-center rounded-xl border border-[#EDEDF2] bg-white shadow-[0_1px_12px_0px_#0000000B]"),style:{transform:`rotate(${e}deg)`},children:i.jsx("div",{className:"object-contain",children:t})})}const us=K({connectTo:{id:"ContextConnectorPastedLinkPopover.connectTo",defaultMessage:"Connect to {connectorName}"},description:{id:"ContextConnectorPastedLinkPopover.description",defaultMessage:"Connect ChatGPT to {connectorName} to reference the content from this link."},notNow:{id:"ContextConnectorPastedLinkPopover.notNow",defaultMessage:"Not now"},connect:{id:"ContextConnectorPastedLinkPopover.connect",defaultMessage:"Connect"},addFromGdriveDescription:{id:"ContextConnectorPastedLinkPopover.addFromDriveDescription",defaultMessage:"To add files from Google Drive, upload them directly to your message."},addFromGdriveNotNow:{id:"ContextConnectorPastedLinkPopover.addFromDriveNotNow",defaultMessage:"Not now"},addFromGdriveUploadFile:{id:"ContextConnectorPastedLinkPopover.addFromDriveUploadFile",defaultMessage:"Upload file"}});function PIe(e,t){const n=Ue(Ee.MentionGPTs),r=jp(),[s,o]=p.useState(!1),a=()=>{o(!0),n.markAsViewed()};return p.useImperativeHandle(t,()=>({handleClose:a})),n.eligible&&!n.isLoading&&!r?i.jsx($Ie,{wasDismissed:s,onDismiss:a}):null}function $Ie({wasDismissed:e,onDismiss:t}){const n=U(),{recent:r,pinned:s}=NL(),o=r&&r.pages.flatMap(a=>a.list.items).length>0||s&&s.items.length>0;return p.useEffect(()=>{o&&E.logEvent(P.mentionsDisplayNux)},[o]),o?i.jsx(Qp,{announcementKey:Ee.MentionGPTs,badge:"beta",align:"start",side:"top",arrowPadding:58,show:!e,title:n.formatMessage({id:"mentionGptsAnnouncement.title",defaultMessage:"GPT mentions"}),onDismiss:t,sideOffset:25,theme:"default",description:i.jsx(S,{id:"mentionGptsAnnouncement.description",defaultMessage:"Type {key} to mention a GPT and add it directly into your conversation",values:{key:i.jsx("span",{className:"font-bold",children:"@"})}}),children:i.jsx("div",{className:"absolute sm:left-16"})}):null}const Ypt=p.forwardRef(PIe),AIe=K({continueGenerating:{id:"PromptTextarea.continueGenerating",defaultMessage:"Continue generating"},stopGenerating:{id:"PromptTextarea.stopGenerating",defaultMessage:"Stop generating"},disallowedByWorkspacePlaceholder:{id:"PromptTextarea.disallowedByWorkspaceReason",defaultMessage:"Your workspace owner hasn’t approved this GPT."},disabledFeedbackPlaceholder:{id:"PromptTextarea.disabledFeedbackPlaceholder",defaultMessage:"Select a response to continue"},noModelsAvailablePlaceholder:{id:"PromptTextarea.noModelsAvailablePlaceholder",defaultMessage:"No models available"},requiresPluginsToBeInstalled:{id:"PromptTextarea.requiresPluginsToBeInstalled",defaultMessage:"Requires plugins to be installed"},noTestGizmoId:{id:"PromptTextarea.noTestGizmoId",defaultMessage:"Start by defining your GPT."},searchWith:{id:"PromptTextarea.searchWith",defaultMessage:"Search with {name}"},loading:{id:"PromptTextarea.loading",defaultMessage:"Loading..."},placeholder:{id:"PromptTextarea.placeholder",defaultMessage:"Send a message"},placeholderWithName:{id:"PromptTextarea.placeholderWithName",defaultMessage:"Message {name}"},continueSharedConversationPlaceholder:{id:"PromptTextarea.continueSharedConversationPlaceholder",defaultMessage:"Send a message to continue the conversation."},sendMessageTooltip:{id:"PromptTextarea.sendMessageTooltip",defaultMessage:"Send message"},unsupportedFileType:{id:"PromptTextarea.unsupportedFileType",defaultMessage:'Uploads with file type "{file_type}" are not supported, please try another file.'},gizmoKnowledgeWarning:{id:"PromptTextarea.gizmoKnowledgeWarning",defaultMessage:"Files uploaded here may be included in conversations with your GPT. Files can be downloaded if Code Interpreter is enabled."}}),Kpt=({filePickerStore:e,event:t,intl:n,toaster:r,conversationMode:s,clientThreadId:o,currentModelConfig:a,getEditorGizmoId:c,modelSupportedImageMimeTypes:l})=>{const u=Bf(a,s),d=l.length>0;E.logEvent(P.pastedToComposer,{client_thread_id:o});const{clipboardData:f}=t,h=pl(a,s),m=h?.attachments?.accepted_mime_types,g=h?.attachments?.can_accept_all_mime_types;if(d&&f&&f.files.length>0){const x=f.files[0];if(m!==void 0&&!m.includes(x.type)&&g!==!0){r.danger(n.formatMessage(AIe.unsupportedFileType,{file_type:J1(x)})),t.preventDefault();return}if(ze.hideThreadHeader(),E.logEvent(P.uploadFile,{client:"web",eventSource:"paste"}),c!=null){c().then(b=>pn.uploadFile(e,ga(x),x,u,l,n,r,{gizmoId:b}));return}pn.uploadFile(e,ga(x),x,u,l,n,r,void 0,h?.attachments)}const v="text/plain",y=f?.getData(v);if(!(!y||!HMe(y)||!g&&!m?.includes(v)))if(t.preventDefault(),a?.id.includes(Td)&&z.checkGate("61299031")&&y.length<=IU)WA.pasteContent(y);else{const x=new Blob([y],{type:v}),b=new File([x],"pasted_text.txt",{type:v});pn.uploadFile(e,ga(b),b,u,l,n,r,void 0,h?.attachments)}};function OIe(e){return e.metadata?.dalle?.prompt??""}async function NIe(e,t,n="image/png"){return new Promise((r,s)=>{e.toBlob(o=>{o!=null?r(new File([o],t,{type:n})):s(new Error("Failed to convert canvas to blob"))},n)})}async function IIe(e,t){const n=document.createElement("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");if(r==null)throw new Error("Failed to get 2d context for mask canvas");const s=r.createImageData(e.width,e.height);for(let o=0;o<e.data.length;o+=4)e.data[o+3]!==0?(s.data[o]=0,s.data[o+1]=0,s.data[o+2]=0,s.data[o+3]=255):(s.data[o]=255,s.data[o+1]=255,s.data[o+2]=255,s.data[o+3]=255);return r.putImageData(s,0,0),NIe(n,t)}async function jIe(e,t){const r=await(await fetch(e)).blob(),s=document.createElement("a");s.href=URL.createObjectURL(r),s.download=t,s.click(),s.remove()}function RIe(e){const t=dhe(new Date,"yyyy-MM-dd HH.mm.ss");let n=e.slice(0,150);return n.endsWith(".")&&(n=n.slice(0,-1)),`DALL·E ${t} - ${n}.webp`}async function Qpt(e,t,n){const r=OIe(e),s=RIe(r);await jIe(e.url,s),z.logEvent("chatgpt_dalle_image_download",null,{sourceOperation:e.metadata?.dalle?.edit_op??"none",hasParent:e.metadata?.dalle?.parent_gen_id!=null?"true":"false"}),E.logEvent(P.dalleImageDownload,{conversationId:t,messageId:n,generationId:e.metadata?.dalle?.gen_id,parentGenerationId:e.metadata?.dalle?.parent_gen_id,fileId:po(e.asset_pointer),sourceOperation:e.metadata?.dalle?.edit_op})}function Xpt(e){const t=wl(e),n=$o(),r=t&&"gizmo"in t?t.gizmo:void 0;return!n&&r?.gizmo.id===LU}function Zpt(e,t){const n=t.metadata?.dalle?.gen_id,r=po(t.asset_pointer);return r==null||n==null?e:{...e,messageMetadata:{...e.messageMetadata,dalle:{from_client:{operation:{type:"transformation",original_gen_id:n,original_file_id:r}}}}}}async function DIe(e,t,n,r){return new Promise((s,o)=>{Z1(ga(e),e,t,n,{kind:Kt.DalleAgent},{onFileCreated:ke,onFileUploadProgress:ke,onFileUploaded:(a,c)=>s(c),onError:(a,c)=>{o(new Error(`Failed to upload file with reason: ${c}`))}},r)})}async function Jpt(e,t,n,r,s){const o=t.metadata?.dalle?.gen_id,a=po(t.asset_pointer);if(a==null||o==null||n==null)return e;try{const c=await IIe(n,"mask.png"),l=await DIe(c,r,s,{imageDimensions:{width:t.width,height:t.height}});return{...e,messageMetadata:{...e.messageMetadata,dalle:{from_client:{operation:{type:"inpainting",original_gen_id:o,original_file_id:a,mask_file_id:l}}}}}}catch(c){return ue.addError(c),e}}const WL=Ee.HasSeenAdvancedVoiceOnMobile,LIe="https://chatgpt.com/update-app",XE="https://chatgpt.com/update-app?origin=qr";function FIe(){const e=De(),t=lt("989108178").value;return e!=null&&t}function emt(e){const t=FIe(),{eligible:n,isLoading:r}=Ue(WL);return{eligible:!(!t||!n||e.conversationMode?.kind!==$e.PrimaryAssistant)&&!r}}const BIe=3;function UIe(e){let t=Nt.getItem(He.AdvancedVoiceOnMobileAnnouncementCount);Array.isArray(t)||(t=[]);const n=new Set(t);return e&&n.add(e),t=[...n],Nt.setItem(He.AdvancedVoiceOnMobileAnnouncementCount,t),t.length}function tmt({onClose:e,clientThreadId:t}){const{markAsViewed:n}=Ue(WL),r=Yb(t);p.useEffect(()=>{const c=UIe(r);c>BIe&&(n(),z.logEvent("chatgpt_advanced_voice_on_mobile_announcement_limit_reached",c)),E.logEvent(P.advancedVoiceOnMobileAnnouncementShown),z.logEvent("chatgpt_advanced_voice_on_mobile_announcement_shown")},[r,n]);const s=p.useCallback(()=>{n(),E.logEvent(P.advancedVoiceOnMobileAnnouncementDismissed),z.logEvent("chatgpt_advanced_voice_on_mobile_announcement_dismissed"),e&&e()},[n,e]),a={markAsDownloaded:p.useCallback(()=>{E.logEvent(P.advancedVoiceOnMobileLinkClicked),z.logEvent("chatgpt_advanced_voice_on_mobile_announcement_download_clicked"),n(),e&&e()},[n,e]),markAsViewed:s};return i.jsx(GIe,{...a})}function VIe(){window.open(LIe,"_blank")}function GIe({markAsDownloaded:e,markAsViewed:t}){const n=U(),[r,s]=p.useState(!1),o=p.useCallback(()=>{VIe(),e()},[e]),a=i.jsx("div",{className:"flex-grow flex-row",children:i.jsxs("div",{className:"flex-column",children:[i.jsx("div",{className:"mb-0.5 font-semibold",children:i.jsx(S,{...Yo.advancedVoiceOnMobileBannerTitle})}),i.jsx("span",{className:"text-token-text-secondary",children:i.jsx(S,{...Yo.advancedVoiceOnMobileBannerDescription})})]})}),c=!Bye(),l=Eo();let u;return c?l?u=Object.freeze({primaryCtaQrLink:XE,onPrimaryCtaQrClick:()=>s(!0)}):u=Object.freeze({onSecondaryCtaClick:()=>s(!0),secondaryCtaText:n.formatMessage(Yo.advancedVoiceOnMobileButtonScanCode)}):u=Object.freeze({onPrimaryCtaClick:o,primaryCtaText:n.formatMessage(Yo.advancedVoiceOnMobileButtonDownload)}),i.jsxs(i.Fragment,{children:[i.jsx(fi,{...u,onDismiss:t,content:a}),c&&i.jsx(je,{size:"custom",className:"w-[328px] max-w-[328px]",title:n.formatMessage(Yo.advancedVoiceOnMobileQRModalTitle),isOpen:r,showCloseButton:!0,onClose:()=>s(!1),type:"success",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx(S1,{className:"m-[24px] mt-[0px]",size:280,value:XE}),i.jsx("div",{className:"text-left text-token-text-primary",children:i.jsx(S,{...Yo.advancedVoiceOnMobileQRModalDescription})})]})})]})}const Yo=K({advancedVoiceOnMobileBannerTitle:{id:"AdvancedVoiceOnMobile.banner.title",defaultMessage:"Download the latest iOS or Android app to try advanced voice mode"},advancedVoiceOnMobileBannerDescription:{id:"AdvancedVoiceOnMobile.banner.description",defaultMessage:"Get more natural, real-time conversations with advanced voice. Senses and responds to humor, sarcasm, interruptions, and more."},advancedVoiceOnMobileButtonDownload:{id:"AdvancedVoiceOnMobile.button.download",defaultMessage:"Download"},advancedVoiceOnMobileButtonScanCode:{id:"AdvancedVoiceOnMobile.button.scancode",defaultMessage:"Scan code"},advancedVoiceOnMobileButtonClose:{id:"AdvancedVoiceOnMobile.button.close",defaultMessage:"Close"},advancedVoiceOnMobileQRModalTitle:{id:"AdvancedVoiceOnMobile.qrmodal.title",defaultMessage:"Download the app"},advancedVoiceOnMobileQRModalDescription:{id:"AdvancedVoiceOnMobile.qrmodal.description",defaultMessage:"Scan the QR code on your phone to download the ChatGPT app."}}),rh=window.localStorage,ZE=Le(Ss(()=>{const e=rh?.getItem(He.NoAuthBannerDisclaimerClientThreadId)??null,t=rh?.getItem(He.NoAuthHasAcceptedFooterDisclaimer)==="true";return{bannerDisclaimerClientThreadId:e,hasAcceptedFooterDisclaimer:t}})),HL={updateBannerDisclaimerClientThreadId(e){ZE.setState(t=>{t.bannerDisclaimerClientThreadId=e}),rh?.setItem(He.NoAuthBannerDisclaimerClientThreadId,e)},updateHasAcceptedFooterDisclaimer(){ZE.setState(e=>{e.hasAcceptedFooterDisclaimer=!0}),rh?.setItem(He.NoAuthHasAcceptedFooterDisclaimer,"true")}},nmt=()=>{const{shouldShowSkipButton:e=!1}=pTe(),t=U1(({isParagenVisible:n})=>n);return!!e&&t};var WIe=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function El(e,t){var n=HIe(e);if(typeof n.path!="string"){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof t=="string"?t:typeof r=="string"&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}function HIe(e){var t=e.name,n=t&&t.lastIndexOf(".")!==-1;if(n&&!e.type){var r=t.split(".").pop().toLowerCase(),s=WIe.get(r);s&&Object.defineProperty(e,"type",{value:s,writable:!1,configurable:!1,enumerable:!0})}return e}var zIe=[".DS_Store","Thumbs.db"];function qIe(e){return Wa(this,void 0,void 0,function(){return Ha(this,function(t){return sh(e)&&YIe(e.dataTransfer)?[2,ZIe(e.dataTransfer,e.type)]:KIe(e)?[2,QIe(e)]:Array.isArray(e)&&e.every(function(n){return"getFile"in n&&typeof n.getFile=="function"})?[2,XIe(e)]:[2,[]]})})}function YIe(e){return sh(e)}function KIe(e){return sh(e)&&sh(e.target)}function sh(e){return typeof e=="object"&&e!==null}function QIe(e){return fb(e.target.files).map(function(t){return El(t)})}function XIe(e){return Wa(this,void 0,void 0,function(){var t;return Ha(this,function(n){switch(n.label){case 0:return[4,Promise.all(e.map(function(r){return r.getFile()}))];case 1:return t=n.sent(),[2,t.map(function(r){return El(r)})]}})})}function ZIe(e,t){return Wa(this,void 0,void 0,function(){var n,r;return Ha(this,function(s){switch(s.label){case 0:return e.items?(n=fb(e.items).filter(function(o){return o.kind==="file"}),t!=="drop"?[2,n]:[4,Promise.all(n.map(JIe))]):[3,2];case 1:return r=s.sent(),[2,JE(zL(r))];case 2:return[2,JE(fb(e.files).map(function(o){return El(o)}))]}})})}function JE(e){return e.filter(function(t){return zIe.indexOf(t.name)===-1})}function fb(e){if(e===null)return[];for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function JIe(e){if(typeof e.webkitGetAsEntry!="function")return eP(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?qL(t):eP(e)}function zL(e){return e.reduce(function(t,n){return WS(WS([],HS(t),!1),HS(Array.isArray(n)?zL(n):[n]),!1)},[])}function eP(e){var t=e.getAsFile();if(!t)return Promise.reject("".concat(e," is not a File"));var n=El(t);return Promise.resolve(n)}function eje(e){return Wa(this,void 0,void 0,function(){return Ha(this,function(t){return[2,e.isDirectory?qL(e):tje(e)]})})}function qL(e){var t=e.createReader();return new Promise(function(n,r){var s=[];function o(){var a=this;t.readEntries(function(c){return Wa(a,void 0,void 0,function(){var l,u,d;return Ha(this,function(f){switch(f.label){case 0:if(c.length)return[3,5];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,Promise.all(s)];case 2:return l=f.sent(),n(l),[3,4];case 3:return u=f.sent(),r(u),[3,4];case 4:return[3,6];case 5:d=Promise.all(c.map(eje)),s.push(d),o(),f.label=6;case 6:return[2]}})})},function(c){r(c)})}o()})}function tje(e){return Wa(this,void 0,void 0,function(){return Ha(this,function(t){return[2,new Promise(function(n,r){e.file(function(s){var o=El(s,e.fullPath);n(o)},function(s){r(s)})})]})})}var nje=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",s=(e.type||"").toLowerCase(),o=s.replace(/\/.*$/,"");return n.some(function(a){var c=a.trim().toLowerCase();return c.charAt(0)==="."?r.toLowerCase().endsWith(c):c.endsWith("/*")?o===c.replace(/\/.*$/,""):s===c})}return!0};function tP(e){return oje(e)||sje(e)||KL(e)||rje()}function rje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oje(e){if(Array.isArray(e))return hb(e)}function nP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function rP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nP(Object(n),!0).forEach(function(r){YL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mc(e,t){return cje(e)||ije(e,t)||KL(e,t)||aje()}function aje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KL(e,t){if(e){if(typeof e=="string")return hb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hb(e,t)}}function hb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ije(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],s=!0,o=!1,a,c;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(r.push(a.value),!(t&&r.length===t));s=!0);}catch(l){o=!0,c=l}finally{try{!s&&n.return!=null&&n.return()}finally{if(o)throw c}}return r}}function cje(e){if(Array.isArray(e))return e}var QL="file-invalid-type",XL="file-too-large",ZL="file-too-small",JL="too-many-files",sP={FileInvalidType:QL,FileTooLarge:XL,FileTooSmall:ZL,TooManyFiles:JL},lje=function(t){t=Array.isArray(t)&&t.length===1?t[0]:t;var n=Array.isArray(t)?"one of ".concat(t.join(", ")):t;return{code:QL,message:"File type must be ".concat(n)}},oP=function(t){return{code:XL,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},aP=function(t){return{code:ZL,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},uje={code:JL,message:"Too many files"};function e6(e,t){var n=e.type==="application/x-moz-file"||nje(e,t);return[n,n?null:lje(t)]}function t6(e,t,n){if(zs(e.size))if(zs(t)&&zs(n)){if(e.size>n)return[!1,oP(n)];if(e.size<t)return[!1,aP(t)]}else{if(zs(t)&&e.size<t)return[!1,aP(t)];if(zs(n)&&e.size>n)return[!1,oP(n)]}return[!0,null]}function zs(e){return e!=null}function dje(e){var t=e.files,n=e.accept,r=e.minSize,s=e.maxSize,o=e.multiple,a=e.maxFiles,c=e.validator;return!o&&t.length>1||o&&a>=1&&t.length>a?!1:t.every(function(l){var u=e6(l,n),d=Mc(u,1),f=d[0],h=t6(l,r,s),m=Mc(h,1),g=m[0],v=c?c(l):null;return f&&g&&!v})}function oh(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function yu(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function iP(e){e.preventDefault()}function fje(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function hje(e){return e.indexOf("Edge/")!==-1}function pje(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return fje(e)||hje(e)}function rr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){for(var s=arguments.length,o=new Array(s>1?s-1:0),a=1;a<s;a++)o[a-1]=arguments[a];return t.some(function(c){return!oh(r)&&c&&c.apply(void 0,[r].concat(o)),oh(r)})}}function mje(){return"showOpenFilePicker"in window}function gje(e){if(zs(e)){var t=Object.entries(e).filter(function(n){var r=Mc(n,2),s=r[0],o=r[1],a=!0;return n6(s)||(console.warn('Skipped "'.concat(s,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),a=!1),(!Array.isArray(o)||!o.every(r6))&&(console.warn('Skipped "'.concat(s,'" because an invalid file extension was provided.')),a=!1),a}).reduce(function(n,r){var s=Mc(r,2),o=s[0],a=s[1];return rP(rP({},n),{},YL({},o,a))},{});return[{description:"Files",accept:t}]}return e}function vje(e){if(zs(e))return Object.entries(e).reduce(function(t,n){var r=Mc(n,2),s=r[0],o=r[1];return[].concat(tP(t),[s],tP(o))},[]).filter(function(t){return n6(t)||r6(t)}).join(",")}function yje(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function bje(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function n6(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function r6(e){return/^.*\.[\w]+$/.test(e)}var xje=["children"],wje=["open"],Sje=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Cje=["refKey","onChange","onClick"];function _je(e){return Mje(e)||kje(e)||s6(e)||Tje()}function Tje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Mje(e){if(Array.isArray(e))return pb(e)}function Qg(e,t){return $je(e)||Pje(e,t)||s6(e,t)||Eje()}function Eje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s6(e,t){if(e){if(typeof e=="string")return pb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pb(e,t)}}function pb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pje(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],s=!0,o=!1,a,c;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(r.push(a.value),!(t&&r.length===t));s=!0);}catch(l){o=!0,c=l}finally{try{!s&&n.return!=null&&n.return()}finally{if(o)throw c}}return r}}function $je(e){if(Array.isArray(e))return e}function cP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cP(Object(n),!0).forEach(function(r){mb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ah(e,t){if(e==null)return{};var n=Aje(e,t),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)r=o[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Aje(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}var SS=p.forwardRef(function(e,t){var n=e.children,r=ah(e,xje),s=a6(r),o=s.open,a=ah(s,wje);return p.useImperativeHandle(t,function(){return{open:o}},[o]),Q.createElement(p.Fragment,null,n(et(et({},a),{},{open:o})))});SS.displayName="Dropzone";var o6={disabled:!1,getFilesFromEvent:qIe,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};SS.defaultProps=o6;SS.propTypes={children:Ve.func,accept:Ve.objectOf(Ve.arrayOf(Ve.string)),multiple:Ve.bool,preventDropOnDocument:Ve.bool,noClick:Ve.bool,noKeyboard:Ve.bool,noDrag:Ve.bool,noDragEventsBubbling:Ve.bool,minSize:Ve.number,maxSize:Ve.number,maxFiles:Ve.number,disabled:Ve.bool,getFilesFromEvent:Ve.func,onFileDialogCancel:Ve.func,onFileDialogOpen:Ve.func,useFsAccessApi:Ve.bool,autoFocus:Ve.bool,onDragEnter:Ve.func,onDragLeave:Ve.func,onDragOver:Ve.func,onDrop:Ve.func,onDropAccepted:Ve.func,onDropRejected:Ve.func,onError:Ve.func,validator:Ve.func};var gb={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function a6(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=et(et({},o6),e),n=t.accept,r=t.disabled,s=t.getFilesFromEvent,o=t.maxSize,a=t.minSize,c=t.multiple,l=t.maxFiles,u=t.onDragEnter,d=t.onDragLeave,f=t.onDragOver,h=t.onDrop,m=t.onDropAccepted,g=t.onDropRejected,v=t.onFileDialogCancel,y=t.onFileDialogOpen,x=t.useFsAccessApi,b=t.autoFocus,w=t.preventDropOnDocument,C=t.noClick,T=t.noKeyboard,_=t.noDrag,k=t.noDragEventsBubbling,M=t.onError,I=t.validator,A=p.useMemo(function(){return vje(n)},[n]),H=p.useMemo(function(){return gje(n)},[n]),q=p.useMemo(function(){return typeof y=="function"?y:lP},[y]),F=p.useMemo(function(){return typeof v=="function"?v:lP},[v]),N=p.useRef(null),R=p.useRef(null),B=p.useReducer(Oje,gb),Y=Qg(B,2),j=Y[0],D=Y[1],V=j.isFocused,Z=j.isFileDialogActive,se=p.useRef(typeof window<"u"&&window.isSecureContext&&x&&mje()),ae=function(){!se.current&&Z&&setTimeout(function(){if(R.current){var fe=R.current.files;fe.length||(D({type:"closeDialog"}),F())}},300)};p.useEffect(function(){return window.addEventListener("focus",ae,!1),function(){window.removeEventListener("focus",ae,!1)}},[R,Z,F,se]);var be=p.useRef([]),te=function(fe){N.current&&N.current.contains(fe.target)||(fe.preventDefault(),be.current=[])};p.useEffect(function(){return w&&(document.addEventListener("dragover",iP,!1),document.addEventListener("drop",te,!1)),function(){w&&(document.removeEventListener("dragover",iP),document.removeEventListener("drop",te))}},[N,w]),p.useEffect(function(){return!r&&b&&N.current&&N.current.focus(),function(){}},[N,b,r]);var G=p.useCallback(function(J){M?M(J):console.error(J)},[M]),Me=p.useCallback(function(J){J.preventDefault(),J.persist(),Ol(J),be.current=[].concat(_je(be.current),[J.target]),yu(J)&&Promise.resolve(s(J)).then(function(fe){if(!(oh(J)&&!k)){var bt=fe.length,Lt=bt>0&&dje({files:fe,accept:A,minSize:a,maxSize:o,multiple:c,maxFiles:l,validator:I}),yn=bt>0&&!Lt;D({isDragAccept:Lt,isDragReject:yn,isDragActive:!0,type:"setDraggedFiles"}),u&&u(J)}}).catch(function(fe){return G(fe)})},[s,u,G,k,A,a,o,c,l,I]),xe=p.useCallback(function(J){J.preventDefault(),J.persist(),Ol(J);var fe=yu(J);if(fe&&J.dataTransfer)try{J.dataTransfer.dropEffect="copy"}catch{}return fe&&f&&f(J),!1},[f,k]),re=p.useCallback(function(J){J.preventDefault(),J.persist(),Ol(J);var fe=be.current.filter(function(Lt){return N.current&&N.current.contains(Lt)}),bt=fe.indexOf(J.target);bt!==-1&&fe.splice(bt,1),be.current=fe,!(fe.length>0)&&(D({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),yu(J)&&d&&d(J))},[N,d,k]),Ce=p.useCallback(function(J,fe){var bt=[],Lt=[];J.forEach(function(yn){var bi=e6(yn,A),Io=Qg(bi,2),tm=Io[0],nm=Io[1],rm=t6(yn,a,o),Nl=Qg(rm,2),sm=Nl[0],om=Nl[1],am=I?I(yn):null;if(tm&&sm&&!am)bt.push(yn);else{var im=[nm,om];am&&(im=im.concat(am)),Lt.push({file:yn,errors:im.filter(function(y4){return y4})})}}),(!c&&bt.length>1||c&&l>=1&&bt.length>l)&&(bt.forEach(function(yn){Lt.push({file:yn,errors:[uje]})}),bt.splice(0)),D({acceptedFiles:bt,fileRejections:Lt,type:"setFiles"}),h&&h(bt,Lt,fe),Lt.length>0&&g&&g(Lt,fe),bt.length>0&&m&&m(bt,fe)},[D,c,A,a,o,l,h,m,g,I]),st=p.useCallback(function(J){J.preventDefault(),J.persist(),Ol(J),be.current=[],yu(J)&&Promise.resolve(s(J)).then(function(fe){oh(J)&&!k||Ce(fe,J)}).catch(function(fe){return G(fe)}),D({type:"reset"})},[s,Ce,G,k]),ne=p.useCallback(function(){if(se.current){D({type:"openDialog"}),q();var J={multiple:c,types:H};window.showOpenFilePicker(J).then(function(fe){return s(fe)}).then(function(fe){Ce(fe,null),D({type:"closeDialog"})}).catch(function(fe){yje(fe)?(F(fe),D({type:"closeDialog"})):bje(fe)?(se.current=!1,R.current?(R.current.value=null,R.current.click()):G(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):G(fe)});return}R.current&&(D({type:"openDialog"}),q(),R.current.value=null,R.current.click())},[D,q,F,x,Ce,G,H,c]),ot=p.useCallback(function(J){!N.current||!N.current.isEqualNode(J.target)||(J.key===" "||J.key==="Enter"||J.keyCode===32||J.keyCode===13)&&(J.preventDefault(),ne())},[N,ne]),Dt=p.useCallback(function(){D({type:"focus"})},[]),Is=p.useCallback(function(){D({type:"blur"})},[]),$l=p.useCallback(function(){C||(pje()?setTimeout(ne,0):ne())},[C,ne]),Xn=function(fe){return r?null:fe},em=function(fe){return T?null:Xn(fe)},Al=function(fe){return _?null:Xn(fe)},Ol=function(fe){k&&fe.stopPropagation()},m4=p.useMemo(function(){return function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=J.refKey,bt=fe===void 0?"ref":fe,Lt=J.role,yn=J.onKeyDown,bi=J.onFocus,Io=J.onBlur,tm=J.onClick,nm=J.onDragEnter,rm=J.onDragOver,Nl=J.onDragLeave,sm=J.onDrop,om=ah(J,Sje);return et(et(mb({onKeyDown:em(rr(yn,ot)),onFocus:em(rr(bi,Dt)),onBlur:em(rr(Io,Is)),onClick:Xn(rr(tm,$l)),onDragEnter:Al(rr(nm,Me)),onDragOver:Al(rr(rm,xe)),onDragLeave:Al(rr(Nl,re)),onDrop:Al(rr(sm,st)),role:typeof Lt=="string"&&Lt!==""?Lt:"presentation"},bt,N),!r&&!T?{tabIndex:0}:{}),om)}},[N,ot,Dt,Is,$l,Me,xe,re,st,T,_,r]),g4=p.useCallback(function(J){J.stopPropagation()},[]),v4=p.useMemo(function(){return function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=J.refKey,bt=fe===void 0?"ref":fe,Lt=J.onChange,yn=J.onClick,bi=ah(J,Cje),Io=mb({accept:A,multiple:c,type:"file",style:{display:"none"},onChange:Xn(rr(Lt,st)),onClick:Xn(rr(yn,g4)),tabIndex:-1},bt,R);return et(et({},Io),bi)}},[R,n,c,st,r]);return et(et({},j),{},{isFocused:V&&!r,getRootProps:m4,getInputProps:v4,rootRef:N,inputRef:R,open:Xn(ne)})}function Oje(e,t){switch(t.type){case"focus":return et(et({},e),{},{isFocused:!0});case"blur":return et(et({},e),{},{isFocused:!1});case"openDialog":return et(et({},gb),{},{isFileDialogActive:!0});case"closeDialog":return et(et({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return et(et({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return et(et({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return et({},gb);default:return e}}function lP(){}const Nje=Q.createContext({mode:void 0,getGizmoId:void 0}),Pl=()=>p.useContext(Nje);function rmt(e,t,n,r,s){const o=Fe(),{getGizmoId:a}=Pl(),[c,l]=p.useState();p.useEffect(()=>{a?a().then(h=>l(h)):l(void 0)},[a]);const u=$c(t),d=_l();return p.useCallback(h=>{const{docsReferencedByURL:m}=vr.getThread(e)??{};if(m!=null)for(const g of h){const{id:v,type:y,handler:x}=g,b=`${y}:${v}`,w=m[b],T=d.getState().files.find(_=>_.tempId===v);if(w!=null&&w!=="failed"&&T){o.success(n.formatMessage(Xg.fileAlreadyAttached),{hasCloseButton:!0});continue}switch(x.type){case"fetch":{L.updateReferencedDocState(e,b,"pending"),pn.uploadFile(d,v,new File([],n.formatMessage(Xg.fileLoading)),Xe.None,r,n,o,{skipUpload:!0,gizmoId:c},s,{contextConnector:y,sourceUrl:g.url,syntheticExtension:null,type:Cn.Link}),Tt.linkMetadataFetchStarted(y),x.tryFetch().then(_=>{if(pn.remove(d,v,"none"),_==null)return null;const{id:k,title:M,connector:I,mimeType:A,url:H,syntheticExtension:q,o365DriveId:F,manifest:N}=_;Tt.linkMetadataFetchSucceeded(y,A),L.updateReferencedDocState(e,b,"fetched");let R=M;I===W.GDRIVE&&(R=q?`${M}.${q}`:M),pn.uploadFile(d,k,new File([],R,{type:A.split(";")[0]}),Xe.Retrieval,r,n,o,{gizmoId:c},s,{contextConnector:I,sourceUrl:H,syntheticExtension:q,type:Cn.Link,o365DriveId:F,manifest:N})}).catch(_=>{Tt.linkMetadataFetchFailed(y,_),o.danger(n.formatMessage(Xg.fileFetchFailed),{hasCloseButton:!0}),L.updateReferencedDocState(e,b,"failed"),pn.remove(d,v,"none")});break}case"prompt":{u.appendMessageIfNotDismissed({connector:y,type:x.message}),L.updateReferencedDocState(e,b,"prompted");break}}}},[e,d,o,n,r,c,s,u])}const Xg=K({fileLoading:{id:"CCC.fileLoading",defaultMessage:"Loading…"},fileFetchFailed:{id:"CCC.fileFetchFailed",defaultMessage:"Unable to fetch file information"},fileAlreadyAttached:{id:"CCC.fileAlreadyAttached",defaultMessage:"This file is already a part of your message."}}),Ije={MessageAction:"z-10",ScrollToBottom:"z-10",PromptTextareaHeader:"z-20",TagGpt:"z-20"},jje=({className:e})=>i.jsxs(jt,{width:"132",height:"108",viewBox:"0 0 132 108",fill:"none",className:e,children:[i.jsx("g",{clipPath:"url(#clip0_3605_64419)",children:i.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.2025 29.3514C10.778 33.2165 8.51524 37.1357 11.8281 49.4995L13.4846 55.6814C16.7975 68.0453 20.7166 70.308 35.1411 66.443L43.3837 64.2344C57.8082 60.3694 60.0709 56.4502 56.758 44.0864L55.1016 37.9044C51.7887 25.5406 47.8695 23.2778 33.445 27.1428L29.3237 28.2471L25.2025 29.3514ZM18.1944 42.7244C18.8572 41.5764 20.325 41.1831 21.4729 41.8459L27.3517 45.24C28.4996 45.9027 28.8929 47.3706 28.2301 48.5185L24.836 54.3972C24.1733 55.5451 22.7054 55.9384 21.5575 55.2757C20.4096 54.613 20.0163 53.1451 20.6791 51.9972L22.8732 48.1969L19.0729 46.0028C17.925 45.3401 17.5317 43.8723 18.1944 42.7244ZM29.4091 56.3843C29.066 55.104 29.8258 53.7879 31.1062 53.4449L40.3791 50.9602C41.6594 50.6172 42.9754 51.377 43.3184 52.6573C43.6615 53.9376 42.9017 55.2536 41.6214 55.5967L32.3485 58.0813C31.0682 58.4244 29.7522 57.6646 29.4091 56.3843Z",fill:"#AFC1FF"})}),i.jsx("g",{clipPath:"url(#clip1_3605_64419)",children:i.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M86.8124 13.4036C81.0973 11.8722 78.5673 13.2649 77.0144 19.0603L68.7322 49.97C67.1793 55.7656 68.5935 58.2151 74.4696 59.7895L97.4908 65.958C103.367 67.5326 105.816 66.1184 107.406 60.1848L115.393 30.379C115.536 29.8456 115.217 29.2959 114.681 29.16C113.478 28.8544 112.435 28.6195 111.542 28.4183C106.243 27.2253 106.22 27.2201 109.449 20.7159C109.73 20.1507 109.426 19.4638 108.816 19.3004L86.8124 13.4036ZM87.2582 28.4311C86.234 28.1567 85.1812 28.7645 84.9067 29.7888C84.6323 30.813 85.2401 31.8658 86.2644 32.1403L101.101 36.1158C102.125 36.3902 103.178 35.7824 103.453 34.7581C103.727 33.7339 103.119 32.681 102.095 32.4066L87.2582 28.4311ZM82.9189 37.2074C83.1934 36.1831 84.2462 35.5753 85.2704 35.8497L100.107 39.8252C101.131 40.0996 101.739 41.1524 101.465 42.1767C101.19 43.201 100.137 43.8088 99.1132 43.5343L84.2766 39.5589C83.2523 39.2844 82.6445 38.2316 82.9189 37.2074ZM83.2826 43.2683C82.2584 42.9939 81.2056 43.6017 80.9311 44.626C80.6567 45.6502 81.2645 46.703 82.2888 46.9775L89.7071 48.9652C90.7313 49.2396 91.7841 48.6318 92.0586 47.6076C92.333 46.5833 91.7252 45.5305 90.7009 45.256L83.2826 43.2683Z",fill:"#7989FF"})}),i.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M40.4004 71.8426C40.4004 57.2141 44.0575 53.5569 61.1242 53.5569H66.0004H70.8766C87.9432 53.5569 91.6004 57.2141 91.6004 71.8426V79.1569C91.6004 93.7855 87.9432 97.4426 70.8766 97.4426H61.1242C44.0575 97.4426 40.4004 93.7855 40.4004 79.1569V71.8426ZM78.8002 67.4995C78.8002 70.1504 76.6512 72.2995 74.0002 72.2995C71.3492 72.2995 69.2002 70.1504 69.2002 67.4995C69.2002 64.8485 71.3492 62.6995 74.0002 62.6995C76.6512 62.6995 78.8002 64.8485 78.8002 67.4995ZM60.7204 70.8597C60.2672 70.2553 59.5559 69.8997 58.8004 69.8997C58.045 69.8997 57.3337 70.2553 56.8804 70.8597L47.2804 83.6597C46.4851 84.72 46.7 86.2244 47.7604 87.0197C48.8208 87.8149 50.3251 87.6 51.1204 86.5397L58.8004 76.2997L66.4804 86.5397C66.8979 87.0962 67.5363 87.4443 68.2303 87.4936C68.9243 87.5429 69.6055 87.2887 70.0975 86.7967L74.8004 82.0938L79.5034 86.7967C80.4406 87.734 81.9602 87.734 82.8975 86.7967C83.8347 85.8595 83.8347 84.3399 82.8975 83.4026L76.4975 77.0026C75.5602 76.0653 74.0406 76.0653 73.1034 77.0026L68.6601 81.4459L60.7204 70.8597Z",fill:"#3C46FF"}),i.jsxs("defs",{children:[i.jsx("clipPath",{id:"clip0_3605_64419",children:i.jsx("rect",{width:"56",height:"56",fill:"white",transform:"translate(0 26.9939) rotate(-15)"})}),i.jsx("clipPath",{id:"clip1_3605_64419",children:i.jsx("rect",{width:"64",height:"64",fill:"white",transform:"translate(69.5645 0.5) rotate(15)"})})]})]}),Rje=({className:e})=>i.jsxs(jt,{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",className:e,children:[i.jsx("rect",{width:"36",height:"36",rx:"6",fill:"#10A37F"}),i.jsx("path",{d:"M15.5 10.5H12.1667C11.2462 10.5 10.5 11.2462 10.5 12.1667V13.5V18M15.5 10.5H23.8333C24.7538 10.5 25.5 11.2462 25.5 12.1667V13.5V18M15.5 10.5V25.5M15.5 25.5H18H23.8333C24.7538 25.5 25.5 24.7538 25.5 23.8333V18M15.5 25.5H12.1667C11.2462 25.5 10.5 24.7538 10.5 23.8333V18M10.5 18H25.5",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]}),Dje=({className:e})=>i.jsxs(jt,{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",className:e,children:[i.jsx("rect",{width:"36",height:"36",rx:"6",fill:"#FF5588"}),i.jsx("path",{d:"M19.6663 9.66663H12.9997C12.5576 9.66663 12.1337 9.84222 11.8212 10.1548C11.5086 10.4673 11.333 10.8913 11.333 11.3333V24.6666C11.333 25.1087 11.5086 25.5326 11.8212 25.8451C12.1337 26.1577 12.5576 26.3333 12.9997 26.3333H22.9997C23.4417 26.3333 23.8656 26.1577 24.1782 25.8451C24.4907 25.5326 24.6663 25.1087 24.6663 24.6666V14.6666L19.6663 9.66663Z",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),i.jsx("path",{d:"M19.667 9.66663V14.6666H24.667",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),i.jsx("path",{d:"M21.3337 18.8334H14.667",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),i.jsx("path",{d:"M21.3337 22.1666H14.667",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),i.jsx("path",{d:"M16.3337 15.5H15.5003H14.667",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]}),Lje=({className:e})=>i.jsxs(jt,{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",className:e,children:[i.jsx("rect",{width:"36",height:"36",rx:"6",fill:"#F8CA27"}),i.jsx("path",{d:"M10.5 14V13.5V12.1667C10.5 11.2462 11.2462 10.5 12.1667 10.5H15.5H23.8333C24.7538 10.5 25.5 11.2462 25.5 12.1667V13.5V14M10.5 14V23.8333C10.5 24.7538 11.2462 25.5 12.1667 25.5H15.5H18H23.8333C24.7538 25.5 25.5 24.7538 25.5 23.8333V14M10.5 14H25.5M14 21.5L16.5 19L19 20.5L22 17.5",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]}),Fje=({className:e})=>i.jsxs(jt,{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",className:e,children:[i.jsx("rect",{width:"36",height:"36",rx:"6",fill:"#B161FD"}),i.jsx("path",{d:"M26.3337 23.8333C26.3337 24.2754 26.1581 24.6993 25.8455 25.0118C25.5329 25.3244 25.109 25.5 24.667 25.5H11.3337C10.8916 25.5 10.4677 25.3244 10.1551 25.0118C9.84259 24.6993 9.66699 24.2754 9.66699 23.8333V12.1667C9.66699 11.7246 9.84259 11.3007 10.1551 10.9882C10.4677 10.6756 10.8916 10.5 11.3337 10.5H15.5003L17.167 13H24.667C25.109 13 25.5329 13.1756 25.8455 13.4882C26.1581 13.8007 26.3337 14.2246 26.3337 14.6667V23.8333Z",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]}),Bje=({className:e})=>i.jsxs(jt,{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",className:e,children:[i.jsx("rect",{width:"36",height:"36",rx:"6",fill:"#0088FF"}),i.jsx("path",{d:"M18.833 9.66663H12.9997C12.5576 9.66663 12.1337 9.84222 11.8212 10.1548C11.5086 10.4673 11.333 10.8913 11.333 11.3333V24.6666C11.333 25.1087 11.5086 25.5326 11.8212 25.8451C12.1337 26.1577 12.5576 26.3333 12.9997 26.3333H22.9997C23.4417 26.3333 23.8656 26.1577 24.1782 25.8451C24.4907 25.5326 24.6663 25.1087 24.6663 24.6666V15.5L18.833 9.66663Z",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),i.jsx("path",{d:"M18.833 9.66663V15.5H24.6663",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]}),Uje=({className:e})=>i.jsxs(jt,{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",className:e,children:[i.jsx("rect",{width:"36",height:"36",rx:"6",fill:"#FF6E3C"}),i.jsx("path",{d:"M21.333 23L26.333 18L21.333 13",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),i.jsx("path",{d:"M14.667 13L9.66699 18L14.667 23",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]}),i6=({clientThreadId:e,rateLimitPopup:t,children:n,disabled:r,highlightTooltip:s=!1})=>{const o=U(),a=Nh(e),c=De(),l=f=>{t!=null&&f&&E.logPopoverHover({type:"rate_limit",location:"file_upload",plan_type:c?.planType??"unknown"})},u=pi(Zt.signUpButtonText),d=!!t;return i.jsx(i.Fragment,{children:d?i.jsx("div",{className:"h-8",children:i.jsxs(z$,{delayDuration:150,onOpenChange:l,children:[i.jsx(q$,{asChild:!0,children:n}),i.jsx(Y$,{children:i.jsx(H$,{$as:K$,side:"left",sideOffset:0,align:"start",alignOffset:-12,className:"max-w-[320px]",children:i.jsx(Vje,{isNewConversation:a,rateLimitPopup:t,signUpButtonText:u})})})]})}):i.jsx(rt,{sideOffset:0,label:r?o.formatMessage({id:"9Wgi7B",defaultMessage:"Attach files is unavailable"}):o.formatMessage({id:"qYwjac",defaultMessage:"Attach files"}),className:"flex",open:s?!0:void 0,side:"left",children:n})})},Vje=({isNewConversation:e=!1,rateLimitPopup:t,signUpButtonText:n})=>{const r=De(),s=yt(),o=vn(),a=xl(),c=Po();if(t==null)return null;const{call_to_action:l,description:u}=t,d=u||i.jsx(S,{...uP.defaultDescription}),f=l?.includes(Zr.GET_PLUS),h=l?.includes(Zr.AUTHENTICATE),m=h&&c;return i.jsxs("div",{className:"p-2 text-sm text-token-text-primary",children:[i.jsx("div",{className:"mb-3",children:d}),f?i.jsx(ce,{size:"small",color:"secondary",onClick:()=>{Os(s,"Rate limited file upload popover"),E.logRateLimitGetPlusButtonClicked({type:"file_upload",location:"popover",plan_type:r?.planType??"unknown",is_hard_block:!1,is_new_conversation:e,hard_block_reason:""})},children:i.jsx(S,{...uP.getPlus})}):null,h?i.jsx(ce,{size:"small",color:"primary",onClick:()=>{o({authType:a?"login":"signup",callback:g=>{a?E.logLogInButtonClicked({location:"File picker rate limit tooltip",provider:g}):E.logSignUpButtonClicked({location:"File picker rate limit tooltip",provider:g})}})},children:a?i.jsx(S,{...Zt.logInButtonText}):i.jsx(S,{...n})}):null,m?i.jsx(ce,{size:"small",color:"secondary",className:"ml-2",onClick:()=>{o({authType:a?"signup":"login",callback:g=>{a?E.logSignUpButtonClicked({location:"File picker rate limit tooltip",provider:g}):E.logLogInButtonClicked({location:"File picker rate limit tooltip",provider:g})}})},children:a?i.jsx(S,{...n}):i.jsx(S,{...Zt.logInButtonText})}):null]})},uP=K({defaultDescription:{id:"U5qAWP",defaultMessage:"You've reached your daily upload limit. Get ChatGPT Plus to unlock more."},getPlus:{id:"TeyLcp",defaultMessage:"Get Plus"}}),c6=Se.button`flex items-center justify-center h-8 w-8 rounded-lg rounded-bl-xl text-token-text-primary dark:text-white ${({includeBorder:e=!0})=>e?"focus-visible:outline-black dark:focus-visible:outline-white ":""} ${({disabled:e})=>e?"opacity-30":"hover:bg-black/10"}`;function smt({clientThreadId:e,getInputProps:t,openFileDialog:n,uploadType:r,icon:s,isDisabled:o=!1,highlightTooltip:a=!1}){const c=U(),l=Kb();o=o||!!l;const u=i.jsx(c6,{disabled:o,onClick:h=>{h.preventDefault(),E.logEvent(P.openFileViewer,{intent:r.toString()}),n()},"aria-label":o?c.formatMessage({id:"PromptFilePicker.attachFilesUnavailable",defaultMessage:"Attach files is unavailable"}):c.formatMessage({id:"PromptFilePicker.attachFiles",defaultMessage:"Attach files"}),children:s}),d=i.jsx("input",{disabled:o,...t({className:"hidden"})}),f=i.jsxs("div",{className:"flex",children:[u,d]});return i.jsx(i6,{disabled:o,clientThreadId:e,rateLimitPopup:l,highlightTooltip:a,children:f})}function Gje({code:e,message:t}){switch(e){case sP.FileTooLarge:return dP.errorFileTooLarge;case sP.TooManyFiles:return E.logEvent(P.uploadedMaxFilesError),dP.errorTooManyFiles;default:return t}}const dP=K({attachImages:{id:"PromptFilePicker.attachImages",defaultMessage:"Attach images"},attachFiles:{id:"PromptFilePicker.attachFiles",defaultMessage:"Attach files"},errorFileTooLarge:{id:"PromptFilePicker.errorFileTooLarge",defaultMessage:"Your file is too large. The maximum file size is {size}MB."},errorTooManyFiles:{id:"PromptFilePicker.errorTooManyFiles",defaultMessage:"You may only upload {maxNum} files at a time."},defaultFileUploadRateLimited:{id:"U5qAWP",defaultMessage:"You've reached your daily upload limit. Get ChatGPT Plus to unlock more."},getPlusButton:{id:"TeyLcp",defaultMessage:"Get Plus"}}),fP=K({dragInstructions:{id:"FileDropZone.dragInstructions",defaultMessage:"Add anything"},dragAllAccepted:{id:"FileDropZone.dragAllAccepted",defaultMessage:"Drop any file here to add it to the conversation"}});function Wje(e){if(!e.accept||Object.keys(e.accept).length===0)return[];const t=[];return Object.values(e.accept).forEach(n=>t.push(...n)),t.sort()}function omt(e){const{className:t,children:n,clientThreadId:r,currentModelConfig:s}=e,o=U(),a=Fe(),c=wl(r),l=Bf(s,c),u=l!==Xe.None,d=N5(C=>C.files),f=(l===Xe.Multimodal?T5:Jf)-d.length,h=f<=0,{getGizmoId:m}=Pl(),{handleFileAccepted:g}=zje(o,Bf(s,c),OR(s,c),"drag",m,pl(s,c)?.attachments),v=Kb(),y=$be(Ebe(s,c)),{getRootProps:x,isDragActive:b}=a6({maxFiles:f,disabled:!u||h||v!=null,noClick:!0,onDropAccepted:g,onDropRejected:C=>Hje(C,o,a,l),multiple:!0,maxSize:K$e,...y}),w=Wje(y);return i.jsxs("div",{...x({className:t}),children:[n,b&&i.jsxs(qje,{children:[i.jsx(jje,{}),i.jsx("h3",{children:i.jsx(S,{...fP.dragInstructions})}),i.jsx("h4",{className:"w-2/3 text-center",children:w.length>0?w.join(", "):i.jsx(S,{...fP.dragAllAccepted})})]})]})}function Hje(e,t,n,r){const{errors:s}=e[0];s.forEach(o=>{const a=Gje(o);typeof a=="string"?n.danger(a,{hasCloseButton:!0}):n.danger(t.formatMessage(a,{size:k5,maxNum:r===Xe.Multimodal?T5:Jf}),{hasCloseButton:!0})})}function zje(e,t,n,r,s,o){const a=Fe(),c=_l();return{handleFileAccepted:p.useCallback(async(u,d)=>{E.logEvent(P.uploadFile,{client:"web",eventSource:r,intent:t.toString()});const f=s!=null?await s():void 0;u.length>0&&u.forEach(h=>{pn.uploadFile(c,ga(h),h,t,n,e,a,{gizmoId:f},o)})},[r,t,s,c,n,e,a,o])}}const qje=Se.div`absolute inset-0 opacity-80 flex gap-2 flex-col justify-center items-center bg-token-main-surface-primary text-token-text-primary`;function Yje({contextConnectorSourceUrl:e,...t}){const n=U(),[r,s]=p.useState({width:0,height:0}),o=r.width/r.height,a=r.width>0&&r.height>0,c=p.useMemo(()=>{if(e!==void 0){let l=new URL(e);return l.protocol!=="https:"&&(l=void 0),l?.toString()}},[e]);return p.useEffect(()=>{if(!t.src)throw new Error("ExpandableImage requires a src");const l=new Image;l.onload=()=>{s({width:l.naturalWidth,height:l.naturalHeight})},l.onerror=()=>{},l.src=t.src},[t.src]),i.jsxs(kh,{children:[i.jsx(Fb,{className:t.className,disabled:!a,children:t.children}),i.jsx(Mh,{children:i.jsxs(Ch,{className:"fixed inset-0 flex items-center justify-center overflow-hidden bg-black/90 radix-state-open:animate-show dark:bg-black/80",children:[i.jsx(Th,{asChild:!0,children:i.jsx("button",{className:"absolute right-4 top-4",children:i.jsx(za,{className:"h-5 w-5 text-gray-100"})})}),i.jsxs(_h,{className:"shadow-xl focus:outline-none radix-state-open:animate-contentShow",children:[i.jsx("div",{className:$("relative max-h-[85vh] max-w-[90vw]"),style:{aspectRatio:o},children:i.jsx("img",{src:t.src,alt:t.alt,className:"h-full w-full object-contain"})}),c&&i.jsx("div",{className:"absolute right-14 top-4",children:i.jsx(rt,{label:n.formatMessage(Kje.openOriginal),children:i.jsx("a",{href:c,target:"_blank",rel:"noreferrer",children:i.jsx(O7,{className:"h-5 w-5 rotate-180 text-gray-100"})})})})]})]})})]})}const Kje=K({openOriginal:{id:"ExpandableImage.openOriginal",defaultMessage:"Open original image"}}),Qje=({className:e,contextConnector:t,extension:n})=>{const r=Xje(t,n);return i.jsx("div",{className:`${e} flex items-center justify-center rounded-md border border-gray-100 bg-gray-50 dark:border-white/10 dark:bg-token-main-surface-secondary`,children:i.jsx(r,{className:"w-[20px]"})})};function Xje(e,t){switch(e){case W.GDRIVE:switch(t){case"doc":case"docx":return ox;case"xls":case"xlsx":return ix;case"ppt":case"pptx":return ax;default:return Ya}case W.O365_BUSINESS:case W.O365_PERSONAL:case W.O365:switch(t){case"doc":case"docx":return uA;case"xls":case"xlsx":return fA;case"ppt":case"pptx":return dA;default:return sx}case W.CONFLUENCE:return rx;case W.JIRA:return nx}}function Zje({fileName:e,icon:t,loadingPercentage:n,contextConnectorInfo:r}){const s=U(),o=n!==void 0&&n<100,a=mo(e),c=r?.syntheticExtension??null;function l(d){if(w1(d))return s.formatMessage(Ko.fileDescImage);switch(a){case"py":return"Python";case"js":case"jsx":return"JavaScript";case"ts":case"tsx":return"TypeScript";case"pdf":return"PDF";case"doc":case"docx":case"txt":return s.formatMessage(Ko.fileDescDocument);case"zip":return s.formatMessage(Ko.fileDescZip);case"xls":case"xlsx":case"csv":return s.formatMessage(Ko.fileDescSpreadsheet);case"ppt":case"pptx":case"key":return s.formatMessage(Ko.fileDescPresentation);default:return s.formatMessage(Ko.fileDescFile)}}const u=r?.contextConnector?i.jsx(xIe,{contextConnector:r.contextConnector,extension:c??a??null}):l(e);return i.jsxs("div",{className:"flex flex-row items-center gap-2",children:[t!=null&&t!==!1?i.jsxs("div",{className:"relative h-10 w-10 shrink-0 overflow-hidden rounded-md border border-token-border-heavy",children:[t,o&&i.jsx(hP,{percentage:n,blurBackground:!0})]}):i.jsx("div",{className:"relative h-10 w-10 shrink-0 overflow-hidden rounded-md",children:o?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:$("inset-0",l6,eRe(e,r?.contextConnector))}),i.jsx(hP,{percentage:r?null:n})]}):i.jsx(Jje,{filename:e,contextConnectorInfo:r})}),i.jsxs("div",{className:"overflow-hidden",children:[i.jsx("div",{className:"truncate font-semibold",children:RR(e,c)}),i.jsx("div",{className:"truncate text-token-text-tertiary",children:u})]})]})}function hP({percentage:e,blurBackground:t=!1}){return i.jsx("div",{className:$("absolute inset-0 flex items-center justify-center text-white",t&&"bg-black/5 backdrop-blur-sm"),children:e?i.jsx(yR,{percentage:e,className:"h-6 w-6"}):i.jsx(In,{className:"h-6 w-6 text-token-text-secondary"})})}const l6="h-10 w-10 flex-shrink-0";function Jje({filename:e,contextConnectorInfo:t,className:n=l6}){if(t)return i.jsx(Qje,{contextConnector:t.contextConnector,extension:t.syntheticExtension??mo(e)??null,className:n});switch(mo(e)){case"py":case"js":case"jsx":case"ts":case"tsx":return i.jsx(Uje,{className:n});case"doc":case"docx":case"txt":case"pdf":return i.jsx(Dje,{className:n});case"zip":return i.jsx(Fje,{className:n});case"ppt":case"pptx":case"key":return i.jsx(Lje,{className:n});case"xls":case"xlsx":case"csv":return i.jsx(Rje,{className:n});default:return i.jsx(Bje,{className:n})}}function eRe(e,t){if(t)return"bg-gray-50 dark:bg-token-main-surface-secondary border rounded-md border-gray-100 dark:border-white/10";switch(mo(e)){case"py":case"js":case"jsx":case"ts":case"tsx":return"bg-[#FF6E3C]";case"doc":case"docx":case"txt":case"pdf":return"bg-[#FF5588]";case"zip":return"bg-[#B161FD]";case"ppt":case"pptx":case"key":return"bg-[#F8CA27]";case"xls":case"xlsx":case"csv":return"bg-[#10A37F]";default:return"bg-[#0088FF]"}}const Ko=K({fileDescDocument:{id:"FileDataView.fileDescDocument",defaultMessage:"Document"},fileDescZip:{id:"FileDataView.fileDescZip",defaultMessage:"Zip Archive"},fileDescSpreadsheet:{id:"FileDataView.fileDescSpreadsheet",defaultMessage:"Spreadsheet"},fileDescPresentation:{id:"FileDataView.fileDescPresentation",defaultMessage:"Presentation"},fileDescImage:{id:"FileDataView.fileDescImage",defaultMessage:"Image"},fileDescFile:{id:"FileDataView.fileDescFile",defaultMessage:"File"}});function oo(e){return typeof window>"u"?!1:typeof e!="string"}function tRe({downloadLink:e}){const t=p.useCallback(()=>{const n=document.createElement("a");n.href=e,n.setAttribute("download",e.split("/").pop()??"downloaded_file"),document.body.appendChild(n),n.click(),document.body.removeChild(n)},[e]);return i.jsx("button",{onClick:t,children:i.jsx(N7,{className:"icon-sm m-1.5"})})}function nRe({onRemoveFileClick:e,file:t,fileId:n,gizmoId:r,loadingPercentage:s,contextConnectorInfo:o,width:a="normal",alwaysShowData:c=!1,showDownloadButton:l=!1,downloadLink:u="",borderRadius:d="xl",useV2Style:f=!1}){const h=U(),m=s!==void 0&&s<100,g=oo(t)?t.name:t,v=oo(t)&&t?.type.startsWith("image/")||w1(g)&&n!=null,y=v&&i.jsx(d6,{file:t,fileId:n,gizmoId:r,contextConnectorInfo:o}),x=v?void 0:o?.sourceUrl,w=oo(t)&&t?.type==="text/plain"&&!c&&!o&&z.checkGate("1508312659"),C=sRe({file:t,isExpandableTextFile:w}),T=!e,_=i.jsxs("div",{className:$("p-2",a==="wide"?"w-80":"w-60"),children:[i.jsx(Zje,{fileName:g,icon:y,loadingPercentage:s,contextConnectorInfo:o}),l&&u!==""&&i.jsx("div",{className:"absolute right-1 top-1",children:i.jsx(tRe,{downloadLink:u})})]});return i.jsxs("div",{className:"group relative inline-block text-sm text-token-text-primary",children:[i.jsx(iRe,{showTooltip:T,sourceUrl:x,className:$("relative overflow-hidden border border-token-border-light bg-token-main-surface-primary",d==="xl"&&"rounded-xl",d==="2xl"&&"rounded-2xl"),children:v&&!c?i.jsxs("div",{className:"h-14 w-14",children:[y,m&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/5 text-white",children:i.jsx(yR,{percentage:s,className:"h-6 w-6"})})]}):w&&C?.length?i.jsx(oRe,{trigger:_,content:C}):_}),e!=null&&i.jsx("button",{onClick:e,className:$("absolute right-1 top-1 -translate-y-1/2 translate-x-1/2 rounded-full transition-colors",f?"border-[3px] border-[#f4f4f4] bg-black p-[2px] text-white dark:border-token-main-surface-secondary dark:bg-white dark:text-black":"border border-token-border-heavy bg-token-main-surface-secondary p-0.5 text-token-text-primary hover:opacity-100 group-hover:opacity-100 md:opacity-0"),children:i.jsx(rt,{label:h.formatMessage(h6.removeFile),side:"top",sideOffset:4,children:i.jsx(hA,{className:"icon-xs"})})})]})}const u6=Se.span`flex items-center h-full w-full justify-center bg-gray-500 dark:bg-gray-700 bg-cover bg-center text-white`;function rRe(){return i.jsx(u6,{})}function d6({file:e,fileId:t,gizmoId:n,contextConnectorInfo:r}){const s=U(),o=oo(e)?e.name:e,a=f6(oo(e)?e:null,o,t,n,r);return a==null?i.jsx(rRe,{}):i.jsx(Yje,{src:a,alt:s.formatMessage(h6.userUploadedImage),contextConnectorSourceUrl:r?.sourceUrl,className:"h-full w-full",children:i.jsx(u6,{style:{backgroundImage:`url(${a})`}})})}function sRe({file:e,isExpandableTextFile:t}){const[n,r]=p.useState(void 0);return p.useEffect(()=>{if(t&&oo(e)){const s=new FileReader;s.addEventListener("load",()=>{const o=s.result;r(typeof o=="string"?o:void 0)}),s.readAsText(e)}},[t,e]),n}function oRe({trigger:e,content:t}){return i.jsxs(kh,{children:[i.jsx(Fb,{className:"h-full w-full text-left",children:e}),i.jsx(Mh,{children:i.jsxs(Ch,{className:"fixed inset-0 flex items-center justify-center overflow-hidden bg-black/90 radix-state-open:animate-show dark:bg-black/80",children:[i.jsx(Th,{asChild:!0,children:i.jsx("button",{className:"absolute right-4 top-4",children:i.jsx(za,{className:"h-5 w-5 text-gray-100"})})}),i.jsx(_h,{className:"shadow-xl focus:outline-none radix-state-open:animate-contentShow",children:i.jsx("div",{className:$("relative max-h-[85vh] max-w-[90vw] overflow-scroll bg-white p-10 dark:bg-gray-800"),children:i.jsx(f1,{children:t})})})]})})]})}const bu=new Map,aRe=100;function f6(e,t,n,r,s){const[o,a]=p.useState(void 0);return p.useEffect(()=>{async function c(l){try{const u=bu.get(l);if(u){a(u);return}const d=await X.getFileDownloadLink(l,r);d.status===ur.Success?(bu.size>aRe&&bu.clear(),bu.set(l,d.download_url),a(d.download_url)):ue.addError(`Error fetching URL for file ${l}: ${d.status}`)}catch(u){ue.addError(new Error(`Error fetching URL for file ${l})`,{cause:u}))}}if(s)n&&c(n);else if(e?.type.startsWith("image/")&&!s){const l=new FileReader;l.addEventListener("load",()=>{const u=l.result;a(typeof u=="string"?u:void 0)}),l.readAsDataURL(e)}else w1(t)&&n!=null?c(n):a(void 0)},[e,t,n,r,s]),o}const h6=K({removeFile:{id:"FileTile.removeFile",defaultMessage:"Remove file"},userUploadedImage:{id:"FileTile.userUploadedImage",defaultMessage:"User uploaded image"}});function iRe({showTooltip:e,sourceUrl:t,children:n,className:r}){const s=Hye();if(!t)return i.jsx("div",{className:r,children:n});const o=i.jsx("a",{href:t,target:"_blank",rel:"noreferrer",children:i.jsx("div",{className:r,children:n})});return!e||!s?o:i.jsx(rt,{wide:!0,interactive:!0,sideOffset:0,label:i.jsxs("a",{href:t,target:"_blank",className:"flex w-full items-center gap-2",rel:"noreferrer",children:[i.jsx("p",{className:"line-clamp-1 flex-1 text-ellipsis",children:cRe(t)}),i.jsx(to,{className:"icon-sm"})]}),side:"top",children:o})}function cRe(e){return e.split("").join("​")}const lRe=Object.freeze(Object.defineProperty({__proto__:null,ImageThumbnail:d6,default:nRe,isFile:oo,useImageUri:f6},Symbol.toStringTag,{value:"Module"})),amt=e=>Rh([$e.GizmoMagicCreate,$e.GizmoTest],e?.kind),uRe=e=>Rh([$e.GizmoInteraction,$e.GizmoMagicCreate,$e.GizmoTest],e?.kind);function dRe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}function vb(e,t){return Array(t+1).join(e)}function fRe(e){return e.replace(/^\n*/,"")}function hRe(e){for(var t=e.length;t>0&&e[t-1]===`
`;)t--;return e.substring(0,t)}var pRe=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function CS(e){return _S(e,pRe)}var p6=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function m6(e){return _S(e,p6)}function mRe(e){return v6(e,p6)}var g6=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function gRe(e){return _S(e,g6)}function vRe(e){return v6(e,g6)}function _S(e,t){return t.indexOf(e.nodeName)>=0}function v6(e,t){return e.getElementsByTagName&&t.some(function(n){return e.getElementsByTagName(n).length})}var sn={};sn.paragraph={filter:"p",replacement:function(e){return`

`+e+`

`}};sn.lineBreak={filter:"br",replacement:function(e,t,n){return n.br+`
`}};sn.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(e,t,n){var r=Number(t.nodeName.charAt(1));if(n.headingStyle==="setext"&&r<3){var s=vb(r===1?"=":"-",e.length);return`

`+e+`
`+s+`

`}else return`

`+vb("#",r)+" "+e+`

`}};sn.blockquote={filter:"blockquote",replacement:function(e){return e=e.replace(/^\n+|\n+$/g,""),e=e.replace(/^/gm,"> "),`

`+e+`

`}};sn.list={filter:["ul","ol"],replacement:function(e,t){var n=t.parentNode;return n.nodeName==="LI"&&n.lastElementChild===t?`
`+e:`

`+e+`

`}};sn.listItem={filter:"li",replacement:function(e,t,n){e=e.replace(/^\n+/,"").replace(/\n+$/,`
`).replace(/\n/gm,`
    `);var r=n.bulletListMarker+"   ",s=t.parentNode;if(s.nodeName==="OL"){var o=s.getAttribute("start"),a=Array.prototype.indexOf.call(s.children,t);r=(o?Number(o)+a:a+1)+".  "}return r+e+(t.nextSibling&&!/\n$/.test(e)?`
`:"")}};sn.indentedCodeBlock={filter:function(e,t){return t.codeBlockStyle==="indented"&&e.nodeName==="PRE"&&e.firstChild&&e.firstChild.nodeName==="CODE"},replacement:function(e,t,n){return`

    `+t.firstChild.textContent.replace(/\n/g,`
    `)+`

`}};sn.fencedCodeBlock={filter:function(e,t){return t.codeBlockStyle==="fenced"&&e.nodeName==="PRE"&&e.firstChild&&e.firstChild.nodeName==="CODE"},replacement:function(e,t,n){for(var r=t.firstChild.getAttribute("class")||"",s=(r.match(/language-(\S+)/)||[null,""])[1],o=t.firstChild.textContent,a=n.fence.charAt(0),c=3,l=new RegExp("^"+a+"{3,}","gm"),u;u=l.exec(o);)u[0].length>=c&&(c=u[0].length+1);var d=vb(a,c);return`

`+d+s+`
`+o.replace(/\n$/,"")+`
`+d+`

`}};sn.horizontalRule={filter:"hr",replacement:function(e,t,n){return`

`+n.hr+`

`}};sn.inlineLink={filter:function(e,t){return t.linkStyle==="inlined"&&e.nodeName==="A"&&e.getAttribute("href")},replacement:function(e,t){var n=t.getAttribute("href"),r=ih(t.getAttribute("title"));return r&&(r=' "'+r+'"'),"["+e+"]("+n+r+")"}};sn.referenceLink={filter:function(e,t){return t.linkStyle==="referenced"&&e.nodeName==="A"&&e.getAttribute("href")},replacement:function(e,t,n){var r=t.getAttribute("href"),s=ih(t.getAttribute("title"));s&&(s=' "'+s+'"');var o,a;switch(n.linkReferenceStyle){case"collapsed":o="["+e+"][]",a="["+e+"]: "+r+s;break;case"shortcut":o="["+e+"]",a="["+e+"]: "+r+s;break;default:var c=this.references.length+1;o="["+e+"]["+c+"]",a="["+c+"]: "+r+s}return this.references.push(a),o},references:[],append:function(e){var t="";return this.references.length&&(t=`

`+this.references.join(`
`)+`

`,this.references=[]),t}};sn.emphasis={filter:["em","i"],replacement:function(e,t,n){return e.trim()?n.emDelimiter+e+n.emDelimiter:""}};sn.strong={filter:["strong","b"],replacement:function(e,t,n){return e.trim()?n.strongDelimiter+e+n.strongDelimiter:""}};sn.code={filter:function(e){var t=e.previousSibling||e.nextSibling,n=e.parentNode.nodeName==="PRE"&&!t;return e.nodeName==="CODE"&&!n},replacement:function(e){if(!e)return"";e=e.replace(/\r?\n|\r/g," ");for(var t=/^`|^ .*?[^ ].* $|`$/.test(e)?" ":"",n="`",r=e.match(/`+/gm)||[];r.indexOf(n)!==-1;)n=n+"`";return n+t+e+t+n}};sn.image={filter:"img",replacement:function(e,t){var n=ih(t.getAttribute("alt")),r=t.getAttribute("src")||"",s=ih(t.getAttribute("title")),o=s?' "'+s+'"':"";return r?"!["+n+"]("+r+o+")":""}};function ih(e){return e?e.replace(/(\n+\s*)+/g,`
`):""}function y6(e){this.options=e,this._keep=[],this._remove=[],this.blankRule={replacement:e.blankReplacement},this.keepReplacement=e.keepReplacement,this.defaultRule={replacement:e.defaultReplacement},this.array=[];for(var t in e.rules)this.array.push(e.rules[t])}y6.prototype={add:function(e,t){this.array.unshift(t)},keep:function(e){this._keep.unshift({filter:e,replacement:this.keepReplacement})},remove:function(e){this._remove.unshift({filter:e,replacement:function(){return""}})},forNode:function(e){if(e.isBlank)return this.blankRule;var t;return(t=Zg(this.array,e,this.options))||(t=Zg(this._keep,e,this.options))||(t=Zg(this._remove,e,this.options))?t:this.defaultRule},forEach:function(e){for(var t=0;t<this.array.length;t++)e(this.array[t],t)}};function Zg(e,t,n){for(var r=0;r<e.length;r++){var s=e[r];if(yRe(s,t,n))return s}}function yRe(e,t,n){var r=e.filter;if(typeof r=="string"){if(r===t.nodeName.toLowerCase())return!0}else if(Array.isArray(r)){if(r.indexOf(t.nodeName.toLowerCase())>-1)return!0}else if(typeof r=="function"){if(r.call(e,t,n))return!0}else throw new TypeError("`filter` needs to be a string, array, or function")}function bRe(e){var t=e.element,n=e.isBlock,r=e.isVoid,s=e.isPre||function(f){return f.nodeName==="PRE"};if(!(!t.firstChild||s(t))){for(var o=null,a=!1,c=null,l=pP(c,t,s);l!==t;){if(l.nodeType===3||l.nodeType===4){var u=l.data.replace(/[ \r\n\t]+/g," ");if((!o||/ $/.test(o.data))&&!a&&u[0]===" "&&(u=u.substr(1)),!u){l=Jg(l);continue}l.data=u,o=l}else if(l.nodeType===1)n(l)||l.nodeName==="BR"?(o&&(o.data=o.data.replace(/ $/,"")),o=null,a=!1):r(l)||s(l)?(o=null,a=!0):o&&(a=!1);else{l=Jg(l);continue}var d=pP(c,l,s);c=l,l=d}o&&(o.data=o.data.replace(/ $/,""),o.data||Jg(o))}}function Jg(e){var t=e.nextSibling||e.parentNode;return e.parentNode.removeChild(e),t}function pP(e,t,n){return e&&e.parentNode===t||n(t)?t.nextSibling||t.parentNode:t.firstChild||t.nextSibling||t.parentNode}var b6=typeof window<"u"?window:{};function xRe(){var e=b6.DOMParser,t=!1;try{new e().parseFromString("","text/html")&&(t=!0)}catch{}return t}function wRe(){var e=function(){};return SRe()?e.prototype.parseFromString=function(t){var n=new window.ActiveXObject("htmlfile");return n.designMode="on",n.open(),n.write(t),n.close(),n}:e.prototype.parseFromString=function(t){var n=document.implementation.createHTMLDocument("");return n.open(),n.write(t),n.close(),n},e}function SRe(){var e=!1;try{document.implementation.createHTMLDocument("").open()}catch{window.ActiveXObject&&(e=!0)}return e}var CRe=xRe()?b6.DOMParser:wRe();function _Re(e,t){var n;if(typeof e=="string"){var r=TRe().parseFromString('<x-turndown id="turndown-root">'+e+"</x-turndown>","text/html");n=r.getElementById("turndown-root")}else n=e.cloneNode(!0);return bRe({element:n,isBlock:CS,isVoid:m6,isPre:t.preformattedCode?kRe:null}),n}var ev;function TRe(){return ev=ev||new CRe,ev}function kRe(e){return e.nodeName==="PRE"||e.nodeName==="CODE"}function MRe(e,t){return e.isBlock=CS(e),e.isCode=e.nodeName==="CODE"||e.parentNode.isCode,e.isBlank=ERe(e),e.flankingWhitespace=PRe(e,t),e}function ERe(e){return!m6(e)&&!gRe(e)&&/^\s*$/i.test(e.textContent)&&!mRe(e)&&!vRe(e)}function PRe(e,t){if(e.isBlock||t.preformattedCode&&e.isCode)return{leading:"",trailing:""};var n=$Re(e.textContent);return n.leadingAscii&&mP("left",e,t)&&(n.leading=n.leadingNonAscii),n.trailingAscii&&mP("right",e,t)&&(n.trailing=n.trailingNonAscii),{leading:n.leading,trailing:n.trailing}}function $Re(e){var t=e.match(/^(([ \t\r\n]*)(\s*))(?:(?=\S)[\s\S]*\S)?((\s*?)([ \t\r\n]*))$/);return{leading:t[1],leadingAscii:t[2],leadingNonAscii:t[3],trailing:t[4],trailingNonAscii:t[5],trailingAscii:t[6]}}function mP(e,t,n){var r,s,o;return e==="left"?(r=t.previousSibling,s=/ $/):(r=t.nextSibling,s=/^ /),r&&(r.nodeType===3?o=s.test(r.nodeValue):n.preformattedCode&&r.nodeName==="CODE"?o=!1:r.nodeType===1&&!CS(r)&&(o=s.test(r.textContent))),o}var ARe=Array.prototype.reduce,ORe=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function ch(e){if(!(this instanceof ch))return new ch(e);var t={rules:sn,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(n,r){return r.isBlock?`

`:""},keepReplacement:function(n,r){return r.isBlock?`

`+r.outerHTML+`

`:r.outerHTML},defaultReplacement:function(n,r){return r.isBlock?`

`+n+`

`:n}};this.options=dRe({},t,e),this.rules=new y6(this.options)}ch.prototype={turndown:function(e){if(!jRe(e))throw new TypeError(e+" is not a string, or an element/document/fragment node.");if(e==="")return"";var t=x6.call(this,new _Re(e,this.options));return NRe.call(this,t)},use:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.use(e[t]);else if(typeof e=="function")e(this);else throw new TypeError("plugin must be a Function or an Array of Functions");return this},addRule:function(e,t){return this.rules.add(e,t),this},keep:function(e){return this.rules.keep(e),this},remove:function(e){return this.rules.remove(e),this},escape:function(e){return ORe.reduce(function(t,n){return t.replace(n[0],n[1])},e)}};function x6(e){var t=this;return ARe.call(e.childNodes,function(n,r){r=new MRe(r,t.options);var s="";return r.nodeType===3?s=r.isCode?r.nodeValue:t.escape(r.nodeValue):r.nodeType===1&&(s=IRe.call(t,r)),w6(n,s)},"")}function NRe(e){var t=this;return this.rules.forEach(function(n){typeof n.append=="function"&&(e=w6(e,n.append(t.options)))}),e.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function IRe(e){var t=this.rules.forNode(e),n=x6.call(this,e),r=e.flankingWhitespace;return(r.leading||r.trailing)&&(n=n.trim()),r.leading+t.replacement(n,e,this.options)+r.trailing}function w6(e,t){var n=hRe(e),r=fRe(t),s=Math.max(e.length-n.length,t.length-r.length),o=`

`.substring(0,s);return n+o+r}function jRe(e){return e!=null&&(typeof e=="string"||e.nodeType&&(e.nodeType===1||e.nodeType===9||e.nodeType===11))}var gP=/highlight-(?:text|source)-([a-z0-9]+)/;function RRe(e){e.addRule("highlightedCodeBlock",{filter:function(t){var n=t.firstChild;return t.nodeName==="DIV"&&gP.test(t.className)&&n&&n.nodeName==="PRE"},replacement:function(t,n,r){var s=n.className||"",o=(s.match(gP)||[null,""])[1];return`

`+r.fence+o+`
`+n.firstChild.textContent+`
`+r.fence+`

`}})}function DRe(e){e.addRule("strikethrough",{filter:["del","s","strike"],replacement:function(t){return"~"+t+"~"}})}var LRe=Array.prototype.indexOf,FRe=Array.prototype.every,Ra={};Ra.tableCell={filter:["th","td"],replacement:function(e,t){return S6(e,t)}};Ra.tableRow={filter:"tr",replacement:function(e,t){var n="",r={left:":--",right:"--:",center:":-:"};if(TS(t))for(var s=0;s<t.childNodes.length;s++){var o="---",a=(t.childNodes[s].getAttribute("align")||"").toLowerCase();a&&(o=r[a]||o),n+=S6(o,t.childNodes[s])}return`
`+e+(n?`
`+n:"")}};Ra.table={filter:function(e){return e.nodeName==="TABLE"&&TS(e.rows[0])},replacement:function(e){return e=e.replace(`

`,`
`),`

`+e+`

`}};Ra.tableSection={filter:["thead","tbody","tfoot"],replacement:function(e){return e}};function TS(e){var t=e.parentNode;return t.nodeName==="THEAD"||t.firstChild===e&&(t.nodeName==="TABLE"||BRe(t))&&FRe.call(e.childNodes,function(n){return n.nodeName==="TH"})}function BRe(e){var t=e.previousSibling;return e.nodeName==="TBODY"&&(!t||t.nodeName==="THEAD"&&/^\s*$/i.test(t.textContent))}function S6(e,t){var n=LRe.call(t.parentNode.childNodes,t),r=" ";return n===0&&(r="| "),r+e+" |"}function URe(e){e.keep(function(n){return n.nodeName==="TABLE"&&!TS(n.rows[0])});for(var t in Ra)e.addRule(t,Ra[t])}function VRe(e){e.addRule("taskListItems",{filter:function(t){return t.type==="checkbox"&&t.parentNode.nodeName==="LI"},replacement:function(t,n){return(n.checked?"[x]":"[ ]")+" "}})}function GRe(e){e.use([RRe,DRe,URe,VRe])}function vP(e){const t={...e};for(const n of Object.keys(t))t[n]=Math.round(t[n]);return t}function sc(e,t){for(;e;){if(e instanceof HTMLElement&&e.dataset[t]!=null)return{node:e,dataValue:e.dataset[t]};e=e.parentNode}return{node:void 0,dataValue:void 0}}const tv={clientRect:void 0,isCollapsed:void 0,textContent:void 0,documentFragment:void 0,selection:void 0},C6=new ch;C6.use(GRe);function WRe(e){const n=e.getRangeAt(0).cloneContents(),r=document.createElement("div");return r.appendChild(n),C6.turndown(r.innerHTML)}function HRe(e){const[{clientRect:t,isCollapsed:n,textContent:r,documentFragment:s,selection:o},a]=p.useState(tv);return F$(()=>{const c=()=>{setTimeout(()=>{let l;const u=window.getSelection(),d={};if(u==null||!u.rangeCount){a(tv);return}const f=u.getRangeAt(0);if(f==null){a(tv);return}const h=f.cloneContents();d.documentFragment=h,d.textContent=WRe(u);const m=f.getClientRects();if(m.length===0&&f.commonAncestorContainer!=null&&f.commonAncestorContainer instanceof HTMLElement){const g=f.commonAncestorContainer;l=vP(g.getBoundingClientRect().toJSON())}else{if(m.length<1)return;l=vP(m[0].toJSON())}d.clientRect=l,d.isCollapsed=f.collapsed,d.selection=u,a(d)},0)};return window.addEventListener("mouseup",c),()=>{window.removeEventListener("mouseup",c)}},[]),p.useEffect(()=>{const c=l=>{const u=window.getSelection(),d=u?.toString(),f=L.getServerThreadId(e),{dataValue:h}=sc(u?.anchorNode,"messageAuthorRole"),{dataValue:m}=sc(u?.anchorNode,"messageId");!d||!m||!f||!h||h!=="assistant"||X.submitImplicitMessageFeedback({source:"keyboard",type:"copy",messageId:m,serverThreadId:f,selectedText:d,location:"selection"})};return document.addEventListener("copy",c),()=>{document.removeEventListener("copy",c)}},[e]),{clientRect:t,isCollapsed:n,textContent:r,documentFragment:s,selection:o}}const zRe="agent-turn",imt=[$e.PrimaryAssistant,$e.GizmoInteraction];function qRe(e){return ac.createPortal(e.children,e.mount??document.body)}function YRe({messageId:e,anchorNode:t,clientRect:n,onClick:r}){const s=U(),o=()=>{r(e)};if(!t)return null;const a=t.closest(`.${zRe}`);if(!a)return null;const c=t.getBoundingClientRect();return i.jsx(qRe,{mount:a,children:i.jsx("div",{className:"absolute",style:{top:t.offsetTop-36+n.top-c.top,left:n.left-c.left,width:n.width,height:n.height},children:i.jsx(rt,{label:s.formatMessage(QRe.replyTooltip),side:"top",children:i.jsx(ce,{size:"small",color:"secondary",className:"shadow-lg",onClick:o,children:i.jsx(I7,{className:"icon-md"})})})})})}const KRe=3;function cmt({clientThreadId:e,onTargetedReply:t}){const{clientRect:n,isCollapsed:r,textContent:s,selection:o}=HRe(e),{dataValue:a}=sc(o?.anchorNode,"messageAuthorRole"),{node:c,dataValue:l}=sc(o?.anchorNode,"messageId"),{dataValue:u}=sc(o?.focusNode,"messageId"),d=!u||l===u,f=s?.trim(),h=f?.length??0,m=g=>{f!==void 0&&t({targetedReply:{type:"text",label:f,createNewCompletionParams:v=>{const y=SF(f);return{...v,messageMetadata:{...v.messageMetadata,targeted_reply:f},appendMessages:v.appendMessages==null?[y]:[...v.appendMessages,y]}},onCreateCompletion:({serverThreadId:v,currentLeafId:y})=>{E.logEvent(P.targetedReplySubmitted,{conversationId:v,currentLeafId:y})},onCleared:({serverThreadId:v,currentLeafId:y})=>{E.logEvent(P.targetedReplyCleared,{conversationId:v,currentLeafId:y})}},messageId:g})};return n==null||r||h<KRe||!d||a!=="assistant"?null:i.jsx(YRe,{messageId:l??"",anchorNode:c,clientRect:n,onClick:m})}const QRe=K({replyTooltip:{id:"targetedReply.replyTooltip",defaultMessage:"Reply"}});function XRe({hasConnectors:e}){const{eligible:t,markAsViewed:n}=Ue(Ee.ContextConnectors),{activeModals:r}=we(),s=U();return i.jsx(Qp,{announcementKey:Ee.ContextConnectors,side:"top",show:t&&e&&r.size===0,title:s.formatMessage(yP.connectApps),onDismiss:n,sideOffset:32,theme:"bright",description:s.formatMessage(yP.description),children:i.jsx("div",{})})}const yP=K({connectApps:{id:"ContextConnectorAnnouncementTooltipContent.connectApps",defaultMessage:"Connect Apps"},description:{id:"ContextConnectorAnnouncementTooltipContent.description",defaultMessage:"Connect apps to access files in ChatGPT, like docs and spreadsheets."}}),ZRe=(e,t)=>`${e}:${t}`,_6=wh((e,t)=>({async getToken(n,r){const s=ZRe(n,r),o=t()._tokens[s];if(o)try{const c=await o;if(Date.now()+30*60*1e3<c.expires_at*1e3)return c.access_token}catch{}const a=X.getConnectorAccessTokenWithScope(n,r);return e(c=>({...c,_tokens:{...c._tokens,[s]:a}})),a.then(c=>c.access_token)},_tokens:{}}));async function JRe(e,t,n,r){if(n.type==="business"){const u=new URL(n.baseUrl);t=await _6.getState().getToken(W.O365_BUSINESS,`${u.origin}/.default`)}const s=e3e(r,n.baseUrl),o=new URLSearchParams({filePicker:JSON.stringify(s)}),a=`${n.parsedUrl}?${o}`,c=e.document.createElement("form");c.setAttribute("action",a),c.setAttribute("method","POST");const l=e.document.createElement("input");l.setAttribute("type","hidden"),l.setAttribute("name","access_token"),l.setAttribute("value",t),c.appendChild(l),e.document.body.append(c),c.submit()}function e3e(e,t){return{sdk:"8.0",messaging:{channelId:e,origin:location.origin},authentication:{},entry:{sharePoint:{byPath:{list:t}}},typesAndSources:{mode:"files"},selection:{mode:"multiple"},search:{enabled:!0}}}function t3e(e,t,n,r,s,o){function a(c){if(c?.source!==t)return;const l=c.data;if(l.type==="initialize"&&l.channelId===n){Tt.filePickerLoaded(o);const u=c.ports[0],f=r3e(e,async h=>{if(u.removeEventListener("message",f),u.close(),t.close(),h!=null){const m=await Promise.all(h.map(g=>n3e(g,e,s)));r({type:"pick",docs:m})}else r({type:"cancel"})},u,o);u.addEventListener("message",f),u.start(),u.postMessage({type:"activate"})}}window.addEventListener("message",a)}async function n3e(e,t,n){let r=`https://graph.microsoft.com/v1.0/drives/${encodeURIComponent(e.parentReference.driveId)}/items/${encodeURIComponent(e.id)}`;n.type==="personal"&&(r=`https://api.onedrive.com/v1.0/drives/${encodeURIComponent(e.parentReference.driveId)}/items/${encodeURIComponent(e.id)}`);const o=await(await fetch(r,{method:"GET",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).json();return{connector:n.type==="personal"?W.O365_PERSONAL:W.O365_BUSINESS,id:e.id,title:o.name??"",mimeType:o.file?.mimeType??"",url:o.webUrl??"",syntheticExtension:null,o365DriveId:e.parentReference.driveId}}function r3e(e,t,n,r){return async function(o){const a=o.data;if(a.type==="notification"||a.type!=="command")return;const c=a.data;switch(n.postMessage({type:"acknowledge",id:o.data.id}),c.command){case"authenticate":{r===W.O365_BUSINESS&&(e=await _6.getState().getToken(r,`${c.resource}/.default`)),n.postMessage({type:"result",id:o.data.id,data:{result:"token",token:e}});break}case"close":{t(null);break}case"pick":{try{t(c.items),n.postMessage({type:"result",id:o.data.id,data:{result:"success"}})}catch(l){n.postMessage({type:"result",id:o.data.id,data:{result:"error",error:{code:"unusableItem",message:l.message}}})}break}default:{n.postMessage({type:"result",id:o.data.id,data:{result:"error",error:{code:"unsupportedCommand",message:c.command}}});break}}}}const s3e=Q.memo(function({type:t,onClose:n,uploadPickedFile:r}){const{connectorConfig:s}=Jp(),o=t?s.get(t):null;return!o?.onedrive_endpoint_hint||!o.access_token?null:i.jsx(o3e,{onClose:n,accessToken:o?.access_token,oneDriveURL:o?.onedrive_endpoint_hint,uploadPickedFile:r})});function o3e({onClose:e,accessToken:t,oneDriveURL:n,uploadPickedFile:r}){const{current:s}=p.useRef(new WeakMap),o=n.type==="personal"?W.O365_PERSONAL:W.O365_BUSINESS;return i.jsx(kh,{open:!0,onOpenChange:a=>{a||e()},children:i.jsx(Mh,{children:i.jsx(Ch,{className:"fixed inset-0 flex items-center justify-center bg-black/50 dark:bg-black/80",children:i.jsx(_h,{className:"flex h-full max-h-[600px] w-full max-w-[1300px] items-center justify-center",onPointerDownOutside:()=>{Tt.filePickerCancelled(o)},children:i.jsx("iframe",{className:"mx-[32px] my-[32px] h-full w-full",src:"about:blank",ref:a=>{const c=a?.contentWindow;if(a==null||c==null||s.has(a))return;s.set(a,!0);const l=Lr();Tt.filePickerStarted(o),JRe(c,t,n,l),t3e(t,c,l,u=>{switch(u.type){case"pick":Tt.filePickerPicked(o,u.docs.length),u.docs.forEach(d=>r(d,o));break;case"cancel":Tt.filePickerCancelled(o);break}e()},n,o)}})})})})})}function T6(e){switch(e){case W.GDRIVE:return Ya;case W.O365_BUSINESS:case W.O365_PERSONAL:case W.O365:return pA;case W.CONFLUENCE:return rx;case W.JIRA:return nx}}let nv=null;function k6(e){return nv==null&&(nv=a3e().then(()=>(gapi.client.setToken({access_token:e}),gapi.client.init({apiKey:RL,scope:"https://www.googleapis.com/auth/drive.file",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"]})))),nv}function a3e(){return new Promise((e,t)=>{const n=document.createElement("script");n.src="https://apis.google.com/js/api.js",n.onload=e,n.onerror=t,document.documentElement.appendChild(n)}).then(()=>Promise.all([new Promise(e=>gapi.load("client",e)),new Promise(e=>gapi.load("client:picker",e))]))}function bP({entry:e,onClick:t}){const{connectorConfig:n}=Jp();p.useEffect(()=>{if(!open||e.type!==W.GDRIVE)return;const c=n.get(W.GDRIVE)?.access_token;c&&k6(c)},[n,e.type]);const r=T6(e.type),s=U(),o=e.access_token?xP.uploadFromMessage:xP.signinWithMessage;return i.jsx(ie.Item,{onClick:t,icon:r,children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx(S,{...o,values:{connectorName:Ml(e.type,s)}}),e.type===W.O365_BUSINESS&&i.jsx("div",{className:"text-s text-token-text-tertiary",children:i.jsx(S,{...wS.includesSharePoint})})]})},e.id)}const xP=K({signinWithMessage:{id:"ContextConnectorPickerDropdownItem.signInWithMessage",defaultMessage:"Connect to {connectorName}"},uploadFromMessage:{id:"ContextConnectorPickerDropdownItem.uploadWithMessage",defaultMessage:"Add from {connectorName}"}});function i3e({clientThreadId:e,icon:t,setOpen:n,isDisabled:r=!1,highlightTooltip:s=!1}){const o=Kb(),a=U();return r=r||!!o,i.jsxs(i.Fragment,{children:[i.jsx(ie.Trigger,{className:"m-0 h-0 w-0 border-none bg-transparent p-0"}),i.jsx(i6,{clientThreadId:e,rateLimitPopup:o,highlightTooltip:s,disabled:r,children:i.jsx(c6,{disabled:r,"aria-disabled":r,"aria-label":r?a.formatMessage({id:"NTwThg",defaultMessage:"Attach files is unavailable"}):a.formatMessage({id:"tA7CXR",defaultMessage:"Attach files"}),onClick:c=>{c.preventDefault(),n(!0)},children:t})})]})}function c3e({connectorEntries:e,onOauthRedirect:t}){const n=U();return i.jsxs(ie.Sub,{children:[i.jsx(ie.SubMenuTrigger,{icon:j7,children:i.jsx("div",{className:"line-clamp-1 text-ellipsis",children:i.jsx(S,{...l3e.connectApps})})}),i.jsx(ie.Portal,{children:i.jsx(ie.SubContent,{children:e.map(r=>i.jsx(ie.Item,{onClick:()=>t(r),icon:T6(r.type),children:i.jsxs("div",{className:"flex flex-col",children:[Ml(r.type,n),r.type===W.O365_BUSINESS&&i.jsx("div",{className:"text-s text-token-text-tertiary",children:i.jsx(S,{...wS.includesSharePoint})})]})},r.id))})})]})}const l3e=K({connectApps:{id:"ContextConnectorPicker.connectApps",defaultMessage:"Connect apps"}});function u3e({onOauthRedirect:e,connectors:t}){const n=U();return i.jsxs(ie.Sub,{children:[i.jsx(ie.SubMenuTrigger,{icon:pA,children:i.jsx(S,{...d3e.oneDriveSubmenuName})}),i.jsx(ie.Portal,{children:i.jsx(ie.SubContent,{children:t.map(r=>r?i.jsx(ie.Item,{onClick:()=>e(r),children:i.jsxs("div",{className:"flex flex-col",children:[Ml(r.type,n),r.type===W.O365_BUSINESS&&i.jsx("div",{className:"text-s text-token-text-tertiary",children:i.jsx(S,{...wS.includesSharePoint})})]})},r.id):null)})})]})}const d3e=K({oneDriveSubmenuName:{id:"ContextConnectorPickerOneDriveSubmenu.oneDriveSubmenuName",defaultMessage:"Connect to Microsoft OneDrive"}}),f3e={"image/jpeg":".jpg","image/png":".png"};function h3e({entry:e}){return i.jsx(ie.Item,{onClick:e.onClick,icon:e.icon,children:i.jsx(S,{...e.label})},e.key)}function p3e(e){const t=U(),n=Fe(),r=_l();return p.useCallback(async o=>{const a=`${new Date().toISOString().replaceAll(":","-")}${f3e[o.mimeType]}`;Zs.uploadFile(r,new File([o.data],a,{type:o.mimeType}),e,t,n,void 0,void 0,Xe.Multimodal)},[r,t,n,e])}function m3e(e){const t=p3e(e),n=g3e(t),r=v3e(t);return{desktopConnectors:p.useMemo(()=>Va?[n,r].filter(o=>o!==void 0):[],[n,r])}}function g3e(e){const{value:t}=lt("4204519260");return p.useMemo(()=>{if(t)return{key:"takeScreenshot",label:M6.takeScreenshot,icon:R7,onClick:async()=>{const n=await CF();n&&(E.logEvent(P.sidetronScreenshotAttached),await e(n))}}},[t,e])}function v3e(e){const{value:t}=lt("239993468");return p.useMemo(()=>{if(t)return{key:"takePhoto",label:M6.takePhoto,icon:D7,onClick:async()=>{const n=await _F();n&&(E.logEvent(P.sidetronPhotoAttached),await e(n))}}},[t,e])}const M6=K({takeScreenshot:{id:"ContextConnectorPickerDropdownItem.takeScreenshotDesktop",defaultMessage:"Take screenshot"},takePhoto:{id:"ContextConnectorPickerDropdownItem.takePhotoDesktop",defaultMessage:"Take photo"}});async function y3e(e,t,n,r){await k6(n);async function s(d){switch(d.action){case google.picker.Action.PICKED:{Tt.filePickerPicked(W.GDRIVE,d.docs.length);const f=d.docs.map(h=>({connector:t,id:h.id,title:h.name,mimeType:h.mimeType,url:h.url,syntheticExtension:h.type==="document"?AR(h.mimeType):null}));r(f);break}case google.picker.Action.CANCEL:Tt.filePickerCancelled(W.GDRIVE);return;case"loaded":{Tt.filePickerLoaded(W.GDRIVE);return}}}const o=new google.picker.DocsView(google.picker.ViewId.DOCS).setIncludeFolders(!0).setSelectFolderEnabled(!1).setMode(google.picker.DocsViewMode.LIST);let a="en";wP.includes(e)?a=e:wP.includes(e.split("-")[0])&&(a=e.split("-")[0]);const c=new google.picker.PickerBuilder().enableFeature(google.picker.Feature.MULTISELECT_ENABLED).enableFeature(google.picker.Feature.SUPPORT_DRIVES).setDeveloperKey(RL).setAppId(qNe).setOAuthToken(n).addView(o).setCallback(s).setLocale(a).build();Tt.filePickerStarted(W.GDRIVE),c.setVisible(!0);const l=b3e(),u=()=>{Tt.filePickerCancelled(W.GDRIVE),c.setVisible(!1),l?.removeEventListener("click",u)};l?.addEventListener("click",u)}function b3e(){if(typeof window>"u")return null;const e=window.document.body.querySelector("div.picker-dialog-bg")??window.document.body.querySelector("div.oai-picker-dialog-bg");return e?.classList.add("oai-picker-dialog-bg","bg-black/50","dark:bg-black/80","absolute","inset-0","z-[1000]"),e?.classList.remove("picker-dialog-bg"),e}const wP=["af","am","ar","bg","bn","ca","cs","da","de","el","en","en-GB","es","es-419","et","eu","fa","fi","fil","fr","fr-CA","gl","gu","hi","hr","hu","id","is","it","iw","ja","kn","ko","lt","lv","ml","mr","ms","nl","no","pl","pt-BR","pt-PT","ro","ru","sk","sl","sr","sv","sw","ta","te","th","tr","uk","ur","vi","zh-CN","zh-HK","zh-TW","zu"];var x3e=c2,w3e=x3e(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),S3e=w3e;const lh=ye(S3e);var SP=M$,C3e=TF,_3e=ph,CP=SP?SP.isConcatSpreadable:void 0;function T3e(e){return _3e(e)||C3e(e)||!!(CP&&e&&e[CP])}var k3e=T3e,M3e=kF,E3e=k3e;function E6(e,t,n,r,s){var o=-1,a=e.length;for(n||(n=E3e),s||(s=[]);++o<a;){var c=e[o];t>0&&n(c)?t>1?E6(c,t-1,n,r,s):M3e(s,c):r||(s[s.length]=c)}return s}var P3e=E6,$3e=i2,A3e=Pb;function O3e(e,t){var n=-1,r=A3e(e)?Array(e.length):[];return $3e(e,function(s,o,a){r[++n]=t(s,o,a)}),r}var N3e=O3e;function I3e(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var j3e=I3e,_P=MF;function R3e(e,t){if(e!==t){var n=e!==void 0,r=e===null,s=e===e,o=_P(e),a=t!==void 0,c=t===null,l=t===t,u=_P(t);if(!c&&!u&&!o&&e>t||o&&a&&l&&!c&&!u||r&&a&&l||!n&&l||!s)return 1;if(!r&&!o&&!u&&e<t||u&&n&&s&&!r&&!o||c&&n&&s||!a&&s||!l)return-1}return 0}var D3e=R3e,L3e=D3e;function F3e(e,t,n){for(var r=-1,s=e.criteria,o=t.criteria,a=s.length,c=n.length;++r<a;){var l=L3e(s[r],o[r]);if(l){if(r>=c)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return e.index-t.index}var B3e=F3e,rv=EF,U3e=PF,V3e=hh,G3e=N3e,W3e=j3e,H3e=Hb,z3e=B3e,q3e=Ec,Y3e=ph;function K3e(e,t,n){t.length?t=rv(t,function(o){return Y3e(o)?function(a){return U3e(a,o.length===1?o[0]:o)}:o}):t=[q3e];var r=-1;t=rv(t,H3e(V3e));var s=G3e(e,function(o,a,c){var l=rv(t,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return W3e(s,function(o,a){return z3e(o,a,n)})}var Q3e=K3e;function X3e(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var Z3e=X3e,J3e=Z3e,TP=Math.max;function eDe(e,t,n){return t=TP(t===void 0?e.length-1:t,0),function(){for(var r=arguments,s=-1,o=TP(r.length-t,0),a=Array(o);++s<o;)a[s]=r[t+s];s=-1;for(var c=Array(t+1);++s<t;)c[s]=r[s];return c[t]=n(a),J3e(e,this,c)}}var tDe=eDe,nDe=AA,kP=$F,rDe=Ec,sDe=kP?function(e,t){return kP(e,"toString",{configurable:!0,enumerable:!1,value:nDe(t),writable:!0})}:rDe,oDe=sDe,aDe=800,iDe=16,cDe=Date.now;function lDe(e){var t=0,n=0;return function(){var r=cDe(),s=iDe-(r-n);if(n=r,s>0){if(++t>=aDe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var uDe=lDe,dDe=oDe,fDe=uDe,hDe=fDe(dDe),pDe=hDe,mDe=Ec,gDe=tDe,vDe=pDe;function yDe(e,t){return vDe(gDe(e,t,mDe),e+"")}var bDe=yDe,xDe=AF,wDe=Pb,SDe=OF,CDe=Pc;function _De(e,t,n){if(!CDe(n))return!1;var r=typeof t;return(r=="number"?wDe(n)&&SDe(t,n.length):r=="string"&&t in n)?xDe(n[t],e):!1}var TDe=_De,kDe=P3e,MDe=Q3e,EDe=bDe,MP=TDe,PDe=EDe(function(e,t){if(e==null)return[];var n=t.length;return n>1&&MP(e,t[0],t[1])?t=[]:n>2&&MP(t[0],t[1],t[2])&&(t=[t[0]]),MDe(e,kDe(t,1),[])}),$De=PDe;const P6=ye($De);function ADe(){const{connectorConfig:e}=Jp(),t=As(),n=E1(),[r,s]=lh(P6([...e.values()],d=>!!d.access_token),d=>!!d.access_token),[o,a]=lh(s,d=>d.type===W.O365_PERSONAL||d.type===W.O365_BUSINESS),c=!t&&!n&&r.length>0,l=!t&&!n&&!c&&o.length>1;return{unconnectedConnectors:n?[]:l?a:s,showUnconnectedInSubmenu:c,showOneDriveInSubmenu:l}}function ODe({clientThreadId:e,icon:t,modelAcceptedMimeTypes:n,modelSupportedImageMimeTypes:r,attachmentsProductFeature:s,onOauthRedirect:o,uploadType:a,getInputProps:c,openFileDialog:l,isDisabled:u=!1,highlightTooltip:d=!1}){const{currentLocale:f}=Q$(),h=U(),m=Fe(),g=_l(),v=As(),{connectorConfig:y,isLoading:x}=Jp(),b=Ue(Ee.ContextConnectors),{getGizmoId:w}=Pl(),[C,T]=p.useState();p.useEffect(()=>{w?w().then(ne=>T(ne)):T(void 0)},[w]);const _=p.useRef(null),[k,M]=p.useState(!1),I=p.useRef(!1),A=p.useCallback(()=>{const ne=_.current?.files;Array.from(ne??[]).forEach(ot=>Zs.uploadFile(g,ot,r,h,m,s))},[g,r,h,m,s]),[H,q]=p.useState(null),F=p.useCallback(()=>q(null),[q]),N=p.useCallback((ne,ot)=>Zs.uploadPickedFile(g,ne,ot,r,n,s,C,h,m),[g,r,n,s,C,h,m]),{openMenu:R,confirmMenuOpened:B}=kc();p.useEffect(()=>{R&&(M(!0),B())},[R,B,M]);const Y=p.useCallback(ne=>{Zs.doContextConnectorOauthRedirect(location.pathname+location.search+location.hash,ne,o,Cn.Picker),o()},[o]),j=p.useCallback(ne=>{Zs.uploadPickedFile(g,ne,W.GDRIVE,r,n,s,C,h,m)},[g,r,n,s,C,h,m]),D=p.useCallback(async ne=>{const{access_token:ot}=ne;if(!ot){Y(ne);return}switch(Zp(ne,Cn.Picker),ne.type){case W.GDRIVE:y3e(f,ne.type,ot,Dt=>Dt.forEach(j));break;case W.O365_PERSONAL:case W.O365_BUSINESS:q(ne.type);break}},[j,Y,q,f]),V=()=>{E.logEvent(P.openFileViewer,{intent:a.toString()}),l()},Z=ne=>{if(!ne&&I.current&&!x)V();else if(ne&&re&&!x){V();return}M(ne),ne&&(b.eligible&&b.markAsViewed(),E.logEvent(P.composerOpenContextConnectorPicker),I.current=!0,setTimeout(()=>{I.current=!1},250))},[se,ae]=lh(P6([...y.values()],ne=>!!ne.access_token),ne=>!!ne.access_token);NDe(se,D);const[be]=lh(ae,ne=>ne.type===W.O365_PERSONAL||ne.type===W.O365_BUSINESS),{unconnectedConnectors:te,showUnconnectedInSubmenu:G,showOneDriveInSubmenu:Me}=ADe(),{desktopConnectors:xe}=m3e(r),re=!se.length&&!te.length&&!xe.length,Ce=i.jsxs(i.Fragment,{children:[G&&te.length>0&&i.jsx(c3e,{connectorEntries:te,onOauthRedirect:ne=>Y(ne)}),!G&&te.map(ne=>i.jsx(bP,{entry:ne,onClick:()=>D(ne)},ne.id)),Me&&i.jsx(u3e,{connectors:be,onOauthRedirect:Y}),x&&i.jsx(ie.Item,{icon:i.jsx(In,{className:"text-token-text-secondary"})}),(te.length>0||x)&&i.jsx(ie.Separator,{}),se.map(ne=>i.jsx(bP,{entry:ne,onClick:()=>D(ne)},ne.id)),xe.map(ne=>i.jsx(h3e,{entry:ne},ne.key)),i.jsx(ie.Item,{onClick:V,icon:mA,children:i.jsx(S,{...v?EP.uploadFileMobile:EP.uploadFile})},"upload")]}),st=i.jsxs("div",{className:"flex flex-col",children:[i.jsx(s3e,{type:H,onClose:F,uploadPickedFile:N}),i.jsx("input",{onChange:A,...c({className:"hidden"})}),i.jsxs(ie.Root,{open:k,onOpenChange:Z,children:[i.jsx(i3e,{clientThreadId:e,icon:t,setOpen:Z,isDisabled:u,highlightTooltip:d}),i.jsx(ie.Portal,{children:i.jsx(ie.Content,{size:"large",children:Ce})})]}),i.jsx(XRe,{hasConnectors:!x&&!re})]});return{dropdownItems:Ce,mainComponent:st}}function NDe(e,t){const{connector:n,clearParam:r}=BNe(),s=e.find(o=>o.type===n&&!!o.access_token);p.useEffect(()=>{s&&(t(s),r())},[s,t,r])}function lmt(e){const{mainComponent:t}=ODe(e);return t}const EP=K({attachFiles:{id:"ContextConnectorPicker.attachFiles",defaultMessage:"Attach files"},uploadFile:{id:"LocalFileDropdownItem.uploadFile",defaultMessage:"Upload from computer"},uploadFileMobile:{id:"LocalFileDropdownItem.uploadFileMobile",defaultMessage:"Upload file"}}),umt={"prosemirror-parent":"_prosemirror-parent_15ceg_1"};function $6(){return window.matchMedia("(pointer: coarse) and (hover: none)").matches}function dmt(){return $6()}var uh=200,en=function(){};en.prototype.append=function(t){return t.length?(t=en.from(t),!this.length&&t||t.length<uh&&this.leafAppend(t)||this.length<uh&&t.leafPrepend(this)||this.appendInner(t)):this};en.prototype.prepend=function(t){return t.length?en.from(t).append(this):this};en.prototype.appendInner=function(t){return new IDe(this,t)};en.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.length),t>=n?en.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))};en.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};en.prototype.forEach=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(t,n,r,0):this.forEachInvertedInner(t,n,r,0)};en.prototype.map=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var s=[];return this.forEach(function(o,a){return s.push(t(o,a))},n,r),s};en.from=function(t){return t instanceof en?t:t&&t.length?new A6(t):en.empty};var A6=function(e){function t(r){e.call(this),this.values=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(s,o){return s==0&&o==this.length?this:new t(this.values.slice(s,o))},t.prototype.getInner=function(s){return this.values[s]},t.prototype.forEachInner=function(s,o,a,c){for(var l=o;l<a;l++)if(s(this.values[l],c+l)===!1)return!1},t.prototype.forEachInvertedInner=function(s,o,a,c){for(var l=o-1;l>=a;l--)if(s(this.values[l],c+l)===!1)return!1},t.prototype.leafAppend=function(s){if(this.length+s.length<=uh)return new t(this.values.concat(s.flatten()))},t.prototype.leafPrepend=function(s){if(this.length+s.length<=uh)return new t(s.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(en);en.empty=new A6([]);var IDe=function(e){function t(n,r){e.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},t.prototype.forEachInner=function(r,s,o,a){var c=this.left.length;if(s<c&&this.left.forEachInner(r,s,Math.min(o,c),a)===!1||o>c&&this.right.forEachInner(r,Math.max(s-c,0),Math.min(this.length,o)-c,a+c)===!1)return!1},t.prototype.forEachInvertedInner=function(r,s,o,a){var c=this.left.length;if(s>c&&this.right.forEachInvertedInner(r,s-c,Math.max(o,c)-c,a+c)===!1||o<c&&this.left.forEachInvertedInner(r,Math.min(s,c),o,a)===!1)return!1},t.prototype.sliceInner=function(r,s){if(r==0&&s==this.length)return this;var o=this.left.length;return s<=o?this.left.slice(r,s):r>=o?this.right.slice(r-o,s-o):this.left.slice(r,o).append(this.right.slice(0,s-o))},t.prototype.leafAppend=function(r){var s=this.right.leafAppend(r);if(s)return new t(this.left,s)},t.prototype.leafPrepend=function(r){var s=this.left.leafPrepend(r);if(s)return new t(s,this.right)},t.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new t(this.left,new t(this.right,r)):new t(this,r)},t}(en);function O6(){const{value:e}=mt("2813404493");return e}const jDe=Ze(()=>Ye(()=>import("./imjk2mw5s7eszyyf.js"),__vite__mapDeps([45,1,2,3,46,47,15,6,48,7,49,37,50,51,52,53,54,55,24,25])).then(e=>e.VoiceModeLayout)),RDe=Ze(()=>Ye(()=>import("./cngk3xr4dmxdojfm.js"),__vite__mapDeps([56,1,2,3,46,54,55,24,25,6])).then(e=>e.ComposerSpeechButton)),DDe=Ze(()=>Ye(()=>import("./fecvmlj3d2hvct6l.js"),__vite__mapDeps([57,1,2,3,33,6])).then(e=>e.VoiceConversationRating));function kS(){return lt("1426009137")?.value}function LDe(e){return kS()?i.jsx(jDe,{...e}):null}function FDe(e){const t=kS(),{Fallback:n,...r}=e;return t?i.jsx(RDe,{...r}):i.jsx(n,{})}function fmt(e){return kS()?i.jsx(DDe,{...e}):null}const hmt=300,pmt=async(e=1)=>{let t=0,n;return new Promise(r=>{const s=o=>(n||(n=o),o-n<e*1e3?(t+=1,requestAnimationFrame(s)):r(Math.floor(t/e)));requestAnimationFrame(s)})},mmt=e=>{const t=p.useRef(e),n=p.useCallback(r=>{(t.current[0]!==r.width||t.current[1]!==r.height)&&(t.current=[r.width,r.height])},[]);return{canvasSizeRef:t,handleCanvasSizeUpdate:n}},BDe=()=>{if(typeof navigator>"u")return!1;const e=navigator.userAgent||navigator.vendor;return/android|iphone|ipad|ipod|mobile/i.test(e)},gmt=e=>{const{voiceSessionId:t,server:n,voiceMode:r,audioInputDevice:s,voiceStatus:o}=e;return{voice_session_id:t??"(none)",server_messages:n.messages.map(a=>a.type).join(","),rate_limit_message:JSON.stringify(n.usage?.rate_limit_message)??"(none)",audio_s:n.usage?.audio_s??"(none)",tool_update:n.toolUpdate?.type??"(none)",voice_connection_quality:n.voiceConnectionQuality??"(none)",voice_mode:r??"(none)",audio_input_device:s?.label??"(none)",voice_status:JSON.stringify(o)??"(none)"}};function vmt(e){const{isUnauthenticated:t}=It(),r=N5(m=>m.files).length>0,s=e.composerController.useState(m=>!m.isEmpty()),o=!r&&!s,{browseMode:a}=we(),c=Ah(),l=UMe(),u=!1,d=BDe(),f=qn();if(e.inputState==="disabled")return null;const h=i.jsx(UDe,{state:e.state,onSubmit:e.onSubmit,disableReason:e.disableReason,isSearchMode:l,useProduceImpl:e.useProduceImpl});return!t&&!c&&!l&&!u&&o&&e.state==="disabled"&&e.clientThreadId&&a!=="gizmo-editor"&&!d&&!f?i.jsx("div",{className:"min-w-8",children:i.jsx(FDe,{clientThreadId:e.clientThreadId,gizmoId:e.gizmoId,Fallback:()=>h})}):h}function UDe({state:e,onSubmit:t,disableReason:n,isSearchMode:r,useProduceImpl:s}){const o=e==="streaming"?L7:F7,a=U(),c=O6(),l=i.jsx("button",{onClick:t,disabled:e==="disabled","aria-label":e==="streaming"?a.formatMessage(Di.stopStreamingLabel):a.formatMessage(Di.sendPromptLabel),"data-testid":e==="streaming"?"stop-button":"send-button",className:$("flex h-8 w-8 items-center justify-center rounded-full transition-colors hover:opacity-70 focus-visible:outline-none focus-visible:outline-black disabled:text-[#f4f4f4] disabled:hover:opacity-100 dark:focus-visible:outline-white disabled:dark:bg-token-text-quaternary dark:disabled:text-token-main-surface-secondary",s?"bg-green-600 text-white disabled:bg-green-600 disabled:bg-opacity-15 dark:bg-green-600 dark:text-white disabled:dark:bg-green-600 disabled:dark:bg-opacity-15":r?"bg-blue-1000 text-white dark:bg-blue-1000 dark:text-white":"bg-black text-white dark:bg-white dark:text-black",c&&"disabled:bg-black disabled:bg-opacity-[0.27]",!c&&"disabled:bg-[#D7D7D7]"),children:i.jsx(o,{className:$(e==="streaming"?"icon-lg":"icon-2xl")})});return n&&e==="disabled"?i.jsx(VDe,{label:n==="file_upload_pending"?a.formatMessage(Di.fileUploadPendingLabel):n==="empty_text_content"?a.formatMessage(Di.emptyTextContentLabel):a.formatMessage(Di.textContentTooLongLabel),children:l}):l}function VDe({label:e,children:t}){return i.jsx(rt,{sideOffset:14,label:e,side:"top",children:t})}const Di=K({stopStreamingLabel:{id:"+yfm/p",defaultMessage:"Stop streaming"},sendPromptLabel:{id:"xfIykB",defaultMessage:"Send prompt"},emptyTextContentLabel:{id:"LCVL2q",defaultMessage:"Message is empty"},textContentTooLongLabel:{id:"kDrqDJ",defaultMessage:"Message is too long"},fileUploadPendingLabel:{id:"Qv7jQN",defaultMessage:"File upload pending"}});let yb=null;function ymt(e){yb=e}function bmt(e){return yb?yb(e):e}const GDe=e=>{const{metadata:t}=e;return t?.type?yv(t.type):!1},WDe=({textdocId:e,pastedTextdoc:t,onClickSwitchToInline:n,isCanvasOpen:r=!1,isFocused:s=!1})=>{const{content:o,metadata:a}=t,c=U(),l=u=>{u.stopPropagation(),n?.()};return i.jsxs("div",{className:"group/file-tile relative",children:[i.jsx("button",{onClick:()=>WA.removePastedContent(e),className:"absolute -left-1 -top-1 z-10 hidden rounded-full border-[3px] border-[#f4f4f4] bg-black p-[2px] text-white group-hover/file-tile:block dark:border-token-main-surface-secondary dark:bg-white dark:text-black",children:i.jsx(hA,{className:"icon-xs"})}),i.jsx(Xye,{isInlinePreview:!0,isCanvasOpen:r,isFocused:s,textdocId:e,name:a?.title??null,type:a?.type??null,size:"small",icon:i.jsx(rt,{label:c.formatMessage({id:"46JCmc",defaultMessage:"Switch to inline text"}),sideOffset:4,side:"top",children:i.jsx("div",{tabIndex:0,role:"button",onClick:l,children:i.jsx(B7,{})})}),onClick:()=>ka(e),children:i.jsx("div",{className:$("whitespace-pre px-4",GDe(t)&&"font-mono"),children:o})})]})},xmt=({textdocId:e,pastedTextdoc:t,onClickSwitchToInline:n})=>{const r=hx(e),s=Fc();return i.jsx(WDe,{isFocused:r,isCanvasOpen:s,pastedTextdoc:t,textdocId:e,onClickSwitchToInline:n})},wmt=({className:e})=>i.jsxs(jt,{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:[i.jsx("path",{d:"M11.5047 10C12.8828 10 14 11.1172 14 12.4953C14 15.2919 10.9404 14.9905 9.00947 14.9905C9.00947 13.0596 8.70813 10 11.5047 10Z",stroke:"currentColor",strokeWidth:"2",strokeLinejoin:"round"}),i.jsx("path",{d:"M12 9.5C13.8983 6.79576 16.0839 4.85949 18.8983 3.40128C19.3829 3.15019 19.9712 3.25691 20.3571 3.64286V3.64286C20.7431 4.0288 20.8498 4.61706 20.5987 5.10168C19.1405 7.91612 17.2042 10.1017 14.5 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),i.jsx("path",{d:"M12.0003 21.0003C11.5003 21.0003 8.93732 20.1297 6.71782 17.9102C3.00784 14.2002 2.05809 9.13491 4.5965 6.5965C6.68218 4.51082 10.4738 4.78002 13.8179 7.00031M17.1066 10.0003C19.9927 13.3315 21.2146 16.7289 19.0003 18.5003C17.3415 19.8274 15.2424 18.2927 14.0176 17.1097",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),Smt=({className:e})=>i.jsx(jt,{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:i.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.70711 2.29289C8.09763 2.68342 8.09763 3.31658 7.70711 3.70711L6.41421 5H13.5C17.6421 5 21 8.35786 21 12.5C21 16.6421 17.6421 20 13.5 20H9C8.44772 20 8 19.5523 8 19C8 18.4477 8.44772 18 9 18H13.5C16.5376 18 19 15.5376 19 12.5C19 9.46243 16.5376 7 13.5 7H6.41421L7.70711 8.29289C8.09763 8.68342 8.09763 9.31658 7.70711 9.70711C7.31658 10.0976 6.68342 10.0976 6.29289 9.70711L3.29289 6.70711C2.90237 6.31658 2.90237 5.68342 3.29289 5.29289L6.29289 2.29289C6.68342 1.90237 7.31658 1.90237 7.70711 2.29289Z",fill:"currentColor"})}),Cmt=({className:e})=>i.jsx(jt,{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:i.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.2929 2.29289C16.6834 1.90237 17.3166 1.90237 17.7071 2.29289L20.7071 5.29289C21.0976 5.68342 21.0976 6.31658 20.7071 6.70711L17.7071 9.70711C17.3166 10.0976 16.6834 10.0976 16.2929 9.70711C15.9024 9.31658 15.9024 8.68342 16.2929 8.29289L17.5858 7H10.5C7.46243 7 5 9.46243 5 12.5C5 15.5376 7.46243 18 10.5 18H15C15.5523 18 16 18.4477 16 19C16 19.5523 15.5523 20 15 20H10.5C6.35786 20 3 16.6421 3 12.5C3 8.35786 6.35786 5 10.5 5H17.5858L16.2929 3.70711C15.9024 3.31658 15.9024 2.68342 16.2929 2.29289Z",fill:"currentColor"})}),HDe=({className:e})=>i.jsx(jt,{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:i.jsx("path",{d:"M3 18H4.17157C4.70201 18 5.21071 17.7893 5.58579 17.4142L15.4142 7.58579C15.7893 7.21071 16.298 7 16.8284 7H19M3 6H4.17157C4.70201 6 5.21071 6.21071 5.58579 6.58579L8 9M19 17H16.8284C16.298 17 15.7893 16.7893 15.4142 16.4142L14 15M18 4L21 7L18 10M18 14L21 17L18 20",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),zDe=({className:e})=>i.jsx(jt,{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:i.jsx("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",stroke:"currentColor",strokeWidth:"2"})}),qDe=({className:e})=>i.jsx(jt,{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:i.jsx("rect",{x:"2",y:"6",width:"20",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"2"})}),YDe=({className:e})=>i.jsx(jt,{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:i.jsx("rect",{x:"6",y:"2",width:"12",height:"20",rx:"2",stroke:"currentColor",strokeWidth:"2"})}),_mt=({className:e})=>i.jsx(jt,{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:i.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 4C13 3.44772 13.4477 3 14 3H20C20.5523 3 21 3.44772 21 4V10C21 10.5523 20.5523 11 20 11C19.4477 11 19 10.5523 19 10V6.41421L15.2071 10.2071C14.8166 10.5976 14.1834 10.5976 13.7929 10.2071C13.4024 9.81658 13.4024 9.18342 13.7929 8.79289L17.5858 5H14C13.4477 5 13 4.55228 13 4ZM4 13C4.55228 13 5 13.4477 5 14V17.5858L8.79289 13.7929C9.18342 13.4024 9.81658 13.4024 10.2071 13.7929C10.5976 14.1834 10.5976 14.8166 10.2071 15.2071L6.41421 19H10C10.5523 19 11 19.4477 11 20C11 20.5523 10.5523 21 10 21H4C3.44772 21 3 20.5523 3 20V14C3 13.4477 3.44772 13 4 13Z",fill:"currentColor"})}),KDe=[{name:O({id:"dalleControls.aspectRatio.square",defaultMessage:"Square"}),expandedName:O({id:"dalleControls.aspectRatio.squareExpanded",defaultMessage:"Square aspect ratio"}),icon:zDe},{name:O({id:"dalleControls.aspectRatio.widescreen",defaultMessage:"Widescreen"}),expandedName:O({id:"dalleControls.aspectRatio.widescreenExpanded",defaultMessage:"Wide aspect ratio"}),icon:qDe},{name:O({id:"dalleControls.aspectRatio.vertical",defaultMessage:"Vertical"}),expandedName:O({id:"dalleControls.aspectRatio.verticalExpanded",defaultMessage:"Vertical aspect ratio"}),icon:YDe}],QDe="webp",XDe=200,ZDe=200,JDe="srgb",e5e=3,t5e="uchar",n5e=72,r5e="4:2:0",s5e=!1,o5e="inch",a5e=!1,i5e=!1,c5e=1,l5e="https://cdn.oaistatic.com/assets/35mm-film-mt6bjczz.webp",u5e={format:QDe,width:XDe,height:ZDe,space:JDe,channels:e5e,depth:t5e,density:n5e,chromaSubsampling:r5e,isProgressive:s5e,resolutionUnit:o5e,hasProfile:a5e,hasAlpha:i5e,orientation:c5e,src:l5e},d5e="webp",f5e=320,h5e=320,p5e="srgb",m5e=3,g5e="uchar",v5e=72,y5e="4:2:0",b5e=!1,x5e=!1,w5e=!1,S5e=1,C5e="https://cdn.oaistatic.com/assets/3d-wireframe-b7plv1fd.webp",_5e={format:d5e,width:f5e,height:h5e,space:p5e,channels:m5e,depth:g5e,density:v5e,chromaSubsampling:y5e,isProgressive:b5e,hasProfile:x5e,hasAlpha:w5e,orientation:S5e,src:C5e},T5e="webp",k5e=200,M5e=200,E5e="srgb",P5e=3,$5e="uchar",A5e=72,O5e="4:2:0",N5e=!1,I5e="inch",j5e=!1,R5e=!1,D5e=1,L5e="https://cdn.oaistatic.com/assets/abstract-ivmwso8q.webp",F5e={format:T5e,width:k5e,height:M5e,space:E5e,channels:P5e,depth:$5e,density:A5e,chromaSubsampling:O5e,isProgressive:N5e,resolutionUnit:I5e,hasProfile:j5e,hasAlpha:R5e,orientation:D5e,src:L5e},B5e="webp",U5e=200,V5e=200,G5e="srgb",W5e=3,H5e="uchar",z5e=72,q5e="4:2:0",Y5e=!1,K5e="inch",Q5e=!1,X5e=!1,Z5e=1,J5e="https://cdn.oaistatic.com/assets/acrylic-l0cmoeqz.webp",eLe={format:B5e,width:U5e,height:V5e,space:G5e,channels:W5e,depth:H5e,density:z5e,chromaSubsampling:q5e,isProgressive:Y5e,resolutionUnit:K5e,hasProfile:Q5e,hasAlpha:X5e,orientation:Z5e,src:J5e},tLe="webp",nLe=200,rLe=200,sLe="srgb",oLe=3,aLe="uchar",iLe=72,cLe="4:2:0",lLe=!1,uLe="inch",dLe=!1,fLe=!1,hLe=1,pLe="https://cdn.oaistatic.com/assets/aerial-c6f3fklx.webp",mLe={format:tLe,width:nLe,height:rLe,space:sLe,channels:oLe,depth:aLe,density:iLe,chromaSubsampling:cLe,isProgressive:lLe,resolutionUnit:uLe,hasProfile:dLe,hasAlpha:fLe,orientation:hLe,src:pLe},gLe="webp",vLe=320,yLe=320,bLe="srgb",xLe=3,wLe="uchar",SLe=72,CLe="4:2:0",_Le=!1,TLe=!1,kLe=!1,MLe=1,ELe="https://cdn.oaistatic.com/assets/analog-film-okkgdsdn.webp",PLe={format:gLe,width:vLe,height:yLe,space:bLe,channels:xLe,depth:wLe,density:SLe,chromaSubsampling:CLe,isProgressive:_Le,hasProfile:TLe,hasAlpha:kLe,orientation:MLe,src:ELe},$Le="webp",ALe=200,OLe=200,NLe="srgb",ILe=3,jLe="uchar",RLe=72,DLe="4:2:0",LLe=!1,FLe="inch",BLe=!1,ULe=!1,VLe=1,GLe="https://cdn.oaistatic.com/assets/anime-jspa4tk8.webp",WLe={format:$Le,width:ALe,height:OLe,space:NLe,channels:ILe,depth:jLe,density:RLe,chromaSubsampling:DLe,isProgressive:LLe,resolutionUnit:FLe,hasProfile:BLe,hasAlpha:ULe,orientation:VLe,src:GLe},HLe="webp",zLe=320,qLe=320,YLe="srgb",KLe=3,QLe="uchar",XLe=72,ZLe="4:2:0",JLe=!1,e6e=!1,t6e=!1,n6e=1,r6e="https://cdn.oaistatic.com/assets/art-deco-kk5f3owo.webp",s6e={format:HLe,width:zLe,height:qLe,space:YLe,channels:KLe,depth:QLe,density:XLe,chromaSubsampling:ZLe,isProgressive:JLe,hasProfile:e6e,hasAlpha:t6e,orientation:n6e,src:r6e},o6e="webp",a6e=320,i6e=320,c6e="srgb",l6e=3,u6e="uchar",d6e=72,f6e="4:2:0",h6e=!1,p6e=!1,m6e=!1,g6e=1,v6e="https://cdn.oaistatic.com/assets/art-nouveau-b5l7ji4g.webp",y6e={format:o6e,width:a6e,height:i6e,space:c6e,channels:l6e,depth:u6e,density:d6e,chromaSubsampling:f6e,isProgressive:h6e,hasProfile:p6e,hasAlpha:m6e,orientation:g6e,src:v6e},b6e="webp",x6e=320,w6e=320,S6e="srgb",C6e=3,_6e="uchar",T6e=72,k6e="4:2:0",M6e=!1,E6e=!1,P6e=!1,$6e=1,A6e="https://cdn.oaistatic.com/assets/artificial-lighting-lmlxvc0g.webp",O6e={format:b6e,width:x6e,height:w6e,space:S6e,channels:C6e,depth:_6e,density:T6e,chromaSubsampling:k6e,isProgressive:M6e,hasProfile:E6e,hasAlpha:P6e,orientation:$6e,src:A6e},N6e="webp",I6e=200,j6e=200,R6e="srgb",D6e=3,L6e="uchar",F6e=72,B6e="4:2:0",U6e=!1,V6e="inch",G6e=!1,W6e=!1,H6e=1,z6e="https://cdn.oaistatic.com/assets/baroque-ig5yhrqf.webp",q6e={format:N6e,width:I6e,height:j6e,space:R6e,channels:D6e,depth:L6e,density:F6e,chromaSubsampling:B6e,isProgressive:U6e,resolutionUnit:V6e,hasProfile:G6e,hasAlpha:W6e,orientation:H6e,src:z6e},Y6e="webp",K6e=200,Q6e=200,X6e="srgb",Z6e=3,J6e="uchar",e4e=72,t4e="4:2:0",n4e=!1,r4e="inch",s4e=!1,o4e=!1,a4e=1,i4e="https://cdn.oaistatic.com/assets/black-and-white-cbb8ftp9.webp",c4e={format:Y6e,width:K6e,height:Q6e,space:X6e,channels:Z6e,depth:J6e,density:e4e,chromaSubsampling:t4e,isProgressive:n4e,resolutionUnit:r4e,hasProfile:s4e,hasAlpha:o4e,orientation:a4e,src:i4e},l4e="webp",u4e=320,d4e=320,f4e="srgb",h4e=3,p4e="uchar",m4e=72,g4e="4:2:0",v4e=!1,y4e=!1,b4e=!1,x4e=1,w4e="https://cdn.oaistatic.com/assets/candy-ktgf6dbq.webp",S4e={format:l4e,width:u4e,height:d4e,space:f4e,channels:h4e,depth:p4e,density:m4e,chromaSubsampling:g4e,isProgressive:v4e,hasProfile:y4e,hasAlpha:b4e,orientation:x4e,src:w4e},C4e="webp",_4e=320,T4e=320,k4e="srgb",M4e=3,E4e="uchar",P4e=72,$4e="4:2:0",A4e=!1,O4e=!1,N4e=!1,I4e=1,j4e="https://cdn.oaistatic.com/assets/caricature-lf1ddbth.webp",R4e={format:C4e,width:_4e,height:T4e,space:k4e,channels:M4e,depth:E4e,density:P4e,chromaSubsampling:$4e,isProgressive:A4e,hasProfile:O4e,hasAlpha:N4e,orientation:I4e,src:j4e},D4e="webp",L4e=200,F4e=200,B4e="srgb",U4e=3,V4e="uchar",G4e=72,W4e="4:2:0",H4e=!1,z4e="inch",q4e=!1,Y4e=!1,K4e=1,Q4e="https://cdn.oaistatic.com/assets/cartoon-oy08tx38.webp",X4e={format:D4e,width:L4e,height:F4e,space:B4e,channels:U4e,depth:V4e,density:G4e,chromaSubsampling:W4e,isProgressive:H4e,resolutionUnit:z4e,hasProfile:q4e,hasAlpha:Y4e,orientation:K4e,src:Q4e},Z4e="webp",J4e=200,e9e=200,t9e="srgb",n9e=3,r9e="uchar",s9e=72,o9e="4:2:0",a9e=!1,i9e="inch",c9e=!1,l9e=!1,u9e=1,d9e="https://cdn.oaistatic.com/assets/cave-art-mnw1gxr6.webp",f9e={format:Z4e,width:J4e,height:e9e,space:t9e,channels:n9e,depth:r9e,density:s9e,chromaSubsampling:o9e,isProgressive:a9e,resolutionUnit:i9e,hasProfile:c9e,hasAlpha:l9e,orientation:u9e,src:d9e},h9e="webp",p9e=320,m9e=320,g9e="srgb",v9e=3,y9e="uchar",b9e=72,x9e="4:2:0",w9e=!1,S9e=!1,C9e=!1,_9e=1,T9e="https://cdn.oaistatic.com/assets/chalk-art-idnoemov.webp",k9e={format:h9e,width:p9e,height:m9e,space:g9e,channels:v9e,depth:y9e,density:b9e,chromaSubsampling:x9e,isProgressive:w9e,hasProfile:S9e,hasAlpha:C9e,orientation:_9e,src:T9e},M9e="webp",E9e=200,P9e=200,$9e="srgb",A9e=3,O9e="uchar",N9e=72,I9e="4:2:0",j9e=!1,R9e="inch",D9e=!1,L9e=!1,F9e=1,B9e="https://cdn.oaistatic.com/assets/charcoal-fsha4717.webp",U9e={format:M9e,width:E9e,height:P9e,space:$9e,channels:A9e,depth:O9e,density:N9e,chromaSubsampling:I9e,isProgressive:j9e,resolutionUnit:R9e,hasProfile:D9e,hasAlpha:L9e,orientation:F9e,src:B9e},V9e="webp",G9e=320,W9e=320,H9e="srgb",z9e=3,q9e="uchar",Y9e=72,K9e="4:2:0",Q9e=!1,X9e=!1,Z9e=!1,J9e=1,eFe="https://cdn.oaistatic.com/assets/claymation-ew3p88dt.webp",tFe={format:V9e,width:G9e,height:W9e,space:H9e,channels:z9e,depth:q9e,density:Y9e,chromaSubsampling:K9e,isProgressive:Q9e,hasProfile:X9e,hasAlpha:Z9e,orientation:J9e,src:eFe},nFe="webp",rFe=200,sFe=200,oFe="srgb",aFe=3,iFe="uchar",cFe=72,lFe="4:2:0",uFe=!1,dFe="inch",fFe=!1,hFe=!1,pFe=1,mFe="https://cdn.oaistatic.com/assets/close-up-f3mun4e5.webp",gFe={format:nFe,width:rFe,height:sFe,space:oFe,channels:aFe,depth:iFe,density:cFe,chromaSubsampling:lFe,isProgressive:uFe,resolutionUnit:dFe,hasProfile:fFe,hasAlpha:hFe,orientation:pFe,src:mFe},vFe="webp",yFe=200,bFe=200,xFe="srgb",wFe=3,SFe="uchar",CFe=72,_Fe="4:2:0",TFe=!1,kFe="inch",MFe=!1,EFe=!1,PFe=1,$Fe="https://cdn.oaistatic.com/assets/comic-book-fa4o5ggx.webp",AFe={format:vFe,width:yFe,height:bFe,space:xFe,channels:wFe,depth:SFe,density:CFe,chromaSubsampling:_Fe,isProgressive:TFe,resolutionUnit:kFe,hasProfile:MFe,hasAlpha:EFe,orientation:PFe,src:$Fe},OFe="webp",NFe=320,IFe=320,jFe="srgb",RFe=3,DFe="uchar",LFe=72,FFe="4:2:0",BFe=!1,UFe=!1,VFe=!1,GFe=1,WFe="https://cdn.oaistatic.com/assets/comic-strip-blts5zyk.webp",HFe={format:OFe,width:NFe,height:IFe,space:jFe,channels:RFe,depth:DFe,density:LFe,chromaSubsampling:FFe,isProgressive:BFe,hasProfile:UFe,hasAlpha:VFe,orientation:GFe,src:WFe},zFe="webp",qFe=320,YFe=320,KFe="srgb",QFe=3,XFe="uchar",ZFe=72,JFe="4:2:0",e7e=!1,t7e=!1,n7e=!1,r7e=1,s7e="https://cdn.oaistatic.com/assets/concept-art-fs9zyn06.webp",o7e={format:zFe,width:qFe,height:YFe,space:KFe,channels:QFe,depth:XFe,density:ZFe,chromaSubsampling:JFe,isProgressive:e7e,hasProfile:t7e,hasAlpha:n7e,orientation:r7e,src:s7e},a7e="webp",i7e=200,c7e=200,l7e="srgb",u7e=3,d7e="uchar",f7e=72,h7e="4:2:0",p7e=!1,m7e="inch",g7e=!1,v7e=!1,y7e=1,b7e="https://cdn.oaistatic.com/assets/crayon-jm09v921.webp",x7e={format:a7e,width:i7e,height:c7e,space:l7e,channels:u7e,depth:d7e,density:f7e,chromaSubsampling:h7e,isProgressive:p7e,resolutionUnit:m7e,hasProfile:g7e,hasAlpha:v7e,orientation:y7e,src:b7e},w7e="webp",S7e=320,C7e=320,_7e="srgb",T7e=3,k7e="uchar",M7e=72,E7e="4:2:0",P7e=!1,$7e=!1,A7e=!1,O7e=1,N7e="https://cdn.oaistatic.com/assets/crystal-od4xpulw.webp",I7e={format:w7e,width:S7e,height:C7e,space:_7e,channels:T7e,depth:k7e,density:M7e,chromaSubsampling:E7e,isProgressive:P7e,hasProfile:$7e,hasAlpha:A7e,orientation:O7e,src:N7e},j7e="webp",R7e=320,D7e=320,L7e="srgb",F7e=3,B7e="uchar",U7e=72,V7e="4:2:0",G7e=!1,W7e=!1,H7e=!1,z7e=1,q7e="https://cdn.oaistatic.com/assets/cubism-jatole5p.webp",Y7e={format:j7e,width:R7e,height:D7e,space:L7e,channels:F7e,depth:B7e,density:U7e,chromaSubsampling:V7e,isProgressive:G7e,hasProfile:W7e,hasAlpha:H7e,orientation:z7e,src:q7e},K7e="webp",Q7e=320,X7e=320,Z7e="srgb",J7e=3,e8e="uchar",t8e=72,n8e="4:2:0",r8e=!1,s8e=!1,o8e=!1,a8e=1,i8e="https://cdn.oaistatic.com/assets/cyberpunk-l1ufpmox.webp",c8e={format:K7e,width:Q7e,height:X7e,space:Z7e,channels:J7e,depth:e8e,density:t8e,chromaSubsampling:n8e,isProgressive:r8e,hasProfile:s8e,hasAlpha:o8e,orientation:a8e,src:i8e},l8e="webp",u8e=200,d8e=200,f8e="srgb",h8e=3,p8e="uchar",m8e=72,g8e="4:2:0",v8e=!1,y8e="inch",b8e=!1,x8e=!1,w8e=1,S8e="https://cdn.oaistatic.com/assets/dawn-n7sbl2w1.webp",C8e={format:l8e,width:u8e,height:d8e,space:f8e,channels:h8e,depth:p8e,density:m8e,chromaSubsampling:g8e,isProgressive:v8e,resolutionUnit:y8e,hasProfile:b8e,hasAlpha:x8e,orientation:w8e,src:S8e},_8e="webp",T8e=320,k8e=320,M8e="srgb",E8e=3,P8e="uchar",$8e=72,A8e="4:2:0",O8e=!1,N8e=!1,I8e=!1,j8e=1,R8e="https://cdn.oaistatic.com/assets/digital-art-n8w8xbxy.webp",D8e={format:_8e,width:T8e,height:k8e,space:M8e,channels:E8e,depth:P8e,density:$8e,chromaSubsampling:A8e,isProgressive:O8e,hasProfile:N8e,hasAlpha:I8e,orientation:j8e,src:R8e},L8e="webp",F8e=320,B8e=320,U8e="srgb",V8e=3,G8e="uchar",W8e=72,H8e="4:2:0",z8e=!1,q8e=!1,Y8e=!1,K8e=1,Q8e="https://cdn.oaistatic.com/assets/dusk-lighting-ig167p2t.webp",X8e={format:L8e,width:F8e,height:B8e,space:U8e,channels:V8e,depth:G8e,density:W8e,chromaSubsampling:H8e,isProgressive:z8e,hasProfile:q8e,hasAlpha:Y8e,orientation:K8e,src:Q8e},Z8e="webp",J8e=320,eBe=320,tBe="srgb",nBe=3,rBe="uchar",sBe=72,oBe="4:2:0",aBe=!1,iBe=!1,cBe=!1,lBe=1,uBe="https://cdn.oaistatic.com/assets/dutch-angle-patn6fx4.webp",dBe={format:Z8e,width:J8e,height:eBe,space:tBe,channels:nBe,depth:rBe,density:sBe,chromaSubsampling:oBe,isProgressive:aBe,hasProfile:iBe,hasAlpha:cBe,orientation:lBe,src:uBe},fBe="webp",hBe=320,pBe=320,mBe="srgb",gBe=3,vBe="uchar",yBe=72,bBe="4:2:0",xBe=!1,wBe=!1,SBe=!1,CBe=1,_Be="https://cdn.oaistatic.com/assets/dystopian-dggxcfjg.webp",TBe={format:fBe,width:hBe,height:pBe,space:mBe,channels:gBe,depth:vBe,density:yBe,chromaSubsampling:bBe,isProgressive:xBe,hasProfile:wBe,hasAlpha:SBe,orientation:CBe,src:_Be},kBe="webp",MBe=320,EBe=320,PBe="srgb",$Be=3,ABe="uchar",OBe=72,NBe="4:2:0",IBe=!1,jBe=!1,RBe=!1,DBe=1,LBe="https://cdn.oaistatic.com/assets/electronics-m6m8etmn.webp",FBe={format:kBe,width:MBe,height:EBe,space:PBe,channels:$Be,depth:ABe,density:OBe,chromaSubsampling:NBe,isProgressive:IBe,hasProfile:jBe,hasAlpha:RBe,orientation:DBe,src:LBe},BBe="webp",UBe=200,VBe=200,GBe="srgb",WBe=3,HBe="uchar",zBe=72,qBe="4:2:0",YBe=!1,KBe="inch",QBe=!1,XBe=!1,ZBe=1,JBe="https://cdn.oaistatic.com/assets/expressionism-c07w8h7s.webp",eUe={format:BBe,width:UBe,height:VBe,space:GBe,channels:WBe,depth:HBe,density:zBe,chromaSubsampling:qBe,isProgressive:YBe,resolutionUnit:KBe,hasProfile:QBe,hasAlpha:XBe,orientation:ZBe,src:JBe},tUe="webp",nUe=320,rUe=320,sUe="srgb",oUe=3,aUe="uchar",iUe=72,cUe="4:2:0",lUe=!1,uUe=!1,dUe=!1,fUe=1,hUe="https://cdn.oaistatic.com/assets/extreme-close-up-fc0gtzul.webp",pUe={format:tUe,width:nUe,height:rUe,space:sUe,channels:oUe,depth:aUe,density:iUe,chromaSubsampling:cUe,isProgressive:lUe,hasProfile:uUe,hasAlpha:dUe,orientation:fUe,src:hUe},mUe="webp",gUe=320,vUe=320,yUe="srgb",bUe=3,xUe="uchar",wUe=72,SUe="4:2:0",CUe=!1,_Ue=!1,TUe=!1,kUe=1,MUe="https://cdn.oaistatic.com/assets/fairy-tale-blw25x6j.webp",EUe={format:mUe,width:gUe,height:vUe,space:yUe,channels:bUe,depth:xUe,density:wUe,chromaSubsampling:SUe,isProgressive:CUe,hasProfile:_Ue,hasAlpha:TUe,orientation:kUe,src:MUe},PUe="webp",$Ue=200,AUe=200,OUe="srgb",NUe=3,IUe="uchar",jUe=72,RUe="4:2:0",DUe=!1,LUe="inch",FUe=!1,BUe=!1,UUe=1,VUe="https://cdn.oaistatic.com/assets/fantasy-eo3emec1.webp",GUe={format:PUe,width:$Ue,height:AUe,space:OUe,channels:NUe,depth:IUe,density:jUe,chromaSubsampling:RUe,isProgressive:DUe,resolutionUnit:LUe,hasProfile:FUe,hasAlpha:BUe,orientation:UUe,src:VUe},WUe="webp",HUe=320,zUe=320,qUe="srgb",YUe=3,KUe="uchar",QUe=72,XUe="4:2:0",ZUe=!1,JUe=!1,eVe=!1,tVe=1,nVe="https://cdn.oaistatic.com/assets/fauvism-bm6mcqx7.webp",rVe={format:WUe,width:HUe,height:zUe,space:qUe,channels:YUe,depth:KUe,density:QUe,chromaSubsampling:XUe,isProgressive:ZUe,hasProfile:JUe,hasAlpha:eVe,orientation:tVe,src:nVe},sVe="webp",oVe=320,aVe=320,iVe="srgb",cVe=3,lVe="uchar",uVe=72,dVe="4:2:0",fVe=!1,hVe=!1,pVe=!1,mVe=1,gVe="https://cdn.oaistatic.com/assets/feathers-i5aayi2h.webp",vVe={format:sVe,width:oVe,height:aVe,space:iVe,channels:cVe,depth:lVe,density:uVe,chromaSubsampling:dVe,isProgressive:fVe,hasProfile:hVe,hasAlpha:pVe,orientation:mVe,src:gVe},yVe="webp",bVe=200,xVe=200,wVe="srgb",SVe=3,CVe="uchar",_Ve=72,TVe="4:2:0",kVe=!1,MVe="inch",EVe=!1,PVe=!1,$Ve=1,AVe="https://cdn.oaistatic.com/assets/felt-l77tc7g2.webp",OVe={format:yVe,width:bVe,height:xVe,space:wVe,channels:SVe,depth:CVe,density:_Ve,chromaSubsampling:TVe,isProgressive:kVe,resolutionUnit:MVe,hasProfile:EVe,hasAlpha:PVe,orientation:$Ve,src:AVe},NVe="webp",IVe=200,jVe=200,RVe="srgb",DVe=3,LVe="uchar",FVe=72,BVe="4:2:0",UVe=!1,VVe="inch",GVe=!1,WVe=!1,HVe=1,zVe="https://cdn.oaistatic.com/assets/film-noir-f91hsvhf.webp",qVe={format:NVe,width:IVe,height:jVe,space:RVe,channels:DVe,depth:LVe,density:FVe,chromaSubsampling:BVe,isProgressive:UVe,resolutionUnit:VVe,hasProfile:GVe,hasAlpha:WVe,orientation:HVe,src:zVe},YVe="webp",KVe=320,QVe=320,XVe="srgb",ZVe=3,JVe="uchar",eGe=72,tGe="4:2:0",nGe=!1,rGe=!1,sGe=!1,oGe=1,aGe="https://cdn.oaistatic.com/assets/fish-eye-j4ro38ch.webp",iGe={format:YVe,width:KVe,height:QVe,space:XVe,channels:ZVe,depth:JVe,density:eGe,chromaSubsampling:tGe,isProgressive:nGe,hasProfile:rGe,hasAlpha:sGe,orientation:oGe,src:aGe},cGe="webp",lGe=320,uGe=320,dGe="srgb",fGe=3,hGe="uchar",pGe=72,mGe="4:2:0",gGe=!1,vGe=!1,yGe=!1,bGe=1,xGe="https://cdn.oaistatic.com/assets/flowers-jurhmr8v.webp",wGe={format:cGe,width:lGe,height:uGe,space:dGe,channels:fGe,depth:hGe,density:pGe,chromaSubsampling:mGe,isProgressive:gGe,hasProfile:vGe,hasAlpha:yGe,orientation:bGe,src:xGe},SGe="webp",CGe=320,_Ge=320,TGe="srgb",kGe=3,MGe="uchar",EGe=72,PGe="4:2:0",$Ge=!1,AGe=!1,OGe=!1,NGe=1,IGe="https://cdn.oaistatic.com/assets/flowing-lava-jdbf99vs.webp",jGe={format:SGe,width:CGe,height:_Ge,space:TGe,channels:kGe,depth:MGe,density:EGe,chromaSubsampling:PGe,isProgressive:$Ge,hasProfile:AGe,hasAlpha:OGe,orientation:NGe,src:IGe},RGe="webp",DGe=320,LGe=320,FGe="srgb",BGe=3,UGe="uchar",VGe=72,GGe="4:2:0",WGe=!1,HGe=!1,zGe=!1,qGe=1,YGe="https://cdn.oaistatic.com/assets/folk-art-hg6xx30n.webp",KGe={format:RGe,width:DGe,height:LGe,space:FGe,channels:BGe,depth:UGe,density:VGe,chromaSubsampling:GGe,isProgressive:WGe,hasProfile:HGe,hasAlpha:zGe,orientation:qGe,src:YGe},QGe="webp",XGe=320,ZGe=320,JGe="srgb",eWe=3,tWe="uchar",nWe=72,rWe="4:2:0",sWe=!1,oWe=!1,aWe=!1,iWe=1,cWe="https://cdn.oaistatic.com/assets/futurism-cxkk69sh.webp",lWe={format:QGe,width:XGe,height:ZGe,space:JGe,channels:eWe,depth:tWe,density:nWe,chromaSubsampling:rWe,isProgressive:sWe,hasProfile:oWe,hasAlpha:aWe,orientation:iWe,src:cWe},uWe="webp",dWe=320,fWe=320,hWe="srgb",pWe=3,mWe="uchar",gWe=72,vWe="4:2:0",yWe=!1,bWe=!1,xWe=!1,wWe=1,SWe="https://cdn.oaistatic.com/assets/gold-mpv2xmzq.webp",CWe={format:uWe,width:dWe,height:fWe,space:hWe,channels:pWe,depth:mWe,density:gWe,chromaSubsampling:vWe,isProgressive:yWe,hasProfile:bWe,hasAlpha:xWe,orientation:wWe,src:SWe},_We="webp",TWe=200,kWe=200,MWe="srgb",EWe=3,PWe="uchar",$We=72,AWe="4:2:0",OWe=!1,NWe="inch",IWe=!1,jWe=!1,RWe=1,DWe="https://cdn.oaistatic.com/assets/golden-hour-k9pffatz.webp",LWe={format:_We,width:TWe,height:kWe,space:MWe,channels:EWe,depth:PWe,density:$We,chromaSubsampling:AWe,isProgressive:OWe,resolutionUnit:NWe,hasProfile:IWe,hasAlpha:jWe,orientation:RWe,src:DWe},FWe="webp",BWe=320,UWe=320,VWe="srgb",GWe=3,WWe="uchar",HWe=72,zWe="4:2:0",qWe=!1,YWe=!1,KWe=!1,QWe=1,XWe="https://cdn.oaistatic.com/assets/gothic-g2krqi3f.webp",ZWe={format:FWe,width:BWe,height:UWe,space:VWe,channels:GWe,depth:WWe,density:HWe,chromaSubsampling:zWe,isProgressive:qWe,hasProfile:YWe,hasAlpha:KWe,orientation:QWe,src:XWe},JWe="webp",eHe=320,tHe=320,nHe="srgb",rHe=3,sHe="uchar",oHe=72,aHe="4:2:0",iHe=!1,cHe=!1,lHe=!1,uHe=1,dHe="https://cdn.oaistatic.com/assets/graffiti-mitatgc5.webp",fHe={format:JWe,width:eHe,height:tHe,space:nHe,channels:rHe,depth:sHe,density:oHe,chromaSubsampling:aHe,isProgressive:iHe,hasProfile:cHe,hasAlpha:lHe,orientation:uHe,src:dHe},hHe="webp",pHe=200,mHe=200,gHe="srgb",vHe=3,yHe="uchar",bHe=72,xHe="4:2:0",wHe=!1,SHe="inch",CHe=!1,_He=!1,THe=1,kHe="https://cdn.oaistatic.com/assets/hand-drawn-fi9a3wwo.webp",MHe={format:hHe,width:pHe,height:mHe,space:gHe,channels:vHe,depth:yHe,density:bHe,chromaSubsampling:xHe,isProgressive:wHe,resolutionUnit:SHe,hasProfile:CHe,hasAlpha:_He,orientation:THe,src:kHe},EHe="webp",PHe=200,$He=200,AHe="srgb",OHe=3,NHe="uchar",IHe=72,jHe="4:2:0",RHe=!1,DHe="inch",LHe=!1,FHe=!1,BHe=1,UHe="https://cdn.oaistatic.com/assets/high-angle-m5gqvrau.webp",VHe={format:EHe,width:PHe,height:$He,space:AHe,channels:OHe,depth:NHe,density:IHe,chromaSubsampling:jHe,isProgressive:RHe,resolutionUnit:DHe,hasProfile:LHe,hasAlpha:FHe,orientation:BHe,src:UHe},GHe="webp",WHe=320,HHe=320,zHe="srgb",qHe=3,YHe="uchar",KHe=72,QHe="4:2:0",XHe=!1,ZHe=!1,JHe=!1,eze=1,tze="https://cdn.oaistatic.com/assets/high-contrast-jnqc7phz.webp",nze={format:GHe,width:WHe,height:HHe,space:zHe,channels:qHe,depth:YHe,density:KHe,chromaSubsampling:QHe,isProgressive:XHe,hasProfile:ZHe,hasAlpha:JHe,orientation:eze,src:tze},rze="webp",sze=320,oze=320,aze="srgb",ize=3,cze="uchar",lze=72,uze="4:2:0",dze=!1,fze=!1,hze=!1,pze=1,mze="https://cdn.oaistatic.com/assets/ice-kmydbul3.webp",gze={format:rze,width:sze,height:oze,space:aze,channels:ize,depth:cze,density:lze,chromaSubsampling:uze,isProgressive:dze,hasProfile:fze,hasAlpha:hze,orientation:pze,src:mze},vze="webp",yze=200,bze=200,xze="srgb",wze=3,Sze="uchar",Cze=72,_ze="4:2:0",Tze=!1,kze="inch",Mze=!1,Eze=!1,Pze=1,$ze="https://cdn.oaistatic.com/assets/impressionism-gyklwu5o.webp",Aze={format:vze,width:yze,height:bze,space:xze,channels:wze,depth:Sze,density:Cze,chromaSubsampling:_ze,isProgressive:Tze,resolutionUnit:kze,hasProfile:Mze,hasAlpha:Eze,orientation:Pze,src:$ze},Oze="webp",Nze=200,Ize=200,jze="srgb",Rze=3,Dze="uchar",Lze=72,Fze="4:2:0",Bze=!1,Uze="inch",Vze=!1,Gze=!1,Wze=1,Hze="https://cdn.oaistatic.com/assets/ink-wash-j0qrk948.webp",zze={format:Oze,width:Nze,height:Ize,space:jze,channels:Rze,depth:Dze,density:Lze,chromaSubsampling:Fze,isProgressive:Bze,resolutionUnit:Uze,hasProfile:Vze,hasAlpha:Gze,orientation:Wze,src:Hze},qze="webp",Yze=320,Kze=320,Qze="srgb",Xze=3,Zze="uchar",Jze=72,eqe="4:2:0",tqe=!1,nqe=!1,rqe=!1,sqe=1,oqe="https://cdn.oaistatic.com/assets/kawaii-ex5kekpt.webp",aqe={format:qze,width:Yze,height:Kze,space:Qze,channels:Xze,depth:Zze,density:Jze,chromaSubsampling:eqe,isProgressive:tqe,hasProfile:nqe,hasAlpha:rqe,orientation:sqe,src:oqe},iqe="webp",cqe=200,lqe=200,uqe="srgb",dqe=3,fqe="uchar",hqe=72,pqe="4:2:0",mqe=!1,gqe="inch",vqe=!1,yqe=!1,bqe=1,xqe="https://cdn.oaistatic.com/assets/line-art-ux8fq4dt.webp",wqe={format:iqe,width:cqe,height:lqe,space:uqe,channels:dqe,depth:fqe,density:hqe,chromaSubsampling:pqe,isProgressive:mqe,resolutionUnit:gqe,hasProfile:vqe,hasAlpha:yqe,orientation:bqe,src:xqe},Sqe="webp",Cqe=320,_qe=320,Tqe="srgb",kqe=3,Mqe="uchar",Eqe=72,Pqe="4:2:0",$qe=!1,Aqe=!1,Oqe=!1,Nqe=1,Iqe="https://cdn.oaistatic.com/assets/linocut-n9os6mld.webp",jqe={format:Sqe,width:Cqe,height:_qe,space:Tqe,channels:kqe,depth:Mqe,density:Eqe,chromaSubsampling:Pqe,isProgressive:$qe,hasProfile:Aqe,hasAlpha:Oqe,orientation:Nqe,src:Iqe},Rqe="webp",Dqe=320,Lqe=320,Fqe="srgb",Bqe=3,Uqe="uchar",Vqe=72,Gqe="4:2:0",Wqe=!1,Hqe=!1,zqe=!1,qqe=1,Yqe="https://cdn.oaistatic.com/assets/lithograph-o9d0x617.webp",Kqe={format:Rqe,width:Dqe,height:Lqe,space:Fqe,channels:Bqe,depth:Uqe,density:Vqe,chromaSubsampling:Gqe,isProgressive:Wqe,hasProfile:Hqe,hasAlpha:zqe,orientation:qqe,src:Yqe},Qqe="webp",Xqe=320,Zqe=320,Jqe="srgb",eYe=3,tYe="uchar",nYe=72,rYe="4:2:0",sYe=!1,oYe=!1,aYe=!1,iYe=1,cYe="https://cdn.oaistatic.com/assets/low-angle-fnfupolf.webp",lYe={format:Qqe,width:Xqe,height:Zqe,space:Jqe,channels:eYe,depth:tYe,density:nYe,chromaSubsampling:rYe,isProgressive:sYe,hasProfile:oYe,hasAlpha:aYe,orientation:iYe,src:cYe},uYe="webp",dYe=320,fYe=320,hYe="srgb",pYe=3,mYe="uchar",gYe=72,vYe="4:2:0",yYe=!1,bYe=!1,xYe=!1,wYe=1,SYe="https://cdn.oaistatic.com/assets/low-polygon-drremfcy.webp",CYe={format:uYe,width:dYe,height:fYe,space:hYe,channels:pYe,depth:mYe,density:gYe,chromaSubsampling:vYe,isProgressive:yYe,hasProfile:bYe,hasAlpha:xYe,orientation:wYe,src:SYe},_Ye="webp",TYe=200,kYe=200,MYe="srgb",EYe=3,PYe="uchar",$Ye=72,AYe="4:2:0",OYe=!1,NYe="inch",IYe=!1,jYe=!1,RYe=1,DYe="https://cdn.oaistatic.com/assets/minimalist-clwflzm8.webp",LYe={format:_Ye,width:TYe,height:kYe,space:MYe,channels:EYe,depth:PYe,density:$Ye,chromaSubsampling:AYe,isProgressive:OYe,resolutionUnit:NYe,hasProfile:IYe,hasAlpha:jYe,orientation:RYe,src:DYe},FYe="webp",BYe=320,UYe=320,VYe="srgb",GYe=3,WYe="uchar",HYe=72,zYe="4:2:0",qYe=!1,YYe=!1,KYe=!1,QYe=1,XYe="https://cdn.oaistatic.com/assets/mirrored-glass-b2il0ium.webp",ZYe={format:FYe,width:BYe,height:UYe,space:VYe,channels:GYe,depth:WYe,density:HYe,chromaSubsampling:zYe,isProgressive:qYe,hasProfile:YYe,hasAlpha:KYe,orientation:QYe,src:XYe},JYe="webp",eKe=200,tKe=200,nKe="srgb",rKe=3,sKe="uchar",oKe=72,aKe="4:2:0",iKe=!1,cKe="inch",lKe=!1,uKe=!1,dKe=1,fKe="https://cdn.oaistatic.com/assets/mosaic-b1btqmx3.webp",hKe={format:JYe,width:eKe,height:tKe,space:nKe,channels:rKe,depth:sKe,density:oKe,chromaSubsampling:aKe,isProgressive:iKe,resolutionUnit:cKe,hasProfile:lKe,hasAlpha:uKe,orientation:dKe,src:fKe},pKe="webp",mKe=320,gKe=320,vKe="srgb",yKe=3,bKe="uchar",xKe=72,wKe="4:2:0",SKe=!1,CKe=!1,_Ke=!1,TKe=1,kKe="https://cdn.oaistatic.com/assets/moss-o50i3l9n.webp",MKe={format:pKe,width:mKe,height:gKe,space:vKe,channels:yKe,depth:bKe,density:xKe,chromaSubsampling:wKe,isProgressive:SKe,hasProfile:CKe,hasAlpha:_Ke,orientation:TKe,src:kKe},EKe="webp",PKe=320,$Ke=320,AKe="srgb",OKe=3,NKe="uchar",IKe=72,jKe="4:2:0",RKe=!1,DKe=!1,LKe=!1,FKe=1,BKe="https://cdn.oaistatic.com/assets/motion-blur-gv05rnzm.webp",UKe={format:EKe,width:PKe,height:$Ke,space:AKe,channels:OKe,depth:NKe,density:IKe,chromaSubsampling:jKe,isProgressive:RKe,hasProfile:DKe,hasAlpha:LKe,orientation:FKe,src:BKe},VKe="webp",GKe=200,WKe=200,HKe="srgb",zKe=3,qKe="uchar",YKe=72,KKe="4:2:0",QKe=!1,XKe="inch",ZKe=!1,JKe=!1,eQe=1,tQe="https://cdn.oaistatic.com/assets/muted-du7hdk1i.webp",nQe={format:VKe,width:GKe,height:WKe,space:HKe,channels:zKe,depth:qKe,density:YKe,chromaSubsampling:KKe,isProgressive:QKe,resolutionUnit:XKe,hasProfile:ZKe,hasAlpha:JKe,orientation:eQe,src:tQe},rQe="webp",sQe=320,oQe=320,aQe="srgb",iQe=3,cQe="uchar",lQe=72,uQe="4:2:0",dQe=!1,fQe=!1,hQe=!1,pQe=1,mQe="https://cdn.oaistatic.com/assets/neon-lights-d8nergwb.webp",gQe={format:rQe,width:sQe,height:oQe,space:aQe,channels:iQe,depth:cQe,density:lQe,chromaSubsampling:uQe,isProgressive:dQe,hasProfile:fQe,hasAlpha:hQe,orientation:pQe,src:mQe},vQe="webp",yQe=200,bQe=200,xQe="srgb",wQe=3,SQe="uchar",CQe=72,_Qe="4:2:0",TQe=!1,kQe="inch",MQe=!1,EQe=!1,PQe=1,$Qe="https://cdn.oaistatic.com/assets/night-hbuymv0p.webp",AQe={format:vQe,width:yQe,height:bQe,space:xQe,channels:wQe,depth:SQe,density:CQe,chromaSubsampling:_Qe,isProgressive:TQe,resolutionUnit:kQe,hasProfile:MQe,hasAlpha:EQe,orientation:PQe,src:$Qe},OQe="webp",NQe=200,IQe=200,jQe="srgb",RQe=3,DQe="uchar",LQe=72,FQe="4:2:0",BQe=!1,UQe="inch",VQe=!1,GQe=!1,WQe=1,HQe="https://cdn.oaistatic.com/assets/oil-painting-co423r63.webp",zQe={format:OQe,width:NQe,height:IQe,space:jQe,channels:RQe,depth:DQe,density:LQe,chromaSubsampling:FQe,isProgressive:BQe,resolutionUnit:UQe,hasProfile:VQe,hasAlpha:GQe,orientation:WQe,src:HQe},qQe="webp",YQe=320,KQe=320,QQe="srgb",XQe=3,ZQe="uchar",JQe=72,eXe="4:2:0",tXe=!1,nXe=!1,rXe=!1,sXe=1,oXe="https://cdn.oaistatic.com/assets/origami-gi0wg513.webp",aXe={format:qQe,width:YQe,height:KQe,space:QQe,channels:XQe,depth:ZQe,density:JQe,chromaSubsampling:eXe,isProgressive:tXe,hasProfile:nXe,hasAlpha:rXe,orientation:sXe,src:oXe},iXe="webp",cXe=200,lXe=200,uXe="srgb",dXe=3,fXe="uchar",hXe=72,pXe="4:2:0",mXe=!1,gXe="inch",vXe=!1,yXe=!1,bXe=1,xXe="https://cdn.oaistatic.com/assets/pastel-cr2x76ro.webp",wXe={format:iXe,width:cXe,height:lXe,space:uXe,channels:dXe,depth:fXe,density:hXe,chromaSubsampling:pXe,isProgressive:mXe,resolutionUnit:gXe,hasProfile:vXe,hasAlpha:yXe,orientation:bXe,src:xXe},SXe="webp",CXe=320,_Xe=320,TXe="srgb",kXe=3,MXe="uchar",EXe=72,PXe="4:2:0",$Xe=!1,AXe=!1,OXe=!1,NXe=1,IXe="https://cdn.oaistatic.com/assets/pencil-sketch-jej5tpl5.webp",jXe={format:SXe,width:CXe,height:_Xe,space:TXe,channels:kXe,depth:MXe,density:EXe,chromaSubsampling:PXe,isProgressive:$Xe,hasProfile:AXe,hasAlpha:OXe,orientation:NXe,src:IXe},RXe="webp",DXe=200,LXe=200,FXe="srgb",BXe=3,UXe="uchar",VXe=72,GXe="4:2:0",WXe=!1,HXe="inch",zXe=!1,qXe=!1,YXe=1,KXe="https://cdn.oaistatic.com/assets/pinhole-camera-h3tiesrw.webp",QXe={format:RXe,width:DXe,height:LXe,space:FXe,channels:BXe,depth:UXe,density:VXe,chromaSubsampling:GXe,isProgressive:WXe,resolutionUnit:HXe,hasProfile:zXe,hasAlpha:qXe,orientation:YXe,src:KXe},XXe="webp",ZXe=200,JXe=200,eZe="srgb",tZe=3,nZe="uchar",rZe=72,sZe="4:2:0",oZe=!1,aZe="inch",iZe=!1,cZe=!1,lZe=1,uZe="https://cdn.oaistatic.com/assets/pixel-art-mx0dhpvv.webp",dZe={format:XXe,width:ZXe,height:JXe,space:eZe,channels:tZe,depth:nZe,density:rZe,chromaSubsampling:sZe,isProgressive:oZe,resolutionUnit:aZe,hasProfile:iZe,hasAlpha:cZe,orientation:lZe,src:uZe},fZe="webp",hZe=200,pZe=200,mZe="srgb",gZe=3,vZe="uchar",yZe=72,bZe="4:2:0",xZe=!1,wZe="inch",SZe=!1,CZe=!1,_Ze=1,TZe="https://cdn.oaistatic.com/assets/pointillism-ex22jtrp.webp",kZe={format:fZe,width:hZe,height:pZe,space:mZe,channels:gZe,depth:vZe,density:yZe,chromaSubsampling:bZe,isProgressive:xZe,resolutionUnit:wZe,hasProfile:SZe,hasAlpha:CZe,orientation:_Ze,src:TZe},MZe="webp",EZe=320,PZe=320,$Ze="srgb",AZe=3,OZe="uchar",NZe=72,IZe="4:2:0",jZe=!1,RZe=!1,DZe=!1,LZe=1,FZe="https://cdn.oaistatic.com/assets/polished-stone-l3925av0.webp",BZe={format:MZe,width:EZe,height:PZe,space:$Ze,channels:AZe,depth:OZe,density:NZe,chromaSubsampling:IZe,isProgressive:jZe,hasProfile:RZe,hasAlpha:DZe,orientation:LZe,src:FZe},UZe="webp",VZe=320,GZe=320,WZe="srgb",HZe=3,zZe="uchar",qZe=72,YZe="4:2:0",KZe=!1,QZe=!1,XZe=!1,ZZe=1,JZe="https://cdn.oaistatic.com/assets/pop-art-oh53blo7.webp",eJe={format:UZe,width:VZe,height:GZe,space:WZe,channels:HZe,depth:zZe,density:qZe,chromaSubsampling:YZe,isProgressive:KZe,hasProfile:QZe,hasAlpha:XZe,orientation:ZZe,src:JZe},tJe="webp",nJe=320,rJe=320,sJe="srgb",oJe=3,aJe="uchar",iJe=72,cJe="4:2:0",lJe=!1,uJe=!1,dJe=!1,fJe=1,hJe="https://cdn.oaistatic.com/assets/retro-fxftnb6j.webp",pJe={format:tJe,width:nJe,height:rJe,space:sJe,channels:oJe,depth:aJe,density:iJe,chromaSubsampling:cJe,isProgressive:lJe,hasProfile:uJe,hasAlpha:dJe,orientation:fJe,src:hJe},mJe="webp",gJe=200,vJe=200,yJe="srgb",bJe=3,xJe="uchar",wJe=72,SJe="4:2:0",CJe=!1,_Je="inch",TJe=!1,kJe=!1,MJe=1,EJe="https://cdn.oaistatic.com/assets/rococo-oo0q2efk.webp",PJe={format:mJe,width:gJe,height:vJe,space:yJe,channels:bJe,depth:xJe,density:wJe,chromaSubsampling:SJe,isProgressive:CJe,resolutionUnit:_Je,hasProfile:TJe,hasAlpha:kJe,orientation:MJe,src:EJe},$Je="webp",AJe=200,OJe=200,NJe="srgb",IJe=3,jJe="uchar",RJe=72,DJe="4:2:0",LJe=!1,FJe="inch",BJe=!1,UJe=!1,VJe=1,GJe="https://cdn.oaistatic.com/assets/scifi-eqbjbevy.webp",WJe={format:$Je,width:AJe,height:OJe,space:NJe,channels:IJe,depth:jJe,density:RJe,chromaSubsampling:DJe,isProgressive:LJe,resolutionUnit:FJe,hasProfile:BJe,hasAlpha:UJe,orientation:VJe,src:GJe},HJe="webp",zJe=320,qJe=320,YJe="srgb",KJe=3,QJe="uchar",XJe=72,ZJe="4:2:0",JJe=!1,eet=!1,tet=!1,net=1,ret="https://cdn.oaistatic.com/assets/sculpture-qxoc5gce.webp",set={format:HJe,width:zJe,height:qJe,space:YJe,channels:KJe,depth:QJe,density:XJe,chromaSubsampling:ZJe,isProgressive:JJe,hasProfile:eet,hasAlpha:tet,orientation:net,src:ret},oet="webp",aet=320,iet=320,cet="srgb",uet=3,det="uchar",fet=72,het="4:2:0",pet=!1,met=!1,get=!1,vet=1,yet="https://cdn.oaistatic.com/assets/sepia-hsx5avuf.webp",bet={format:oet,width:aet,height:iet,space:cet,channels:uet,depth:det,density:fet,chromaSubsampling:het,isProgressive:pet,hasProfile:met,hasAlpha:get,orientation:vet,src:yet},xet="webp",wet=320,Cet=320,_et="srgb",Tet=3,ket="uchar",Met=72,Eet="4:2:0",Pet=!1,$et=!1,Aet=!1,Oet=1,Net="https://cdn.oaistatic.com/assets/silk-screen-brndy40c.webp",Iet={format:xet,width:wet,height:Cet,space:_et,channels:Tet,depth:ket,density:Met,chromaSubsampling:Eet,isProgressive:Pet,hasProfile:$et,hasAlpha:Aet,orientation:Oet,src:Net},jet="webp",Ret=200,Det=200,Let="srgb",Fet=3,Bet="uchar",Uet=72,Vet="4:2:0",Get=!1,Wet="inch",Het=!1,zet=!1,qet=1,Yet="https://cdn.oaistatic.com/assets/solarpunk-evmffd42.webp",Ket={format:jet,width:Ret,height:Det,space:Let,channels:Fet,depth:Bet,density:Uet,chromaSubsampling:Vet,isProgressive:Get,resolutionUnit:Wet,hasProfile:Het,hasAlpha:zet,orientation:qet,src:Yet},Qet="webp",Xet=320,Zet=320,Jet="srgb",ett=3,ttt="uchar",ntt=72,rtt="4:2:0",stt=!1,ott=!1,att=!1,itt=1,ctt="https://cdn.oaistatic.com/assets/stars-n99hz9sa.webp",ltt={format:Qet,width:Xet,height:Zet,space:Jet,channels:ett,depth:ttt,density:ntt,chromaSubsampling:rtt,isProgressive:stt,hasProfile:ott,hasAlpha:att,orientation:itt,src:ctt},utt="webp",dtt=200,ftt=200,htt="srgb",ptt=3,mtt="uchar",gtt=72,vtt="4:2:0",ytt=!1,btt="inch",xtt=!1,wtt=!1,Stt=1,Ctt="https://cdn.oaistatic.com/assets/steampunk-dr9xshc0.webp",_tt={format:utt,width:dtt,height:ftt,space:htt,channels:ptt,depth:mtt,density:gtt,chromaSubsampling:vtt,isProgressive:ytt,resolutionUnit:btt,hasProfile:xtt,hasAlpha:wtt,orientation:Stt,src:Ctt},Ttt="webp",ktt=320,Mtt=320,Ett="srgb",Ptt=3,$tt="uchar",Att=72,Ott="4:2:0",Ntt=!1,Itt=!1,jtt=!1,Rtt=1,Dtt="https://cdn.oaistatic.com/assets/surrealism-iwryxhax.webp",Ltt={format:Ttt,width:ktt,height:Mtt,space:Ett,channels:Ptt,depth:$tt,density:Att,chromaSubsampling:Ott,isProgressive:Ntt,hasProfile:Itt,hasAlpha:jtt,orientation:Rtt,src:Dtt},Ftt="webp",Btt=320,Utt=320,Vtt="srgb",Gtt=3,Wtt="uchar",Htt=72,ztt="4:2:0",qtt=!1,Ytt=!1,Ktt=!1,Qtt=1,Xtt="https://cdn.oaistatic.com/assets/synthwave-crpfl369.webp",Ztt={format:Ftt,width:Btt,height:Utt,space:Vtt,channels:Gtt,depth:Wtt,density:Htt,chromaSubsampling:ztt,isProgressive:qtt,hasProfile:Ytt,hasAlpha:Ktt,orientation:Qtt,src:Xtt},Jtt="webp",ent=200,tnt=200,nnt="srgb",rnt=3,snt="uchar",ont=72,ant="4:2:0",int=!1,cnt="inch",lnt=!1,unt=!1,dnt=1,fnt="https://cdn.oaistatic.com/assets/tapestry-kvzmlmes.webp",hnt={format:Jtt,width:ent,height:tnt,space:nnt,channels:rnt,depth:snt,density:ont,chromaSubsampling:ant,isProgressive:int,resolutionUnit:cnt,hasProfile:lnt,hasAlpha:unt,orientation:dnt,src:fnt},pnt="webp",mnt=320,gnt=320,vnt="srgb",ynt=3,bnt="uchar",xnt=72,wnt="4:2:0",Snt=!1,Cnt=!1,_nt=!1,Tnt=1,knt="https://cdn.oaistatic.com/assets/ukiyo-e-dip9inlj.webp",Mnt={format:pnt,width:mnt,height:gnt,space:vnt,channels:ynt,depth:bnt,density:xnt,chromaSubsampling:wnt,isProgressive:Snt,hasProfile:Cnt,hasAlpha:_nt,orientation:Tnt,src:knt},Ent="webp",Pnt=320,$nt=320,Ant="srgb",Ont=3,Nnt="uchar",Int=72,jnt="4:2:0",Rnt=!1,Dnt=!1,Lnt=!1,Fnt=1,Bnt="https://cdn.oaistatic.com/assets/victorian-i3zsicnu.webp",Unt={format:Ent,width:Pnt,height:$nt,space:Ant,channels:Ont,depth:Nnt,density:Int,chromaSubsampling:jnt,isProgressive:Rnt,hasProfile:Dnt,hasAlpha:Lnt,orientation:Fnt,src:Bnt},Vnt="webp",Gnt=200,Wnt=200,Hnt="srgb",znt=3,qnt="uchar",Ynt=72,Knt="4:2:0",Qnt=!1,Xnt="inch",Znt=!1,Jnt=!1,ert=1,trt="https://cdn.oaistatic.com/assets/watercolor-l6wpgx1p.webp",nrt={format:Vnt,width:Gnt,height:Wnt,space:Hnt,channels:znt,depth:qnt,density:Ynt,chromaSubsampling:Knt,isProgressive:Qnt,resolutionUnit:Xnt,hasProfile:Znt,hasAlpha:Jnt,orientation:ert,src:trt},rrt="webp",srt=200,ort=200,art="srgb",irt=3,crt="uchar",lrt=72,urt="4:2:0",drt=!1,frt="inch",hrt=!1,prt=!1,mrt=1,grt="https://cdn.oaistatic.com/assets/wide-angle-jjkqemyx.webp",vrt={format:rrt,width:srt,height:ort,space:art,channels:irt,depth:crt,density:lrt,chromaSubsampling:urt,isProgressive:drt,resolutionUnit:frt,hasProfile:hrt,hasAlpha:prt,orientation:mrt,src:grt},yrt="webp",brt=200,xrt=200,wrt="srgb",Srt=3,Crt="uchar",_rt=72,Trt="4:2:0",krt=!1,Mrt="inch",Ert=!1,Prt=!1,$rt=1,Art="https://cdn.oaistatic.com/assets/woodcut-lmhut0ek.webp",Ort={format:yrt,width:brt,height:xrt,space:wrt,channels:Srt,depth:Crt,density:_rt,chromaSubsampling:Trt,isProgressive:krt,resolutionUnit:Mrt,hasProfile:Ert,hasAlpha:Prt,orientation:$rt,src:Art},N6=[{name:O({id:"dalleStyle.3dWireframe",defaultMessage:"3D Wireframe"}),image:_5e},{name:O({id:"dalleStyle.35mmFilm",defaultMessage:"35mm film"}),expandedName:O({id:"dalleStyle.35mmFilmExpanded",defaultMessage:"35mm film style"}),image:u5e},{name:O({id:"dalleStyle.abstract",defaultMessage:"Abstract"}),image:F5e},{name:O({id:"dalleStyle.acrylic",defaultMessage:"Acrylic"}),image:eLe},{name:O({id:"dalleStyle.aerial",defaultMessage:"Aerial"}),expandedName:O({id:"dalleStyle.aerialExpanded",defaultMessage:"Aerial view"}),image:mLe},{name:O({id:"dalleStyle.analogFilm",defaultMessage:"Analog film"}),expandedName:O({id:"dalleStyle.analogFilmExpanded",defaultMessage:"Analog film style"}),image:PLe},{name:O({id:"dalleStyle.artDeco",defaultMessage:"Art deco"}),image:s6e},{name:O({id:"dalleStyle.artNouveau",defaultMessage:"Art nouveau"}),image:y6e},{name:O({id:"dalleStyle.artificialLighting",defaultMessage:"Artificial lighting"}),image:O6e},{name:O({id:"dalleStyle.anime",defaultMessage:"Anime"}),image:WLe},{name:O({id:"dalleStyle.baroque",defaultMessage:"Baroque"}),image:q6e},{name:O({id:"dalleStyle.blackAndWhite",defaultMessage:"Black and white"}),image:c4e},{name:O({id:"dalleStyle.candy",defaultMessage:"Candy"}),expandedName:O({id:"dalleStyle.candyExpanded",defaultMessage:"Made of candy"}),image:S4e},{name:O({id:"dalleStyle.cartoon",defaultMessage:"Cartoon"}),image:X4e},{name:O({id:"dalleStyle.caricature",defaultMessage:"Caricature"}),image:R4e},{name:O({id:"dalleStyle.caveArt",defaultMessage:"Cave art"}),expandedName:O({id:"dalleStyle.caveArtExpanded",defaultMessage:"Cave art style"}),image:f9e},{name:O({id:"dalleStyle.chalkArt",defaultMessage:"Chalk art"}),image:k9e},{name:O({id:"dalleStyle.charcoal",defaultMessage:"Charcoal"}),image:U9e},{name:O({id:"dalleStyle.claymation",defaultMessage:"Claymation"}),image:tFe},{name:O({id:"dalleStyle.closeUp",defaultMessage:"Close-up"}),image:gFe},{name:O({id:"dalleStyle.comicBook",defaultMessage:"Comic book"}),expandedName:O({id:"dalleStyle.comicBookExpanded",defaultMessage:"Comic book style"}),image:AFe},{name:O({id:"dalleStyle.comicStrip",defaultMessage:"Comic strip"}),expandedName:O({id:"dalleStyle.comicStripExpanded",defaultMessage:"Comic strip style"}),image:HFe},{name:O({id:"dalleStyle.conceptArt",defaultMessage:"Concept art"}),image:o7e},{name:O({id:"dalleStyle.cubism",defaultMessage:"Cubism"}),image:Y7e},{name:O({id:"dalleStyle.crayon",defaultMessage:"Crayon"}),expandedName:O({id:"dalleStyle.crayonExpanded",defaultMessage:"Crayon style"}),image:x7e},{name:O({id:"dalleStyle.crystal",defaultMessage:"Crystal"}),expandedName:O({id:"dalleStyle.crystalExpanded",defaultMessage:"Made of crystal"}),image:I7e},{name:O({id:"dalleStyle.cyberpunk",defaultMessage:"Cyberpunk"}),image:c8e},{name:O({id:"dalleStyle.dawn",defaultMessage:"Dawn"}),expandedName:O({id:"dalleStyle.dawnExpanded",defaultMessage:"Dawn lighting"}),image:C8e},{name:O({id:"dalleStyle.digitalArt",defaultMessage:"Digital art"}),image:D8e},{name:O({id:"dalleStyle.dusk",defaultMessage:"Dusk"}),expandedName:O({id:"dalleStyle.duskExpanded",defaultMessage:"Dusk lighting"}),image:X8e},{name:O({id:"dalleStyle.dutchAngle",defaultMessage:"Dutch angle"}),image:dBe},{name:O({id:"dalleStyle.dystopian",defaultMessage:"Dystopian"}),image:TBe},{name:O({id:"dalleStyle.electronics",defaultMessage:"Electronics"}),expandedName:O({id:"dalleStyle.electronicsExpanded",defaultMessage:"Made of electronics"}),image:FBe},{name:O({id:"dalleStyle.expressionism",defaultMessage:"Expressionism"}),image:eUe},{name:O({id:"dalleStyle.extremeCloseUp",defaultMessage:"Extreme close-up"}),image:pUe},{name:O({id:"dalleStyle.fairyTale",defaultMessage:"Fairy tale"}),expandedName:O({id:"dalleStyle.fairyTaleExpanded",defaultMessage:"Fairy tale style"}),image:EUe},{name:O({id:"dalleStyle.fantasy",defaultMessage:"Fantasy"}),image:GUe},{name:O({id:"dalleStyle.fauvism",defaultMessage:"Fauvism"}),image:rVe},{name:O({id:"dalleStyle.feathers",defaultMessage:"Feathers"}),expandedName:O({id:"dalleStyle.feathersExpanded",defaultMessage:"Made of feathers"}),image:vVe},{name:O({id:"dalleStyle.flowers",defaultMessage:"Flowers"}),expandedName:O({id:"dalleStyle.flowersExpanded",defaultMessage:"Made of flowers"}),image:wGe},{name:O({id:"dalleStyle.felt",defaultMessage:"Felt"}),image:OVe},{name:O({id:"dalleStyle.filmNoir",defaultMessage:"Film noir"}),image:qVe},{name:O({id:"dalleStyle.fishEye",defaultMessage:"Fish-eye"}),expandedName:O({id:"dalleStyle.fishEyeExpanded",defaultMessage:"Fish-eye lens"}),image:iGe},{name:O({id:"dalleStyle.folkArt",defaultMessage:"Folk art"}),image:KGe},{name:O({id:"dalleStyle.futurism",defaultMessage:"Futurism"}),expandedName:O({id:"dalleStyle.futurismExpanded",defaultMessage:"Futurism style"}),image:lWe},{name:O({id:"dalleStyle.gold",defaultMessage:"Gold"}),expandedName:O({id:"dalleStyle.goldExpanded",defaultMessage:"Made of gold"}),image:CWe},{name:O({id:"dalleStyle.goldenHour",defaultMessage:"Golden hour"}),expandedName:O({id:"dalleStyle.goldenHourExpanded",defaultMessage:"Golden hour lighting"}),image:LWe},{name:O({id:"dalleStyle.gothic",defaultMessage:"Gothic"}),image:ZWe},{name:O({id:"dalleStyle.graffiti",defaultMessage:"Graffiti"}),expandedName:O({id:"dalleStyle.graffitiExpanded",defaultMessage:"Graffiti style"}),image:fHe},{name:O({id:"dalleStyle.handDrawn",defaultMessage:"Hand-drawn"}),image:MHe},{name:O({id:"dalleStyle.highAngle",defaultMessage:"High angle"}),image:VHe},{name:O({id:"dalleStyle.highContrast",defaultMessage:"High contrast"}),image:nze},{name:O({id:"dalleStyle.ice",defaultMessage:"Ice"}),expandedName:O({id:"dalleStyle.iceExpanded",defaultMessage:"Made of ice"}),image:gze},{name:O({id:"dalleStyle.impressionism",defaultMessage:"Impressionism"}),image:Aze},{name:O({id:"dalleStyle.inkWash",defaultMessage:"Ink wash"}),image:zze},{name:O({id:"dalleStyle.kawaii",defaultMessage:"Kawaii"}),image:aqe},{name:O({id:"dalleStyle.lava",defaultMessage:"Lava"}),expandedName:O({id:"dalleStyle.lavaExpanded",defaultMessage:"Made of flowing lava"}),image:jGe},{name:O({id:"dalleStyle.lineArt",defaultMessage:"Line art"}),image:wqe},{name:O({id:"dalleStyle.linocut",defaultMessage:"Linocut"}),image:jqe},{name:O({id:"dalleStyle.lithograph",defaultMessage:"Lithograph"}),expandedName:O({id:"dalleStyle.lithographExpanded",defaultMessage:"19th-century lithograph style"}),image:Kqe},{name:O({id:"dalleStyle.lowAngle",defaultMessage:"Low angle"}),image:lYe},{name:O({id:"dalleStyle.lowPolygon",defaultMessage:"Low polygon"}),image:CYe},{name:O({id:"dalleStyle.minimalist",defaultMessage:"Minimalist"}),image:LYe},{name:O({id:"dalleStyle.mirroredGlass",defaultMessage:"Mirrored glass"}),expandedName:O({id:"dalleStyle.mirroredGlassExpanded",defaultMessage:"Made of mirrored glass"}),image:ZYe},{name:O({id:"dalleStyle.moss",defaultMessage:"Moss"}),expandedName:O({id:"dalleStyle.mossExpanded",defaultMessage:"Made of moss"}),image:MKe},{name:O({id:"dalleStyle.mosaic",defaultMessage:"Mosaic"}),image:hKe},{name:O({id:"dalleStyle.motionBlur",defaultMessage:"Motion blur"}),image:UKe},{name:O({id:"dalleStyle.muted",defaultMessage:"Muted"}),expandedName:O({id:"dalleStyle.mutedExpanded",defaultMessage:"Muted palette"}),image:nQe},{name:O({id:"dalleStyle.neonLights",defaultMessage:"Neon lights"}),expandedName:O({id:"dalleStyle.neonLightsExpanded",defaultMessage:"Neon lights style"}),image:gQe},{name:O({id:"dalleStyle.night",defaultMessage:"Night"}),expandedName:O({id:"dalleStyle.nightExpanded",defaultMessage:"Night lighting"}),image:AQe},{name:O({id:"dalleStyle.oilPainting",defaultMessage:"Oil painting"}),image:zQe},{name:O({id:"dalleStyle.origami",defaultMessage:"Origami"}),expandedName:O({id:"dalleStyle.origamiExpanded",defaultMessage:"Made of origami"}),image:aXe},{name:O({id:"dalleStyle.pastel",defaultMessage:"Pastel"}),image:wXe},{name:O({id:"dalleStyle.pencilSketch",defaultMessage:"Pencil sketch"}),image:jXe},{name:O({id:"dalleStyle.pinholeCamera",defaultMessage:"Pinhole camera"}),expandedName:O({id:"dalleStyle.pinholeCameraExpanded",defaultMessage:"Pinhole camera style"}),image:QXe},{name:O({id:"dalleStyle.pixelArt",defaultMessage:"Pixel art"}),image:dZe},{name:O({id:"dalleStyle.pointillism",defaultMessage:"Pointillism"}),image:kZe},{name:O({id:"dalleStyle.polishedStone",defaultMessage:"Stone"}),expandedName:O({id:"dalleStyle.polishedStoneExpanded",defaultMessage:"Made of polished stone"}),image:BZe},{name:O({id:"dalleStyle.popArt",defaultMessage:"Pop art"}),image:eJe},{name:O({id:"dalleStyle.retro",defaultMessage:"Retro"}),image:pJe},{name:O({id:"dalleStyle.rococo",defaultMessage:"Rococo"}),image:PJe},{name:O({id:"dalleStyle.scifi",defaultMessage:"Sci-fi"}),image:WJe},{name:O({id:"dalleStyle.sculpture",defaultMessage:"Sculpture"}),image:set},{name:O({id:"dalleStyle.sepia",defaultMessage:"Sepia"}),image:bet},{name:O({id:"dalleStyle.silkScreen",defaultMessage:"Silk screen"}),expandedName:O({id:"dalleStyle.silkScreenExpanded",defaultMessage:"Silk screen style"}),image:Iet},{name:O({id:"dalleStyle.solarpunk",defaultMessage:"Solarpunk"}),image:Ket},{name:O({id:"dalleStyle.stars",defaultMessage:"Stars"}),expandedName:O({id:"dalleStyle.starsExpanded",defaultMessage:"Made of stars"}),image:ltt},{name:O({id:"dalleStyle.steampunk",defaultMessage:"Steampunk"}),image:_tt},{name:O({id:"dalleStyle.surrealism",defaultMessage:"Surrealism"}),image:Ltt},{name:O({id:"dalleStyle.synthwave",defaultMessage:"Synthwave"}),image:Ztt},{name:O({id:"dalleStyle.tapestry",defaultMessage:"Tapestry"}),expandedName:O({id:"dalleStyle.tapestryExpanded",defaultMessage:"Tapestry style"}),image:hnt},{name:O({id:"dalleStyle.ukiyoE",defaultMessage:"Ukiyo-e"}),image:Mnt},{name:O({id:"dalleStyle.victorian",defaultMessage:"Victorian"}),image:Unt},{name:O({id:"dalleStyle.watercolor",defaultMessage:"Watercolor"}),image:nrt},{name:O({id:"dalleStyle.wideAngle",defaultMessage:"Wide-angle"}),expandedName:O({id:"dalleStyle.wideAngleExpanded",defaultMessage:"Wide-angle lens"}),image:vrt},{name:O({id:"dalleStyle.woodcut",defaultMessage:"Woodcut"}),image:Ort}];function Tmt({composerController:e}){const{doesUserHaveAnyAccountsWithPlusFeatures:t}=Cs(),n=U(),r=O6();return i.jsxs("div",{className:$("flex justify-between",!r&&"bg-gradient-to-t from-token-main-surface-primary to-transparent px-4"),children:[i.jsx("div",{className:"flex gap-2",children:i.jsx(Irt,{onClickStyle:s=>{$P(n.formatMessage(s.expandedName??s.name),e)}})}),t&&i.jsx("div",{className:"flex gap-2",children:i.jsx(Nrt,{onClickAspectRatio:s=>$P(n.formatMessage(s.expandedName),e)})})]})}function Nrt({onClickAspectRatio:e}){const t=U();return i.jsxs(ie.Root,{onOpenChange:n=>{n&&(z.logEvent(P.dalleOpenAspectRatioDropdown),E.logEvent(P.dalleOpenAspectRatioDropdown))},children:[i.jsxs(bb,{$as:ie.Trigger,className:"pr-1.5",children:[i.jsx(S,{id:"dalleControls.aspectRatio",defaultMessage:"Aspect Ratio"}),i.jsx(gA,{className:"icon-md"})]}),i.jsx(ie.Portal,{children:i.jsx(ie.Content,{children:KDe.map(n=>i.jsx(ie.Item,{onClick:()=>{e(n),z.logEvent(P.dalleClickAspectRatio,n.name.defaultMessage?.toString()),E.logEvent(P.dalleClickAspectRatio,{aspectRatio:n.name.defaultMessage})},icon:n.icon,children:t.formatMessage(n.name)},n.name.id))})})]})}function Irt({onClickStyle:e}){const[t,n]=p.useState(PP()),r=Eo(),s=mR(),o=$o(),a=U();let c=2;return o||(s?c=5:r&&(c=3)),i.jsxs(i.Fragment,{children:[t.slice(0,c).map(l=>i.jsx(rt,{label:i.jsx(jrt,{style:l}),side:"top",sideOffset:4,customPaddingClassName:"p-1",children:i.jsxs(bb,{$as:"button",type:"button",onClick:()=>{e(l),z.logEvent(P.dalleClickStyle,l.name.defaultMessage?.toString()),E.logEvent(P.dalleClickStyle,{style:l.name.defaultMessage})},children:[i.jsx(U7,{className:"h-4 w-4 text-token-text-tertiary"}),a.formatMessage(l.name)]})},l.name.id)),i.jsx(bb,{$as:"button",type:"button",onClick:()=>{n(PP()),z.logEvent(P.dalleShuffleStyles),E.logEvent(P.dalleShuffleStyles)},children:i.jsx(HDe,{className:"icon-sm text-token-text-tertiary"})}),N6.map(l=>i.jsx("img",{src:l.image.src,alt:a.formatMessage(l.name),width:100,height:100,className:"invisible fixed -left-96 -top-96"},l.name.id))]})}function jrt({style:e}){const t=U();return i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("img",{src:e.image.src,alt:t.formatMessage(e.name),width:100,height:100,className:"rounded-md"}),i.jsx("div",{className:"text-xs font-medium",children:t.formatMessage(e.name)})]})}function PP(){return[...N6].sort(()=>Math.random()-.5)}function Rrt(e,t){const n=t.getCurrentText();return n.trim()===""?e:n.endsWith(",")?` ${e.toLocaleLowerCase()}`:n.endsWith(", ")?e.toLocaleLowerCase():`, ${e.toLocaleLowerCase()}`}function $P(e,t){const n=Rrt(e,t);t.appendText(n),Q1()}const bb=Se.div`h-7 bg-token-main-surface-primary border border-token-border-light text-xs hover:bg-token-main-surface-secondary hover:text-token-text-primary px-2.5 radix-state-open:bg-token-main-surface-secondary radix-state-open:text-token-text-primary rounded-full flex flex-nowrap gap-0.5 items-center text-token-text-secondary font-normal`;function kmt({clientThreadId:e}){const t=Rc(e);return t!=null?i.jsx(Drt,{clientThreadId:e,gizmoId:t}):i.jsx(I6,{clientThreadId:e})}function Drt({clientThreadId:e,gizmoId:t}){const n=Xa(t).data,r=Ca(o=>vr.getThreadCreateTime(e,o)),s=n?.gizmo.updated_at!=null?new Date(n.gizmo.updated_at):void 0;return n?.gizmo.short_url==null||s==null||r==null||s<=r?i.jsx(I6,{clientThreadId:e}):i.jsxs("div",{className:"text-token-text-tertiary",children:[i.jsx(mA,{className:"text-token-secondary mb-1 mr-1 inline-block h-4 w-4 stroke-0"}),i.jsx(S,{...ba.outdatedGptDisclaimer,values:{link:o=>i.jsx(Ga,{to:Hh(n.gizmo.short_url),className:"underline",children:o},`gizmo-link-${n.gizmo.short_url}`),bold:o=>i.jsx("span",{className:"text-token-secondary font-semibold",children:o},`gizmo-bold-${n.gizmo.short_url}`)}})]})}function I6({clientThreadId:e}){const t=zn(Ma.isBusinessWorkspace),r=zn(l=>l.currentWorkspace)?.name,{isUnauthenticated:s,isLoading:o}=It();if(o)return null;if(t)return i.jsx("div",{children:r!=null?i.jsx(S,{...ba.businessDisclaimer,values:{workspaceName:r}}):i.jsx(S,{...ba.businessDisclaimerNoName})});const c=X$({clientThreadId:e,role:he.User})>0;return s&&!c?i.jsx(Ua,{children:i.jsx(j6,{clientThreadId:e})}):i.jsx("div",{children:i.jsx(S,{...ba.mayProduceInaccurateInformation})})}function j6({clientThreadId:e}){const{country:t}=Ic(),n=t==="KR"?ba.mayProduceInaccurateInformationNoAuthKorea:ba.mayProduceInaccurateInformationNoAuthV2,{layer:r}=$$("3533083032"),s=r.get("disclaimer_color_adjust",!1);return p.useEffect(()=>()=>{X$({clientThreadId:e,role:he.User})>0&&HL.updateHasAcceptedFooterDisclaimer()},[e]),i.jsx("span",{className:"text-sm leading-none",children:i.jsx(S,{...n,values:{privacyLink:o=>i.jsx("a",{href:"https://openai.com/privacy",target:"_blank",className:$(s?"text-token-text-secondary":"text-token-text-primary","underline decoration-token-text-primary"),onClick:()=>{z.logEvent("chatgpt_footer_disclaimer_privacy_link_clicked"),E.logEvent(P.footerDisclaimerPrivacyLinkClicked)},rel:"noreferrer",children:o}),termsLink:o=>i.jsx("a",{href:"https://openai.com/terms",target:"_blank",className:$(s?"text-token-text-secondary":"text-token-text-primary","underline decoration-token-text-primary"),onClick:()=>{z.logEvent("chatgpt_footer_disclaimer_terms_link_clicked"),E.logEvent(P.footerDisclaimerTermsLinkClicked)},rel:"noreferrer",children:o}),koreaAddendumLink:o=>i.jsx("a",{href:"https://openai.com/ko/policies/kr-privacy-policy-addendum",target:"_blank",className:"text-token-text-primary underline decoration-token-text-primary",onClick:()=>{z.logEvent("chatgpt_footer_disclaimer_korea_addendum_link_clicked"),E.logEvent(P.footerDisclaimerKoreaAddendumLinkClicked)},rel:"noreferrer",children:o})}})})}const ba=K({mayProduceInaccurateInformation:{id:"thread.chatgptMayProduceInaccurateInformation-oct-30",defaultMessage:"ChatGPT can make mistakes. Check important info."},mayProduceInaccurateInformationNoAuthV2:{id:"thread.chatgptMayProduceInaccurateInformationNoAuth-may-06",defaultMessage:"By messaging ChatGPT, you agree to our <termsLink>Terms</termsLink> and have read our <privacyLink>Privacy Policy</privacyLink>."},mayProduceInaccurateInformationNoAuthKorea:{id:"thread.chatgptMayProduceInaccurateInformationNoAuthKorea-may-06",defaultMessage:"By messaging ChatGPT, you agree to our <termsLink>Terms</termsLink> and have read our <privacyLink>Privacy Policy</privacyLink> and its <koreaAddendumLink>Korea addendum</koreaAddendumLink>."},businessDisclaimer:{id:"thread.businessDisclaimer-oct-30",defaultMessage:"{workspaceName} workspace chats aren't used to train our models. ChatGPT can make mistakes."},businessDisclaimerNoName:{id:"thread.businessDisclaimerNoName-oct-30",defaultMessage:"Your workspace chats aren'ts used to train our models. ChatGPT can make mistakes."},outdatedGptDisclaimer:{id:"thread.outdatedGptDisclaimer.0",defaultMessage:"<bold>New version of GPT available</bold> - Continue chatting to use the old version, or start a <link>new chat</link> for the latest version."}});function Mmt({threadId:e}){const t=L$();p.useEffect(()=>{HL.updateBannerDisclaimerClientThreadId(e),z.logEvent("chatgpt_unauthenticated_legal_banner"),E.logEvent(P.unauthLegalBanner,{threadId:e})},[e]);const n=t?Da.bannerTermsDisclaimer:Da.bannerTermsDisclaimerSafetyAndAbuse;return i.jsxs(o0e,{type:"none",children:[i.jsx(j6,{clientThreadId:e}),i.jsx("br",{}),i.jsx(S,{...n,values:{learnMoreLink:r=>i.jsx("a",{href:"https://help.openai.com/en/articles/5722486-how-your-data-is-used-to-improve-model-performance",target:"_blank",className:"text-token-text-primary underline",onClick:()=>{z.logEvent("chatgpt_unauthenticated_banner_learn_more_clicked"),E.logEvent(P.unauthDisclaimerBannerLearnMoreClicked,{threadId:e})},children:r})}})]})}function Emt({threadId:e,showLogin:t=!0}){const n=U();p.useEffect(()=>{z.logEvent("chatgpt_unauthenticated_signup_banner"),E.logEvent(P.unauthSignupBanner,{threadId:e})},[e]);const r=vn();return i.jsx(fi,{content:n.formatMessage(Da.bannerSignup),onPrimaryCtaClick:()=>{r({authType:"signup",callback:s=>{z.logEvent("chatgpt_unauthenticated_banner_signup_button_clicked"),E.logSignUpButtonClicked({location:"Chat Stage Signup Banner",provider:s})}})},primaryCtaText:n.formatMessage(Da.bannerSignupButton),onSecondaryCtaClick:t?()=>{r({authType:"login",callback:s=>{z.logEvent("chatgpt_unauthenticated_banner_login_button_clicked"),E.logLogInButtonClicked({location:"Chat Stage Signup Banner",provider:s})}})}:void 0,secondaryCtaText:t?n.formatMessage(Zt.logInButtonText):void 0})}function Pmt({threadId:e,showSignUp:t}){const n=U();p.useEffect(()=>{z.logEvent("chatgpt_unauthenticated_login_banner"),E.logEvent(P.unauthLoginBanner,{threadId:e})},[e]);const r=vn();return i.jsx(fi,{content:n.formatMessage(Da.bannerSignup),onPrimaryCtaClick:()=>{r({authType:"login",callback:s=>{z.logEvent("chatgpt_unauthenticated_banner_login_button_clicked"),E.logLogInButtonClicked({location:"Chat Stage Login Banner",provider:s})}})},primaryCtaText:n.formatMessage(Zt.logInButtonText),onSecondaryCtaClick:t?()=>{r({authType:"signup",callback:s=>{z.logEvent("chatgpt_unauthenticated_banner_signup_button_clicked"),E.logSignUpButtonClicked({location:"Chat Stage Login Banner",provider:s})}})}:void 0,secondaryCtaText:t?n.formatMessage(Da.bannerSignupButton):void 0})}const Da=K({bannerTermsDisclaimer:{id:"bannerTermsDisclaimer",defaultMessage:"Don't share sensitive info. Chats may be reviewed and used to train our models. <learnMoreLink>Learn more</learnMoreLink>"},bannerTermsDisclaimerSafetyAndAbuse:{id:"pDsoLk",defaultMessage:"Don't share sensitive information. Chats may be reviewed for safety and abuse prevention. <learnMoreLink>Learn more</learnMoreLink>"},bannerSignup:{id:"4qlPtW",defaultMessage:"Get smarter responses, upload files and images, and more."},bannerSignupButton:{id:"hedgehog.banner_signup_button",defaultMessage:"Sign up"}}),R6="https://cdn.oaistatic.com/assets/app-slack-icon-edtfy1gb.png",MS=Se.section`max-w-sm flex flex-col gap-2 rounded-2xl border border-token-border-light p-4 shadow items-center`,Lrt=.9;function D6(e){return e.sync_phase==="discovering"||e.sync_phase==="syncing"&&e.items_synced<e.items_discovered*Lrt}function $mt(){const[e,t]=p.useState(void 0),[n,r]=p.useState(void 0);p.useEffect(()=>{(async()=>{try{const[f,h]=await Promise.all([X.getKnowledgeStoreStatus("google_drive"),X.getKnowledgeStoreStatus("slack")]);t(f),r(h)}catch{t(void 0),r(void 0)}})()},[]);const{isSuccess:s,data:o,isLoading:a}=me({queryKey:["getCaSyncStatus"],queryFn:X.getCaSyncStatus,refetchInterval:d=>{switch(d.state.status){case"error":return 30*1e3;case"success":return d.state.data?.connectors?.length?d.state.data?.connectors.some(D6)?3*1e3:!1:30*1e3;case"pending":return 30*1e3}}}),c=s&&!a&&o?o.connectors:[],l=e?.credential_type==="user_oauth"||n?.credential_type==="user_oauth",u=e?.exist||n?.exist;return i.jsx("div",{className:"p-7",children:u===void 0?i.jsx(In,{}):u?l?i.jsx(Urt,{syncStatuses:c,gDriveKnowledgeStoreOAuthType:e?.credential_type,slackKnowledgeStoreOAuthType:n?.credential_type}):i.jsx(Brt,{}):i.jsx(Frt,{})})}function Frt(){return i.jsxs(MS,{className:"text-center",children:[i.jsx("p",{className:"mb-1 text-lg font-bold text-token-text-primary",children:i.jsx(S,{id:"hv8AR4",defaultMessage:"Your Workspace Is Not Set Up For Synced Connectors"})}),i.jsxs("p",{className:"mb-1 text-sm text-token-text-secondary",children:[i.jsx(S,{id:"0yexmP",defaultMessage:"ChatGPT's answers will not be enhanced with knowledge from synced files."})," ",i.jsx(S,{id:"gLcU9K",defaultMessage:"Please contact your organization's administrator to enable this feature."})]})]})}function Brt(){return i.jsx(MS,{className:"text-center",children:i.jsx("p",{className:"mb-1 text-sm text-token-text-primary",children:i.jsx(S,{id:"LvrAFF",defaultMessage:"Your ChatGPT Workspace Is Connected With Your Company Data"})})})}function Urt({syncStatuses:e,gDriveKnowledgeStoreOAuthType:t,slackKnowledgeStoreOAuthType:n}){const{config:r}=bh("1001765573"),s=r.get("ca_sk_enabled",!1);return i.jsxs(MS,{className:"text-center",children:[i.jsx("p",{className:"mb-1 text-lg font-bold text-token-text-primary",children:i.jsx(S,{id:"1NWyN0",defaultMessage:"Ask ChatGPT about work"})}),i.jsx("p",{className:"mb-1 text-sm text-token-text-secondary",children:i.jsx(S,{id:"QeUvu+",defaultMessage:"Connect your workplace accounts so ChatGPT can reference work files."})}),i.jsxs("div",{className:"my-1 w-full",children:[t==="user_oauth"&&i.jsx(AP,{type:ic.GDRIVE_SYNC_CONNECTOR,syncStatuses:e}),s&&n==="user_oauth"&&i.jsx(AP,{type:ic.SLACK_SYNC_CONNECTOR,syncStatuses:e})]}),i.jsx("p",{className:"max-w-64 text-xs text-token-text-tertiary",children:i.jsx(S,{id:"K/YIKe",defaultMessage:"{workspaceName} workspace chats and connections aren't used to train our models.",values:{workspaceName:"OpenAI"}})})]})}function AP({type:e,syncStatuses:t}){let n;switch(e){case ic.GDRIVE_SYNC_CONNECTOR:n=Ya;break;case ic.SLACK_SYNC_CONNECTOR:n=c=>i.jsx("img",{src:R6,...c,alt:""});break}const r=p.useMemo(()=>t.filter(c=>c.connector===e)[0],[t,e]),{connectors:s}=LL([e]),o=s.get(e);if(!o)return null;const a=!!o.access_token;return i.jsx(Grt,{entry:o,syncStatus:r,isConnected:a,onConnect:jL,appIcon:n})}function Vrt({children:e}){return i.jsx("div",{className:"btn-secondary btn hover:bg-inherit relative mb-2 flex w-full items-center justify-center rounded-lg p-3",children:e})}const Grt=({entry:e,isConnected:t,syncStatus:n,onConnect:r,appIcon:s})=>{let o="Google";e.type===ic.SLACK_SYNC_CONNECTOR&&(o="Slack");const a=!n||n.sync_phase==="unknown",c=t&&!a&&D6(n),l=t&&!a&&!c,u=l?vA:s;return t?i.jsxs(Vrt,{loading:!l,children:[u&&i.jsx(u,{className:$("mx-2 h-5 w-5 flex-initial",l&&"text-green-500")}),i.jsxs("div",{className:$("flex-auto",l&&"mr-9"),children:[i.jsx("p",{children:l?i.jsx(S,{...sv.connected,values:{appName:o}}):i.jsx(S,{...sv.syncing,values:{appName:o}})}),i.jsx("p",{className:$("w-full text-sm text-token-text-secondary",c?"pt-2":"py-2"),children:a?i.jsx(S,{id:"i/Sjic",defaultMessage:"Getting sync status…"}):n.sync_phase==="discovering"?i.jsx(S,{id:"Tjc7M6",defaultMessage:"Discovering files…"}):c?i.jsx(S,{id:"7YaAvy",defaultMessage:"Indexing files…"}):i.jsx(S,{id:"DAsSAe",defaultMessage:"Your files are ready to use."})}),c&&i.jsx("p",{className:"w-full pb-2 text-sm text-token-text-tertiary",children:n.sync_phase==="discovering"?i.jsx(S,{id:"9cbJqo",defaultMessage:"{items_synced} files processed",values:{items_synced:n.items_synced.toLocaleString()}}):i.jsx(S,{id:"XpeElU",defaultMessage:"{items_synced}/{items_discovered} files processed",values:{items_synced:n.items_synced.toLocaleString(),items_discovered:n.items_discovered.toLocaleString()}})})]}),!l&&i.jsx("div",{className:"mx-2 w-5",children:i.jsx(In,{})})]}):i.jsxs(ce,{fullWidth:!0,contentsFullWidth:!0,onClick:()=>r({id:e.id},"settings_connected_apps",`${window.location.origin}/ca/${e.id}/oauth/callback`,"?model=gpt-4o-gdrive&onboarding=true"),color:"secondary",size:"medium",className:"mb-2 rounded-lg p-3",children:[u&&i.jsx(u,{className:"mx-2 h-5 w-5 flex-initial"}),i.jsx("div",{className:"mr-9 flex-auto",children:i.jsx("p",{children:i.jsx(S,{...sv.connect,values:{appName:o}})})})]})},sv=K({connect:{id:"caOnboarding.connect",defaultMessage:"Connect to {appName}"},syncing:{id:"caOnboarding.syncing",defaultMessage:"Syncing with {appName}"},connected:{id:"caOnboarding.connected",defaultMessage:"Connected to {appName}"}});function Amt(){const{store:e}=gS(),t=e.useSharedProps(),n=aV(),{clearSearchModeTrigger:r,getSearchModeTrigger:s}=VMe();return p.useCallback(async(o,a,c)=>{if(!t)return;const{clientThreadId:l,currentLeafId:u,onCreateNewCompletion:d,onResetState:f,conversationMode:h}=t;ze.hideThreadHeader();const m=`${u}-nextPrompt`,g=new jd,v=n.has($t.Search),y=v?s():void 0;await d({promptId:m,content:ia(o),eventMetadata:{eventSource:"mouse"},completionMetadata:{suggestions:a,suggestion:o,suggestionIndex:c,conversationMode:h??vr.getConversationMode(l),systemHints:[...n],searchSource:y},messageMetadata:{is_starter_prompt:!0,suggestion_type:o.type,starter_prompt_id:"id"in o?o.id:null},turnTracker:g});const b=L.getTree(l).getMessageId(m);f(),fke(o,c,l,b),Q1(),y&&v&&r()},[t,n,s,r])}function OP(e){return(w2(e)?e.promptStarters:e.gizmo.display.prompt_starters)?.map(t=>({type:it.Starter,title:"",body:t,prompt:t}))}function Omt(e,t,n,r,s,o){const a=Fr(),c=xh(t),l=Xa(c?.kind===$e.GizmoInteraction?c.gizmo_id:void 0).data,{gizmoEditorData:u,mode:d}=Pl(),f=uRe(c),h=De(),m=e&&!f&&(r||!h?.isEnterprisey()),{data:g,isLoading:v,isSuccess:y,isError:x}=me({queryKey:["promptStarters",t,n,s,o],queryFn:()=>X.getSampledPromptStarter(n,s,o),enabled:m});return a==null?{promptStarters:[],isLoading:!0,isSuccess:!1}:d==="test"&&u?{promptStarters:OP(u)??[],isLoading:!1,isSuccess:!0}:l!=null?{promptStarters:OP(l),isLoading:!1,isSuccess:!0}:m?{promptStarters:g?.items.map(b=>({type:it.Starter,id:b.id,title:b.title,body:b.description,prompt:b.prompt,category:b.category,oneliner:b.oneliner,theme:b.theme,requires_file_upload:b.requires_file_upload}))??[],isLoading:v,isSuccess:y,isError:x}:{promptStarters:[],isLoading:!1,isSuccess:!0}}function Nmt(e){return e.shouldRender?i.jsx(Wrt,{...e}):null}function Wrt({contentArea:e,children:t}){const{store:n}=gS(),r=p.useRef(null);return n.useContentAreaResizeObserver(e,r),i.jsx("div",{ref:r,className:$("relative h-full w-full"),children:t})}function Imt(){const{layer:e}=_n("3637408529");return e.get("is_secondary_auth_banner_button_enabled",!1)}function L6(e,t,n){try{const r=JSON.parse(window.localStorage.getItem(e)??"");return n(r)?r:t}catch{return t}}function Hrt(e,t){window.localStorage.setItem(e,JSON.stringify(t))}const NP=Le(e=>({data:{},setItem:(t,n)=>e(r=>({data:{...r.data,[t]:n}}))}));function jmt(e,t,n){const[r,s]=p.useState(!1),o=NP(l=>l.data[e]),a=NP(l=>l.setItem);return p.useEffect(()=>{if(!r){const l=L6(e,t,n);a(e,l),s(!0)}},[r,e,t,n,a]),p.useEffect(()=>{r&&Hrt(e,o)},[e,o,r]),[o??t,l=>{a(e,l)}]}var zrt=NF,qrt=E$,Yrt=Wb,Krt="[object Object]",Qrt=Function.prototype,Xrt=Object.prototype,F6=Qrt.toString,Zrt=Xrt.hasOwnProperty,Jrt=F6.call(Object);function est(e){if(!Yrt(e)||zrt(e)!=Krt)return!1;var t=qrt(e);if(t===null)return!0;var n=Zrt.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&F6.call(n)==Jrt}var tst=est;const nst=ye(tst),rst={base_config:void 0,eval_preset:void 0,completion_model:void 0},sst="internal_search_settings",ost=e=>nst(e);function Rmt(){const e=L6(sst,rst,ost);return IF(e,t=>!!t)}function ast(){return{}}const IP=new WeakMap;function B6(e){const t=IP.get(e);if(!t){const n=new Set;return IP.set(e,n),n}return t}function ist(e,t){B6(e).add(t)}function cst(e,t){B6(e).delete(t)}function Dmt(e){return!1}function Lmt(e){const t=yh(),[n]=p.useState(ast);p.useEffect(()=>{if(t&&e)return ist(t,n),()=>cst(t,n)},[e,t,n])}const Fmt=({svgString:e,className:t})=>{const n=i.jsx("div",{className:t});return i.jsx(Z$,{name:"StringToSVG",fallback:n,children:i.jsx("div",{className:$("[&_svg]:h-full [&_svg]:w-full",t),dangerouslySetInnerHTML:{__html:e}})})};function lst(e){const t=p.useContext(jF);return({id:r,requestedModelId:s,eventMetadata:o,focusOnNewCompletion:a=!0,variantPurpose:c="none",useDefaultModel:l,appendMessages:u,conversationMode:d,juice:f=void 0,turnTracker:h,extraStreamParams:m})=>{const v=L.getTree(e).getParentPromptNode(r),y=v.id;t({type:ds.Variant,promptId:y,requestedModelId:s,eventMetadata:o,cancelActiveRequests:!1,focusOnNewCompletion:a,useDefaultModel:l,completionMetadata:{variantPurpose:c,conversationMode:d,juice:f,systemHints:v.message.metadata?.system_hints,searchSource:m?.forceUseSearch===!0?fv.CONVERSATION_REGENERATE_WITH_SEARCH:m?.forceUseSearch===!1?fv.CONVERSATION_REGENERATE_WITHOUT_SEARCH:void 0},appendMessages:u,turnTracker:h,extraStreamParams:m})}}function ust(e,t,n){var r=-1,s=e.length;t<0&&(t=-t>s?0:s+t),n=n>s?s:n,n<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(s);++r<s;)o[r]=e[r+t];return o}var dst=ust,fst=dst;function hst(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:fst(e,t,n)}var pst=hst,mst="\\ud800-\\udfff",gst="\\u0300-\\u036f",vst="\\ufe20-\\ufe2f",yst="\\u20d0-\\u20ff",bst=gst+vst+yst,xst="\\ufe0e\\ufe0f",wst="\\u200d",Sst=RegExp("["+wst+mst+bst+xst+"]");function Cst(e){return Sst.test(e)}var U6=Cst;function _st(e){return e.split("")}var Tst=_st,V6="\\ud800-\\udfff",kst="\\u0300-\\u036f",Mst="\\ufe20-\\ufe2f",Est="\\u20d0-\\u20ff",Pst=kst+Mst+Est,$st="\\ufe0e\\ufe0f",Ast="["+V6+"]",xb="["+Pst+"]",wb="\\ud83c[\\udffb-\\udfff]",Ost="(?:"+xb+"|"+wb+")",G6="[^"+V6+"]",W6="(?:\\ud83c[\\udde6-\\uddff]){2}",H6="[\\ud800-\\udbff][\\udc00-\\udfff]",Nst="\\u200d",z6=Ost+"?",q6="["+$st+"]?",Ist="(?:"+Nst+"(?:"+[G6,W6,H6].join("|")+")"+q6+z6+")*",jst=q6+z6+Ist,Rst="(?:"+[G6+xb+"?",xb,W6,H6,Ast].join("|")+")",Dst=RegExp(wb+"(?="+wb+")|"+Rst+jst,"g");function Lst(e){return e.match(Dst)||[]}var Fst=Lst,Bst=Tst,Ust=U6,Vst=Fst;function Gst(e){return Ust(e)?Vst(e):Bst(e)}var Wst=Gst,Hst=pst,zst=U6,qst=Wst,Yst=J$;function Kst(e){return function(t){t=Yst(t);var n=zst(t)?qst(t):void 0,r=n?n[0]:t.charAt(0),s=n?Hst(n,1).join(""):t.slice(1);return r[e]()+s}}var Qst=Kst,Xst=Qst,Zst=Xst("toUpperCase"),Jst=Zst,eot=J$,tot=Jst;function not(e){return tot(eot(e).toLowerCase())}var rot=not;const Bmt=ye(rot);function Umt({children:e}){let t;return p.Children.forEach(e,n=>{if(p.isValidElement(n)&&n.type==="title"){const r=p.Children.toArray(n.props.children)[0];typeof r=="string"&&(t=r)}}),p.useEffect(()=>{if(t!=null){const n=document.title;return document.title=t,()=>{document.title=n}}},[t]),null}function sot(){const e=tn(),t=Fe(),{isUnauthenticated:n}=It(),r=lt("3376455464")?.value,{openSettings:s}=WD();return i.jsx(i.Fragment,{children:i.jsxs(Ih,{triggerButton:i.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-full border border-token-border-light text-xs text-token-text-secondary",children:"?"}),children:[e&&!n&&i.jsx(ie.Item,{onClick:o=>{ml(e.id,t,o).then(()=>{t.success("Copied your User ID to clipboard")})},icon:cx,children:e.email}),i.jsx(_Oe,{}),i.jsx(ie.Item,{icon:V7,onClick:()=>{ze.openModal(gt.KeyboardActions)},children:i.jsx(S,{id:"thread.keyboardShortcutsMenu",defaultMessage:"Keyboard shortcuts"})}),r&&i.jsx(ie.Item,{icon:G7,onClick:()=>{ze.openModal(gt.ReportConversation)},children:i.jsx(S,{id:"thread.report",defaultMessage:"Report Illegal Content"})}),n&&i.jsx(ie.Item,{onClick:()=>s(),icon:W7,children:i.jsx(S,{id:"helpMenu.items.settings",defaultMessage:"Settings"})})]})})}const oot=Object.freeze(Object.defineProperty({__proto__:null,default:sot},Symbol.toStringTag,{value:"Module"}));function aot(e){return e.sub_reasons.length===0&&e.details_placeholder==null&&e.link_attachment==null&&e.subtext==null}function iot(e,t,n){const r=Fe();return vt({mutationFn:s=>X.postReport({...s,entity_type:n,entity_id:t}),onError:s=>{ue.addError(new Error("Error occurred while reporting",{cause:s}),{entityType:n,id:t}),r.danger(e.formatMessage({id:"report.submitError",defaultMessage:"Error reporting: {detail}"},{detail:s.message}))}})}function cot(e){return me({queryKey:["reportReasons",{entityType:e}],queryFn:()=>X.getReportReasons(e)})}function lot({name:e,placeholder:t,type:n,list:r,displayName:s,onChange:o,onFocus:a,onBlur:c,value:l,saveOnBlur:u,icon:d,onInputIconClick:f,className:h,autoComplete:m,autoFocus:g,onPressEnter:v,disabled:y,maxLength:x,color:b="tertiary"},w){const[C,T]=p.useState(l),_=p.useCallback(A=>{c?.(A),u&&T(A.target.value)},[c,u]),k=p.useCallback(A=>{o?.(A),u&&T(A.target.value)},[o,u]),M=p.useCallback(A=>{A.key==="Enter"&&v&&(A.preventDefault(),v(C))},[v,C]);p.useEffect(()=>{T(l)},[l]);const I={...u?{}:{value:l},...u?{value:C}:{}};return i.jsxs("div",{className:$("rounded-md border shadow-none",b==="neutral"&&"border-transparent px-3 py-2 focus-within:border-green-500 focus-within:bg-token-main-surface-tertiary focus-within:ring-1 focus-within:ring-transparent hover:bg-token-main-surface-tertiary",b==="tertiary"&&"border-token-border-medium px-3 py-2 focus-within:border-token-border-xheavy focus-within:ring-1 focus-within:ring-token-text-secondary",b==="search"&&"rounded-xl border-token-border-medium bg-token-main-surface-primary p-4 focus-within:border-token-border-xheavy focus-within:ring-0 dark:border-token-border-medium dark:focus-within:border-token-border-xheavy dark:focus-within:ring-0",h),children:[i.jsx("label",{htmlFor:e,className:"block text-xs font-semibold text-token-text-primary",children:s}),i.jsxs("div",{className:$(s&&"mt-1","relative"),children:[i.jsx("input",{ref:w,type:n,name:e,id:e,list:r,className:$("block w-full border-0 p-0 placeholder-gray-500 shadow-none outline-none focus-within:shadow-none focus-within:outline-none focus-within:ring-0 focus:border-none focus:ring-0 sm:text-sm",d!=null&&"pr-6",b==="neutral"||b==="search"?"bg-transparent":"bg-token-main-surface-primary text-token-text-primary"),placeholder:t,onBlur:_,onFocus:a,onChange:k,onKeyDown:M,autoComplete:m,autoFocus:g,disabled:y,maxLength:x,...I}),d!=null&&i.jsx(uot,{onClick:f,children:i.jsx(d,{className:"icon-sm"})})]})]})}const Sb=Q.forwardRef(lot),uot=Se.button`absolute right-0 top-1/2 -translate-y-1/2`,dot=Se.div`divide-y overflow-hidden rounded-md border border-token-border-medium`,fot=Se.button`w-full border-token-border-medium p-2 text-left text-sm hover:bg-token-main-surface-secondary`,hot=Se.div`text-sm font-semibold`,pot=Se.div`text-sm text-token-text-secondary`;function Qo({header:e,subHeader:t}){return e==null&&t==null?null:i.jsxs("div",{className:"mb-4",children:[e!=null&&i.jsx(hot,{children:e}),t!=null&&i.jsx(pot,{children:t})]})}function mot({reasons:e,onSelectReason:t}){return i.jsx(dot,{children:e.map(n=>i.jsx(fot,{onClick:()=>{t(n)},children:n.cta},n.id))})}function got({reason:e,submitReport:t}){const[n,r]=p.useState(""),[s,o]=p.useState(""),[a,c]=p.useState(""),l=e.additional_fields?.map(h=>h.id),u=l?.includes(zS.UserName),d=l?.includes(zS.UserEmail),f=u||d;return i.jsxs("div",{className:"flex flex-col gap-4",children:[f&&i.jsxs("div",{className:"flex flex-col gap-4 text-sm",children:[u&&i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx(S,{id:"report.loggedOut.name",defaultMessage:"Your name"}),i.jsx(Sb,{name:"name",type:"text",value:s,onChange:h=>o(h.target.value)})]}),d&&i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx(S,{id:"report.loggedOut.email",defaultMessage:"Your email address"}),i.jsx(Sb,{name:"email",type:"email",value:a,onChange:h=>c(h.target.value)})]})]}),i.jsx($L,{value:n,onChange:h=>r(h.target.value),placeholder:e.details_placeholder??void 0,autoFocus:!0,className:"!bg-token-main-surface-primary"}),e.subtext!=null&&i.jsx("div",{className:"text-sm text-token-text-secondary",children:e.subtext}),i.jsx("div",{className:"flex justify-end",children:i.jsx(ce,{onClick:()=>{let h;f&&(h={},u&&(h.user_name=s),d&&(h.user_email=a)),t.mutateAsync({reason:{id:e.id,details:n},additional_fields_values:h})},disabled:t.isPending,children:i.jsx(S,{id:"report.submitReport",defaultMessage:"Submit"})})})]})}function vot({reason:e}){return i.jsxs("div",{className:"text-sm",children:[i.jsx("div",{className:"mb-2",children:e.link_explanation}),e.link_attachment!=null&&i.jsx("div",{children:i.jsx("a",{href:e.link_attachment,target:"_blank",rel:"noreferrer",className:"break-words underline",children:e.link_attachment})})]})}function yot({reasons:e,submitReport:t,title:n,onClose:r,header:s,subHeader:o}){const[a,c]=p.useState([]),l=U();let u=e,d;for(const y of a)d=u.find(x=>x.id===y),u=d?.sub_reasons??[];const f=d!=null&&i.jsx("div",{className:"mb-2 flex gap-1 text-sm",children:i.jsxs("button",{onClick:()=>{c(y=>y.slice(0,-1))},className:"flex items-center gap-2 p-1",children:[i.jsx(lx,{className:"icon-sm"}),i.jsx("div",{children:d.cta})]})}),h=d?.subtext!=null&&i.jsx("div",{className:"text-sm text-token-text-secondary",children:d.subtext}),m=l.formatMessage({id:"report.submittedModal.header",defaultMessage:"Report submitted"}),g=l.formatMessage({id:"report.submittedModal.subHeader",defaultMessage:"You report has been submitted. Thank you for letting us know about this issue."});let v;return t.isSuccess?v=i.jsx(Qo,{header:m,subHeader:g}):d?.details_placeholder!=null?v=i.jsxs(i.Fragment,{children:[i.jsx(Qo,{header:s,subHeader:o}),f,i.jsx(got,{reason:d,submitReport:t})]}):d?.link_attachment!=null?v=i.jsxs(i.Fragment,{children:[i.jsx(Qo,{header:s,subHeader:o}),f,i.jsx(vot,{reason:d}),h]}):u.length>0?v=i.jsxs(i.Fragment,{children:[i.jsx(Qo,{header:s,subHeader:o}),f,u.length>0&&i.jsx(mot,{reasons:u,onSelectReason:async y=>{aot(y)?t.mutateAsync({reason:{id:y.id}}):c(x=>[...x,y.id])}}),h]}):d?.subtext!=null?v=i.jsxs(i.Fragment,{children:[i.jsx(Qo,{header:s,subHeader:o}),f,i.jsx("div",{className:"text-sm",children:d?.subtext})]}):(ue.addError("Reporting: arrived at empty leaf reason",d),v=i.jsx(Qo,{header:m,subHeader:g})),i.jsx(je,{title:n,onClose:r,isOpen:!0,showCloseButton:!0,type:"success",children:v})}function Vmt({serverThreadId:e,clientThreadId:t,isStaticSharedThread:n,isDynamicSharedThread:r}){const s=P1(gt.ReportConversation),o=mt("2935021756")?.value,a=lt("3376455464")?.value||n||r,c=Yb(t);let l=e??c;const u=p.useContext(RF);l==null&&u!=null&&(l=u.serverSharedThreadId??void 0),o&&typeof window<"u"&&(window._convo_share_debug={isOpen:s,canReport:a,serverThreadIdIsNull:l==null,isStaticSharedThread:n,isDynamicSharedThread:r});const d=U(),f=Fe();return p.useEffect(()=>{l==null&&s&&a&&(f.danger(d.formatMessage({id:"gizmo.report.conversationModal.emptyConversationError",defaultMessage:"Empty conversations cannot be reported"})),ze.closeModal(gt.ReportConversation))},[l,s,a,d,f]),!s||!a||l==null?(s&&z.logEvent("chatgpt_conversation_share_report_modal_not_shown",a?"serverThreadId":"canReport"),null):i.jsx(bot,{serverThreadId:l,onClose:()=>ze.closeModal(gt.ReportConversation),isStaticSharedThread:n,isDynamicSharedThread:r})}function bot({serverThreadId:e,onClose:t,isStaticSharedThread:n,isDynamicSharedThread:r}){const{data:s}=cot(n||r?Il.ShareableConversation:Il.Conversation),o=U(),a=iot(o,e,n||r?Il.ShareableConversation:Il.Conversation);return s==null||e==null?(z.logEvent("chatgpt_conversation_share_report_modal_not_shown",s==null?"report_reasons":"thread_id"),null):i.jsx(yot,{reasons:s.reasons,submitReport:a,title:o.formatMessage({id:"gizmo.report.conversationModal.title",defaultMessage:"Report a conversation"}),onClose:t,header:s.header,subHeader:s.header_explanation})}function xot(e,t){const n=So(e),r=L.getTitle(e);return t&&t.kind===$e.GizmoInteraction&&t.gizmo?n?`ChatGPT - ${t.gizmo.gizmo.display.name}`:r&&`${t.gizmo.gizmo.display.name} - ${r}`:n?"ChatGPT":r}function Gmt(e){const t=wl(e);return p.useMemo(()=>xot(e,t),[e,t])}const Wmt=60*60*24*30;function wot(e){return e.author.metadata?.real_author===DF.ToolWeb}function Hmt(e,t){return`https://chatgpt.com/search/evals/permalink/${e}/${t}`}function zmt(e){return Ba(e.flatMap(t=>t.type==="image_v2"?t.images:[]))}function Sot(e,t){const n={};return t?e.forEach(r=>{r.type==="grouped_webpages_v2"&&r.items.forEach(s=>{s.url&&!n[s.url]&&(n[s.url]=s)})}):e.forEach(r=>{r.type==="webpage"||r.type==="webpage_extended"?r.url&&!n[r.url]&&(n[r.url]=r):r.type==="grouped_webpages"?r.items.forEach(s=>{s.url&&!n[s.url]&&(n[s.url]=s)}):r.type==="businesses_map"&&Object.values(r.cite_map).forEach(s=>{s&&s.url&&(n[s.url]||(n[s.url]=s))})}),Object.values(n)}const qmt=(e,t,n)=>{const{turnIndex:r,clientThreadId:s,messageId:o}=eA("searchSources")??{},a=LF(),c=qb()&&a?.type==="searchSources",l=Cot(t,n),u=l!=null,{openThreadSidebar:d,closeThreadSidebar:f}=Ac();p.useEffect(()=>{if(c){const h=l?.message.id,m=e-1,g=t!==s,v=m>(r??-1),y=m==r&&!g&&h!=o;u&&h&&v&&(!g||g&&s===tA)?d({type:"searchSources",clientThreadId:t,turnIndex:m,messageId:h}):!g&&y&&!u&&e&&f({clientThreadId:t})}},[e,u,t])},Cot=(e,t)=>{const r=FF(e,t)?.messages.find(o=>wot(o.message)),s=y0e();if(r){const a=BF(r?.message).length,c=UF(r?.message),l=Sot(c,s).length;return a||l?r:null}return null},jP=({label:e,value:t,onCopied:n})=>{const r=Fe(),s=o=>{ml(t,r,o),n()};return i.jsxs("div",{className:"flex flex-col space-y-2",children:[e!==void 0&&i.jsx("label",{className:"font-semibold",children:e}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{onClick:s,className:"w-full cursor-pointer break-all rounded-lg bg-token-main-surface-tertiary px-4 py-2 font-mono text-sm text-token-text-primary",children:t}),i.jsx(ce,{color:"ghost",onClick:s,icon:cx})]})]})},ES=p.createContext({rootBordered:!1});function _ot({children:e}){return i.jsx("thead",{children:i.jsx("tr",{children:e})})}function Tot({textAlign:e="left",children:t,className:n=""}){const{rootBordered:r}=p.useContext(ES);return i.jsx("th",{className:$("text-token sticky top-0 z-10 border-b-[0.5px] border-token-border-medium bg-token-main-surface-primary py-2 font-semibold",r?"px-3":"pr-4 last:pr-0",e==="left"?"text-left":e==="right"?"text-right":"text-center",n),children:t})}function kot({children:e,...t}){return i.jsx("tbody",{...t,children:e})}const Mot=p.forwardRef(function({children:t,disabled:n=!1,onClick:r,className:s},o){return i.jsx("tr",{ref:o,...n?{"data-disabled":!0}:{},className:$(n?"pointer-events-none":"",s),onClick:r,children:t})});function Eot({textAlign:e="left",children:t,className:n,divClassName:r="min-h-[40px] items-center",colSpan:s}){const{rootBordered:o}=p.useContext(ES);return i.jsx("td",{className:$("border-b-[0.5px] border-token-border-medium align-top",o?"px-3":"pr-4 last:pr-0 [tr:last-child_&]:border-b-0",e&&"text-"+e,n),colSpan:s,children:i.jsx("div",{className:$("flex [tr[data-disabled=true]_&]:opacity-50",e==="right"&&"justify-end",e==="center"&&"justify-center",r),children:t})})}function Pot({children:e}){return i.jsx("div",{className:"text-md flex items-center justify-end gap-2",children:e})}function $ot({children:e,fixed:t=!1,className:n,size:r="normal",bordered:s=!1}){const o=p.useRef(null),a=p.useRef(null),[c,l]=p.useState(!1);return p.useEffect(()=>{const u=o.current,d=a.current;if(u&&d){const f=new ResizeObserver(()=>{l(d.scrollHeight>u.clientHeight)});return f.observe(u),()=>f.disconnect()}},[]),i.jsx(ES.Provider,{value:{rootBordered:s},children:i.jsx("div",{className:$("overflow-y-auto text-token-text-primary",s&&"rounded-lg border border-token-border-light",r==="normal"?"text-base":"text-sm",c&&"pr-1",n),ref:o,children:i.jsx("table",{className:$("w-full border-separate border-spacing-0",t&&"table-fixed"),ref:a,children:e})})})}const Aot={Root:$ot,Header:_ot,HeaderCell:Tot,Body:kot,Row:Mot,Cell:Eot,Actions:Pot},Ls=Aot;function Y6(e,t){return me({queryKey:["workspace/identity",e],queryFn:async()=>{if(e!==void 0)return await X.getWorkspaceIdentitySettings(e)},enabled:t})}function Ymt(){const e=zn(Ma.workspaceId),{data:t}=Y6(e??void 0,e!=null);return t?.allow_external_domain_invites}function Kmt(){const e=zn(Ma.workspaceId),{data:t}=Y6(e??void 0,e!=null);return p.useMemo(()=>t?.domains&&t?.domains.filter(n=>n.status==="verified"),[t?.domains])}function Qmt(e){const t=U(),n=Fe();return vt({mutationFn:({shouldAutoProvision:r})=>X.setWorkspaceShouldAutoProvision(e,r).then(s=>{const o=r?dh.autoProvisionEnabledToast:dh.autoProvisionDisabledToast;return n.success(t.formatMessage(o),{duration:3}),s}).catch(s=>{throw n.danger(s.message),s})})}function Xmt(e){const t=U(),n=Fe();return vt({mutationFn:async({shouldAllowExternalDomainInvites:r})=>{try{const s=await X.setWorkspaceShouldDisableExternalDomainInvites(e,r),o=r?dh.allowExternalDomainInvitesToast:dh.disableExternalDomainInvitesToast;return n.success(t.formatMessage(o),{duration:3}),s}catch(s){throw n.danger(s.message),s}}})}function K6(e){const t=Pe();return vt({mutationFn:({domainId:n})=>X.removeDomainFromWorkspace(e,n),onSuccess:()=>{t.refetchQueries({queryKey:["workspace/identity",e]}),t.refetchQueries({queryKey:["builderProfile"]})}})}function Q6(e){let t=e;return t.startsWith("-----BEGIN")||(t=`-----BEGIN CERTIFICATE-----
${t}`),t.endsWith("CERTIFICATE-----")||(t=`${t}
-----END CERTIFICATE-----`),t}function Zmt(e){const t=Pe();return vt({mutationFn:({signInEndpoint:n,cert:r})=>X.createSAMLConnection(e,n,Q6(r)),onSuccess:()=>{t.refetchQueries({queryKey:["workspace/identity",e]})}})}function Jmt(e){const t=Pe();return vt({mutationFn:({connectionId:n,signInEndpoint:r,cert:s,active:o,enforcedClients:a})=>X.updateSAMLConnection(e,n,{signInEndpoint:r,cert:s!==void 0?Q6(s):void 0,active:o,enforcedClients:a}),onSuccess:()=>{t.refetchQueries({queryKey:["workspace/identity",e]})}})}function egt(e){const t=Pe();return vt({mutationFn:({connectionId:n})=>X.deleteSAMLConnection(e,n),onSuccess:()=>{t.refetchQueries({queryKey:["workspace/identity",e]})}})}const tgt=Se.div`text-md mb-4 text-token-text-secondary`,ngt={[ua.VERIFIED]:O({id:"i7FkyS",defaultMessage:"Verified"}),[ua.PENDING]:O({id:"THBv/l",defaultMessage:"Pending"}),[ua.EXPIRED]:O({id:"+sjWGK",defaultMessage:"Expired"})},dh=K({autoProvisionEnabledToast:{id:"workspaceIdentity.autoProvisionEnabledToast",defaultMessage:"Auto provisioning enabled for this workspace"},autoProvisionDisabledToast:{id:"workspaceIdentity.autoProvisionDisabledToast",defaultMessage:"Auto provisioning disabled for this workspace"},allowExternalDomainInvitesToast:{id:"j0jI/4",defaultMessage:"External domain invites are allowed for this workspace"},disableExternalDomainInvitesToast:{id:"67yB97",defaultMessage:"External domain invites are disabled for this workspace"}});function Oot(e){const t=Pe(),n=Fe();return vt({mutationFn:({hostname:r})=>X.addDomainToWorkspace(e,r),onSuccess:()=>{t.invalidateQueries({queryKey:["workspace/identity",e]}),t.invalidateQueries({queryKey:["builderProfile"]})},onError:r=>{n.danger(r.message)}})}function Not(e){const t=Pe(),n=Fe();return vt({mutationFn:({domainId:r})=>X.checkDomainForWorkspace(e,r),onSuccess:()=>{t.invalidateQueries({queryKey:["workspace/identity",e]}),t.invalidateQueries({queryKey:["builderProfile"]})},onError:r=>{n.danger(r.message)}})}function Iot({workspaceId:e,isOpen:t,onClose:n,currentDomain:r,domains:s=[],showUnverifiedDomains:o=!1,onVerifyDomain:a}){const c=U(),l=Fe(),{mutateAsync:u,isPending:d}=Oot(e),{mutateAsync:f,isPending:h}=Not(e),[m,g]=p.useState(r??void 0),[v,y]=p.useState(r?.hostname),[x,b]=p.useState(r?.status===void 0?0:r?.status===ua.PENDING?1:2),w=()=>{r||(g(void 0),b(0))},C=async()=>{if(v===void 0)return;const M=s.find(I=>I.hostname===v&&I.status===ua.PENDING);if(M)g(M),b(1);else{const I=await u({hostname:v});"id"in I&&g(I),b(1)}},T=i.jsx(Ct.Button,{title:c.formatMessage(Yt.check),color:"primary",disabled:m?.id===void 0||h,onClick:async()=>{if(m?.id){const M=await f({domainId:m.id});"error"in M&&l.danger(c.formatMessage(Yt.domainCheckError,{message:M.error.message})),"id"in M&&(a&&a(M),M.status===ua.VERIFIED&&b(2))}}}),_=i.jsx(Ct.Button,{title:c.formatMessage(Yt.submit),color:"primary",disabled:v===void 0||d,onClick:C}),k=i.jsx(Ct.Button,{title:c.formatMessage(Yt.done),color:"primary",onClick:()=>{w(),n()}});return i.jsxs(je,{isOpen:t,onClose:()=>{w(),n()},type:"success",className:"text-token-text-secondary",title:c.formatMessage(x===0?Yt.newTitle:Yt.editTitle),primaryButton:x===0?_:x===1?T:k,secondaryButton:i.jsx(Ct.Button,{title:c.formatMessage(Yt.cancel),color:"secondary",onClick:()=>{w(),n()}}),children:[x===0&&i.jsx(Rot,{hostname:v,onSetHostname:y,onSubmit:C,unverifiedDomains:o?s:[],onVerifyDomain:M=>{b(1),g(M)},workspaceId:e}),x===1&&i.jsxs("div",{className:"flex flex-col gap-3",children:[c.formatMessage(Yt.verificationTokenMessage,{hostname:m?.hostname}),m?.dns_verification_token_string&&i.jsx(jP,{value:m.dns_verification_token_string,onCopied:()=>{l.success(c.formatMessage(Yt.copiedTXTRecordToClipboard),{duration:3})}}),i.jsx(S,{...Yt.verificationTokenFooter})]}),x===2&&i.jsxs("div",{className:"flex flex-col gap-3",children:[i.jsx(S,{...Yt.successfulVerification,values:{hostname:m?.hostname}}),m?.dns_verification_token_string&&i.jsx(jP,{value:m.dns_verification_token_string,onCopied:()=>{l.success(c.formatMessage(Yt.copiedTXTRecordToClipboard),{duration:3})}})]})]})}function jot({unverifiedDomains:e,onVerifyDomain:t,workspaceId:n}){const{mutateAsync:r}=K6(n);return i.jsxs(Ls.Root,{fixed:!0,size:"compact",className:"mb-6 border-b border-token-border-light",children:[i.jsxs(Ls.Header,{children:[i.jsx(Ls.HeaderCell,{children:i.jsx(S,{...Yt.unverifiedDomainsTableHeader})}),i.jsx(Ls.HeaderCell,{textAlign:"right"})]}),e.map(s=>i.jsxs(Ls.Row,{children:[i.jsx(Ls.Cell,{children:s.hostname}),i.jsx(Ls.Cell,{textAlign:"right",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ce,{color:"secondary",size:"small",onClick:()=>t(s),children:i.jsx(S,{...Yt.verifyDomainButton})}),i.jsx(ce,{color:"secondary",size:"small",onClick:()=>r({domainId:s.id}),icon:Jb})]})})]},s.id))]})}function Rot({hostname:e,onSetHostname:t,onSubmit:n,unverifiedDomains:r,onVerifyDomain:s,workspaceId:o}){const a=U();return i.jsxs(i.Fragment,{children:[r&&r.length>0&&i.jsx(jot,{workspaceId:o,unverifiedDomains:r,onVerifyDomain:s}),i.jsx("form",{onSubmit:c=>{c.preventDefault(),n()},children:i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"mb-2 flex items-center text-sm font-semibold",children:i.jsx(S,{...Yt.domainInput})}),i.jsx(Sb,{name:"hostname",placeholder:a.formatMessage(Yt.placeholder),value:e??"",onChange:c=>{t(c.target.value)}})]})})]})}const Yt=K({newTitle:{id:"domainModal.newTitle.0",defaultMessage:"Verify a new domain"},editTitle:{id:"domainModal.editTitle",defaultMessage:"Manage Domain"},submit:{id:"domainModal.submit",defaultMessage:"Submit"},check:{id:"domainModal.check",defaultMessage:"Check"},done:{id:"domainModal.done",defaultMessage:"Done"},cancel:{id:"domainModal.cancel",defaultMessage:"Cancel"},domainInput:{id:"domainModal.domainInput.0",defaultMessage:"Add a new domain"},placeholder:{id:"domainModal.placeholder",defaultMessage:"openai.com"},domainCheckError:{id:"domainModal.domainCheckError",defaultMessage:"Your domain could not be verified: {message}"},verificationTokenMessage:{id:"domainModal.verificationTokenMessage",defaultMessage:"To verify ownership of {hostname}, navigate to your DNS provider and add a TXT record with this value:"},verificationTokenFooter:{id:"domainModal.verificationTokenFooter",defaultMessage:"Then, check the record to complete the verification."},successfulVerification:{id:"domainModal.successfulVerification.0",defaultMessage:'Your domain, "{hostname}" has been successfully verified'},copiedTXTRecordToClipboard:{id:"domainModal.copiedTXTRecordToClipboard",defaultMessage:"Copied DNS TXT record to clipboard"},verifyDomainButton:{id:"domainModal.verifyDomainButton",defaultMessage:"Verify"},unverifiedDomainsTableHeader:{id:"domainModal.unverifiedDomainsTableHeader",defaultMessage:"Your unverified domains"}}),Dot="#settings/BuilderProfile";function rgt({selectedDomain:e,verifiedDomains:t,domains:n,onChangeDomain:r}){const[s,o]=p.useState(!1),a=t.length>0,c=De()?.id,l=De()?.isEnterprisey(),{mutateAsync:u}=K6(c);return i.jsxs("div",{className:"font-normal",children:[i.jsxs(ie.Root,{children:[i.jsx(VF,{children:i.jsxs("span",{className:"flex items-center gap-2 py-2",children:[e??i.jsx(S,{...Cb.selectADomain}),i.jsx(H7,{className:"icon-md"})]})}),i.jsx(ie.Portal,{children:i.jsxs(ie.Content,{children:[i.jsx(ie.RadioGroup,{value:e,onValueChange:d=>{d!==e&&r(d)},children:t.map(({id:d,hostname:f})=>i.jsx(ie.RadioItem,{value:f,children:i.jsxs("div",{className:"flex flex-row",children:[i.jsx("span",{children:f}),i.jsx("span",{onClick:()=>{u({domainId:d}),r("")},children:i.jsx(Jb,{className:"icon-sm fixed right-4"})})]})},d))}),a&&i.jsx(ie.Separator,{}),i.jsx(ie.Item,{onClick:()=>{o(!0)},icon:Xb,children:i.jsx(S,{...Cb.addDomain})})]})})]}),c&&!l&&i.jsx(Iot,{domains:n,isOpen:s,onClose:()=>o(!1),workspaceId:c,showUnverifiedDomains:!0,onVerifyDomain:d=>{r(d.hostname)}})]})}function Lot(){const e=Pe();return vt({mutationFn:({verifierType:t})=>ut.unverifySocialAuth(t),onSuccess:()=>{e.refetchQueries({queryKey:["builderProfile"]})}})}function Fot({socialData:e}){const{type:t,display_name:n,verified_data:r}=e,s=t==="twitter"?yA:t==="linkedin"?bA:t==="github"?xA:null;return s?i.jsxs("div",{className:"flex w-full flex-row items-center justify-between",children:[i.jsxs("div",{className:"flex flex-row items-center space-x-2 text-token-text-primary",children:[s({className:"icon-md"}),i.jsx("span",{children:n})]}),r?.link_to&&i.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:r.link_to,className:"text-sm text-token-text-tertiary hover:cursor-pointer",children:i.jsx(to,{className:"icon-sm"})})]}):null}function sgt({socialData:e,icon:t}){const{id:n,type:r,display_name:s,verified:o,verified_data:a}=e,[c,l]=p.useState(!1),u=Lot();return i.jsxs("div",{className:"flex flex-row items-center justify-between space-y-1",children:[i.jsxs("div",{className:$("flex items-center space-x-2"),children:[i.jsx(t,{className:"icon-sm"}),i.jsx("span",{children:s}),o&&a?.username&&i.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:a.link_to,className:"text-sm text-token-text-tertiary hover:cursor-pointer",children:a?.username})]}),o?i.jsx("div",{className:"py-1 font-semibold hover:cursor-pointer",onClick:()=>{u.mutate({verifierType:r})},children:u.isPending?i.jsx(In,{}):i.jsx(za,{className:"icon-sm text-token-text-tertiary"})}):i.jsx(ce,{size:"small",color:"secondary",loading:c,onClick:async()=>{l(!0),await UNe({id:n},Dot),l(!1)},children:i.jsx(S,{...Cb.verify})})]})}const Cb=K({verify:{defaultMessage:"Add",id:"GizmoSocialRow.add"},addDomain:{id:"GizmoSocialRow.addDomain",defaultMessage:"Verify new domain"},selectADomain:{id:"GizmoSocialRow.selectADomain",defaultMessage:"Select a domain"}}),Bot=Se.div`text-sm text-token-text-tertiary`,Uot="community builder";function Vot(e){const[t,n]=p.useState(e),r=p.useRef(null),s=(o,a)=>{r.current&&clearTimeout(r.current),r.current=setTimeout(()=>{n(o),r.current=null},a)};return p.useEffect(()=>()=>{r.current&&clearTimeout(r.current)},[]),[t,s]}function Got(e){return"gizmo"in e}function ogt({gizmo:e,builderName:t,builderUrl:n,className:r,socials:s,hideLink:o=!1}){const{value:a}=lt("2256850471");let c,l;e&&Got(e)?(c=e.gizmo.author.display_name,l=e.gizmo.author.link_to):(c=t,l=n),(c===""||c==null)&&(c=Uot);const u=s?.filter(f=>f.verified),d=i.jsxs("div",{className:"w-48 space-y-4 text-sm",children:[l&&i.jsxs("div",{className:"flex w-full flex-row items-center justify-between",children:[i.jsxs("div",{className:"flex flex-row items-center space-x-2 text-token-text-primary",children:[i.jsx(wA,{className:"icon-md"}),i.jsx("span",{children:i.jsx(S,{id:"gizmo.author.websiteLabel",defaultMessage:"Website"})})]}),i.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:l,className:"text-token-text-tertiary hover:cursor-pointer",children:i.jsx(to,{className:"icon-sm"})})]}),a&&u?.map((f,h)=>f.verified?i.jsx(Fot,{socialData:f},h):null),i.jsxs("div",{className:"text-xs text-token-text-tertiary",children:[(l||u&&u.length>0)&&i.jsx("hr",{className:"my-2 border-token-border-light"}),i.jsx(S,{id:"gizmo.author.cannotViewLabel",defaultMessage:"The builder of this GPT cannot view your conversations."})]})]});return i.jsxs("div",{className:"flex flex-row items-center space-x-1",children:[i.jsx(Bot,{className:r,children:i.jsx(S,{id:"gizmo.author.byLabel",defaultMessage:"By {displayName}",values:{displayName:c}})}),!o&&i.jsx(Wot,{socials:s,website:l,children:d})]})}function Wot({website:e,socials:t,children:n}){const[r,s]=Vot(!1);let o=[];e&&o.push(i.jsx(wA,{className:"icon-xs text-token-text-secondary"})),t&&t.forEach(c=>{c.verified&&(c.type==="twitter"?o.push(i.jsx(yA,{className:"icon-xs text-token-text-secondary"})):c.type==="linkedin"?o.push(i.jsx(bA,{className:"icon-xs text-token-text-secondary"})):c.type==="github"&&o.push(i.jsx(xA,{className:"icon-xs text-token-text-secondary"})))});const a=o.length-2;return o=o.slice(0,2),a>0&&o.push(i.jsxs("span",{className:"text-xs font-semibold text-token-text-secondary",children:["+",a]},"overflow")),i.jsx(hS,{open:r,onOpenChange:c=>s(c,0),children:i.jsxs("div",{onPointerLeave:()=>s(!1,300),children:[i.jsx(nh,{asChild:!0,children:i.jsx("div",{onPointerEnter:()=>s(!0,0),children:o.length>0?i.jsx("div",{className:"flex items-center gap-1 rounded-xl bg-token-main-surface-secondary px-2 py-1",children:o}):i.jsx(Qb,{className:"icon-xs text-token-text-secondary"})})}),i.jsx(pS,{side:"top",sideOffset:8,align:"center",className:"z-10 rounded-lg bg-token-main-surface-primary p-4 drop-shadow-md",children:i.jsx("div",{onPointerEnter:()=>s(!0,0),children:n})})]})})}function agt(e){const t=Fr();return!De()?.isWorkspaceAccount()||(t?.includes(e)??!1)}const Hot=({inMobileHeader:e=!1,children:t,onDismiss:n})=>{const{config:r,isLoading:s}=GF("743318407"),o=r.get("show_nux",!1),a=!s&&o;return i.jsx(Qp,{announcementKey:Ee.hasSeenCanvasDropdownNux,side:"bottom",align:e?"center":"start",sideOffset:0,show:a,title:i.jsx(S,{...ov.title}),description:i.jsxs("span",{children:[i.jsx(S,{...ov.description}),i.jsx(qh,{type:"neutral",openNewTab:!0,href:"https://openai.com/index/introducing-canvas/",className:"ml-1",children:i.jsx(S,{...ov.link})})]}),onDismiss:n,theme:"bright",children:t})},igt=({inMobileHeader:e=!1,children:t})=>{const{isLoading:n,eligible:r,markAsViewed:s}=Ue(Ee.hasSeenCanvasDropdownNux),{store:o}=gS(),a=o.useHasAnnouncementInHeader();return n||!r||a?i.jsx(i.Fragment,{children:t}):i.jsx(Hot,{inMobileHeader:e,onDismiss:s,children:t})},ov=K({title:{id:"Sh/ho6",defaultMessage:"You've got access to canvas"},description:{id:"6JEoci",defaultMessage:"Collaborate with ChatGPT to write and code in a dedicated space."},link:{id:"GtDcBu",defaultMessage:"Learn more"}}),zot=()=>{const e=vn(),t=xl(),n=pi(qot.signUpCta),r=D$(),s=()=>{e({authType:"login",callback:l=>{E.logLogInButtonClicked({location:"Model switcher dropdown",provider:l}),z.logEvent("chatgpt_modelswitcher_login_button_clicked")}})},o=()=>{e({authType:"signup",callback:l=>{E.logSignUpButtonClicked({location:"Model switcher dropdown",provider:l}),z.logEvent("chatgpt_modelswitcher_signup_button_clicked")}})},a=i.jsx(ce,{as:"button",size:"medium",color:t?"primary":"secondary",onClick:s,children:i.jsx(S,{id:"NavigationContent.unauthLoginCta",defaultMessage:"Log in"})}),c=i.jsx(ce,{as:"button",size:"medium",color:t?"secondary":"primary",onClick:o,children:i.jsx(S,{...n})});return i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("p",{className:"text-md mb-1 font-medium text-token-text-primary",children:t?r?i.jsx(S,{id:"bEtrO8",defaultMessage:"Log in to use other models"}):i.jsx(S,{id:"5JLF3H",defaultMessage:"Log in to try advanced features"}):r?i.jsx(S,{id:"mTr8UT",defaultMessage:"Sign up to use other models"}):i.jsx(S,{id:"g7yYMy",defaultMessage:"Sign up to try GPT 4o for free"})}),i.jsx("p",{className:"text-sm text-token-text-secondary",children:r?i.jsx(S,{id:"Vyn8f0",defaultMessage:"To access more intelligence, create an account or log in."}):i.jsx(S,{id:"pyWwm8",defaultMessage:"Get smarter responses, upload files, analyze images, and more by logging in."})})]}),i.jsx("div",{className:"flex flex-row justify-start space-x-2",children:t?[a,c]:[c,a]})]})},qot=K({signUpCta:{id:"NavigationContent.unauthSignupCta",defaultMessage:"Sign up"}}),X6=({categoryId:e,type:t,className:n})=>{const{data:r,isLoading:s}=nV(),o=i.jsx("div",{className:n});if(s)return o;const{iconFilledSrc:a,iconOutlineSrc:c}=r?.[e]??{},l=(t==="filled"?a:c)??"";return i.jsx(Z$,{name:"ModelCategoryIcon",fallback:o,children:i.jsx("div",{className:$("[&_svg]:h-full [&_svg]:w-full",n),dangerouslySetInnerHTML:{__html:l}})})},Yot="ChatGPT",cgt="Untitled",lgt=10,ugt=50,dgt=300,fgt=8e3,hgt=5;function Z6({modelSwitcherDeny:e}){switch(e.reason){case wi.UNSUPPORTED_TOOL_USE:case wi.UNSUPPORTED_AUDIO:case wi.UNSUPPORTED_IMAGE:case wi.UNSUPPORTED_GIZMO:case wi.UNSUPPORTED_ATTACHMENT:return i.jsx(i.Fragment,{children:e.description});case mh.RATE_LIMIT:{const{resetsAfter:n}=e,r=new Date(n),s=new Date(n).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"});if(xye(r))return i.jsx(S,{id:"HUybjA",defaultMessage:"Your limit will reset at {time}",values:{time:s}});if(wye(r))return i.jsx(S,{id:"TvYw9K",defaultMessage:"Your limit will reset at {time} tomorrow",values:{time:s}});{const o=r.toLocaleDateString([],{month:"short",day:"numeric"});return i.jsx(S,{id:"60ZcZL",defaultMessage:"Your limit will reset on {date}",values:{date:o}})}}}const t=e.description;return t?i.jsx(i.Fragment,{children:t}):i.jsx(S,{id:"wGF6eE",defaultMessage:"This model is not supported."})}function Kot({currentModel:e,categoryOptions:t,className:n,modelSwitcherDenialsBySlug:r,displayInFull_INTERNAL_USE_ONLY:s=!1}){const o=e?.id;return i.jsx(ie.Portal,{children:i.jsx(ie.SubContent,{className:n,children:t.map(a=>{const{value:c}=a;return"options"in a?i.jsx(Gi,{currentModel:e,isSelected:o.startsWith(c),option:a,modelSwitcherDenialsBySlug:r,displayInFull_INTERNAL_USE_ONLY:s},c):i.jsx(fh,{isSelected:o===c,value:c,renderName:()=>a.name,modelSwitcherDenialsBySlug:r,showNewChatHint:!1,displayInFull_INTERNAL_USE_ONLY:s},c)})})})}function Gi({currentModel:e,option:t,isSelected:n=!1,modelSwitcherDenialsBySlug:r,displayInFull_INTERNAL_USE_ONLY:s=!1}){const{name:o,options:a,categoryId:c}=t,l=`${o} Models`,u=()=>i.jsx("div",{className:"flex shrink-0 grow justify-between gap-2",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(z7,{className:"icon-md w-7 text-token-text-secondary"}),l]})});let d;return s&&n&&(d=t.options.find(f=>f.value===e.id)?.name),i.jsxs(ie.Sub,{children:[i.jsx(ie.SubMenuTrigger,{children:i.jsxs("div",{className:$("flex grow justify-between gap-2 overflow-hidden",s?"items-center break-all":""),children:[c?u():o,n&&i.jsx("div",{className:"truncate text-token-text-tertiary",children:d??e.title})]})}),i.jsx(Kot,{currentModel:e,categoryOptions:a,modelSwitcherDenialsBySlug:r,displayInFull_INTERNAL_USE_ONLY:s})]})}function fh({value:e,renderName:t,isSelected:n,showNewChatHint:r=!0,onClick:s,modelSwitcherDenialsBySlug:o,isUpgradeUpsell:a=!1,testId:c,displayInFull_INTERNAL_USE_ONLY:l=!1}){const u=Wh(),d=nEe(),f=e?o[e]?.conversation?.[0]:null,{layer:h}=_n("1846737571"),m=i.jsx(ie.Item,{onClick:()=>{if(s)s();else if(e){const g=e;u({modelId:g,location:"Model switcher menu item"}),d(g)}},className:$("!pr-3",n&&"!opacity-100",f&&"pointer-events-none text-token-text-quaternary"),"data-testid":c,children:i.jsxs("div",{className:"flex grow items-center justify-between gap-2",children:[i.jsx("div",{className:l?"break-all":"",children:t(f!=null)}),a&&i.jsx(ce,{color:"secondary",size:"small",className:h.get("is_upgrade_button_blue",!1)?"border-none bg-blue-600 text-white hover:bg-blue-800":"",children:i.jsx(S,{id:"oKo8wt",defaultMessage:"Upgrade"})}),a?i.jsx(i.Fragment,{children:n&&i.jsx(SA,{className:$("icon-md group-hover:invisible",!r&&"block group-hover:hidden")})}):n&&i.jsx(vA,{className:"icon-md"})]})},e);return f?i.jsx(rt,{isLeftArrow:!0,sideOffset:-10,label:i.jsx(Z6,{modelSwitcherDeny:f}),children:m}):m}function Qot(e){if(e<60)return{type:"minute",value:e,text:e<2?"minute":`${e} minutes`};const t=Math.floor(e/60);if(t<24)return{type:"hour",value:t,text:t<2?"hour":`${t} hours`};const n=Math.floor(t/24);return n<7?{type:"day",value:n,text:n<2?"day":`${n} days`}:{type:"minute",value:e,text:e<2?"minute":`${e} minutes`}}const av={textarea:"","model-switcher":""};function Xot(){const e=hl(c=>c.isoDate),t=s2(e),n=U(),r=zn(Ma.isEnterpriseyPlan),{isUnauthenticated:s,isLoading:o}=It(),{data:a}=me({queryKey:["modelMessageCap",s],queryFn:()=>X.getModelMessageCap(s),enabled:!o});return p.useMemo(()=>{const c=a?.message_cap??0,l=a?.message_cap_window??1,{text:u,type:d,value:f}=Qot(l),h=a?.message_disclaimer??av;if(!u||r)return{textareaDisclaimer:h.textarea,modelSwitcherDisclaimer:h["model-switcher"],modelSwitcherLimitShort:""};if(!a||!l||!c)return{textareaDisclaimer:av.textarea,modelSwitcherDisclaimer:av["model-switcher"],modelSwitcherLimitShort:""};let m=n.formatMessage(iv.shortLimitMinutes,{numerator:c,denominator:f});switch(d){case"hour":m=n.formatMessage(iv.shortLimitHours,{numerator:c,denominator:f});break;case"day":m=n.formatMessage(iv.shortLimitDays,{numerator:c,denominator:f});break}return{textareaDisclaimer:h.textarea.replaceAll("%FORMATTED_TIME%",t).replaceAll("%NUMERATOR%",`${c}`).replaceAll("%DENOMINATOR%",u),modelSwitcherDisclaimer:h["model-switcher"].replaceAll("%FORMATTED_TIME%",t).replaceAll("%NUMERATOR%",`${c}`).replaceAll("%DENOMINATOR%",u),modelSwitcherLimitShort:m}},[a,t,n,r])}const iv=K({shortLimitMinutes:{id:"modelCapMessaging.shortLimitMinutes",defaultMessage:"Limit {numerator, plural, =0 {# message} one {# message} other {# messages}} / {denominator, plural, =0 {# minute} one {# minute} other {# minutes}}"},shortLimitHours:{id:"modelCapMessaging.shortLimitHours",defaultMessage:"Limit {numerator, plural, =0 {# message} one {# message} other {# messages}} / {denominator, plural, =0 {# hour} one {# hour} other {# hours}}"},shortLimitDays:{id:"modelCapMessaging.shortLimitDays",defaultMessage:"Limit {numerator, plural, =0 {# message} one {# message} other {# messages}} / {denominator, plural, =0 {# day} one {# day} other {# days}}"}});var J6=(e=>(e.BROWSING="browsing_model",e.CODE_INTERPRETER="code_interpreter_model",e.DALLE="dalle_model",e))(J6||{}),_r=(e=>(e.ALPHA="alpha",e.DATA_CAMPAIGNS="data_campaigns",e.EXPERIMENTS="experiments",e.MAINLINE="mainline",e))(_r||{});const cv={browsing_model:{name:i.jsxs("span",{children:["Browse with ",i.jsx(HF,{className:"icon-sm mt-[-3px] inline-block"})," Bing"]})},code_interpreter_model:{name:"Advanced Data Analysis"},dalle_model:{name:"DALL·E 3"}};function pgt(e){const t=Zot(e??void 0);return Rh(["alpha","data_campaigns","experiments","mainline"],t)?"bg-orange-500 text-white":"bg-token-main-surface-primary text-token-text-primary"}function Zot(e){const t=PS();for(const n of t)if(n.options.length>0&&n.options.find(s=>s.value===e))return n.categoryId;return null}function Jot(e,t){const{data:n}=_s();return n?.categories.some(s=>s[t]===e)??!1}const eat=e=>Cx(e,({id:t})=>t.split(":").slice(0,1).join(":"));function PS(){const{data:e}=_s(),t=sbe(),n=De(),r=WF(n?.getWorkspaceId()),s=n?.isEnterprisey()??!1,{modelSwitcherDisclaimer:o}=Xot(),a=f2();return p.useMemo(()=>{const c=[];if(!e)return c;const{categories:l,groups:u,modelsMap:d}=e;for(const f of l){const{defaultModel:h,categoryId:m,label:g}=f;if(a.has(h)){const v=t===h,y=e.modelsMap[h],x=v?[]:tat(r.data,f,a,e.modelsMap,s);c.push({categoryId:m,value:h,name:g,description:v?o:y.description,options:[xa(y,{name:"Default"}),...x]})}}for(const f of u){const{group:h,label:m,modelIds:g}=f,v=g[0],y=g.map(x=>d[x]).filter(({tags:x})=>!x.includes(Js.HIDDEN));if(h==="experiments"){const x=eat(y),b=Object.entries(x).map(([w,C])=>{const T=w.split(":").slice(-1)[0];return{key:w,value:T,name:T,options:C.map(_=>{const{title:k}=_;return xa({..._,title:k.replace(T,"")})})}});c.push({categoryId:h,value:v,name:m,options:b})}else c.push({categoryId:h,value:v,name:m,options:y.map(x=>xa(x))})}return c},[e,a,t,r.data,s,o])}function xa(e,t={}){return{value:e.id,name:e.title,...t}}function tat(e,t,n,r,s){const o=[];if((e?.browsing||!s)&&t.browsing_model!=null&&n.has(t.browsing_model)){const l=cv.browsing_model;o.push(xa(r[t.browsing_model],{name:l.name}))}if(t.code_interpreter_model!=null&&n.has(t.code_interpreter_model)){const l=cv.code_interpreter_model;o.push(xa(r[t.code_interpreter_model],{name:l.name}))}if(t.dalle_model!=null&&n.has(t.dalle_model)){const l=cv.dalle_model;o.push(xa(r[t.dalle_model],{name:l.name}))}return o}const nat=Ze(()=>Ye(()=>import("./h5crs2m2d9olmcdd.js"),__vite__mapDeps([58,1,2,3,59])).then(e=>e.ThreadHeaderGizmoDropdown)),RP=Se.button`group flex cursor-pointer items-center gap-1 rounded-lg py-1.5 ${({$isScreenArch:e})=>e?"h-[44px] @lg/screen-composer:pl-3 [line-height:26px] [font-size:17px] pl-1 pr-3":"px-3 text-lg"} hover:bg-token-main-surface-secondary radix-state-open:bg-token-main-surface-secondary font-semibold text-token-text-secondary overflow-hidden whitespace-nowrap`;function rat({clientThreadId:e}){const t=U(),n=qn(),r=Nh(e),s=yt(),[,o]=wo(),a=()=>{!r&&!n?s({pathname:"/",search:new URLSearchParams({[hu]:"true"}).toString()}):o(c=>(c.get(hu)==="true"?c.delete(hu):c.set(hu,"true"),c),{replace:r,state:F1()})};return i.jsx(ie.Item,{size:"large",className:"!pr-3",onClick:a,icon:tx,children:i.jsxs("div",{className:"flex grow items-center justify-between gap-2",children:[i.jsx("div",{className:"flex flex-1 items-center gap-3",children:i.jsx(S,{...n4.temporaryChat})}),i.jsx(VD,{enabled:n,label:t.formatMessage({defaultMessage:"Temporary",id:"temporaryChatToggleLabel"}),testId:"temporary-chat-toggle"})]})})}function e4(e,t,n){let r=e;if(e===qS.AUTO){const a=t.filter(({defaultModel:c})=>c!==qS.AUTO);a.length===1&&(r=a[0].defaultModel)}const s=t.find(({defaultModel:a})=>a===r);if(s){const{categoryId:a,shortLabel:c}=s;return{selectedCategory:a,modelLabel:c}}const o=n.find(({modelIds:a})=>a.includes(r));if(o){const{group:a,shortLabel:c}=o;return{selectedCategory:a,modelLabel:c}}return{selectedCategory:null,modelLabel:null}}function sat({modelLabel:e}){return i.jsx("span",{className:"overflow-x-clip text-ellipsis text-token-text-secondary",children:e})}function oat({clientThreadId:e,inMobileHeader:t}){const{isLoading:n,categories:r,groups:s}=Vc(),o=zF(),c=Qa(e).id,l=PS(),{modelLabel:u}=e4(c,r,s),d=iat(e,l),f=U(),{isUnauthenticated:h}=It(),m=t4(),g=(!h||!m)&&!o;p.useEffect(()=>{n||j5({namespace:eS.ChatPageLoad})?.logTiming("render_model_switcher")},[n]);const v=Tn(),y=i.jsxs("div",{className:$(v?"overflow-x-hidden text-ellipsis":"text-token-text-secondary"),children:[Yot," ",g?i.jsx("span",{className:"text-token-text-secondary",children:u}):h&&u?i.jsx(sat,{modelLabel:u}):null]});return d.length?n?null:i.jsx(Ih,{sideOffset:8,size:"large",triggerButton:i.jsxs(RP,{$isScreenArch:v,"aria-label":u?f.formatMessage({id:"JrtGPQ",defaultMessage:"Model selector, current model is {modelLabel}"},{modelLabel:u}):"",children:[y,v?i.jsx(q7,{className:"icon-md text-token-text-tertiary"}):i.jsx(gA,{className:"icon-md text-token-text-tertiary"})]}),onOpenChange:x=>{E.logEvent(P.toggleModelSwitcher,{isOpen:x}),z.logEvent("toggle_model_switcher",null,{isOpen:String(x)})},contentAlign:t?"center":"start",testId:"model-switcher-dropdown",children:i.jsx(lat,{sections:d})}):i.jsx(RP,{className:"cursor-default",children:y})}function t4(){return mt("462735957").value}function aat({category:e,modelSwitcherDenialsBySlug:t,currentGizmoId:n,currentModelId:r,omitIcon:s,testId:o}){const{defaultModel:a,label:c,categoryId:l,description:u,isBeta:d}=e;return i.jsx(fh,{value:a,modelSwitcherDenialsBySlug:t,renderName:f=>i.jsx(_b,{categoryId:l,name:c,description:u,isDisabled:f,omitIcon:s,isBeta:d}),isSelected:!n&&r===a,testId:o},a)}function iat(e,t){const n=Qa(e),r=n.id,s=Rc(e),{categories:o,groups:a}=Vc(),{doesUserHaveAnyAccountsWithPlusFeatures:c}=Cs(),l=L.getServerThreadId(e),u=_x({clientThreadId:e}),d=U(),f=!l,{isUnauthenticated:h}=It(),m=vn(),{layer:g}=_n("2723963139"),v=g.get("is_dynamic_model_enabled",!1),y=t4(),x=t.find(({categoryId:Y})=>Y===_r.ALPHA),b=t.find(({categoryId:Y})=>Y===_r.DATA_CAMPAIGNS),w=t.find(({categoryId:Y})=>Y===_r.EXPERIMENTS),C=t.find(({categoryId:Y})=>Y===_r.MAINLINE),T=!0,_=!!x?.options?.length,k=!!b?.options?.length,M=!!w?.options?.length,I=!!C?.options?.length,A=yt(),H=p.useCallback(()=>{E.logEvent(P.openModalAccountPaymentfromModelPicker,{content:"gizmo-button"}),Os(A,"Thread header dropdown")},[A]),q=()=>{z.logEvent("chatgpt_model_switcher_plus_upgrade_button_clicked"),E.logEvent(P.modelSwitcherPlusUpgradeButtonClicked),h?m({shouldOpenPaymentModalOnAuth:!0,callback:Y=>{E.logSignUpButtonClicked({location:"Model switcher GPT-4 upsell",provider:Y})}}):H()},F=[],N=i.jsxs("div",{className:"mb-1 flex items-center justify-between px-5 pt-2",children:[i.jsx("span",{className:"text-sm text-token-text-tertiary",children:i.jsx(S,{id:"ilkdMh",defaultMessage:"Model"})}),i.jsx("a",{href:v?"https://help.openai.com/en/articles/9155758-what-is-the-chatgpt-plus-model-selector":"https://help.openai.com/en/articles/7102672-how-can-i-access-gpt-4",target:"_blank",rel:"noreferrer",children:i.jsx(Dc,{className:"icon-md h-5 w-5 pl-0.5 text-token-text-tertiary"})})]},"header");if(y&&h){const Y={id:"modelSection",content:[]};Y.content.push(i.jsx(zot,{},"noAuthUpsell")),F.push(Y)}else if(c){const Y={id:"modelSection",content:[]};o.length&&Y.content.push(N);const j=new Map;o.forEach(D=>{const V=i.jsx(aat,{category:D,currentGizmoId:s,currentModelId:r,modelSwitcherDenialsBySlug:u,omitIcon:T,testId:`model-switcher-${D.defaultModel}`},D.categoryId);D.subcategory?(j.has(D.subcategory)||j.set(D.subcategory,[]),j.get(D.subcategory)?.push(V)):Y.content.push(V)}),j.forEach((D,V)=>{const Z=o.find(se=>se.subcategory===V&&se.defaultModel===n.id);Y.content.push(i.jsxs(ie.Sub,{children:[i.jsx(ie.SubMenuTrigger,{"data-testid":V==="More models"?"more-models-submenu":void 0,children:i.jsxs("div",{className:"flex grow justify-between gap-2 overflow-hidden",children:[V,!!Z&&i.jsx("div",{className:"truncate text-token-text-tertiary",children:Z.label})]})}),i.jsx(ie.Portal,{children:i.jsx(ie.SubContent,{className:"min-w-72",children:D})})]},V))}),F.push(Y)}else{const Y={id:"modelSection",content:[]};Y.content.push(i.jsx(fh,{value:"",onClick:q,modelSwitcherDenialsBySlug:u,isUpgradeUpsell:!0,renderName:j=>i.jsx(_b,{icon:K7,isDisabled:j,name:d.formatMessage({id:"mzDzkX",defaultMessage:"ChatGPT Plus"}),description:d.formatMessage({id:"bqTHri",defaultMessage:"Our smartest model & more"}),omitIcon:!1}),isSelected:!1,showNewChatHint:!1},"plusUpgrade")),Y.content.push(i.jsx(fh,{value:Su.AUTO,modelSwitcherDenialsBySlug:u,renderName:j=>i.jsx(_b,{icon:Y7,name:d.formatMessage({id:"U9E7Rx",defaultMessage:"ChatGPT"}),description:d.formatMessage({id:"n96qML",defaultMessage:"Great for everyday tasks"}),isDisabled:j,omitIcon:!1}),isSelected:!s&&r===Su.AUTO,showNewChatHint:!0},Su.AUTO)),F.push(Y)}const R={id:"otherOptionsSection",content:[]},{selectedCategory:B}=e4(r,o,a);return f&&(_&&R.content.push(i.jsx(Gi,{isSelected:B===_r.ALPHA,currentModel:n,option:x,modelSwitcherDenialsBySlug:u,displayInFull_INTERNAL_USE_ONLY:!0},x.value)),k&&R.content.push(i.jsx(Gi,{isSelected:B===_r.DATA_CAMPAIGNS,currentModel:n,option:b,modelSwitcherDenialsBySlug:u,displayInFull_INTERNAL_USE_ONLY:!0},b.value)),M&&R.content.push(i.jsx(Gi,{currentModel:n,isSelected:B===_r.EXPERIMENTS,option:w,modelSwitcherDenialsBySlug:u,displayInFull_INTERNAL_USE_ONLY:!0},w.value)),I&&R.content.push(i.jsx(Gi,{isSelected:B===_r.MAINLINE,currentModel:n,option:C,modelSwitcherDenialsBySlug:u,displayInFull_INTERNAL_USE_ONLY:!0},C.value))),R.content.length&&F.push(R),h||F.push({id:"temporaryChatSection",content:[i.jsx(rat,{clientThreadId:e},"tempChat")]}),F}function cat(){const e=U();return i.jsx("div",{className:"border-token-text-quartenary items-center rounded-full border px-1 py-0.5 text-[8px] font-semibold uppercase leading-3 text-token-text-secondary dark:border-token-border-heavy dark:text-token-text-tertiary",children:e.formatMessage(n4.beta)})}function _b({isDisabled:e,name:t,icon:n,categoryId:r,description:s,extra:o,omitIcon:a,isBeta:c=!1}){let l=t;return c&&(l=i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{children:t}),i.jsx(cat,{})]})),i.jsxs("div",{className:"flex items-center gap-3",children:[!a&&i.jsx("span",{className:"flex h-7 w-7 flex-shrink-0 items-center justify-center rounded-full bg-token-main-surface-secondary",children:n?i.jsx(n,{className:"h-4 w-4 text-token-text-primary"}):r&&i.jsx(X6,{type:"filled",className:$("h-4 w-4",e&&"text-gray-300",!e&&"text-token-text-primary"),categoryId:r})}),i.jsxs("div",{children:[l,i.jsxs("div",{className:$(!e&&"text-token-text-secondary","text-xs"),children:[s,o]})]})]})}function lat({sections:e}){return i.jsx(i.Fragment,{children:e.map((t,n)=>i.jsxs(Q.Fragment,{children:[n!==0?i.jsx(ie.Separator,{}):null,t.content]},t.id))})}function mgt({clientThreadId:e,inMobileHeader:t=!1}){const n=Rc(e);return n==null?i.jsx(oat,{clientThreadId:e,inMobileHeader:t}):i.jsx(nat,{clientThreadId:e,gizmoId:n,inMobileHeader:t})}const n4=K({beta:{id:"XZwFET",defaultMessage:"Beta"},gpt35ShortExplainer:{defaultMessage:"Great for everyday tasks",id:"ModelSwitcher.gpt35ShortExplainer"},modelTunerSmartSelectionTitle:{id:"czjW8I",defaultMessage:"Dynamic"},modelTunerSmartSelectionExplainer:{id:"gp/YH1",defaultMessage:"Optimized for speed and intelligence"},gpt4ShortExplainer:{defaultMessage:"With DALL·E, browsing and analysis",id:"ModelSwitcher.gpt4ShortExplainer"},gpt4ShortExplainerWithoutBrowse:{defaultMessage:"With DALL·E and analysis",id:"ModelSwitcher.gpt4ShortExplainerWithoutBrowse"},gpt4UpsellExplainer:{id:"ModelSwitcher.gpt4Upsell",defaultMessage:"Our smartest and most capable model. Includes DALL·E, browsing and more."},userUpgrade:{id:"ModelSwithcer.upgradeButton",defaultMessage:"Upgrade to Plus"},userUpgradeSignup:{id:"ModelSwitcher.signupUpgradeButton",defaultMessage:"Sign up for ChatGPT Plus"},temporaryChat:{id:"ModelSwitcher.temporaryChat",defaultMessage:"Temporary chat"},shareChat:{id:"ModelSwitcher.shareChat",defaultMessage:"Share chat"}}),r4=Ee.TemporaryChatOnboarding;function ggt(){const e=qn(),{eligible:t}=Ue(r4);return t&&e}function Li({icon:e,title:t,description:n}){return i.jsxs("div",{className:"flex items-start",children:[i.jsx("div",{className:"mt-1 h-5 w-5",children:e}),i.jsxs("div",{className:"ml-4",children:[i.jsx("div",{className:"text-lg font-semibold",children:t}),i.jsx("p",{className:"mt-1 text-sm text-token-text-secondary",children:n})]})]})}function vgt({onClose:e}){const[t,n]=p.useState(!0),r=De(),s=U(),{markAsViewed:o}=Ue(r4),a=Tl(),c=p.useCallback(()=>{o(),n(!1),e?.()},[o,e]);return r?.isWorkspaceAccount()?i.jsx(je,{isOpen:t,onClose:ke,size:"custom",className:"max-w-xl",type:"success",title:s.formatMessage(Ke.title),primaryButton:i.jsx(Ct.Button,{onClick:c,title:s.formatMessage(Ke.continue),color:"primary"}),children:i.jsxs("div",{className:"mb-6 flex flex-col gap-3",children:[i.jsx(Li,{icon:i.jsx(Ke.bulletTitle1.Icon,{}),title:s.formatMessage(Ke.bulletTitle1),description:s.formatMessage({id:"nSGhxr",defaultMessage:"Temporary chats won't appear in your history."})}),i.jsx(Li,{icon:a?i.jsx(Ke.bulletTitle2MemoryAvailable.Icon,{}):i.jsx(Ke.bulletTitle2MemoryUnavailable.Icon,{}),title:s.formatMessage(a?Ke.bulletTitle2MemoryAvailable:Ke.bulletTitle2MemoryUnavailable),description:s.formatMessage(a?Ke.bulletDescription2MemoryAvailable:Ke.bulletDescription2MemoryUnavailable)})]})}):i.jsx(je,{isOpen:t,onClose:ke,size:"custom",className:"max-w-xl",type:"success",title:s.formatMessage(Ke.title),primaryButton:i.jsx(Ct.Button,{onClick:c,title:s.formatMessage(Ke.continue),color:"primary"}),children:i.jsxs("div",{className:"mb-6 flex flex-col gap-3",children:[i.jsx(Li,{icon:i.jsx(Ke.bulletTitle1.Icon,{}),title:s.formatMessage(Ke.bulletTitle1),description:s.formatMessage(Ke.bulletDescription1)}),i.jsx(Li,{icon:i.jsx(Ke.bulletTitle3.Icon,{}),title:s.formatMessage(Ke.bulletTitle3),description:s.formatMessage(Ke.bulletDescription3)}),i.jsx(Li,{icon:a?i.jsx(Ke.bulletTitle2MemoryAvailable.Icon,{}):i.jsx(Ke.bulletTitle2MemoryUnavailable.Icon,{}),title:s.formatMessage(a?Ke.bulletTitle2MemoryAvailable:Ke.bulletTitle2MemoryUnavailable),description:s.formatMessage(a?Ke.bulletDescription2MemoryAvailable:Ke.bulletDescription2MemoryUnavailable)})]})})}const Ke=K({title:{id:"TemporaryChatOnboardingModal.title",defaultMessage:"Temporary Chat"},bulletTitle1:{Icon:tx,id:"TemporaryChatOnboardingModal.bulletTitle1",defaultMessage:"Not in history"},bulletDescription1:{id:"TemporaryChatOnboardingModal.bulletDescription1.1",defaultMessage:"Temporary chats won't appear in your history. For safety purposes, we may keep a copy of your chat for up to 30 days."},bulletTitle2MemoryAvailable:{Icon:Q7,id:"TemporaryChatOnboardingModal.bulletTitle2MemoryAvailable",defaultMessage:"Memory off"},bulletDescription2MemoryAvailable:{id:"Ziehyb",defaultMessage:"While in a Temporary Chat, ChatGPT won't use or create memories. Custom Instructions will still be followed if you have them enabled."},bulletTitle2MemoryUnavailable:{Icon:Zb,id:"TemporaryChatOnboardingModal.bulletTitle2MemoryUnavailable",defaultMessage:"Follows Custom Instructions"},bulletDescription2MemoryUnavailable:{id:"TemporaryChatOnboardingModal.bulletDescription2MemoryUnavailable",defaultMessage:"Custom Instructions will still be followed if you have them enabled."},bulletTitle3:{Icon:qF,id:"TemporaryChatOnboardingModal.bulletTitle3",defaultMessage:"No model training"},bulletDescription3:{id:"TemporaryChatOnboardingModal.bulletDescription3",defaultMessage:"Temporary chats won't be used to improve our models."},continue:{id:"TemporaryChatOnboardingModal.continue",defaultMessage:"Continue"}});function DP(e){if(e&&e.messages.length>0){const t=e.messages[0].message.create_time;if(t)return new Date(t*1e3)}return null}function lv(e,t){return!e||!t?!1:e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function ygt(e,t,n,r){const{value:s}=mt("1847911009"),o=U(),a=YF(n,t-1,r),c=DP(e),l=DP(a),u=t===0||!lv(c,l);if(s&&u&&c){const d=new Date,f=new Date;f.setDate(d.getDate()-1);let h;return lv(c,d)?h=o.formatMessage({id:"ConversationTurn.todayHeader",defaultMessage:"Today"}):lv(c,f)?h=o.formatMessage({id:"ConversationTurn.yesterdayHeader",defaultMessage:"Yesterday"}):h=o.formatDate(c,{year:"numeric",month:"numeric",day:"numeric"}),h}else return null}const bgt=({dateString:e})=>i.jsx("div",{className:"my-4 flex justify-center",style:{height:"20px"},children:i.jsx("span",{className:"text-sm font-normal leading-5 text-token-text-tertiary",children:e})});function xgt(e){const n=vh(e)==="root",r=Ib(e),s=jb(r),o=B1(),{isUnauthenticated:a}=It(),c=KF(e);return!n&&!s&&!o.displayingSideBySideFeedback&&!a&&!c}const wgt=({clientThreadId:e,message:t})=>{const n=PS(),r=h2(),s=Ue(Ee.ModelSwitcherAutoDowngrade),{categories:o}=Vc({isRegen:!0}),a=_x({clientThreadId:e}),{doesUserHaveAnyAccountsWithPlusFeatures:c}=Cs(),l=sV()!=null,u=[];for(const b of o){if(Ob(b))continue;const{defaultModel:w,label:C,tagline:T,categoryId:_,subscriptionLevel:k,subcategory:M}=b,I=a[w]?.regenerate?.[0];u.push({label:C,value:w,subtitle:T,icon:i.jsx(X6,{className:"icon-md h-4 w-4",categoryId:_,type:"filled"}),modelSwitcherDeny:I,subscriptionLevel:k,subcategory:M})}const d=uat(e,t.nodeId),f=t.message.metadata?.model_slug,h=n.find(b=>b.value===f)?.name,g=(f!=null?r[f]:void 0)?.enabledTools||[],v=dat(l,d,f),y=t.message.metadata?.model_adjustments,x=c&&s.eligible&&!s.isLoading&&h&&u[0]?.label&&h!==u[0]?.label&&y?.some(b=>b.startsWith("auto:smaller_model"));return{modelOptions:u,modelSlug:f,messageModelEnabledTools:g,animateModelLabelOnRender:v,nuxProps:{shouldRenderNux:x,usedModelName:h,largestModelName:u[0]?.label,announcement:s}}};function uat(e,t){return L.getTree(e).getConversationTurns(t).flatMap(a=>a.messages).filter(a=>a.message.author.role===he.Assistant&&!d$(a.message)).reverse()[1]?.message.metadata?.model_slug}function dat(e,t,n){return e&&!t?!0:!!(t&&n!==t)}function Sgt(){const{doesUserHaveAnyAccountsWithPlusFeatures:e}=Cs(),{categories:t}=Vc();return!!e||!!t.find(Ob)}const Cgt=({modelSwitcherDeny:e,value:t,label:n,subtitle:r,icon:s,onMouseEnter:o,onMouseLeave:a,onSelect:c,messageModelSlug:l,isHovered:u=!1,shouldShowUpsell:d=!1,className:f,includeCheck:h,includeRegenerate:m,justifyIcon:g,wrapIcon:v=!0})=>{const y=De(),x=!e,b=!x&&!d,w=yt(),C=()=>{if(!d){c?.();return}E.logEvent(P.openModalAccountPaymentfromMessageModelPicker),E.logRateLimitGetPlusButtonClicked({type:mh.RATE_LIMIT,location:"message_model_switcher_dropdown",plan_type:y?.planType??"unknown",is_hard_block:!1,hard_block_reason:"",is_new_conversation:!1}),Os(w,"Message model switcher dropdown")};return i.jsx(ie.Item,{onSelect:C,onMouseEnter:()=>x&&o?.(),onMouseLeave:()=>x&&a?.(),disabled:b,className:f??"radix-disabled:pointer-events-auto radix-disabled:cursor-not-allowed radix-disabled:hover:bg-transparent",children:i.jsxs(rt,{label:e&&i.jsx(Z6,{modelSwitcherDeny:e}),className:"flex w-full items-center justify-between gap-2",sideOffset:0,children:[i.jsxs("div",{className:$("flex items-center gap-3",g==="right"&&"w-full"),children:[!!s&&(v?i.jsx("span",{className:$("flex h-7 w-7 items-center justify-center rounded-full bg-token-main-surface-secondary",g==="right"&&"order-10 ml-auto"),children:s}):s),i.jsxs("div",{children:[i.jsx("div",{children:n}),i.jsx("div",{className:$({"text-sm text-token-text-secondary":!b},{"text-sm text-token-text-quaternary":b}),children:r})]})]}),d?i.jsx(ce,{color:"secondary",size:"small",children:i.jsx(S,{id:"54fmrA",defaultMessage:"Get Plus"})}):i.jsx(fat,{messageModelSlug:l,isHovered:u,modelSwitcherDeny:e,optionModelSlug:t,includeCheck:h,includeRegenerate:m})]})})},fat=({modelSwitcherDeny:e,optionModelSlug:t,isHovered:n,messageModelSlug:r,includeRegenerate:s=!0,includeCheck:o=!0})=>{let a=null;if(e)switch(e.reason){case mh.RATE_LIMIT:a=lA;break;default:a=Dc;break}if(e)return i.jsx(a,{className:"icon-md"});const c=!!s&&i.jsx(X7,{className:$("icon-md hidden text-token-text-tertiary",{"group-hover:block":n})});return r===t&&o?i.jsxs(i.Fragment,{children:[i.jsx(SA,{className:$("icon-md text-token-text-primary",{"group-hover:hidden":n})}),c]}):c};function _gt({messages:e}){const t=Ba(e.flatMap(r=>r?.message?.metadata?.citations?.map(s=>s.metadata)??[])),n=p.useMemo(()=>AL(t.map(r=>pat(r)).filter(r=>r!==void 0),r=>r?.url),[t]);return i.jsx("div",{className:"mt-4 grid w-full grid-cols-[50%,50%] gap-3",children:n.map(r=>i.jsx(yat,{citationMetadata:r},r?.url))})}const LP={"https://docs.google.com/document":"Google Docs","https://docs.google.com/presentation":"Google Slides","https://docs.google.com/spreadsheets":"Google Sheets","https://drive.google.com/":"Google Drive"},hat=/^(https:\/\/)([a-zA-Z0-9-]+\.)slack\.com(\/.*)?$/;function pat(e){if(e.type==="file"){const t=e.extra?.cloud_doc_url;if(!t)return;let n="";if(hat.test(t))n="Slack";else{const s=Object.keys(LP).find(o=>t.startsWith(o));if(!s)return;n=LP[s]}const r=e.name;return{url:t,type:n,title:gat(n)?vat(r):r}}}const mat=["Google Docs","Google Slides","Google Sheets"];function gat(e){return mat.includes(e)}function vat(e){const t=e.lastIndexOf(".");return t!==-1?e.slice(0,t):e}function yat({citationMetadata:e,compact:t}){if(!e)return null;let n;switch(e.type){case"Google Docs":n=ox;break;case"Google Slides":n=ax;break;case"Google Sheets":n=ix;break;case"Google Drive":n=Ya;break;case"Slack":n=r=>i.jsx("img",{src:R6,...r});break;default:return null}return t?i.jsx("a",{href:Eu(e.url),target:"_blank",rel:"noreferrer",children:i.jsxs("div",{className:"flex flex-row items-center gap-2 overflow-clip rounded-lg border border-gray-200 px-[16px] py-2",children:[i.jsx(n,{className:"h-[16px] w-[16px] object-contain",alt:e.type}),i.jsx("p",{className:"text-token -text-primary line-clamp-1 text-sm",children:e.title?e.title:Eu(e.url)})]})}):i.jsx("a",{href:Eu(e.url),target:"_blank",rel:"noreferrer",children:i.jsxs("div",{className:"flex flex-col gap-[2px] overflow-clip rounded-lg border border-gray-200 px-[16px] py-[12px]",children:[i.jsxs("div",{className:"flex items-center gap-2 pb-0.5",children:[i.jsx(n,{className:"h-[16px] w-[16px] object-contain",alt:e.type}),i.jsx("p",{className:"text-xs leading-normal text-token-text-secondary",children:e.type})]}),i.jsx("p",{className:"text-token -text-primary line-clamp-1 text-sm",children:e.title})]})})}const Tgt=({actions:e,pagination:t,isHovered:n,showInline:r,alwaysShow:s})=>!t&&!e?null:i.jsxs("div",{className:$("items-center justify-start rounded-xl p-1",r?"flex":"z-10 -mt-1 bg-token-main-surface-primary md:absolute",r?!1:n?"flex":"md:sr-only"),children:[t,e&&i.jsx("div",{className:$("flex items-center",r&&!s?n?"visible":"md:invisible":!1),children:e})]}),kgt=({onClick:e})=>{const[t,n]=p.useState(!1),r=ML(),s=U(),o=p.useCallback(a=>{a.stopPropagation(),e(a),n(!0),setTimeout(()=>{r()&&n(!1)},2e3),z.logEvent("chatgpt_turn_action_copy")},[r,e]);return i.jsx(s4,{icon:t?jh:cx,onClick:o,label:s.formatMessage({id:"CopyButton.copyTooltip",defaultMessage:"Copy"}),testId:"copy-turn-action-button"})},s4=({icon:e,label:t,iconClassName:n,className:r,onClick:s,disabled:o=!1,asLink:a=!1,href:c,style:l,target:u,testId:d})=>{const f=a?"a":"button";return i.jsx(G$,{sideOffset:0,label:t,disabled:!t,children:i.jsx(f,{className:$("rounded-lg text-token-text-secondary hover:bg-token-main-surface-secondary",r),"aria-label":t,onClick:s,disabled:o,target:u,href:c,style:l,"data-testid":d,children:e&&i.jsx("span",{className:"flex h-[30px] w-[30px] items-center justify-center",children:i.jsx(e,{className:$("icon-md-heavy",n)})})})})},Mgt=p.memo(function(t){const{hasModelTunerAutoGPT4:n}=o4(t),r=a4(),s=yt();if(!n)return null;const o=r&&t.isFinalTurn,a=i.jsx(s4,{icon:gv,className:$(o&&"hover:text-token-text-tertiary",!o&&"cursor-pointer"),iconClassName:t.isFinalTurn?"icon-shimmer":void 0});return o?a:i.jsxs(z$,{delayDuration:150,children:[i.jsx(q$,{children:a}),i.jsx(Y$,{children:i.jsx(K$,{side:"top",sideOffset:0,children:i.jsxs("div",{className:"flex max-w-2xs flex-col flex-nowrap rounded-lg border border-token-border-light bg-token-main-surface-primary p-4 shadow-xl",children:[i.jsxs("div",{className:"mb-1 flex flex-nowrap items-start gap-2",children:[i.jsx(gv,{className:"h-[20px] w-[20px]"}),i.jsx("div",{className:"text-sm font-semibold",children:i.jsx(S,{id:"ModelTunerDisclaimer.autoUpgradeToGPT4.title",defaultMessage:"Upgraded response"})})]}),i.jsx("div",{className:"mb-3 text-sm text-token-text-secondary",children:i.jsx(S,{id:"ModelTunerDisclaimer.autoUpgradeToGPT4.content",defaultMessage:"Written with our most capable model, GPT-4, available on ChatGPT Plus"})}),i.jsx("div",{children:i.jsx(ce,{onClick:()=>Os(s,"ModelTuner disclaimer cta"),size:"small",children:i.jsx(S,{id:"ModelTunerDisclaimer.autoUpgradeToGPT4.getPlus",defaultMessage:"Get Plus"})})})]})})})]})}),Egt=p.memo(function(t){const n=a4(),{hasModelTunerAutoGPT4:r}=o4(t);return!r||!t.isFinalTurn||!n?null:i.jsx(bat,{})});function bat(){const e=k2().mutate,t=yt();return p.useEffect(()=>{e({key:Ee.ModelTunerDisclaimer})},[]),i.jsx("div",{className:"py-4",children:i.jsx("div",{className:"flex items-start justify-start gap-2.5 rounded-2xl bg-token-main-surface-secondary p-4 pr-5 text-token-text-primary",children:i.jsxs("div",{className:"flex w-full items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex flex-nowrap items-start gap-2",children:[i.jsx(gv,{className:"h-[20px] w-[20px] shrink-0"}),i.jsxs("div",{className:"text-sm",children:[i.jsx("div",{className:"font-semibold",children:i.jsx(S,{id:"ModelTunerDisclaimer.autoUpgradeToGPT4.title",defaultMessage:"Upgraded response"})}),i.jsx("div",{className:"pt-0.5",children:i.jsx(S,{id:"ModelTunerDisclaimer.autoUpgradeToGPT4.content",defaultMessage:"Written with our most capable model, GPT-4, available on ChatGPT Plus"})})]})]}),i.jsx(ce,{className:"shrink-0",onClick:()=>Os(t,"ModelTuner disclaimer cta"),size:"small",children:i.jsx(S,{id:"ModelTunerDisclaimer.autoUpgradeToGPT4.getPlus",defaultMessage:"Get Plus"})})]})})})}function o4({message:e}){return{hasModelTunerAutoGPT4:e?.message?.metadata?.model_adjustments?.includes(QF.AUTO_UPGRADE_TO_GPT4)}}function a4(){return p.useRef(s$(e=>!e.announcements[Ee.ModelTunerDisclaimer])?.data).current}function Pgt({clientThreadId:e,conversationMode:t}){const n=lst(e);return({id:s,eventMetadata:o,turnTracker:a,requestedModelId:c,systemMessage:l,systemMessageMetadata:u,juice:d,extraStreamParams:f})=>{const m=L.getTree(e).getConversationTurns(s),v=m?.[m?.length-1].variantIds?.length===1&&f?.forceUseSearch===void 0,y=v?{...o,intent:"comparison_implicit"}:o;n({id:s,requestedModelId:c,eventMetadata:y,focusOnNewCompletion:!0,variantPurpose:v?"comparison_implicit":"none",conversationMode:t??vr.getConversationMode(e),useDefaultModel:!1,appendMessages:l?[{id:Lr(),author:{role:he.System},content:{content_type:an.Text,parts:[l]},metadata:{exclude_after_next_user_message:!0,...u}}]:void 0,juice:d,turnTracker:a,extraStreamParams:f})}}class xat{async fetch(t,n){return await t.fetchQuery(this.makeQueryOptions(n))}makeQueryOptions(t){const n=po(t.asset.asset_pointer),r={...t,id:n};return{queryKey:["getFileDownloadLink",po(t.asset.asset_pointer),t.gizmoId,t.conversationId],queryFn:async()=>await Sat(r)}}}const wat=new xat;async function Sat({asset:e,gizmoId:t,id:n,isUnauthenticated:r,conversationId:s}){const o=await X.getFileDownloadLink(n,t,r,s).catch(a=>{throw a instanceof Pt||ue.addError(new Error(`Could not fetch file with ID ${n} from file service`,{cause:a})),a});if(o.status!==ur.Success)throw ue.addError(`Could not fetch file with ID ${n} from file service`,o),new Error(`Could not fetch file with ID ${n} from file service`);return{...e,url:o.download_url}}function $gt({audioAssetPointer:e,conversationId:t}){const n=Pe(),[r,s]=p.useState(!1),o=p.useRef(!0),[a,c]=p.useState(void 0),l=p.useRef(null),u=XF(),d=ZF(g=>g.isPlaying&&g.sourceUrl===a),f=p.useCallback(()=>{const g=JF();if(g)l.current?l.current.then(()=>{g.stop(),l.current=null}):g.stop();else return},[]);p.useEffect(()=>(o.current=!0,()=>{o.current=!1}),[]),p.useEffect(()=>()=>{e7().isPlaying&&f()},[f]);const h=p.useCallback(async()=>{if(!u||!o.current)return;s(!0);const{url:g}=await wat.fetch(n,{asset:e,conversationId:t});s(!1),c(g),u.changeSource(g),l.current=u.play()},[e,t,u,n]);return{togglePlayback:p.useCallback(()=>{if(u)d?f():(t7.messagePlayback.click(),h());else return},[d,h,u,f]),isPlaying:d,isLoading:r}}function Agt(){const e=Ed(Ta.VoiceName)?.data,t=Ed(Ta.VoiceMainLanguage)?.data,n=Cat();return{voiceName:Tat(e,n),voiceMainLanguage:t??n7.Auto}}function Cat(){const e=_at(),{currentLocale:t}=Q$();return p.useCallback(()=>{if(e.length===0)return"juniper";let n=e[0].voice;return t.startsWith("zh")&&(n="cove"),n},[e,t])}function _at(){const{session:e}=Db(),t=e!=null,n=Ed(Ta.VoiceMainLanguage)?.data,{data:r}=me({queryKey:["getUserSettingVoices",n],queryFn:()=>X.getUserSettingVoices(),enabled:t});return r?r.voices:[]}function Tat(e,t){return e==="sky"?"juniper":e??t()}const kat="bg-token-main-surface-primary text-token-text-primary",Mat="openai",FP=["bg-blue-300 text-white"];function Eat(e){return FP[(e?.charCodeAt(0)??0)%FP.length]}const xu=({children:e})=>i.jsx("div",{className:"pt-0",children:i.jsx("div",{className:$(p.isValidElement(e)&&e.type===R0?"gizmo-bot-avatar":"gizmo-shadow-stroke","flex h-8 w-8 items-center justify-center overflow-hidden rounded-full"),children:e})});function Ogt({messages:e,isUserTurn:t,avatarClassName:n,gizmo:r}){const s="medium",a=e[0]?.message.metadata?.shared_conversation_id,c=a!=null,l=tn(),{gizmoEditorData:u,mode:d}=Pl();let f=i.jsx(xu,{children:i.jsx(R0,{className:n??kat,iconName:Mat,size:s})});return r?f=i.jsx(xu,{children:i.jsx(FOe,{gizmoId:r.gizmo.id,className:"h-full w-full"})}):u!=null&&d==="test"&&(f=i.jsx(vS,{isFirstParty:!1,src:u.profilePictureUrl,className:"h-8 w-8 first:pt-[3px]"})),i.jsx("div",{children:t?c?i.jsx(xu,{children:i.jsx(R0,{className:Eat(a),iconName:"user",size:s})}):i.jsx(xu,{children:i.jsx(Np,{user:l,size:s})}):f})}function Ngt({currentPage:e,onChangeIndex:t,length:n,showInline:r=!1}){const s=a=>{t(Df(e+a,0,n-1))},o=U();return i.jsxs("div",{className:$("flex items-center justify-center rounded-lg text-token-text-secondary",!r&&Ije.MessageAction),children:[i.jsx("button",{onClick:()=>s(-1),disabled:e===0,className:"flex h-[30px] w-[30px] items-center justify-center rounded-md hover:bg-token-main-surface-secondary disabled:opacity-50 disabled:hover:bg-transparent","aria-label":o.formatMessage({id:"XwENI/",defaultMessage:"Previous response"}),children:i.jsx(lx,{className:"icon-md-heavy"})}),i.jsx("div",{className:"px-0.5 text-sm font-semibold tabular-nums",children:`${e+1}/${n}`}),i.jsx("button",{onClick:()=>s(1),disabled:e===n-1,"aria-label":o.formatMessage({id:"V8RFHE",defaultMessage:"Next response"}),className:"flex h-[30px] w-[30px] items-center justify-center rounded-md hover:bg-token-main-surface-secondary disabled:opacity-50 disabled:hover:bg-transparent",children:i.jsx(qa,{className:"icon-md-heavy"})})]})}function Igt({currentPage:e,onChangeIndex:t,length:n,className:r}){const s=o=>{t(Df(e+o,0,n-1))};return n===0?null:i.jsxs(Pat,{className:r,children:[i.jsx(BP,{onClick:()=>s(-1),disabled:e===0,children:i.jsx(lx,{className:"icon-sm"})}),i.jsx($at,{children:`${e+1}/${n}`}),i.jsx(BP,{onClick:()=>s(1),disabled:e===n-1,children:i.jsx(qa,{className:"icon-sm"})})]})}const Pat=Se.div`text-xs inline-flex bg-token-main-surface-secondary h-8 border rounded border-token-border-medium`,BP=Se.button`text-token-text-secondary disabled:text-token-border-medium w-8 flex items-center justify-center hover:bg-token-main-surface-tertiary`,$at=Se.span`text-token-text-tertiary px-2 flex items-center font-mono tracking-widest`;function jgt(e){const t=U();function n(){switch(e.role){case he.User:return t.formatMessage({id:"3DStaP",defaultMessage:"You said:"});case he.Assistant:return t.formatMessage({id:"LDIn6l",defaultMessage:"ChatGPT said:"});default:return""}}const r=e.role===he.Assistant?"h6":"h5";return i.jsx(r,{className:"sr-only",children:n()})}function Aat(e,t="<unknown>"){if(!e)throw r7(new Error(`${t}: unexpected non-truthy condition: ${JSON.stringify(e)}`),Aat)}var $S={exports:{}};$S.exports;(function(e){(function(t,n,r){function s(l){var u=this,d=c();u.next=function(){var f=2091639*u.s0+u.c*23283064365386963e-26;return u.s0=u.s1,u.s1=u.s2,u.s2=f-(u.c=f|0)},u.c=1,u.s0=d(" "),u.s1=d(" "),u.s2=d(" "),u.s0-=d(l),u.s0<0&&(u.s0+=1),u.s1-=d(l),u.s1<0&&(u.s1+=1),u.s2-=d(l),u.s2<0&&(u.s2+=1),d=null}function o(l,u){return u.c=l.c,u.s0=l.s0,u.s1=l.s1,u.s2=l.s2,u}function a(l,u){var d=new s(l),f=u&&u.state,h=d.next;return h.int32=function(){return d.next()*4294967296|0},h.double=function(){return h()+(h()*2097152|0)*11102230246251565e-32},h.quick=h,f&&(typeof f=="object"&&o(f,d),h.state=function(){return o(d,{})}),h}function c(){var l=4022871197,u=function(d){d=String(d);for(var f=0;f<d.length;f++){l+=d.charCodeAt(f);var h=.02519603282416938*l;l=h>>>0,h-=l,h*=l,l=h>>>0,h-=l,l+=h*4294967296}return(l>>>0)*23283064365386963e-26};return u}n&&n.exports?n.exports=a:this.alea=a})(Xt,e)})($S);var Oat=$S.exports,AS={exports:{}};AS.exports;(function(e){(function(t,n,r){function s(c){var l=this,u="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var f=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^f^f>>>8},c===(c|0)?l.x=c:u+=c;for(var d=0;d<u.length+64;d++)l.x^=u.charCodeAt(d)|0,l.next()}function o(c,l){return l.x=c.x,l.y=c.y,l.z=c.z,l.w=c.w,l}function a(c,l){var u=new s(c),d=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var h=u.next()>>>11,m=(u.next()>>>0)/4294967296,g=(h+m)/(1<<21);while(g===0);return g},f.int32=u.next,f.quick=f,d&&(typeof d=="object"&&o(d,u),f.state=function(){return o(u,{})}),f}n&&n.exports?n.exports=a:this.xor128=a})(Xt,e)})(AS);var Nat=AS.exports,OS={exports:{}};OS.exports;(function(e){(function(t,n,r){function s(c){var l=this,u="";l.next=function(){var f=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(f^f<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,c===(c|0)?l.x=c:u+=c;for(var d=0;d<u.length+64;d++)l.x^=u.charCodeAt(d)|0,d==u.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function o(c,l){return l.x=c.x,l.y=c.y,l.z=c.z,l.w=c.w,l.v=c.v,l.d=c.d,l}function a(c,l){var u=new s(c),d=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var h=u.next()>>>11,m=(u.next()>>>0)/4294967296,g=(h+m)/(1<<21);while(g===0);return g},f.int32=u.next,f.quick=f,d&&(typeof d=="object"&&o(d,u),f.state=function(){return o(u,{})}),f}n&&n.exports?n.exports=a:this.xorwow=a})(Xt,e)})(OS);var Iat=OS.exports,NS={exports:{}};NS.exports;(function(e){(function(t,n,r){function s(c){var l=this;l.next=function(){var d=l.x,f=l.i,h,m;return h=d[f],h^=h>>>7,m=h^h<<24,h=d[f+1&7],m^=h^h>>>10,h=d[f+3&7],m^=h^h>>>3,h=d[f+4&7],m^=h^h<<7,h=d[f+7&7],h=h^h<<13,m^=h^h<<9,d[f]=m,l.i=f+1&7,m};function u(d,f){var h,m=[];if(f===(f|0))m[0]=f;else for(f=""+f,h=0;h<f.length;++h)m[h&7]=m[h&7]<<15^f.charCodeAt(h)+m[h+1&7]<<13;for(;m.length<8;)m.push(0);for(h=0;h<8&&m[h]===0;++h);for(h==8?m[7]=-1:m[h],d.x=m,d.i=0,h=256;h>0;--h)d.next()}u(l,c)}function o(c,l){return l.x=c.x.slice(),l.i=c.i,l}function a(c,l){c==null&&(c=+new Date);var u=new s(c),d=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var h=u.next()>>>11,m=(u.next()>>>0)/4294967296,g=(h+m)/(1<<21);while(g===0);return g},f.int32=u.next,f.quick=f,d&&(d.x&&o(d,u),f.state=function(){return o(u,{})}),f}n&&n.exports?n.exports=a:this.xorshift7=a})(Xt,e)})(NS);var jat=NS.exports,IS={exports:{}};IS.exports;(function(e){(function(t,n,r){function s(c){var l=this;l.next=function(){var d=l.w,f=l.X,h=l.i,m,g;return l.w=d=d+1640531527|0,g=f[h+34&127],m=f[h=h+1&127],g^=g<<13,m^=m<<17,g^=g>>>15,m^=m>>>12,g=f[h]=g^m,l.i=h,g+(d^d>>>16)|0};function u(d,f){var h,m,g,v,y,x=[],b=128;for(f===(f|0)?(m=f,f=null):(f=f+"\0",m=0,b=Math.max(b,f.length)),g=0,v=-32;v<b;++v)f&&(m^=f.charCodeAt((v+32)%f.length)),v===0&&(y=m),m^=m<<10,m^=m>>>15,m^=m<<4,m^=m>>>13,v>=0&&(y=y+1640531527|0,h=x[v&127]^=m+y,g=h==0?g+1:0);for(g>=128&&(x[(f&&f.length||0)&127]=-1),g=127,v=4*128;v>0;--v)m=x[g+34&127],h=x[g=g+1&127],m^=m<<13,h^=h<<17,m^=m>>>15,h^=h>>>12,x[g]=m^h;d.w=y,d.X=x,d.i=g}u(l,c)}function o(c,l){return l.i=c.i,l.w=c.w,l.X=c.X.slice(),l}function a(c,l){c==null&&(c=+new Date);var u=new s(c),d=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var h=u.next()>>>11,m=(u.next()>>>0)/4294967296,g=(h+m)/(1<<21);while(g===0);return g},f.int32=u.next,f.quick=f,d&&(d.X&&o(d,u),f.state=function(){return o(u,{})}),f}n&&n.exports?n.exports=a:this.xor4096=a})(Xt,e)})(IS);var Rat=IS.exports,jS={exports:{}};jS.exports;(function(e){(function(t,n,r){function s(c){var l=this,u="";l.next=function(){var f=l.b,h=l.c,m=l.d,g=l.a;return f=f<<25^f>>>7^h,h=h-m|0,m=m<<24^m>>>8^g,g=g-f|0,l.b=f=f<<20^f>>>12^h,l.c=h=h-m|0,l.d=m<<16^h>>>16^g,l.a=g-f|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,c===Math.floor(c)?(l.a=c/4294967296|0,l.b=c|0):u+=c;for(var d=0;d<u.length+20;d++)l.b^=u.charCodeAt(d)|0,l.next()}function o(c,l){return l.a=c.a,l.b=c.b,l.c=c.c,l.d=c.d,l}function a(c,l){var u=new s(c),d=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var h=u.next()>>>11,m=(u.next()>>>0)/4294967296,g=(h+m)/(1<<21);while(g===0);return g},f.int32=u.next,f.quick=f,d&&(typeof d=="object"&&o(d,u),f.state=function(){return o(u,{})}),f}n&&n.exports?n.exports=a:this.tychei=a})(Xt,e)})(jS);var Dat=jS.exports,i4={exports:{}};(function(e){(function(t,n,r){var s=256,o=6,a=52,c="random",l=r.pow(s,o),u=r.pow(2,a),d=u*2,f=s-1,h;function m(C,T,_){var k=[];T=T==!0?{entropy:!0}:T||{};var M=x(y(T.entropy?[C,w(n)]:C??b(),3),k),I=new g(k),A=function(){for(var H=I.g(o),q=l,F=0;H<u;)H=(H+F)*s,q*=s,F=I.g(1);for(;H>=d;)H/=2,q/=2,F>>>=1;return(H+F)/q};return A.int32=function(){return I.g(4)|0},A.quick=function(){return I.g(4)/4294967296},A.double=A,x(w(I.S),n),(T.pass||_||function(H,q,F,N){return N&&(N.S&&v(N,I),H.state=function(){return v(I,{})}),F?(r[c]=H,q):H})(A,M,"global"in T?T.global:this==r,T.state)}function g(C){var T,_=C.length,k=this,M=0,I=k.i=k.j=0,A=k.S=[];for(_||(C=[_++]);M<s;)A[M]=M++;for(M=0;M<s;M++)A[M]=A[I=f&I+C[M%_]+(T=A[M])],A[I]=T;(k.g=function(H){for(var q,F=0,N=k.i,R=k.j,B=k.S;H--;)q=B[N=f&N+1],F=F*s+B[f&(B[N]=B[R=f&R+q])+(B[R]=q)];return k.i=N,k.j=R,F})(s)}function v(C,T){return T.i=C.i,T.j=C.j,T.S=C.S.slice(),T}function y(C,T){var _=[],k=typeof C,M;if(T&&k=="object")for(M in C)try{_.push(y(C[M],T-1))}catch{}return _.length?_:k=="string"?C:C+"\0"}function x(C,T){for(var _=C+"",k,M=0;M<_.length;)T[f&M]=f&(k^=T[f&M]*19)+_.charCodeAt(M++);return w(T)}function b(){try{var C;return h&&(C=h.randomBytes)?C=C(s):(C=new Uint8Array(s),(t.crypto||t.msCrypto).getRandomValues(C)),w(C)}catch{var T=t.navigator,_=T&&T.plugins;return[+new Date,t,_,t.screen,w(n)]}}function w(C){return String.fromCharCode.apply(0,C)}if(x(r.random(),n),e.exports){e.exports=m;try{h=s7}catch{}}else r["seed"+c]=m})(typeof self<"u"?self:Xt,[],Math)})(i4);var Lat=i4.exports,Fat=Oat,Bat=Nat,Uat=Iat,Vat=jat,Gat=Rat,Wat=Dat,No=Lat;No.alea=Fat;No.xor128=Bat;No.xorwow=Uat;No.xorshift7=Vat;No.xor4096=Gat;No.tychei=Wat;var Hat=No;const Rgt=ye(Hat),zat=Ze(()=>Ye(()=>import("./n5x56nly431cp3kz.js").then(e=>e.b),__vite__mapDeps([60,1,2,3,6])));function c4(e){return e.find(t=>t.message.author.role===he.Tool&&t.message.metadata?.pending_memory_info)}function qat(e){return e.filter((t,n)=>{const r=e[n+1],o=r?.message.recipient==="assistant"&&r?.message.author.role===he.Tool&&r?.message.author.name==="bio"&&vs(r.message).startsWith("Model set context");return t.message.author.role===he.Assistant&&t.message.recipient==="bio"&&o}).flatMap(t=>{const n=t.message.content.content_type;return n===an.Text?t.message.content.parts:n===an.Code?[t.message.content.text]:[]}).map(tit)}function Yat(e){return e.some(t=>t.message.author.role===he.Assistant&&t.message.recipient==="bio"&&t.message.status==="in_progress")}function Kat(e){const{eligible:t,isLoading:n}=uAe(),r=p.useMemo(()=>e.length>0,[e]);p.useEffect(()=>{r&&t&&!n&&ze.openModal(gt.GlobalMemoryOnboarding)},[r,t,n])}function Qat(e){const[t,n]=p.useState(!1);return{isPopoverOpen:t,setIsPopoverOpen:n,handleTogglePopover:s=>{const o=s??!t;n(o),o&&E.logEvent(P.memoryUpdatePopoverShown,{updateCount:e.length})}}}function l4({memoryWrites:e,popoverState:t,triggerButton:n,isParagen:r,setShowMemoriesModal:s}){return i.jsxs(GL,{open:t.isPopoverOpen,sideOffset:4,side:"bottom",alignAgainstAnchor:"start",size:"none",className:"z-10 min-w-60 max-w-96 text-sm",onOpenChange:o=>t.handleTogglePopover(o),disableAutofocus:!0,triggerButton:n,children:[i.jsx("div",{className:"mb-2 rounded border border-token-border-light bg-token-main-surface-secondary",children:e.map((o,a)=>i.jsx("div",{className:"border-b border-token-border-light px-3 py-2 first-letter:uppercase last:border-b-0",children:o},a))}),r?i.jsx("div",{className:"text-xs text-token-text-tertiary",children:i.jsx(S,{id:"MemoryActionResult.paragenMessage",defaultMessage:"This memory will be saved if you choose this response."})}):i.jsxs("button",{className:"flex w-full items-center justify-between rounded px-3 py-2 font-semibold hover:bg-token-main-surface-secondary",onClick:()=>{s(!0),E.logEvent(P.memoryUpdatePopoverManageButtonClicked,{updateCount:e.length})},children:[i.jsx(S,{id:"MemoryActionResult.manageMemories",defaultMessage:"Manage memories"}),i.jsx(qa,{className:"icon-md -mr-1 text-token-text-tertiary"})]})]})}function Xat({clientThreadId:e,pendingMessage:t,memoryWrites:n,popoverState:r,setShowMemoriesModal:s}){const o=Fe(),a=U(),c=L.getServerThreadId(e),l=o7({clientThreadId:e}),u=n.join(" ");let d=u.slice(0,50).replace(new RegExp("^\\p{L}","u"),h=>h.toLocaleUpperCase()).replace(/\.$/,"");u.length>50&&(d+="...");const f=async h=>{if(!c)throw new Error("Failed to confirm or reject memory update: serverThreadId is not found");const m=t.message.metadata?.pending_memory_info;L.updateTree(e,g=>{g.updateNodeMessageMetadata(t.nodeId,{pending_memory_info:{...m,is_pending:!1,confirm_result:h}})});try{await X.confirmOrRejectMemory(t.message.id,c,h)}catch{o.danger(a.formatMessage({id:"memory.confirmOrDenyFail",defaultMessage:"Failed to confirm or reject memory update"})),L.updateTree(e,v=>{v.updateNodeMessageMetadata(t.nodeId,{pending_memory_info:m})})}};return i.jsxs("div",{className:"flex items-start",children:[i.jsx("div",{className:"inline-block text-sm font-semibold text-token-text-tertiary outline-none",children:i.jsx(S,{id:"MemoryActionResult.memoryConfirmation",defaultMessage:"Update memory? {memoryText}",values:{memoryText:i.jsx("div",{className:"inline-block py-1",onMouseOver:()=>r.handleTogglePopover(!0),onMouseOut:()=>r.handleTogglePopover(!1),children:i.jsx(l4,{memoryWrites:n,popoverState:r,triggerButton:i.jsx("button",{className:$("text-left font-normal",r.isPopoverOpen?"text-token-text-secondary":"text-token-text-tertiary"),children:i.jsx(S,{id:"MemoryActionResult.memoryWrapper",defaultMessage:"“{memoryWrites}”",values:{memoryWrites:d}})}),setShowMemoriesModal:s})})}})}),i.jsx(ce,{className:"ml-3 text-token-text-tertiary hover:text-token-text-primary",size:"xs",color:"secondary",disabled:l,onClick:()=>{f(!0)},children:i.jsx(S,{id:"MemoryActionResult.confirm",defaultMessage:"Yes"})}),i.jsx(ce,{className:"ml-2 text-token-text-tertiary hover:text-token-text-primary",size:"xs",color:"secondary",disabled:l,onClick:()=>{f(!1)},children:i.jsx(S,{id:"MemoryActionResult.deny",defaultMessage:"No"})})]})}function Zat({memoryWrites:e,popoverState:t,isParagen:n,setShowMemoriesModal:r}){return e.length===0?null:i.jsx(i.Fragment,{children:i.jsx("div",{className:"inline-block",onMouseOver:()=>t.handleTogglePopover(!0),onMouseOut:()=>t.handleTogglePopover(!1),children:i.jsx(l4,{memoryWrites:e,popoverState:t,isParagen:n,triggerButton:i.jsxs("button",{className:$("my-1 flex items-center gap-1 text-sm font-semibold outline-none",t.isPopoverOpen?"text-token-text-secondary":"text-token-text-tertiary"),children:[i.jsx(Z7,{className:"mb-[-1px]"}),e.length===1?i.jsx(S,{id:"MemoryActionResult.memoryWriteSingular.1",defaultMessage:"Memory updated"}):i.jsx(S,{id:"MemoryActionResult.memoryWritePlural.1",defaultMessage:"Memories updated"})]}),setShowMemoriesModal:r})})})}function Jat(e){const t=c4(e),n=t?.message.metadata?.pending_memory_info?.confirm_result;return t==null?null:n===!0?"confirmed":n===!1?"denied":"pending"}function eit({messages:e,clientThreadId:t,gizmoId:n,isParagen:r}){const s=qat(e),o=Qat(s),a=Yat(e);Kat(s);const[c,l]=p.useState(!1),u=c4(e),d=Jat(e);return d==="denied"?null:a?i.jsx("div",{className:"result-streaming",children:i.jsx("span",{children:i.jsx("pre",{})})}):i.jsxs(i.Fragment,{children:[d==="pending"?i.jsx(Xat,{clientThreadId:t,memoryWrites:s,popoverState:o,setShowMemoriesModal:l,pendingMessage:u}):i.jsx(Zat,{memoryWrites:s,popoverState:o,isParagen:r,setShowMemoriesModal:l}),c&&i.jsx(zat,{initialGizmoId:n,onClose:()=>l(!1)})]})}function tit(e){const t=["The user ","The user's ","User ","User's "];for(const n of t)if(e.startsWith(n))return e.slice(n.length);return e}const Dgt=Object.freeze(Object.defineProperty({__proto__:null,MemoryActionResult:eit},Symbol.toStringTag,{value:"Module"})),nit={liveRegionAssertive:"",liveRegionPolite:""},la=Le()(()=>({...nit}));let uv,dv;const wu={setLiveRegionAssertive:e=>{window.clearTimeout(uv),la.setState({liveRegionAssertive:e}),uv=window.setTimeout(()=>{la.setState({liveRegionAssertive:""}),uv=void 0},5e3)},setLiveRegionPolite:e=>{window.clearTimeout(dv),la.setState({liveRegionPolite:e}),dv=window.setTimeout(()=>{la.setState({liveRegionPolite:""}),dv=void 0},5e3)}};function Lgt(e){const{isCompletionRequestInProgress:t,isUserTurn:n,message:r}=e,s=U(),o=p.useRef(t);p.useEffect(()=>{if(!t)return;let a;wu.setLiveRegionAssertive(s.formatMessage({id:"0LFLpz",defaultMessage:"ChatGPT is generating a response..."}));const c=s.formatMessage({id:"uqqkLX",defaultMessage:"ChatGPT is still generating a response..."}),l=5e3;function u(){wu.setLiveRegionAssertive(""),a=window.setTimeout(()=>{wu.setLiveRegionAssertive(c),a=window.setTimeout(()=>u(),l)},1e3)}return a=window.setTimeout(u,l),()=>{window.clearTimeout(a)}},[t,s]),p.useEffect(()=>{if(t||n||!r||!o.current){o.current=t;return}const{content:a}=r,c=(a.content_type===an.Text,a),l=s.formatMessage({id:"lZ4dVJ",defaultMessage:"ChatGPT says: {message}"},{message:c?.parts?.join?.(`
`)??""});wu.setLiveRegionAssertive(l),o.current=!1},[n,t,s,r])}function rit(e){return e.nodeType===Node.ELEMENT_NODE}function sit(e){const t=e.currentTarget.ownerDocument,n=t.defaultView,r=o=>{const a=c=>{if(rit(c)){if(["THEAD","TR","TD","TH"].includes(c.nodeName.toUpperCase())){let l=c.parentNode;for(;l&&l.nodeName!=="TABLE";)l=l.parentNode;if(!l){Rb.debug("Found table element without a parent <table>");const u=t.createElement("table");c.parentNode?.insertBefore(u,c),u.appendChild(c)}}c.attributes&&[...c.attributes].forEach(l=>{["style"].includes(l.name)&&c.removeAttribute(l.name)})}c.childNodes.forEach(a)};o.childNodes.forEach(a)};e.preventDefault();const s=n?.getSelection();if(s&&s.rangeCount>0){const a=s.getRangeAt(0).cloneContents();r(a);const c=t.createElement("div");c.appendChild(a);const l=c.innerHTML;e.clipboardData.setData("text/html",l),e.clipboardData.setData("text/plain",s.toString())}}const Fgt=e=>{const t=qn();return p.useCallback(n=>{sit(n);const{currentTarget:r}=n,s=r.closest("[data-message-id]")?.getAttribute("data-message-id"),o=document.getSelection()?.toString(),a=L.getServerThreadId(e);!s||!o||!a||t||X.submitImplicitMessageFeedback({source:"keyboard",type:"copy",messageId:s,serverThreadId:a,selectedText:o,location:"selection"})},[e,t])};function Bgt({clientThreadId:e,currentModelId:t}){const n=Jot(t,J6.CODE_INTERPRETER);oit(n,e)}function oit(e,t){const n=gh(),r=L.getServerThreadId(t),s=Fe();async function o({queryKey:[a,c]}){return await X.getThreadInterpreterState(c).then(l=>(l.time_remaining_ms===0&&l.kernel_started&&s.warning("This advanced data analysis (beta) chat has timed out. You may continue the conversation, but previous files, links, and code blocks below may not work as expected.",{hasCloseButton:!0,duration:0}),l))}return me({queryKey:["interpreterState",r],queryFn:o,enabled:!!(e&&r&&!n),gcTime:0})}const ait=Ze(()=>Ye(()=>import("./mm76z1493t6lxwdh.js"),__vite__mapDeps([61,1,2,3,62,20,6])).then(e=>e.SearchSources));function Ugt({clientThreadId:e}){const t=qb(),{turnIndex:n,messageId:r,clientThreadId:s,scrollToHeader:o}=eA("searchSources")??{},a=Tn(),{closeThreadSidebar:c}=Ac(),l=p.useCallback(()=>{a?ha({className:"close-thread-sidebar",update:()=>{c({clientThreadId:e})}}):c({clientThreadId:e})},[c,a,e]);return!r||!n||!t||s!==e?null:i.jsx(E2e,{handleClose:l,children:i.jsx(ait,{clientThreadId:e,scrollToHeader:o,turnIndex:n,messageId:r,isInSidebar:!0})})}function Vgt({clientThreadId:e}){p.useEffect(()=>{ze.closeSharingModal(),JD(),L.updateScrollToMessageId(e,"finalAgentTurn")},[e]);const t=Pe();p.useEffect(()=>(L.retainThread(e),()=>{setTimeout(()=>{t.invalidateQueries({queryKey:["conversation",e]})},0),L.releaseThread(e)}),[e,t]),p.useEffect(()=>()=>{z.checkGate("3922476776")||ao.abortAllRequests()},[e]);const n=p.useRef(e);p.useEffect(()=>{e!==n.current&&(z.checkGate("3922476776")||ao.clear(),n.current=e)},[e]);const{closeThreadSidebar:r}=Ac(),s=YS.useState(YS.getActiveSidebar);p.useEffect(()=>{s?.type==="searchSources"&&s.clientThreadId!==tA&&r({clientThreadId:e})},[e,r])}const iit={type:"spring",stiffness:300,damping:30,mass:1},Ggt={transition:iit,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}};function Wgt({clientThreadId:e,currentLeafId:t}){const{currentModelId:n}=yi(),r=wl(e),s=a7(e,t),o=Rc(e),a=qn(),c=zD(n),l=So(e)&&!s&&(r5(r)||r?.kind===$e.GizmoTest);return{showEmptyState:l,canUseNewHomepage:l&&!1||l&&!o&&!c&&!a}}function UP(e,t){return e===t-1}function Hgt(e,t){const n=p.useRef(e).current,r=t&&e>n;p.useEffect(()=>{r&&(z.logEvent("chatgpt_continue_conversation_first_message_sent"),E.logEvent(P.continueConversationFirstMessageSent))},[r]),p.useEffect(()=>{t&&(z.logEvent("chatgpt_continue_conversation_page_loaded"),E.logEvent(P.continueConversationPageLoaded),z.logEvent("chatgpt_conversation_share_page_loaded"),E.logEvent(P.sharedConversationPageLoaded))},[t]);const s=Array.from({length:n},(a,c)=>({turnIndex:c,isFinalTurn:UP(c,e)})),o=Array.from({length:e-n},(a,c)=>{const l=c+n;return{turnIndex:l,isFinalTurn:UP(l,e)}});return{initialConversationTurns:s,continuedConversationTurns:o}}function zgt(){return i.jsx("div",{className:"text-pretty text-center text-xs font-semibold text-token-text-primary",children:i.jsx("button",{onClick:()=>{ze.openModal(gt.ReportConversation),z.logEvent("chatgpt_conversation_share_report_content_clicked",null,{location:"Static Shared Thread Page"}),E.logEvent(P.sharedConversationReportContentClicked,{location:"Dynamic Shared Thread Page"})},children:i.jsx(S,{id:"thread.reportSharedConversation",defaultMessage:"Report content"})})})}function qgt(){return i.jsx("p",{className:"text-pretty text-center text-xs text-gray-500",children:i.jsx(S,{id:"threadLayout.sharedConversationCopyDisclaimer",defaultMessage:"This is a copy of a conversation between ChatGPT & Anonymous."})})}function Ygt(){return i.jsxs("p",{className:"flex items-center justify-center text-pretty text-xs text-gray-500",children:[i.jsx(_o,{className:"icon-xs mr-2"}),i.jsx(S,{id:"threadLayout.sharedConversationPrivateDisclaimer",defaultMessage:"Messages beyond this point are only visible to you"})]})}var cit=typeof Xt=="object"&&Xt&&Xt.Object===Object&&Xt,lit=typeof self=="object"&&self&&self.Object===Object&&self;cit||lit||Function("return this")();function uit({threshold:e=0,root:t=null,rootMargin:n="0%",freezeOnceVisible:r=!1,initialIsIntersecting:s=!1,onChange:o}={}){var a;const[c,l]=p.useState(null),[u,d]=p.useState(()=>({isIntersecting:s,entry:void 0})),f=p.useRef();f.current=o;const h=((a=u.entry)==null?void 0:a.isIntersecting)&&r;p.useEffect(()=>{if(!c||!("IntersectionObserver"in window)||h)return;let v;const y=new IntersectionObserver(x=>{const b=Array.isArray(y.thresholds)?y.thresholds:[y.thresholds];x.forEach(w=>{const C=w.isIntersecting&&b.some(T=>w.intersectionRatio>=T);d({isIntersecting:C,entry:w}),f.current&&f.current(C,w),C&&r&&v&&(v(),v=void 0)})},{threshold:e,root:t,rootMargin:n});return y.observe(c),()=>{y.disconnect()}},[c,JSON.stringify(e),t,n,h,r]);const m=p.useRef(null);p.useEffect(()=>{var v;!c&&((v=u.entry)!=null&&v.target)&&!r&&!h&&m.current!==u.entry.target&&(m.current=u.entry.target,d({isIntersecting:s,entry:void 0}))},[c,u.entry,r,h,s]);const g=[l,!!u.isIntersecting,u.entry];return g.ref=g[0],g.isIntersecting=g[1],g.entry=g[2],g}function Kgt(){const[e,t]=uit({initialIsIntersecting:!1});return i.jsx("input",{name:"thread_is_scrolled_to_bottom",type:"checkbox",checked:t,ref:e,onChange:ke,className:"invisible h-[1px] w-full"})}function Qgt(e){const{children:t,className:n,style:r,...s}=e,[o,a]=Ji(s);return i.jsx("div",{"data-testid":`bar-container-${s.name||"default"}`,className:$("z-10 flex flex-col gap-bar",n),ref:a,style:{...r,...o},children:t})}function Xgt({className:e}){const t=U();return i.jsx(dit,{className:e,"aria-label":t.formatMessage({id:"L/a4AQ",defaultMessage:"Scroll to bottom"}),onClick:async()=>{z.logEvent("chatgpt_thread_scroll_to_bottom"),await Uf.yield(),document.querySelector("[data-testid='screen-thread'] [slot=content]")?.scrollIntoView({behavior:"smooth",block:"end"})},children:i.jsx(iA,{className:"icon-md text-token-text-secondary"})})}const dit=Se.button`cursor-pointer absolute bottom-0 self-center z-10 rounded-full bg-clip-padding border text-token-text-secondary border-token-border-light right-1/2 translate-x-1/2 bg-token-main-surface-primary w-11 h-11 flex items-center justify-center`,Zgt=p.createContext({setComposerFooterElement:()=>{}});var Ot=(e=>(e.Floating="floating",e.Pinned="pinned",e))(Ot||{});function fit(){return{isSidebarOpen:!1,mode:Ot.Pinned}}class u4{store;constructor(t){this.store=t}setSidebarMode=async t=>{switch(t){case Ot.Floating:this.store.setState({mode:Ot.Floating});break;case Ot.Pinned:this.store.setState({mode:Ot.Pinned});break}z.logEvent("chatgpt_web_sidebar_mode_changed",t)};openSidebar=async()=>{const t=VP();if(t){if(this.store.getState().isSidebarOpen&&t.checked)return;t.checked=!0}this.store.setState({isSidebarOpen:!0}),we.setState({isDesktopNavCollapsed:!1}),await Uf.yield(),z.logEvent("chatgpt_web_sidebar_opened"),E.logToggleDesktopNavCollapsed({isDesktopNavCollapsed:!1})};closeSidebar=async()=>{const t=VP();if(t){if(!this.store.getState().isSidebarOpen&&!t.checked)return;t.checked=!1}this.store.setState({isSidebarOpen:!1}),we.setState({isDesktopNavCollapsed:!0}),await Uf.yield(),z.logEvent("chatgpt_web_sidebar_closed"),E.logToggleDesktopNavCollapsed({isDesktopNavCollapsed:!0})}}function VP(){return document.querySelector(`input[name='${Nn.OpenOrClosed}']`)}const GP=Le(()=>fit()),d4=p.createContext({store:GP,actions:new u4(GP)});function hit(e){let{isSidebarOpen:t,mode:n}=e;return t&&n===Ot.Pinned?"open-pinned":!t&&n===Ot.Pinned?"closed-pinned":"closed"}function RS(){return p.use(d4)}function Jgt({children:e}){p.use(b$);const[t]=p.useState(()=>{let n;n={isSidebarOpen:document.querySelector(`input[name='${Nn.OpenOrClosed}']`)?.checked??!1,mode:document.querySelector(`input[name='${Nn.FloatingOrPinned}']`)?.checked?Ot.Pinned:Ot.Floating};const r=Le(()=>n);return{store:r,actions:new u4(r)}});return p.useEffect(()=>t.store.subscribe((n,r)=>{const s=n.mode!==r.mode,o=n.isSidebarOpen!==r.isSidebarOpen;if(!(s||o))return;const a=hit(n);mn.setCookie(cn.SidebarState,a,{maxAge:2**30})}),[t.store]),i.jsx(d4,{value:t,children:e})}function Tb(e){const t=e??document.querySelector("[data-name='application-root'] nav");return t&&getComputedStyle(t)?.getPropertyValue("--sidebar_should_light_dismiss")==="1"}const wa={openSidebar:(e,t,n)=>{const r=e.currentTarget.tagName==="INPUT"?e.currentTarget:document.querySelector(`#${e.currentTarget.getAttribute("for")}`);e.preventDefault(),e.persist();const o=Tb(null)?Ot.Floating:n;ha({className:"open-sidebar",types:[`from-${o}`],update:()=>{r&&(r.checked=!0),t.openSidebar()}})},closeSidebar:(e,t,n)=>{const r=e.currentTarget.tagName==="INPUT"?e.currentTarget:document.querySelector(`#${e.currentTarget.getAttribute("for")}`);e.preventDefault(),e.persist();const o=Tb(null)?Ot.Floating:n;ha({className:"close-sidebar",types:[`from-${o}`],update:()=>{r&&(r.checked=!1),t.closeSidebar()}})},togglePinSidebar:(e,t,n)=>{const s=e.currentTarget.tagName==="INPUT"?e.currentTarget:document.querySelector(`#${e.currentTarget.getAttribute("for")}`);s&&ha({className:n===Ot.Pinned?"pin-sidebar":"unpin-sidebar",update:()=>{s.checked=n===Ot.Pinned,t.setSidebarMode(n)}})}};function evt(){const{store:e,actions:t}=RS(),n=e(s=>s.isSidebarOpen),r=e(s=>s.mode);return i.jsxs(i.Fragment,{children:[i.jsx(cb,{id:Nn.FloatingOrPinned,name:Nn.FloatingOrPinned,checked:r===Ot.Pinned,onChange:s=>{s.preventDefault(),s.persist();const o=r===Ot.Pinned?Ot.Floating:Ot.Pinned;wa.togglePinSidebar(s,t,o)}}),i.jsx(cb,{id:Nn.OpenOrClosed,name:Nn.OpenOrClosed,checked:n,onChange:s=>{s.currentTarget.checked?wa.openSidebar(s,t,r):wa.closeSidebar(s,t,r)}})]})}function tvt(){const{actions:e,store:t}=RS(),n=t(s=>s.mode),r=U();return i.jsx(oL,{className:$(KS.openSidebar,KS.sidebarIcon),htmlFor:Nn.OpenOrClosed,style:{viewTransitionName:"var(--vt_toggle_sidebar_closed)"},onActivate:s=>{wa.openSidebar(s,e,n)},icon:i.jsxs(i.Fragment,{children:[i.jsx(CA,{className:$("h-6 w-6","hidden @lg/thread:inline-flex")}),i.jsx(_A,{className:$("h-6 w-6","inline-flex @lg/thread:hidden")})]}),label:r.formatMessage({id:"fWaiMq",defaultMessage:"Open Sidebar"})})}const pit=Ze(()=>Ye(()=>import("./ok79zj4asqqk3z9x.js"),__vite__mapDeps([38,1,2,3,39,40,41,42,18])).then(e=>e.OpenDebugSidebarButton)),mit=Ze(()=>Ye(()=>Promise.resolve().then(()=>oot),void 0).then(e=>e.default));function nvt(){const e=EOe();return i.jsxs("div",{className:$("absolute bottom-4 right-4 z-30 flex-col gap-1","hidden @lg/screen-composer:flex"),style:{viewTransitionName:"var(--vt_thread_tools)"},children:[e?i.jsxs(i.Fragment,{children:[i.jsx(pit,{}),!1]}):null,i.jsx(mit,{})]})}var git=(e=>(e[e.ADAVisualization=0]="ADAVisualization",e[e.Image=1]="Image",e))(git||{});function rvt(){const{isUnauthenticated:e,isLoading:t}=It(),{eligible:n,isLoading:r,markAsViewed:s}=Ue(Ee.hasSeenPioneer),o=tn();return{eligible:o&&o.created>Date.now()/1e3-24*60*60&&n&&!e,isLoading:r||t,markAsViewed:s}}function vit(){return window.dataLayer=window.dataLayer||[],function(){window.dataLayer.push(arguments)}}function yit(){["IDE","ANID","NID"].forEach(t=>{try{document.cookie=t+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=."+window.location.hostname}catch{z.logEvent("chatgpt_pioneer_cookie_error")}})}function svt(){const e=tn(),{cspScriptNonce:t}=p.useContext(y$);return!window||!e||!t?()=>{}:async()=>{let n;if(e.email)try{const a=new TextEncoder().encode(e.email);n=await crypto.subtle.digest("SHA-256",a).then(c=>Array.from(new Uint8Array(c)).map(l=>l.toString(16).padStart(2,"0")).join(""))}catch{z.logEvent("chatgpt_pioneer_email_error")}const r=document.createElement("script");r.src="https://www.googletagmanager.com/gtag/js?id=AW-16678058309",r.nonce=t,r.async=!0,document.body.appendChild(r);const s=vit();s("js",new Date),s("config","AW-16678058309",{send_page_view:!1,conversion_linker:!0,restricted_data_processing:!0}),yit(),s("set","user_data",{sha256_email_address:n}),s("event","conversion",{send_to:"AW-16678058309/0kStCJHMl9QZEMXy25A-",user_data:{sha256_email_address:n}}),z.logEvent("chatgpt_pioneer_conv")}}var bit=(e=>(e.Turn="turn",e.ImagesTab="images_tab",e))(bit||{}),xit=(e=>(e[e.FromLeft=-1]="FromLeft",e[e.FromRight=1]="FromRight",e))(xit||{});class kb extends JP()(()=>({currentImage:void 0})){setCurrentImage(t){this.setState({currentImage:t})}static useCurrentImage(){return this.useState(t=>t.currentImage)}}function ovt({clientThreadId:e,children:t}){const[n]=p.useState(new kb);return p.useEffect(()=>{n.setCurrentImage(void 0)},[e,n]),i.jsx(kb.Provider,{store:n,children:t})}function avt({clientThreadId:e}){return kb.useCurrentImage()?i.jsx(wit,{clientThreadId:e}):null}const wit=Ze(()=>Ye(()=>import("./nl1f1ya0x9piujem.js"),__vite__mapDeps([63,1,2,3,16,17,6])).then(e=>e.ImageLightbox));function ivt(){const e=la(n=>n.liveRegionAssertive),t=la(n=>n.liveRegionPolite);return i.jsxs(i.Fragment,{children:[i.jsx("div",{"aria-live":"assertive","aria-atomic":"true",className:"sr-only",children:e}),i.jsx("div",{"aria-live":"polite","aria-atomic":"true",className:"sr-only",children:t})]})}const cvt=()=>{const e=U(),t=we(o=>o.activeModals.has(gt.KeyboardActions)),n=()=>{ze.closeModal(gt.KeyboardActions)},r=fL(),s=p.useMemo(()=>{const o=Math.ceil(r.length/2);return[r.slice(0,o),r.slice(o)]},[r]);return i.jsx(je,{isOpen:t,onClose:n,type:"success",size:"custom",className:"md:max-w-[672px] lg:max-w-[796px] xl:max-w-4xl",showCloseButton:!0,title:e.formatMessage(_it.keyboardActionsModalTitle),children:i.jsx(i.Fragment,{children:i.jsx("div",{className:"grid grid-flow-row grid-cols-[repeat(auto-fit,minmax(250px,1fr))] gap-x-9",children:s.map((o,a)=>i.jsx("div",{className:"flex flex-col overflow-hidden",children:o.map(c=>i.jsx(Sit,{action:c},c.key))},`col-${a}`))})})})},Sit=({action:e})=>i.jsxs("div",{className:"flex items-center justify-between overflow-hidden text-token-text-primary",children:[i.jsx("div",{className:"flex flex-shrink items-center overflow-hidden text-sm",children:i.jsx("div",{className:"truncate",children:i.jsx(S,{...e.actionMessageDescriptor})})}),i.jsx("div",{className:"ml-3 flex flex-row gap-2",children:L2e(e.keyboardBinding).map((t,n)=>i.jsx(Cit,{keyName:t},`${e.key}-${n}`))})]}),Cit=({keyName:e})=>{const t=$("my-2 flex h-8 items-center justify-center rounded-md border border-token-border-light capitalize text-token-text-secondary");return e.length>1?e.length>3?i.jsx("div",{className:$(t,"min-w-[50px]"),children:i.jsx("span",{className:"text-xs",children:e})}):i.jsx("div",{className:$(t,"min-w-[32px]"),children:i.jsx("span",{className:"text-xs",children:e})}):i.jsx("div",{className:$(t,"min-w-[32px]"),children:i.jsx("span",{className:"text-sm",children:e})})},_it=K({keyboardActionsModalTitle:{id:"KeyboardActionsModal.keyboardActionsModalTitle",defaultMessage:"Keyboard shortcuts"}});function lvt(){const{clientThreadId:e,resetThread:t}=yi();return B2e({resetThreadAction:t,clientThreadId:e}),null}function uvt(e){const{children:t,className:n,style:r,name:s,...o}=e;return i.jsx("div",{className:$n.parent,"data-testid":"screen-composer-parent",children:i.jsxs("div",{className:$($n.screenComposer,$n.sidebarColors,$n.registeredScreenProperties,n),"data-name":s,"data-testid":"screen-composer",style:r,children:[i.jsx("div",{className:$n.banner,children:o.banner}),i.jsx("nav",{className:$n.sidebar,children:o.sidebar}),i.jsx("div",{className:$n.header,children:o.header}),i.jsx("main",{className:$n.thread,id:"thread",children:o.thread}),i.jsx("section",{className:$n.details,id:"details",children:o.details}),i.jsx("aside",{className:$n.threadExtendedInfo,id:"threadExtendedInfo",children:o.threadExtendedInfo}),i.jsx("footer",{className:$n.footer,children:o.footer}),i.jsx("div",{className:$n.debugger,children:o.debugger}),t]})})}const Tit=()=>window.visualViewport?.height??document.documentElement.clientHeight;async function WP(e){return await new Promise(t=>setTimeout(t,100)),e?.aborted?null:Tit()}function f4(){return"virtualKeyboard"in navigator}function kit({disableVirtualKeyboardScript:e,setKeyboardDimensions:t}){if(!f4()||e)return;let n=!1;function r(){document.removeEventListener("focusout",a),navigator.virtualKeyboard.overlaysContent=!1,e||(t?.({height:null,bottom:null}),navigator.virtualKeyboard.removeEventListener("geometrychange",o))}function s(l,u){requestAnimationFrame(()=>{t?.({height:l,bottom:u})})}const o=l=>{const u=l,d=u.target.boundingRect.height,f=u.target.boundingRect.bottom;s(d,f)},a=()=>{n&&r()},c=l=>{const u=l.target;u&&(u instanceof HTMLInputElement||u instanceof HTMLTextAreaElement||u.isContentEditable)&&(n=!0,document.addEventListener("focusout",a),navigator.virtualKeyboard.overlaysContent=!0,e||navigator.virtualKeyboard.addEventListener("geometrychange",o))};return document.addEventListener("focusin",c),()=>{document.removeEventListener("focusin",c),document.removeEventListener("focusout",a),navigator.virtualKeyboard.removeEventListener("geometrychange",o)}}function Mit({screenRef:e}){let t=!1,n=new AbortController;function r(c){if(c==null){document.documentElement.style.removeProperty("--screen-height"),document.documentElement.style.removeProperty("--osk-height-multiplier");return}document.documentElement.style.setProperty("--screen-height",`${c}px`),document.documentElement.style.setProperty("--osk-height-multiplier","1")}const s=r2(async()=>{n.abort(),n=new AbortController;const c=await WP(n.signal);r(c)},250,{leading:!0}),o=c=>{const l=c.target;l&&(l instanceof HTMLInputElement||l instanceof HTMLTextAreaElement||l.isContentEditable)&&(t=!0,window.visualViewport?.addEventListener("resize",s),ha({update:async()=>{const u=await WP();r(u),window.scrollTo(0,0),e?.current?.scrollIntoView()}}))},a=()=>{t&&(t=!1,n.abort(),window.visualViewport?.removeEventListener("resize",s),document.removeEventListener("focusout",a),r(null))};return document.addEventListener("focusin",o),document.addEventListener("focusout",a),()=>{document.removeEventListener("focusin",o),document.removeEventListener("focusout",a),t=!1,n.abort(),window.visualViewport?.removeEventListener("resize",s)}}function dvt(e,t){const{value:n}=mt("3168919911"),{value:r}=mt("2128055372");p.useEffect(()=>!$6()||!n?void 0:f4()?kit({screenRef:e,setKeyboardDimensions:t,disableVirtualKeyboardScript:!r}):Mit({screenRef:e}),[n,r,e,t])}function fvt(e){const{clientThreadId:t}=yi(),n=p.useRef(e);n.current=e;const r=p.useRef(null);p.useEffect(()=>{const s=r.current;return r.current=t,()=>{t!==s&&n.current?.(t,s)}},[t])}function Eit({children:e,className:t,header:n,isLastInGroup:r=!1}){return i.jsxs("div",{className:"group/sidebar",children:[i.jsx("div",{className:$(t,"sticky top-[var(--sticky-title-offset)] z-20 block min-w-[50cqw] select-none overflow-clip text-ellipsis break-all py-2 text-xs font-semibold text-token-text-secondary"),style:{backgroundImage:"var(--occluding-gradient)"},children:n}),i.jsx("aside",{className:$("-ml-2 flex flex-col gap-4 pt-1",r?"mb-0":"mb-3"),children:i.jsx("ul",{className:"flex flex-col gap-0.5",children:e})})]})}const Pit=K({exploreStoreEnabled:{id:"gizmo.exploreStoreEnabled",defaultMessage:"Explore GPTs"},keepInSidebar:{id:"gizmo.keepInSidebar",defaultMessage:"Keep in sidebar"},newChat:{id:"gizmo.newChat",defaultMessage:"New chat"},clearChat:{id:"gizmo.clearChat",defaultMessage:"Clear chat"}});var h4=(e=>(e[e.Keep=0]="Keep",e[e.Recents=1]="Recents",e[e.Workspace=2]="Workspace",e))(h4||{});const $it=Ze(()=>Ye(()=>import("./dtq8axfe7w5l0mdp.js"),__vite__mapDeps([64,1,2,3])).then(e=>e.GizmoKeepInSidebarMenuItem));function hvt({gizmo:e,isOpen:t,setIsOpen:n,section:r}){const s=Pe();return i.jsxs(Ih,{open:t,onOpenChange:n,triggerButton:i.jsx("button",{className:$("flex text-token-text-secondary hover:text-token-text-primary",t?"":"invisible group-hover:visible"),children:i.jsx(ex,{className:"icon-md"})}),contentAlign:"start",sideOffset:4,alignOffset:-4,size:"auto",children:[r===h4.Recents&&i.jsx(ie.Item,{onClick:async()=>{await ut.updateGizmoSidebar(s,S2,e.gizmo.id,"keep")},children:i.jsx(S,{...Pit.keepInSidebar})}),i.jsx($it,{gizmoResource:e})]})}const Ait=p.createContext({isSidebarFlyoutOpen:()=>!1,onSidebarFlyoutOpenChange:()=>{}});function p4(){return p.use(Ait)}var Sa=(e=>(e.Conversation="conversation",e.Gizmo="gizmo",e.Conversation2="conversation2",e))(Sa||{});function Oit({onClick:e}){const{clientThreadId:t}=yi(),{isSidebarFlyoutOpen:n,onSidebarFlyoutOpenChange:r}=p4(),s=n(Sa.Conversation);return i.jsx("div",{className:"group mt-1 flex w-full items-center justify-start",children:i.jsx(Ih,{onOpenChange:o=>{o&&z.logEvent("chatgpt_web_more_conversation_history_opened"),r(Sa.Conversation,o)},side:"right",sideOffset:4,open:s,contentAlign:"start",triggerButton:i.jsxs("button",{className:$("flex flex-1 select-none items-center gap-2 rounded-lg px-2 py-2 text-body tracking-condensed text-token-text-secondary ease-[var(--spring-bounce)] hover:bg-token-main-surface-secondary focus:ring-0 motion-safe:active:scale-[98%] motion-safe:active:transition-transform",s&&"bg-token-main-surface-secondary"),onClick:e,children:[i.jsx(ex,{className:$("icon-md mr-1 font-semibold text-token-sidebar-icon")}),i.jsx("span",{className:"text-left",children:i.jsx(S,{id:"25xE8F",defaultMessage:"See more"})})]}),size:"auto",children:i.jsx("div",{className:"max-h-[50dvh] overflow-x-auto px-2 [scrollbar-gutter:stable]",children:i.jsx(Ua,{children:i.jsx(gOe,{activeId:t,hideOverflowMenu:!0})})})})})}function Nit(){const e=Tn(),{conversations:t}=V1();return{isCollapsible:e&&t.length>5,recentConversationLimit:5}}function Iit({showRetry:e,refetch:t}){return i.jsxs("div",{className:"mt-5 p-3 text-center italic text-token-text-tertiary",children:[i.jsx(S,{id:"p9u9Tx",defaultMessage:"Unable to load history"}),e&&i.jsx("div",{className:"mt-1",children:i.jsx(ce,{as:"button",color:"primary",size:"small",className:"m-auto mt-2",onClick:()=>{t()},children:i.jsx(S,{id:"3NKcIv",defaultMessage:"Retry"})})})]})}function pvt({clientThreadId:e}){const t=Yb(e),n=qn(),{isCollapsible:r,recentConversationLimit:s}=Nit(),o={recentConversationLimit:s},a=p.useRef(!1),c=!0,{conversations:l,data:u,isLoading:d,isError:f,recents:h,refetch:m}=V1(o),[g,v]=p.useState(!0),y=p.useCallback(function(M){M===void 0&&v(!1),m({cancelRefetch:!0})},[m,v]),x=n?void 0:t,b=l.length===0,w=f||u===void 0&&!d&&a.current,C=!w&&(u===void 0||d);u===void 0&&!d&&!a.current&&(a.current=!0,y(!0));const _=l.find(k=>k.id===x)??null;return p.useMemo(()=>{jc.publish({kind:"refreshHistory",conversations:l})},[l]),i.jsxs(i.Fragment,{children:[w&&i.jsx(Iit,{showRetry:g,refetch:y}),!b&&i.jsxs(Eit,{header:h.label,isLastInGroup:!0,children:[h.items.map((k,M)=>i.jsx(ub,{item:k,isActive:k.id===x,testId:`history-item-${M}`},k.id)),_&&!h.items.some(k=>k.id===x)&&i.jsx(ub,{item:_,isActive:!0})]}),C&&i.jsx(In,{className:"sticky top-4 z-30 mt-4 justify-self-center"}),r&&i.jsx(Ua,{children:i.jsx("div",{className:"-ml-2 mb-5",children:i.jsx("div",{hidden:!c,className:$(!c),children:i.jsx(Oit,{})})})})]})}function mvt(){return i.jsx("div",{className:jl.btn,children:i.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("path",{className:jl.bar,d:"M4 5V19"}),i.jsxs("g",{className:jl.rightArrow,children:[i.jsx("path",{d:"M21 12L11 12"}),i.jsx("path",{d:"M16 7L21 12L16 17"})]}),i.jsxs("g",{className:jl.leftArrow,children:[i.jsx("path",{d:"M13 12L3 12"}),i.jsx("path",{d:"M8 7L3 12L8 17"})]})]})})}function jit(){return(lb()?"⌘":"Ctrl")+" K"}function Rit({children:e,sideOffset:t,className:n}){return i.jsx(rt,{sideOffset:t,className:n,label:i.jsxs("div",{children:[i.jsx(S,{id:"jmd8WH",defaultMessage:"Search chats"}),i.jsx("div",{className:"text-sm font-normal text-token-text-secondary",children:jit()})]}),children:e})}function Dit(e){const t=new AbortController,n=t.signal;let r=!1;function s(c){if(r)return;const{checkElement:l,onLightDismiss:u}=e.current;!HP(c.target,l)&&!Lit(c.target)&&u()}function o(c){const{checkElement:l}=e.current;r=HP(c.target,l)}function a(c){const{onLightDismiss:l}=e.current;c.key==="Escape"&&l()}return document.addEventListener("mousedown",o,{signal:n}),document.addEventListener("mouseup",s,{signal:n}),document.addEventListener("keydown",a,{signal:n}),()=>{t.abort()}}function Lit(e){return"getAttribute"in e?e.getAttribute("role")==="menuitem":!1}function HP(e,t){if(!e)return!1;let n=e;for(;n!=null;){if(t(n))return!0;n=n.parentElement}return!1}function Fit({onLightDismiss:e,checkElement:t,enabled:n}){const r=p.useRef({onLightDismiss:e,checkElement:t});r.current={onLightDismiss:e,checkElement:t},p.useEffect(()=>{if(n)return Dit(r)},[n])}function Bit({onNewThread:e}){const t=U(),n=yt(),{clientThreadId:r}=yi(),s=wl(r),o=s?nke(s):void 0,a=o?kx(o):void 0,c=t.formatMessage({id:"NUNaGU",defaultMessage:"New chat"});return i.jsx(rt,{label:c,children:i.jsx(Ga,{to:a??"/",onClick:async l=>{l.preventDefault(),a!=null?Sc(n,a):e()},tabIndex:-1,children:i.jsx(Ywe,{icon:i.jsx(cA,{className:Tr.sidebarIcon}),className:Tr.searchAction,label:c,style:{viewTransitionName:"var(--vt_new_chat_sidebar)"}})})})}const Uit=Ze(()=>Ye(()=>import("./hqoeii0k3g76g9o7.js"),__vite__mapDeps([65,1,2,3,66,44,67])).then(e=>e.FannyPackIconButton));function gvt({onNewThread:e}){const t=U(),n=p.useRef(null),{store:r,actions:s}=RS(),o=r(g=>g.isSidebarOpen),a=r(g=>g.mode),{isSidebarFlyoutOpen:c}=p4(),l=c(Sa.Conversation),u=c(Sa.Gizmo),d=c(Sa.Conversation2),f=o&&!l&&!u&&!d;function h(){Tb(n.current)&&document.getElementById(Nn.OpenOrClosed)?.click()}Fit({checkElement:g=>g?.tagName==="NAV",enabled:f,onLightDismiss:h});const{isFannyPackEnabled:m}=iS();return Fr(),i.jsxs(i.Fragment,{children:[i.jsx(Uv,{type:"primary",className:$(Tr.screenHeader),name:"sidebar-header",children:i.jsxs("div",{className:"flex min-h-[var(--screen-thread-header-min-height,60px)] w-full flex-1 items-center justify-between",ref:n,children:[i.jsx("div",{className:"grid items-center gap-1",children:i.jsx(oL,{className:$(Tr.closeSidebarAction),style:{viewTransitionName:"var(--vt_toggle_sidebar_opened)"},onClick:g=>{wa.closeSidebar(g,s,a)},onActivate:g=>{wa.closeSidebar(g,s,a)},icon:i.jsxs(i.Fragment,{children:[i.jsx(CA,{className:$(Tr.sidebarIcon,"hidden @lg/screen-composer:inline-flex")}),i.jsx(_A,{className:$(Tr.sidebarIcon,"@xs/screen-composer:inline-flex @lg/screen-composer:hidden")})]}),label:t.formatMessage(Vit.closeSidebar),htmlFor:Nn.OpenOrClosed,tooltipSideOffset:4})}),i.jsxs("div",{className:"flex items-center",children:[!1,m&&i.jsx(Rit,{children:i.jsx(Uit,{className:Tr.searchAction,icon:i.jsx(J7,{className:Tr.sidebarIcon}),style:{viewTransitionName:"var(--vt_search_sidebar)"}})}),i.jsx(Bit,{onNewThread:e})]})]})}),i.jsx(Uv,{type:"primary",className:Tr.bucketBar,disableSizeTracking:!0,children:" "})]})}const Vit=K({closeSidebar:{id:"fM0vj3",defaultMessage:"Close Sidebar"}});function vvt(){const{clientThreadId:e,currentModelId:t,isCompanionWindow:n}=yi();return i.jsx(LDe,{conversationId:e,currentModelId:t,isActiveWindow:!n})}export{Hn as $,YD as A,fi as B,Dh as C,elt as D,Qn as E,f1 as F,Wpt as G,VSe as H,yl as I,oD as J,Oo as K,qh as L,Hf as M,Be as N,UCe as O,upt as P,vD as Q,zCe as R,uD as S,ilt as T,ze as U,pCe as V,ln as W,nE as X,JSe as Y,PCe as Z,xs as _,n8 as a,FR as a$,Pn as a0,aft as a1,oft as a2,cft as a3,vft as a4,uft as a5,qCe as a6,G0 as a7,zf as a8,Bp as a9,bot as aA,Qo as aB,dot as aC,fot as aD,Xa as aE,cot as aF,iot as aG,yot as aH,wn as aI,Llt as aJ,Sb as aK,oke as aL,kx as aM,Ydt as aN,Fft as aO,Wmt as aP,iS as aQ,ML as aR,Ymt as aS,Kmt as aT,wat as aU,po as aV,Zbe as aW,ldt as aX,mdt as aY,TA as aZ,gdt as a_,TCe as aa,_Ce as ab,lft as ac,kt as ad,sCe as ae,xCe as af,ma as ag,kr as ah,hft as ai,$Ce as aj,GCe as ak,iD as al,aD as am,tD as an,dft as ao,Ao as ap,Ui as aq,H0 as ar,Gct as as,vn as at,pi as au,Tn as av,Uv as aw,Sc as ax,ppt as ay,gOe as az,q$e as b,L5 as b$,Wbe as b0,Fbe as b1,Xft as b2,DR as b3,uTe as b4,Kft as b5,aTe as b6,qft as b7,Yft as b8,Pgt as b9,v2 as bA,eEe as bB,zR as bC,Jft as bD,zft as bE,git as bF,zmt as bG,AL as bH,kb as bI,bit as bJ,axe as bK,xit as bL,T2 as bM,txe as bN,Rit as bO,mq as bP,jit as bQ,Uc as bR,Vmt as bS,Hft as bT,Ywe as bU,Te as bV,b1 as bW,r0e as bX,Bdt as bY,Jdt as bZ,Ip as b_,zit as ba,jd as bb,mx as bc,eTe as bd,HD as be,Jut as bf,edt as bg,x0e as bh,Xut as bi,tdt as bj,ixe as bk,jht as bl,tn as bm,Y$e as bn,Mht as bo,_l as bp,Qa as bq,wl as br,pl as bs,OR as bt,pn as bu,ga as bv,Xe as bw,$L as bx,uut as by,m2 as bz,Ght as c,nRe as c$,PAe as c0,Wn as c1,zn as c2,Ma as c3,nSe as c4,Ue as c5,Ee as c6,U2e as c7,ypt as c8,Qp as c9,yIe as cA,vIe as cB,r2 as cC,E1 as cD,Dht as cE,aSe as cF,J1e as cG,lSe as cH,Po as cI,Rft as cJ,Yf as cK,Dft as cL,Lft as cM,_at as cN,Cat as cO,Tat as cP,GD as cQ,Aht as cR,ovt as cS,Vgt as cT,B2e as cU,avt as cV,Pdt as cW,Edt as cX,N0 as cY,ut as cZ,amt as c_,jp as ca,Z2e as cb,hSe as cc,we as cd,As as ce,V2e as cf,Lye as cg,Adt as ch,Amt as ci,zD as cj,Omt as ck,$mt as cl,hht as cm,Dpt as cn,hV as co,vS as cp,w2 as cq,ogt as cr,OP as cs,Ls as ct,o0e as cu,TD as cv,M3 as cw,Umt as cx,Xp as cy,jP as cz,Vht as d,Npt as d$,Cbe as d0,Eu as d1,Pl as d2,$o as d3,Yje as d4,Y_e as d5,zct as d6,hmt as d7,kct as d8,S2 as d9,Jde as dA,qlt as dB,tut as dC,nut as dD,rut as dE,eut as dF,Ylt as dG,Xlt as dH,Zlt as dI,Jlt as dJ,NI as dK,CI as dL,Hj as dM,II as dN,zlt as dO,Spt as dP,Cpt as dQ,_pt as dR,mS as dS,Os as dT,WD as dU,Tpt as dV,xl as dW,fut as dX,fo as dY,Hue as dZ,agt as d_,Nft as da,Ift as db,D_e as dc,L_e as dd,ml as de,Hmt as df,or as dg,aut as dh,iut as di,Rw as dj,Klt as dk,Qlt as dl,vc as dm,Ws as dn,Pde as dp,yc as dq,ple as dr,sut as ds,out as dt,Lw as du,MI as dv,$I as dw,EI as dx,PI as dy,Ude as dz,rSe as e,M2e as e$,Uct as e0,Vct as e1,rlt as e2,Apt as e3,VR as e4,Kct as e5,Qct as e6,pV as e7,N_e as e8,Xct as e9,dgt as eA,fgt as eB,FU as eC,slt as eD,Sct as eE,_ht as eF,Np as eG,wct as eH,Ndt as eI,BU as eJ,yct as eK,nlt as eL,I1e as eM,Cct as eN,K6 as eO,ngt as eP,Iot as eQ,Zmt as eR,egt as eS,Jmt as eT,tgt as eU,Y6 as eV,Qmt as eW,Xmt as eX,VD as eY,Jgt as eZ,uvt as e_,Eo as ea,Hct as eb,hdt as ec,tvt as ed,VU as ee,$pt as ef,Hlt as eg,sot as eh,Dmt as ei,fAe as ej,UMe as ek,Rmt as el,$t as em,Yct as en,xct as eo,Bpt as ep,jct as eq,Rct as er,pdt as es,bct as et,uS as eu,kpt as ev,_Oe as ew,Mpt as ex,xS as ey,ugt as ez,uSe as f,ys as f$,nvt as f0,Wct as f1,cgt as f2,Dct as f3,nxe as f4,ffe as f5,N3e as f6,P3e as f7,RM as f8,y0e as f9,Hit as fA,Bh as fB,VA as fC,qit as fD,Zit as fE,$A as fF,Yit as fG,ymt as fH,pgt as fI,cb as fJ,Ugt as fK,Pft as fL,N1e as fM,Igt as fN,But as fO,Tft as fP,kft as fQ,kht as fR,Nlt as fS,uO as fT,bH as fU,Ilt as fV,aH as fW,Elt as fX,E2 as fY,jr as fZ,ps as f_,Sot as fa,a6 as fb,K$e as fc,$be as fd,es as fe,Pbe as ff,cdt as fg,$ht as fh,Eft as fi,Xje as fj,fdt as fk,Gut as fl,Dye as fm,ddt as fn,OIe as fo,LU as fp,X_e as fq,_mt as fr,Qpt as fs,t8 as ft,lo as fu,Iht as fv,D8 as fw,xv as fx,$dt as fy,$6 as fz,FA as g,$ft as g$,llt as g0,MO as g1,Ne as g2,Yx as g3,klt as g4,XW as g5,KC as g6,Clt as g7,XC as g8,QW as g9,vlt as gA,wlt as gB,Rlt as gC,Dlt as gD,ult as gE,jlt as gF,clt as gG,xft as gH,Dp as gI,NCe as gJ,rCe as gK,Cft as gL,bft as gM,gft as gN,mft as gO,Wr as gP,_ft as gQ,yft as gR,fft as gS,GSe as gT,nD as gU,wft as gV,dCe as gW,c_e as gX,Odt as gY,_1 as gZ,C1e as g_,Tlt as ga,plt as gb,hlt as gc,JW as gd,ZW as ge,glt as gf,_lt as gg,flt as gh,$lt as gi,mlt as gj,Slt as gk,$O as gl,Rr as gm,Alt as gn,yH as go,Olt as gp,kO as gq,Zn as gr,St as gs,Jt as gt,dlt as gu,Plt as gv,bW as gw,Mlt as gx,is as gy,ylt as gz,tSe as h,Eht as h$,Aft as h0,$_e as h1,Mft as h2,g2 as h3,Wye as h4,kxe as h5,alt as h6,Idt as h7,jdt as h8,Q_e as h9,F3 as hA,B3 as hB,Opt as hC,yat as hD,pat as hE,on as hF,$g as hG,hut as hH,Tdt as hI,kdt as hJ,Mdt as hK,udt as hL,_dt as hM,vdt as hN,ydt as hO,zut as hP,Yut as hQ,Kut as hR,qut as hS,kOe as hT,t5 as hU,KTe as hV,R0 as hW,F5 as hX,wAe as hY,rL as hZ,ept as h_,un as ha,Zdt as hb,eft as hc,nft as hd,rft as he,X1e as hf,tft as hg,R1e as hh,D1e as hi,Mx as hj,ike as hk,yo as hl,TDe as hm,Hut as hn,zj as ho,Ggt as hp,Smt as hq,Cmt as hr,GL as hs,wmt as ht,Zpt as hu,Jpt as hv,c3 as hw,Sft as hx,PS as hy,Twe as hz,Xit as i,Yot as i$,uAe as i0,aAe as i1,h2e as i2,sAe as i3,yAe as i4,oAe as i5,l2e as i6,Bht as i7,spt as i8,rpt as i9,Nbe as iA,dvt as iB,vvt as iC,lvt as iD,Wft as iE,rvt as iF,svt as iG,j5 as iH,eS as iI,tAe as iJ,X0 as iK,hu as iL,cvt as iM,apt as iN,ivt as iO,U6 as iP,pst as iQ,Wst as iR,dht as iS,lAe as iT,R5 as iU,Nct as iV,QTe as iW,n5 as iX,Pit as iY,h4 as iZ,hvt as i_,Lht as ia,Fht as ib,Xht as ic,Kht as id,qht as ie,zht as ig,Yht as ih,Wht as ii,Hht as ij,npt as ik,Qht as il,opt as im,Uht as io,tpt as ip,SAe as iq,tS as ir,ha as is,E2e as it,Ept as iu,mgt as iv,bpt as iw,wpt as ix,xpt as iy,mR as iz,Jit as j,Bye as j$,vpt as j0,sft as j1,Cx as j2,ta as j3,p4 as j4,Sa as j5,Eit as j6,hgt as j7,pvt as j8,RS as j9,idt as jA,Z1 as jB,lgt as jC,Lct as jD,qct as jE,_s as jF,Tct as jG,Zct as jH,Jct as jI,co as jJ,UU as jK,lut as jL,dut as jM,tre as jN,PA as jO,Blt as jP,Ult as jQ,Vut as jR,Uye as jS,hS as jT,gpt as jU,pS as jV,Rht as jW,V1 as jX,hOe as jY,li as jZ,Uut as j_,oL as ja,mvt as jb,wa as jc,Ot as jd,Qgt as je,fvt as jf,Ait as jg,evt as jh,gvt as ji,Tb as jj,yEe as jk,gR as jl,Gye as jm,Agt as jn,gmt as jo,XMe as jp,N5 as jq,J1 as jr,cu as js,Nje as jt,U$e as ju,UR as jv,Hje as jw,d6 as jx,Ebe as jy,lh as jz,ect as k,Uft as k$,Wut as k0,Mg as k1,dC as k2,as as k3,b0e as k4,w0e as k5,gct as k6,IU as k7,ede as k8,lht as k9,Udt as kA,qdt as kB,Hdt as kC,Gdt as kD,Wdt as kE,Kdt as kF,j1e as kG,zdt as kH,Qdt as kI,Ml as kJ,Gpt as kK,jL as kL,LL as kM,R6 as kN,Hpt as kO,Gft as kP,ge as kQ,Bft as kR,L2e as kS,tlt as kT,rgt as kU,sgt as kV,s5 as kW,sOe as kX,Fye as kY,nh as kZ,kL as k_,kTe as ka,gi as kb,iht as kc,cht as kd,uht as ke,aht as kf,oht as kg,pmt as kh,bDe as ki,mmt as kj,hpt as kk,Jue as kl,Bj as km,yg as kn,ade as ko,ide as kp,Ka as kq,jmt as kr,Jst as ks,RP as kt,EOe as ku,Jht as kv,r2e as kw,JAe as kx,Vdt as ky,Pct as kz,yv as l,vct as l$,Vft as l0,Tl as l1,Ict as l2,Fdt as l3,eAe as l4,rB as l5,sH as l6,bv as l7,nAe as l8,oV as l9,vmt as lA,o5 as lB,dke as lC,Q1 as lD,AIe as lE,pTe as lF,mTe as lG,Nmt as lH,Ije as lI,wdt as lJ,Mxe as lK,Ldt as lL,tmt as lM,Tmt as lN,Imt as lO,Pmt as lP,Emt as lQ,Mmt as lR,VMe as lS,Glt as lT,aV as lU,$ct as lV,Fmt as lW,it as lX,h2 as lY,Bf as lZ,uRe as l_,vV as la,DOe as lb,xNe as lc,gS as ld,POe as le,Xpt as lf,Ddt as lg,Sdt as lh,Cdt as li,nmt as lj,emt as lk,hTe as ll,ZE as lm,u2e as ln,$Oe as lo,AOe as lp,sht as lq,lmt as lr,smt as ls,en as lt,umt as lu,v5 as lv,Cht as lw,dmt as lx,tEe as ly,FNe as lz,gx as m,Ogt as m$,wIe as m0,sct as m1,X$e as m2,Sht as m3,Lmt as m4,T5 as m5,Jf as m6,xht as m7,zje as m8,JD as m9,B1 as mA,Nht as mB,f2 as mC,Fpt as mD,wTe as mE,Lpt as mF,Bmt as mG,fke as mH,k2 as mI,pht as mJ,mht as mK,ggt as mL,igt as mM,vgt as mN,Tht as mO,Sgt as mP,xgt as mQ,wgt as mR,wot as mS,Cgt as mT,Vc as mU,X6 as mV,_ct as mW,$gt as mX,s4 as mY,Rgt as mZ,rht as m_,WA as ma,olt as mb,Kpt as mc,rmt as md,Fct as me,CIe as mf,qpt as mg,Upt as mh,Ypt as mi,zpt as mj,imt as mk,cmt as ml,rct as mm,xmt as mn,GMe as mo,Oht as mp,nct as mq,bmt as mr,wht as ms,Mct as mt,Ect as mu,jpt as mv,Rpt as mw,lst as mx,P0 as my,hl as mz,n2 as n,uct as n$,Vlt as n0,ipt as n1,cpt as n2,Flt as n3,KO as n4,Aat as n5,fmt as n6,ygt as n7,J_e as n8,P2e as n9,kmt as nA,LDe as nB,Ppt as nC,C5 as nD,Hgt as nE,Wgt as nF,qgt as nG,zgt as nH,Qut as nI,Ygt as nJ,Kgt as nK,Zgt as nL,Xgt as nM,Ji as nN,Gmt as nO,Fc as nP,_V as nQ,Jd as nR,Rh as nS,wx as nT,jut as nU,dct as nV,sB as nW,blt as nX,Df as nY,jn as nZ,M0 as n_,nht as na,Lgt as nb,bgt as nc,jgt as nd,zRe as ne,eit as nf,_gt as ng,Tgt as nh,Ngt as ni,Egt as nj,kgt as nk,Mgt as nl,cut as nm,O6 as nn,Fgt as no,r5 as np,xot as nq,qmt as nr,Oct as ns,Bgt as nt,S0e as nu,_0e as nv,Act as nw,Ipt as nx,omt as ny,T2e as nz,dpt as o,yut as o$,CB as o0,fct as o1,Er as o2,ict as o3,cct as o4,oct as o5,fht as o6,act as o7,vx as o8,An as o9,gE as oA,cMe as oB,pE as oC,hE as oD,Fke as oE,X0e as oF,e8 as oG,eB as oH,Wlt as oI,sdt as oJ,Zut as oK,adt as oL,Rut as oM,xye as oN,ndt as oO,Kj as oP,oe as oQ,Dut as oR,lfe as oS,dhe as oT,xut as oU,vut as oV,Yj as oW,but as oX,qj as oY,put as oZ,gut as o_,wv as oa,lct as ob,R8 as oc,hct as od,XA as oe,pct as of,Qit as og,tct as oh,mct as oi,vv as oj,Kit as ok,Pht as ol,UA as om,s8 as on,o8 as oo,a5 as op,ght as oq,bht as or,vht as os,bn as ot,h5 as ou,u5 as ov,nb as ow,yht as ox,mE as oy,pMe as oz,fpt as p,Mp as p0,_ut as p1,Sut as p2,Zj as p3,Cut as p4,wut as p5,Qj as p6,gfe as p7,$p as p8,Put as p9,v1 as pA,K0e as pB,Y0e as pC,rdt as pD,UM as pE,tTe as pF,odt as pG,tbe as pH,Bct as pI,Eg as pJ,Dgt as pK,kut as pa,Mut as pb,mut as pc,ef as pd,Lut as pe,Tut as pf,Fut as pg,Eut as ph,Nut as pi,pfe as pj,Aut as pk,Xj as pl,$ut as pm,Out as pn,Iut as po,hNe as pp,mo as pq,bIe as pr,tht as ps,eht as pt,Qft as pu,Zye as pv,nTe as pw,Zft as px,U0e as py,MR as pz,lpt as q,yR as r,ux as s,fs as t,LA as u,yi as v,P1 as w,gt as x,Vpt as y,MOe as z};
//# sourceMappingURL=ofnn5mxnc0bbo8rs.js.map
