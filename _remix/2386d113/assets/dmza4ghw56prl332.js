const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/lac6tja274tch4l0.js","assets/om77559u6zbv0nxn.js","assets/nbc7lxss689jfxsu.js","assets/root-e2xezdbv.css","assets/gxt05z3vby89tole.js","assets/conversation-small-cll5buey.css","assets/d377yem4viu4l95y.js","assets/h42yhbvy8sdy9y8c.js","assets/i4vaxxauijcymhjm.js","assets/gjrzgqfyea2njtcj.js","assets/dcgct9yu6baxv56d.js","assets/llgltku1zw4z6psq.js","assets/d5zjt0h3njg3m1rr.js","assets/nd4liikwpb82oyik.js","assets/jn78oke0x078a96w.js","assets/b7wk66yvrq7fr35v.js","assets/cws56ejgjgipwwbn.js","assets/e9lafxuzyeh4418f.js","assets/bdxovy1difdqjcc8.js","assets/d4hx0j9o5yw6waul.js","assets/cmgi8ncegl3k0bj4.js","assets/o0e0ym89ni9u8zm0.js","assets/cn8oq89xi0inr50x.js","assets/j2t25kjfvmgbsvyp.js","assets/axvu6ydpv10js14q.js","assets/li1mu0tcis4xdg0x.js","assets/e05t3wbhku53ta4s.js","assets/mxumex8v5v236ep7.js","assets/l09n2dwczp0zamvv.js","assets/k8i7qjuwte3gs0xd.js","assets/lwdvxz60h1qnxfus.js","assets/erwbk06nmq2xx20b.js","assets/hm0a9dl47it1vupe.js","assets/wbq6i1q94nv7suxv.js","assets/jpz79m2c0rrrb9l1.js","assets/nmbq5qwlkfpahe3h.js","assets/fyzbbyrzmzc9o19b.js","assets/7bg1a1w5rvrtocyg.js","assets/x46kagrjwuuka7n4.js","assets/iz0g4gxvbm84e0h6.js","assets/pay9icxv4xeze4yl.js","assets/b1pq23kxgnd8p9mk.js","assets/jr5logb3r9gep8eb.js","assets/g8hjhy9sdhse72sa.js","assets/ov0obzue5zasptbh.js","assets/pcemxj9d5gg6ncqq.js","assets/kqwdyvkaaavvn8k3.js","assets/fcmrf1gvbujbxmo3.js","assets/ld7ooial05rulh9l.js","assets/gvwzqtcjqjlkeemf.js","assets/mlgk3risglmh642k.js","assets/cty54kzxfjrobgpc.js","assets/bcqhpdtvg3hqyjrq.js","assets/mu6gaqvbsa7bsraa.js","assets/m6cochb4oqdynje4.js","assets/fjc3w2ytyezsy2zr.js","assets/jgp9a7gq72prj0p3.js","assets/f55yonn7e1e0y74i.js","assets/983a0dy92b3ronpv.js","assets/g7koxif60lhwoq8s.js","assets/esic316ew39tmitv.js","assets/duw60p19oojdjpnr.js","assets/houdxhnqt1f537jw.js","assets/chjnt9akjzwd6rxg.js","assets/h8bw5x4r3lx4n1eq.js","assets/km2ov7j5rwmhkjcw.js","assets/ounwpuq6eyz70jx5.js","assets/hx137xxu6tex4z4t.js","assets/sso-g7c296nohxy291d9.js","assets/glw8zolypqhx9qcl.js","assets/skwy66vyv7bsobqn.js","assets/hf0f6rd4zhajjalr.js","assets/b0bvxh77t5d3u9qf.js","assets/jwpchpxxvfshn7z6.js","assets/itghwucfyv5ciib7.js","assets/iamlrq7dkk9whl1f.js","assets/j9o612cszisbxp53.js","assets/bmfhzx1ms2nxjjow.js","assets/bg1gsz6a7rzom3d5.js","assets/hrtnw4cw6nij6e5j.js","assets/nhwwej1nq0zrd7sc.js","assets/npehq49a5djoyk61.js","assets/jiv5cnvrwlato7ez.js","assets/f6yq0ocl3cl51xyy.js","assets/o2skwelij5drl4cn.js","assets/k0s4jpk4ahhul1xr.js","assets/ddxo2ilfl7o2palb.js","assets/iej0cupg2dqkmejt.js","assets/ibuxmveecs3cypis.js","assets/l2k17cwzsk87k3xk.js","assets/jk8w36bsokizpx57.js","assets/lcwae3p2tuttu551.js","assets/ku30834gos2ao9ix.js","assets/c9np1su4bhbel9ug.js","assets/swiper-kmk1dd5x.css","assets/ow9vvde3ewqwlf2m.js","assets/opazh6jkc71mk6kl.js"])))=>i.map(i=>d[i]);
import{t as e,bw as X,a$ as Oe,b0 as De,aZ as Le,r as i,D as z,av as V,j as Ie,S as H,P as fe,d as me,a0 as j,a5 as $,V as ts,W as U,a8 as Be,a6 as os,Y as C,Z as S,ab as Ve,bJ as ns,bI as is,bG as rs,aR as cs,T as Fe,bq as Re,br as ls,a2 as ds,au as us,K as m,aw as hs,a as He,fb as gs,cf as We,aq as fs,a7 as ms,d6 as k,fl as ps,s as pe,aW as xs,dP as xe,c$ as bs,d0 as Cs,d1 as Ss,bR as ys,as as Ms,u as vs}from"./om77559u6zbv0nxn.js";import{k as Z,T as Ge}from"./axvu6ydpv10js14q.js";import{h8 as J,cM as js,h9 as ze,ha as $e,hb as ks,hc as Ue,u as As,hd as ws,he as _s,S as Ts,hf as Es,hg as Ps,bE as W,hh as Ns,hi as Os,hj as Ds,hk as Ls,hl as Is,hm as Bs,hn as Vs,ho as Fs,hp as Rs,hq as Hs,hr as Ws,hs as Gs,ht as zs,hu as $s,hv as Us,hw as Ks,hx as qs,hy as Qs,hz as Ys,hA as Xs,hB as Zs,hC as Js,hD as ea,cj as ee,hE as sa,hF as aa,eq as ta,et as Ke,cc as Q,f1 as be,hG as qe,hH as Qe,gD as oa,ad as na,hI as ia,gM as Ce,fF as ra,bX as Y,bY as Se,o as ca,c1 as ye,c2 as Me,eo as ve,cb as la,hJ as je,dw as f,hK as da,aF as ua,hL as ke,hM as Ae,dy as ha,bx as ga,hN as fa,hO as ma,fI as pa,hP as xa,hQ as ba,d0 as Ca,c0 as Sa,hR as ya,hS as Ma,c5 as va,c6 as we,hT as ja,r as ka,cm as Aa,hU as wa,cn as _a,dh as Ta,hV as Ea,di as Pa,hW as Na}from"./gxt05z3vby89tole.js";import{U as u,G as B,u as A,c as Ye,d as R,b as Oa}from"./b7wk66yvrq7fr35v.js";import{T as G,c as Da,d as La,m as Ia}from"./i4vaxxauijcymhjm.js";import{u as Ba}from"./d5zjt0h3njg3m1rr.js";import{L as Va}from"./nd4liikwpb82oyik.js";import{S as _e,b as Fa,c as Ra,N as Ha}from"./duw60p19oojdjpnr.js";import{u as Xe,b as Wa,g as Ga}from"./houdxhnqt1f537jw.js";import{S as za,C as $a}from"./chjnt9akjzwd6rxg.js";import{b as Ua,f as Ka,a as Ze}from"./o0e0ym89ni9u8zm0.js";import{c as qa,d as se,a as Qa,b as Ya}from"./km2ov7j5rwmhkjcw.js";import{m as Te}from"./gjrzgqfyea2njtcj.js";import{a as Xa,b as Ee}from"./h8bw5x4r3lx4n1eq.js";import{r as Za,u as Ja}from"./llgltku1zw4z6psq.js";import{bD as et,bE as st}from"./nbc7lxss689jfxsu.js";const at=60*60*24;function tt(s,a=!1){return X()==null||a?"loading":!s||Oe.getCookie(De.AgeVerification)||s.ageVerificationDeadline==null||s.ageVerificationType==="none"?"hide":"show"}function ot({onClose:s}){const{data:{ageVerificationType:a,ageVerificationDeadline:t}={}}=J();return a==="passive"?e.jsx(nt,{onClose:s}):a==="countdown"&&t!=null?e.jsx(it,{onClose:s,ageVerificationDeadline:t}):null}const nt=({onClose:s})=>{const{country:a}=Le();return i.useEffect(()=>{z.addAction("privacy_policy.show_age_verification_modal",{country:a})},[a]),e.jsx(js,{onClose:s,title:"OpenAI 서비스 이용 가능 연령기준을 확인해 주세요",description:e.jsx("div",{className:"whitespace-pre-wrap",children:e.jsxs("p",{children:["ChatGPT를 이용해주셔서 감사합니다. 대한민국의 법령상 요건을 준수하기 위해, OpenAI는 귀하가 OpenAI 서비스를 이용할 수 있는 나이인지 확인하여야 합니다. ChatGPT를 계속 이용하시려면, 귀하가 18세 이상이거나, 14세 이상이고 부모 또는 보호자의 허락을 받았음을 확인해 주세요.",e.jsx("br",{}),e.jsx("br",{}),"OpenAI의 연령기준 미달시"," ",e.jsx("a",{href:"https://privacy.openai.com/policies?action=ERASURE&modal=log-in",className:"underline",target:"_blank",rel:"noreferrer",children:"이 페이지에서 계정을 삭제해 주세요."})]})}),actionButton:e.jsx(V,{color:"primary",onClick:async()=>{await Ie.updateAgeVerification(),s()},children:"저는 OpenAI의 연령기준을 충족합니다"}),cancelButton:e.jsx(V,{as:"link",color:"secondary",to:"/auth/logout",children:"로그아웃"})})},it=({onClose:s,ageVerificationDeadline:a})=>{const t=a!=null?Math.floor(a/60/60/24):0;i.useEffect(()=>{H.logEvent("chatgpt_compliance_age_verification_seen"),fe.logEvent(me.complianceAgeVerificationSeen)},[]);const{country:o}=Le();return i.useEffect(()=>{z.addAction("privacy_policy.show_age_verification_countdown",{country:o})},[o]),e.jsxs(ze,{children:[e.jsx($e,{className:"text-sm font-semibold [grid-area:_title]",children:e.jsx(j,{...Pe.ageVerificationTitle,values:{deadline:t,learnMoreLink:n=>e.jsx("a",{href:"https://help.openai.com/en/articles/8411987-why-am-i-being-asked-to-verify-my-age",target:"_blank",rel:"noreferrer",className:"cursor-pointer font-normal underline",children:n})}})}),e.jsx(ks,{altText:"Dismiss notification",asChild:!0,children:e.jsx(V,{color:"primary",size:"small",onClick:()=>{H.logEvent("chatgpt_compliance_age_verification_clicked"),fe.logEvent(me.complianceAgeVerificationClicked),Oe.setCookie(De.AgeVerification,"true",{maxAge:at,path:"/"}),s(),u.openModal(B.AgeVerificationInterstitial)},children:e.jsx(j,{...Pe.startVerification})})}),e.jsx(Ue,{})]})},Pe=$({ageVerificationTitle:{id:"ageVerificationBanner.title-v1",defaultMessage:"Please verify your age in the next {deadline, plural, =0 {# days} one {# day} other {# days}}. We are required to check if you're old enough to use ChatGPT. <learnMoreLink>Learn more</learnMoreLink>."},dismiss:{id:"ageVerificationBanner.dismiss",defaultMessage:"Dismiss"},startVerification:{id:"ageVerificationBanner.startVerification",defaultMessage:"Start verification"},modalTitle:{id:"ageVerificationModal.title",defaultMessage:"Please confirm you meet our age requirements"},modalDescription:{id:"ageVerificationModal.description.1",defaultMessage:"Thank you for using ChatGPT. To comply with legal requirements in Korea, we need to confirm that you’re old enough to use our service. To continue on ChatGPT, please confirm that you are 18+ or are 14+ and have your parent or guardian’s permission to use ChatGPT. <deleteAccountLink>If you do not meet our age requirements, please delete your account.</deleteAccountLink>"},modalLogout:{id:"ageVerificationModal.logOut",defaultMessage:"Log out"},modalAction:{id:"ageVerificationModal.actionButton",defaultMessage:"I meet OpenAI's age requirements"}});function rt({onClose:s}){const a=U(),t=Be(),{openSettings:o}=As(),n=ws(),{session:r}=os(),{data:{isStorageComplianceEnabled:c}={}}=J(),{data:l,isLoading:y}=_s({enabled:!!(c&&r),select:d=>!d.cookie_consent.is_required});return i.useEffect(()=>{l===!0&&s()},[l,s]),y?null:e.jsx(ct,{onReject:()=>{n.mutateAsync({analytics_cookies_accepted:!1},{onSuccess(){t.success(a.formatMessage(I.updateSuccess))},onError(){t.danger(a.formatMessage(I.updateFailure))}}),s()},onAccept:()=>{n.mutateAsync({analytics_cookies_accepted:!0},{onSuccess(){t.success(a.formatMessage(I.updateSuccess))},onError(){t.danger(a.formatMessage(I.updateFailure))}}),s()},children:e.jsx(j,{id:"CookieConsentBanner.authedDescription.0",defaultMessage:"We use cookies and similar technologies to deliver, maintain, improve our services and for security purposes. Check our <cookiePolicy>cookie policy</cookiePolicy> for details. Click 'Accept all' to let OpenAI and partners use cookies for these purposes. Click 'Reject all' to say no to cookies, except those that are strictly necessary. Choose <manageLink>manage cookies</manageLink> to change your preferences.",values:{cookiePolicy:d=>e.jsx(Va,{href:"https://openai.com/policies/cookie-policy",openNewTab:!0,children:d}),manageLink:d=>e.jsx(lt,{onClick:()=>{o(Ts.DataControls)},children:d})}})})}function ct({children:s,onAccept:a,onReject:t}){return i.useEffect(()=>{z.addAction("privacy_policy.show_cookie_consent_banner")},[]),e.jsxs(ze,{children:[e.jsxs($e,{className:"text-sm font-semibold [grid-area:_title]",children:[s,e.jsxs("div",{className:"mt-2 flex justify-end gap-3",children:[e.jsx(V,{color:"secondary",size:"small",onClick:t,children:e.jsx(j,{...I.reject})}),e.jsx(V,{color:"secondary",size:"small",onClick:a,children:e.jsx(j,{...I.accept})})]})]}),e.jsx(Ue,{})]})}const lt=ts.button`underline font-normal text-green-600`,I=$({cookieConsentBannerTitle:{id:"CookieConsentBanner.title",defaultMessage:"We use cookies to provide, improve, and protect our services. Visit our <privacyPolicyLink>privacy policy</privacyPolicyLink> to learn more. You can manage your cookie preferences in your <settingsPanel>settings panel</settingsPanel>. <learnMoreLink>Learn more</learnMoreLink>."},reject:{id:"CookieConsentBanner.reject",defaultMessage:"Reject all"},accept:{id:"CookieConsentBanner.accept",defaultMessage:"Accept all"},updateSuccess:{id:"CookieConsentBanner.updateSuccess",defaultMessage:"Your cookie preferences were updated successfully"},updateFailure:{id:"CookieConsentBanner.updateFailure",defaultMessage:"Unable to update cookie preferences. Try again later."}}),dt=C(()=>S(async()=>{const{ModelOnboardingNUXModal:s}=await import("./lac6tja274tch4l0.js");return{ModelOnboardingNUXModal:s}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])).then(({ModelOnboardingNUXModal:s})=>s),{ssr:!1}),ut=({onClose:s})=>{const a=U(),t=W(ee.isBusinessWorkspace),o=W(r=>r.currentWorkspace),n=t?a.formatMessage(Ne.workspaceWelcome,{workspaceName:o?.name}):"ChatGPT";return e.jsx(Re,{isOpen:!0,onClose:ls,type:"success",title:n,size:"custom",noPadding:!0,className:"max-w-3xl",description:a.formatMessage(Ne.personalOnboardingSubheading),children:e.jsx(sa,{onClose:s,scope:aa.Personal})})};function ht(){const[s,a]=i.useState(0),{hasSeenOnboardingDate:t}=Es(),{hasSeenTeamOwnerOnboardingDate:o}=Ps(),n=W(ee.isBusinessWorkspace),r=Ve(),[c,l]=i.useState(!1),{data:y,isPending:d}=J(),w=tt(y,d),{eligible:N,isLoading:_}=Ba(),T=ns(),O=is(),M=rs(),{data:p,isError:v}=cs(),x=p!=null,E=p&&p?.accountItems.length>1&&p.currentAccountId==null,D=p?.accountItems.some(g=>g.isPersonalAccount()),b=!!p?.accountItems&&p.accountItems.length>0&&p.accountItems.every(({canAccessWithCurrentSession:g})=>!g),{eligible:h,isLoading:P}=Ns(),{value:F}=Fe("1542198993"),{punchOutRequireLoginInfo:ae}=Os(),{state:te}=Ds(),{isOpen:oe,isLoading:ne}=Ls(),{isOpen:ie,isLoading:re}=Is(),{isOpen:ce,isLoading:le}=Bs(),{isOpen:de,isLoading:ue}=Vs(),{state:he}=Fs(),L=i.useMemo(()=>[{Component:Rs,getModalState:()=>ae?"show":"hide",isDeferrable:!1},{Component:Hs,getModalState:()=>te,isDeferrable:!1},{Component:Ws,getModalState:()=>he,isDeferrable:!1},{Component:Gs,getModalState:()=>ne?"loading":oe?"show":"hide",isDeferrable:!1},{Component:zs,getModalState:()=>ue?"loading":de?"show":"hide",isDeferrable:!1},{Component:ut,getModalState:()=>n?"hide":t===null?"loading":t===!1?"show":"hide",isDeferrable:!0},{Component:$s,getModalState:()=>v?"hide":E?"show":x?"hide":"loading",isDeferrable:!1},{Component:Us,getModalState:()=>T!==null?"show":v||x?"hide":"loading",isDeferrable:!1},{Component:Ks,getModalState:()=>O!==null?"show":v||x?"hide":"loading",isDeferrable:!1},{Component:qs,getModalState:()=>M!=null?"show":v||x?"hide":"loading",isDeferrable:!1},{Component:Qs,getModalState:()=>x?b?"show":"hide":"loading",isDeferrable:!1},{Component:Ys,getModalState:()=>re?"loading":ie?"show":"hide",isDeferrable:!1},{Component:Xs,getModalState:()=>le?"loading":ce?"show":"hide",isDeferrable:!1},{Component:rt,getModalState:()=>"hide",isDeferrable:!1},{Component:Zs,getModalState:()=>!r?.isTeam()||!r?.isOwnerOfAccount()||!D?"hide":!x||o===null?"loading":o===!1?"show":"hide",isDeferrable:!1},{Component:Js,getModalState:()=>n?t===null?"loading":t===!1?"show":"hide":"hide",isDeferrable:!0},{Component:ea,getModalState:()=>P?"loading":h&&F?"show":"hide",isDeferrable:!1},{Component:ot,getModalState:()=>w,isDeferrable:!1},{Component:dt,getModalState:()=>_?"loading":N?"show":"hide",isDeferrable:!0,expiresAt:new Date(2024,7,13)}].filter(g=>!(g.isDeferrable&&c)&&(!g.expiresAt||g.expiresAt.getTime()>Date.now())),[ae,te,M,x,t,o,D,_,n,v,T,O,r,b,E,w,N,c,F,h,P,oe,ne,de,ue,he,re,ie,ce,le]);i.useEffect(()=>{if(L[s]&&L[s].getModalState()==="hide"){const g=L.findIndex(as=>as.getModalState()!=="hide");a(g)}},[s,L]);const K=L[s],q=K?.getModalState()==="show";if(i.useEffect(()=>{const g=A.getState().activeModals.has(B.BlockingInitialComponent);q!==g&&(q?u.openModal(B.BlockingInitialComponent):u.closeModal(B.BlockingInitialComponent))},[q]),K==null)return e.jsx("span",{"data-testid":"blocking-initial-modals-done",className:"hidden"});const ge=K.getModalState();if(ge==="loading")return null;ge==="hide"&&a(g=>g+1);const ss=L[s].Component;return e.jsx(ss,{onClose:()=>{l(!0),a(g=>g+1)}})}const Ne=$({workspaceWelcome:{id:"BlockingInitialModals.workspaceWelcome",defaultMessage:"Welcome to the {workspaceName} workspace"},personalOnboardingSubheading:{id:"BlockingInitialModals.personalOnboardingSubheading",defaultMessage:"Tips for getting started"}}),gt=C(()=>S(()=>import("./jn78oke0x078a96w.js"),__vite__mapDeps([14,1,2,3,8,4,5,9,7,10,11,15,16,17,18,19,20,21,22,23,24,25,12,13,26,27,28,29,30,31,6,32,33,34,35,36,37,38,39,40,41,42,43])).then(s=>s.DebugConversationSidebar));function Je({clientThreadId:s}){ft();const a=X(),t=a?.includes("debug"),o=ds(),n=A(c=>c.activeSidebar),r=a?.includes("debug")&&n==="debug";return!t||!r?null:e.jsx(gt,{clientThreadId:s,slideOver:!ta(o),onClose:()=>u.toggleActiveSidebar("debug"),isOpen:!0})}function ft(){const a=X()?.includes("debug");i.useEffect(()=>{if(!a)return;const t=new AbortController;return document.addEventListener("keydown",o=>{o.target instanceof HTMLElement&&["input","textarea","select","button"].includes(o.target.tagName.toLowerCase())||o.key==="\\"&&u.toggleActiveSidebar("debug")},{signal:t.signal}),()=>{t.abort()}},[a])}const mt=C(()=>S(()=>import("./ov0obzue5zasptbh.js"),__vite__mapDeps([44,1,2,3,4,5,45,8,9,46,47,7,10,48])).then(s=>s.SearchSources));function pt({clientThreadId:s}){const{resolvedTheme:a}=us(),t=a==="dark",{turnIndex:o,messageId:n,isOpen:r}=Ye(),c=i.useCallback(()=>{u.closeChatThreadFlyout(s)},[s]);return!n||!o||!r?null:e.jsx(Ke,{anchor:"top",className:m("relative flex-1 border-l",t?"border-l-token-border-medium":"border-l-token-border-xlight"),name:"threadFlyOut",leading:e.jsx(Q,{name:"search-sources-header",type:"primary",className:m("flex min-h-[56px] items-center justify-end !bg-transparent p-1.5"),children:e.jsx("div",{className:"bg-token-main-surface-primary p-1",children:e.jsx(hs,{onClick:c})})}),children:e.jsx(mt,{clientThreadId:s,turnIndex:o,messageId:n,isInSidebar:!0})})}function es({clientThreadId:s}){i.useEffect(()=>{u.closeSharingModal()},[s]);const a=He();i.useEffect(()=>(G.retainThread(s),()=>{setTimeout(()=>{a.invalidateQueries({queryKey:["conversation",s]})},0),G.releaseThread(s)}),[s,a]),i.useEffect(()=>()=>{H.checkGate("3922476776")||be.abortAllRequests()},[s]);const t=i.useRef(s);i.useEffect(()=>{s!==t.current&&(H.checkGate("3922476776")||be.clear(),t.current=s)},[s])}const xt=C(()=>S(()=>import("./gvwzqtcjqjlkeemf.js"),__vite__mapDeps([49,1,2,3,4,5,23,24,7,8,9,10,25,12,13,26,15,27,28,29,30,11,31,6,50,51,52,53,54,55,18,56])).then(s=>s.CanvasFocusedViewManager)),bt=C(()=>S(()=>import("./f55yonn7e1e0y74i.js"),__vite__mapDeps([57,1,2,3,15,10,8,4,5,9,44,45,46,47,7,48,58])).then(s=>s.SearchResultsModal));function Ct({clientThreadId:s,setClientThreadId:a,urlThreadId:t,prefetchSearch:o}){const n=Da();es({clientThreadId:s});const{createNewThread:r,onThreadCreated:c,resetThread:l}=qa({clientThreadId:s,setClientThreadId:a});Xe({resetThreadAction:l,clientThreadId:s});const y=Z(s);return e.jsxs(Ge,{clientThreadId:s,children:[e.jsx(qe,{clientThreadId:s,urlThreadId:t}),e.jsxs(_e,{hideNavigation:n,mobileHeaderContent:e.jsx(Ua,{clientThreadId:s,inMobileHeader:!0}),mobileHeaderBottomContent:e.jsx(Ka,{clientThreadId:s}),mobileHeaderLeftContent:e.jsx(Fa,{onNewChatButtonClick:l}),mobileHeaderRightContent:e.jsx(Ra,{onNewChatButtonClick:l}),sidebar:e.jsx(Ha,{navHeader:s?e.jsx(za,{className:"flex h-[60px] items-center md:h-header-height",onNewThread:r}):null,children:e.jsx($a,{clientThreadId:s,onNewThread:r})}),threadFlyout:e.jsx(pt,{clientThreadId:s}),children:[e.jsx(Qe,{}),e.jsx(Ze,{clientThreadId:s,onCreate:c,prefetchSearch:o},s),e.jsxs(_e.Sidebars,{children:[y&&e.jsx(xt,{clientThreadId:s}),e.jsx(Je,{clientThreadId:s}),!1]})]}),e.jsx(St,{clientThreadId:s})]})}function St({clientThreadId:s}){const{value:a}=Fe("218782548"),t=oa(),{isOpen:o}=Ye();return o&&(!t||!a)&&e.jsx(bt,{clientThreadId:s})}const yt=450;function Mt({children:s,clientThreadId:a,isOpen:t,onClose:o}){return e.jsx(na,{children:t&&e.jsx(gs,{children:e.jsx(ia.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(Te.div,{className:"h-full w-full bg-token-main-surface-secondary",...Ce}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx("div",{className:"flex-grow overflow-auto",children:s}),e.jsx(Te.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:yt},...Ce,children:e.jsx("div",{className:"h-[100vh] pb-4",children:e.jsx(Ze,{clientThreadId:a,hideHeader:!0,hideFooter:!0,hideToolsOverlay:!0,messagesVerticalAlign:"bottom"},a)})})]})]})})})})}const vt=C(()=>S(()=>import("./g7koxif60lhwoq8s.js"),__vite__mapDeps([59,1,2,3,4,5,23,24,7,8,9,10,25,12,13,26,15,27,28,29,30,11,31,6]))),jt=C(()=>S(()=>import("./esic316ew39tmitv.js"),__vite__mapDeps([60,1,2,3,4,5,39,23,24,7,8,9,10,25,12,13,26,15,27,28,29,30,11,31,6,61,41,62,63,64,21,22,32,33,34,35,36,37,38,40,42,43,65])).then(s=>s.ImageEditor));function kt({clientThreadId:s}){const a=ra();i.useEffect(()=>{Y.close()},[s]);let t;return a?.type===Se.ADAVisualization?t=e.jsx(vt,{clientThreadId:s,visualization:a.visualization}):a?.type===Se.Image&&(t=e.jsx(jt,{clientThreadId:s,messageId:a.messageId,image:a.image,allImages:a.allImages},a.image.asset_pointer)),e.jsx(Mt,{clientThreadId:s,isOpen:a!=null,onClose:Y.close,children:t})}const At=()=>{const s=U(),a=A(r=>r.activeModals.has(B.KeyboardActions)),t=()=>{u.closeModal(B.KeyboardActions)},o=Wa(),n=i.useMemo(()=>{const r=Math.ceil(o.length/2);return[o.slice(0,r),o.slice(r)]},[o]);return e.jsx(Re,{isOpen:a,onClose:t,type:"success",size:"custom",className:"md:max-w-[672px] lg:max-w-[796px] xl:max-w-4xl",showCloseButton:!0,title:s.formatMessage(Tt.keyboardActionsModalTitle),children:e.jsx(e.Fragment,{children:e.jsx("div",{className:"grid grid-flow-row grid-cols-[repeat(auto-fit,minmax(250px,1fr))] gap-x-9",children:n.map((r,c)=>e.jsx("div",{className:"flex flex-col overflow-hidden",children:r.map(l=>e.jsx(wt,{action:l},l.key))},`col-${c}`))})})})},wt=({action:s})=>e.jsxs("div",{className:"flex items-center justify-between overflow-hidden text-token-text-primary",children:[e.jsx("div",{className:"flex flex-shrink items-center overflow-hidden text-sm",children:e.jsx("div",{className:"truncate",children:e.jsx(j,{...s.actionMessageDescriptor})})}),e.jsx("div",{className:"ml-3 flex flex-row gap-2",children:Ga(s.keyboardBinding).map((a,t)=>e.jsx(_t,{keyName:a},`${s.key}-${t}`))})]}),_t=({keyName:s})=>{const a=m("my-2 flex h-8 items-center justify-center rounded-md border border-token-border-light capitalize text-token-text-secondary");return s.length>1?s.length>3?e.jsx("div",{className:m(a,"min-w-[50px]"),children:e.jsx("span",{className:"text-xs",children:s})}):e.jsx("div",{className:m(a,"min-w-[32px]"),children:e.jsx("span",{className:"text-xs",children:s})}):e.jsx("div",{className:m(a,"min-w-[32px]"),children:e.jsx("span",{className:"text-sm",children:s})})},Tt=$({keyboardActionsModalTitle:{id:"KeyboardActionsModal.keyboardActionsModalTitle",defaultMessage:"Keyboard shortcuts"}});function Et(){const s=He(),[a,t]=i.useState(!1);return e.jsxs("div",{className:"p-3 text-center italic text-token-text-tertiary",children:[e.jsx(j,{id:"p9u9Tx",defaultMessage:"Unable to load history"}),!a&&e.jsx("div",{className:"mt-1",children:e.jsx(V,{as:"button",color:"primary",size:"small",className:"m-auto mt-2",onClick:()=>{t(!0),Za(s)},children:e.jsx(j,{id:"3NKcIv",defaultMessage:"Retry"})})})]})}function Pt({clientThreadId:s}){const a=La(s),t=We(),{isCollapsible:o,recentConversationLimit:n}=Xa(),r={buckets:o,recentConversationLimit:n},{conversations:c,buckets:l,hasNextPage:y,fetchNextPage:d,isLoading:w,isFetchingNextPage:N,isError:_,recents:T}=Ja(r),O=t?void 0:a,M=A(h=>h.isHistoryCollapsed),p=M&&T.items.length>0,v=!M&&l.length>0,x=c.length===0,E=!_&&(x||w||N);i.useMemo(()=>{ca.publish({kind:"refreshHistory",conversations:c})},[c]);const[D]=ye({onChange:h=>{i.startTransition(async()=>{h&&y&&await d()})}}),[b]=ye({onChange:h=>{i.startTransition(()=>{u.setHistoryShowMoreVisible(h)})}});return e.jsxs(e.Fragment,{children:[E&&e.jsx(fs,{className:"sticky top-4 z-30 mt-4 justify-self-center"}),_&&x&&!E&&e.jsx(Et,{}),p&&e.jsx(Me,{header:T.label,children:T.items.map((h,P)=>e.jsx(Ee,{item:h,isActive:h.id===O,testId:`history-item-${P}`},h.id))}),v&&l.map(h=>e.jsx(Me,{header:h.label,children:h.items.map((P,F)=>e.jsx(Ee,{item:P,isActive:P.id===O,testId:`history-item-${F}`},P.id))},h.key)),o&&e.jsxs("div",{className:"-ml-2 mb-5",children:[e.jsx("div",{className:m(!M&&"hidden"),children:e.jsx(ve,{type:"more",onClick:u.toggleHistoryCollapsed})}),e.jsx("div",{className:m(M&&"hidden"),ref:b,children:e.jsx(ve,{type:"less",onClick:u.toggleHistoryCollapsed})})]}),y&&!N&&e.jsx("div",{className:"pointer-events-none absolute bottom-8 h-4 w-4","data-testid":"infinite-scroll-trigger",inert:!0,ref:D})]})}const Nt=C(()=>S(()=>import("./ounwpuq6eyz70jx5.js"),__vite__mapDeps([66,1,2,3,35,7,4,5,8,9,10,15,63,25,64,11,6,62,24,12,13,26,27])).then(s=>s.GizmoSidebarList));function Ot({clientThreadId:s}){const a=Ve(),t=Ia(s),{isUnauthenticated:o}=ms();return o?null:e.jsxs("div",{className:m(k.screenContent),children:[null,e.jsx(Pt,{clientThreadId:s}),a?.canInteractWithGizmos()?e.jsx(Nt,{currentGizmoId:t}):null]})}const Dt=C(()=>S(()=>import("./hx137xxu6tex4z4t.js"),__vite__mapDeps([67,1,2,3,4,5,24,7,8,9,10,25,12,13,26,15,27,61,41])).then(s=>s.UserProfileBar),{ssr:!0});function Lt(){const s=A(R.isGptListVisible),a=A(R.isHistoryShowMoreVisible),t=A(R.isHistoryCollapsed),o=A(R.isGptListCollapsed),n=i.useCallback(()=>{t||u.toggleHistoryCollapsed(),o&&u.toggleGptListCollapsed()},[t,o]),r=[];return!t&&!a&&r.push(e.jsx(je,{onClick:u.toggleHistoryCollapsed,children:e.jsx(j,{id:"1poXLj",defaultMessage:"See less"})},"see-less")),s||r.push(e.jsx(je,{onClick:n,children:e.jsx(j,{id:"DnQZfo",defaultMessage:"See GPTs"})},"see-gpt")),e.jsxs(la,{className:m(k.screenTrailingBarContainer),children:[r,e.jsx(Dt,{})]})}const It=C(()=>S(()=>import("./sso-g7c296nohxy291d9.js").then(s=>s.f),__vite__mapDeps([68,1,2,3,23,4,5,24,7,8,9,10,25,12,13,26,15,27,28,29,30,11,31,6,69,70,71,72,73,74,75,76,77,58,43,45,46,47,78,79,16,17,18,19,80,81,62,35,82,38,83,84,85,86,87,88,89,90,36,42,91,64,92,93,94])).then(s=>s.FannyPackIconButton),{ssr:!1});function Bt({onNewThread:s}){const a=U(),t=!Oa(),[o,n]=i.useState(t?f.Pinned:f.Closed);da({checkElement:l=>l?.tagName==="NAV",enabled:o===f.Floating,onLightDismiss(){n(f.Closed),u.toggleDesktopNavCollapsed(!0)}});const{isFannyPackEnabled:r}=ua(),c=i.useRef(null);return e.jsxs(e.Fragment,{children:[e.jsxs(Q,{type:"primary",className:m(k.screenHeader),children:[e.jsxs("div",{className:"mt-[3px] flex min-h-[var(--screen-thread-header-min-height)] w-full flex-1 items-center justify-between pl-[9px]",children:[e.jsxs("div",{className:"grid items-center gap-1",children:[e.jsx(ke,{inputRef:c,className:m(k.closeSidebarAction),checked:o===f.Closed,onClick:l=>{o===f.Pinned?(l.preventDefault(),Ae({css:fa,update:()=>{n(f.Closed),u.toggleDesktopNavCollapsed(!0)}})):(n(f.Closed),u.toggleDesktopNavCollapsed(closed))},icon:e.jsx(ha,{}),label:a.formatMessage({id:"fM0vj3",defaultMessage:"Close Sidebar"}),group:"sidebar",value:f.Closed}),e.jsx("input",{className:"sr-only",checked:o===f.Floating,id:"sidebar-floating",onChange:l=>{l.currentTarget.checked&&n(f.Floating)},name:"sidebar",type:"radio",value:f.Floating})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:k.togglePinWrapper,children:e.jsx(ke,{className:m(k.pinSidebarAction),checked:o===f.Pinned,onClick:l=>{l.preventDefault(),Ae({css:ma,update:()=>{u.toggleDesktopNavCollapsed(!1),n(f.Pinned),c.current?.focus()}})},icon:e.jsx(et,{}),label:a.formatMessage({id:"JZfuR3",defaultMessage:"Toggle Sidebar Pin"}),group:"sidebar",value:f.Pinned})}),r&&e.jsx(It,{className:k.searchAction,icon:e.jsx(st,{className:"h-5 w-5"})})]})]}),e.jsx(ga,{onNewThread:s})]}),e.jsx(Q,{type:"primary",className:k.bucketBar,disableSizeTracking:!0,children:" "})]})}function Vt(){const{clientThreadId:s,onNewThread:a}=se();return e.jsx(Ke,{anchor:"vertical",className:m(k.screen,"popover flex-1 border-r border-r-token-border-xlight"),name:"sidebar",leading:e.jsx(Bt,{onNewThread:a}),trackLeading:!0,trailing:e.jsx(Lt,{}),children:e.jsx(Ot,{clientThreadId:s})})}const Ft=C(()=>S(()=>import("./gvwzqtcjqjlkeemf.js"),__vite__mapDeps([49,1,2,3,4,5,23,24,7,8,9,10,25,12,13,26,15,27,28,29,30,11,31,6,50,51,52,53,54,55,18,56])).then(s=>s.CanvasFocusedViewManager));function Rt(){const{clientThreadId:s,resetThread:a}=se();return Xe({resetThreadAction:a,clientThreadId:s}),null}function Ht(){const{clientThreadId:s,currentModelId:a,isCompanionWindow:t}=se();return e.jsx(xa,{conversationId:s,currentModelId:a,isActiveWindow:!t})}function Wt({clientThreadId:s,setClientThreadId:a,urlThreadId:t}){es({clientThreadId:s});const o=Z(s);return e.jsxs(Qa,{clientThreadId:s,setClientThreadId:a,children:[e.jsx(Ht,{}),e.jsx(Rt,{}),e.jsxs(Ge,{clientThreadId:s,children:[e.jsx(qe,{clientThreadId:s,urlThreadId:t}),e.jsx(Qe,{}),e.jsx(pa,{className:ps.application,sidebar:e.jsx(Vt,{}),thread:e.jsx(Ya,{}),details:o&&e.jsx(Ft,{clientThreadId:s}),debugger:e.jsx(Je,{clientThreadId:s})})]})]})}var Gt={};const zt=C(()=>S(()=>import("./ow9vvde3ewqwlf2m.js"),__vite__mapDeps([95,1,2,3,4,5,23,24,7,8,9,10,25,12,13,26,15,27,28,29,30,11,31,6,96])));function lo(s){const{urlThreadId:a,clientThreadId:t,prefetchSearch:o}=s,n="serviceStatus"in s?s.serviceStatus:null;Ut();const r=We(),c=pe(),[l]=xs(),y=Be(),[d,w]=i.useState(()=>a!==void 0?a:t!==void 0?t:xe());a!==void 0&&d!==a&&G.getServerThreadId(d)!==a&&w(a);const N=ba(pe());i.useEffect(()=>{a===void 0&&G.getServerThreadId(d)!==void 0&&w(xe())},[a,d,N]);const _=Ca(),T=W(ee.workspaceId);Z(d);const O=Sa(),{eligible:M,isLoading:p,markAsViewed:v}=ya(),x=Ma();i.useEffect(()=>{(c.pathname==="/"||c.pathname.startsWith("/c/"))&&va({namespace:we.ChatPageLoad})==null&&(ja({namespace:we.ChatPageLoad,opts:{expectedTimingLogs:[{name:"render_model_switcher",expectedInMs:1e4},{name:"render_history_items",expectedInMs:25e3}]}}),z.addTiming("chatgpt.web.chatPage.mounted"))},[]);const E=ka();i.useEffect(()=>{bs(!0).then(b=>{b.force_login&&E({authType:"login"}),Cs.initializeAndGatherData(b),Aa.initializeAndGatherData(b),Ss.initializeAndGatherData(b)})},[E]),i.useEffect(()=>{n?.type&&_===!1&&y.warning(n.message,{hasCloseButton:!0,duration:5})},[_,n?.message,n?.type,y]),i.useEffect(()=>{const b=l.get(wa)==="true";r!==b&&ys.setIsTemporaryChatEnabled(b)},[r,l]),i.useEffect(()=>{c.state?.focusObject&&Y.setFocusedObject(c.state.focusObject)},[c.state?.focusObject]),i.useEffect(()=>{!p&&M&&(v(),x())},[M,p,v,x]);const D=O?Wt:Ct;return e.jsx(Ms.Provider,{value:null,children:e.jsx(_a,{children:e.jsxs(Ta,{clientThreadId:d,children:[e.jsx(ht,{},T),e.jsx(At,{}),e.jsx(Ea,{}),e.jsx(D,{urlThreadId:a,clientThreadId:d,setClientThreadId:w,prefetchSearch:o}),e.jsx(kt,{clientThreadId:d}),e.jsx(Pa,{clientThreadId:d}),e.jsx($t,{}),!1,e.jsx(Na,{})]})})})}function $t(){const s=A(a=>a.sharingModalThreadId);return s?e.jsx(zt,{serverThreadId:s}):null}function Ut(){vs({queryKey:["pingEdge"],queryFn:()=>Ie.pingEdge(),enabled:!0,staleTime:1/0})}typeof window<"u"&&(window._g=Gt.GOKU_SERVICE);export{lo as C,yt as F};
//# sourceMappingURL=dmza4ghw56prl332.js.map
