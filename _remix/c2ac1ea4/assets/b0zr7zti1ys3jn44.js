import{r as p,bw as I,a1 as F,e3 as y,bp as B,ch as P,l as f,fF as O,V as K,bU as U,fG as H,fH as $}from"./lals6l6wvhqmd5cv.js";import{C as k,a as z}from"./4b9q2hf5t8wl27rg.js";import{bL as X,bM as G}from"./h0xzxtn9v9a6p79x.js";import{jz as V,T as w}from"./ocy5lriy4r76uu3t.js";import{d as Q,a as Y,i as Z}from"./froezb8g6j840ema.js";import"./dd48d0ccqlte627j.js";import"./nr8jhn7b7ayjgzuz.js";import"./jkgps0ms1g393uu6.js";import"./mylcj6ilw2effv3o.js";import"./c5fwe2zczvz2lft2.js";import"./drtwivpp7kgsli96.js";import"./ki6xl5pistc069s0.js";import"./k5uwp4fykvirbsp3.js";import"./gv0fm0lmndlfuftl.js";import"./cb1fkmyemnyrsbby.js";import"./kpkcev91ix8xhdb4.js";import"./hhzd6wnlg2qeys27.js";import"./dl44wycnizjdr9ct.js";import"./bnub92rh8g0nt735.js";import"./gvb71nam7e3eye1o.js";import"./fm63l98wiw0qskz8.js";import"./hur25ckrmcvxvuea.js";import"./ihwhzjl9pclmai28.js";import"./nl9xggq807402985.js";import"./kju774zy9jcos40f.js";import"./fk4t9hf92a3slf5o.js";import"./itc152majko2hv8y.js";import"./papfnbld0lmscpgx.js";import"./bplveic13cm8ocn8.js";import"./ee14ce9gx7tomo91.js";import"./mif2co2jwmfxrxgs.js";import"./cccxjjn21q3bmfkq.js";import"./toka7i1wryd63m7e.js";const v=p.createContext(void 0),J={};v.Provider;const ee=()=>p.useContext(v)?p.useContext(v):J,b=typeof window>"u"?global:window,x="@griffel/";function te(e,t){return b[Symbol.for(x+e)]||(b[Symbol.for(x+e)]=t),b[Symbol.for(x+e)]}const _=te("DEFINITION_LOOKUP_TABLE",{}),S="data-make-styles-bucket",ne="data-priority",R=7,E="___",se=E.length+R,oe=0,ie=1;function re(e){const t=e.length;if(t===R)return e;for(let n=t;n<R;n++)e+="0";return e}function L(e,t,n=[]){return E+re(V(e+t))}function q(e,t){let n="",s="";for(const i in e){const o=e[i];if(o===0){s+=i+" ";continue}const r=Array.isArray(o),l=t==="rtl"?(r?o[1]:o)+" ":(r?o[0]:o)+" ";n+=l,s+=l}return[n.slice(0,-1),s.slice(0,-1)]}function N(e,t){const n={};for(const s in e){const[i,o]=q(e[s],t);if(o===""){n[s]="";continue}const r=L(o,t),l=r+(i===""?"":" "+i);_[r]=[e[s],t],n[s]=l}return n}const T={};function le(){let e=null,t="",n="";const s=new Array(arguments.length);for(let c=0;c<arguments.length;c++){const h=arguments[c];if(typeof h=="string"&&h!==""){const a=h.indexOf(E);if(a===-1)t+=h+" ";else{const C=h.substr(a,se);a>0&&(t+=h.slice(0,a)),n+=C,s[c]=C}}}if(n==="")return t.slice(0,-1);const i=T[n];if(i!==void 0)return t+i;const o=[];for(let c=0;c<arguments.length;c++){const h=s[c];if(h){const a=_[h];a&&(o.push(a[oe]),e=a[ie])}}const r=Object.assign.apply(Object,[{}].concat(o)),[l,u]=q(r,e),d=L(u,e,s),m=d+" "+l;return T[n]=m,_[d]=[r,e],t+m}function ce(e){return Array.isArray(e)?e:[e]}function ae(e,t,n,s){const i=[];if(s[S]=t,s[ne]=String(n),e)for(const r in s)e.setAttribute(r,s[r]);function o(r){return e?.sheet?e.sheet.insertRule(r,e.sheet.cssRules.length):i.push(r)}return{elementAttributes:s,insertRule:o,element:e,bucketName:t,cssRules(){return e?.sheet?Array.from(e.sheet.cssRules).map(r=>r.cssText):i}}}const ue=["r","d","l","v","w","f","i","h","a","s","k","t","m","c"],j=ue.reduce((e,t,n)=>(e[t]=n,e),{});function fe(e,t,n){return(e==="m"?e+t:e)+n}function de(e,t,n,s,i={}){var o,r;const l=e==="m",u=(o=i.m)!==null&&o!==void 0?o:"0",d=(r=i.p)!==null&&r!==void 0?r:0,m=fe(e,u,d);if(!s.stylesheets[m]){const c=t&&t.createElement("style"),h=ae(c,e,d,Object.assign({},s.styleElementAttributes,l&&{media:u}));s.stylesheets[m]=h,t&&c&&t.head.insertBefore(c,he(t,n,e,s,i))}return s.stylesheets[m]}function me(e,t,n){var s,i;const o=t+((s=n.m)!==null&&s!==void 0?s:""),r=e.getAttribute(S)+((i=e.media)!==null&&i!==void 0?i:"");return o===r}function he(e,t,n,s,i={}){var o,r;const l=j[n],u=(o=i.m)!==null&&o!==void 0?o:"",d=(r=i.p)!==null&&r!==void 0?r:0;let m=g=>l-j[g.getAttribute(S)],c=e.head.querySelectorAll(`[${S}]`);if(n==="m"){const g=e.head.querySelectorAll(`[${S}="${n}"]`);g.length&&(c=g,m=M=>s.compareMediaQueries(u,M.media))}const h=g=>me(g,n,i)?d-Number(g.getAttribute("data-priority")):m(g),a=c.length;let C=a-1;for(;C>=0;){const g=c.item(C);if(h(g)>0)return g.nextSibling;C--}return a>0?c.item(0):t?t.nextSibling:null}function D(e,t){try{e.insertRule(t)}catch{}}let ge=0;const pe=(e,t)=>e<t?-1:e>t?1:0;function Ce(e=typeof document>"u"?void 0:document,t={}){const{classNameHashSalt:n,unstable_filterCSSRule:s,insertionPoint:i,styleElementAttributes:o,compareMediaQueries:r=pe}=t,l={classNameHashSalt:n,insertionCache:{},stylesheets:{},styleElementAttributes:Object.freeze(o),compareMediaQueries:r,id:`d${ge++}`,insertCSSRules(u){for(const d in u){const m=u[d];for(let c=0,h=m.length;c<h;c++){const[a,C]=ce(m[c]),g=de(d,e,i||null,l,C);l.insertionCache[a]||(l.insertionCache[a]=d,s?s(a)&&D(g,a):D(g,a))}}}};return l}const Se=()=>{const e={};return function(n,s){e[n.id]===void 0&&(n.insertCSSRules(s),e[n.id]=!0)}};function ye(e,t,n=Se){const s=n();let i=null,o=null;function r(l){const{dir:u,renderer:d}=l,m=u==="ltr";return m?i===null&&(i=N(e,u)):o===null&&(o=N(e,u)),s(d,t),m?i:o}return r}function we(){return typeof window<"u"&&!!(window.document&&window.document.createElement)}const A=I.useInsertionEffect?I.useInsertionEffect:void 0,be=()=>{const e={};return function(n,s){if(A&&we()){A(()=>{n.insertCSSRules(s)},[n,s]);return}e[n.id]===void 0&&(n.insertCSSRules(s),e[n.id]=!0)}},xe=p.createContext(Ce());function ve(){return p.useContext(xe)}const _e=p.createContext("ltr");function Re(){return p.useContext(_e)}function Ee(e,t){const n=ye(e,t,be);return function(){const i=Re(),o=ve();return n({dir:i,renderer:o})}}const Ie=Ee({root:{mc9l5x:"f1w7gpdv",Bg96gwp:"fez10in",ycbfsm:"fg4l7m0"},rtl:{Bz10aip:"f13rod7r"}},{d:[".f1w7gpdv{display:inline;}",".fez10in{line-height:0;}",".f13rod7r{-webkit-transform:scaleX(-1);-moz-transform:scaleX(-1);-ms-transform:scaleX(-1);transform:scaleX(-1);}"],t:["@media (forced-colors: active){.fg4l7m0{forced-color-adjust:auto;}}"]}),Oe=(e,t)=>{const{title:n,primaryFill:s="currentColor",...i}=e,o={...i,title:void 0,fill:s},r=Ie(),l=ee();return o.className=le(r.root,t?.flipInRtl&&l?.textDirection==="rtl"&&r.rtl,o.className),n&&(o["aria-label"]=n),!o["aria-label"]&&!o["aria-labelledby"]?o["aria-hidden"]=!0:o.role="img",o},Ne=(e,t,n,s)=>{const i=t==="1em"?"20":t,o=p.forwardRef((r,l)=>{const u={...Oe(r,{flipInRtl:void 0}),ref:l,width:t,height:t,viewBox:`0 0 ${i} ${i}`,xmlns:"http://www.w3.org/2000/svg"};return p.createElement("svg",u,...n.map(d=>p.createElement("path",{d,fill:u.fill})))});return o.displayName=e,o},Te=Ne("Dismiss16Regular","16",["m2.59 2.72.06-.07a.5.5 0 0 1 .63-.06l.07.06L8 7.29l4.65-4.64a.5.5 0 0 1 .7.7L8.71 8l4.64 4.65c.18.17.2.44.06.63l-.06.07a.5.5 0 0 1-.63.06l-.07-.06L8 8.71l-4.65 4.64a.5.5 0 0 1-.7-.7L7.29 8 2.65 3.35a.5.5 0 0 1-.06-.63l.06-.07-.06.07Z"]);function je({onNewThread:e,onOpenInMainWindow:t,onClose:n}){const s=K(),i=s.formatMessage({id:"cHkwhd",defaultMessage:"New chat"}),o=s.formatMessage({id:"BzpJ40",defaultMessage:"Open in Main Window"}),r=s.formatMessage({id:"63wWYx",defaultMessage:"Close"});return f.jsxs("div",{className:"draggable no-draggable-children fixed top-0 flex h-[32px] w-full justify-between",children:[f.jsx(w,{label:i,sideOffset:4,side:"bottom",children:f.jsx(W,{onClick:e,"aria-label":i,children:f.jsx(X,{})})}),t&&f.jsx(w,{label:o,sideOffset:4,side:"bottom",className:"ml-auto",children:f.jsx(W,{onClick:t,"aria-label":o,children:f.jsx(G,{})})}),f.jsx(w,{label:r,sideOffset:4,side:"bottom",children:f.jsx(De,{onClick:n,"aria-label":r,children:f.jsx(Te,{})})})]})}const W=F.button`flex h-full w-[46px] cursor-default items-center justify-center hover:bg-gray-200 active:bg-gray-100 dark:hover:bg-gray-600 dark:active:bg-gray-700`,De=F.button`flex h-full w-[46px] cursor-default items-center justify-center hover:bg-red-500 hover:text-white active:bg-red-400 active:text-white`;function Ae({onNewThread:e,onOpenInMainWindow:t,onClose:n,children:s}){const i=p.useRef(null);return f.jsxs("div",{className:"flex h-full w-full flex-col pt-8",ref:i,children:[f.jsx(je,{onNewThread:e,onOpenInMainWindow:t,onClose:n}),s]})}function We({clientThreadId:e}){const t=y.useStore(),n=B(),s=Q(o=>Y.resolveThreadId(e,o)),i=P();return p.useEffect(()=>{if(!i)return;const o=r=>{r.key==="Escape"&&!r.shiftKey&&!r.ctrlKey&&!r.metaKey&&O(!1)};return i.document.addEventListener("keydown",o),()=>{i.document.removeEventListener("keydown",o)}},[i]),f.jsx(Ae,{onNewThread:()=>{t.newThread()},onOpenInMainWindow:s!==e||!Z(e)?()=>{n(`/c/${e}`),t.newThread(),y.focusMainWindow()}:void 0,onClose:()=>{O(!1)},children:f.jsx(k,{clientThreadId:e})})}function ht(){const{value:e}=U("3653083604"),{clientThreadId:t}=y.useState(),n=y.useStore();if(p.useEffect(()=>{e&&!t&&n.newThread()},[e,t,n]),!(!e||!t))return f.jsx(z,{features:`${H}=${$.COMPANION}`,children:f.jsx(We,{clientThreadId:t})})}export{ht as DesktopCompanionWindowController};
//# sourceMappingURL=b0zr7zti1ys3jn44.js.map
