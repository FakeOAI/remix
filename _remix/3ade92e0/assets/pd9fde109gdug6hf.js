import{X as I,av as A,bz as C,bA as p,bB as j,aa as w,x as t,br as _,aw as O,O as T,h as N,c$ as E,el as u}from"./jipkz7wahhvzzuqx.js";import{B as o,T as f,d6 as L,bD as k}from"./e6zhtx99a7i1g9zc.js";import{S as r}from"./n7shmditr84egzzk.js";import{$ as c}from"./e0q7avter61nrf4p.js";import{u as Q}from"./g79q0kqvjf4v6sq3.js";import{b as D}from"./ja77flu7lr7k19zc.js";const y={debug_mode:!1,base_config:o.SCALLION,completion_model:"production",eval_preset:"production",use_labrador:!0,show_image_to_model:!0,emulated_location:void 0,emulated_date:void 0};function U({children:s,...e}){return t.jsx(r.Content,{...e,className:T("z-50",e.className),children:s})}function F(s){return N({mutationFn:L,onSuccess:s})}function W({onClose:s}){const{theme:e,setTheme:i}=A(),{data:l}=C(p.TrainingAllowed),a=j(),b=w(),m=F(()=>b.success("All search logs have been deleted",{duration:3})),[g,v]=D(),S=Q();return t.jsx(_,{isOpen:!0,onClose:s,type:"success",size:"custom",className:"max-w-2xl",title:"SearchGPT Settings",showCloseButton:!0,children:t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs(d,{children:[t.jsx(c,{htmlFor:"theme",className:"text-sm",children:"Theme"}),t.jsxs(r.Root,{value:e,onValueChange:n=>{n!==e&&i(n)},children:[t.jsxs(r.Trigger,{id:"theme",children:[t.jsx(r.Value,{}),t.jsx(r.Icon,{})]}),t.jsx(r.Portal,{children:t.jsxs(U,{children:[t.jsx(r.Item,{value:"light",children:"Light"}),t.jsx(r.Item,{value:"dark",children:"Dark"}),t.jsx(r.Item,{value:"system",children:"System"})]})})]})]}),t.jsxs("div",{className:"flex flex-col border-t border-token-border-medium pt-1",children:[t.jsxs(d,{children:[t.jsx(c,{htmlFor:"location",className:"text-sm",children:"Share precise location"}),t.jsx(f,{onChange:n=>{v({...g,useLocation:n})},enabled:g.useLocation,disabled:!S||S==="denied",label:"Use location from browser"})]}),t.jsx("div",{className:"text-xs text-token-text-secondary",children:"Improve searches using precise location data from your device e.g. “restaurants near me” will try to show you restaurants near your current location. (When precise location is off, we’ll still use general location info based on your IP address so we can help you search local weather, etc.)"})]}),t.jsxs("div",{className:"flex flex-col border-t border-token-border-medium pt-1",children:[t.jsxs(d,{children:[t.jsx(c,{htmlFor:"trainingAllowed",className:"text-sm",children:"Improve search for everyone"}),t.jsx(f,{onChange:n=>{a.mutate({setting:p.TrainingAllowed,value:n})},enabled:l??!0,label:"Use location from browser"})]}),t.jsxs("div",{className:"text-xs text-token-text-secondary",children:["Allow your conversations to be used to improve our search functionality, which makes our services better for you and everyone who uses them. We take steps to protect your privacy."," ",t.jsx("a",{className:"underline",href:"https://openai.com/policies/privacy-policy/",target:"_blank",rel:"noreferrer",children:"Learn more"})]})]}),t.jsx("div",{className:"flex flex-col border-t border-token-border-medium pt-2",children:t.jsxs(d,{children:[t.jsx(c,{htmlFor:"deleteLogs",className:"text-sm",children:"Delete search logs"}),t.jsx(O,{color:"danger",loading:m.isPending,onClick:()=>m.mutate(),children:"Delete All"})]})})]})})}const d=I.div`flex justify-between items-center gap-2 min-h-[36px]`;var P=(s=>(s[s.InitialPending=0]="InitialPending",s[s.Active=1]="Active",s))(P||{});class x extends E()(e=>({queryInput:e?.initialQuery??"",followupQueryInput:"",initialQuery:e?.initialQuery??void 0,shouldShowComposer:!1,agentSettingsOverrides:e?.initialAgentSettingsOverrides??H(e?.isUserAdmin??!1),currentSearch:e?.initialQuery?{config:{threadId:e.initialThreadId??null,query:e.initialQuery,isFollowup:!1,querySource:"url_query"},state:0}:void 0,lastPrefetchedQuery:void 0,shouldShowAddToHomePopover:!1,hasSearched:localStorage.getItem("oai/apps/hasSearched")==="1",hasDismissedExtensionUpsell:localStorage.getItem("oai/apps/dismissExtensionUpsell")==="1",hasDismissedAddToHome:localStorage.getItem("oai/apps/dismissAddToHome")==="1"})){static selectQueryInput=e=>e.queryInput;static selectFollowupQueryInput=e=>e.followupQueryInput;static selectAgentSettingsOverrides=e=>e.agentSettingsOverrides;static selectLastSubmittedQuery=e=>e.currentSearch?.config.query;static selectWasCurrentSearchPrefetched=e=>e.currentSearch?.config.query===e.lastPrefetchedQuery;setQueryInput(e){this.setState({queryInput:e})}setFollowupQueryInput(e){this.setState({followupQueryInput:e})}setCurrentSearch(e){this.setState({currentSearch:e})}setLastPrefetchedQuery(e){this.setState({lastPrefetchedQuery:e})}handlePendingInitialSearch(){const e=this.getState();if(e.currentSearch?.state===0){const i={...e.currentSearch,state:1};return this.setState({currentSearch:i}),i}}updateAgentSettingsOverrides(e){const i={...this.getState().agentSettingsOverrides,...e};this.setState({agentSettingsOverrides:i}),B(i)}markHasSearched(){this.getState().hasSearched||(this.setState({hasSearched:!0}),localStorage.setItem("oai/apps/hasSearched","1"))}dismissExtensionUpsell(){this.getState().hasDismissedExtensionUpsell||(this.setState({hasDismissedExtensionUpsell:!0}),localStorage.setItem("oai/apps/dismissExtensionUpsell","1"))}dismissAddToHomePrompt(){this.getState().hasDismissedAddToHome||(this.setState({hasDismissedAddToHome:!0}),localStorage.setItem("oai/apps/dismissAddToHome","1"))}}function J({children:s,serverProps:e}){return t.jsx(x.Provider,{store:()=>new x(e),children:s})}const h="agent_overrides";function R(s,e){switch(s){case"scallion-prod":return o.SCALLION;case"scallion-rc":return o.SCALLION_RC;case"scallion":return e?o.SCALLION_RC:o.SCALLION}}function q(s){switch(s){case o.SCALLION:return"scallion-prod";case o.SCALLION_RC:return"scallion-rc"}}function H(s,e){let i={};try{const l=u.getCookie(h,e);let a={};typeof l=="string"&&(a=JSON.parse(l)),i={...a,base_config:a.base_config?R(a.base_config,s):a.base_config}}catch{}return{...y,...i}}function B(s){if(s===y)u.deleteCookie(h);else{const e={...s,base_config:q(s.base_config)};u.setCookie(h,JSON.stringify(e),{maxAge:k})}}export{y as D,W as E,J as S,x as a,P as b};
//# sourceMappingURL=pd9fde109gdug6hf.js.map
