const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ged2poyx76ozo5zf.js","assets/nz9x58rcwaqc60b4.js","assets/ogd9t3e603yvziyi.js","assets/root-k202e21e.css","assets/gfchu2dej3az8c25.js","assets/or560n5qz3kpvvuq.js","assets/conversation-small-ile61fj8.css","assets/h3s2751addpiju02.js","assets/lgd6409nyluzphgy.js","assets/f660rdcx7hgt0ao3.js","assets/otqd9h4zxq10nz2h.js","assets/bgy2h3g6753v0xxk.js","assets/l5yb6l4akq0vjsme.js","assets/e0bwkx5anf1dv1nf.js","assets/d3bwntlx799lgyhn.js"])))=>i.map(i=>d[i]);
import{m as e,aH as R,aI as A,r as l,gS as B,gT as $,gk as z,gc as G,bp as W,fr as n,aD as T,y as J,ay as K,fq as Q,as as Y,G as Z,d2 as X,aJ as ee,dP as se,S as ae,F as ne,fo as te,eQ as re}from"./nz9x58rcwaqc60b4.js";import{eV as E,eW as oe,eX as ie,eY as O,eZ as ce,e_ as de,bY as le,e$ as he,f0 as N,f1 as me,f2 as ue,f3 as Ce,f4 as xe,f5 as pe,f6 as fe,b7 as Te,f7 as ge,f8 as ve,f9 as V,fa as je,al as b,fb as Se,dW as Ie,bx as we,fc as ye,j as Ne,fd as be,fe as Ee,ff as Le,fg as Me,fh as _e,fi as ke,ca as He,fj as Pe,fk as P,eJ as Fe,eK as De}from"./or560n5qz3kpvvuq.js";import{S as Re,E as Ae,C as F,a as Be,b as We}from"./h3s2751addpiju02.js";import{K as Oe}from"./ogd9t3e603yvziyi.js";import{C as Ve}from"./mxvjhns2mle566ho.js";function qe({clientThreadId:s,currentModelId:r,isModelLoaded:a,onRequestCompletion:t,v2HomepageDisclaimer:o}){return e.jsx(Re,{clientThreadId:s,currentModelId:r,isModelLoaded:a,onRequestCompletion:t,v2HomepageDisclaimer:o})}const Ue=R(()=>A(()=>import("./ged2poyx76ozo5zf.js"),__vite__mapDeps([0,1,2,3,4,5,6])).then(s=>s.ChatScreenContentModals));function $e({disableEmptyState:s,fullWidth:r}){const{clientThreadId:a,currentModelId:t,conversationLeafId:o,isCompanionWindow:i,isEmbeddedInFocusedView:h,onChangeItemInView:m,onChangeRating:u,onRequestCompletion:c,onRequestMoreCompletions:x,isModelLoaded:p,prefetchSearch:g}=l.useContext(E),f=B(a,o),v=$(a),j={clientThreadId:a,conversationLeafId:o,currentModelId:t,onChangeItemInView:m,onChangeRating:u,onRequestMoreCompletions:x,onRequestCompletion:c,showAvatar:!1},S=z(a),w=oe({clientThreadId:a,currentLeafId:o,handleRequestCompletion:c,prefetchSearchPromise:g}),I=S||w||s,C=G(),{initialConversationTurns:L,continuedConversationTurns:M}=ie(f,C),{canUseNewHomepage:_,showEmptyState:k}=O({clientThreadId:a,currentLeafId:o}),q=f>=2;ce(q);const{setTargetedContent:H}=de(),U=le(t);if(he(()=>{fe(),J.updateScrollToMessageId(a,"finalAgentTurn")}),l.useEffect(()=>{h||H(void 0)},[a,H,h]),_&&k&&!I){const d=i?null:e.jsx("div",{className:"text-center text-xs text-token-text-secondary",children:e.jsx(N,{clientThreadId:a})});return e.jsx(qe,{clientThreadId:a,currentModelId:t,isModelLoaded:p,onRequestCompletion:c,v2HomepageDisclaimer:d})}else if(!_&&k&&!I)return e.jsx(Ae,{clientThreadId:a,currentModelId:t,isModelLoaded:p,onRequestCompletion:c,enableV2Homepage:!U,v2HomepageDisclaimer:e.jsx(N,{clientThreadId:a})});return e.jsxs(e.Fragment,{children:[C&&e.jsx(me,{}),C&&M.length===0&&e.jsx(ue,{}),e.jsx(W,{children:e.jsxs(l.Suspense,{fallback:null,children:[e.jsx(Ce,{}),L.length>0&&e.jsx("ol",{className:n.conversationTurnList,children:L.map(({turnIndex:d,isFinalTurn:y})=>e.jsx("li",{className:T(n.conversationTurnWrapper,r&&"w-full"),children:l.createElement(F,{...j,key:`${a}-${d}`,turnIndex:d,isFinalTurn:y,scrollToMessageId:v})},d))}),C&&e.jsx(xe,{}),e.jsx("ol",{className:n.conversationTurnList,children:M.map(({turnIndex:d,isFinalTurn:y})=>e.jsx("li",{className:T(n.conversationTurnWrapper,r&&"w-full"),children:l.createElement(F,{...j,key:`${a}-${d}`,turnIndex:d,isFinalTurn:y,scrollToMessageId:v})},d))})]})}),e.jsx(Ue,{}),f>0&&e.jsx(pe,{})]})}function ze(){return e.jsx($e,{})}const Ge=R(()=>A(()=>import("./h3s2751addpiju02.js").then(s=>s.c),__vite__mapDeps([7,1,2,3,5,6,8,9,10,11,12,13,14])).then(s=>s.ChatScreenComposerAlerts));function Je(){const{clientThreadId:s,currentModelId:r,isCompanionWindow:a,onRequestCompletion:t}=l.useContext(E),o=Te(s),i=K(s),h=B(s,i),m=h>=2,u=Q(s,i),c=Y(s)&&!m&&ge(o);ve(h,s,i,c);const{setComposerFooterElement:x}=l.useContext(V);return e.jsx("div",{className:n.footer,children:e.jsxs(je,{style:{"--bar-gap":"0.5rem","--bar-background-color":"transparent"},children:[e.jsxs(b,{type:"secondary",className:"relative",children:[m&&e.jsx(Se,{className:n.scrollButton}),e.jsx(Ge,{})]}),e.jsxs(b,{type:"primary",ref:x,name:"composer-bar",children:[e.jsx(Be,{clientThreadId:s,currentModelId:r,isNewThread:c,noWrap:!0,onRequestCompletion:t,showPromptStarters:c||!u}),!a&&e.jsx("div",{className:"text-center text-xs text-token-text-secondary",children:e.jsx(N,{clientThreadId:s})})]})]})})}function Ke(){const s=Z(),{clientThreadId:r,isLoggedInUser:a,onNewThread:t}=l.useContext(E);return X(r),e.jsxs(b,{leading:!0,type:"primary",className:n.header,children:[e.jsxs("div",{className:n.headerLeading,children:[a&&e.jsx(Ie,{}),e.jsx(ee,{label:s.formatMessage(D.newChat),className:"hidden @lg/screen-composer:inline-flex",children:e.jsx(se,{to:"/",className:n.newThread,onClick:o=>{t?(o.preventDefault(),t()):ae.logEvent("chatgpt_web_thread_tap_new_thread")},tabIndex:0,children:e.jsx(we,{className:T(n.sidebarIcon),icon:e.jsx(Oe,{}),tabIndex:-1,label:s.formatMessage(D.newChat),style:{viewTransitionName:"var(--vt_new_chat_thread)"}})})}),e.jsx("div",{className:n.threadDropdown,children:e.jsx(ye,{clientThreadId:r})})]}),e.jsx("div",{className:n.headerTrailing,children:e.jsx(W,{children:e.jsx(We,{clientThreadId:r})})})]})}const D=ne({newChat:{id:"rnCpM4",defaultMessage:"New Chat"}});function ss({hideHeader:s=!1,hideFooter:r=!1,hideTools:a=!1,embedded:t=!1,ref:o}){const{clientThreadId:i,currentModelId:h,conversationLeafId:m,isCompanionWindow:u,isInstalledApp:c,onRequestCompletion:x}=Ne(),{canUseNewHomepage:p,showEmptyState:g}=O({clientThreadId:i,currentLeafId:m}),f=be()[h],[v,j]=Ee({name:"composer-bar",track:"height"}),S=Le(i),w=Me(),I=te(),C=r||g&&p;return e.jsx(re.Provider,{value:x,children:e.jsx(_e,{children:e.jsxs(ke,{clientThreadId:i,currentLeafId:m,children:[e.jsx(He,{children:S!=null&&e.jsx("title",{children:S})}),e.jsx(Pe,{clientThreadId:i,className:T(t&&"h-full","flex-1"),currentModelConfig:f,children:e.jsx(V.Provider,{value:{setComposerFooterElement:j},children:e.jsxs("div",{className:"h-full",style:{container:"thread-container / inline-size"},children:[e.jsx(P,{id:"canvas-state",name:"canvas-state",checked:w}),e.jsx(P,{id:"thread-extended-info-sidebar-state",name:"thread-extended-info-sidebar-state",checked:I}),e.jsx(Fe,{anchor:"vertical",className:T(n.screen,g&&p&&n.screenEmptyState,u&&n.screenCompanionWindow,c&&n.screenInstalledApp,t&&n.screenEmbedded),name:"thread",leading:!s&&e.jsx(Ke,{}),style:v,ref:o,trackLeading:!0,trackTrailing:!0,trailing:!C&&e.jsx(Je,{}),children:e.jsx(ze,{})}),!u&&!a&&e.jsxs(e.Fragment,{children:[e.jsx(Ve,{}),e.jsx(De,{})]})]})})})]})})})}export{ss as C};
//# sourceMappingURL=l5uw5jni6q00i18y.js.map
