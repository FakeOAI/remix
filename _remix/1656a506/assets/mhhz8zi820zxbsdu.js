const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/osileh1mzbmgofls.js","assets/l0y3ohwtclivvm2c.js","assets/hlxnsx6oewki3363.js","assets/root-i54zhw2b.css","assets/byhneqjvgrp2wksn.js","assets/conversation-small-ict01xsi.css","assets/mggr3w25m5uvrvej.js","assets/g85fadqrovtkvnqw.js","assets/idcmjesz3h4wdd3f.js","assets/l5io3dwebnnx86tm.js","assets/iri9sh1swbllvdb6.js","assets/jgxjcjzjvn8n6j7w.js","assets/omky5cv8xouhuslc.js","assets/n7za6i719heatv1n.js","assets/frvdqbi6lz3hxbmq.js","assets/m557xmdrsmxtlfob.js","assets/gxfvcoryd2kvna4w.js"])))=>i.map(i=>d[i]);
import{an as Q,I as Y,a6 as e,aE as F,aF as P,r as C,b6 as R,e5 as t,ar as y,aj as Z,aY as J,cR as K,S as X,ak as $}from"./l0y3ohwtclivvm2c.js";import{fp as D,g1 as A,dd as B,cm as ee,ch as U,g2 as z,g3 as q,g4 as se,ci as ae,g5 as ne,b_ as te,g6 as re,g7 as oe,v as ie,g8 as I,g9 as ce,ga as de,gb as le,gc as he,gd as me,dJ as ue,ge as Ce,gf as O,gg as pe,aZ as w,gh as ge,eL as xe,c1 as ve,gi as Te,gj as je,gk as Se,gl as fe,gm as ye,by as Ie,gn as we,go as Ne,gp as Ee,cI as be,gq as Me,gr as _,eP as Le,eQ as _e}from"./byhneqjvgrp2wksn.js";import{u as W,e as N}from"./mggr3w25m5uvrvej.js";import{S as He,E as ke,C as H,a as Fe,b as Pe}from"./iri9sh1swbllvdb6.js";import{u as Re,C as De}from"./dxn5lljkgg13xpjo.js";import{Y as Ae}from"./hlxnsx6oewki3363.js";function V({clientThreadId:s,currentLeafId:r}){const{currentModelId:a,isCompanionWindow:n}=W(),o=D(s),d=A(s,r),l=B(s),c=Q(),h=ee(a),i=U(s)&&!d&&(z(o)||o?.kind===Y.GizmoTest);return{showEmptyState:i,canUseNewHomepage:i&&!n&&(!l||!1)&&!h&&!c}}function Be({clientThreadId:s,currentModelId:r,isModelLoaded:a,onRequestCompletion:n,v2HomepageDisclaimer:o}){return e.jsx(He,{clientThreadId:s,currentModelId:r,isModelLoaded:a,onRequestCompletion:n,v2HomepageDisclaimer:o})}const Ue=F(()=>P(()=>import("./osileh1mzbmgofls.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9])).then(s=>s.ChatScreenContentModals));function ze({disableEmptyState:s,fullWidth:r}){const{clientThreadId:a,currentModelId:n,conversationLeafId:o,onChangeItemInView:d,onChangeRating:l,onRequestCompletion:c,onRequestMoreCompletions:h,isModelLoaded:i,prefetchSearch:m}=C.useContext(N),p=q(a,o),j=se(a),x={clientThreadId:a,conversationLeafId:o,currentModelId:n,onChangeItemInView:d,onChangeRating:l,onRequestMoreCompletions:h,onRequestCompletion:c,showAvatar:!1},v=ae(a),S=ne({clientThreadId:a,currentLeafId:o,handleRequestCompletion:c,prefetchSearchPromise:m}),T=v||S||s,g=te(),{initialConversationTurns:E,continuedConversationTurns:b}=re(p,g),{canUseNewHomepage:M,showEmptyState:L}=V({clientThreadId:a,currentLeafId:o}),G=p>=2;return oe(G),Re({onConversationChanged:()=>{ie.updateScrollToMessageId(a,"finalAgentTurn")}}),M&&L&&!T?e.jsx(Be,{clientThreadId:a,currentModelId:n,isModelLoaded:i,onRequestCompletion:c,v2HomepageDisclaimer:e.jsx("div",{className:"text-center text-xs text-token-text-secondary",children:e.jsx(I,{clientThreadId:a})})}):!M&&L&&!T?e.jsx(ke,{clientThreadId:a,currentModelId:n,isModelLoaded:i,onRequestCompletion:c,enableV2Homepage:!0,v2HomepageDisclaimer:e.jsx(I,{clientThreadId:a})}):e.jsxs(e.Fragment,{children:[g&&e.jsx(ce,{}),g&&b.length===0&&e.jsx(de,{}),e.jsx(R,{children:e.jsxs(C.Suspense,{fallback:null,children:[e.jsx(le,{}),E.length>0&&e.jsx("ol",{className:t.conversationTurnList,children:E.map(({turnIndex:u,isFinalTurn:f})=>e.jsx("li",{className:y(t.conversationTurnWrapper,r&&"w-full"),children:C.createElement(H,{...x,key:u,turnIndex:u,isFinalTurn:f})},u))}),g&&e.jsx(he,{}),e.jsx("ol",{className:t.conversationTurnList,children:b.map(({turnIndex:u,isFinalTurn:f})=>e.jsx("li",{className:y(t.conversationTurnWrapper,r&&"w-full"),children:C.createElement(H,{...x,key:u,turnIndex:u,isFinalTurn:f,scrollToMessageId:j})},u))})]})}),e.jsx(Ue,{}),p>0&&e.jsx(me,{})]})}function qe(){return e.jsx(ze,{})}const Oe=F(()=>P(()=>import("./iri9sh1swbllvdb6.js").then(s=>s.c),__vite__mapDeps([10,1,2,3,4,5,11,12,13,8,6,7,9,14,15,16])).then(s=>s.ChatScreenComposerAlerts));function We(){const{clientThreadId:s,currentModelId:r,isCompanionWindow:a,onRequestCompletion:n}=C.useContext(N),o=D(s),d=ue(s),l=q(s,d),c=l>=2,h=A(s,d),i=U(s)&&!c&&z(o);Ce(l,s,d,i);const{setComposerFooterElement:m}=C.useContext(O);return e.jsx("div",{className:t.footer,children:e.jsxs(pe,{style:{"--bar-gap":"0.5rem","--bar-background-color":"transparent"},children:[e.jsxs(w,{type:"secondary",className:"relative",children:[c&&e.jsx(ge,{className:t.scrollButton}),e.jsx(Oe,{})]}),e.jsxs(w,{type:"primary",ref:m,name:"composer-bar",children:[e.jsx(Fe,{clientThreadId:s,currentModelId:r,isNewThread:i,noWrap:!0,onRequestCompletion:n,showPromptStarters:i||!h}),!a&&e.jsx("div",{className:"text-center text-xs text-token-text-secondary",children:e.jsx(I,{clientThreadId:s})})]})]})})}function Ve(){const s=Z(),{clientThreadId:r,onNewThread:a}=C.useContext(N);return B(r),e.jsxs(w,{leading:!0,type:"primary",className:t.header,children:[e.jsxs("div",{className:t.headerLeading,children:[e.jsx(xe,{}),e.jsx(J,{label:s.formatMessage(k.newChat),children:e.jsx(K,{to:"/",className:t.newThread,onClick:n=>{a?(n.preventDefault(),a()):X.logEvent("chatgpt_web_thread_tap_new_thread")},children:e.jsx(ve,{className:t.sidebarIcon,icon:e.jsx(Ae,{style:{viewTransitionName:"var(--vt_new_chat_thread)"}}),label:s.formatMessage(k.newChat),style:{display:"var(--screen-size-hidden-on-compact-mode)"}})})}),e.jsx("div",{className:t.threadDropdown,children:e.jsx(Te,{clientThreadId:r})})]}),e.jsx("div",{className:t.headerTrailing,children:e.jsx(R,{children:e.jsx(Pe,{clientThreadId:r})})})]})}const k=$({newChat:{id:"rnCpM4",defaultMessage:"New Chat"}});function Xe({hideHeader:s=!1,hideFooter:r=!1,hideTools:a=!1}){const{clientThreadId:n,currentModelId:o,conversationLeafId:d,isCompanionWindow:l,isInstalledApp:c,onRequestCompletion:h}=W(),{canUseNewHomepage:i,showEmptyState:m}=V({clientThreadId:n,currentLeafId:d}),p=je()[o],[j,x]=Se({name:"composer-bar",track:"height"}),v=fe(n),S=ye(),{isOpen:T}=Ie(),g=r||m&&i;return e.jsx(we.Provider,{value:h,children:e.jsx(Ne,{children:e.jsxs(Ee,{clientThreadId:n,currentLeafId:d,children:[e.jsx(be,{children:v!=null&&e.jsx("title",{children:v})}),e.jsx(Me,{clientThreadId:n,className:"flex-1",currentModelConfig:p,children:e.jsx(O.Provider,{value:{setComposerFooterElement:x},children:e.jsxs("div",{className:"h-full",style:{container:"thread-container / inline-size"},children:[e.jsx(_,{id:"canvas-state",name:"canvas-state",checked:S}),e.jsx(_,{id:"thread-extended-info-sidebar-state",name:"thread-extended-info-sidebar-state",checked:T}),e.jsx(Le,{anchor:"vertical",className:y(t.screen,m&&i&&t.screenEmptyState,l&&t.screenCompanionWindow,c&&t.screenInstalledApp),name:"thread",leading:!s&&e.jsx(Ve,{}),style:j,trackLeading:!0,trackTrailing:!0,trailing:!g&&e.jsx(We,{}),children:e.jsx(qe,{})}),!l&&!a&&e.jsxs(e.Fragment,{children:[e.jsx(De,{}),e.jsx(_e,{})]})]})})})]})})})}export{Xe as C};
//# sourceMappingURL=mhhz8zi820zxbsdu.js.map
