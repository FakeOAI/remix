const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/jlcjw8xv97j4u3x0.js","assets/emaotesjjrbo0vnn.js","assets/i2h9sd6w9obmp6kj.js","assets/root-c2ck6e7e.css","assets/pfgfa28h4zko09ji.js","assets/conversation-small-gncbdz17.css","assets/f4d4hsc2yuigyhy9.js","assets/kye660kh5ct8polq.js","assets/uum3qt88kgyy5xax.js","assets/kn0ak9fkjsb1xfsy.js","assets/fokwkkbk6knx4amm.js","assets/hd7b3v6d032g9uc2.js","assets/cwrkr657k0yctpo3.js","assets/ik3wpg13eaefz63o.js","assets/emdsbmtogavu6fd9.js","assets/jrupw1ay25umd912.js","assets/f5nvqhtr192kanrz.js","assets/osx4tj65rnfm2kg7.js"])))=>i.map(i=>d[i]);
import{U as ne,a6 as e,r as l,ar as d,aG as B,aE as S,aF as p,aj as j,aL as ae,a9 as ie,aY as I,a3 as v,aB as M,an as R,b6 as D,b0 as re,dM as c,az as oe,aA as ce,eJ as le,w as de,v as P,bR as ue,cF as me,ak as he}from"./emaotesjjrbo0vnn.js";import{dA as A,F as T,bX as ge,j6 as be,dF as fe,f1 as xe,j7 as Se,j8 as pe,bZ as je,cw as ve,j9 as ye,br as H,bR as Ce,ja as ke,U as z,bc as U,dr as V,ba as Ne,bb as W,jb as Ie,jc as K,jd as we,je as Me,eR as Ae,jf as Te,bU as Oe,jg as _e,aj as Fe,gc as q,b8 as w,jh as X,ji as Ee,jj as Le,jk as $,gw as Pe,jl as ze,jm as G,jn as f,jo as Ge,jp as Be,ca as Re,jq as De,jr as He,f6 as Ue}from"./pfgfa28h4zko09ji.js";import{r as Ve,a0 as Y,by as We,aj as J,ai as Ke,bz as qe,$ as Xe}from"./i2h9sd6w9obmp6kj.js";import{B as Z,D as $e}from"./f4d4hsc2yuigyhy9.js";import{m as Ye}from"./kye660kh5ct8polq.js";import{N as Je,u as O,g as Ze}from"./uum3qt88kgyy5xax.js";import{U as Qe}from"./ik3wpg13eaefz63o.js";import{F as k}from"./jrupw1ay25umd912.js";function es(){const s=A(T.SonicSidebar),[t,n]=l.useState(!1);return s.isLoading||!s.eligible?null:e.jsx(Ye.div,{className:"no-draggable group pb-0",whileTap:{scale:.98},children:e.jsx(ts,{children:e.jsx(ge,{href:"/search",target:"_blank",icon:e.jsx("div",{className:d("gizmo-shadow-stroke mr-[0.5] flex h-[18px] w-[18px] items-center justify-center rounded-full bg-token-main-surface-primary align-middle text-token-text-primary"),children:e.jsx(be,{})}),label:"SearchGPT",hoverRightIcon:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(ns,{isOpen:t,setIsOpen:n,onDismiss:()=>s.markAsViewed()}),e.jsx(Ve,{className:d("icon-md text-token-text-tertiary",!t&&"invisible group-hover:visible")})]}),isMenuOpen:!1,loggingGizmoId:"search-gpt-sidebar"})})})}function ss(){const s=xe(),t=A(T.hasSeenSncSidebarTooltip),n=Se(),a=pe(),{activeModals:r}=je(),i=ve();return!t.isLoading&&t.eligible&&!n&&r.size===0&&!s&&!a&&!i}function ts({children:s}){const t=ss(),n=A(T.hasSeenSncSidebarTooltip);return t?e.jsx(fe,{side:"right",show:!0,badge:"new",title:"Try SearchGPT",onDismiss:n.markAsViewed,sideOffset:10,theme:"bright",description:"You're in. Get answers with real-time information from relevant sources, and ask follow-up questions.",children:e.jsx("div",{className:"w-full",children:s})}):e.jsx(e.Fragment,{children:s})}function ns({isOpen:s,setIsOpen:t,onDismiss:n}){return e.jsx(Z,{open:s,onOpenChange:t,triggerButton:e.jsx("button",{className:d("flex text-token-text-tertiary",s?"":"invisible group-hover:visible"),onClick:a=>{a.preventDefault()},children:e.jsx(Y,{className:"icon-md"})}),children:e.jsx($e.Item,{onClick:a=>{a.preventDefault(),n()},children:e.jsx(B,{id:"sidebar.hideFromSidebar",defaultMessage:"Hide from sidebar"})})})}function as(){const s=ne("114024");return!s.value||s.isLoading?null:e.jsx(es,{})}const is=S(()=>p(()=>import("./jlcjw8xv97j4u3x0.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15])).then(s=>s.FannyPackAction)),rs=S(()=>p(()=>import("./f5nvqhtr192kanrz.js"),__vite__mapDeps([16,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15])).then(s=>s.GizmoSidebarList));function Ms({clientThreadId:s,onNewThread:t}){const n=U(s),a=v(),{isUnauthenticated:r}=M(),i=V(s),o=R();return r?null:e.jsxs(e.Fragment,{children:[e.jsx(Ne,{onNewThread:t}),a?.canInteractWithGizmos()?e.jsx(rs,{currentGizmoId:i}):e.jsx(as,{}),!1,!r&&e.jsx(W,{activeId:o?void 0:n})]})}function As({className:s,onNewThread:t}){const n=j(),a=ae(),r=ye(),i=ie(()=>navigator.windowControlsOverlay),{isFannyPackEnabled:o}=H();return e.jsxs("div",{className:d("flex",i?.visible&&i.getTitlebarAreaRect().left>0?"justify-end":"justify-between",s),children:[e.jsx(I,{sideOffset:4,label:n.formatMessage({id:"e7SzX9",defaultMessage:"Close sidebar"}),className:"flex",side:"right",children:e.jsx(Ce,{className:"no-draggable","aria-label":n.formatMessage({id:"e7SzX9",defaultMessage:"Close sidebar"}),onClick:()=>{ke(a)?z.toggleNavSidebar():z.togglePopoverNavSidebar()},icon:We,mobileIcon:J,surfaceContext:"secondary","data-testid":"close-sidebar-button"})}),e.jsxs("div",{className:"flex",children:[o&&e.jsx(is,{}),!r&&e.jsx(Je,{onClick:t,testId:"create-new-chat-button"})]})]})}function os({onConversationChanged:s}){const{clientThreadId:t}=O();Ie({source:t,enabled:!!s,onChange:s})}function cs({onConversationChanged:s}){os({onConversationChanged:s})}function ls({onClick:s}){const{clientThreadId:t}=O(),{isSidebarFlyoutOpen:n,onSidebarFlyoutOpenChange:a}=K();return e.jsx("div",{className:"group mt-1 flex w-full items-center justify-start",children:e.jsx(Z,{onOpenChange:a,side:"right",sideOffset:4,open:n,contentAlign:"end",triggerButton:e.jsxs("button",{className:d("flex flex-1 select-none items-center gap-2 rounded-lg px-2 py-2.5 text-sm tracking-condensed text-token-text-secondary hover:bg-token-main-surface-secondary focus:ring-0",n&&"bg-token-main-surface-secondary"),onClick:s,children:[e.jsx(Y,{className:d("icon-md mr-1 font-semibold text-token-sidebar-icon")}),e.jsx("span",{className:"text-left",children:e.jsx(B,{id:"25xE8F",defaultMessage:"See more"})})]}),size:"auto",children:e.jsx("div",{className:"max-h-[50dvh] overflow-x-auto px-2 [scrollbar-gutter:stable]",children:e.jsx(D,{children:e.jsx(W,{activeId:t,hideOverflowMenu:!0})})})})})}function ds({clientThreadId:s}){const t=U(s),n=R(),{isCollapsible:a,recentConversationLimit:r}=we(),i={recentConversationLimit:r},o=l.useRef(!1),h=!0,{conversations:g,data:u,isLoading:b,isError:y,recents:m,refetch:_}=Me(i),[Q,F]=l.useState(!0),E=l.useCallback(function(C){C===void 0&&F(!1),_({cancelRefetch:!0})},[_,F]),ee=n?void 0:t,se=g.length===0,L=y||u===void 0&&!b&&o.current,te=!L&&(u===void 0||b);return u===void 0&&!b&&!o.current&&(o.current=!0,E(!0)),l.useMemo(()=>{Ae.publish({kind:"refreshHistory",conversations:g})},[g]),e.jsxs(e.Fragment,{children:[L&&e.jsx(Te,{showRetry:Q,refetch:E}),!se&&e.jsx(Oe,{header:m.label,isLastInGroup:!0,children:m.items.map((x,C)=>e.jsx(_e,{item:x,isActive:x.id===ee,testId:`history-item-${C}`},x.id))}),te&&e.jsx(re,{className:"sticky top-4 z-30 mt-4 justify-self-center"}),a&&e.jsx(D,{children:e.jsx("div",{className:"-ml-2 mb-5",children:e.jsx("div",{hidden:!h,className:d(!h),children:e.jsx(ls,{})})})})]})}const us=S(()=>p(()=>import("./f5nvqhtr192kanrz.js"),__vite__mapDeps([16,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15])).then(s=>s.GizmoSidebarList));function ms({clientThreadId:s}){const t=v(),n=V(s),{isUnauthenticated:a}=M();return a?null:e.jsxs("div",{className:d(c.screenContent),children:[null,e.jsx(ds,{clientThreadId:s}),t?.canInteractWithGizmos()?e.jsx(us,{currentGizmoId:n}):null]})}function hs(){const s=v(),t=s?.data==null,{isUnauthenticated:n}=M(),{openSettings:a}=Fe(),[r]=l.useState(()=>{const u=oe.getCookie(ce.Workspace);return typeof u=="string"&&u!==le}),i=j(),{store:o}=q(),h=o(u=>u.mode);if(!s||r&&t)return null;const g=n?e.jsx(Qe,{}):e.jsx(Ze,{onClickSettings:()=>a()});return e.jsxs(w,{name:"user-profile-bar",className:"z-10 mb-[0.5px] grid-cols-[minmax(0,_1fr)_auto] px-sidebar-inline md:py-1.5",type:"primary",disableSizeTracking:!0,style:{"--bar-gap":"12px","--bar-background-color":"transparent"},children:[g,e.jsx("div",{className:c.togglePinWrapper,children:e.jsx(X,{tooltipSideOffset:14,className:c.pinSidebarAction,icon:e.jsx(Ee,{}),label:h===Le.Floating?i.formatMessage({id:"b43Hkt",defaultMessage:"Pin Sidebar"}):i.formatMessage({id:"6m3n9w",defaultMessage:"Unpin Sidebar"}),htmlFor:$.FloatingOrPinned})})]})}function gs(){return e.jsx(Pe,{className:d(c.screenTrailingBarContainer),children:e.jsx(hs,{})})}function bs(){return(Ge()?"⌘":"Ctrl")+" K"}function fs(){const s=v(),t=ze(i=>i.isActive),n=j(),{value:a}=de("1422501431");return l.useEffect(()=>{s&&(a?k.setCurrentAccountV2(s):k.setCurrentAccount(s),k.init())},[s,a]),l.useEffect(()=>{const i=o=>{o.metaKey&&o.key==="k"&&(t?f.logClose("shortcut"):(f.setSessionId(P()),f.logOpen("shortcut")),G.setIsActive(!t))};return window.addEventListener("keydown",i),()=>{window.removeEventListener("keydown",i)}},[t]),{openSearch:l.useCallback(()=>{G.setIsActive(!0),f.setSessionId(P()),f.logOpen("button")},[]),searchMsg:n.formatMessage({id:"jmd8WH",defaultMessage:"Search chats"}),shortcutMsg:bs()}}const xs=S(()=>p(()=>import("./osx4tj65rnfm2kg7.js"),__vite__mapDeps([17,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15])).then(s=>s.FannyPackIconButton));function Ss({onNewThread:s}){const t=j(),n=l.useRef(null),{store:a,actions:r}=q(),i=a(m=>m.isSidebarOpen),{isSidebarFlyoutOpen:o}=K(),h=i&&!o;function g(){n.current&&getComputedStyle(n.current)?.getPropertyValue("--sidebar_should_light_dismiss")==="1"&&r.closeSidebar()}Be({checkElement:m=>m?.tagName==="NAV",enabled:h,onLightDismiss:g});const{isFannyPackEnabled:u}=H(),{searchMsg:b,shortcutMsg:y}=fs();return ue(),e.jsxs(e.Fragment,{children:[e.jsx(w,{type:"primary",className:d(c.screenHeader),children:e.jsxs("div",{className:"mt-[3px] flex min-h-[var(--screen-thread-header-min-height)] w-full flex-1 items-center justify-between pl-[9px]",ref:n,children:[e.jsx("div",{className:"grid items-center gap-1",children:e.jsx(X,{className:d(c.closeSidebarAction),style:{viewTransitionName:"var(--vt_toggle_sidebar_opened)"},icon:e.jsxs(e.Fragment,{children:[e.jsx(Ke,{className:c.sidebarIcon,style:{display:"var(--screen-size-hidden-on-compact-mode)"}}),e.jsx(J,{className:c.sidebarIcon,style:{display:"var(--screen-size-hidden-on-wide-mode)"}})]}),label:t.formatMessage(N.closeSidebar),htmlFor:$.OpenOrClosed,tooltipSideOffset:4})}),e.jsxs("div",{className:"flex items-center gap-3",children:[!1,u&&e.jsx(I,{label:e.jsxs("div",{children:[b,e.jsx("div",{className:"text-sm font-normal text-token-text-secondary",children:y})]}),children:e.jsx(xs,{className:c.searchAction,icon:e.jsx(qe,{className:c.sidebarIcon})})}),e.jsx(I,{label:t.formatMessage(N.newChat),children:e.jsx(me,{to:"/",onClick:m=>{m.preventDefault(),s()},children:e.jsx(Re,{icon:e.jsx(Xe,{style:{viewTransitionName:"var(--vt_new_chat_sidebar)"},className:c.sidebarIcon}),className:c.searchAction,label:t.formatMessage(N.newChat)})})})]})]})}),e.jsx(w,{type:"primary",className:c.bucketBar,disableSizeTracking:!0,children:" "})]})}const N=he({newChat:{id:"NUNaGU",defaultMessage:"New chat"},closeSidebar:{id:"fM0vj3",defaultMessage:"Close Sidebar"}});function Ts(){const{clientThreadId:s,onNewThread:t}=O(),[n,a]=l.useState(!1),r=l.useCallback(i=>{if(i){a(i);return}setTimeout(()=>{a(i)},100)},[]);return cs({onConversationChanged:()=>{a(!1)}}),e.jsxs(De,{value:{isSidebarFlyoutOpen:n,onSidebarFlyoutOpenChange:r},children:[e.jsx(He,{}),e.jsx(Ue,{anchor:"vertical",className:d(c.screen,"popover flex-1 border-r border-r-token-border-xlight"),name:"sidebar",leading:e.jsx(Ss,{onNewThread:t}),trackLeading:!0,trailing:e.jsx(gs,{}),children:e.jsx(ms,{clientThreadId:s})})]})}export{Ts as C,As as S,as as a,Ms as b,fs as u};
//# sourceMappingURL=dp7anukakiysn97o.js.map
