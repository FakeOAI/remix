const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/keitruny7xvt8zoi.js","assets/emaotesjjrbo0vnn.js","assets/i2h9sd6w9obmp6kj.js","assets/root-c2ck6e7e.css","assets/pfgfa28h4zko09ji.js","assets/conversation-small-gncbdz17.css","assets/uum3qt88kgyy5xax.js","assets/f4d4hsc2yuigyhy9.js","assets/kn0ak9fkjsb1xfsy.js","assets/fokwkkbk6knx4amm.js","assets/hd7b3v6d032g9uc2.js","assets/kye660kh5ct8polq.js","assets/cwrkr657k0yctpo3.js","assets/ewyb95qzyni49h6u.js","assets/mrzrevxkl8sghw22.js","assets/et7c03cyivi8l0td.js","assets/lx13f5tx2fvtfihh.js","assets/fjxlwcafgbqx6k83.js","assets/ir6hxzp3zib1lm87.js","assets/bxhjcgl41yecukvk.js","assets/ckzo3d3wgyies2u0.js","assets/bebphm0teh27dp33.js","assets/opzvq2rekkh5bmjo.js","assets/jz69zxs95gnlksyl.js","assets/gbv1mw3bawqk30ah.js","assets/besr2uolenivgpix.js","assets/cs4bjp92e9nxt329.js","assets/kqwdyvkaaavvn8k3.js","assets/byijvpmq97km2lrm.js","assets/hgzu64c6l9hsknm7.js","assets/983a0dy92b3ronpv.js","assets/o3m1gb321autfqsx.js","assets/i8ko6jf8tmaia7ew.js","assets/ik3wpg13eaefz63o.js","assets/emdsbmtogavu6fd9.js","assets/dp7anukakiysn97o.js","assets/jrupw1ay25umd912.js","assets/d4972kkhqfka6fuz.js","assets/krrjy8wlh5tt1p9i.js","assets/h5woj1r6i6wwcaf0.js","assets/kad7loaf7djyppb1.js","assets/gp7374ju1voyvsik.js","assets/l55ilh4snakvqc47.js","assets/m4qavq6u1tv4dyuu.js","assets/ogzotdmqo5dh11k3.js","assets/jaj6dzeyh7d1jxc0.js","assets/ooa5520sfasrql5t.js","assets/b5vzrh7xq7fj9puh.js"])))=>i.map(i=>d[i]);
import{aE as l,aF as u,a6 as e,w as Y,fn as E,r as n,ar as q,fh as w,an as J,x as P,$ as X,bX as T,D as Z,bO as ee,bP as ae,bQ as se,cn as te,u as re,K as oe}from"./emaotesjjrbo0vnn.js";import{dq as ie,iL as M,iM as ne,dh as O,iN as b,Y as L,iO as k,iP as de,gO as D,iQ as R,iR as H,hJ as ce,bJ as le,b7 as W,bA as ue,iS as y,hV as x,fM as he,bL as g,bM as A,f5 as me,iT as xe,iU as fe,v as V,iV as ge,ch as be,iW as je,iX as pe,b_ as Ce,b$ as N,iY as ve,m as Se,cl as _e,iZ as Ee,gI as we,cm as Pe,dg as Te,i_ as ye,i$ as Ae,j0 as Ve,di as Ne,j1 as Fe,ci as Ie,bZ as Me}from"./pfgfa28h4zko09ji.js";import{S as F,b as Oe,c as Le,N as ke}from"./ik3wpg13eaefz63o.js";import{S as De,b as Re,C as He}from"./dp7anukakiysn97o.js";import{b as We,T as G}from"./d4972kkhqfka6fuz.js";import{c as z,u as j}from"./uum3qt88kgyy5xax.js";import{C as B}from"./ogzotdmqo5dh11k3.js";import{m as f}from"./kye660kh5ct8polq.js";const Ge=l(()=>u(()=>import("./keitruny7xvt8zoi.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23])).then(a=>a.CanvasFocusedViewManager)),ze=l(()=>u(()=>import("./gbv1mw3bawqk30ah.js"),__vite__mapDeps([24,1,2,3,4,5,25,26,27,28,29,11,30])).then(a=>a.SearchResultsModal));function Be({clientThreadId:a,setClientThreadId:s,urlThreadId:t,prefetchSearch:o}){const d=ie();M({clientThreadId:a});const{createNewThread:i,onThreadCreated:m,resetThread:r}=ne({clientThreadId:a,setClientThreadId:s});O({resetThreadAction:r,clientThreadId:a});const h=b();return e.jsxs(L,{clientThreadId:a,children:[e.jsx(k,{clientThreadId:a,urlThreadId:t}),e.jsxs(F,{hideNavigation:d,mobileHeaderContent:e.jsx(We,{clientThreadId:a,inMobileHeader:!0}),mobileHeaderBottomContent:e.jsx(de,{clientThreadId:a}),mobileHeaderLeftContent:e.jsx(Oe,{onNewChatButtonClick:r}),mobileHeaderRightContent:e.jsx(Le,{onNewChatButtonClick:r}),sidebar:e.jsx(ke,{navHeader:a?e.jsx(De,{className:"flex h-[60px] items-center md:h-header-height",onNewThread:i}):null,children:e.jsx(Re,{clientThreadId:a,onNewThread:i})}),threadFlyout:e.jsx(D,{clientThreadId:a}),children:[e.jsx(R,{}),e.jsx(G,{clientThreadId:a,onCreate:m,prefetchSearch:o},a),e.jsxs(F.Sidebars,{children:[h&&e.jsx(Ge,{clientThreadId:a}),e.jsx(H,{clientThreadId:a}),!1]})]}),e.jsx(Ke,{clientThreadId:a})]})}function Ke({clientThreadId:a}){const{value:s}=Y("218782548"),t=ce(),{isOpen:o}=le();return o&&(!t||!s)&&e.jsx(ze,{clientThreadId:a})}const I=450;function $e({children:a,clientThreadId:s,isOpen:t,onClose:o}){const d=W();return e.jsxs(ue,{children:[t&&d&&e.jsx(z,{clientThreadId:s,children:e.jsx(E,{children:e.jsx(y.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(f.div,{className:"h-full w-full bg-token-main-surface-secondary",...x}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx("div",{className:"flex-grow overflow-auto",children:a}),e.jsx(f.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:I},...x,children:e.jsx(B,{hideHeader:!0,hideTools:!0})})]})]})})})}),t&&!d&&e.jsx(E,{children:e.jsx(y.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(f.div,{className:"h-full w-full bg-token-main-surface-secondary",...x}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx("div",{className:"flex-grow overflow-auto",children:a}),e.jsx(f.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:I},...x,children:e.jsx("div",{className:"h-[100vh] pb-4",children:e.jsx(G,{clientThreadId:s,hideHeader:!0,hideFooter:!0,hideToolsOverlay:!0,messagesVerticalAlign:"bottom"},s)})})]})]})})})]})}const Qe=l(()=>u(()=>import("./o3m1gb321autfqsx.js"),__vite__mapDeps([31,1,2,3,4,5]))),Ue=l(()=>u(()=>import("./i8ko6jf8tmaia7ew.js"),__vite__mapDeps([32,1,2,3,4,5,11,33,7,6,8,9,10,12,34,35,36,37,17,38,39,22,40,41,42,43,44,45])).then(a=>a.ImageEditor));function Ye({clientThreadId:a}){const s=he();n.useEffect(()=>{g.close()},[a]);let t;return s?.type===A.ADAVisualization?t=e.jsx(Qe,{clientThreadId:a,visualization:s.visualization}):s?.type===A.Image&&(t=e.jsx(Ue,{clientThreadId:a,messageId:s.messageId,image:s.image,allImages:s.allImages},s.image.asset_pointer)),e.jsx($e,{clientThreadId:a,isOpen:s!=null,onClose:g.close,children:t})}function qe(){const{clientThreadId:a,resetThread:s}=j();return O({resetThreadAction:s,clientThreadId:a}),null}const Je=l(()=>u(()=>import("./keitruny7xvt8zoi.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23])).then(a=>a.CanvasFocusedViewManager));function Xe(){const{focusedObject:a,clientThreadId:s}=j(),t=b();return e.jsx(me,{className:q(w.application,{[w.withFocusedView]:a}),sidebar:e.jsx(He,{}),thread:e.jsx(B,{}),details:e.jsxs(e.Fragment,{children:[t&&e.jsx(Je,{clientThreadId:s}),!1]}),threadExtendedInfo:e.jsx(D,{clientThreadId:s}),debugger:e.jsx(H,{clientThreadId:s}),name:"application-root"})}function Ze(){const{clientThreadId:a,currentModelId:s,isCompanionWindow:t}=j();return e.jsx(xe,{conversationId:a,currentModelId:s,isActiveWindow:!t})}function ea({clientThreadId:a,setClientThreadId:s,urlThreadId:t,prefetchSearch:o}){return M({clientThreadId:a}),e.jsx(z,{clientThreadId:a,setClientThreadId:s,prefetchSearch:o,children:e.jsxs(fe,{children:[e.jsx(Ze,{}),e.jsx(qe,{}),e.jsxs(L,{clientThreadId:a,children:[e.jsx(k,{clientThreadId:a,urlThreadId:t}),e.jsx(R,{}),e.jsx(Xe,{})]})]})})}var aa={};const sa=l(()=>u(()=>import("./ooa5520sfasrql5t.js"),__vite__mapDeps([46,1,2,3,4,5,47])));function ma(a){const{urlThreadId:s,clientThreadId:t,prefetchSearch:o}=a;ra();const d=J(),i=P(),[m]=X(),[r,h]=n.useState(()=>s!==void 0?s:t!==void 0?t:T());s!==void 0&&r!==s&&V.getServerThreadId(r)!==s&&h(s);const K=ge(P());n.useEffect(()=>{s===void 0&&V.getServerThreadId(r)!==void 0&&h(T())},[s,r,K]);const $=be(Ie.workspaceId);b();const Q=W(),{eligible:p,isLoading:C,markAsViewed:v}=je(),S=pe();n.useEffect(()=>{(i.pathname==="/"||i.pathname.startsWith("/c/"))&&Ce({namespace:N.ChatPageLoad})==null&&(ve({namespace:N.ChatPageLoad,opts:{expectedTimingLogs:[{name:"render_model_switcher",expectedInMs:1e4},{name:"render_history_items",expectedInMs:25e3}]}}),Z.addTiming("chatgpt.web.chatPage.mounted"))},[]);const _=Se();n.useEffect(()=>{ee(!0).then(c=>{c.force_login&&_({authType:"login"}),ae.initializeAndGatherData(c),_e.initializeAndGatherData(c),se.initializeAndGatherData(c)})},[_]),n.useEffect(()=>{const c=m.get(Ee)==="true";d!==c&&te.setIsTemporaryChatEnabled(c)},[d,m]),n.useEffect(()=>{i.state?.focusObject&&g.setFocusedObject(i.state.focusObject)},[i.state?.focusObject]),n.useEffect(()=>{!C&&p&&(v(),S())},[p,C,v,S]);const U=Q?ea:Be;return e.jsx(we.Provider,{value:null,children:e.jsx(Pe,{children:e.jsxs(Te,{clientThreadId:r,children:[e.jsx(ye,{clientThreadId:r},$),e.jsx(Ae,{}),e.jsx(Ve,{}),e.jsx(U,{urlThreadId:s,clientThreadId:r,setClientThreadId:h,prefetchSearch:o}),e.jsx(Ye,{clientThreadId:r}),e.jsx(Ne,{clientThreadId:r}),e.jsx(ta,{}),!1,e.jsx(Fe,{})]})})})}function ta(){const a=Me(s=>s.sharingModalThreadId);return a?e.jsx(sa,{serverThreadId:a}):null}function ra(){re({queryKey:["pingEdge"],queryFn:()=>oe.pingEdge(),enabled:!0,staleTime:1/0})}typeof window<"u"&&(window._g=aa.GOKU_SERVICE);export{ma as C,I as F};
//# sourceMappingURL=ht16prizop04prz7.js.map
