import{fV as y,a4 as g,a3 as j,r as i,am as I,t as P,y as l,m as s,fW as F}from"./l2v3dn084awsfmlt.js";import{t as p,a as r,u as w,s as E,C as f,b as S,T as b,g as B}from"./dvpzw3f488g1g0a6.js";import{T as N,C as O}from"./o0rpe95mjiwmnyfh.js";import{T as R}from"./lfe94t90q5mhm7ih.js";import"./gqkv2pz2400wyxy0.js";import"./ic8huh33es9o731f.js";import"./kif8wf4zwfuafdli.js";import"./h5md9utp8lj1zkcz.js";import"./fl70j2ichf3gfv95.js";import"./eriwuepooencux04.js";import"./8kpijjl2jwv6oi5c.js";import"./kfknj9zgk3uticxe.js";import"./ot26nl5i9w3h9j62.js";import"./fzrn137102spawew.js";import"./h5ihu7m46fqzrgfq.js";import"./l3my01bk9bm5kzn3.js";import"./lwvyrsuxr2zhfj78.js";import"./i78bj8aj8g51dolo.js";import"./cim5qe0h50n8oi4b.js";const $=()=>(F(),null);function ee(){const c=y(),[o]=g(),d=j(),C=p(c.conversationId),a=r(o.get("readonly"),!1),h=r(o.get("isFullScreen"),!1),m=r(o.get("header"),!0),T=r(o.get("hideBottomComposer"),!!a),t=p(c.canmoreId),e=C,n=w();i.useEffect(()=>{E({type:f.Textdoc,textdocId:t})},[t]),S(e,{kind:I.PrimaryAssistant});const u=P();if(i.useEffect(()=>(l.retainThread(e),()=>{setTimeout(()=>{u.invalidateQueries({queryKey:["conversation",e]})},0),l.releaseThread(e)}),[e,u]),i.useEffect(()=>{t||d("/")},[t,d]),!t||n?.type!==f.Textdoc)return null;const v=()=>{B().sendMessage({type:O.Close})},x=a&&!m;return s.jsx("div",{className:"h-full w-full overflow-hidden contain-content",children:s.jsx(b,{clientThreadId:e,children:x?s.jsx(R,{textdocId:n.textdocId}):s.jsx(N,{isEmbedded:!0,isFullScreen:h,hideHeader:!m,hideBottomComposer:T,isReadonlyFromQueryParam:a,clientThreadId:e,focusedTextdoc:n,onClose:v},"textdocContent")})})}export{$ as clientLoader,ee as default};
//# sourceMappingURL=ecv4yusupbs27ab5.js.map
