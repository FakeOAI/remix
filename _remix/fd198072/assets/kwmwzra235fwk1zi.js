import{gq as g,e3 as S,dn as v,ee as j,m as e,bo as T,aE as b,fy as x,a5 as I,a9 as y,f$ as E,gr as N,u as P,r as m,dr as f,at as z,bp as w,cy as k,cU as G}from"./o3hxkjnxmrwn1xdu.js";import{C as M}from"./ktlhc4p4l0aht797.js";import{c3 as H,c4 as L,c5 as C,c6 as A,c7 as F,c8 as O,c9 as p,ca as Q,cb as U,cc as D,cd as q,z as R,b as V,ce as K,cf as W,cg as Z,ch as _,D as $}from"./or7edzll6u1n7tqg.js";import{C as B}from"./k20zo7o0widmdhrd.js";import{u as J,a as X}from"./lg6jhnkp12gigisv.js";import{u as Y,C as ee,b as se,c as ae}from"./gggcz08hkm3pdtgq.js";import{C as te}from"./hlc0rdeckp4t63n4.js";import"./hswoxmkd79p95cy5.js";import"./fu7gbjfxu63v72nr.js";import"./eyvt4zwxhbpiy99r.js";import"./glmhuarvogw597ji.js";import"./l07q44668l21rbsd.js";import"./o5cq338duihzgqy6.js";import"./jynx6orsbdw43we8.js";import"./k6fl1etxlnxd3ms4.js";function re(){const{clientThreadId:s,currentModelId:a,conversationLeafId:o,onRequestCompletion:t}=J(),{showEmptyState:u}=Y({clientThreadId:s,currentLeafId:o}),h=H()[a],c=g(s),d=L(),l=S(),r=v()??"",n=C({gizmoId:r,draft:!1}),i=j();return e.jsx(T.Provider,{value:t,children:e.jsx(A,{children:e.jsxs(F,{clientThreadId:s,currentLeafId:o,children:[e.jsx(O,{children:c!=null&&e.jsx("title",{children:c})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(p,{id:"canvas-state",name:"canvas-state",checked:d}),e.jsx(p,{id:"thread-extended-info-sidebar-state",name:"thread-extended-info-sidebar-state",checked:l}),e.jsx(Q,{anchor:"vertical",className:b(x.screen,u&&x.screenEmptyState),name:"thread",leading:i?e.jsx(ee,{}):e.jsx(se,{clientThreadId:s}),trackLeading:!0,children:n.data&&e.jsx("div",{className:"flex h-full w-full",children:e.jsx("div",{className:"h-full flex-grow overflow-y-auto",children:e.jsx("div",{className:"mx-auto max-w-screen-md",children:e.jsx(U,{clientThreadId:s,currentModelConfig:h,children:e.jsx(ae,{})})})})})}),e.jsx(te,{}),e.jsx(D,{})]})]})})})}function Se(){const s=I(),a=y(),{gizmoSlug:o}=E(),t=N(o??""),u=C({gizmoId:t,draft:!1}),h=q(t),c=j(),{isLoading:d}=P("491279851"),l=R();m.useEffect(()=>{!d&&!l&&a("/")},[d,l,a]),m.useEffect(()=>{s!=null&&s.isFree()&&a("/")},[s,a]);const[r,n]=m.useState(()=>f());V(r,{kind:z.GizmoInteraction,gizmo_id:t}),m.useEffect(()=>{n(f())},[t]);let i=e.jsx("div",{className:"flex h-full w-full",children:e.jsx("div",{className:"m-auto",children:e.jsxs("div",{className:"flex justify-center",children:[e.jsx("span",{className:"sr-only","aria-busy":!0,role:"status","aria-live":"polite",children:e.jsx(w,{...K.loadingProjects})}),e.jsx(k,{className:"h-10 w-10 text-token-text-secondary"})]})})});return u.data&&!h.isPending&&(i=e.jsx(re,{})),e.jsx(W,{children:e.jsx(X,{clientThreadId:r,setClientThreadId:n,children:c?e.jsx(Z,{children:e.jsx(_,{className:G.application,sidebar:e.jsx(B,{}),thread:i,debugger:e.jsx($,{clientThreadId:r})})}):e.jsx(M,{clientThreadId:r,setClientThreadId:n,threadContent:i})})})}export{Se as default};
//# sourceMappingURL=kwmwzra235fwk1zi.js.map
