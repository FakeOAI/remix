const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/o5jcbxwy3ae81o7t.js","assets/j2za2a5bh01bf12l.js","assets/jwd9u48bpcglqn07.js","assets/root-k00fc8j4.css","assets/ol4rayecis5vwkrv.js","assets/conversation-small-cll5buey.css","assets/dsfspetclj3qqxnn.js","assets/ijauqsk65ba42v28.js","assets/0nplc8csropx3b2z.js","assets/e1k1bicdxyg64hj7.js","assets/b0u6reko7ueifq6h.js","assets/bdkmoklqtrhgpmvf.js","assets/ozwh34fmdynh510n.js","assets/7eaepxiuvocxcnyo.js","assets/j26at54o4syojj1a.js","assets/qaipf7yc1soqy0c2.js","assets/m4cii9r6055kqapt.js","assets/e9lafxuzyeh4418f.js","assets/lk6j22o1z7pttpyv.js","assets/blqxw2pqkt6pjgnf.js","assets/cov2gprzv7gaab9h.js","assets/f5i51ggqzjqffr5i.js","assets/eoi0n1xvuqe0qhtn.js","assets/l4f0m30aiuvp7yby.js","assets/i86n9ij5suntqro9.js","assets/m2twlw9u4njn6zsf.js","assets/ls786hdtlcilcacl.js","assets/mwzaau3aelrf897a.js","assets/b3pevtcksbr9spm7.js","assets/le3b3d1ssx8mny1v.js","assets/jsahz3ucap8ny7te.js","assets/d5424sabn6rxc9qe.js","assets/bjh6w3kljmhnmjc4.js","assets/b6pnidjg71jjfc8y.js","assets/k2xpo2yjymw2k5d7.js","assets/c9g2xrlbo2th8itc.js","assets/e2glqi21qxv1r6wp.js","assets/k4ml4s27ge59zl9m.js","assets/nvlclcjhpaiu60fu.js","assets/eztlm2gu522sf15z.js","assets/bnmzp5v76md4zjf7.js","assets/jmdekf43fgw3hzb3.js","assets/l2zhqcth3qk1pxd1.js","assets/uuntca0y6o15dvaa.js","assets/fkjuthflzq291mx5.js","assets/mc90gusevcipmjmh.js","assets/kqwdyvkaaavvn8k3.js","assets/bdswuzy9bqi0wtxk.js","assets/h3ophiw6k9ll9azf.js","assets/ocje7wifkbb7682n.js","assets/eml89co1zwgqn32b.js","assets/f4oxc4boo172r0o5.js","assets/ir894pp4krobdxjd.js","assets/d8wa8raxdh7f3yru.js","assets/h412klu9m62jfm8j.js","assets/bvnxiyg6ei7z1ik2.js","assets/m4sa3tkyyxjdd1vu.js","assets/983a0dy92b3ronpv.js","assets/nqscydfic0zj1qvo.js","assets/l0cgvmt5q4fqnass.js","assets/mqn2z1398kb5kvk5.js","assets/elqvopl5dhtqjita.js","assets/m1gagr4rz0s80m0l.js","assets/20ng7i8e80jtceb4.js","assets/b1h4igdx6s66dtnu.js","assets/fwvo607lv68j85pi.js","assets/m49eietbt506h7n8.js","assets/sso-noe0cvrr13u5p74t.js","assets/eflr80kdm7y7wqar.js","assets/lcbiwioh3yks883l.js","assets/e0j71h25qqqqkyic.js","assets/j3ldhqy9n1qxcjk4.js","assets/dv2z9uy26daqq7fc.js","assets/jsav0xnkf9eyqm6n.js","assets/fm78wge7ldw28ghm.js","assets/itghwucfyv5ciib7.js","assets/b9ddvpcto2zp9l2f.js","assets/bmk4r18b290bbyan.js","assets/kyl5hqxoeoswto30.js","assets/fjn3x70dovlipdgx.js","assets/otzpjdnmlkamjl4a.js","assets/nhwwej1nq0zrd7sc.js","assets/dsjjbi8b883irdh2.js","assets/cwh51brt0nmfd4am.js","assets/gjxmyajtw5rmc5s2.js","assets/iz1uloqq5nka38js.js","assets/b7q57o182vawajah.js","assets/e0xq7eh42i6ahiaf.js","assets/iej0cupg2dqkmejt.js","assets/cesvqetgjsnp910q.js","assets/epvvypoxqu0ju28a.js","assets/jk8w36bsokizpx57.js","assets/e9em1bvpgxaogapc.js","assets/nwkf538mb9jsqcpg.js","assets/dn0gol0bsr64n3a7.js","assets/lf7ejcciastcpnty.js","assets/swiper-kmk1dd5x.css","assets/m45vl3zl9i206mcl.js","assets/erjl142fcamo6oxv.js"])))=>i.map(i=>d[i]);
import{t as e,bD as X,b5 as Ee,b6 as Le,b3 as Oe,r,D as W,aU as V,j as De,S as R,P as fe,d as me,a8 as j,ad as z,O as as,a3 as U,ag as Be,ae as ts,a5 as S,a6 as y,aj as Ve,bQ as os,bP as ns,bN as is,aX as rs,a1 as Ie,bx as Fe,by as cs,aa as ls,aA as ds,T as p,aV as us,a as Z,ab as he,bn as gs,dO as q,fd as fs,f9 as ms,cm as Re,ax as hs,af as ps,d5 as w,fl as xs,s as pe,b0 as bs,c_ as Cs,c$ as Ss,d0 as ys,bY as vs,ay as Ms,u as js}from"./j2za2a5bh01bf12l.js";import{j as ks,k as J,T as He}from"./i86n9ij5suntqro9.js";import{i1 as ee,cL as As,i2 as Ge,i3 as We,i4 as ws,i5 as ze,u as _s,i6 as Ns,i7 as Ts,S as Ps,i8 as Es,i9 as Ls,bF as H,ia as Os,ib as Ds,ic as Bs,id as Vs,el as Is,ie as Fs,ig as Rs,ih as Hs,ii as Gs,ij as Ws,ik as zs,il as Us,im as $s,io as Ks,ip as qs,iq as Qs,ir as Ys,is as Xs,it as Zs,iu as Js,iv as ea,cj as se,iw as sa,ix as aa,ex as ta,cV as Ue,cc as Q,f0 as xe,cx as oa,iy as $e,iz as Ke,gC as na,ag as ia,iA as ra,gL as be,fE as ca,bY as Y,bZ as Ce,q as la,c2 as Se,iB as ye,ev as ve,iC as da,iD as Me,dB as m,iE as ua,aH as ga,iF as je,iG as ke,dD as fa,by as ma,iH as ha,iI as pa,fH as xa,iJ as ba,d1 as Ca,c1 as Sa,iK as ya,iL as va,c6 as Ma,c7 as Ae,iM as ja,v as ka,cm as Aa,iN as wa,cn as _a,di as Na,iO as Ta,dj as Pa,iP as Ea}from"./ol4rayecis5vwkrv.js";import{U as g,G as B,u as _,c as qe,d as F,b as La}from"./qaipf7yc1soqy0c2.js";import{T as G,I as Oa,c as Da,d as Ba,m as Va}from"./0nplc8csropx3b2z.js";import{u as Ia}from"./ozwh34fmdynh510n.js";import{L as Fa}from"./7eaepxiuvocxcnyo.js";import{S as we,b as Ra,c as Ha,N as Ga}from"./mqn2z1398kb5kvk5.js";import{u as Qe,a as Wa,g as za}from"./elqvopl5dhtqjita.js";import{S as Ua,C as $a}from"./m1gagr4rz0s80m0l.js";import{b as Ka,f as qa,a as Ye}from"./f5i51ggqzjqffr5i.js";import{u as Qa,q as Ya}from"./l4f0m30aiuvp7yby.js";import{K as Xa}from"./ijauqsk65ba42v28.js";import{m as _e}from"./e1k1bicdxyg64hj7.js";import{a as Za,b as Ne}from"./20ng7i8e80jtceb4.js";import{r as Ja,u as et}from"./bdkmoklqtrhgpmvf.js";import{bE as st,bF as at}from"./jwd9u48bpcglqn07.js";import{C as tt}from"./b1h4igdx6s66dtnu.js";const ot=60*60*24;function nt(s,a=!1){return X()==null||a?"loading":!s||Ee.getCookie(Le.AgeVerification)||s.ageVerificationDeadline==null||s.ageVerificationType==="none"?"hide":"show"}function it({onClose:s}){const{data:{ageVerificationType:a,ageVerificationDeadline:t}={}}=ee();return a==="passive"?e.jsx(rt,{onClose:s}):a==="countdown"&&t!=null?e.jsx(ct,{onClose:s,ageVerificationDeadline:t}):null}const rt=({onClose:s})=>{const{country:a}=Oe();return r.useEffect(()=>{W.addAction("privacy_policy.show_age_verification_modal",{country:a})},[a]),e.jsx(As,{onClose:s,title:"OpenAI 서비스 이용 가능 연령기준을 확인해 주세요",description:e.jsx("div",{className:"whitespace-pre-wrap",children:e.jsxs("p",{children:["ChatGPT를 이용해주셔서 감사합니다. 대한민국의 법령상 요건을 준수하기 위해, OpenAI는 귀하가 OpenAI 서비스를 이용할 수 있는 나이인지 확인하여야 합니다. ChatGPT를 계속 이용하시려면, 귀하가 18세 이상이거나, 14세 이상이고 부모 또는 보호자의 허락을 받았음을 확인해 주세요.",e.jsx("br",{}),e.jsx("br",{}),"OpenAI의 연령기준 미달시"," ",e.jsx("a",{href:"https://privacy.openai.com/policies?action=ERASURE&modal=log-in",className:"underline",target:"_blank",rel:"noreferrer",children:"이 페이지에서 계정을 삭제해 주세요."})]})}),actionButton:e.jsx(V,{color:"primary",onClick:async()=>{await De.updateAgeVerification(),s()},children:"저는 OpenAI의 연령기준을 충족합니다"}),cancelButton:e.jsx(V,{as:"link",color:"secondary",to:"/auth/logout",children:"로그아웃"})})},ct=({onClose:s,ageVerificationDeadline:a})=>{const t=a!=null?Math.floor(a/60/60/24):0;r.useEffect(()=>{R.logEvent("chatgpt_compliance_age_verification_seen"),fe.logEvent(me.complianceAgeVerificationSeen)},[]);const{country:o}=Oe();return r.useEffect(()=>{W.addAction("privacy_policy.show_age_verification_countdown",{country:o})},[o]),e.jsxs(Ge,{children:[e.jsx(We,{className:"text-sm font-semibold [grid-area:_title]",children:e.jsx(j,{...Te.ageVerificationTitle,values:{deadline:t,learnMoreLink:i=>e.jsx("a",{href:"https://help.openai.com/en/articles/8411987-why-am-i-being-asked-to-verify-my-age",target:"_blank",rel:"noreferrer",className:"cursor-pointer font-normal underline",children:i})}})}),e.jsx(ws,{altText:"Dismiss notification",asChild:!0,children:e.jsx(V,{color:"primary",size:"small",onClick:()=>{R.logEvent("chatgpt_compliance_age_verification_clicked"),fe.logEvent(me.complianceAgeVerificationClicked),Ee.setCookie(Le.AgeVerification,"true",{maxAge:ot,path:"/"}),s(),g.openModal(B.AgeVerificationInterstitial)},children:e.jsx(j,{...Te.startVerification})})}),e.jsx(ze,{})]})},Te=z({ageVerificationTitle:{id:"ageVerificationBanner.title-v1",defaultMessage:"Please verify your age in the next {deadline, plural, =0 {# days} one {# day} other {# days}}. We are required to check if you're old enough to use ChatGPT. <learnMoreLink>Learn more</learnMoreLink>."},dismiss:{id:"ageVerificationBanner.dismiss",defaultMessage:"Dismiss"},startVerification:{id:"ageVerificationBanner.startVerification",defaultMessage:"Start verification"},modalTitle:{id:"ageVerificationModal.title",defaultMessage:"Please confirm you meet our age requirements"},modalDescription:{id:"ageVerificationModal.description.1",defaultMessage:"Thank you for using ChatGPT. To comply with legal requirements in Korea, we need to confirm that you’re old enough to use our service. To continue on ChatGPT, please confirm that you are 18+ or are 14+ and have your parent or guardian’s permission to use ChatGPT. <deleteAccountLink>If you do not meet our age requirements, please delete your account.</deleteAccountLink>"},modalLogout:{id:"ageVerificationModal.logOut",defaultMessage:"Log out"},modalAction:{id:"ageVerificationModal.actionButton",defaultMessage:"I meet OpenAI's age requirements"}});function lt({onClose:s}){const a=U(),t=Be(),{openSettings:o}=_s(),i=Ns(),{session:n}=ts(),{data:{isStorageComplianceEnabled:c}={}}=ee(),{data:l,isLoading:x}=Ts({enabled:!!(c&&n),select:u=>!u.cookie_consent.is_required});return r.useEffect(()=>{l===!0&&s()},[l,s]),x?null:e.jsx(dt,{onReject:()=>{i.mutateAsync({analytics_cookies_accepted:!1},{onSuccess(){t.success(a.formatMessage(D.updateSuccess))},onError(){t.danger(a.formatMessage(D.updateFailure))}}),s()},onAccept:()=>{i.mutateAsync({analytics_cookies_accepted:!0},{onSuccess(){t.success(a.formatMessage(D.updateSuccess))},onError(){t.danger(a.formatMessage(D.updateFailure))}}),s()},children:e.jsx(j,{id:"CookieConsentBanner.authedDescription.0",defaultMessage:"We use cookies and similar technologies to deliver, maintain, improve our services and for security purposes. Check our <cookiePolicy>cookie policy</cookiePolicy> for details. Click 'Accept all' to let OpenAI and partners use cookies for these purposes. Click 'Reject all' to say no to cookies, except those that are strictly necessary. Choose <manageLink>manage cookies</manageLink> to change your preferences.",values:{cookiePolicy:u=>e.jsx(Fa,{href:"https://openai.com/policies/cookie-policy",openNewTab:!0,children:u}),manageLink:u=>e.jsx(ut,{onClick:()=>{o(Ps.DataControls)},children:u})}})})}function dt({children:s,onAccept:a,onReject:t}){return r.useEffect(()=>{W.addAction("privacy_policy.show_cookie_consent_banner")},[]),e.jsxs(Ge,{children:[e.jsxs(We,{className:"text-sm font-semibold [grid-area:_title]",children:[s,e.jsxs("div",{className:"mt-2 flex justify-end gap-3",children:[e.jsx(V,{color:"secondary",size:"small",onClick:t,children:e.jsx(j,{...D.reject})}),e.jsx(V,{color:"secondary",size:"small",onClick:a,children:e.jsx(j,{...D.accept})})]})]}),e.jsx(ze,{})]})}const ut=as.button`underline font-normal text-green-600`,D=z({cookieConsentBannerTitle:{id:"CookieConsentBanner.title",defaultMessage:"We use cookies to provide, improve, and protect our services. Visit our <privacyPolicyLink>privacy policy</privacyPolicyLink> to learn more. You can manage your cookie preferences in your <settingsPanel>settings panel</settingsPanel>. <learnMoreLink>Learn more</learnMoreLink>."},reject:{id:"CookieConsentBanner.reject",defaultMessage:"Reject all"},accept:{id:"CookieConsentBanner.accept",defaultMessage:"Accept all"},updateSuccess:{id:"CookieConsentBanner.updateSuccess",defaultMessage:"Your cookie preferences were updated successfully"},updateFailure:{id:"CookieConsentBanner.updateFailure",defaultMessage:"Unable to update cookie preferences. Try again later."}}),gt=S(()=>y(async()=>{const{ModelOnboardingNUXModal:s}=await import("./o5jcbxwy3ae81o7t.js");return{ModelOnboardingNUXModal:s}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])).then(({ModelOnboardingNUXModal:s})=>s),{ssr:!1}),ft=({onClose:s})=>{const a=U(),t=H(se.isBusinessWorkspace),o=H(n=>n.currentWorkspace),i=t?a.formatMessage(Pe.workspaceWelcome,{workspaceName:o?.name}):"ChatGPT";return e.jsx(Fe,{isOpen:!0,onClose:cs,type:"success",title:i,size:"custom",noPadding:!0,className:"max-w-3xl",description:a.formatMessage(Pe.personalOnboardingSubheading),children:e.jsx(sa,{onClose:s,scope:aa.Personal})})};function mt(){const[s,a]=r.useState(0),{hasSeenOnboardingDate:t}=Es(),{hasSeenTeamOwnerOnboardingDate:o}=Ls(),i=H(se.isBusinessWorkspace),n=Ve(),[c,l]=r.useState(!1),{data:x,isPending:u}=ee(),v=nt(x,u),{eligible:k,isLoading:h}=Ia(),T=os(),A=ns(),P=is(),{data:b,isError:M}=rs(),C=b!=null,E=b&&b?.accountItems.length>1&&b.currentAccountId==null,L=b?.accountItems.some(f=>f.isPersonalAccount()),d=!!b?.accountItems&&b.accountItems.length>0&&b.accountItems.every(({canAccessWithCurrentSession:f})=>!f),{eligible:N,isLoading:I}=Os(),{value:ae}=Ie("1542198993"),{punchOutRequireLoginInfo:te}=Ds(),{state:oe}=Bs(),{isOpen:ne,isLoading:ie}=Vs(),{isOpen:re,isLoading:ce}=Is(),{isOpen:le,isLoading:de}=Fs(),{state:ue}=Rs(),O=r.useMemo(()=>[{Component:Hs,getModalState:()=>te?"show":"hide",isDeferrable:!1},{Component:Gs,getModalState:()=>oe,isDeferrable:!1},{Component:Ws,getModalState:()=>ue,isDeferrable:!1},{Component:zs,getModalState:()=>ie?"loading":ne?"show":"hide",isDeferrable:!1},{Component:Us,getModalState:()=>de?"loading":le?"show":"hide",isDeferrable:!1},{Component:ft,getModalState:()=>i?"hide":t===null?"loading":t===!1?"show":"hide",isDeferrable:!0},{Component:$s,getModalState:()=>M?"hide":E?"show":C?"hide":"loading",isDeferrable:!1},{Component:Ks,getModalState:()=>T!==null?"show":M||C?"hide":"loading",isDeferrable:!1},{Component:qs,getModalState:()=>A!==null?"show":M||C?"hide":"loading",isDeferrable:!1},{Component:Qs,getModalState:()=>P!=null?"show":M||C?"hide":"loading",isDeferrable:!1},{Component:Ys,getModalState:()=>C?d?"show":"hide":"loading",isDeferrable:!1},{Component:Xs,getModalState:()=>ce?"loading":re?"show":"hide",isDeferrable:!1},{Component:lt,getModalState:()=>"hide",isDeferrable:!1},{Component:Zs,getModalState:()=>!n?.isTeam()||!n?.isOwnerOfAccount()||!L?"hide":!C||o===null?"loading":o===!1?"show":"hide",isDeferrable:!1},{Component:Js,getModalState:()=>i?t===null?"loading":t===!1?"show":"hide":"hide",isDeferrable:!0},{Component:ea,getModalState:()=>I?"loading":N&&ae?"show":"hide",isDeferrable:!1},{Component:it,getModalState:()=>v,isDeferrable:!1},{Component:gt,getModalState:()=>h?"loading":k?"show":"hide",isDeferrable:!0,expiresAt:new Date(2024,7,13)}].filter(f=>!(f.isDeferrable&&c)&&(!f.expiresAt||f.expiresAt.getTime()>Date.now())),[te,oe,P,C,t,o,L,h,i,M,T,A,n,d,E,v,k,c,ae,N,I,ne,ie,le,de,ue,ce,re]);r.useEffect(()=>{if(O[s]&&O[s].getModalState()==="hide"){const f=O.findIndex(ss=>ss.getModalState()!=="hide");a(f)}},[s,O]);const $=O[s],K=$?.getModalState()==="show";if(r.useEffect(()=>{const f=_.getState().activeModals.has(B.BlockingInitialComponent);K!==f&&(K?g.openModal(B.BlockingInitialComponent):g.closeModal(B.BlockingInitialComponent))},[K]),$==null)return e.jsx("span",{"data-testid":"blocking-initial-modals-done",className:"hidden"});const ge=$.getModalState();if(ge==="loading")return null;ge==="hide"&&a(f=>f+1);const es=O[s].Component;return e.jsx(es,{onClose:()=>{l(!0),a(f=>f+1)}})}const Pe=z({workspaceWelcome:{id:"BlockingInitialModals.workspaceWelcome",defaultMessage:"Welcome to the {workspaceName} workspace"},personalOnboardingSubheading:{id:"BlockingInitialModals.personalOnboardingSubheading",defaultMessage:"Tips for getting started"}}),ht=S(()=>y(()=>import("./j26at54o4syojj1a.js"),__vite__mapDeps([14,1,2,3,8,4,5,9,7,10,11,15,16,17,18,19,20,21,22,23,24,25,12,13,26,27,28,29,30,31,6,32,33,34,35,36,37,38,39,40,41,42,43])).then(s=>s.DebugConversationSidebar));function Xe({clientThreadId:s}){pt();const a=X(),t=a?.includes("debug"),o=ls(),i=_(c=>c.activeSidebar),n=a?.includes("debug")&&i==="debug";return!t||!n?null:e.jsx(ht,{clientThreadId:s,slideOver:!ta(o),onClose:()=>g.toggleActiveSidebar("debug"),isOpen:!0})}function pt(){const a=X()?.includes("debug");r.useEffect(()=>{if(!a)return;const t=new AbortController;return document.addEventListener("keydown",o=>{o.target instanceof HTMLElement&&["input","textarea","select","button"].includes(o.target.tagName.toLowerCase())||o.key==="\\"&&g.toggleActiveSidebar("debug")},{signal:t.signal}),()=>{t.abort()}},[a])}const xt=S(()=>y(()=>import("./fkjuthflzq291mx5.js"),__vite__mapDeps([44,1,2,3,4,5,45,8,9,46,47,7,10,48])).then(s=>s.SearchSources));function bt({clientThreadId:s}){const{resolvedTheme:a}=ds(),t=a==="dark",{turnIndex:o,messageId:i,isOpen:n}=qe(),c=r.useCallback(()=>{g.closeChatThreadFlyout(s)},[s]);return!i||!o||!n?null:e.jsx(Ue,{anchor:"top",className:p("relative flex-1 border-l",t?"border-l-token-border-medium":"border-l-token-border-xlight"),name:"threadFlyOut",leading:e.jsx(Q,{name:"search-sources-header",type:"primary",className:p("flex min-h-[56px] items-center justify-end !bg-transparent p-1.5"),children:e.jsx("div",{className:"bg-token-main-surface-primary p-1",children:e.jsx(us,{onClick:c})})}),children:e.jsx(xt,{clientThreadId:s,turnIndex:o,messageId:i,isInSidebar:!0})})}function Ze({clientThreadId:s}){r.useEffect(()=>{g.closeSharingModal()},[s]);const a=Z();r.useEffect(()=>(G.retainThread(s),()=>{setTimeout(()=>{a.invalidateQueries({queryKey:["conversation",s]})},0),G.releaseThread(s)}),[s,a]),r.useEffect(()=>()=>{R.checkGate("3922476776")||xe.abortAllRequests()},[s]);const t=r.useRef(s);r.useEffect(()=>{s!==t.current&&(R.checkGate("3922476776")||xe.clear(),t.current=s)},[s])}function Je({clientThreadId:s,setClientThreadId:a}){const t=Z(),o=oa(),i=o?{kind:he.GizmoInteraction,gizmo_id:o}:{kind:he.PrimaryAssistant};Qa(s,i);const n=gs(),c=Xa(s),l=r.useRef(c);l.current=c;const x=Oa(s),u=r.useCallback(()=>{a(q());const h=l.current;n(h.tags.includes(fs.GPT_4)?"/":`/?model=${h.id}`,{replace:!0})},[a,n]),v=ks({clientThreadId:s,location:"Model switcher menu item"}),k=r.useCallback(h=>{x||Ya(n,t,h)},[t,n,x]);return{createNewThread:v,onThreadCreated:k,resetThread:u}}const Ct=S(()=>y(()=>import("./ocje7wifkbb7682n.js"),__vite__mapDeps([49,1,2,3,4,5,23,24,7,8,9,10,25,12,13,26,15,27,28,29,30,11,31,6,50,51,52,53,54,18,55])).then(s=>s.CanvasFocusedViewManager)),St=S(()=>y(()=>import("./m4sa3tkyyxjdd1vu.js"),__vite__mapDeps([56,1,2,3,15,10,8,4,5,9,44,45,46,47,7,48,57])).then(s=>s.SearchResultsModal));function yt({clientThreadId:s,setClientThreadId:a,urlThreadId:t,prefetchSearch:o}){const i=Da();Ze({clientThreadId:s});const{createNewThread:n,onThreadCreated:c,resetThread:l}=Je({clientThreadId:s,setClientThreadId:a});Qe({resetThreadAction:l,clientThreadId:s});const x=J(s);return e.jsxs(He,{clientThreadId:s,children:[e.jsx($e,{clientThreadId:s,urlThreadId:t}),e.jsxs(we,{hideNavigation:i,mobileHeaderContent:e.jsx(Ka,{clientThreadId:s,inMobileHeader:!0}),mobileHeaderBottomContent:e.jsx(qa,{clientThreadId:s}),mobileHeaderLeftContent:e.jsx(Ra,{onNewChatButtonClick:l}),mobileHeaderRightContent:e.jsx(Ha,{onNewChatButtonClick:l}),sidebar:e.jsx(Ga,{navHeader:s?e.jsx(Ua,{className:"flex h-[60px] items-center md:h-header-height",onNewThread:n}):null,children:e.jsx($a,{clientThreadId:s,onNewThread:n})}),threadFlyout:e.jsx(bt,{clientThreadId:s}),children:[e.jsx(Ke,{}),e.jsx(Ye,{clientThreadId:s,onCreate:c,prefetchSearch:o},s),e.jsxs(we.Sidebars,{children:[x&&e.jsx(Ct,{clientThreadId:s}),e.jsx(Xe,{clientThreadId:s}),!1]})]}),e.jsx(vt,{clientThreadId:s})]})}function vt({clientThreadId:s}){const{value:a}=Ie("218782548"),t=na(),{isOpen:o}=qe();return o&&(!t||!a)&&e.jsx(St,{clientThreadId:s})}const Mt=450;function jt({children:s,clientThreadId:a,isOpen:t,onClose:o}){return e.jsx(ia,{children:t&&e.jsx(ms,{children:e.jsx(ra.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(_e.div,{className:"h-full w-full bg-token-main-surface-secondary",...be}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx("div",{className:"flex-grow overflow-auto",children:s}),e.jsx(_e.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:Mt},...be,children:e.jsx("div",{className:"h-[100vh] pb-4",children:e.jsx(Ye,{clientThreadId:a,hideHeader:!0,hideFooter:!0,hideToolsOverlay:!0,messagesVerticalAlign:"bottom"},a)})})]})]})})})})}const kt=S(()=>y(()=>import("./nqscydfic0zj1qvo.js"),__vite__mapDeps([58,1,2,3,4,5,23,24,7,8,9,10,25,12,13,26,15,27,28,29,30,11,31,6]))),At=S(()=>y(()=>import("./l0cgvmt5q4fqnass.js"),__vite__mapDeps([59,1,2,3,4,5,39,23,24,7,8,9,10,25,12,13,26,15,27,28,29,30,11,31,6,60,41,61,62,63,21,22,32,33,34,35,36,37,38,40,42,43,64])).then(s=>s.ImageEditor));function wt({clientThreadId:s}){const a=ca();r.useEffect(()=>{Y.close()},[s]);let t;return a?.type===Ce.ADAVisualization?t=e.jsx(kt,{clientThreadId:s,visualization:a.visualization}):a?.type===Ce.Image&&(t=e.jsx(At,{clientThreadId:s,messageId:a.messageId,image:a.image,allImages:a.allImages},a.image.asset_pointer)),e.jsx(jt,{clientThreadId:s,isOpen:a!=null,onClose:Y.close,children:t})}const _t=()=>{const s=U(),a=_(n=>n.activeModals.has(B.KeyboardActions)),t=()=>{g.closeModal(B.KeyboardActions)},o=Wa(),i=r.useMemo(()=>{const n=Math.ceil(o.length/2);return[o.slice(0,n),o.slice(n)]},[o]);return e.jsx(Fe,{isOpen:a,onClose:t,type:"success",size:"custom",className:"md:max-w-[672px] lg:max-w-[796px] xl:max-w-4xl",showCloseButton:!0,title:s.formatMessage(Pt.keyboardActionsModalTitle),children:e.jsx(e.Fragment,{children:e.jsx("div",{className:"grid grid-flow-row grid-cols-[repeat(auto-fit,minmax(250px,1fr))] gap-x-9",children:i.map((n,c)=>e.jsx("div",{className:"flex flex-col overflow-hidden",children:n.map(l=>e.jsx(Nt,{action:l},l.key))},`col-${c}`))})})})},Nt=({action:s})=>e.jsxs("div",{className:"flex items-center justify-between overflow-hidden text-token-text-primary",children:[e.jsx("div",{className:"flex flex-shrink items-center overflow-hidden text-sm",children:e.jsx("div",{className:"truncate",children:e.jsx(j,{...s.actionMessageDescriptor})})}),e.jsx("div",{className:"ml-3 flex flex-row gap-2",children:za(s.keyboardBinding).map((a,t)=>e.jsx(Tt,{keyName:a},`${s.key}-${t}`))})]}),Tt=({keyName:s})=>{const a=p("my-2 flex h-8 items-center justify-center rounded-md border border-token-border-light capitalize text-token-text-secondary");return s.length>1?s.length>3?e.jsx("div",{className:p(a,"min-w-[50px]"),children:e.jsx("span",{className:"text-xs",children:s})}):e.jsx("div",{className:p(a,"min-w-[32px]"),children:e.jsx("span",{className:"text-xs",children:s})}):e.jsx("div",{className:p(a,"min-w-[32px]"),children:e.jsx("span",{className:"text-sm",children:s})})},Pt=z({keyboardActionsModalTitle:{id:"KeyboardActionsModal.keyboardActionsModalTitle",defaultMessage:"Keyboard shortcuts"}});function Et(){const s=Z(),[a,t]=r.useState(!1);return e.jsxs("div",{className:"p-3 text-center italic text-token-text-tertiary",children:[e.jsx(j,{id:"p9u9Tx",defaultMessage:"Unable to load history"}),!a&&e.jsx("div",{className:"mt-1",children:e.jsx(V,{as:"button",color:"primary",size:"small",className:"m-auto mt-2",onClick:()=>{t(!0),Ja(s)},children:e.jsx(j,{id:"3NKcIv",defaultMessage:"Retry"})})})]})}function Lt({clientThreadId:s}){const a=Ba(s),t=Re(),{isCollapsible:o,recentConversationLimit:i}=Za(),{conversations:n,buckets:c,hasNextPage:l,fetchNextPage:x,isLoading:u,isFetchingNextPage:v,isError:k,recents:h}=et({buckets:o,recentConversationLimit:i}),T=t?void 0:a,A=_(d=>d.isHistoryCollapsed),P=A&&h.items.length>0,b=!A&&c.length>0,M=n.length===0,C=!k&&(M||u||v);r.useMemo(()=>{la.publish({kind:"refreshHistory",conversations:n})},[n]);const[E]=Se({onChange:d=>{r.startTransition(async()=>{d&&l&&await x()})}}),[L]=Se({onChange:d=>{r.startTransition(()=>{g.setHistoryShowMoreVisible(d)})}});return e.jsxs(e.Fragment,{children:[C&&e.jsx(hs,{className:"sticky top-4 z-30 mt-4 justify-self-center"}),k&&M&&!C&&e.jsx(Et,{}),P&&e.jsx(ye,{header:h.label,children:h.items.map((d,N)=>e.jsx(Ne,{item:d,isActive:d.id===T,testId:`history-item-${N}`},d.id))}),b&&c.map(d=>e.jsx(ye,{header:d.label,children:d.items.map((N,I)=>e.jsx(Ne,{item:N,isActive:N.id===T,testId:`history-item-${I}`},N.id))},d.key)),o&&e.jsxs("div",{className:"-ml-2 mb-5",children:[e.jsx("div",{className:p(!A&&"hidden"),children:e.jsx(ve,{type:"more",onClick:g.toggleHistoryCollapsed})}),e.jsx("div",{className:p(A&&"hidden"),ref:L,children:e.jsx(ve,{type:"less",onClick:g.toggleHistoryCollapsed})})]}),l&&!v&&e.jsx("div",{className:"pointer-events-none absolute bottom-8 h-4 w-4","data-testid":"infinite-scroll-trigger",inert:!0,ref:E})]})}const Ot=S(()=>y(()=>import("./fwvo607lv68j85pi.js"),__vite__mapDeps([65,1,2,3,4,5,35,7,8,9,10,15,62,25,63,11,6,61,24,12,13,26,27])).then(s=>s.GizmoSidebarList));function Dt({clientThreadId:s}){const a=Ve(),t=Va(s),{isUnauthenticated:o}=ps();return o?null:e.jsxs("div",{className:p(w.screenContent),children:[null,e.jsx(Lt,{clientThreadId:s}),a?.canInteractWithGizmos()?e.jsx(Ot,{currentGizmoId:t}):null]})}const Bt=S(()=>y(()=>import("./m49eietbt506h7n8.js"),__vite__mapDeps([66,1,2,3,4,5,24,7,8,9,10,25,12,13,26,15,27,60,41])).then(s=>s.UserProfileBar),{ssr:!0});function Vt(){const s=_(F.isGptListVisible),a=_(F.isHistoryShowMoreVisible),t=_(F.isHistoryCollapsed),o=_(F.isGptListCollapsed),i=r.useCallback(()=>{t||g.toggleHistoryCollapsed(),o&&g.toggleGptListCollapsed()},[t,o]),n=[];return!t&&!a&&n.push(e.jsx(Me,{onClick:g.toggleHistoryCollapsed,children:e.jsx(j,{id:"1poXLj",defaultMessage:"See less"})},"see-less")),s||n.push(e.jsx(Me,{onClick:i,children:e.jsx(j,{id:"DnQZfo",defaultMessage:"See GPTs"})},"see-gpt")),e.jsxs(da,{className:p(w.screenTrailingBarContainer),children:[n,e.jsx(Bt,{})]})}const It=S(()=>y(()=>import("./sso-noe0cvrr13u5p74t.js").then(s=>s.f),__vite__mapDeps([67,1,2,3,23,4,5,24,7,8,9,10,25,12,13,26,15,27,28,29,30,11,31,6,68,69,70,71,72,73,74,75,76,77,78,57,43,45,46,47,79,80,16,17,18,19,81,82,61,35,83,38,84,85,86,87,88,89,90,91,36,42,92,93,63,94,95,96])).then(s=>s.FannyPackIconButton),{ssr:!1});function Ft({onNewThread:s}){const a=U(),t=!La(),[o,i]=r.useState(t?m.Pinned:m.Closed);ua({checkElement:l=>l?.tagName==="NAV",enabled:o===m.Floating,onLightDismiss(){i(m.Closed),g.toggleDesktopNavCollapsed(!0)}});const{isFannyPackEnabled:n}=ga(),c=r.useRef(null);return e.jsxs(e.Fragment,{children:[e.jsxs(Q,{type:"primary",className:p(w.screenHeader),children:[e.jsxs("div",{className:"mt-[3px] flex min-h-[var(--screen-thread-header-min-height)] w-full flex-1 items-center justify-between pl-[9px]",children:[e.jsxs("div",{className:"grid items-center gap-1",children:[e.jsx(je,{inputRef:c,className:p(w.closeSidebarAction),checked:o===m.Closed,onClick:l=>{o===m.Pinned?(l.preventDefault(),ke({css:ha,update:()=>{i(m.Closed),g.toggleDesktopNavCollapsed(!0)}})):(i(m.Closed),g.toggleDesktopNavCollapsed(closed))},icon:e.jsx(fa,{}),label:a.formatMessage({id:"fM0vj3",defaultMessage:"Close Sidebar"}),group:"sidebar",value:m.Closed}),e.jsx("input",{className:"sr-only",checked:o===m.Floating,id:"sidebar-floating",onChange:l=>{l.currentTarget.checked&&i(m.Floating)},name:"sidebar",type:"radio",value:m.Floating})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:w.togglePinWrapper,children:e.jsx(je,{className:p(w.pinSidebarAction),checked:o===m.Pinned,onClick:l=>{l.preventDefault(),ke({css:pa,update:()=>{g.toggleDesktopNavCollapsed(!1),i(m.Pinned),c.current?.focus()}})},icon:e.jsx(st,{}),label:a.formatMessage({id:"JZfuR3",defaultMessage:"Toggle Sidebar Pin"}),group:"sidebar",value:m.Pinned})}),n&&e.jsx(It,{className:w.searchAction,icon:e.jsx(at,{className:"h-5 w-5"})})]})]}),e.jsx(ma,{onNewThread:s})]}),e.jsx(Q,{type:"primary",className:w.bucketBar,disableSizeTracking:!0,children:" "})]})}function Rt({clientThreadId:s,onNewThread:a}){return e.jsx(Ue,{anchor:"top",className:p(w.screen,"popover flex-1 border-r border-r-token-border-xlight"),name:"sidebar",leading:e.jsx(Ft,{onNewThread:a}),trackLeading:!0,trailing:e.jsx(Vt,{}),children:e.jsx(Dt,{clientThreadId:s})})}const Ht=S(()=>y(()=>import("./ocje7wifkbb7682n.js"),__vite__mapDeps([49,1,2,3,4,5,23,24,7,8,9,10,25,12,13,26,15,27,28,29,30,11,31,6,50,51,52,53,54,18,55])).then(s=>s.CanvasFocusedViewManager));function Gt({clientThreadId:s,setClientThreadId:a,urlThreadId:t}){Ze({clientThreadId:s});const{createNewThread:o,onThreadCreated:i,resetThread:n}=Je({clientThreadId:s,setClientThreadId:a});Qe({resetThreadAction:n,clientThreadId:s});const c=J(s);return e.jsxs(He,{clientThreadId:s,children:[e.jsx($e,{clientThreadId:s,urlThreadId:t}),e.jsx(Ke,{}),e.jsx(xa,{className:xs.application,sidebar:e.jsx(Rt,{clientThreadId:s,onNewThread:o}),thread:e.jsx(tt,{clientThreadId:s,onNewThread:o,onThreadCreated:i}),details:c&&e.jsx(Ht,{clientThreadId:s}),debugger:e.jsx(Xe,{clientThreadId:s})})]})}var Wt={};const zt=S(()=>y(()=>import("./m45vl3zl9i206mcl.js"),__vite__mapDeps([97,1,2,3,4,5,23,24,7,8,9,10,25,12,13,26,15,27,28,29,30,11,31,6,98])));function go(s){const{urlThreadId:a,clientThreadId:t,prefetchSearch:o}=s,i="serviceStatus"in s?s.serviceStatus:null;$t();const n=Re(),c=pe(),[l]=bs(),x=Be(),[u,v]=r.useState(()=>a!==void 0?a:t!==void 0?t:q());a!==void 0&&u!==a&&G.getServerThreadId(u)!==a&&v(a);const k=ba(pe());r.useEffect(()=>{a===void 0&&G.getServerThreadId(u)!==void 0&&v(q())},[a,u,k]);const h=Ca(),T=H(se.workspaceId);J(u);const A=Sa(),{eligible:P,isLoading:b,markAsViewed:M}=ya(),C=va();r.useEffect(()=>{(c.pathname==="/"||c.pathname.startsWith("/c/"))&&Ma({namespace:Ae.ChatPageLoad})==null&&(ja({namespace:Ae.ChatPageLoad,opts:{expectedTimingLogs:[{name:"render_model_switcher",expectedInMs:1e4},{name:"render_history_items",expectedInMs:25e3}]}}),W.addTiming("chatgpt.web.chatPage.mounted"))},[]);const E=ka();r.useEffect(()=>{Cs(!0).then(d=>{d.force_login&&E({authType:"login"}),Ss.initializeAndGatherData(d),Aa.initializeAndGatherData(d),ys.initializeAndGatherData(d)})},[E]),r.useEffect(()=>{i?.type&&h===!1&&x.warning(i.message,{hasCloseButton:!0,duration:5})},[h,i?.message,i?.type,x]),r.useEffect(()=>{const d=l.get(wa)==="true";n!==d&&vs.setIsTemporaryChatEnabled(d)},[n,l]),r.useEffect(()=>{c.state?.focusObject&&Y.setFocusedObject(c.state.focusObject)},[c.state?.focusObject]),r.useEffect(()=>{!b&&P&&(M(),C())},[P,b,M,C]);const L=A?Gt:yt;return e.jsx(Ms.Provider,{value:null,children:e.jsx(_a,{children:e.jsxs(Na,{clientThreadId:u,children:[e.jsx(mt,{},T),e.jsx(_t,{}),e.jsx(Ta,{}),e.jsx(L,{urlThreadId:a,clientThreadId:u,setClientThreadId:v,prefetchSearch:o}),e.jsx(wt,{clientThreadId:u}),e.jsx(Pa,{clientThreadId:u}),e.jsx(Ut,{}),!1,e.jsx(Ea,{})]})})})}function Ut(){const s=_(a=>a.sharingModalThreadId);return s?e.jsx(zt,{serverThreadId:s}):null}function $t(){js({queryKey:["pingEdge"],queryFn:()=>De.pingEdge(),enabled:!0,staleTime:1/0})}typeof window<"u"&&(window._g=Wt.GOKU_SERVICE);export{go as C,Mt as F};
//# sourceMappingURL=njrpqj52r2qxij4w.js.map
