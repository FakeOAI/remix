const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ls8mpwezbbtf8jk8.js","assets/owmtarjkip3g0mo9.js","assets/fnymri4mf6jyaz3i.js","assets/root-pepj1ul4.css","assets/p0qbs8ed6703vk8m.js","assets/conversation-small-cll5buey.css","assets/eginj6z8uasx37x1.js","assets/hzd4azjp1sup46gu.js","assets/droaets0od8jpc6n.js","assets/iirjc7afkn5517b8.js","assets/cgyfykmydmpjrpi7.js","assets/dl8cedm3jpvrr6bw.js","assets/dl28ex847kmyat8v.js","assets/ghzy5fxshaor36y6.js","assets/ifiw2126vrhvqw49.js","assets/icdup3ihayx42n7n.js","assets/hmju1lmzagkofna5.js","assets/ojyhlyemsbyte04r.js","assets/ipaubr284dy2tmrm.js","assets/ckfvrne3gd9wt5x6.js","assets/mgetw8x3yg6hqzom.js","assets/ke36y0mjbek16f6j.js","assets/bezqa5i2bcei4xw5.js","assets/mrv9t6onpslh24fy.js","assets/bly74wmq5i79h6nr.js","assets/jwkw1fjg6dmg1xro.js","assets/bstbto6htrfx2n79.js"])))=>i.map(i=>d[i]);
import{a0 as I,y as e,ae as g,$ as E,r,P as V,d as U,a1 as G,L as W,a4 as b,a6 as $,a9 as q,j as X,dY as K,aE as Y,aw as w,aA as Q,ab as M,ac as C,ag as J,eW as Z,as as ee,ak as se,ci as te}from"./owmtarjkip3g0mo9.js";import{df as u,L as m,dh as A,dB as D,bV as ne,eK as ae,bS as oe,b$ as ie,eL as re,eM as ce,bW as le,bX as de,eN as ue,br as me,bR as fe,eO as xe,bf as he}from"./p0qbs8ed6703vk8m.js";import{q as pe,ab as ge,b4 as be,b5 as Se}from"./fnymri4mf6jyaz3i.js";import{B as ve,D as ye}from"./hmju1lmzagkofna5.js";import{c as L,d as B,a as O,U as T}from"./icdup3ihayx42n7n.js";import{m as Ne}from"./iirjc7afkn5517b8.js";import{d as je,k as we}from"./droaets0od8jpc6n.js";import{u as Te,H as Pe}from"./bstbto6htrfx2n79.js";import{a as ke,r as Ie}from"./dl8cedm3jpvrr6bw.js";import{j as Ee}from"./ckfvrne3gd9wt5x6.js";function H(){const{activeModals:s}=L(),t=E(),n=u(m.ExploreGPTs),a=u(m.ExploreGPTsNewNux),i=B(),o=O(),l=D(),f=n.eligible&&!n.isLoading&&!o;let c=a.eligible&&!a.isLoading&&!o&&!i&&!l;return s.size>0&&(c=!1),!f&&t?.hasPlusFeatures()&&(c=!1),r.useEffect(()=>{c&&V.logEvent(U.storeDisplayNewNux)},[c]),c}function Ye({children:s}){const t=H(),n=I(),a=u(m.ExploreGPTsNewNux);return t?e.jsx(A,{side:"right",show:!0,title:n.formatMessage(P.exploreGPTsTitle),onDismiss:a.markAsViewed,sideOffset:20,theme:"bright",description:e.jsx(g,{...P.exploreGPTsDescriptionNewNux}),children:s}):e.jsx(e.Fragment,{children:s})}const P=G({exploreGPTsTitle:{id:"gptExploreGPTs.title",defaultMessage:"Explore GPTs"},exploreGPTsDescription:{id:"gptExploreGPTs.description",defaultMessage:"Now you can discover GPTs created by the community"},exploreGPTsDescriptionNewNux:{id:"gptExploreGPTs.descriptionNewNux",defaultMessage:"Discover custom versions of ChatGPT created for specific use cases like writing, research, and coding."}});function Ge(){const s=u(m.SonicSidebar),[t,n]=r.useState(!1);return s.isLoading||!s.eligible?null:e.jsx(Ne.div,{className:"no-draggable group pb-0",whileTap:{scale:.98},children:e.jsx(Ce,{children:e.jsx(ne,{href:"/search",target:"_blank",icon:e.jsx("div",{className:b("gizmo-shadow-stroke mr-[0.5] flex h-[18px] w-[18px] items-center justify-center rounded-full bg-token-main-surface-primary align-middle text-token-text-primary"),children:e.jsx(ae,{})}),label:"SearchGPT",hoverRightIcon:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(Ae,{isOpen:t,setIsOpen:n,onDismiss:()=>s.markAsViewed()}),e.jsx(pe,{className:b("icon-md text-token-text-tertiary",!t&&"invisible group-hover:visible")})]}),isMenuOpen:!1,loggingGizmoId:"search-gpt-sidebar"})})})}function Me(){const s=O(),t=u(m.hasSeenSncSidebarTooltip),n=H(),a=B(),{activeModals:i}=L(),o=D();return!t.isLoading&&t.eligible&&!n&&i.size===0&&!s&&!a&&!o}function Ce({children:s}){const t=Me(),n=u(m.hasSeenSncSidebarTooltip);return t?e.jsx(A,{side:"right",show:!0,badge:"new",title:"Try SearchGPT",onDismiss:n.markAsViewed,sideOffset:10,theme:"bright",description:"You're in. Get answers with real-time information from relevant sources, and ask follow-up questions.",children:e.jsx("div",{className:"w-full",children:s})}):e.jsx(e.Fragment,{children:s})}function Ae({isOpen:s,setIsOpen:t,onDismiss:n}){return e.jsx(ve,{open:s,onOpenChange:t,triggerButton:e.jsx("button",{className:b("flex text-token-text-tertiary",s?"":"invisible group-hover:visible"),onClick:a=>{a.preventDefault()},children:e.jsx(ge,{className:"icon-md"})}),children:e.jsx(ye.Item,{onClick:a=>{a.preventDefault(),n()},children:e.jsx(g,{id:"sidebar.hideFromSidebar",defaultMessage:"Hide from sidebar"})})})}function De(){const s=W("114024");return!s.value||s.isLoading?null:e.jsx(Ge,{})}const k=G({unableToLoadHistory:{id:"history.unableToLoad",defaultMessage:"Unable to load history"},retryButton:{id:"history.retryButton",defaultMessage:"Retry"}});function Le({activeId:s,isPrimaryBackgroundColor:t}){const n=X(),[a,i]=r.useState(!1),[o,l]=r.useState(0),f=K(),y=oe(),{conversations:c,hasNextPage:S,fetchNextPage:N,isLoading:x,isFetchingNextPage:_,isError:j}=ke(),h=r.useRef(null),z=r.useCallback(p=>{x||p==null||(h.current?.disconnect(),h.current=new IntersectionObserver(F=>{F[0].isIntersecting&&S&&N()}),h.current.observe(p))},[x,S,N]);r.useEffect(()=>()=>{h.current?.disconnect()},[]),r.useMemo(()=>{ie.publish({kind:"refreshHistory",conversations:c})},[c]);const v=c;r.useEffect(()=>{const p=re(ce(),Date.now());f(()=>{l(o+1)},p+1e3)},[o,f]);const d=v.length===0;r.useEffect(()=>{d||le({namespace:de.ChatPageLoad})?.logTiming("render_history_items")},[d]);const R=Te(v,o);return e.jsxs(Oe,{$centered:x||j||d,$screenArch:y,children:[d&&x&&e.jsx(Y,{children:e.jsx(w,{className:"m-auto"})}),d&&j&&e.jsxs("div",{className:"p-3 text-center italic text-token-text-tertiary",children:[e.jsx(g,{...k.unableToLoadHistory}),!a&&e.jsx("div",{className:"mt-1",children:e.jsx(Q,{as:"button",color:"primary",size:"small",className:"m-auto mt-2",onClick:()=>{i(!0),Ie(n)},children:e.jsx(g,{...k.retryButton})})})]}),!x&&!d&&e.jsx("div",{children:e.jsx(Pe,{activeId:s,bucketedItems:R,hasNextPage:S,items:v,isPrimaryBackgroundColor:t,infiniteScrollTriggerElementRef:z})}),_&&e.jsx("div",{className:"m-4 mb-5 flex justify-center",children:e.jsx(w,{})})]})}const Be=$.memo(Le),Oe=q.div`flex flex-col gap-2 text-token-text-primary text-sm 
${({$centered:s,$screenArch:t})=>[s&&"h-full justify-center items-center empty:hidden",!t&&"mt-5 pb-2"]}`,He=M(()=>C(()=>import("./ls8mpwezbbtf8jk8.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16])).then(s=>s.FannyPackAction)),_e=M(()=>C(()=>import("./ojyhlyemsbyte04r.js"),__vite__mapDeps([17,1,2,3,18,13,4,5,8,9,14,15,16,19,11,12,20,21,22,23,24,25,26,10])).then(s=>s.GizmoSidebarList));function Qe({clientThreadId:s,onNewThread:t}){const n=je(s),a=E(),{isUnauthenticated:i}=se(),o=we(s),l=te();return i?null:e.jsxs(e.Fragment,{children:[e.jsx(he,{onNewThread:t}),a?.canInteractWithGizmos()?e.jsx(_e,{currentGizmoId:o}):e.jsx(De,{}),!1,!i&&e.jsx(Be,{activeId:l?void 0:n})]})}function Je({className:s,onNewThread:t}){const n=I(),a=J(),i=ue(),o=Z(()=>navigator.windowControlsOverlay),{isFannyPackEnabled:l}=me();return e.jsxs("div",{className:b("flex",o?.visible&&o.getTitlebarAreaRect().left>0?"justify-end":"justify-between",s),children:[e.jsx(ee,{sideOffset:4,label:n.formatMessage({id:"e7SzX9",defaultMessage:"Close sidebar"}),className:"flex",side:"right",children:e.jsx(fe,{className:"no-draggable","aria-label":n.formatMessage({id:"e7SzX9",defaultMessage:"Close sidebar"}),onClick:()=>{xe(a)?T.toggleNavSidebar():T.togglePopoverNavSidebar()},icon:be,mobileIcon:Se,surfaceContext:"secondary","data-testid":"close-sidebar-button"})}),e.jsxs("div",{className:"flex",children:[l&&e.jsx(He,{}),!i&&e.jsx(Ee,{onClick:t,testId:"create-new-chat-button"})]})]})}export{Qe as C,Ye as E,Be as H,Je as S,De as a};
//# sourceMappingURL=ca58t2aofch4cb3l.js.map
