const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/j161vb346mza35ca.js","assets/ba3fwhhjky1m504d.js","assets/coje7kavm1uon508.js","assets/root-n00hmutn.css","assets/dnytedm08a8h3kff.js","assets/conversation-small-ogafjggy.css","assets/knyk3i9cmwskwcvv.js","assets/ki1aj4gxymfaf44u.js","assets/nvd0p58sqo8se13g.js","assets/g52hzks2nta4ac14.js","assets/mkr022iftw3wwuj4.js","assets/kileugwiqaznkasc.js","assets/nubepilmgcasqjx6.js","assets/bwnfj2qf8m1gehns.js","assets/k49ixft4h36k75xs.js","assets/n3daj9r7j1665lcj.js","assets/mv6cam5j0ikh9mqv.js","assets/ip9mg1bpxdefhkbk.js","assets/xk1khcqko3d1xkda.js","assets/otuwydvkdmp4y2yq.js","assets/gs03avpm9nltligy.js","assets/krod5frvipe04kg4.js","assets/jhzfru96wg0dgdac.js","assets/l2ln4nt5j1ap5t71.js","assets/jgoo215gh0a6nmh8.js","assets/kjqzh1z90leus021.js","assets/l2ipsvodlqrudwdk.js","assets/nfb9m7mkypvnptgn.js","assets/mdythaexj1fckfo3.js","assets/f1sum6lbyw2935gh.js","assets/esbbx19v5n5v8px7.js","assets/ikzpfxdixoojnosc.js","assets/olwczll2x01p912v.js","assets/jhb3ljmb0uuaitsi.js","assets/i90kdsw7n90elsqs.js","assets/irweecroj8xj5fcb.js","assets/cj3gx43j626i6fnk.js","assets/dqym3crcamtvi3eh.js","assets/jezemksp8fnf0dh1.js","assets/icprelux2bypnc5s.js","assets/md5bzbnhex3pjfsu.js","assets/kdrep807l9low9of.js","assets/hkzw7un0fqr0fpl0.js","assets/ddilj5vy98nadyxu.js","assets/guxx30djwjhqt10z.js","assets/lr2id9xekd01hupt.js","assets/lyb3ci4ijnk33nee.js","assets/owypimcz1m9168ws.js","assets/hslpinwa3mqbvqpe.js","assets/ec796t3kbz5jytro.js","assets/h31dbjogv4ljoy6n.js","assets/j6c0jxggfdw2ihte.js","assets/h0sf68g1c6e18aaz.js","assets/cuaheqr4ppnb8m65.js","assets/4bhm0br4o1azut7m.js","assets/kqwdyvkaaavvn8k3.js","assets/m37w32hb7gnhpyo7.js","assets/gfy4v3qxx57ksbu9.js"])))=>i.map(i=>d[i]);
import{a2 as Ve,W as H,aK as be,aJ as We,r as i,l as e,a0 as p,D as Se,bd as V,a1 as z,Q as ke,P as ie,d as ce,L as je,X as U,Y as ve,bF as Fe,aD as S,aE as k,aN as ye,c0 as He,b$ as ze,bZ as Ue,bf as Ke,aA as $e,a as Ae,ap as le,aH as de,bD as qe,dL as W,ff as Qe,f4 as Ye,m as C,cm as we,d4 as P,fk as Xe,a9 as ue,bi as Ze,cZ as Je,c_ as es,c$ as ss,c8 as ts,b0 as as,u as os,j as ns}from"./ba3fwhhjky1m504d.js";import{u as rs,f as K,T as _e}from"./xk1khcqko3d1xkda.js";import{u as is,h0 as cs,h1 as Ne,h2 as ls,S as ds,h3 as us,h4 as hs,h5 as ms,h6 as fs,h7 as gs,h8 as ps,bM as D,h9 as xs,ha as Cs,hb as Ms,hc as bs,hd as Ss,e6 as ks,he as js,hf as vs,hg as ys,hh as As,hi as ws,hj as _s,hk as Ns,hl as Es,hm as Ps,hn as Os,ho as Ts,hp as Ls,hq as Bs,hr as Ds,hs as Is,aK as j,aB as E,V as v,cg as $,ht as Gs,hu as Rs,eB as he,cu as Vs,hv as Ee,hw as Pe,hx as Oe,ag as Ws,hy as Fs,gS as me,fM as Hs,c4 as F,c5 as fe,aM as zs,hz as Us,el as B,hA as Ks,dl as $s,hB as qs,hC as Qs,cQ as Ys,ax as Xs,aN as Zs,hD as Js,em as et,en as ge,hE as st,v as tt,cj as at,hF as ot,hG as nt,ck as rt,d6 as it,hH as ct,d7 as lt,hI as dt,hJ as ut}from"./dnytedm08a8h3kff.js";import{T as I,c as ht,m as mt,e as ft}from"./nvd0p58sqo8se13g.js";import{a as gt}from"./mkr022iftw3wwuj4.js";import{L as pt}from"./kileugwiqaznkasc.js";import{bu as xt,V as Ct}from"./coje7kavm1uon508.js";import{f as Mt,b as bt,g as St,a as Te}from"./jhb3ljmb0uuaitsi.js";import{S as pe,b as kt,c as jt,N as vt}from"./lyb3ci4ijnk33nee.js";import{u as Le,a as yt,g as At}from"./hslpinwa3mqbvqpe.js";import{S as wt,C as _t,H as Nt}from"./ec796t3kbz5jytro.js";import{u as Et,q as Pt}from"./n3daj9r7j1665lcj.js";import{K as Ot}from"./ki1aj4gxymfaf44u.js";import{m as xe}from"./g52hzks2nta4ac14.js";import{C as Tt}from"./j6c0jxggfdw2ihte.js";import{b as Lt}from"./mv6cam5j0ikh9mqv.js";function Bt({onClose:s}){const t=H(),a=be(),{openSettings:n}=is(),r=cs(),{session:o}=We(),{data:{isStorageComplianceEnabled:c}={}}=Ne(),{data:l,isLoading:m}=ls({enabled:!!(c&&o),select:d=>!d.cookie_consent.is_required});return i.useEffect(()=>{l===!0&&s()},[l,s]),m?null:e.jsx(Dt,{onReject:()=>{r.mutateAsync({analytics_cookies_accepted:!1},{onSuccess(){a.success(t.formatMessage(w.updateSuccess))},onError(){a.danger(t.formatMessage(w.updateFailure))}}),s()},onAccept:()=>{r.mutateAsync({analytics_cookies_accepted:!0},{onSuccess(){a.success(t.formatMessage(w.updateSuccess))},onError(){a.danger(t.formatMessage(w.updateFailure))}}),s()},children:e.jsx(p,{id:"CookieConsentBanner.authedDescription.0",defaultMessage:"We use cookies and similar technologies to deliver, maintain, improve our services and for security purposes. Check our <cookiePolicy>cookie policy</cookiePolicy> for details. Click 'Accept all' to let OpenAI and partners use cookies for these purposes. Click 'Reject all' to say no to cookies, except those that are strictly necessary. Choose <manageLink>manage cookies</manageLink> to change your preferences.",values:{cookiePolicy:d=>e.jsx(pt,{href:"https://openai.com/policies/cookie-policy",openNewTab:!0,children:d}),manageLink:d=>e.jsx(It,{onClick:()=>{n(ds.DataControls)},children:d})}})})}function Dt({children:s,onAccept:t,onReject:a}){return i.useEffect(()=>{Se.addAction("privacy_policy.show_cookie_consent_banner")},[]),e.jsxs(us,{children:[e.jsxs(hs,{className:"text-sm font-semibold [grid-area:_title]",children:[s,e.jsxs("div",{className:"mt-2 flex justify-end gap-3",children:[e.jsx(V,{color:"secondary",size:"small",onClick:a,children:e.jsx(p,{...w.reject})}),e.jsx(V,{color:"secondary",size:"small",onClick:t,children:e.jsx(p,{...w.accept})})]})]}),e.jsx(ms,{})]})}const It=Ve.button`underline font-normal text-green-600`,w=z({cookieConsentBannerTitle:{id:"CookieConsentBanner.title",defaultMessage:"We use cookies to provide, improve, and protect our services. Visit our <privacyPolicyLink>privacy policy</privacyPolicyLink> to learn more. You can manage your cookie preferences in your <settingsPanel>settings panel</settingsPanel>. <learnMoreLink>Learn more</learnMoreLink>."},reject:{id:"CookieConsentBanner.reject",defaultMessage:"Reject all"},accept:{id:"CookieConsentBanner.accept",defaultMessage:"Accept all"},updateSuccess:{id:"CookieConsentBanner.updateSuccess",defaultMessage:"Your cookie preferences were updated successfully"},updateFailure:{id:"CookieConsentBanner.updateFailure",defaultMessage:"Unable to update cookie preferences. Try again later."}}),Be=()=>{const s=i.useRef(Gt()),{isUnauthenticated:t,isLoading:a}=ke(),n=fs(),r=Mt(),o=!a&&t&&r&&!s.current&&!n,c=i.useCallback(()=>{o&&(Rt(),ie.logEventWithStatsig(ce.meetChatGptModalShown,"chatgpt_meet_chatgpt_modal_shown"))},[o]),l=()=>{ie.logEventWithStatsig(ce.meetChatGptModalConfirmationButtonClicked,"chatgpt_meet_chatgpt_modal_confirmation_button_clicked")};return a?{onConfirmationButtonClick:l,onMount:c,state:"loading"}:o?{onConfirmationButtonClick:l,onMount:c,state:"show"}:{onConfirmationButtonClick:l,onMount:c,state:"hide"}};function Gt(){return!!localStorage.getItem(je.HasSeenMeetChatGptModal)}function Rt(){return localStorage.setItem(je.HasSeenMeetChatGptModal,"true")}const Vt=({onClose:s})=>{const{onConfirmationButtonClick:t,onMount:a,state:n}=Be();return i.useEffect(a,[a]),n!=="show"?null:e.jsx(U,{isOpen:!0,noPadding:!0,onClose:ve,shouldIgnoreClickOutside:!0,showCloseButton:!1,size:"custom",type:"success",className:"max-w-md",children:e.jsxs("div",{className:"flex flex-col p-6 text-center",children:[e.jsx("div",{className:"-mb-4 -mt-5 self-center",children:e.jsx(xt,{})}),e.jsx("div",{className:"mb-2 text-2xl font-medium",children:e.jsx(p,{id:"fnY8gE",defaultMessage:"Meet ChatGPT"})}),e.jsx("div",{className:"mb-6 text-token-text-secondary",children:e.jsx(p,{id:"OdX5ix",defaultMessage:"AI that can help with brainstorming, researching, planning, and more. Just ask."})}),e.jsx(V,{color:"primary",size:"giant",className:"mb-4",onClick:()=>{t(),s()},children:e.jsx(p,{...Fe.gotItButtonText})}),e.jsx("div",{className:"text-xs text-token-text-tertiary",children:e.jsx(p,{id:"afZtaK",defaultMessage:"Chats may be reviewed and used to train our models. You can opt out in settings. <learnMoreLink>Learn more</learnMoreLink>",values:{learnMoreLink:r=>e.jsx("a",{className:"underline",href:"https://help.openai.com/en/articles/9737562",rel:"noreferrer",target:"_blank",children:r})}})})]})})},Wt=S(()=>k(async()=>{const{ModelOnboardingNUXModal:s}=await import("./j161vb346mza35ca.js");return{ModelOnboardingNUXModal:s}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11])).then(({ModelOnboardingNUXModal:s})=>s),{ssr:!1}),Ft=({onClose:s})=>{const t=H(),a=D($.isBusinessWorkspace),n=D(o=>o.currentWorkspace),r=a?t.formatMessage(Ce.workspaceWelcome,{workspaceName:n?.name}):"ChatGPT";return e.jsx(U,{isOpen:!0,onClose:ve,type:"success",title:r,size:"custom",noPadding:!0,className:"max-w-3xl",description:t.formatMessage(Ce.personalOnboardingSubheading),children:e.jsx(Gs,{onClose:s,scope:Rs.Personal})})};function Ht(){const[s,t]=i.useState(0),{hasSeenOnboardingDate:a}=gs(),{hasSeenTeamOwnerOnboardingDate:n}=ps(),r=D($.isBusinessWorkspace),o=ye(),[c,l]=i.useState(!1),{data:m,isPending:d}=Ne(),M=xs(m,d),{eligible:x,isLoading:_}=gt(),O=He(),y=ze(),T=Ue(),{data:h,isError:b}=Ke(),f=h!=null,N=h&&h?.accountItems.length>1&&h.currentAccountId==null,L=h?.accountItems.some(u=>u.isPersonalAccount()),g=!!h?.accountItems&&h.accountItems.length>0&&h.accountItems.every(({canAccessWithCurrentSession:u})=>!u),{eligible:q,isLoading:Q}=Cs(),{value:Y}=$e("1542198993"),{punchOutRequireLoginInfo:X}=Ms(),{state:Z}=bs(),{isOpen:J,isLoading:ee}=Ss(),{isOpen:se,isLoading:te}=ks(),{isOpen:ae,isLoading:oe}=js(),{state:ne}=Be(),A=i.useMemo(()=>[{Component:vs,getModalState:()=>X?"show":"hide",isDeferrable:!1},{Component:ys,getModalState:()=>Z,isDeferrable:!1},{Component:Vt,getModalState:()=>ne,isDeferrable:!1},{Component:As,getModalState:()=>ee?"loading":J?"show":"hide",isDeferrable:!1},{Component:ws,getModalState:()=>oe?"loading":ae?"show":"hide",isDeferrable:!1},{Component:Ft,getModalState:()=>r?"hide":a===null?"loading":a===!1?"show":"hide",isDeferrable:!0},{Component:_s,getModalState:()=>b?"hide":N?"show":f?"hide":"loading",isDeferrable:!1},{Component:Ns,getModalState:()=>O!==null?"show":b||f?"hide":"loading",isDeferrable:!1},{Component:Es,getModalState:()=>y!==null?"show":b||f?"hide":"loading",isDeferrable:!1},{Component:Ps,getModalState:()=>T!=null?"show":b||f?"hide":"loading",isDeferrable:!1},{Component:Os,getModalState:()=>f?g?"show":"hide":"loading",isDeferrable:!1},{Component:Ts,getModalState:()=>te?"loading":se?"show":"hide",isDeferrable:!1},{Component:Bt,getModalState:()=>"hide",isDeferrable:!1},{Component:Ls,getModalState:()=>!o?.isTeam()||!o?.isOwnerOfAccount()||!L?"hide":!f||n===null?"loading":n===!1?"show":"hide",isDeferrable:!1},{Component:Bs,getModalState:()=>r?a===null?"loading":a===!1?"show":"hide":"hide",isDeferrable:!0},{Component:Ds,getModalState:()=>Q?"loading":q&&Y?"show":"hide",isDeferrable:!1},{Component:Is,getModalState:()=>M,isDeferrable:!1},{Component:Wt,getModalState:()=>_?"loading":x?"show":"hide",isDeferrable:!0,expiresAt:new Date(2024,7,13)}].filter(u=>!(u.isDeferrable&&c)&&(!u.expiresAt||u.expiresAt.getTime()>Date.now())),[X,Z,T,f,a,n,L,_,r,b,O,y,o,g,N,M,x,c,Y,q,Q,J,ee,ae,oe,ne,te,se]);i.useEffect(()=>{if(A[s]&&A[s].getModalState()==="hide"){const u=A.findIndex(Re=>Re.getModalState()!=="hide");t(u)}},[s,A]);const G=A[s],R=G?.getModalState()==="show";if(i.useEffect(()=>{const u=j.getState().activeModals.has(E.BlockingInitialComponent);R!==u&&(R?v.openModal(E.BlockingInitialComponent):v.closeModal(E.BlockingInitialComponent))},[R]),G==null)return e.jsx("span",{"data-testid":"blocking-initial-modals-done",className:"hidden"});const re=G.getModalState();if(re==="loading")return null;re==="hide"&&t(u=>u+1);const Ge=A[s].Component;return e.jsx(Ge,{onClose:()=>{l(!0),t(u=>u+1)}})}const Ce=z({workspaceWelcome:{id:"BlockingInitialModals.workspaceWelcome",defaultMessage:"Welcome to the {workspaceName} workspace"},personalOnboardingSubheading:{id:"BlockingInitialModals.personalOnboardingSubheading",defaultMessage:"Tips for getting started"}});function De({clientThreadId:s}){i.useEffect(()=>{v.closeSharingModal()},[s]);const t=Ae();i.useEffect(()=>(I.retainThread(s),()=>{setTimeout(()=>{t.invalidateQueries({queryKey:["conversation",s]})},0),I.releaseThread(s)}),[s,t]),i.useEffect(()=>()=>{le.checkGate("3922476776")||he.abortAllRequests()},[s]);const a=i.useRef(s);i.useEffect(()=>{s!==a.current&&(le.checkGate("3922476776")||he.clear(),a.current=s)},[s])}function Ie({clientThreadId:s,setClientThreadId:t}){const a=Ae(),n=Vs(),r=n?{kind:de.GizmoInteraction,gizmo_id:n}:{kind:de.PrimaryAssistant};Et(s,r);const o=qe(),c=Ot(s),l=i.useRef(c);l.current=c;const m=i.useCallback(()=>{t(W());const x=l.current;o(x.tags.includes(Qe.GPT_4)?"/":`/?model=${x.id}`,{replace:!0})},[t,o]),d=rs({clientThreadId:s,location:"Model switcher menu item"}),M=i.useCallback(x=>{Pt(o,a,x)},[a,o]);return{createNewThread:d,onThreadCreated:M,resetThread:m}}const zt=S(()=>k(()=>import("./nubepilmgcasqjx6.js"),__vite__mapDeps([12,1,2,3,4,5,13,14,15,16,9,7,8,17,18,19,10,11,20,21,22,23,6,24,25,26,27,28,29])).then(s=>s.CanvasFocusedViewManager));function Ut({clientThreadId:s,setClientThreadId:t,urlThreadId:a,prefetchSearch:n}){const r=ht();De({clientThreadId:s});const{createNewThread:o,onThreadCreated:c,resetThread:l}=Ie({clientThreadId:s,setClientThreadId:t});Le({resetThreadAction:l,clientThreadId:s});const m=K(s);return e.jsxs(_e,{clientThreadId:s,children:[e.jsx(Ee,{clientThreadId:s,urlThreadId:a}),e.jsxs(pe,{hideNavigation:r,mobileHeaderContent:e.jsx(bt,{clientThreadId:s,inMobileHeader:!0}),mobileHeaderBottomContent:e.jsx(St,{clientThreadId:s}),mobileHeaderLeftContent:e.jsx(kt,{onNewChatButtonClick:l}),mobileHeaderRightContent:e.jsx(jt,{onNewChatButtonClick:l}),sidebar:e.jsx(vt,{navHeader:s?e.jsx(wt,{className:"flex h-[60px] items-center md:h-header-height",onNewThread:o}):null,children:e.jsx(_t,{clientThreadId:s,onNewThread:o})}),children:[e.jsx(Pe,{}),e.jsx(Te,{clientThreadId:s,onCreate:c,prefetchSearch:n},s),e.jsxs(pe.Sidebars,{children:[m&&e.jsx(zt,{clientThreadId:s}),e.jsx(Oe,{clientThreadId:s})]})]})]})}const Kt=450;function $t({children:s,clientThreadId:t,isOpen:a,onClose:n}){return e.jsx(Ws,{children:a&&e.jsx(Ye,{children:e.jsx(Fs.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(xe.div,{className:"h-full w-full bg-token-main-surface-secondary",...me}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx("div",{className:"flex-grow overflow-auto",children:s}),e.jsx(xe.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:Kt},...me,children:e.jsx("div",{className:"h-[100vh] pb-4",children:e.jsx(Te,{clientThreadId:t,hideHeader:!0,hideFooter:!0,hideToolsOverlay:!0,messagesVerticalAlign:"bottom"},t)})})]})]})})})})}const qt=S(()=>k(()=>import("./esbbx19v5n5v8px7.js"),__vite__mapDeps([30,1,2,3,4,5,15,16,9,7,8,17,18,19,10,11,20,21,22,23,6]))),Qt=S(()=>k(()=>import("./ikzpfxdixoojnosc.js"),__vite__mapDeps([31,1,2,3,4,5,32,15,16,9,7,8,17,18,19,10,11,20,21,22,23,6,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51])).then(s=>s.ImageEditor));function Yt({clientThreadId:s}){const t=Hs();i.useEffect(()=>{F.close()},[s]);let a;return t?.type===fe.ADAVisualization?a=e.jsx(qt,{clientThreadId:s,visualization:t.visualization}):t?.type===fe.Image&&(a=e.jsx(Qt,{clientThreadId:s,messageId:t.messageId,image:t.image,allImages:t.allImages},t.image.asset_pointer)),e.jsx($t,{clientThreadId:s,isOpen:t!=null,onClose:F.close,children:a})}const Xt=()=>{const s=H(),t=j(o=>o.activeModals.has(E.KeyboardActions)),a=()=>{v.closeModal(E.KeyboardActions)},n=yt(),r=i.useMemo(()=>{const o=Math.ceil(n.length/2);return[n.slice(0,o),n.slice(o)]},[n]);return e.jsx(U,{isOpen:t,onClose:a,type:"success",size:"custom",className:"md:max-w-[672px] lg:max-w-[796px] xl:max-w-4xl",showCloseButton:!0,title:s.formatMessage(ea.keyboardActionsModalTitle),children:e.jsx(e.Fragment,{children:e.jsx("div",{className:"grid grid-flow-row grid-cols-[repeat(auto-fit,minmax(250px,1fr))] gap-x-9",children:r.map((o,c)=>e.jsx("div",{className:"flex flex-col overflow-hidden",children:o.map(l=>e.jsx(Zt,{action:l},l.key))},`col-${c}`))})})})},Zt=({action:s})=>e.jsxs("div",{className:"flex items-center justify-between overflow-hidden text-token-text-primary",children:[e.jsx("div",{className:"flex flex-shrink items-center overflow-hidden text-sm",children:e.jsx("div",{className:"truncate",children:e.jsx(p,{...s.actionMessageDescriptor})})}),e.jsx("div",{className:"ml-3 flex flex-row gap-2",children:At(s.keyboardBinding).map((t,a)=>e.jsx(Jt,{keyName:t},`${s.key}-${a}`))})]}),Jt=({keyName:s})=>{const t=C("my-2 flex h-8 items-center justify-center rounded-md border border-token-border-light capitalize text-token-text-secondary");return s.length>1?s.length>3?e.jsx("div",{className:C(t,"min-w-[50px]"),children:e.jsx("span",{className:"text-xs",children:s})}):e.jsx("div",{className:C(t,"min-w-[32px]"),children:e.jsx("span",{className:"text-xs",children:s})}):e.jsx("div",{className:C(t,"min-w-[32px]"),children:e.jsx("span",{className:"text-sm",children:s})})},ea=z({keyboardActionsModalTitle:{id:"KeyboardActionsModal.keyboardActionsModalTitle",defaultMessage:"Keyboard shortcuts"}}),sa=S(()=>k(()=>import("./ec796t3kbz5jytro.js").then(s=>s.a),__vite__mapDeps([49,1,2,3,4,5,39,7,8,9,19,50,47,10,11,6,48,18,20,21])).then(s=>s.GizmoSidebarList),{ssr:!0});function ta({clientThreadId:s}){const t=ye(),a=mt(s),n=ft(s),{isUnauthenticated:r}=ke(),o=we();return r?null:e.jsxs("div",{className:C(P.screenContent),children:[e.jsx(Nt,{activeId:o?void 0:n}),t?.canInteractWithGizmos()?e.jsx(sa,{currentGizmoId:a}):null]})}function Me({onClick:s,children:t}){return e.jsx($s,{className:C(P.screenTrailingBar),type:"primary",children:e.jsx("div",{className:C("group flex w-full items-center justify-start"),children:e.jsxs("button",{className:"flex flex-1 select-none items-center rounded-lg py-1 pl-4 text-sm tracking-tight text-token-text-secondary hover:bg-token-sidebar-surface-secondary focus:ring-0",onClick:s,children:[e.jsx(Ct,{className:"icon-2xl -ml-3 mr-1 font-semibold text-token-text-secondary"}),t]})})})}function aa(){const s=j(B.isGptListVisible),t=j(B.isHistoryShowMoreVisible),a=j(B.isHistoryCollapsed),n=j(B.isGptListCollapsed),r=i.useCallback(()=>{a||v.toggleHistoryCollapsed(),n&&v.toggleGptListCollapsed()},[a,n]),o=[];return!a&&!t&&o.push(e.jsx(Me,{onClick:v.toggleHistoryCollapsed,children:e.jsx(p,{id:"1poXLj",defaultMessage:"See less"})})),s||o.push(e.jsx(Me,{onClick:r,children:e.jsx(p,{id:"DnQZfo",defaultMessage:"See GPTs"})})),o.length?e.jsx(Ks,{className:C(P.screenTrailingBarContainer),children:o}):null}function oa({clientThreadId:s,onNewThread:t}){return e.jsx(zs,{anchor:"top",className:C(P.screen,P.screenProps,"flex-1 border-r border-r-token-border-xlight"),name:"sidebar",leading:e.jsx(Us,{onNewThread:t}),trackLeading:!0,trailing:e.jsx(aa,{}),children:e.jsx(ta,{clientThreadId:s})})}const na=S(()=>k(()=>import("./nubepilmgcasqjx6.js"),__vite__mapDeps([12,1,2,3,4,5,13,14,15,16,9,7,8,17,18,19,10,11,20,21,22,23,6,24,25,26,27,28,29])).then(s=>s.CanvasFocusedViewManager));function ra({clientThreadId:s,setClientThreadId:t,urlThreadId:a}){De({clientThreadId:s});const{createNewThread:n,onThreadCreated:r,resetThread:o}=Ie({clientThreadId:s,setClientThreadId:t});Le({resetThreadAction:o,clientThreadId:s});const c=K(s);return e.jsxs(_e,{clientThreadId:s,children:[e.jsx(Ee,{clientThreadId:s,urlThreadId:a}),e.jsx(Pe,{}),e.jsx(qs,{className:Xe.application,sidebar:e.jsx(oa,{clientThreadId:s,onNewThread:n}),thread:e.jsx(Tt,{clientThreadId:s,onNewThread:n,onThreadCreated:r}),details:c&&e.jsx(na,{clientThreadId:s}),debugger:e.jsx(Oe,{clientThreadId:s})})]})}var ia={};const ca=S(()=>k(()=>import("./h0sf68g1c6e18aaz.js"),__vite__mapDeps([52,1,2,3,4,5,15,16,9,7,8,17,18,19,10,11,20,21,22,23,6,53]))),la=S(()=>k(()=>import("./4bhm0br4o1azut7m.js"),__vite__mapDeps([54,1,2,3,8,4,5,9,55,56,7,57,16])).then(s=>s.SearchResultsModal));function Na(s){const{urlThreadId:t,clientThreadId:a,prefetchSearch:n}=s,r="serviceStatus"in s?s.serviceStatus:null;ha();const o=we(),c=ue(),[l]=Ze(),m=be(),[d,M]=i.useState(()=>t!==void 0?t:a!==void 0?a:W());t!==void 0&&d!==t&&I.getServerThreadId(d)!==t&&M(t);const x=Qs(ue());i.useEffect(()=>{t===void 0&&I.getServerThreadId(d)!==void 0&&M(W())},[t,d,x]);const _=Ys(),O=D($.workspaceId),y=Xs();K(d);const T=Zs(),{eligible:h,isLoading:b,markAsViewed:f}=Js();i.useEffect(()=>{(c.pathname==="/"||c.pathname.startsWith("/c/"))&&et({namespace:ge.ChatPageLoad})==null&&(st({namespace:ge.ChatPageLoad,opts:{expectedTimingLogs:[{name:"render_model_switcher",expectedInMs:1e4},{name:"render_history_items",expectedInMs:25e3}]}}),Se.addTiming("chatgpt.web.chatPage.mounted"))},[]);const N=tt();i.useEffect(()=>{Je(!0).then(g=>{g.force_login&&N({authType:"login"}),es.initializeAndGatherData(g),at.initializeAndGatherData(g),ss.initializeAndGatherData(g)})},[N]),i.useEffect(()=>{r?.type&&_===!1&&m.warning(r.message,{hasCloseButton:!0,duration:5})},[_,r?.message,r?.type,m]),i.useEffect(()=>{const g=l.get(ot)==="true";o!==g&&ts.setIsTemporaryChatEnabled(g)},[o,l]),i.useEffect(()=>{c.state?.focusObject&&F.setFocusedObject(c.state.focusObject)},[c.state?.focusObject]),i.useEffect(()=>{!b&&h&&y&&(f(),nt(y))},[h,b,f,y]);const L=T?ra:Ut;return e.jsx(as.Provider,{value:null,children:e.jsx(rt,{children:e.jsxs(it,{clientThreadId:d,children:[e.jsx(Ht,{},O),e.jsx(Xt,{}),e.jsx(ct,{}),e.jsx(L,{urlThreadId:t,clientThreadId:d,setClientThreadId:M,prefetchSearch:n}),e.jsx(Yt,{clientThreadId:d}),e.jsx(ua,{clientThreadId:d}),e.jsx(lt,{clientThreadId:d}),e.jsx(da,{}),!1,e.jsx(dt,{}),e.jsx(ut,{})]})})})}function da(){const s=j(t=>t.sharingModalThreadId);return s?e.jsx(ca,{serverThreadId:s}):null}function ua({clientThreadId:s}){return Lt()&&e.jsx(la,{clientThreadId:s})}function ha(){os({queryKey:["pingEdge"],queryFn:()=>ns.pingEdge(),enabled:!0,staleTime:1/0})}typeof window<"u"&&(window._g=ia.GOKU_SERVICE);export{Na as C,Kt as F};
//# sourceMappingURL=h1r8qn6sfeel74q6.js.map
