const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/mtjxvrf028b3x9ts.js","assets/b0yd4b4kjz1x36ki.js","assets/coaq057lk9sfedb2.js","assets/root-cqviwlml.css","assets/b96clgxumfjg5jjm.js","assets/conversation-small-cll5buey.css","assets/ilm2a2yioj15f7xd.js","assets/khpgin38dhkqymea.js","assets/jb9kjkhndho3i15k.js","assets/dytnb75iigquej3g.js","assets/srbowbdpouoh01hw.js","assets/ft25f52m4p13jgsj.js","assets/dbv04stdtm3q06nn.js","assets/gxew3rrjdpssi4tj.js","assets/iwk85tn6c2bbjwsx.js","assets/gpnvgzf5z64pz2xq.js","assets/n7vysb43mvr66fkq.js","assets/kw9ddor7oc85so5w.js","assets/cd05f0iazim7vl92.js","assets/hz589o2bwen3t40l.js","assets/gq2lbdmvy6z6tosm.js","assets/t9r7h8rmfls9uxnn.js","assets/n9zf798cnlfrlnfg.js","assets/nqztwun07cyu8mwh.js","assets/48px08e43x85l4fh.js","assets/k1fe0tq7arood4m1.js","assets/entf7qdz51qx48wu.js","assets/kqwdyvkaaavvn8k3.js","assets/bx0aifzgdr9bfkq7.js","assets/ewu027l6ag0t1mry.js","assets/983a0dy92b3ronpv.js","assets/cpxkgj4cuoyb36jp.js","assets/oph7f3wfiku7vi7a.js","assets/ipwc8vae1zmj1fxq.js","assets/dop6y0snbfj7b396.js","assets/mgo7368qbtym9l5c.js","assets/caqxvw1v1yl9l61x.js","assets/iyibwghquy0bm3wp.js","assets/jq2hxkuwup9sbzd1.js","assets/d1fbijmf8yzjrbz2.js","assets/eg1obrepv9nobkuo.js","assets/mg44h51t7jaa7rga.js","assets/c3mzt1qwgy8ysm2n.js","assets/h5ufi5bch677ipz3.js","assets/bwswffjc0btm1bxn.js","assets/f216kktrm4kyjm6t.js","assets/fkul7lbj5pxruv2p.js","assets/juuj9dc4by1r7crj.js","assets/htfiskv6jn1pdu1a.js","assets/mkb5lc0d3s6eidpt.js"])))=>i.map(i=>d[i]);
import{aE as l,aF as u,a6 as e,w as Y,fp as E,r as i,ar as X,fm as w,an as q,x as P,$ as J,bX as T,D as Z,bO as ee,bP as ae,bQ as se,cn as te,u as re,K as oe}from"./b0yd4b4kjz1x36ki.js";import{dO as ne,j4 as k,j5 as ie,dG as O,j6 as g,Y as D,j7 as M,fc as de,h7 as L,j8 as H,j9 as R,i2 as ce,b$ as le,c8 as G,bS as ue,ja as y,ie as f,gu as he,c1 as j,c2 as A,gm as me,jb as fe,jc as xe,X as F,jd as je,cx as ge,je as be,jf as pe,cf as Ce,cg as V,jg as ve,m as Se,cB as _e,f9 as Ee,h1 as we,cC as Pe,dF as Te,jh as ye,ji as Ae,jj as Fe,dH as Ve,jk as Ne,cy as Ie,ce as ke}from"./b96clgxumfjg5jjm.js";import{S as N,b as Oe,c as De,N as Me}from"./ipwc8vae1zmj1fxq.js";import{S as Le,C as He}from"./mgo7368qbtym9l5c.js";import{T as W}from"./caqxvw1v1yl9l61x.js";import{T as Re}from"./mg44h51t7jaa7rga.js";import{d as B,u as b}from"./ilm2a2yioj15f7xd.js";import{C as z}from"./h5ufi5bch677ipz3.js";import{m as x}from"./ft25f52m4p13jgsj.js";import{C as Ge}from"./f216kktrm4kyjm6t.js";const We=l(()=>u(()=>import("./mtjxvrf028b3x9ts.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23])).then(a=>a.CanvasFocusedViewManager)),Be=l(()=>u(()=>import("./48px08e43x85l4fh.js"),__vite__mapDeps([24,1,2,3,4,5,25,26,27,28,29,11,30])).then(a=>a.SearchResultsModal));function ze({clientThreadId:a,setClientThreadId:s,urlThreadId:t,prefetchSearch:o}){const d=ne();k({clientThreadId:a});const{createNewThread:n,onThreadCreated:m,resetThread:r}=ie({clientThreadId:a,setClientThreadId:s});O({resetThreadAction:r,clientThreadId:a});const h=g();return e.jsxs(D,{clientThreadId:a,children:[e.jsx(M,{clientThreadId:a,urlThreadId:t}),e.jsxs(N,{hideNavigation:d,mobileHeaderContent:e.jsx(Re,{clientThreadId:a,inMobileHeader:!0}),mobileHeaderBottomContent:e.jsx(de,{clientThreadId:a}),mobileHeaderLeftContent:e.jsx(Oe,{onNewChatButtonClick:r}),mobileHeaderRightContent:e.jsx(De,{onNewChatButtonClick:r}),sidebar:e.jsx(Me,{navHeader:a?e.jsx(Le,{className:"flex h-[60px] items-center md:h-header-height",onNewThread:n}):null,children:e.jsx(He,{clientThreadId:a,onNewThread:n})}),threadFlyout:e.jsx(L,{clientThreadId:a}),children:[e.jsx(H,{}),e.jsx(W,{clientThreadId:a,onCreate:m,prefetchSearch:o},a),e.jsxs(N.Sidebars,{children:[h&&e.jsx(We,{clientThreadId:a}),e.jsx(R,{clientThreadId:a}),!1]})]}),e.jsx(Ke,{clientThreadId:a})]})}function Ke({clientThreadId:a}){const{value:s}=Y("218782548"),t=ce(),{isOpen:o}=le();return o&&(!t||!s)&&e.jsx(Be,{clientThreadId:a})}const I=450;function $e({children:a,clientThreadId:s,isOpen:t,onClose:o}){const d=G();return e.jsxs(ue,{children:[t&&d&&e.jsx(B,{clientThreadId:s,children:e.jsx(E,{children:e.jsx(y.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(x.div,{className:"h-full w-full bg-token-main-surface-secondary",...f}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx("div",{className:"flex-grow overflow-auto",children:a}),e.jsx(x.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:I},...f,children:e.jsx(z,{hideHeader:!0,hideTools:!0})})]})]})})})}),t&&!d&&e.jsx(E,{children:e.jsx(y.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(x.div,{className:"h-full w-full bg-token-main-surface-secondary",...f}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx("div",{className:"flex-grow overflow-auto",children:a}),e.jsx(x.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:I},...f,children:e.jsx("div",{className:"h-[100vh] pb-4",children:e.jsx(W,{clientThreadId:s,hideHeader:!0,hideFooter:!0,hideToolsOverlay:!0,messagesVerticalAlign:"bottom"},s)})})]})]})})})]})}const Qe=l(()=>u(()=>import("./cpxkgj4cuoyb36jp.js"),__vite__mapDeps([31,1,2,3,4,5]))),Ue=l(()=>u(()=>import("./oph7f3wfiku7vi7a.js"),__vite__mapDeps([32,1,2,3,4,5,11,33,7,6,8,9,10,12,34,35,36,17,37,38,22,39,40,41,42,43,44,45,46,47])).then(a=>a.ImageEditor));function Ye({clientThreadId:a}){const s=he();i.useEffect(()=>{j.close()},[a]);let t;return s?.type===A.ADAVisualization?t=e.jsx(Qe,{clientThreadId:a,visualization:s.visualization}):s?.type===A.Image&&(t=e.jsx(Ue,{clientThreadId:a,messageId:s.messageId,image:s.image,allImages:s.allImages},s.image.asset_pointer)),e.jsx($e,{clientThreadId:a,isOpen:s!=null,onClose:j.close,children:t})}function Xe(){const{clientThreadId:a,resetThread:s}=b();return O({resetThreadAction:s,clientThreadId:a}),null}const qe=l(()=>u(()=>import("./mtjxvrf028b3x9ts.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23])).then(a=>a.CanvasFocusedViewManager));function Je(){const{focusedObject:a,clientThreadId:s}=b(),t=g();return e.jsx(me,{className:X(w.application,{[w.withFocusedView]:a}),sidebar:e.jsx(Ge,{}),thread:e.jsx(z,{}),details:e.jsxs(e.Fragment,{children:[t&&e.jsx(qe,{clientThreadId:s}),!1]}),threadExtendedInfo:e.jsx(L,{clientThreadId:s}),debugger:e.jsx(R,{clientThreadId:s}),name:"application-root"})}function Ze(){const{clientThreadId:a,currentModelId:s,isCompanionWindow:t}=b();return e.jsx(fe,{conversationId:a,currentModelId:s,isActiveWindow:!t})}function ea({clientThreadId:a,setClientThreadId:s,urlThreadId:t,prefetchSearch:o}){return k({clientThreadId:a}),e.jsx(B,{clientThreadId:a,setClientThreadId:s,prefetchSearch:o,children:e.jsxs(xe,{children:[e.jsx(Ze,{}),e.jsx(Xe,{}),e.jsxs(D,{clientThreadId:a,children:[e.jsx(M,{clientThreadId:a,urlThreadId:t}),e.jsx(H,{}),e.jsx(Je,{})]})]})})}var aa={};const sa=l(()=>u(()=>import("./htfiskv6jn1pdu1a.js"),__vite__mapDeps([48,1,2,3,4,5,49])));function xa(a){const{urlThreadId:s,clientThreadId:t,prefetchSearch:o}=a;ra();const d=q(),n=P(),[m]=J(),[r,h]=i.useState(()=>s!==void 0?s:t!==void 0?t:T());s!==void 0&&r!==s&&F.getServerThreadId(r)!==s&&h(s);const K=je(P());i.useEffect(()=>{s===void 0&&F.getServerThreadId(r)!==void 0&&h(T())},[s,r,K]);const $=ge(Ie.workspaceId);g();const Q=G(),{eligible:p,isLoading:C,markAsViewed:v}=be(),S=pe();i.useEffect(()=>{(n.pathname==="/"||n.pathname.startsWith("/c/"))&&Ce({namespace:V.ChatPageLoad})==null&&(ve({namespace:V.ChatPageLoad,opts:{expectedTimingLogs:[{name:"render_model_switcher",expectedInMs:1e4},{name:"render_history_items",expectedInMs:25e3}]}}),Z.addTiming("chatgpt.web.chatPage.mounted"))},[]);const _=Se();i.useEffect(()=>{ee(!0).then(c=>{c.force_login&&_({authType:"login"}),ae.initializeAndGatherData(c),_e.initializeAndGatherData(c),se.initializeAndGatherData(c)})},[_]),i.useEffect(()=>{const c=m.get(Ee)==="true";d!==c&&te.setIsTemporaryChatEnabled(c)},[d,m]),i.useEffect(()=>{n.state?.focusObject&&j.setFocusedObject(n.state.focusObject)},[n.state?.focusObject]),i.useEffect(()=>{!C&&p&&(v(),S())},[p,C,v,S]);const U=Q?ea:ze;return e.jsx(we.Provider,{value:null,children:e.jsx(Pe,{children:e.jsxs(Te,{clientThreadId:r,children:[e.jsx(ye,{clientThreadId:r},$),e.jsx(Ae,{}),e.jsx(Fe,{}),e.jsx(U,{urlThreadId:s,clientThreadId:r,setClientThreadId:h,prefetchSearch:o}),e.jsx(Ye,{clientThreadId:r}),e.jsx(Ve,{clientThreadId:r}),e.jsx(ta,{}),!1,e.jsx(Ne,{})]})})})}function ta(){const a=ke(s=>s.sharingModalThreadId);return a?e.jsx(sa,{serverThreadId:a}):null}function ra(){re({queryKey:["pingEdge"],queryFn:()=>oe.pingEdge(),enabled:!0,staleTime:1/0})}typeof window<"u"&&(window._g=aa.GOKU_SERVICE);export{xa as C,I as F};
//# sourceMappingURL=lxjih9tsiyk0xxr0.js.map
