const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/b0uuuu3jhvlji9tp.js","assets/mz4maixy265szwnd.js","assets/hlwoz96ivm34s047.js","assets/root-mdyelgtb.css","assets/dbjqk5gtttah95nb.js","assets/hhavb7koozlxwqi6.js","assets/jkt64srpvhnrtjqp.js","assets/ioql1sr0e1pju6u0.js","assets/j134x0o4293g2ov2.js","assets/m43lg7dg00qwopfi.js","assets/isjdmfmhzv09v01t.js","assets/m6iys26wooem5dzg.js","assets/hg2dtiiyn0ysb84h.js","assets/k7s9wog25c6bpmj6.js","assets/ex7mlmk1gxgk8gam.js","assets/lzmdg93m1ds1ks3i.js","assets/c8o6c5makeq5lhnx.js","assets/f5f3aeqsnscghvwe.js","assets/ejdyk8uo8auxxwhc.js","assets/o2921g4nv32zz3o6.js","assets/kqwdyvkaaavvn8k3.js","assets/ngfyq2zgg0sjwh1p.js","assets/issdzfx1ihnrbcw0.js","assets/b0rkv4o9p8rht5zy.js","assets/983a0dy92b3ronpv.js","assets/n855xefe59je7vrz.js","assets/hp49goy2n9bieyzr.js","assets/gj9ny4lr94p6tux2.js","assets/c4bxzbp1808foto4.js","assets/kjvd447gjmqssahw.js","assets/ADAVisualizationComponent-mi6em660.css","assets/cptf8qy1hcq3xq64.js","assets/ddm63eswag2wkon9.js","assets/jb169qqx0o1ecp5y.js","assets/ha55e86u9lorcdoq.js","assets/mmncgch8lum0r3s8.js","assets/ms8r7jcz9adsxrxt.js","assets/l9hn25kllokd7yie.js","assets/efrgsbqrnpo8ljvc.js","assets/u3qvdc9yfgo94qg3.js","assets/h5rl57p1s4pq3tv3.js","assets/pe0zmb8ka9yvuk0b.js","assets/crj1ajhlfj587lz0.js","assets/heilvgp0hdgjnbyt.js","assets/b865ldhzikj3rq3x.js","assets/h73obg872ciy749n.js","assets/jhc1vo36e4iyko9m.js","assets/b6es8pe31v39i7tu.js","assets/htlsax8oxko1emxn.js","assets/c1w9kkhjxxaphiq2.js","assets/fp2ze11a9t9ijeho.js","assets/e60r6cd8hug3m134.js","assets/fr4xhalslfc4ns67.js","assets/f0gaik9stzz34php.js","assets/end96mxj7pp83mia.js","assets/mqnlre9w3qncnc43.js","assets/d1l9y8q6ryifmfne.js","assets/ov7dbv68vxbc56qd.js","assets/fzrn137102spawew.js","assets/e9lafxuzyeh4418f.js","assets/kxzn3r1xw97ohdi0.js","assets/di5pwpeo289n6y3h.js","assets/ciupwf371vlskpf7.js","assets/czkaz2xy5d2ktt8o.js","assets/m2s7nojgl4jx37ya.js","assets/hykt0gmjk7wloo5m.js","assets/dgu5k8gkhkno6npf.js","assets/j0sbfnutkua51fwa.js","assets/cri0e9crdl7wb3ba.js","assets/omh6xtylnzmwxi4t.js","assets/d3t0wy4my1tj6gfq.js","assets/nqatetiuranivr4k.js","assets/bfsji0q3eoyv60w3.js","assets/n80si35hjwf2o2ut.js","assets/f0h701p0sjlcot63.js","assets/egfdwnrzfrk2mxg1.js","assets/boio4nf1n3h5xyhn.js","assets/hwdmg8mfzoygwzya.js","assets/ifdp3b06w1qya2bm.js","assets/bpiuha2flzhz0hlq.js","assets/b3eqrxwhdhs8asjr.js","assets/g5ef5a36mqyoub3t.js","assets/ckldclsbr1wwj07c.js","assets/eizx1encp2bf82z3.js","assets/gksutta5b133gc2w.js"])))=>i.map(i=>d[i]);
import{c as He,k as Mh,g as ge,i as Hc,r as p,p as qn,a as Z5,b as bA,P,d as A,D as ae,M as Ae,e as fn,R as z,v as Fn,f as js,h as he,n as Za,j as c,u as Ot,l as _e,m as Fe,o as St,q as zc,s as Ja,t as Io,_ as ei,w as Eh,x as ti,y as xA,C as Me,z as zx,A as Yn,B as wA,E as J5,F as eB,G as tB,H as SA,I as Q,J as V,K as ze,L as nB,N as rB,S as K,O as Z,Q as _A,T as t1,U as kh,V as fo,W as Ds,X as Ge,Y as CA,Z as No,$ as It,a0 as Ro,a1 as TA,a2 as MA,a3 as ks,a4 as EA,a5 as Ov,a6 as Ce,a7 as Cm,a8 as n1,a9 as kA,aa as sB,ab as da,ac as ao,ad as ho,ae as qx,af as _s,ag as Ir,ah as Ph,ai as Yx,aj as PA,ak as O,al as Bn,am as nn,an as X,ao as Oe,ap as Ie,aq as pt,ar as Ee,as as Ke,at as At,au as wn,av as hn,aw as Ut,ax as AA,ay as Da,az as $A,aA as $t,aB as S,aC as br,aD as OA,aE as IA,aF as ue,aG as Ah,aH as fa,aI as Kx,aJ as NA,aK as Qx,aL as oB,aM as aB,aN as $e,aO as iB,aP as cB,aQ as es,aR as lB,aS as Xx,aT as uB,aU as ni,aV as RA,aW as ie,aX as Ld,aY as jo,aZ as jA,a_ as Zx,a$ as $h,b0 as ts,b1 as dB,b2 as Oh,b3 as ct,b4 as fB,b5 as hB,b6 as pB,b7 as Ih,b8 as Nh,b9 as Rh,ba as qc,bb as mB,bc as Kt,bd as Yc,be as DA,bf as jh,bg as LA,bh as Kc,bi as FA,bj as BA,bk as UA,bl as cc,bm as Qc,bn as r1,bo as Jx,bp as gB,bq as s1,br as Cc,bs as ri,bt as VA,bu as GA,bv as Ln,bw as vB,bx as Dh,by as rn,bz as Ue,bA as ew,bB as WA,bC as tw,bD as yB,bE as nw,bF as Nu,bG as bB,bH as HA,bI as Iv,bJ as Nv,bK as xB,bL as wB,bM as Dt,bN as Rv,bO as SB,bP as _B,bQ as o1,bR as a1,bS as CB,bT as TB,bU as Lh,bV as zA,bW as qA,bX as MB,bY as EB,bZ as kB,b_ as YA,b$ as KA,c0 as PB,c1 as rw,c2 as sw,c3 as QA,c4 as ow,c5 as AB,c6 as $B,c7 as OB,c8 as IB,c9 as NB,ca as RB,cb as hr,cc as en,cd as lc,ce as Wr,cf as XA,cg as jB,ch as DB,ci as LB,cj as Fd,ck as La,cl as FB,cm as kt,cn as Fh,co as ZA,cp as JA,cq as Pr,cr as BB,cs as UB,ct as VB,cu as aw,cv as GB,cw as WB,cx as e$,cy as HB,cz as zB,cA as t$,cB as qB,cC as YB,cD as n$,cE as Bd,cF as KB,cG as r$,cH as QB,cI as XB,cJ as ZB,cK as s$,cL as JB,cM as o$,cN as a$,cO as e6,cP as Ru,cQ as i$,cR as t6,cS as n6,cT as r6,cU as si,cV as c$,cW as l$,cX as s6,cY as o6,cZ as a6,c_ as i6,c$ as c6,d0 as l6,d1 as u6,d2 as d6,d3 as f6,d4 as u$,d5 as h6,d6 as d$,d7 as p6,d8 as m6,d9 as g6,da as f$,db as v6,dc as y6,dd as b6,de as ys,df as x6,dg as w6,dh as i1,di as S6,dj as q,dk as nr,dl as _6,dm as C6,dn as I,dp as h$,dq as oi,dr as ai,ds as c1,dt as l1,du as Ze,dv as pn,dw as p$,dx as m$,dy as g$,dz as v$,dA as iw,dB as T6,dC as M6,dD as E6,dE as k6,dF as P6,dG as A6,dH as $6,dI as O6,dJ as I6,dK as y$,dL as Tc,dM as N6,dN as R6,dO as b$,dP as Bh,dQ as u1,dR as ql,dS as j6,dT as Ta,dU as D6,dV as L6,dW as Fi,dX as F6,dY as B6,dZ as U6,d_ as d1,d$ as V6,e0 as jv,e1 as G6,e2 as W6,e3 as H6,e4 as z6,e5 as q6,e6 as Y6,e7 as K6,e8 as Q6,e9 as X6,ea as Z6,eb as f1,ec as In,ed as Yl,ee as Dr}from"./mz4maixy265szwnd.js";import{S as J6,a as eU,b as ii,c as Xc,d as x$,e as tU,f as h1,g as nU,h as p1,i as Do,j as rU,k as m1,l as sU,m as oU,n as aU,o as iU,p as cw,q as w$,r as Uh,s as cU,t as lw,u as lU,v as S$,w as uw,x as uU,y as Lo,z as dU,A as fU,B as hU,C as pU,D as _$,E as dw,F as C$,G as T$,H as mU,I as gU,J as Vh,K as M$,L as fw,M as hw,N as po,O as vU,P as yU,Q as E$,R as bU,T as xU,U as wU,V as SU,W as k$,X as P$,Y as A$,Z as $$,_ as ci,$ as Gh,a0 as pw,a1 as mw,a2 as _U,a3 as O$,a4 as CU,a5 as TU,a6 as I$,a7 as MU,a8 as EU,a9 as kU,aa as N$,ab as PU,ac as AU,ad as R$,ae as $U,af as j$,ag as gw,ah as OU,ai as IU,aj as NU,ak as vw,al as D$,am as L$,an as F$,ao as RU,ap as B$,aq as U$,ar as jU,as as DU,at as LU,au as FU,av as BU,aw as UU,ax as VU,ay as GU,az as V$,aA as G$,aB as WU}from"./hlwoz96ivm34s047.js";function W$(e){return e!=null}const Wh=(e,t)=>e.includes(t),HU=(e,t,n=[])=>{if(e==null)return n;const r=Array.isArray(e)?e:[e];return t?r.map(t):r},H$=(e,t=[])=>n=>HU(n,e,t),z$=(e,t=void 0)=>typeof e!="object"||e==null||Array.isArray(e)?t:e,q$=(e,t)=>{const n=z$(e),r={};for(const s in t)r[s]=t[s](n?.[s]);return r},xr=e=>t=>q$(t,e),Sr=(e,t="")=>typeof e=="object"||e==null?t:String(e),zU=(e,t=0)=>{if(typeof e=="object"||e==null)return t;const n=Number(e);return isNaN(n)?t:n},qU=(e,t=!1)=>{if(typeof e=="boolean")return e;if(typeof e=="number"){if(e===0)return!1;if(e===1)return!0}if(typeof e=="string"){const n=e.toLowerCase();if(n==="false")return!1;if(n==="true")return!0}return t},Y$=(e,t,n=t[0])=>Wh(t,e)?e:n,K$=(e,t=e[0])=>n=>Y$(n,e,t),Hr=e=>t=>t===void 0?void 0:e(t);var Hh=(e=>(e[e.Textdoc=0]="Textdoc",e[e.ADAVisualization=1]="ADAVisualization",e))(Hh||{});const Kr=He(()=>({focusedObject:null,fromMessageId:null})),_ct=(e,t)=>{const n=Kr.getState();t!==n.fromMessageId&&Kr.setState({focusedObject:e,fromMessageId:t})},yw=e=>{Kr.setState({focusedObject:e,fromMessageId:null})},Fa=e=>{const t=Kr.getState(),{focusedObject:n}=t;(!n||n.type!==0||n.textdocId!==e)&&Q$(e)},Q$=e=>{yw({type:0,textdocId:e})},YU=(e,t,n)=>{yw({type:0,textdocId:e,history:t,showChangesAtVersion:n})},KU=(e,t,n)=>{yw({type:0,textdocId:e,showChangesAtVersion:t,history:n??void 0})},Cct=()=>{Kr.setState({focusedObject:null})},Tct=()=>{Kr.setState({focusedObject:null,fromMessageId:null})};function QU(e){return function(){return e}}var X$=QU;function XU(e){return function(t,n,r){for(var s=-1,o=Object(t),a=r(t),i=a.length;i--;){var l=a[e?i:++s];if(n(o[l],l,o)===!1)break}return t}}var ZU=XU,JU=ZU,e7=JU(),t7=e7,n7=t7,r7=Mh;function s7(e,t){return e&&n7(e,t,r7)}var bw=s7,o7=bw;function a7(e,t,n,r){return o7(e,function(s,o,a){t(r,n(s),o,a)}),r}var i7=a7,c7=i7;function l7(e,t){return function(n,r){return c7(n,e,t(r),{})}}var u7=l7,d7=X$,f7=u7,h7=Hc,p7=Object.prototype,m7=p7.toString,g7=f7(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=m7.call(t)),e[t]=n},d7(h7)),v7=g7;const y7=ge(v7);function xw(e,t){if(!e||t==null)return null;const{resolveTempTextdocId:n}=e,r=n?.[t]??t;let s=e.textdocById[r]??e.textdocById[t]??null;if(!s&&n){const o=y7(n);s=e.textdocById[o[r]]??null}return s}var Z$={exports:{}},J$={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,L){var W=N.length;N.push(L);e:for(;0<W;){var ce=W-1>>>1,se=N[ce];if(0<s(se,L))N[ce]=L,N[W]=se,W=ce;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var L=N[0],W=N.pop();if(W!==L){N[0]=W;e:for(var ce=0,se=N.length,le=se>>>1;ce<le;){var ke=2*(ce+1)-1,ne=N[ke],G=ke+1,ye=N[G];if(0>s(ne,W))G<se&&0>s(ye,ne)?(N[ce]=ye,N[G]=W,ce=G):(N[ce]=ne,N[ke]=W,ce=ke);else if(G<se&&0>s(ye,W))N[ce]=ye,N[G]=W,ce=G;else break e}}return L}function s(N,L){var W=N.sortIndex-L.sortIndex;return W!==0?W:N.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,i=a.now();e.unstable_now=function(){return a.now()-i}}var l=[],u=[],d=1,f=null,h=3,m=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(N){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=N)r(u),L.sortIndex=L.expirationTime,t(l,L);else break;L=n(u)}}function _(N){if(v=!1,w(N),!g)if(n(l)!==null)g=!0,B(C);else{var L=n(u);L!==null&&H(_,L.startTime-N)}}function C(N,L){g=!1,v&&(v=!1,x(E),E=-1),m=!0;var W=h;try{for(w(L),f=n(l);f!==null&&(!(f.expirationTime>L)||N&&!U());){var ce=f.callback;if(typeof ce=="function"){f.callback=null,h=f.priorityLevel;var se=ce(f.expirationTime<=L);L=e.unstable_now(),typeof se=="function"?f.callback=se:f===n(l)&&r(l),w(L)}else r(l);f=n(l)}if(f!==null)var le=!0;else{var ke=n(u);ke!==null&&H(_,ke.startTime-L),le=!1}return le}finally{f=null,h=W,m=!1}}var T=!1,M=null,E=-1,R=5,$=-1;function U(){return!(e.unstable_now()-$<R)}function Y(){if(M!==null){var N=e.unstable_now();$=N;var L=!0;try{L=M(!0,N)}finally{L?F():(T=!1,M=null)}}else T=!1}var F;if(typeof b=="function")F=function(){b(Y)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,D=j.port2;j.port1.onmessage=Y,F=function(){D.postMessage(null)}}else F=function(){y(Y,0)};function B(N){M=N,T||(T=!0,F())}function H(N,L){E=y(function(){N(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,B(C))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(N){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var W=h;h=L;try{return N()}finally{h=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,L){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var W=h;h=N;try{return L()}finally{h=W}},e.unstable_scheduleCallback=function(N,L,W){var ce=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ce+W:ce):W=ce,N){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=W+se,N={id:d++,callback:L,priorityLevel:N,startTime:W,expirationTime:se,sortIndex:-1},W>ce?(N.sortIndex=W,t(u,N),n(l)===null&&N===n(u)&&(v?(x(E),E=-1):v=!0,H(_,W-ce))):(N.sortIndex=se,t(l,N),g||m||(g=!0,B(C))),N},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(N){var L=h;return function(){var W=h;h=L;try{return N.apply(this,arguments)}finally{h=W}}}})(J$);Z$.exports=J$;var Tm=Z$.exports;const Ud=Symbol(),b7=Symbol(),x7=typeof window>"u"||/ServerSideRendering/.test(window.navigator&&window.navigator.userAgent),eO=x7?p.useEffect:p.useLayoutEffect,w7=Tm.unstable_runWithPriority?e=>{try{Tm.unstable_runWithPriority(Tm.unstable_NormalPriority,e)}catch(t){if(t.message==="Not implemented.")e();else throw t}}:e=>e(),S7=e=>({value:n,children:r})=>{const s=p.useRef(n),o=p.useRef(0),[a,i]=p.useState(null);a&&(a(n),i(null));const l=p.useRef();if(!l.current){const u=new Set,d=(f,h)=>{o.current+=1;const m={n:o.current};h?.suspense&&(m.n*=-1,m.p=new Promise(g=>{i(()=>v=>{m.v=v,delete m.p,g(v)})})),u.forEach(g=>g(m)),f()};l.current={[Ud]:{v:s,n:o,l:u,u:d}}}return eO(()=>{s.current=n,o.current+=1,w7(()=>{l.current[Ud].l.forEach(u=>{u({n:o.current,v:n})})})},[n]),p.createElement(e,{value:l.current},r)};function _7(e){const t=p.createContext({[Ud]:{v:{current:e},n:{current:-1},l:new Set,u:n=>n()}});return t[b7]=t.Provider,t.Provider=S7(t.Provider),delete t.Consumer,t}function Zc(e,t){const n=p.useContext(e)[Ud],{v:{current:r},n:{current:s},l:o}=n,a=t(r),[i,l]=p.useReducer((u,d)=>{if(!d)return[r,a];if("p"in d)throw d.p;if(d.n===s)return Object.is(u[1],a)?u:[r,a];try{if("v"in d){if(Object.is(u[0],d.v))return u;const f=t(d.v);return Object.is(u[1],f)?u:[d.v,f]}}catch{}return[...u]},[r,a]);return Object.is(i[1],a)||l(),eO(()=>(o.add(l),()=>{o.delete(l)}),[o]),i[1]}var Dv=(e=>(e.NATIVE="native",e.LAST_TURN="last_turn",e))(Dv||{});const li=_7(null);function C7(){return{lastCanvasAssistantMessageById:{},resolveTempCommentId:{},resolveTempTextdocId:{},latestTextdocId:null}}function tO(e){return{fetchError:null,isFetchingFromPersistence:!1,textdocById:{},allTextdocIdSet:{},streamingSource:null,...e??C7()}}function mo(e,t){return qn(e,t)}function uc(e,t,n=!0){const r=e.textdocById[t.textdocId];if(r)e.textdocById[t.textdocId]=r,r.metadata.type=t.type,r.metadata.title=t.title,r.metadata.updatedAt=t.createdAt,n?r.versions.push(t):r.versions[r.versions.length-1]=t;else{const s={metadata:{textdocId:t.textdocId,type:t.type,title:t.title,createdAt:t.createdAt,updatedAt:t.createdAt},versions:[t]};e.allTextdocIdSet[t.textdocId]=t.textdocId,e.textdocById[t.textdocId]=s}}function Ls(e=Z5){return Zc(li,e)}function T7(){return Ls(e=>e?.isFetchingFromPersistence)}function Mct(){return Zc(li,e=>e?.resolveTempTextdocId)}function Ect(){return Zc(li,e=>e?.resolveTempCommentId)}function M7(){return Zc(li,e=>e?.latestTextdocId??null)}function kct(){return Zc(li,e=>e?.streamingSource)}function Pct(e){return Ls(t=>xw(t,e))}function zh(e){return Ls(t=>xw(t,e)?.metadata??null)}function nO(){const e=Ls(t=>t?.allTextdocIdSet);return e?Object.keys(e):null}function E7(){return Ls(e=>e?Object.keys(e.allTextdocIdSet).length>1:!1)}function k7({textdocId:e,toolResponseMessage:t}){return Ls(n=>{const r=n?.lastCanvasAssistantMessageById;return r==null||e==null?!0:r[e]==null||r[e]===t?.message.id})}function rO(){return Kr(e=>e.focusedObject)}function Act(){const e=Kr(t=>t.focusedObject);return e?.type!==Hh.Textdoc?null:e}function P7(){const e=Kr(t=>t.focusedObject);return e?.type!==Hh.Textdoc?null:e.history??null}function Jc(){return rO()!=null}function ww(e){const t=rO();return Ls(n=>{if(!e||t?.type!==Hh.Textdoc)return!1;const r=n?.resolveTempTextdocId??{},s=r[t.textdocId]??t.textdocId,o=r[e]??e;return s===o})}var Vd=(e=>(e.Unknown="unknown",e.ShowToast="show_toast",e.CanvasMessage="canvas_message",e.TurnComplete="turn_complete",e))(Vd||{});const A7={canvas_message:xr({message:z$}),turn_complete:xr({}),unknown:xr({}),show_toast:xr({text:Sr})},g1=K$(Object.values(Vd));function $7(e){const{type:t}=q$(e,{type:g1}),n=g1(t);return{type:n,...A7[n](e)}}function v1(e,t){I7(n=>{n.type===e&&t(n)})}function O7(e){const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return new TextDecoder("utf-8").decode(n)}function I7(e){p.useEffect(()=>bA(window,{message:n=>{const r=n.data;if(!(typeof r!="object"||r?.type!=="canmore_native"))try{const s=O7(r.msg),o=$7(JSON.parse(s));e(o)}catch{console.warn(`Unknown message from native app: ${r.msg}`)}}}),[e])}function N7(){let e;const t=R7();switch(t){case"android":e=window.CanmoreNative;break;case"ios":e=window.webkit?.messageHandlers.canmoreNative;break;case"web":e=void 0;break}return{platform:t,isNative:t!=="web",bridge:e,sendMessage:n=>e?.postMessage(btoa(JSON.stringify(n)))}}function R7(){return typeof window.CanmoreNative<"u"?"android":typeof window.webkit<"u"&&typeof window.webkit.messageHandlers.canmoreNative<"u"?"ios":"web"}const Ps="canmore";var Tt=(e=>(e.CreateTextdoc=`${Ps}.create_textdoc`,e.UpdateTextdoc=`${Ps}.update_textdoc`,e.CommentTextdoc=`${Ps}.comment_textdoc`,e))(Tt||{});function j7(e){return e===Tt.CreateTextdoc||e===Tt.UpdateTextdoc||e===Tt.CommentTextdoc}var me=(e=>(e[e.STREAMING=0]="STREAMING",e[e.WAITING=1]="WAITING",e[e.COMPLETE=2]="COMPLETE",e[e.FAILED=3]="FAILED",e[e.CANCELED=4]="CANCELED",e[e.REDACTED=5]="REDACTED",e))(me||{});const D7=e=>{const[t,n]=p.useState(null),r=p.useCallback(o=>{n(a=>{if(!a)return[o];const i=[...a];for(let l=0;l<a.length;l++)i[l].message.id===o.message.id?i[l]=o:l===i.length-1&&i.push(o);return i})},[]),s=p.useCallback(()=>n(null),[]);return v1(Vd.TurnComplete,async()=>{await e(),s()}),v1(Vd.CanvasMessage,async({message:o})=>{const a=o,{message:{recipient:i}}=a;i?.startsWith(Ps)&&r(a)}),t};function L7(e,t){return e.replace(new RegExp("\\\\(\\d+)|\\\\g<(?:(\\d+)|(\\D[^>]*))>|((?<!\\\\)\\\\(?:g(?:<[^>]*)?)?$)","gi"),(n,r,s,o,a)=>{if(r==="0")return"\\0";const i=r??s;if(i)return t[zU(i)]??"";if(o)return t.groups?.[o]??"";if(a)return"";throw new Error("Unreachable")})}function F7(e,t){let n="",r=0,s=0,o=0,a=0,i=!1;const l=y=>{r+=y},u=y=>{r>s&&(n+=e.slice(s,r)),r=s=r+y},d=y=>{u(0),n+=y},f=()=>{d("\\"),l(1)},h=y=>{if(r+y<e.length)return e[r+y]},m=(y,x=0)=>r+x<e.length&&y===e[r+x],g=y=>{const x=e.indexOf(y,r);if(x===-1)u(e.length-r);else return x-r},v=y=>{let x=1;if(h(y)==="\\"){const w=h(y+1);x=w==="U"?10:w==="u"?6:w==="x"?4:2}const b=r+y+x>e.length;return b&&u(e.length-r),b};for(;r<e.length;){if(m("\\")){if(v(0))continue;const b=h(1)??"";if(b==="a")u(2),d("\\x07");else if(b==="A")u(2),d("^");else if(b==="z")u(2),d("$");else if(b==="Z")u(2),d("(?=\\n?$)");else if(b==="U"){const w=e.slice(r+2,r+10);u(10),d(`\\u{${parseInt(w,16).toString(16)}}`)}else if(b==="u")l(6);else if(b==="x")l(4);else{let w;i?w=/[0bdDsSwWfnrtv()[\]{}|/\\^-]/.test(b):/[1-9]/.test(b)?w=parseInt(b,10)<=a:w=/[0bBdDsSwWfnrtv()[\]{}|/\\^$.?*+]/.test(b),w?l(2):u(1)}continue}if(m("]")){i?(i=!1,l(1)):f();continue}else if(i){if(m("-")&&v(1))continue;/[()[\]{}|/\\]/.test(e[r])?f():l(1);continue}else if(m("[")){i=!0,l(1),m("]")&&f();continue}if(m("|")&&v(1))continue;if(m("{")){const b=/^\{(?:\d+(?:,\d*)?(\}|$)|$)/.exec(e.slice(r));r>0&&b?.[1]==="}"?l(b[0].length):r>0&&b&&t?u(b[0].length):f();continue}else if(m("}")){f();continue}if(m("+")){const b=h(-1);b&&/[*+?}]/.test(b)&&h(-2)!=="\\"?u(1):l(1);continue}if(m(")")){o>0?(o--,l(1)):f();continue}if(!m("(")){l(1);continue}if(v(1))continue;if(h(1)!=="?"){o++,a++,l(1);continue}if(v(2))continue;const y=h(2);if(!y){u(2);continue}if(y==="#"){const b=g(")");b&&u(1+b);continue}if(y==="P"){if(h(3)==="="){const b=g(")");if(b){const w=e.slice(r+4,r+b);u(1+b),d(`\\k<${w}>`)}}else{const b=g(">");if(b){const w=e.slice(r+4,r+b);if(u(1+b),v(0))continue;d(`(?<${w}>`),o++}}continue}if(/[-a-z]/.test(y)){const b=e.indexOf(":",r)>=0,w=g(b?":":")");if(w&&u(1+w),b){if(v(0))continue;d("(?:"),o++}continue}if(y===">"){if(u(3),v(0))continue;d("(?:"),o++;continue}const x=y==="<"?4:3;v(x)||(l(x),o++)}for(n+=e.slice(s,e.length),i&&(n+="]");o-- >0;)n+=")";return n.length>0?n:"(?!)"}function y1(e){const t=[/^`{1,3}\s*$/,/^```[^\n]*\n?/],n=[/\n?`{1,3}\s*$/];for(const r of t)if(r.test(e)){e=e.replace(r,"");break}for(const r of n)if(r.test(e)){e=e.replace(r,"");break}return e}function sO({messageId:e},t){return`temp-tdc-${t}-${e}`}function Sw({messageId:e}){return`temp-td-${e}`}function B7(){return`temp-pasted-td:${Math.random()}`}function U7(e){let t="";const n=e.length;let r=0,s=0;for(;r<n;){let o=e.charCodeAt(r);if(o!==92){r++;continue}if(s<r&&(t+=e.slice(s,r)),r++,r>=n){t+="\\";break}switch(o=e.charCodeAt(r),o){case 110:t+=`
`,r++;break;case 116:t+="	",r++;break;case 114:t+="\r",r++;break;case 98:t+="\b",r++;break;case 102:t+="\f",r++;break;case 118:t+="\v",r++;break;case 48:t+="\0",r++;break;case 39:t+="'",r++;break;case 34:t+='"',r++;break;case 92:t+="\\",r++;break;case 120:if(r+2<n){const a=parseInt(e.slice(r+1,r+3),16);if(!isNaN(a)){t+=String.fromCharCode(a),r+=3;break}}t+="\\x",r++;break;case 117:if(r+1<n)if(e.charAt(r+1)==="{"){const a=e.indexOf("}",r+2);if(a!==-1){const i=parseInt(e.slice(r+2,a),16);if(!isNaN(i)&&i<=1114111){t+=String.fromCodePoint(i),r=a+1;break}}}else{const a=parseInt(e.slice(r+1,r+5),16);if(!isNaN(a)){t+=String.fromCharCode(a),r+=5;break}}t+="\\u",r++;break;default:t+="\\"+e.charAt(r),r++;break}s=r}return s<n&&(t+=e.slice(s)),t}function qh(e,t){P.logEvent(e,{platform:N7().platform,...t??{}})}function V7(e,t,n){qh(e,{distributionValue:t,...n??{}})}function G7(e,t){qh(A.canvasButtonClicked,{buttonName:e,...t??{}})}function W7(e){if(e instanceof Error){const{name:t,message:n,stack:r,cause:s}=e;return{name:t,message:n,stack:r,cause:s}}return e}function H7(e,t,n){qh(A.canvasError,{message:e,error:t==null?e:W7(t),attributes:n}),ae.addError(t)}const _w={logButtonClick:G7,logEvent:qh,logError:H7,logDistribution:V7},b1=e=>e===" "||e===`
`||e==="\r"||e==="	";function z7(e,t=!1){let n=0,r=null;const s=[];if(!e)return[void 0,s];if(t)return[i(),s];try{return[JSON.parse(e),null]}catch(g){return r=g,[i(),s]}function o(){for(;n<e.length&&b1(e[n]);)n++;return n<e.length}function a(g){return o()&&e[n]===g?(n++,!0):!1}function i(){if(o())switch(e[n]){case"{":return f();case"[":return h();case'"':{const[g]=u();return g}case"f":return m("false",!1);case"t":return m("true",!0);case"n":return m("null",null);case"-":case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return d()}throw r}function l(g,v=!1){return v?U7(g):g}function u(g=!1){const v=n+1;let y=!1;for(n++;n<e.length;){const x=e[n++];if(x==="\\"){if(y=!0,n===e.length||e[n]==="u"&&n+4>=e.length){const b=n-1;return n=e.length,[l(e.slice(v,b),y),!1]}n++;continue}if(x==='"'){let b=n;for(;b<e.length&&b1(e[b]);)b++;if(e[b]==null||e[b]===","||e[b]==="]"||e[b]==="}"||g&&e[b]===":")return[l(e.slice(v,n-1),y),!0]}}return[l(e.slice(v,n),y),!1]}function d(){const g=n;for(;n<e.length&&/[0-9.eE+-]/.test(e[n]);)n++;const v=Number(e.slice(g,n));if(isNaN(v)){if(o())throw r;return 0}return v}function f(){n++;const g={};if(a("}"))return g;for(;o();){const[v,y]=u(!0);if(!y||(s.push(v),!o()))break;if(!a(":"))throw r;if(!o()||(g[v]=i(),!o()))break;if(a("}")){s.pop();break}if(!a(","))throw r;s.pop()}return g}function h(){n++;const g=[];if(a("]"))return g;for(s.push(0);o()&&(g.push(i()),!!o());){if(a("]")){s.pop();break}if(!a(","))throw r;s[s.length-1]=g.length}return g}function m(g,v){const y=n+g.length;if(y<=e.length?e.slice(n,y)===g:g.startsWith(e.slice(n)))return n=y,v;throw r}}function Mm(e,t,n=!1){try{const[r,s]=z7(e);return[t(r),s]}catch(r){return n&&_w.logError("JSON parsing",r),[void 0,[]]}}function Bi(e,t){return e!=null&&t.every((n,r)=>e[r]===n)}var ha=(e=>(e.INFERRING_TYPE="inferring",e.PENDING="pending",e.SENT="sent",e))(ha||{});const Ur=-1;var Kn=(e=>(e.CREATING="creating",e.REWRITING="rewriting",e.COMMENTING="commenting",e.UPDATING="updating",e.COMPLETE="complete",e))(Kn||{});const $ct=e=>e?.status!=="complete",Oct=e=>e?.status==="rewriting",Ict=e=>e?.status==="creating";var Cw=(e=>(e.DOCUMENT="document",e.CODE_BASH="code/bash",e.CODE_ZSH="code/zsh",e.CODE_JAVASCRIPT="code/javascript",e.CODE_TYPESCRIPT="code/typescript",e.CODE_HTML="code/html",e.CODE_CSS="code/css",e.CODE_PYTHON="code/python",e.CODE_JSON="code/json",e.CODE_SQL="code/sql",e.CODE_GO="code/go",e.CODE_YAML="code/yaml",e.CODE_JAVA="code/java",e.CODE_RUST="code/rust",e.CODE_CPP="code/cpp",e.CODE_SWIFT="code/swift",e.CODE_PHP="code/php",e.CODE_XML="code/xml",e.CODE_RUBY="code/ruby",e.CODE_HASKELL="code/haskell",e.CODE_KOTLIN="code/kotlin",e.CODE_CSHARP="code/csharp",e.CODE_C="code/c",e.CODE_OBJECTIVEC="code/objectivec",e.CODE_R="code/r",e.CODE_LUA="code/lua",e.CODE_DART="code/dart",e.CODE_SCALA="code/scala",e.CODE_PERL="code/perl",e.CODE_COMMONLISP="code/commonlisp",e.CODE_CLOJURE="code/clojure",e.CODE_OCAML="code/ocaml",e.CODE_POWERSHELL="code/powershell",e.CODE_VERILOG="code/verilog",e.CODE_DOCKERFILE="code/dockerfile",e.CODE_VUE="code/vue",e.CODE_REACT="code/react",e.CODE_OTHER="code/other",e.LOADING="loading",e))(Cw||{});function Lv(e){return e.startsWith("code/")}function Tw(e){const t=Y$(e,Object.values(Cw),null);if(t)return t;if(e==="webview")return"code/html";if(e.startsWith("code"))switch(e){case"code/js":return"code/javascript";default:return"code/other"}return"document"}var yt=(e=>(e.CREATE="create",e.REWRITE="rewrite",e.EDIT="edit",e.ADD_COMMENT="add_comment",e.REMOVE_COMMENT="remove_comment",e))(yt||{}),oO=(e=>(e.ACCEPT="accept",e.DISMISS="dismiss",e))(oO||{}),Fv=(e=>(e.ACCEPT_INITIATED="accept_initiated",e.DISMISSED="dismissed",e.PENDING="pending",e))(Fv||{}),q7=(e=>(e.ADDED="added",e.REMOVED="removed",e))(q7||{}),Y7=(e=>(e.ACCEPT_COMMENT="accept_comment",e.ASK_CHATGPT="ask_chatgpt",e.ACCELERATOR="accelerator",e.CONSOLE="console",e.FULL_SCREEN_SUBMIT="full_screen_submit",e))(Y7||{});class K7{isMultimodalTextMessage(t){return t.content.content_type===Ae.MultimodalText}isPartAssetPointer(t){return typeof t!="string"&&(t.content_type===fn.ImageAssetPointer||t.content_type===fn.AudioAssetPointer)}isPartRealTimeUserAudioVideoAssetPointer(t){return typeof t!="string"&&t.content_type===fn.RealTimeUserAudioVideoAssetPointer}isPartAudioTranscription(t){return typeof t!="string"&&t.content_type===fn.AudioTranscription}getAudio(t){return this.isMultimodalTextMessage(t)?t.content.parts.filter(n=>typeof n!="string"&&n.content_type===fn.Audio):[]}getAssetPointers(t){return this.isMultimodalTextMessage(t)?t.content.parts.filter(n=>this.isPartAssetPointer(n)):[]}getImageAssetPointers(t){return this.isMultimodalTextMessage(t)?this.getImageAssetPointersFromParts(t.content.parts):[]}getImageAssetPointersFromParts(t){return t.filter(n=>this.isPartAssetPointer(n)&&n.content_type===fn.ImageAssetPointer)}getFrameAssetPointers(t){return this.isMultimodalTextMessage(t)?t.content.parts.flatMap(n=>{if(typeof n!="string"&&n.content_type===fn.RealTimeUserAudioVideoAssetPointer)return n.frames_asset_pointers}).filter(n=>!!n):[]}getAudioAssetPointers(t){return this.isMultimodalTextMessage(t)?t.content.parts.map(n=>{if(typeof n!="string")switch(n.content_type){case fn.AudioAssetPointer:return n;case fn.RealTimeUserAudioVideoAssetPointer:return n.audio_asset_pointer;default:return}}).filter(n=>!!n):[]}getVideoContainerAssetPointers(t){return this.isMultimodalTextMessage(t)?t.content.parts.flatMap(n=>typeof n!="string"&&n.content_type===fn.RealTimeUserAudioVideoAssetPointer?n.video_container_asset_pointer:null).filter(n=>!!n):[]}getPartsAsString(t){return this.isMultimodalTextMessage(t)?t.content.parts.map(n=>{if(typeof n=="string")return n;if(this.isPartAssetPointer(n))return`[media pointer="${n.asset_pointer}"]`;if(this.isPartRealTimeUserAudioVideoAssetPointer(n)){const r=n.audio_asset_pointer?.asset_pointer;return r&&`[media pointer="${r}"]`}else if(this.isPartAudioTranscription(n))return n.text}).filter(Boolean).join(`
`):""}}const Yh=new K7,Q7="contentReference";var qe=(e=>(e[e.BrowseTool=0]="BrowseTool",e[e.Browsing=1]="Browsing",e[e.CanmoreTool=2]="CanmoreTool",e[e.CodeInterpreter=3]="CodeInterpreter",e[e.CodeInterpreterTool=4]="CodeInterpreterTool",e[e.Dalle=5]="Dalle",e[e.DalleTool=6]="DalleTool",e[e.GizmoEditor=7]="GizmoEditor",e[e.JITPlugin=8]="JITPlugin",e[e.JITPluginTool=9]="JITPluginTool",e[e.ImagePreloadTool=10]="ImagePreloadTool",e[e.ModelEditableContext=11]="ModelEditableContext",e[e.MultimodalText=12]="MultimodalText",e[e.ParallelBrowsing=13]="ParallelBrowsing",e[e.ParallelBrowsingTool=14]="ParallelBrowsingTool",e[e.RetrievalBrowsing=15]="RetrievalBrowsing",e[e.RetrievalBrowsingTool=16]="RetrievalBrowsingTool",e[e.SearchResultTool=17]="SearchResultTool",e[e.SearchGPTQuery=18]="SearchGPTQuery",e[e.System=19]="System",e[e.Text=20]="Text",e[e.UserEditableContext=21]="UserEditableContext",e[e.UserModelBio=22]="UserModelBio",e[e.UserModelBioTool=23]="UserModelBioTool",e[e.Unknown=24]="Unknown",e[e.de1d73e=25]="de1d73e",e[e.a8km123=26]="a8km123",e[e.f959b8c=27]="f959b8c",e[e.b1de6e2=28]="b1de6e2",e[e.b1de6e2_c=29]="b1de6e2_c",e))(qe||{}),Mw=(e=>(e.BROWSER="browser",e.CANMORE="canmore",e.MTBROWSER="mtbrowser",e.WIKI_BROWSER="wiki_browser",e.MYFILES_BROWSER="myfiles_browser",e.FILE_SEARCH="file_search",e.GDRIVE_BROWSER="gdrive_browser",e.BROWSING_TEAM="browsing_team",e.BIO="bio",e.PYTHON="python",e.DALLE="dalle",e.GIZMO_EDITOR="gizmo_editor",e.JIT_PLUGIN="jit_plugin",e.SEARCH_RESULT="search_result",e.SEARCH_RESULTS="search_results",e.A8KM123="a8km123",e.SEARCHGPT="web",e.DE1D73E="de1d73e",e))(Mw||{});function Os(e){if(e.metadata?.b1de6e2)return 28;if(e.metadata?.b1de6e2_c)return 29;if(e.metadata?.f959b8c)return 27;if(e.author.role===z.Assistant){const t=x1(e.recipient);if(e.recipient==="browser"||e.recipient==="wiki_browser"||t?.namespace==="mtbrowser")return 1;if(e.recipient==="web")return 18;if(e.recipient==="myfiles_browser"||e.recipient==="gdrive_browser"||t?.namespace==="file_search"||t?.namespace==="myfiles_browser")return 15;if(e.recipient==="browsing_team")return 13;if(e.recipient==="bio")return 22;if(e.recipient==="python")return 3;if(t?.namespace==="dalle"||e.recipient==="dalle")return 5;if(t?.namespace==="gizmo_editor")return 7;if(t?.namespace==="canmore")return 2;if(t?.namespace==="de1d73e")return 25;if(w1(t?.namespace))return 8;if(t!=null)return 24;if(e.content.content_type===Ae.ModelEditableContext)return 11}else if(e.author.role===z.Tool){const t=x1(e.author.name);if(e.author.name==="browser"||e.author.name==="wiki_browser"||t?.namespace==="mtbrowser")return 0;if(e.author.name==="myfiles_browser"||e.author.name==="gdrive_browser"||e.author.name==="file_search"||t?.namespace==="file_search"||t?.namespace==="myfiles_browser")return 16;if(e.author.name==="browsing_team")return 14;if(e.author.name==="search_result"&&e.content.content_type===Ae.TetherQuote)return 17;if(e.author.name==="search_results"&&e.content.content_type===Ae.TetherBrowsingDisplay)return 10;if(e.author.name==="bio")return 23;if(e.author.name==="a8km123")return 26;if(e.author.name==="python")return 4;if(t?.namespace==="dalle"||e.author.name==="dalle")return 6;if(t?.namespace==="gizmo_editor")return 7;if(t?.namespace==="canmore")return 2;if(w1(t?.namespace))return 9;if(t?.namespace==="de1d73e")return 25;if(t!=null||e.author.name==="plugin_service")return X7(e)}else{if(e.author.role===z.System||e.author.role===z.Developer)return 19;if(e.author.role===z.User&&e.content.content_type===Ae.UserEditableContext)return 21}return e.content.content_type===Ae.Text||e.content.content_type===Ae.MultimodalText?20:24}function X7(e){return e.create_time&&e.create_time>17172e5?ae.addError("[Unknown tool] Encountered a message with an unknown tool. Rendering as Unknown message type, which is not visible.",{message:e}):ae.addError("[Unknown tool] Encountered a message with an unknown tool, which is most likely an old plugin. Rendering as Unknown message type, which may not appear as expected.",{message:e}),24}function Z7(e){return e.metadata?.finish_details!=null}function Kh(e){return e.content.content_type===Ae.Text?e.content.parts.some(t=>t.length>0)||(e.metadata?.content_references?.length??0)>0:e.content.content_type===Ae.MultimodalText?Yh.getPartsAsString(e).length>0:!1}function J7(e){return Kh(e)?!0:"text"in e.content?e.content.text.length>0:"result"in e.content?e.content.result.length>0:!1}function e8(e){return e.metadata?.finish_details?.type==="stop"}function Ew(e){return e.metadata?.finish_details?.type==="max_tokens"}function t8(e){return e.metadata?.finish_details?.type==="interrupted"}function n8(e){return e.metadata?.message_type==="continue"}function Nct(e){return e.recipient??""}function x1(e){if(e==null||!e.includes("."))return null;const[t,n]=e.split(".");return{namespace:t,functionName:n}}function r8(e,t){return{id:Fn(),author:{role:z.System},content:{content_type:Ae.Text,parts:Array.isArray(e)?e:[e]},metadata:t}}function s8(e){return r8([`The user is referring to this in particular:
${e}`],{exclude_after_next_user_message:!0})}function Rct(e){return{id:Fn(),author:{role:z.System},content:e,metadata:{rebase_system_message:!0},recipient:"all"}}function w1(e){if(!e)return!1;const t=e.split("__");return t.findIndex(n=>n==="jit_plugin")===t.length-1}function S1(e){return e.author.role===z.Assistant?e.metadata?.gizmo_id:void 0}function Qh(e){const t=Os(e);return t===19||t===22||t===23||t===11||t===24||e.metadata?.is_visually_hidden_from_conversation}function aO(e){if(Qh(e))return!1;switch(Os(e)){case 20:return Kh(e);case 2:return J7(e);default:return!1}}function o8(e){return Qh(e)?!1:Os(e)===20&&Kh(e)}function a8(e){try{const n=new Intl.Segmenter("en-US",{granularity:"grapheme"}).segment(e),r=[];for(const s of n)r.push(s.segment);return r}catch{return e.split("")}}function i8(e){const t=[];for(let n=0;n<e.length;n++){const r=e.codePointAt(n);r!==void 0&&(t.push(r),r>65535&&n++)}return t}function _1(e){return String.fromCodePoint(...e)}function c8(e){for(var t=-1,n=e==null?0:e.length,r=0,s=[];++t<n;){var o=e[t];o&&(s[r++]=o)}return s}var l8=c8;const Zn=ge(l8);function u8(e,t=[]){const n=iO(t);return cO(n,e,{includeDirectives:!1})}function d8(e,t=[],n,r,s=!0){const o=iO(t,r);let a=Zn(o.filter(({index:l,displayType:u})=>l!=null&&u).map(({newContentReference:l})=>l)),i=cO(o,e);return s&&(i=h8(i)),n&&({updatedText:i,updatedReferences:a}=p8(n,a,i)),{processedText:i,displayedContentReferences:a}}function iO(e=[],t){let n=0;return[...e].sort((s,o)=>s.start_idx-o.start_idx||s.end_idx-o.end_idx).reduce((s,o)=>{let a,i;switch(o.type){case"invalid":case"hidden":a={...o,type:"hidden",invalid:o.type==="invalid"};break;case"image_v2":case"nav_list":case"tldr":case"optimistic_image_citation":case"sources_footnote":case"sports_standings":case"sports_schedule":case"video":case"attribution_footer":case"file_navlist":i="block",a={...o};break;case"file":case"title_citation":case"location_search":case"time":case"grouped_webpages":case"grouped_webpages_v2":case"attribution":i="inline",a={...o};break;case"webpage":case"webpage_extended":i="inline",a={type:"grouped_webpages",matched_text:o.matched_text,start_idx:o.start_idx,end_idx:o.end_idx,alt:o.alt,prompt_text:o.prompt_text,items:[{...o}],safe_urls:o.safe_urls};break;case"calculator":case"stock":case"forecast":case"businesses_map":case"potatoes":i="block",a={...o};break;default:a={...o,type:"hidden",invalid:!0},i="alt";break}return s.push({originalContentReference:o,newContentReference:a,index:n++,displayType:i}),t&&s.push({originalContentReference:o,newContentReference:{type:"debug",matched_text:o.matched_text.replace(/(^【|】$)/g,""),...o.type==="webpage_extended"&&o.pub_date&&{pub_date:new Date(o.pub_date*1e3).toLocaleString()}},index:n++}),s},[])}const f8="";function cO(e,t,n={includeDirectives:!0}){let r="",s=0;const o=i8(t);let a=0;for(const i of e){const{originalContentReference:l,displayType:u}=i,{start_idx:d,end_idx:f}=l,h=o.slice(s,d);if(r+=_1(h),s=f,u){if(n.includeDirectives)switch(u){case"block":r+=Bv(a,"leaf","newline","newline");break;case"inline":{const g=r.length!==0&&r[r.length-1].match(/\s/)?void 0:"zero-width-space";r+=Bv(a,"inline",g);break}case"alt":r+=l.alt??"";break}a++}}return r+=_1(o.slice(s)),r}const C1="&#8203;";function Bv(e,t,n,r){const s=`${Q7}[oaicite:${e}]{index=${e}}`;return`${n==="zero-width-space"?C1:n==="newline"?`
`:""}${t==="leaf"?"::":":"}${s}${r==="zero-width-space"?C1:n==="newline"?`
`:""}`}function h8(e){let t=e;t=t.replace(/【[^】]*$/g,"");const n=t.match(/(\n|^):::/g);return n&&n.length%2===1&&(t+=`
:::`),t=t.replace(/^\d+$/,""),t}function p8(e,t,n){const r=e.find(o=>Os(o)===qe.CodeInterpreter),s=e.find(o=>Os(o)===qe.CodeInterpreterTool);if(r!=null&&s!=null){const o=t.length;n.endsWith("```")&&(n+=`
`),n+=" "+Bv(o,"inline","zero-width-space","zero-width-space"),t.push({type:"code_execution",codeMessage:r,codeExecutionOutputMessage:s})}return{updatedText:n,updatedReferences:t}}function Ar(e,t={shouldGetTextFromContentReferences:!1}){switch(e.content.content_type){case Ae.Text:{const n=e.content.parts.join("");return t.shouldGetTextFromContentReferences&&e.metadata?.content_references?u8(n,e.metadata.content_references):n}case Ae.MultimodalText:return Yh.getPartsAsString(e);case Ae.TetherBrowsingDisplay:return e.content.result;case Ae.TetherQuote:case Ae.TetherBrowsingCode:case Ae.Code:case Ae.ExecutionOutput:case Ae.SystemError:return e.content.text;case Ae.SystemMessage:case Ae.SystemContent:return e?.metadata?.__internal?.rendered_harmony_string??JSON.stringify(e.content,null,2);case Ae.UserEditableContext:return`${e.content.user_profile}
${e.content.user_instructions}`;default:return""}}const m8=xr({type:Hr(Sr),name:Hr(Sr),content:Hr(Sr)}),g8=xr({updates:H$(xr({pattern:Hr(Sr),multiple:Hr(qU),replacement:Hr(Sr)}))}),v8=xr({comments:H$(xr({pattern:Hr(Sr),comment:Hr(Sr)}))});function lO(e,t,n){const{id:r,author:s,recipient:o,create_time:a}=t;if(!a)throw new Error("Expected a create_time");const i=Ar(t),l=n?.metadata?.canvas;if(t?.metadata?.is_redacted||n?.metadata?.is_redacted||i==="The output of this plugin was redacted.")return{function:o,status:me.REDACTED,messageId:r,author:s,createdAt:a};switch(o){case Tt.CreateTextdoc:{const[u,d]=Mm(i,m8),f=l?.textdoc_type??(!u?.type||Bi(d,["type"])?void 0:Tw(u.type));return{function:Tt.CreateTextdoc,status:Em(e,t,n,d!=null),messageId:r,author:s,createdAt:a,textdocId:l?.textdoc_id,versionInt:km(l),title:u?.name,type:f,content:u?.content}}case Tt.UpdateTextdoc:{const[u,d]=Mm(i,g8,!e),f=u?.updates.map((h,m)=>({...h,isPartialPattern:Bi(d,["updates",m,"pattern"]),isPartial:Bi(d,["updates",m])}));return{function:Tt.UpdateTextdoc,status:Em(e,t,n,d!=null),messageId:r,author:s,createdAt:a,textdocId:l?.textdoc_id,versionInt:km(l),updates:f}}case Tt.CommentTextdoc:{const[u,d]=Mm(i,v8,!e),f=n?.metadata?.canvas?.comment_ids,h=u?.comments.map((m,g)=>({...m,id:f?.[g],isPartialPattern:Bi(d,["comments",g,"pattern"]),isPartial:Bi(d,["comments",g])}));return{function:Tt.CommentTextdoc,status:Em(e,t,n,d!=null),messageId:r,author:s,createdAt:a,textdocId:l?.textdoc_id,versionInt:km(l),comments:h}}}}function kw(e){return j7(e?.recipient)}function y8(e,t=0){for(let n=t;n<e.length;n++)if(kw(e[n].message))return!0;return!1}function Em(e,t,n,r){if(t?.metadata?.finish_details?.type==="interrupted")return me.CANCELED;if(n?.content.content_type===Ae.SystemError)return me.FAILED;if(e&&!n)return r?me.STREAMING:me.WAITING;const o=n?.metadata?.canvas;return o!=null&&o.is_failure!==!0?me.COMPLETE:me.FAILED}function km(e){return e?.version??e?.version_int}function b8(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var x8=b8;const ns=ge(x8);var T1=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function w8(e,t){return!!(e===t||T1(e)&&T1(t))}function S8(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!w8(e[n],t[n]))return!1;return!0}function ui(e,t){t===void 0&&(t=S8);var n=null;function r(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];if(n&&n.lastThis===this&&t(s,n.lastArgs))return n.lastResult;var a=e.apply(this,s);return n={lastResult:a,lastArgs:s,lastThis:this},a}return r.clear=function(){n=null},r}const _8=5;function uO(e,t){let n=null;for(let r=0;r<t.length;r++){const{message:s}=t[r];if(kw(s)){const o=r+1<t.length&&t[r+1].message.author.name===s.recipient?t[r+1].message:null;o&&r++;const a=lO(e,s,o);n?n.push(a):n=[a]}}return n}function C8(e,t,n){let r=null;const s=uO(e,n);if(!s)return r;for(const o of s){const a=T8(t,o);a&&(r?r=r.concat(a):r=a)}return r}const Pm=ui((e,t,n)=>{ae.addError(t,n)},([e],[t])=>e===t);function T8(e,t){if(t.status===me.FAILED||t.status===me.CANCELED)return null;if(t.function===Tt.CreateTextdoc){if(!t.type)return null;const o=Sw(t),a=t.content&&Lv(t.type)?y1(t.content):t.content;return[{kind:yt.CREATE,textdocId:t.textdocId??o,versionInt:t.versionInt,messageId:t.messageId,author:t.author,createdAt:t.createdAt,tempTextdocId:o,title:t.title??"",type:t.type,content:a??"",isPartial:t.status===me.STREAMING}]}const n=e?.latestTextdocId,r=t?.textdocId??n;if(t.status===me.COMPLETE&&(n?t?.textdocId&&t.textdocId!==n&&Pm(t.messageId,"Attempted to parse canmore operation with incorrect client latest target id",{latestTextdocId:n,toolCall:t}):Pm(t.messageId,"Attempted to parse canmore operation but latestTextdocId is unset",{toolCall:t})),!r)return null;const s=ns(xw(e,r)?.versions);if(!s)return t.status===me.COMPLETE&&Pm(t.messageId,"Attempted to parse canmore operation against unknown target id",{textdocId:r}),null;switch(t.function){case Tt.UpdateTextdoc:{const o=[],a=t.updates??[];for(let i=0;i<a.length;i++){const l=a[i];if(l.isPartialPattern&&l.pattern&&l.pattern.length<_8)continue;if(l.pattern===".*"){const f=l.replacement?Lv(s.type)?y1(l.replacement):l.replacement:"";return[{kind:yt.REWRITE,textdocId:r,versionInt:t.versionInt,messageId:t.messageId,createdAt:t.createdAt,author:t.author,content:f,isPartial:t.status===me.STREAMING&&l.isPartial,comments:[]}]}const u=E1(l.pattern,l.isPartialPattern,l.multiple);if(!u)continue;let d=!1;for(const f of M1(s.content,u,l.multiple)){d=!0;const h=k1(f),m=l.replacement&&L7(l.replacement,f);for(const g of o)if(g.at.end<=h.start){if(!g.isPartialRange){const v=g.at.start-g.at.end+g.content.length;h.start+=v,h.end+=v}}else g.at.start<h.end;o.push({kind:yt.EDIT,textdocId:r,versionInt:t.versionInt,messageId:t.messageId,author:t.author,createdAt:t.createdAt,at:h,content:m??"",isPartialRange:t.status===me.STREAMING&&l.isPartialPattern,isPartial:t.status===me.STREAMING&&l.isPartial})}if(!l.isPartialPattern&&!d)return null}return o.length>0?o:null}case Tt.CommentTextdoc:{const o=[],a=t.comments??[];for(let i=0;i<a.length;i++){const l=a[i],u=E1(l.pattern,l.isPartialPattern);if(!u)continue;let d=!1;for(const f of M1(s.content,u)){d=!0;const h=k1(f);h.end>h.start&&o.push({kind:yt.ADD_COMMENT,textdocId:r,versionInt:t.versionInt,messageId:t.messageId,author:t.author,createdAt:t.createdAt,id:l.id,tempId:sO(t,i),at:h,content:l.comment??"",isPartialRange:t.status===me.STREAMING&&l.isPartialPattern,isPartial:t.status===me.STREAMING&&l.isPartial})}if(!l.isPartialPattern&&!d)return null}return o.length>0?o:null}}}function*M1(e,t,n=!1){if(n)yield*e.matchAll(t);else{const r=e.match(t);r&&(yield r)}}function E1(e,t,n=!1){if(e)try{const r=F7(e,t);return new RegExp(r,n?"gsv":"sv")}catch(r){console.warn("Assistant returned invalid Regexp, dropping",{pattern:e,error:r})}}function k1(e){return{start:e.index,end:e.index+e[0].length}}const el=He(js(()=>({pastedTextdocs:{}}))),{setState:Yo}=el,dO={pasteContent:e=>{const t=B7();Yo(n=>{n.pastedTextdocs[t]={tempId:t,pastedAt:Date.now(),status:ha.INFERRING_TYPE,content:e,metadata:null}}),he.safePost("/conversation/textdocs/paste",{requestBody:{content:e}}).then(n=>{const{name:r,type:s}=n;Yo(o=>{o.pastedTextdocs[t].metadata={temp_id:t,title:r,type:Tw(s)}})}).finally(()=>{Yo(n=>{n.pastedTextdocs[t]&&(n.pastedTextdocs[t].status=ha.PENDING)})})},editPastedContent:(e,t)=>{Yo(n=>{n.pastedTextdocs[e].content=t})},markAllAsSent:()=>{Yo(e=>{for(const t of Object.keys(e.pastedTextdocs))e.pastedTextdocs[t].status===ha.PENDING?e.pastedTextdocs[t].status=ha.SENT:delete e.pastedTextdocs[t]})},removePastedContent:e=>{Yo(t=>{delete t.pastedTextdocs[e]})}},Xh=ui(({pastedTextdocs:e})=>e),M8=ui(e=>Object.values(e)),Pw=ui(e=>Object.values(e).filter(t=>t.status!==ha.SENT)),jct=()=>Pw(Xh(el.getState())),E8=()=>el(e=>M8(Xh(e))),Dct=()=>el(e=>Pw(Xh(e))),Lct=()=>el(e=>Pw(Xh(e)).length>0),Aw=()=>({lastFlushedAt:null,lastTriggeredAt:null}),$w=He(js(()=>({userEdits:{},timestamps:{}}))),{setState:Zh}=$w,Fct=e=>$w(({timestamps:t})=>(t[e]?.lastTriggeredAt??0)>(t[e]?.lastFlushedAt??0)),Bct=e=>{Zh(t=>{t.timestamps[e]??=Aw(),t.timestamps[e].lastTriggeredAt=Date.now()})},Uct=({textdocId:e,basedOnVersionInt:t,content:n,comments:r})=>{Zh(s=>{s.timestamps[e]??=Aw(),s.timestamps[e].lastFlushedAt=Date.now(),s.userEdits[e]??=[],s.userEdits[e].push({content:n,basedOnVersionInt:t,nextVersionInt:null,isPending:!0,comments:r})})},Vct=({textdocId:e,basedOnVersionInt:t,newVersion:n})=>{Zh(r=>{r.userEdits[e]??=[];for(const s of r.userEdits[e])if(s.basedOnVersionInt===t){s.isPending=!1,s.nextVersionInt=n;break}})},k8=e=>{Zh(t=>{for(const{textdocId:n,versionInt:r}of e){const s=t.userEdits[n];s&&(t.userEdits[n]=s.filter(o=>o.basedOnVersionInt>(r??Ur)),s.length===0&&(t.timestamps[n]=Aw()))}})},P8=ui(({userEdits:e})=>e),A8=ui(e=>{const t=new Map;for(const[n,r]of Object.entries(e)){const s=ns(r);if(!s)continue;const{content:o,comments:a,nextVersionInt:i,basedOnVersionInt:l}=s;t.set(n,{textdocId:n,comments:a,content:o,versionInt:i??l})}return t}),$8=()=>$w(e=>A8(P8(e)));var Ow={exports:{}},Ma=typeof Reflect=="object"?Reflect:null,P1=Ma&&typeof Ma.apply=="function"?Ma.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},ju;Ma&&typeof Ma.ownKeys=="function"?ju=Ma.ownKeys:Object.getOwnPropertySymbols?ju=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:ju=function(t){return Object.getOwnPropertyNames(t)};function O8(e){console&&console.warn&&console.warn(e)}var fO=Number.isNaN||function(t){return t!==t};function Qe(){Qe.init.call(this)}Ow.exports=Qe;Ow.exports.once=j8;Qe.EventEmitter=Qe;Qe.prototype._events=void 0;Qe.prototype._eventsCount=0;Qe.prototype._maxListeners=void 0;var A1=10;function Jh(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Qe,"defaultMaxListeners",{enumerable:!0,get:function(){return A1},set:function(e){if(typeof e!="number"||e<0||fO(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");A1=e}});Qe.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Qe.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||fO(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function hO(e){return e._maxListeners===void 0?Qe.defaultMaxListeners:e._maxListeners}Qe.prototype.getMaxListeners=function(){return hO(this)};Qe.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var s=t==="error",o=this._events;if(o!==void 0)s=s&&o.error===void 0;else if(!s)return!1;if(s){var a;if(n.length>0&&(a=n[0]),a instanceof Error)throw a;var i=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw i.context=a,i}var l=o[t];if(l===void 0)return!1;if(typeof l=="function")P1(l,this,n);else for(var u=l.length,d=yO(l,u),r=0;r<u;++r)P1(d[r],this,n);return!0};function pO(e,t,n,r){var s,o,a;if(Jh(n),o=e._events,o===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),a===void 0)a=o[t]=n,++e._eventsCount;else if(typeof a=="function"?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),s=hO(e),s>0&&a.length>s&&!a.warned){a.warned=!0;var i=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");i.name="MaxListenersExceededWarning",i.emitter=e,i.type=t,i.count=a.length,O8(i)}return e}Qe.prototype.addListener=function(t,n){return pO(this,t,n,!1)};Qe.prototype.on=Qe.prototype.addListener;Qe.prototype.prependListener=function(t,n){return pO(this,t,n,!0)};function I8(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function mO(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},s=I8.bind(r);return s.listener=n,r.wrapFn=s,s}Qe.prototype.once=function(t,n){return Jh(n),this.on(t,mO(this,t,n)),this};Qe.prototype.prependOnceListener=function(t,n){return Jh(n),this.prependListener(t,mO(this,t,n)),this};Qe.prototype.removeListener=function(t,n){var r,s,o,a,i;if(Jh(n),s=this._events,s===void 0)return this;if(r=s[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete s[t],s.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(o=-1,a=r.length-1;a>=0;a--)if(r[a]===n||r[a].listener===n){i=r[a].listener,o=a;break}if(o<0)return this;o===0?r.shift():N8(r,o),r.length===1&&(s[t]=r[0]),s.removeListener!==void 0&&this.emit("removeListener",t,i||n)}return this};Qe.prototype.off=Qe.prototype.removeListener;Qe.prototype.removeAllListeners=function(t){var n,r,s;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var o=Object.keys(r),a;for(s=0;s<o.length;++s)a=o[s],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(s=n.length-1;s>=0;s--)this.removeListener(t,n[s]);return this};function gO(e,t,n){var r=e._events;if(r===void 0)return[];var s=r[t];return s===void 0?[]:typeof s=="function"?n?[s.listener||s]:[s]:n?R8(s):yO(s,s.length)}Qe.prototype.listeners=function(t){return gO(this,t,!0)};Qe.prototype.rawListeners=function(t){return gO(this,t,!1)};Qe.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):vO.call(e,t)};Qe.prototype.listenerCount=vO;function vO(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Qe.prototype.eventNames=function(){return this._eventsCount>0?ju(this._events):[]};function yO(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function N8(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function R8(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function j8(e,t){return new Promise(function(n,r){function s(a){e.removeListener(t,o),r(a)}function o(){typeof e.removeListener=="function"&&e.removeListener("error",s),n([].slice.call(arguments))}bO(e,t,o,{once:!0}),t!=="error"&&D8(e,s,{once:!0})})}function D8(e,t,n){typeof e.on=="function"&&bO(e,"error",t,n)}function bO(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function s(o){r.once&&e.removeEventListener(t,s),n(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var L8=Ow.exports;const xO=ge(L8);var Iw=(e=>(e.READY="ready",e.LOG="log",e.OUTPUT="output",e.ERROR="error",e.RUN_COMPLETE="run_complete",e))(Iw||{});xr({id:Hr(Sr),type:K$(["python","javascript","typescript"]),code:Sr});function F8(){let e=null;const t=new Promise(n=>e=n);return{resolve:e,promise:t}}function B8(e){let t=null;const n=[];let r=!1;return e.on("message",s=>{t?(t({value:s,done:r}),t=null):n.push(s),s.type===Iw.RUN_COMPLETE&&(r=!0)}),{[Symbol.asyncIterator](){return this},next(){if(n.length>0){const s=n.shift();return Promise.resolve({value:s,done:r})}return r?Promise.resolve({value:void 0,done:r}):new Promise(s=>{t=s})}}}const U8=(e,t)=>{const n=p.useRef(null),[r]=p.useState(F8),s=p.useRef(null),o=p.useRef(new Map),a=p.useCallback(async function*(i){await r.promise;const l=Fn(),u=new xO;o.current.set(l,u),s.current?.postMessage({...i,id:l});for await(const d of B8(u))d&&(yield d);o.current.delete(l)},[r.promise]);return p.useImperativeHandle(t,()=>({evalAsync:a})),p.useEffect(()=>bA(window,{message:i=>{if(i.source!==n?.current?.contentWindow)return;const{data:l,ports:u}=i,{type:d}=l;if(s.current=u[0],d===Iw.READY)r.resolve?.();else{const{id:f}=l,h=o.current.get(f);Za(h).emit("message",l)}}}),[r]),c.jsx("iframe",{className:"fixed h-0 w-0","aria-hidden":"true",src:"/code_execution_sandbox",ref:n,tabIndex:-1})};p.forwardRef(U8);const Gct=()=>{const{value:e}=Ot("3700195277");return e||!1},Wct=()=>{const{value:e}=Ot("711369489");return e},V8=()=>{const{value:e}=Ot("467934241");return e},wO=p.createContext(null),Hct=()=>Za(p.useContext(wO),"useSandbox must be called from within a SandboxRefContext provider"),G8=({children:e,isEnabled:t})=>{V8();const n=p.useRef(null);return c.jsxs(wO.Provider,{value:n,children:[e,!1]})},W8=(e,t)=>{const{messages:n}=t;for(let s=n.length-1;s>=0;s--){const{message:{author:o,id:a,metadata:i}}=n[s],l=i?.canvas;if(l?.resolve_pasted_textdoc_id){const{resolve_pasted_textdoc_id:d}=l;e=mo(e,f=>{f.latestTextdocId=Object.values(d)[0],f.resolveTempTextdocId={...f.resolveTempTextdocId,...d}})}const u=i?.open_in_canvas_view?.id??l?.textdoc_id;if(u){e=mo(e,d=>{d.latestTextdocId=u??null,o.role===z.Tool&&(d.lastCanvasAssistantMessageById[u]=a)});break}}const r=uO(!1,n);if(!r)return e;for(const s of r)e=mo(e,o=>{if(s.function===Tt.CreateTextdoc){const{textdocId:a}=s;a&&(o.resolveTempTextdocId[Sw(s)]=a)}else if(s.function===Tt.CommentTextdoc){const{comments:a=[]}=s;for(let i=0;i<a.length;i++){const{id:l}=a[i];if(l){const u=sO(s,i);o.resolveTempCommentId[l]=u}}}});return e};function H8(){return new WeakMap}function SO(e,t,n){const r=t[n];let s=e.get(r);if(!s){const o=n===0?tO():SO(e,t,n-1);s=W8(o,r),e.set(r,s)}return s}function z8(e,t){return t.length===0?null:SO(e,t,t.length-1)}function q8(e){const[t]=p.useState(H8);return p.useMemo(()=>z8(t,e),[t,e])}function _O(e){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n.message.author.role===z.Assistant&&n.message.recipient?.startsWith(Mw.CANMORE))return n}}function CO(e){for(let t=e.length-1;t>=0;t--){const n=e[t].message.author;if(n.role===z.Tool&&n.name?.startsWith(Ps))return e[t]}}function TO(e,t){const n=[];let r=0,s=0;for(const o of t)n[s]=r,r+=o.length,s+=1;return n[s]=r,e.map(o=>{const{start:a,end:i}=o;return{start:n[a],end:n[i]}})}function Y8(e,t){const n=[];let r=0,s=0;for(const o of t)n[r]=s,o.length===2?(n[r+1]=s,r+=2):r+=1,s+=1;return n[r]=s,e.map(o=>{const{start:a,end:i}=o;return{start:n[a],end:n[i]}})}function Uv(e,t){const n=e.map(({content:o,id:a,start:i,end:l})=>({id:a,at:{start:i,end:l},content:o})),r=n.map(o=>o.at),s=TO(r,t);return n.map((o,a)=>({...o,at:s[a]}))}function zct(e,t){const n=e.map(o=>o.at),r=Y8(n,t);return e.map((o,a)=>({...o,at:r[a]})).map(({content:o,id:a,at:i})=>({id:a,start:i.start,end:i.end,content:o}))}const K8=(e,t)=>{const n=TO(t,e),r=[];for(let o=0;o<n.length;o++){const{start:a}=n[o];let i=0;const l=n.slice(0,o).entries();for(const[u,d]of l)if(a>d.start||a>d.end){const f=d.end-d.start,h=t[u].content.length;i+=h-f}r.push(i)}const s=[];for(let o=0;o<n.length;o++){const{content:a}=t[o],i=n[o],{start:l}=i,u=r[o],d={start:l+u,end:l+u+a.length};s.push({id:`edit-${o}`,content:a,positionBefore:i,positionAfter:d})}return s},Q8=(e,t)=>he.safeGet("/textdoc/{textdoc_id}/diff/{version}",{parameters:{path:{textdoc_id:e,version:t}}});function X8(e,t){const n=e.filter(r=>r.op_type==="edit");return K8(t,n)}const Z8=async(e,t)=>{if(t===1)return null;const{content_before:n,content_after:r,comments_before:s,comments_after:o,operations:a}=await Q8(e,t??-1);return{edits:X8(a,n),contentBefore:n,contentAfter:r,commentsBefore:Uv(s,n),commentsAfter:Uv(o,r)}},MO=(e,t)=>({queryKey:[e,t,"edit"],enabled:t!=null,gcTime:1e3*60*5,queryFn:()=>Z8(e,t)});function qct(e,t){const{data:n=null,isLoading:r}=_e(MO(e,t));return{data:n,isLoading:r}}function EO(){const e=Fe();return p.useCallback(async(t,n)=>{await e.prefetchQuery(MO(t,n))},[e])}const kO=He(()=>({optimisticRestore:null})),{setState:Du,getState:J8}=kO;function e9(e){Du(t=>{if(t.optimisticRestore){for(const{textdocId:n,versionInt:r}of e)if(t.optimisticRestore.textdocId===n&&t.optimisticRestore.versionInt!==-1&&(t.optimisticRestore.versionInt??Ur)<=(r??Ur))return{optimisticRestore:null}}return t})}function PO(){return kO(e=>e.optimisticRestore)}function Yct(e,t,n){const r=Fe(),{mutateAsync:s}=St({mutationKey:["canvas","textdoc","persist"],mutationFn:t9,retry:2,onSuccess:()=>{e&&r.invalidateQueries({queryKey:[e,"textdocs"]})}}),o=PO(),a=p.useCallback(async()=>{if(!t||!n||t.versionInt==null||n.versionInt==null||J8().optimisticRestore!=null)return;const{textdocId:i,versionInt:l}=t,u=n.versionInt,d={...n,versionInt:-1};Du(()=>({optimisticRestore:d})),Q$(i);try{const f=await s({textdocId:i,versionInt:l,restoreFromVersionInt:u});Du(h=>({optimisticRestore:h.optimisticRestore&&{...h.optimisticRestore,versionInt:f}}))}catch{Du(()=>({optimisticRestore:null})),YU(i,{version:u})}},[t,n,s]);return{optimisticRestoredTextdocVersion:o,restoreHistoricalTextdocVersion:a}}async function t9({textdocId:e,versionInt:t,restoreFromVersionInt:n}){return(await he.safePost("/textdoc/{textdoc_id}/restore",{parameters:{path:{textdoc_id:e}},requestBody:{version:t,restore_from_version:n}})).version}const n9=async({lastVersion:e,textdocId:t,commentId:n,reason:r})=>(await he.safeDelete("/textdoc/{textdoc_id}/{version}/comment/{comment_id}",{parameters:{query:{reason:r},path:{textdoc_id:t,version:String(e),comment_id:n}}})).version,Vv=He(()=>({persistingOp:null,ops:[]})),{setState:Lu,getState:r9}=Vv,s9=()=>{const e=Vv(({ops:n})=>n),t=Vv(({persistingOp:n})=>n);return p.useMemo(()=>[...e,t].filter(W$),[e,t])},o9=e=>{Lu(t=>{let n=t.ops;for(const{textdocId:r,versionInt:s}of e)n=n.filter(o=>o.textdocId!==r||(o.versionInt??Ur)>(s??Ur));return{ops:n}})},Kct=e=>p.useCallback(async(t,n)=>{const r=!!r9().persistingOp,s=e?.versionInt,o=e?.textdocId;if(r||s==null||o==null)return!1;const a={kind:yt.REMOVE_COMMENT,textdocId:o,author:{role:z.User},versionInt:s,createdAt:Date.now()/1e3,commentId:t,reason:n};Lu(({ops:i})=>({ops:i,isPersisting:!0,persistingOp:a}));try{const i=await n9({lastVersion:s,textdocId:o,commentId:t,reason:n});return Lu(({ops:l})=>({ops:[...l,{...a,versionInt:i}],isPersisting:!1,persistingOp:null})),i}catch{return Lu(({ops:i})=>({ops:i,isPersisting:!1,persistingOp:null})),!1}},[e]);var Rn=(e=>(e.Success="success",e.Error="error",e.Canceled="canceled",e))(Rn||{});const ps=zc(()=>({activeRequests:{}})),AO=e=>Ja(ps,e);function ep(e){return AO(t=>t.activeRequests[e]!=null)}function Qct(){return AO(e=>Object.keys(e.activeRequests).length>0)}const Qr={addRequest(e,t,n){ps.setState(r=>({activeRequests:{...r.activeRequests,[e]:{id:e,abortController:t,turnTracker:n}}}))},removeRequest(e){ps.setState(t=>{const n={...t.activeRequests};return delete n[e],{activeRequests:n}})},clear(){ps.setState({activeRequests:{}})},abortRequest(e){const{activeRequests:t}=ps.getState();return t[e]!=null?(t[e].turnTracker.logCompletion({type:Rn.Canceled}),t[e].abortController.abort(),Qr.removeRequest(e),!0):!1},abortRequests(e){const{activeRequests:t}=ps.getState(),n={...t};for(const r of e)n[r]!=null&&(t[r].turnTracker.logCompletion({type:Rn.Canceled}),n[r].abortController.abort(),delete n[r]);ps.setState({activeRequests:n})},abortAllRequests(){const{activeRequests:e}=ps.getState();Object.values(e).forEach(t=>{t.turnTracker.logCompletion({type:Rn.Canceled}),t.abortController.abort()}),Qr.clear()}};function $O(){const e=Io();return i9(e.pathname)}function OO(e){const n=new URL(`http://example.com${e}`).pathname.match(/(?:\/gizmo)?\/g\/([^/]+)/);if(n)return n[1]}function a9(e){const t=e.split("-");return t.length>1&&t[0]==="g"?`g-${t[1]}`:t[0]}function i9(e){const t=OO(e);if(t)return a9(t)}function Nw(e){return{id:e.slug,maxTokens:e.max_tokens,title:e.title,description:e.description,tags:e.tags,enabledTools:e.enabled_tools,product_features:e.product_features}}const tp="gpt-4o-mini";var dc=(e=>(e.GPT4o="AG8PqS2q",e.AUTO="auto",e))(dc||{});const Rw=e=>{const{categoryId:t}=e;return t==="auto"},c9=p.createContext(()=>Promise.resolve()),l9=p.createContext(null),IO=p.createContext(null);p.createContext({onDismount:()=>{}});class NO{emitter=new xO;constructor(){this.emitter.setMaxListeners(1e3)}on(t,n){this.emitter.on(t,n)}off(t,n){this.emitter.off(t,n)}publish(t){this.emitter.emit(t.kind,t),this.emitter.emit("anyEvent",t)}}const xo=new NO,Mc="request-";function $1(e){const t=Fn();return`${e}${t.substring(e.length)}`}class jn{#e;#t;constructor(t){this.#e=t??jn.createTree();const n=Object.values(this.#e).find(r=>r.message.author.role===z.Root);this.#t=n?.id??"root"}static createTree(){return{root:{id:"root",children:[],parentId:"",message:jn.createRootMessage()}}}static createRootMessage(){return{id:$1("aaa1"),author:{role:z.Root},content:{content_type:Ae.Text,parts:[]}}}static getRequestIdFromConversationTurn(t){for(let n=t.messages.length-1;n>=0;n--){const r=t.messages[n];if(r.nodeId.startsWith(Mc))return r.nodeId}for(const n of t.variantIds)if(n.startsWith(Mc))return n;return t.messages[0].nodeId}static getTextAsMessage(t,n,r){const s={content_type:Ae.Text,parts:[t]};return this.getContentAsMessage(s,n,r)}static getContentAsMessage(t,n,r){return{id:$1("aaa2"),author:{role:n},content:t,metadata:r}}get hasReceivedServerCompletion(){const t=this.getFirstPrompt();if(!t)return!1;const n=t.children[0];return n==null?!0:this.getNodeByIdOrMessageId(n)?.children.length!==0}hasNodeOrMessageId(t){return this.#e[t]!=null||Object.values(this.#e).some(n=>n.message.id===t)}getNodeByIdOrMessageId(t){if(this.#e[t]!=null)return this.#e[t];for(const n of Object.values(this.#e))if(n.message.id===t)return n;if(t==="root")return this.#e[this.#t];throw new Error(`getNodeByIdOrMessageId - no node found by id: ${t}`)}countMessagesByAuthor(t){return Object.values(this.#e).filter(n=>n.message.author.role===t).length}getMessage(t){return this.getNodeByIdOrMessageId(t).message}getMessageId(t){return this.getNodeByIdOrMessageId(t).message.id}getMetadata(t){return this.getNodeByIdOrMessageId(t).metadata}getLeafFromNode(t){let n=this.getNodeByIdOrMessageId(t);for(;;){if(n.children.length===0)return n;const r=n.children.values().next().value;n=this.getNodeByIdOrMessageId(r)}}getParent(t){const n=this.getNodeByIdOrMessageId(t).parentId;return this.getNodeByIdOrMessageId(n)}getParentId(t){return this.getParent(t)?.id||"root"}getBranchFromLeaf(t){let n=[],r=this.getNodeByIdOrMessageId(t);for(;r!=null;){if(n.includes(r)){ae.addError(`Infinite loop detected in getBranchFromLeaf. Branch already contains node ${r?.id}. Parent id: ${r?.parentId}.`,{branch:n});break}if(n.push(r),r.message.author.role===z.Root)break;r=this.getNodeByIdOrMessageId(r.parentId)}return n=n.reverse(),n}getChildrenFromNode(t){const n=this.getNodeByIdOrMessageId(t);return n==null?[]:Array.from(n.children).map(r=>this.getNodeByIdOrMessageId(r))}getFirstPrompt(){let t=this.getNodeByIdOrMessageId(this.#t);for(;;){if(t==null)return;if(t.message.author.role===z.User||t.message.author.role===z.System&&t.message.metadata?.upload_filename)return t;if(t.children.length==0)return;t=this.getNodeByIdOrMessageId(t.children[0])}}getUserContext(){let t=this.getNodeByIdOrMessageId(this.#t);for(;;){if(t==null)return;if(t.message.metadata?.is_user_system_message)return t;if(t.message.author.role===z.User||t.children.length==0)return null;t=this.getNodeByIdOrMessageId(t.children[0])}}findNode(t){return Object.values(this.#e).find(t)}isMessageIncomplete(t){const n=this.getMessage(t);return Ew(n)}addNodeToEnd(t,n){const r=this.getNodeByIdOrMessageId(t);if(r==null)return ae.addError(`Cannot addNodeToEnd with parentNodeId: ${t} - not found`),{[n.id]:n};this.#e=qn(this.#e,s=>{s[n.id]=n,s[r.id].children=Array.from(new Set([...s[r.id].children,n.id]))})}insertNodeBefore(t,n){const r=this.getNodeByIdOrMessageId(this.getParentId(t));if(r==null){ae.addError(`Cannot insertNodeBefore with parentNodeId: ${t} - not found`);return}const s=r.id;this.#e=qn(this.#e,o=>{o[t].parentId=n.id,o[s].children=Array.from(new Set([...o[s].children.filter(a=>a!==t),n.id])),n.children.includes(t)||(n.children=[t,...n.children]),n.parentId=s,o[n.id]=n})}appendSystemMessageToRoot(t){let n=this.getNodeByIdOrMessageId(this.#t);for(;n.children.length===1;){const o=this.getNodeByIdOrMessageId(n.children[0]);if(o.message.author.role===z.System)n=o;else break}const r=n.children.map(o=>this.getNodeByIdOrMessageId(o)),s={id:t.id,children:n.children,parentId:n.id,message:t};this.#e=qn(this.#e,o=>{o[s.id]={...o[s.id],...s},o[n.id].children=[s.id],r.forEach(a=>{o[a.id].parentId=s.id})})}addNode(t,n,r,s,o,a){if(t===r)throw new Error(`addNode: parentId and id cannot be the same: ${t}`);const i=typeof n=="string"?jn.getTextAsMessage(n,s,a):"content_type"in n?jn.getContentAsMessage(n,s,a):n;s===z.User&&(i.create_time??=Date.now()/1e3);const l={id:this.messageIdToNodeId(t),children:[],parentId:this.messageIdToNodeId(r),message:i};o!=null&&(l.metadata=o),this.addNodeToEnd(r,l)}deleteNodesByFilter(t){const n=Object.values(this.#e).filter(t).map(r=>r.id);for(const r of n)this.deleteNode(r);return n}deleteNode(t){const n=this.getNodeByIdOrMessageId(t);this.#e=qn(this.#e,r=>{const s=n.parentId,o=n.children;for(const i of o){const l=r[this.messageIdToNodeId(i)];l.parentId=s}const a=r[this.messageIdToNodeId(s)];if(a==null){console.warn(`Cannot deleteNode with nodeId: ${t} - parent not found. Either this is root or in an orphaned branch`);return}a.children=a.children.flatMap(i=>this.messageIdToNodeId(i)===this.messageIdToNodeId(n.id)?o:[i]),delete r[n.id]})}clearNodeMessageParts(t){this.#e=qn(this.#e,n=>{const r=n[this.messageIdToNodeId(t)];r?.message&&"parts"in r.message.content&&(r.message.content.parts=[])})}updateNodeMetadata(t,n){this.#e=qn(this.#e,r=>{const s=r[this.messageIdToNodeId(t)];s&&(s.metadata={...s?.metadata??{},...n})})}updateNodeMessage(t,n){this.#e=qn(this.#e,r=>{const s=this.messageIdToNodeId(t),o=r[s].message;if(o.metadata?.finish_details!=null)try{r[s].message={...n,metadata:{...n.metadata,finish_details:o.metadata.finish_details}},ae.addAction("Race condition updating message, prevented finish_details from being overwritten");return}catch(a){ae.addError(`Error updating finish details: ${a}`)}r[s].message=n})}updateNodeMessageMetadata(t,n){this.#e=qn(this.#e,r=>{const s=r[this.messageIdToNodeId(t)];s.message.metadata={...s.message.metadata,...n}})}isRoot(t){return this.getNodeByIdOrMessageId(t).message.author.role===z.Root}getTextFromNode(t){return Ar(this.getMessage(t))}getHasErrorFromNode(t){const n=this.getNodeByIdOrMessageId(t);return n?.metadata?.errType==="danger"||n?.metadata?.errType==="warning"}getTextFromThread(t){return this.getBranchFromLeaf(t).filter(r=>![z.Root,z.System,z.Developer].includes(r.message.author.role)).map(r=>Ar(r.message)).join(`

`)}getConversationTurns(t){const n=[];return this.getBranchFromLeaf(t).forEach(r=>{const{id:s,parentId:o,message:a,metadata:i}=r,l=ns(n);if(u9(l,a)){l.messages.push({nodeId:s,parentId:o,message:a,...i}),(l.role===z.System||l.role===z.Developer)&&(l.role=a.author.role);const u=S1(a);u&&(l.gizmoId=u)}else n.push({role:a.author.role,recipient:a.recipient,messages:[{nodeId:s,parentId:o,message:a,...i}],isModelEditableContextMessage:Os(a)===qe.ModelEditableContext,gizmoId:S1(a),...this.getTurnVariants(r)})}),n}getTurnVariants(t){let n=t.parentId?this.getNodeByIdOrMessageId(t.parentId):void 0;function r(d){return d?d.message.author.role===z.System||Os(d.message)===qe.ModelEditableContext:!1}for(;r(n)&&n?.children.length===1&&n.parentId;)n=this.getNodeByIdOrMessageId(n.parentId);const s=d=>{let f=d;for(;r(f)&&f.children.length===1;)f=this.getNodeByIdOrMessageId(f.children[0]);return f},o=(n?.children??[t.id]).map(d=>s(this.getNodeByIdOrMessageId(d))).filter(d=>d.message.author.role!==z.System).map(d=>d.id),a=n?.message.metadata,i=a?.paragen_variants_info,l=a?.paragen_variant_choice,u=n?.metadata?.variantsInStreamInfo??(l?void 0:i);return{variantIds:o,variantsInStreamInfo:u}}getLastValidNode(t){let n=this.getNodeByIdOrMessageId(t);for(;n!=null&&!(n==null||n.metadata?.err==null);)n=this.getNodeByIdOrMessageId(n.parentId);return n}getParentPromptNode(t){let n=this.getNodeByIdOrMessageId(t);for(;n!=null&&!(n==null||[z.User,z.Root].includes(n.message.author.role)||n.message.author.metadata?.is_system_initiated_conversation);)n=this.getNodeByIdOrMessageId(n.parentId);return n}messageIdToNodeId(t){if(this.#e[t]!=null)return t;for(const n of Object.values(this.#e))if(n.message?.id===t)return n.id;return t}containsNodeOrMessageId(t){const n=this.messageIdToNodeId(t);return this.#e[n]!=null}isAncestorOfNode(t,n){return!t||!n?!1:this.getBranchFromLeaf(n).some(s=>s.id===t||s.message.id===t)}prettyPrint(t,n=0){t??=this.#t;let r=`${"	".repeat(n)}->${t} - ${this.getTextFromNode(t).replaceAll(`
`,"\\n")}
`;const s=this.getChildrenFromNode(t);for(const o of s)r+=this.prettyPrint(o.id,n+1);return r}}function u9(e,t){return!e||t.metadata?.is_indepth_feedback?!1:e.role===t.author.role||e.isModelEditableContextMessage&&(t.author.role===z.Assistant||t.author.role===z.System)||e.role!==z.User&&t.author.role===z.Tool||e.role===z.Tool&&t.author.role===z.Assistant?!0:ns(e.messages)?.message?.author.metadata?.is_system_initiated_conversation?!1:(e.role===z.System||e.role===z.Developer)&&t.author.role===z.Assistant||e.role===z.Tool&&(t.author.role===z.System||t.author.role===z.Developer)}var Dn=(e=>(e.ContentOrTos="content_or_tos",e.ContentPolicy="content_policy",e.ModelIncompatibility="model_incompatibility",e.ContentRegurgitation="content_regurgitation",e))(Dn||{});const RO={errType:"warning",errCode:"content_policy"},jO={errType:"danger",errCode:"model_incompatibility"},DO={err:"Contents may violate our content policy",errType:"danger",errCode:"content_policy"},LO=(e,t)=>!e.length||t?null:{disclaimers:e},d9=()=>({lastModelUsed:null,createTime:new Date,isArchived:!1});function f9(e){const t=Object.values(e.mapping).find(i=>i.parent===null)?.id,n=new Set,r=new Set,s=new Set,o=new Map;(e.moderation_results??[]).forEach(i=>{o.set(i.message_id,i),i.blocked?r.add(i.message_id):i.flagged&&n.add(i.message_id),i.disclaimers?.length&&!i.blocked&&s.add(i.message_id)});const a=Object.keys(e.mapping).reduce((i,l)=>{const{parent:u,children:d,...f}=e.mapping[l],h=e.mapping[l].message??jn.createRootMessage(),m={},g=o.get(h.id);let v=!1;if(r.has(h.id)){const y=g?.metadata?.model_incompatibility;Object.assign(m,y?jO:DO),v=!0}else n.has(h.id)&&Object.assign(m,RO);if(s.has(h.id)&&h.author.role!==z.User){const y=o.get(h.id);y?.disclaimers?.length&&Object.assign(m,LO(y.disclaimers,v))}return i[l]={...f,message:h,children:d??[],parentId:u||"",...m&&{metadata:m}},i},{});return{rootId:t,mapping:a,initialCurrentLeafId:e.current_node}}var h9=ei,p9=Eh,m9=Mh;function g9(e){return function(t,n,r){var s=Object(t);if(!p9(t)){var o=h9(n);t=m9(t),n=function(i){return o(s[i],i,s)}}var a=e(t,n,r);return a>-1?s[o?t[a]:a]:void 0}}var v9=g9;function y9(e,t,n,r){for(var s=e.length,o=n+(r?1:-1);r?o--:++o<s;)if(t(e[o],o,e))return o;return-1}var FO=y9,b9=/\s/;function x9(e){for(var t=e.length;t--&&b9.test(e.charAt(t)););return t}var w9=x9,S9=w9,_9=/^\s+/;function C9(e){return e&&e.slice(0,S9(e)+1).replace(_9,"")}var T9=C9,M9=T9,O1=ti,E9=xA,I1=NaN,k9=/^[-+]0x[0-9a-f]+$/i,P9=/^0b[01]+$/i,A9=/^0o[0-7]+$/i,$9=parseInt;function O9(e){if(typeof e=="number")return e;if(E9(e))return I1;if(O1(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=O1(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=M9(e);var n=P9.test(e);return n||A9.test(e)?$9(e.slice(2),n?2:8):k9.test(e)?I1:+e}var jw=O9,I9=jw,N1=1/0,N9=17976931348623157e292;function R9(e){if(!e)return e===0?e:0;if(e=I9(e),e===N1||e===-N1){var t=e<0?-1:1;return t*N9}return e===e?e:0}var j9=R9,D9=j9;function L9(e){var t=D9(e),n=t%1;return t===t?n?t-n:t:0}var F9=L9,B9=FO,U9=ei,V9=F9,G9=Math.max,W9=Math.min;function H9(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var s=r-1;return n!==void 0&&(s=V9(n),s=n<0?G9(r+s,0):W9(s,r-1)),B9(e,U9(t),s,!0)}var BO=H9;const z9=ge(BO);var q9=v9,Y9=BO,K9=q9(Y9),Q9=K9;const UO=ge(Q9);function VO(e,t,n){if(n)return n;const r=e[t];return r?.message?.metadata?.model_slug?r.message.metadata.model_slug:r?.parentId?VO(e,r.parentId):null}let X9=0;function Z9(){return X9++}function $r(e){return e.startsWith(wA)}const J9=()=>new jn,eV=()=>Object.freeze({lastModelUsed:null,createTime:new Date});var tl=(e=>(e.NewChat="NewChat",e.Server="Server",e.User="User",e.Generated="Generated",e.Unknown="Unknown",e))(tl||{});const Am={},Se=He(js(()=>({threads:{},clientNewThreadIdToServerIdMapping:{},threadRetainCounts:{}}))),ve=Se.getState,vt=Se.setState,Te={resolveThreadId:(e,t=ve())=>t.clientNewThreadIdToServerIdMapping[e]??e,getThread:(e,t=ve())=>{const n=Te.resolveThreadId(e,t);return t.threads[n]??null},hasThread:(e,t=ve())=>{const n=Te.resolveThreadId(e,t);return t.threads[n]!=null},isLoading:(e,t=ve())=>{const n=Te.resolveThreadId(e,t);return t.threads[n]?.isLoading},getConversationMode:(e,t=ve())=>{const n=Te.resolveThreadId(e,t);return t.threads[n]?.mode},getScrollToMessageId:(e,t=ve())=>{const n=Te.resolveThreadId(e,t);return t.threads[n]?.scrollToMessageId},getThreadModelId:(e,t=ve())=>Te.getThread(e,t)?.modelId??null,getGizmoId(e,t=ve()){const n=t.threads[Te.resolveThreadId(e,t)];if(n?.mode.kind===Me.GizmoInteraction||n?.mode.kind===Me.GizmoTest)return n.mode.gizmo_id},getThreadTitleSource(e,t=ve()){const n=Te.resolveThreadId(e,t),r=t.threads[n];return r!=null?r.titleSource:"Unknown"},getThreadCreateTime(e,t=ve()){const n=Te.resolveThreadId(e,t);return t.threads[n]?.initialThreadData?.createTime},getCurrentNode(e,t=ve()){const n=Te.resolveThreadId(e,t),r=t.threads[n]?.currentLeafId??"root";return k.getTree(e).getNodeByIdOrMessageId(r)},isThreadUrlSafe(e,t,n=ve()){const r=Te.resolveThreadId(e,n);return n.threads[r]?.safeUrls.includes(t)??!1},getRatingPrompt(e,t=ve()){const n=Te.resolveThreadId(e,t);return t.threads[n]?.promptGptRating},getTurnContentReferences(e,t,n=ve()){const r=Te.getThread(e,n)?.conversationTurns[t]?.messages;return r?Zn(r.flatMap(s=>Wv(s.message))):[]},getTurnSearchResults(e,t,n=ve()){const r=Te.getThread(e,n)?.conversationTurns[t]?.messages;return r?Zn(r.flatMap(s=>Gv(s.message))):[]},getMessageContentReferences(e,t,n=ve()){const r=Te.getThread(e,n)?.tree.getMessage(t);return r?Zn(Wv(r)):[]},getMessageSearchResults(e,t,n=ve()){const r=Te.getThread(e,n)?.tree.getMessage(t);return r?Zn(Gv(r)):[]},getTurnImageSearchResults(e,t,n=ve()){const r=Te.getThread(e,n)?.conversationTurns[t]?.messages;return r?Zn(r.flatMap(s=>HO(s.message))).map(s=>({...s,thumbnail_url:s.thumbnail_url.replace(/^http:\/\//,"https://"),content_url:s.content_url.replace(/^http:\/\//,"https://")})):[]},getIsArchived(e,t=ve()){return Te.getThread(e,t)?.initialThreadData?.isArchived??!1},getUpdateTime(e,t=ve()){const n=Te.getThread(e,t);if(n?.update_time)return n?.update_time;const r=n?.initialThreadData.createTime;return r?r.getTime()/1e3:null}},k={initThread:(e,t,n=null)=>{const r=k.resolveThreadId(e);if(ve().threads[r]==null){const s=d9();vt(o=>{o.threads[r]={initialThreadData:s,mode:t,modelId:n,tree:new jn(jn.createTree()),title:null,titleSource:"NewChat",currentLeafId:"root",conversationTurns:[],safeUrls:[],isLoading:!$r(r),docsReferencedByURL:{},conversationOrigin:null}})}},setThreadModelId:(e,t)=>{const n=k.resolveThreadId(e);vt(r=>{const s=r.threads[n];s!=null&&!s.lockModel&&(s.modelId=t)})},updateConversationMode:(e,t)=>{const n=k.resolveThreadId(e);vt(r=>{const s=r.threads[n];s!=null&&(s.mode=t)})},updateScrollToMessageId:(e,t)=>{const n=k.resolveThreadId(e);vt(r=>{const s=r.threads[n];s!=null&&(s.scrollToMessageId=t)})},getServerThreadId:e=>$r(e)?ve().clientNewThreadIdToServerIdMapping[e]:e,setServerIdForNewThread:(e,t)=>{ve().clientNewThreadIdToServerIdMapping[e]===void 0&&vt(n=>{n.threads[t]=n.threads[e],delete n.threads[e],n.clientNewThreadIdToServerIdMapping[e]=t})},lockThreadModel:e=>{const t=k.resolveThreadId(e);vt(n=>{const r=n.threads[t];r&&(r.lockModel=!0)})},initThreadFromServerData:(e,t,n=!1,r=void 0,s=!1)=>{const o=k.resolveThreadId(e);if(!s&&(ve().threads[o]==null&&!n||ve().threads[o]?.isLoading===!1))return;const a=f9(t),i=a.mapping??jn.createTree(),l={lastModelUsed:VO(a.mapping,a.initialCurrentLeafId,t.default_model_slug),createTime:"create_time"in t?new Date(t.create_time*1e3):void 0,isArchived:t.is_archived??!1},u=new jn(i),d=a.initialCurrentLeafId??a.rootId??"root",f="has_user_editable_context"in t?{hasUserEditableContextFlag:t.has_user_editable_context,authorName:t.author_name,model:"model"in t&&t.model!=null?Nw(t.model):void 0}:void 0;vt(h=>{const m=h.threads[o];h.threads[o]={modelId:m?.modelId??null,initialThreadData:l,mode:t.gizmo_id!=null?{kind:Me.GizmoInteraction,gizmo_id:t.gizmo_id}:{kind:Me.PrimaryAssistant,plugin_ids:t.plugin_ids},sharedConversationMetadata:f,title:t.title??null,titleSource:"Server",tree:u,currentLeafId:d,isLoading:!1,continuingFromSharedConversationId:r,safeUrls:t.safe_urls??[],conversationTurns:[],docsReferencedByURL:{},conversationOrigin:t.conversation_origin??null,async_status:t.async_status??null,update_time:t.update_time??null,scrollToMessageId:m?.scrollToMessageId}}),xo.publish({kind:"createConversation",clientThreadId:e}),k.recomputeConversationTurnsForCurrentLeafId(o,[])},updateInitialThreadDataForNewThread:(e,t)=>{const n=k.resolveThreadId(e);vt(r=>{const s=r.threads[n];s!=null&&(s.initialThreadData.lastModelUsed=t)})},getThreadCurrentLeafId:e=>{const t=k.resolveThreadId(e);return ve().threads[t]?.currentLeafId??"root"},getThreadSafeUrls:e=>{const t=k.resolveThreadId(e);return ve().threads[t]?.safeUrls},addThreadSafeUrl:(e,t)=>{const n=k.resolveThreadId(e);n&&vt(r=>{const s=r.threads[n];s?.safeUrls.push(t)})},setThreadCurrentLeafId:(e,t)=>{const n=k.resolveThreadId(e);ve().threads[n]!=null&&vt(s=>{const o=s.threads[n];if(o==null)return;o.currentLeafId=t;const a=k.computeThreadConversationTurns(n,o.currentLeafId,o.conversationTurns);o.conversationTurns=a})},disableConversationNavigation:e=>{const t=k.resolveThreadId(e);vt(n=>{const r=n.threads[t];r&&(r.disableConversationNavigation=!0)})},setTitle:(e,t,n)=>{const r=k.resolveThreadId(e);vt(s=>{const o=s.threads[r];o&&(o.title=t,o.titleSource=n)}),xo.publish({kind:"updateThreadTitle",conversationId:r})},getTitle:e=>{const t=Te.resolveThreadId(e);return ve().threads[t]?.title??void 0},getTitleAndSource:e=>({title:k.getTitle(e),titleSource:Te.getThreadTitleSource(e)}),getConversationOrigin:e=>{const t=Te.resolveThreadId(e);return ve().threads[t]?.conversationOrigin??null},setConversationOrigin:(e,t)=>{const n=k.resolveThreadId(e);vt(r=>{const s=r.threads[n];s&&(s.conversationOrigin=t)})},deleteNodesByFilter:(e,t)=>{const n=k.getThreadCurrentLeafId(e);k.updateTree(e,r=>{r.deleteNodesByFilter(t).includes(n)&&k.setThreadCurrentLeafId(e,"root")})},updateTree:(e,t)=>{const n=k.resolveThreadId(e);if(!(ve().threads[n]!=null)){console.warn("Thread does not exist, cannot update tree: ",n);return}const s=k.getTree(e);t(s);const a=ve().threads[n]?.conversationTurns??[];k.recomputeConversationTurnsForCurrentLeafId(n,a)},getTree:e=>{const t=k.resolveThreadId(e);return ve().threads[t]?.tree??J9()},resolveThreadId:e=>Te.resolveThreadId(e),recomputeConversationTurnsForCurrentLeafId:(e,t)=>{const n=k.resolveThreadId(e);vt(r=>{const s=r.threads[n];if(s==null)return;const o=k.computeThreadConversationTurns(n,s.currentLeafId,t);s.conversationTurns=o})},computeThreadConversationTurns:(e,t,n)=>{const r=k.resolveThreadId(e);return k.getTree(r).getConversationTurns(t).map((i,l)=>{const u=n?.[l];return zx(u,i)?u:i})},getThreadConversationTurns:(e,t,n)=>{const r=k.resolveThreadId(e),o=ve().threads[r];if(o==null)return[];const a=o.tree,i=a.messageIdToNodeId(o?.currentLeafId??"root"),l=t!=null?a.messageIdToNodeId(t):null;return l!=null&&l!==i?k.computeThreadConversationTurns(r,l,n??[]):ve().threads[r]?.conversationTurns??[]},removeContinuingFromSharedConversationId:e=>{const t=k.resolveThreadId(e);vt(n=>{const r=n.threads[t];r?.continuingFromSharedConversationId!=null&&delete r.continuingFromSharedConversationId})},updateReferencedDocState:(e,t,n)=>{const r=k.resolveThreadId(e);vt(s=>{const o=s.threads[r];o&&(o.docsReferencedByURL[t]=n)})},getLastMessgageSystemHints:(e,t)=>{const n=k.resolveThreadId(e);return k.getTree(n).getBranchFromLeaf(t).slice().reverse().find(a=>a.message.author.role===z.User)?.message.metadata?.system_hints??[]},deleteThread:e=>{vt(t=>{delete t.threads[e],delete t.clientNewThreadIdToServerIdMapping[e]})},retainThread:e=>{vt(t=>{t.threadRetainCounts[e]=(t.threadRetainCounts[e]??0)+1}),clearTimeout(Am[e])},releaseThread:e=>{ve().threads[e]!=null&&(vt(n=>{n.threadRetainCounts[e]=Math.max((n.threadRetainCounts[e]??0)-1,0)}),!(ve().threadRetainCounts[e]>0)&&(clearTimeout(Am[e]),Am[e]=setTimeout(()=>{ve().threads[e]!=null&&(ve().threadRetainCounts[e]>0||k.deleteThread(e))},3e4)))},setPromptGptRating:(e,t)=>{const n=k.resolveThreadId(e);vt(r=>{const s=r.threads[n];s!=null&&(t==null?s.promptGptRating=void 0:s.promptGptRating={gizmoId:t})})},setOverrideModelId:(e,t)=>{const n=k.resolveThreadId(e);vt(r=>{const s=r.threads[n];s&&(s.overrideModelId=t)})},clearOverrideModelId:e=>{k.setOverrideModelId(e,null)}},tV=e=>Se(t=>Te.getThreadModelId(e,t)),nV=e=>tV(e)??tp,rV=e=>Se(t=>{const n=k.resolveThreadId(e);return!!(t.threads[n]?.disableConversationNavigation??!1)}),np=e=>Se(t=>{if(e!=null)return $r(e)?t.clientNewThreadIdToServerIdMapping[e]:e}),Xct=e=>Se(t=>{const n=k.resolveThreadId(e);return t.threads[n]?.initialThreadData??eV()}),nl=(e,t)=>Se(n=>{const r=Te.getConversationMode(e,n);return t&&(r?.kind===Me.GizmoInteraction||r?.kind===Me.PrimaryAssistant)?{gizmo_id:t,kind:Me.GizmoInteraction}:r}),Zct=e=>Se(t=>Te.getScrollToMessageId(e,t)),rl=e=>{const t=$O();return Se(n=>n.threads[Te.resolveThreadId(e,n)]==null?t:Te.getGizmoId(e,n))},Jct=e=>Se(t=>{const n=k.resolveThreadId(e);return t.threads[n]?.isLoading??!1}),di=e=>Se(()=>k.getThreadCurrentLeafId(e)),elt=(e,t)=>{const n=p.useRef([]);return Se(()=>{const r=k.getThreadConversationTurns(e,t,n.current);return n.current=r,r?.length??0})},GO=(e,t)=>{const n=p.useRef([]);return Se(()=>{const r=k.getThreadConversationTurns(e,t,n.current);return n.current=r,r})},sV=(e,t,n)=>{const r=p.useRef([]);return Se(()=>{const s=k.getThreadConversationTurns(e,n,r.current);return r.current=s,t>=0&&t<s.length?s[t]:null})},oV=(e,t)=>{const n=p.useRef([]);return Se(()=>{if(t==null)return null;const r=k.getThreadConversationTurns(e,t,n.current);return n.current=r,r.length>0?r[r.length-1]:null})},tlt=(e,t)=>{const n=p.useRef([]);return Se(()=>{const r=k.getThreadConversationTurns(e,t,n.current);n.current=r;let s=0;for(let o=r.length-1;o>=0;o--){const a=r[o];if(a.messages.some(i=>i.message.metadata?.is_indepth_feedback))return!0;if(a.messages.some(i=>i.message.author.role===z.Assistant)&&s++,s>=3)break}return!1})},aV=(e,t)=>Se(()=>{const n=k.resolveThreadId(e);return k.getTree(n).getBranchFromLeaf(t).some(o=>o.message.author.role===z.User)}),rp=e=>{const t=di(e);return p.useMemo(()=>{const n=r=>{const s=k.getThreadConversationTurns(e,r,[]),o=s?.length??0,a=s?.[o-1]??null;if(o===0)return r;const i=jn.getRequestIdFromConversationTurn(a);if(i.startsWith(Mc))return i;if(a.variantIds?.length>1){const l=a.messages.map(d=>d.nodeId).find(d=>a.variantIds.indexOf(d)!==-1);if(l==null)return i;const u=(a?.variantIds?.indexOf(l)??0)-1;if(u>=0)return n(a?.variantIds[u])}return i};return n(t)},[t,e])},nlt=e=>Se(()=>k.getTitle(e)),iV=e=>tB(Se,()=>k.getTitleAndSource(e),zx),rlt=e=>Se(t=>{const n=k.resolveThreadId(e);return t.threads[n]?.overrideModelId}),cV=e=>Se(()=>{const t=k.resolveThreadId(e);return ve().threads[t]?.continuingFromSharedConversationId}),slt=e=>Se(()=>{const t=k.resolveThreadId(e);return ve().threads[t]?.sharedConversationMetadata?.authorName}),olt=(e,t)=>Se(()=>{const n=k.getTree(e).getNodeByIdOrMessageId(t);if(n==null)throw new Error(`useThreadTreeNode: cannot get tree node for ${t} in thread ${e}`);return n}),alt=(e,t)=>Se(()=>k.getTree(e)?.getHasErrorFromNode(t)??!1),ilt=(e,t)=>Se(()=>k.getTree(e)?.isMessageIncomplete(t)??!1),lV=(e,t)=>Se(()=>{const n=k.getTree(e);return n==null?[]:n.getBranchFromLeaf(t).filter(r=>r.message.author.role!==z.Root)}),clt=(e,t)=>lV(e,t).map(n=>n.message),llt=(e,t)=>Se(()=>{const n=k.getTree(e);return n==null||t==null?null:n.getLeafFromNode(t)}),ult=(e,t)=>Se(()=>{const n=k.getTree(e);return n==null?!1:t.map(s=>n.getLeafFromNode(s)).some(s=>n.getHasErrorFromNode(s.id))}),uV=e=>{const n=k.getTree(e).getUserContext();if(n==null)return null;const{message:r}=n,s=r.metadata?.shared_conversation_id??null;if(r.metadata?.user_context_message_data!=null){const{about_user_message:o,about_model_message:a}=r.metadata.user_context_message_data;return{aboutUserMessage:o?.trim()??"",aboutModelMessage:a?.trim()??"",fallback:null,shareId:s}}return{aboutUserMessage:null,aboutModelMessage:null,fallback:Ar(r),shareId:s}},dV=e=>Se(t=>{const n=k.resolveThreadId(e);return t.threads[n]?.sharedConversationMetadata?.hasUserEditableContextFlag}),dlt=e=>!!k.getTree(e).findNode(n=>n.message.content.content_type==="model_editable_context"),fV=e=>!!k.getTree(e).findNode(n=>(n.message.author.name?.startsWith(`${Ps}.`)||n.message.recipient?.startsWith(`${Ps}.`))??!1),flt=e=>{const t=dV(e);return uV(e)!=null||!!t},hlt=e=>Se(()=>{const t=k.resolveThreadId(e);return ve().threads[t]?.continuingFromSharedConversationId!=null}),sp=e=>Se(()=>k.getThreadCurrentLeafId(e)==="root"),hV=e=>{const{conversationId:t}=J5(),n=np(e);return n?t===n:!1},plt=e=>Se(()=>{const t=k.resolveThreadId(e);return ve().threads[t]?.promptGptRating}),mlt=(e,t)=>Se(()=>{const n=k.resolveThreadId(e),s=k.getTree(n).getBranchFromLeaf(t);return UO(s,o=>o.message.author.role===z.System&&o.message.content.content_type==="system_content")}),op=()=>p.useContext(l9)!=null,glt=()=>p.useContext(IO)!=null;function pV(e){const t=k.getTree(e),n=k.getThreadCurrentLeafId(e);let r=t.getNodeByIdOrMessageId(n);for(;r;){const s=r.message.metadata?.default_model_slug;if(s)return s;if(r.parentId)r=t.getNodeByIdOrMessageId(r.parentId);else return}}function WO({clientThreadId:e,role:t}){return k.getTree(e).countMessagesByAuthor(t)}function mV({clientThreadId:e}){const t=di(e),n=rp(e),s=vV(e)===Yn.STREAMING,o=gV({clientThreadId:e,conversationLeafId:t});return(ep(n)||s)&&!o}function gV({clientThreadId:e,conversationLeafId:t}){const n=k.getTree(e);return p.useMemo(()=>n.getNodeByIdOrMessageId(t).message.end_turn,[t,n])}const vV=e=>Se(()=>{const t=k.resolveThreadId(e);return ve().threads[t]?.async_status}),vlt=(e,t)=>Se(()=>Te.getMessageSearchResults(e,t)),HO=e=>e?.metadata?.image_results??[],Gv=e=>e?.metadata?.search_result_groups??[];function ylt(e){return k.getConversationOrigin(e)===eB.APPLE}const Wv=e=>e?.metadata?.content_references??[],blt=e=>!e.startsWith(wA)&&!e.startsWith(Mc),yV=e=>he.safeGet("/conversation/{conversation_id}/textdocs",{parameters:{path:{conversation_id:e}}}),bV=async e=>{const t=await yV(e),n=new Map(t?.map(o=>[o.id,o])),r=[];for(const{id:o,content:a,version:i,textdoc_type:l,title:u,comments:d}of t)r.push({textdocId:o,messageId:null,type:Tw(l),comments:Uv(d,a),status:Kn.COMPLETE,title:u,content:a,versionInt:i,createdAt:0});return{persistedTextdocVersionById:new Map(r.map(o=>[o.textdocId,o])),persistedTextdocVersions:r,persistedTextdocById:n}};function xV(e){const t=Se(()=>k.getServerThreadId(e)),{data:n,error:r,isLoading:s,isFetching:o,refetch:a}=_e({queryKey:[t,"textdocs"],enabled:!!t,gcTime:0,queryFn:()=>t&&bV(t)});return p.useEffect(()=>{if(!n)return;const{persistedTextdocVersions:i}=n;o9(i),k8(i),e9(i)},[n]),[{...n,error:r,isLoading:s,isFetching:o},a]}const Hv=new Set,zO=e=>{p.useEffect(()=>(Hv.add(e),()=>{Hv.delete(e)}),[e])},R1=e=>{for(const t of Hv)try{t({error:e})}catch(n){ae.addError(n)}};var Gd=(e=>(e[e.INITIALIZING=0]="INITIALIZING",e[e.READY=1]="READY",e[e.REFETCHING=2]="REFETCHING",e))(Gd||{});function wV(e){const[{error:t,persistedTextdocVersionById:n=null,isLoading:r,isFetching:s},o]=xV(e),a=EO();zO(()=>{const l=k.getThreadCurrentLeafId(e),u=k.getThreadConversationTurns(e,l),f=ns(u)?.messages??[],h=CO(f);if(h==null)return;const m=h.message.metadata?.canvas?.textdoc_id,g=h.message.metadata?.canvas?.version;m!=null&&g!=null&&a(m,g),o()});let i=0;return n&&s?i=2:n&&!s&&!r&&(i=1),p.useMemo(()=>({status:i,fetchError:t,textdocVersionById:n,refetch:o}),[i,t,n,o])}const j1=e=>e.variantIds.length===2,D1=e=>{if(!e)return;const{messages:t}=e,n=z9(t??[],({message:s})=>s.author.role===z.System),r=n===-1?t:t?.slice(n+1);if(r&&y8(r))return r},SV=({lastTurn:e,clientThreadId:t,isRequestActive:n,persistedTextdocStoreStatus:r})=>{const[s,o]=p.useState(!0),a=n||!s||r===Gd.REFETCHING,i=p.useMemo(()=>{if(!e||!j1(e))return null;const u=k.getTree(t),{variantIds:d}=e;return d.map(f=>{const h=u.getLeafFromNode(f).id;return ns(k.getThreadConversationTurns(t,h))})},[t,e]);return[p.useMemo(()=>!a||!e?null:j1(e)?i?.flatMap(D1).filter(W$)??null:D1(e)??null,[a,e,i]),o]};var _V=SA,CV=function(){return _V.Date.now()},TV=CV,MV=ti,$m=TV,L1=jw,EV="Expected a function",kV=Math.max,PV=Math.min;function AV(e,t,n){var r,s,o,a,i,l,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(EV);t=L1(t)||0,MV(n)&&(d=!!n.leading,f="maxWait"in n,o=f?kV(L1(n.maxWait)||0,t):o,h="trailing"in n?!!n.trailing:h);function m(T){var M=r,E=s;return r=s=void 0,u=T,a=e.apply(E,M),a}function g(T){return u=T,i=setTimeout(x,t),d?m(T):a}function v(T){var M=T-l,E=T-u,R=t-M;return f?PV(R,o-E):R}function y(T){var M=T-l,E=T-u;return l===void 0||M>=t||M<0||f&&E>=o}function x(){var T=$m();if(y(T))return b(T);i=setTimeout(x,v(T))}function b(T){return i=void 0,h&&r?m(T):(r=s=void 0,a)}function w(){i!==void 0&&clearTimeout(i),u=0,r=l=s=i=void 0}function _(){return i===void 0?a:b($m())}function C(){var T=$m(),M=y(T);if(r=arguments,s=this,l=T,M){if(i===void 0)return g(l);if(f)return clearTimeout(i),i=setTimeout(x,t),m(l)}return i===void 0&&(i=setTimeout(x,t)),a}return C.cancel=w,C.flush=_,C}var qO=AV;const YO=ge(qO),$V=4e4,OV="max-length-toast",KO=YO((e,t,n,r=1.5)=>e.warning(t,{description:n,duration:r,id:OV}),500,{leading:!0,trailing:!1});function xlt(e,t,n){KO(e,t.formatMessage(Wd.exceededMaxLengthTitle),t.formatMessage(Wd.exceededMaxLengthDescription),n)}function IV(e,t,n){KO(e,t.formatMessage(Wd.exceededMaxLengthTitle),t.formatMessage(Wd.exceededMaxLengthForTruncatedMessageDescription),n)}const Wd=Q({exceededMaxLengthDescription:{id:"FQSdxE",defaultMessage:"The document is longer than a canvas can currently handle. To edit, please reduce the length."},exceededMaxLengthForTruncatedMessageDescription:{id:"q/2M6n",defaultMessage:"The document was truncated because it was too long."},exceededMaxLengthTitle:{id:"NFtrBL",defaultMessage:"Document exceeds max length"}});function NV(e){const t=V(),n=ze();zO(()=>{const r=k.getThreadCurrentLeafId(e),s=k.getThreadConversationTurns(e,r),o=ns(s);if(o==null)return;const a=_O(o.messages);a==null||a.message.metadata?.finish_details?.type!=="max_tokens"||IV(n,t,4)})}const wlt="g-YyyyMT9XH",RV="g-2fkFE8rbu";var jV=(e=>(e[e.USER=1]="USER",e[e.GROUP=2]="GROUP",e[e.WORKSPACE=3]="WORKSPACE",e[e.ALL=4]="ALL",e[e.PROJECT=5]="PROJECT",e[e.ORGANIZATION=6]="ORGANIZATION",e[e.SYSTEM=7]="SYSTEM",e[e.AGENT=8]="AGENT",e))(jV||{});const DV={can_read:!0,can_view_config:!1,can_write:!1,can_delete:!1,can_export:!1,can_share:!1},Slt={can_read:!0,can_view_config:!0,can_write:!1,can_delete:!1,can_export:!1,can_share:!1},En={Private:"private",User:"user",Group:"group",WorkspaceLink:"workspace_link",Workspace:"workspace",Link:"link",Marketplace:"marketplace"};var sl=(e=>(e.FirstParty="first_party",e.UsesFunctionCalls="uses_function_calls",e.Reportable="reportable",e.Private="private",e.Workspace="workspace",e.Public="public",e.Beta="beta",e.Pinned="pinned",e.WorkspaceDisabled="workspace_disabled",e.Unreviewable="unreviewable",e))(sl||{});const _lt=e=>e.gizmo.tags?.includes("first_party"),Clt=e=>!e.gizmo.tags?.includes("unreviewable");var QO=(e=>(e.FILE_SERVICE="fs",e))(QO||{});function Tlt(e){return e.type===1||e.type===2}const F1=[1,2,3,4];function Mlt(e){return e.length===0?null:e.reduce((t,n)=>F1.indexOf(n.type)<F1.indexOf(t.type)?t:n,e[0])}function Elt(e,t,n){return t=t.filter(r=>r.type===En.User||r.type===En.Group),e===En.Private||e===En.User||e===En.Group?[{type:En.Private,capabilities:DV},...t]:[...t,{type:e,capabilities:n}]}class LV{constructor(t){this.response=t}}var FV=(e=>(e.ENGLISH="en",e.GLOBAL="global",e))(FV||{}),pa=(e=>(e.FirstParty="first_party",e.SidebarKeep="sidebar_keep",e.Mine="mine",e.Recent="recent",e.Workspace="workspace",e))(pa||{});const ap="client-correlated-secret";function B1(){const e=localStorage.getItem(ap);return e==null?e:crypto.subtle.importKey("jwk",JSON.parse(e),{name:"HMAC",hash:{name:"SHA-512"}},!0,["sign","verify"])}async function XO(){B1()==null&&localStorage.setItem(ap,JSON.stringify(await crypto.subtle.exportKey("jwk",await crypto.subtle.generateKey({name:"HMAC",hash:{name:"SHA-512"}},!0,["sign","verify"]))));const t=B1();if(t==null)throw new Error("Failed to get key from storage");return t}function BV(e){const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++)t[n]=parseInt(e.substr(n*2,2),16);return t.buffer}function UV(e){return[...new Uint8Array(e)].map(t=>t.toString(16).padStart(2,"0")).join("")}function VV(e){const t=new URL(e),n=_e({queryKey:[ap,"generate-challenge",e.search],queryFn:async()=>UV(await crypto.subtle.sign("HMAC",await XO(),new TextEncoder().encode(e.search))),staleTime:0});if(n.data!==void 0)return t.hash=n.data,t}function GV(){const e=location?.search,t=location?.hash;return _e({queryKey:[ap,"verify-challenge",e,t],queryFn:async()=>typeof e!="string"||typeof t!="string"?!1:crypto.subtle.verify("HMAC",await XO(),BV(t.slice(1)),new TextEncoder().encode(e))}).data?new URLSearchParams(e):void 0}function WV(e){return e===void 0}var HV=WV;const zV=ge(HV);class Hd{turn_id;trigger;result;time_since_prompt_sent_ms;stream_update_event_count=0;first_token_lat;last_model_message_received;time_since_last_event_ms;model_slug;tools_used;gizmo_id;promptSentTimestamp;logger;request_id;completed=!1;num_images_attached=0;num_files_attached=0;bytes_received=0;model_message_update_count=0;stream_encoding;stream_buffering=!1;constructor(){this.turn_id=Fn(),this.promptSentTimestamp=Date.now(),this.tools_used=new Set,this.logger=nB.createLogger("turn-analytics","info","http")}onCompletionStarted(t,n){switch(t){case"next":this.trigger="submit";break;case"variant":this.trigger="reroll";break;case"continue":this.trigger="continue";break}this.model_slug=n}onBytesReceived(t){this.bytes_received+=t?.length??0}updateAttachmentCount(t){t.forEach(n=>{n.author.role==="user"&&n.metadata?.attachments?.forEach(r=>{r.height&&r.width?this.num_images_attached+=1:this.num_files_attached+=1})})}onReceivedRequestId(t){this.request_id=t}onMessageUpdate(t,n,r,s){this.model_slug=this.model_slug??t,this.gizmo_id=this.gizmo_id??n,s===z.Tool&&r&&this.tools_used.add(r),s!==z.User&&s!==z.System&&s!==z.Developer&&s!==z.Root&&(this.model_message_update_count+=1,this.last_model_message_received=Date.now()),this.first_token_lat||(this.first_token_lat=Date.now()-this.promptSentTimestamp)}onUpdateEventCount(){this.stream_update_event_count+=1}handleRawError(t,n){let r;n===400||t==="NetworkError when attempting to fetch resource."||t==="The network connection was lost."?r="network_error":t==="Request timed out"?r="timeout":r="request_failed",this.logCompletion({type:Rn.Error,error:{reason:r,message:t,...n&&{status_code:n}}})}createLogPayload(){const t={turn_id:this.turn_id,trigger:this.trigger,result:Za(this.result?.type),...this.result?.type===Rn.Error?{error:this.result.error}:void 0,time_since_prompt_sent_ms:this.time_since_prompt_sent_ms,stream_update_event_count:this.stream_update_event_count,model_message_update_count:this.model_message_update_count,time_since_last_event_ms:this.time_since_last_event_ms,first_token_lat:this.first_token_lat,bytes_received:this.bytes_received,stream_encoding:this.stream_encoding,stream_buffering:this.stream_buffering,model_slug:this.model_slug,tools_used:[...this.tools_used],gizmo_id:this.gizmo_id,attachments:{files:this.num_files_attached,images:this.num_images_attached,total:this.num_files_attached+this.num_images_attached}};return{request_id:this.request_id,turn_analytics:t}}createStatsigPayload(){return rB({turn_id:String(this.turn_id),trigger:this.trigger,result:this.result?.type,error:JSON.stringify(this.result?.type===Rn.Error?{error:this.result.error}:void 0),time_since_prompt_sent_ms:String(this.time_since_prompt_sent_ms),stream_update_event_count:String(this.stream_update_event_count),model_message_update_count:String(this.model_message_update_count),time_since_last_event_ms:JSON.stringify(this.time_since_last_event_ms),first_token_lat:String(this.first_token_lat),bytes_received:String(this.bytes_received),stream_encoding:this.stream_encoding,stream_buffering:this.stream_buffering,model_slug:this.model_slug,tools_used:[...this.tools_used].join(", "),gizmo_id:this.gizmo_id,attachments:JSON.stringify({files:this.num_files_attached,images:this.num_images_attached,total:this.num_files_attached+this.num_images_attached})},zV)}logCompletion(t){this.completed||(this.completed=!0,this.time_since_prompt_sent_ms=Date.now()-this.promptSentTimestamp,this.result=t,this.last_model_message_received&&(this.time_since_last_event_ms=Date.now()-this.last_model_message_received),t.type===Rn.Error?this.logger.error("Turn exchange complete",this.createLogPayload()):this.logger.info("Turn exchange complete",this.createLogPayload()),K.logEvent("chatgpt_conversation_turn_turn_exchange_complete",null,this.createStatsigPayload()))}}function qV(e){return _e({queryKey:["system-hints"],queryFn:async()=>(await Z.getSystemHints()).system_hints.map(({name:n,description:r,logo:s,system_hint:o,required_features:a=[],required_models:i=[]})=>({name:n,description:r,logo:s,systemHint:o,requiredFeatures:a,requiredModels:i})),select:e,staleTime:1/0})}function Dw({clientThreadId:e}){const t=k.getThreadCurrentLeafId(e),r=k.getTree(e).getMessage(t).metadata?.model_switcher_deny??[],s={};r.forEach(a=>{const{slug:i,context:l,reason:u,description:d}=a,f=s[i]??{},h=f[l]??[];h.push({reason:u,description:d}),f[l]=h,s[i]=f});const o=_A();for(const{resets_after:a,model_slug:i}of o)[t1.CONVERSATION,t1.REGENERATE].forEach(l=>{const u=s[i]??{},d=u[l]??[],f={reason:kh.RATE_LIMIT,resetsAfter:a};d.push(f),u[l]=d,s[i]=u});return s}const klt="text-davinci-002-render-sha",Plt="gpt-4",Alt="gpt-4o",$lt="o1-preview",Olt="o1-mini",zd=Nw({slug:tp,max_tokens:4097,title:"Default",description:"",tags:[fo.GPT_3_5],product_features:{}}),YV=({default_model:e,tagline:t,color:n,human_category_name:r,category:s,human_category_short_name:o,human_category_shorter_name:a,subscription_level:i,short_explainer:l,subcategory:u,is_beta:d,...f})=>({color:n,tagline:t,defaultModel:e,label:r,shortLabel:o,description:l,shorterLabel:a??o,subscriptionLevel:i,categoryId:s,subcategory:u,isBeta:d,...f}),KV=({icon:e,icon_filled_src:t,icon_outline_src:n})=>({iconName:e,iconFilledSrc:t,iconOutlineSrc:n}),QV=({group:e,human_group_name:t,human_group_short_name:n,model_ids:r})=>({group:e,label:t,shortLabel:n,modelIds:r});function XV(){return No({retry:5,queryKey:["modelIcons"],queryFn:async()=>await Z.getModelIcons().then(e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[t,KV(n)])))})}function ZV(e){return No({retry:5,queryKey:["models",{isHistoryDisabled:e}],queryFn:async()=>await Z.getModels(e).then(t=>{const{models:n,internal_groups:r,categories:s,default_model_slug:o}=t,a=n.map(Nw);return{categories:s.concat().reverse().map(YV),groups:r?.map(QV)??[],defaultModelSlug:o??null,modelsList:a,modelsMap:Object.fromEntries(a.map(i=>[i.id,i]))}})})}function Fs(){const e=CA();return _e(ZV(e))}function JV(){return _e(XV())}function ol({isRegen:e=!1}={}){const{isLoading:t,data:{categories:n=[],groups:r=[]}={}}=Fs(),s=p.useMemo(()=>e?n.filter(o=>o.is_regenerate_category!==!1):n.filter(o=>!o.is_regenerate_category),[n,e]);return{isLoading:t,categories:s,groups:r??[]}}function Ilt(){const{categories:e}=ol();return!!e.find(({categoryId:t})=>t===dc.GPT4o)}function ZO(){const{data:e}=Fs();return p.useMemo(()=>e?new Set(Object.keys(e.modelsMap)):new Set([tp]),[e])}const eG={[tp]:zd};function JO(){const{data:e}=Fs();return e?.modelsMap??eG}function eI(e,t,n){if(e?.defaultModelSlug&&e?.modelsMap[e.defaultModelSlug])return e.modelsMap[e.defaultModelSlug];let r=fo.GPT_3_5;return n?r=fo.GPT_4:t&&(r=fo.GPT_4o),e?.modelsList.find(s=>s.tags.includes(r))??e?.modelsList[0]??zd}function ip(e=!1){const t=Io(),n=It(),[,r]=Ro();return p.useCallback(({location:s,modelId:o})=>{const a=t.pathname.includes("/g/");e||a?(P.logNewChatButtonClicked({location:s}),n({pathname:"/",search:`?model=${encodeURIComponent(o)}`})):(r(i=>(i.set("model",o),i)),P.logNewChatButtonClicked({location:s}))},[e,t,n,r])}function tG(){const{data:{categories:e=[]}={}}=Fs(),{doesUserHaveAnyAccountsWithPlusFeatures:t}=Ds();return t?null:e.find(Rw)?.defaultModel??null}function tI(e){return nV(e)}function fi(e){const t=tI(e),n=JO();return p.useMemo(()=>t==null?zd:n[t]??zd,[t,n])}function nI(e,t){return fi(e).enabledTools?.includes(t)??!1}function Nlt(e){const t=qV(),n=fi(e),r=p.useMemo(()=>!t.isSuccess||!t.data?[]:t.data,[t.data,t.isSuccess]),s=Dw({clientThreadId:e});return p.useMemo(()=>{const a=new Set(n.enabledTools||[]);return r.filter(i=>!(!(i.requiredFeatures.length===0||i.requiredFeatures.every(d=>a.has(d)))||!(i.requiredModels.length===0||i.requiredModels.some(d=>!s[d]))))},[r,n,s])}function rI(){const{data:e}=Fs(),{doesUserHaveAnyAccountsWithPlusFeatures:t}=Ds(),n=Ge();return eI(e,!!t,!!n?.isEnterprisey())}var Lt=(e=>(e.Search="search",e))(Lt||{});class nG{constructor(){}eraseContent(){this.setText("")}getContentToSend(){return{content:this.getCurrentText()}}registerKeyHandlers(t){}canShowAutocompletion(){return!0}logPageMount(){ae.addFirstTiming("chatgpt.web.chatPage.prompttextarea.modern.mounted")}useState(t){return p.useSyncExternalStore(n=>this.subscribe("input",n),()=>t(this),()=>t(this))}}const Ba=e=>{const t={turn_index:e.turnIndex?.toString(),thread_id:e.threadId,conversation_id:e.clientThreadId?k.getServerThreadId(e.clientThreadId):void 0,message_id:e?.messageId};return Object.fromEntries(Object.entries(t).filter(([n,r])=>r!==void 0))},sI="hints";class wo extends TA()(t=>({persistedSystemHints:new Set(t),persistedSystemHintTriggers:{}})){static getPersistedSystemHints=({persistedSystemHints:t})=>t;addPersistedSystemHint=(t,n,r)=>{t===Lt.Search&&P.logEventWithStatsig(A.searchModeEngaged,"search_mode_engaged",{...Ba(n),triggerSource:r}),this.setState(({persistedSystemHints:s,persistedSystemHintTriggers:o})=>({persistedSystemHints:new Set(s).add(t),persistedSystemHintTriggers:{...o,[t]:r}}))};removePersistedSystemHint=(t,n)=>{t===Lt.Search&&P.logEventWithStatsig(A.searchModeDisabled,"search_mode_disabled",Ba(n)),this.setState(({persistedSystemHints:r,persistedSystemHintTriggers:s})=>{const o=new Set(r);o.delete(t);const a={...s};return delete a[t],{persistedSystemHints:o,persistedSystemHintTriggers:a}})};getPersistedSystemHintTrigger=t=>{if(this.getState().persistedSystemHints.has(t))return this.getState().persistedSystemHintTriggers[t]};clearPersistedSystemHintTrigger=t=>{this.setState(({persistedSystemHints:n,persistedSystemHintTriggers:r})=>{const s={...r};return delete s[t],{persistedSystemHints:new Set(n),persistedSystemHintTriggers:s}})}}const rG=()=>wo.useState(wo.getPersistedSystemHints);function Rlt({children:e,clientThreadId:t,currentLeafId:n}){const[r]=Ro(),s=r.get(sI)===Lt.Search,o=nI(t,MA.Search),i=(k.getLastMessgageSystemHints(t,n).includes(Lt.Search)||s)&&o,[l]=p.useState(()=>new wo(i?[Lt.Search]:[]));return p.useEffect(()=>{const u=l.getState().persistedSystemHints;i&&!u.has(Lt.Search)&&l?.addPersistedSystemHint(Lt.Search,{clientThreadId:t,turnIndex:0})},[i,l,t]),c.jsx(wo.Provider,{store:l,children:e})}function sG(e){const t=new Set;if(e){const n=e.split(",");Array.isArray(n)&&n.forEach(r=>{Object.values(Lt).includes(r)&&t.add(r)})}return t}const Fu="q",Om="m";function jlt(e){const{clientThreadId:t,currentLeafId:n,handleRequestCompletion:r}=e,s=p.useRef(!1),{isLoading:o,data:a}=Fs(),{doesUserHaveAnyAccountsWithPlusFeatures:i,isLoading:l}=Ds(),u=Ge(),[d,f]=Ro(),h=ze(),m=p.useCallback((_,C,T,M)=>{k.updateTree(t,E=>{E.addNode(_,T,C,z.User,void 0,M)})},[t]),g=p.useCallback(async(_,{content:C,attachments:T},M,E,R,$)=>{const U=n,Y=T.length>0?{attachments:T}:{};Y.system_hints=E.systemHints,m(_,U,C,Y),r({type:ks.Next,promptId:_,requestedModelId:$,eventMetadata:M,cancelActiveRequests:!0,completionMetadata:E,turnTracker:R})},[m,r,n]),v=EA(()=>window.location.pathname)??null,y=GV();let x=!o&&!l&&v!=null;const[b,w]=p.useState(!0);return p.useEffect(()=>{if(!b||s.current)return;const _=Te.getConversationMode(t);if(!x||_==null)return;if(!aG(v)||oG(v)&&y===void 0||k.getServerThreadId(t)!=null){w(!1);return}const C=(()=>{try{return Object.fromEntries(new URLSearchParams(location.hash.slice(1)).entries())}catch{return{}}})(),T={...Object.fromEntries(d),...C},{[Fu]:M,[Om]:E,[sI]:R}=T,$=(typeof M=="string"?M:null)??(typeof E=="string"?E:null);if(!$||!$.trim()){w(!1);return}const U=sG(R),Y=Fn();s.current=!0;let F=a?.modelsList;U.has(Lt.Search)&&(F=F?.filter(H=>H.enabledTools?.includes(Lt.Search)));const j=a&&eI({...a,modelsList:F??[]},!!i,!!u?.isEnterprisey());if(j==null){h.warning("No model available for this request"),w(!1);return}const D=new Hd,B=R?.includes(Lt.Search);(e.prefetchSearchPromise??Promise.resolve(null)).then(H=>{f(N=>{const L=new URLSearchParams(N);return L.delete(Fu),L.delete(Om),L}),g(Y,{content:$,attachments:[]},{eventSource:"url"},{conversationMode:_,source:"instant-query",systemHints:R?Array.from(U):void 0,prefetchIds:H!=null?[H]:void 0,searchSource:B?Ov.URL_SEARCH_HINT:void 0},D,j?.id),w(!1)})},[o,l,x,v,a,i,u,g,b,t,y,h,e.prefetchSearchPromise,d,f]),b&&(e.prefetchSearchPromise!=null||d.has(Fu)||d.has(Om)?!0:(w(!1),!1))}function oG(e){return oI(e)}function oI(e){return e==null?!1:/^\/g\/[\w-]+$/.test(e)}function aG(e){return e==null?!1:e==="/"||oI(e)}class ft{static getMyGizmos(){return he.get(`${Ce}/gizmos?mine=true`)}static getGizmosByUser(t){return he.get(`${Ce}/gizmos/u/${t}`)}static getGizmo(t,n){const r=n?"?draft=true":"";return he.get(`${Ce}/gizmos/${t}${r}`)}static shareGizmo(t,n){return he.post(`${Ce}/gizmos/${t}/share`,n)}static getGizmoDiscovery(t,n){const r=new URLSearchParams;return t!=null&&r.set("locale",t),he.get(n?`${Cm}/gizmos/discovery_anon?${r}`:`${Cm}/gizmos/discovery?${r}`,{authOption:n1.SendIfAvailable})}static async getGizmoDiscoveryCut(t,n){const r=o=>{const a={};o!=null&&(a.cursor=o),n?.limit!=null&&(a.limit=`${n.limit}`),n?.locale!=null&&(a.locale=n.locale);const i=`${Cm}/gizmos/discovery/${t}`;return he.get(i,{params:a,authOption:n1.SendIfAvailable})},s=await r(n?.cursor);return s.list.items.length===0&&s.list.cursor!=null?(await new Promise(o=>setTimeout(o,Math.random()*30)),r(s.list.cursor)):s}static getGizmoBootstrap(){return he.get(`${Ce}/gizmos/bootstrap?limit=2`)}static getGizmoPinned(){return he.get(`${Ce}/gizmos/pinned`)}static getGizmoSearch(t,n=null){return n?he.get(`${Ce}/gizmos/search?q=${t}&cursor=${n} `):he.get(`${Ce}/gizmos/search?q=${t}`)}static getGizmoSearchForWorkspace(t,n=null){return n?he.get(`${Ce}/gizmos/search?q=${t}&workspace_only=true&cursor=${n}`):he.get(`${Ce}/gizmos/search?q=${t}&workspace_only=true`)}static async postGizmoAppeal(t,n,r,s,o){await he.post(`${Ce}/gizmos/${n}/appeal`,{reason:r,share_recipient:s,categories:o}),await t.invalidateQueries({queryKey:["gizmo",{gizmoId:n}]})}static async postGizmoCancelAppeal(t,n){await he.post(`${Ce}/gizmos/${n}/cancel_appeal`,{}),await t.invalidateQueries({queryKey:["gizmo",{gizmoId:n}]})}static upsertDraft(t,n){return n!==void 0?he.post(`${Ce}/gizmos?gizmo_id=${n}`,t):he.post(`${Ce}/gizmos`,t)}static promoteDraft(t,n){return he.post(`${Ce}/gizmos/${n}/promote`,t)}static deleteGizmo(t){return he.delete(`${Ce}/gizmos/${t}`)}static getBuilderProfile(){return he.get(`${Ce}/gizmo_creator_profile`)}static updateBuilderProfile(t){return he.post(`${Ce}/gizmo_creator_profile`,t)}static unverifySocialAuth(t){return he.delete(`${Ce}/gizmo_creator_profile/socials/${t}`)}static async updateGizmoSidebar(t,n,r,s){const o=await he.post(`${Ce}/gizmos/${r}/sidebar`,{action:s});switch(s){case"keep":n.handleGizmoSidebarKeep(t,r);break;case"hide":n.handleGizmoSidebarHide(t,r);break}return o}static async removeFromRecent(t,n){const r=await he.post(`${Ce}/gizmos/${n}/remove_recent`,{});return t.invalidateQueries({queryKey:["gizmos","bootstrap"]}),t.invalidateQueries({queryKey:["gizmos","discovery"]}),r}static fetchOpenAPISpec(t){return he.post(`${Ce}/gizmos/fetch_openapi`,{url:t})}static validateOpenAPISpec(t){return he.post(`${Ce}/gizmos/validate_openapi`,{raw_spec:t})}static transformToOpenAPISpec(t,n){return he.post(`${Ce}/gizmos/transform_openapi`,{...t,auth:n})}static async doOAuthRedirect(t,n,r,s,o){const a=await he.post(`${Ce}/gizmos/oauth_redirect`,{gizmo_id:t,gizmo_action_id:n,domain:r,redirect_to:s,draft:o});window.location.href=a.redirect_uri}static async upsertUserActionSettings(t,n,r){return he.post(`${Ce}/gizmos/action_settings`,{gizmo_action_id:t,domain:n,action_settings:r})}static async getUserActionSettings(t){return he.get(`${Ce}/gizmos/user_action_settings?gizmo_id=${t}`)}static async generateCategory(t,n){return he.post(`${Ce}/gizmos/gen_category`,{name:t,instructions:n})}static async getConversations(t){return he.get(`${Ce}/gizmos/${t}/conversations`)}static async getCategories(){return he.get(`${Ce}/gizmos/categories`)}static async getUserReview(t){return he.get(`${Ce}/gizmo_reviews/${t}`)}static async upsertUserReview(t,n,r,s){return he.post(`${Ce}/gizmo_reviews/${t}`,{rating:n,message:r,include_from:s})}static async sendFeedbackEmail(t,n,r){return he.post(`${Ce}/gizmos/${t}/feedback`,{message:n,include_from:r})}static async getAbout(t){return he.get(`${Ce}/gizmos/${t}/about`)}static async getCreatorSlice({creatorId:t}){return he.get(`${Ce}/gizmo_creators/${t}/gizmos`)}static async getVersion({gizmoId:t,version:n}){return n==null?he.get(`${Ce}/gizmos/${t}/version/latest`):he.get(`${Ce}/gizmos/${t}/version/${n}`)}static async listVersions({gizmoId:t,limit:n,cursor:r}){const s={};return n&&(s.limit=n),r&&(s.cursor=r),he.get(`${Ce}/gizmos/${t}/versions`,{params:s})}static async copyGizmo({gizmoId:t}){return await he.post(`${Ce}/gizmos/${t}/copy`)}}async function iG(){const e=await Z.getMe();return{id:e.id,email:e.email,name:e.name,picture:e.picture,created:e.created}}const aI=No({queryKey:["user"],queryFn:iG,staleTime:1/0});function an(){return _e(aI).data}const cG={currentWorkspace:null,subscriptionStatus:null,workspaces:[]};function rr(e){const t=_e({...kA(),select:n=>{const r=sB(n);return{currentWorkspace:r?.data??null,subscriptionStatus:r?.data.subscriptionStatus??null,workspaces:n.accountItems.map(s=>s.data)}}}).data??cG;return e?e(t):t}const Ua={hasMultipleWorkspaces:({workspaces:e})=>e.length>1,isPersonalWorkspace:({currentWorkspace:e})=>e?.structure===da.PERSONAL,isBusinessWorkspace:({currentWorkspace:e})=>e!=null?e.structure===da.WORKSPACE:void 0,isEduPlan:({subscriptionStatus:e})=>e?.planType===ao.EDU,isEnterpriseyPlan:({subscriptionStatus:e})=>e?.planType===ao.ENTERPRISE||e?.planType===ao.EDU,isTeamPlan:({subscriptionStatus:e})=>e?.planType===ao.TEAM,isAdmin:({currentWorkspace:e})=>e!=null&&e.role===ho.ADMIN,isOwner:({currentWorkspace:e})=>e!=null&&e.role===ho.OWNER,workspaceId:({currentWorkspace:e})=>e!=null?e.id:null,businessWorkspace:({currentWorkspace:e})=>e?.structure===da.WORKSPACE?e:void 0,businessWorkspaceId:({currentWorkspace:e})=>e?.structure===da.WORKSPACE?e.id:void 0,hasPaidSubscription:({subscriptionStatus:e})=>e!=null?e.hasPaidSubscription:!1,wasPaidCustomer:({subscriptionStatus:e})=>e!=null?e.wasPaidCustomer:!1,hasCustomerObject:({subscriptionStatus:e})=>e!=null?e.hasCustomerObject:!1,hasUnclaimedFreeTrial:({currentWorkspace:e})=>e?.promoData?.has_claimed_free_trial,lastActiveSubscription:({subscriptionStatus:e})=>e!=null?e.lastActiveSubscription:null,workspaces:({workspaces:e})=>e,accountUserId:({currentWorkspace:e})=>e?.accountUserId};function Dlt(){const e=Ge();if(e!=null)return e.hasPlusFeatures()}function Llt(){return Ge()?.data.subscriptionStatus.lastActiveSubscription}function Flt(e){return e.gizmo.current_user_permission?.can_write??!1}function Blt(e){return e.gizmo.current_user_permission?.can_view_config??!1}function lG(e,t,n){const r=t?.name;switch(e){case En.Link:return n.formatMessage(Kl.privacyAnyoneWithLink);case En.Private:return n.formatMessage(Kl.privacyOnlyMe);case En.Group:case En.User:return n.formatMessage({id:"B9pJ5o",defaultMessage:"Invite only"});case En.Marketplace:return n.formatMessage(Kl.privacyMarketplace);case En.Workspace:return n.formatMessage(Kl.privacyWorkspace,{workspaceName:r});case En.WorkspaceLink:return n.formatMessage({id:"T5Eek0",defaultMessage:"Anyone at {workspaceName} with the link"},{workspaceName:r})}}function Ult(e){const t=V(),n=rr(r=>r.currentWorkspace);return lG(e,n,t)}function uG(e){return"gizmo"in e}function iI(e){return"id"in e}function Vlt(e){return`${e.replaceAll(".","_").replaceAll("-","_")}__jit_plugin`}const Kl=Q({privacyOnlyMe:{id:"gizmo.privacyOnlyMe",defaultMessage:"Only me"},privacyAnyoneWithLink:{id:"gizmo.privacyAnyoneWithLink",defaultMessage:"Anyone with a link"},privacyWorkspace:{id:"gizmo.privacyWorkspace",defaultMessage:"Anyone at {workspaceName}"},privacyMarketplace:{id:"gizmo.privacyMarketplace",defaultMessage:"Everyone"}}),Glt="GPT Builder";function Wlt(e){if(e)return`ChatGPT - ${e}`}function Lw(e){return e.gizmo.short_url??e.gizmo.id??"-"}function cp(e){return`/g/${e}`}function Hlt(e){return`https://chatgpt.com${cp(e)}`}function cI(e){return cp(Lw(e))}function zlt(e,t){const n=new URLSearchParams;return t!=null&&n.set(Fu,t),VV(new URL(`${cI(e)}?${n}`,"https://chatgpt.com"))}function qlt(e){return`/g/${Lw(e)}`}function Ylt(e){return uG(e)&&e.gizmo.live_version===0||iI(e)&&e.liveVersion===0}function Klt(e,t){return _e({queryKey:["gizmos","discovery",{locale:e,isAnon:t}],queryFn:async()=>ft.getGizmoDiscovery(e,t)})}function dG({cutId:e,locale:t,limit:n,cursor:r,enabled:s=!0}){return qx({queryKey:["gizmos","discovery",{cutId:e,locale:t,limit:n}],queryFn:async({pageParam:o})=>ft.getGizmoDiscoveryCut(e,{locale:t,cursor:o,limit:n}),initialPageParam:r,getNextPageParam:o=>o.list.cursor??void 0,enabled:s})}function fG(){return _e({queryKey:["gizmos","pinned"],queryFn:async()=>ft.getGizmoPinned()})}function fc(){return No({queryKey:["gizmos","bootstrap"],queryFn:async()=>ft.getGizmoBootstrap().then(e=>({gizmos:Object.values(e).flat().filter(n=>n).map(n=>({resource:n.resource,flair:n.flair}))}))})}function Qlt(){return _e(fc())}function U1(e,t){const n=e.filter(s=>s.resource.gizmo.id!==t.resource.gizmo.id);let r=n.findIndex(s=>s.flair.kind===pa.Recent);return r===-1&&(r=n.length),n.splice(r,0,t),n}const lI={handleGizmoInteracted(e,t){const n=e.getQueryData(So(e,t).queryKey);n!=null&&e.setQueryData(fc().queryKey,r=>{if(r==null)return r;const s=r.gizmos.find(o=>o.resource.gizmo.id===t);return s?.flair.kind===pa.FirstParty||s?.flair.kind===pa.SidebarKeep?r:{gizmos:U1(r.gizmos,{resource:n,flair:{kind:pa.Recent}})}})},handleGizmoSidebarKeep(e,t){const n=e.getQueryData(So(e,t).queryKey);n!=null&&e.setQueryData(fc().queryKey,r=>r==null?r:{gizmos:U1(r.gizmos,{resource:n,flair:{kind:pa.SidebarKeep}})})},handleGizmoSidebarHide(e,t){e.setQueryData(fc().queryKey,n=>n?.gizmos.some(r=>r.resource.gizmo.id===t)?{gizmos:n.gizmos.filter(r=>r.resource.gizmo.id!==t)}:n)}};function hi(e,t=!1){const n=Fe();return _e(So(n,e,t))}function Xlt({gizmoId:e,draft:t,version:n}){const r=Fe(),s=n?{queryKey:["gizmo","version",{gizmoId:e,version:n}],queryFn:async()=>ft.getVersion({gizmoId:e,version:n}),enabled:e!=null}:So(r,e,t);return _e(s)}function Zlt(e,t){return _e({queryKey:["gizmo","userActionSettings",{gizmoId:e}],queryFn:async()=>ft.getUserActionSettings(e),enabled:e!=null&&t})}function So(e,t,n=!1){return No({queryKey:["gizmo",{gizmoId:t},{draft:n}],queryFn:async()=>ft.getGizmo(t,n),enabled:t!=null,initialData:()=>{if(n===!0)return;const r=e.getQueryData(fc().queryKey);if(r!=null)return r.gizmos.find(o=>o.resource.gizmo.id===t)?.resource;const s=e.getQueryData(["gizmos","discovery"]);if(s!=null)for(const o of s.cuts){const a=o.list.items.find(i=>i.resource.gizmo.id===t)?.resource;if(a!=null)return a}}})}function hG(e,t){return e.fetchQuery(So(e,t))}function Jlt(e){return _e({queryKey:["gizmo",{search:e}],queryFn:async()=>ft.getGizmoSearch(e),enabled:e.length>0})}function eut(e,t){return _e({queryKey:["gizmo-search-workspace",{search:e}],queryFn:async()=>ft.getGizmoSearchForWorkspace(e),enabled:e.length>0&&t})}function tut(e,t=!1,n=!1,r=null){return qx({queryKey:[n?"gizmo-search-workspace":"gizmo",{query:e,cursor:r}],queryFn:async({pageParam:s})=>n?ft.getGizmoSearchForWorkspace(e,r=s):ft.getGizmoSearch(e,r=s),initialPageParam:r,getNextPageParam:s=>s.cursor??void 0,enabled:t})}function nut(){const e=Fe();return St({mutationFn:async({gizmoId:t,editorData:n})=>{const{instructions:r,name:s,description:o,profilePictureId:a,profilePictureUrl:i,promptStarters:l,tools:u,files:d,trainingDisabled:f}=n,h={instructions:r,display:{name:s,description:o,profile_pic_id:a,profile_picture_url:i,prompt_starters:l},tools:u,files:d.map(m=>({...m,location:QO.FILE_SERVICE})),training_disabled:f};return ft.upsertDraft(h,t)},onSettled:t=>{t&&(e.setQueryData(So(e,t.gizmo.id,!0).queryKey,t),e.invalidateQueries({queryKey:["gizmos","mine"],refetchType:"none"}))}})}function rut(){const e=Fe();return St({mutationFn:async({gizmoId:t,data:n})=>{const{sharingRecipient:r,categories:s}=n,o=await ft.promoteDraft({sharing:n.sharingSubjects&&n.sharingSubjects.length>0?n.sharingSubjects:{recipient:r},categories:s},t);if(o.error)throw new LV(o);return o.resource},onSettled:t=>{e.invalidateQueries({queryKey:["gizmos"],refetchType:"all"}),e.invalidateQueries({queryKey:["gizmos","pinned"],refetchType:"none"}),t&&e.setQueryData(So(e,t.gizmo.id,!1).queryKey,t)}})}function sut(){const e=Fe();return St({mutationFn:async({gizmoId:t})=>ft.deleteGizmo(t),onSettled:()=>{e.invalidateQueries({queryKey:["gizmos"],refetchType:"all"})}})}function out(){const e=Fe(),t=ze();return St({mutationFn:async({name:n,hideName:r,websiteUrl:s,willReceiveSupportEmails:o})=>ft.updateBuilderProfile({name:n,hide_name:r,website_url:s,will_receive_support_emails:o}),onSuccess:n=>{e.setQueryData(["builderProfile"],n)},onError:n=>{t.warning(n.message)}})}function aut(){return _e({queryKey:["builderProfile"],queryFn:async()=>ft.getBuilderProfile()})}function iut(){return St({mutationFn:async({gizmoId:e})=>ft.copyGizmo({gizmoId:e})})}function cut(){return _e({queryKey:["gizmoCategories"],queryFn:async()=>ft.getCategories()})}function lut(e,t){return!!(t!=null&&[Me.PrimaryAssistant,Me.GizmoInteraction].includes(t)&&e?.includes(fo.GPT_4))}function pG(e,t){const n=Fe(),r=ze();return St({mutationFn:async({rating:s,message:o,includeFrom:a})=>{await ft.upsertUserReview(e,s,o,a)},onSuccess:async()=>{n.invalidateQueries({queryKey:["gizmo","review",{gizmoId:e}]})},onError:s=>{r.danger(s.message)}})}const Fw=He(js(()=>({statusMap:{}}))),mG=e=>Fw(t=>t.statusMap[e]),Ec=(e,t)=>{Fw.setState(n=>{n.statusMap[e]=t;const r=k.getServerThreadId(e);r&&(n.statusMap[r]=t)})},gG=e=>{Fw.setState(t=>{for(const{id:n,async_status:r}of e)r!=null&&(t.statusMap[n]={source:_s.SERVER,value:r})})},uI={};function vG(e){return uI[e]??null}function yG(e){return e in uI}async function Bw(e,t){const n=vG(e),r=n??await Z.getConversation(e);return t==null&&n&&(t=!0),n||ae.addTiming("chatgpt.web.chatPage.loadExistingConversation"),k.initThreadFromServerData(e,r,t,void 0,t),Ec(r.conversation_id,r.async_status?{source:_s.SERVER,value:r.async_status}:null),r}const bG=e=>{const t=It(),{pathname:n}=Io(),r=Ir(),s=op(),o=ze();_e({queryKey:["conversation",e],queryFn:()=>Bw(e).catch(a=>{const i=OO(n),l=i!=null?cp(i):"/";throw t(l),o.danger(`Unable to load conversation ${e}`,{testId:"conversation-fetch-error-toaster"}),a}),enabled:!$r(e)&&!r&&!s,refetchOnMount:!0})};function qd(e,t){return t!=null||e!=null?{modelSelectionPositionRange:t,modelCursorPosition:e}:void 0}function xG(e,t,n){const r=[],s=t.start-t.end+n;for(const o of e){const a=wG(o.at,t,s);a&&r.push(a===o.at?o:{...o,at:a})}return r}function wG(e,t,n){return t.start>=e.end?e:t.start<=e.start&&t.end>=e.end?null:t.end<=e.start?n===0?e:{start:e.start+n,end:e.end+n}:t.start<=e.start?{start:t.end+n,end:e.end+n}:t.end>=e.end?{start:e.start,end:t.start}:{start:e.start,end:e.end+n}}const SG=/[*_-\s\d.\\`]+$/;function zv(e,t){return t?e.replace(SG,""):e}function _G(e,t){return mo(e,n=>{for(const r of t){if(r.kind===yt.CREATE){const s=TG(r),{tempTextdocId:o,textdocId:a}=r;o&&a&&(n.resolveTempTextdocId[o]=a),uc(n,s)}else{const s=n.textdocById[r.textdocId];if(!s){ae.addError("Attempted to apply canmore operation to an unknown target id",{textdocOp:r});continue}const o=s.versions[s.versions.length-1],a=dI(o,r);uc(n,a,CG(o,r))}r.textdocId&&(n.latestTextdocId=r.textdocId)}})}function CG(e,t){if(t.author.role===z.User)return e.messageId?!0:t.createdAt-e.createdAt>3600;switch(t.kind){case yt.REWRITE:return!0;case yt.EDIT:return t.messageId!==e.messageId;case yt.ADD_COMMENT:return!1;case yt.REMOVE_COMMENT:return!1}}function TG(e){const t=!!e.isPartial,n=zv(e.content,t);return{textdocId:e.textdocId,versionInt:e.versionInt??null,messageId:e.messageId??null,title:e.title,type:e.type,content:n,createdAt:e.createdAt,status:t?Kn.CREATING:Kn.COMPLETE,comments:[],modelCursor:qd(e.author.role===z.Assistant&&e.isPartial?n.length:void 0)}}function MG(e,t){if(!e.isPartial)return;if(e.isPartialRange)return qd(void 0,e.at);const n=e.at.start+t.length;return qd(n)}function dI(e,t){switch(t.kind){case yt.REMOVE_COMMENT:return{...e,versionInt:t.versionInt??e.versionInt,comments:e.comments.map(n=>n.id===t.commentId?{...n,status:t.reason===oO.ACCEPT?Fv.ACCEPT_INITIATED:Fv.DISMISSED}:n)};case yt.REWRITE:{const n=e.status!==Kn.COMPLETE||t.isPartial===!0,r=zv(t.content,n),s=t.author.role===z.Assistant&&t.isPartial?r.length:void 0;return{...e,versionInt:t.versionInt??e.versionInt,messageId:t.messageId??null,content:r,createdAt:t.createdAt,comments:t.comments??e.comments,status:Kn.REWRITING,modelCursor:qd(s)}}case yt.EDIT:{const n=t.isPartial&&t.isPartialRange?e.content.slice(t.at.start,t.at.end):zv(t.content,t.isPartial===!0),r=e.content.slice(0,t.at.start)+n+e.content.slice(t.at.end);return{...e,versionInt:t.versionInt??e.versionInt,messageId:t.messageId??null,content:r,createdAt:t.createdAt,status:t.isPartial?Kn.UPDATING:Kn.COMPLETE,comments:xG(e.comments,t.at,n.length),modelCursor:MG(t,n)}}case yt.ADD_COMMENT:{const n={id:t.id??t.tempId,tempId:t.tempId,at:t.at,content:t.content??""},r=e.comments.concat(n);return{...e,versionInt:t.versionInt??e.versionInt,messageId:t.messageId??null,createdAt:t.createdAt,status:t.isPartial?Kn.COMMENTING:Kn.COMPLETE,comments:r}}}}var EG=qO,kG=ti,PG="Expected a function";function AG(e,t,n){var r=!0,s=!0;if(typeof e!="function")throw new TypeError(PG);return kG(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),EG(e,t,{leading:r,maxWait:t,trailing:s})}var $G=AG;const fI=ge($G);function Yd(e){return e.map(t=>typeof t=="string"?t:"").join("")}function OG(e){return e.map(t=>t.type==="text"?t.text:"").join(`
`)}function Uw(e,t){const n=[];let r=0;for(let s=0;s<e.length;s++){const o=e[s];if(typeof o=="string")if(t!=null&&t<r+o.length){n.push({type:"text",text:o.slice(0,t-r)});break}else n.push({type:"text",text:o}),r+=o.length;else if(o.content_type===fn.ImageAssetPointer){const a=s>0?n[s-1]:null;a?.type==="images"?a.imageAssets.push(o):n.push({type:"images",imageAssets:[o]})}else o.content_type===fn.AudioTranscription&&n.push({type:"transcription",text:o.text})}return n}function IG({isUserTurn:e,parts:t}){if(!e)return Uw(t);const n={text:[],images:[]};for(let s=0;s<t.length;s++){const o=t[s];typeof o=="string"?o.trim().length>0&&n.text.push({type:"text",text:o}):o.content_type===fn.AudioTranscription?n.text.push({type:"transcription",text:o.text}):o.content_type===fn.ImageAssetPointer&&n.images.push(o)}const r=[];return n.images.length>0&&r.unshift({type:"images",imageAssets:n.images}),r.push(...n.text.map(s=>({type:s.type,text:s.text}))),r}function hI(e){const t=e&&new Date(e),n=t&&new Date(t);return n?`after ${n.getHours()%12||12}:${n.getMinutes()<10?"0":""}${n.getMinutes()} ${n.getHours()>=12?"PM":"AM"}`:"later"}class pI{constructor(t,n,r,s){this.targetLength=t,this.isActivelyStreaming=n,this.onUpdate=s,this.bufferedLength=r?0:this.targetLength,r&&!r.isComplete()&&(r.nextBuffer=this,this.prevBuffer=r)}sentLength=null;sentIsComplete=null;bufferedLength;requestUpdateRaf=null;prevBuffer;nextBuffer;setTargetLength(t,n){t<this.bufferedLength&&(this.bufferedLength=t),this.targetLength=t,this.isActivelyStreaming=n,this.shouldUpdate()&&this.updateBufferedState()}shouldUpdate(){return!this.prevBuffer&&(this.isBuffering()||this.sentIsComplete!==this.isComplete())}isBuffering(){return this.bufferedLength<this.targetLength}isComplete(){return!this.prevBuffer&&!this.isActivelyStreaming&&!this.isBuffering()}getTotalRemainingLength(){let t=this.targetLength,n=this.nextBuffer;for(;n;)t+=n.targetLength,n=n.nextBuffer;return t-this.bufferedLength}requestUpdate(){this.requestUpdateRaf||this.sentLength===this.bufferedLength&&this.sentIsComplete===this.isComplete()||(this.requestUpdateRaf=window.requestAnimationFrame(()=>{this.requestUpdateRaf=null;const t=this.isComplete();this.sentLength=this.bufferedLength,this.sentIsComplete=t,this.onUpdate(this.bufferedLength,t),t&&this.resolveDependency()}))}resolveDependency(){if(this.nextBuffer){const t=this.nextBuffer;this.nextBuffer=t.prevBuffer=void 0,t.shouldUpdate()&&t.updateBufferedState()}}destroy(){this.resolveDependency(),this.requestUpdateRaf&&(window.cancelAnimationFrame(this.requestUpdateRaf),this.requestUpdateRaf=null)}}class hc extends pI{static MAX_BUFFERING_LAG_MS=500;static MIN_BUFFERING_CHAR_PER_MS=1/30;frameRequestId;prevAddFrameTime;updateBufferedState(){if(!this.frameRequestId){const t=this.getTotalRemainingLength(),n=Math.max(hc.MIN_BUFFERING_CHAR_PER_MS,t/hc.MAX_BUFFERING_LAG_MS);this.frameRequestId=window.requestAnimationFrame(r=>{this.frameRequestId=void 0;const s=this.prevAddFrameTime===void 0?2/hc.MIN_BUFFERING_CHAR_PER_MS:r-this.prevAddFrameTime,o=Math.floor(n*s);o>0&&(this.prevAddFrameTime=r,this.bufferedLength=Math.min(this.bufferedLength+o,this.targetLength)),this.requestUpdate(),this.shouldUpdate()&&this.updateBufferedState()})}}destroy(){super.destroy(),this.frameRequestId&&window.cancelAnimationFrame(this.frameRequestId)}}class mI extends pI{constructor(t,n,r,s){super(Yd(t).length,r,s,(o,a)=>n(Uw(this.textMessageParts,o),a)),this.textMessageParts=t}onMessagePartsUpdated(t,n){this.textMessageParts=t,this.setTargetLength(Yd(t).length,n)}}class Cs extends mI{constructor(t,n,r,s){super(t,n,r,s),this.updateReactComponentDisplay=n}static MIN_CHARS_BEHIND_TO_CATCHUP=20;static CATCHUP_TIME_MS=300;static UPDATE_FREQUENCY_MS=30;displayNextChunkTimeout;updateBufferedState(){const t=this.getTotalRemainingLength(),n=t<Cs.MIN_CHARS_BEHIND_TO_CATCHUP?this.targetLength-this.bufferedLength:Math.ceil(t*Cs.UPDATE_FREQUENCY_MS/Cs.CATCHUP_TIME_MS);this.bufferedLength=Math.min(this.bufferedLength+n,this.targetLength),this.requestUpdate(),this.displayNextChunkTimeout||(this.displayNextChunkTimeout=window.setTimeout(()=>{this.displayNextChunkTimeout=void 0,this.shouldUpdate()&&this.updateBufferedState()},Cs.UPDATE_FREQUENCY_MS))}destroy(){super.destroy(),window.clearTimeout(this.displayNextChunkTimeout)}}const Ql=15,Im=8;class NG extends mI{constructor(t,n,r,s,o){super(t,n,r,s),this.updateReactComponentDisplay=n,this.concatenatedText=Yd(this.textMessageParts),this.debug=o?.debug??!1,this.streamStartMs=0,this.averageMsPerChar=0,this.debug&&console.debug(["PunctuationBuffer:",`[lagFactors: ${JSON.stringify(this.LAG_FACTORS,null,2)}]`].join(`
`))}LAG_FACTORS={".":Ql,"!":Ql,"?":Ql,"\n":Ql,",":Im,":":Im,";":Im,DEFAULT_LAG_FACTOR:.9,BUFFER_FACTOR:.08,...typeof window<"u"&&window.__PUNCTUATION_BUFFER_LAG_FACTORS};concatenatedText;displayNextCharTimeout;debug;streamStartMs;averageMsPerChar;displayNextChar(){this.displayNextCharTimeout=void 0,this.shouldUpdate()&&(this.bufferedLength++,this.requestUpdate(),this.displayNextCharTimeout=window.setTimeout(()=>this.displayNextChar(),this._getNextCharDelayMs()))}updateBufferedState(){this.concatenatedText=Yd(this.textMessageParts),this.streamStartMs===0?this.streamStartMs=Date.now():this.averageMsPerChar=(Date.now()-this.streamStartMs)/this.targetLength,this.displayNextCharTimeout||this.displayNextChar()}destroy(){super.destroy(),window.clearTimeout(this.displayNextCharTimeout)}_getNextCharDelayMs(){const t=this.concatenatedText[this.bufferedLength-1],n=this.getTotalRemainingLength(),r=1/Math.max(n*this.LAG_FACTORS.BUFFER_FACTOR,1),s=(this.LAG_FACTORS[t]??this.LAG_FACTORS.DEFAULT_LAG_FACTOR)*r,o=this.averageMsPerChar*s;return this.debug&&this._throttledDebugLog(["PunctuationBuffer:",`[lagMs: ${o}]`,`[lastChar: "${t}"]`,`[averageMsPerChar: ${this.averageMsPerChar}]`,`[lagFactor: ${s}]`,`[bufferLagFactor: ${r}]`,`[remainingLength: ${n}]`,"==="].join(`
`)),o}_throttledDebugLog=fI(t=>{console.debug(t)},500,{leading:!0,trailing:!0})}function RG(e){return e.type==="text"}class V1{buffer;text;constructor(t,n,r="",s,o){this.buffer=new t([r],(a,i)=>{const l=a.filter(RG).map(u=>u.text).join("");n(l,i)},s,o),this.text=r}setText(t,n=!0){this.text=t,this.buffer.onMessagePartsUpdated([this.text],n)}isBuffering(){return this.buffer.isBuffering()}isComplete(){return this.buffer.isComplete()}destroy(){return this.buffer.destroy()}}function jG(e,t,n,r){for(var s=-1,o=e==null?0:e.length;++s<o;){var a=e[s];t(r,a,n(a),e)}return r}var DG=jG,LG=Eh;function FG(e,t){return function(n,r){if(n==null)return n;if(!LG(n))return e(n,r);for(var s=n.length,o=t?s:-1,a=Object(n);(t?o--:++o<s)&&r(a[o],o,a)!==!1;);return n}}var BG=FG,UG=bw,VG=BG,GG=VG(UG),gI=GG,WG=gI;function HG(e,t,n,r){return WG(e,function(s,o,a){t(r,s,n(s),a)}),r}var zG=HG,qG=DG,YG=zG,KG=ei,QG=Ph;function XG(e,t){return function(n,r){var s=QG(n)?qG:YG,o=t?t():{};return s(n,e,KG(r),o)}}var vI=XG,ZG=Yx,JG=vI,eW=Object.prototype,tW=eW.hasOwnProperty,nW=JG(function(e,t,n){tW.call(e,n)?e[n].push(t):ZG(e,n,[t])}),rW=nW;const Vw=ge(rW);function sW(e,t,n){const[r,s]=p.useState(null),o=t?.length??0,a=o>0,i=p.useRef(new Map);return p.useEffect(()=>{if(t)for(const l of t){const{messageId:u}=l;if(u==null||i.current.has(u))continue;const d=new oW((f,h)=>{if(s(m=>({...m,[u]:f})),!!h){for(const[m,g]of i.current.entries())if(m!==u&&!g.isComplete())return;n(!0)}});i.current.set(u,d)}},[o]),p.useEffect(()=>{const l=i.current;return()=>{for(const u of l.values())u.destroy()}},[a]),p.useEffect(()=>{if(!a)return s(null);const l=Vw(t,"messageId");for(const[u,d]of Object.entries(l)){const f=i.current.get(u);f&&f.setTextdocOps(d,!e)}},[a,e,t]),p.useMemo(()=>!a||!r?null:Object.values(r).flatMap(l=>l??[]),[a,r])}class oW{constructor(t){this.onUpdate=t}bufferedOps=[];isFinishedStreaming=!1;rangeBuffers=[];textBuffers=[];completeCounters=[];lastBuffer;destroy(){for(const t of this.rangeBuffers)t?.destroy();for(const t of this.textBuffers)t?.destroy();this.isFinishedStreaming=!0,this.rangeBuffers=[],this.textBuffers=[],this.completeCounters=[],this.lastBuffer=void 0}isBuffering(){return!((this.lastBuffer?.isComplete()??!0)&&(ns(this.completeCounters)?.isComplete()??!0))}getNonEmptyBufferedOpsOrNull(){return this.bufferedOps&&this.bufferedOps.length>0?this.bufferedOps:null}isComplete(){return this.isFinishedStreaming&&!this.isBuffering()}setTextdocOps(t,n){if(this.isFinishedStreaming=n,t)for(let r=0;r<t.length;r++){const s=t[r];if(s.author.role===z.Assistant)switch(s.kind){case yt.CREATE:case yt.REWRITE:this.setAllContentOpAtIndex(s,r);break;case yt.EDIT:case yt.ADD_COMMENT:this.setRangeAndContentOpAtIndex(s,r);break;default:this.setUnbufferedOpAtIndex(s,r)}else this.setUnbufferedOpAtIndex(s,r)}n&&(t?this.isBuffering()||this.onUpdate(this.getNonEmptyBufferedOpsOrNull(),!0):(this.destroy(),this.update(()=>null)))}update(t){const n=this.bufferedOps;this.bufferedOps=qn(n,t),this.bufferedOps!==n&&this.onUpdate(this.getNonEmptyBufferedOpsOrNull(),this.isComplete())}getBufferedAllContentOp(t,n,r){let s=t[r];return s||(s={...n,content:""},t[r]=s),s}setAllContentOpAtIndex(t,n){const{content:r,isPartial:s=!1}=t;let o=this.textBuffers[n];o?(o.setText(r,s),t.kind===yt.CREATE&&this.update(a=>{const i=this.getBufferedAllContentOp(a,t,n);i.textdocId=t.textdocId})):(o=new V1(Cs,(a,i)=>{this.update(l=>{const u=this.getBufferedAllContentOp(l,t,n);u.content=a,u.isPartial=!i})},r,s,this.lastBuffer),this.textBuffers[n]=o,this.lastBuffer=o.buffer)}getBufferedRangeAndContentOp(t,n,r){let s=t[r];return s||(s={...n,at:{start:n.at.start,end:n.at.start},content:"",isPartial:!0,isPartialRange:!0},t[r]=s),s}setRangeAndContentOpAtIndex(t,n){const{at:r,content:s,isPartialRange:o=!1,isPartial:a=!1}=t;let i=this.completeCounters[n];i||(i=new aW(()=>{this.update(d=>{const f=this.getBufferedRangeAndContentOp(d,t,n);f.isPartial=!1})}),this.completeCounters[n]=i),i.update("original",!a);let l=this.rangeBuffers[n];l?(this.update(d=>{const f=this.getBufferedRangeAndContentOp(d,t,n);if(f.at.start!==r.start){const h=f.at.end-f.at.start;f.at={start:r.start,end:r.start+h}}}),l.setTargetLength(r.end-r.start,o)):(l=new hc(0,o,this.lastBuffer,(d,f)=>{this.update(h=>{const m=this.getBufferedRangeAndContentOp(h,t,n);m.at.end=m.at.start+d,m.isPartialRange=!f}),i.update("range",f)}),this.rangeBuffers[n]=l,this.lastBuffer=l,i.update("range",!1));let u=this.textBuffers[n];u?u.setText(s??"",a):(u=new V1(Cs,(d,f)=>{this.update(h=>{const m=this.getBufferedRangeAndContentOp(h,t,n);m.content=d}),i.update("content",f)},s,a,this.lastBuffer),this.textBuffers[n]=u,this.lastBuffer=u.buffer,i.update("content",!1))}setUnbufferedOpAtIndex(t,n){this.update(r=>{r[n]=t})}}class aW{keyStates=new Set;onComplete;constructor(t){this.onComplete=t}isComplete(){return this.onComplete==null}update(t,n){if(!n)this.keyStates.add(t);else if(this.keyStates.delete(t),this.keyStates.size===0&&this.onComplete){const r=this.onComplete;this.onComplete=null,r()}}}function iW(e){const t=di(e),n=GO(e,t),r=rp(e),s=ep(r),o=wV(e),a=$8(),i=D7(()=>Promise.allSettled([o.refetch(),Bw(e,!0)])),[l,u]=SV({isRequestActive:s,lastTurn:ns(n),clientThreadId:e,persistedTextdocStoreStatus:o.status}),d=!!l,f=i??l,h=!!i||s,m=f?i?Dv.NATIVE:Dv.LAST_TURN:null,g=p.useMemo(()=>n.slice(0,d?-1:n.length),[n.length,d]),v=q8(g),y=PO(),x=s9(),b=E8(),w=p.useMemo(()=>{let M=tO(v);const{textdocVersionById:E,fetchError:R,status:$}=o;return M=mo(M,U=>{U.fetchError=R,U.isFetchingFromPersistence=$===Gd.REFETCHING||$===Gd.INITIALIZING;for(const{pastedAt:Y,content:F,metadata:j,tempId:D}of b){const B=U.resolveTempTextdocId[D]??D,{title:H="",type:N=Cw.DOCUMENT}=j??{};uc(U,{textdocId:B,title:H,type:N,content:F,createdAt:Y,versionInt:0,comments:[],messageId:null,status:Kn.COMPLETE})}if(E)for(const[Y,F]of E.entries()){U.allTextdocIdSet[Y]=Y;const j=a.get(Y);let D=j&&(j.versionInt??Ur)>(F.versionInt??Ur)?{...F,...j}:F;const B=x.filter(N=>N.textdocId===Y&&N.kind===yt.REMOVE_COMMENT);let H=D.versionInt;for(const N of B)D=dI(D,N),H=Math.max(H??Ur,N.versionInt??Ur);D={...D,versionInt:H},U.textdocById[Y]=void 0,uc(U,D)}}),y?mo(M,U=>{uc(U,y,!1)}):M},[b,v,o,a,y,x]),_=p.useMemo(()=>f?.length?C8(h,w,f):null,[f,h,w]),C=sW(h,_,u);return p.useMemo(()=>C?mo(_G(w,C),M=>{M.streamingSource=m}):w,[w,m,C])}function uut({clientThreadId:e,children:t,enableSandbox:n=!1}){const r=iW(e);return NV(e),c.jsx(li.Provider,{value:r,children:c.jsx(G8,{isEnabled:n,children:t})})}var We=(e=>(e.LocaleBanner="oai/apps/hasSeenLocaleBanner",e.HasSeenPluginDisclaimer="oai/apps/hasSeenPluginsDisclaimer",e.FirstTimeUsingUserContext="oai/apps/hasUserContextFirstTime/2023-06-29",e.Onboarding="oai/apps/hasSeenOnboarding",e.TeamOwnerOnboarding="oai/apps/hasSeenTeamOwnerOnboarding",e.MemoryOnboarding="oai/apps/hasSeenMemoryOnboarding",e.TemporaryChatOnboarding="oai/apps/hasSeenTemporaryChatOnboarding",e.ArchiveConversationOnboarding="oai/apps/hasSeenArchiveConversationOnboarding",e.ExploreGPTs="oai/apps/hasSeenExploreGPTs2",e.ExploreGPTsNewNux="oai/apps/hasSeenExploreGPTsNewNux",e.MentionGPTs="oai/apps/hasSeenMentionGPTs",e.ModelTunerDisclaimer="oai/apps/hasSeenModelTunerDisclaimer",e.DalleEditingOnboarding="oai/apps/hasSeenDalleEditingOnboarding",e.ModelSwitcherAutoDowngrade="oai/apps/hasSeenModelSwitcherAutoDowngrade",e.SonicSidebar="oai/apps/hasDismissedSonicSidebar",e.ContextConnectors="oai/apps/hasSeenContextConnectorTooltip",e.hasDismissedCanvasOnboarding="oai/apps/hasDismissedCanvasOnboarding",e.hasDismissedCanvasContextualOnboarding="oai/apps/hasDismissedCanvasContextualOnboarding",e.HasSeenAdvancedVoiceOnMobile="oai/apps/hasSeenAdvancedVoiceOnMobile/2024-09-26",e.SidekickLauncherOnboarding="oai/apps/hasSeenSidekickLauncherOnboarding",e.UseSidekick="oai/apps/hasDismissedUseSidekick",e.UseSidetron="oai/apps/hasDismissedUseSidetron",e.hasSeenSncUsageNux="oai/apps/hasSeenSncUsageNux",e.hasSeenSncWelcomeNux="oai/apps/hasSeenSncWelcomeNux",e.hasSeenSncSidebarTooltip="oai/apps/hasSeenSncSidebarTooltip",e.hasSeenSncSourcesTooltip="oai/apps/hasSeenSncSourcesTooltip",e.hasSeenComposerSearchButtonTooltip="oai/apps/hasSeenComposerSearchButtonTooltip",e.hasSeenPioneer="oai/apps/hasSeenPioneer",e.hasSeenCanvasDropdownNux="oai/apps/hasSeenCanvasDropdownNux",e.hasSeenAdvancedVoiceWebNuxTooltip="oai/apps/hasSeenAdvancedVoiceWebNuxTooltip",e.hasSeenAdvancedVoiceRealWebNuxTooltip="oai/apps/hasSeenAdvancedVoiceRealWebNuxTooltip",e.hasSeenAdvancedVoiceNuxFullPage="oai/apps/hasSeenAdvancedVoice/2024-09-24",e.hasSeenWindowsAppOnboarding="oai/apps/hasSeenWindowsAppOnboarding",e.DesktopBrowserExtensionAnnouncement="oai/apps/hasSeenDesktopBrowserExtensionAnnouncement",e.DesktopBrowserExtensionReactiveAnnouncement="oai/apps/hasSeenDesktopBrowserExtensionReactiveAnnouncement",e.NewOnboardingFlow="oai/apps/hasSeenOnboardingFlow",e.hasUsedConversationalOnboardingStarterPrompt="oai/apps/hasUsedNewUserStarterPrompt",e.hasSeenMobileAppUpsellBanner="oai/apps/hasSeenMobileAppUpsellBanner",e))(We||{});function cW(){return PA(e=>e.eligible_announcements)}function Xe(e){const{data:t=[],isLoading:n}=cW(),r=yI();return{eligible:t.includes(e),markAsViewed:()=>r.mutate({key:e}),isLoading:n}}function yI(){const e=Fe();return St({mutationFn:({key:t})=>Z.announcementViewed(t),onMutate:async({key:t})=>{e.setQueryData(["userSettings"],n=>({...n,eligible_announcements:n.eligible_announcements.filter(r=>r!==t)}))},onSuccess:()=>{e.invalidateQueries({queryKey:["userSettings"]})}})}function dut(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}function kc(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const qv=e=>Array.isArray(e);function bI(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Pc(e){return typeof e=="string"||Array.isArray(e)}function G1(e){const t=[{},{}];return e?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Gw(e,t,n,r){if(typeof t=="function"){const[s,o]=G1(r);t=t(n!==void 0?n:e.custom,s,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,o]=G1(r);t=t(n!==void 0?n:e.custom,s,o)}return t}function lp(e,t,n){const r=e.getProps();return Gw(r,t,n!==void 0?n:r.custom,e)}const Ww=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Hw=["initial",...Ww],al=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Bs=new Set(al),_r=e=>e*1e3,Cr=e=>e/1e3,lW={type:"spring",stiffness:500,damping:25,restSpeed:10},uW=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),dW={type:"keyframes",duration:.8},fW={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},hW=(e,{keyframes:t})=>t.length>2?dW:Bs.has(e)?e.startsWith("scale")?uW(t[1]):lW:fW;function pW({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:a,repeatDelay:i,from:l,elapsed:u,...d}){return!!Object.keys(d).length}function xI(e,t){return e[t]||e.default||e}const mW={skipAnimations:!1,useManualTiming:!1},gW=e=>e!==null;function up(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(gW),o=t&&n!=="loop"&&t%2===1?0:s.length-1;return!o||r===void 0?s[o]:r}const sn=e=>e;function vW(e){let t=new Set,n=new Set,r=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function i(u){o.has(u)&&(l.schedule(u),e()),u(a)}const l={schedule:(u,d=!1,f=!1)=>{const m=f&&r?t:n;return d&&o.add(u),m.has(u)||m.add(u),u},cancel:u=>{n.delete(u),o.delete(u)},process:u=>{if(a=u,r){s=!0;return}r=!0,[t,n]=[n,t],n.clear(),t.forEach(i),r=!1,s&&(s=!1,l.process(u))}};return l}const Xl=["read","resolveKeyframes","update","preRender","render","postRender"],yW=40;function wI(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,a=Xl.reduce((x,b)=>(x[b]=vW(o),x),{}),{read:i,resolveKeyframes:l,update:u,preRender:d,render:f,postRender:h}=a,m=()=>{const x=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(x-s.timestamp,yW),1),s.timestamp=x,s.isProcessing=!0,i.process(s),l.process(s),u.process(s),d.process(s),f.process(s),h.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(m))},g=()=>{n=!0,r=!0,s.isProcessing||e(m)};return{schedule:Xl.reduce((x,b)=>{const w=a[b];return x[b]=(_,C=!1,T=!1)=>(n||g(),w.schedule(_,C,T)),x},{}),cancel:x=>{for(let b=0;b<Xl.length;b++)a[Xl[b]].cancel(x)},state:s,steps:a}}const{schedule:Le,cancel:Xr,state:Is,steps:fut}=wI(typeof requestAnimationFrame<"u"?requestAnimationFrame:sn,!0),SI=e=>/^0[^.\s]+$/u.test(e);function bW(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||SI(e):!0}let xW=sn,Yv=sn;const _I=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),CI=e=>t=>typeof t=="string"&&t.startsWith(e),TI=CI("--"),wW=CI("var(--"),zw=e=>wW(e)?SW.test(e.split("/*")[0].trim()):!1,SW=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,_W=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function CW(e){const t=_W.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function MI(e,t,n=1){const[r,s]=CW(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const a=o.trim();return _I(a)?parseFloat(a):a}return zw(s)?MI(s,t,n+1):s}const _o=(e,t,n)=>n>t?t:n<e?e:n,pi={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},pc={...pi,transform:e=>_o(0,1,e)},Zl={...pi,default:1},mc=e=>Math.round(e*1e5)/1e5,qw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,TW=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,MW=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function il(e){return typeof e=="string"}function EW(e){return e==null}const cl=e=>({test:t=>il(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ms=cl("deg"),Tr=cl("%"),de=cl("px"),kW=cl("vh"),PW=cl("vw"),W1={...Tr,parse:e=>Tr.parse(e)/100,transform:e=>Tr.transform(e*100)},AW=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),H1=e=>e===pi||e===de,z1=(e,t)=>parseFloat(e.split(", ")[t]),q1=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return z1(s[1],t);{const o=r.match(/^matrix\((.+)\)$/u);return o?z1(o[1],e):0}},$W=new Set(["x","y","z"]),OW=al.filter(e=>!$W.has(e));function IW(e){const t=[];return OW.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Va={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:q1(4,13),y:q1(5,14)};Va.translateX=Va.x;Va.translateY=Va.y;const EI=e=>t=>t.test(e),NW={test:e=>e==="auto",parse:e=>e},kI=[pi,de,Tr,ms,PW,kW,NW],Y1=e=>kI.find(EI(e)),go=new Set;let Kv=!1,Qv=!1;function PI(){if(Qv){const e=Array.from(go).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=IW(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([o,a])=>{var i;(i=r.getValue(o))===null||i===void 0||i.set(a)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Qv=!1,Kv=!1,go.forEach(e=>e.complete()),go.clear()}function AI(){go.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Qv=!0)})}function RW(){AI(),PI()}class Yw{constructor(t,n,r,s,o,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=o,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(go.add(this),Kv||(Kv=!0,Le.read(AI),Le.resolveKeyframes(PI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;for(let o=0;o<t.length;o++)if(t[o]===null)if(o===0){const a=s?.get(),i=t[t.length-1];if(a!==void 0)t[0]=a;else if(r&&n){const l=r.readValue(n,i);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=i),s&&a===void 0&&s.set(t[0])}else t[o]=t[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),go.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,go.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Kw=(e,t)=>n=>!!(il(n)&&MW.test(n)&&n.startsWith(e)||t&&!EW(n)&&Object.prototype.hasOwnProperty.call(n,t)),$I=(e,t,n)=>r=>{if(!il(r))return r;const[s,o,a,i]=r.match(qw);return{[e]:parseFloat(s),[t]:parseFloat(o),[n]:parseFloat(a),alpha:i!==void 0?parseFloat(i):1}},jW=e=>_o(0,255,e),Nm={...pi,transform:e=>Math.round(jW(e))},io={test:Kw("rgb","red"),parse:$I("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Nm.transform(e)+", "+Nm.transform(t)+", "+Nm.transform(n)+", "+mc(pc.transform(r))+")"};function DW(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Xv={test:Kw("#"),parse:DW,transform:io.transform},ma={test:Kw("hsl","hue"),parse:$I("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Tr.transform(mc(t))+", "+Tr.transform(mc(n))+", "+mc(pc.transform(r))+")"},tn={test:e=>io.test(e)||Xv.test(e)||ma.test(e),parse:e=>io.test(e)?io.parse(e):ma.test(e)?ma.parse(e):Xv.parse(e),transform:e=>il(e)?e:e.hasOwnProperty("red")?io.transform(e):ma.transform(e)};function LW(e){var t,n;return isNaN(e)&&il(e)&&(((t=e.match(qw))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(TW))===null||n===void 0?void 0:n.length)||0)>0}const OI="number",II="color",FW="var",BW="var(",K1="${}",UW=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ac(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let o=0;const i=t.replace(UW,l=>(tn.test(l)?(r.color.push(o),s.push(II),n.push(tn.parse(l))):l.startsWith(BW)?(r.var.push(o),s.push(FW),n.push(l)):(r.number.push(o),s.push(OI),n.push(parseFloat(l))),++o,K1)).split(K1);return{values:n,split:i,indexes:r,types:s}}function NI(e){return Ac(e).values}function RI(e){const{split:t,types:n}=Ac(e),r=t.length;return s=>{let o="";for(let a=0;a<r;a++)if(o+=t[a],s[a]!==void 0){const i=n[a];i===OI?o+=mc(s[a]):i===II?o+=tn.transform(s[a]):o+=s[a]}return o}}const VW=e=>typeof e=="number"?0:e;function GW(e){const t=NI(e);return RI(e)(t.map(VW))}const Ns={test:LW,parse:NI,createTransformer:RI,getAnimatableNone:GW},WW=new Set(["brightness","contrast","saturate","opacity"]);function HW(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(qw)||[];if(!r)return e;const s=n.replace(r,"");let o=WW.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+s+")"}const zW=/\b([a-z-]*)\(.*?\)/gu,Zv={...Ns,getAnimatableNone:e=>{const t=e.match(zW);return t?t.map(HW).join(" "):e}},Q1={...pi,transform:Math.round},Qw={borderWidth:de,borderTopWidth:de,borderRightWidth:de,borderBottomWidth:de,borderLeftWidth:de,borderRadius:de,radius:de,borderTopLeftRadius:de,borderTopRightRadius:de,borderBottomRightRadius:de,borderBottomLeftRadius:de,width:de,maxWidth:de,height:de,maxHeight:de,size:de,top:de,right:de,bottom:de,left:de,padding:de,paddingTop:de,paddingRight:de,paddingBottom:de,paddingLeft:de,margin:de,marginTop:de,marginRight:de,marginBottom:de,marginLeft:de,rotate:ms,rotateX:ms,rotateY:ms,rotateZ:ms,scale:Zl,scaleX:Zl,scaleY:Zl,scaleZ:Zl,skew:ms,skewX:ms,skewY:ms,distance:de,translateX:de,translateY:de,translateZ:de,x:de,y:de,z:de,perspective:de,transformPerspective:de,opacity:pc,originX:W1,originY:W1,originZ:de,zIndex:Q1,backgroundPositionX:de,backgroundPositionY:de,fillOpacity:pc,strokeOpacity:pc,numOctaves:Q1},qW={...Qw,color:tn,backgroundColor:tn,outlineColor:tn,fill:tn,stroke:tn,borderColor:tn,borderTopColor:tn,borderRightColor:tn,borderBottomColor:tn,borderLeftColor:tn,filter:Zv,WebkitFilter:Zv},Xw=e=>qW[e];function jI(e,t){let n=Xw(e);return n!==Zv&&(n=Ns),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const YW=new Set(["auto","none","0"]);function KW(e,t,n){let r=0,s;for(;r<e.length&&!s;){const o=e[r];typeof o=="string"&&!YW.has(o)&&Ac(o).values.length&&(s=e[r]),r++}if(s&&n)for(const o of t)e[o]=jI(n,s)}class DI extends Yw{constructor(t,n,r,s,o){super(t,n,r,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),zw(u))){const d=MI(u,n.current);d!==void 0&&(t[l]=d),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!AW.has(r)||t.length!==2)return;const[s,o]=t,a=Y1(s),i=Y1(o);if(a!==i)if(H1(a)&&H1(i))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)bW(t[s])&&r.push(s);r.length&&KW(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Va[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const o=n.getValue(r);o&&o.jump(this.measuredOrigin,!1);const a=s.length-1,i=s[a];s[a]=Va[r](n.measureViewportBox(),window.getComputedStyle(n.current)),i!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=i),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function LI(e){let t;return()=>(t===void 0&&(t=e()),t)}let Bu;function QW(){Bu=void 0}const As={now:()=>(Bu===void 0&&As.set(Is.isProcessing||mW.useManualTiming?Is.timestamp:performance.now()),Bu),set:e=>{Bu=e,queueMicrotask(QW)}},X1=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ns.test(e)||e==="0")&&!e.startsWith("url("));function XW(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function ZW(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],a=X1(s,t),i=X1(o,t);return!a||!i?!1:XW(e)||n==="spring"&&r}const JW=40;class FI{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",...i}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=As.now(),this.options={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:o,repeatType:a,...i},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>JW?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&RW(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=As.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:o,delay:a,onComplete:i,onUpdate:l,isGenerator:u}=this.options;if(!u&&!ZW(t,r,s,o))if(a)this.options.duration=0;else{l?.(up(t,this.options,n)),i?.(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,n);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}function Zw(e,t){return t?e*(1e3/t):0}const eH=5;function BI(e,t,n){const r=Math.max(t-eH,0);return Zw(n-e(r),t-r)}const Rm=.001,tH=.01,nH=10,rH=.05,sH=1;function oH({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let s,o,a=1-t;a=_o(rH,sH,a),e=_o(tH,nH,Cr(e)),a<1?(s=u=>{const d=u*a,f=d*e,h=d-n,m=Jv(u,a),g=Math.exp(-f);return Rm-h/m*g},o=u=>{const f=u*a*e,h=f*n+n,m=Math.pow(a,2)*Math.pow(u,2)*e,g=Math.exp(-f),v=Jv(Math.pow(u,2),a);return(-s(u)+Rm>0?-1:1)*((h-m)*g)/v}):(s=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-Rm+d*f},o=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const i=5/e,l=iH(s,o,i);if(e=_r(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:e}}}const aH=12;function iH(e,t,n){let r=n;for(let s=1;s<aH;s++)r=r-e(r)/t(r);return r}function Jv(e,t){return e*Math.sqrt(1-t*t)}const cH=["duration","bounce"],lH=["stiffness","damping","mass"];function Z1(e,t){return t.some(n=>e[n]!==void 0)}function uH(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Z1(e,lH)&&Z1(e,cH)){const n=oH(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function Jw({keyframes:e,restDelta:t,restSpeed:n,...r}){const s=e[0],o=e[e.length-1],a={done:!1,value:s},{stiffness:i,damping:l,mass:u,duration:d,velocity:f,isResolvedFromDuration:h}=uH({...r,velocity:-Cr(r.velocity||0)}),m=f||0,g=l/(2*Math.sqrt(i*u)),v=o-s,y=Cr(Math.sqrt(i/u)),x=Math.abs(v)<5;n||(n=x?.01:2),t||(t=x?.005:.5);let b;if(g<1){const w=Jv(y,g);b=_=>{const C=Math.exp(-g*y*_);return o-C*((m+g*y*v)/w*Math.sin(w*_)+v*Math.cos(w*_))}}else if(g===1)b=w=>o-Math.exp(-y*w)*(v+(m+y*v)*w);else{const w=y*Math.sqrt(g*g-1);b=_=>{const C=Math.exp(-g*y*_),T=Math.min(w*_,300);return o-C*((m+g*y*v)*Math.sinh(T)+w*v*Math.cosh(T))/w}}return{calculatedDuration:h&&d||null,next:w=>{const _=b(w);if(h)a.done=w>=d;else{let C=0;g<1&&(C=w===0?_r(m):BI(b,w,_));const T=Math.abs(C)<=n,M=Math.abs(o-_)<=t;a.done=T&&M}return a.value=a.done?o:_,a}}}function J1({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:a,min:i,max:l,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=E=>i!==void 0&&E<i||l!==void 0&&E>l,g=E=>i===void 0?l:l===void 0||Math.abs(i-E)<Math.abs(l-E)?i:l;let v=n*t;const y=f+v,x=a===void 0?y:a(y);x!==y&&(v=x-f);const b=E=>-v*Math.exp(-E/r),w=E=>x+b(E),_=E=>{const R=b(E),$=w(E);h.done=Math.abs(R)<=u,h.value=h.done?x:$};let C,T;const M=E=>{m(h.value)&&(C=E,T=Jw({keyframes:[h.value,g(h.value)],velocity:BI(w,E,h.value),damping:s,stiffness:o,restDelta:u,restSpeed:d}))};return M(0),{calculatedDuration:null,next:E=>{let R=!1;return!T&&C===void 0&&(R=!0,_(E),M(E)),C!==void 0&&E>=C?T.next(E-C):(!R&&_(E),h)}}}const UI=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,dH=1e-7,fH=12;function hH(e,t,n,r,s){let o,a,i=0;do a=t+(n-t)/2,o=UI(a,r,s)-e,o>0?n=a:t=a;while(Math.abs(o)>dH&&++i<fH);return a}function ll(e,t,n,r){if(e===t&&n===r)return sn;const s=o=>hH(o,0,1,e,n);return o=>o===0||o===1?o:UI(s(o),t,r)}const pH=ll(.42,0,1,1),mH=ll(0,0,.58,1),VI=ll(.42,0,.58,1),GI=e=>Array.isArray(e)&&typeof e[0]!="number",WI=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,HI=e=>t=>1-e(1-t),e0=e=>1-Math.sin(Math.acos(e)),zI=HI(e0),gH=WI(e0),qI=ll(.33,1.53,.69,.99),t0=HI(qI),vH=WI(t0),yH=e=>(e*=2)<1?.5*t0(e):.5*(2-Math.pow(2,-10*(e-1))),eC={linear:sn,easeIn:pH,easeInOut:VI,easeOut:mH,circIn:e0,circInOut:gH,circOut:zI,backIn:t0,backInOut:vH,backOut:qI,anticipate:yH},ey=e=>{if(Array.isArray(e)){Yv(e.length===4);const[t,n,r,s]=e;return ll(t,n,r,s)}else if(typeof e=="string")return Yv(eC[e]!==void 0),eC[e];return e},bH=(e,t)=>n=>t(e(n)),zr=(...e)=>e.reduce(bH),Co=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Et=(e,t,n)=>e+(t-e)*n;function jm(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function xH({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,o=0,a=0;if(!t)s=o=a=n;else{const i=n<.5?n*(1+t):n+t-n*t,l=2*n-i;s=jm(l,i,e+1/3),o=jm(l,i,e),a=jm(l,i,e-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:r}}function Kd(e,t){return n=>n>0?t:e}const Dm=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},wH=[Xv,io,ma],SH=e=>wH.find(t=>t.test(e));function tC(e){const t=SH(e);if(!t)return!1;let n=t.parse(e);return t===ma&&(n=xH(n)),n}const nC=(e,t)=>{const n=tC(e),r=tC(t);if(!n||!r)return Kd(e,t);const s={...n};return o=>(s.red=Dm(n.red,r.red,o),s.green=Dm(n.green,r.green,o),s.blue=Dm(n.blue,r.blue,o),s.alpha=Et(n.alpha,r.alpha,o),io.transform(s))},ty=new Set(["none","hidden"]);function _H(e,t){return ty.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function CH(e,t){return n=>Et(e,t,n)}function n0(e){return typeof e=="number"?CH:typeof e=="string"?zw(e)?Kd:tn.test(e)?nC:EH:Array.isArray(e)?YI:typeof e=="object"?tn.test(e)?nC:TH:Kd}function YI(e,t){const n=[...e],r=n.length,s=e.map((o,a)=>n0(o)(o,t[a]));return o=>{for(let a=0;a<r;a++)n[a]=s[a](o);return n}}function TH(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=n0(e[s])(e[s],t[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}}function MH(e,t){var n;const r=[],s={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const a=t.types[o],i=e.indexes[a][s[a]],l=(n=e.values[i])!==null&&n!==void 0?n:0;r[o]=l,s[a]++}return r}const EH=(e,t)=>{const n=Ns.createTransformer(t),r=Ac(e),s=Ac(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?ty.has(e)&&!s.values.length||ty.has(t)&&!r.values.length?_H(e,t):zr(YI(MH(r,s),s.values),n):Kd(e,t)};function KI(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Et(e,t,n):n0(e)(e,t)}function kH(e,t,n){const r=[],s=n||KI,o=e.length-1;for(let a=0;a<o;a++){let i=s(e[a],e[a+1]);if(t){const l=Array.isArray(t)?t[a]||sn:t;i=zr(l,i)}r.push(i)}return r}function r0(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const o=e.length;if(Yv(o===t.length),o===1)return()=>t[0];if(o===2&&e[0]===e[1])return()=>t[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=kH(t,r,s),i=a.length,l=u=>{let d=0;if(i>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=Co(e[d],e[d+1],u);return a[d](f)};return n?u=>l(_o(e[0],e[o-1],u)):l}function QI(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Co(0,t,r);e.push(Et(n,1,s))}}function s0(e){const t=[0];return QI(t,e.length-1),t}function PH(e,t){return e.map(n=>n*t)}function AH(e,t){return e.map(()=>t||VI).splice(0,e.length-1)}function Qd({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=GI(r)?r.map(ey):ey(r),o={done:!1,value:t[0]},a=PH(n&&n.length===t.length?n:s0(t),e),i=r0(a,t,{ease:Array.isArray(s)?s:AH(t,s)});return{calculatedDuration:e,next:l=>(o.value=i(l),o.done=l>=e,o)}}const ny=2e4;function XI(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<ny;)t+=n,r=e.next(t);return t>=ny?1/0:t}const $H=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Le.update(t,!0),stop:()=>Xr(t),now:()=>Is.isProcessing?Is.timestamp:As.now()}},OH={decay:J1,inertia:J1,tween:Qd,keyframes:Qd,spring:Jw},IH=e=>e/100;class dp extends FI{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{const{onStop:l}=this.options;l&&l(),this.resolver.cancel(),this.isStopped=!0,this.state!=="idle"&&this.teardown()};const{name:n,motionValue:r,element:s,keyframes:o}=this.options,a=s?.KeyframeResolver||Yw,i=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new a(o,i,n,r,s),this.resolver.scheduleResolve()}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o,velocity:a=0}=this.options,i=OH[n]||Qd;let l,u;i!==Qd&&typeof t[0]!="number"&&(l=zr(IH,KI(t[0],t[1])),t=[0,100]);const d=i({...this.options,keyframes:t});o==="mirror"&&(u=i({...this.options,keyframes:[...t].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=XI(d));const{calculatedDuration:f}=d,h=f+s,m=h*(r+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:h,totalDuration:m}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:E}=this.options;return{done:!0,value:E[E.length-1]}}const{finalKeyframe:s,generator:o,mirroredGenerator:a,mapPercentToKeyframes:i,keyframes:l,calculatedDuration:u,totalDuration:d,resolvedDuration:f}=r;if(this.startTime===null)return o.next(0);const{delay:h,repeat:m,repeatType:g,repeatDelay:v,onUpdate:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const x=this.currentTime-h*(this.speed>=0?1:-1),b=this.speed>=0?x<0:x>d;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let w=this.currentTime,_=o;if(m){const E=Math.min(this.currentTime,d)/f;let R=Math.floor(E),$=E%1;!$&&E>=1&&($=1),$===1&&R--,R=Math.min(R,m+1),!!(R%2)&&(g==="reverse"?($=1-$,v&&($-=v/f)):g==="mirror"&&(_=a)),w=_o(0,1,$)*f}const C=b?{done:!1,value:l[0]}:_.next(w);i&&(C.value=i(C.value));let{done:T}=C;!b&&u!==null&&(T=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return M&&s!==void 0&&(C.value=up(l,this.options,s)),y&&y(C.value),M&&this.finish(),C}get duration(){const{resolved:t}=this;return t?Cr(t.calculatedDuration):0}get time(){return Cr(this.currentTime)}set time(t){t=_r(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Cr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=$H,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}function NH(e){return new dp(e)}const ZI=new Set(["opacity","clipPath","filter","transform"]),JI=e=>Array.isArray(e)&&typeof e[0]=="number";function eN(e){return!!(!e||typeof e=="string"&&e in o0||JI(e)||Array.isArray(e)&&e.every(eN))}const rc=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,o0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:rc([0,.65,.55,1]),circOut:rc([.55,0,1,.45]),backIn:rc([.31,.01,.66,-.59]),backOut:rc([.33,1.53,.69,.99])};function RH(e){return tN(e)||o0.easeOut}function tN(e){if(e)return JI(e)?rc(e):Array.isArray(e)?e.map(RH):o0[e]}function jH(e,t,n,{delay:r=0,duration:s=300,repeat:o=0,repeatType:a="loop",ease:i,times:l}={}){const u={[t]:n};l&&(u.offset=l);const d=tN(i);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"})}const DH=LI(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Xd=10,LH=2e4;function FH(e){return e.type==="spring"||!eN(e.ease)}function BH(e,t){const n=new dp({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const s=[];let o=0;for(;!r.done&&o<LH;)r=n.sample(o),s.push(r.value),o+=Xd;return{times:void 0,keyframes:s,duration:o-Xd,ease:"linear"}}class rC extends FI{constructor(t){super(t);const{name:n,motionValue:r,element:s,keyframes:o}=this.options;this.resolver=new DI(o,(a,i)=>this.onKeyframesResolved(a,i),n,r,s),this.resolver.scheduleResolve()}initPlayback(t,n){var r;let{duration:s=300,times:o,ease:a,type:i,motionValue:l,name:u,startTime:d}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(FH(this.options)){const{onComplete:h,onUpdate:m,motionValue:g,element:v,...y}=this.options,x=BH(t,y);t=x.keyframes,t.length===1&&(t[1]=t[0]),s=x.duration,o=x.times,a=x.ease,i="keyframes"}const f=jH(l.owner.current,u,t,{...this.options,duration:s,times:o,ease:a});return f.startTime=d??this.calcStartTime(),this.pendingTimeline?(f.timeline=this.pendingTimeline,this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:h}=this.options;l.set(up(t,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:s,times:o,type:i,ease:a,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Cr(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Cr(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=_r(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return sn;const{animation:r}=n;r.timeline=t,r.onfinish=null}return sn}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:s,type:o,ease:a,times:i}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:f,element:h,...m}=this.options,g=new dp({...m,keyframes:r,duration:s,type:o,ease:a,times:i,isGenerator:!0}),v=_r(this.time);u.setWithVelocity(g.sample(v-Xd).value,g.sample(v).value,Xd)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:s,repeatType:o,damping:a,type:i}=t;return DH()&&r&&ZI.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!s&&o!=="mirror"&&a!==0&&i!=="inertia"}}function UH(e,t){let n;const r=()=>{const{currentTime:s}=t,a=(s===null?0:s.value)/100;n!==a&&e(a),n=a};return Le.update(r,!0),()=>Xr(r)}const VH=LI(()=>window.ScrollTimeline!==void 0);class a0{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,n){return Promise.all(this.animations).then(t).catch(n)}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t){const n=this.animations.map(r=>{if(VH()&&r.attachTimeline)r.attachTimeline(t);else return r.pause(),UH(s=>{r.time=r.duration*s},t)});return()=>{n.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const i0=(e,t,n,r={},s,o,a)=>i=>{const l=xI(r,e)||{},u=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-_r(u);let f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:m=>{t.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{i(),l.onComplete&&l.onComplete(),a&&a()},onStop:a,name:e,motionValue:t,element:o?void 0:s};pW(l)||(f={...f,...hW(e,f)}),f.duration&&(f.duration=_r(f.duration)),f.repeatDelay&&(f.repeatDelay=_r(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let h=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(h=!0)),h&&!o&&t.get()!==void 0){const m=up(f.keyframes,l);if(m!==void 0)return Le.update(()=>{f.onUpdate(m),f.onComplete()}),new a0([])}return!o&&rC.supports(f)?new rC(f):new dp(f)},GH=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),WH=e=>qv(e)?e[e.length-1]||0:e;function fp(e,t){e.indexOf(t)===-1&&e.push(t)}function ul(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class nN{constructor(){this.subscriptions=[]}add(t){return fp(this.subscriptions,t),()=>ul(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let o=0;o<s;o++){const a=this.subscriptions[o];a&&a(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const sC=30,HH=e=>!isNaN(parseFloat(e)),gc={current:void 0};class rN{constructor(t,n={}){this.version="12.0.0-alpha.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const o=As.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=As.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=HH(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new nN);const r=this.events[t].add(n);return t==="change"?()=>{r(),Le.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return gc.current&&gc.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=As.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>sC)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,sC);return Zw(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function wr(e,t){return new rN(e,t)}function zH(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,wr(n))}function qH(e,t){const n=lp(e,t);let{transitionEnd:r={},transition:s={},...o}=n||{};o={...o,...r};for(const a in o){const i=WH(o[a]);zH(e,a,i)}}const hp=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),YH="framerAppearId",sN="data-"+hp(YH);function KH(e){return e.props[sN]}function oN(e){if(Bs.has(e))return"transform";if(ZI.has(e))return hp(e)}class QH extends rN{constructor(){super(...arguments),this.output=[],this.counts=new Map}add(t){const n=oN(t);if(!n)return;const r=this.counts.get(n)||0;this.counts.set(n,r+1),r===0&&(this.output.push(n),this.update());let s=!1;return()=>{if(s)return;s=!0;const o=this.counts.get(n)-1;this.counts.set(n,o),o===0&&(ul(this.output,n),this.update())}}update(){this.set(this.output.length?this.output.join(", "):"auto")}}const Pt=e=>!!(e&&e.getVelocity);function XH(e){return!!(Pt(e)&&e.add)}function ry(e,t){var n;if(!e.applyWillChange)return;let r=e.getValue("willChange");if(!r&&!(!((n=e.props.style)===null||n===void 0)&&n.willChange)&&(r=new QH("auto"),e.addValue("willChange",r)),XH(r))return r.add(t)}function ZH({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function c0(e,t,{delay:n=0,transitionOverride:r,type:s}={}){var o;let{transition:a=e.getDefaultTransition(),transitionEnd:i,...l}=t;r&&(a=r);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const f in l){const h=e.getValue(f,(o=e.latestValues[f])!==null&&o!==void 0?o:null),m=l[f];if(m===void 0||d&&ZH(d,f))continue;const g={delay:n,...xI(a||{},f)};let v=!1;if(window.MotionHandoffAnimation){const x=KH(e);if(x){const b=window.MotionHandoffAnimation(x,f,Le);b!==null&&(g.startTime=b,v=!0)}}h.start(i0(f,h,m,e.shouldReduceMotion&&Bs.has(f)?{type:!1}:g,e,v,ry(e,f)));const y=h.animation;y&&u.push(y)}return i&&Promise.all(u).then(()=>{Le.update(()=>{i&&qH(e,i)})}),u}function sy(e,t,n={}){var r;const s=lp(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const a=s?()=>Promise.all(c0(e,s,n)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=o;return JH(e,t,d+u,f,h,n)}:()=>Promise.resolve(),{when:l}=o;if(l){const[u,d]=l==="beforeChildren"?[a,i]:[i,a];return u().then(()=>d())}else return Promise.all([a(),i(n.delay)])}function JH(e,t,n=0,r=0,s=1,o){const a=[],i=(e.variantChildren.size-1)*r,l=s===1?(u=0)=>u*r:(u=0)=>i-u*r;return Array.from(e.variantChildren).sort(ez).forEach((u,d)=>{u.notify("AnimationStart",t),a.push(sy(u,t,{...o,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(a)}function ez(e,t){return e.sortNodePosition(t)}function tz(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(o=>sy(e,o,n));r=Promise.all(s)}else if(typeof t=="string")r=sy(e,t,n);else{const s=typeof t=="function"?lp(e,t,n.custom):t;r=Promise.all(c0(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const nz=[...Ww].reverse(),rz=Ww.length;function sz(e){return t=>Promise.all(t.map(({animation:n,options:r})=>tz(e,n,r)))}function oz(e){let t=sz(e),n=oC(),r=!0;const s=l=>(u,d)=>{var f;const h=lp(e,d,l==="exit"?(f=e.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:g,...v}=h;u={...u,...v,...g}}return u};function o(l){t=l(e)}function a(l){const u=e.getProps(),d=e.getVariantContext(!0)||{},f=[],h=new Set;let m={},g=1/0;for(let y=0;y<rz;y++){const x=nz[y],b=n[x],w=u[x]!==void 0?u[x]:d[x],_=Pc(w),C=x===l?b.isActive:null;C===!1&&(g=y);let T=w===d[x]&&w!==u[x]&&_;if(T&&r&&e.manuallyAnimateOnMount&&(T=!1),b.protectedKeys={...m},!b.isActive&&C===null||!w&&!b.prevProp||kc(w)||typeof w=="boolean")continue;let E=az(b.prevProp,w)||x===l&&b.isActive&&!T&&_||y>g&&_,R=!1;const $=Array.isArray(w)?w:[w];let U=$.reduce(s(x),{});C===!1&&(U={});const{prevResolvedValues:Y={}}=b,F={...Y,...U},j=D=>{E=!0,h.has(D)&&(R=!0,h.delete(D)),b.needsAnimating[D]=!0;const B=e.getValue(D);B&&(B.liveStyle=!1)};for(const D in F){const B=U[D],H=Y[D];if(m.hasOwnProperty(D))continue;let N=!1;qv(B)&&qv(H)?N=!bI(B,H):N=B!==H,N?B!=null?j(D):h.add(D):B!==void 0&&h.has(D)?j(D):b.protectedKeys[D]=!0}b.prevProp=w,b.prevResolvedValues=U,b.isActive&&(m={...m,...U}),r&&e.blockInitialAnimation&&(E=!1),E&&(!T||R)&&f.push(...$.map(D=>({animation:D,options:{type:x}})))}if(h.size){const y={};h.forEach(x=>{const b=e.getBaseTarget(x),w=e.getValue(x);w&&(w.liveStyle=!0),y[x]=b??null}),f.push({animation:y})}let v=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(v=!1),r=!1,v?t(f):Promise.resolve()}function i(l,u){var d;if(n[l].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(h=>{var m;return(m=h.animationState)===null||m===void 0?void 0:m.setActive(l,u)}),n[l].isActive=u;const f=a(l);for(const h in n)n[h].protectedKeys={};return f}return{animateChanges:a,setActive:i,setAnimateFunction:o,getState:()=>n,reset:()=>{n=oC(),r=!0}}}function az(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!bI(t,e):!1}function Ys(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function oC(){return{animate:Ys(!0),whileInView:Ys(),whileHover:Ys(),whileTap:Ys(),whileDrag:Ys(),whileFocus:Ys(),exit:Ys()}}class Us{constructor(t){this.isMounted=!1,this.node=t}update(){}}class iz extends Us{constructor(t){super(t),t.animationState||(t.animationState=oz(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();kc(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let cz=0;class lz extends Us{constructor(){super(...arguments),this.id=cz++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const hut={animation:{Feature:iz},exit:{Feature:lz}},aN=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function pp(e,t="page"){return{point:{x:e[`${t}X`],y:e[`${t}Y`]}}}const uz=e=>t=>aN(t)&&e(t,pp(t));function Ts(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function qr(e,t,n,r){return Ts(e,t,uz(n),r)}const aC=(e,t)=>Math.abs(e-t);function dz(e,t){const n=aC(e.x,t.x),r=aC(e.y,t.y);return Math.sqrt(n**2+r**2)}class iN{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Fm(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=dz(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:g}=f,{timestamp:v}=Is;this.history.push({...g,timestamp:v});const{onStart:y,onMove:x}=this.handlers;h||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Lm(h,this.transformPagePoint),Le.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:g,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Fm(f.type==="pointercancel"?this.lastMoveEventInfo:Lm(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,y),g&&g(f,y)},!aN(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const a=pp(t),i=Lm(a,this.transformPagePoint),{point:l}=i,{timestamp:u}=Is;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,Fm(i,this.history)),this.removeListeners=zr(qr(this.contextWindow,"pointermove",this.handlePointerMove),qr(this.contextWindow,"pointerup",this.handlePointerUp),qr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Xr(this.updatePoint)}}function Lm(e,t){return t?{point:t(e.point)}:e}function iC(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Fm({point:e},t){return{point:e,delta:iC(e,cN(t)),offset:iC(e,fz(t)),velocity:hz(t,.1)}}function fz(e){return e[0]}function cN(e){return e[e.length-1]}function hz(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=cN(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>_r(t)));)n--;if(!r)return{x:0,y:0};const o=Cr(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const a={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function lN(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const cC=lN("dragHorizontal"),lC=lN("dragVertical");function uN(e){let t=!1;if(e==="y")t=lC();else if(e==="x")t=cC();else{const n=cC(),r=lC();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function dN(){const e=uN(!0);return e?(e(),!1):!0}function ga(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const fN=1e-4,pz=1-fN,mz=1+fN,hN=.01,gz=0-hN,vz=0+hN;function Zr(e){return e.max-e.min}function put(e,t,n){return Math.abs(e-t)<=n}function uC(e,t,n,r=.5){e.origin=r,e.originPoint=Et(t.min,t.max,e.origin),e.scale=Zr(n)/Zr(t),e.translate=Et(n.min,n.max,e.origin)-e.originPoint,(e.scale>=pz&&e.scale<=mz||isNaN(e.scale))&&(e.scale=1),(e.translate>=gz&&e.translate<=vz||isNaN(e.translate))&&(e.translate=0)}function mut(e,t,n,r){uC(e.x,t.x,n.x,r?r.originX:void 0),uC(e.y,t.y,n.y,r?r.originY:void 0)}function dC(e,t,n){e.min=n.min+t.min,e.max=e.min+Zr(t)}function gut(e,t,n){dC(e.x,t.x,n.x),dC(e.y,t.y,n.y)}function fC(e,t,n){e.min=t.min-n.min,e.max=e.min+Zr(t)}function vut(e,t,n){fC(e.x,t.x,n.x),fC(e.y,t.y,n.y)}function yz(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Et(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Et(n,e,r.max):Math.min(e,n)),e}function hC(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function bz(e,{top:t,left:n,bottom:r,right:s}){return{x:hC(e.x,n,s),y:hC(e.y,t,r)}}function pC(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function xz(e,t){return{x:pC(e.x,t.x),y:pC(e.y,t.y)}}function wz(e,t){let n=.5;const r=Zr(e),s=Zr(t);return s>r?n=Co(t.min,t.max-r,e.min):r>s&&(n=Co(e.min,e.max-s,t.min)),_o(0,1,n)}function Sz(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const oy=.35;function _z(e=oy){return e===!1?e=0:e===!0&&(e=oy),{x:mC(e,"left","right"),y:mC(e,"top","bottom")}}function mC(e,t,n){return{min:gC(e,t),max:gC(e,n)}}function gC(e,t){return typeof e=="number"?e:e[t]||0}const vC=()=>({translate:0,scale:1,origin:0,originPoint:0}),yut=()=>({x:vC(),y:vC()}),yC=()=>({min:0,max:0}),l0=()=>({x:yC(),y:yC()});function ir(e){return[e("x"),e("y")]}function pN({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Cz({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Tz(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Bm(e){return e===void 0||e===1}function Mz({scale:e,scaleX:t,scaleY:n}){return!Bm(e)||!Bm(t)||!Bm(n)}function Ez(e){return Mz(e)||kz(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function kz(e){return bC(e.x)||bC(e.y)}function bC(e){return e&&e!=="0%"}function Zd(e,t,n){const r=e-n,s=t*r;return n+s}function xC(e,t,n,r,s){return s!==void 0&&(e=Zd(e,s,r)),Zd(e,n,r)+t}function ay(e,t=0,n=1,r,s){e.min=xC(e.min,t,n,r,s),e.max=xC(e.max,t,n,r,s)}function Pz(e,{x:t,y:n}){ay(e.x,t.translate,t.scale,t.originPoint),ay(e.y,n.translate,n.scale,n.originPoint)}const wC=.999999999999,SC=1.0000000000001;function but(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let o,a;for(let i=0;i<s;i++){o=n[i],a=o.projectionDelta;const{visualElement:l}=o.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&TC(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,Pz(e,a)),r&&Ez(o.latestValues)&&TC(e,o.latestValues))}t.x<SC&&t.x>wC&&(t.x=1),t.y<SC&&t.y>wC&&(t.y=1)}function _C(e,t){e.min=e.min+t,e.max=e.max+t}function CC(e,t,n,r,s=.5){const o=Et(e.min,e.max,s);ay(e,t,n,o,r)}function TC(e,t){CC(e.x,t.x,t.scaleX,t.scale,t.originX),CC(e.y,t.y,t.scaleY,t.scale,t.originY)}function mN(e,t){return pN(Tz(e.getBoundingClientRect(),t))}function Az(e,t,n){const r=mN(e,n),{scroll:s}=t;return s&&(_C(r.x,s.offset.x),_C(r.y,s.offset.y)),r}const gN=({current:e})=>e?e.ownerDocument.defaultView:null,$z=new WeakMap;class Oz{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=l0(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(pp(d,"page").point)},o=(d,f)=>{var h;const{drag:m,dragPropagation:g,onDragStart:v}=this.getProps();if(m&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=uN(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ir(x=>{let b=this.getAxisMotionValue(x).get()||0;if(Tr.test(b)){const{projection:w}=this.visualElement;if(w&&w.layout){const _=w.layout.layoutBox[x];_&&(b=Zr(_)*(parseFloat(b)/100))}}this.originPoint[x]=b}),v&&Le.postRender(()=>v(d,f)),(h=this.removeWillChange)===null||h===void 0||h.call(this),this.removeWillChange=ry(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(d,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:g,onDrag:v}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:y}=f;if(m&&this.currentDirection===null){this.currentDirection=Iz(y),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),v&&v(d,f)},i=(d,f)=>this.stop(d,f),l=()=>ir(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new iN(t,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:i,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:gN(this.visualElement)})}stop(t,n){var r;(r=this.removeWillChange)===null||r===void 0||r.call(this);const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Le.postRender(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!Jl(t,s,this.currentDirection))return;const o=this.getAxisMotionValue(t);let a=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(a=yz(a,this.constraints[t],this.elastic[t])),o.set(a)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;n&&ga(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=bz(s.layoutBox,n):this.constraints=!1,this.elastic=_z(r),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ir(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=Sz(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ga(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=Az(r,s.root,this.visualElement.getTransformPagePoint());let a=xz(s.layout.layoutBox,o);if(n){const i=n(Cz(a));this.hasMutatedConstraints=!!i,i&&(a=pN(i))}return a}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:i}=this.getProps(),l=this.constraints||{},u=ir(d=>{if(!Jl(d,n,this.currentDirection))return;let f=l&&l[d]||{};a&&(f={min:0,max:0});const h=s?200:1e6,m=s?40:1e7,g={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(i)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(i0(t,r,0,n,this.visualElement,!1,ry(this.visualElement,t)))}stopAnimation(){ir(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ir(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){ir(n=>{const{drag:r}=this.getProps();if(!Jl(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:i}=s.layout.layoutBox[n];o.set(t[n]-Et(a,i,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ga(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ir(a=>{const i=this.getAxisMotionValue(a);if(i&&this.constraints!==!1){const l=i.get();s[a]=wz({min:l,max:l},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ir(a=>{if(!Jl(a,t,null))return;const i=this.getAxisMotionValue(a),{min:l,max:u}=this.constraints[a];i.set(Et(l,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;$z.set(this.visualElement,this);const t=this.visualElement.current,n=qr(t,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();ga(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Le.read(r);const a=Ts(window,"resize",()=>this.scalePositionWithinConstraints()),i=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(ir(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{a(),n(),o(),i&&i()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:a=oy,dragMomentum:i=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:a,dragMomentum:i}}}function Jl(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Iz(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class xut extends Us{constructor(t){super(t),this.removeGroupControls=sn,this.removeListeners=sn,this.controls=new Oz(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||sn}unmount(){this.removeGroupControls(),this.removeListeners()}}const MC=e=>(t,n)=>{e&&Le.postRender(()=>e(t,n))};class wut extends Us{constructor(){super(...arguments),this.removePointerDownListener=sn}onPointerDown(t){this.session=new iN(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:gN(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:MC(t),onStart:MC(n),onMove:r,onEnd:(o,a)=>{delete this.session,s&&Le.postRender(()=>s(o,a))}}}mount(){this.removePointerDownListener=qr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const dl=p.createContext(null);function Nz(){const e=p.useContext(dl);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=p.useId();p.useEffect(()=>r(s),[]);const o=p.useCallback(()=>n&&n(s),[s,n]);return!t&&n?[!1,o]:[!0]}function Sut(){return Rz(p.useContext(dl))}function Rz(e){return e===null?!0:e.isPresent}const u0=p.createContext({}),vN=p.createContext({}),jz={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function EC(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ui={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(de.test(e))e=parseFloat(e);else return e;const n=EC(e,t.target.x),r=EC(e,t.target.y);return`${n}% ${r}%`}},Dz={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=Ns.parse(e);if(s.length>5)return r;const o=Ns.createTransformer(e),a=typeof s[0]!="number"?1:0,i=n.x.scale*t.x,l=n.y.scale*t.y;s[0+a]/=i,s[1+a]/=l;const u=Et(i,l,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),o(s)}},yN={};function Lz(e){Object.assign(yN,e)}const{schedule:bN,cancel:_ut}=wI(queueMicrotask,!1);class Fz extends p.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=t;Lz(Bz),o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),jz.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,a=r.projection;return a&&(a.isPresent=o,s||t.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?a.promote():a.relegate()||Le.postRender(()=>{const i=a.getStack();(!i||!i.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),bN.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Cut(e){const[t,n]=Nz(),r=p.useContext(u0);return c.jsx(Fz,{...e,layoutGroup:r,switchLayoutGroup:p.useContext(vN),isPresent:t,safeToRemove:n})}const Bz={borderRadius:{...Ui,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ui,borderTopRightRadius:Ui,borderBottomLeftRadius:Ui,borderBottomRightRadius:Ui,boxShadow:Dz},xN=["TopLeft","TopRight","BottomLeft","BottomRight"],Uz=xN.length,kC=e=>typeof e=="string"?parseFloat(e):e,PC=e=>typeof e=="number"||de.test(e);function Tut(e,t,n,r,s,o){s?(e.opacity=Et(0,n.opacity!==void 0?n.opacity:1,Vz(r)),e.opacityExit=Et(t.opacity!==void 0?t.opacity:1,0,Gz(r))):o&&(e.opacity=Et(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<Uz;a++){const i=`border${xN[a]}Radius`;let l=AC(t,i),u=AC(n,i);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||PC(l)===PC(u)?(e[i]=Math.max(Et(kC(l),kC(u),r),0),(Tr.test(u)||Tr.test(l))&&(e[i]+="%")):e[i]=u}(t.rotate||n.rotate)&&(e.rotate=Et(t.rotate||0,n.rotate||0,r))}function AC(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Vz=wN(0,.5,zI),Gz=wN(.5,.95,sn);function wN(e,t,n){return r=>r<e?0:r>t?1:n(Co(e,t,r))}function $C(e,t){e.min=t.min,e.max=t.max}function Mut(e,t){$C(e.x,t.x),$C(e.y,t.y)}function Eut(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function OC(e,t,n,r,s){return e-=t,e=Zd(e,1/n,r),s!==void 0&&(e=Zd(e,1/s,r)),e}function Wz(e,t=0,n=1,r=.5,s,o=e,a=e){if(Tr.test(t)&&(t=parseFloat(t),t=Et(a.min,a.max,t/100)-a.min),typeof t!="number")return;let i=Et(o.min,o.max,r);e===o&&(i-=t),e.min=OC(e.min,t,n,i,s),e.max=OC(e.max,t,n,i,s)}function IC(e,t,[n,r,s],o,a){Wz(e,t[n],t[r],t[s],t.scale,o,a)}const Hz=["x","scaleX","originX"],zz=["y","scaleY","originY"];function kut(e,t,n,r){IC(e.x,t,Hz,n?n.x:void 0,r?r.x:void 0),IC(e.y,t,zz,n?n.y:void 0,r?r.y:void 0)}function NC(e){return e.translate===0&&e.scale===1}function Put(e){return NC(e.x)&&NC(e.y)}function RC(e,t){return e.min===t.min&&e.max===t.max}function Aut(e,t){return RC(e.x,t.x)&&RC(e.y,t.y)}function jC(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function $ut(e,t){return jC(e.x,t.x)&&jC(e.y,t.y)}function Out(e){return Zr(e.x)/Zr(e.y)}function Iut(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Nut{constructor(){this.members=[]}add(t){fp(this.members,t),t.scheduleRender()}remove(t){if(ul(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Rut(e,t,n){let r="";const s=e.x.translate/t.x,o=e.y.translate/t.y,a=n?.z||0;if((s||o||a)&&(r=`translate3d(${s}px, ${o}px, ${a}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:m,skewY:g}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),m&&(r+=`skewX(${m}deg) `),g&&(r+=`skewY(${g}deg) `)}const i=e.x.scale*t.x,l=e.y.scale*t.y;return(i!==1||l!==1)&&(r+=`scale(${i}, ${l})`),r||"none"}const qz=(e,t)=>e.depth-t.depth;class jut{constructor(){this.children=[],this.isDirty=!1}add(t){fp(this.children,t),this.isDirty=!0}remove(t){ul(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(qz),this.isDirty=!1,this.children.forEach(t)}}function Yz(e){const t=Pt(e)?e.get():e;return GH(t)?t.toValue():t}function Dut(e,t){const n=As.now(),r=({timestamp:s})=>{const o=s-n;o>=t&&(Xr(r),e(o-t))};return Le.read(r,!0),()=>Xr(r)}function Kz(e){return e instanceof SVGElement&&e.tagName!=="svg"}function SN(e,t,n){const r=Pt(e)?e:wr(e);return r.start(i0("",r,t,n)),r.animation}function DC(e,t){const n=t?"pointerenter":"pointerleave",r=t?"onHoverStart":"onHoverEnd",s=(o,a)=>{if(o.pointerType==="touch"||dN())return;const i=e.getProps();e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",t);const l=i[r];l&&Le.postRender(()=>l(o,a))};return qr(e.current,n,s,{passive:!e.getProps()[r]})}class Qz extends Us{mount(){this.unmount=zr(DC(this.node,!0),DC(this.node,!1))}unmount(){}}class Xz extends Us{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zr(Ts(this.node.current,"focus",()=>this.onFocus()),Ts(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const _N=(e,t)=>t?e===t?!0:_N(e,t.parentElement):!1;function Um(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,pp(n))}class Zz extends Us{constructor(){super(...arguments),this.removeStartListeners=sn,this.removeEndListeners=sn,this.removeAccessibleListeners=sn,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=qr(window,"pointerup",(i,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps(),h=!f&&!_N(this.node.current,i.target)?d:u;h&&Le.update(()=>h(i,l))},{passive:!(r.onTap||r.onPointerUp)}),a=qr(window,"pointercancel",(i,l)=>this.cancelPress(i,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=zr(o,a),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=o=>{if(o.key!=="Enter"||this.isPressing)return;const a=i=>{i.key!=="Enter"||!this.checkPressEnd()||Um("up",(l,u)=>{const{onTap:d}=this.node.getProps();d&&Le.postRender(()=>d(l,u))})};this.removeEndListeners(),this.removeEndListeners=Ts(this.node.current,"keyup",a),Um("down",(i,l)=>{this.startPress(i,l)})},n=Ts(this.node.current,"keydown",t),r=()=>{this.isPressing&&Um("cancel",(o,a)=>this.cancelPress(o,a))},s=Ts(this.node.current,"blur",r);this.removeAccessibleListeners=zr(n,s)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Le.postRender(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!dN()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Le.postRender(()=>r(t,n))}mount(){const t=this.node.getProps(),n=qr(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Ts(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=zr(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const iy=new WeakMap,Vm=new WeakMap,Jz=e=>{const t=iy.get(e.target);t&&t(e)},eq=e=>{e.forEach(Jz)};function tq({root:e,...t}){const n=e||document;Vm.has(n)||Vm.set(n,{});const r=Vm.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(eq,{root:e,...t})),r[s]}function nq(e,t,n){const r=tq(t);return iy.set(e,n),r.observe(e),()=>{iy.delete(e),r.unobserve(e)}}const rq={some:0,all:1};class sq extends Us{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=t,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:rq[s]},i=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(l)};return nq(this.node.current,a,i)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(oq(t,n))&&this.startObserver()}unmount(){}}function oq({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Lut={inView:{Feature:sq},tap:{Feature:Zz},focus:{Feature:Xz},hover:{Feature:Qz}},fl=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),mp=p.createContext({}),d0=typeof window<"u",hl=d0?p.useLayoutEffect:p.useEffect,CN=p.createContext({strict:!1});let LC=!1;function aq(e,t,n,r,s){var o;const{visualElement:a}=p.useContext(mp),i=p.useContext(CN),l=p.useContext(dl),u=p.useContext(fl).reducedMotion,d=p.useRef(void 0);r=r||i.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:a,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const f=d.current,h=p.useContext(vN);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&cq(d.current,n,s,h),p.useInsertionEffect(()=>{f&&f.update(n,l)});const m=n[sN],g=p.useRef(!!m&&!window.MotionHandoffIsComplete&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,m)));return hl(()=>{f&&(f.updateFeatures(),bN.render(f.render),g.current&&f.animationState&&f.animationState.animateChanges())}),p.useEffect(()=>{f&&(!g.current&&f.animationState&&f.animationState.animateChanges(),g.current=!1,LC||(LC=!0,queueMicrotask(iq)))}),f}function iq(){window.MotionHandoffIsComplete=!0}function cq(e,t,n,r){const{layoutId:s,layout:o,drag:a,dragConstraints:i,layoutScroll:l,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:TN(e.parent)),e.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!a||i&&ga(i),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function TN(e){if(e)return e.options.allowProjection!==!1?e.projection:TN(e.parent)}function lq(e,t,n){return p.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):ga(n)&&(n.current=r))},[t])}function gp(e){return kc(e.animate)||Hw.some(t=>Pc(e[t]))}function MN(e){return!!(gp(e)||e.variants)}function uq(e,t){if(gp(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Pc(n)?n:void 0,animate:Pc(r)?r:void 0}}return e.inherit!==!1?t:{}}function dq(e){const{initial:t,animate:n}=uq(e,p.useContext(mp));return p.useMemo(()=>({initial:t,animate:n}),[FC(t),FC(n)])}function FC(e){return Array.isArray(e)?e.join(" "):e}const BC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ga={};for(const e in BC)Ga[e]={isEnabled:t=>BC[e].some(n=>!!t[n])};function fq(e){for(const t in e)Ga[t]={...Ga[t],...e[t]}}const hq=Symbol.for("motionComponentSymbol");function pq({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){e&&fq(e);function o(i,l){let u;const d={...p.useContext(fl),...i,layoutId:mq(i)},{isStatic:f}=d,h=dq(i),m=r(i,f);if(!f&&d0){gq();const g=vq(d);u=g.MeasureLayout,h.visualElement=aq(s,m,d,t,g.ProjectionNode)}return c.jsxs(mp.Provider,{value:h,children:[u&&h.visualElement?c.jsx(u,{visualElement:h.visualElement,...d}):null,n(s,i,lq(m,h.visualElement,l),m,f,h.visualElement)]})}const a=p.forwardRef(o);return a[hq]=s,a}function mq({layoutId:e}){const t=p.useContext(u0).id;return t&&e!==void 0?t+"-"+e:e}function gq(e,t){p.useContext(CN).strict}function vq(e){const{drag:t,layout:n}=Ga;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const yq=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function f0(e){return typeof e!="string"||e.includes("-")?!1:!!(yq.indexOf(e)>-1||/[A-Z]/u.test(e))}function EN(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const o in n)e.style.setProperty(o,n[o])}const kN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function PN(e,t,n,r){EN(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(kN.has(s)?s:hp(s),t.attrs[s])}function AN(e,{layout:t,layoutId:n}){return Bs.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!yN[e]||e==="opacity")}function h0(e,t,n){var r;const{style:s}=e,o={};for(const a in s)(Pt(s[a])||t.style&&Pt(t.style[a])||AN(a,e)||((r=n?.getValue(a))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[a]=s[a]);return n&&s&&typeof s.willChange=="string"&&(n.applyWillChange=!1),o}function $N(e,t,n){const r=h0(e,t,n);for(const s in e)if(Pt(e[s])||Pt(t[s])){const o=al.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[o]=e[s]}return r}function mi(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}function bq({applyWillChange:e=!1,scrapeMotionValuesFromProps:t,createRenderState:n,onMount:r},s,o,a,i){const l={latestValues:wq(s,o,a,i?!1:e,t),renderState:n()};return r&&(l.mount=u=>r(s,u,l)),l}const ON=e=>(t,n)=>{const r=p.useContext(mp),s=p.useContext(dl),o=()=>bq(e,t,r,s,n);return n?o():mi(o)};function xq(e,t){const n=oN(t);n&&fp(e,n)}function UC(e,t,n){const r=Array.isArray(t)?t:[t];for(let s=0;s<r.length;s++){const o=Gw(e,r[s]);if(o){const{transitionEnd:a,transition:i,...l}=o;n(l,a)}}}function wq(e,t,n,r,s){var o;const a={},i=[],l=r&&((o=e.style)===null||o===void 0?void 0:o.willChange)===void 0,u=s(e,{});for(const y in u)a[y]=Yz(u[y]);let{initial:d,animate:f}=e;const h=gp(e),m=MN(e);t&&m&&!h&&e.inherit!==!1&&(d===void 0&&(d=t.initial),f===void 0&&(f=t.animate));let g=n?n.initial===!1:!1;g=g||d===!1;const v=g?f:d;return v&&typeof v!="boolean"&&!kc(v)&&UC(e,v,(y,x)=>{for(const b in y){let w=y[b];if(Array.isArray(w)){const _=g?w.length-1:0;w=w[_]}w!==null&&(a[b]=w)}for(const b in x)a[b]=x[b]}),l&&(f&&d!==!1&&!kc(f)&&UC(e,f,y=>{for(const x in y)xq(i,x)}),i.length&&(a.willChange=i.join(","))),a}const p0=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),IN=()=>({...p0(),attrs:{}}),NN=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Sq={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},_q=al.length;function Cq(e,t,n){let r="",s=!0;for(let o=0;o<_q;o++){const a=al[o],i=e[a];if(i===void 0)continue;let l=!0;if(typeof i=="number"?l=i===(a.startsWith("scale")?1:0):l=parseFloat(i)===0,!l||n){const u=NN(i,Qw[a]);if(!l){s=!1;const d=Sq[a]||a;r+=`${d}(${u}) `}n&&(t[a]=u)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function m0(e,t,n){const{style:r,vars:s,transformOrigin:o}=e;let a=!1,i=!1;for(const l in t){const u=t[l];if(Bs.has(l)){a=!0;continue}else if(TI(l)){s[l]=u;continue}else{const d=NN(u,Qw[l]);l.startsWith("origin")?(i=!0,o[l]=d):r[l]=d}}if(t.transform||(a||n?r.transform=Cq(t,e.transform,n):r.transform&&(r.transform="none")),i){const{originX:l="50%",originY:u="50%",originZ:d=0}=o;r.transformOrigin=`${l} ${u} ${d}`}}function VC(e,t,n){return typeof e=="string"?e:de.transform(t+n*e)}function Tq(e,t,n){const r=VC(t,e.x,e.width),s=VC(n,e.y,e.height);return`${r} ${s}`}const Mq={offset:"stroke-dashoffset",array:"stroke-dasharray"},Eq={offset:"strokeDashoffset",array:"strokeDasharray"};function kq(e,t,n=1,r=0,s=!0){e.pathLength=1;const o=s?Mq:Eq;e[o.offset]=de.transform(-r);const a=de.transform(t),i=de.transform(n);e[o.array]=`${a} ${i}`}function g0(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:o,pathLength:a,pathSpacing:i=1,pathOffset:l=0,...u},d,f){if(m0(e,u,f),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:m,dimensions:g}=e;h.transform&&(g&&(m.transform=h.transform),delete h.transform),g&&(s!==void 0||o!==void 0||m.transform)&&(m.transformOrigin=Tq(g,s!==void 0?s:.5,o!==void 0?o:.5)),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),a!==void 0&&kq(h,a,i,l,!1)}const v0=e=>typeof e=="string"&&e.toLowerCase()==="svg",Pq={useVisualState:ON({scrapeMotionValuesFromProps:$N,createRenderState:IN,onMount:(e,t,{renderState:n,latestValues:r})=>{Le.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Le.render(()=>{g0(n,r,v0(t.tagName),e.transformTemplate),PN(t,n)})}})},Aq={useVisualState:ON({applyWillChange:!0,scrapeMotionValuesFromProps:h0,createRenderState:p0})};function RN(e,t,n){for(const r in t)!Pt(t[r])&&!AN(r,n)&&(e[r]=t[r])}function $q({transformTemplate:e},t){return p.useMemo(()=>{const n=p0();return m0(n,t,e),Object.assign({},n.vars,n.style)},[t])}function Oq(e,t){const n=e.style||{},r={};return RN(r,n,e),Object.assign(r,$q(e,t)),r}function Iq(e,t){const n={},r=Oq(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const Nq=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Jd(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Nq.has(e)}let jN=e=>!Jd(e);function Rq(e){e&&(jN=t=>t.startsWith("on")?!Jd(t):e(t))}try{Rq(require("@emotion/is-prop-valid").default)}catch{}function jq(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(jN(s)||n===!0&&Jd(s)||!t&&!Jd(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function Dq(e,t,n,r){const s=p.useMemo(()=>{const o=IN();return g0(o,t,v0(r),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};RN(o,e.style,e),s.style={...o,...s.style}}return s}function Lq(e=!1){return(n,r,s,{latestValues:o},a)=>{const l=(f0(n)?Dq:Iq)(r,o,a,n),u=jq(r,typeof n=="string",e),d=n!==p.Fragment?{...u,...l,ref:s}:{},{children:f}=r,h=p.useMemo(()=>Pt(f)?f.get():f,[f]);return p.createElement(n,{...d,children:h})}}function Fut(e,t){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const a={...f0(r)?Pq:Aq,preloadedFeatures:e,useRender:Lq(s),createVisualElement:t,Component:r};return pq(a)}}const ef={current:null},y0={current:!1};function DN(){if(y0.current=!0,!!d0)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ef.current=e.matches;e.addListener(t),t()}else ef.current=!1}function Fq(e,t,n){for(const r in t){const s=t[r],o=n[r];if(Pt(s))e.addValue(r,s);else if(Pt(o))e.addValue(r,wr(s,{owner:e}));else if(o!==s)if(e.hasValue(r)){const a=e.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=e.getStaticValue(r);e.addValue(r,wr(a!==void 0?a:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const $c=new WeakMap,Bq=[...kI,tn,Ns],Uq=e=>Bq.find(EI(e)),GC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Vq=Hw.length;class Gq{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:o,visualState:a},i={}){this.applyWillChange=!1,this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Yw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.isRenderScheduled=!1,this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.isRenderScheduled=!1,this.scheduleRender=()=>{this.isRenderScheduled||(this.isRenderScheduled=!0,Le.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=i,this.blockInitialAnimation=!!o,this.isControllingVariants=gp(n),this.isVariantNode=MN(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in f){const m=f[h];l[h]!==void 0&&Pt(m)&&m.set(l[h],!1)}}mount(t){this.current=t,$c.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),y0.current||DN(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ef.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){$c.delete(this.current),this.projection&&this.projection.unmount(),Xr(this.notifyUpdate),Xr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Bs.has(t),s=n.on("change",i=>{this.latestValues[t]=i,this.props.onUpdate&&Le.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),o(),a&&a(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ga){const n=Ga[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):l0()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<GC.length;r++){const s=GC[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,a=t[o];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=Fq(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<Vq;r++){const s=Hw[r],o=this.props[s];(Pc(o)||o===!1)&&(n[s]=o)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=wr(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(_I(s)||SI(s))?s=parseFloat(s):!Uq(s)&&Ns.test(n)&&(s=jI(t,n)),this.setBaseTarget(t,Pt(s)?s.get():s)),Pt(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const a=Gw(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);a&&(s=a[t])}if(r&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Pt(o)?o:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new nN),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class LN extends Gq{constructor(){super(...arguments),this.KeyframeResolver=DI}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}}function Wq(e){return window.getComputedStyle(e)}class FN extends LN{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=EN}readValueFromInstance(t,n){if(Bs.has(n)){const r=Xw(n);return r&&r.default||0}else{const r=Wq(t),s=(TI(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return mN(t,n)}build(t,n,r){m0(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return h0(t,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Pt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class BN extends LN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=l0}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Bs.has(n)){const r=Xw(n);return r&&r.default||0}return n=kN.has(n)?n:hp(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return $N(t,n,r)}build(t,n,r){g0(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,s){PN(t,n,r,s)}mount(t){this.isSVGTag=v0(t.tagName),super.mount(t)}}const But=(e,t)=>f0(e)?new BN(t):new FN(t,{allowProjection:e!==p.Fragment});class Hq extends p.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function zq({children:e,isPresent:t}){const n=p.useId(),r=p.useRef(null),s=p.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=p.useContext(fl);return p.useInsertionEffect(()=>{const{width:a,height:i,top:l,left:u}=s.current;if(t||!r.current||!a||!i)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return o&&(d.nonce=o),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${i}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),c.jsx(Hq,{isPresent:t,childRef:r,sizeRef:s,children:p.cloneElement(e,{ref:r})})}const qq=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:a})=>{const i=mi(Yq),l=p.useId(),u=p.useMemo(()=>({id:l,initial:t,isPresent:n,custom:s,onExitComplete:d=>{i.set(d,!0);for(const f of i.values())if(!f)return;r&&r()},register:d=>(i.set(d,!1),()=>i.delete(d))}),o?[Math.random()]:[n]);return p.useMemo(()=>{i.forEach((d,f)=>i.set(f,!1))},[n]),p.useEffect(()=>{!n&&!i.size&&r&&r()},[n]),a==="popLayout"&&(e=c.jsx(zq,{isPresent:n,children:e})),c.jsx(dl.Provider,{value:u,children:e})};function Yq(){return new Map}const eu=e=>e.key||"";function WC(e){const t=[];return p.Children.forEach(e,n=>{p.isValidElement(n)&&t.push(n)}),t}const Uut=({children:e,exitBeforeEnter:t,custom:n,initial:r=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:a="sync"})=>{const i=p.useMemo(()=>WC(e),[e]),l=i.map(eu),u=p.useRef(!0),d=p.useRef(i),f=mi(()=>new Map),[h,m]=p.useState(i),[g,v]=p.useState(i);hl(()=>{u.current=!1,d.current=i;for(let b=0;b<g.length;b++){const w=eu(g[b]);l.includes(w)?f.delete(w):f.get(w)!==!0&&f.set(w,!1)}},[g,l.length,l.join("-")]);const y=[];if(i!==h){let b=[...i];for(let w=0;w<g.length;w++){const _=g[w],C=eu(_);l.includes(C)||(b.splice(w,0,_),y.push(_))}a==="wait"&&y.length&&(b=y),v(WC(b)),m(i);return}const{forceRender:x}=p.useContext(u0);return c.jsx(c.Fragment,{children:g.map(b=>{const w=eu(b),_=i===g||l.includes(w),C=()=>{if(f.has(w))f.set(w,!0);else return;let T=!0;f.forEach(M=>{M||(T=!1)}),T&&(x?.(),v(d.current),s&&s())};return c.jsx(qq,{isPresent:_,initial:!u.current||r?void 0:!1,custom:_?void 0:n,presenceAffectsLayout:o,mode:a,onExitComplete:_?void 0:C,children:b},w)})})};function UN(e){const t=mi(()=>wr(e)),{isStatic:n}=p.useContext(fl);if(n){const[,r]=p.useState(e);p.useEffect(()=>t.on("change",r),[])}return t}function VN(e,t){const n=UN(t()),r=()=>n.set(t());return r(),hl(()=>{const s=()=>Le.preRender(r,!1,!0),o=e.map(a=>a.on("change",s));return()=>{o.forEach(a=>a()),Xr(r)}}),n}const Kq=e=>e&&typeof e=="object"&&e.mix,Qq=e=>Kq(e)?e.mix:void 0;function Xq(...e){const t=!Array.isArray(e[0]),n=t?0:-1,r=e[0+n],s=e[1+n],o=e[2+n],a=e[3+n],i=r0(s,o,{mixer:Qq(o[0]),...a});return t?i(r):i}function Zq(e){gc.current=[],e();const t=VN(gc.current,e);return gc.current=void 0,t}function Vut(e,t,n,r){if(typeof e=="function")return Zq(e);const s=typeof t=="function"?t:Xq(t,n,r);return Array.isArray(e)?HC(e,s):HC([e],([o])=>s(o))}function HC(e,t){const n=mi(()=>[]);return VN(e,()=>{n.length=0;const r=e.length;for(let s=0;s<r;s++)n[s]=e[s].get();return t(n)})}function zC(e){return typeof e=="number"?e:parseFloat(e)}function Gut(e,t={}){const{isStatic:n}=p.useContext(fl),r=p.useRef(null),s=UN(Pt(e)?zC(e.get()):e),o=p.useRef(s.get()),a=p.useRef(()=>{}),i=()=>{const u=r.current;u&&u.time===0&&u.sample(Is.delta),l(),r.current=NH({keyframes:[s.get(),o.current],velocity:s.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...t,onUpdate:a.current})},l=()=>{r.current&&r.current.stop()};return p.useInsertionEffect(()=>s.attach((u,d)=>n?d(u):(o.current=u,a.current=d,Le.update(i),s.get()),l),[JSON.stringify(t)]),hl(()=>{if(Pt(e))return e.on("change",u=>s.set(zC(u)))},[s]),s}function Wut(e,t,n){p.useInsertionEffect(()=>e.on(t,n),[e,t,n])}function b0(e,t,n){var r;if(typeof e=="string"){let s=document;n?((r=n[e])!==null&&r!==void 0||(n[e]=s.querySelectorAll(e)),e=n[e]):e=s.querySelectorAll(e)}else e instanceof Element&&(e=[e]);return Array.from(e||[])}const Uu=new WeakMap;let gs;function Jq(e,t){if(t){const{inlineSize:n,blockSize:r}=t[0];return{width:n,height:r}}else return e instanceof SVGElement&&"getBBox"in e?e.getBBox():{width:e.offsetWidth,height:e.offsetHeight}}function eY({target:e,contentRect:t,borderBoxSize:n}){var r;(r=Uu.get(e))===null||r===void 0||r.forEach(s=>{s({target:e,contentSize:t,get size(){return Jq(e,n)}})})}function tY(e){e.forEach(eY)}function nY(){typeof ResizeObserver>"u"||(gs=new ResizeObserver(tY))}function rY(e,t){gs||nY();const n=b0(e);return n.forEach(r=>{let s=Uu.get(r);s||(s=new Set,Uu.set(r,s)),s.add(t),gs?.observe(r)}),()=>{n.forEach(r=>{const s=Uu.get(r);s?.delete(t),s?.size||gs?.unobserve(r)})}}const Vu=new Set;let vc;function sY(){vc=()=>{const e={width:window.innerWidth,height:window.innerHeight},t={target:window,size:e,contentSize:e};Vu.forEach(n=>n(t))},window.addEventListener("resize",vc)}function oY(e){return Vu.add(e),vc||sY(),()=>{Vu.delete(e),!Vu.size&&vc&&(vc=void 0)}}function aY(e,t){return typeof e=="function"?oY(e):rY(e,t)}const iY=50,qC=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),cY=()=>({time:0,x:qC(),y:qC()}),lY={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function YC(e,t,n,r){const s=n[t],{length:o,position:a}=lY[t],i=s.current,l=n.time;s.current=e[`scroll${a}`],s.scrollLength=e[`scroll${o}`]-e[`client${o}`],s.offset.length=0,s.offset[0]=0,s.offset[1]=s.scrollLength,s.progress=Co(0,s.scrollLength,s.current);const u=r-l;s.velocity=u>iY?0:Zw(s.current-i,u)}function uY(e,t,n){YC(e,"x",t,n),YC(e,"y",t,n),t.time=n}function dY(e,t){const n={x:0,y:0};let r=e;for(;r&&r!==t;)if(r instanceof HTMLElement)n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const s=r.getBoundingClientRect();r=r.parentElement;const o=r.getBoundingClientRect();n.x+=s.left-o.left,n.y+=s.top-o.top}else if(r instanceof SVGGraphicsElement){const{x:s,y:o}=r.getBBox();n.x+=s,n.y+=o;let a=null,i=r.parentNode;for(;!a;)i.tagName==="svg"&&(a=i),i=r.parentNode;r=a}else break;return n}const fY={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},cy={start:0,center:.5,end:1};function KC(e,t,n=0){let r=0;if(e in cy&&(e=cy[e]),typeof e=="string"){const s=parseFloat(e);e.endsWith("px")?r=s:e.endsWith("%")?e=s/100:e.endsWith("vw")?r=s/100*document.documentElement.clientWidth:e.endsWith("vh")?r=s/100*document.documentElement.clientHeight:e=s}return typeof e=="number"&&(r=t*e),n+r}const hY=[0,0];function pY(e,t,n,r){let s=Array.isArray(e)?e:hY,o=0,a=0;return typeof e=="number"?s=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?s=e.split(" "):s=[e,cy[e]?e:"0"]),o=KC(s[0],n,r),a=KC(s[1],t),o-a}const mY={x:0,y:0};function gY(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function vY(e,t,n){const{offset:r=fY.All}=n,{target:s=e,axis:o="y"}=n,a=o==="y"?"height":"width",i=s!==e?dY(s,e):mY,l=s===e?{width:e.scrollWidth,height:e.scrollHeight}:gY(s),u={width:e.clientWidth,height:e.clientHeight};t[o].offset.length=0;let d=!t[o].interpolate;const f=r.length;for(let h=0;h<f;h++){const m=pY(r[h],u[a],l[a],i[o]);!d&&m!==t[o].interpolatorOffsets[h]&&(d=!0),t[o].offset[h]=m}d&&(t[o].interpolate=r0(t[o].offset,s0(r)),t[o].interpolatorOffsets=[...t[o].offset]),t[o].progress=t[o].interpolate(t[o].current)}function yY(e,t=e,n){if(n.x.targetOffset=0,n.y.targetOffset=0,t!==e){let r=t;for(;r&&r!==e;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=t===e?t.scrollWidth:t.clientWidth,n.y.targetLength=t===e?t.scrollHeight:t.clientHeight,n.x.containerLength=e.clientWidth,n.y.containerLength=e.clientHeight}function bY(e,t,n,r={}){return{measure:()=>yY(e,r.target,n),update:s=>{uY(e,n,s),(r.offset||r.target)&&vY(e,n,r)},notify:()=>t(n)}}const Vi=new WeakMap,QC=new WeakMap,Gm=new WeakMap,XC=e=>e===document.documentElement?window:e;function xY(e,{container:t=document.documentElement,...n}={}){let r=Gm.get(t);r||(r=new Set,Gm.set(t,r));const s=cY(),o=bY(t,e,s,n);if(r.add(o),!Vi.has(t)){const i=()=>{for(const h of r)h.measure()},l=()=>{for(const h of r)h.update(Is.timestamp)},u=()=>{for(const h of r)h.notify()},d=()=>{Le.read(i,!1,!0),Le.read(l,!1,!0),Le.update(u,!1,!0)};Vi.set(t,d);const f=XC(t);window.addEventListener("resize",d,{passive:!0}),t!==document.documentElement&&QC.set(t,aY(t,d)),f.addEventListener("scroll",d,{passive:!0})}const a=Vi.get(t);return Le.read(a,!1,!0),()=>{var i;Xr(a);const l=Gm.get(t);if(!l||(l.delete(o),l.size))return;const u=Vi.get(t);Vi.delete(t),u&&(XC(t).removeEventListener("scroll",u),(i=QC.get(t))===null||i===void 0||i(),window.removeEventListener("resize",u))}}function ZC(e,t){xW(!!(!t||t.current))}const wY=()=>({scrollX:wr(0),scrollY:wr(0),scrollXProgress:wr(0),scrollYProgress:wr(0)});function Hut({container:e,target:t,layoutEffect:n=!0,...r}={}){const s=mi(wY);return(n?hl:p.useEffect)(()=>(ZC("target",t),ZC("container",e),xY(({x:a,y:i})=>{s.scrollX.set(a.current),s.scrollXProgress.set(a.progress),s.scrollY.set(i.current),s.scrollYProgress.set(i.progress)},{...r,container:e?.current||void 0,target:t?.current||void 0})),[e,t,JSON.stringify(r.offset)]),s}function zut(){!y0.current&&DN();const[e]=p.useState(ef.current);return e}function SY(e){return typeof e=="object"&&!Array.isArray(e)}function _Y(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=Kz(e)?new BN(t):new FN(t);n.mount(e),$c.set(e,n)}function CY(e,t=100){const n=Jw({keyframes:[0,t],...e}),r=Math.min(XI(n),ny);return{type:"keyframes",ease:s=>n.next(r*s).value/t,duration:Cr(r)}}function JC(e,t,n,r){var s;return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?n:(s=r.get(t))!==null&&s!==void 0?s:e}const TY=(e,t,n)=>{const r=t-e;return((n-e)%r+r)%r+e};function MY(e,t){return GI(e)?e[TY(0,e.length,t)]:e}function EY(e,t,n){for(let r=0;r<e.length;r++){const s=e[r];s.at>t&&s.at<n&&(ul(e,s),r--)}}function kY(e,t,n,r,s,o){EY(e,s,o);for(let a=0;a<t.length;a++)e.push({value:t[a],at:Et(s,o,r[a]),easing:MY(n,a)})}function PY(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const AY="easeInOut";function $Y(e,{defaultTransition:t={},...n}={},r){const s=t.duration||.3,o=new Map,a=new Map,i={},l=new Map;let u=0,d=0,f=0;for(let h=0;h<e.length;h++){const m=e[h];if(typeof m=="string"){l.set(m,d);continue}else if(!Array.isArray(m)){l.set(m.name,JC(d,m.at,u,l));continue}let[g,v,y={}]=m;y.at!==void 0&&(d=JC(d,y.at,u,l));let x=0;const b=(w,_,C,T=0,M=0)=>{const E=OY(w),{delay:R=0,times:$=s0(E),type:U="keyframes",...Y}=_;let{ease:F=t.ease||"easeOut",duration:j}=_;const D=typeof R=="function"?R(T,M):R,B=E.length;if(B<=2&&U==="spring"){let W=100;if(B===2&&RY(E)){const le=E[1]-E[0];W=Math.abs(le)}const ce={...Y};j!==void 0&&(ce.duration=_r(j));const se=CY(ce,W);F=se.ease,j=se.duration}j??(j=s);const H=d+D,N=H+j;$.length===1&&$[0]===0&&($[1]=1);const L=$.length-E.length;L>0&&QI($,L),E.length===1&&E.unshift(null),kY(C,E,F,$,H,N),x=Math.max(D+j,x),f=Math.max(N,f)};if(Pt(g)){const w=eT(g,a);b(v,y,tT("default",w))}else{const w=b0(g,r,i),_=w.length;for(let C=0;C<_;C++){v=v,y=y;const T=w[C],M=eT(T,a);for(const E in v)b(v[E],IY(y,E),tT(E,M),C,_)}}u=d,d+=x}return a.forEach((h,m)=>{for(const g in h){const v=h[g];v.sort(PY);const y=[],x=[],b=[];for(let _=0;_<v.length;_++){const{at:C,value:T,easing:M}=v[_];y.push(T),x.push(Co(0,f,C)),b.push(M||"easeOut")}x[0]!==0&&(x.unshift(0),y.unshift(y[0]),b.unshift(AY)),x[x.length-1]!==1&&(x.push(1),y.push(null)),o.has(m)||o.set(m,{keyframes:{},transition:{}});const w=o.get(m);w.keyframes[g]=y,w.transition[g]={...t,duration:f,ease:b,times:x,...n}}}),o}function eT(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function tT(e,t){return t[e]||(t[e]=[]),t[e]}function OY(e){return Array.isArray(e)?e:[e]}function IY(e,t){return e[t]?{...e,...e[t]}:{...e}}const NY=e=>typeof e=="number",RY=e=>e.every(NY);function GN(e,t,n,r){const s=b0(e),o=s.length,a=[];for(let i=0;i<o;i++){const l=s[i];$c.has(l)||_Y(l);const u=$c.get(l),d={...n};typeof d.delay=="function"&&(d.delay=d.delay(i,o)),a.push(...c0(u,{...t,transition:d},{}))}return new a0(a)}const jY=e=>Array.isArray(e)&&Array.isArray(e[0]);function DY(e,t,n){const r=[];return $Y(e,t,n).forEach(({keyframes:o,transition:a},i)=>{let l;Pt(i)?l=SN(i,o.default,a.default):l=GN(i,o,a),r.push(l)}),new a0(r)}const LY=e=>{function t(n,r,s){let o;return jY(n)?o=DY(n,r,e):SY(r)?o=GN(n,r,s):o=SN(n,r,s),o}return t},qut=LY();function FY(e,t){if(e==="first")return 0;{const n=t-1;return e==="last"?n:n/2}}function Yut(e=.1,{startDelay:t=0,from:n=0,ease:r}={}){return(s,o)=>{const a=typeof n=="number"?n:FY(n,o),i=Math.abs(a-s);let l=e*i;if(r){const u=o*e;l=ey(r)(l/u)*u}return t+l}}const BY="_leadingBar_9ia9b_1",UY="_leadingBarScrollAnimation_9ia9b_17",VY="_primary_9ia9b_21",Wm={leadingBar:BY,"add-top-shadow":"_add-top-shadow_9ia9b_1",leadingBarScrollAnimation:UY,primary:VY};function GY({disabled:e=!1,track:t}={}){const[n,r]=p.useState(null),s=p.useRef(null),o=p.useRef(null),a=p.useCallback(i=>{if(o.current&&(o.current.disconnect(),o.current=null),s.current=i,e||!i)return;const l=new ResizeObserver(u=>{if(!u.length)return;const d=u[0],{width:f,height:h}=WY(d);p.startTransition(()=>{r(m=>{const g={width:f,height:h};return!m||t==="width"&&m.width!==f||t==="height"&&m.height!==h||m.width!==f||m.height!==h?g:m})})});l.observe(i),o.current=l},[e,t]);return[n,a]}function WY(e){let t,n;if(e.borderBoxSize){const r=Array.isArray(e.borderBoxSize)?e.borderBoxSize[0]:e.borderBoxSize;t=r.inlineSize,n=r.blockSize}else t=e.contentRect.width,n=e.contentRect.height;return{width:t,height:n}}function yc({disableSizeTracking:e,name:t,track:n}){const[r,s]=GY({disabled:n===void 0||e,track:n});let o={};return t&&!e&&n&&r&&(o={[`--${t}-${n}`]:`${r[n==="width"?"width":"height"]}px`}),[o,s,r]}function ly(e){const{axis:t="horizontal",children:n,className:r,hidden:s,leading:o,overlay:a,ref:i,style:l,type:u,...d}=e,[f,h]=yc(d);return c.jsx("div",{"bar-type":u,hidden:s,"data-testid":`bar-${d.name??"default"}`,className:O("grid gap-bar",t==="vertical"&&"flex-col",o&&[Wm.leadingBar,Wm.leadingBarScrollAnimation],a==null&&"sticky",a==null&&r,u==="primary"&&Wm.primary),ref:i??h,style:{...l,...f},children:a==null?n:c.jsx("div",{className:O("absolute flex w-full flex-col justify-center gap-bar",a==="bottom"&&"bottom-[100%] mb-bar-bottom",r),children:n})})}const HY=p.forwardRef(function({icon:t,mobileIcon:n,className:r,surfaceContext:s="primary",...o},a){return c.jsxs("button",{...o,className:O("h-10 rounded-lg px-2 text-token-text-secondary focus-visible:outline-0 disabled:text-token-text-quaternary",s==="primary"?"focus-visible:bg-token-main-surface-secondary enabled:hover:bg-token-main-surface-secondary":"focus-visible:bg-token-sidebar-surface-secondary enabled:hover:bg-token-sidebar-surface-secondary",r),ref:a,children:[c.jsx(t,{className:O("icon-xl-heavy",{"max-md:hidden":n!=null})}),n?c.jsx(n,{className:"icon-xl-heavy md:hidden"}):null]})});function Un(){const{layer:e}=Bn("660512088");return e.get("enable_arch_updates",!1)}function zY(e,t){try{var n=global,r=n.document;if(typeof r<"u"&&r.createElement&&r.head&&r.head.appendChild){var s=r.querySelector('html meta[name="'.concat(encodeURI(e),'"]'))||r.createElement("meta");s.setAttribute("name",e),s.setAttribute("content",t),r.head.appendChild(s)}}catch{}}function Kut(){zY("react-scroll-to-bottom:version","4.2.0")}var tu=function(e){return e&&e.Math===Math&&e},cn=tu(typeof globalThis=="object"&&globalThis)||tu(typeof window=="object"&&window)||tu(typeof self=="object"&&self)||tu(typeof nn=="object"&&nn)||function(){return this}()||nn||Function("return this")(),Vt=function(e){try{return!!e()}catch{return!0}},qY=Vt,vp=!qY(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),YY=vp,WN=Function.prototype,nT=WN.apply,rT=WN.call,x0=typeof Reflect=="object"&&Reflect.apply||(YY?rT.bind(nT):function(){return rT.apply(nT,arguments)}),HN=vp,zN=Function.prototype,uy=zN.call,KY=HN&&zN.bind.bind(uy,uy),Rt=HN?KY:function(e){return function(){return uy.apply(e,arguments)}},qN=Rt,QY=qN({}.toString),XY=qN("".slice),gi=function(e){return XY(QY(e),8,-1)},ZY=gi,JY=Rt,w0=function(e){if(ZY(e)==="Function")return JY(e)},dy=typeof document=="object"&&document.all,eK=typeof dy>"u"&&dy!==void 0,YN={all:dy,IS_HTMLDDA:eK},KN=YN,tK=KN.all,ln=KN.IS_HTMLDDA?function(e){return typeof e=="function"||e===tK}:function(e){return typeof e=="function"},pl={},nK=Vt,Pn=!nK(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),rK=vp,nu=Function.prototype.call,Nr=rK?nu.bind(nu):function(){return nu.apply(nu,arguments)},S0={},QN={}.propertyIsEnumerable,XN=Object.getOwnPropertyDescriptor,sK=XN&&!QN.call({1:2},1);S0.f=sK?function(t){var n=XN(this,t);return!!n&&n.enumerable}:QN;var ml=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},oK=Rt,aK=Vt,iK=gi,Hm=Object,cK=oK("".split),ZN=aK(function(){return!Hm("z").propertyIsEnumerable(0)})?function(e){return iK(e)==="String"?cK(e,""):Hm(e)}:Hm,_0=function(e){return e==null},lK=_0,uK=TypeError,C0=function(e){if(lK(e))throw uK("Can't call method on "+e);return e},dK=ZN,fK=C0,Rr=function(e){return dK(fK(e))},sT=ln,JN=YN,hK=JN.all,rs=JN.IS_HTMLDDA?function(e){return typeof e=="object"?e!==null:sT(e)||e===hK}:function(e){return typeof e=="object"?e!==null:sT(e)},Qt={},zm=Qt,qm=cn,pK=ln,oT=function(e){return pK(e)?e:void 0},jr=function(e,t){return arguments.length<2?oT(zm[e])||oT(qm[e]):zm[e]&&zm[e][t]||qm[e]&&qm[e][t]},mK=Rt,Vs=mK({}.isPrototypeOf),eR=typeof navigator<"u"&&String(navigator.userAgent)||"",tR=cn,Ym=eR,aT=tR.process,iT=tR.Deno,cT=aT&&aT.versions||iT&&iT.version,lT=cT&&cT.v8,Qn,tf;lT&&(Qn=lT.split("."),tf=Qn[0]>0&&Qn[0]<4?1:+(Qn[0]+Qn[1]));!tf&&Ym&&(Qn=Ym.match(/Edge\/(\d+)/),(!Qn||Qn[1]>=74)&&(Qn=Ym.match(/Chrome\/(\d+)/),Qn&&(tf=+Qn[1])));var T0=tf,uT=T0,gK=Vt,vK=cn,yK=vK.String,vi=!!Object.getOwnPropertySymbols&&!gK(function(){var e=Symbol("symbol detection");return!yK(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&uT&&uT<41}),bK=vi,nR=bK&&!Symbol.sham&&typeof Symbol.iterator=="symbol",xK=jr,wK=ln,SK=Vs,_K=nR,CK=Object,gl=_K?function(e){return typeof e=="symbol"}:function(e){var t=xK("Symbol");return wK(t)&&SK(t.prototype,CK(e))},TK=String,yp=function(e){try{return TK(e)}catch{return"Object"}},MK=ln,EK=yp,kK=TypeError,M0=function(e){if(MK(e))return e;throw kK(EK(e)+" is not a function")},PK=M0,AK=_0,E0=function(e,t){var n=e[t];return AK(n)?void 0:PK(n)},Km=Nr,Qm=ln,Xm=rs,$K=TypeError,OK=function(e,t){var n,r;if(t==="string"&&Qm(n=e.toString)&&!Xm(r=Km(n,e))||Qm(n=e.valueOf)&&!Xm(r=Km(n,e))||t!=="string"&&Qm(n=e.toString)&&!Xm(r=Km(n,e)))return r;throw $K("Can't convert object to primitive value")},rR={exports:{}},dT=cn,IK=Object.defineProperty,NK=function(e,t){try{IK(dT,e,{value:t,configurable:!0,writable:!0})}catch{dT[e]=t}return t},RK=cn,jK=NK,fT="__core-js_shared__",DK=RK[fT]||jK(fT,{}),k0=DK,hT=k0;(rR.exports=function(e,t){return hT[e]||(hT[e]=t!==void 0?t:{})})("versions",[]).push({version:"3.32.2",mode:"pure",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.32.2/LICENSE",source:"https://github.com/zloirock/core-js"});var yi=rR.exports,LK=C0,FK=Object,Gs=function(e){return FK(LK(e))},BK=Rt,UK=Gs,VK=BK({}.hasOwnProperty),An=Object.hasOwn||function(t,n){return VK(UK(t),n)},GK=Rt,WK=0,HK=Math.random(),zK=GK(1 .toString),P0=function(e){return"Symbol("+(e===void 0?"":e)+")_"+zK(++WK+HK,36)},qK=cn,YK=yi,pT=An,KK=P0,QK=vi,XK=nR,va=qK.Symbol,Zm=YK("wks"),ZK=XK?va.for||va:va&&va.withoutSetter||KK,jt=function(e){return pT(Zm,e)||(Zm[e]=QK&&pT(va,e)?va[e]:ZK("Symbol."+e)),Zm[e]},JK=Nr,mT=rs,gT=gl,eQ=E0,tQ=OK,nQ=jt,rQ=TypeError,sQ=nQ("toPrimitive"),oQ=function(e,t){if(!mT(e)||gT(e))return e;var n=eQ(e,sQ),r;if(n){if(t===void 0&&(t="default"),r=JK(n,e,t),!mT(r)||gT(r))return r;throw rQ("Can't convert object to primitive value")}return t===void 0&&(t="number"),tQ(e,t)},aQ=oQ,iQ=gl,bp=function(e){var t=aQ(e,"string");return iQ(t)?t:t+""},cQ=cn,vT=rs,fy=cQ.document,lQ=vT(fy)&&vT(fy.createElement),sR=function(e){return lQ?fy.createElement(e):{}},uQ=Pn,dQ=Vt,fQ=sR,oR=!uQ&&!dQ(function(){return Object.defineProperty(fQ("div"),"a",{get:function(){return 7}}).a!==7}),hQ=Pn,pQ=Nr,mQ=S0,gQ=ml,vQ=Rr,yQ=bp,bQ=An,xQ=oR,yT=Object.getOwnPropertyDescriptor;pl.f=hQ?yT:function(t,n){if(t=vQ(t),n=yQ(n),xQ)try{return yT(t,n)}catch{}if(bQ(t,n))return gQ(!pQ(mQ.f,t,n),t[n])};var wQ=Vt,SQ=ln,_Q=/#|\.prototype\./,vl=function(e,t){var n=TQ[CQ(e)];return n===EQ?!0:n===MQ?!1:SQ(t)?wQ(t):!!t},CQ=vl.normalize=function(e){return String(e).replace(_Q,".").toLowerCase()},TQ=vl.data={},MQ=vl.NATIVE="N",EQ=vl.POLYFILL="P",kQ=vl,bT=w0,PQ=M0,AQ=vp,$Q=bT(bT.bind),A0=function(e,t){return PQ(e),t===void 0?e:AQ?$Q(e,t):function(){return e.apply(t,arguments)}},sr={},OQ=Pn,IQ=Vt,aR=OQ&&IQ(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),NQ=rs,RQ=String,jQ=TypeError,Ws=function(e){if(NQ(e))return e;throw jQ(RQ(e)+" is not an object")},DQ=Pn,LQ=oR,FQ=aR,ru=Ws,xT=bp,BQ=TypeError,Jm=Object.defineProperty,UQ=Object.getOwnPropertyDescriptor,eg="enumerable",tg="configurable",ng="writable";sr.f=DQ?FQ?function(t,n,r){if(ru(t),n=xT(n),ru(r),typeof t=="function"&&n==="prototype"&&"value"in r&&ng in r&&!r[ng]){var s=UQ(t,n);s&&s[ng]&&(t[n]=r.value,r={configurable:tg in r?r[tg]:s[tg],enumerable:eg in r?r[eg]:s[eg],writable:!1})}return Jm(t,n,r)}:Jm:function(t,n,r){if(ru(t),n=xT(n),ru(r),LQ)try{return Jm(t,n,r)}catch{}if("get"in r||"set"in r)throw BQ("Accessors not supported");return"value"in r&&(t[n]=r.value),t};var VQ=Pn,GQ=sr,WQ=ml,yl=VQ?function(e,t,n){return GQ.f(e,t,WQ(1,n))}:function(e,t,n){return e[t]=n,e},su=cn,HQ=x0,zQ=w0,qQ=ln,YQ=pl.f,KQ=kQ,Ko=Qt,QQ=A0,Qo=yl,wT=An,XQ=function(e){var t=function(n,r,s){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,r)}return new e(n,r,s)}return HQ(e,this,arguments)};return t.prototype=e.prototype,t},Je=function(e,t){var n=e.target,r=e.global,s=e.stat,o=e.proto,a=r?su:s?su[n]:(su[n]||{}).prototype,i=r?Ko:Ko[n]||Qo(Ko,n,{})[n],l=i.prototype,u,d,f,h,m,g,v,y,x;for(h in t)u=KQ(r?h:n+(s?".":"#")+h,e.forced),d=!u&&a&&wT(a,h),g=i[h],d&&(e.dontCallGetSet?(x=YQ(a,h),v=x&&x.value):v=a[h]),m=d&&v?v:t[h],!(d&&typeof g==typeof m)&&(e.bind&&d?y=QQ(m,su):e.wrap&&d?y=XQ(m):o&&qQ(m)?y=zQ(m):y=m,(e.sham||m&&m.sham||g&&g.sham)&&Qo(y,"sham",!0),Qo(i,h,y),o&&(f=n+"Prototype",wT(Ko,f)||Qo(Ko,f,{}),Qo(Ko[f],h,m),e.real&&l&&(u||!l[h])&&Qo(l,h,m)))},ZQ=gi,bi=Array.isArray||function(t){return ZQ(t)==="Array"},JQ=Je,eX=bi;JQ({target:"Array",stat:!0},{isArray:eX});var tX=Qt,nX=tX.Array.isArray,rX=nX,iR=rX,sX=iR,oX=sX,aX=oX,iX=aX,cX=iX,lX=cX;const cR=ge(lX);function uX(e){if(cR(e))return e}var dX=Math.ceil,fX=Math.floor,hX=Math.trunc||function(t){var n=+t;return(n>0?fX:dX)(n)},pX=hX,xp=function(e){var t=+e;return t!==t||t===0?0:pX(t)},mX=xp,gX=Math.min,vX=function(e){return e>0?gX(mX(e),9007199254740991):0},yX=vX,Fo=function(e){return yX(e.length)},bX=TypeError,xX=9007199254740991,lR=function(e){if(e>xX)throw bX("Maximum allowed index exceeded");return e},wX=bp,SX=sr,_X=ml,xi=function(e,t,n){var r=wX(t);r in e?SX.f(e,r,_X(0,n)):e[r]=n},CX=jt,TX=CX("toStringTag"),uR={};uR[TX]="z";var $0=String(uR)==="[object z]",MX=$0,EX=ln,Gu=gi,kX=jt,PX=kX("toStringTag"),AX=Object,$X=Gu(function(){return arguments}())==="Arguments",OX=function(e,t){try{return e[t]}catch{}},wi=MX?Gu:function(e){var t,n,r;return e===void 0?"Undefined":e===null?"Null":typeof(n=OX(t=AX(e),PX))=="string"?n:$X?Gu(t):(r=Gu(t))==="Object"&&EX(t.callee)?"Arguments":r},IX=Rt,NX=ln,hy=k0,RX=IX(Function.toString);NX(hy.inspectSource)||(hy.inspectSource=function(e){return RX(e)});var jX=hy.inspectSource,DX=Rt,LX=Vt,dR=ln,FX=wi,BX=jr,UX=jX,fR=function(){},VX=[],hR=BX("Reflect","construct"),O0=/^\s*(?:class|function)\b/,GX=DX(O0.exec),WX=!O0.exec(fR),Gi=function(t){if(!dR(t))return!1;try{return hR(fR,VX,t),!0}catch{return!1}},pR=function(t){if(!dR(t))return!1;switch(FX(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return WX||!!GX(O0,UX(t))}catch{return!0}};pR.sham=!0;var I0=!hR||LX(function(){var e;return Gi(Gi.call)||!Gi(Object)||!Gi(function(){e=!0})||e})?pR:Gi,ST=bi,HX=I0,zX=rs,qX=jt,YX=qX("species"),_T=Array,KX=function(e){var t;return ST(e)&&(t=e.constructor,HX(t)&&(t===_T||ST(t.prototype))?t=void 0:zX(t)&&(t=t[YX],t===null&&(t=void 0))),t===void 0?_T:t},QX=KX,N0=function(e,t){return new(QX(e))(t===0?0:t)},XX=Vt,ZX=jt,JX=T0,eZ=ZX("species"),wp=function(e){return JX>=51||!XX(function(){var t=[],n=t.constructor={};return n[eZ]=function(){return{foo:1}},t[e](Boolean).foo!==1})},tZ=Je,nZ=Vt,rZ=bi,sZ=rs,oZ=Gs,aZ=Fo,CT=lR,TT=xi,iZ=N0,cZ=wp,lZ=jt,uZ=T0,mR=lZ("isConcatSpreadable"),dZ=uZ>=51||!nZ(function(){var e=[];return e[mR]=!1,e.concat()[0]!==e}),fZ=function(e){if(!sZ(e))return!1;var t=e[mR];return t!==void 0?!!t:rZ(e)},hZ=!dZ||!cZ("concat");tZ({target:"Array",proto:!0,arity:1,forced:hZ},{concat:function(t){var n=oZ(this),r=iZ(n,0),s=0,o,a,i,l,u;for(o=-1,i=arguments.length;o<i;o++)if(u=o===-1?n:arguments[o],fZ(u))for(l=aZ(u),CT(s+l),a=0;a<l;a++,s++)a in u&&TT(r,s,u[a]);else CT(s+1),TT(r,s++,u);return r.length=s,r}});var pZ=wi,mZ=String,bl=function(e){if(pZ(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return mZ(e)},Sp={},gZ=xp,vZ=Math.max,yZ=Math.min,_p=function(e,t){var n=gZ(e);return n<0?vZ(n+t,0):yZ(n,t)},bZ=Rr,xZ=_p,wZ=Fo,MT=function(e){return function(t,n,r){var s=bZ(t),o=wZ(s),a=xZ(r,o),i;if(e&&n!==n){for(;o>a;)if(i=s[a++],i!==i)return!0}else for(;o>a;a++)if((e||a in s)&&s[a]===n)return e||a||0;return!e&&-1}},gR={includes:MT(!0),indexOf:MT(!1)},Cp={},SZ=Rt,rg=An,_Z=Rr,CZ=gR.indexOf,TZ=Cp,ET=SZ([].push),vR=function(e,t){var n=_Z(e),r=0,s=[],o;for(o in n)!rg(TZ,o)&&rg(n,o)&&ET(s,o);for(;t.length>r;)rg(n,o=t[r++])&&(~CZ(s,o)||ET(s,o));return s},R0=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],MZ=vR,EZ=R0,j0=Object.keys||function(t){return MZ(t,EZ)},kZ=Pn,PZ=aR,AZ=sr,$Z=Ws,OZ=Rr,IZ=j0;Sp.f=kZ&&!PZ?Object.defineProperties:function(t,n){$Z(t);for(var r=OZ(n),s=IZ(n),o=s.length,a=0,i;o>a;)AZ.f(t,i=s[a++],r[i]);return t};var NZ=jr,RZ=NZ("document","documentElement"),jZ=yi,DZ=P0,kT=jZ("keys"),Tp=function(e){return kT[e]||(kT[e]=DZ(e))},LZ=Ws,FZ=Sp,PT=R0,BZ=Cp,UZ=RZ,VZ=sR,GZ=Tp,AT=">",$T="<",py="prototype",my="script",yR=GZ("IE_PROTO"),sg=function(){},bR=function(e){return $T+my+AT+e+$T+"/"+my+AT},OT=function(e){e.write(bR("")),e.close();var t=e.parentWindow.Object;return e=null,t},WZ=function(){var e=VZ("iframe"),t="java"+my+":",n;return e.style.display="none",UZ.appendChild(e),e.src=String(t),n=e.contentWindow.document,n.open(),n.write(bR("document.F=Object")),n.close(),n.F},ou,Wu=function(){try{ou=new ActiveXObject("htmlfile")}catch{}Wu=typeof document<"u"?document.domain&&ou?OT(ou):WZ():OT(ou);for(var e=PT.length;e--;)delete Wu[py][PT[e]];return Wu()};BZ[yR]=!0;var D0=Object.create||function(t,n){var r;return t!==null?(sg[py]=LZ(t),r=new sg,sg[py]=null,r[yR]=t):r=Wu(),n===void 0?r:FZ.f(r,n)},Mp={},HZ=vR,zZ=R0,qZ=zZ.concat("length","prototype");Mp.f=Object.getOwnPropertyNames||function(t){return HZ(t,qZ)};var xR={},IT=_p,YZ=Fo,KZ=xi,QZ=Array,XZ=Math.max,ZZ=function(e,t,n){for(var r=YZ(e),s=IT(t,r),o=IT(n===void 0?r:n,r),a=QZ(XZ(o-s,0)),i=0;s<o;s++,i++)KZ(a,i,e[s]);return a.length=i,a},JZ=gi,eJ=Rr,wR=Mp.f,tJ=ZZ,SR=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],nJ=function(e){try{return wR(e)}catch{return tJ(SR)}};xR.f=function(t){return SR&&JZ(t)==="Window"?nJ(t):wR(eJ(t))};var Ep={};Ep.f=Object.getOwnPropertySymbols;var rJ=yl,kp=function(e,t,n,r){return r&&r.enumerable?e[t]=n:rJ(e,t,n),e},sJ=sr,oJ=function(e,t,n){return sJ.f(e,t,n)},L0={},aJ=jt;L0.f=aJ;var NT=Qt,iJ=An,cJ=L0,lJ=sr.f,mt=function(e){var t=NT.Symbol||(NT.Symbol={});iJ(t,e)||lJ(t,e,{value:cJ.f(e)})},uJ=Nr,dJ=jr,fJ=jt,hJ=kp,_R=function(){var e=dJ("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,r=fJ("toPrimitive");t&&!t[r]&&hJ(t,r,function(s){return uJ(n,this)},{arity:1})},pJ=$0,mJ=wi,gJ=pJ?{}.toString:function(){return"[object "+mJ(this)+"]"},vJ=$0,yJ=sr.f,bJ=yl,xJ=An,wJ=gJ,SJ=jt,RT=SJ("toStringTag"),xl=function(e,t,n,r){if(e){var s=n?e:e.prototype;xJ(s,RT)||yJ(s,RT,{configurable:!0,value:t}),r&&!vJ&&bJ(s,"toString",wJ)}},_J=cn,CJ=ln,jT=_J.WeakMap,TJ=CJ(jT)&&/native code/.test(String(jT)),MJ=TJ,CR=cn,EJ=rs,kJ=yl,og=An,ag=k0,PJ=Tp,AJ=Cp,DT="Object already initialized",gy=CR.TypeError,$J=CR.WeakMap,nf,Oc,rf,OJ=function(e){return rf(e)?Oc(e):nf(e,{})},IJ=function(e){return function(t){var n;if(!EJ(t)||(n=Oc(t)).type!==e)throw gy("Incompatible receiver, "+e+" required");return n}};if(MJ||ag.state){var cr=ag.state||(ag.state=new $J);cr.get=cr.get,cr.has=cr.has,cr.set=cr.set,nf=function(e,t){if(cr.has(e))throw gy(DT);return t.facade=e,cr.set(e,t),t},Oc=function(e){return cr.get(e)||{}},rf=function(e){return cr.has(e)}}else{var Xo=PJ("state");AJ[Xo]=!0,nf=function(e,t){if(og(e,Xo))throw gy(DT);return t.facade=e,kJ(e,Xo,t),t},Oc=function(e){return og(e,Xo)?e[Xo]:{}},rf=function(e){return og(e,Xo)}}var F0={set:nf,get:Oc,has:rf,enforce:OJ,getterFor:IJ},NJ=A0,RJ=Rt,jJ=ZN,DJ=Gs,LJ=Fo,FJ=N0,LT=RJ([].push),us=function(e){var t=e===1,n=e===2,r=e===3,s=e===4,o=e===6,a=e===7,i=e===5||o;return function(l,u,d,f){for(var h=DJ(l),m=jJ(h),g=NJ(u,d),v=LJ(m),y=0,x=f||FJ,b=t?x(l,v):n||a?x(l,0):void 0,w,_;v>y;y++)if((i||y in m)&&(w=m[y],_=g(w,y,h),e))if(t)b[y]=_;else if(_)switch(e){case 3:return!0;case 5:return w;case 6:return y;case 2:LT(b,w)}else switch(e){case 4:return!1;case 7:LT(b,w)}return o?-1:r||s?s:b}},B0={forEach:us(0),map:us(1),filter:us(2),some:us(3),every:us(4),find:us(5),findIndex:us(6),filterReject:us(7)},Pp=Je,U0=cn,V0=Nr,BJ=Rt,Wa=Pn,Ha=vi,UJ=Vt,Ft=An,VJ=Vs,vy=Ws,Ap=Rr,G0=bp,GJ=bl,yy=ml,Ic=D0,TR=j0,WJ=Mp,MR=xR,HJ=Ep,ER=pl,kR=sr,zJ=Sp,PR=S0,FT=kp,qJ=oJ,W0=yi,YJ=Tp,AR=Cp,BT=P0,KJ=jt,QJ=L0,XJ=mt,ZJ=_R,JJ=xl,$R=F0,$p=B0.forEach,yn=YJ("hidden"),Op="Symbol",Nc="prototype",eee=$R.set,UT=$R.getterFor(Op),Jn=Object[Nc],vo=U0.Symbol,sc=vo&&vo[Nc],tee=U0.TypeError,ig=U0.QObject,OR=ER.f,no=kR.f,IR=MR.f,nee=PR.f,NR=BJ([].push),Jr=W0("symbols"),wl=W0("op-symbols"),ree=W0("wks"),by=!ig||!ig[Nc]||!ig[Nc].findChild,xy=Wa&&UJ(function(){return Ic(no({},"a",{get:function(){return no(this,"a",{value:7}).a}})).a!==7})?function(e,t,n){var r=OR(Jn,t);r&&delete Jn[t],no(e,t,n),r&&e!==Jn&&no(Jn,t,r)}:no,cg=function(e,t){var n=Jr[e]=Ic(sc);return eee(n,{type:Op,tag:e,description:t}),Wa||(n.description=t),n},Ip=function(t,n,r){t===Jn&&Ip(wl,n,r),vy(t);var s=G0(n);return vy(r),Ft(Jr,s)?(r.enumerable?(Ft(t,yn)&&t[yn][s]&&(t[yn][s]=!1),r=Ic(r,{enumerable:yy(0,!1)})):(Ft(t,yn)||no(t,yn,yy(1,{})),t[yn][s]=!0),xy(t,s,r)):no(t,s,r)},H0=function(t,n){vy(t);var r=Ap(n),s=TR(r).concat(LR(r));return $p(s,function(o){(!Wa||V0(RR,r,o))&&Ip(t,o,r[o])}),t},see=function(t,n){return n===void 0?Ic(t):H0(Ic(t),n)},RR=function(t){var n=G0(t),r=V0(nee,this,n);return this===Jn&&Ft(Jr,n)&&!Ft(wl,n)?!1:r||!Ft(this,n)||!Ft(Jr,n)||Ft(this,yn)&&this[yn][n]?r:!0},jR=function(t,n){var r=Ap(t),s=G0(n);if(!(r===Jn&&Ft(Jr,s)&&!Ft(wl,s))){var o=OR(r,s);return o&&Ft(Jr,s)&&!(Ft(r,yn)&&r[yn][s])&&(o.enumerable=!0),o}},DR=function(t){var n=IR(Ap(t)),r=[];return $p(n,function(s){!Ft(Jr,s)&&!Ft(AR,s)&&NR(r,s)}),r},LR=function(e){var t=e===Jn,n=IR(t?wl:Ap(e)),r=[];return $p(n,function(s){Ft(Jr,s)&&(!t||Ft(Jn,s))&&NR(r,Jr[s])}),r};Ha||(vo=function(){if(VJ(sc,this))throw tee("Symbol is not a constructor");var t=!arguments.length||arguments[0]===void 0?void 0:GJ(arguments[0]),n=BT(t),r=function(s){this===Jn&&V0(r,wl,s),Ft(this,yn)&&Ft(this[yn],n)&&(this[yn][n]=!1),xy(this,n,yy(1,s))};return Wa&&by&&xy(Jn,n,{configurable:!0,set:r}),cg(n,t)},sc=vo[Nc],FT(sc,"toString",function(){return UT(this).tag}),FT(vo,"withoutSetter",function(e){return cg(BT(e),e)}),PR.f=RR,kR.f=Ip,zJ.f=H0,ER.f=jR,WJ.f=MR.f=DR,HJ.f=LR,QJ.f=function(e){return cg(KJ(e),e)},Wa&&qJ(sc,"description",{configurable:!0,get:function(){return UT(this).description}}));Pp({global:!0,constructor:!0,wrap:!0,forced:!Ha,sham:!Ha},{Symbol:vo});$p(TR(ree),function(e){XJ(e)});Pp({target:Op,stat:!0,forced:!Ha},{useSetter:function(){by=!0},useSimple:function(){by=!1}});Pp({target:"Object",stat:!0,forced:!Ha,sham:!Wa},{create:see,defineProperty:Ip,defineProperties:H0,getOwnPropertyDescriptor:jR});Pp({target:"Object",stat:!0,forced:!Ha},{getOwnPropertyNames:DR});ZJ();JJ(vo,Op);AR[yn]=!0;var oee=vi,FR=oee&&!!Symbol.for&&!!Symbol.keyFor,aee=Je,iee=jr,cee=An,lee=bl,BR=yi,uee=FR,lg=BR("string-to-symbol-registry"),dee=BR("symbol-to-string-registry");aee({target:"Symbol",stat:!0,forced:!uee},{for:function(e){var t=lee(e);if(cee(lg,t))return lg[t];var n=iee("Symbol")(t);return lg[t]=n,dee[n]=t,n}});var fee=Je,hee=An,pee=gl,mee=yp,gee=yi,vee=FR,VT=gee("symbol-to-string-registry");fee({target:"Symbol",stat:!0,forced:!vee},{keyFor:function(t){if(!pee(t))throw TypeError(mee(t)+" is not a symbol");if(hee(VT,t))return VT[t]}});var yee=Rt,z0=yee([].slice),bee=Rt,GT=bi,xee=ln,WT=gi,wee=bl,HT=bee([].push),See=function(e){if(xee(e))return e;if(GT(e)){for(var t=e.length,n=[],r=0;r<t;r++){var s=e[r];typeof s=="string"?HT(n,s):(typeof s=="number"||WT(s)==="Number"||WT(s)==="String")&&HT(n,wee(s))}var o=n.length,a=!0;return function(i,l){if(a)return a=!1,l;if(GT(this))return l;for(var u=0;u<o;u++)if(n[u]===i)return l}}},_ee=Je,UR=jr,VR=x0,Cee=Nr,Sl=Rt,GR=Vt,zT=ln,qT=gl,WR=z0,Tee=See,Mee=vi,Eee=String,$s=UR("JSON","stringify"),au=Sl(/./.exec),YT=Sl("".charAt),kee=Sl("".charCodeAt),Pee=Sl("".replace),Aee=Sl(1 .toString),$ee=/[\uD800-\uDFFF]/g,KT=/^[\uD800-\uDBFF]$/,QT=/^[\uDC00-\uDFFF]$/,XT=!Mee||GR(function(){var e=UR("Symbol")("stringify detection");return $s([e])!=="[null]"||$s({a:e})!=="{}"||$s(Object(e))!=="{}"}),ZT=GR(function(){return $s("\uDF06\uD834")!=='"\\udf06\\ud834"'||$s("\uDEAD")!=='"\\udead"'}),Oee=function(e,t){var n=WR(arguments),r=Tee(t);if(!(!zT(r)&&(e===void 0||qT(e))))return n[1]=function(s,o){if(zT(r)&&(o=Cee(r,this,Eee(s),o)),!qT(o))return o},VR($s,null,n)},Iee=function(e,t,n){var r=YT(n,t-1),s=YT(n,t+1);return au(KT,e)&&!au(QT,s)||au(QT,e)&&!au(KT,r)?"\\u"+Aee(kee(e,0),16):e};$s&&_ee({target:"JSON",stat:!0,arity:3,forced:XT||ZT},{stringify:function(t,n,r){var s=WR(arguments),o=VR(XT?Oee:$s,null,s);return ZT&&typeof o=="string"?Pee(o,$ee,Iee):o}});var Nee=Je,Ree=vi,jee=Vt,HR=Ep,Dee=Gs,Lee=!Ree||jee(function(){HR.f(1)});Nee({target:"Object",stat:!0,forced:Lee},{getOwnPropertySymbols:function(t){var n=HR.f;return n?n(Dee(t)):[]}});var Fee=mt;Fee("asyncIterator");var Bee=mt;Bee("hasInstance");var Uee=mt;Uee("isConcatSpreadable");var Vee=mt;Vee("iterator");var Gee=mt;Gee("match");var Wee=mt;Wee("matchAll");var Hee=mt;Hee("replace");var zee=mt;zee("search");var qee=mt;qee("species");var Yee=mt;Yee("split");var Kee=mt,Qee=_R;Kee("toPrimitive");Qee();var Xee=jr,Zee=mt,Jee=xl;Zee("toStringTag");Jee(Xee("Symbol"),"Symbol");var ete=mt;ete("unscopables");var tte=cn,nte=xl;nte(tte.JSON,"JSON",!0);var rte=Qt,ste=rte.Symbol,Si={},wy=Pn,ote=An,zR=Function.prototype,ate=wy&&Object.getOwnPropertyDescriptor,q0=ote(zR,"name"),ite=q0&&(function(){}).name==="something",cte=q0&&(!wy||wy&&ate(zR,"name").configurable),lte={EXISTS:q0,PROPER:ite,CONFIGURABLE:cte},ute=Vt,dte=!ute(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),fte=An,hte=ln,pte=Gs,mte=Tp,gte=dte,JT=mte("IE_PROTO"),Sy=Object,vte=Sy.prototype,qR=gte?Sy.getPrototypeOf:function(e){var t=pte(e);if(fte(t,JT))return t[JT];var n=t.constructor;return hte(n)&&t instanceof n?n.prototype:t instanceof Sy?vte:null},yte=Vt,bte=ln,xte=rs,wte=D0,eM=qR,Ste=kp,_te=jt,_y=_te("iterator"),YR=!1,Yr,ug,dg;[].keys&&(dg=[].keys(),"next"in dg?(ug=eM(eM(dg)),ug!==Object.prototype&&(Yr=ug)):YR=!0);var Cte=!xte(Yr)||yte(function(){var e={};return Yr[_y].call(e)!==e});Cte?Yr={}:Yr=wte(Yr);bte(Yr[_y])||Ste(Yr,_y,function(){return this});var KR={IteratorPrototype:Yr,BUGGY_SAFARI_ITERATORS:YR},Tte=KR.IteratorPrototype,Mte=D0,Ete=ml,kte=xl,Pte=Si,Ate=function(){return this},$te=function(e,t,n,r){var s=t+" Iterator";return e.prototype=Mte(Tte,{next:Ete(+!r,n)}),kte(e,s,!1,!0),Pte[s]=Ate,e},Ote=Je,Ite=Nr,QR=lte,Nte=$te,Rte=qR,jte=xl,tM=kp,Dte=jt,nM=Si,XR=KR,Lte=QR.PROPER;QR.CONFIGURABLE;XR.IteratorPrototype;var iu=XR.BUGGY_SAFARI_ITERATORS,fg=Dte("iterator"),rM="keys",cu="values",sM="entries",Fte=function(){return this},ZR=function(e,t,n,r,s,o,a){Nte(n,t,r);var i=function(x){if(x===s&&h)return h;if(!iu&&x&&x in d)return d[x];switch(x){case rM:return function(){return new n(this,x)};case cu:return function(){return new n(this,x)};case sM:return function(){return new n(this,x)}}return function(){return new n(this)}},l=t+" Iterator",u=!1,d=e.prototype,f=d[fg]||d["@@iterator"]||s&&d[s],h=!iu&&f||i(s),m=t==="Array"&&d.entries||f,g,v,y;if(m&&(g=Rte(m.call(new e)),g!==Object.prototype&&g.next&&(jte(g,l,!0,!0),nM[l]=Fte)),Lte&&s===cu&&f&&f.name!==cu&&(u=!0,h=function(){return Ite(f,this)}),s)if(v={values:i(cu),keys:o?h:i(rM),entries:i(sM)},a)for(y in v)(iu||u||!(y in d))&&tM(d,y,v[y]);else Ote({target:t,proto:!0,forced:iu||u},v);return a&&d[fg]!==h&&tM(d,fg,h,{name:s}),nM[t]=h,v},JR=function(e,t){return{value:e,done:t}},Bte=Rr,oM=Si,ej=F0;sr.f;var Ute=ZR,lu=JR,tj="Array Iterator",Vte=ej.set,Gte=ej.getterFor(tj);Ute(Array,"Array",function(e,t){Vte(this,{type:tj,target:Bte(e),index:0,kind:t})},function(){var e=Gte(this),t=e.target,n=e.kind,r=e.index++;if(!t||r>=t.length)return e.target=void 0,lu(void 0,!0);switch(n){case"keys":return lu(r,!1);case"values":return lu(t[r],!1)}return lu([r,t[r]],!1)},"values");oM.Arguments=oM.Array;var Wte={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Hte=Wte,zte=cn,qte=wi,Yte=yl,aM=Si,Kte=jt,iM=Kte("toStringTag");for(var hg in Hte){var cM=zte[hg],pg=cM&&cM.prototype;pg&&qte(pg)!==iM&&Yte(pg,iM,hg),aM[hg]=aM.Array}var Qte=ste,Xte=Qte,Zte=jt,Jte=sr.f,lM=Zte("metadata"),uM=Function.prototype;uM[lM]===void 0&&Jte(uM,lM,{value:null});var ene=mt;ene("asyncDispose");var tne=mt;tne("dispose");var nne=mt;nne("metadata");var rne=Xte,sne=rne,one=jr,ane=Rt,Y0=one("Symbol"),ine=Y0.keyFor,cne=ane(Y0.prototype.valueOf),nj=Y0.isRegisteredSymbol||function(t){try{return ine(cne(t))!==void 0}catch{return!1}},lne=Je,une=nj;lne({target:"Symbol",stat:!0},{isRegisteredSymbol:une});var dne=yi,rj=jr,fne=Rt,hne=gl,pne=jt,sf=rj("Symbol"),dM=sf.isWellKnownSymbol,sj=rj("Object","getOwnPropertyNames"),mne=fne(sf.prototype.valueOf),fM=dne("wks");for(var mg=0,hM=sj(sf),gne=hM.length;mg<gne;mg++)try{var pM=hM[mg];hne(sf[pM])&&pne(pM)}catch{}var oj=function(t){if(dM&&dM(t))return!0;try{for(var n=mne(t),r=0,s=sj(fM),o=s.length;r<o;r++)if(fM[s[r]]==n)return!0}catch{}return!1},vne=Je,yne=oj;vne({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:yne});var bne=mt;bne("matcher");var xne=mt;xne("observable");var wne=Je,Sne=nj;wne({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:Sne});var _ne=Je,Cne=oj;_ne({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:Cne});var Tne=mt;Tne("metadataKey");var Mne=mt;Mne("patternMatch");var Ene=mt;Ene("replaceAll");var kne=sne,Pne=kne,Ane=Pne,$ne=Ane;const aj=ge($ne);var K0=Rt,One=xp,Ine=bl,Nne=C0,Rne=K0("".charAt),mM=K0("".charCodeAt),jne=K0("".slice),gM=function(e){return function(t,n){var r=Ine(Nne(t)),s=One(n),o=r.length,a,i;return s<0||s>=o?e?"":void 0:(a=mM(r,s),a<55296||a>56319||s+1===o||(i=mM(r,s+1))<56320||i>57343?e?Rne(r,s):a:e?jne(r,s,s+2):(a-55296<<10)+(i-56320)+65536)}},Dne={codeAt:gM(!1),charAt:gM(!0)},Lne=Dne.charAt,Fne=bl,ij=F0,Bne=ZR,vM=JR,cj="String Iterator",Une=ij.set,Vne=ij.getterFor(cj);Bne(String,"String",function(e){Une(this,{type:cj,string:Fne(e),index:0})},function(){var t=Vne(this),n=t.string,r=t.index,s;return r>=n.length?vM(void 0,!0):(s=Lne(n,r),t.index+=s.length,vM(s,!1))});var Gne=wi,yM=E0,Wne=_0,Hne=Si,zne=jt,qne=zne("iterator"),Q0=function(e){if(!Wne(e))return yM(e,qne)||yM(e,"@@iterator")||Hne[Gne(e)]},Yne=Q0,Kne=Yne,Qne=Kne,Xne=Qne,Zne=Xne,Jne=Zne,ere=Jne,tre=ere,nre=tre,rre=nre;const lj=ge(rre);function sre(e,t){var n=e==null?null:typeof aj<"u"&&lj(e)||e["@@iterator"];if(n!=null){var r=[],s=!0,o=!1,a,i;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(r.push(a.value),!(t&&r.length===t));s=!0);}catch(l){o=!0,i=l}finally{try{!s&&n.return!=null&&n.return()}finally{if(o)throw i}}return r}}var ore=Je,bM=bi,are=I0,ire=rs,xM=_p,cre=Fo,lre=Rr,ure=xi,dre=jt,fre=wp,hre=z0,pre=fre("slice"),mre=dre("species"),gg=Array,gre=Math.max;ore({target:"Array",proto:!0,forced:!pre},{slice:function(t,n){var r=lre(this),s=cre(r),o=xM(t,s),a=xM(n===void 0?s:n,s),i,l,u;if(bM(r)&&(i=r.constructor,are(i)&&(i===gg||bM(i.prototype))?i=void 0:ire(i)&&(i=i[mre],i===null&&(i=void 0)),i===gg||i===void 0))return hre(r,o,a);for(l=new(i===void 0?gg:i)(gre(a-o,0)),u=0;o<a;o++,u++)o in r&&ure(l,u,r[o]);return l.length=u,l}});var vre=Qt,_i=function(e){return vre[e+"Prototype"]},yre=_i,bre=yre("Array").slice,xre=Vs,wre=bre,vg=Array.prototype,Sre=function(e){var t=e.slice;return e===vg||xre(vg,e)&&t===vg.slice?wre:t},_re=Sre,Cre=_re,Tre=Cre,Mre=Tre,Ere=Mre,kre=Ere,Pre=kre,Are=Pre;const $re=ge(Are);var Ore=Nr,wM=Ws,Ire=E0,Nre=function(e,t,n){var r,s;wM(e);try{if(r=Ire(e,"return"),!r){if(t==="throw")throw n;return n}r=Ore(r,e)}catch(o){s=!0,r=o}if(t==="throw")throw n;if(s)throw r;return wM(r),n},Rre=Ws,jre=Nre,Dre=function(e,t,n,r){try{return r?t(Rre(n)[0],n[1]):t(n)}catch(s){jre(e,"throw",s)}},Lre=jt,Fre=Si,Bre=Lre("iterator"),Ure=Array.prototype,Vre=function(e){return e!==void 0&&(Fre.Array===e||Ure[Bre]===e)},Gre=Nr,Wre=M0,Hre=Ws,zre=yp,qre=Q0,Yre=TypeError,Kre=function(e,t){var n=arguments.length<2?qre(e):t;if(Wre(n))return Hre(Gre(n,e));throw Yre(zre(e)+" is not iterable")},Qre=A0,Xre=Nr,Zre=Gs,Jre=Dre,ese=Vre,tse=I0,nse=Fo,SM=xi,rse=Kre,sse=Q0,_M=Array,ose=function(t){var n=Zre(t),r=tse(this),s=arguments.length,o=s>1?arguments[1]:void 0,a=o!==void 0;a&&(o=Qre(o,s>2?arguments[2]:void 0));var i=sse(n),l=0,u,d,f,h,m,g;if(i&&!(this===_M&&ese(i)))for(h=rse(n,i),m=h.next,d=r?new this:[];!(f=Xre(m,h)).done;l++)g=a?Jre(h,o,[f.value,l],!0):f.value,SM(d,l,g);else for(u=nse(n),d=r?new this(u):_M(u);u>l;l++)g=a?o(n[l],l):n[l],SM(d,l,g);return d.length=l,d},ase=jt,uj=ase("iterator"),dj=!1;try{var ise=0,CM={next:function(){return{done:!!ise++}},return:function(){dj=!0}};CM[uj]=function(){return this},Array.from(CM,function(){throw 2})}catch{}var cse=function(e,t){try{if(!t&&!dj)return!1}catch{return!1}var n=!1;try{var r={};r[uj]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch{}return n},lse=Je,use=ose,dse=cse,fse=!dse(function(e){Array.from(e)});lse({target:"Array",stat:!0,forced:fse},{from:use});var hse=Qt,pse=hse.Array.from,mse=pse,gse=mse,vse=gse,yse=vse,bse=yse,xse=bse,wse=xse,Sse=wse;const fj=ge(Sse);function Cy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hj(e,t){var n;if(e){if(typeof e=="string")return Cy(e,t);var r=$re(n=Object.prototype.toString.call(e)).call(n,8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return fj(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cy(e,t)}}function _se(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X0(e,t){return uX(e)||sre(e,t)||hj(e,t)||_se()}var pj={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],s=0;s<arguments.length;s++){var o=arguments[s];if(o){var a=typeof o;if(a==="string"||a==="number")r.push(o);else if(Array.isArray(o)){if(o.length){var i=n.apply(null,o);i&&r.push(i)}}else if(a==="object")if(o.toString===Object.prototype.toString)for(var l in o)t.call(o,l)&&o[l]&&r.push(l);else r.push(o.toString())}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(pj);var Cse=pj.exports;const mj=ge(Cse);var gj={exports:{}},Tse="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Mse=Tse,Ese=Mse;function vj(){}function yj(){}yj.resetWarningCache=vj;var kse=function(){function e(r,s,o,a,i,l){if(l!==Ese){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:yj,resetWarningCache:vj};return n.PropTypes=n,n};gj.exports=kse();var Pse=gj.exports;const pr=ge(Pse);var bj=X.createContext({scrollTo:function(){return 0},scrollToBottom:function(){return 0},scrollToEnd:function(){return 0},scrollToStart:function(){return 0},scrollToTop:function(){return 0}});bj.displayName="ScrollToBottomFunctionContext";function Z0(){return p.useContext(bj)}function Ase(){var e=Z0(),t=e.scrollToEnd;return t}var xj=X.createContext({atBottom:!0,atEnd:!0,atStart:!1,atTop:!0,mode:"bottom"});xj.displayName="ScrollToBottomState1Context";var wj=X.createContext({animating:!1,animatingToEnd:!1,sticky:!0});wj.displayName="ScrollToBottomState2Context";var Sj=X.createContext({animating:!1,animatingToEnd:!1,atBottom:!0,atEnd:!0,atStart:!1,atTop:!0,mode:"bottom",sticky:!0});Sj.displayName="ScrollToBottomStateContext";var TM=[Sj,xj,wj];function _j(e){return p.useContext(TM[e]||TM[0])}function $se(){var e=_j(2),t=e.sticky;return[t]}var J0=X.createContext({offsetHeight:0,scrollHeight:0,setTarget:function(){return 0},styleToClassName:function(){return""}});J0.displayName="ScrollToBottomInternalContext";function Cj(){return p.useContext(J0)}function Tj(){var e=Cj(),t=e.styleToClassName;return t}var Ose={backgroundColor:"rgba(0, 0, 0, .2)",borderRadius:10,borderWidth:0,bottom:5,cursor:"pointer",height:20,outline:0,position:"absolute",right:20,width:20,"&:hover":{backgroundColor:"rgba(0, 0, 0, .4)"},"&:active":{backgroundColor:"rgba(0, 0, 0, .6)"}},Mj=function(t){var n=t.children,r=t.className,s=$se(),o=X0(s,1),a=o[0],i=Tj()(Ose),l=Ase();return!a&&X.createElement("button",{className:mj(i,(r||"")+""),onClick:l,type:"button"},n)};Mj.defaultProps={children:void 0,className:""};Mj.propTypes={children:pr.any,className:pr.string};var Ej={exports:{}},Ise=Je,Nse=Pn,MM=sr.f;Ise({target:"Object",stat:!0,forced:Object.defineProperty!==MM,sham:!Nse},{defineProperty:MM});var Rse=Qt,kj=Rse.Object,jse=Ej.exports=function(t,n,r){return kj.defineProperty(t,n,r)};kj.defineProperty.sham&&(jse.sham=!0);var Dse=Ej.exports,Lse=Dse,Pj=Lse,Fse=Pj,Bse=Fse,Use=Bse,Vse=Use,Gse=Vse,Wse=Gse;const Hse=ge(Wse);function Qut(e,t,n){return t in e?Hse(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zse(e){if(cR(e))return Cy(e)}function qse(e){if(typeof aj<"u"&&lj(e)!=null||e["@@iterator"]!=null)return fj(e)}function Yse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ro(e){return zse(e)||qse(e)||hj(e)||Yse()}var uu=function(e){return e&&e.Math==Math&&e},$n=uu(typeof globalThis=="object"&&globalThis)||uu(typeof window=="object"&&window)||uu(typeof self=="object"&&self)||uu(typeof nn=="object"&&nn)||function(){return this}()||Function("return this")(),eS={},or=function(e){try{return!!e()}catch{return!0}},Kse=or,Bo=!Kse(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),Aj={},$j={}.propertyIsEnumerable,Oj=Object.getOwnPropertyDescriptor,Qse=Oj&&!$j.call({1:2},1);Aj.f=Qse?function(t){var n=Oj(this,t);return!!n&&n.enumerable}:$j;var Ij=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},Xse={}.toString,tS=function(e){return Xse.call(e).slice(8,-1)},Zse=or,Jse=tS,eoe="".split,toe=Zse(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return Jse(e)=="String"?eoe.call(e,""):Object(e)}:Object,Np=function(e){if(e==null)throw TypeError("Can't call method on "+e);return e},noe=toe,roe=Np,nS=function(e){return noe(roe(e))},Vn=function(e){return typeof e=="function"},soe=Vn,_l=function(e){return typeof e=="object"?e!==null:soe(e)},yg=$n,ooe=Vn,aoe=function(e){return ooe(e)?e:void 0},Rp=function(e,t){return arguments.length<2?aoe(yg[e]):yg[e]&&yg[e][t]},ioe=Rp,coe=ioe("navigator","userAgent")||"",Nj=$n,bg=coe,EM=Nj.process,kM=Nj.Deno,PM=EM&&EM.versions||kM&&kM.version,AM=PM&&PM.v8,lr,of;AM?(lr=AM.split("."),of=lr[0]<4?1:lr[0]+lr[1]):bg&&(lr=bg.match(/Edge\/(\d+)/),(!lr||lr[1]>=74)&&(lr=bg.match(/Chrome\/(\d+)/),lr&&(of=lr[1])));var loe=of&&+of,$M=loe,uoe=or,Rj=!!Object.getOwnPropertySymbols&&!uoe(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&$M&&$M<41}),doe=Rj,jj=doe&&!Symbol.sham&&typeof Symbol.iterator=="symbol",foe=Vn,hoe=Rp,poe=jj,Dj=poe?function(e){return typeof e=="symbol"}:function(e){var t=hoe("Symbol");return foe(t)&&Object(e)instanceof t},moe=function(e){try{return String(e)}catch{return"Object"}},goe=Vn,voe=moe,yoe=function(e){if(goe(e))return e;throw TypeError(voe(e)+" is not a function")},boe=yoe,Lj=function(e,t){var n=e[t];return n==null?void 0:boe(n)},xg=Vn,wg=_l,xoe=function(e,t){var n,r;if(t==="string"&&xg(n=e.toString)&&!wg(r=n.call(e))||xg(n=e.valueOf)&&!wg(r=n.call(e))||t!=="string"&&xg(n=e.toString)&&!wg(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},Fj={exports:{}},OM=$n,rS=function(e,t){try{Object.defineProperty(OM,e,{value:t,configurable:!0,writable:!0})}catch{OM[e]=t}return t},woe=$n,Soe=rS,IM="__core-js_shared__",_oe=woe[IM]||Soe(IM,{}),sS=_oe,NM=sS;(Fj.exports=function(e,t){return NM[e]||(NM[e]=t!==void 0?t:{})})("versions",[]).push({version:"3.18.3",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"});var oS=Fj.exports,Coe=Np,Bj=function(e){return Object(Coe(e))},Toe=Bj,Moe={}.hasOwnProperty,Uo=Object.hasOwn||function(t,n){return Moe.call(Toe(t),n)},Eoe=0,koe=Math.random(),Uj=function(e){return"Symbol("+String(e===void 0?"":e)+")_"+(++Eoe+koe).toString(36)},Poe=$n,Aoe=oS,RM=Uo,$oe=Uj,jM=Rj,Ooe=jj,Wi=Aoe("wks"),bc=Poe.Symbol,Ioe=Ooe?bc:bc&&bc.withoutSetter||$oe,Cl=function(e){return(!RM(Wi,e)||!(jM||typeof Wi[e]=="string"))&&(jM&&RM(bc,e)?Wi[e]=bc[e]:Wi[e]=Ioe("Symbol."+e)),Wi[e]},DM=_l,LM=Dj,Noe=Lj,Roe=xoe,joe=Cl,Doe=joe("toPrimitive"),Loe=function(e,t){if(!DM(e)||LM(e))return e;var n=Noe(e,Doe),r;if(n){if(t===void 0&&(t="default"),r=n.call(e,t),!DM(r)||LM(r))return r;throw TypeError("Can't convert object to primitive value")}return t===void 0&&(t="number"),Roe(e,t)},Foe=Loe,Boe=Dj,Vj=function(e){var t=Foe(e,"string");return Boe(t)?t:String(t)},Uoe=$n,FM=_l,Ty=Uoe.document,Voe=FM(Ty)&&FM(Ty.createElement),Gj=function(e){return Voe?Ty.createElement(e):{}},Goe=Bo,Woe=or,Hoe=Gj,Wj=!Goe&&!Woe(function(){return Object.defineProperty(Hoe("div"),"a",{get:function(){return 7}}).a!=7}),zoe=Bo,qoe=Aj,Yoe=Ij,Koe=nS,Qoe=Vj,Xoe=Uo,Zoe=Wj,BM=Object.getOwnPropertyDescriptor;eS.f=zoe?BM:function(t,n){if(t=Koe(t),n=Qoe(n),Zoe)try{return BM(t,n)}catch{}if(Xoe(t,n))return Yoe(!qoe.f.call(t,n),t[n])};var Tl={},Joe=_l,Hs=function(e){if(Joe(e))return e;throw TypeError(String(e)+" is not an object")},eae=Bo,tae=Wj,UM=Hs,nae=Vj,VM=Object.defineProperty;Tl.f=eae?VM:function(t,n,r){if(UM(t),n=nae(n),UM(r),tae)try{return VM(t,n,r)}catch{}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[n]=r.value),t};var rae=Bo,sae=Tl,oae=Ij,jp=rae?function(e,t,n){return sae.f(e,t,oae(1,n))}:function(e,t,n){return e[t]=n,e},Hj={exports:{}},aae=Vn,My=sS,iae=Function.toString;aae(My.inspectSource)||(My.inspectSource=function(e){return iae.call(e)});var zj=My.inspectSource,cae=$n,lae=Vn,uae=zj,GM=cae.WeakMap,dae=lae(GM)&&/native code/.test(uae(GM)),fae=oS,hae=Uj,WM=fae("keys"),qj=function(e){return WM[e]||(WM[e]=hae(e))},aS={},pae=dae,mae=$n,gae=_l,vae=jp,Sg=Uo,_g=sS,yae=qj,bae=aS,HM="Object already initialized",xae=mae.WeakMap,af,Rc,cf,wae=function(e){return cf(e)?Rc(e):af(e,{})},Sae=function(e){return function(t){var n;if(!gae(t)||(n=Rc(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}};if(pae||_g.state){var Ks=_g.state||(_g.state=new xae),_ae=Ks.get,zM=Ks.has,Cae=Ks.set;af=function(e,t){if(zM.call(Ks,e))throw new TypeError(HM);return t.facade=e,Cae.call(Ks,e,t),t},Rc=function(e){return _ae.call(Ks,e)||{}},cf=function(e){return zM.call(Ks,e)}}else{var Zo=yae("state");bae[Zo]=!0,af=function(e,t){if(Sg(e,Zo))throw new TypeError(HM);return t.facade=e,vae(e,Zo,t),t},Rc=function(e){return Sg(e,Zo)?e[Zo]:{}},cf=function(e){return Sg(e,Zo)}}var Yj={set:af,get:Rc,has:cf,enforce:wae,getterFor:Sae},Ey=Bo,Tae=Uo,Kj=Function.prototype,Mae=Ey&&Object.getOwnPropertyDescriptor,iS=Tae(Kj,"name"),Eae=iS&&(function(){}).name==="something",kae=iS&&(!Ey||Ey&&Mae(Kj,"name").configurable),cS={EXISTS:iS,PROPER:Eae,CONFIGURABLE:kae},Pae=$n,qM=Vn,Aae=Uo,YM=jp,$ae=rS,Oae=zj,Qj=Yj,Iae=cS.CONFIGURABLE,Nae=Qj.get,Rae=Qj.enforce,jae=String(String).split("String");(Hj.exports=function(e,t,n,r){var s=r?!!r.unsafe:!1,o=r?!!r.enumerable:!1,a=r?!!r.noTargetGet:!1,i=r&&r.name!==void 0?r.name:t,l;if(qM(n)&&(String(i).slice(0,7)==="Symbol("&&(i="["+String(i).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!Aae(n,"name")||Iae&&n.name!==i)&&YM(n,"name",i),l=Rae(n),l.source||(l.source=jae.join(typeof i=="string"?i:""))),e===Pae){o?e[t]=n:$ae(t,n);return}else s?!a&&e[t]&&(o=!0):delete e[t];o?e[t]=n:YM(e,t,n)})(Function.prototype,"toString",function(){return qM(this)&&Nae(this).source||Oae(this)});var Ml=Hj.exports,Xj={},Dae=Math.ceil,Lae=Math.floor,Dp=function(e){var t=+e;return t!==t||t===0?0:(t>0?Lae:Dae)(t)},Fae=Dp,Bae=Math.max,Uae=Math.min,Vae=function(e,t){var n=Fae(e);return n<0?Bae(n+t,0):Uae(n,t)},Gae=Dp,Wae=Math.min,Zj=function(e){return e>0?Wae(Gae(e),9007199254740991):0},Hae=Zj,zae=function(e){return Hae(e.length)},qae=nS,Yae=Vae,Kae=zae,KM=function(e){return function(t,n,r){var s=qae(t),o=Kae(s),a=Yae(r,o),i;if(e&&n!=n){for(;o>a;)if(i=s[a++],i!=i)return!0}else for(;o>a;a++)if((e||a in s)&&s[a]===n)return e||a||0;return!e&&-1}},Qae={includes:KM(!0),indexOf:KM(!1)},Cg=Uo,Xae=nS,Zae=Qae.indexOf,Jae=aS,Jj=function(e,t){var n=Xae(e),r=0,s=[],o;for(o in n)!Cg(Jae,o)&&Cg(n,o)&&s.push(o);for(;t.length>r;)Cg(n,o=t[r++])&&(~Zae(s,o)||s.push(o));return s},lS=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],eie=Jj,tie=lS,nie=tie.concat("length","prototype");Xj.f=Object.getOwnPropertyNames||function(t){return eie(t,nie)};var eD={};eD.f=Object.getOwnPropertySymbols;var rie=Rp,sie=Xj,oie=eD,aie=Hs,iie=rie("Reflect","ownKeys")||function(t){var n=sie.f(aie(t)),r=oie.f;return r?n.concat(r(t)):n},cie=Uo,lie=iie,uie=eS,die=Tl,fie=function(e,t){for(var n=lie(t),r=die.f,s=uie.f,o=0;o<n.length;o++){var a=n[o];cie(e,a)||r(e,a,s(t,a))}},hie=or,pie=Vn,mie=/#|\.prototype\./,El=function(e,t){var n=vie[gie(e)];return n==bie?!0:n==yie?!1:pie(t)?hie(t):!!t},gie=El.normalize=function(e){return String(e).replace(mie,".").toLowerCase()},vie=El.data={},yie=El.NATIVE="N",bie=El.POLYFILL="P",xie=El,Tg=$n,wie=eS.f,Sie=jp,_ie=Ml,Cie=rS,Tie=fie,Mie=xie,Eie=function(e,t){var n=e.target,r=e.global,s=e.stat,o,a,i,l,u,d;if(r?a=Tg:s?a=Tg[n]||Cie(n,{}):a=(Tg[n]||{}).prototype,a)for(i in t){if(u=t[i],e.noTargetGet?(d=wie(a,i),l=d&&d.value):l=a[i],o=Mie(r?i:n+(s?".":"#")+i,e.forced),!o&&l!==void 0){if(typeof u==typeof l)continue;Tie(u,l)}(e.sham||l&&l.sham)&&Sie(u,"sham",!0),_ie(a,i,u,e)}},kie=Cl,Pie=kie("toStringTag"),tD={};tD[Pie]="z";var uS=String(tD)==="[object z]",Aie=uS,$ie=Vn,Hu=tS,Oie=Cl,Iie=Oie("toStringTag"),Nie=Hu(function(){return arguments}())=="Arguments",Rie=function(e,t){try{return e[t]}catch{}},nD=Aie?Hu:function(e){var t,n,r;return e===void 0?"Undefined":e===null?"Null":typeof(n=Rie(t=Object(e),Iie))=="string"?n:Nie?Hu(t):(r=Hu(t))=="Object"&&$ie(t.callee)?"Arguments":r},jie=nD,Lp=function(e){if(jie(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return String(e)},Die=Hs,rD=function(){var e=Die(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},dS={},sD=or,Lie=$n,oD=Lie.RegExp;dS.UNSUPPORTED_Y=sD(function(){var e=oD("a","y");return e.lastIndex=2,e.exec("abcd")!=null});dS.BROKEN_CARET=sD(function(){var e=oD("^r","gy");return e.lastIndex=2,e.exec("str")!=null});var Fie=Jj,Bie=lS,Uie=Object.keys||function(t){return Fie(t,Bie)},Vie=Bo,Gie=Tl,Wie=Hs,Hie=Uie,zie=Vie?Object.defineProperties:function(t,n){Wie(t);for(var r=Hie(n),s=r.length,o=0,a;s>o;)Gie.f(t,a=r[o++],n[a]);return t},qie=Rp,Yie=qie("document","documentElement"),Kie=Hs,Qie=zie,QM=lS,Xie=aS,Zie=Yie,Jie=Gj,ece=qj,XM=">",ZM="<",ky="prototype",Py="script",aD=ece("IE_PROTO"),Mg=function(){},iD=function(e){return ZM+Py+XM+e+ZM+"/"+Py+XM},JM=function(e){e.write(iD("")),e.close();var t=e.parentWindow.Object;return e=null,t},tce=function(){var e=Jie("iframe"),t="java"+Py+":",n;return e.style.display="none",Zie.appendChild(e),e.src=String(t),n=e.contentWindow.document,n.open(),n.write(iD("document.F=Object")),n.close(),n.F},du,zu=function(){try{du=new ActiveXObject("htmlfile")}catch{}zu=typeof document<"u"?document.domain&&du?JM(du):tce():JM(du);for(var e=QM.length;e--;)delete zu[ky][QM[e]];return zu()};Xie[aD]=!0;var nce=Object.create||function(t,n){var r;return t!==null?(Mg[ky]=Kie(t),r=new Mg,Mg[ky]=null,r[aD]=t):r=zu(),n===void 0?r:Qie(r,n)},rce=or,sce=$n,oce=sce.RegExp,ace=rce(function(){var e=oce(".","s");return!(e.dotAll&&e.exec(`
`)&&e.flags==="s")}),ice=or,cce=$n,lce=cce.RegExp,uce=ice(function(){var e=lce("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"}),dce=Lp,fce=rD,eE=dS,hce=oS,pce=nce,mce=Yj.get,gce=ace,vce=uce,lf=RegExp.prototype.exec,yce=hce("native-string-replace",String.prototype.replace),Ay=lf,$y=function(){var e=/a/,t=/b*/g;return lf.call(e,"a"),lf.call(t,"a"),e.lastIndex!==0||t.lastIndex!==0}(),cD=eE.UNSUPPORTED_Y||eE.BROKEN_CARET,Oy=/()??/.exec("")[1]!==void 0,bce=$y||Oy||cD||gce||vce;bce&&(Ay=function(t){var n=this,r=mce(n),s=dce(t),o=r.raw,a,i,l,u,d,f,h;if(o)return o.lastIndex=n.lastIndex,a=Ay.call(o,s),n.lastIndex=o.lastIndex,a;var m=r.groups,g=cD&&n.sticky,v=fce.call(n),y=n.source,x=0,b=s;if(g&&(v=v.replace("y",""),v.indexOf("g")===-1&&(v+="g"),b=s.slice(n.lastIndex),n.lastIndex>0&&(!n.multiline||n.multiline&&s.charAt(n.lastIndex-1)!==`
`)&&(y="(?: "+y+")",b=" "+b,x++),i=new RegExp("^(?:"+y+")",v)),Oy&&(i=new RegExp("^"+y+"$(?!\\s)",v)),$y&&(l=n.lastIndex),u=lf.call(g?i:n,b),g?u?(u.input=u.input.slice(x),u[0]=u[0].slice(x),u.index=n.lastIndex,n.lastIndex+=u[0].length):n.lastIndex=0:$y&&u&&(n.lastIndex=n.global?u.index+u[0].length:l),Oy&&u&&u.length>1&&yce.call(u[0],i,function(){for(d=1;d<arguments.length-2;d++)arguments[d]===void 0&&(u[d]=void 0)}),u&&m)for(u.groups=f=pce(null),d=0;d<m.length;d++)h=m[d],f[h[0]]=u[h[1]];return u});var fS=Ay,xce=Eie,tE=fS;xce({target:"RegExp",proto:!0,forced:/./.exec!==tE},{exec:tE});var nE=Ml,wce=fS,rE=or,lD=Cl,Sce=jp,_ce=lD("species"),Eg=RegExp.prototype,Cce=function(e,t,n,r){var s=lD(e),o=!rE(function(){var u={};return u[s]=function(){return 7},""[e](u)!=7}),a=o&&!rE(function(){var u=!1,d=/a/;return e==="split"&&(d={},d.constructor={},d.constructor[_ce]=function(){return d},d.flags="",d[s]=/./[s]),d.exec=function(){return u=!0,null},d[s](""),!u});if(!o||!a||n){var i=/./[s],l=t(s,""[e],function(u,d,f,h,m){var g=d.exec;return g===wce||g===Eg.exec?o&&!m?{done:!0,value:i.call(d,f,h)}:{done:!0,value:u.call(f,d,h)}:{done:!1}});nE(String.prototype,e,l[0]),nE(Eg,s,l[1])}r&&Sce(Eg[s],"sham",!0)},Tce=Dp,Mce=Lp,Ece=Np,sE=function(e){return function(t,n){var r=Mce(Ece(t)),s=Tce(n),o=r.length,a,i;return s<0||s>=o?e?"":void 0:(a=r.charCodeAt(s),a<55296||a>56319||s+1===o||(i=r.charCodeAt(s+1))<56320||i>57343?e?r.charAt(s):a:e?r.slice(s,s+2):(a-55296<<10)+(i-56320)+65536)}},kce={codeAt:sE(!1),charAt:sE(!0)},Pce=kce.charAt,Ace=function(e,t,n){return t+(n?Pce(e,t).length:1)},$ce=Bj,Oce=Math.floor,Ice="".replace,Nce=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Rce=/\$([$&'`]|\d{1,2})/g,jce=function(e,t,n,r,s,o){var a=n+e.length,i=r.length,l=Rce;return s!==void 0&&(s=$ce(s),l=Nce),Ice.call(o,l,function(u,d){var f;switch(d.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(a);case"<":f=s[d.slice(1,-1)];break;default:var h=+d;if(h===0)return u;if(h>i){var m=Oce(h/10);return m===0?u:m<=i?r[m-1]===void 0?d.charAt(1):r[m-1]+d.charAt(1):u}f=r[h-1]}return f===void 0?"":f})},Dce=Hs,Lce=Vn,Fce=tS,Bce=fS,Uce=function(e,t){var n=e.exec;if(Lce(n)){var r=n.call(e,t);return r!==null&&Dce(r),r}if(Fce(e)==="RegExp")return Bce.call(e,t);throw TypeError("RegExp#exec called on incompatible receiver")},Vce=Cce,Gce=or,Wce=Hs,Hce=Vn,zce=Dp,qce=Zj,Jo=Lp,Yce=Np,Kce=Ace,Qce=Lj,Xce=jce,Zce=Uce,Jce=Cl,Iy=Jce("replace"),ele=Math.max,tle=Math.min,nle=function(e){return e===void 0?e:String(e)},rle=function(){return"a".replace(/./,"$0")==="$0"}(),oE=function(){return/./[Iy]?/./[Iy]("a","$0")==="":!1}(),sle=!Gce(function(){var e=/./;return e.exec=function(){var t=[];return t.groups={a:"7"},t},"".replace(e,"$<a>")!=="7"});Vce("replace",function(e,t,n){var r=oE?"$":"$0";return[function(o,a){var i=Yce(this),l=o==null?void 0:Qce(o,Iy);return l?l.call(o,i,a):t.call(Jo(i),o,a)},function(s,o){var a=Wce(this),i=Jo(s);if(typeof o=="string"&&o.indexOf(r)===-1&&o.indexOf("$<")===-1){var l=n(t,a,i,o);if(l.done)return l.value}var u=Hce(o);u||(o=Jo(o));var d=a.global;if(d){var f=a.unicode;a.lastIndex=0}for(var h=[];;){var m=Zce(a,i);if(m===null||(h.push(m),!d))break;var g=Jo(m[0]);g===""&&(a.lastIndex=Kce(i,qce(a.lastIndex),f))}for(var v="",y=0,x=0;x<h.length;x++){m=h[x];for(var b=Jo(m[0]),w=ele(tle(zce(m.index),i.length),0),_=[],C=1;C<m.length;C++)_.push(nle(m[C]));var T=m.groups;if(u){var M=[b].concat(_,w,i);T!==void 0&&M.push(T);var E=Jo(o.apply(void 0,M))}else E=Xce(b,i,w,_,T,o);w>=y&&(v+=i.slice(y,w)+E,y=w+b.length)}return v+i.slice(y)}]},!sle||!rle||oE);var ole=typeof Bun=="function"&&Bun&&typeof Bun.version=="string",ale=TypeError,ile=function(e,t){if(e<t)throw ale("Not enough arguments");return e},uD=cn,cle=x0,lle=ln,ule=ole,dle=eR,fle=z0,hle=ile,ple=uD.Function,mle=/MSIE .\./.test(dle)||ule&&function(){var e=uD.Bun.version.split(".");return e.length<3||e[0]==="0"&&(e[1]<3||e[1]==="3"&&e[2]==="0")}(),dD=function(e,t){var n=t?2:1;return mle?function(r,s){var o=hle(arguments.length,1)>n,a=lle(r)?r:ple(r),i=o?fle(arguments,n):[],l=o?function(){cle(a,this,i)}:a;return t?e(l,s):e(l)}:e},gle=Je,fD=cn,vle=dD,aE=vle(fD.setInterval,!0);gle({global:!0,bind:!0,forced:fD.setInterval!==aE},{setInterval:aE});var yle=Je,hD=cn,ble=dD,iE=ble(hD.setTimeout,!0);yle({global:!0,bind:!0,forced:hD.setTimeout!==iE},{setTimeout:iE});var xle=Qt,wle=xle.setInterval,Sle=wle;const Xut=ge(Sle);var _le=Vt,pD=function(e,t){var n=[][e];return!!n&&_le(function(){n.call(null,t||function(){return 1},1)})},Cle=Je,Tle=w0,Mle=gR.indexOf,Ele=pD,Ny=Tle([].indexOf),mD=!!Ny&&1/Ny([1],1,-0)<0,kle=mD||!Ele("indexOf");Cle({target:"Array",proto:!0,forced:kle},{indexOf:function(t){var n=arguments.length>1?arguments[1]:void 0;return mD?Ny(this,t,n)||0:Mle(this,t,n)}});var Ple=_i,Ale=Ple("Array").indexOf,$le=Vs,Ole=Ale,kg=Array.prototype,Ile=function(e){var t=e.indexOf;return e===kg||$le(kg,e)&&t===kg.indexOf?Ole:t},Nle=Ile,Rle=Nle,jle=Rle;const Zut=ge(jle);var Dle=Pn,Lle=bi,Fle=TypeError,Ble=Object.getOwnPropertyDescriptor,Ule=Dle&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}(),Vle=Ule?function(e,t){if(Lle(e)&&!Ble(e,"length").writable)throw Fle("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t},cE=yp,Gle=TypeError,Wle=function(e,t){if(!delete e[t])throw Gle("Cannot delete property "+cE(t)+" of "+cE(e))},Hle=Je,zle=Gs,qle=_p,Yle=xp,Kle=Fo,Qle=Vle,Xle=lR,Zle=N0,Jle=xi,Pg=Wle,eue=wp,tue=eue("splice"),nue=Math.max,rue=Math.min;Hle({target:"Array",proto:!0,forced:!tue},{splice:function(t,n){var r=zle(this),s=Kle(r),o=qle(t,s),a=arguments.length,i,l,u,d,f,h;for(a===0?i=l=0:a===1?(i=0,l=s-o):(i=a-2,l=rue(nue(Yle(n),0),s-o)),Xle(s+i-l),u=Zle(r,l),d=0;d<l;d++)f=o+d,f in r&&Jle(u,d,r[f]);if(u.length=l,i<l){for(d=o;d<s-l;d++)f=d+l,h=d+i,f in r?r[h]=r[f]:Pg(r,h);for(d=s;d>s-l+i;d--)Pg(r,d-1)}else if(i>l)for(d=s-l;d>o;d--)f=d+l-1,h=d+i-1,f in r?r[h]=r[f]:Pg(r,h);for(d=0;d<i;d++)r[d+o]=arguments[d+2];return Qle(r,s-l+i),u}});var sue=_i,oue=sue("Array").splice,aue=Vs,iue=oue,Ag=Array.prototype,cue=function(e){var t=e.splice;return e===Ag||aue(Ag,e)&&t===Ag.splice?iue:t},lue=cue,uue=lue,due=uue;const Jut=ge(due);var fue=_i,hue=fue("Array").concat,pue=Vs,mue=hue,$g=Array.prototype,gue=function(e){var t=e.concat;return e===$g||pue($g,e)&&t===$g.concat?mue:t},vue=gue,yue=vue,bue=yue;const jc=ge(bue);var xue=Je,wue=Rt,gD=Date,Sue=wue(gD.prototype.getTime);xue({target:"Date",stat:!0},{now:function(){return Sue(new gD)}});var _ue=Qt,Cue=_ue.Date.now,Tue=Cue,Mue=Tue,Eue=Mue;const Dc=ge(Eue);var kue=B0.forEach,Pue=pD,Aue=Pue("forEach"),$ue=Aue?[].forEach:function(t){return kue(this,t,arguments.length>1?arguments[1]:void 0)},Oue=Je,lE=$ue;Oue({target:"Array",proto:!0,forced:[].forEach!==lE},{forEach:lE});var Iue=_i,Nue=Iue("Array").forEach,Rue=Nue,jue=Rue,Due=wi,Lue=An,Fue=Vs,Bue=jue,Og=Array.prototype,Uue={DOMTokenList:!0,NodeList:!0},Vue=function(e){var t=e.forEach;return e===Og||Fue(Og,e)&&t===Og.forEach||Lue(Uue,Due(e))?Bue:t},Gue=Vue;const Wue=ge(Gue);var Hue=Je,zue=Gs,vD=j0,que=Vt,Yue=que(function(){vD(1)});Hue({target:"Object",stat:!0,forced:Yue},{keys:function(t){return vD(zue(t))}});var Kue=Qt,Que=Kue.Object.keys,Xue=Que,Zue=Xue,Jue=Zue;const edt=ge(Jue);var ede=Qt,tde=ede.Object.getOwnPropertySymbols,nde=tde,rde=nde,sde=rde;const tdt=ge(sde);var ode=Je,ade=B0.filter,ide=wp,cde=ide("filter");ode({target:"Array",proto:!0,forced:!cde},{filter:function(t){return ade(this,t,arguments.length>1?arguments[1]:void 0)}});var lde=_i,ude=lde("Array").filter,dde=Vs,fde=ude,Ig=Array.prototype,hde=function(e){var t=e.filter;return e===Ig||dde(Ig,e)&&t===Ig.filter?fde:t},pde=hde,mde=pde,gde=mde;const ndt=ge(gde);var yD={exports:{}},vde=Je,yde=Vt,bde=Rr,bD=pl.f,xD=Pn,xde=!xD||yde(function(){bD(1)});vde({target:"Object",stat:!0,forced:xde,sham:!xD},{getOwnPropertyDescriptor:function(t,n){return bD(bde(t),n)}});var wde=Qt,wD=wde.Object,Sde=yD.exports=function(t,n){return wD.getOwnPropertyDescriptor(t,n)};wD.getOwnPropertyDescriptor.sham&&(Sde.sham=!0);var _de=yD.exports,Cde=_de,Tde=Cde,Mde=Tde;const rdt=ge(Mde);var Ede=jr,kde=Rt,Pde=Mp,Ade=Ep,$de=Ws,Ode=kde([].concat),Ide=Ede("Reflect","ownKeys")||function(t){var n=Pde.f($de(t)),r=Ade.f;return r?Ode(n,r(t)):n},Nde=Je,Rde=Pn,jde=Ide,Dde=Rr,Lde=pl,Fde=xi;Nde({target:"Object",stat:!0,sham:!Rde},{getOwnPropertyDescriptors:function(t){for(var n=Dde(t),r=Lde.f,s=jde(n),o={},a=0,i,l;s.length>a;)l=r(n,i=s[a++]),l!==void 0&&Fde(o,i,l);return o}});var Bde=Qt,Ude=Bde.Object.getOwnPropertyDescriptors,Vde=Ude,Gde=Vde,Wde=Gde;const sdt=ge(Wde);var SD={exports:{}},Hde=Je,zde=Pn,uE=Sp.f;Hde({target:"Object",stat:!0,forced:Object.defineProperties!==uE,sham:!zde},{defineProperties:uE});var qde=Qt,_D=qde.Object,Yde=SD.exports=function(t,n){return _D.defineProperties(t,n)};_D.defineProperties.sham&&(Yde.sham=!0);var Kde=SD.exports,Qde=Kde,Xde=Qde,Zde=Xde;const odt=ge(Zde);var Jde=Pj;const adt=ge(Jde);function efe(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function tfe(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var nfe=function(){function e(n){var r=this;this._insertTag=function(s){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,o),r.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(tfe(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var o=efe(s);try{o.insertRule(r,o.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),Zt="-ms-",uf="-moz-",je="-webkit-",CD="comm",hS="rule",pS="decl",rfe="@import",TD="@keyframes",sfe="@layer",ofe=Math.abs,Fp=String.fromCharCode,afe=Object.assign;function ife(e,t){return zt(e,0)^45?(((t<<2^zt(e,0))<<2^zt(e,1))<<2^zt(e,2))<<2^zt(e,3):0}function MD(e){return e.trim()}function cfe(e,t){return(e=t.exec(e))?e[0]:e}function De(e,t,n){return e.replace(t,n)}function Ry(e,t){return e.indexOf(t)}function zt(e,t){return e.charCodeAt(t)|0}function Lc(e,t,n){return e.slice(t,n)}function mr(e){return e.length}function mS(e){return e.length}function fu(e,t){return t.push(e),e}function lfe(e,t){return e.map(t).join("")}var Bp=1,za=1,ED=0,Sn=0,Mt=0,Ci="";function Up(e,t,n,r,s,o,a){return{value:e,root:t,parent:n,type:r,props:s,children:o,line:Bp,column:za,length:a,return:""}}function Hi(e,t){return afe(Up("",null,null,"",null,null,0),e,{length:-e.length},t)}function ufe(){return Mt}function dfe(){return Mt=Sn>0?zt(Ci,--Sn):0,za--,Mt===10&&(za=1,Bp--),Mt}function kn(){return Mt=Sn<ED?zt(Ci,Sn++):0,za++,Mt===10&&(za=1,Bp++),Mt}function Mr(){return zt(Ci,Sn)}function qu(){return Sn}function kl(e,t){return Lc(Ci,e,t)}function Fc(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function kD(e){return Bp=za=1,ED=mr(Ci=e),Sn=0,[]}function PD(e){return Ci="",e}function Yu(e){return MD(kl(Sn-1,jy(e===91?e+2:e===40?e+1:e)))}function ffe(e){for(;(Mt=Mr())&&Mt<33;)kn();return Fc(e)>2||Fc(Mt)>3?"":" "}function hfe(e,t){for(;--t&&kn()&&!(Mt<48||Mt>102||Mt>57&&Mt<65||Mt>70&&Mt<97););return kl(e,qu()+(t<6&&Mr()==32&&kn()==32))}function jy(e){for(;kn();)switch(Mt){case e:return Sn;case 34:case 39:e!==34&&e!==39&&jy(Mt);break;case 40:e===41&&jy(e);break;case 92:kn();break}return Sn}function pfe(e,t){for(;kn()&&e+Mt!==57;)if(e+Mt===84&&Mr()===47)break;return"/*"+kl(t,Sn-1)+"*"+Fp(e===47?e:kn())}function mfe(e){for(;!Fc(Mr());)kn();return kl(e,Sn)}function gfe(e){return PD(Ku("",null,null,null,[""],e=kD(e),0,[0],e))}function Ku(e,t,n,r,s,o,a,i,l){for(var u=0,d=0,f=a,h=0,m=0,g=0,v=1,y=1,x=1,b=0,w="",_=s,C=o,T=r,M=w;y;)switch(g=b,b=kn()){case 40:if(g!=108&&zt(M,f-1)==58){Ry(M+=De(Yu(b),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:M+=Yu(b);break;case 9:case 10:case 13:case 32:M+=ffe(g);break;case 92:M+=hfe(qu()-1,7);continue;case 47:switch(Mr()){case 42:case 47:fu(vfe(pfe(kn(),qu()),t,n),l);break;default:M+="/"}break;case 123*v:i[u++]=mr(M)*x;case 125*v:case 59:case 0:switch(b){case 0:case 125:y=0;case 59+d:x==-1&&(M=De(M,/\f/g,"")),m>0&&mr(M)-f&&fu(m>32?fE(M+";",r,n,f-1):fE(De(M," ","")+";",r,n,f-2),l);break;case 59:M+=";";default:if(fu(T=dE(M,t,n,u,d,s,i,w,_=[],C=[],f),o),b===123)if(d===0)Ku(M,t,T,T,_,o,f,i,C);else switch(h===99&&zt(M,3)===110?100:h){case 100:case 108:case 109:case 115:Ku(e,T,T,r&&fu(dE(e,T,T,0,0,s,i,w,s,_=[],f),C),s,C,f,i,r?_:C);break;default:Ku(M,T,T,T,[""],C,0,i,C)}}u=d=m=0,v=x=1,w=M="",f=a;break;case 58:f=1+mr(M),m=g;default:if(v<1){if(b==123)--v;else if(b==125&&v++==0&&dfe()==125)continue}switch(M+=Fp(b),b*v){case 38:x=d>0?1:(M+="\f",-1);break;case 44:i[u++]=(mr(M)-1)*x,x=1;break;case 64:Mr()===45&&(M+=Yu(kn())),h=Mr(),d=f=mr(w=M+=mfe(qu())),b++;break;case 45:g===45&&mr(M)==2&&(v=0)}}return o}function dE(e,t,n,r,s,o,a,i,l,u,d){for(var f=s-1,h=s===0?o:[""],m=mS(h),g=0,v=0,y=0;g<r;++g)for(var x=0,b=Lc(e,f+1,f=ofe(v=a[g])),w=e;x<m;++x)(w=MD(v>0?h[x]+" "+b:De(b,/&\f/g,h[x])))&&(l[y++]=w);return Up(e,t,n,s===0?hS:i,l,u,d)}function vfe(e,t,n){return Up(e,t,n,CD,Fp(ufe()),Lc(e,2,-2),0)}function fE(e,t,n,r){return Up(e,t,n,pS,Lc(e,0,r),Lc(e,r+1,-1),r)}function Ea(e,t){for(var n="",r=mS(e),s=0;s<r;s++)n+=t(e[s],s,e,t)||"";return n}function yfe(e,t,n,r){switch(e.type){case sfe:if(e.children.length)break;case rfe:case pS:return e.return=e.return||e.value;case CD:return"";case TD:return e.return=e.value+"{"+Ea(e.children,r)+"}";case hS:e.value=e.props.join(",")}return mr(n=Ea(e.children,r))?e.return=e.value+"{"+n+"}":""}function bfe(e){var t=mS(e);return function(n,r,s,o){for(var a="",i=0;i<t;i++)a+=e[i](n,r,s,o)||"";return a}}function xfe(e){return function(t){t.root||(t=t.return)&&e(t)}}function wfe(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var Sfe=function(t,n,r){for(var s=0,o=0;s=o,o=Mr(),s===38&&o===12&&(n[r]=1),!Fc(o);)kn();return kl(t,Sn)},_fe=function(t,n){var r=-1,s=44;do switch(Fc(s)){case 0:s===38&&Mr()===12&&(n[r]=1),t[r]+=Sfe(Sn-1,n,r);break;case 2:t[r]+=Yu(s);break;case 4:if(s===44){t[++r]=Mr()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=Fp(s)}while(s=kn());return t},Cfe=function(t,n){return PD(_fe(kD(t),n))},hE=new WeakMap,Tfe=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,s=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!hE.get(r))&&!s){hE.set(t,!0);for(var o=[],a=Cfe(n,o),i=r.props,l=0,u=0;l<a.length;l++)for(var d=0;d<i.length;d++,u++)t.props[u]=o[l]?a[l].replace(/&\f/g,i[d]):i[d]+" "+a[l]}}},Mfe=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function AD(e,t){switch(ife(e,t)){case 5103:return je+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return je+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return je+e+uf+e+Zt+e+e;case 6828:case 4268:return je+e+Zt+e+e;case 6165:return je+e+Zt+"flex-"+e+e;case 5187:return je+e+De(e,/(\w+).+(:[^]+)/,je+"box-$1$2"+Zt+"flex-$1$2")+e;case 5443:return je+e+Zt+"flex-item-"+De(e,/flex-|-self/,"")+e;case 4675:return je+e+Zt+"flex-line-pack"+De(e,/align-content|flex-|-self/,"")+e;case 5548:return je+e+Zt+De(e,"shrink","negative")+e;case 5292:return je+e+Zt+De(e,"basis","preferred-size")+e;case 6060:return je+"box-"+De(e,"-grow","")+je+e+Zt+De(e,"grow","positive")+e;case 4554:return je+De(e,/([^-])(transform)/g,"$1"+je+"$2")+e;case 6187:return De(De(De(e,/(zoom-|grab)/,je+"$1"),/(image-set)/,je+"$1"),e,"")+e;case 5495:case 3959:return De(e,/(image-set\([^]*)/,je+"$1$`$1");case 4968:return De(De(e,/(.+:)(flex-)?(.*)/,je+"box-pack:$3"+Zt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+je+e+e;case 4095:case 3583:case 4068:case 2532:return De(e,/(.+)-inline(.+)/,je+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(mr(e)-1-t>6)switch(zt(e,t+1)){case 109:if(zt(e,t+4)!==45)break;case 102:return De(e,/(.+:)(.+)-([^]+)/,"$1"+je+"$2-$3$1"+uf+(zt(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Ry(e,"stretch")?AD(De(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(zt(e,t+1)!==115)break;case 6444:switch(zt(e,mr(e)-3-(~Ry(e,"!important")&&10))){case 107:return De(e,":",":"+je)+e;case 101:return De(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+je+(zt(e,14)===45?"inline-":"")+"box$3$1"+je+"$2$3$1"+Zt+"$2box$3")+e}break;case 5936:switch(zt(e,t+11)){case 114:return je+e+Zt+De(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return je+e+Zt+De(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return je+e+Zt+De(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return je+e+Zt+e+e}return e}var Efe=function(t,n,r,s){if(t.length>-1&&!t.return)switch(t.type){case pS:t.return=AD(t.value,t.length);break;case TD:return Ea([Hi(t,{value:De(t.value,"@","@"+je)})],s);case hS:if(t.length)return lfe(t.props,function(o){switch(cfe(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ea([Hi(t,{props:[De(o,/:(read-\w+)/,":"+uf+"$1")]})],s);case"::placeholder":return Ea([Hi(t,{props:[De(o,/:(plac\w+)/,":"+je+"input-$1")]}),Hi(t,{props:[De(o,/:(plac\w+)/,":"+uf+"$1")]}),Hi(t,{props:[De(o,/:(plac\w+)/,Zt+"input-$1")]})],s)}return""})}},kfe=[Efe],Pfe=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var y=v.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var s=t.stylisPlugins||kfe,o={},a,i=[];a=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(v){for(var y=v.getAttribute("data-emotion").split(" "),x=1;x<y.length;x++)o[y[x]]=!0;i.push(v)});var l,u=[Tfe,Mfe];{var d,f=[yfe,xfe(function(v){d.insert(v)})],h=bfe(u.concat(s,f)),m=function(y){return Ea(gfe(y),h)};l=function(y,x,b,w){d=b,m(y?y+"{"+x.styles+"}":x.styles),w&&(g.inserted[x.name]=!0)}}var g={key:n,sheet:new nfe({key:n,container:a,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:l};return g.sheet.hydrate(i),g};function Afe(e){for(var t=0,n,r=0,s=e.length;s>=4;++r,s-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(s){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var $fe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ofe=/[A-Z]|^ms/g,Ife=/_EMO_([^_]+?)_([^]*?)_EMO_/g,$D=function(t){return t.charCodeAt(1)===45},pE=function(t){return t!=null&&typeof t!="boolean"},Ng=wfe(function(e){return $D(e)?e:e.replace(Ofe,"-$&").toLowerCase()}),mE=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(Ife,function(r,s,o){return gr={name:s,styles:o,next:gr},s})}return $fe[t]!==1&&!$D(t)&&typeof n=="number"&&n!==0?n+"px":n};function Bc(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return gr={name:n.name,styles:n.styles,next:gr},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)gr={name:r.name,styles:r.styles,next:gr},r=r.next;var s=n.styles+";";return s}return Nfe(e,t,n)}case"function":{if(e!==void 0){var o=gr,a=n(e);return gr=o,Bc(e,t,a)}break}}if(t==null)return n;var i=t[n];return i!==void 0?i:n}function Nfe(e,t,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=Bc(e,t,n[s])+";";else for(var o in n){var a=n[o];if(typeof a!="object")t!=null&&t[a]!==void 0?r+=o+"{"+t[a]+"}":pE(a)&&(r+=Ng(o)+":"+mE(o,a)+";");else if(Array.isArray(a)&&typeof a[0]=="string"&&(t==null||t[a[0]]===void 0))for(var i=0;i<a.length;i++)pE(a[i])&&(r+=Ng(o)+":"+mE(o,a[i])+";");else{var l=Bc(e,t,a);switch(o){case"animation":case"animationName":{r+=Ng(o)+":"+l+";";break}default:r+=o+"{"+l+"}"}}}return r}var gE=/label:\s*([^\s;\n{]+)\s*(;|$)/g,gr,Rg=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var s=!0,o="";gr=void 0;var a=t[0];a==null||a.raw===void 0?(s=!1,o+=Bc(r,n,a)):o+=a[0];for(var i=1;i<t.length;i++)o+=Bc(r,n,t[i]),s&&(o+=a[i]);gE.lastIndex=0;for(var l="",u;(u=gE.exec(o))!==null;)l+="-"+u[1];var d=Afe(o)+l;return{name:d,styles:o,next:gr}},Rfe=!0;function OD(e,t,n){var r="";return n.split(" ").forEach(function(s){e[s]!==void 0?t.push(e[s]+";"):r+=s+" "}),r}var jfe=function(t,n,r){var s=t.key+"-"+n.name;(r===!1||Rfe===!1)&&t.registered[s]===void 0&&(t.registered[s]=n.styles)},Dfe=function(t,n,r){jfe(t,n,r);var s=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var o=n;do t.insert(n===o?"."+s:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function vE(e,t){if(e.inserted[t.name]===void 0)return e.insert("",t,e.sheet,!0)}function yE(e,t,n){var r=[],s=OD(e,r,n);return r.length<2?n:s+t(r)}var idt=function(t){var n=Pfe(t);n.sheet.speedy=function(i){this.isSpeedy=i},n.compat=!0;var r=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var f=Rg(u,n.registered,void 0);return Dfe(n,f,!1),n.key+"-"+f.name},s=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var f=Rg(u,n.registered),h="animation-"+f.name;return vE(n,{name:f.name,styles:"@keyframes "+h+"{"+f.styles+"}"}),h},o=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var f=Rg(u,n.registered);vE(n,f)},a=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];return yE(n.registered,r,Lfe(u))};return{css:r,cx:a,injectGlobal:o,keyframes:s,hydrate:function(l){l.forEach(function(u){n.inserted[u]=!0})},flush:function(){n.registered={},n.inserted={},n.sheet.flush()},sheet:n.sheet,cache:n,getRegisteredStyles:OD.bind(null,n.registered),merge:yE.bind(null,n.registered,r)}},Lfe=function e(t){for(var n="",r=0;r<t.length;r++){var s=t[r];if(s!=null){var o=void 0;switch(typeof s){case"boolean":break;case"object":{if(Array.isArray(s))o=e(s);else{o="";for(var a in s)s[a]&&a&&(o&&(o+=" "),o+=a)}break}default:o=s}o&&(n&&(n+=" "),n+=o)}}return n},Ffe=Ml,gS=Date.prototype,bE="Invalid Date",ID="toString",Bfe=gS[ID],Ufe=gS.getTime;String(new Date(NaN))!=bE&&Ffe(gS,ID,function(){var t=Ufe.call(this);return t===t?Bfe.call(this):bE});var Vfe=uS,Gfe=nD,Wfe=Vfe?{}.toString:function(){return"[object "+Gfe(this)+"]"},Hfe=uS,zfe=Ml,qfe=Wfe;Hfe||zfe(Object.prototype,"toString",qfe,{unsafe:!0});var Yfe=cS.PROPER,Kfe=Ml,Qfe=Hs,xE=Lp,Xfe=or,Zfe=rD,vS="toString",ND=RegExp.prototype,RD=ND[vS],Jfe=Xfe(function(){return RD.call({source:"a",flags:"b"})!="/a/b"}),ehe=Yfe&&RD.name!=vS;(Jfe||ehe)&&Kfe(RegExp.prototype,vS,function(){var t=Qfe(this),n=xE(t.source),r=t.flags,s=xE(r===void 0&&t instanceof RegExp&&!("flags"in ND)?Zfe.call(t):r);return"/"+n+"/"+s},{unsafe:!0});var wE=typeof window<"u"?window:self,the=wE.crypto||wE.msCrypto,nhe=function(e){if(!e)return Math.random;var t=Math.pow(2,32),n=new Uint32Array(1);return function(){return e.getRandomValues(n)[0]/t}}(the);const rhe=ge(nhe);function cdt(){return rhe().toString(26).substr(2,5).replace(/[0-9]/g,function(e){return String.fromCharCode(e.charCodeAt(0)+65)})}var she=iR;const Dy=ge(she);function ohe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"white",n="background-color: ".concat(e,"; border-radius: 4px; padding: 2px 4px;");return t&&(n+=" color: ".concat(t,";")),[n,""]}function SE(e,t){for(var n,r,s=arguments.length,o=new Array(s>2?s-2:0),a=2;a<s;a++)o[a-2]=arguments[a];return jc(n=[jc(r="%c".concat(e,"%c ")).call(r,t)]).call(n,ro(ohe("green","white")),o)}function ldt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.force,r=n===void 0?!1:n;return r?function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];if(o.length){var i=o,l=X0(i,1),u=l[0];typeof u=="function"&&(o=u());var d=Dy(o[0])?o:[o],f=d.length===1;Wue(d).call(d,function(h,m){if(f){var g,v;(g=console).log.apply(g,ro(SE.apply(void 0,jc(v=[e]).call(v,ro(h)))))}else if(m){var y;(y=console).log.apply(y,ro(Dy(h)?h:[h]))}else{var x,b;(x=console).groupCollapsed.apply(x,ro(SE.apply(void 0,jc(b=[e]).call(b,ro(h)))))}}),f||console.groupEnd()}}:function(){return 0}}var ahe=Bo,ihe=cS.EXISTS,che=Tl.f,jD=Function.prototype,lhe=jD.toString,uhe=/^\s*function ([^ (]*)/,dhe="name";ahe&&!ihe&&che(jD,dhe,{configurable:!0,get:function(){try{return lhe.call(this).match(uhe)[1]}catch{return""}}});var fhe=Qt,hhe=fhe.setTimeout,phe=hhe;const mhe=ge(phe);function ghe(e,t){if(!t)return e;var n=0,r=null;return function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];var i=Dc();i-n>t?(e.apply(void 0,o),n=i):(clearTimeout(r),r=mhe(function(){e.apply(void 0,o),n=Dc()},Math.max(0,t-i+n)))}}var vhe=function(t){var n=t.debounce,r=t.name,s=t.onEvent,o=t.target,a=p.useRef();a.current=s;var i=p.useMemo(function(){return ghe(function(u){var d=a.current;d&&d(u)},n)},[n,a]),l=p.useCallback(function(u){u.timeStampLow=Dc(),i(u)},[i]);return p.useLayoutEffect(function(){return o.addEventListener(r,l,{passive:!0}),l({target:o,type:r}),function(){return o.removeEventListener(r,l)}},[r,l,o]),!1};vhe.defaultProps={debounce:200};var yhe=Math.sign||function(t){var n=+t;return n===0||n!==n?n:n<0?-1:1},bhe=Je,xhe=yhe;bhe({target:"Math",stat:!0},{sign:xhe});var whe=Qt,She=whe.Math.sign,_he=She,Che=_he,The=Che;const Mhe=ge(The);function Ehe(e,t){var n=Mhe(t-e),r=Math.sqrt(Math.abs(t-e)),s=e+r*n;return n>0?Math.min(t,s):Math.max(t,s)}function khe(e,t,n,r){for(var s=e,o=0;o<r;o++)s=n(s,t);return s}var Phe=function(t){var n=t.name,r=t.onEnd,s=t.target,o=t.value,a=p.useRef(),i=p.useCallback(function(u,d,f,h){var m=arguments.length>4&&arguments[4]!==void 0?arguments[4]:Dc();(f==="100%"||typeof f=="number")&&(cancelAnimationFrame(a.current),a.current=requestAnimationFrame(function(){if(s){var g=f==="100%"?s.scrollHeight-s.offsetHeight:f,v=khe(d,g,Ehe,(Dc()-m)/5);Math.abs(g-v)<1.5&&(v=g),s[u]=v,g===v?r&&r(!0):i(u,d,f,h+1,m)}}))},[a,r,s]),l=p.useCallback(function(){cancelAnimationFrame(a.current),r&&r(!1)},[r]);return p.useLayoutEffect(function(){return i(n,s[n],o,1),s?(s.addEventListener("pointerdown",l,{passive:!0}),s.addEventListener("wheel",l,{passive:!0}),function(){s.removeEventListener("pointerdown",l),s.removeEventListener("wheel",l),cancelAnimationFrame(a.current)}):function(){return cancelAnimationFrame(a.current)}},[i,a,l,n,s,o]),!1};Phe.propTypes={name:pr.string.isRequired,onEnd:pr.func,target:pr.any.isRequired,value:pr.oneOfType([pr.number,pr.oneOf(["100%"])]).isRequired};function udt(e){var t=p.useState(e),n=X0(t,2),r=n[0],s=n[1],o=p.useRef(),a=p.useCallback(function(i){typeof i=="function"?a(function(l){return i=i(l),o.current=i,i}):(o.current=i,a(i))},[o]);return o.current=r,[r,s,o]}var Ahe={height:"100%",overflowY:"auto",width:"100%"},DD=function(t){var n=t.children,r=t.className,s=p.useContext(J0),o=s.setTarget,a=Tj()(Ahe);return X.createElement("div",{className:mj(a,(r||"")+""),ref:o},n)};DD.defaultProps={children:void 0,className:void 0};DD.propTypes={children:pr.any,className:pr.string};function ddt(){var e=_j(1),t=e.atTop;return[t]}function fdt(e){var t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];e&&typeof e!="function"?console.error('react-scroll-to-bottom: First argument passed to "useObserveScrollPosition" must be a function.'):Dy(n)||console.error('react-scroll-to-bottom: Second argument passed to "useObserveScrollPosition" must be an array if specified.');var r=Cj(),s=r.observeScrollPosition;p.useEffect(function(){return e&&s(e)},jc(t=[]).call(t,ro(n),[!e,s]))}function hdt(){var e=Z0(),t=e.scrollToBottom;return t}function pdt(){var e=Z0(),t=e.scrollToTop;return t}var To={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},df={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},$he=typeof navigator<"u"&&/Mac/.test(navigator.platform),Ohe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var qt=0;qt<10;qt++)To[48+qt]=To[96+qt]=String(qt);for(var qt=1;qt<=24;qt++)To[qt+111]="F"+qt;for(var qt=65;qt<=90;qt++)To[qt]=String.fromCharCode(qt+32),df[qt]=String.fromCharCode(qt);for(var jg in To)df.hasOwnProperty(jg)||(df[jg]=To[jg]);function mdt(e){var t=$he&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||Ohe&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?df:To)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}var LD=(e=>(e.ACCELERATOR="accelerator",e.BLOCK_COMMENT_LAUNCHER="block_comment_launcher",e.CLOSE_TEXTDOC="close_textdoc",e.COLLAPSED_COMMENT="collapsed_comment",e.COMMENT_ACCEPT="comment_accept",e.COMMENT_DISMISS="comment_dismiss",e.COPY="copy",e.DOWNLOAD="download",e.EXPANDED_COMMENT="expanded_comment",e.FILE_DRAWER_ITEM="file_drawer_item",e.HISTORY_NEXT="history_next",e.HISTORY_PREVIOUS="history_previous",e.MESSAGE_ATTACHMENT="message_attachment",e.SHOW_CHANGES="show_changes",e.TOOLBAR_FORMAT_BOLD="toolbar_format_bold",e.TOOLBAR_FORMAT_HEADER1="toolbar_format_header1",e.TOOLBAR_FORMAT_HEADER2="toolbar_format_header2",e.TOOLBAR_FORMAT_HEADER3="toolbar_format_header3",e.TOOLBAR_FORMAT_ITALIC="toolbar_format_italic",e.TOOLBAR_FORMAT_PARAGRAPH="toolbar_format_paragraph",e.TOOLBAR_ASK_CHATGPT="toolbar_ask_chatgpt",e))(LD||{});function tt(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function te(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Qu(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qu=function(n){return typeof n}:Qu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Qu(e)}function oe(e){te(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Qu(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function FD(e,t){te(2,arguments);var n=oe(e),r=tt(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function BD(e,t){te(2,arguments);var n=oe(e),r=tt(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var s=n.getDate(),o=new Date(n.getTime());o.setMonth(n.getMonth()+r+1,0);var a=o.getDate();return s>=a?o:(n.setFullYear(o.getFullYear(),o.getMonth(),s),n)}function Vp(e,t){te(2,arguments);var n=oe(e).getTime(),r=tt(t);return new Date(n+r)}var Ihe=36e5;function gdt(e,t){te(2,arguments);var n=tt(t);return Vp(e,n*Ihe)}var Nhe={};function ss(){return Nhe}function vdt(e,t){var n,r,s,o,a,i,l,u;te(1,arguments);var d=ss(),f=tt((n=(r=(s=(o=t?.weekStartsOn)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(i=a.options)===null||i===void 0?void 0:i.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=oe(e),m=h.getDay(),g=(m<f?7:0)+m-f;return h.setDate(h.getDate()-g),h.setHours(0,0,0,0),h}function qa(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function ff(e){te(1,arguments);var t=oe(e);return t.setHours(0,0,0,0),t}var Rhe=864e5;function yS(e,t){te(2,arguments);var n=ff(e),r=ff(t),s=n.getTime()-qa(n),o=r.getTime()-qa(r);return Math.round((s-o)/Rhe)}var jhe=6e4;function ydt(e,t){te(2,arguments);var n=tt(t);return Vp(e,n*jhe)}function bdt(e,t){te(2,arguments);var n=tt(t),r=n*3;return BD(e,r)}function xdt(e,t){te(2,arguments);var n=tt(t);return Vp(e,n*1e3)}function wdt(e,t){te(2,arguments);var n=tt(t),r=n*7;return FD(e,r)}function Sdt(e,t){te(2,arguments);var n=tt(t);return BD(e,n*12)}function ka(e,t){te(2,arguments);var n=oe(e),r=oe(t),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}var Gp=6e4,Wp=36e5,Dhe=1e3;function UD(e,t){te(2,arguments);var n=ff(e),r=ff(t);return n.getTime()===r.getTime()}function Xu(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xu=function(n){return typeof n}:Xu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Xu(e)}function Lhe(e){return te(1,arguments),e instanceof Date||Xu(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Fhe(e){if(te(1,arguments),!Lhe(e)&&typeof e!="number")return!1;var t=oe(e);return!isNaN(Number(t))}function Bhe(e,t){te(2,arguments);var n=oe(e),r=oe(t),s=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return s*12+o}function Uhe(e,t){te(2,arguments);var n=oe(e),r=oe(t);return n.getFullYear()-r.getFullYear()}function _E(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function Vhe(e,t){te(2,arguments);var n=oe(e),r=oe(t),s=_E(n,r),o=Math.abs(yS(n,r));n.setDate(n.getDate()-s*o);var a=+(_E(n,r)===-s),i=s*(o-a);return i===0?0:i}function Hp(e,t){return te(2,arguments),oe(e).getTime()-oe(t).getTime()}var CE={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},Ghe="trunc";function Pl(e){return e?CE[e]:CE[Ghe]}function _dt(e,t,n){te(2,arguments);var r=Hp(e,t)/Wp;return Pl(void 0)(r)}function VD(e,t,n){te(2,arguments);var r=Hp(e,t)/Gp;return Pl(void 0)(r)}function GD(e){te(1,arguments);var t=oe(e);return t.setHours(23,59,59,999),t}function Whe(e){te(1,arguments);var t=oe(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Hhe(e){te(1,arguments);var t=oe(e);return GD(t).getTime()===Whe(t).getTime()}function WD(e,t){te(2,arguments);var n=oe(e),r=oe(t),s=ka(n,r),o=Math.abs(Bhe(n,r)),a;if(o<1)a=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*o);var i=ka(n,r)===-s;Hhe(oe(e))&&o===1&&ka(e,r)===1&&(i=!1),a=s*(o-Number(i))}return a===0?0:a}function Cdt(e,t,n){te(2,arguments);var r=WD(e,t)/3;return Pl(void 0)(r)}function zhe(e,t,n){te(2,arguments);var r=Hp(e,t)/1e3;return Pl(void 0)(r)}function Tdt(e,t,n){te(2,arguments);var r=Vhe(e,t)/7;return Pl(void 0)(r)}function Mdt(e,t){te(2,arguments);var n=oe(e),r=oe(t),s=ka(n,r),o=Math.abs(Uhe(n,r));n.setFullYear(1584),r.setFullYear(1584);var a=ka(n,r)===-s,i=s*(o-Number(a));return i===0?0:i}function Edt(e){te(1,arguments);var t=oe(e);return t.setSeconds(0,0),t}function kdt(e){te(1,arguments);var t=oe(e),n=t.getMonth(),r=n-n%3;return t.setMonth(r,1),t.setHours(0,0,0,0),t}function Pdt(e){te(1,arguments);var t=oe(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Adt(e){te(1,arguments);var t=oe(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function $dt(e){te(1,arguments);var t=oe(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Odt(e){te(1,arguments);var t=oe(e);return t.setMinutes(59,59,999),t}function Idt(e,t){var n,r,s,o,a,i;te(1,arguments);var l=ss(),u=tt((n=(r=(s=(o=void 0)!==null&&o!==void 0?o:void 0)!==null&&s!==void 0?s:l.weekStartsOn)!==null&&r!==void 0?r:(a=l.locale)===null||a===void 0||(i=a.options)===null||i===void 0?void 0:i.weekStartsOn)!==null&&n!==void 0?n:0);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=oe(e),f=d.getDay(),h=(f<u?-7:0)+6-(f-u);return d.setDate(d.getDate()+h),d.setHours(23,59,59,999),d}function Ndt(e){te(1,arguments);var t=oe(e);return t.setSeconds(59,999),t}function Rdt(e){te(1,arguments);var t=oe(e),n=t.getMonth(),r=n-n%3+3;return t.setMonth(r,0),t.setHours(23,59,59,999),t}function jdt(e){te(1,arguments);var t=oe(e);return t.setMilliseconds(999),t}function qhe(){return GD(Date.now())}function HD(e,t){te(2,arguments);var n=tt(t);return Vp(e,-n)}var Yhe=864e5;function Khe(e){te(1,arguments);var t=oe(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),s=n-r;return Math.floor(s/Yhe)+1}function Ya(e){te(1,arguments);var t=1,n=oe(e),r=n.getUTCDay(),s=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function zD(e){te(1,arguments);var t=oe(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=Ya(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var a=Ya(o);return t.getTime()>=s.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function Qhe(e){te(1,arguments);var t=zD(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=Ya(n);return r}var Xhe=6048e5;function qD(e){te(1,arguments);var t=oe(e),n=Ya(t).getTime()-Qhe(t).getTime();return Math.round(n/Xhe)+1}function Mo(e,t){var n,r,s,o,a,i,l,u;te(1,arguments);var d=ss(),f=tt((n=(r=(s=(o=t?.weekStartsOn)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(i=a.options)===null||i===void 0?void 0:i.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=oe(e),m=h.getUTCDay(),g=(m<f?7:0)+m-f;return h.setUTCDate(h.getUTCDate()-g),h.setUTCHours(0,0,0,0),h}function bS(e,t){var n,r,s,o,a,i,l,u;te(1,arguments);var d=oe(e),f=d.getUTCFullYear(),h=ss(),m=tt((n=(r=(s=(o=t?.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(i=a.options)===null||i===void 0?void 0:i.firstWeekContainsDate)!==null&&s!==void 0?s:h.firstWeekContainsDate)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(f+1,0,m),g.setUTCHours(0,0,0,0);var v=Mo(g,t),y=new Date(0);y.setUTCFullYear(f,0,m),y.setUTCHours(0,0,0,0);var x=Mo(y,t);return d.getTime()>=v.getTime()?f+1:d.getTime()>=x.getTime()?f:f-1}function Zhe(e,t){var n,r,s,o,a,i,l,u;te(1,arguments);var d=ss(),f=tt((n=(r=(s=(o=t?.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(i=a.options)===null||i===void 0?void 0:i.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=bS(e,t),m=new Date(0);m.setUTCFullYear(h,0,f),m.setUTCHours(0,0,0,0);var g=Mo(m,t);return g}var Jhe=6048e5;function YD(e,t){te(1,arguments);var n=oe(e),r=Mo(n,t).getTime()-Zhe(n,t).getTime();return Math.round(r/Jhe)+1}function Ve(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var ds={y:function(t,n){var r=t.getUTCFullYear(),s=r>0?r:1-r;return Ve(n==="yy"?s%100:s,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):Ve(r+1,2)},d:function(t,n){return Ve(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return Ve(t.getUTCHours()%12||12,n.length)},H:function(t,n){return Ve(t.getUTCHours(),n.length)},m:function(t,n){return Ve(t.getUTCMinutes(),n.length)},s:function(t,n){return Ve(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,s=t.getUTCMilliseconds(),o=Math.floor(s*Math.pow(10,r-3));return Ve(o,n.length)}},ea={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},epe={G:function(t,n,r){var s=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var s=t.getUTCFullYear(),o=s>0?s:1-s;return r.ordinalNumber(o,{unit:"year"})}return ds.y(t,n)},Y:function(t,n,r,s){var o=bS(t,s),a=o>0?o:1-o;if(n==="YY"){var i=a%100;return Ve(i,2)}return n==="Yo"?r.ordinalNumber(a,{unit:"year"}):Ve(a,n.length)},R:function(t,n){var r=zD(t);return Ve(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return Ve(r,n.length)},Q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return Ve(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return Ve(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,n,r){var s=t.getUTCMonth();switch(n){case"M":case"MM":return ds.M(t,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(t,n,r){var s=t.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return Ve(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(t,n,r,s){var o=YD(t,s);return n==="wo"?r.ordinalNumber(o,{unit:"week"}):Ve(o,n.length)},I:function(t,n,r){var s=qD(t);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):Ve(s,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):ds.d(t,n)},D:function(t,n,r){var s=Khe(t);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):Ve(s,n.length)},E:function(t,n,r){var s=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(t,n,r,s){var o=t.getUTCDay(),a=(o-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(a);case"ee":return Ve(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(t,n,r,s){var o=t.getUTCDay(),a=(o-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(a);case"cc":return Ve(a,n.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(t,n,r){var s=t.getUTCDay(),o=s===0?7:s;switch(n){case"i":return String(o);case"ii":return Ve(o,n.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(t,n,r){var s=t.getUTCHours(),o=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,n,r){var s=t.getUTCHours(),o;switch(s===12?o=ea.noon:s===0?o=ea.midnight:o=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,n,r){var s=t.getUTCHours(),o;switch(s>=17?o=ea.evening:s>=12?o=ea.afternoon:s>=4?o=ea.morning:o=ea.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var s=t.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return ds.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):ds.H(t,n)},K:function(t,n,r){var s=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):Ve(s,n.length)},k:function(t,n,r){var s=t.getUTCHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):Ve(s,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):ds.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):ds.s(t,n)},S:function(t,n){return ds.S(t,n)},X:function(t,n,r,s){var o=s._originalDate||t,a=o.getTimezoneOffset();if(a===0)return"Z";switch(n){case"X":return ME(a);case"XXXX":case"XX":return Zs(a);case"XXXXX":case"XXX":default:return Zs(a,":")}},x:function(t,n,r,s){var o=s._originalDate||t,a=o.getTimezoneOffset();switch(n){case"x":return ME(a);case"xxxx":case"xx":return Zs(a);case"xxxxx":case"xxx":default:return Zs(a,":")}},O:function(t,n,r,s){var o=s._originalDate||t,a=o.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+TE(a,":");case"OOOO":default:return"GMT"+Zs(a,":")}},z:function(t,n,r,s){var o=s._originalDate||t,a=o.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+TE(a,":");case"zzzz":default:return"GMT"+Zs(a,":")}},t:function(t,n,r,s){var o=s._originalDate||t,a=Math.floor(o.getTime()/1e3);return Ve(a,n.length)},T:function(t,n,r,s){var o=s._originalDate||t,a=o.getTime();return Ve(a,n.length)}};function TE(e,t){var n=e>0?"-":"+",r=Math.abs(e),s=Math.floor(r/60),o=r%60;if(o===0)return n+String(s);var a=t;return n+String(s)+a+Ve(o,2)}function ME(e,t){if(e%60===0){var n=e>0?"-":"+";return n+Ve(Math.abs(e)/60,2)}return Zs(e,t)}function Zs(e,t){var n=t||"",r=e>0?"-":"+",s=Math.abs(e),o=Ve(Math.floor(s/60),2),a=Ve(s%60,2);return r+o+n+a}var EE=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},KD=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},tpe=function(t,n){var r=t.match(/(P+)(p+)?/)||[],s=r[1],o=r[2];if(!o)return EE(t,n);var a;switch(s){case"P":a=n.dateTime({width:"short"});break;case"PP":a=n.dateTime({width:"medium"});break;case"PPP":a=n.dateTime({width:"long"});break;case"PPPP":default:a=n.dateTime({width:"full"});break}return a.replace("{{date}}",EE(s,n)).replace("{{time}}",KD(o,n))},Ly={p:KD,P:tpe},npe=["D","DD"],rpe=["YY","YYYY"];function QD(e){return npe.indexOf(e)!==-1}function XD(e){return rpe.indexOf(e)!==-1}function hf(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var spe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ope=function(t,n,r){var s,o=spe[t];return typeof o=="string"?s=o:n===1?s=o.one:s=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function Dg(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var ape={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ipe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},cpe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},lpe={date:Dg({formats:ape,defaultWidth:"full"}),time:Dg({formats:ipe,defaultWidth:"full"}),dateTime:Dg({formats:cpe,defaultWidth:"full"})},upe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},dpe=function(t,n,r,s){return upe[t]};function zi(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=e.formattingValues[a]||e.formattingValues[o]}else{var i=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[l]||e.values[i]}var u=e.argumentCallback?e.argumentCallback(t):t;return s[u]}}var fpe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},hpe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ppe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},mpe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},gpe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},vpe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ype=function(t,n){var r=Number(t),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},bpe={ordinalNumber:ype,era:zi({values:fpe,defaultWidth:"wide"}),quarter:zi({values:hpe,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:zi({values:ppe,defaultWidth:"wide"}),day:zi({values:mpe,defaultWidth:"wide"}),dayPeriod:zi({values:gpe,defaultWidth:"wide",formattingValues:vpe,defaultFormattingWidth:"wide"})};function qi(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;var a=o[0],i=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(i)?wpe(i,function(f){return f.test(a)}):xpe(i,function(f){return f.test(a)}),u;u=e.valueCallback?e.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;var d=t.slice(a.length);return{value:u,rest:d}}}function xpe(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function wpe(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function Spe(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var s=r[0],o=t.match(e.parsePattern);if(!o)return null;var a=e.valueCallback?e.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;var i=t.slice(s.length);return{value:a,rest:i}}}var _pe=/^(\d+)(th|st|nd|rd)?/i,Cpe=/\d+/i,Tpe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Mpe={any:[/^b/i,/^(a|c)/i]},Epe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},kpe={any:[/1/i,/2/i,/3/i,/4/i]},Ppe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ape={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},$pe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ope={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ipe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Npe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Rpe={ordinalNumber:Spe({matchPattern:_pe,parsePattern:Cpe,valueCallback:function(t){return parseInt(t,10)}}),era:qi({matchPatterns:Tpe,defaultMatchWidth:"wide",parsePatterns:Mpe,defaultParseWidth:"any"}),quarter:qi({matchPatterns:Epe,defaultMatchWidth:"wide",parsePatterns:kpe,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:qi({matchPatterns:Ppe,defaultMatchWidth:"wide",parsePatterns:Ape,defaultParseWidth:"any"}),day:qi({matchPatterns:$pe,defaultMatchWidth:"wide",parsePatterns:Ope,defaultParseWidth:"any"}),dayPeriod:qi({matchPatterns:Ipe,defaultMatchWidth:"any",parsePatterns:Npe,defaultParseWidth:"any"})},xS={code:"en-US",formatDistance:ope,formatLong:lpe,formatRelative:dpe,localize:bpe,match:Rpe,options:{weekStartsOn:0,firstWeekContainsDate:1}},jpe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Dpe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Lpe=/^'([^]*?)'?$/,Fpe=/''/g,Bpe=/[a-zA-Z]/;function Upe(e,t,n){var r,s,o,a,i,l,u,d,f,h,m,g,v,y,x,b,w,_;te(2,arguments);var C=String(t),T=ss(),M=(r=(s=n?.locale)!==null&&s!==void 0?s:T.locale)!==null&&r!==void 0?r:xS,E=tt((o=(a=(i=(l=n?.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(u=n.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&i!==void 0?i:T.firstWeekContainsDate)!==null&&a!==void 0?a:(f=T.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(E>=1&&E<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var R=tt((m=(g=(v=(y=n?.weekStartsOn)!==null&&y!==void 0?y:n==null||(x=n.locale)===null||x===void 0||(b=x.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&v!==void 0?v:T.weekStartsOn)!==null&&g!==void 0?g:(w=T.locale)===null||w===void 0||(_=w.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&m!==void 0?m:0);if(!(R>=0&&R<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!M.localize)throw new RangeError("locale must contain localize property");if(!M.formatLong)throw new RangeError("locale must contain formatLong property");var $=oe(e);if(!Fhe($))throw new RangeError("Invalid time value");var U=qa($),Y=HD($,U),F={firstWeekContainsDate:E,weekStartsOn:R,locale:M,_originalDate:$},j=C.match(Dpe).map(function(D){var B=D[0];if(B==="p"||B==="P"){var H=Ly[B];return H(D,M.formatLong)}return D}).join("").match(jpe).map(function(D){if(D==="''")return"'";var B=D[0];if(B==="'")return Vpe(D);var H=epe[B];if(H)return!(n!=null&&n.useAdditionalWeekYearTokens)&&XD(D)&&hf(D,t,String(e)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&QD(D)&&hf(D,t,String(e)),H(Y,D,M.localize,F);if(B.match(Bpe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+B+"`");return D}).join("");return j}function Vpe(e){var t=e.match(Lpe);return t?t[1].replace(Fpe,"'"):e}function wS(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function Gpe(e){return wS({},e)}var kE=1440,Wpe=2520,Lg=43200,Hpe=86400;function zpe(e,t,n){var r,s;te(2,arguments);var o=ss(),a=(r=(s=n?.locale)!==null&&s!==void 0?s:o.locale)!==null&&r!==void 0?r:xS;if(!a.formatDistance)throw new RangeError("locale must contain formatDistance property");var i=ka(e,t);if(isNaN(i))throw new RangeError("Invalid time value");var l=wS(Gpe(n),{addSuffix:!!n?.addSuffix,comparison:i}),u,d;i>0?(u=oe(t),d=oe(e)):(u=oe(e),d=oe(t));var f=zhe(d,u),h=(qa(d)-qa(u))/1e3,m=Math.round((f-h)/60),g;if(m<2)return n!=null&&n.includeSeconds?f<5?a.formatDistance("lessThanXSeconds",5,l):f<10?a.formatDistance("lessThanXSeconds",10,l):f<20?a.formatDistance("lessThanXSeconds",20,l):f<40?a.formatDistance("halfAMinute",0,l):f<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):m===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",m,l);if(m<45)return a.formatDistance("xMinutes",m,l);if(m<90)return a.formatDistance("aboutXHours",1,l);if(m<kE){var v=Math.round(m/60);return a.formatDistance("aboutXHours",v,l)}else{if(m<Wpe)return a.formatDistance("xDays",1,l);if(m<Lg){var y=Math.round(m/kE);return a.formatDistance("xDays",y,l)}else if(m<Hpe)return g=Math.round(m/Lg),a.formatDistance("aboutXMonths",g,l)}if(g=WD(d,u),g<12){var x=Math.round(m/Lg);return a.formatDistance("xMonths",x,l)}else{var b=g%12,w=Math.floor(g/12);return b<3?a.formatDistance("aboutXYears",w,l):b<9?a.formatDistance("overXYears",w,l):a.formatDistance("almostXYears",w+1,l)}}function Ddt(e,t){return te(1,arguments),zpe(e,Date.now(),t)}function Ldt(e){te(1,arguments);var t=tt(e);return oe(t*1e3)}function ZD(e){te(1,arguments);var t=oe(e),n=t.getMonth();return n}function pf(e){return te(1,arguments),oe(e).getFullYear()}function qpe(e,t){te(2,arguments);var n=oe(e),r=oe(t);return n.getTime()>r.getTime()}function Zu(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zu=function(n){return typeof n}:Zu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Zu(e)}function JD(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fy(e,t)}function Fy(e,t){return Fy=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},Fy(e,t)}function e2(e){var t=Kpe();return function(){var r=mf(e),s;if(t){var o=mf(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return Ype(this,s)}}function Ype(e,t){return t&&(Zu(t)==="object"||typeof t=="function")?t:By(e)}function By(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kpe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function mf(e){return mf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},mf(e)}function SS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qpe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _S(e,t,n){return t&&Qpe(e.prototype,t),e}function Uy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xpe=10,t2=function(){function e(){SS(this,e),Uy(this,"subPriority",0)}return _S(e,[{key:"validate",value:function(n,r){return!0}}]),e}(),Zpe=function(e){JD(n,e);var t=e2(n);function n(r,s,o,a,i){var l;return SS(this,n),l=t.call(this),l.value=r,l.validateValue=s,l.setValue=o,l.priority=a,i&&(l.subPriority=i),l}return _S(n,[{key:"validate",value:function(s,o){return this.validateValue(s,this.value,o)}},{key:"set",value:function(s,o,a){return this.setValue(s,o,this.value,a)}}]),n}(t2),Jpe=function(e){JD(n,e);var t=e2(n);function n(){var r;SS(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),Uy(By(r),"priority",Xpe),Uy(By(r),"subPriority",-1),r}return _S(n,[{key:"set",value:function(s,o){if(o.timestampIsSet)return s;var a=new Date(0);return a.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),a.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),a}}]),n}(t2);function eme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tme(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nme(e,t,n){return t&&tme(e.prototype,t),e}var Be=function(){function e(){eme(this,e)}return nme(e,[{key:"run",value:function(n,r,s,o){var a=this.parse(n,r,s,o);return a?{setter:new Zpe(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}},{key:"validate",value:function(n,r,s){return!0}}]),e}();function Ju(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ju=function(n){return typeof n}:Ju=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ju(e)}function rme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sme(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ome(e,t,n){return t&&sme(e.prototype,t),e}function ame(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vy(e,t)}function Vy(e,t){return Vy=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},Vy(e,t)}function ime(e){var t=lme();return function(){var r=gf(e),s;if(t){var o=gf(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return cme(this,s)}}function cme(e,t){return t&&(Ju(t)==="object"||typeof t=="function")?t:Gy(e)}function Gy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lme(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gf(e){return gf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},gf(e)}function PE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ume=function(e){ame(n,e);var t=ime(n);function n(){var r;rme(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),PE(Gy(r),"priority",140),PE(Gy(r),"incompatibleTokens",["R","u","t","T"]),r}return ome(n,[{key:"parse",value:function(s,o,a){switch(o){case"G":case"GG":case"GGG":return a.era(s,{width:"abbreviated"})||a.era(s,{width:"narrow"});case"GGGGG":return a.era(s,{width:"narrow"});case"GGGG":default:return a.era(s,{width:"wide"})||a.era(s,{width:"abbreviated"})||a.era(s,{width:"narrow"})}}},{key:"set",value:function(s,o,a){return o.era=a,s.setUTCFullYear(a,0,1),s.setUTCHours(0,0,0,0),s}}]),n}(Be),bt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},vr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function xt(e,t){return e&&{value:t(e.value),rest:e.rest}}function lt(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function yr(e,t){var n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};var r=n[1]==="+"?1:-1,s=n[2]?parseInt(n[2],10):0,o=n[3]?parseInt(n[3],10):0,a=n[5]?parseInt(n[5],10):0;return{value:r*(s*Wp+o*Gp+a*Dhe),rest:t.slice(n[0].length)}}function n2(e){return lt(bt.anyDigitsSigned,e)}function ht(e,t){switch(e){case 1:return lt(bt.singleDigit,t);case 2:return lt(bt.twoDigits,t);case 3:return lt(bt.threeDigits,t);case 4:return lt(bt.fourDigits,t);default:return lt(new RegExp("^\\d{1,"+e+"}"),t)}}function vf(e,t){switch(e){case 1:return lt(bt.singleDigitSigned,t);case 2:return lt(bt.twoDigitsSigned,t);case 3:return lt(bt.threeDigitsSigned,t);case 4:return lt(bt.fourDigitsSigned,t);default:return lt(new RegExp("^-?\\d{1,"+e+"}"),t)}}function CS(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function r2(e,t){var n=t>0,r=n?t:1-t,s;if(r<=50)s=e||100;else{var o=r+50,a=Math.floor(o/100)*100,i=e>=o%100;s=e+a-(i?100:0)}return n?s:1-s}function s2(e){return e%400===0||e%4===0&&e%100!==0}function ed(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ed=function(n){return typeof n}:ed=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ed(e)}function dme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fme(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hme(e,t,n){return t&&fme(e.prototype,t),e}function pme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wy(e,t)}function Wy(e,t){return Wy=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},Wy(e,t)}function mme(e){var t=vme();return function(){var r=yf(e),s;if(t){var o=yf(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return gme(this,s)}}function gme(e,t){return t&&(ed(t)==="object"||typeof t=="function")?t:Hy(e)}function Hy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vme(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yf(e){return yf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},yf(e)}function AE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yme=function(e){pme(n,e);var t=mme(n);function n(){var r;dme(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),AE(Hy(r),"priority",130),AE(Hy(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return hme(n,[{key:"parse",value:function(s,o,a){var i=function(u){return{year:u,isTwoDigitYear:o==="yy"}};switch(o){case"y":return xt(ht(4,s),i);case"yo":return xt(a.ordinalNumber(s,{unit:"year"}),i);default:return xt(ht(o.length,s),i)}}},{key:"validate",value:function(s,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(s,o,a){var i=s.getUTCFullYear();if(a.isTwoDigitYear){var l=r2(a.year,i);return s.setUTCFullYear(l,0,1),s.setUTCHours(0,0,0,0),s}var u=!("era"in o)||o.era===1?a.year:1-a.year;return s.setUTCFullYear(u,0,1),s.setUTCHours(0,0,0,0),s}}]),n}(Be);function td(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?td=function(n){return typeof n}:td=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},td(e)}function bme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xme(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wme(e,t,n){return t&&xme(e.prototype,t),e}function Sme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zy(e,t)}function zy(e,t){return zy=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},zy(e,t)}function _me(e){var t=Tme();return function(){var r=bf(e),s;if(t){var o=bf(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return Cme(this,s)}}function Cme(e,t){return t&&(td(t)==="object"||typeof t=="function")?t:qy(e)}function qy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tme(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function bf(e){return bf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},bf(e)}function $E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mme=function(e){Sme(n,e);var t=_me(n);function n(){var r;bme(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),$E(qy(r),"priority",130),$E(qy(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return wme(n,[{key:"parse",value:function(s,o,a){var i=function(u){return{year:u,isTwoDigitYear:o==="YY"}};switch(o){case"Y":return xt(ht(4,s),i);case"Yo":return xt(a.ordinalNumber(s,{unit:"year"}),i);default:return xt(ht(o.length,s),i)}}},{key:"validate",value:function(s,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(s,o,a,i){var l=bS(s,i);if(a.isTwoDigitYear){var u=r2(a.year,l);return s.setUTCFullYear(u,0,i.firstWeekContainsDate),s.setUTCHours(0,0,0,0),Mo(s,i)}var d=!("era"in o)||o.era===1?a.year:1-a.year;return s.setUTCFullYear(d,0,i.firstWeekContainsDate),s.setUTCHours(0,0,0,0),Mo(s,i)}}]),n}(Be);function nd(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?nd=function(n){return typeof n}:nd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},nd(e)}function Eme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kme(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pme(e,t,n){return t&&kme(e.prototype,t),e}function Ame(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yy(e,t)}function Yy(e,t){return Yy=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},Yy(e,t)}function $me(e){var t=Ime();return function(){var r=xf(e),s;if(t){var o=xf(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return Ome(this,s)}}function Ome(e,t){return t&&(nd(t)==="object"||typeof t=="function")?t:Ky(e)}function Ky(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ime(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function xf(e){return xf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},xf(e)}function OE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nme=function(e){Ame(n,e);var t=$me(n);function n(){var r;Eme(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),OE(Ky(r),"priority",130),OE(Ky(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return Pme(n,[{key:"parse",value:function(s,o){return vf(o==="R"?4:o.length,s)}},{key:"set",value:function(s,o,a){var i=new Date(0);return i.setUTCFullYear(a,0,4),i.setUTCHours(0,0,0,0),Ya(i)}}]),n}(Be);function rd(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rd=function(n){return typeof n}:rd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},rd(e)}function Rme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jme(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dme(e,t,n){return t&&jme(e.prototype,t),e}function Lme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qy(e,t)}function Qy(e,t){return Qy=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},Qy(e,t)}function Fme(e){var t=Ume();return function(){var r=wf(e),s;if(t){var o=wf(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return Bme(this,s)}}function Bme(e,t){return t&&(rd(t)==="object"||typeof t=="function")?t:Xy(e)}function Xy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ume(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wf(e){return wf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},wf(e)}function IE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vme=function(e){Lme(n,e);var t=Fme(n);function n(){var r;Rme(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),IE(Xy(r),"priority",130),IE(Xy(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return Dme(n,[{key:"parse",value:function(s,o){return vf(o==="u"?4:o.length,s)}},{key:"set",value:function(s,o,a){return s.setUTCFullYear(a,0,1),s.setUTCHours(0,0,0,0),s}}]),n}(Be);function sd(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sd=function(n){return typeof n}:sd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},sd(e)}function Gme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wme(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hme(e,t,n){return t&&Wme(e.prototype,t),e}function zme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zy(e,t)}function Zy(e,t){return Zy=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},Zy(e,t)}function qme(e){var t=Kme();return function(){var r=Sf(e),s;if(t){var o=Sf(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return Yme(this,s)}}function Yme(e,t){return t&&(sd(t)==="object"||typeof t=="function")?t:Jy(e)}function Jy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kme(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Sf(e){return Sf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Sf(e)}function NE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qme=function(e){zme(n,e);var t=qme(n);function n(){var r;Gme(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),NE(Jy(r),"priority",120),NE(Jy(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Hme(n,[{key:"parse",value:function(s,o,a){switch(o){case"Q":case"QQ":return ht(o.length,s);case"Qo":return a.ordinalNumber(s,{unit:"quarter"});case"QQQ":return a.quarter(s,{width:"abbreviated",context:"formatting"})||a.quarter(s,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(s,{width:"wide",context:"formatting"})||a.quarter(s,{width:"abbreviated",context:"formatting"})||a.quarter(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,o){return o>=1&&o<=4}},{key:"set",value:function(s,o,a){return s.setUTCMonth((a-1)*3,1),s.setUTCHours(0,0,0,0),s}}]),n}(Be);function od(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?od=function(n){return typeof n}:od=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},od(e)}function Xme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zme(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jme(e,t,n){return t&&Zme(e.prototype,t),e}function ege(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eb(e,t)}function eb(e,t){return eb=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},eb(e,t)}function tge(e){var t=rge();return function(){var r=_f(e),s;if(t){var o=_f(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return nge(this,s)}}function nge(e,t){return t&&(od(t)==="object"||typeof t=="function")?t:tb(e)}function tb(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rge(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _f(e){return _f=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},_f(e)}function RE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sge=function(e){ege(n,e);var t=tge(n);function n(){var r;Xme(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),RE(tb(r),"priority",120),RE(tb(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Jme(n,[{key:"parse",value:function(s,o,a){switch(o){case"q":case"qq":return ht(o.length,s);case"qo":return a.ordinalNumber(s,{unit:"quarter"});case"qqq":return a.quarter(s,{width:"abbreviated",context:"standalone"})||a.quarter(s,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(s,{width:"wide",context:"standalone"})||a.quarter(s,{width:"abbreviated",context:"standalone"})||a.quarter(s,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(s,o){return o>=1&&o<=4}},{key:"set",value:function(s,o,a){return s.setUTCMonth((a-1)*3,1),s.setUTCHours(0,0,0,0),s}}]),n}(Be);function ad(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ad=function(n){return typeof n}:ad=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ad(e)}function oge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function age(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ige(e,t,n){return t&&age(e.prototype,t),e}function cge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nb(e,t)}function nb(e,t){return nb=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},nb(e,t)}function lge(e){var t=dge();return function(){var r=Cf(e),s;if(t){var o=Cf(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return uge(this,s)}}function uge(e,t){return t&&(ad(t)==="object"||typeof t=="function")?t:rb(e)}function rb(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dge(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Cf(e){return Cf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Cf(e)}function jE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fge=function(e){cge(n,e);var t=lge(n);function n(){var r;oge(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),jE(rb(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),jE(rb(r),"priority",110),r}return ige(n,[{key:"parse",value:function(s,o,a){var i=function(u){return u-1};switch(o){case"M":return xt(lt(bt.month,s),i);case"MM":return xt(ht(2,s),i);case"Mo":return xt(a.ordinalNumber(s,{unit:"month"}),i);case"MMM":return a.month(s,{width:"abbreviated",context:"formatting"})||a.month(s,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(s,{width:"wide",context:"formatting"})||a.month(s,{width:"abbreviated",context:"formatting"})||a.month(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,o){return o>=0&&o<=11}},{key:"set",value:function(s,o,a){return s.setUTCMonth(a,1),s.setUTCHours(0,0,0,0),s}}]),n}(Be);function id(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?id=function(n){return typeof n}:id=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},id(e)}function hge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mge(e,t,n){return t&&pge(e.prototype,t),e}function gge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sb(e,t)}function sb(e,t){return sb=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},sb(e,t)}function vge(e){var t=bge();return function(){var r=Tf(e),s;if(t){var o=Tf(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return yge(this,s)}}function yge(e,t){return t&&(id(t)==="object"||typeof t=="function")?t:ob(e)}function ob(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bge(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Tf(e){return Tf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Tf(e)}function DE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xge=function(e){gge(n,e);var t=vge(n);function n(){var r;hge(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),DE(ob(r),"priority",110),DE(ob(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return mge(n,[{key:"parse",value:function(s,o,a){var i=function(u){return u-1};switch(o){case"L":return xt(lt(bt.month,s),i);case"LL":return xt(ht(2,s),i);case"Lo":return xt(a.ordinalNumber(s,{unit:"month"}),i);case"LLL":return a.month(s,{width:"abbreviated",context:"standalone"})||a.month(s,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(s,{width:"wide",context:"standalone"})||a.month(s,{width:"abbreviated",context:"standalone"})||a.month(s,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(s,o){return o>=0&&o<=11}},{key:"set",value:function(s,o,a){return s.setUTCMonth(a,1),s.setUTCHours(0,0,0,0),s}}]),n}(Be);function wge(e,t,n){te(2,arguments);var r=oe(e),s=tt(t),o=YD(r,n)-s;return r.setUTCDate(r.getUTCDate()-o*7),r}function cd(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cd=function(n){return typeof n}:cd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},cd(e)}function Sge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cge(e,t,n){return t&&_ge(e.prototype,t),e}function Tge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ab(e,t)}function ab(e,t){return ab=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},ab(e,t)}function Mge(e){var t=kge();return function(){var r=Mf(e),s;if(t){var o=Mf(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return Ege(this,s)}}function Ege(e,t){return t&&(cd(t)==="object"||typeof t=="function")?t:ib(e)}function ib(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kge(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Mf(e){return Mf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Mf(e)}function LE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pge=function(e){Tge(n,e);var t=Mge(n);function n(){var r;Sge(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),LE(ib(r),"priority",100),LE(ib(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return Cge(n,[{key:"parse",value:function(s,o,a){switch(o){case"w":return lt(bt.week,s);case"wo":return a.ordinalNumber(s,{unit:"week"});default:return ht(o.length,s)}}},{key:"validate",value:function(s,o){return o>=1&&o<=53}},{key:"set",value:function(s,o,a,i){return Mo(wge(s,a,i),i)}}]),n}(Be);function Age(e,t){te(2,arguments);var n=oe(e),r=tt(t),s=qD(n)-r;return n.setUTCDate(n.getUTCDate()-s*7),n}function ld(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ld=function(n){return typeof n}:ld=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ld(e)}function $ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ige(e,t,n){return t&&Oge(e.prototype,t),e}function Nge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cb(e,t)}function cb(e,t){return cb=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},cb(e,t)}function Rge(e){var t=Dge();return function(){var r=Ef(e),s;if(t){var o=Ef(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return jge(this,s)}}function jge(e,t){return t&&(ld(t)==="object"||typeof t=="function")?t:lb(e)}function lb(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dge(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ef(e){return Ef=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Ef(e)}function FE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lge=function(e){Nge(n,e);var t=Rge(n);function n(){var r;$ge(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),FE(lb(r),"priority",100),FE(lb(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return Ige(n,[{key:"parse",value:function(s,o,a){switch(o){case"I":return lt(bt.week,s);case"Io":return a.ordinalNumber(s,{unit:"week"});default:return ht(o.length,s)}}},{key:"validate",value:function(s,o){return o>=1&&o<=53}},{key:"set",value:function(s,o,a){return Ya(Age(s,a))}}]),n}(Be);function ud(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ud=function(n){return typeof n}:ud=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ud(e)}function Fge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Uge(e,t,n){return t&&Bge(e.prototype,t),e}function Vge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ub(e,t)}function ub(e,t){return ub=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},ub(e,t)}function Gge(e){var t=Hge();return function(){var r=kf(e),s;if(t){var o=kf(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return Wge(this,s)}}function Wge(e,t){return t&&(ud(t)==="object"||typeof t=="function")?t:dd(e)}function dd(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hge(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function kf(e){return kf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},kf(e)}function Fg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zge=[31,28,31,30,31,30,31,31,30,31,30,31],qge=[31,29,31,30,31,30,31,31,30,31,30,31],Yge=function(e){Vge(n,e);var t=Gge(n);function n(){var r;Fge(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),Fg(dd(r),"priority",90),Fg(dd(r),"subPriority",1),Fg(dd(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return Uge(n,[{key:"parse",value:function(s,o,a){switch(o){case"d":return lt(bt.date,s);case"do":return a.ordinalNumber(s,{unit:"date"});default:return ht(o.length,s)}}},{key:"validate",value:function(s,o){var a=s.getUTCFullYear(),i=s2(a),l=s.getUTCMonth();return i?o>=1&&o<=qge[l]:o>=1&&o<=zge[l]}},{key:"set",value:function(s,o,a){return s.setUTCDate(a),s.setUTCHours(0,0,0,0),s}}]),n}(Be);function fd(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fd=function(n){return typeof n}:fd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},fd(e)}function Kge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xge(e,t,n){return t&&Qge(e.prototype,t),e}function Zge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&db(e,t)}function db(e,t){return db=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},db(e,t)}function Jge(e){var t=tve();return function(){var r=Pf(e),s;if(t){var o=Pf(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return eve(this,s)}}function eve(e,t){return t&&(fd(t)==="object"||typeof t=="function")?t:hd(e)}function hd(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tve(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Pf(e){return Pf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Pf(e)}function Bg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nve=function(e){Zge(n,e);var t=Jge(n);function n(){var r;Kge(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),Bg(hd(r),"priority",90),Bg(hd(r),"subpriority",1),Bg(hd(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return Xge(n,[{key:"parse",value:function(s,o,a){switch(o){case"D":case"DD":return lt(bt.dayOfYear,s);case"Do":return a.ordinalNumber(s,{unit:"date"});default:return ht(o.length,s)}}},{key:"validate",value:function(s,o){var a=s.getUTCFullYear(),i=s2(a);return i?o>=1&&o<=366:o>=1&&o<=365}},{key:"set",value:function(s,o,a){return s.setUTCMonth(0,a),s.setUTCHours(0,0,0,0),s}}]),n}(Be);function TS(e,t,n){var r,s,o,a,i,l,u,d;te(2,arguments);var f=ss(),h=tt((r=(s=(o=(a=n?.weekStartsOn)!==null&&a!==void 0?a:n==null||(i=n.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&o!==void 0?o:f.weekStartsOn)!==null&&s!==void 0?s:(u=f.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&r!==void 0?r:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=oe(e),g=tt(t),v=m.getUTCDay(),y=g%7,x=(y+7)%7,b=(x<h?7:0)+g-v;return m.setUTCDate(m.getUTCDate()+b),m}function pd(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?pd=function(n){return typeof n}:pd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},pd(e)}function rve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ove(e,t,n){return t&&sve(e.prototype,t),e}function ave(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fb(e,t)}function fb(e,t){return fb=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},fb(e,t)}function ive(e){var t=lve();return function(){var r=Af(e),s;if(t){var o=Af(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return cve(this,s)}}function cve(e,t){return t&&(pd(t)==="object"||typeof t=="function")?t:hb(e)}function hb(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lve(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Af(e){return Af=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Af(e)}function BE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var uve=function(e){ave(n,e);var t=ive(n);function n(){var r;rve(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),BE(hb(r),"priority",90),BE(hb(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return ove(n,[{key:"parse",value:function(s,o,a){switch(o){case"E":case"EE":case"EEE":return a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(s,{width:"wide",context:"formatting"})||a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,o){return o>=0&&o<=6}},{key:"set",value:function(s,o,a,i){return s=TS(s,a,i),s.setUTCHours(0,0,0,0),s}}]),n}(Be);function md(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?md=function(n){return typeof n}:md=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},md(e)}function dve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hve(e,t,n){return t&&fve(e.prototype,t),e}function pve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pb(e,t)}function pb(e,t){return pb=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},pb(e,t)}function mve(e){var t=vve();return function(){var r=$f(e),s;if(t){var o=$f(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return gve(this,s)}}function gve(e,t){return t&&(md(t)==="object"||typeof t=="function")?t:mb(e)}function mb(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vve(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $f(e){return $f=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},$f(e)}function UE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yve=function(e){pve(n,e);var t=mve(n);function n(){var r;dve(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),UE(mb(r),"priority",90),UE(mb(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return hve(n,[{key:"parse",value:function(s,o,a,i){var l=function(d){var f=Math.floor((d-1)/7)*7;return(d+i.weekStartsOn+6)%7+f};switch(o){case"e":case"ee":return xt(ht(o.length,s),l);case"eo":return xt(a.ordinalNumber(s,{unit:"day"}),l);case"eee":return a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"});case"eeeee":return a.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(s,{width:"wide",context:"formatting"})||a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,o){return o>=0&&o<=6}},{key:"set",value:function(s,o,a,i){return s=TS(s,a,i),s.setUTCHours(0,0,0,0),s}}]),n}(Be);function gd(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gd=function(n){return typeof n}:gd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},gd(e)}function bve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wve(e,t,n){return t&&xve(e.prototype,t),e}function Sve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gb(e,t)}function gb(e,t){return gb=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},gb(e,t)}function _ve(e){var t=Tve();return function(){var r=Of(e),s;if(t){var o=Of(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return Cve(this,s)}}function Cve(e,t){return t&&(gd(t)==="object"||typeof t=="function")?t:vb(e)}function vb(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tve(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Of(e){return Of=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Of(e)}function VE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mve=function(e){Sve(n,e);var t=_ve(n);function n(){var r;bve(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),VE(vb(r),"priority",90),VE(vb(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return wve(n,[{key:"parse",value:function(s,o,a,i){var l=function(d){var f=Math.floor((d-1)/7)*7;return(d+i.weekStartsOn+6)%7+f};switch(o){case"c":case"cc":return xt(ht(o.length,s),l);case"co":return xt(a.ordinalNumber(s,{unit:"day"}),l);case"ccc":return a.day(s,{width:"abbreviated",context:"standalone"})||a.day(s,{width:"short",context:"standalone"})||a.day(s,{width:"narrow",context:"standalone"});case"ccccc":return a.day(s,{width:"narrow",context:"standalone"});case"cccccc":return a.day(s,{width:"short",context:"standalone"})||a.day(s,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(s,{width:"wide",context:"standalone"})||a.day(s,{width:"abbreviated",context:"standalone"})||a.day(s,{width:"short",context:"standalone"})||a.day(s,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(s,o){return o>=0&&o<=6}},{key:"set",value:function(s,o,a,i){return s=TS(s,a,i),s.setUTCHours(0,0,0,0),s}}]),n}(Be);function Eve(e,t){te(2,arguments);var n=tt(t);n%7===0&&(n=n-7);var r=1,s=oe(e),o=s.getUTCDay(),a=n%7,i=(a+7)%7,l=(i<r?7:0)+n-o;return s.setUTCDate(s.getUTCDate()+l),s}function vd(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vd=function(n){return typeof n}:vd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},vd(e)}function kve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ave(e,t,n){return t&&Pve(e.prototype,t),e}function $ve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yb(e,t)}function yb(e,t){return yb=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},yb(e,t)}function Ove(e){var t=Nve();return function(){var r=If(e),s;if(t){var o=If(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return Ive(this,s)}}function Ive(e,t){return t&&(vd(t)==="object"||typeof t=="function")?t:bb(e)}function bb(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nve(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function If(e){return If=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},If(e)}function GE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Rve=function(e){$ve(n,e);var t=Ove(n);function n(){var r;kve(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),GE(bb(r),"priority",90),GE(bb(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return Ave(n,[{key:"parse",value:function(s,o,a){var i=function(u){return u===0?7:u};switch(o){case"i":case"ii":return ht(o.length,s);case"io":return a.ordinalNumber(s,{unit:"day"});case"iii":return xt(a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"}),i);case"iiiii":return xt(a.day(s,{width:"narrow",context:"formatting"}),i);case"iiiiii":return xt(a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"}),i);case"iiii":default:return xt(a.day(s,{width:"wide",context:"formatting"})||a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"}),i)}}},{key:"validate",value:function(s,o){return o>=1&&o<=7}},{key:"set",value:function(s,o,a){return s=Eve(s,a),s.setUTCHours(0,0,0,0),s}}]),n}(Be);function yd(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yd=function(n){return typeof n}:yd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},yd(e)}function jve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lve(e,t,n){return t&&Dve(e.prototype,t),e}function Fve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xb(e,t)}function xb(e,t){return xb=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},xb(e,t)}function Bve(e){var t=Vve();return function(){var r=Nf(e),s;if(t){var o=Nf(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return Uve(this,s)}}function Uve(e,t){return t&&(yd(t)==="object"||typeof t=="function")?t:wb(e)}function wb(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vve(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Nf(e){return Nf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Nf(e)}function WE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gve=function(e){Fve(n,e);var t=Bve(n);function n(){var r;jve(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),WE(wb(r),"priority",80),WE(wb(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return Lve(n,[{key:"parse",value:function(s,o,a){switch(o){case"a":case"aa":case"aaa":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(s,{width:"wide",context:"formatting"})||a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(s,o,a){return s.setUTCHours(CS(a),0,0,0),s}}]),n}(Be);function bd(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?bd=function(n){return typeof n}:bd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},bd(e)}function Wve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zve(e,t,n){return t&&Hve(e.prototype,t),e}function qve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sb(e,t)}function Sb(e,t){return Sb=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},Sb(e,t)}function Yve(e){var t=Qve();return function(){var r=Rf(e),s;if(t){var o=Rf(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return Kve(this,s)}}function Kve(e,t){return t&&(bd(t)==="object"||typeof t=="function")?t:_b(e)}function _b(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qve(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Rf(e){return Rf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Rf(e)}function HE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xve=function(e){qve(n,e);var t=Yve(n);function n(){var r;Wve(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),HE(_b(r),"priority",80),HE(_b(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return zve(n,[{key:"parse",value:function(s,o,a){switch(o){case"b":case"bb":case"bbb":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(s,{width:"wide",context:"formatting"})||a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(s,o,a){return s.setUTCHours(CS(a),0,0,0),s}}]),n}(Be);function xd(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xd=function(n){return typeof n}:xd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},xd(e)}function Zve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eye(e,t,n){return t&&Jve(e.prototype,t),e}function tye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cb(e,t)}function Cb(e,t){return Cb=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},Cb(e,t)}function nye(e){var t=sye();return function(){var r=jf(e),s;if(t){var o=jf(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return rye(this,s)}}function rye(e,t){return t&&(xd(t)==="object"||typeof t=="function")?t:Tb(e)}function Tb(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sye(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function jf(e){return jf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},jf(e)}function zE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oye=function(e){tye(n,e);var t=nye(n);function n(){var r;Zve(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),zE(Tb(r),"priority",80),zE(Tb(r),"incompatibleTokens",["a","b","t","T"]),r}return eye(n,[{key:"parse",value:function(s,o,a){switch(o){case"B":case"BB":case"BBB":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(s,{width:"wide",context:"formatting"})||a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(s,o,a){return s.setUTCHours(CS(a),0,0,0),s}}]),n}(Be);function wd(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wd=function(n){return typeof n}:wd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},wd(e)}function aye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cye(e,t,n){return t&&iye(e.prototype,t),e}function lye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mb(e,t)}function Mb(e,t){return Mb=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},Mb(e,t)}function uye(e){var t=fye();return function(){var r=Df(e),s;if(t){var o=Df(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return dye(this,s)}}function dye(e,t){return t&&(wd(t)==="object"||typeof t=="function")?t:Eb(e)}function Eb(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fye(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Df(e){return Df=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Df(e)}function qE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hye=function(e){lye(n,e);var t=uye(n);function n(){var r;aye(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),qE(Eb(r),"priority",70),qE(Eb(r),"incompatibleTokens",["H","K","k","t","T"]),r}return cye(n,[{key:"parse",value:function(s,o,a){switch(o){case"h":return lt(bt.hour12h,s);case"ho":return a.ordinalNumber(s,{unit:"hour"});default:return ht(o.length,s)}}},{key:"validate",value:function(s,o){return o>=1&&o<=12}},{key:"set",value:function(s,o,a){var i=s.getUTCHours()>=12;return i&&a<12?s.setUTCHours(a+12,0,0,0):!i&&a===12?s.setUTCHours(0,0,0,0):s.setUTCHours(a,0,0,0),s}}]),n}(Be);function Sd(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Sd=function(n){return typeof n}:Sd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Sd(e)}function pye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gye(e,t,n){return t&&mye(e.prototype,t),e}function vye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kb(e,t)}function kb(e,t){return kb=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},kb(e,t)}function yye(e){var t=xye();return function(){var r=Lf(e),s;if(t){var o=Lf(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return bye(this,s)}}function bye(e,t){return t&&(Sd(t)==="object"||typeof t=="function")?t:Pb(e)}function Pb(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xye(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Lf(e){return Lf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Lf(e)}function YE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wye=function(e){vye(n,e);var t=yye(n);function n(){var r;pye(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),YE(Pb(r),"priority",70),YE(Pb(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return gye(n,[{key:"parse",value:function(s,o,a){switch(o){case"H":return lt(bt.hour23h,s);case"Ho":return a.ordinalNumber(s,{unit:"hour"});default:return ht(o.length,s)}}},{key:"validate",value:function(s,o){return o>=0&&o<=23}},{key:"set",value:function(s,o,a){return s.setUTCHours(a,0,0,0),s}}]),n}(Be);function _d(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_d=function(n){return typeof n}:_d=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_d(e)}function Sye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cye(e,t,n){return t&&_ye(e.prototype,t),e}function Tye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ab(e,t)}function Ab(e,t){return Ab=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},Ab(e,t)}function Mye(e){var t=kye();return function(){var r=Ff(e),s;if(t){var o=Ff(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return Eye(this,s)}}function Eye(e,t){return t&&(_d(t)==="object"||typeof t=="function")?t:$b(e)}function $b(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kye(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ff(e){return Ff=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Ff(e)}function KE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pye=function(e){Tye(n,e);var t=Mye(n);function n(){var r;Sye(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),KE($b(r),"priority",70),KE($b(r),"incompatibleTokens",["h","H","k","t","T"]),r}return Cye(n,[{key:"parse",value:function(s,o,a){switch(o){case"K":return lt(bt.hour11h,s);case"Ko":return a.ordinalNumber(s,{unit:"hour"});default:return ht(o.length,s)}}},{key:"validate",value:function(s,o){return o>=0&&o<=11}},{key:"set",value:function(s,o,a){var i=s.getUTCHours()>=12;return i&&a<12?s.setUTCHours(a+12,0,0,0):s.setUTCHours(a,0,0,0),s}}]),n}(Be);function Cd(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Cd=function(n){return typeof n}:Cd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Cd(e)}function Aye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oye(e,t,n){return t&&$ye(e.prototype,t),e}function Iye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ob(e,t)}function Ob(e,t){return Ob=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},Ob(e,t)}function Nye(e){var t=jye();return function(){var r=Bf(e),s;if(t){var o=Bf(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return Rye(this,s)}}function Rye(e,t){return t&&(Cd(t)==="object"||typeof t=="function")?t:Ib(e)}function Ib(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jye(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Bf(e){return Bf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Bf(e)}function QE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dye=function(e){Iye(n,e);var t=Nye(n);function n(){var r;Aye(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),QE(Ib(r),"priority",70),QE(Ib(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return Oye(n,[{key:"parse",value:function(s,o,a){switch(o){case"k":return lt(bt.hour24h,s);case"ko":return a.ordinalNumber(s,{unit:"hour"});default:return ht(o.length,s)}}},{key:"validate",value:function(s,o){return o>=1&&o<=24}},{key:"set",value:function(s,o,a){var i=a<=24?a%24:a;return s.setUTCHours(i,0,0,0),s}}]),n}(Be);function Td(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Td=function(n){return typeof n}:Td=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Td(e)}function Lye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bye(e,t,n){return t&&Fye(e.prototype,t),e}function Uye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nb(e,t)}function Nb(e,t){return Nb=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},Nb(e,t)}function Vye(e){var t=Wye();return function(){var r=Uf(e),s;if(t){var o=Uf(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return Gye(this,s)}}function Gye(e,t){return t&&(Td(t)==="object"||typeof t=="function")?t:Rb(e)}function Rb(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wye(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Uf(e){return Uf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Uf(e)}function XE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Hye=function(e){Uye(n,e);var t=Vye(n);function n(){var r;Lye(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),XE(Rb(r),"priority",60),XE(Rb(r),"incompatibleTokens",["t","T"]),r}return Bye(n,[{key:"parse",value:function(s,o,a){switch(o){case"m":return lt(bt.minute,s);case"mo":return a.ordinalNumber(s,{unit:"minute"});default:return ht(o.length,s)}}},{key:"validate",value:function(s,o){return o>=0&&o<=59}},{key:"set",value:function(s,o,a){return s.setUTCMinutes(a,0,0),s}}]),n}(Be);function Md(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Md=function(n){return typeof n}:Md=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Md(e)}function zye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yye(e,t,n){return t&&qye(e.prototype,t),e}function Kye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jb(e,t)}function jb(e,t){return jb=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},jb(e,t)}function Qye(e){var t=Zye();return function(){var r=Vf(e),s;if(t){var o=Vf(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return Xye(this,s)}}function Xye(e,t){return t&&(Md(t)==="object"||typeof t=="function")?t:Db(e)}function Db(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zye(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Vf(e){return Vf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Vf(e)}function ZE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jye=function(e){Kye(n,e);var t=Qye(n);function n(){var r;zye(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),ZE(Db(r),"priority",50),ZE(Db(r),"incompatibleTokens",["t","T"]),r}return Yye(n,[{key:"parse",value:function(s,o,a){switch(o){case"s":return lt(bt.second,s);case"so":return a.ordinalNumber(s,{unit:"second"});default:return ht(o.length,s)}}},{key:"validate",value:function(s,o){return o>=0&&o<=59}},{key:"set",value:function(s,o,a){return s.setUTCSeconds(a,0),s}}]),n}(Be);function Ed(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ed=function(n){return typeof n}:Ed=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ed(e)}function ebe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tbe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nbe(e,t,n){return t&&tbe(e.prototype,t),e}function rbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lb(e,t)}function Lb(e,t){return Lb=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},Lb(e,t)}function sbe(e){var t=abe();return function(){var r=Gf(e),s;if(t){var o=Gf(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return obe(this,s)}}function obe(e,t){return t&&(Ed(t)==="object"||typeof t=="function")?t:Fb(e)}function Fb(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function abe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Gf(e){return Gf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Gf(e)}function JE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ibe=function(e){rbe(n,e);var t=sbe(n);function n(){var r;ebe(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),JE(Fb(r),"priority",30),JE(Fb(r),"incompatibleTokens",["t","T"]),r}return nbe(n,[{key:"parse",value:function(s,o){var a=function(l){return Math.floor(l*Math.pow(10,-o.length+3))};return xt(ht(o.length,s),a)}},{key:"set",value:function(s,o,a){return s.setUTCMilliseconds(a),s}}]),n}(Be);function kd(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?kd=function(n){return typeof n}:kd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},kd(e)}function cbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lbe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ube(e,t,n){return t&&lbe(e.prototype,t),e}function dbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bb(e,t)}function Bb(e,t){return Bb=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},Bb(e,t)}function fbe(e){var t=pbe();return function(){var r=Wf(e),s;if(t){var o=Wf(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return hbe(this,s)}}function hbe(e,t){return t&&(kd(t)==="object"||typeof t=="function")?t:Ub(e)}function Ub(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pbe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Wf(e){return Wf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Wf(e)}function ek(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mbe=function(e){dbe(n,e);var t=fbe(n);function n(){var r;cbe(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),ek(Ub(r),"priority",10),ek(Ub(r),"incompatibleTokens",["t","T","x"]),r}return ube(n,[{key:"parse",value:function(s,o){switch(o){case"X":return yr(vr.basicOptionalMinutes,s);case"XX":return yr(vr.basic,s);case"XXXX":return yr(vr.basicOptionalSeconds,s);case"XXXXX":return yr(vr.extendedOptionalSeconds,s);case"XXX":default:return yr(vr.extended,s)}}},{key:"set",value:function(s,o,a){return o.timestampIsSet?s:new Date(s.getTime()-a)}}]),n}(Be);function Pd(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Pd=function(n){return typeof n}:Pd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Pd(e)}function gbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vbe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ybe(e,t,n){return t&&vbe(e.prototype,t),e}function bbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vb(e,t)}function Vb(e,t){return Vb=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},Vb(e,t)}function xbe(e){var t=Sbe();return function(){var r=Hf(e),s;if(t){var o=Hf(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return wbe(this,s)}}function wbe(e,t){return t&&(Pd(t)==="object"||typeof t=="function")?t:Gb(e)}function Gb(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sbe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Hf(e){return Hf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Hf(e)}function tk(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _be=function(e){bbe(n,e);var t=xbe(n);function n(){var r;gbe(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),tk(Gb(r),"priority",10),tk(Gb(r),"incompatibleTokens",["t","T","X"]),r}return ybe(n,[{key:"parse",value:function(s,o){switch(o){case"x":return yr(vr.basicOptionalMinutes,s);case"xx":return yr(vr.basic,s);case"xxxx":return yr(vr.basicOptionalSeconds,s);case"xxxxx":return yr(vr.extendedOptionalSeconds,s);case"xxx":default:return yr(vr.extended,s)}}},{key:"set",value:function(s,o,a){return o.timestampIsSet?s:new Date(s.getTime()-a)}}]),n}(Be);function Ad(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ad=function(n){return typeof n}:Ad=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ad(e)}function Cbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tbe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mbe(e,t,n){return t&&Tbe(e.prototype,t),e}function Ebe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wb(e,t)}function Wb(e,t){return Wb=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},Wb(e,t)}function kbe(e){var t=Abe();return function(){var r=zf(e),s;if(t){var o=zf(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return Pbe(this,s)}}function Pbe(e,t){return t&&(Ad(t)==="object"||typeof t=="function")?t:Hb(e)}function Hb(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Abe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zf(e){return zf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},zf(e)}function nk(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $be=function(e){Ebe(n,e);var t=kbe(n);function n(){var r;Cbe(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),nk(Hb(r),"priority",40),nk(Hb(r),"incompatibleTokens","*"),r}return Mbe(n,[{key:"parse",value:function(s){return n2(s)}},{key:"set",value:function(s,o,a){return[new Date(a*1e3),{timestampIsSet:!0}]}}]),n}(Be);function $d(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$d=function(n){return typeof n}:$d=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},$d(e)}function Obe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ibe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nbe(e,t,n){return t&&Ibe(e.prototype,t),e}function Rbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zb(e,t)}function zb(e,t){return zb=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},zb(e,t)}function jbe(e){var t=Lbe();return function(){var r=qf(e),s;if(t){var o=qf(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return Dbe(this,s)}}function Dbe(e,t){return t&&($d(t)==="object"||typeof t=="function")?t:qb(e)}function qb(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lbe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qf(e){return qf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},qf(e)}function rk(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fbe=function(e){Rbe(n,e);var t=jbe(n);function n(){var r;Obe(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),rk(qb(r),"priority",20),rk(qb(r),"incompatibleTokens","*"),r}return Nbe(n,[{key:"parse",value:function(s){return n2(s)}},{key:"set",value:function(s,o,a){return[new Date(a),{timestampIsSet:!0}]}}]),n}(Be),Bbe={G:new ume,y:new yme,Y:new Mme,R:new Nme,u:new Vme,Q:new Qme,q:new sge,M:new fge,L:new xge,w:new Pge,I:new Lge,d:new Yge,D:new nve,E:new uve,e:new yve,c:new Mve,i:new Rve,a:new Gve,b:new Xve,B:new oye,h:new hye,H:new wye,K:new Pye,k:new Dye,m:new Hye,s:new Jye,S:new ibe,X:new mbe,x:new _be,t:new $be,T:new Fbe};function Od(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Od=function(n){return typeof n}:Od=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Od(e)}function sk(e,t){var n;if(typeof Symbol>"u"||e[Symbol.iterator]==null){if(Array.isArray(e)||(n=Ube(e))||t){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(u){throw u},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,a=!1,i;return{s:function(){n=e[Symbol.iterator]()},n:function(){var u=n.next();return o=u.done,u},e:function(u){a=!0,i=u},f:function(){try{!o&&n.return!=null&&n.return()}finally{if(a)throw i}}}}function Ube(e,t){if(e){if(typeof e=="string")return ok(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ok(e,t)}}function ok(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Vbe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Gbe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Wbe=/^'([^]*?)'?$/,Hbe=/''/g,zbe=/\S/,qbe=/[a-zA-Z]/;function Fdt(e,t,n,r){var s,o,a,i,l,u,d,f,h,m,g,v,y,x,b,w,_,C;te(3,arguments);var T=String(e),M=String(t),E=ss(),R=(s=(o=r?.locale)!==null&&o!==void 0?o:E.locale)!==null&&s!==void 0?s:xS;if(!R.match)throw new RangeError("locale must contain match property");var $=tt((a=(i=(l=(u=r?.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(d=r.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&l!==void 0?l:E.firstWeekContainsDate)!==null&&i!==void 0?i:(h=E.locale)===null||h===void 0||(m=h.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!($>=1&&$<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var U=tt((g=(v=(y=(x=r?.weekStartsOn)!==null&&x!==void 0?x:r==null||(b=r.locale)===null||b===void 0||(w=b.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&y!==void 0?y:E.weekStartsOn)!==null&&v!==void 0?v:(_=E.locale)===null||_===void 0||(C=_.options)===null||C===void 0?void 0:C.weekStartsOn)!==null&&g!==void 0?g:0);if(!(U>=0&&U<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(M==="")return T===""?oe(n):new Date(NaN);var Y={firstWeekContainsDate:$,weekStartsOn:U,locale:R},F=[new Jpe],j=M.match(Gbe).map(function(be){var pe=be[0];if(pe in Ly){var nt=Ly[pe];return nt(be,R.formatLong)}return be}).join("").match(Vbe),D=[],B=sk(j),H;try{var N=function(){var pe=H.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&XD(pe)&&hf(pe,M,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&QD(pe)&&hf(pe,M,e);var nt=pe[0],Ne=Bbe[nt];if(Ne){var re=Ne.incompatibleTokens;if(Array.isArray(re)){var gt=D.find(function(Gn){return re.includes(Gn.token)||Gn.token===nt});if(gt)throw new RangeError("The format string mustn't contain `".concat(gt.fullToken,"` and `").concat(pe,"` at the same time"))}else if(Ne.incompatibleTokens==="*"&&D.length>0)throw new RangeError("The format string mustn't contain `".concat(pe,"` and any other token at the same time"));D.push({token:nt,fullToken:pe});var at=Ne.run(T,pe,R.match,Y);if(!at)return{v:new Date(NaN)};F.push(at.setter),T=at.rest}else{if(nt.match(qbe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+nt+"`");if(pe==="''"?pe="'":nt==="'"&&(pe=Ybe(pe)),T.indexOf(pe)===0)T=T.slice(pe.length);else return{v:new Date(NaN)}}};for(B.s();!(H=B.n()).done;){var L=N();if(Od(L)==="object")return L.v}}catch(be){B.e(be)}finally{B.f()}if(T.length>0&&zbe.test(T))return new Date(NaN);var W=F.map(function(be){return be.priority}).sort(function(be,pe){return pe-be}).filter(function(be,pe,nt){return nt.indexOf(be)===pe}).map(function(be){return F.filter(function(pe){return pe.priority===be}).sort(function(pe,nt){return nt.subPriority-pe.subPriority})}).map(function(be){return be[0]}),ce=oe(n);if(isNaN(ce.getTime()))return new Date(NaN);var se=HD(ce,qa(ce)),le={},ke=sk(W),ne;try{for(ke.s();!(ne=ke.n()).done;){var G=ne.value;if(!G.validate(se,Y))return new Date(NaN);var ye=G.set(se,le,Y);Array.isArray(ye)?(se=ye[0],wS(le,ye[1])):se=ye}}catch(be){ke.e(be)}finally{ke.f()}return se}function Ybe(e){return e.match(Wbe)[1].replace(Hbe,"'")}function Bdt(e){te(1,arguments);var t=oe(e);return t.setMinutes(0,0,0),t}function Udt(e){te(1,arguments);var t=oe(e);return t.setMilliseconds(0),t}function Kbe(e,t){te(2,arguments);var n=oe(e),r=oe(t);return n.getFullYear()===r.getFullYear()}function o2(e){return te(1,arguments),Kbe(e,Date.now())}function Qbe(e){return te(1,arguments),UD(e,Date.now())}function Xbe(e){return te(1,arguments),UD(e,FD(Date.now(),1))}function Vdt(e,t){var n;te(1,arguments);var r=tt((n=t?.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var s=txe(e),o;if(s.date){var a=nxe(s.date,r);o=rxe(a.restDateString,a.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);var i=o.getTime(),l=0,u;if(s.time&&(l=sxe(s.time),isNaN(l)))return new Date(NaN);if(s.timezone){if(u=oxe(s.timezone),isNaN(u))return new Date(NaN)}else{var d=new Date(i+l),f=new Date(0);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return new Date(i+l+u)}var hu={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Zbe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Jbe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,exe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function txe(e){var t={},n=e.split(hu.dateTimeDelimiter),r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],hu.timeZoneDelimiter.test(t.date)&&(t.date=e.split(hu.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){var s=hu.timezone.exec(r);s?(t.time=r.replace(s[1],""),t.timezone=s[1]):t.time=r}return t}function nxe(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var s=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?s:o*100,restDateString:e.slice((r[1]||r[2]).length)}}function rxe(e,t){if(t===null)return new Date(NaN);var n=e.match(Zbe);if(!n)return new Date(NaN);var r=!!n[4],s=Yi(n[1]),o=Yi(n[2])-1,a=Yi(n[3]),i=Yi(n[4]),l=Yi(n[5])-1;if(r)return uxe(t,i,l)?axe(t,i,l):new Date(NaN);var u=new Date(0);return!cxe(t,o,a)||!lxe(t,s)?new Date(NaN):(u.setUTCFullYear(t,o,Math.max(s,a)),u)}function Yi(e){return e?parseInt(e):1}function sxe(e){var t=e.match(Jbe);if(!t)return NaN;var n=Ug(t[1]),r=Ug(t[2]),s=Ug(t[3]);return dxe(n,r,s)?n*Wp+r*Gp+s*1e3:NaN}function Ug(e){return e&&parseFloat(e.replace(",","."))||0}function oxe(e){if(e==="Z")return 0;var t=e.match(exe);if(!t)return 0;var n=t[1]==="+"?-1:1,r=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return fxe(r,s)?n*(r*Wp+s*Gp):NaN}function axe(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var s=r.getUTCDay()||7,o=(t-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+o),r}var ixe=[31,null,31,30,31,30,31,31,30,31,30,31];function a2(e){return e%400===0||e%4===0&&e%100!==0}function cxe(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(ixe[t]||(a2(e)?29:28))}function lxe(e,t){return t>=1&&t<=(a2(e)?366:365)}function uxe(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function dxe(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function fxe(e,t){return t>=0&&t<=59}function dn(e){this.content=e}dn.prototype={constructor:dn,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,s=r.find(e),o=r.content.slice();return s==-1?o.push(n||e,t):(o[s+1]=t,n&&(o[s]=n)),new dn(o)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new dn(n)},addToStart:function(e,t){return new dn([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new dn(n)},addBefore:function(e,t,n){var r=this.remove(t),s=r.content.slice(),o=r.find(e);return s.splice(o==-1?s.length:o,0,t,n),new dn(s)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=dn.from(e),e.size?new dn(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=dn.from(e),e.size?new dn(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=dn.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};dn.from=function(e){if(e instanceof dn)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new dn(t)};function i2({percentage:e,thickness:t=1/12,className:n,sizeOverride:r,backgroundStrokeClassName:s="stroke-gray-400",transitionDuration:o,transitionTimingFunction:a,onTransitionEnd:i}){const l=r??120,u=l*t,d=(l-u)/2,f=2*Math.PI*d,h=f-e/100*f;return c.jsxs("svg",{width:l,height:l,viewBox:`0 0 ${l} ${l}`,className:n,children:[c.jsx("circle",{className:O("origin-[50%_50%] -rotate-90",s),strokeWidth:u,fill:"transparent",r:d,cx:l/2,cy:l/2}),c.jsx("circle",{className:"origin-[50%_50%] -rotate-90 transition-[stroke-dashoffset]",stroke:"currentColor",strokeWidth:u,strokeDashoffset:h,strokeDasharray:`${f} ${f}`,fill:"transparent",r:d,cx:l/2,cy:l/2,style:{transitionDuration:o,transitionTimingFunction:a},onTransitionEnd:i})]})}const Gdt=({size:e=40,className:t="text-blue-selection"})=>c.jsx("div",{className:O("relative",t),style:{width:e,height:e},children:c.jsxs("svg",{className:"absolute h-full w-full animate-spin",viewBox:"0 0 50 50",children:[c.jsx("defs",{children:c.jsxs("linearGradient",{id:"spinner-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[c.jsx("stop",{offset:"0%",style:{stopColor:"currentColor",stopOpacity:1}}),c.jsx("stop",{offset:"100%",style:{stopColor:"currentColor",stopOpacity:0}})]})}),c.jsx("circle",{cx:"25",cy:"25",r:"20",stroke:"url(#spinner-gradient)",strokeWidth:"8",strokeLinecap:"round",fill:"none",strokeDasharray:"75,150",strokeDashoffset:"0"})]})});function hxe(e,t,n){return e===e&&(n!==void 0&&(e=e<=n?e:n),t!==void 0&&(e=e>=t?e:t)),e}var pxe=hxe,mxe=pxe,Vg=jw;function gxe(e,t,n){return n===void 0&&(n=t,t=void 0),n!==void 0&&(n=Vg(n),n=n===n?n:0),t!==void 0&&(t=Vg(t),t=t===t?t:0),mxe(Vg(e),t,n)}var vxe=gxe;const Yf=ge(vxe),Yb=Oe(()=>Ie(()=>import("./b0uuuu3jhvlji9tp.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10])).then(e=>e.CanvasMessageAttachment)),yxe=Oe(()=>Ie(()=>import("./b0uuuu3jhvlji9tp.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10])).then(e=>e.CanvasMessageAttachmentWrapper));function Kb(e){let t=e;return t=t.replace(/\.[^/.]+$/,""),t=t.replace(/_/g," "),t=t.replace(/([a-z])([A-Z])/g,"$1 $2"),t.split(" ").map(r=>r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()).join(" ")}function bxe(e){const t=p.useRef(!1);return()=>{t.current||(e(),t.current=!0)}}const xxe=(e,t)=>e?.textdocId?e.textdocId:e?.function===Tt.CreateTextdoc?Sw(e):t??void 0,wxe=({messages:e,isRequestActive:t,clientThreadId:n})=>{const r=V(),s=_O(e),o=CO(e),a=p.useMemo(()=>{if(kw(s?.message))return lO(t,s.message,o?.message??null)},[t,s,o]),i=M7(),l=xxe(a,i),u=zh(l),d=Jc(),f=ww(l),h=P7(),m=E7(),g=EO(),v=T7(),y=k7({textdocId:l,toolResponseMessage:o}),x=bxe(()=>{const R=Te.getThreadModelId(n);_w.logError("Textdoc missing from conversation",null,{clientThreadId:n,modelId:R,textdocId:l,latestTextdocId:i,toolCallTextdocId:a?.textdocId,toolCallStatus:a?.status,toolCallFunction:a?.function})});if(p.useEffect(()=>{!t&&a?.status===me.COMPLETE&&!v&&!u&&x()},[a,u,t,v,x]),!a)return null;const b=a.status===me.REDACTED||!v&&!u&&a.status!==me.STREAMING&&a.status!==me.WAITING;let w,_;if(a.status!==me.REDACTED&&a.status!==me.FAILED&&!b&&l){const R=a.function===Tt.UpdateTextdoc&&a.status===me.COMPLETE;w=()=>{R&&a.versionInt?KU(l,a.versionInt,h):Fa(l)},_=()=>{R&&a.versionInt&&g(l,a.versionInt)}}const C=Sxe(a,u);if(a.function===Tt.CreateTextdoc){if(a.status===me.STREAMING||a.status===me.WAITING||a.status===me.COMPLETE){const $=v===!0&&(a.status===me.STREAMING||a.status===me.WAITING);return c.jsx(Yb,{isInlinePreview:y,isFetching:$,type:a.type??null,name:C,isFocused:f,isStreaming:a.status===me.STREAMING,onClick:w,isCanvasOpen:d,textdocId:l})}let R;switch(a.status){case me.FAILED:R=r.formatMessage({id:"SNarKX",defaultMessage:"Failed to generate"});break;case me.CANCELED:R=r.formatMessage({id:"1A6W36",defaultMessage:"Stopped generating"});break;case me.REDACTED:R=c.jsx(pt,{align:"start",label:r.formatMessage({id:"F6q1k7",defaultMessage:"Removed from shared conversation"}),children:r.formatMessage({id:"BqyYDu",defaultMessage:"Created document"})});break}return c.jsx(ak,{children:R})}const T=b||a.status===me.REDACTED,M=m&&!T?C:null,E=c.jsx(ak,{onClick:w,onMouseOver:_,isStreaming:a.status===me.STREAMING,children:a.function===Tt.CommentTextdoc?Cxe(r,a,M):_xe(r,a,M)});return y&&!d&&!b&&l?c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx(Yb,{isInlinePreview:!0,isFetching:!1,type:u?.type??null,name:C,isFocused:f,isStreaming:a.status===me.STREAMING,onClick:l!=null?()=>Fa(l):void 0,isCanvasOpen:d,textdocId:l}),E]}):E};function Sxe(e,t){return t?.title?Kb(t.title):e.function===Tt.CreateTextdoc&&e.title?Kb(e.title):null}const ak=({isStreaming:e=!1,onClick:t,onMouseOver:n,children:r})=>c.jsx("button",{disabled:!t,className:O(e&&"loading-shimmer","flex min-h-5 w-fit select-none pt-[3px] text-start text-token-text-secondary",t&&"hover:text-token-text-primary"),onClick:t,onMouseOver:n,children:r}),c2=9;function _xe(e,t,n){if(t.status===me.STREAMING)return n?e.formatMessage({id:"W2xN1Z",defaultMessage:"Editing {documentTitle}"},{documentTitle:n}):e.formatMessage({id:"8taq8v",defaultMessage:"Editing"});if(t.status===me.FAILED)return n?e.formatMessage({id:"UjJKYZ",defaultMessage:"Failed to edit {documentTitle}"},{documentTitle:n}):e.formatMessage({id:"kWUVkg",defaultMessage:"Failed to edit"});if(t.status===me.CANCELED)return n?e.formatMessage({id:"TmSrCd",defaultMessage:"Stopped editing {documentTitle}"},{documentTitle:n}):e.formatMessage({id:"bYV7xA",defaultMessage:"Stopped editing"});const r=t.updates?.length;return t.status===me.REDACTED||!r||r>c2?n?e.formatMessage({id:"n+G/ct",defaultMessage:"Edited {documentTitle}"},{documentTitle:n}):e.formatMessage({id:"aegqpL",defaultMessage:"Edited"}):n?e.formatMessage({id:"osYMSb",defaultMessage:"{numEdits, plural, one {Edited {documentTitle}} other {Made {numEdits} edits to {documentTitle}}}"},{numEdits:r,documentTitle:n}):e.formatMessage({id:"xJD3WR",defaultMessage:"{numEdits, plural, one {Edited} other {Made {numEdits} edits}}"},{numEdits:r})}function Cxe(e,t,n){if(t.status===me.STREAMING)return n?e.formatMessage({id:"8xQH/P",defaultMessage:"Commenting on {documentTitle}"},{documentTitle:n}):e.formatMessage({id:"5yqLeN",defaultMessage:"Commenting"});if(t.status===me.FAILED)return n?e.formatMessage({id:"Rl821S",defaultMessage:"Failed to comment on {documentTitle}"},{documentTitle:n}):e.formatMessage({id:"W007jt",defaultMessage:"Failed to comment"});if(t.status===me.CANCELED)return n?e.formatMessage({id:"bozPdq",defaultMessage:"Stopped commenting on {documentTitle}"},{documentTitle:n}):e.formatMessage({id:"hyBGa7",defaultMessage:"Stopped commenting"});const r=t.comments?.length;return t.status===me.REDACTED||!r||r>c2?n?e.formatMessage({id:"LXEzK7",defaultMessage:"Commented on {documentTitle}"},{documentTitle:n}):e.formatMessage({id:"KeMYhy",defaultMessage:"Commented"}):n?e.formatMessage({id:"Ql5lPq",defaultMessage:"{numComments, plural, one {Commented on {documentTitle}} other {Added {numComments} comments on {documentTitle}}}"},{numComments:r,documentTitle:n}):e.formatMessage({id:"FHtyJQ",defaultMessage:"{numComments, plural, one {Commented} other {Added {numComments} comments}}"},{numComments:r})}function Txe(e){const t=Math.floor(e/60),n=Math.floor(t/60),r=String(Math.floor(e)%60).padStart(2,"0"),s=String(t%60).padStart(2,"0");return n===0?`${s}:${r}`:`${n}:${s}:${r}`}function Mxe(e){const t=e?.audio_asset_pointer?.metadata;if(t?.start!==void 0&&t?.end!==void 0)return t.end-t.start}const Exe=p.memo(function(t){const n=V(),{content:r,metadata:s}=t.message;if(!(r.content_type==="multimodal_text"&&t.isUserTurn))return;const a=r.parts.filter(Yh.isPartRealTimeUserAudioVideoAssetPointer).find(l=>l.audio_asset_pointer),i=Mxe(a);return c.jsxs("div",{className:"my-2 mr-4 flex flex-row justify-end gap-1 text-xs text-token-text-secondary",children:[s?.real_time_audio_has_video&&c.jsx(J6,{"aria-label":n.formatMessage({id:"/nS9Zn",defaultMessage:"Recorded with video or screenshare"}),className:"icon-sm"}),a&&c.jsx(eU,{"aria-label":n.formatMessage({id:"eP1JEa",defaultMessage:"Recorded with voice"}),className:"icon-sm"}),i!==void 0&&c.jsx("span",{className:"font-semibold",children:Txe(i)})]})});function l2({type:e="info",children:t,isDismissible:n=!1,onDismiss:r,className:s,isElevated:o=!1}){const[a,i]=p.useState(!1);if(a)return null;let l;return e!=="none"&&(l=Xc),c.jsxs(kxe,{$type:e,className:O("flex w-full items-start gap-3 rounded-2xl border text-sm",e==="warning"||e==="danger"?"bg-opacity-5":"bg-opacity-10",n?"py-2.5 pl-3 pr-2 md:py-3 md:pl-4 md:pr-3":"px-3 py-2.5 md:p-4",o&&"shadow-xxs",s),children:[l&&c.jsx(l,{className:O("icon-lg shrink-0",n&&"mt-[2px] md:mt-px",(e==="info"||e==="none")&&"text-token-text-secondary")}),c.jsx("div",{className:O("grow",n?"pt-[4px] md:pt-[3px]":"pt-[2px]",!l&&"pl-1"),children:t}),n&&c.jsx("button",{onClick:()=>{i(!0),r?.()},className:O("flex h-7 w-7 shrink-0 items-center justify-center rounded-full bg-transparent text-token-text-primary",(e==="info"||e==="none")&&"hover:bg-token-main-surface-secondary",e==="danger"&&"hover:bg-token-surface-error/10",e==="warning"&&"hover:bg-orange-400/10"),children:c.jsx(ii,{className:"icon-md"})})]})}const kxe=Ee.div`
${({$type:e})=>{switch(e){case"danger":return"text-token-text-error border-token-surface-error/15 bg-token-surface-error bg-opacity-0";case"warning":return"text-orange-600 bg-orange-400 bg-opacity-0 border-orange-400/15";case"success":return"text-green-500 border-green-500 bg-green-500 bg-opacity-0";default:return"text-token-text-primary border-token-border-light bg-token-main-surface-primary bg-opacity-0"}}}`,Pxe=({textdocId:e})=>{const t=Ls(l=>l?.resolveTempTextdocId[e]??e),n=zh(t),r=ww(t),s=Jc();if(!n)return null;const o=()=>{Fa(t)},{title:a,type:i}=n;return c.jsx("div",{className:"flex w-full justify-end",children:c.jsx(Yb,{textdocId:t,type:i,name:a,isFocused:r,isCanvasOpen:s,onClick:o,isInlinePreview:!0})})},Axe=({messages:e})=>{const[t]=e,n=t?.message.metadata?.canvas;return!n||n.user_message_type!=null?null:c.jsx(c.Fragment,{children:n.pasted_textdocs?.map(({tempId:r})=>c.jsx(Pxe,{textdocId:r},r))})};var wt=(e=>(e.DownloadMessages="download-messages",e.InviteUsersToWorkspace="invite-users-to-workspace",e.WorkspaceAppearance="workspace-appearance",e.KeyboardActions="keyboard-actions",e.UserContext="user-context",e.WorkspaceSwitcher="workspace-switcher",e.ReadOnlyConversationTemplate="read-only-conversation-template",e.CookieManagement="cookie-management",e.AgeVerificationInterstitial="age-verification-interstitial",e.GPTDetails="gpt-details",e.GPTPrivacySettings="gpt-privacy-settings",e.GPTFeedbackEmail="gpt-support-email",e.GPTReview="gpt-review",e.GPTRemoveThirdParty="gpt-remove-third-party",e.SharedConversationModeration="shared-conversation-moderation",e.ReportConversation="report-conversation",e.BlockingInitialComponent="blocking-initial-component",e.NoAuthNewChat="no-auth-new-chat",e.GlobalMemoryOnboarding="global-memory-onboarding",e.AccountPayment="account-payment",e.CreateExclusion="create-exclusion",e.AddServiceAccountKey="add-service-account-key",e.DeleteServiceAccountKey="delete-service-account-key",e))(wt||{});const u2=Ke.IsNavigationCollapsed,d2=Ke.IsGptListCollapsed;function $xe(){const e=At.getItem(u2)??!1;return wn.setCookie(hn.NavigationState,e?"0":"1",{maxAge:2**30}),{collapsed:e}}function Oxe({collapsed:e}){At.setItem(u2,e),wn.setCookie(hn.NavigationState,e?"0":"1",{maxAge:2**30})}const we=He()(()=>({isThreadHeaderVisible:!0,isDesktopNavCollapsed:$xe().collapsed,isVoiceActive:!1,sharingModalThreadId:void 0,feedbackModalThreadId:void 0,leaveWorkspaceData:null,activeSidebar:!1,chatThreadFlyout:{userPreferenceIsOpen:ik()??!1,isOpen:ik()??!1},activeStageSidebar:!1,activeModals:new Set,isLatencyDevToolsVisible:!1,purchaseWorkspaceData:null,isGptListCollapsed:At.getItem(d2)??!0,browseMode:"conversation",voiceFeedbackThread:null,lastVoiceSessionStartTime:null,lastVoiceSessionEndTime:null})),Wdt={isThreadHeaderVisible:e=>e.isThreadHeaderVisible,isLatencyDevtoolsVisible:e=>e.isLatencyDevToolsVisible,isGptListCollapsed:e=>e.isGptListCollapsed},Re={setBrowseMode:e=>{we.setState(t=>({...t,browseMode:e}))},enterGizmoEditor:()=>{we.setState({browseMode:"gizmo-editor"})},exitGizmoEditor:()=>{we.setState({browseMode:"conversation"})},toggleGptListCollapsed:()=>{we.setState(e=>{const t=!e.isGptListCollapsed;return At.setItem(d2,t),P.logToggleShowGptList({isCollapsed:t}),{isGptListCollapsed:t}})},toggleNavSidebar:()=>{we.getState().activeStageSidebar?Re.togglePopoverNavSidebar():Re.toggleDesktopNavCollapsed()},togglePopoverNavSidebar:()=>{Re.toggleActiveSidebar("popover-nav")},closePopoverNavSidebar:()=>{we.setState(e=>e.activeSidebar==="popover-nav"?{activeSidebar:void 0}:{})},toggleDesktopNavCollapsed:e=>{we.setState(t=>{const n=e??!t.isDesktopNavCollapsed;return Oxe({collapsed:n}),P.logToggleDesktopNavCollapsed({isDesktopNavCollapsed:n}),{isDesktopNavCollapsed:n}})},hideThreadHeader:()=>{we.setState({isThreadHeaderVisible:!1})},showThreadHeader:()=>{we.setState({isThreadHeaderVisible:!0})},openSharingModal(e,t){we.setState({sharingModalThreadId:e}),P.logEvent(A.shareConversationOpenModal,{location:t})},closeSharingModal(){we.setState({sharingModalThreadId:void 0})},openFeedbackModal(e){we.setState({feedbackModalThreadId:e})},closeFeedbackModal(){we.setState({feedbackModalThreadId:void 0})},setLeaveWorkspaceData(e){we.setState({leaveWorkspaceData:e})},setPurchaseWorkspaceData(e){we.setState({purchaseWorkspaceData:e})},setActiveSidebar(e){we.setState({activeSidebar:e})},toggleActiveSidebar(e){we.setState(t=>({activeSidebar:t.activeSidebar===e?!1:e}))},closeActiveSidebar(){we.setState(()=>({activeSidebar:!1}))},setActiveStageSidebar(e){we.setState({activeStageSidebar:e})},toggleModal(e){we.setState(t=>{const n=new Set(t.activeModals);return n.has(e)?n.delete(e):n.add(e),{activeModals:n}})},openModal(e){we.setState(t=>{const n=new Set(t.activeModals);return n.add(e),{activeModals:n}})},closeModal(e){we.setState(t=>{const n=new Set(t.activeModals);return n.delete(e),{activeModals:n}})},closeAllActiveModals(){we.setState({activeModals:new Set})},hideLatencyDevTools:()=>{we.setState({isLatencyDevToolsVisible:!1})},showLatencyDevTools:()=>{we.setState({isLatencyDevToolsVisible:!0})},openChatThreadFlyout:(e,t,n)=>{P.logEventWithStatsig(A.searchLinkSidebarShown,"search_links_sidebar_shown",Ba({turnIndex:t,clientThreadId:e,messageId:n})),ck(!0),we.setState({chatThreadFlyout:{isOpen:!0,userPreferenceIsOpen:!0,turnIndex:t,messageId:n,clientThreadId:e}})},toggleChatThreadFlyout:(e,t,n)=>{const r=we.getState().chatThreadFlyout;e===r.clientThreadId&&t===r.turnIndex&&r.isOpen?Re.closeChatThreadFlyout(e,n):Re.openChatThreadFlyout(e,t,n)},closeChatThreadFlyout:(e,t)=>{P.logEventWithStatsig(A.searchLinkSidebarClosed,"search_links_sidebar_closed",Ba({clientThreadId:e,messageId:t})),ck(!1),we.setState({chatThreadFlyout:{isOpen:!1,userPreferenceIsOpen:!1}})},temporaryCloseChatThreadFlyout:()=>{we.setState(e=>({chatThreadFlyout:{isOpen:!1,userPreferenceIsOpen:e.chatThreadFlyout.userPreferenceIsOpen}}))}};function MS(e){return we(t=>t.activeModals.has(e))}function f2(){return we(e=>e.chatThreadFlyout)}function zp(){const{isUnauthenticated:e}=Ut(),t=p.useContext(AA).getCookie(hn.NavigationState),n=we(r=>r.isDesktopNavCollapsed);return e?!0:t?t==="0":n}function Ixe(){const[e,t]=p.useState(!1),n=we(r=>r.activeModals);return p.useEffect(()=>{t(r=>r||n.has("blocking-initial-component"))},[n]),e}function ik(){const e=At.getItem(Ke.ChatThreadFlyoutState);return e===void 0?null:e}function ck(e){At.setItem(Ke.ChatThreadFlyoutState,e)}function Nxe(e,t=[]){if(t.length===0)return e;const n=t.filter(r=>r.end_ix<=e.length&&r.citation_format_type==="tether_markdown"&&r.metadata?.type==="webpage");for(let r=n.length-1;r>=0;r--){const s=n[r];if(s.metadata?.type!=="webpage")continue;const{start_ix:o,end_ix:a,metadata:i}=s,u=e.substring(o,a).replace(/\[(.*?)\]\((\d+)\)/g,`[$1](${i?.url})`);e=e.substring(0,o)+u+e.substring(a)}return e}function Rxe(e,t=[]){if(t.length===0)return[];const n=[],r=t.filter(o=>o.end_ix<=e.length&&o.citation_format_type!=="tether_markdown"),s=a8(e);for(let o=r.length-1;o>=0;o--){const a=r[o];let i;const{start_ix:l,end_ix:u,metadata:d,invalid_reason:f}=a;if(!d?.type)continue;const h=s.slice(l,u).join("");switch(d.type){case"webpage":i={...d,type:"webpage",title:d.title??"",snippet:d.text??null,pub_date:Bxe(d.pub_date),matched_text:h,start_idx:l,end_idx:u,alt:null,prompt_text:null,safe_urls:[],attributions:null};break;case"file":i={...d,matched_text:h,start_idx:l,end_idx:u,alt:null,prompt_text:null,safe_urls:[]};break}f&&(i={type:"invalid",alt:f,prompt_text:null,start_idx:l,end_idx:u,matched_text:h,invalid:!0,safe_urls:[]});let m=!1;if(n.length>0){const g=n[n.length-1];lk(g)===lk(i)&&s.slice(g.end_idx,a.start_ix).join("").trim().length===0&&(n[n.length-1].end_idx=a.end_ix,m=!0)}!m&&i&&n.push(i)}return n}function jxe(e,t=[],n=[],r=!0){const s=Nxe(e,t),a=[...n.length>0?[]:Rxe(s,t),...n],i=Zn(a.map(l=>l.type==="file"?h2(r,l):l));return{text:s,contentReferences:i}}function Dxe(){const{config:e}=Da("1001765573"),t=Da("3168246095");return e.get("ca_enabled",!1)?t.config.get("gizmo_ids",[],Fxe):[]}function Lxe(){return Da("1001765573").config.get("ca_enabled",!1)}function Fxe(e){return Array.isArray(e)&&e.every(t=>typeof t=="string")}function lk(e){switch(e.type){case"file":return e.id;case"webpage":return e.url;case"invalid":return e.alt}}function h2(e,t){if(!e)return t;const n=t.name.split("¤");if(n.length!==3)return t;const[r,s,o]=n;let a=o;const i=o.lastIndexOf(".");i!==-1&&(a=o.slice(0,i));let l,u="Google Drive";if(r==="gdrive")l=`https://drive.google.com/file/d/${s}/view`,u="Google Drive";else if(r==="gdoc")l=`https://docs.google.com/document/d/${s}`,u="Google Docs";else if(r==="notion")l=`https://www.notion.so/openai/${s}`,u="Notion";else return t;return{...t,type:"webpage",url:l,title:a,snippet:u,pub_date:null,attributions:null}}function Bxe(e){return e==null?null:new Date(e).getTime()/1e3}let Gg=null;function ES(){return Gg||(Gg=Ie(()=>import("./m6iys26wooem5dzg.js").then(e=>e.F),__vite__mapDeps([11,1,2,3,12,13,14,15,16,6,17,18,19,20,21,8,22,23,24,25]))),Gg}const kS=Oe(()=>ES().then(e=>e.FormattedText)),Wg=Oe(()=>ES().then(e=>e.UserFormattedText));function Hdt(){return p.use(ES()),null}const Uxe={highlightedAttributions:new Map,isPaused:!1},ya=He(()=>Uxe),Vxe={enabled:!0,debugMode:!1,disableSegmentReplacement:!1,probMin:0,probMax:.1,numProbs:10,filterToSection:!0,influenceTemperature:.5},Er=He()($A(()=>({...Vxe}),{name:"search.attributions-settings",getStorage:()=>localStorage}));function p2(e,t){return`${e}-${t}`}const uk={setHighlight:(e,t,n=10)=>{if(e!=null)return t==null?uk.clearHighlights():(Array.isArray(t)||(t=[t]),t=t.slice(0,n),ya.setState(r=>{if(r.isPaused)return r;const s=new Map(r.highlightedAttributions);for(const{attribution_index:o,probability:a}of t){const i=p2(e,o);a>0?s.set(i,a):s.delete(i)}return{highlightedAttributions:s}}))},setHighlightBySource:(e,t)=>{let n;"attributions"in t&&(n=t.attributions??void 0);const r=Er.getState().filterToSection,s=Er.getState().numProbs,o=Er.getState().influenceTemperature;let a;if("attributions_debug"in t&&(a=t.attributions_debug),a?.full_indexed_influence&&a?.ref_id&&o!==a?.influence_temperature){const l=Hxe(a,o,void 0,r,s);l&&(n=l)}const i=r?a?.filtered_segments:void 0;return i&&n&&(n=n.filter(({attribution_index:l})=>i.includes(l))),uk.setHighlight(e,n,s)},setPaused:e=>ya.setState({isPaused:e}),clearHighlights:()=>{if(!ya.getState().isPaused)return ya.setState({highlightedAttributions:new Map})}},Gxe=()=>{const{value:e}=$t("2192543539"),t=Er(n=>n.enabled);return e&&t},zdt=()=>Er(e=>e.debugMode),qdt=()=>Er(e=>[e.probMin,e.probMax]),Ydt=()=>Er(e=>e.numProbs),Kdt=(e,t)=>ya(n=>e==null?0:n.highlightedAttributions.get(p2(e,t))??0),Qdt=()=>ya(e=>e.isPaused),Wxe=()=>Er(e=>e.disableSegmentReplacement||!e.enabled),Xdt=()=>Er(e=>e.influenceTemperature),Zdt=()=>Er(e=>e.filterToSection);function m2(e,t=1,n){const r={};for(const s in e){const o=e[s],a={},i=Object.entries(o);for(const[f,h]of i)a[f]=h;let l=0;const u={};for(const f in a){const h=a[f],m=Math.exp(h/t);u[f]=m,l+=m}const d={};for(const f in u)d[f]=u[f]/l;r[s]=d}return r}function Hxe(e,t=1,n,r,s){const o=e.full_indexed_influence,a=e.ref_id;if(!o||!a)return null;const i=m2(o,t),l=[];for(const u in i)r&&e.filtered_segments&&!e.filtered_segments?.includes(u)||l.push({attribution_index:u,probability:i[u][a],influence:o[u][a]});return l.sort((u,d)=>d.probability-u.probability),s?l.slice(0,s):l}function Jdt(e,t=1,n){const r={};if(e.every(a=>a.influence==null))return e;e.forEach((a,i)=>{r[`${i}`]=a.influence??0});const o=m2({0:r},t);return e.map((a,i)=>({...a,probability:o[0][`${i}`]}))}const zxe=p.createContext(void 0);function qxe(){const{value:e}=$t("568802918");return e}function Yxe(){const e=new Intl.Segmenter("en-us",{granularity:"word"});return t=>{let n="";const r=[];return Array.from(e.segment(t)).forEach(({segment:s,isWordLike:o})=>{if(!o){n+=s;return}r.push(`${n}${s}`),n=""}),n.length>0?r.length===0?[n]:[...r.slice(0,r.length-1),`${r[r.length-1]}${n}`]:r}}class Ms{static Interval=200;static ResetInterval=5e3;animatedNodeCount=0;alreadyAnimatedCount=0;batch=1;nextBatch=2;keyToNodeMap=new Map;hasNodeInBatch=!1;hasNodeInNextBatch=!1;state="reset";waitingRichBlocks=new Set;lastCreatedNode;segmenter;isActivelyStreaming=!1;onReset;onResetContext;onStylesUpdated;constructor(t){this.onStylesUpdated=t??(()=>{});try{this.segmenter=Yxe()}catch{this.segmenter=n=>n.split("")}}setOnStylesUpdatedCallback(t){this.onStylesUpdated=t}setOnResetContext(t){this.onResetContext=t}setOnResetCallback(t){this.onReset=t}onStreamingChanged(t){this.isActivelyStreaming!==t&&(this.isActivelyStreaming=t,t?this.maybeStartBatch():setTimeout(()=>{this.reset()},Ms.ResetInterval))}reset(){p.startTransition(()=>{this.animatedNodeCount=0,this.batch=1,this.nextBatch=2,this.keyToNodeMap.forEach(t=>{t.textSegments.clear()}),this.keyToNodeMap.clear(),this.hasNodeInBatch=!1,this.hasNodeInNextBatch=!1,this.waitingRichBlocks.clear(),this.lastCreatedNode=void 0,this.state="reset",this.onStylesUpdated(this.createTopLevelStyles()),this.onReset?.(),this.onResetContext?.()})}advanceToNextBatch(){if(this.hasNodeInBatch){if(this.batch=this.nextBatch,this.nextBatch++,this.hasNodeInBatch=!1,this.onStylesUpdated(this.createTopLevelStyles()),!this.hasNodeInNextBatch){this.state="idle",this.animatedNodeCount=0,this.alreadyAnimatedCount=0;return}setTimeout(()=>{this.hasNodeInBatch=!0,this.hasNodeInNextBatch=!1,this.advanceToNextBatch()},Ms.Interval)}}get isIdleOrReset(){return this.state==="idle"||this.state==="reset"}get canAddToCurrentBatch(){return this.isActivelyStreaming&&this.state==="waiting"}get canStartNewBatch(){return this.isIdleOrReset&&this.isActivelyStreaming}maybeStartBatch(){this.canStartNewBatch&&(this.state="waiting",setTimeout(()=>this.advanceToNextBatch(),Ms.Interval))}createTopLevelStyles(){const t={};let n=1;for(;n<this.nextBatch+1;)t[`--batch-play-state-${n}`]="playing",n++;return this.state==="reset"&&(t["--turn-block-opacity"]="1",t["--turn-animation"]="none"),t}createBlockstyles(t){return{"--streaming-animation-state":`var(--batch-play-state-${t})`,"--animation-rate":`var(--batch-play-rate-${t})`}}createMarkerStyles(t){if(typeof t=="number")return{"--animation-marker-count":t??this.animatedNodeCount};const n=t?.position?.start.line??-1,r=t?.position?.start.column??-1;let s;for(const o of this.keyToNodeMap.values()){const{start:a}=o.element.position??{start:{line:-1,column:-1}};if(a.line>=n&&a.column>=r){s=o;break}}return s?{"--animation-marker-count":s.startCount+1}:{}}createChildStyles(t,n){return{...n,"--animation-count":t.startCount,"--streaming-animation-state":`var(--batch-play-state-${t.batch})`}}processChildren({children:t,element:n}){const r=this.makeAnimationNode(n,void 0,!1);return X.Children.map(t,(o,a)=>{const i=n.children[a];return this.processNode({element:i,parent:r,reactNode:o}).reactElement})}makeAnimationNode(t,n,r){const s=this.generateKey(t);let o=this.batch;this.canAddToCurrentBatch?this.hasNodeInBatch=!0:(this.hasNodeInNextBatch=!0,o=this.batch+1);let a=this.keyToNodeMap.get(s);return a?a.parent=n:(a={batch:o,key:s,element:t,startCount:r?this.animatedNodeCount++:this.animatedNodeCount,parent:n,textSegments:new Set,children:new Map},this.keyToNodeMap.set(s,a),this.lastCreatedNode=a),this.waitingRichBlocks.forEach(i=>i()),a}getStaticStyles(t){const n={"--streaming-animation-state":"paused"};if(!t)return n;const r=this.generateKey(t);if(this.keyToNodeMap.has(r)){const s=this.keyToNodeMap.get(r);if(s)return this.createChildStyles(s)}return n}async processElementForStyles(t,n){const r=this;function s(){const u=t?.position?.start.line??0,d=t?.position?.start.column??0,{position:f}=r.lastCreatedNode?.element??{position:{start:{line:-1,column:-1}}},h=f?.start.line??-1,m=f?.start.column??-1;return h>=u&&m>=d}let o;function a(u){if(s()){r.waitingRichBlocks.delete(o);const d=r.makeAnimationNode(t,void 0,!0),f=r.createChildStyles(d,n);return u?.(f),f}}const i=a();if(i)return i;function l(){return new Promise(u=>{o=()=>a(u),r.waitingRichBlocks.add(o)})}return l()}static getNodeType(t,n){if(p.isValidElement(n)){if(t.type==="text")return 1;if(t.type==="element")return 0}return typeof n=="string"?2:3}processReactParent({reactNode:t,element:n,parent:r}){const s=X.Children.map(t.props.children,(o,a)=>{const i=n.children[a];if(!i)return o;const l=this.processNode({element:i,reactNode:o,parent:r});return r.children.set(l.key,l),l.reactElement});return r.reactElement=p.cloneElement(t,{children:s,style:{...t.props.style,...n.tagName==="li"?this.createMarkerStyles(r.startCount):{}}}),r}processReactText({reactNode:t,parent:n}){const{children:r,node:s}=t.props,o=s;if(!o)return r;const a=this.makeAnimationNode(o,n,!1),i=X.Children.map(r,l=>{const u=this.processNode({element:o,reactNode:l,parent:a});return n.children.set(u.key,u),u.reactElement});return n.reactElement=p.cloneElement(t,{children:i}),n}processPlainText({element:t,reactNode:n,parent:r}){if([" "].includes(n))r.reactElement=n;else{const s=this.segmenter(n),o=r,a=o.startCount;r.reactElement=c.jsx(c.Fragment,{children:s.map((i,l)=>{const u=this.generateKey(t);o.textSegments.has(u)||(this.animatedNodeCount++,o.textSegments.add(u));const d=a+l;return c.jsx("span",{style:{"--animation-count":d,"--streaming-animation-state":`var(--batch-play-state-${r.batch})`},children:i},l)})})}return r}processNode({element:t,reactNode:n,parent:r}){const s=this.makeAnimationNode(t,r,!1);switch(s.reactElement=n,Ms.getNodeType(t,n)){case 0:return this.processReactParent({reactNode:n,element:t,parent:s});case 1:return this.processReactText({reactNode:n,element:t,parent:s});case 2:return this.processPlainText({reactNode:n,element:t,parent:s});default:return s}}generateKey(t){const{start:n}=t?.position??{start:{line:-1,column:-1}};return`${n.line}-${n.column}`}}const g2=p.createContext(new Ms(()=>({})));function eft(){return p.useContext(g2)}function Kxe(){const e=p.useRef(void 0);return e.current||(e.current=new Ms),{reset:p.useCallback(()=>{e.current=new Ms},[]),streamingContext:e.current,StreamingProvider:g2.Provider}}var J=(e=>(e[e.Text=0]="Text",e[e.MultiText=1]="MultiText",e[e.Browsing=2]="Browsing",e[e.CodeInterpreter=3]="CodeInterpreter",e[e.JITPlugin=4]="JITPlugin",e[e.RetrievalBrowsing=5]="RetrievalBrowsing",e[e.ParallelBrowsing=6]="ParallelBrowsing",e[e.Dalle=7]="Dalle",e[e.Canmore=8]="Canmore",e[e.GizmoEditor=9]="GizmoEditor",e[e.SearchResult=10]="SearchResult",e[e.Debug=11]="Debug",e[e.SearchGPTQuery=12]="SearchGPTQuery",e[e.a8km123=13]="a8km123",e[e.f959b8c=14]="f959b8c",e[e.b1de6e2=15]="b1de6e2",e[e.b1de6e2_c=16]="b1de6e2_c",e[e.de1d73e=17]="de1d73e",e))(J||{});const Qxe=[2,5,12];function Xxe({messages:e}){const[t,n]=p.useState(),r=V();let s=null;for(const o of e)if(o.message.metadata?.dalle?.from_client?.operation!=null){s=o.message.metadata.dalle.from_client.operation;break}return p.useEffect(()=>{if(s==null)return;const o=s.original_file_id;async function a(i){try{const l=await Z.getFileDownloadLink(i);l.status===br.Success?n(l.download_url):ae.addError(`Error fetching URL for file ${i}: ${l.status}`)}catch(l){ae.addError(new Error(`Error fetching URL for file ${i}`,{cause:l}))}}a(o)},[s]),s==null?null:c.jsxs("div",{className:"mt-2 flex items-center gap-1 text-token-text-tertiary",children:[c.jsx(x$,{className:"icon-md shrink-0"}),t==null?c.jsx("div",{className:"h-7"}):c.jsxs(c.Fragment,{children:[c.jsx("img",{src:t,alt:r.formatMessage({id:"textMessage.editedImageAltText",defaultMessage:"Edited image"}),className:"h-7 w-auto rounded opacity-50"}),s.type==="inpainting"&&c.jsx("span",{className:"ml-1 text-sm font-semibold",children:c.jsx(S,{id:"textMessage.inpaintedImage",defaultMessage:"Selection"})})]})]})}const Ti=Ee.a`bold underline`,Xn=({className:e,isUserTurn:t,flag:n,children:r})=>n!=="info"&&t?c.jsx(dk,{className:O("w-full pr-5 text-right",e),$flag:n,children:r}):c.jsxs(dk,{$flag:n,className:O("flex w-full items-start gap-3 rounded-2xl border p-4",n==="warning"||n==="danger"?"bg-opacity-5":"bg-opacity-10",e),children:[c.jsx(Xc,{className:"icon-lg"}),c.jsx("div",{className:"pt-px",children:r})]}),dk=Ee.div`text-sm 
${({$flag:e})=>{switch(e){case"danger":return"text-token-text-error border-token-surface-error/15 bg-token-surface-error bg-opacity-0";case"warning":return"text-orange-600 border-token-border-light bg-orange-400 bg-opacity-0";case"info":return"text-token-text-primary border-token-border-light bg-token-main-surface-primary bg-opacity-0";default:return"text-green-500 border-green-500 bg-green-500 bg-opacity-0"}}}`,Zxe={a:e=>{const{node:t,...n}=e;return c.jsx(Ti,{...n,target:"_blank",rel:"noreferrer",className:"[&&]:text-black [&&]:underline [&&]:hover:text-black [&&]:dark:text-white [&&]:hover:dark:text-white"})}};function Jxe({disclaimerContent:e,isUserTurn:t,className:n}){switch(e){case"us_elections_policy":return c.jsx(Xn,{flag:"info",isUserTurn:t,className:n,children:c.jsx(S,{id:"D1Mw8a",defaultMessage:"Always verify information about voting with your state or local election authority. For more information, visit <usElectionLink></usElectionLink>.",values:{usElectionLink:twe}})});case"eu_elections_policy":return c.jsx(Xn,{flag:"info",isUserTurn:t,className:n,children:c.jsx(S,{id:"Disclaimer.EUElections",defaultMessage:"Always verify information about voting with your local election authority. For more information about the EU elections, visit <euElectionLink></euElectionLink>.",values:{euElectionLink:ewe}})});case"generic_elections_policy":return c.jsx(Xn,{flag:"info",isUserTurn:t,className:n,children:c.jsx(S,{id:"Disclaimer.GenericElections",defaultMessage:"Always verify information about voting with your local election authority."})})}return c.jsx(Xn,{flag:"info",isUserTurn:t,className:n,children:c.jsx(kS,{className:"text-sm",componentOverrides:Zxe,children:e})})}const ewe=()=>c.jsx(Ti,{target:"_blank",href:"https://elections.europa.eu",rel:"noreferrer",children:"elections.europa.eu"}),twe=()=>c.jsx(Ti,{target:"_blank",href:"https://canivote.org",rel:"noreferrer",children:"canivote.org"});function nwe({className:e,isUserTurn:t,message:n}){return n?.disclaimers?.length?c.jsx("div",{className:"flex flex-col gap-2",children:n.disclaimers.map(r=>c.jsx(Jxe,{className:e,disclaimerContent:r,isUserTurn:t},r))}):null}const v2=-1,qp=0,Kf=1,Qf=2,PS=3,AS=4,$S=5,OS=6,y2=7,b2=8,fk=typeof self=="object"?self:globalThis,rwe=(e,t)=>{const n=(s,o)=>(e.set(o,s),s),r=s=>{if(e.has(s))return e.get(s);const[o,a]=t[s];switch(o){case qp:case v2:return n(a,s);case Kf:{const i=n([],s);for(const l of a)i.push(r(l));return i}case Qf:{const i=n({},s);for(const[l,u]of a)i[r(l)]=r(u);return i}case PS:return n(new Date(a),s);case AS:{const{source:i,flags:l}=a;return n(new RegExp(i,l),s)}case $S:{const i=n(new Map,s);for(const[l,u]of a)i.set(r(l),r(u));return i}case OS:{const i=n(new Set,s);for(const l of a)i.add(r(l));return i}case y2:{const{name:i,message:l}=a;return n(new fk[i](l),s)}case b2:return n(BigInt(a),s);case"BigInt":return n(Object(BigInt(a)),s)}return n(new fk[o](a),s)};return r},hk=e=>rwe(new Map,e)(0),ta="",{toString:swe}={},{keys:owe}=Object,Ki=e=>{const t=typeof e;if(t!=="object"||!e)return[qp,t];const n=swe.call(e).slice(8,-1);switch(n){case"Array":return[Kf,ta];case"Object":return[Qf,ta];case"Date":return[PS,ta];case"RegExp":return[AS,ta];case"Map":return[$S,ta];case"Set":return[OS,ta]}return n.includes("Array")?[Kf,n]:n.includes("Error")?[y2,n]:[Qf,n]},pu=([e,t])=>e===qp&&(t==="function"||t==="symbol"),awe=(e,t,n,r)=>{const s=(a,i)=>{const l=r.push(a)-1;return n.set(i,l),l},o=a=>{if(n.has(a))return n.get(a);let[i,l]=Ki(a);switch(i){case qp:{let d=a;switch(l){case"bigint":i=b2,d=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return s([v2],a)}return s([i,d],a)}case Kf:{if(l)return s([l,[...a]],a);const d=[],f=s([i,d],a);for(const h of a)d.push(o(h));return f}case Qf:{if(l)switch(l){case"BigInt":return s([l,a.toString()],a);case"Boolean":case"Number":case"String":return s([l,a.valueOf()],a)}if(t&&"toJSON"in a)return o(a.toJSON());const d=[],f=s([i,d],a);for(const h of owe(a))(e||!pu(Ki(a[h])))&&d.push([o(h),o(a[h])]);return f}case PS:return s([i,a.toISOString()],a);case AS:{const{source:d,flags:f}=a;return s([i,{source:d,flags:f}],a)}case $S:{const d=[],f=s([i,d],a);for(const[h,m]of a)(e||!(pu(Ki(h))||pu(Ki(m))))&&d.push([o(h),o(m)]);return f}case OS:{const d=[],f=s([i,d],a);for(const h of a)(e||!pu(Ki(h)))&&d.push(o(h));return f}}const{message:u}=a;return s([i,{name:l,message:u}],a)};return o},pk=(e,{json:t,lossy:n}={})=>{const r=[];return awe(!(t||n),!!t,new Map,r)(e),r},Hg=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?hk(pk(e,t)):structuredClone(e):(e,t)=>hk(pk(e,t)),tft=function(e,t,n,r,s){const o=IS(t);return x2(e)?o.call(s,e,n,r):!1},IS=function(e){if(e==null)return lwe;if(typeof e=="string")return cwe(e);if(typeof e=="object")return iwe(e);if(typeof e=="function")return NS(e);throw new Error("Expected function, string, or array as `test`")};function iwe(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=IS(e[n]);return NS(r);function r(...s){let o=-1;for(;++o<t.length;)if(t[o].apply(this,s))return!0;return!1}}function cwe(e){return NS(t);function t(n){return n.tagName===e}}function NS(e){return t;function t(n,r,s){return!!(x2(n)&&e.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function lwe(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}function x2(e){return e!==null&&typeof e=="object"&&"type"in e&&"tagName"in e}const uwe=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,dwe=/^[a-zA-Z]:\\/;function fwe(e){if(typeof e!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return dwe.test(e)?!1:uwe.test(e)}function hwe(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function nft(e){return e.join(" ").trim()}const w2=function(e){if(e==null)return vwe;if(typeof e=="function")return Yp(e);if(typeof e=="object")return Array.isArray(e)?pwe(e):mwe(e);if(typeof e=="string")return gwe(e);throw new Error("Expected function, string, or object as test")};function pwe(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=w2(e[n]);return Yp(r);function r(...s){let o=-1;for(;++o<t.length;)if(t[o].apply(this,s))return!0;return!1}}function mwe(e){const t=e;return Yp(n);function n(r){const s=r;let o;for(o in e)if(s[o]!==t[o])return!1;return!0}}function gwe(e){return Yp(t);function t(n){return n&&n.type===e}}function Yp(e){return t;function t(n,r,s){return!!(ywe(n)&&e.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function vwe(){return!0}function ywe(e){return e!==null&&typeof e=="object"&&"type"in e}const S2=[],bwe=!0,mk=!1,xwe="skip";function wwe(e,t,n,r){let s;typeof t=="function"&&typeof n!="function"?(r=n,n=t):s=t;const o=w2(s),a=r?-1:1;i(e,void 0,[])();function i(l,u,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const m=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return h;function h(){let m=S2,g,v,y;if((!t||o(l,u,d[d.length-1]||void 0))&&(m=Swe(n(l,d)),m[0]===mk))return m;if("children"in l&&l.children){const x=l;if(x.children&&m[0]!==xwe)for(v=(r?x.children.length:-1)+a,y=d.concat(x);v>-1&&v<x.children.length;){const b=x.children[v];if(g=i(b,v,y)(),g[0]===mk)return g;v=typeof g[1]=="number"?g[1]:v+a}}return m}}}function Swe(e){return Array.isArray(e)?e:typeof e=="number"?[bwe,e]:e==null?S2:[e]}function _we(e,t,n,r){let s,o,a;typeof t=="function"&&typeof n!="function"?(o=void 0,a=t,s=n):(o=t,a=n,s=r),wwe(e,o,i,s);function i(l,u){const d=u[u.length-1],f=d?d.children.indexOf(l):void 0;return a(l,f,d)}}const Cwe=["http","https"],Twe=["nofollow"],Mwe={};function Ewe(e){const t=e||Mwe,n=t.protocols||Cwe,r=IS(t.test);return function(s){_we(s,"element",function(o,a,i){if(o.tagName==="a"&&typeof o.properties.href=="string"&&r(o,a,i)){const l=o.properties.href;if(fwe(l)?n.includes(l.slice(0,l.indexOf(":"))):l.startsWith("//")){const u=Qi(t.content,o),d=u&&!Array.isArray(u)?[u]:u,f=Qi(t.rel,o)||Twe,h=typeof f=="string"?hwe(f):f,m=Qi(t.target,o),g=Qi(t.properties,o);if(g&&Object.assign(o.properties,Hg(g)),h.length>0&&(o.properties.rel=[...h]),m&&(o.properties.target=m),d){const v=Qi(t.contentProperties,o)||{};o.children.push({type:"element",tagName:"span",properties:Hg(v),children:Hg(d)})}}}})}}function Qi(e,t){return typeof e=="function"?e(t):e}const kwe="gpt-4",Qb="model_cap_exceeded",Pwe="oai/apps/capExpiresAt";He(()=>({serverThreadIds:new Set}));function Awe(){const e=Al(s=>s.isoDate),t=Date.now(),n=e&&new Date(e).getTime(),r=e&&n&&n<=t;return p.useEffect(()=>{r&&_2()},[r]),r?null:e?kwe:null}const Al=He()($A(()=>({isoDate:""}),{name:Pwe}));function $we(e){Al.setState({isoDate:e})}function _2(){Al.setState({isoDate:""})}const Owe=Oe(()=>Ie(()=>import("./ex7mlmk1gxgk8gam.js").then(e=>e.D),__vite__mapDeps([14,1,2,3])));function Iwe(e){return e.message.metadata?.safety_plugin_status_code===123}function Nwe(e){return e.message.metadata?.finish_details?.type==="content_filter"}function RS(e){if(e===void 0)return{flagSeverity:void 0,shouldHideContent:!1,errCode:void 0,errMessage:void 0};const{errType:t,errCode:n,err:r,disclaimers:s}=e,o=Nwe(e),a=o&&Iwe(e),i=s&&s.length>0;return a?{flagSeverity:"warning",shouldHideContent:!0,errCode:Dn.ContentRegurgitation,errMessage:r}:!i&&o?{flagSeverity:"warning",shouldHideContent:!0,errCode:Dn.ContentOrTos,errMessage:r}:{flagSeverity:t,shouldHideContent:t==="danger"&&(n===Dn.ContentPolicy||n===Dn.ModelIncompatibility),disclaimers:s,errCode:n,errMessage:r}}function Rwe({message:e,onRequestMoreCompletions:t,clientThreadId:n,id:r,isFeedbackEnabled:s,isUserTurn:o,className:a}){const{errCode:i,errMessage:l,flagSeverity:u}=RS(e);switch(i){case Dn.ContentPolicy:return c.jsx(Xn,{flag:u,isUserTurn:o,className:a,children:c.jsx(Fwe,{isFeedbackEnabled:s})});case Dn.ModelIncompatibility:return c.jsx(Xn,{flag:u,isUserTurn:o,className:a,children:c.jsx(S,{...bn.modelIncompatibilityMessage})});case Dn.ContentOrTos:return c.jsx(Xn,{flag:u,isUserTurn:o,className:a,children:c.jsx(Dwe,{isFeedbackEnabled:s})});case Dn.ContentRegurgitation:return c.jsx(Xn,{flag:u,isUserTurn:o,className:a,children:c.jsx(Lwe,{})});case Qb:return c.jsx(jwe,{className:a,id:r,onRequestMoreCompletions:t,flag:u,clientThreadId:n,isUserTurn:o});case OA:return c.jsx(Xn,{flag:u,isUserTurn:o,className:a,children:c.jsx(S,{...bn.historyDisabledConversationMissing})});default:return l!==void 0?c.jsx(Xn,{flag:u,isUserTurn:o,className:a,children:c.jsx(Owe,{rehypePlugins:[[Ewe,{target:"_new",rel:"noopener noreferrer"}]],className:"markdown prose w-full break-words dark:prose-invert",children:l})}):null}}function jwe({className:e,id:t,onRequestMoreCompletions:n,flag:r,clientThreadId:s,isUserTurn:o}){const a=Al(v=>v.isoDate),i=hI(a),l=nl(s??IA),u=l&&l.kind!==Me.PrimaryAssistant,d=ip(),f=rI(),h=p.useCallback(()=>{K.logEvent("chatgpt_regenerate_due_to_rate_limit_button_clicked",void 0,{useDefaultModel:"false",...Ba({clientThreadId:s})});const v=new Hd;n(t,{eventSource:"mouse"},v,!0,"none",!1)},[t,n,s]),m=p.useCallback(()=>{const v=new Hd,y=f.id;K.logEvent("chatgpt_regenerate_due_to_rate_limit_button_clicked",void 0,{useDefaultModel:"true",...Ba({clientThreadId:s})}),d({modelId:y,location:"Model switcher menu item"}),n(t,{eventSource:"mouse"},v,!0,"none",!0)},[n,t,f.id,d,s]);let g;return u?g=a!=null?c.jsx("span",{children:c.jsx(S,{...bn.gptUsageCapExceededCustomFeature,values:{link:gk,formattedTime:i}})}):c.jsx(S,{...bn.gptUsageCapExceededExpired}):g=a!=null?c.jsx("span",{children:c.jsx(S,{...bn.gptUsageCapExceeded,values:{link:gk,formattedTime:i}})}):c.jsx(S,{...bn.gptUsageCapExceededExpired}),c.jsx(Xn,{flag:a!=null?r:void 0,isUserTurn:o,className:e,children:c.jsxs("div",{className:"flex items-center gap-6",children:[g,a==null&&c.jsx(ue,{color:"secondary",className:"flex-shrink-0",onClick:h,children:c.jsx(S,{...bn.buttonTryAgain})}),a!=null&&!u&&c.jsx(ue,{color:"secondary",className:"flex-shrink-0",onClick:m,children:c.jsx(S,{...bn.buttonUseDefaultModel})})]})})}const gk=e=>c.jsx("a",{href:"https://share.hsforms.com/16d0ZZVM3QZirXnCD_q7u1Q4sk30",target:"_blank",rel:"noreferrer",className:"underline",children:e});function Dwe({isFeedbackEnabled:e}){return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:e?"font-semibold":"",children:c.jsx(S,{...bn.contentOrTosViolationNoFeedback,values:{contentPolicyLink:C2,termsLink:Bwe}})}),c.jsx("div",{children:e&&c.jsx(S,{...bn.contentPolicyFeedback})})]})}function Lwe(){return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"font-semibold",children:c.jsx(S,{...bn.contentRegurgitationViolation})}),c.jsx("div",{children:c.jsx(S,{...bn.readModelSpec,values:{modelSpecLink:Uwe}})})]})}function Fwe({isFeedbackEnabled:e}){return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:e?"font-semibold":"",children:c.jsx(S,{...bn.contentPolicyViolationNoFeedback,values:{contentPolicyLink:C2}})}),c.jsx("div",{children:e&&c.jsx(S,{...bn.contentPolicyFeedback})})]})}const C2=e=>c.jsx(Ti,{target:"_blank",href:"https://openai.com/policies/usage-policies",rel:"noreferrer",children:e}),Bwe=e=>c.jsx(Ti,{target:"_blank",href:"https://openai.com/policies/terms-of-use",rel:"noreferrer",children:e}),Uwe=e=>c.jsx(Ti,{target:"_blank",href:"https://cdn.openai.com/spec/model-spec-2024-05-08.html",rel:"noreferrer",children:e}),bn=Q({contentPolicyFeedback:{id:"TextMessageDisplay.contentPolicyFeedback",defaultMessage:"Did we get it wrong? Please tell us by giving this response a thumbs down."},contentPolicyViolation:{id:"TextMessageDisplay.contentPolicyViolation.2",defaultMessage:"This content may violate our <contentPolicyLink>usage policies</contentPolicyLink>. Did we get it wrong? Please tell us by giving this response a thumbs down."},contentPolicyViolationNoFeedback:{id:"TextMessageDisplay.contentPolicyViolationNoFeedback",defaultMessage:"This content may violate our <contentPolicyLink>usage policies</contentPolicyLink>."},modelIncompatibilityMessage:{id:"cyOWhN",defaultMessage:"Your request was flagged as potentially violating our usage policy. Please try again with a different prompt."},contentOrTosViolation:{id:"TextMessageDisplay.contentOrTosViolation.2",defaultMessage:"This content may violate our <termsLink>Terms of Use</termsLink> or <contentPolicyLink>usage policies</contentPolicyLink>. Did we get it wrong? Please tell us by giving this response a thumbs down."},contentOrTosViolationNoFeedback:{id:"TextMessageDisplay.contentOrTosViolationNoFeedback",defaultMessage:"This content may violate our <termsLink>Terms of Use</termsLink> or <contentPolicyLink>usage policies</contentPolicyLink>."},contentRegurgitationViolation:{id:"kAMQnd",defaultMessage:"ChatGPT isn't designed to provide this type of content."},readModelSpec:{id:"fQ0JYv",defaultMessage:"Read the <modelSpecLink>Model Spec</modelSpecLink> for more on how ChatGPT handles creators' content."},historyDisabledConversationMissing:{id:"TextMessageDisplay.historyDisabledConversationMissing",defaultMessage:"Sorry, conversations created when Chat History is off expire after 6 hours of inactivity. Please start a new conversation to continue using ChatGPT."},somethingWentWrong:{id:"TextMessageDisplay.somethingWentWrong",defaultMessage:"Something went wrong."},gptUsageCapExceeded:{id:"TextMessageDisplay.gptUsageCapExceeded",defaultMessage:"You've reached the current usage cap for GPT-4. You can continue with the default model now, or try again {formattedTime}. <link>Learn more</link>"},gptUsageCapExceededCustomFeature:{id:"TextMessageDisplay.gptUsageCapExceededCustomFeature",defaultMessage:"You've reached the current usage cap for GPT-4, please try again {formattedTime}. <link>Learn more</link>"},gptUsageCapExceededExpired:{id:"TextMessageDisplay.gptUsageCapExceededExpired",defaultMessage:"You previously reached your usage cap for GPT-4, but you can now try sending your message again"},buttonUseDefaultModel:{id:"TextMessageDisplay.buttonUseDefaultModel",defaultMessage:"Use default model"},buttonTryAgain:{id:"TextMessageDisplay.buttonTryAgain",defaultMessage:"Try again"}}),Vwe="application/vnd.google-apps.spreadsheet",Gwe="application/vnd.google-apps.presentation",Wwe="application/vnd.google-apps.document",Hwe=["xlsx","pptx","docx"],zwe={[Vwe]:"xlsx",[Gwe]:"pptx",[Wwe]:"docx"};function T2(e){return e?zwe[e.split(";")[0]]??null:null}function qwe(e){return Hwe.includes(e)}function Ywe(e){return e&&qwe(e)?e:null}var ot=(e=>(e[e.None=0]="None",e[e.Multimodal=1]="Multimodal",e[e.Interpreter=2]="Interpreter",e[e.Retrieval=3]="Retrieval",e[e.ContextConnector=4]="ContextConnector",e[e.ProfilePicture=5]="ProfilePicture",e))(ot||{});function Kwe(e){if(e)return{contextConnector:e.context_connector,sourceUrl:e.source_url,syntheticExtension:Ywe(e.synthetic_extension),type:e.type}}var xs=(e=>(e.Uploading="uploading",e.Ready="ready",e))(xs||{}),Qwe=(e=>(e.Mobile="mobile",e.Small="small",e.Medium="medium",e.Large="large",e.XLarge="xlarge",e))(Qwe||{});const Mi={small:640,medium:768,large:1024,xlarge:1280};function Ei(e){const t=Ah(),n=a=>typeof t<"u"?!!t?.matchMedia(a)?.matches:!1,[r,s]=p.useState(n(e));function o(){s(n(e))}return p.useEffect(()=>{const a=t?.matchMedia(e);if(a)return o(),a.addListener?a.addListener(o):a.addEventListener("change",o),()=>{a.removeListener?a.removeListener(o):a.removeEventListener("change",o)}},[e]),r}function Vo(){return Ei(`(min-width: ${Mi.small}px)`)}function Go(){return Ei(`(min-width: ${Mi.medium}px)`)}function Xwe(e){return e?e.matchMedia(`(min-width: ${Mi.medium}px)`).matches:!0}function jS(){return Ei(`(min-width: ${Mi.large}px)`)}function Zwe(){return Ei(`(min-width: ${Mi.xlarge}px)`)}function ki(){return!Vo()}function rft(e){return!e?.matchMedia(`(min-width: ${Mi.small}px)`).matches}function M2(){return/iPad|iPhone|iPod/.test(window.navigator.platform)}function E2(){return/Android/.test(window.navigator.userAgent)}function Jwe(){return M2()||E2()}function e0e(){return M2()&&navigator.userAgent.includes("CriOS")}function t0e(){return E2()&&navigator.userAgent.includes("CriOS")}function sft(){return navigator.userAgent.includes("Mac OS X")}function n0e(){return navigator.userAgent.includes("Windows_NT")}function r0e(){return navigator.userAgent.includes("Chrome/")&&!/Android|iPhone|iPad/i.test(navigator.userAgent)}function oft(){const e=Vo(),t=Go(),n=jS();return Zwe()?"xlarge":n?"large":t?"medium":e?"small":"mobile"}function aft(){return Ei("(prefers-color-scheme: dark)")}function s0e(){return Ei("(hover: hover) and (pointer: fine)")}function Eo(e){return e.startsWith("file-service://")?e.replace("file-service://",""):e.startsWith("sediment://")?e.replace("sediment://",""):e}function o0e(e){return"file-service://"+e}function a0e(e){return e.startsWith("file-service://")}function Xb(e,t,n){switch(t){case"file_zero_bytes":return e.formatMessage(Wt.fileZeroBytes,n);case"file_too_large":return e.formatMessage(Wt.fileTooLarge,n);case"over_user_quota":return e.formatMessage(Wt.overUserQuota,n);case"file_not_found":case"file_expired":return e.formatMessage(Wt.fileNotFound,n);case"file_timed_out":return e.formatMessage(Wt.fileTimedOut,n);case"ace_pod_expired":return e.formatMessage(Wt.codeInterpreterSessionTimeout,n);case"permission_error":return e.formatMessage(Wt.permissionError,n);case"default_upload_error":case"file_rejected":return e.formatMessage(Wt.defaultCreateEntryError,n);case"default_download_link_error":return e.formatMessage(Wt.defaultDownloadLinkError,n);case"file_empty":return e.formatMessage(Wt.fileEmpty,n);case"too_many_tokens":return e.formatMessage(Wt.fileTooManyTokens,n);case"file_encrypted":return e.formatMessage(Wt.fileEncrypted,n);case"file_corrupted":return e.formatMessage(Wt.fileCorrupted,n);case"failed_upload_to_blobstore":return e.formatMessage(Wt.failedUploadToBlobStore,n);case"internal_error":default:return e.formatMessage(Wt.unknownError)}}function ift(){const e=V();return p.useCallback((t,n)=>Xb(e,t,n),[e])}function cft(){const{session:e}=Kx(),{isUnauthenticated:t}=Ut(),n=V(),r=ze();return async(s,o)=>{if(!t&&e==null)return r.danger(n.formatMessage(Wt.fileDownloadFailed)),!1;try{const a=await Z.getFileDownloadLink(s,void 0,t);if(a.status!==br.Success)throw new Error("File is not ready to download: "+JSON.stringify(a));const i=a.download_url,l=document.createElement("a");l.href=i,l.download=o,l.click(),window.open(i,"_blank")}catch{return r.danger(n.formatMessage(Wt.fileDownloadFailed)),!1}return!0}}function $l(e,t){return t?.kind===Me.GizmoInteraction||t?.kind===Me.GizmoTest?t.gizmo?.product_features:e?.product_features}function Xf(e,t){const n=$l(e,t);return n?.attachments?.type===fa.CodeInterpreter?ot.Interpreter:n?.attachments?.type===fa.Multimodal?ot.Multimodal:n?.attachments?.type===fa.Retrieval?ot.Retrieval:n?.attachments?.type===fa.ContextConnector?ot.ContextConnector:ot.None}function DS(e){const t=e.split(".").pop()?.toLowerCase();return{md:"text/markdown",java:"text/x-java",py:"text/x-script.python",c:"text/x-c",cpp:"text/x-c++",h:"text/x-c++",php:"text/x-php",rb:"text/x-ruby",tex:"application/x-latext",ts:"text/x-typescript",cs:"text/x-csharp"}[t??""]||""}function i0e(e){switch(e){case"application/vnd.google-apps.spreadsheet":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";case"application/vnd.google-apps.document":case"application/vnd.google-apps.presentation":return"text/plain";default:return e}}function c0e(e,t,n,r,s){if(s==null)return e;const o=DS(t);o&&(n=o),r&&(n=i0e(n));const{accepted_mime_types:a,can_accept_all_mime_types:i}=s;return a==null||a.length===0||!i||a.includes(n)?e:ot.Interpreter}function lft(e,t,n){const r=t!==""?t:DS(n),s=e?.product_features?.attachments;if(s!=null)return s.accepted_mime_types?.includes(r)?s.type:s.image_mime_types?.includes(r)?fa.Multimodal:fa.CodeInterpreter}function l0e(e,t){const n=$l(e,t);return n?.attachments?.can_accept_all_mime_types?void 0:n?.attachments?.accepted_mime_types}function k2(e,t){const n=$l(e,t),{attachments:r}=n??{};return r?.image_mime_types?r.image_mime_types:r?.type==="multimodal"?r.accepted_mime_types??u0e:[]}const u0e=["image/png","image/jpeg","image/gif","image/webp"];function d0e(e){return p.useMemo(()=>{if(e===void 0)return{};const t={"image/jpeg":[".jpg",".jpeg"],"image/svg+xml":[".svg"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":[".pptx"]};return{accept:e.reduce((n,r)=>(r in t?n[r]=t[r]:r.includes("/")&&(n[r]=[`.${r.split("/")[1]}`]),n),{})}},[e])}function ko(e){return e.split(".").pop()?.toLowerCase()}function LS(e){const t=ko(e);return t!=null&&["jpg","jpeg","png","gif","webp"].includes(t)}function P2(e){const t=ko(e);return t!=null&&["xls","xlsx","csv"].includes(t)}function f0e(e){const t=ko(e);return t!=null&&["xls","xlsx"].includes(t)}function A2(e,t,n="fit"){return new Promise((r,s)=>{const o=new FileReader;o.onerror=a=>{ae.addError(new Error("File reading has failed:",{cause:a})),s(new Error("Failed to read the file."))},o.onload=a=>{const i=new Image;i.onerror=l=>{ae.addError(new Error("Image loading has failed:",{cause:l})),s(new Error("Failed to load the image."))},i.onload=()=>{const l=document.createElement("canvas");let u,d=0,f=0;switch(n){case"fill":u=t/Math.min(i.width,i.height);break;case"square":u=t/Math.min(i.width,i.height);break;case"fit":u=t/Math.max(i.width,i.height);break}const h=i.width*u,m=i.height*u;n==="square"?(l.width=t,l.height=t,d=(t-h)/2,f=(t-m)/2):(l.width=h,l.height=m);const g=l.getContext("2d");if(g==null){ae.addError("Canvas context creation failed. Your environment might not fully support HTML5 canvas."),s(new Error("Failed to create canvas context."));return}g.drawImage(i,d,f,h,m);const v=e.type||"image/png";l.toBlob(y=>{y?r(new File([y],e.name,{type:v})):(ae.addError("Blob creation failed. Blob is null."),s(new Error("Failed to create blob from image data.")))},v)},a.target==null?(ae.addError("Event target is null. Failed to load image."),s("Failed to load image.")):i.src=a.target.result},o.readAsDataURL(e)})}function uft(e,t){return A2(e,t,"square")}function $2(e){const t=e.name.split("/")??[];return(t[t.length-1]??"").replace(/[-_]/g," ").split(".")[0]}function O2(e,t){return t?e.slice(0,-t.length-1):e}const Wt=Q({defaultCreateEntryError:{id:"fileUpload.defaultCreateEntryError",defaultMessage:"Unable to upload {fileName}"},defaultDownloadLinkError:{id:"fileUpload.defaultDownloadLinkError",defaultMessage:"Failed to get upload status for {fileName}"},unknownError:{id:"fileUpload.unknownError",defaultMessage:"Unknown error occurred"},fileZeroBytes:{id:"fileUpload.fileZeroBytes",defaultMessage:"File is empty"},fileTooLarge:{id:"fileUpload.fileTooLarge",defaultMessage:"File is too large"},overUserQuota:{id:"fileUpload.overUserQuota",defaultMessage:"User quota exceeded"},fileNotFound:{id:"fileUpload.fileNotFound",defaultMessage:"File not found"},fileTimedOut:{id:"fileUpload.fileTimedOut",defaultMessage:"File upload timed out. Please try again."},fileEmpty:{id:"fileUpload.fileEmpty",defaultMessage:"No text could be extracted from this file."},fileTooManyTokens:{id:"fileUpload.fileTooManyTokens",defaultMessage:"This file contains too much text content. Please try again with a smaller file."},fileEncrypted:{id:"fileUpload.fileEncrypted",defaultMessage:"This file is encrypted/requires a password to access. Please try again with an unencrypted file."},fileCorrupted:{id:"fileUpload.fileCorrupted",defaultMessage:"This file is corrupted. Please ensure the file is not corrupted and try again."},codeInterpreterSessionTimeout:{id:"fileUpload.codeInterpreterSessionTimeout",defaultMessage:"Code interpreter session expired"},permissionError:{id:"fileUpload.permissionError",defaultMessage:"Missing permission to access file"},fileDownloadFailed:{id:"filesModal.fileDownloadFailed",defaultMessage:"File download failed. Please try again."},failedUploadToBlobStore:{id:"fileUpload.failedUploadToBlobStore",defaultMessage:"Failed upload to files.oaiusercontent.com. Please ensure your network settings allow access to this site or contact your network administrator."}}),h0e=e=>({type:"table",file_id:e.id??"",title:$2(e),file_name:e.name,context_connector_info:e.context_connector_info});function I2(){return NA(Qx.DataAnalysisV2)}const p0e=p.createContext({isEmbeddedInFocusedView:!1});function Pi(){return p.useContext(p0e).isEmbeddedInFocusedView}const m0e=Oe(()=>Ie(()=>import("./hp49goy2n9bieyzr.js").then(e=>e.A),__vite__mapDeps([26,1,2,3,6,27,28,22,29,30])).then(e=>e.default)),g0e=Oe(()=>Ie(()=>Promise.resolve().then(()=>NDe),void 0)),v0e=Ee.div`flex gap-2 flex-wrap mt-1 max-w-[80%] justify-end`,y0e=Ee.div`flex flex-col gap-2`,b0e=({parts:e,attachments:t,isUserTurn:n,clientThreadId:r})=>{const s=ki(),o=I2(),a=Yh.getImageAssetPointersFromParts(e),i=new Set(a.map(m=>Eo(m.asset_pointer))),u=Pi()||s,d=(t??[]).filter(m=>P2(m.name)),f=(t??[]).filter(m=>m.id==null||i.has(m.id)?!1:o?!d.includes(m):!0);return(o?(f.length>0||d.length>0)&&n:f.length>0&&n)?c.jsxs(c.Fragment,{children:[c.jsx(v0e,{children:f.map(m=>c.jsx(g0e,{file:m.name,fileId:m.id,contextConnectorInfo:Kwe(m.context_connector_info),width:s?"normal":"wide",alwaysShowData:!0},m.id))}),o&&c.jsx(y0e,{className:O(!u&&"w-[80%]"),children:d.map(m=>c.jsx(m0e,{clientThreadId:r,visualization:h0e(m)},m.id))})]}):null},x0e=zc(()=>({images:new Set})),w0e=e=>Ja(x0e,e);function S0e(){return w0e(e=>e.images)}function dft(e){return Z7(e)&&!e8(e)}const mu=50,_0e=95;function fft(e,t){if(e<=t)return e/t*mu;{const n=mu,r=_0e-mu,s=e-t,a=-(mu/t)/r;return n+r*(1-Math.exp(a*s))}}class C0e{mostRecentCompletionRequest;loggedRequests=new Set;onCompletionRequestStarted(t){this.mostRecentCompletionRequest={requestId:t,timestamp:Date.now()},this.loggedRequests.clear()}logEvent(t,n,r,s,o){const a=this.mostRecentCompletionRequest;if(a!=null&&!this.loggedRequests.has(t)){const l=k.getThreadConversationTurns(n,r).find(u=>u.messages.some(d=>d.message.id===r));l!=null&&l.messages.some(u=>u.nodeId===a.requestId)&&(P.logEvent(t,{messageId:r,timeMs:Date.now()-a.timestamp,...s}),o?.(),this.loggedRequests.add(t))}}}const Zb=new C0e;function T0e(e){return(e.find(s=>s.message.metadata?.image_search_results!==void 0)?.message.metadata?.image_search_results??[]).slice(0,5)}function M0e({messages:e}){const t=T0e(e),n=S0e();return t.length===0?null:c.jsx("div",{className:O({"mb-2":!0,"grid grid-flow-col gap-3":t.length>1,"w-1/3":t.length===1}),children:t.filter(({contentUrl:r})=>n.has(r)).map((r,s)=>c.jsx("a",{href:r.hostPageUrl,target:"_blank",rel:"noreferrer",children:c.jsx("img",{src:r.contentUrl,alt:r.name,className:"aspect-square rounded-xl object-cover"})},s))})}function E0e({onEnterEdit:e}){const n=V().formatMessage({id:"gG9rea",defaultMessage:"Edit message"});return c.jsx("div",{className:"absolute bottom-0 right-full top-0 -mr-3.5 hidden pr-5 pt-1 [.group\\/conversation-turn:hover_&]:block",children:c.jsx(pt,{sideOffset:4,label:n,children:c.jsx("button",{"aria-label":n,className:"flex h-9 w-9 items-center justify-center rounded-full text-token-text-secondary transition hover:bg-token-main-surface-tertiary",onClick:e,children:c.jsx(tU,{className:"icon-md"})})})})}function zg({containsImagesOrAttachments:e,isUserTurn:t,showEditButton:n,onEnterEdit:r,children:s}){return c.jsxs("div",{className:O("relative max-w-[70%]",t&&"rounded-3xl bg-token-message-surface px-5 py-2.5",t&&e&&"rounded-tr-lg"),children:[s,n&&c.jsx(E0e,{onEnterEdit:r})]})}const k0e=Oe(()=>Ie(()=>import("./cptf8qy1hcq3xq64.js"),__vite__mapDeps([31,1,2,3,32])).then(e=>e.TextMessageImageGroup));function N2({attachments:e,citations:t,contentReferences:n,className:r,clientThreadId:s,displayParts:o,isCompletionInProgress:a,id:i,isActivelyStreaming:l,isUserTurn:u,turnIndex:d,isFeedbackEnabled:f,messages:h,onRequestMoreCompletions:m,parts:g,prevGroupedMessageType:v,prevGroupedMessages:y,showEditButton:x,onEnterEdit:b,size:w="medium"}){const _=h.length>1,{flagSeverity:C,shouldHideContent:T}=RS(_?void 0:h[0]),M=g.some($=>$!==""),E=!M&&h[0].message.metadata?.content_references?.length===0,R=h[0].message.metadata?.targeted_reply_label??h[0].message.metadata?.targeted_reply;return p.useEffect(()=>{const $=h[0].message;if($.author.metadata?.real_author===`tool:${Mw.SEARCHGPT}`&&M){const U=$.metadata?.search_source;Zb.logEvent(A.searchToolRequestTimeToFirstTextToken,s,$.id,{search_source:U},()=>{U===oB.InstantQuery&&aB.logEvent(A.searchToolPageLoadTimeToFirstTextToken,{message_id:$.id})})}},[s,M,h]),p.useEffect(()=>{if(!E)switch(v){case J.Browsing:Zb.logEvent(A.browsingTimeToFirstTextToken,s,h[0].message.id);break}},[E,h,s,v]),c.jsxs("div",{"data-message-author-role":h[0].message.author.role,"data-message-id":h[0].message.id,dir:"auto",className:O(r,"text-message flex w-full flex-col items-end gap-2 whitespace-normal break-words [.text-message+&]:mt-5"),"data-message-model-slug":h[0].message.metadata?.model_slug,children:[R&&c.jsxs("div",{className:"mb-1 ml-6 mt-1 flex items-start gap-1.5 text-sm font-normal text-token-text-tertiary sm:ml-7 lg:ml-8",children:[c.jsx(x$,{className:"icon-md mt-1 shrink-0"}),c.jsx("p",{className:"mr-2 line-clamp-3",children:R})]}),u&&c.jsx(Axe,{messages:h}),c.jsx(Xxe,{messages:h}),c.jsx(P0e,{parts:g,attachments:e,isUserTurn:u,isCompletionInProgress:a,turnIndex:d,displayParts:o,isActivelyStreaming:l,shouldHideContent:T,showEditButton:x,onEnterEdit:b,clientThreadId:s,id:i,isEmpty:E,prevGroupedMessageType:v,prevGroupedMessages:y,flagSeverity:C,messages:h,citations:t,contentReferences:n,size:w}),c.jsx(Rwe,{message:_?void 0:h[0],id:i,isFeedbackEnabled:f,onRequestMoreCompletions:m,clientThreadId:s,isUserTurn:u}),c.jsx(nwe,{isUserTurn:u,message:_?void 0:h[0]}),!u&&!l&&y&&v===J.SearchResult&&c.jsx(M0e,{messages:y})]})}function P0e({clientThreadId:e,id:t,displayParts:n,isCompletionInProgress:r,turnIndex:s,isActivelyStreaming:o,shouldHideContent:a,showEditButton:i=!1,onEnterEdit:l,isEmpty:u,prevGroupedMessageType:d,prevGroupedMessages:f,messages:h,citations:m,contentReferences:g,size:v,isUserTurn:y,parts:x,attachments:b}){const w=V(),_=p.useRef(!1),C=OG(n),[T,M]=p.useState({}),[E,R]=p.useState(!1),$=qxe(),{streamingContext:U}=Kxe();p.useEffect(()=>{$&&(U.setOnStylesUpdatedCallback(M),U.onStreamingChanged(r),U.setOnResetCallback(()=>R(!1)),r&&(R(!0),M(U.createTopLevelStyles())))},[$,r,U]);const Y=Dxe(),F=h[0].message.metadata?.gizmo_id,j=h[0].message.metadata?.serialization_metadata,D=HO(h[0].message).length,B=p.useMemo(()=>({clientThreadId:e,messageId:t,turnIndex:s}),[e,t,s]),H=!!F&&Y.includes(F),N=p.useCallback(()=>{Re.toggleChatThreadFlyout(e,s,t)},[e,s,t]),L=c.jsx(b0e,{parts:x,attachments:b,isUserTurn:y,clientThreadId:e},"files-and-tables"),W=!!(b?.length||n.some(ne=>ne.type==="images")),ce=Wxe();function se(ne,G){const ye=d===J.CodeInterpreter?f?.map(Wn=>Wn.message):void 0,{text:be,contentReferences:pe}=jxe(G,m,g,H);let nt=pe;ce&&(nt=pe.filter(Wn=>Wn.type!=="attribution"));const{processedText:Ne,displayedContentReferences:re}=d8(be,nt,o?void 0:ye,!1,o);Ne.includes(f8)&&!_.current&&(_.current=!0,ae.addError(new Error("Failed replaceTextWithDirectives"),{text:Ne,displayedContentReferences:re}));const gt=h[0].message,at=gt.metadata?.message_locale;let Gn=c.jsx(kS,{clientThreadId:e,messageId:t,isStreamingOrProcessing:E,size:v,className:O(o&&!$&&"result-streaming"),children:Ne===""?"&#8203;":Ne});if(at!=null){const Wn=iB(at,!1);Wn!=null&&(Gn=c.jsx(cB,{locale:Wn,children:Gn}))}return c.jsx(zxe.Provider,{value:{analyticsMetadata:B,message:gt,contentReferences:re,onShowSearchResults:N,numImageResults:D,isActivelyStreaming:o,useSafeUrls:!0},children:Gn},ne)}const le=n.map((ne,G)=>{if(ne.type==="transcription"){const ye=a?null:ne.text;let be=null;if(y&&a)be=c.jsx("span",{className:"italic opacity-30",children:c.jsx(S,{...gu.contentRemoved})});else if(y&&ye!=null)be=ye.trim().length===0?c.jsx("span",{className:"italic opacity-30",children:c.jsx(Wg,{text:w.formatMessage(gu.transcriptUnavailable),customSymbolOffsets:void 0})}):c.jsx("span",{className:"italic opacity-65",children:c.jsx(Wg,{text:`“${ye.trim()}”`,customSymbolOffsets:void 0})});else if(!y&&ye!=null)return se(G,ye);return c.jsx(zg,{containsImagesOrAttachments:W,isUserTurn:y,showEditButton:i,onEnterEdit:l,children:be},G)}else if(ne.type==="text"){const ye=a?null:ne.text;return!u&&!a&&!y?se(G,C):u&&o&&!y?$?c.jsx("div",{className:"pulsing-dot"},G):c.jsx("div",{className:"result-streaming",children:c.jsx("span",{children:c.jsx("pre",{})})},G):c.jsx(zg,{containsImagesOrAttachments:W,isUserTurn:y,showEditButton:i,onEnterEdit:l,children:y&&a?c.jsx("span",{className:"italic opacity-30",children:c.jsx(S,{...gu.contentRemoved})}):ye?c.jsx(Wg,{text:ye,customSymbolOffsets:j?.custom_symbol_offsets}):null},G)}else if(ne.type==="images"){const ye=h[0].message.metadata?.attachments??[];return c.jsx(k0e,{assets:ne.imageAssets,attachments:ye},G)}else return null}),ke=n.findIndex(ne=>ne.type==="text");if(ke!==-1?le.splice(ke,0,L):le.push(L),a&&y)le.length=0,le.push(c.jsx(zg,{containsImagesOrAttachments:W,isUserTurn:y,onEnterEdit:$e,children:c.jsx("span",{className:"italic opacity-30",children:c.jsx(S,{...gu.contentRemoved})})}));else if(a&&!y)return null;return c.jsx("div",{className:O("flex w-full flex-col gap-1 empty:hidden",y&&"items-end rtl:items-start",!y&&"first:pt-[3px]",E&&"streaming-response"),style:T,children:le})}const gu=Q({contentRemoved:{id:"textMessage.contentRemoved",defaultMessage:"Content removed"},transcriptUnavailable:{id:"textMessage.transcriptUnavailable",defaultMessage:"Transcript Unavailable"}}),Jb=zc(()=>({delayedRenderingMessageIds:new Set})),A0e=e=>Ja(Jb,e);function hft(){return A0e(e=>e.delayedRenderingMessageIds)}const qg={addDelayedRenderingMessage(e){Jb.setState(t=>{if(t.delayedRenderingMessageIds.has(e))return t;const n=new Set(t.delayedRenderingMessageIds);return n.add(e),{delayedRenderingMessageIds:n}})},removeDelayedRenderingMessage(e){Jb.setState(t=>{if(!t.delayedRenderingMessageIds.has(e))return t;const n=new Set(t.delayedRenderingMessageIds);return n.delete(e),{delayedRenderingMessageIds:n}})}};function $0e(e){const{isActivelyStreaming:t,...n}=e,r=es(),s=r?.includes("debug")??!1,o=e.messages[e.messages.length-1].message.id,[a,i]=p.useState(Uw(e.parts)),l=p.useRef(void 0);return l.current===void 0&&(l.current=r?.includes(lB)??!1?new NG(e.parts,i,t,void 0,{debug:s}):new Cs(e.parts,i,t)),p.useEffect(()=>{l.current!=null&&(l.current.onMessagePartsUpdated(e.parts,t),l.current.isBuffering()&&qg.addDelayedRenderingMessage(o))},[e.parts,o,t]),p.useEffect(()=>{l.current!=null&&!l.current.isBuffering()&&qg.removeDelayedRenderingMessage(o)},[a,o]),p.useEffect(()=>()=>qg.removeDelayedRenderingMessage(o),[o]),p.useEffect(()=>()=>{l.current!=null&&(l.current.destroy(),l.current=void 0)},[]),c.jsx(N2,{...n,displayParts:a,isActivelyStreaming:t||l.current?.isBuffering()})}function O0e({message:e,isCompletionInProgress:t,clientThreadId:n,className:r,isUserTurn:s,turnIndex:o,isFeedbackEnabled:a,prevGroupedMessageType:i,prevGroupedMessages:l,showEditButton:u,onEnterEdit:d,onRequestMoreCompletions:f}){const h=p.useMemo(()=>"parts"in e.message.content?e.message.content.parts:[Ar(e.message)],[e]);return c.jsx(N0e,{parts:h,messages:[e],isCompletionInProgress:t,className:r,citations:e.message.metadata?.citations,contentReferences:e.message.metadata?.content_references,attachments:e.message.metadata?.attachments,isUserTurn:s,turnIndex:o,id:e.nodeId,isFeedbackEnabled:a,onRequestMoreCompletions:f,clientThreadId:n,showEditButton:u,onEnterEdit:d,prevGroupedMessageType:i,prevGroupedMessages:l})}const I0e=X.memo(O0e);function N0e(e){const t=e.messages.length>1,{flagSeverity:n}=RS(t?void 0:e.messages[0]),r=n!=="danger"&&e.isCompletionInProgress,s=!e.parts.some(a=>a!==""),[o]=p.useState(()=>!e.isUserTurn&&(e.isCompletionInProgress||s));return o?c.jsx($0e,{...e,isActivelyStreaming:r}):c.jsx(N2,{...e,displayParts:IG({isUserTurn:e.isUserTurn,parts:e.parts}),isActivelyStreaming:r})}const R0e={label:"Auto",value:""},j0e="The user has opted in to provide additional feedback on the previous response. Encourage the user to share feedback that you can store in a memory to better meet their needs in future. Use no more than 3 turns. If at any point the user indicates no longer wanting to provide feedback, return to the original topic.",FS=He(()=>({forceParagen:!1,forceParagenModel:R0e,forceIndepthFeedback:!1,forceIndepthFeedbackPrompt:j0e,forceRateLimit:!1,resetRateLimits:!1,showDebugConversationTurns:!1,rebaseSystemMessageContent:null,forceUseSearch:null,paragenStreamType:"none",paragenCotSummaryDisplay:"allow",showParagenMetadata:!0,showSearchSettingsModal:!1})),D0e=Oe(()=>Ie(()=>import("./jb169qqx0o1ecp5y.js"),__vite__mapDeps([33,1,2,3,32,34,35,6]))),L0e=Oe(()=>Ie(()=>import("./ms8r7jcz9adsxrxt.js"),__vite__mapDeps([36,1,2,3]))),F0e=Oe(()=>Ie(()=>import("./l9hn25kllokd7yie.js"),__vite__mapDeps([37,1,2,3]))),B0e=Oe(()=>Ie(()=>import("./efrgsbqrnpo8ljvc.js"),__vite__mapDeps([38,1,2,3])).then(e=>e.TextMessageEditor)),U0e=Oe(()=>Ie(()=>import("./u3qvdc9yfgo94qg3.js"),__vite__mapDeps([39,1,2,3,6,32,40,34,35]))),V0e=Oe(()=>Ie(()=>import("./pe0zmb8ka9yvuk0b.js"),__vite__mapDeps([41,1,2,3,34,35,6,42]))),G0e=Oe(()=>Ie(()=>import("./heilvgp0hdgjnbyt.js"),__vite__mapDeps([43,1,2,3,23,21,34,35,6,42])).then(e=>e.BrowsingMessage)),W0e=Oe(()=>Ie(()=>import("./b865ldhzikj3rq3x.js"),__vite__mapDeps([44,1,2,3,23])).then(e=>e.SearchResultMessage)),H0e=Oe(()=>Ie(()=>import("./h73obg872ciy749n.js"),__vite__mapDeps([45,1,2,3,34,35,6,42])).then(e=>e.JITPluginMessage)),z0e=Oe(()=>Ie(()=>import("./jhc1vo36e4iyko9m.js"),__vite__mapDeps([46,1,2,3,34,35,6,42])).then(e=>e.DataAnalysisMessage)),q0e=Oe(()=>Ie(()=>import("./b6es8pe31v39i7tu.js"),__vite__mapDeps([47,1,2,3,23,34,35,6,42])).then(e=>e.SearchGPTQueryMessage)),Y0e=Oe(()=>Ie(()=>import("./htlsax8oxko1emxn.js"),__vite__mapDeps([48,1,2,3,40,34,35,6,42])));function pft(e){switch(e.type){case J.Text:case J.Debug:return[e.message];case J.MultiText:case J.Browsing:case J.CodeInterpreter:case J.JITPlugin:case J.RetrievalBrowsing:case J.ParallelBrowsing:case J.Dalle:case J.GizmoEditor:case J.SearchResult:case J.a8km123:case J.f959b8c:case J.b1de6e2:case J.b1de6e2_c:case J.Canmore:case J.de1d73e:case J.SearchGPTQuery:return e.messages;default:throw new Error("Bad")}}function mft({groupedMessagesToRender:e,allGroupedMessages:t,clientThreadId:n,isEditing:r,isUserTurn:s,isCompletionRequestInProgress:o,isFeedbackEnabled:a,isFinalTurn:i,turnIndex:l,hasActiveRequest:u,showEditButton:d=!1,handleEnterEdit:f,handleExitEdit:h,onChangeItemInView:m,onRequestMoreCompletions:g,onRequestCompletion:v,shouldGrowContainer:y=!0}){const{showDebugConversationTurns:x}=FS(),b=nl(n),w=t.some(C=>Qxe.includes(C.type)),_=e.map((C,T)=>{const M=T===t.length-1;switch(C.type){case J.Text:case J.MultiText:{const E=e[T-1],R=E?.type,$=E&&"messages"in E?E.messages:void 0;if(C.type===J.Text){const U=C?.message&&!Kh(C.message.message),F=r?c.jsx(B0e,{message:C.message,clientThreadId:n,onChangeItemInView:m,onRequestCompletion:v,onRequestMoreCompletions:g,onExitEdit:h,disabled:u}):w&&U?null:c.jsx(I0e,{className:"min-h-8",message:C.message,isFeedbackEnabled:a,isCompletionInProgress:M&&o,turnIndex:l,clientThreadId:n,showEditButton:d,onEnterEdit:f,isUserTurn:s,onRequestMoreCompletions:g,prevGroupedMessageType:R,prevGroupedMessages:$});return c.jsxs(p.Fragment,{children:[F,c.jsx(Exe,{isUserTurn:s,message:C.message.message})]},"group-"+C.message.nodeId)}else return C.type===J.MultiText?c.jsx(F0e,{clientThreadId:n,messages:C.messages,isCompletionInProgress:M&&o,isFeedbackEnabled:a,onRequestMoreCompletions:g,prevGroupedMessageType:R,prevGroupedMessages:$},"multitext-"+(C.messages[0]?.nodeId??T)):C.type}case J.Browsing:case J.RetrievalBrowsing:{const E=b!=null&&[Me.GizmoInteraction,Me.GizmoMagicCreate,Me.GizmoTest].includes(b.kind);return c.jsx(G0e,{messages:C.messages,isRequestActive:u,isLastMessageInTurn:M,isUsingGizmo:E,isRetrieval:C.type===J.RetrievalBrowsing},"browsing-"+(C.messages[0]?.nodeId??T))}case J.SearchGPTQuery:{const E=t.slice(T+1).find(R=>R.type===J.Text);return c.jsx(q0e,{isRequestActive:u,isLastMessage:M,nextMessage:E&&E.type===J.Text?E.message:void 0},"searchquery-"+(C.messages[0]?.nodeId??T))}case J.a8km123:return c.jsx(Y0e,{messages:C.messages,isStreaming:M&&o,clientThreadId:n},"sum-"+(C.messages[0]?.nodeId??T));case J.f959b8c:return null;case J.b1de6e2:return null;case J.b1de6e2_c:return null;case J.de1d73e:return null;case J.ParallelBrowsing:return c.jsx(V0e,{messages:C.messages},"parallel-"+(C.messages[0]?.nodeId??T));case J.CodeInterpreter:return c.jsx(z0e,{messages:C.messages,isRequestActive:u,clientThreadId:n},"ada-"+(C.messages[0]?.nodeId??T));case J.JITPlugin:return c.jsx(H0e,{messages:C.messages,clientThreadId:n,isLastTurnInConversation:i,onRequestCompletion:v},"jit-"+(C.messages[0]?.nodeId??T));case J.Dalle:return c.jsx(U0e,{messages:C.messages,clientThreadId:n},"dalle-"+(C.messages[0]?.nodeId??T));case J.GizmoEditor:return c.jsx(D0e,{messages:C.messages},"gizmo-editor-"+(C.messages[0]?.nodeId??T));case J.Canmore:return c.jsx(wxe,{messages:C.messages,isRequestActive:u,clientThreadId:n},"canmore-"+(C.messages[0]?.nodeId??T));case J.Debug:return x?c.jsx(L0e,{message:C.message},"debug-"+C.message.nodeId):null;case J.SearchResult:return c.jsx(W0e,{messages:C.messages},"search-result-"+(C.messages[0]?.nodeId??T))}});return c.jsx(Q0e,{shouldGrowContainer:y,children:_})}function K0e(){return c.jsx(l2,{type:"danger",children:c.jsx(S,{id:"daIg0P",defaultMessage:"Unable to display this message due to a error."})})}function Q0e({children:e,shouldGrowContainer:t}){return c.jsx("div",{className:O({"flex max-w-full flex-col":!0,"flex-grow":t}),children:c.jsx(Xx,{name:"GroupedMessages",fallback:K0e,children:e})})}const X0e={[qe.Browsing]:{group:J.Browsing},[qe.BrowseTool]:{group:J.Browsing},[qe.SearchGPTQuery]:{group:J.SearchGPTQuery},[qe.RetrievalBrowsing]:{group:J.RetrievalBrowsing},[qe.RetrievalBrowsingTool]:{group:J.RetrievalBrowsing},[qe.ParallelBrowsing]:{group:J.ParallelBrowsing},[qe.ParallelBrowsingTool]:{group:J.ParallelBrowsing},[qe.JITPlugin]:{group:J.JITPlugin,alwaysStartsNewGroup:!0},[qe.JITPluginTool]:{group:J.JITPlugin},[qe.Dalle]:{group:J.Dalle,alwaysStartsNewGroup:!0},[qe.DalleTool]:{group:J.Dalle},[qe.CodeInterpreter]:{group:J.CodeInterpreter,alwaysStartsNewGroup:!0},[qe.a8km123]:{group:J.a8km123},[qe.f959b8c]:{group:J.f959b8c},[qe.b1de6e2]:{group:J.b1de6e2},[qe.b1de6e2_c]:{group:J.b1de6e2_c},[qe.de1d73e]:{group:J.de1d73e},[qe.CodeInterpreterTool]:{group:J.CodeInterpreter},[qe.GizmoEditor]:{group:J.GizmoEditor},[qe.SearchResultTool]:{group:J.SearchResult},[qe.ImagePreloadTool]:{group:J.SearchResult},[qe.CanmoreTool]:{group:J.Canmore}};function gft(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n],s=Os(r.message),o=e?.[n-1],a=X0e[s],i=o!=null&&(Ew(o.message)||n8(r.message)),l=s===qe.Text&&Ar(r.message);if(Qh(r.message))t.push({type:J.Debug,message:r});else if(a!==void 0){const u=t.findLast(d=>d.type!==J.Debug);u?.type===a.group&&"messages"in u&&!a.alwaysStartsNewGroup?u.messages.push(r):a.group!==J.Text&&a.group!==J.Debug&&t.push({type:a.group,messages:[r]})}else if(i&&l!=null){const u=t.pop();u?.type===J.MultiText?(u.messages.push(r),t.push(u)):u?.type===J.Text&&t.push({type:J.MultiText,messages:[u.message,r]})}else t.push({type:J.Text,message:r})}return t}function Yg(e){e.danger("Failed to copy to clipboard.",{duration:4,hasCloseButton:!0})}function Ol(e,t,n){const{navigator:r}=n?.target?.ownerDocument?.defaultView??window;return new Promise((s,o)=>{if(!r?.clipboard){Yg(t),o();return}try{r.clipboard.writeText(e).then(()=>s("success"),()=>{Yg(t),o()})}catch{Yg(t),o()}})}const Z0e=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M9.64978 13.0257L6.36281 14.2164C5.32547 14.5922 4.17846 14.0599 3.8009 13.0274L3.45909 12.0927L4.0564 10.8177L1.75 7.41901L4.09784 6.56847L6.66195 8.05349C7.17468 8.35044 7.79343 8.40537 8.35086 8.20343L16.8625 5.11998C17.1541 5.01435 17.4664 4.97773 17.7746 5.01305L20.6083 5.33764C21.3056 5.41751 21.8977 5.88262 22.1377 6.53907C22.4878 7.49623 21.9919 8.55457 21.0303 8.90295L15.7542 10.8143M16.3515 9.53934L13 14.5L10.1826 15.5206L9.84014 11.8982",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),p.createElement("path",{d:"M3 19H21",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})),J0e=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.9969 3.39017C14.5497 2.17402 15.961 1.60735 17.2013 2.10349L19.4044 2.98475C20.7337 3.51645 21.3458 5.05369 20.7459 6.35358L19.0629 10H20C20.5523 10 21 10.4477 21 11V19C21 20.6569 19.6569 22 18 22H6C4.34315 22 3 20.6569 3 19V11C3 10.4504 3.44331 10.0044 3.99183 10L3.84325 9.89871C3.83307 9.89177 3.82303 9.88465 3.81311 9.87733C2.55917 8.9526 2.79737 7.01262 4.23778 6.41871L6.35774 5.5446L7.08184 3.36883C7.57382 1.8905 9.49246 1.51755 10.5024 2.70393L11.9888 4.45002L13.5103 4.46084L13.9969 3.39017ZM15.5096 4.89554C16.2552 5.48975 16.5372 6.59381 15.9713 7.51403L14.8266 9.37513C14.8265 9.38763 14.8266 9.40262 14.8273 9.42012C14.8294 9.47125 14.8357 9.52793 14.8451 9.58262C14.8548 9.63855 14.8654 9.67875 14.8714 9.69773C14.9032 9.79819 14.9184 9.89994 14.9184 10H16.8602L18.93 5.51547C19.0499 5.25549 18.9275 4.94804 18.6617 4.8417L16.4585 3.96044C16.2105 3.86122 15.9282 3.97455 15.8176 4.21778L15.5096 4.89554ZM12.8885 10C12.8572 9.84122 12.8358 9.66998 12.8289 9.50115C12.8194 9.26483 12.8254 8.81125 13.0664 8.41953L14.2677 6.46628L11.9746 6.44997C11.3934 6.44584 10.8427 6.18905 10.4659 5.74646L8.97951 4.00037L8.25541 6.17614C8.07187 6.72765 7.65748 7.17203 7.12012 7.39359L5.00091 8.26739L7.06338 9.67378C7.19188 9.7614 7.29353 9.87369 7.3663 10H12.8885ZM5 12V19C5 19.5523 5.44772 20 6 20H18C18.5523 20 19 19.5523 19 19V12H5ZM9.5 14.5C9.5 13.9477 9.94771 13.5 10.5 13.5H13.5C14.0523 13.5 14.5 13.9477 14.5 14.5C14.5 15.0523 14.0523 15.5 13.5 15.5H10.5C9.94771 15.5 9.5 15.0523 9.5 14.5Z",fill:"currentColor"})),eSe=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M5 16.584C3.2341 15.8124 2 14.0503 2 12C2 9.46726 3.88316 7.37436 6.32568 7.04508C7.13649 4.69118 9.37075 3 12 3C15.3137 3 18 5.68629 18 9C20.2091 9 22 10.7909 22 13C22 14.2632 21.4145 15.3896 20.5 16.1227",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),p.createElement("path",{d:"M9.25 16L6.75 21",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),p.createElement("path",{d:"M13.25 16L10.75 21",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),p.createElement("path",{d:"M17.25 16L14.75 21",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),tSe=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M4.5 17.5L7.56881 14.3817C8.32655 13.6117 9.55878 13.5826 10.352 14.316L16.5 20",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),p.createElement("path",{d:"M19 12H18.3798C17.504 12 16.672 11.6173 16.102 10.9524L11.898 6.04763C11.328 5.38269 10.496 5 9.6202 5H6C4.89543 5 4 5.89543 4 7V18C4 19.1046 4.89543 20 6 20H18C19.1046 20 20 19.1046 20 18V17",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),p.createElement("path",{d:"M19 5H18.3798C17.504 5 16.672 5.38269 16.102 6.04763L14 8.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),p.createElement("circle",{cx:8.5,cy:9.5,r:1.5,fill:"currentColor"}),p.createElement("path",{d:"M18 14V10C18 9.58798 18.4704 9.35279 18.8 9.6L21.4667 11.6C21.7333 11.8 21.7333 12.2 21.4667 12.4L18.8 14.4C18.4704 14.6472 18 14.412 18 14Z",fill:"currentColor"}),p.createElement("path",{d:"M18 7V3C18 2.58798 18.4704 2.35279 18.8 2.6L21.4667 4.6C21.7333 4.8 21.7333 5.2 21.4667 5.4L18.8 7.4C18.4704 7.64721 18 7.41202 18 7Z",fill:"currentColor"})),nSe=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M15.5 14V17",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),p.createElement("rect",{x:5,y:3,width:14,height:18,rx:2,stroke:"currentColor",strokeWidth:2}),p.createElement("circle",{cx:8.5,cy:14,r:1,fill:"currentColor"}),p.createElement("circle",{cx:8.5,cy:17,r:1,fill:"currentColor"}),p.createElement("circle",{cx:12,cy:17,r:1,fill:"currentColor"}),p.createElement("circle",{cx:12,cy:14,r:1,fill:"currentColor"}),p.createElement("circle",{cx:8.5,cy:11,r:1,fill:"currentColor"}),p.createElement("circle",{cx:12,cy:11,r:1,fill:"currentColor"}),p.createElement("circle",{cx:15.5,cy:11,r:1,fill:"currentColor"})),rSe=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("circle",{cx:12,cy:10.5,r:7.5,stroke:"currentColor",strokeWidth:2}),p.createElement("path",{d:"M8 17V22L12 21L16 22V17",stroke:"currentColor",strokeWidth:2,strokeLinejoin:"round"})),sSe=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M17 8H19C20.1046 8 21 8.89543 21 10V17C21 18.1046 20.1046 19 19 19M19 19H5C3.89543 19 3 18.1046 3 17V7C3 5.89543 3.89543 5 5 5H15C16.1046 5 17 5.89543 17 7V17C17 18.1046 17.8954 19 19 19Z",stroke:"currentColor",strokeWidth:2}),p.createElement("path",{d:"M7 10H13",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),p.createElement("path",{d:"M7 13H10",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),oSe=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M6 5H5C3.89543 5 3 5.89543 3 7V8M18 5H19C20.1046 5 21 5.89543 21 7V8M21 16V17C21 18.1046 20.1046 19 19 19H18M6 19H5C3.89543 19 3 18.1046 3 17V16",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),p.createElement("path",{d:"M8 10H16",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),p.createElement("path",{d:"M8 14H14",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})),aSe=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M4 18V7H20V18C20 19.1046 19.1046 20 18 20H6C4.89543 20 4 19.1046 4 18Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),p.createElement("path",{d:"M9 10V6C9 4.34315 10.3431 3 12 3V3C13.6569 3 15 4.34315 15 6V10",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),iSe=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M3 6H10",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),p.createElement("path",{d:"M3 10H7",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),p.createElement("path",{d:"M13.4282 17.5718L20.5 10.5C21.6046 9.39543 21.6046 7.60457 20.5 6.5C19.3954 5.39543 17.6046 5.39543 16.5 6.5L9.42819 13.5718C9.14899 13.851 8.95868 14.2066 8.88124 14.5938L8 19L12.4062 18.1188C12.7934 18.0413 13.149 17.851 13.4282 17.5718Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function cSe(e){switch(e){case"genius":return iU;case"idea":return h1;case"code":return aU;case"data-vis":return oU;case"dalle":return tSe;case"local":return sU;case"math":return nSe;case"misc":return J0e;case"news":return sSe;case"teach-or-explain":return m1;case"read-or-analyze":return oSe;case"rank-or-rate":return rSe;case"current-event":return p1;case"shop":return aSe;case"travel":return Z0e;case"weather":return eSe;case"work":return m1;case"write":return iSe;case"vision":return rU;case"file-upload-document":return Do;case"browse":return p1;case"onboarding":return nU;default:return h1}}function lSe(e){switch(e){case"write":case"shop":return"#cb8bd0";case"idea":case"travel":return"#e2c541";case"code":case"vision":return"#6C71FF";case"file-upload-document":return"#EA8444";case"dalle":return"#35AE47";case"genius":return"#E659C2";case"teach-or-explain":case"misc":default:return"#76d0eb"}}const ba=["#cb8bd0","#e2c541","#ed6262","#76d0eb"];function uSe(e){switch(e){case"write":case"shop":return ba[0];case"idea":case"travel":return ba[1];case"code":case"vision":return ba[2];case"teach-or-explain":case"misc":default:return ba[3]}}function vft({starterPrompt:e,useV2Colors:t}){if(e.category==null)return null;const n=cSe(e.category);return c.jsx(n,{className:"icon-md",style:{color:t?lSe(e.category):uSe(e.category)}})}const ex=({iconName:e,className:t,notice:n,size:r="medium"})=>{let s=RA;return e==="user"&&(s=cw),c.jsxs(hSe,{className:O(t,dSe[r]),children:[c.jsx(s,{className:R2[r]}),n&&(n==="warning"||n==="danger")&&c.jsx(BS,{$type:n,children:"!"})]})},dSe={small:"h-[18px] w-[18px]",gizmo:"h-8 w-8",gizmoConversation:"h-6 w-6",medium:"h-8 w-8",workspaceMedium:"h-9 w-9",large:"h-12 w-12",workspaceAvatarPreview:"h-24 w-24",cover:"h-[234px] w-[234px]"},er={small:18,gizmo:32,gizmoConversation:24,medium:32,workspaceMedium:36,large:48,workspaceAvatarPreview:96,cover:234},R2={small:"icon-xs",medium:"icon-md",workspaceMedium:"icon-md",large:"icon-lg",workspaceAvatarPreview:"icon-workspace-avatar-preview",cover:"icon-cover",gizmo:"icon-md",gizmoConversation:"icon-sm"},Kp=e=>{const{user:t,notice:n}=e,r=n&&(n==="warning"||n==="danger")&&c.jsx(BS,{$type:n,children:"!"});if(t?.picture)return c.jsxs("div",{className:O("relative flex",e.customStyle?e.className:""),children:[c.jsx("img",{src:t.picture,alt:"User",width:e.customStyle?e.size:er[e.size],height:e.customStyle?e.size:er[e.size],className:e.customStyle?"":e.roundedStyle??"rounded-sm",referrerPolicy:"no-referrer"}),r]});const s=(t?.name??"").split(" ").map(o=>o[0]).join("");return c.jsx("div",{className:"overflow-hidden rounded-full",style:e.customStyle?{width:e.size,height:e.size}:{width:er[e.size],height:er[e.size]},children:c.jsxs("div",{className:O("relative flex items-center justify-center bg-blue-300 text-white",e.customStyle?e.className:O(e.size==="gizmo"?"h-7 w-7 overflow-hidden rounded-full text-xs":"h-full w-full",e.size==="small"||e.size==="gizmo"||e.size==="gizmoConversation"?"text-xs":"text-sm")),children:[s?c.jsx("div",{className:"indent-[0.1em] tracking-widest",children:s}):c.jsx(cw,{className:e.customStyle?"h-4/5 w-4/5":R2[e.size]}),r]})})};function Qp({src:e,size:t="large",alt:n}){return c.jsx(c.Fragment,{children:e?c.jsx("img",{src:e,className:"inline rounded-full bg-token-main-surface-secondary",alt:n??"",width:er[t],height:er[t]}):c.jsx(uB,{width:er[t].toString(),height:er[t].toString()})})}function yft({className:e,iconSize:t="medium",notice:n,workspace:r}){const s=Ge();r??=s;const o=r?.isPersonalAccount(),a=an();return c.jsx(ni,{children:c.jsx("div",{className:O("flex items-center justify-center overflow-hidden rounded-full",e),children:!r||o&&a!==void 0?c.jsx(Kp,{user:a,size:t,notice:n}):c.jsxs(c.Fragment,{children:[c.jsx(Qp,{src:r.data.profilePictureUrl,size:t}),n&&c.jsx(BS,{$type:n,children:"!"})]})})})}const fSe=Ee.div`relative p-1 rounded-sm h-9 w-9 flex items-center justify-center`,hSe=({className:e,children:t})=>c.jsx(fSe,{className:e,children:t}),BS=Ee.span`
  absolute w-4 h-4 rounded-full text-[10px] text-white flex  justify-center items-center right-0 top-[20px] -mr-2 border border-white
  ${({$type:e})=>e==="warning"&&"bg-orange-500 text-white"}
  ${({$type:e})=>e==="danger"&&"bg-red-500 text-white"}
`;function bft({name:e,size:t,className:n,initialsCount:r=1}){let s="";return r===1?s=e.charAt(0):s=e.split(" ").slice(0,2).map(o=>o[0]).join(""),c.jsx("div",{className:O("overflow-hidden rounded-full pt-[4.5px] text-center text-[9px] font-extralight text-white",n),style:{backgroundColor:pSe(e),width:er[t]+"px",height:er[t]+"px"},children:s})}function pSe(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)+t^e.charCodeAt(n);return ba[Math.abs(t)%ba.length]}const mSe=({children:e})=>{const t=nO();return t?.length?c.jsxs(ie.Root,{children:[c.jsx(ie.Trigger,{className:"h-10 px-2",children:e}),c.jsx(ie.Portal,{children:c.jsx(ie.Content,{align:"end",onCloseAutoFocus:n=>n.preventDefault(),children:t.map(n=>c.jsx(gSe,{textdocId:n},n))})})]}):null},gSe=({textdocId:e})=>{const t=Za(zh(e));return c.jsx(ie.Item,{icon:Do,onClick:()=>{_w.logButtonClick(LD.FILE_DRAWER_ITEM),Fa(t.textdocId)},children:Kb(t.title)})},xft=()=>{const e=V(),t=nO(),n=Jc();if(!t||n)return null;const r=t.length;return r===1?c.jsx(vSe,{textdocId:t[0]}):c.jsx(mSe,{children:c.jsx(pt,{label:e.formatMessage({id:"xX2Zyt",defaultMessage:"Open canvas"}),children:c.jsxs("div",{className:"flex items-center gap-1 text-token-text-secondary",style:{viewTransitionName:"var(--vt-thread-header-open-canvas)"},children:[c.jsx(Do,{className:"icon-xl-heavy"}),r]})})})},vSe=({textdocId:e})=>{const t=V(),n=Za(zh(e));return c.jsx(pt,{label:t.formatMessage({id:"xX2Zyt",defaultMessage:"Open canvas"}),children:c.jsx(HY,{onClick:()=>Fa(n.textdocId),icon:Do,style:{viewTransitionName:"var(--vt-thread-header-open-canvas)"}})})},wft=({children:e})=>Jc()?null:c.jsx(c.Fragment,{children:e});function ySe({className:e,icon:t,label:n,onClick:r,style:s,tabIndex:o=0}){return c.jsx("label",{className:O(e,Ld.wrapper),style:s,tabIndex:-1,children:c.jsx("button",{className:Ld.label,"aria-label":n,onClick:r,tabIndex:o,children:t})})}var j2="AlertDialog",[bSe,Sft]=jo(j2,[jA]),os=jA(),D2=e=>{const{__scopeAlertDialog:t,...n}=e,r=os(t);return c.jsx(Nh,{...r,...n,modal:!0})};D2.displayName=j2;var xSe="AlertDialogTrigger",wSe=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=os(n);return c.jsx(Zx,{...s,...r,ref:t})});wSe.displayName=xSe;var SSe="AlertDialogPortal",L2=e=>{const{__scopeAlertDialog:t,...n}=e,r=os(t);return c.jsx(Rh,{...r,...n})};L2.displayName=SSe;var _Se="AlertDialogOverlay",F2=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=os(n);return c.jsx($h,{...s,...r,ref:t})});F2.displayName=_Se;var Pa="AlertDialogContent",[CSe,TSe]=bSe(Pa),B2=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,o=os(n),a=p.useRef(null),i=ts(t,a),l=p.useRef(null);return c.jsx(dB,{contentName:Pa,titleName:U2,docsSlug:"alert-dialog",children:c.jsx(CSe,{scope:n,cancelRef:l,children:c.jsxs(Oh,{role:"alertdialog",...o,...s,ref:i,onOpenAutoFocus:ct(s.onOpenAutoFocus,u=>{u.preventDefault(),l.current?.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[c.jsx(fB,{children:r}),c.jsx(ESe,{contentRef:a})]})})})});B2.displayName=Pa;var U2="AlertDialogTitle",V2=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=os(n);return c.jsx(hB,{...s,...r,ref:t})});V2.displayName=U2;var G2="AlertDialogDescription",W2=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=os(n);return c.jsx(pB,{...s,...r,ref:t})});W2.displayName=G2;var MSe="AlertDialogAction",H2=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=os(n);return c.jsx(Ih,{...s,...r,ref:t})});H2.displayName=MSe;var z2="AlertDialogCancel",q2=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=TSe(z2,n),o=os(n),a=ts(t,s);return c.jsx(Ih,{...o,...r,ref:a})});q2.displayName=z2;var ESe=({contentRef:e})=>{const t=`\`${Pa}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Pa}\` by passing a \`${G2}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Pa}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},kSe=D2,PSe=L2,ASe=F2,$Se=B2,OSe=H2,ISe=q2,NSe=V2,RSe=W2;function Y2({title:e,description:t,onClose:n,actionButton:r,cancelButton:s}){return c.jsx(kSe,{open:!0,onOpenChange:o=>{o||n()},children:c.jsxs(PSe,{children:[c.jsx(ASe,{className:"fixed inset-0 border-token-border-medium radix-state-open:animate-show"}),c.jsxs($Se,{className:"fixed start-1/2 top-1/2 flex max-h-[85vh] w-[90vw] max-w-lg -translate-x-1/2 -translate-y-1/2 flex-col gap-2 rounded-2xl bg-token-main-surface-primary shadow-2xl focus:outline-none radix-state-open:animate-alertShow",onEscapeKeyDown:o=>o.preventDefault(),children:[c.jsx(NSe,{className:"border-b border-token-border-light p-4 text-lg font-semibold md:p-6",children:e}),c.jsxs("div",{className:"flex flex-col gap-4 p-4 md:p-6",children:[c.jsx(RSe,{className:"text-base",children:t}),c.jsxs("div",{className:"flex justify-end gap-2",children:[s&&c.jsx(ISe,{asChild:!0,children:s}),c.jsx(OSe,{asChild:!0,children:r})]})]})]})]})})}const jSe=["https:","mailto:","tel:"],Id=e=>{if(e===void 0)return;let t;try{t=new URL(e,window.location.origin)}catch{return}if(jSe.includes(t.protocol))return t.href};function _ft({href:e,children:t,...n}){const r=op();return c.jsx("a",{href:Id(e),target:"_blank",rel:r?"noopener noreferrer":"noopener",...n,children:t})}function Xp({className:e,openNewTab:t=!1,type:n="primary",...r}){return c.jsx("a",{rel:"noopener",className:O("cursor-pointer font-normal underline",n==="primary"&&"text-green-600",e),target:t?"_blank":"_self",...r})}var DSe=Object.defineProperty,Zf=Object.getOwnPropertySymbols,K2=Object.prototype.hasOwnProperty,Q2=Object.prototype.propertyIsEnumerable,vk=(e,t,n)=>t in e?DSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tx=(e,t)=>{for(var n in t||(t={}))K2.call(t,n)&&vk(e,n,t[n]);if(Zf)for(var n of Zf(t))Q2.call(t,n)&&vk(e,n,t[n]);return e},nx=(e,t)=>{var n={};for(var r in e)K2.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Zf)for(var r of Zf(e))t.indexOf(r)<0&&Q2.call(e,r)&&(n[r]=e[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Po;(e=>{const t=class Pe{constructor(l,u,d,f){if(this.version=l,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],l<Pe.MIN_VERSION||l>Pe.MAX_VERSION)throw new RangeError("Version value out of range");if(f<-1||f>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let h=[];for(let g=0;g<this.size;g++)h.push(!1);for(let g=0;g<this.size;g++)this.modules.push(h.slice()),this.isFunction.push(h.slice());this.drawFunctionPatterns();const m=this.addEccAndInterleave(d);if(this.drawCodewords(m),f==-1){let g=1e9;for(let v=0;v<8;v++){this.applyMask(v),this.drawFormatBits(v);const y=this.getPenaltyScore();y<g&&(f=v,g=y),this.applyMask(v)}}s(0<=f&&f<=7),this.mask=f,this.applyMask(f),this.drawFormatBits(f),this.isFunction=[]}static encodeText(l,u){const d=e.QrSegment.makeSegments(l);return Pe.encodeSegments(d,u)}static encodeBinary(l,u){const d=e.QrSegment.makeBytes(l);return Pe.encodeSegments([d],u)}static encodeSegments(l,u,d=1,f=40,h=-1,m=!0){if(!(Pe.MIN_VERSION<=d&&d<=f&&f<=Pe.MAX_VERSION)||h<-1||h>7)throw new RangeError("Invalid value");let g,v;for(g=d;;g++){const w=Pe.getNumDataCodewords(g,u)*8,_=a.getTotalBits(l,g);if(_<=w){v=_;break}if(g>=f)throw new RangeError("Data too long")}for(const w of[Pe.Ecc.MEDIUM,Pe.Ecc.QUARTILE,Pe.Ecc.HIGH])m&&v<=Pe.getNumDataCodewords(g,w)*8&&(u=w);let y=[];for(const w of l){n(w.mode.modeBits,4,y),n(w.numChars,w.mode.numCharCountBits(g),y);for(const _ of w.getData())y.push(_)}s(y.length==v);const x=Pe.getNumDataCodewords(g,u)*8;s(y.length<=x),n(0,Math.min(4,x-y.length),y),n(0,(8-y.length%8)%8,y),s(y.length%8==0);for(let w=236;y.length<x;w^=253)n(w,8,y);let b=[];for(;b.length*8<y.length;)b.push(0);return y.forEach((w,_)=>b[_>>>3]|=w<<7-(_&7)),new Pe(g,u,b,h)}getModule(l,u){return 0<=l&&l<this.size&&0<=u&&u<this.size&&this.modules[u][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),u=l.length;for(let d=0;d<u;d++)for(let f=0;f<u;f++)d==0&&f==0||d==0&&f==u-1||d==u-1&&f==0||this.drawAlignmentPattern(l[d],l[f]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const u=this.errorCorrectionLevel.formatBits<<3|l;let d=u;for(let h=0;h<10;h++)d=d<<1^(d>>>9)*1335;const f=(u<<10|d)^21522;s(f>>>15==0);for(let h=0;h<=5;h++)this.setFunctionModule(8,h,r(f,h));this.setFunctionModule(8,7,r(f,6)),this.setFunctionModule(8,8,r(f,7)),this.setFunctionModule(7,8,r(f,8));for(let h=9;h<15;h++)this.setFunctionModule(14-h,8,r(f,h));for(let h=0;h<8;h++)this.setFunctionModule(this.size-1-h,8,r(f,h));for(let h=8;h<15;h++)this.setFunctionModule(8,this.size-15+h,r(f,h));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let d=0;d<12;d++)l=l<<1^(l>>>11)*7973;const u=this.version<<12|l;s(u>>>18==0);for(let d=0;d<18;d++){const f=r(u,d),h=this.size-11+d%3,m=Math.floor(d/3);this.setFunctionModule(h,m,f),this.setFunctionModule(m,h,f)}}drawFinderPattern(l,u){for(let d=-4;d<=4;d++)for(let f=-4;f<=4;f++){const h=Math.max(Math.abs(f),Math.abs(d)),m=l+f,g=u+d;0<=m&&m<this.size&&0<=g&&g<this.size&&this.setFunctionModule(m,g,h!=2&&h!=4)}}drawAlignmentPattern(l,u){for(let d=-2;d<=2;d++)for(let f=-2;f<=2;f++)this.setFunctionModule(l+f,u+d,Math.max(Math.abs(f),Math.abs(d))!=1)}setFunctionModule(l,u,d){this.modules[u][l]=d,this.isFunction[u][l]=!0}addEccAndInterleave(l){const u=this.version,d=this.errorCorrectionLevel;if(l.length!=Pe.getNumDataCodewords(u,d))throw new RangeError("Invalid argument");const f=Pe.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][u],h=Pe.ECC_CODEWORDS_PER_BLOCK[d.ordinal][u],m=Math.floor(Pe.getNumRawDataModules(u)/8),g=f-m%f,v=Math.floor(m/f);let y=[];const x=Pe.reedSolomonComputeDivisor(h);for(let w=0,_=0;w<f;w++){let C=l.slice(_,_+v-h+(w<g?0:1));_+=C.length;const T=Pe.reedSolomonComputeRemainder(C,x);w<g&&C.push(0),y.push(C.concat(T))}let b=[];for(let w=0;w<y[0].length;w++)y.forEach((_,C)=>{(w!=v-h||C>=g)&&b.push(_[w])});return s(b.length==m),b}drawCodewords(l){if(l.length!=Math.floor(Pe.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let f=0;f<this.size;f++)for(let h=0;h<2;h++){const m=d-h,v=(d+1&2)==0?this.size-1-f:f;!this.isFunction[v][m]&&u<l.length*8&&(this.modules[v][m]=r(l[u>>>3],7-(u&7)),u++)}}s(u==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let d=0;d<this.size;d++){let f;switch(l){case 0:f=(d+u)%2==0;break;case 1:f=u%2==0;break;case 2:f=d%3==0;break;case 3:f=(d+u)%3==0;break;case 4:f=(Math.floor(d/3)+Math.floor(u/2))%2==0;break;case 5:f=d*u%2+d*u%3==0;break;case 6:f=(d*u%2+d*u%3)%2==0;break;case 7:f=((d+u)%2+d*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][d]&&f&&(this.modules[u][d]=!this.modules[u][d])}}getPenaltyScore(){let l=0;for(let h=0;h<this.size;h++){let m=!1,g=0,v=[0,0,0,0,0,0,0];for(let y=0;y<this.size;y++)this.modules[h][y]==m?(g++,g==5?l+=Pe.PENALTY_N1:g>5&&l++):(this.finderPenaltyAddHistory(g,v),m||(l+=this.finderPenaltyCountPatterns(v)*Pe.PENALTY_N3),m=this.modules[h][y],g=1);l+=this.finderPenaltyTerminateAndCount(m,g,v)*Pe.PENALTY_N3}for(let h=0;h<this.size;h++){let m=!1,g=0,v=[0,0,0,0,0,0,0];for(let y=0;y<this.size;y++)this.modules[y][h]==m?(g++,g==5?l+=Pe.PENALTY_N1:g>5&&l++):(this.finderPenaltyAddHistory(g,v),m||(l+=this.finderPenaltyCountPatterns(v)*Pe.PENALTY_N3),m=this.modules[y][h],g=1);l+=this.finderPenaltyTerminateAndCount(m,g,v)*Pe.PENALTY_N3}for(let h=0;h<this.size-1;h++)for(let m=0;m<this.size-1;m++){const g=this.modules[h][m];g==this.modules[h][m+1]&&g==this.modules[h+1][m]&&g==this.modules[h+1][m+1]&&(l+=Pe.PENALTY_N2)}let u=0;for(const h of this.modules)u=h.reduce((m,g)=>m+(g?1:0),u);const d=this.size*this.size,f=Math.ceil(Math.abs(u*20-d*10)/d)-1;return s(0<=f&&f<=9),l+=f*Pe.PENALTY_N4,s(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let d=[6];for(let f=this.size-7;d.length<l;f-=u)d.splice(1,0,f);return d}}static getNumRawDataModules(l){if(l<Pe.MIN_VERSION||l>Pe.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*l+128)*l+64;if(l>=2){const d=Math.floor(l/7)+2;u-=(25*d-10)*d-55,l>=7&&(u-=36)}return s(208<=u&&u<=29648),u}static getNumDataCodewords(l,u){return Math.floor(Pe.getNumRawDataModules(l)/8)-Pe.ECC_CODEWORDS_PER_BLOCK[u.ordinal][l]*Pe.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let u=[];for(let f=0;f<l-1;f++)u.push(0);u.push(1);let d=1;for(let f=0;f<l;f++){for(let h=0;h<u.length;h++)u[h]=Pe.reedSolomonMultiply(u[h],d),h+1<u.length&&(u[h]^=u[h+1]);d=Pe.reedSolomonMultiply(d,2)}return u}static reedSolomonComputeRemainder(l,u){let d=u.map(f=>0);for(const f of l){const h=f^d.shift();d.push(0),u.forEach((m,g)=>d[g]^=Pe.reedSolomonMultiply(m,h))}return d}static reedSolomonMultiply(l,u){if(l>>>8||u>>>8)throw new RangeError("Byte out of range");let d=0;for(let f=7;f>=0;f--)d=d<<1^(d>>>7)*285,d^=(u>>>f&1)*l;return s(d>>>8==0),d}finderPenaltyCountPatterns(l){const u=l[1];s(u<=this.size*3);const d=u>0&&l[2]==u&&l[3]==u*3&&l[4]==u&&l[5]==u;return(d&&l[0]>=u*4&&l[6]>=u?1:0)+(d&&l[6]>=u*4&&l[0]>=u?1:0)}finderPenaltyTerminateAndCount(l,u,d){return l&&(this.finderPenaltyAddHistory(u,d),u=0),u+=this.size,this.finderPenaltyAddHistory(u,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(l,u){u[0]==0&&(l+=this.size),u.pop(),u.unshift(l)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(i,l,u){if(l<0||l>31||i>>>l)throw new RangeError("Value out of range");for(let d=l-1;d>=0;d--)u.push(i>>>d&1)}function r(i,l){return(i>>>l&1)!=0}function s(i){if(!i)throw new Error("Assertion error")}const o=class ut{constructor(l,u,d){if(this.mode=l,this.numChars=u,this.bitData=d,u<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(l){let u=[];for(const d of l)n(d,8,u);return new ut(ut.Mode.BYTE,l.length,u)}static makeNumeric(l){if(!ut.isNumeric(l))throw new RangeError("String contains non-numeric characters");let u=[];for(let d=0;d<l.length;){const f=Math.min(l.length-d,3);n(parseInt(l.substring(d,d+f),10),f*3+1,u),d+=f}return new ut(ut.Mode.NUMERIC,l.length,u)}static makeAlphanumeric(l){if(!ut.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],d;for(d=0;d+2<=l.length;d+=2){let f=ut.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d))*45;f+=ut.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d+1)),n(f,11,u)}return d<l.length&&n(ut.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d)),6,u),new ut(ut.Mode.ALPHANUMERIC,l.length,u)}static makeSegments(l){return l==""?[]:ut.isNumeric(l)?[ut.makeNumeric(l)]:ut.isAlphanumeric(l)?[ut.makeAlphanumeric(l)]:[ut.makeBytes(ut.toUtf8ByteArray(l))]}static makeEci(l){let u=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)n(l,8,u);else if(l<16384)n(2,2,u),n(l,14,u);else if(l<1e6)n(6,3,u),n(l,21,u);else throw new RangeError("ECI assignment value out of range");return new ut(ut.Mode.ECI,0,u)}static isNumeric(l){return ut.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return ut.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,u){let d=0;for(const f of l){const h=f.mode.numCharCountBits(u);if(f.numChars>=1<<h)return 1/0;d+=4+h+f.bitData.length}return d}static toUtf8ByteArray(l){l=encodeURI(l);let u=[];for(let d=0;d<l.length;d++)l.charAt(d)!="%"?u.push(l.charCodeAt(d)):(u.push(parseInt(l.substring(d+1,d+3),16)),d+=2);return u}};o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let a=o;e.QrSegment=o})(Po||(Po={}));(e=>{(t=>{const n=class{constructor(s,o){this.ordinal=s,this.formatBits=o}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(Po||(Po={}));(e=>{(t=>{const n=class{constructor(s,o){this.modeBits=s,this.numBitsCharCount=o}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(Po||(Po={}));var xa=Po;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var LSe={L:xa.QrCode.Ecc.LOW,M:xa.QrCode.Ecc.MEDIUM,Q:xa.QrCode.Ecc.QUARTILE,H:xa.QrCode.Ecc.HIGH},X2=128,Z2="L",J2="#FFFFFF",eL="#000000",tL=!1,nL=1,FSe=4,BSe=0,USe=.1;function rL(e,t=0){const n=[];return e.forEach(function(r,s){let o=null;r.forEach(function(a,i){if(!a&&o!==null){n.push(`M${o+t} ${s+t}h${i-o}v1H${o+t}z`),o=null;return}if(i===r.length-1){if(!a)return;o===null?n.push(`M${i+t},${s+t} h1v1H${i+t}z`):n.push(`M${o+t},${s+t} h${i+1-o}v1H${o+t}z`);return}a&&o===null&&(o=i)})}),n.join("")}function sL(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((s,o)=>o<t.x||o>=t.x+t.w?s:!1))}function VSe(e,t,n,r){if(r==null)return null;const s=e.length+n*2,o=Math.floor(t*USe),a=s/t,i=(r.width||o)*a,l=(r.height||o)*a,u=r.x==null?e.length/2-i/2:r.x*a,d=r.y==null?e.length/2-l/2:r.y*a,f=r.opacity==null?1:r.opacity;let h=null;if(r.excavate){let g=Math.floor(u),v=Math.floor(d),y=Math.ceil(i+u-g),x=Math.ceil(l+d-v);h={x:g,y:v,w:y,h:x}}const m=r.crossOrigin;return{x:u,y:d,h:l,w:i,excavation:h,opacity:f,crossOrigin:m}}function GSe(e,t){return t!=null?Math.max(Math.floor(t),0):e?FSe:BSe}function oL({value:e,level:t,minVersion:n,includeMargin:r,marginSize:s,imageSettings:o,size:a}){let i=X.useMemo(()=>{const h=xa.QrSegment.makeSegments(e);return xa.QrCode.encodeSegments(h,LSe[t],n)},[e,t,n]);const{cells:l,margin:u,numCells:d,calculatedImageSettings:f}=X.useMemo(()=>{let h=i.getModules();const m=GSe(r,s),g=h.length+m*2,v=VSe(h,a,m,o);return{cells:h,margin:m,numCells:g,calculatedImageSettings:v}},[i,a,o,r,s]);return{qrcode:i,margin:u,cells:l,numCells:d,calculatedImageSettings:f}}var WSe=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),HSe=X.forwardRef(function(t,n){const r=t,{value:s,size:o=X2,level:a=Z2,bgColor:i=J2,fgColor:l=eL,includeMargin:u=tL,minVersion:d=nL,marginSize:f,imageSettings:h}=r,g=nx(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","marginSize","imageSettings"]),{style:v}=g,y=nx(g,["style"]),x=h?.src,b=X.useRef(null),w=X.useRef(null),_=X.useCallback(F=>{b.current=F,typeof n=="function"?n(F):n&&(n.current=F)},[n]),[C,T]=X.useState(!1),{margin:M,cells:E,numCells:R,calculatedImageSettings:$}=oL({value:s,level:a,minVersion:d,includeMargin:u,marginSize:f,imageSettings:h,size:o});X.useEffect(()=>{if(b.current!=null){const F=b.current,j=F.getContext("2d");if(!j)return;let D=E;const B=w.current,H=$!=null&&B!==null&&B.complete&&B.naturalHeight!==0&&B.naturalWidth!==0;H&&$.excavation!=null&&(D=sL(E,$.excavation));const N=window.devicePixelRatio||1;F.height=F.width=o*N;const L=o/R*N;j.scale(L,L),j.fillStyle=i,j.fillRect(0,0,R,R),j.fillStyle=l,WSe?j.fill(new Path2D(rL(D,M))):E.forEach(function(W,ce){W.forEach(function(se,le){se&&j.fillRect(le+M,ce+M,1,1)})}),$&&(j.globalAlpha=$.opacity),H&&j.drawImage(B,$.x+M,$.y+M,$.w,$.h)}}),X.useEffect(()=>{T(!1)},[x]);const U=tx({height:o,width:o},v);let Y=null;return x!=null&&(Y=X.createElement("img",{src:x,key:x,style:{display:"none"},onLoad:()=>{T(!0)},ref:w,crossOrigin:$?.crossOrigin})),X.createElement(X.Fragment,null,X.createElement("canvas",tx({style:U,height:o,width:o,ref:_,role:"img"},y)),Y)});HSe.displayName="QRCodeCanvas";var US=X.forwardRef(function(t,n){const r=t,{value:s,size:o=X2,level:a=Z2,bgColor:i=J2,fgColor:l=eL,includeMargin:u=tL,minVersion:d=nL,title:f,marginSize:h,imageSettings:m}=r,g=nx(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","title","marginSize","imageSettings"]),{margin:v,cells:y,numCells:x,calculatedImageSettings:b}=oL({value:s,level:a,minVersion:d,includeMargin:u,marginSize:h,imageSettings:m,size:o});let w=y,_=null;m!=null&&b!=null&&(b.excavation!=null&&(w=sL(y,b.excavation)),_=X.createElement("image",{href:m.src,height:b.h,width:b.w,x:b.x+v,y:b.y+v,preserveAspectRatio:"none",opacity:b.opacity,crossOrigin:b.crossOrigin}));const C=rL(w,v);return X.createElement("svg",tx({height:o,width:o,viewBox:`0 0 ${x} ${x}`,ref:n,role:"img"},g),!!f&&X.createElement("title",null,f),X.createElement("path",{fill:i,d:`M0,0 h${x}v${x}H0z`,shapeRendering:"crispEdges"}),X.createElement("path",{fill:l,d:C,shapeRendering:"crispEdges"}),_)});US.displayName="QRCodeSVG";const Ai=({onDismiss:e,title:t,content:n,onPrimaryCtaClick:r,primaryCtaText:s,primaryCtaQrLink:o,onPrimaryCtaQrClick:a,onSecondaryCtaClick:i,secondaryCtaText:l,isElevated:u=!0})=>c.jsxs("div",{className:O("flex w-full items-start gap-4 rounded-2xl border border-token-border-light bg-token-main-surface-primary py-4 pl-5 pr-3 text-sm text-token-text-primary [text-wrap:pretty] dark:border-transparent dark:bg-token-main-surface-secondary md:items-center lg:mx-auto",u&&"shadow-xxs"),children:[c.jsxs("div",{className:O("mt-1.5 flex grow items-start gap-4 md:mt-0 md:flex-row md:items-center md:justify-between md:gap-8",o?"flex-row":"flex-col"),children:[c.jsxs("div",{className:"flex max-w-none flex-col",children:[t&&c.jsx("div",{className:O("font-bold text-token-text-primary"),children:t}),c.jsx("div",{className:O(t?"text-token-text-secondary":""),children:n})]}),o&&c.jsx(US,{className:"min-h-[62px] min-w-[62px] cursor-pointer",onClick:a,size:62,value:o}),(s||l)&&c.jsxs("div",{className:"flex shrink-0 gap-2 pb-1 md:pb-0",children:[s&&c.jsx(ue,{onClick:r,color:"primary",className:"shrink-0",children:s}),l&&c.jsx(ue,{onClick:i,color:"secondary",className:"shrink-0",children:l})]})]}),c.jsx("div",{className:"flex shrink-0 items-center gap-2",children:!!e&&c.jsx(qc,{onClick:e})})]}),zSe=({onDismiss:e,title:t,content:n,onPrimaryCtaClick:r,primaryCtaText:s,onSecondaryCtaClick:o,secondaryCtaText:a})=>c.jsxs("div",{className:O("border-main-surface-secondary flex h-16 items-center border-b bg-token-main-surface-primary px-2 text-sm text-token-text-primary"),children:[c.jsxs("div",{className:"flex items-center justify-center",children:[!!e&&c.jsx(qc,{onClick:e,className:"-mr-2 text-token-text-tertiary"}),c.jsx(w$,{className:"h-16 w-16 rounded-sm pt-1 shadow-none"}),c.jsxs("div",{className:"-ml-1 flex flex-col",children:[t&&c.jsx("div",{className:"font-bold text-token-text-primary",children:t}),c.jsx("div",{className:O(t?"-mt-0.5 text-token-text-secondary":""),children:n})]})]}),c.jsxs("div",{className:"ml-auto flex justify-end",children:[s&&c.jsx(ue,{onClick:r,color:"primary",className:"shrink-0",children:s}),a&&c.jsx(ue,{onClick:o,color:"secondary",className:"mr-2 shrink-0",children:a})]})]}),aL="1696863369",qSe=We.UseSidekick,YSe=We.SidekickLauncherOnboarding,KSe="https://help.openai.com/en/articles/9275200",QSe="https://persistent.oaistatic.com/sidekick/public/ChatGPT_Desktop_public_latest.dmg",iL="1697140512",XSe=We.UseSidetron,ZSe=We.hasSeenWindowsAppOnboarding,JSe="https://help.openai.com/en/articles/9982051",e_e="https://apps.microsoft.com/detail/9nt1r1c2hh7j",cL="download";function lL(e,t){const n=Ge(),r=mB(e).layer.get(t,!1);return n!=null&&r}function t_e(){return lL(aL,"has_sidekick_access")}function n_e(){return lL(iL,"can_download_sidetron")}function VS(){const e=t_e(),t=n_e();return{isSidekickAvailable:e,isSidetronAvailable:t,isDesktopAppAvailable:e||t}}function r_e(e){return e===cL}function s_e(){const e=It(),{hash:t}=Io(),n=r_e(t.slice(1));return{openModal:()=>{e({hash:cL})},closeModal:()=>{e({hash:""})},isOpen:n}}function Mft(e){const t=VS(),{isDesktopAppAvailable:n}=t,r=GS(t),s=K.getLayerValue({layerName:r.statsigLayerName,key:"show_nux_banner",defaultValue:!1}),{eligible:o,isLoading:a}=Xe(r.downloadAnnouncement),{eligible:i,isLoading:l}=Xe(r.onboardingAnnouncement);return{eligible:!(!o||!i||!n||e.conversationMode?.kind!==Me.PrimaryAssistant)&&s,isLoading:l||a}}function Eft({onClose:e}){const t=VS(),n=GS(t);p.useEffect(()=>{P.logEvent(n.analyticsBannerShown),K.logEvent(n.statsigBannerShown)},[n.analyticsBannerShown,n.statsigBannerShown]);const{markAsViewed:r}=Xe(n.downloadAnnouncement),s=p.useCallback(()=>{r(),P.logEvent(n.analyticsBannerDismissed),K.logEvent(n.statsigBannerDismissed),e&&e()},[r,e,n.analyticsBannerDismissed,n.statsigBannerDismissed]),o=p.useCallback(()=>{P.logEvent(n.analyticsBannerDownloadClicked),K.logEvent(n.statsigBannerDownloadClicked),r(),e&&e()},[r,e,n.analyticsBannerDownloadClicked,n.statsigBannerDownloadClicked]),a={...n,isAppAvailable:t.isDesktopAppAvailable,markAsDownloaded:o,markAsViewed:s};return c.jsx(i_e,{...a})}function o_e(e){window.open(e,"_blank")}function GS(e){return e.isSidekickAvailable?f_e:h_e}function a_e(e){return e.bannerTitle}function kft(){const{closeModal:e,isOpen:t}=s_e(),n=VS(),{isDesktopAppAvailable:r}=n,s=GS(n),o=p.useMemo(()=>({isDesktopAppAvailable:r}),[r]),a=()=>{P.logEvent(s.analyticsModalClosed,o),K.logEvent(s.statsigModalClosed),e()},i=()=>{P.logEvent(s.analyticsModalDownloadClicked,o),K.logEvent(s.statsigModalDownloadClicked),e()};if(p.useEffect(()=>{t&&(P.logEvent(s.analyticsModalShown,{...o}),K.logEvent(s.statsigModalShown))},[o,t,s.analyticsModalShown,s.statsigModalShown]),!t)return null;const l={...s,isAppAvailable:n.isDesktopAppAvailable,markAsDownloaded:i,markAsViewed:a};return c.jsx(c_e,{...l})}function i_e({downloadUrl:e,markAsDownloaded:t,markAsViewed:n,messages:r,learnMoreUrl:s}){const o=V(),a=p.useCallback(()=>{o_e(e),t()},[t,e]),i=c.jsx(S,{...a_e(r)}),l=c.jsx(S,{...r.bannerContent}),u=c.jsx(S,{...r.disclaimer,values:{learnMoreLink:f=>c.jsx(Xp,{openNewTab:!0,href:s,children:f},"link")}}),d=c.jsxs("div",{className:"flex-grow",children:[c.jsx("div",{className:"mb-0.5 font-semibold",children:i}),c.jsxs("span",{className:"text-token-text-secondary",children:[l," ",u]})]});return c.jsx(Ai,{onPrimaryCtaClick:a,primaryCtaText:o.formatMessage(r.download),onDismiss:n,content:d})}function c_e({downloadUrl:e,markAsDownloaded:t,markAsViewed:n,isAppAvailable:r,messages:s,learnMoreUrl:o}){const a=s.modalTitle,i=c.jsx(S,{...a}),l=c.jsx(S,{...s.modalContent}),u=s.disclaimer,d=c.jsx(S,{...u,values:{learnMoreLink:y=>c.jsx(Xp,{openNewTab:!0,href:o,children:y})}}),f=c.jsxs("div",{children:[c.jsx("div",{children:l}),c.jsx("div",{className:"mt-2",children:d})]}),h=c.jsx(ue,{as:"link",to:e,color:"primary",onClick:t,openNewTab:!0,children:c.jsx(S,{...s.download})}),m=c.jsx(ue,{color:"secondary",onClick:n,children:c.jsx(S,{...d_e.close})}),g=r?h:m,v=r?m:void 0;return c.jsx(Y2,{onClose:n,title:i,description:f,actionButton:g,cancelButton:v})}const l_e=Q({bannerTitle:{id:"SidekickOnboarding.bannerTitle",defaultMessage:"ChatGPT is now available for macOS 14+ with Apple Silicon"},bannerContent:{id:"SidekickOnboarding.banner_content_3",defaultMessage:"Get faster access to ChatGPT with the Option + Space shortcut, and use Advanced Voice Mode to get hands-free answers while you work."},modalTitle:{id:"SidekickOnboarding.modalTitle",defaultMessage:"ChatGPT is available for macOS 14+ with Apple Silicon"},modalContent:{id:"SidekickOnboarding.modal_content_eligible",defaultMessage:"Quickly access ChatGPT from anywhere on your computer with the Option + Space shortcut. Share screenshots, upload files, and use Advanced Voice Mode to chat with your computer and get hands-free answers while you work."},disclaimer:{id:"SidekickOnboarding.disclaimer_3",defaultMessage:"<learnMoreLink>Learn more</learnMoreLink>."},download:{id:"SidekickOnboarding.download",defaultMessage:"Download"}}),u_e=Q({bannerTitle:{id:"SidetronOnboarding.bannerTitle",defaultMessage:"ChatGPT is now available for Window 10+"},bannerContent:{id:"SidetronOnboarding.banner_content_3",defaultMessage:"Get faster access to ChatGPT with the Alt + Space shortcut, and use Advanced Voice Mode to get hands-free answers while you work."},modalTitle:{id:"SidetronOnboarding.modalTitle",defaultMessage:"ChatGPT is available for Windows 10+"},modalContent:{id:"SidetronOnboarding.modal_content_eligible",defaultMessage:"Quickly access ChatGPT from anywhere on your computer with the Alt + Space shortcut. Share screenshots, upload files, and use Advanced Voice Mode to chat with your computer and get hands-free answers while you work."},disclaimer:{id:"SidetronOnboarding.disclaimer_3",defaultMessage:"<learnMoreLink>Learn more</learnMoreLink>."},download:{id:"SidetronOnboarding.download",defaultMessage:"Download on Microsoft Store"}}),d_e=Q({close:{id:"SidekickOnboarding.close",defaultMessage:"Close"}}),f_e={downloadUrl:QSe,messages:l_e,learnMoreUrl:KSe,analyticsModalShown:A.sidekickDownloadModalShown,analyticsModalClosed:A.sidekickDownloadModalClosed,analyticsModalDownloadClicked:A.sidekickDownloadModalDownloaded,analyticsBannerShown:A.sidekickAnnouncementShown,analyticsBannerDismissed:A.sidekickAnnouncementDismissed,analyticsBannerDownloadClicked:A.sidekickAnnouncementLinkClicked,statsigLayerName:aL,statsigModalShown:"chatgpt_sidekick_modal_shown",statsigModalClosed:"chatgpt_sidekick_modal_closed",statsigModalDownloadClicked:"chatgpt_sidekick_modal_download_clicked",statsigBannerShown:"chatgpt_sidekick_announcement_shown",statsigBannerDismissed:"chatgpt_sidekick_announcement_closed",statsigBannerDownloadClicked:"chatgpt_sidekick_announcement_download_clicked",downloadAnnouncement:qSe,onboardingAnnouncement:YSe},h_e={downloadUrl:e_e,messages:u_e,learnMoreUrl:JSe,analyticsModalShown:A.sidetronDownloadModalShown,analyticsModalClosed:A.sidetronDownloadModalClosed,analyticsModalDownloadClicked:A.sidetronDownloadModalDownloaded,analyticsBannerShown:A.sidetronAnnouncementShown,analyticsBannerDismissed:A.sidetronAnnouncementDismissed,analyticsBannerDownloadClicked:A.sidetronAnnouncementLinkClicked,statsigLayerName:iL,statsigModalShown:"chatgpt_sidetron_modal_shown",statsigModalClosed:"chatgpt_sidetron_modal_closed",statsigModalDownloadClicked:"chatgpt_sidetron_modal_download_clicked",statsigBannerShown:"chatgpt_sidetron_announcement_shown",statsigBannerDismissed:"chatgpt_sidetron_announcement_closed",statsigBannerDownloadClicked:"chatgpt_sidetron_announcement_download_clicked",downloadAnnouncement:XSe,onboardingAnnouncement:ZSe},p_e=25;function m_e(e,t=0,n="",r=p_e,s=void 0){return _e({queryKey:["workspace",e,t,n],queryFn:async()=>await Z.getWorkspaceUsers(e,t,r,n),placeholderData:s,enabled:!!e})}function Pft(e){const{data:t}=m_e(e);return t?.total??0}const Aft="https://help.openai.com/en/collections/3943089-billing",$ft="https://openai.com/enterprise",Oft="https://help.openai.com/en/articles/7905690-how-do-i-cancel-my-apple-subscription-for-chatgpt-plus-in-the-chatgpt-ios-app",Ift="https://help.openai.com/en/articles/8258076-how-to-cancel-my-plus-subscription-in-the-chatgpt-android-app",Nft="https://help.openai.com/en/articles/7102672-how-can-i-access-gpt-4",g_e="pricing",Rft={WEBAPP:"chatgpt_web",MOBILE_IOS:"chatgpt_mobile_ios",MOBILE_ANDROID:"chatgpt_mobile_android",GRANTED:"chatgpt_gratis_recepient",NOT_PURCHASED:"chatgpt_not_purchased"},jft={ALREADY_PAID:"User is already paid"};let rx;function zs(e,t){rx=t,e({hash:g_e})}function Dft(e){e({hash:""})}function Lft(){const e=rx;return rx=void 0,e}Ee.ol`ml-5 list-decimal`;const v_e=Ee.ul`ml-3 list-disc`,y_e=Ee.li`marker:text-token-text-tertiary text-token-text-primary mb-2`;function uL(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var WS="Radio",[b_e,dL]=jo(WS),[x_e,w_e]=b_e(WS),fL=p.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:o,disabled:a,value:i="on",onCheck:l,form:u,...d}=e,[f,h]=p.useState(null),m=ts(t,y=>h(y)),g=p.useRef(!1),v=f?u||!!f.closest("form"):!0;return c.jsxs(x_e,{scope:n,checked:s,disabled:a,children:[c.jsx(Kt.button,{type:"button",role:"radio","aria-checked":s,"data-state":mL(s),"data-disabled":a?"":void 0,disabled:a,value:i,...d,ref:m,onClick:ct(e.onClick,y=>{s||l?.(),v&&(g.current=y.isPropagationStopped(),g.current||y.stopPropagation())})}),v&&c.jsx(S_e,{control:f,bubbles:!g.current,name:r,value:i,checked:s,required:o,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});fL.displayName=WS;var hL="RadioIndicator",pL=p.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...s}=e,o=w_e(hL,n);return c.jsx(Yc,{present:r||o.checked,children:c.jsx(Kt.span,{"data-state":mL(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t})})});pL.displayName=hL;var S_e=e=>{const{control:t,checked:n,bubbles:r=!0,...s}=e,o=p.useRef(null),a=uL(n),i=DA(t);return p.useEffect(()=>{const l=o.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(a!==n&&f){const h=new Event("click",{bubbles:r});f.call(l,n),l.dispatchEvent(h)}},[a,n,r]),c.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:o,style:{...e.style,...i,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function mL(e){return e?"checked":"unchecked"}var __e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],HS="RadioGroup",[C_e,Fft]=jo(HS,[jh,dL]),gL=jh(),vL=dL(),[T_e,M_e]=C_e(HS),yL=p.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:o,required:a=!1,disabled:i=!1,orientation:l,dir:u,loop:d=!0,onValueChange:f,...h}=e,m=gL(n),g=LA(u),[v,y]=Kc({prop:o,defaultProp:s,onChange:f});return c.jsx(T_e,{scope:n,name:r,required:a,disabled:i,value:v,onValueChange:y,children:c.jsx(FA,{asChild:!0,...m,orientation:l,dir:g,loop:d,children:c.jsx(Kt.div,{role:"radiogroup","aria-required":a,"aria-orientation":l,"data-disabled":i?"":void 0,dir:g,...h,ref:t})})})});yL.displayName=HS;var bL="RadioGroupItem",xL=p.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...s}=e,o=M_e(bL,n),a=o.disabled||r,i=gL(n),l=vL(n),u=p.useRef(null),d=ts(t,u),f=o.value===s.value,h=p.useRef(!1);return p.useEffect(()=>{const m=v=>{__e.includes(v.key)&&(h.current=!0)},g=()=>h.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",g)}},[]),c.jsx(BA,{asChild:!0,...i,focusable:!a,active:f,children:c.jsx(fL,{disabled:a,required:o.required,checked:f,...l,...s,name:o.name,ref:d,onCheck:()=>o.onValueChange(s.value),onKeyDown:ct(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:ct(s.onFocus,()=>{h.current&&u.current?.click()})})})});xL.displayName=bL;var E_e="RadioGroupIndicator",wL=p.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,s=vL(n);return c.jsx(pL,{...s,...r,ref:t})});wL.displayName=E_e;var Bft=yL,SL=xL,_L=wL;const k_e=Ee.div`p-6`,P_e=Ee.label`font-semibold text-base cursor-pointer`,A_e=Ee.div`flex flex-col gap-3 text-token-text-secondary text-sm mt-3`,$_e=Ee.p`text-token-text-primary`,O_e=Ee.s`text-token-text-tertiary`,na=999,Uft=2;function Vft({billingType:e,name:t,billingFeatures:n,cost:r,costStructure:s}){return c.jsxs(k_e,{children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(SL,{value:e,id:e,className:"h-5 w-5 cursor-pointer rounded-full border border-token-border-medium bg-token-main-surface-primary outline-none hover:bg-token-main-surface-secondary radix-state-checked:border-green-500 radix-state-checked:bg-green-500",children:c.jsx(_L,{className:"flex items-center justify-center",children:c.jsx(Uh,{className:"mt-0.5 h-[14px] w-[14px] stroke-[3] text-white"})})}),c.jsx(P_e,{htmlFor:e,children:c.jsx(S,{...t})})]}),c.jsxs(A_e,{children:[c.jsxs("div",{children:[c.jsx($_e,{children:c.jsx(S,{...r,values:{s:(...o)=>c.jsx(O_e,{children:o})}})}),c.jsx("p",{children:c.jsx(S,{...s})})]}),c.jsx(v_e,{children:n.map(o=>c.jsx(y_e,{children:c.jsx(S,{...o})},o.id))})]})]})}function Gft({numSeats:e,minSeats:t,setNumSeats:n}){return c.jsxs("div",{className:"mb-3 flex items-center",children:[c.jsx("button",{disabled:e<=t,onClick:r=>{const s=r.shiftKey;n(o=>Yf(o-=s?10:1,t,na))},className:"px-4 py-2 disabled:cursor-not-allowed disabled:text-token-text-secondary",children:c.jsx(cU,{className:"icon-sm"})}),c.jsx("input",{type:"number",min:t,max:na,name:"seats",value:e,onChange:r=>{n(parseInt(r.target.value))},onBlur:()=>{e<t&&n(t),e>na&&n(na),e||n(t)},className:"m-0 h-9 appearance-none rounded border border-gray-200 px-2 py-0 text-center text-sm text-gray-800 shadow-none outline-none ring-transparent focus:border-green-500 focus:ring-green-500 dark:border-gray-700"}),c.jsx("button",{disabled:e>=na,onClick:r=>{const s=r.shiftKey;n(o=>Yf(o+=s?10:1,t,na))},className:"px-4 py-2 disabled:cursor-not-allowed disabled:text-token-text-secondary",children:c.jsx(lw,{className:"icon-sm"})})]})}const gn=Q({flexiblePlanName:{id:"teamBilling.flexiblePlan.name",defaultMessage:"Flexible plan"},flexiblePlanCost:{id:"teamBilling.flexiblePlan.cost",defaultMessage:"USD $30"},flexibleBilledMonthly:{id:"teamBilling.flexiblePlan.billedMonthly",defaultMessage:"Price billed monthly"},flexibleAddRemoveUsers:{id:"teamBilling.flexiblePlan.addRemoveUsers",defaultMessage:"Add or remove users as needed"},flexibleMinBill:{id:"teamBilling.flexiblePlan.minBill",defaultMessage:"The minimum monthly bill is for 2 users, USD $60/month"},seatsTitle:{id:"teamBilling.seatsTitle",defaultMessage:"Seats"},summaryTitle:{id:"teamBilling.summaryTitle",defaultMessage:"Summary"},annualPlanName:{id:"teamBilling.annualPlan.name",defaultMessage:"Annual plan"},annualPlanCost:{id:"teamBilling.annualPlan.cost",defaultMessage:"USD $25 <s>$30</s>"},annualBilledAnnually:{id:"teamBilling.annualPlan.billedAnnually",defaultMessage:"Annual price billed annually"},annualAddUsersWithRenewal:{id:"teamBilling.annualPlan.addUsersWithRenewal",defaultMessage:"Add users as needed, remove users only when you renew the contract"},annualMinBill:{id:"teamBilling.annualPlan.minBill",defaultMessage:"The minimum bill is for 2 users, USD $50/month billed annually"},teamsCostStructure:{id:"teamBilling.teamsCostStructure",defaultMessage:"per person/month"},annualSavingsPercentage:{id:"teamBilling.annualSavingsPercentage",defaultMessage:"16.7% off"},createWorkspace:{id:"createWorkspace.title",defaultMessage:"Create workspace"},cancel:{id:"createWorkspace.cancel",defaultMessage:"Cancel"},selectTeamPlan:{id:"createWorkspace.selectTeamPlan",defaultMessage:"Select Team Plan"},selectTeamPlanModalTitle:{id:"createWorkspace.selectTeamPlanModalTitle",defaultMessage:"Select your team plan"},continueToBillingButton:{id:"createWorkspace.continueToBillingButton",defaultMessage:"Continue to billing"},paymentErrorWarning:{id:"createWorkspace.paymentErrorWarning",defaultMessage:"The payments page encountered an error. Please try again. If the problem continues, please visit help.openai.com."},selectBillingOption:{id:"createWorkspace.selectBillingOption",defaultMessage:"Select billing options"},annualPlanSelected:{id:"teamBilling.annualPlanSelected",defaultMessage:"ChatGPT Team annual plan"},annualPlanBilled:{id:"teamBilling.annualPlanBilled",defaultMessage:"Price billed annually, starting {date}"},annualPlanTotal:{id:"teamBilling.annualPlanTotal",defaultMessage:"USD ${totalCost} per year total"},flexiblePlanSelected:{id:"teamBilling.flexiblePlanSelected",defaultMessage:"ChatGPT Team flexible plan"},flexiblePlanBilled:{id:"teamBilling.flexiblePlanBilled",defaultMessage:"Price billed monthly, starting {date}"},flexiblePlanTotal:{id:"teamBilling.flexiblePlanTotal",defaultMessage:"USD ${totalCost} per month total"},continueToPricePreview:{id:"teamBilling.continueToPricePreview",defaultMessage:"Continue"},changeEffectDate:{id:"teamBilling.changeEffectDate",defaultMessage:"This change will take effect at your next renewal on {date}"},confirmPageChangeEffectDate:{id:"teamBilling.confirmPageChangeEffectDate",defaultMessage:"Your billing schedule will change from {current_plan} to {new_plan} starting at your next renewal on {date}"},confirmChange:{id:"teamBilling.confirmChange",defaultMessage:"Confirm"}}),Wft={type:"month",name:gn.flexiblePlanName,cost:gn.flexiblePlanCost,costStructure:gn.teamsCostStructure,billingFeatures:[gn.flexibleBilledMonthly,gn.flexibleAddRemoveUsers,gn.flexibleMinBill]},Hft={type:"year",name:gn.annualPlanName,cost:gn.annualPlanCost,costStructure:gn.teamsCostStructure,originalCost:gn.flexiblePlanCost,savingsFromOriginal:gn.annualSavingsPercentage,billingFeatures:[gn.annualBilledAnnually,gn.annualAddUsersWithRenewal,gn.annualMinBill]},I_e="ext-oai-did",N_e="ext-login-allow-phone",R_e="ext-signup-allow-phone";function j_e(e){return{[I_e]:e}}function D_e(){const{layer:e}=Bn("1346366956");return()=>e.get("use_email_otp",!1)}function zS(){return p.useContext(UA).isElectron}function L_e(){const e=zS(),{value:t}=Ot("1072178956"),{value:n}=Ot("3342258807");if(e){if(n)return F_e;if(t)return B_e}}const F_e=cc.OpenAISidetron,B_e=cc.Auth0Sidetron;function U_e(){const{layer:e}=Bn("1346366956");return()=>e.get("login_allow_phone",!1)}function V_e(){const{value:e}=$t("719574156");return e}function G_e(){const{layer:e}=Bn("1346366956");return()=>e.get("signup_allow_phone",!1)}function W_e(){const{layer:e}=Bn("1914829685");return()=>e.get("forward_to_authapi",!1)}function H_e(e,t,n){return t&&n?cc.OpenAI:t?cc.LoginWebAuth0:cc.Auth0}function _n(){const[e]=Ro(),{value:t}=$t("1198030896"),n=D_e(),r=V_e(),s=U_e(),o=G_e(),{country:a}=Qc(),i=W_e(),l=L_e();return({authType:d="signup",callbackUrl:f="/",additionalAuthParams:h={},callback:m,shouldOpenPaymentModalOnAuth:g=!1,forceAuthFlow:v=void 0}={})=>{const y=v===r1.Auth0,x=v===r1.AuthApi,b=i(),w=l??H_e(e,t,(b||x)&&!y),_=n(),C=s(),T=o();g&&wn.setCookie(hn.ShowPaymentModal,!0,{maxAge:6*60*60}),m?.(w),Jx.signIn(w,{callbackUrl:f},{prompt:"login",screen_hint:d,...j_e(gB()),..._?{use_email_otp:"true"}:{},...C||r?{[N_e]:"true"}:{},...T?{[R_e]:"true"}:{},...a?{country_code:a}:{},...h})}}const CL=typeof document<"u"?X.useLayoutEffect:()=>{};function z_e(e){const t=p.useRef(null);return CL(()=>{t.current=e},[e]),p.useCallback((...n)=>{const r=t.current;return r?.(...n)},[])}const Il=e=>{var t;return(t=e?.ownerDocument)!==null&&t!==void 0?t:document},co=e=>e&&"window"in e&&e.window===e?e:Il(e).defaultView||window;function q_e(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(n=>e.test(n.brand)))||e.test(window.navigator.userAgent)}function Y_e(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function TL(e){let t=null;return()=>(t==null&&(t=e()),t)}const K_e=TL(function(){return Y_e(/^Mac/i)}),Q_e=TL(function(){return q_e(/Android/i)});function X_e(e){return e.mozInputSource===0&&e.isTrusted?!0:Q_e()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}class Z_e{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(t,n){this.nativeEvent=n,this.target=n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget,this.bubbles=n.bubbles,this.cancelable=n.cancelable,this.defaultPrevented=n.defaultPrevented,this.eventPhase=n.eventPhase,this.isTrusted=n.isTrusted,this.timeStamp=n.timeStamp,this.type=t}}function ML(e){let t=p.useRef({isFocused:!1,observer:null});CL(()=>{const r=t.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=z_e(r=>{e?.(r)});return p.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){t.current.isFocused=!0;let s=r.target,o=a=>{t.current.isFocused=!1,s.disabled&&n(new Z_e("blur",a)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};s.addEventListener("focusout",o,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&s.disabled){var a;(a=t.current.observer)===null||a===void 0||a.disconnect();let i=s===document.activeElement?null:document.activeElement;s.dispatchEvent(new FocusEvent("blur",{relatedTarget:i})),s.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:i}))}}),t.current.observer.observe(s,{attributes:!0,attributeFilter:["disabled"]})}},[n])}function J_e(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:s}=e;const o=p.useCallback(l=>{if(l.target===l.currentTarget)return r&&r(l),s&&s(!1),!0},[r,s]),a=ML(o),i=p.useCallback(l=>{const u=Il(l.target);l.target===l.currentTarget&&u.activeElement===l.target&&(n&&n(l),s&&s(!0),a(l))},[s,n,a]);return{focusProps:{onFocus:!t&&(n||s||r)?i:void 0,onBlur:!t&&(r||s)?o:void 0}}}let Nl=null,sx=new Set,xc=new Map,Ao=!1,ox=!1;const e1e={Tab:!0,Escape:!0};function qS(e,t){for(let n of sx)n(e,t)}function t1e(e){return!(e.metaKey||!K_e()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function Jf(e){Ao=!0,t1e(e)&&(Nl="keyboard",qS("keyboard",e))}function Nn(e){Nl="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(Ao=!0,qS("pointer",e))}function EL(e){X_e(e)&&(Ao=!0,Nl="virtual")}function kL(e){e.target===window||e.target===document||(!Ao&&!ox&&(Nl="virtual",qS("virtual",e)),Ao=!1,ox=!1)}function PL(){Ao=!1,ox=!0}function ax(e){if(typeof window>"u"||xc.get(co(e)))return;const t=co(e),n=Il(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){Ao=!0,r.apply(this,arguments)},n.addEventListener("keydown",Jf,!0),n.addEventListener("keyup",Jf,!0),n.addEventListener("click",EL,!0),t.addEventListener("focus",kL,!0),t.addEventListener("blur",PL,!1),typeof PointerEvent<"u"?(n.addEventListener("pointerdown",Nn,!0),n.addEventListener("pointermove",Nn,!0),n.addEventListener("pointerup",Nn,!0)):(n.addEventListener("mousedown",Nn,!0),n.addEventListener("mousemove",Nn,!0),n.addEventListener("mouseup",Nn,!0)),t.addEventListener("beforeunload",()=>{AL(e)},{once:!0}),xc.set(t,{focus:r})}const AL=(e,t)=>{const n=co(e),r=Il(e);t&&r.removeEventListener("DOMContentLoaded",t),xc.has(n)&&(n.HTMLElement.prototype.focus=xc.get(n).focus,r.removeEventListener("keydown",Jf,!0),r.removeEventListener("keyup",Jf,!0),r.removeEventListener("click",EL,!0),n.removeEventListener("focus",kL,!0),n.removeEventListener("blur",PL,!1),typeof PointerEvent<"u"?(r.removeEventListener("pointerdown",Nn,!0),r.removeEventListener("pointermove",Nn,!0),r.removeEventListener("pointerup",Nn,!0)):(r.removeEventListener("mousedown",Nn,!0),r.removeEventListener("mousemove",Nn,!0),r.removeEventListener("mouseup",Nn,!0)),xc.delete(n))};function n1e(e){const t=Il(e);let n;return t.readyState!=="loading"?ax(e):(n=()=>{ax(e)},t.addEventListener("DOMContentLoaded",n)),()=>AL(e,n)}typeof document<"u"&&n1e();function $L(){return Nl!=="pointer"}const r1e=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function s1e(e,t,n){var r;const s=typeof window<"u"?co(n?.target).HTMLInputElement:HTMLInputElement,o=typeof window<"u"?co(n?.target).HTMLTextAreaElement:HTMLTextAreaElement,a=typeof window<"u"?co(n?.target).HTMLElement:HTMLElement,i=typeof window<"u"?co(n?.target).KeyboardEvent:KeyboardEvent;return e=e||n?.target instanceof s&&!r1e.has(n==null||(r=n.target)===null||r===void 0?void 0:r.type)||n?.target instanceof o||n?.target instanceof a&&n?.target.isContentEditable,!(e&&t==="keyboard"&&n instanceof i&&!e1e[n.key])}function o1e(e,t,n){ax(),p.useEffect(()=>{let r=(s,o)=>{s1e(!!n?.isTextInput,s,o)&&e($L())};return sx.add(r),()=>{sx.delete(r)}},t)}function a1e(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:s}=e,o=p.useRef({isFocusWithin:!1}),a=p.useCallback(u=>{o.current.isFocusWithin&&!u.currentTarget.contains(u.relatedTarget)&&(o.current.isFocusWithin=!1,n&&n(u),s&&s(!1))},[n,s,o]),i=ML(a),l=p.useCallback(u=>{!o.current.isFocusWithin&&document.activeElement===u.target&&(r&&r(u),s&&s(!0),o.current.isFocusWithin=!0,i(u))},[r,s,i]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:l,onBlur:a}}}let eh=!1,Kg=0;function ix(){eh=!0,setTimeout(()=>{eh=!1},50)}function yk(e){e.pointerType==="touch"&&ix()}function i1e(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",yk):document.addEventListener("touchend",ix),Kg++,()=>{Kg--,!(Kg>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",yk):document.removeEventListener("touchend",ix))}}function zft(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:s}=e,[o,a]=p.useState(!1),i=p.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;p.useEffect(i1e,[]);let{hoverProps:l,triggerHoverEnd:u}=p.useMemo(()=>{let d=(m,g)=>{if(i.pointerType=g,s||g==="touch"||i.isHovered||!m.currentTarget.contains(m.target))return;i.isHovered=!0;let v=m.currentTarget;i.target=v,t&&t({type:"hoverstart",target:v,pointerType:g}),n&&n(!0),a(!0)},f=(m,g)=>{if(i.pointerType="",i.target=null,g==="touch"||!i.isHovered)return;i.isHovered=!1;let v=m.currentTarget;r&&r({type:"hoverend",target:v,pointerType:g}),n&&n(!1),a(!1)},h={};return typeof PointerEvent<"u"?(h.onPointerEnter=m=>{eh&&m.pointerType==="mouse"||d(m,m.pointerType)},h.onPointerLeave=m=>{!s&&m.currentTarget.contains(m.target)&&f(m,m.pointerType)}):(h.onTouchStart=()=>{i.ignoreEmulatedMouseEvents=!0},h.onMouseEnter=m=>{!i.ignoreEmulatedMouseEvents&&!eh&&d(m,"mouse"),i.ignoreEmulatedMouseEvents=!1},h.onMouseLeave=m=>{!s&&m.currentTarget.contains(m.target)&&f(m,"mouse")}),{hoverProps:h,triggerHoverEnd:f}},[t,n,r,s,i]);return p.useEffect(()=>{s&&u({currentTarget:i.target},i.pointerType)},[s]),{hoverProps:l,isHovered:o}}function qft(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,s=p.useRef({isFocused:!1,isFocusVisible:t||$L()}),[o,a]=p.useState(!1),[i,l]=p.useState(()=>s.current.isFocused&&s.current.isFocusVisible),u=p.useCallback(()=>l(s.current.isFocused&&s.current.isFocusVisible),[]),d=p.useCallback(m=>{s.current.isFocused=m,a(m),u()},[u]);o1e(m=>{s.current.isFocusVisible=m,u()},[],{isTextInput:n});let{focusProps:f}=J_e({isDisabled:r,onFocusChange:d}),{focusWithinProps:h}=a1e({isDisabled:!r,onFocusWithinChange:d});return{isFocused:o,isFocusVisible:i,focusProps:r?h:f}}var c1e=Object.defineProperty,l1e=(e,t,n)=>t in e?c1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qg=(e,t,n)=>(l1e(e,typeof t!="symbol"?t+"":t,n),n);let u1e=class{constructor(){Qg(this,"current",this.detect()),Qg(this,"handoffState","pending"),Qg(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},yo=new u1e;function Wo(e){return yo.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}function Zp(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function as(){let e=[],t={addEventListener(n,r,s,o){return n.addEventListener(r,s,o),t.add(()=>n.removeEventListener(r,s,o))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Zp(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,s){let o=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:s}),this.add(()=>{Object.assign(n.style,{[r]:o})})},group(n){let r=as();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let s of e.splice(r,1))s()}},dispose(){for(let n of e.splice(0))n()}};return t}function Jp(){let[e]=p.useState(as);return p.useEffect(()=>()=>e.dispose(),[e]),e}let Nt=(e,t)=>{yo.isServer?p.useEffect(e,t):p.useLayoutEffect(e,t)};function Ho(e){let t=p.useRef(e);return Nt(()=>{t.current=e},[e]),t}let Ye=function(e){let t=Ho(e);return X.useCallback((...n)=>t.current(...n),[t])};function d1e(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function f1e(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function Kft({disabled:e=!1}={}){let t=p.useRef(null),[n,r]=p.useState(!1),s=Jp(),o=Ye(()=>{t.current=null,r(!1),s.dispose()}),a=Ye(i=>{if(s.dispose(),t.current===null){t.current=i.currentTarget,r(!0);{let l=Wo(i.currentTarget);s.addEventListener(l,"pointerup",o,!1),s.addEventListener(l,"pointermove",u=>{if(t.current){let d=d1e(u);r(f1e(d,t.current.getBoundingClientRect()))}},!1),s.addEventListener(l,"pointercancel",o,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:a,onPointerUp:o,onClick:o}}}let h1e=p.createContext(void 0);function OL(){return p.useContext(h1e)}function cx(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function Rs(e,t,...n){if(e in t){let s=t[e];return typeof s=="function"?s(...n):s}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Rs),r}var th=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(th||{}),Es=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Es||{});function On({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:s,visible:o=!0,name:a,mergeRefs:i}){i=i??p1e;let l=IL(t,e);if(o)return vu(l,n,r,a,i);let u=s??0;if(u&2){let{static:d=!1,...f}=l;if(d)return vu(f,n,r,a,i)}if(u&1){let{unmount:d=!0,...f}=l;return Rs(d?0:1,{0(){return null},1(){return vu({...f,hidden:!0,style:{display:"none"}},n,r,a,i)}})}return vu(l,n,r,a,i)}function vu(e,t={},n,r,s){let{as:o=n,children:a,refName:i="ref",...l}=Xg(e,["unmount","static"]),u=e.ref!==void 0?{[i]:e.ref}:{},d=typeof a=="function"?a(t):a;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(t)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let f={};if(t){let h=!1,m=[];for(let[g,v]of Object.entries(t))typeof v=="boolean"&&(h=!0),v===!0&&m.push(g.replace(/([A-Z])/g,y=>`-${y.toLowerCase()}`));if(h){f["data-headlessui-state"]=m.join(" ");for(let g of m)f[`data-${g}`]=""}}if(o===p.Fragment&&(Object.keys(Js(l)).length>0||Object.keys(Js(f)).length>0))if(!p.isValidElement(d)||Array.isArray(d)&&d.length>1){if(Object.keys(Js(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Js(l)).concat(Object.keys(Js(f))).map(h=>`  - ${h}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(h=>`  - ${h}`).join(`
`)].join(`
`))}else{let h=d.props,m=h?.className,g=typeof m=="function"?(...x)=>cx(m(...x),l.className):cx(m,l.className),v=g?{className:g}:{},y=IL(d.props,Js(Xg(l,["ref"])));for(let x in f)x in y&&delete f[x];return p.cloneElement(d,Object.assign({},y,f,u,{ref:s(d.ref,u.ref)},v))}return p.createElement(o,Object.assign({},Xg(l,["ref"]),o!==p.Fragment&&u,o!==p.Fragment&&f),d)}function Qft(){let e=p.useRef([]),t=p.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function p1e(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function IL(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):t[s]=r[s];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[s=>{var o;return(o=s?.preventDefault)==null?void 0:o.call(s)}]);for(let r in n)Object.assign(t,{[r](s,...o){let a=n[r];for(let i of a){if((s instanceof Event||s?.nativeEvent instanceof Event)&&s.defaultPrevented)return;i(s,...o)}}});return t}function Xft(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):t[s]=r[s];for(let r in n)Object.assign(t,{[r](...s){let o=n[r];for(let a of o)a?.(...s)}});return t}function mn(e){var t;return Object.assign(p.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Js(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function Xg(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}let m1e="span";var nh=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(nh||{});function g1e(e,t){var n;let{features:r=1,...s}=e,o={ref:t,"aria-hidden":(r&2)===2?!0:(n=s["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return On({ourProps:o,theirProps:s,slot:{},defaultTag:m1e,name:"Hidden"})}let lx=mn(g1e),v1e=p.createContext(void 0);function y1e(){return p.useContext(v1e)}function Zft(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=t?.getAttribute("disabled")==="";return r&&b1e(n)?!1:r}function b1e(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}let NL=Symbol();function x1e(e,t=!0){return Object.assign(e,{[NL]:t})}function ar(...e){let t=p.useRef(e);p.useEffect(()=>{t.current=e},[e]);let n=Ye(r=>{for(let s of t.current)s!=null&&(typeof s=="function"?s(r):s.current=r)});return e.every(r=>r==null||r?.[NL])?void 0:n}let YS=p.createContext(null);YS.displayName="DescriptionContext";function RL(){let e=p.useContext(YS);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,RL),t}return e}function w1e(){let[e,t]=p.useState([]);return[e.length>0?e.join(" "):void 0,p.useMemo(()=>function(n){let r=Ye(o=>(t(a=>[...a,o]),()=>t(a=>{let i=a.slice(),l=i.indexOf(o);return l!==-1&&i.splice(l,1),i}))),s=p.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return X.createElement(YS.Provider,{value:s},n.children)},[t])]}let S1e="p";function _1e(e,t){let n=p.useId(),r=OL(),{id:s=`headlessui-description-${n}`,...o}=e,a=RL(),i=ar(t);Nt(()=>a.register(s),[s,a.register]);let l=r||!1,u=p.useMemo(()=>({...a.slot,disabled:l}),[a.slot,l]),d={ref:i,...a.props,id:s};return On({ourProps:d,theirProps:o,slot:u,defaultTag:S1e,name:a.name||"Description"})}let C1e=mn(_1e),T1e=Object.assign(C1e,{});var jL=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(jL||{});let em=p.createContext(null);em.displayName="LabelContext";function DL(){let e=p.useContext(em);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,DL),t}return e}function M1e(e){var t,n,r;let s=(n=(t=p.useContext(em))==null?void 0:t.value)!=null?n:void 0;return((r=void 0)!=null?r:0)>0?[s,...e].filter(Boolean).join(" "):s}function Jft({inherit:e=!1}={}){let t=M1e(),[n,r]=p.useState([]),s=e?[t,...n].filter(Boolean):n;return[s.length>0?s.join(" "):void 0,p.useMemo(()=>function(o){let a=Ye(l=>(r(u=>[...u,l]),()=>r(u=>{let d=u.slice(),f=d.indexOf(l);return f!==-1&&d.splice(f,1),d}))),i=p.useMemo(()=>({register:a,slot:o.slot,name:o.name,props:o.props,value:o.value}),[a,o.slot,o.name,o.props,o.value]);return X.createElement(em.Provider,{value:i},o.children)},[r])]}let E1e="label";function k1e(e,t){var n;let r=p.useId(),s=DL(),o=y1e(),a=OL(),{id:i=`headlessui-label-${r}`,htmlFor:l=o??((n=s.props)==null?void 0:n.htmlFor),passive:u=!1,...d}=e,f=ar(t);Nt(()=>s.register(i),[i,s.register]);let h=Ye(y=>{let x=y.currentTarget;if(x instanceof HTMLLabelElement&&y.preventDefault(),s.props&&"onClick"in s.props&&typeof s.props.onClick=="function"&&s.props.onClick(y),x instanceof HTMLLabelElement){let b=document.getElementById(x.htmlFor);if(b){let w=b.getAttribute("disabled");if(w==="true"||w==="")return;let _=b.getAttribute("aria-disabled");if(_==="true"||_==="")return;(b instanceof HTMLInputElement&&(b.type==="radio"||b.type==="checkbox")||b.role==="radio"||b.role==="checkbox"||b.role==="switch")&&b.click(),b.focus({preventScroll:!0})}}}),m=a||!1,g=p.useMemo(()=>({...s.slot,disabled:m}),[s.slot,m]),v={ref:f,...s.props,id:i,htmlFor:l,onClick:h};return u&&("onClick"in v&&(delete v.htmlFor,delete v.onClick),"onClick"in d&&delete d.onClick),On({ourProps:v,theirProps:d,slot:g,defaultTag:l?E1e:"div",name:s.name||"Label"})}let P1e=mn(k1e);Object.assign(P1e,{});let A1e=p.createContext(()=>{});function $1e({value:e,children:t}){return X.createElement(A1e.Provider,{value:e},t)}function O1e(e){if(e===null)return{width:0,height:0};let{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}function eht(e,t=!1){let[n,r]=p.useReducer(()=>({}),{}),s=p.useMemo(()=>O1e(e),[e,n]);return Nt(()=>{if(!e)return;let o=new ResizeObserver(r);return o.observe(e),()=>{o.disconnect()}},[e]),t?{width:`${s.width}px`,height:`${s.height}px`}:s}let I1e=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};function LL(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(s){return r.add(s),()=>r.delete(s)},dispatch(s,...o){let a=t[s].call(n,...o);a&&(n=a,r.forEach(i=>i()))}}}function FL(e){return p.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}let N1e=new I1e(()=>LL(()=>[],{ADD(e){return this.includes(e)?this:[...this,e]},REMOVE(e){let t=this.indexOf(e);if(t===-1)return this;let n=this.slice();return n.splice(t,1),n}}));function $i(e,t){let n=N1e.get(t),r=p.useId(),s=FL(n);if(Nt(()=>{if(e)return n.dispatch("ADD",r),()=>n.dispatch("REMOVE",r)},[n,e]),!e)return!1;let o=s.indexOf(r),a=s.length;return o===-1&&(o=a,a+=1),o===a-1}let ux=new Map,wc=new Map;function bk(e){var t;let n=(t=wc.get(e))!=null?t:0;return wc.set(e,n+1),n!==0?()=>xk(e):(ux.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>xk(e))}function xk(e){var t;let n=(t=wc.get(e))!=null?t:1;if(n===1?wc.delete(e):wc.set(e,n-1),n!==1)return;let r=ux.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,ux.delete(e))}function R1e(e,{allowed:t,disallowed:n}={}){let r=$i(e,"inert-others");Nt(()=>{var s,o;if(!r)return;let a=as();for(let l of(s=n?.())!=null?s:[])l&&a.add(bk(l));let i=(o=t?.())!=null?o:[];for(let l of i){if(!l)continue;let u=Wo(l);if(!u)continue;let d=l.parentElement;for(;d&&d!==u.body;){for(let f of d.children)i.some(h=>f.contains(h))||a.add(bk(f));d=d.parentElement}}return a.dispose},[r,t,n])}function j1e(e,t,n){let r=Ho(s=>{let o=s.getBoundingClientRect();o.x===0&&o.y===0&&o.width===0&&o.height===0&&n()});p.useEffect(()=>{if(!e)return;let s=t===null?null:t instanceof HTMLElement?t:t.current;if(!s)return;let o=as();if(typeof ResizeObserver<"u"){let a=new ResizeObserver(()=>r.current(s));a.observe(s),o.add(()=>a.disconnect())}if(typeof IntersectionObserver<"u"){let a=new IntersectionObserver(()=>r.current(s));a.observe(s),o.add(()=>a.disconnect())}return()=>o.dispose()},[t,r,e])}let rh=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),D1e=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Br=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(Br||{}),dx=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(dx||{}),L1e=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(L1e||{});function BL(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(rh)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function F1e(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(D1e)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var UL=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(UL||{});function VL(e,t=0){var n;return e===((n=Wo(e))==null?void 0:n.body)?!1:Rs(t,{0(){return e.matches(rh)},1(){let r=e;for(;r!==null;){if(r.matches(rh))return!0;r=r.parentElement}return!1}})}function nht(e){let t=Wo(e);as().nextFrame(()=>{t&&!VL(t.activeElement,0)&&kr(e)})}var B1e=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(B1e||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function kr(e){e?.focus({preventScroll:!0})}let U1e=["textarea","input"].join(",");function V1e(e){var t,n;return(n=(t=e?.matches)==null?void 0:t.call(e,U1e))!=null?n:!1}function G1e(e,t=n=>n){return e.slice().sort((n,r)=>{let s=t(n),o=t(r);if(s===null||o===null)return 0;let a=s.compareDocumentPosition(o);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function rht(e,t){return Aa(BL(),t,{relativeTo:e})}function Aa(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:s=[]}={}){let o=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,a=Array.isArray(e)?n?G1e(e):e:t&64?F1e(e):BL(e);s.length>0&&a.length>1&&(a=a.filter(m=>!s.some(g=>g!=null&&"current"in g?g?.current===m:g===m))),r=r??o.activeElement;let i=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,a.indexOf(r))-1;if(t&4)return Math.max(0,a.indexOf(r))+1;if(t&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},d=0,f=a.length,h;do{if(d>=f||d+f<=0)return 0;let m=l+d;if(t&16)m=(m+f)%f;else{if(m<0)return 3;if(m>=f)return 1}h=a[m],h?.focus(u),d+=i}while(h!==o.activeElement);return t&6&&V1e(h)&&h.select(),2}function GL(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function W1e(){return/Android/gi.test(window.navigator.userAgent)}function H1e(){return GL()||W1e()}function Xi(e,t,n,r){let s=Ho(n);p.useEffect(()=>{if(!e)return;function o(a){s.current(a)}return document.addEventListener(t,o,r),()=>document.removeEventListener(t,o,r)},[e,t,r])}function WL(e,t,n,r){let s=Ho(n);p.useEffect(()=>{if(!e)return;function o(a){s.current(a)}return window.addEventListener(t,o,r),()=>window.removeEventListener(t,o,r)},[e,t,r])}const wk=30;function z1e(e,t,n){let r=$i(e,"outside-click"),s=Ho(n),o=p.useCallback(function(l,u){if(l.defaultPrevented)return;let d=u(l);if(d===null||!d.getRootNode().contains(d)||!d.isConnected)return;let f=function h(m){return typeof m=="function"?h(m()):Array.isArray(m)||m instanceof Set?m:[m]}(t);for(let h of f)if(h!==null&&(h.contains(d)||l.composed&&l.composedPath().includes(h)))return;return!VL(d,UL.Loose)&&d.tabIndex!==-1&&l.preventDefault(),s.current(l,d)},[s,t]),a=p.useRef(null);Xi(r,"pointerdown",l=>{var u,d;a.current=((d=(u=l.composedPath)==null?void 0:u.call(l))==null?void 0:d[0])||l.target},!0),Xi(r,"mousedown",l=>{var u,d;a.current=((d=(u=l.composedPath)==null?void 0:u.call(l))==null?void 0:d[0])||l.target},!0),Xi(r,"click",l=>{H1e()||a.current&&(o(l,()=>a.current),a.current=null)},!0);let i=p.useRef({x:0,y:0});Xi(r,"touchstart",l=>{i.current.x=l.touches[0].clientX,i.current.y=l.touches[0].clientY},!0),Xi(r,"touchend",l=>{let u={x:l.changedTouches[0].clientX,y:l.changedTouches[0].clientY};if(!(Math.abs(u.x-i.current.x)>=wk||Math.abs(u.y-i.current.y)>=wk))return o(l,()=>l.target instanceof HTMLElement?l.target:null)},!0),WL(r,"blur",l=>o(l,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Rl(...e){return p.useMemo(()=>Wo(...e),[...e])}function HL(e,t,n,r){let s=Ho(n);p.useEffect(()=>{e=e??window;function o(a){s.current(a)}return e.addEventListener(t,o,r),()=>e.removeEventListener(t,o,r)},[e,t,r])}function sht(e,t){return p.useMemo(()=>{var n;if(e.type)return e.type;let r=(n=e.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||t?.tagName==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function q1e(){let e;return{before({doc:t}){var n;let r=t.documentElement,s=(n=t.defaultView)!=null?n:window;e=Math.max(0,s.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,s=Math.max(0,r.clientWidth-r.offsetWidth),o=Math.max(0,e-s);n.style(r,"paddingRight",`${o}px`)}}}function Y1e(){return GL()?{before({doc:e,d:t,meta:n}){function r(s){return n.containers.flatMap(o=>o()).some(o=>o.contains(s))}t.microTask(()=>{var s;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let i=as();i.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>i.dispose()))}let o=(s=window.scrollY)!=null?s:window.pageYOffset,a=null;t.addEventListener(e,"click",i=>{if(i.target instanceof HTMLElement)try{let l=i.target.closest("a");if(!l)return;let{hash:u}=new URL(l.href),d=e.querySelector(u);d&&!r(d)&&(a=d)}catch{}},!0),t.addEventListener(e,"touchstart",i=>{if(i.target instanceof HTMLElement)if(r(i.target)){let l=i.target;for(;l.parentElement&&r(l.parentElement);)l=l.parentElement;t.style(l,"overscrollBehavior","contain")}else t.style(i.target,"touchAction","none")}),t.addEventListener(e,"touchmove",i=>{if(i.target instanceof HTMLElement){if(i.target.tagName==="INPUT")return;if(r(i.target)){let l=i.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&i.preventDefault()}else i.preventDefault()}},{passive:!1}),t.add(()=>{var i;let l=(i=window.scrollY)!=null?i:window.pageYOffset;o!==l&&window.scrollTo(0,o),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}:{}}function K1e(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Q1e(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let lo=LL(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:as(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:Q1e(n)},s=[Y1e(),q1e(),K1e()];s.forEach(({before:o})=>o?.(r)),s.forEach(({after:o})=>o?.(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});lo.subscribe(()=>{let e=lo.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",s=n.count!==0;(s&&!r||!s&&r)&&lo.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&lo.dispatch("TEARDOWN",n)}});function X1e(e,t,n=()=>({containers:[]})){let r=FL(lo),s=t?r.get(t):void 0,o=s?s.count>0:!1;return Nt(()=>{if(!(!t||!e))return lo.dispatch("PUSH",t,n),()=>lo.dispatch("POP",t,n)},[e,t]),o}function Z1e(e,t,n=()=>[document.body]){let r=$i(e,"scroll-lock");X1e(r,t,s=>{var o;return{containers:[...(o=s.containers)!=null?o:[],n]}})}function Sk(e){return[e.screenX,e.screenY]}function oht(){let e=p.useRef([-1,-1]);return{wasMoved(t){let n=Sk(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=Sk(t)}}}function J1e(e=0){let[t,n]=p.useState(e),r=p.useCallback(l=>n(l),[t]),s=p.useCallback(l=>n(u=>u|l),[t]),o=p.useCallback(l=>(t&l)===l,[t]),a=p.useCallback(l=>n(u=>u&~l),[n]),i=p.useCallback(l=>n(u=>u^l),[n]);return{flags:t,setFlag:r,addFlag:s,hasFlag:o,removeFlag:a,toggleFlag:i}}var eCe={},_k,Ck;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((_k=process==null?void 0:eCe)==null?void 0:_k.NODE_ENV)==="test"&&typeof((Ck=Element?.prototype)==null?void 0:Ck.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var tCe=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(tCe||{});function nCe(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function rCe(e,t,n,r){let[s,o]=p.useState(n),{hasFlag:a,addFlag:i,removeFlag:l}=J1e(e&&s?3:0),u=p.useRef(!1),d=p.useRef(!1),f=Jp();return Nt(()=>{var h;if(e){if(n&&o(!0),!t){n&&i(3);return}return(h=r?.start)==null||h.call(r,n),sCe(t,{inFlight:u,prepare(){d.current?d.current=!1:d.current=u.current,u.current=!0,!d.current&&(n?(i(3),l(4)):(i(4),l(2)))},run(){d.current?n?(l(3),i(4)):(l(4),i(3)):n?l(1):i(1)},done(){var m;d.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(u.current=!1,l(7),n||o(!1),(m=r?.end)==null||m.call(r,n))}})}},[e,n,t,f]),e?[s,{closed:a(1),enter:a(2),leave:a(4),transition:a(2)||a(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function sCe(e,{prepare:t,run:n,done:r,inFlight:s}){let o=as();return aCe(e,{prepare:t,inFlight:s}),o.nextFrame(()=>{n(),o.requestAnimationFrame(()=>{o.add(oCe(e,r))})}),o.dispose}function oCe(e,t){var n,r;let s=as();if(!e)return s.dispose;let o=!1;s.add(()=>{o=!0});let a=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(i=>i instanceof CSSTransition))!=null?r:[];return a.length===0?(t(),s.dispose):(Promise.allSettled(a.map(i=>i.finished)).then(()=>{o||t()}),s.dispose)}function aCe(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function aht(e,{container:t,accept:n,walk:r}){let s=p.useRef(n),o=p.useRef(r);p.useEffect(()=>{s.current=n,o.current=r},[n,r]),Nt(()=>{if(!t||!e)return;let a=Wo(t);if(!a)return;let i=s.current,l=o.current,u=Object.assign(f=>i(f),{acceptNode:i}),d=a.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,u,!1);for(;d.nextNode();)l(d.currentNode)},[t,e,s,o])}function KS(e,t){let n=p.useRef([]),r=Ye(e);p.useEffect(()=>{let s=[...n.current];for(let[o,a]of t.entries())if(n.current[o]!==a){let i=r(t,s);return n.current=t,i}},[r,...t])}function iht(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}let tm=p.createContext(null);tm.displayName="OpenClosedContext";var tr=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(tr||{});function nm(){return p.useContext(tm)}function iCe({value:e,children:t}){return X.createElement(tm.Provider,{value:e},t)}function cCe({children:e}){return X.createElement(tm.Provider,{value:null},e)}function lCe(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let ws=[];lCe(()=>{function e(t){if(!(t.target instanceof HTMLElement)||t.target===document.body||ws[0]===t.target)return;let n=t.target;n=n.closest(rh),ws.unshift(n??t.target),ws=ws.filter(r=>r!=null&&r.isConnected),ws.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function uCe(e){throw new Error("Unexpected object: "+e)}var dCe=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(dCe||{});function cht(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),s=r??-1;switch(e.focus){case 0:{for(let o=0;o<n.length;++o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 1:{s===-1&&(s=n.length);for(let o=s-1;o>=0;--o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 2:{for(let o=s+1;o<n.length;++o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 3:{for(let o=n.length-1;o>=0;--o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 4:{for(let o=0;o<n.length;++o)if(t.resolveId(n[o],o,n)===e.id)return o;return r}case 5:return null;default:uCe(e)}}function zL(e){let t=Ye(e),n=p.useRef(!1);p.useEffect(()=>(n.current=!1,()=>{n.current=!0,Zp(()=>{n.current&&t()})}),[t])}function fCe(){let e=typeof document>"u";return"useSyncExternalStore"in s1?(t=>t.useSyncExternalStore)(s1)(()=>()=>{},()=>!1,()=>!e):!1}function jl(){let e=fCe(),[t,n]=p.useState(yo.isHandoffComplete);return t&&yo.isHandoffComplete===!1&&n(!1),p.useEffect(()=>{t!==!0&&n(!0)},[t]),p.useEffect(()=>yo.handoff(),[]),e?!1:t}let qL=p.createContext(!1);function hCe(){return p.useContext(qL)}function Tk(e){return X.createElement(qL.Provider,{value:e.force},e.children)}function pCe(e){let t=hCe(),n=p.useContext(KL),r=Rl(e),[s,o]=p.useState(()=>{var a;if(!t&&n!==null)return(a=n.current)!=null?a:null;if(yo.isServer)return null;let i=r?.getElementById("headlessui-portal-root");if(i)return i;if(r===null)return null;let l=r.createElement("div");return l.setAttribute("id","headlessui-portal-root"),r.body.appendChild(l)});return p.useEffect(()=>{s!==null&&(r!=null&&r.body.contains(s)||r==null||r.body.appendChild(s))},[s,r]),p.useEffect(()=>{t||n!==null&&o(n.current)},[n,o,t]),s}let YL=p.Fragment,mCe=mn(function(e,t){let n=e,r=p.useRef(null),s=ar(x1e(d=>{r.current=d}),t),o=Rl(r),a=pCe(r),[i]=p.useState(()=>{var d;return yo.isServer?null:(d=o?.createElement("div"))!=null?d:null}),l=p.useContext(fx),u=jl();return Nt(()=>{!a||!i||a.contains(i)||(i.setAttribute("data-headlessui-portal",""),a.appendChild(i))},[a,i]),Nt(()=>{if(i&&l)return l.register(i)},[l,i]),zL(()=>{var d;!a||!i||(i instanceof Node&&a.contains(i)&&a.removeChild(i),a.childNodes.length<=0&&((d=a.parentElement)==null||d.removeChild(a)))}),u?!a||!i?null:Cc.createPortal(On({ourProps:{ref:s},theirProps:n,slot:{},defaultTag:YL,name:"Portal"}),i):null});function gCe(e,t){let n=ar(t),{enabled:r=!0,...s}=e;return r?X.createElement(mCe,{...s,ref:n}):On({ourProps:{ref:n},theirProps:s,slot:{},defaultTag:YL,name:"Portal"})}let vCe=p.Fragment,KL=p.createContext(null);function yCe(e,t){let{target:n,...r}=e,s={ref:ar(t)};return X.createElement(KL.Provider,{value:n},On({ourProps:s,theirProps:r,defaultTag:vCe,name:"Popover.Group"}))}let fx=p.createContext(null);function bCe(){let e=p.useContext(fx),t=p.useRef([]),n=Ye(o=>(t.current.push(o),e&&e.register(o),()=>r(o))),r=Ye(o=>{let a=t.current.indexOf(o);a!==-1&&t.current.splice(a,1),e&&e.unregister(o)}),s=p.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,p.useMemo(()=>function({children:o}){return X.createElement(fx.Provider,{value:s},o)},[s])]}let xCe=mn(gCe),QL=mn(yCe),wCe=Object.assign(xCe,{Group:QL});function SCe(e,t=typeof document<"u"?document.defaultView:null,n){let r=$i(e,"escape");HL(t,"keydown",s=>{r&&(s.defaultPrevented||s.key===jL.Escape&&n(s))})}function _Ce(){var e;let[t]=p.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=p.useState((e=t?.matches)!=null?e:!1);return Nt(()=>{if(!t)return;function s(o){r(o.matches)}return t.addEventListener("change",s),()=>t.removeEventListener("change",s)},[t]),n}function CCe({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=Rl(n),s=Ye(()=>{var o,a;let i=[];for(let l of e)l!==null&&(l instanceof HTMLElement?i.push(l):"current"in l&&l.current instanceof HTMLElement&&i.push(l.current));if(t!=null&&t.current)for(let l of t.current)i.push(l);for(let l of(o=r?.querySelectorAll("html > *, body > *"))!=null?o:[])l!==document.body&&l!==document.head&&l instanceof HTMLElement&&l.id!=="headlessui-portal-root"&&(n&&(l.contains(n)||l.contains((a=n?.getRootNode())==null?void 0:a.host))||i.some(u=>l.contains(u))||i.push(l));return i});return{resolveContainers:s,contains:Ye(o=>s().some(a=>a.contains(o)))}}let XL=p.createContext(null);function Mk({children:e,node:t}){let[n,r]=p.useState(null),s=ZL(t??n);return X.createElement(XL.Provider,{value:s},e,s===null&&X.createElement(lx,{features:nh.Hidden,ref:o=>{var a,i;if(o){for(let l of(i=(a=Wo(o))==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?i:[])if(l!==document.body&&l!==document.head&&l instanceof HTMLElement&&l!=null&&l.contains(o)){r(l);break}}}}))}function ZL(e=null){var t;return(t=p.useContext(XL))!=null?t:e}function QS(){let e=p.useRef(!1);return Nt(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var oc=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(oc||{});function TCe(){let e=p.useRef(0);return WL(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function JL(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}let MCe="div";var so=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(so||{});function ECe(e,t){let n=p.useRef(null),r=ar(n,t),{initialFocus:s,initialFocusFallback:o,containers:a,features:i=15,...l}=e;jl()||(i=0);let u=Rl(n);$Ce(i,{ownerDocument:u});let d=OCe(i,{ownerDocument:u,container:n,initialFocus:s,initialFocusFallback:o});ICe(i,{ownerDocument:u,container:n,containers:a,previousActiveElement:d});let f=TCe(),h=Ye(x=>{let b=n.current;b&&(w=>w())(()=>{Rs(f.current,{[oc.Forwards]:()=>{Aa(b,Br.First,{skipElements:[x.relatedTarget,o]})},[oc.Backwards]:()=>{Aa(b,Br.Last,{skipElements:[x.relatedTarget,o]})}})})}),m=$i(!!(i&2),"focus-trap#tab-lock"),g=Jp(),v=p.useRef(!1),y={ref:r,onKeyDown(x){x.key=="Tab"&&(v.current=!0,g.requestAnimationFrame(()=>{v.current=!1}))},onBlur(x){if(!(i&4))return;let b=JL(a);n.current instanceof HTMLElement&&b.add(n.current);let w=x.relatedTarget;w instanceof HTMLElement&&w.dataset.headlessuiFocusGuard!=="true"&&(e3(b,w)||(v.current?Aa(n.current,Rs(f.current,{[oc.Forwards]:()=>Br.Next,[oc.Backwards]:()=>Br.Previous})|Br.WrapAround,{relativeTo:x.target}):x.target instanceof HTMLElement&&kr(x.target)))}};return X.createElement(X.Fragment,null,m&&X.createElement(lx,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:nh.Focusable}),On({ourProps:y,theirProps:l,defaultTag:MCe,name:"FocusTrap"}),m&&X.createElement(lx,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:nh.Focusable}))}let kCe=mn(ECe),PCe=Object.assign(kCe,{features:so});function ACe(e=!0){let t=p.useRef(ws.slice());return KS(([n],[r])=>{r===!0&&n===!1&&Zp(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=ws.slice())},[e,ws,t]),Ye(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function $Ce(e,{ownerDocument:t}){let n=!!(e&8),r=ACe(n);KS(()=>{n||t?.activeElement===t?.body&&kr(r())},[n]),zL(()=>{n&&kr(r())})}function OCe(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:s}){let o=p.useRef(null),a=$i(!!(e&1),"focus-trap#initial-focus"),i=QS();return KS(()=>{if(e===0)return;if(!a){s!=null&&s.current&&kr(s.current);return}let l=n.current;l&&Zp(()=>{if(!i.current)return;let u=t?.activeElement;if(r!=null&&r.current){if(r?.current===u){o.current=u;return}}else if(l.contains(u)){o.current=u;return}if(r!=null&&r.current)kr(r.current);else{if(e&16){if(Aa(l,Br.First|Br.AutoFocus)!==dx.Error)return}else if(Aa(l,Br.First)!==dx.Error)return;if(s!=null&&s.current&&(kr(s.current),t?.activeElement===s.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}o.current=t?.activeElement})},[s,a,e]),o}function ICe(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:s}){let o=QS(),a=!!(e&4);HL(t?.defaultView,"focus",i=>{if(!a||!o.current)return;let l=JL(r);n.current instanceof HTMLElement&&l.add(n.current);let u=s.current;if(!u)return;let d=i.target;d&&d instanceof HTMLElement?e3(l,d)?(s.current=d,kr(d)):(i.preventDefault(),i.stopPropagation(),kr(u)):kr(s.current)},!0)}function e3(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function t3(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:r3)!==p.Fragment||X.Children.count(e.children)===1}let rm=p.createContext(null);rm.displayName="TransitionContext";var NCe=(e=>(e.Visible="visible",e.Hidden="hidden",e))(NCe||{});function RCe(){let e=p.useContext(rm);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function jCe(){let e=p.useContext(sm);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let sm=p.createContext(null);sm.displayName="NestingContext";function om(e){return"children"in e?om(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function n3(e,t){let n=Ho(e),r=p.useRef([]),s=QS(),o=Jp(),a=Ye((m,g=Es.Hidden)=>{let v=r.current.findIndex(({el:y})=>y===m);v!==-1&&(Rs(g,{[Es.Unmount](){r.current.splice(v,1)},[Es.Hidden](){r.current[v].state="hidden"}}),o.microTask(()=>{var y;!om(r)&&s.current&&((y=n.current)==null||y.call(n))}))}),i=Ye(m=>{let g=r.current.find(({el:v})=>v===m);return g?g.state!=="visible"&&(g.state="visible"):r.current.push({el:m,state:"visible"}),()=>a(m,Es.Unmount)}),l=p.useRef([]),u=p.useRef(Promise.resolve()),d=p.useRef({enter:[],leave:[]}),f=Ye((m,g,v)=>{l.current.splice(0),t&&(t.chains.current[g]=t.chains.current[g].filter(([y])=>y!==m)),t?.chains.current[g].push([m,new Promise(y=>{l.current.push(y)})]),t?.chains.current[g].push([m,new Promise(y=>{Promise.all(d.current[g].map(([x,b])=>b)).then(()=>y())})]),g==="enter"?u.current=u.current.then(()=>t?.wait.current).then(()=>v(g)):v(g)}),h=Ye((m,g,v)=>{Promise.all(d.current[g].splice(0).map(([y,x])=>x)).then(()=>{var y;(y=l.current.shift())==null||y()}).then(()=>v(g))});return p.useMemo(()=>({children:r,register:i,unregister:a,onStart:f,onStop:h,wait:u,chains:d}),[i,a,r,f,h,d,u])}let r3=p.Fragment,s3=th.RenderStrategy;function DCe(e,t){var n,r;let{transition:s=!0,beforeEnter:o,afterEnter:a,beforeLeave:i,afterLeave:l,enter:u,enterFrom:d,enterTo:f,entered:h,leave:m,leaveFrom:g,leaveTo:v,...y}=e,[x,b]=p.useState(null),w=p.useRef(null),_=t3(e),C=ar(..._?[w,t,b]:t===null?[]:[t]),T=(n=y.unmount)==null||n?Es.Unmount:Es.Hidden,{show:M,appear:E,initial:R}=RCe(),[$,U]=p.useState(M?"visible":"hidden"),Y=jCe(),{register:F,unregister:j}=Y;Nt(()=>F(w),[F,w]),Nt(()=>{if(T===Es.Hidden&&w.current){if(M&&$!=="visible"){U("visible");return}return Rs($,{hidden:()=>j(w),visible:()=>F(w)})}},[$,w,F,j,M,T]);let D=jl();Nt(()=>{if(_&&D&&$==="visible"&&w.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[w,$,D,_]);let B=R&&!E,H=E&&M&&R,N=p.useRef(!1),L=n3(()=>{N.current||(U("hidden"),j(w))},Y),W=Ye(G=>{N.current=!0;let ye=G?"enter":"leave";L.onStart(w,ye,be=>{be==="enter"?o?.():be==="leave"&&i?.()})}),ce=Ye(G=>{let ye=G?"enter":"leave";N.current=!1,L.onStop(w,ye,be=>{be==="enter"?a?.():be==="leave"&&l?.()}),ye==="leave"&&!om(L)&&(U("hidden"),j(w))});p.useEffect(()=>{_&&s||(W(M),ce(M))},[M,_,s]);let se=!(!s||!_||!D||B),[,le]=rCe(se,x,M,{start:W,end:ce}),ke=Js({ref:C,className:((r=cx(y.className,H&&u,H&&d,le.enter&&u,le.enter&&le.closed&&d,le.enter&&!le.closed&&f,le.leave&&m,le.leave&&!le.closed&&g,le.leave&&le.closed&&v,!le.transition&&M&&h))==null?void 0:r.trim())||void 0,...nCe(le)}),ne=0;return $==="visible"&&(ne|=tr.Open),$==="hidden"&&(ne|=tr.Closed),le.enter&&(ne|=tr.Opening),le.leave&&(ne|=tr.Closing),X.createElement(sm.Provider,{value:L},X.createElement(iCe,{value:ne},On({ourProps:ke,theirProps:y,defaultTag:r3,features:s3,visible:$==="visible",name:"Transition.Child"})))}function LCe(e,t){let{show:n,appear:r=!1,unmount:s=!0,...o}=e,a=p.useRef(null),i=t3(e),l=ar(...i?[a,t]:t===null?[]:[t]);jl();let u=nm();if(n===void 0&&u!==null&&(n=(u&tr.Open)===tr.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[d,f]=p.useState(n?"visible":"hidden"),h=n3(()=>{n||f("hidden")}),[m,g]=p.useState(!0),v=p.useRef([n]);Nt(()=>{m!==!1&&v.current[v.current.length-1]!==n&&(v.current.push(n),g(!1))},[v,n]);let y=p.useMemo(()=>({show:n,appear:r,initial:m}),[n,r,m]);Nt(()=>{n?f("visible"):!om(h)&&a.current!==null&&f("hidden")},[n,h]);let x={unmount:s},b=Ye(()=>{var _;m&&g(!1),(_=e.beforeEnter)==null||_.call(e)}),w=Ye(()=>{var _;m&&g(!1),(_=e.beforeLeave)==null||_.call(e)});return X.createElement(sm.Provider,{value:h},X.createElement(rm.Provider,{value:y},On({ourProps:{...x,as:p.Fragment,children:X.createElement(o3,{ref:l,...x,...o,beforeEnter:b,beforeLeave:w})},theirProps:{},defaultTag:p.Fragment,features:s3,visible:d==="visible",name:"Transition"})))}function FCe(e,t){let n=p.useContext(rm)!==null,r=nm()!==null;return X.createElement(X.Fragment,null,!n&&r?X.createElement(hx,{ref:t,...e}):X.createElement(o3,{ref:t,...e}))}let hx=mn(LCe),o3=mn(DCe),XS=mn(FCe),BCe=Object.assign(hx,{Child:XS,Root:hx});var UCe=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(UCe||{}),VCe=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(VCe||{});let GCe={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},ZS=p.createContext(null);ZS.displayName="DialogContext";function am(e){let t=p.useContext(ZS);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,am),n}return t}function WCe(e,t){return Rs(t.type,GCe,e,t)}let Ek=mn(function(e,t){let n=p.useId(),{id:r=`headlessui-dialog-${n}`,open:s,onClose:o,initialFocus:a,role:i="dialog",autoFocus:l=!0,__demoMode:u=!1,unmount:d=!1,...f}=e,h=p.useRef(!1);i=function(){return i==="dialog"||i==="alertdialog"?i:(h.current||(h.current=!0,console.warn(`Invalid role [${i}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let m=nm();s===void 0&&m!==null&&(s=(m&tr.Open)===tr.Open);let g=p.useRef(null),v=ar(g,t),y=Rl(g),x=s?0:1,[b,w]=p.useReducer(WCe,{titleId:null,descriptionId:null,panelRef:p.createRef()}),_=Ye(()=>o(!1)),C=Ye(W=>w({type:0,id:W})),T=jl()?x===0:!1,[M,E]=bCe(),R={get current(){var W;return(W=b.panelRef.current)!=null?W:g.current}},$=ZL(),{resolveContainers:U}=CCe({mainTreeNode:$,portals:M,defaultContainers:[R]}),Y=m!==null?(m&tr.Closing)===tr.Closing:!1;R1e(u||Y?!1:T,{allowed:Ye(()=>{var W,ce;return[(ce=(W=g.current)==null?void 0:W.closest("[data-headlessui-portal]"))!=null?ce:null]}),disallowed:Ye(()=>{var W;return[(W=$?.closest("body > *:not(#headlessui-portal-root)"))!=null?W:null]})}),z1e(T,U,W=>{W.preventDefault(),_()}),SCe(T,y?.defaultView,W=>{W.preventDefault(),W.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),_()}),Z1e(u||Y?!1:T,y,U),j1e(T,g,_);let[F,j]=w1e(),D=p.useMemo(()=>[{dialogState:x,close:_,setTitleId:C,unmount:d},b],[x,b,_,C,d]),B=p.useMemo(()=>({open:x===0}),[x]),H={ref:v,id:r,role:i,tabIndex:-1,"aria-modal":u?void 0:x===0?!0:void 0,"aria-labelledby":b.titleId,"aria-describedby":F,unmount:d},N=!_Ce(),L=so.None;return T&&!u&&(L|=so.RestoreFocus,L|=so.TabLock,l&&(L|=so.AutoFocus),N&&(L|=so.InitialFocus)),X.createElement(cCe,null,X.createElement(Tk,{force:!0},X.createElement(wCe,null,X.createElement(ZS.Provider,{value:D},X.createElement(QL,{target:g},X.createElement(Tk,{force:!1},X.createElement(j,{slot:B},X.createElement(E,null,X.createElement(PCe,{initialFocus:a,initialFocusFallback:g,containers:U,features:L},X.createElement($1e,{value:_},On({ourProps:H,theirProps:f,slot:B,defaultTag:HCe,features:zCe,visible:x===0,name:"Dialog"})))))))))))}),HCe="div",zCe=th.RenderStrategy|th.Static;function qCe(e,t){let{transition:n=!1,open:r,...s}=e,o=nm(),a=e.hasOwnProperty("open")||o!==null,i=e.hasOwnProperty("onClose");if(!a&&!i)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!a)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!i)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!o&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!s.static?X.createElement(Mk,null,X.createElement(BCe,{show:r,transition:n,unmount:s.unmount},X.createElement(Ek,{ref:t,...s}))):X.createElement(Mk,null,X.createElement(Ek,{ref:t,open:r,...s}))}let YCe="div";function KCe(e,t){let n=p.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:s=!1,...o}=e,[{dialogState:a,unmount:i},l]=am("Dialog.Panel"),u=ar(t,l.panelRef),d=p.useMemo(()=>({open:a===0}),[a]),f=Ye(m=>{m.stopPropagation()}),h={ref:u,id:r,onClick:f};return X.createElement(s?XS:p.Fragment,{...s?{unmount:i}:{}},On({ourProps:h,theirProps:o,slot:d,defaultTag:YCe,name:"Dialog.Panel"}))}let QCe="div";function XCe(e,t){let{transition:n=!1,...r}=e,[{dialogState:s,unmount:o}]=am("Dialog.Backdrop"),a=p.useMemo(()=>({open:s===0}),[s]),i={ref:t,"aria-hidden":!0};return X.createElement(n?XS:p.Fragment,{...n?{unmount:o}:{}},On({ourProps:i,theirProps:r,slot:a,defaultTag:QCe,name:"Dialog.Backdrop"}))}let ZCe="h2";function JCe(e,t){let n=p.useId(),{id:r=`headlessui-dialog-title-${n}`,...s}=e,[{dialogState:o,setTitleId:a}]=am("Dialog.Title"),i=ar(t);p.useEffect(()=>(a(r),()=>a(null)),[r,a]);let l=p.useMemo(()=>({open:o===0}),[o]);return On({ourProps:{ref:i,id:r},theirProps:s,slot:l,defaultTag:ZCe,name:"Dialog.Title"})}let eTe=mn(qCe),tTe=mn(KCe);mn(XCe);let nTe=mn(JCe),lht=Object.assign(eTe,{Panel:tTe,Title:nTe,Description:T1e});function uht(e,t){let n=p.useRef({left:0,top:0});if(Nt(()=>{if(!t)return;let s=t.getBoundingClientRect();s&&(n.current=s)},[e,t]),t==null||!e||t===document.activeElement)return!1;let r=t.getBoundingClientRect();return r.top!==n.current.top||r.left!==n.current.left}let kk=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function Pk(e){var t,n;let r=(t=e.innerText)!=null?t:"",s=e.cloneNode(!0);if(!(s instanceof HTMLElement))return r;let o=!1;for(let i of s.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))i.remove(),o=!0;let a=o?(n=s.innerText)!=null?n:"":r;return kk.test(a)&&(a=a.replace(kk,"")),a}function rTe(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(s=>{let o=document.getElementById(s);if(o){let a=o.getAttribute("aria-label");return typeof a=="string"?a.trim():Pk(o).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return Pk(e).trim()}function dht(e){let t=p.useRef(""),n=p.useRef("");return Ye(()=>{let r=e.current;if(!r)return"";let s=r.innerText;if(t.current===s)return n.current;let o=rTe(r).trim().toLowerCase();return t.current=s,n.current=o,o})}const sTe="https://help.openai.com/en/collections/3742473-chatgpt",oTe="https://help.openai.com/en/articles/9982051",aTe="https://help.openai.com/en/articles/6825453-chatgpt-release-notes",iTe="https://help.openai.com/en/articles/10003026-windows-app-release-notes";function cTe(){return ri?oTe:sTe}function lTe(){return ri?iTe:aTe}function fht(){const e=V(),t=e.formatMessage(Vr.adminRoleName),n=e.formatMessage(Vr.ownerRoleName),r=e.formatMessage(Vr.standardRoleName);return p.useMemo(()=>({[ho.OWNER]:n,[ho.ADMIN]:t,[ho.STANDARD]:r}),[n,t,r])}function hht(e){const t=V();return e?.isWorkspaceAccount()?e.isTeam()?t.formatMessage(Vr.teamPlanName):e.isEdu()?t.formatMessage(Vr.eduPlanName):t.formatMessage(Vr.enterprisePlanName):t.formatMessage(Vr.personalPlanName)}function uTe(e){const t=V();return a3(t,e)}function dTe(){const e=Ge(),t=V();return a3(t,e)}function a3(e,t){return t==null||t.isPersonalAccount()?e.formatMessage(Vr.personalWorkspaceTitle):t.data.name??e.formatMessage(Vr.defaultWorkspaceTitle)}function i3(){return an()?.email??null}function pht(){const e=an();return e?.name??e?.email??null}function c3(){return rr(({workspaces:e})=>e)}function fTe(){const{data:e}=VA();return e?.accountItems.filter(t=>!t.isDeactivated())??[]}function mht(e){return c3().find(r=>r.id===e)?.role===ho.OWNER}function ght(e){return c3().find(r=>r.id===e)?.role===ho.ADMIN}const Vr=Q({defaultWorkspaceTitle:{id:"useWorkspaces.defaultWorkspaceTitle",defaultMessage:"Untitled Workspace"},personalWorkspaceTitle:{id:"useWorkspaces.personalWorkspaceTitle",defaultMessage:"Personal account"},personalPlanName:{id:"useWorkspaces.personalPlanName",defaultMessage:"Personal"},enterprisePlanName:{id:"useWorkspaces.enterprisePlanName",defaultMessage:"Enterprise"},eduPlanName:{id:"useWorkspaces.eduPlanName",defaultMessage:"Edu"},teamPlanName:{id:"useWorkspaces.teamPlanName",defaultMessage:"Team"},adminRoleName:{id:"useWorkspaces.adminRoleName",defaultMessage:"Admin"},ownerRoleName:{id:"useWorkspaces.ownerRoleName",defaultMessage:"Owner"},standardRoleName:{id:"useWorkspacews.standardRoleName",defaultMessage:"Member"}});function px(e,t){return t?`/g/${Lw(t)}/c/${e}`:`/c/${e}`}function vht(){return"/gpts"}function l3(){return"/gpts/mine"}function u3(e){return e?`/gpts/editor/${e}`:"/gpts/editor"}function yht(e){const t=hTe();return e==null?t:u3(e)}function hTe(e){return u3(e)}function bht(e){try{const t=new URL(e);return t.hostname=t.hostname.replace(/^(www\.|web\.|mbasic\.|mobile\.)(secure\.)?/,""),t.pathname="",[...t.searchParams.keys()].forEach(n=>t.searchParams.delete(n)),t.toString()}catch{return e}}function pTe(e){if(!e)return null;try{return new URL(e).hostname}catch{return null}}function xht(e){const t=pTe(e);return t?t.replace(/^www\./,""):e}function wht({menuItemComponent:e}){const t=Ge(),n=It(),r=p.useCallback(()=>{P.logEvent(A.clickSidebarAccountPortalMenuItem),zs(n,"Sidebar account menu item")},[n]);return $t("1028682714"),c.jsxs(c.Fragment,{children:[t?.hasPaidSubscription()&&c.jsx(e,{onClick:r,icon:lU,children:c.jsx(S,{id:"popoverNavigation.myPlan",defaultMessage:"My plan"})}),t?.canInteractWithGizmos()&&c.jsx(e,{onClick:()=>{P.logEvent(A.accountMenuClickMyGPTs),n(l3())},icon:S$,children:c.jsx(S,{id:"popoverNavigation.myGpts",defaultMessage:"My GPTs"})}),c.jsx(e,{icon:uw,onClick:()=>{Re.openModal(wt.UserContext),P.logEvent(A.accountMenuClickCustomizeChatGPT)},children:c.jsx(S,{id:"popoverNavigation.chatPreferences.1",defaultMessage:"Customize ChatGPT"})})]})}function Sht({menuItemComponent:e,routedMenuItemComponent:t}){const n=Ge(),r=Ot("2756095923")?.value&&n?.isEdu()&&n?.isStandardUserOfAccount();return c.jsxs(c.Fragment,{children:[!r&&c.jsx(t,{to:"/admin",icon:uU,children:c.jsx(S,{...Zg.myWorkspaceSettings})}),c.jsx(t,{to:l3(),onClick:()=>{P.logEvent(A.accountMenuClickMyGPTs)},icon:S$,children:c.jsx(S,{...Zg.myGpts})}),c.jsx(e,{onClick:()=>{Re.openModal(wt.UserContext),P.logEvent(A.accountMenuClickCustomizeChatGPT)},icon:uw,children:c.jsx(S,{...Zg.chatPreferences})})]})}const Zg=Q({myWorkspaceSettings:{id:"workspacePopoverNavigation.myWorkspaceSettings",defaultMessage:"Manage workspace"},chatPreferences:{id:"B4s/Jz",defaultMessage:"Customize ChatGPT"},myGpts:{id:"workspacePopoverNavigation.myGpts",defaultMessage:"My GPTs"}});var JS="Tabs",[mTe,_ht]=jo(JS,[jh]),d3=jh(),[gTe,e_]=mTe(JS),f3=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:a="horizontal",dir:i,activationMode:l="automatic",...u}=e,d=LA(i),[f,h]=Kc({prop:r,onChange:s,defaultProp:o});return c.jsx(gTe,{scope:n,baseId:GA(),value:f,onValueChange:h,orientation:a,dir:d,activationMode:l,children:c.jsx(Kt.div,{dir:d,"data-orientation":a,...u,ref:t})})});f3.displayName=JS;var h3="TabsList",p3=p.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,o=e_(h3,n),a=d3(n);return c.jsx(FA,{asChild:!0,...a,orientation:o.orientation,dir:o.dir,loop:r,children:c.jsx(Kt.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});p3.displayName=h3;var m3="TabsTrigger",g3=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=e,a=e_(m3,n),i=d3(n),l=b3(a.baseId,r),u=x3(a.baseId,r),d=r===a.value;return c.jsx(BA,{asChild:!0,...i,focusable:!s,active:d,children:c.jsx(Kt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...o,ref:t,onMouseDown:ct(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:ct(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:ct(e.onFocus,()=>{const f=a.activationMode!=="manual";!d&&!s&&f&&a.onValueChange(r)})})})});g3.displayName=m3;var v3="TabsContent",y3=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...a}=e,i=e_(v3,n),l=b3(i.baseId,r),u=x3(i.baseId,r),d=r===i.value,f=p.useRef(d);return p.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),c.jsx(Yc,{present:s||d,children:({present:h})=>c.jsx(Kt.div,{"data-state":d?"active":"inactive","data-orientation":i.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:u,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&o})})});y3.displayName=v3;function b3(e,t){return`${e}-trigger-${t}`}function x3(e,t){return`${e}-content-${t}`}var Cht=f3,Tht=p3,vTe=g3,yTe=y3,t_="Switch",[bTe,Mht]=jo(t_),[xTe,wTe]=bTe(t_),w3=p.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:o,required:a,disabled:i,value:l="on",onCheckedChange:u,form:d,...f}=e,[h,m]=p.useState(null),g=ts(t,w=>m(w)),v=p.useRef(!1),y=h?d||!!h.closest("form"):!0,[x=!1,b]=Kc({prop:s,defaultProp:o,onChange:u});return c.jsxs(xTe,{scope:n,checked:x,disabled:i,children:[c.jsx(Kt.button,{type:"button",role:"switch","aria-checked":x,"aria-required":a,"data-state":C3(x),"data-disabled":i?"":void 0,disabled:i,value:l,...f,ref:g,onClick:ct(e.onClick,w=>{b(_=>!_),y&&(v.current=w.isPropagationStopped(),v.current||w.stopPropagation())})}),y&&c.jsx(STe,{control:h,bubbles:!v.current,name:r,value:l,checked:x,required:a,disabled:i,form:d,style:{transform:"translateX(-100%)"}})]})});w3.displayName=t_;var S3="SwitchThumb",_3=p.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=wTe(S3,n);return c.jsx(Kt.span,{"data-state":C3(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});_3.displayName=S3;var STe=e=>{const{control:t,checked:n,bubbles:r=!0,...s}=e,o=p.useRef(null),a=uL(n),i=DA(t);return p.useEffect(()=>{const l=o.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(a!==n&&f){const h=new Event("click",{bubbles:r});f.call(l,n),l.dispatchEvent(h)}},[a,n,r]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:o,style:{...e.style,...i,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function C3(e){return e?"checked":"unchecked"}var _Te=w3,CTe=_3;function T3({onChange:e,enabled:t,label:n,disabled:r,icon:s=null,size:o="normal",id:a,testId:i,backgroundColor:l="black"}){const u=p.useCallback(()=>{e?.(!t)},[t,e]);return c.jsx(_Te,{id:a,checked:t,disabled:r,onCheckedChange:u,"aria-label":n,className:O("focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-token-text-secondary focus-visible:ring-offset-2 focus-visible:radix-state-checked:ring-black focus-visible:dark:ring-token-main-surface-primary focus-visible:dark:radix-state-checked:ring-green-600",r?"cursor-not-allowed opacity-50":"cursor-pointer",l==="green"?"bg-green-600 bg-opacity-15 radix-state-checked:bg-green-600":"bg-gray-200 radix-state-checked:bg-black dark:border dark:border-token-border-medium dark:bg-transparent","relative shrink-0 rounded-full dark:radix-state-checked:border-green-600 dark:radix-state-checked:bg-green-600",o==="normal"?"h-[20px] w-[32px]":o==="large"?"h-[32px] w-[54px]":"h-[19px] w-[30px]"),"data-testid":i,children:c.jsx(CTe,{className:O("flex items-center justify-center rounded-full","transition-transform duration-100 will-change-transform ltr:translate-x-0.5 rtl:-translate-x-0.5","bg-white",o==="normal"?"h-[16px] w-[16px] ltr:radix-state-checked:translate-x-[14px] rtl:radix-state-checked:translate-x-[-14px]":o==="large"?"h-[26px] w-[26px] ltr:radix-state-checked:translate-x-[24px] rtl:radix-state-checked:translate-x-[-24px]":"h-[15px] w-[15px] ltr:radix-state-checked:translate-x-[13px] rtl:radix-state-checked:translate-x-[-13px]"),children:s})})}var sh=(e=>(e.General="General",e.DesktopApp="DesktopApp",e.BetaFeatures="BetaFeatures",e.DataControls="DataControls",e.Personalization="Personalization",e.Jawbone="Jawbone",e.BuilderProfile="BuilderProfile",e.ConnectorSettings="ConnectorSettings",e.Speech="Speech",e.Security="Security",e.Nimbus="Nimbus",e))(sh||{});function Eht({value:e,icon:t,label:n,testId:r}){const s=Go();return c.jsxs(vTe,{className:O("group flex items-center justify-start gap-2 rounded-md px-2 py-1.5 text-sm text-token-text-primary radix-state-active:bg-token-main-surface-tertiary radix-state-active:text-token-text-primary md:radix-state-active:bg-token-main-surface-secondary",{"flex-1 justify-center":!s}),value:e,"data-testid":r,children:[t,c.jsx("div",{className:s?"text-left":"truncate",children:n})]})}function kht({value:e,children:t}){return c.jsx(yTe,{className:"max-h-[calc(100vh-150px)] w-full overflow-y-auto md:min-h-[380px]",value:e,children:c.jsx("div",{className:"flex flex-col gap-3 px-4 pb-6 text-sm text-token-text-primary sm:px-6 md:ps-0 md:pt-5",children:t})})}function Pht({children:e}){return c.jsx("div",{className:"border-b border-token-border-light pb-3 last-of-type:border-b-0",children:e})}const M3=Ee.div`text-xs text-token-text-secondary pr-12 mt-3`;function Aht({label:e,disabled:t,enabled:n,onChange:r,description:s,toggleTooltip:o,isLoading:a=!1,testId:i}){let l=c.jsx(T3,{disabled:t,enabled:n,onChange:r,label:e,icon:t?c.jsx(Lo,{className:"icon-xs dark:text-black"}):null,size:"normal",testId:i});return o!=null&&(l=c.jsx(pt,{label:o,side:"top",sideOffset:4,children:l})),c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{children:e}),a?c.jsx(Ln,{}):l]}),s!=null&&c.jsx(M3,{children:s})]})}function $ht({color:e="secondary",disabled:t,label:n,buttonLabel:r,onClick:s,description:o,testId:a}){const i=o?"items-start":"items-center";return c.jsxs("div",{className:O("flex",i,"justify-between"),children:[c.jsxs("div",{children:[c.jsx("div",{children:n}),o!=null&&c.jsx(M3,{children:o})]}),c.jsx(ue,{className:"shrink-0",color:e,disabled:!!t,onClick:s,"data-testid":a,children:r})]})}function Oht({onClick:e,label:t,stateLabel:n,testId:r}){return c.jsx("button",{className:"w-full",onClick:e,"data-testid":r,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{children:t}),c.jsxs("div",{className:"flex items-center text-token-text-secondary",children:[n&&c.jsx("div",{className:"-mt-0.5 me-1",children:n}),c.jsx(vB,{className:"icon-sm"})]})]})})}function TTe(e){return e?.startsWith("settings")??!1}function E3(){const{hash:e}=Io(),t=It(),n=TTe(e.slice(1)),r=n?e.slice(1).split("/")[1]:void 0,s=Object.values(sh).includes(r)?r:sh.General;return{openSettings:o=>{const a=o?`settings/${o}`:"settings";t({hash:a})},closeSettings:()=>{t({hash:""})},isOpen:n,currentTab:s}}const MTe=No({queryKey:["clientApplications"],queryFn:Z.getClientApplications});function Iht(){const{data:e,isLoading:t}=_e(MTe),{value:n}=$t("582612297");return{clientApplications:e?.items.filter(s=>s.type==="apple"?n:!0),isLoading:t}}function Nht(){const e=ze();return St({mutationFn:Z.revokeClientApplication,onSuccess:()=>{window.location.reload()},onError:t=>{ae.addError("Failed to revoke client application",{error:t}),e.danger("Failed to disconnect. Please try again later.")}})}function Dl(){const{layer:e}=Bn("3637408529");return e.get("is_login_primary_button",!1)}const ETe=()=>{const{layer:e}=Bn("1346366956");return e.get("signup_cta_copy","SIGN_UP")},Oi=e=>{switch(ETe()){case"SIGN_UP":return e;case"SIGN_UP_FOR_FREE":return yu.signUpForFreeCta;case"CREATE_ACCOUNT":return yu.createAccountCta;case"CREATE_NEW_ACCOUNT":return yu.createNewAccountCta;case"CREATE_FREE_ACCOUNT":return yu.createFreeAccountCta}},yu=Q({createAccountCta:{id:"createAccountCta",defaultMessage:"Create account"},createNewAccountCta:{id:"createNewAccountCta",defaultMessage:"Create new account"},createFreeAccountCta:{id:"createFreeAccountCta",defaultMessage:"Create free account"},signUpForFreeCta:{id:"signUpForFreeCta",defaultMessage:"Sign up for free"}});function oh(e,t="/",n={}){e(t,{replace:n?.replace,state:n_()})}function n_(){return{newConversationSignal:{}}}function Rht(e){return e.state?.newConversationSignal}function kTe(e){K.logEvent("chatgpt_web_thread_tap_new_thread"),At.getItem(Ke.HasSeenNewChatModal)===!0?oh(e):(At.setItem(Ke.HasSeenNewChatModal,!0),Re.openModal(wt.NoAuthNewChat))}function jht(){return MS(wt.NoAuthNewChat)?c.jsx(PTe,{onClose:()=>{Re.closeModal(wt.NoAuthNewChat)}}):null}function PTe({onClose:e}){const t=_n(),n=It(),r=Dh("1934819688"),s=r.config.get("is_redesign_enabled",!1),o=r.config.get("secondary_button_type","cancel"),a=Oi(rn.signUpButtonText),i=f=>{f.preventDefault(),t({authType:"signup",callback:h=>{K.logEvent("chatgpt_new_chat_modal_sign_up_link_clicked"),P.logSignUpButtonClicked({location:"New chat modal",provider:h})}})},l=f=>{f.preventDefault(),t({authType:"login",callback:h=>{K.logEvent("chatgpt_new_chat_modal_log_in_link_clicked"),P.logLogInButtonClicked({location:"New chat modal",provider:h})}})},u=()=>{K.logEvent("chatgpt_new_chat_modal_cancel_button_clicked"),P.logEvent(A.newChatModalCancelButtonClicked),e()},d=()=>{K.logEvent("chatgpt_new_chat_modal_new_chat_button_clicked"),P.logNewChatButtonClicked({location:"New Chat Modal New Chat Button"}),oh(n),e()};return p.useEffect(()=>{K.logEvent("chatgpt_new_chat_modal_shown"),P.logEvent(A.newChatModalShown)},[]),c.jsx(Ue,{isOpen:!0,type:"success",onClose:e,noPadding:!0,size:"custom",className:"max-w-sm",children:c.jsxs("div",{className:"flex flex-col justify-center p-6",children:[c.jsxs("div",{className:"mb-2 grid w-full grid-cols-[1fr,auto,1fr] items-center",children:[c.jsx("div",{}),c.jsx("div",{className:"text-xl font-medium",children:c.jsx(S,{id:"d+R7z5",defaultMessage:"Clear current chat?"})}),c.jsx("div",{className:"flex justify-end",children:s?c.jsx(qc,{onClick:e}):null})]}),c.jsx("p",{className:"mb-6 text-center text-token-text-secondary",children:c.jsx(S,{id:"+Olycu",defaultMessage:"To start a new chat, your current conversation will be discarded. <signup>Sign up</signup> or <login>log in</login> to save chats.",values:{signup:f=>c.jsx("a",{href:"#",className:"font-medium text-token-text-primary",onClick:i,children:f}),login:f=>c.jsx("a",{href:"#",className:"font-medium text-token-text-primary",onClick:l,children:f})}})}),c.jsx(ue,{className:"mb-3",color:s?"primary":"danger",size:"giant",onClick:d,children:c.jsx(S,{id:"cBGbrD",defaultMessage:"Clear chat"})}),o==="cancel"?c.jsx(ue,{size:"giant",onClick:u,color:"secondary",children:c.jsx(S,{...rn.cancelButtonText})}):null,o==="login"?c.jsx(ue,{size:"giant",onClick:()=>{t({authType:"login",callback:f=>{P.logLogInButtonClicked({location:"New chat modal",provider:f})}})},color:"ghost",children:c.jsx(S,{...rn.logInButtonText})}):null,o==="signup"?c.jsx(ue,{size:"giant",onClick:()=>{t({authType:"signup",callback:f=>{P.logSignUpButtonClicked({location:"New chat modal",provider:f})}})},color:"ghost",children:c.jsx(S,{...a})}):null]})})}function ATe({clientThreadId:e,location:t}){const n=Fe(),{id:r}=fi(e),s=ip(!0),o=It(),a=Ir(),i=Io();return p.useCallback(()=>{ew(WA(n))?kTe(o):a?o({pathname:i.pathname,search:i.search},{state:n_()}):(s({modelId:r,location:t}),K.logEvent("chatgpt_web_thread_tap_new_thread"))},[n,t,r,s,o,a,i])}const k3=We.DesktopBrowserExtensionAnnouncement,P3=We.DesktopBrowserExtensionReactiveAnnouncement,$Te=5,OTe="https://chromewebstore.google.com/detail/searchgpt/ejcfepkfckglbgocfkanmcdngdijcgld";function ITe({announcementKey:e=k3,onClose:t}){p.useEffect(()=>{P.logEventWithStatsig(A.chatgptBrowserExtensionAnnouncementShown,"chatgpt_browser_extension_announcement_shown")},[]);const{markAsViewed:n}=Xe(e),r=p.useCallback(()=>{n(),P.logEventWithStatsig(A.chatgptBrowserExtensionAnnouncementClosed,"chatgpt_browser_extension_announcement_closed"),t&&t()},[n,t]),s=p.useCallback(()=>{P.logEventWithStatsig(A.chatgptBrowserExtensionAnnouncementCTAClicked,"chatgpt_browser_extension_announcement_cta_clicked"),n(),t&&t()},[n,t]);return c.jsx(NTe,{downloadUrl:OTe,announcementKey:e,handleCTAClicked:s,handleClose:r})}function Dht({onClose:e}){return ITe({announcementKey:P3,onClose:e})}function NTe({downloadUrl:e,announcementKey:t,handleCTAClicked:n,handleClose:r}){const s=()=>{n(),window.open(e)},o=c.jsxs("div",{className:"flex-grow",children:[c.jsx("div",{className:"mb-0.5 font-semibold",children:c.jsx(S,{id:"uAZwaE",defaultMessage:"Use ChatGPT for every search"})}),c.jsx("span",{className:"text-token-text-secondary",children:c.jsx(S,{id:"+wTq4L",defaultMessage:"Download the Chrome extension to switch your default search engine to ChatGPT, and get instant answers from trusted sources with every search."})})]});return c.jsx(Ai,{onPrimaryCtaClick:s,primaryCtaText:c.jsx(S,{id:"x9mKG0",defaultMessage:"Get Extension"}),onDismiss:()=>r(t),content:o})}function A3(e){const{value:t}=$t("2634628831"),n=EA(()=>document.documentElement.dataset.searchExtension==="1"),r=nI(e.clientThreadId,MA.Search);return r0e()&&!n&&r&&t}function Lht(e){const t=A3(e),n=RTe();return!!Xe(k3).eligible&&t&&n&&!$r(e.clientThreadId)&&e.conversationMode?.kind===Me.PrimaryAssistant}function Fht(e){const t=A3(e),n=di(e.clientThreadId),r=GO(e.clientThreadId,n),s=UO(r,l=>l.role===z.User);var o=!1;const a=s?.messages[0]?.message;if(a?.content.content_type===Ae.Text){const l=a?.content.parts[0]?.toLowerCase();l&&(o=l.includes("chrome extension")||l.includes("default search"))}return!!Xe(P3).eligible&&t&&o}function Bht(e){const t=At.getItem(Ke.SearchSettings)??{};t.hasSearchedMinTimes||(t.searchMessageIds||(t.searchMessageIds=[]),t.searchMessageIds.includes(e)||(t.searchMessageIds.push(e),t.searchMessageIds.length>=$Te&&(t.hasSearchedMinTimes=!0,delete t.searchMessageIds),At.setItem(Ke.SearchSettings,t)))}function RTe(){return(At.getItem(Ke.SearchSettings)??{}).hasSearchedMinTimes===!0}const mx=He(()=>({focusedObject:null}));function jTe(){return mx(e=>e.focusedObject)}const Uht={setFocusedObject:e=>{mx.setState({focusedObject:e})},close(){mx.setState({focusedObject:null})}};var $3=(e=>(e.DOGFOODING="dogfooding",e.ALPHA="alpha",e))($3||{});function DTe(e){return e==="gpt-4o-gdrive"||e==="gpt-4o-gdrive-1007-mclick"}function O3(e){return Lxe()&&DTe(e)}function LTe(e){const t=O3(e),n=FTe();return t&&!!n}function FTe(){const e=Da("1001765573");if(!e.config.get("ca_enabled",!1))return null;const n=e.config.get("feedback_format",null);return n&&Object.values($3).includes(n)?n:null}const r_=He(()=>({displayingSideBySideFeedback:!1,unskippable:!1})),BTe=p.createContext({isWithinDataAnalysisToolMessage:!1});function UTe({jupyterMessage:e}){const t=op(),n=V();if(t)return c.jsxs("div",{className:"my-1 flex h-52 w-full max-w-xs flex-col items-center justify-center gap-2 rounded-md border-black/5 bg-gray-100 p-7 text-center text-token-text-tertiary dark:border-white/10",children:[c.jsx(dU,{className:"icon-lg"}),c.jsx(S,{...vx.imageNotSupported})]});if(e.image_payload!=null)return c.jsx("img",{className:"my-1",src:`data:image/png;base64,${e.image_payload}`,alt:n.formatMessage(vx.altText)});if(e.image_url!=null){const r=Eo(e.image_url);return c.jsx(WTe,{fileId:r})}return null}const VTe=30*1e3,I3=100,gx=1.5,GTe=Math.log(1-VTe*(1-gx)/I3)/Math.log(gx);function WTe({fileId:e}){const t=V(),{data:n,isLoading:r,refetch:s}=_e({queryKey:["getFileDownloadLink",e],queryFn:()=>Z.getFileDownloadLink(e),refetchInterval:o=>{const a=o.state.dataUpdateCount;return o.state.data?.status===br.Success||a>GTe||o.state.status===br.Error?!1:Math.pow(gx,a)*I3}});return p.useEffect(()=>{if(n?.status===br.Success){const a=new URL(n.download_url,location.toString()).searchParams.get("se");a!=null&&!r&&new Date>new Date(a)&&s()}},[n,r,s]),n?.status!==br.Success?null:c.jsx("img",{src:n.download_url,className:"my-1 max-h-full max-w-full",alt:t.formatMessage(vx.altText)})}const vx=Q({imageNotSupported:{id:"CodeExecutionOutputImage.imageNotSupported",defaultMessage:"Image output is not supported in a shared chat"},altText:{id:"CodeExecutionOutputImage.altText",defaultMessage:"Output image"}});function Vht({FormattedText:e,message:t}){const{resolvedTheme:n}=tw();return c.jsx(BTe.Provider,{value:{isWithinDataAnalysisToolMessage:!0},children:c.jsx(e,{className:O("markdown prose w-full break-words dark:prose-invert",n==="dark"?"dark":"light"),children:HTe(t)})})}function HTe(e){function t(n,r){return`\`\`\`${r}
${n}
\`\`\``}if(e.content.content_type==="code")return t(e.content.text,"python");if(e.recipient==="python"){if(e.content.content_type!=="text")throw new Error("Unexpected content type for code message");const n=e.content.parts;if(n.length!==1||typeof n[0]!="string")throw new Error("Unexpected parts for code message");return t(n[0],"python")}throw new Error("Unexpected code message format")}function Ght({message:e}){const t=V();if(e.content.content_type!==Ae.ExecutionOutput)return null;const n=e.metadata?.aggregate_result;if(!n)return ae.addError("Corrupt code execution result message"),null;const r=n.messages.filter(qTe),s=r.length>0,o=n.final_expression_output!=null,a=n.in_kernel_exception!=null;return c.jsxs(c.Fragment,{children:[s&&c.jsx(Ak,{label:"STDOUT/STDERR",output:r.map((i,l)=>c.jsx("span",{className:i.stream_name==="stderr"?"text-red-500":"",children:i.text},`${l}`))}),o&&c.jsx(Ak,{label:t.formatMessage({id:"codeInterpreterMessage.resultLabel",defaultMessage:"Result"}),output:n.final_expression_output}),a&&c.jsx(zTe,{traceback:n.in_kernel_exception.traceback.join("")})]})}function Ak({label:e,output:t}){return c.jsxs("div",{className:"bg-gray-700 p-4 text-xs",children:[c.jsx("div",{className:"mb-1 text-gray-400",children:e}),c.jsx("div",{className:"prose flex flex-col-reverse text-white",children:c.jsx("pre",{className:"shrink-0",children:t})})]})}function zTe({traceback:e}){return c.jsx("div",{className:"overflow-auto border-t border-gray-500 text-white",children:c.jsx("div",{className:"border-l-4 border-red-500 p-2 text-xs",children:c.jsx("div",{className:"scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-700 flex max-h-64 flex-col-reverse",children:c.jsx("pre",{className:"shrink-0",children:e})})})})}function Wht({message:e}){if(e.content.content_type!==Ae.ExecutionOutput)return null;const t=e.metadata?.aggregate_result;return t?c.jsx(c.Fragment,{children:t.messages.filter(N3).map((n,r)=>c.jsx(UTe,{jupyterMessage:n},r))}):(ae.addError("Corrupt code execution result message"),null)}function qTe(e){return e.message_type==="stream"}function N3(e){return e.message_type==="image"||"image_url"in e&&a0e(e.image_url+"")}function Hht(){const e=an(),t=Ge();return t&&e&&!yB(e)&&t.isEnterprisey()}function zht(){return NA(Qx.ChartSerialization)}function qht(e,t){const n=e==="chart"?Ke.HasSeenAdaInteractiveChart:Ke.HasSeenAdaInteractiveTable,[r,s]=p.useState(At.getItem(n,{userId:t})??!1),o=p.useCallback(()=>{s(!0),At.setItem(n,!0,{userId:t})},[n,t]);return[r,o]}function Yht(e){const[t,n]=p.useState([]),r=Se(()=>{const s=k.resolveThreadId(e),o=k.getThreadCurrentLeafId(e);return k.getTree(s).getBranchFromLeaf(o)});return p.useEffect(()=>{const s=R3(r);s.length!==t.length&&n(s)},[t.length,e,r]),t}function YTe(e){return Se(()=>{const t=k.resolveThreadId(e),n=k.getThreadCurrentLeafId(e),s=k.getTree(t).getBranchFromLeaf(n);return R3(s).length>0})}function KTe(e){const t=e.metadata?.aggregate_result?.messages.filter(N3)??[];let n=0;const r=(e.metadata?.ada_visualizations??[]).map(o=>{let a=o;return o.type=="chart"&&(a={...o,fallback_image:t[n++]}),a}),s=(e.metadata?.attachments??[]).filter(o=>P2(o.name)).map(o=>({type:"table",file_id:o.id??"",title:$2(o),file_name:o.name,context_connector_info:o.context_connector_info}));return[...r,...s]}function R3(e){return e.filter(n=>n.message?.author.role==="tool"&&n.message?.author.name==="python"||(n.message?.metadata?.attachments??[]).length>0).flatMap(n=>KTe(n.message))}He(e=>({selectedSpreadsheet:null,setSelectedSpreadsheet:t=>e({selectedSpreadsheet:t})}));async function QTe(e,t,n){const r=await e.text(),{parse:s}=await Ie(async()=>{const{parse:a}=await import("./oeujip5i1ptrxie5.js");return{parse:a}},[]),o=s(r);return{content:{columnNames:o.shift(),columnTypes:o[0].map(()=>"string"),rows:o},file_name:t,download_url:n}}function XTe(e){const t=e[0].values.length,n=[];for(let r=0;r<t;r++){const s=e.map(o=>o.values[r]);n.push(s)}return n}function Kht(e){return _e({queryKey:["ada-visualization","chart",e.file_id],queryFn:async()=>{const t=await Z.getFileDownloadLink(e.file_id);if(t.status===br.Success){const r=await(await fetch(t.download_url)).json();return{content:{chart_type:r.type,title:r.title,labels:r.labels,datasets:r.datasets,x_label:r.x_label,y_label:r.y_label},file_name:t.file_name??"",download_url:t.download_url}}else throw new Error("Failed to download chart json from interpreter")}})}function Qht(e){return _e({queryKey:["ada-visualization","table",e.file_id],queryFn:async()=>{if(e.file_name&&f0e(e.file_name)){const t=await Z.getAdaExcelFileContents(e.file_id);return{content:t.sheets.map(n=>({name:n.name,columnNames:n.columns.map(r=>r.name),columnTypes:n.columns.map(()=>"string"),rows:XTe(n.columns)})),download_url:t.download_url,file_name:e.file_name}}else{const t=await Z.getFileDownloadLink(e.file_id);if(t.status===br.Success){const n=await fetch(t.download_url);return QTe(n,t.file_name??"",t.download_url)}else throw new Error("Failed to download from interpreter")}}})}function ZTe(e){const t=r_(),n=YTe(e),r=I2();return n&&r&&!t.displayingSideBySideFeedback}const j3={isParagenVisible:!1,isParagenSkipped:!1},JTe=()=>{const{config:e}=Dh("4274348958"),t=e.get("show_paragen_skip_button",null),n=e.get("show_paragen_descriptor_labels",null),r=e.get("default_paragen_descriptor_label",null);return{shouldShowParagenLabels:n,defaultParagenLabel:r,shouldShowSkipButton:t}},s_=He(js(()=>j3)),ah=s_.setState,eMe={reset:()=>ah(j3),skipParagen:()=>{ah(e=>{e.isParagenSkipped=!0})}},Xht=()=>s_(({isParagenSkipped:e})=>e),Zht=()=>{nw(()=>(ah(e=>{e.isParagenVisible=!0}),()=>{ah(e=>{e.isParagenVisible=!1})}))},tMe="https://challenges.cloudflare.com/turnstile/v0/api.js",nMe={[Nu.PAID]:"0x4AAAAAAASbFNinhLLnW5f1",[Nu.FREEACCOUNT]:"0x4AAAAAAACPe2BTwOIpYk6H",[Nu.NOAUTH]:"0x4AAAAAAASbHVR44GU82lOI"};class ih{toString(){return JSON.stringify(this.toJSON())}}class Jg extends ih{constructor(t){super(),this.message=t,this.message=t}toJSON(){return{"Turnstile-Internal-Error":this.message}}}class rMe extends ih{constructor(t){super(),this.errorCode=t,this.errorCode=t}toJSON(){return{"Turnstile-Client-Error":this.errorCode}}}class sMe{app=Nu.NOAUTH;status="idle";turnstileInstancePromise=null;enforcementTokenPromise=null;requestStartTimeMs=0;_onCompleted;_onError;async initializeAndGatherData(t){this._getOrCreateInstance(t)}async _getOrCreateInstance(t){return!t.turnstile?.required||t.turnstile?.dx?null:(this.app!==t.persona&&(this.app=t.persona,this.turnstileInstancePromise=this._getTurnstileInstancePromise()),this.turnstileInstancePromise??new Jg("Turnstile instance not initialized."))}async getEnforcementToken(t){return t.turnstile?.dx?bB(t.turnstile.dx):this.startEnforcement(t).then(n=>(this.enforcementTokenPromise=null,n?n.toString():null))}async startEnforcement(t){return t.turnstile?.required?this.enforcementTokenPromise!==null?this.enforcementTokenPromise:this.enforcementTokenPromise=this._getEnforcementToken(t):null}async _getEnforcementToken(t,n){const r=await this._getOrCreateInstance(t);return r instanceof ih||r===null?r:new Promise((s,o)=>{this.setOnCompleted(a=>{const i=performance.now()-this.requestStartTimeMs;ae.addAction("turnstile_get_token_success",{app:this.app.toString(),durationMs:i}),s(a)}),this.setOnError(a=>{if(!n)this._getEnforcementToken(t,!0).then(s,o);else{const i=performance.now()-this.requestStartTimeMs;ae.addAction("turnstile_get_token_error",{app_release:"72f218c2317ed435d4260375ea6bcc05bb6ba885",error:a,app:this.app.toString(),durationMs:i}),s(new rMe(a))}}),this.setStatus("ready"),this.requestStartTimeMs=performance.now(),r.reset(),r.execute()})}setStatus(t){this.status=t}onCompleted(t){this._onCompleted?.(t)}setOnCompleted(t){this._onCompleted=t}onError(t){this._onError?.(t)}setOnError(t){this._onError=t}onExpired(){this.enforcementTokenPromise=null}_getTurnstileInstancePromise(t){if(this.turnstileInstancePromise!==null)if(t)this.turnstileInstancePromise.then(n=>{n instanceof ih||n.remove()}),this.turnstileInstancePromise=null;else return this.turnstileInstancePromise;return this.turnstileInstancePromise=new Promise((n,r)=>{const s="onloadTurnstileCallback";Object.defineProperty(window,s,{value:()=>{if(this.status==="ready")return;this.setStatus("script_loaded");const{turnstile:u}=window;if(u===null){this.setStatus("error"),t?(ae.addAction("turnstile_instance_missing",{app_release:"72f218c2317ed435d4260375ea6bcc05bb6ba885",app:this.app.toString()}),n(new Jg("Turnstile instance missing"))):this._getTurnstileInstancePromise(!0).then(n,r);return}u.render("#"+o,{sitekey:nMe[this.app],execution:"execute",callback:this.onCompleted.bind(this),"error-callback":this.onError.bind(this),"expired-callback":this.onExpired.bind(this)}),n(u)}});const o="cf-turnstile",a="cf-turnstile-script";document.getElementById(o)?.remove(),document.getElementById(a)?.remove();const i=document.createElement("div");i.id=o,i.hidden=!0,document.body.appendChild(i),this.setStatus("loading");const l=document.createElement("script");l.id=a,l.src=tMe+`?onload=${s}`,l.async=!0,l.defer=!0,l.onerror=()=>{this.setStatus("error"),t?(ae.addAction("turnstile_script_load_error",{app_release:"72f218c2317ed435d4260375ea6bcc05bb6ba885",app:this.app.toString()}),n(new Jg("Turnstile script failed to load"))):this._getTurnstileInstancePromise(!0).then(n,r)},document.body.appendChild(l)}),this.turnstileInstancePromise}}const yx=new sMe,D3=He(js(()=>({userMessageCount:Number(localStorage.getItem(Ke.NoAuthUserMessageCount)??0)}))),oMe={incrementUserMessageCount:()=>{D3.setState(e=>{const t=e.userMessageCount+1;e.userMessageCount=t,localStorage.setItem(Ke.NoAuthUserMessageCount,String(t))})}};var dt=(e=>(e.Starter="starter",e.Reply="reply",e.Autocomplete="autocomplete",e))(dt||{}),aMe=(e=>(e.Search="Search",e))(aMe||{});const L3={data:void 0},bx=He()(()=>({...L3}));function xx(e){if(e.data==null)return bx.setState(e);const t=e.data.suggestions.map(n=>({text:n,type:dt.Reply}));bx.setState({data:{messageId:e.data.messageId,suggestions:t}})}function Jht(){return bx(e=>e.data)}const iMe=async(e,t,n)=>{xx({data:void 0});const r=await Z.generateSuggestions(e,t,n),{suggestions:s}=r;xx({data:{messageId:t,suggestions:s}})},cMe=()=>{xx(L3)};function ev(e){return e.status,e.status==="fulfilled"?e.value:null}function lMe(e,t){return{forceParagen:e.forceParagen,forceParagenModel:e.forceParagenModel.value,forceRateLimit:e.forceRateLimit,resetRateLimits:e.resetRateLimits,disableSystemContentToggling:e.rebaseSystemMessageContent?!0:void 0,forceUseSearch:e.forceUseSearch??t?.forceUseSearch,paragenStreamType:e.paragenStreamType,paragenCotSummaryDisplay:e.paragenCotSummaryDisplay}}async function uMe({navigateToAuth:e,completionRequestProfiler:t}){t?.logTiming("start_chat_requirements");const n=await HA();t?.logTiming("fetched_chat_requirements"),n.force_login&&e({authType:"login"});const[r,s,o]=await Promise.allSettled([Iv.getEnforcementToken(n).then(a=>(t?.logTiming("fetched_arkose_token"),a)),yx.getEnforcementToken(n).then(a=>(t?.logTiming("fetched_turnstile_token"),a)),Nv.getEnforcementToken(n).then(a=>(t?.logTiming("fetched_p_token"),a))]);return{arkoseToken:ev(r),chatRequirements:n,proofToken:ev(o),turnstileToken:ev(s)}}async function dMe(e){const{appendMessages:t,cancelActiveRequests:n,cancelRequests:r,clientThreadId:s,completionMetadata:o,currentModelId:a,debugSettings:i,defaultModelId:l,eventMetadata:u,extraStreamParams:d,focusOnNewCompletion:f=!0,isUnauthenticated:h,navigateToAuth:m,preRequestCompletion:g,promptId:v,requestCompletion:y,requestedModelId:x,turnTracker:b,profiler:w,type:_,updateTree:C,useDefaultModel:T}=e;cMe(),eMe.reset(),n&&r();const M=performance.now();let E=a;x?E=x:T&&(E=l);const{arkoseToken:R,chatRequirements:$,proofToken:U,turnstileToken:Y}=await uMe({navigateToAuth:m,completionRequestProfiler:w});g?.(s,v),await y({model:E,completionType:_,parentNodeId:v,metadata:u,focusOnNewCompletion:f,completionMetadata:o,chatReq:$,arkoseToken:R,turnstileToken:Y,proofToken:U,preflightTime:performance.now()-M,extraStreamParams:lMe(i,d),appendMessages:t,updateTree:C,turnTracker:b,profiler:w}),h&&oMe.incrementUserMessageCount()}function fMe(){const{eligible:e,isLoading:t,markAsViewed:n}=Xe(We.NewOnboardingFlow),[r,s]=p.useState(!0),o=jS();return{isOpen:e&&r&&o,isLoading:t,setIsOpen:s,markAsViewed:n}}const Ii=He(()=>({messagesDevData:{},activeNodeId:void 0,ui:{focusedNodeId:void 0}})),hMe=()=>Ii.getState().ui.focusedNodeId,Ni=()=>Ii.getState().messagesDevData;function ept(e){const t=Object.keys(Ni()),n=t.indexOf(e);if(n===-1)throw new Error("Key not found in object");const r=(n+1)%t.length;return t[r]}function tpt(e){const t=Object.keys(Ni()),n=t.indexOf(e);if(n===-1)throw new Error("Key not found in object");const r=(n-1+t.length)%t.length;return t[r]}function npt(e){return Object.keys(Ni()).indexOf(e)}const rpt=()=>Object.keys(Ni()).length;function pMe(e,t){for(var n,r=-1,s=e.length;++r<s;){var o=t(e[r]);o!==void 0&&(n=n===void 0?o:n+o)}return n}var mMe=pMe,gMe=mMe,vMe=NaN;function yMe(e,t){var n=e==null?0:e.length;return n?gMe(e,t)/n:vMe}var bMe=yMe,xMe=bMe,wMe=Hc;function SMe(e){return xMe(e,wMe)}var _Me=SMe;const CMe=ge(_Me);function TMe(e){return e.length===0?null:e.reduce((n,r)=>n+r,0)/e.length}function MMe(e){const t=e.length;if(t===0)return 0;const n=TMe(e)||0,r=e.reduce((s,o)=>s+Math.pow(o-n,2),0)/t;return Math.sqrt(r)}function $k(e,t){const n=e.slice().sort((i,l)=>i-l),r=t*(n.length-1),s=Math.floor(r),o=Math.ceil(r);if(s===o)return n[s];const a=r-s;return(1-a)*n[s]+a*n[o]}function EMe(e){if(e.length===0)return null;const t=e.slice().sort((r,s)=>r-s),n=Math.floor(t.length/2);return t.length%2===0?(t[n-1]+t[n])/2:t[n]}var zn=(e=>(e.FirstTokenLatency="first_token_lat",e.TotalRequestTime="total_request_time",e.TokenCount="token_count",e.StdDevTokenLatency="std_dev_token_lat",e.MeanTokenLatency="mean_token_lat",e.MedianTokenLatency="median_token_lat",e.MinTokenLatency="min_token_lat",e.MaxTokenLatency="max_token_lat",e.P95TokenLatency="p95_token_lat",e.P99TokenLatency="p99_token_lat",e))(zn||{});const F3=e=>{const t=e.filter(h=>h.requestCount>1);let n=0;for(let h=0;h<e.length;h++){const m=e[h];if(n=m.requestDuration,m.content!=="")break}const r=$k(t.map(h=>h.lastTokenDuration),.95),s=$k(t.map(h=>h.lastTokenDuration),.99),o=CMe(t.map(h=>h.lastTokenDuration)),a=EMe(t.map(h=>h.lastTokenDuration)),i=t.filter(h=>h.lastTokenDuration!==0).reduce((h,m)=>Math.min(h,m.lastTokenDuration),1/0),l=t.reduce((h,m)=>Math.max(h,m.lastTokenDuration),-1/0),u=MMe(t.map(h=>h.lastTokenDuration)),d=e[e.length-1]?.requestDuration;return[{id:"first_token_lat",name:"First Token lat.",stat:n>0?`${n.toFixed(2)}ms`:null,value:n>0?n:null,category:"summary"},{id:"total_request_time",name:"Total request time",stat:d?`${(d/1e3).toFixed(2)}s`:null,value:d||null,category:"summary"},{id:"token_count",name:"Token count",stat:`${e.length}`,value:e.length,category:"summary"},{id:"std_dev_token_lat",name:"Std dev Token lat.",stat:`${u.toFixed(2)}`,value:u,category:"token"},{id:"mean_token_lat",name:"Mean Token lat.",stat:o?`${o.toFixed(2)}ms`:null,value:o??null,category:"aggregate"},{id:"median_token_lat",name:"Median Token lat.",stat:a?`${a.toFixed(2)}ms`:null,value:a??null,category:"token"},{id:"min_token_lat",name:"Min Token lat.",stat:`${i.toFixed(2)}ms`,value:i??null,category:"token"},{id:"max_token_lat",name:"Max Token lat.",stat:`${l.toFixed(2)}ms`,value:l??null,category:"token"},{id:"p95_token_lat",name:"p95 Token lat.",stat:r?`${r.toFixed(2)}ms`:null,value:r??null,category:"aggregate"},{id:"p99_token_lat",name:"p99 Token lat.",stat:s?`${s.toFixed(2)}ms`:null,value:s??null,category:"aggregate"}]},spt=()=>{const e=Ni(),t=hMe();if(!e||!t)return{stats:[],targetLatencyData:[]};const r=e[t]?.data??[];return{stats:F3(r),targetLatencyData:r}},kMe=(e,t,n,r)=>{Ii.setState(s=>{const o={focusedNodeId:e},a={status:"active",data:[],model:t,serverRequestId:n,preflightTime:r};return{...s,activeNodeId:e,ui:o,messagesDevData:{...s.messagesDevData,[e]:a}}})},PMe=(e,t,n)=>{const r=n?.search_source;Ii.setState(s=>{const o=s.messagesDevData[e];return{...s,activeNodeId:e,messagesDevData:{...s.messagesDevData,[e]:{...o,data:[...o?.data??[],t],searchSource:r}}}})},ur=(e,t)=>t.find(n=>n.id===e)?.value,AMe=e=>{const n=Ni()[e],r=F3(n.data),{preflightTime:s,model:o,serverRequestId:a,searchSource:i}=n,l={model:o,serverRequestId:a,preflightTime:s,searchSource:i,countTokens:ur(zn.TokenCount,r),tsFirstToken:ur(zn.FirstTokenLatency,r),tsMaxTokenTime:ur(zn.MaxTokenLatency,r),tsMeanTokenWithoutFirst:ur(zn.MeanTokenLatency,r),tsMedianTokenWithoutFirst:ur(zn.MedianTokenLatency,r),tsMinTokenTime:ur(zn.MinTokenLatency,r),tsStdDevTokenTime:ur(zn.StdDevTokenLatency,r),tsP95TokenWithoutFirst:ur(zn.P95TokenLatency,r),tsP99TokenWithoutFirst:ur(zn.P99TokenLatency,r),tsTotalRequestTime:ur(zn.TotalRequestTime,r)};Z.postLatencyTimingEvent(l)},$Me=e=>Ii.setState(t=>{const n={...t.messagesDevData[e],status:"finished"};return{...t,messagesDevData:{...t.messagesDevData,[e]:n}}}),opt=e=>Ii.setState(t=>({...t,ui:{...t.ui,focusedNodeId:e}}));class OMe{completionStartTime=Date.now();completionEndTime;blurDuringCompletionTime;refocusTime;constructor(){window.addEventListener("blur",this.onWindowBlur)}logFocusAfterBlurDuringCompletionEvent=()=>{K.logEvent("chatgpt_focus_after_blur_during_completion",null,{completion_duration_ms:`${this.completionEndTime-this.completionStartTime}`,blur_time_ms:`${this.blurDuringCompletionTime-this.completionStartTime}`,refocus_time_ms:`${this.refocusTime-this.completionStartTime}`}),P.logEvent(A.focusAfterBlurDuringCompletion,{completion_duration_ms:`${this.completionEndTime-this.completionStartTime}`,blur_time_ms:`${this.blurDuringCompletionTime-this.completionStartTime}`,refocus_time_ms:`${this.refocusTime-this.completionStartTime}`})};onWindowBlur=()=>{this.blurDuringCompletionTime===void 0&&(this.blurDuringCompletionTime=Date.now(),window.addEventListener("focus",this.onWindowFocusAfterBlur))};onWindowFocusAfterBlur=()=>{this.refocusTime=Date.now(),this.completionEndTime!==void 0&&this.logFocusAfterBlurDuringCompletionEvent(),this.cleanupFocusAfterBlurListener()};cleanupFocusAfterBlurListener=()=>{window.removeEventListener("focus",this.onWindowFocusAfterBlur)};onMessageError=()=>{window.removeEventListener("blur",this.onWindowBlur)};onMessageDone=()=>{window.removeEventListener("blur",this.onWindowBlur),this.blurDuringCompletionTime!==void 0&&(this.completionEndTime=Date.now(),K.logEvent("chatgpt_blur_during_completion",null,{completion_duration_ms:`${this.completionEndTime-this.completionStartTime}`,blur_time_ms:`${this.blurDuringCompletionTime-this.completionStartTime}`}),P.logEvent(A.blurDuringCompletion,{completion_duration_ms:`${this.completionEndTime-this.completionStartTime}`,blur_time_ms:`${this.blurDuringCompletionTime-this.completionStartTime}`}),this.refocusTime!==void 0&&this.logFocusAfterBlurDuringCompletionEvent())}}class IMe{constructor(t){this.requestLatencyId=t}requestStartTime=performance.now();requestLastTokenTime=performance.now();requestCount=0;requestTimes=[];onResponse(t,n,r){const s=performance.now(),o=s-this.requestLastTokenTime,a=s-this.requestStartTime;this.requestLastTokenTime=s,this.requestCount+=1;const i={requestCount:this.requestCount,requestDuration:a,lastTokenDuration:Number(JSON.stringify(o)),messageType:n.content.content_type,content:aO(n)?Ar(n):""};this.requestTimes.push(i),t.type==="message"?PMe(this.requestLatencyId,i,n.metadata):t.type==="done"&&r!=null&&($Me(this.requestLatencyId),AMe(this.requestLatencyId))}}const apt="https://help.openai.com/en/articles/8590148-memory-faq";function B3(e,t=!0){return["memories",{gizmoId:e,includeMemoryEntries:t}]}function NMe(e,t=!0,n=!0){return _e({queryKey:B3(e,t),queryFn:async()=>{const r=await Z.getMemories(e,t),s=Math.min(Math.floor(100*r.memory_num_tokens/r.memory_max_tokens),100);return{...r,memoryFullPct:s}},refetchOnMount:"always",enabled:n})}async function RMe(e,t){if(t.metadata?.client_actions===void 0||t.metadata.client_actions.length===0)return[];const r=t.metadata.client_actions.filter(o=>o.type==="browser_tool");return r.length==0?[]:(await Promise.all(r.map(o=>FMe(e,o.action,t)))).flat()}class jMe{conversationId;constructor(t){this.conversationId=t}createRequest(t){return new Promise((n,r)=>{const s=new BroadcastChannel(Math.random().toString()),o=setTimeout(()=>{r("Timeout"),s.close()},6e4);s.onmessage=i=>{n(i.data),clearTimeout(o),s.close()};const a={action:"browse",id:this.conversationId,...t,channel:s.name};window.postMessage(a,"*")})}browse(t){return this.createRequest({url:t,type:"browse"})}back(){return this.createRequest({type:"back"})}click(t){return this.createRequest({target:t,type:"click"})}scroll(t){return this.createRequest({amount:t,type:"scroll"})}quote(t,n){return this.createRequest({quote_start:t,quote_end:n,type:"quote"})}}function DMe(e){for(const t in e.urls)e.text.includes(`${t}`)||delete e.urls[t]}function bu(e,t,n){return DMe(n),{id:Fn(),author:{role:z.Tool,name:"browser"},content:{content_type:Ae.TetherBrowsingDisplay,result:n.text,summary:n.title},metadata:{_cite_metadata:{citation_format:{name:"tether_og"},metadata_list:[{type:"webpage",title:n.title,url:n.url,text:n.text}]}},recipient:"all"}}function LMe(e,t,n){return{id:Fn(),author:{role:z.Tool,name:"browser"},content:{content_type:Ae.Text,parts:[`${JSON.stringify(n)}`]},recipient:"all"}}async function FMe(e,t,n){const r=new jMe(e);try{switch(t.command){case"back":{const s=await r.back();return[bu(e,n,s)]}case"quote":{const s=await r.quote(t.quote_start,t.quote_end);return[LMe(e,n,s)]}case"scroll":{const s=await r.scroll(t.amount);return[bu(e,n,s)]}case"open_url":{const s=await r.browse(t.url);return[bu(e,n,s)]}case"click":{const s=await r.click(t.target);return[bu(e,n,s)]}default:throw new Error("Unsupported browser action type "+t)}}catch(s){return ae.addError(s),[{id:Fn(),author:{role:z.Tool,name:"browser"},content:{content_type:Ae.Text,parts:[`Error making browse call: ${s}`]},recipient:"all"}]}}function U3(e){return e==null||[Me.PrimaryAssistant,Me.GizmoInteraction].includes(e.kind)}function im(e,t){const n=nl(e,t),{data:r}=hi(n!=null&&"gizmo_id"in n?n.gizmo_id:void 0,n?.kind===Me.GizmoTest);if(n!=null)switch(n.kind){case Me.GizmoInteraction:case Me.GizmoMagicCreate:case Me.GizmoTest:return{gizmo:r,...n};case Me.PrimaryAssistant:return n}}const BMe=28,V3="conversationHistory";function o_(e={}){const{buckets:t,recentConversationLimit:n}=e,s=es()?.includes(xB)??!1,o=Ge(),a=!s&&!!o?.data,i=V(),{data:l,fetchNextPage:u,hasNextPage:d,isLoading:f,isFetchingNextPage:h,isError:m,refetch:g}=qx({queryKey:[V3],queryFn:async({pageParam:b})=>{const w=await Z.getConversations({offset:b,limit:BMe});return gG(w.items),w},initialPageParam:0,getNextPageParam:b=>{const w=b.offset+b.limit;return w<b.total?w:void 0},enabled:a}),v=p.useMemo(()=>l?.pages.flatMap(w=>w.items)??[],[l,e]),y=p.useMemo(()=>{if(!l||!t)return[];const b=UMe(v,i);return[b.recent,b.dynamicMonths,b.dynamicYears].flatMap(_=>Object.entries(_).map(([C,{items:T,label:M}],E)=>({key:`${C}-${E}`,label:M,items:T}))).filter(_=>_.items.length>0)},[v,l,i,t]),x=p.useMemo(()=>{const b=v.slice(0,n??5);return{key:"recents",label:i.formatMessage(ac.historyBucketRecent),items:b}},[v,n,i]);return{buckets:y,conversations:v,data:l,fetchNextPage:u,hasNextPage:d,refetch:g,recents:x,isLoading:f,isFetchingNextPage:h,isError:m}}function UMe(e,t){return e.reduce((n,r)=>{const s=new Date(r.update_time??r.create_time??0),o=yS(new Date,s);if(o===0)n.recent.today.items.push(r);else if(o<=1)n.recent.yesterday.items.push(r);else if(o<=7)n.recent.lastSeven.items.push(r);else if(o<=30)n.recent.lastThirty.items.push(r);else if(o2(s)){const a=pf(s),i=ZD(s),l=`${a}-${i}`;n.dynamicMonths[l]?n.dynamicMonths[l].items.push(r):n.dynamicMonths[l]={label:t.formatDate(s,{month:"long"}),items:[r]}}else{const i=`${pf(s)}-`;n.dynamicYears[i]?n.dynamicYears[i].items.push(r):n.dynamicYears[i]={label:t.formatDate(s,{year:"numeric"}),items:[r]}}return n},{recent:{today:{label:t.formatMessage(ac.historyBucketToday),items:[]},yesterday:{label:t.formatMessage(ac.historyBucketYesterday),items:[]},lastSeven:{label:t.formatMessage(ac.historyBucketLastSeven),items:[]},lastThirty:{label:t.formatMessage(ac.historyBucketLastThirty),items:[]}},dynamicMonths:{},dynamicYears:{}})}function $o(e){e.invalidateQueries({queryKey:[V3]}),e.invalidateQueries({queryKey:["gizmoConversations"]})}const ac=Q({historyBucketRecent:{id:"history.bucket.recent",defaultMessage:"Recent"},historyBucketToday:{id:"history.bucket.today",defaultMessage:"Today"},historyBucketYesterday:{id:"history.bucket.yesterday",defaultMessage:"Yesterday"},historyBucketLastSeven:{id:"history.bucket.lastSeven",defaultMessage:"Previous 7 Days"},historyBucketLastThirty:{id:"history.bucket.lastThirty",defaultMessage:"Previous 30 Days"}});function VMe(e){window.history.pushState({},"",e)}function GMe(e,t,n){const s=k.getTree(t).getMessageId(k.getThreadCurrentLeafId(t));Z.generateTitle(t,s,n).then(({title:o})=>{k.setTitle(t,o,tl.Generated),$o(e),P.logEvent(A.renameThread,{threadId:t,content:o,model:n})})}function WMe(e,t,n){const r=()=>{const o=px(n);e(o)},s=Te.getGizmoId(n);s!=null?hG(t,s).then(o=>{VMe(px(n,o))}).catch(o=>{ae.addError(o),r()}):r()}const wx={onCreate(e,t,n,r,s){P.logEvent(A.newThread),!r&&U3(Te.getConversationMode(t))&&wB(n).then(o=>{ew(o)||($o(n),e(t,s))})},onCreateFinished(e,t,n){if(!(n||!t)&&!K.checkGate("2562876640")){const r=Te.getThread(t)?.initialThreadData.lastModelUsed;r==null&&ae.addError("missing lastModelUsed on conversation create finished"),GMe(e,t,r)}}};function Ok(e,t){e.updateNodeMetadata(t.id,{completionSampleFinishTime:Date.now()})}class HMe{constructor(t,n,r,s,o,a,i,l,u,d,f,h,m){this.queryClient=t,this.clientThreadId=n,this.targetNodeId=r,this.completionType=s,this.model=o,this.eventSource=a,this.onCreate=i,this.isCompanionWindow=l,this.callModelAgain=d,this.onCompletionFinished=f,this.isHistoryAndTrainingDisabled=m,this.currentTree=k.getTree(n),this.currentNodeId=r,this.activeBranchLastMessage=this.currentTree.getMessage(this.currentNodeId),this.isCompanionWindow=l,this.completionLatencyTracker=new IMe(u),this.turnTracker=h,this.turnTracker.onCompletionStarted(s,this.model)}currentTree;currentNodeId;firstResponse=!0;didCreateFirstCompletionInNewThread=!1;activeBranchLastMessage;messagesToUpdate={};allIncompleteStreamedMessages={};responseThreadId;isCompletionBlocked=!1;isEitherFlagged=!1;variantsInStreamInfo;activeBranchNodeId;blurDuringCompletionTracker=new OMe;completionLatencyTracker;turnTracker;debouncedUpdateCompletion=YO(()=>{this.isCompletionBlocked||k.updateTree(this.clientThreadId,t=>{Object.values(this.messagesToUpdate).forEach(n=>{t.updateNodeMessage(n.id,n)})}),this.messagesToUpdate={}},50,{leading:!0,maxWait:50});handleResponse=async t=>{if(t.type!=="done"&&this.turnTracker.onUpdateEventCount(),this.completionLatencyTracker.onResponse(t,this.activeBranchLastMessage,this.responseThreadId),this.responseThreadId===void 0&&"conversationId"in t){const n=t.conversationId;this.responseThreadId=n,$r(this.clientThreadId)&&k.getServerThreadId(this.clientThreadId)!==n&&(k.setServerIdForNewThread(this.clientThreadId,n),P.logEvent(A.attributeClientThreadToServerThread,{client_thread_id:this.clientThreadId,server_thread_id:n}))}switch(t.type){case"error":this.handleError(t);break;case"num_variants_in_stream":this.bindVariantInfoToTree(t);break;case"moderation":this.handleModeration(t);break;case"url_moderation":this.handleUrlModeration(t);break;case"message":this.handleMessage(t),this.debouncedUpdateCompletion();break;case"done":this.handleDone();break;case"gizmo_inline_review":this.handleGizmoInlineReview(t);break;case"title_generation":this.handleTitleGeneration(t);break;case"conversation_detail_metadata":this.handleConversationDetailMetadata(t);break}};handleError(t){const n=t.error,r=n?.message||"Something went wrong",s=n instanceof Dt&&n.code||"",o=n instanceof Dt&&n.status,a=n instanceof Dt?n.detail?.can_retry:void 0;switch(this.turnTracker.handleRawError(r,o),k.updateTree(this.clientThreadId,i=>{i.updateNodeMessage(this.currentNodeId,this.activeBranchLastMessage),i.updateNodeMetadata(this.currentNodeId,{err:r,errType:"danger",errCode:s,completionSampleFinishTime:Date.now(),canRetry:a})}),s){case Dn.ContentPolicy:case Dn.ContentOrTos:case Qb:case OA:break;default:r!==void 0&&K.logEvent("chatgpt_conversation_error_web",r)}if(this.blurDuringCompletionTracker.onMessageError(),this.cleanUp(),this.onCompletionFinished(this.responseThreadId),n instanceof Dt&&n.code===Qb){const i=n.detail?.clears_in;i&&($we(new Date(Date.now()+i*1e3).toISOString()),setTimeout(()=>{_2()},i*1e3))}}handleGizmoInlineReview(t){k.setPromptGptRating(this.clientThreadId,t.gizmoId)}handleTitleGeneration(t){k.setTitle(this.clientThreadId,t.title,tl.Generated)}handleConversationDetailMetadata(t){const{default_model_slug:n}=t;n&&k.setThreadModelId(this.clientThreadId,n),Rv.updateDetails(t)}bindVariantInfoToTree(t){this.variantsInStreamInfo=t,k.updateTree(this.clientThreadId,n=>{const r=n.getParentPromptNode(this.currentNodeId);n.updateNodeMetadata(r.id,{variantsInStreamInfo:this.variantsInStreamInfo})})}handleModeration(t){const{isCompletion:n,messageId:r,conversationId:s,flagged:o,blocked:a,disclaimers:i,metadata:l}=t,u=!!i?.length&&n;(o||a||u)&&(this.isEitherFlagged=!0,a&&n&&(this.isCompletionBlocked=!0),k.updateTree(this.clientThreadId,d=>{const f=d.messageIdToNodeId(r);a&&d.clearNodeMessageParts(f),d.updateNodeMetadata(f,{...(u&&!!i?.length&&LO(i,a))??{},...o&&RO,...a&&(l?.model_incompatibility?jO:DO),completionSampleFinishTime:Date.now()})}),P.logEvent(n?a?A.completionBlockedByModeration:A.completionFlaggedByModeration:a?A.promptBlockedByModeration:A.promptFlaggedByModeration,{threadId:s,id:r}))}handleUrlModeration(t){const{conversationId:n,url:r,isSafe:s}=t;s&&k.addThreadSafeUrl(n,r)}handleMessage(t){let n=!0;const{message:r,conversationId:s}=t;if(this.turnTracker.onMessageUpdate(r.metadata?.model_slug,r.metadata?.gizmo_id,r.author.name,r.author.role),this.firstResponse&&!this.currentTree.hasReceivedServerCompletion){if(this.currentTree.hasNodeOrMessageId(r.id))return r?.author.role!==z.User?void 0:k.updateTree(this.clientThreadId,o=>{o.updateNodeMessage(r.id,r)});if(r.author.role===z.User&&r.content.content_type===Ae.UserEditableContext)return;if((r?.author.role===z.System||r?.author.role===z.Developer)&&(r.metadata?.parent_id?this.currentTree.getNodeByIdOrMessageId(r.metadata.parent_id):void 0)?.message.author.role!==z.User){this.currentTree.appendSystemMessageToRoot(r);return}}if(this.firstResponse&&r.metadata?.rebase_system_message){k.updateTree(this.clientThreadId,o=>{if(r.metadata?.parent_id==null)throw Error("Unexpected rebased system message without parent");const a=o.getNodeByIdOrMessageId(this.targetNodeId);o.deleteNode(this.targetNodeId),o.addNode(r.id,r,r.metadata.parent_id,r.author.role),o.addNode(a.id,a.message,r.id,a.message.author.role)});return}if(this.firstResponse){const o=Se.getState().threads[this.clientThreadId]?.continuingFromSharedConversationId!=null;k.removeContinuingFromSharedConversationId(this.clientThreadId),this.firstResponse=!1,this.didCreateFirstCompletionInNewThread=!this.currentTree.hasReceivedServerCompletion||o,k.updateTree(this.clientThreadId,i=>{i.updateNodeMessage(this.currentNodeId,r)}),this.didCreateFirstCompletionInNewThread&&wx.onCreate(this.onCreate,s,this.queryClient,this.isHistoryAndTrainingDisabled,this.isCompanionWindow);const a={id:this.targetNodeId,threadId:s,completionType:this.completionType,eventSource:this.eventSource,model:this.model};if(this.completionType===ks.Next){const i=Se.getState().threads[s],l=i?.conversationTurns?.length,u=i?.conversationTurns?.filter(f=>f.role==z.User),d=u&&u[u.length-1]?.messages[0].message;if(d?.content.content_type==Ae.Text){const f=d.content.parts.join("").length,h=u?.length??0;a.countConversationTurns=l,a.countUserSubmittedMessages=h,a.countLastUserPromptTextMessageLength=f}}P.logEvent(A.generateCompletion,a)}else if(this.completionType!==ks.Continue){const o=this.currentTree.containsNodeOrMessageId(r.id),a=r.metadata?.parent_id;if(o||(this.debouncedUpdateCompletion.flush(),k.updateTree(this.clientThreadId,i=>{if(a==null)throw new Error(`Received a message with no parentId: ${JSON.stringify(r)}`);i.addNode(r.id,r,a,z.Assistant)})),a!=null&&a===this.activeBranchNodeId){const i=this.allIncompleteStreamedMessages[a];i!=null&&(k.updateTree(this.clientThreadId,l=>{Ok(l,i)}),delete this.allIncompleteStreamedMessages[a])}if(n=(this.variantsInStreamInfo?.num_variants_in_stream??1)===1||this.activeBranchNodeId==null||this.activeBranchNodeId===r.id||this.currentTree.isAncestorOfNode(this.activeBranchNodeId,r.id),n&&this.activeBranchNodeId!==r.id){this.activeBranchNodeId=r.id,this.currentNodeId=r.id;const i=k.getThreadCurrentLeafId(this.clientThreadId);this.currentTree.messageIdToNodeId(this.currentNodeId)!==this.currentTree.messageIdToNodeId(i)&&k.setThreadCurrentLeafId(this.clientThreadId,this.currentNodeId),a!=null&&k.updateTree(this.clientThreadId,l=>{const u=l.getParentPromptNode(r.id);l.updateNodeMetadata(u.id,{variantsInStreamInfo:this.variantsInStreamInfo})})}}if(r?.author.role===z.Tool&&r?.author.name==="bio"){const o=r.metadata?.gizmo_id;setTimeout(()=>{this.queryClient.invalidateQueries({queryKey:B3(o)})},5e3)}n&&(this.activeBranchLastMessage=r),this.messagesToUpdate[r.id]=r,this.allIncompleteStreamedMessages[r.id]=r}async handleDone(){if(this.turnTracker.model_message_update_count>0?this.turnTracker.logCompletion({type:Rn.Success}):this.turnTracker.logCompletion({type:Rn.Error,error:{reason:"empty_response",message:"Successful completion ended with no messages"}}),this.isCompletionBlocked||(this.debouncedUpdateCompletion.flush(),this.isEitherFlagged||(this.didCreateFirstCompletionInNewThread&&wx.onCreateFinished(this.queryClient,this.responseThreadId,this.isHistoryAndTrainingDisabled),this.onCompletionFinished(this.responseThreadId))),k.updateTree(this.clientThreadId,t=>{Object.values(this.allIncompleteStreamedMessages).forEach(n=>{Ok(t,n)})}),xo.publish({kind:"createConversation",clientThreadId:this.clientThreadId}),this.blurDuringCompletionTracker.onMessageDone(),this.cleanUp(),this.activeBranchLastMessage?.metadata?.client_actions!==void 0){const t=await RMe(this.clientThreadId,this.activeBranchLastMessage);t.length>0&&this.callModelAgain(this.currentNodeId,t)}}cleanUp(){setTimeout(()=>{Ec(this.clientThreadId,{source:_s.CLIENT,value:Yn.UNREAD}),Qr.removeRequest(this.targetNodeId),k.releaseThread(this.clientThreadId)},0)}}const ch=new Set,ipt=e=>{p.useEffect(()=>(ch.add(e),()=>{ch.delete(e)}),[e])},zMe=()=>ch.size>0,qMe=()=>Promise.allSettled(Array.from(ch).map(e=>e())),wa=e=>{if(e.type===dt.Starter&&e.category==="onboarding")return"";switch(e.type){case dt.Reply:return e.text;case dt.Starter:case dt.Autocomplete:return e.prompt}},YMe=e=>e.type===dt.Reply,G3=e=>e.type===dt.Starter,a_=e=>e.type===dt.Autocomplete,Nd=e=>a_(e)&&!!e.theme,KMe=(e,t,n,r)=>{switch(K.logEvent("chatgpt_prompt_use_suggestion",a_(e)&&!Nd(e)?"":wa(e),{id:G3(e)||Nd(e)?e.id??"":"",index:`${t}`,type:e.type}),e.type){case dt.Reply:P.logEvent(A.useSuggestedReply,{value:wa(e),prompt_type:dt.Reply,messageId:r});break;case dt.Starter:P.logEvent(A.useStarterPrompt,{value:wa(e),prompt_type:dt.Starter,title:e.title,body:e.body,id:e.id,category:e.category,client_thread_id:n,messageId:r,index:t,theme:e.theme});break;case dt.Autocomplete:{const s=Nd(e);P.logEvent(A.useAutocomplete,{value:s?wa(e):"",prompt_type:dt.Autocomplete,title:s?e.title:"",body:s?e.body:"",id:s?e.id:"",category:e.category,index:t,messageId:r,client_thread_id:n,theme:e.theme??""});break}}},cpt=(e,t)=>{const n=k.getThreadCurrentLeafId(t),r=k.getTree(t).getMessageId(n);if(K.logEvent("chatgpt_prompt_show_suggestions",`count_${e.length}`,{type:e[0].type}),e.every(YMe))P.logEvent(A.showSuggestedReplies,{prompt_count:e.length,prompt_type:dt.Reply,client_thread_id:t,suggestions:e.map(s=>s.text),message_id:r});else if(e.every(G3)){const{isAdditional:s}=e[0];P.logEvent(s?A.moreStarterPromptsShown:A.showStarterPrompts,{prompt_count:e.length,prompt_type:dt.Starter,titles:e.map(o=>o.title),bodies:e.map(o=>o.body),ids:e.map(o=>o.id),client_thread_id:t,message_id:r,themes:e.map(o=>o.theme??"")}),s&&P.logEvent(A.expandMoreStarterPrompts,{client_thread_id:t,message_id:r})}else if(e.every(a_)){const s=!!e.find(o=>Nd(o));P.logEvent(A.showAutocompletePrompts,{prompt_count:e.length,prompt_type:dt.Autocomplete,titles:e.map(o=>s?o.title:""),bodies:e.map(o=>s?o.body:""),ids:e.map(o=>s?o.id:""),client_thread_id:t,message_id:r,themes:e.map(o=>o.theme??"")})}else ae.addError("Unhandled suggestion type",{type:e[0].type})},lpt=e=>{const t=k.getThreadCurrentLeafId(e),n=k.getTree(e).getMessageId(t);P.logEvent(A.showExpandMoreStarterPromptsButton,{client_thread_id:e,message_id:n})},upt=e=>{const t=k.getThreadCurrentLeafId(e),n=k.getTree(e).getMessageId(t);P.logEvent(A.expandMoreStarterPrompts,{client_thread_id:e,message_id:n})};async function QMe(e,t){const n=e.getReader();let r;for(;!(r=await n.read()).done;)t(r.value)}function XMe(e){let t,n,r,s=!1;return function(a){t===void 0?(t=a,n=0,r=-1):t=JMe(t,a);const i=t.length;let l=0;for(;n<i;){s&&(t[n]===10&&(l=++n),s=!1);let u=-1;for(;n<i&&u===-1;++n)switch(t[n]){case 58:r===-1&&(r=n-l);break;case 13:s=!0;case 10:u=n;break}if(u===-1)break;e(t.subarray(l,u),r),l=n,r=-1}l===i?t=void 0:l!==0&&(t=t.subarray(l),n-=l)}}function ZMe(e,t,n){let r=Ik();const s=new TextDecoder;return function(a,i){if(a.length===0)n?.(r),r=Ik();else if(i>0){const l=s.decode(a.subarray(0,i)),u=i+(a[i+1]===32?2:1),d=s.decode(a.subarray(u));switch(l){case"data":r.data=r.data?r.data+`
`+d:d;break;case"event":r.event=d;break;case"id":e(r.id=d);break;case"retry":const f=parseInt(d,10);isNaN(f)||t(r.retry=f);break}}}}function JMe(e,t){const n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function Ik(){return{data:"",event:"",id:"",retry:void 0}}var eEe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Sx="text/event-stream",tEe=1e3,Nk="last-event-id";function nEe(e,t){var{signal:n,headers:r,onopen:s,onmessage:o,onclose:a,onerror:i,openWhenHidden:l,fetch:u}=t,d=eEe(t,["signal","headers","onopen","onmessage","onclose","onerror","openWhenHidden","fetch"]);return new Promise((f,h)=>{const m=Object.assign({},r);m.accept||(m.accept=Sx);let g;function v(){g.abort(),document.hidden||C()}l||document.addEventListener("visibilitychange",v);let y=tEe,x=0;function b(){document.removeEventListener("visibilitychange",v),window.clearTimeout(x),g.abort()}n?.addEventListener("abort",()=>{b(),f()});const w=u??window.fetch,_=s??rEe;async function C(){var T;g=new AbortController;try{const M=await w(e,Object.assign(Object.assign({},d),{headers:m,signal:g.signal}));await _(M),await QMe(M.body,XMe(ZMe(E=>{E?m[Nk]=E:delete m[Nk]},E=>{y=E},o))),a?.(),b(),f()}catch(M){if(!g.signal.aborted)try{const E=(T=i?.(M))!==null&&T!==void 0?T:y;window.clearTimeout(x),x=window.setTimeout(C,E)}catch(E){b(),h(E)}}}C()})}function rEe(e){const t=e.headers.get("content-type");if(!t?.startsWith(Sx))throw new Error(`Expected content-type to be ${Sx}, Actual: ${t}`)}var sEe=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{},uo="1.6.0",Rk=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function oEe(e){var t=new Set([e]),n=new Set,r=e.match(Rk);if(!r)return function(){return!1};var s={major:+r[1],minor:+r[2],patch:+r[3],prerelease:r[4]};if(s.prerelease!=null)return function(l){return l===e};function o(i){return n.add(i),!1}function a(i){return t.add(i),!0}return function(l){if(t.has(l))return!0;if(n.has(l))return!1;var u=l.match(Rk);if(!u)return o(l);var d={major:+u[1],minor:+u[2],patch:+u[3],prerelease:u[4]};return d.prerelease!=null||s.major!==d.major?o(l):s.major===0?s.minor===d.minor&&s.patch<=d.patch?a(l):o(l):s.minor<=d.minor?a(l):o(l)}}var aEe=oEe(uo),iEe=uo.split(".")[0],Uc=Symbol.for("opentelemetry.js.api."+iEe),Vc=sEe;function Ll(e,t,n,r){var s;r===void 0&&(r=!1);var o=Vc[Uc]=(s=Vc[Uc])!==null&&s!==void 0?s:{version:uo};if(!r&&o[e]){var a=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return n.error(a.stack||a.message),!1}if(o.version!==uo){var a=new Error("@opentelemetry/api: Registration of version v"+o.version+" for "+e+" does not match previously registered API v"+uo);return n.error(a.stack||a.message),!1}return o[e]=t,n.debug("@opentelemetry/api: Registered a global for "+e+" v"+uo+"."),!0}function Oo(e){var t,n,r=(t=Vc[Uc])===null||t===void 0?void 0:t.version;if(!(!r||!aEe(r)))return(n=Vc[Uc])===null||n===void 0?void 0:n[e]}function Fl(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+uo+".");var n=Vc[Uc];n&&delete n[e]}var cEe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,o=[],a;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)o.push(s.value)}catch(i){a={error:i}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},lEe=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},uEe=function(){function e(t){this._namespace=t.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Zi("debug",this._namespace,t)},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Zi("error",this._namespace,t)},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Zi("info",this._namespace,t)},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Zi("warn",this._namespace,t)},e.prototype.verbose=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Zi("verbose",this._namespace,t)},e}();function Zi(e,t,n){var r=Oo("diag");if(r)return n.unshift(t),r[e].apply(r,lEe([],cEe(n),!1))}var Tn;(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(Tn||(Tn={}));function dEe(e,t){e<Tn.NONE?e=Tn.NONE:e>Tn.ALL&&(e=Tn.ALL),t=t||{};function n(r,s){var o=t[r];return typeof o=="function"&&e>=s?o.bind(t):function(){}}return{error:n("error",Tn.ERROR),warn:n("warn",Tn.WARN),info:n("info",Tn.INFO),debug:n("debug",Tn.DEBUG),verbose:n("verbose",Tn.VERBOSE)}}var fEe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,o=[],a;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)o.push(s.value)}catch(i){a={error:i}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},hEe=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},pEe="diag",Or=function(){function e(){function t(s){return function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];var i=Oo("diag");if(i)return i[s].apply(i,hEe([],fEe(o),!1))}}var n=this,r=function(s,o){var a,i,l;if(o===void 0&&(o={logLevel:Tn.INFO}),s===n){var u=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return n.error((a=u.stack)!==null&&a!==void 0?a:u.message),!1}typeof o=="number"&&(o={logLevel:o});var d=Oo("diag"),f=dEe((i=o.logLevel)!==null&&i!==void 0?i:Tn.INFO,s);if(d&&!o.suppressOverrideMessage){var h=(l=new Error().stack)!==null&&l!==void 0?l:"<failed to generate stacktrace>";d.warn("Current logger will be overwritten from "+h),f.warn("Current logger will overwrite one already registered from "+h)}return Ll("diag",f,n,!0)};n.setLogger=r,n.disable=function(){Fl(pEe,n)},n.createComponentLogger=function(s){return new uEe(s)},n.verbose=t("verbose"),n.debug=t("debug"),n.info=t("info"),n.warn=t("warn"),n.error=t("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}(),mEe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,o=[],a;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)o.push(s.value)}catch(i){a={error:i}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},gEe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},vEe=function(){function e(t){this._entries=t?new Map(t):new Map}return e.prototype.getEntry=function(t){var n=this._entries.get(t);if(n)return Object.assign({},n)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(t){var n=mEe(t,2),r=n[0],s=n[1];return[r,s]})},e.prototype.setEntry=function(t,n){var r=new e(this._entries);return r._entries.set(t,n),r},e.prototype.removeEntry=function(t){var n=new e(this._entries);return n._entries.delete(t),n},e.prototype.removeEntries=function(){for(var t,n,r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];var o=new e(this._entries);try{for(var a=gEe(r),i=a.next();!i.done;i=a.next()){var l=i.value;o._entries.delete(l)}}catch(u){t={error:u}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o},e.prototype.clear=function(){return new e},e}(),yEe=Symbol("BaggageEntryMetadata"),bEe=Or.instance();function xEe(e){return e===void 0&&(e={}),new vEe(new Map(Object.entries(e)))}function dpt(e){return typeof e!="string"&&(bEe.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:yEe,toString:function(){return e}}}function W3(e){return Symbol.for(e)}var wEe=function(){function e(t){var n=this;n._currentContext=t?new Map(t):new Map,n.getValue=function(r){return n._currentContext.get(r)},n.setValue=function(r,s){var o=new e(n._currentContext);return o._currentContext.set(r,s),o},n.deleteValue=function(r){var s=new e(n._currentContext);return s._currentContext.delete(r),s}}return e}(),SEe=new wEe,Ri=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),_Ee=function(){function e(){}return e.prototype.createHistogram=function(t,n){return OEe},e.prototype.createCounter=function(t,n){return $Ee},e.prototype.createUpDownCounter=function(t,n){return IEe},e.prototype.createObservableGauge=function(t,n){return REe},e.prototype.createObservableCounter=function(t,n){return NEe},e.prototype.createObservableUpDownCounter=function(t,n){return jEe},e.prototype.addBatchObservableCallback=function(t,n){},e.prototype.removeBatchObservableCallback=function(t){},e}(),i_=function(){function e(){}return e}(),CEe=function(e){Ri(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.add=function(n,r){},t}(i_),TEe=function(e){Ri(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.add=function(n,r){},t}(i_),MEe=function(e){Ri(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.record=function(n,r){},t}(i_),c_=function(){function e(){}return e.prototype.addCallback=function(t){},e.prototype.removeCallback=function(t){},e}(),EEe=function(e){Ri(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(c_),kEe=function(e){Ri(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(c_),PEe=function(e){Ri(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(c_),AEe=new _Ee,$Ee=new CEe,OEe=new MEe,IEe=new TEe,NEe=new EEe,REe=new kEe,jEe=new PEe,DEe={get:function(e,t){if(e!=null)return e[t]},keys:function(e){return e==null?[]:Object.keys(e)}},LEe={set:function(e,t,n){e!=null&&(e[t]=n)}},FEe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,o=[],a;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)o.push(s.value)}catch(i){a={error:i}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},BEe=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},UEe=function(){function e(){}return e.prototype.active=function(){return SEe},e.prototype.with=function(t,n,r){for(var s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];return n.call.apply(n,BEe([r],FEe(s),!1))},e.prototype.bind=function(t,n){return n},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),VEe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,o=[],a;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)o.push(s.value)}catch(i){a={error:i}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},GEe=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},tv="context",WEe=new UEe,cm=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(t){return Ll(tv,t,Or.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(t,n,r){for(var s,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return(s=this._getContextManager()).with.apply(s,GEe([t,n,r],VEe(o),!1))},e.prototype.bind=function(t,n){return this._getContextManager().bind(t,n)},e.prototype._getContextManager=function(){return Oo(tv)||WEe},e.prototype.disable=function(){this._getContextManager().disable(),Fl(tv,Or.instance())},e}(),_x;(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(_x||(_x={}));var H3="0000000000000000",z3="00000000000000000000000000000000",HEe={traceId:z3,spanId:H3,traceFlags:_x.NONE},Sc=function(){function e(t){t===void 0&&(t=HEe),this._spanContext=t}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,n){return this},e.prototype.setAttributes=function(t){return this},e.prototype.addEvent=function(t,n){return this},e.prototype.setStatus=function(t){return this},e.prototype.updateName=function(t){return this},e.prototype.end=function(t){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(t,n){},e}(),l_=W3("OpenTelemetry Context Key SPAN");function u_(e){return e.getValue(l_)||void 0}function zEe(){return u_(cm.getInstance().active())}function d_(e,t){return e.setValue(l_,t)}function qEe(e){return e.deleteValue(l_)}function YEe(e,t){return d_(e,new Sc(t))}function q3(e){var t;return(t=u_(e))===null||t===void 0?void 0:t.spanContext()}var KEe=/^([0-9a-f]{32})$/i,QEe=/^[0-9a-f]{16}$/i;function XEe(e){return KEe.test(e)&&e!==z3}function ZEe(e){return QEe.test(e)&&e!==H3}function Y3(e){return XEe(e.traceId)&&ZEe(e.spanId)}function JEe(e){return new Sc(e)}var nv=cm.getInstance(),K3=function(){function e(){}return e.prototype.startSpan=function(t,n,r){r===void 0&&(r=nv.active());var s=!!n?.root;if(s)return new Sc;var o=r&&q3(r);return eke(o)&&Y3(o)?new Sc(o):new Sc},e.prototype.startActiveSpan=function(t,n,r,s){var o,a,i;if(!(arguments.length<2)){arguments.length===2?i=n:arguments.length===3?(o=n,i=r):(o=n,a=r,i=s);var l=a??nv.active(),u=this.startSpan(t,o,l),d=d_(l,u);return nv.with(d,i,void 0,u)}},e}();function eke(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}var tke=new K3,nke=function(){function e(t,n,r,s){this._provider=t,this.name=n,this.version=r,this.options=s}return e.prototype.startSpan=function(t,n,r){return this._getTracer().startSpan(t,n,r)},e.prototype.startActiveSpan=function(t,n,r,s){var o=this._getTracer();return Reflect.apply(o.startActiveSpan,o,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):tke},e}(),rke=function(){function e(){}return e.prototype.getTracer=function(t,n,r){return new K3},e}(),ske=new rke,jk=function(){function e(){}return e.prototype.getTracer=function(t,n,r){var s;return(s=this.getDelegateTracer(t,n,r))!==null&&s!==void 0?s:new nke(this,t,n,r)},e.prototype.getDelegate=function(){var t;return(t=this._delegate)!==null&&t!==void 0?t:ske},e.prototype.setDelegate=function(t){this._delegate=t},e.prototype.getDelegateTracer=function(t,n,r){var s;return(s=this._delegate)===null||s===void 0?void 0:s.getTracer(t,n,r)},e}(),Dk;(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(Dk||(Dk={}));var Lk;(function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"})(Lk||(Lk={}));var Fk;(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(Fk||(Fk={}));var Bk=cm.getInstance(),fpt=Or.instance(),oke=function(){function e(){}return e.prototype.getMeter=function(t,n,r){return AEe},e}(),ake=new oke,rv="metrics",ike=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalMeterProvider=function(t){return Ll(rv,t,Or.instance())},e.prototype.getMeterProvider=function(){return Oo(rv)||ake},e.prototype.getMeter=function(t,n,r){return this.getMeterProvider().getMeter(t,n,r)},e.prototype.disable=function(){Fl(rv,Or.instance())},e}(),hpt=ike.getInstance(),cke=function(){function e(){}return e.prototype.inject=function(t,n){},e.prototype.extract=function(t,n){return t},e.prototype.fields=function(){return[]},e}(),f_=W3("OpenTelemetry Baggage Key");function Q3(e){return e.getValue(f_)||void 0}function lke(){return Q3(cm.getInstance().active())}function uke(e,t){return e.setValue(f_,t)}function dke(e){return e.deleteValue(f_)}var sv="propagation",fke=new cke,hke=function(){function e(){this.createBaggage=xEe,this.getBaggage=Q3,this.getActiveBaggage=lke,this.setBaggage=uke,this.deleteBaggage=dke}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(t){return Ll(sv,t,Or.instance())},e.prototype.inject=function(t,n,r){return r===void 0&&(r=LEe),this._getGlobalPropagator().inject(t,n,r)},e.prototype.extract=function(t,n,r){return r===void 0&&(r=DEe),this._getGlobalPropagator().extract(t,n,r)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){Fl(sv,Or.instance())},e.prototype._getGlobalPropagator=function(){return Oo(sv)||fke},e}(),ppt=hke.getInstance(),ov="trace",pke=function(){function e(){this._proxyTracerProvider=new jk,this.wrapSpanContext=JEe,this.isSpanContextValid=Y3,this.deleteSpan=qEe,this.getSpan=u_,this.getActiveSpan=zEe,this.getSpanContext=q3,this.setSpan=d_,this.setSpanContext=YEe}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(t){var n=Ll(ov,this._proxyTracerProvider,Or.instance());return n&&this._proxyTracerProvider.setDelegate(t),n},e.prototype.getTracerProvider=function(){return Oo(ov)||this._proxyTracerProvider},e.prototype.getTracer=function(t,n){return this.getTracerProvider().getTracer(t,n)},e.prototype.disable=function(){Fl(ov,Or.instance()),this._proxyTracerProvider=new jk},e}(),X3=pke.getInstance(),eo=(e=>(e.V1="v1",e.V1_TEST="v1_test",e))(eo||{});class mke{prevObjByChannel=[];prevDelta={channel:0,op:"add",path:"",value:void 0};applyDelta(t){try{const n=this.decodeDelta(t),r=n.channel,s=this.prevObjByChannel[r],o=yke(s,n);return this.prevObjByChannel[r]=o,o}catch(n){ae.addError(`Error applying delta: ${n}`)}}decodeDelta(t){vke(t);const n=gke(t,this.prevDelta),r=Z3(n);return this.prevDelta=r,r}}function gke(e,t){for(const[n,r]of J3)n!=="value"&&!(r in e)&&(e[r]=t[n]);return e}function Z3(e){const t=e;for(const[n,r]of J3)r in e&&(t[n]=e[r],delete e[r]);return t.op==="patch"&&(t.value=t.value.map(Z3)),t}function vke(e){if(!e||typeof e!="object")throw new Error("Unexpected delta non-object")}const J3=[["channel","c"],["path","p"],["op","o"],["value","v"]];function yke(e,t){return qn({__root:e},r=>eF(r,t)).__root}function eF(e,t){const n=wke(t.path??"");for(let s=0;s<n.length-1;s++)e[n[s]]===void 0&&(typeof n[s+1]=="number"?e[n[s]]=[]:e[n[s]]={}),e=e[n[s]];const r=n[n.length-1];switch(t.op){case"patch":for(const s of t.value){const o={__root:e[r]};eF(o,s),e[r]=o.__root}break;case"add":Array.isArray(e)?e.splice(r,0,t.value):e[r]=t.value;break;case"remove":Array.isArray(e)?e.splice(r,1):delete e[r];break;case"replace":e[r]=t.value;break;case"append":if(typeof e[r]=="string")e[r]+=t.value;else if(Array.isArray(e[r]))e[r].push(..._ke(t.value));else if(Uk(e[r])&&Uk(t.value))for(let s in t.value)e[r][s]=t.value[s];else e[r]=t.value;break;case"truncate":e[r]&&(typeof e[r]=="string"?e[r]=e[r].substring(0,t.value):Array.isArray(e[r])&&(e[r].length=t.value));break;default:throw new Error("Unknown json delta operation")}}function bke(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}const xke=/^(?:0|[1-9]\d*)$/d;function wke(e){const t=["__root"];if(e==="")return t;e[0]==="/"&&(e=e.substring(1));for(const n of e.split("/"))xke.test(n)?t.push(parseInt(n,10)):t.push(bke(n));return t}function Ske(e,t){const n=[],r=a=>typeof a=="object"&&a!=null&&!Array.isArray(a),s=a=>a===null?"null":Array.isArray(a)?"array":typeof a,o=(a,i,l)=>{if(i!==l)if(Array.isArray(i)&&Array.isArray(l))for(let u=0;u<Math.max(i.length,l.length);u++)o(`${a}/${u}`,i[u],l[u]);else if(r(i)&&r(l))for(const u of Object.keys({...i,...l}))o(`${a}/${u}`,i[u],l[u]);else n.push(`${s(i)} != ${s(l)} at ${a}`)};return o("",e,t),n}function _ke(e){return Array.isArray(e)?e:[e]}function Uk(e){return typeof e=="object"&&e!=null&&!Array.isArray(e)}const tF="prompt-textarea";function h_(){document.getElementById(tF)?.focus()}const mpt={getAndReset:(e,t)=>{const n=At.getItem(Ke.RestoreMessageAfterOauthRedirect);return At.removeItem(Ke.RestoreMessageAfterOauthRedirect),!n||n.userId!==e||t!==n.serverThreadId||Date.now()>n.expiresAt?null:n},set:(e,t,n)=>{const r={userId:e,serverThreadId:t,inputText:n,expiresAt:Date.now()+6e4};At.setItem(Ke.RestoreMessageAfterOauthRedirect,r)}},Cke=()=>wo.useState(wo.getPersistedSystemHints).has(Lt.Search),Tke=()=>{const e=wo.useStore(),t=p.useCallback(()=>e.getPersistedSystemHintTrigger(Lt.Search),[e]),n=p.useCallback(()=>e.clearPersistedSystemHintTrigger(Lt.Search),[e]),r=p.useCallback((s,o,a)=>{(s?e.addPersistedSystemHint:e.removePersistedSystemHint)(Lt.Search,o,a)},[e]);return{getSearchModeTrigger:t,clearSearchModeTrigger:n,setThreadSearchMode:r}},gpt=(e,t,n)=>e?"file_upload_pending":t?n?"text_content_too_long":void 0:"empty_text_content",Mke=e=>e.replace(/[\u{E0000}-\u{E007F}]+/gu,""),vpt=e=>{const t=Mke(e.getContentToSend().content);return Math.ceil(t.length/4)},Eke=1e3;function kke(e){return e&&e.length>Eke&&!SB().shift&&K.checkGate("1508312659")}const Pke="OAI-Echo-Logs",ra={FOCUS_IN:0,FOCUS_OUT:1,COPY:2,PASTE:3,TOUCH_START:4,TOUCH_END:5},nF=[];function sa(e){return()=>{nF.push({type:e,ts:Math.round(performance.now())})}}const Ake={focusin:sa(ra.FOCUS_IN),focusout:sa(ra.FOCUS_OUT),copy:sa(ra.COPY),paste:sa(ra.PASTE),touchstart:sa(ra.TOUCH_START),touchend:sa(ra.TOUCH_END)};function ypt(e){const t=e??document.getElementById(tF);for(const[n,r]of Object.entries(Ake))t?.removeEventListener(n,r),t?.addEventListener(n,r)}function $ke(){return{[Pke]:nF.slice(0,10).map(e=>`${e.type},${e.ts}`).join(",")}}const Oke=1e3*30,Ji=X3.getTracer("completion");class Vk extends Error{}function Ike(e,t,n,r){return(async(o=null)=>{zMe()&&await qMe();const a=new AbortController,i="threadId"in t?t.threadId:void 0,l="continueFromSharedConversationId"in t?t.continueFromSharedConversationId:void 0,u=Fn(),d=K.checkGate("1987334402"),f=K.checkGate("2964350589"),h=[d&&eo.V1,f&&eo.V1_TEST].filter(Boolean),m={action:t.completionType,messages:t.messages.length>0?t.messages:void 0,conversation_id:i,continue_from_shared_conversation_id:i!=null?void 0:l,parent_message_id:t.parentMessageId,model:t.model,timezone_offset_min:new Date().getTimezoneOffset(),timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,variant_purpose:t.completionMetadata?.variantPurpose,suggestions:t.completionMetadata?.suggestions?t.completionMetadata.suggestions.map(ne=>wa(ne)):void 0,chosen_suggestion:t.completionMetadata?.suggestion?{type:t.completionMetadata.suggestion.type,index:t.completionMetadata.suggestionIndex,source:t.completionMetadata?.suggestion.type===dt.Autocomplete?t.completionMetadata.suggestion.source:void 0,user_input:t.completionMetadata?.suggestion.type===dt.Autocomplete?t.completionMetadata.suggestion.userInput:void 0}:void 0,history_and_training_disabled:t.historyDisabled,juice:t.completionMetadata?.juice,conversation_mode:t.completionMetadata?.conversationMode,force_paragen:t.forceParagen,force_paragen_model_slug:t.forceParagenModel,force_indepth_feedback:t.forceIndepthFeedback,force_rate_limit:t.forceRateLimit,reset_rate_limits:t.resetRateLimits,disable_system_content_toggling:t.disableSystemContentToggling,websocket_request_id:u,source:t.completionMetadata?.source,system_hints:t.completionMetadata?.systemHints,prefetch_ids:t.completionMetadata?.prefetchIds,supported_encodings:h,conversation_origin:t.conversationOrigin,force_use_search:t.forceUseSearch,client_reported_search_source:t.completionMetadata?.searchSource,client_contextual_info:t.contextualInfo,paragen_stream_type_override:t.paragenStreamType==="none"?null:t.paragenStreamType,paragen_cot_summary_display_override:t.paragenCotSummaryDisplay,is_onboarding_conversation:t.isOnboardingConversation},g=K.checkGate("1113464293");g&&(m.supports_buffering=!0),t.turnTracker.stream_buffering=g;let v,y;const x=WA(e);ew(x)?(y="https://chatgpt.com/backend-anon",v=he.getUnauthHeaders().additionalHeaders):(y="https://chatgpt.com/backend-api",v=he.getAuthedHeadersWithAccessToken(x?.accessToken));const b=`${y}/conversation`,w=_B(t.chatReq,o??t.arkoseToken,t.turnstileToken,t.proofToken,null),_={...v,...$ke(),...w};let C=!1,T=!1,M=!1,E=!1,R,$,U,Y,F;Ji.startActiveSpan("completion.response",ne=>{R=Ji.startSpan("completion.first_response"),$=Ji.startSpan("completion.first_token_including_tool_calls"),U=Ji.startSpan("completion.first_token_including_visible_content"),Y=Ji.startSpan("completion.first_token"),F=ne});const j=X3.setSpan(Bk.active(),F);let D=null,B=null,H,N=!1,L=!1;function W(){L||(L=!0,n({type:"done"}),R1())}function ce(ne){if(t.turnTracker.onBytesReceived(ne.data),ne.data==="[DONE]")a.abort(),F.end(),W();else if(ne.event!=="ping")try{let G=JSON.parse(ne.data);if(ne.event==="delta_encoding")if(G===eo.V1||G===eo.V1_TEST)D=G,t.turnTracker.stream_encoding=D??void 0,B=new mke;else{ae.addError(`[completion-delta] unknown delta encoding: ${G}`);return}else if(ne.event==="delta"){if(!B){ae.addError("[completion-delta] delta event before delta_encoding");return}const ye=B.applyDelta(G);if(D===eo.V1_TEST){!N&&!zx(ye,H)&&(N=!0,ae.addError("[completion-delta] delta resulted in a different object",{differences:Ske(ye,H)}));return}else G=ye}else D===eo.V1_TEST&&!N&&(H=G);if(G.error){const ye=Dt.createWithErrorMessage(b,"server",G.error);throw n({type:"error",error:ye}),ye}else"type"in G?G.type==="gizmo_inline_review"?n({type:"gizmo_inline_review",gizmoId:G.gizmo_id}):G.type==="title_generation"?n({type:"title_generation",title:G.title,conversation_id:G.conversation_id}):G.type==="moderation"?n({type:"moderation",conversationId:G.conversation_id,messageId:G.message_id,isCompletion:G.is_completion,flagged:G.moderation_response.flagged,blocked:G.moderation_response.blocked,disclaimers:G.moderation_response.disclaimers,metadata:G.moderation_response.metadata}):G.type==="url_moderation"?n({type:"url_moderation",conversationId:G.conversation_id,messageId:G.message_id,url:G.url_moderation_result.full_url,isSafe:G.url_moderation_result.is_safe}):G.type==="num_variants_in_stream"?n({type:"num_variants_in_stream",num_variants_in_stream:G.num_variants_in_stream,display_treatment:G.display_treatment}):G.type==="conversation_detail_metadata"?n(G):G.type==="message_stream_complete"&&W():(n({type:"message",message:G.message,conversationId:G.conversation_id}),C||(C=!0,R.end()),!T&&G.message.author.role===z.Assistant&&(T=!0,$.end()),!M&&G.message.author.role===z.Assistant&&aO(G.message)&&(M=!0,U.end()),!E&&G.message.author.role===z.Assistant&&o8(G.message)&&(E=!0,Y.end()))}catch(G){if(G instanceof Dt)throw G}}let se=null,le=setTimeout(()=>{se===!0?(P.logEvent(A.asyncResponseWaitTooLong,{}),t.turnTracker.logCompletion({type:Rn.Error,error:{reason:"timeout",message:"Async Response Took Too Long to Come Back"}})):se===!1&&(P.logEvent(A.sseResponseWaitTooLong,{}),t.turnTracker.logCompletion({type:Rn.Error,error:{reason:"timeout",message:"SSE Response Took Too Long to Come Back"}}))},Oke);return Bk.with(j,()=>(t.profiler?.logTiming("fetch_event_source"),nEe(b,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",..._},body:JSON.stringify(m),signal:a.signal,openWhenHidden:!0,async onopen(ne){const G=ne.headers.get("content-type")??"",ye=ne.headers.get("Cf-Ray")??null;if(ne.ok&&G.includes("text/event-stream")){se=!1,r(ye,t.model,t.turnTracker);return}else if(G.includes("application/json")){const be=await ne.json(),pe=new Dt(b,ne.status,be);if(pe.isServerError())throw pe;if((pe?.code==="expired_session_key"||pe?.code==="invalid_api_key"||pe?.code==="token_expired")&&typeof window<"u"&&window._oaiHandleSessionExpired?.("stream",JSON.stringify(pe)),pe?.code==="deactivated_workspace"){window.location.href.includes("/workspace/deactivated")||(window.location.href="/workspace/deactivated");return}throw pe}else{const be=await ne.text();throw new Dt(b,ne.status,{detail:{message:o1,code:"unexpected_content_type",contentType:G,text:be?.substring(0,1e3)}})}},onmessage:ne=>{if(se)throw Dt.createWithErrorMessage(b,"server",o1);le&&(clearTimeout(le),le=null),ce(ne)},onerror(ne){let G=ne instanceof Error?ne:new Error(JSON.stringify(ne));throw G instanceof Vk||se||(G.message==="Failed to fetch"&&(G=Dt.createWithErrorMessage(b,"server",`An error occurred. Either the engine you requested does not exist or there was another issue processing your request. ${a1}`)),G.message==="network error"&&(G=Dt.createWithErrorMessage(b,"client",`A network error occurred. Please check your connection and try again. ${a1}`)),CB("fetch-error:conversation:new-message",{url:b,message:G?.message}),n({type:"error",error:G}),R1(G)),G}}))).catch(async ne=>{ne instanceof Vk||(ne instanceof Dt?TB(ne):ae.addError(ne),t.turnTracker.handleRawError(ne.message??"Something went wrong",ne.status))}),a})()}function Nke({clientThreadId:e,continuingFromSharedConversationId:t,onCompletionFinished:n=$e,onCreate:r=$e}){const s=Fe(),{resolvedTheme:o}=tw(),a=o==="dark",i=Lh(),l=p.useRef(n),u=CA(),{isOpen:d,isLoading:f}=fMe(),h=!f&&d;l.current=n;const m=p.useCallback(async function({model:g,completionType:v,parentNodeId:y,metadata:x,focusOnNewCompletion:b=!0,completionMetadata:w,chatReq:_,arkoseToken:C,turnstileToken:T,proofToken:M,preflightTime:E,extraStreamParams:R,appendMessages:$,updateTree:U,turnTracker:Y,profiler:F}){xo.publish({kind:"requestCompletion"});const j=k.getTree(e);k.retainThread(e);const D=Z9(),B=`${Mc}${e}-${D}`,H=`${e}-${D}`;U?.();const N=j.getNodeByIdOrMessageId(y);j.getConversationTurns(y).length>2&&k.updateScrollToMessageId(e,N.message.id);const ce={gizmo_id:N.message.metadata?.gizmo_id};w?.juice!=null&&(ce.snorkle_status=1),k.updateTree(e,Ne=>{Ne.addNode(B,"",y,z.Assistant,void 0,ce)}),b&&k.setThreadCurrentLeafId(e,B);let se,le=[],ke=j.getNodeByIdOrMessageId(N.parentId);for(;ke!=null&&(ke.metadata?.isPlaceholderTemplateAssistantWelcomeMessage===!0||ke.metadata?.isClientCreatedSystemMessage===!0);){const Ne=ke.message;le.unshift(Ne);const re=j.getNodeByIdOrMessageId(ke.parentId);se=re.message?.id??re.id,ke=re}if(v===ks.Next||v===ks.Variant){const Ne=j.getNodeByIdOrMessageId(N.parentId);if(se??=Ne.message?.id??Ne.id,le.push(N.message),$){let re=y;k.updateTree(e,gt=>{for(const at of $)gt.insertNodeBefore(B,{id:at.id,message:at,parentId:re,children:[]}),re=at.id}),le.push(...$)}le=Rke(le,R)}else se??=N.message.id;const ne=k.getServerThreadId(e);ne===void 0&&$r(e)&&k.updateInitialThreadDataForNewThread(e,g);async function G(Ne,re){const gt=performance.now(),at=await HA();Iv.initializeAndGatherData(at),yx.initializeAndGatherData(at),Nv.initializeAndGatherData(at),k.updateTree(e,Di=>{for(const ls of re)Di.addNode(ls.id,ls,Ne,z.Assistant,{completionSampleFinishTime:Date.now()}),Ne=ls.id}),k.setThreadCurrentLeafId(e,Ne);const Gn=await Iv.getEnforcementToken(at),Wn=await yx.getEnforcementToken(at),cs=await Nv.getEnforcementToken(at);m({model:g,completionType:ks.Next,parentNodeId:Ne,metadata:{},chatReq:at,arkoseToken:Gn??null,turnstileToken:Wn??null,proofToken:cs??null,preflightTime:performance.now()-gt,extraStreamParams:R,turnTracker:Y})}Y.updateAttachmentCount(le);const ye=new HMe(s,e,B,v,g,x.eventSource,r,i,H,G,(...Ne)=>l.current(...Ne),Y,u),be=(Ne,re,gt)=>{Ne&&gt.onReceivedRequestId(Ne),kMe(H,re,Ne,E)},pe={is_dark_mode:a,time_since_loaded:Math.floor(performance.now()/1e3),page_height:window?.innerHeight,page_width:window?.innerWidth,pixel_ratio:window?.devicePixelRatio,screen_height:window?.screen?.height,screen_width:window?.screen?.width},nt=await Ike(s,{conversationOrigin:k.getConversationOrigin(e),model:g,completionType:v,threadId:ne,continueFromSharedConversationId:t,historyDisabled:u,parentMessageId:se,messages:le,chatReq:_,arkoseToken:C??null,turnstileToken:T??null,proofToken:M??null,completionMetadata:w,...R,turnTracker:Y,profiler:F,contextualInfo:pe,isOnboardingConversation:h},ye.handleResponse,be);Ec(e,{source:_s.CLIENT,value:Yn.STREAMING}),Qr.addRequest(B,nt,Y),Zb.onCompletionRequestStarted(B)},[e,s,r,t,i,u,a,h]);return m}const Rke=(e,t)=>{let n=e;return t?.forceUseSearch===!1&&e.length>0&&(n=e.map(r=>{const{system_hints:s,...o}=r.metadata||{};return{...r,metadata:{...o,system_hints:s?.filter(a=>a!==Lt.Search)}}})),n},jke=Oe(()=>Ie(()=>import("./c1w9kkhjxxaphiq2.js"),__vite__mapDeps([49,1,2,3,50,51,6])).then(e=>e.CAFeedbackModal));function Dke({clientThreadId:e,currentModelId:t,defaultModelId:n,onCompletionFinished:r,onThreadCreated:s,preRequestCompletion:o}){const a=FS(),i=_n(),{isUnauthenticated:l}=Ut(),u=cV(e),d=Fe(),f=nl(e),h=Ge(),m=ZTe(e),g=r_(),v=Ir(),{config:y}=Dh("1013114931"),x=y.get("show_follow_ups",!1)&&h?.isPersonalAccount(),b=!g.displayingSideBySideFeedback&&x,w=p.useCallback(F=>{const D=k.getTree(e).getLeafFromNode(F);k.setThreadCurrentLeafId(e,D.id)},[e]),_=LTe(t),[C,T]=p.useState(),M=p.useCallback(({nodeId:F,messageId:j,rating:D})=>{const B=k.getServerThreadId(e);P.logEvent(A.thumbRating,{id:j,threadId:B,rating:D,model:t});const H=k.getTree(e),N=H.getNodeByIdOrMessageId(F);if(B!==void 0&&!_&&Z.submitMessageFeedback({message_id:j,conversation_id:B,rating:D}),k.updateTree(e,L=>{L.updateNodeMetadata(F,{rating:D})}),_){T(c.jsx(jke,{citations:N.message.metadata?.citations??[],rating:D,conversationId:B??"",messageId:j,onSubmit:()=>{T(void 0)},onCancel:()=>T(void 0),conversationTree:H,nodeId:F},`${F}-${D}`));return}},[e,t,_]),E=p.useCallback(F=>{if(F==null||(r?.(F),v)||(f?.kind===Me.GizmoInteraction&&lI.handleGizmoInteracted(d,f.gizmo_id),!(m||b)))return;const D=k.getThreadCurrentLeafId(F),B=k.getTree(F).getMessage(D);Ew(B)||t8(B)||iMe(F,B.id,t)},[f,t,r,d,m,b,v]),R=Nke({clientThreadId:e,continuingFromSharedConversationId:u,onCompletionFinished:E,onCreate:s}),$=p.useCallback(()=>{const F=k.getThreadCurrentLeafId(e);if(F==null)return;const D=k.getTree(e).getBranchFromLeaf(F);Qr.abortRequests(D.map(B=>B.id))},[e]),U=p.useCallback(F=>dMe({cancelRequests:$,clientThreadId:e,currentModelId:t,debugSettings:a,defaultModelId:n,isUnauthenticated:l,navigateToAuth:i,preRequestCompletion:o,requestCompletion:R,...F}),[$,e,t,a,n,l,i,o,R]),Y=p.useCallback((F,j,D,B=!0,H="none",N)=>{const W=k.getTree(e).getParentPromptNode(F).id;U({type:ks.Variant,promptId:W,eventMetadata:j,cancelActiveRequests:!1,focusOnNewCompletion:B,useDefaultModel:N,completionMetadata:{variantPurpose:H,conversationMode:Te.getConversationMode(e)},turnTracker:D})},[e,U]);return{caModal:C,onRequestCompletion:U,onRequestMoreCompletions:Y,onChangeItemInView:w,onChangeRating:M,cancelRequests:$}}function Lke(){const t=an()?.id,{currentWorkspace:n}=rr(({currentWorkspace:o})=>({currentWorkspace:o})),r=n?.id;return At.getItem(Ke.LastUsedModel,{workspaceId:r,userId:t})}function Fke(){const t=an()?.id,{currentWorkspace:n}=rr(({currentWorkspace:o})=>({currentWorkspace:o})),r=n?.id;return p.useCallback(o=>{if(!o)return null;const a=Date.now(),i={modelId:o,updatedAt:a};At.setItem(Ke.LastUsedModel,i,{workspaceId:r,userId:t})},[r,t])}function Bke(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var Uke=Bke,Vke=zA,Gke=Yx;function Wke(e,t,n,r){var s=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var i=t[o],l=r?r(n[i],e[i],i,n,e):void 0;l===void 0&&(l=e[i]),s?Gke(n,i,l):Vke(n,i,l)}return n}var lm=Wke,Hke=lm,zke=Mh;function qke(e,t){return e&&Hke(t,zke(t),e)}var Yke=qke,Kke=lm,Qke=qA;function Xke(e,t){return e&&Kke(t,Qke(t),e)}var Zke=Xke,lh={exports:{}};lh.exports;(function(e,t){var n=SA,r=t&&!t.nodeType&&t,s=r&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===r,a=o?n.Buffer:void 0,i=a?a.allocUnsafe:void 0;function l(u,d){if(d)return u.slice();var f=u.length,h=i?i(f):new u.constructor(f);return u.copy(h),h}e.exports=l})(lh,lh.exports);var Jke=lh.exports;function ePe(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var tPe=ePe,nPe=lm,rPe=MB;function sPe(e,t){return nPe(e,rPe(e),t)}var oPe=sPe,aPe=lm,iPe=EB;function cPe(e,t){return aPe(e,iPe(e),t)}var lPe=cPe,uPe=Object.prototype,dPe=uPe.hasOwnProperty;function fPe(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&dPe.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var hPe=fPe,Gk=kB;function pPe(e){var t=new e.constructor(e.byteLength);return new Gk(t).set(new Gk(e)),t}var p_=pPe,mPe=p_;function gPe(e,t){var n=t?mPe(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var vPe=gPe,yPe=/\w*$/;function bPe(e){var t=new e.constructor(e.source,yPe.exec(e));return t.lastIndex=e.lastIndex,t}var xPe=bPe,Wk=YA,Hk=Wk?Wk.prototype:void 0,zk=Hk?Hk.valueOf:void 0;function wPe(e){return zk?Object(zk.call(e)):{}}var SPe=wPe,_Pe=p_;function CPe(e,t){var n=t?_Pe(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var TPe=CPe,MPe=p_,EPe=vPe,kPe=xPe,PPe=SPe,APe=TPe,$Pe="[object Boolean]",OPe="[object Date]",IPe="[object Map]",NPe="[object Number]",RPe="[object RegExp]",jPe="[object Set]",DPe="[object String]",LPe="[object Symbol]",FPe="[object ArrayBuffer]",BPe="[object DataView]",UPe="[object Float32Array]",VPe="[object Float64Array]",GPe="[object Int8Array]",WPe="[object Int16Array]",HPe="[object Int32Array]",zPe="[object Uint8Array]",qPe="[object Uint8ClampedArray]",YPe="[object Uint16Array]",KPe="[object Uint32Array]";function QPe(e,t,n){var r=e.constructor;switch(t){case FPe:return MPe(e);case $Pe:case OPe:return new r(+e);case BPe:return EPe(e,n);case UPe:case VPe:case GPe:case WPe:case HPe:case zPe:case qPe:case YPe:case KPe:return APe(e,n);case IPe:return new r;case NPe:case DPe:return new r(e);case RPe:return kPe(e);case jPe:return new r;case LPe:return PPe(e)}}var XPe=QPe,ZPe=ti,qk=Object.create,JPe=function(){function e(){}return function(t){if(!ZPe(t))return{};if(qk)return qk(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),eAe=JPe,tAe=eAe,nAe=KA,rAe=PB;function sAe(e){return typeof e.constructor=="function"&&!rAe(e)?tAe(nAe(e)):{}}var oAe=sAe,aAe=rw,iAe=sw,cAe="[object Map]";function lAe(e){return iAe(e)&&aAe(e)==cAe}var uAe=lAe,dAe=uAe,fAe=ow,Yk=QA,Kk=Yk&&Yk.isMap,hAe=Kk?fAe(Kk):dAe,pAe=hAe,mAe=rw,gAe=sw,vAe="[object Set]";function yAe(e){return gAe(e)&&mAe(e)==vAe}var bAe=yAe,xAe=bAe,wAe=ow,Qk=QA,Xk=Qk&&Qk.isSet,SAe=Xk?wAe(Xk):xAe,_Ae=SAe,CAe=AB,TAe=Uke,MAe=zA,EAe=Yke,kAe=Zke,PAe=Jke,AAe=tPe,$Ae=oPe,OAe=lPe,IAe=OB,NAe=IB,RAe=rw,jAe=hPe,DAe=XPe,LAe=oAe,FAe=Ph,BAe=$B,UAe=pAe,VAe=ti,GAe=_Ae,WAe=Mh,HAe=qA,zAe=1,qAe=2,YAe=4,rF="[object Arguments]",KAe="[object Array]",QAe="[object Boolean]",XAe="[object Date]",ZAe="[object Error]",sF="[object Function]",JAe="[object GeneratorFunction]",e$e="[object Map]",t$e="[object Number]",oF="[object Object]",n$e="[object RegExp]",r$e="[object Set]",s$e="[object String]",o$e="[object Symbol]",a$e="[object WeakMap]",i$e="[object ArrayBuffer]",c$e="[object DataView]",l$e="[object Float32Array]",u$e="[object Float64Array]",d$e="[object Int8Array]",f$e="[object Int16Array]",h$e="[object Int32Array]",p$e="[object Uint8Array]",m$e="[object Uint8ClampedArray]",g$e="[object Uint16Array]",v$e="[object Uint32Array]",et={};et[rF]=et[KAe]=et[i$e]=et[c$e]=et[QAe]=et[XAe]=et[l$e]=et[u$e]=et[d$e]=et[f$e]=et[h$e]=et[e$e]=et[t$e]=et[oF]=et[n$e]=et[r$e]=et[s$e]=et[o$e]=et[p$e]=et[m$e]=et[g$e]=et[v$e]=!0;et[ZAe]=et[sF]=et[a$e]=!1;function Rd(e,t,n,r,s,o){var a,i=t&zAe,l=t&qAe,u=t&YAe;if(n&&(a=s?n(e,r,s,o):n(e)),a!==void 0)return a;if(!VAe(e))return e;var d=FAe(e);if(d){if(a=jAe(e),!i)return AAe(e,a)}else{var f=RAe(e),h=f==sF||f==JAe;if(BAe(e))return PAe(e,i);if(f==oF||f==rF||h&&!s){if(a=l||h?{}:LAe(e),!i)return l?OAe(e,kAe(a,e)):$Ae(e,EAe(a,e))}else{if(!et[f])return s?e:{};a=DAe(e,f,i)}}o||(o=new CAe);var m=o.get(e);if(m)return m;o.set(e,a),GAe(e)?e.forEach(function(y){a.add(Rd(y,t,n,y,e,o))}):UAe(e)&&e.forEach(function(y,x){a.set(x,Rd(y,t,n,x,e,o))});var g=u?l?NAe:IAe:l?HAe:WAe,v=d?void 0:g(e);return TAe(v||e,function(y,x){v&&(x=y,y=e[x]),MAe(a,x,Rd(y,t,n,x,e,o))}),a}var y$e=Rd,b$e=y$e,x$e=1,w$e=4;function S$e(e){return b$e(e,x$e|w$e)}var _$e=S$e;const xu=ge(_$e);function C$e(e){return`https://chatgpt.com${cI(e)}`}function bpt(e,t,n,r){Ol(C$e(e),t,n),r&&t.info(r,{testId:"copy-gizmo-url-toast"})}function xpt(e){return e.some(t=>t.type===NB.JIT_PLUGIN)}function T$e(e){return"gizmo_id"in e?e.gizmo_id??null:null}function wpt(e){return{id:e.gizmo.id,instructions:e.gizmo.instructions,name:e.gizmo.display.name,description:e.gizmo.display.description??"",profilePictureId:e.gizmo.display.profile_pic_id??void 0,profilePictureUrl:e.gizmo.display.profile_picture_url??void 0,promptStarters:e.gizmo.display.prompt_starters??[],tools:xu(e.tools),files:xu(e.files),sharing:e.gizmo.sharing?xu(e.gizmo.sharing):{subjects:[],recipient:e.gizmo.share_recipient},trainingDisabled:e.gizmo.training_disabled??!1,sharingRecipient:e.gizmo.share_recipient,sharingTargets:xu(e.gizmo.sharing_targets),liveVersion:e.gizmo.live_version??0,contextStuffingBudget:e.gizmo.context_stuffing_budget}}const M$e=e=>["conversation","init",e],E$e=({clientThreadId:e,conversationMode:t,clientModelId:n},r)=>{const s=T$e(t),o=$r(e)?null:e;return{gcTime:0,refetchOnWindowFocus:!0,refetchOnMount:"always",queryKey:M$e(e),queryFn:()=>Z.getConversationDetails({conversationId:o,gizmoId:s,requestedDefaultModel:n}),enabled:!yG(e)}},k$e=e=>(ze(),_e(E$e(e))),P$e=(e,t)=>{const n=(typeof e=="string"?[e]:e)??[];for(const r of n)if(r&&t.has(r))return r;return null},A$e=(e,t)=>{const n=ZO(),[r,s]=Ro(),o=r.get("model"),{modelId:a=null}=Lke()??{};bG(e);const i=pV(e)??null,l=[o,i,a],u=P$e(l,n);p.useEffect(()=>{k.initThread(e,t,u),k.updateScrollToMessageId(e,"finalAgentTurn"),Rv.reset()},[e]);const d=()=>{s(g=>(g.delete("model"),g))},{isLoading:f,data:h}=k$e({clientThreadId:e,clientModelId:l.find(g=>!!g)??null,conversationMode:t}),m=_A();p.useEffect(()=>{if(!(!o||f)){if(!n.has(o)||m.find(g=>g.model_slug===o))return d();k.setThreadModelId(e,o)}},[o,m,n,e]),p.useEffect(()=>{if(f||!h)return;const{default_model_slug:g}=h;o&&g&&o!==g&&d(),Rv.updateDetails(h),g&&k.setThreadModelId(e,g)},[f,h])};function $$e({clientThreadId:e,setClientThreadId:t}){const n=Fe(),r=$O(),s=r?{kind:Me.GizmoInteraction,gizmo_id:r}:{kind:Me.PrimaryAssistant};A$e(e,s);const o=It(),a=fi(e),i=p.useRef(a);i.current=a;const l=rV(e),u=rl(e),{data:d}=hi(u),f=!1,h=p.useCallback(()=>{t?.(RB());const v=i.current;o(v.tags.includes(fo.GPT_4)?"/":`/?model=${v.id}`,{replace:!0})},[t,o]),m=ATe({clientThreadId:e,location:"Model switcher menu item"}),g=p.useCallback((v,y)=>{l||y||WMe(o,n,v)},[l,d,f,o,n]);return{createNewThread:m,onThreadCreated:g,resetThread:h}}function aF(){return{caModal:null,clientThreadId:"",isLoggedInUser:!1,focusedObject:null,currentModelId:"",isModelLoaded:!1,isEmbeddedInFocusedView:!1,isInstalledApp:!1,isCompanionWindow:!1,conversationLeafId:"",onNewThread:()=>{throw new Error("onNewThread not implemented")},onRequestCompletion:()=>{throw new Error("onRequestCompletion not implemented")},onChangeItemInView:()=>{throw new Error("onChangeItemInView not implemented")},onChangeRating:()=>{throw new Error("onChangeRating not implemented")},onRequestMoreCompletions:()=>{throw new Error("onRequestMoreCompletions not implemented")},resetThread:()=>{throw new Error("resetThread not implemented")}}}const iF=p.createContext(aF());function ji(){try{return p.useContext(iF)}catch{return aF()}}function Spt({children:e,clientThreadId:t,setClientThreadId:n,prefetchSearch:r}){const{createNewThread:s,onThreadCreated:o,resetThread:a}=$$e({clientThreadId:t,setClientThreadId:n}),i=rI(),l=tI(t),u=di(t),d=Pi(),f=i.id,h=l??f,m=Lh(),g=zS(),v=jTe(),{isUnauthenticated:y}=Ut(),x=!y,{caModal:b,onRequestCompletion:w,onChangeItemInView:_,onChangeRating:C,onRequestMoreCompletions:T}=Dke({clientThreadId:t,currentModelId:h,defaultModelId:i.id,onThreadCreated:o});return c.jsx(iF.Provider,{value:{caModal:b,clientThreadId:t,currentModelId:h,isModelLoaded:!!l,isEmbeddedInFocusedView:d,isInstalledApp:g,isLoggedInUser:x,isCompanionWindow:m,focusedObject:v,conversationLeafId:u,onNewThread:s,onRequestCompletion:w,onChangeItemInView:_,onChangeRating:C,onRequestMoreCompletions:T,resetThread:a,prefetchSearch:r},children:e})}const cF=e=>{const{isLoading:t,value:n}=Ot("80186230"),r=ki(),{eligible:s,isLoading:o,markAsViewed:a}=Xe(e);return{markAsViewed:a,eligible:!r&&s&&n,isLoading:o||t}};function _pt(){return cF(We.hasDismissedCanvasOnboarding)}function Cpt(){return cF(We.hasDismissedCanvasContextualOnboarding)}const uh=10,lF=4,dh={duration:20,hasCloseButton:!0},uF=512,O$e=uF*1024*1024,dF={duration:20,hasCloseButton:!0};function $a(e){return JSON.stringify({file:e.name,modified:e.lastModified,currentTime:new Date().toString()})}function Cx(e){return new Promise((t,n)=>{const r=new FileReader,s=new Image;r.onload=()=>{s.onload=()=>t(s),s.onerror=o=>n(o),s.src=r.result},r.readAsDataURL(e)})}async function m_(e,t,n,r,s,o,a){const i={ENTRY_CREATED:10,FILE_UPLOADED:60,FILE_PROCESSED:100};let l=hr.Initial;P.logEvent(A.uploadFileInitiated,{client:"web",useCase:s.kind,uploadEntry:"local"});const u=a.usesRetrievalIndex??!1,d=u?performance.now():void 0,f=FS.getState().resetRateLimits;try{const{file_id:h,upload_url:m}=await Z.createFile(t.name,t.size,s,!!f);o.onFileCreated(e,h,m),l=hr.FileCreated,o.onFileUploadProgress(e,i.ENTRY_CREATED);const g=s.kind===en.Gizmo?s.gizmoId:void 0,v=u,y={client:"web",useCase:s.kind,uploadEntry:"local",fileId:h,fileSize:t.size};P.logEvent(A.blobStoreUploadStarted,y);const x=await Z.uploadFileToAzureStorage(t,m,C=>{o.onFileUploadProgress(e,i.ENTRY_CREATED+(i.FILE_UPLOADED-i.ENTRY_CREATED)*C)});o.onFileUploadProgress(e,i.FILE_UPLOADED),x.status!==201&&(P.logEvent(A.blobStoreUploadError,{...y,error_type_name:`HTTPStatus${x.status}`,error_msg:`HTTP status ${x.status}: ${x.statusText}`,error_stack:""}),I$e(x,h,v)),P.logEvent(A.blobStoreUploadCompleted,y),l=hr.FileUploaded;const b=K.checkGate("1371760254"),w=K.checkGate("2451420520"),_=g?w:b;if(_){const C={file_id:h,use_case:s.kind,gizmo_id:g,index_for_retrieval:u,file_name:t.name},T=await Z.processFileUploadStream(C,M=>{o.onFileUploadProgress(e,i.FILE_UPLOADED+(i.FILE_PROCESSED-i.FILE_UPLOADED)*M/100)});l=hr.FileProcessed,o.onFileUploaded(e,h,a.imageDimensions,T),u&&(l=hr.RetrievalIndexCreated)}else if(await Z.processFileUpload(h,{gizmoId:g}),l=hr.FileProcessed,u){const C=await fF(h,g);C?.status===lc.Skipped&&r.danger(n.formatMessage(pF.retrievalSkippedFile,{fileName:C.name}),dF),o.onFileUploaded(e,h,void 0,{fileTokenSize:C.file_size_tokens}),l=hr.RetrievalIndexCreated}else o.onFileUploaded(e,h,a.imageDimensions);d!=null&&Z.postRetrievalTiming({e2eLatencyMs:performance.now()-d,type:"file",stream:_})}catch(h){hF(n,r,t.name,h);let m="NotInstanceOfError";h instanceof Dt?m=`${h.name}_${h.status}`:(h instanceof Error||h instanceof Wr)&&(m=h.name),o.onError(e,"error",m,s,l)}}async function Tpt(e,t,n,r,s,o){const{width:a,height:i}=await Cx(t);return m_(e,t,n,r,{kind:s},o,{imageDimensions:{width:a,height:i}})}async function fF(e,t){const n=Date.now()+6e4,r=o=>new Promise(a=>setTimeout(a,o));let s=0;for(;Date.now()<n;){const o=await Z.getRetrievalStatus(e,t);if(o.status===lc.Success||o.status===lc.Skipped)return o;if(o.status===lc.Failed)throw new Wr("Context extraction failed",o.error_code);s++,await r(Math.min(1e3,100*s))}throw new Wr("Retrieval indexing timed out")}async function I$e(e,t,n=!1){let r="Unknown error";try{r=await e.data}catch{}throw n&&Z.markFileUploadFailed(t,{error:r}),new Wr("File upload to blobstore failed","failed_upload_to_blobstore")}function hF(e,t,n,r){let s=Xb(e,"default_upload_error",{fileName:n});r instanceof Wr&&r.code!=null&&(s=Xb(e,r.code)),t.danger(s,dF)}const pF=Q({retrievalSkippedFile:{id:"useFilePickerState.retrievalSkippedFile",defaultMessage:'Unable to extract text from "{fileName}"'}}),mF={files:[],connectorFileData:{}},gF=p.createContext(null);function Mpt({children:e,initialState:t=mF}){const[n]=p.useState(()=>zc(()=>t));return c.jsx(gF.Provider,{value:n,children:e})}function Bl(){const e=p.useContext(gF);if(e==null)throw new Error("useFilePickerState must be used inside a FilePickerContext");return e}function vF(e){const t=Bl();return Ja(t,e)}const N$e={hasUploadInProgress:({files:e})=>e.some(t=>t.status===xs.Uploading),getReadyFiles:({files:e})=>e.filter(t=>t.status===xs.Ready)},av=2048;async function R$e(e,t,n,r,s,o,a,i,l){const u=performance.now();P.logEvent(A.uploadFileInitiated,{client:"web",useCase:r.kind,contextConnector:o.contextConnector,fileSourceType:o.type});let d=hr.Initial;const f=yF(e);r.kind===en.Gizmo&&(r={...r,kind:s.includes(g_(n))?en.Multimodal:en.MyFiles});try{const h=await Z.uploadConnectorAPI(t,o.contextConnector,r,n,a,o.o365DriveId,o.manifest);switch(h.type){case"error":throw j$e(h.error);case"file":{switch(f.onFileCreated(t,h.file.id,"",o.contextConnector),d=hr.FileProcessed,r.kind){case en.MyFiles:{f.onFileUploadProgress(t,90);const m=await fF(h.file.file_id,a);m?.status===lc.Skipped&&l.danger(i.formatMessage(pF.retrievalSkippedFile,{fileName:m.name}),dh),f.onFileUploaded(t,h.file.file_id,void 0,{fileTokenSize:m.file_size_tokens,mimeType:h.file.mime_type}),d=hr.RetrievalIndexCreated;break}case en.Multimodal:{f.onFileUploaded(t,h.file.file_id,{width:512,height:512},{mimeType:h.file.mime_type});break}case en.AceUpload:{f.onFileUploaded(t,h.file.file_id,void 0,{mimeType:h.file.mime_type});break}case en.DalleAgent:case en.Gizmo:case en.ProfilePicture:throw new Wr(`Use case not supported by cloud doc: ${r.kind}`)}break}case"folder":throw new Wr("Folder type not supported")}Z.postRetrievalTiming({e2eLatencyMs:performance.now()-u,type:o.contextConnector})}catch(h){ae.addError(new Error(`Failed to upload connected file by ${o.contextConnector}`,{cause:h}));const m=O2(n.name,o?.syntheticExtension);hF(i,l,m,h);let g="NotInstanceOfError";h instanceof Dt?g=`${h.name}_${h.status}`:(h instanceof Error||h instanceof Wr)&&(g=h.name),f.onError(t,"error","connector_upload_"+g,{kind:en.MyFiles},d)}}function g_(e){return e.type||DS(e.name)}function j$e({status_code:e,error_code:t,error_message:n}){if(e&&e<500){let r="internal_error";return t?r=t:e===404?r="file_not_found":e===403?r="permission_error":e===413&&(r="file_too_large"),new Wr(n,r)}else return Dt.createWithErrorMessage("/connectors/upload","server",n)}const xn={reset:e=>{e.setState(mF)},uploadFile:async(e,t,n,r,s,o,a,i={},l,u)=>{const{gizmoId:d}=i,f=e.getState().files,h=c0e(r,n.name,n.type,u?.contextConnector,l),m={tempId:t,gizmoId:i.gizmoId,status:xs.Uploading,file:n,progress:1,fileId:null,cdnUrl:null,contextConnectorInfo:u,contextConnector:u?.contextConnector};if(f.length===uh)P.logEvent(A.uploadedMaxFilesError),a.danger(o.formatMessage(Zk.maxUploadsAtATime,{maxUploads:uh,fileName:n.name}),dh);else if(f.some(g=>g.tempId===t))P.logEvent(A.uploadedDuplicateFileError),a.danger(o.formatMessage(Zk.duplicateFileAttached,{fileName:n.name.length>20?n.name.slice(0,19)+"…":n.name}),dh);else{e.setState(({files:y})=>({files:[...y,m]}));let g;const v={};if(s.includes(n.type)){if(g={kind:en.Multimodal},!u){let{width:y,height:x}=await Cx(n);if(y>av||x>av)try{const b=await A2(n,av),w=await Cx(b);y=w.width,x=w.height,n=b}catch(b){ae.addError(new Error("Error resizing image:",{cause:b}))}v.imageDimensions={width:y,height:x}}}else switch(h){case ot.Multimodal:throw new Error(`Multimodal file upload not supported mime type, ${n.type}
Supported mime types: `+s.join(", "));case ot.Interpreter:g={kind:en.AceUpload};break;case ot.Retrieval:g={kind:en.MyFiles},v.usesRetrievalIndex=!0;break;case ot.ProfilePicture:throw new Error("cannot upload profile picture via uploadFile");case ot.ContextConnector:case ot.None:return}d!=null&&(g={kind:en.Gizmo,gizmoId:d}),i.skipUpload||(u?await R$e(e,t,n,g,s,u,i.gizmoId,o,a):await m_(t,n,o,a,g,yF(e),v))}},createFileCompleted:(e,t,n,r,s)=>{const o=e.getState().files,a=o.findIndex(l=>l.tempId===t),i=o[a];if(a>=0&&i.status===xs.Uploading){const l=[...o];l.splice(a,1,{...i,progress:10,fileId:n,cdnUrl:r,contextConnector:s}),e.setState({files:l})}},updateProgress:(e,t,n)=>{const r=e.getState().files,s=r.findIndex(a=>a.tempId===t),o=r[s];if(s>=0&&o.status===xs.Uploading){const a=[...r];a.splice(s,1,{...o,progress:n}),e.setState({files:a})}},uploadCompleted:(e,t,n,r,s,o)=>{const a=e.getState().files,i=a.findIndex(l=>l.tempId===t);if(i>=0&&a[i].status===xs.Uploading&&a[i].fileId!=null){const l=a[i],u=[...a],d={...l,tempId:t,status:xs.Ready,progress:100,fileSpec:{name:l.file.name,id:l.fileId,size:l.file.size,contextConnectorInfo:l.contextConnectorInfo,mimeType:s?.mimeType??g_(l.file),...r||{},...s||{}}};u.splice(i,1,d);const f={...e.getState().connectorFileData};o&&(f[o?.file_id]=o),e.setState({files:u,connectorFileData:f}),P.logEvent(A.uploadFileCompleted,{status:l.status,fileId:l.fileId,contextConnector:l.contextConnector??"local"})}},remove:(e,t,n,r,s,o)=>{const a=e.getState().files,i=a.findIndex(l=>l.tempId===t);if(i>=0){const l=a[i];n==="error"?P.logEvent(A.uploadFileError,{status:l.status,fileId:l.fileId,client:"web",errorClassName:r??"undefined",useCaseType:s,uploadStatus:o??"undefined",contextConnector:l.contextConnector}):P.logEvent(A.removeFile,{status:l.status,fileId:l.fileId});const u=[...a];u.splice(i,1),e.setState({files:u})}}},yF=e=>({onFileCreated:xn.createFileCompleted.bind(null,e),onFileUploadProgress:xn.updateProgress.bind(null,e),onFileUploaded:xn.uploadCompleted.bind(null,e),onError:xn.remove.bind(null,e)}),Zk=Q({maxUploadsAtATime:{id:"useFilePickerState.maxUploadsAtATime",defaultMessage:"Unable to upload {fileName}. Max {maxUploads} uploads at a time"},duplicateFileAttached:{id:"useFilePickerState.duplicateFileAttached",defaultMessage:"Unable to upload {fileName} because an identical file has already been attached to this message."}});function Ept(e,t,n,r){let s=N$e.getReadyFiles(e.getState());r?.kind===Me.GizmoMagicCreate?s=s.filter(h=>h.gizmoId!=null):s=s.filter(h=>h.gizmoId==null);let o=t??"";const a=[],i=[],l=Xf(n,r),d=k2(n,r).length>0,f=l===ot.Interpreter||l===ot.Retrieval||l===ot.ContextConnector;return s.forEach(({fileSpec:h})=>{if(f){const m=h.contextConnectorInfo;a.push({id:h.id,size:h.size,name:h.name,context_connector_info:m?{context_connector:m?.contextConnector,source_url:m?.sourceUrl,synthetic_extension:m?.syntheticExtension??null,type:m?.type}:void 0,mime_type:h.mimeType,width:"width"in h?h.width:void 0,height:"height"in h?h.height:void 0,file_token_size:h.fileTokenSize})}d&&"width"in h&&"height"in h&&i.push({content_type:fn.ImageAssetPointer,asset_pointer:o0e(h.id),size_bytes:h.size,width:h.width,height:h.height})}),i.length>0&&(i.push(t??""),o={content_type:Ae.MultimodalText,parts:i}),{content:o,attachments:a}}async function kpt({clientThreadId:e,currentRequestId:t,queryClient:n,isHistoryAndTrainingDisabled:r}){const s=k.getServerThreadId(e),o=k.getTree(e);!o.hasReceivedServerCompletion&&!r&&o.getParent(t).metadata?.errCode!==Dn.ContentPolicy&&setTimeout(()=>{wx.onCreateFinished(n,s,r)},500),s&&K.checkGate("3922476776")&&await Z.stopConversationProcess(s),Qr.abortRequest(t)&&k.updateTree(e,i=>{const l=k.getThreadCurrentLeafId(e);i.updateNodeMessageMetadata(l,{finish_details:{type:"interrupted"}})})}const Ppt=He(e=>({targetedContent:void 0,setTargetedContent:t=>{e({targetedContent:t})}}));var v_=(e=>(e.SonicHome="sonic.web.home",e.SonicServer="sonic.ssr.search",e.SonicBusinessesMap="sonic.web.businessesMap",e.ChatPageLoad="chatgpt.web.pageLoad",e.CompletionRequest="chatgpt.web.completionRequest",e.ProofOfWork="chatgpt.web.proofOfWork",e.GetDiffedDoc="chatgpt.web.canvas.getDiffedDoc",e.GetPositionTransformer="chatgpt.web.canvas.getPositionTransformer",e))(v_||{});class D$e{namespace;expectedTimingLogs;expectedTimingLogTimeouts={};startMs=-1;lastLogMs=-1;loggedTimings=new Set;timingBlocks={};debug=!1;constructor(t,n){this.namespace=t,this.expectedTimingLogs=n?.expectedTimingLogs??[],this.debug=n?.debug??!1,this.reset()}reset(){this.startMs=this.lastLogMs=performance.now(),this.timingBlocks={},this.loggedTimings=new Set;for(const t of Object.values(this.expectedTimingLogTimeouts))clearTimeout(t);this.expectedTimingLogTimeouts={};for(const t of this.expectedTimingLogs){const n=setTimeout(()=>{ae.addAction(`${this.namespace}.${t.name}.timed_out`,t.initializationInfo??{})},t.expectedInMs);this.expectedTimingLogTimeouts[t.name]=n,this.debug&&console.debug(`[DatadogProfiler] Expecting ${this.namespace}.${t.name} to be logged within ${t.expectedInMs}ms`)}}logTiming(t,n={fromLastLog:!1}){if(this.loggedTimings.has(t)){console.warn(`[DatadogProfiler] Timing ${this.namespace}.${t} already logged`);return}const r=performance.now()-(n.fromLastLog?this.lastLogMs:this.startMs);ae.addAction(`${this.namespace}.${t}`,{durationMs:r,...n.context}),this.lastLogMs=performance.now(),this.loggedTimings.add(t),t in this.expectedTimingLogTimeouts&&(clearTimeout(this.expectedTimingLogTimeouts[t]),delete this.expectedTimingLogTimeouts[t]),this.debug&&console.debug(`[DatadogProfiler] ${this.namespace}.${t}: ${r}ms`)}startBlock(t){this.timingBlocks[t]=performance.now()}endBlock(t,n={throwError:!0}){const r=this.timingBlocks[t];if(r===void 0&&n.throwError)throw new Error(`Block "${t}" not started`);const s=performance.now()-r;ae.addAction(`${this.namespace}.${t}`,{durationMs:s}),delete this.timingBlocks[t]}}const Gc={};function L$e({namespace:e,opts:t}){return Gc[e]!==void 0&&ae.addError(`Profiler already exists for namespace ${e}`),Gc[e]=new D$e(e,t)}function bF({namespace:e}){return Gc[e]}function F$e({namespace:e,opts:t}){let n=Gc[e];return n===void 0&&(n=Gc[e]=L$e({namespace:e,opts:t})),n}function Apt({namespace:e,opts:t}){const[n]=p.useState(()=>F$e({namespace:e,opts:t}));return n}var y_=(e=>(e.Personal="chat",e.Workspace="workspace",e.Team="team",e))(y_||{});const B$e=({dismissLink:e,onLogInButtonClick:t,onSignUpButtonClick:n,subtitle:r,title:s})=>{const a=Vo()?"center":"bottom",i=Dl(),l=Oi(Jk.signUpCta),u=c.jsx(ue,{as:"button",size:"large",color:i?"secondary":"primary",onClick:n,fullWidth:!0,children:c.jsx(S,{...l})}),d=c.jsx(ue,{as:"button",size:"large",color:i?"primary":"secondary",fullWidth:!0,onClick:t,children:c.jsx(S,{...Jk.logInCta})}),f=i?[d,u]:[u,d];return c.jsx(Ue,{isOpen:!0,onClose:$e,shouldIgnoreClickOutside:!0,showCloseButton:!1,type:"success",noPadding:!0,position:a,size:"custom",className:"max-w-[373px] sm:max-w-[400px]",children:c.jsxs("div",{className:"flex flex-col items-center justify-center px-6 py-8 sm:px-10 sm:pb-10 sm:pt-12",children:[c.jsx("p",{className:"mb-1 text-center text-2xl font-semibold",children:c.jsx(S,{...s})}),c.jsx("p",{className:"mb-6 text-center text-token-text-secondary",children:c.jsx(S,{...r})}),c.jsx("div",{className:"flex w-full flex-col gap-2 sm:gap-2.5",children:f}),e?c.jsx("a",{href:"#",className:"mt-5 cursor-pointer text-sm font-semibold text-token-text-secondary underline",onClick:h=>{h.preventDefault(),e.onClick()},children:c.jsx(S,{...e.text})}):null]})})},Jk=Q({signUpCta:{id:"NoAuthModal.signUpCta",defaultMessage:"Sign up"},logInCta:{id:"NoAuthModal.logInCta",defaultMessage:"Log in"}});function b_(){return wn.getCookie(hn.HasLoggedInBefore)!=null}function $pt(){const{value:e}=$t("2173548801"),{layer:t}=XA("3637408529");return e?t.get("is_anon_chat_enabled",!1):!1}const eP=10,U$e=({type:e="default"}={})=>{const[t,n]=p.useState(()=>sessionStorage.getItem(Ke.NoAuthHasDismissedSoftRateLimitModal)!=null),{isUnauthenticated:r,isLoading:s}=Ut(),o=b_(),a=D3(g=>g.userMessageCount),i=p.useRef(a),l=a>=eP,[u,d]=p.useState(!1);p.useEffect(()=>{i.current<a&&(i.current=a,a===eP&&d(!0))},[a]);const f=r&&l&&(e==="default"||u)&&!t&&!o&&!s,h=p.useCallback(()=>{f&&(P.logEvent(A.noAuthSoftRateLimitModalShown),K.logEvent("chatgpt_no_auth_soft_rate_limit_modal_shown"))},[f]),m=()=>{n(!0),sessionStorage.setItem(Ke.NoAuthHasDismissedSoftRateLimitModal,"true")};return s?{isLoading:!0,isOpen:null,onClose:null,onMount:null}:{isLoading:!1,isOpen:f,onClose:m,onMount:h}},Opt=({onClose:e})=>{const t=_n(),n=Dl(),{isOpen:r,onClose:s,onMount:o}=U$e();return p.useEffect(()=>{o?.()},[o]),r?c.jsx(B$e,{dismissLink:{text:wu.stayLoggedOutLink,onClick:()=>{P.logEvent(A.noAuthSoftRateLimitModalStayLoggedOutLinkClicked),K.logEvent("chatgpt_no_auth_soft_rate_limit_modal_stay_logged_out_link_clicked"),e(),s()}},onLogInButtonClick:()=>{t({authType:"login",callback:a=>{P.logLogInButtonClicked({provider:a,location:"No Auth Soft Rate Limit Modal"})}})},onSignUpButtonClick:()=>{t({authType:"signup",callback:a=>{P.logSignUpButtonClicked({provider:a,location:"No Auth Soft Rate Limit Modal"})}})},subtitle:n?wu.logInSubtitle:wu.signUpSubtitle,title:wu.title}):null},wu=Q({title:{id:"NoAuthSoftRateLimitModal.title",defaultMessage:"Thanks for trying ChatGPT"},signUpSubtitle:{id:"zpngdW",defaultMessage:"Sign up or log in to get smarter responses, upload files and images, and more."},logInSubtitle:{id:"iVew+I",defaultMessage:"Log in or sign up to get smarter responses, upload files and images, and more."},stayLoggedOutLink:{id:"NoAuthWelcomeBackModal.stayLoggedOut",defaultMessage:"Stay logged out"}}),tP="has-dismissed-welcome-back-modal",V$e=()=>{const[e,t]=p.useState(()=>sessionStorage.getItem(tP)!=null),{layer:n}=Bn("3637408529"),r=n.get("is_no_auth_welcome_back_modal_enabled",!1),{isUnauthenticated:s,isLoading:o}=Ut(),a=b_(),i=()=>{t(!0),sessionStorage.setItem(tP,"true")};return o?{isLoading:!0,isOpen:null,onClose:null}:{isLoading:!1,isOpen:s&&r&&!e&&a,onClose:i}},Ipt=({onClose:e})=>{const t=_n(),n=Vo(),r=Oi(ec.signUpCta),s=n?"center":"bottom",{isOpen:o,onClose:a}=V$e();return p.useEffect(()=>{o&&(P.logEvent(A.noAuthWelcomeBackModalShown),K.logEvent("chatgpt_no_auth_welcome_back_modal_shown"))},[o]),o?c.jsx(Ue,{isOpen:!0,onClose:$e,shouldIgnoreClickOutside:!0,showCloseButton:!1,type:"success",noPadding:!0,size:"custom",className:"max-w-[373px] sm:max-w-[400px]",position:s,children:c.jsxs("div",{className:"flex flex-col items-center justify-center px-6 py-8 sm:p-10",children:[c.jsx("p",{className:"mb-1 text-center text-2xl font-semibold",children:c.jsx(S,{...ec.title})}),c.jsx("p",{className:"mb-6 text-center text-lg text-token-text-secondary",children:c.jsx(S,{...ec.subtitle})}),c.jsx(ue,{as:"button",size:"large",color:"primary",fullWidth:!0,className:"mb-2 sm:mb-3","data-testid":"welcome-login-button",onClick:()=>{t({authType:"login",callback:i=>{P.logLogInButtonClicked({provider:i,location:"No Auth Welcome Back Modal"})}})},children:c.jsx(S,{...ec.logInCta})}),c.jsx(ue,{as:"button",size:"large",color:"secondary",fullWidth:!0,className:"mb-5",onClick:()=>{t({authType:"signup",callback:i=>{P.logSignUpButtonClicked({provider:i,location:"No Auth Welcome Back Modal"})}})},children:c.jsx(S,{...r})}),c.jsx("a",{href:"#",className:"cursor-pointer font-semibold text-token-text-secondary underline sm:text-sm",onClick:i=>{i.preventDefault(),P.logEvent(A.noAuthWelcomeBackModalStayLoggedOutLinkClicked),K.logEvent("chatgpt_no_auth_welcome_back_modal_stay_logged_out_link_clicked"),e(),a()},"data-testid":"dismiss-welcome",children:c.jsx(S,{...ec.stayLoggedOutLink})})]})}):null},ec=Q({title:{id:"NoAuthWelcomeBackModal.title",defaultMessage:"Welcome back"},subtitle:{id:"7WQi5y",defaultMessage:"Log in or sign up to get smarter responses, upload files and images, and more."},signUpCta:{id:"NoAuthWelcomeBackModal.signUpCta",defaultMessage:"Sign up"},logInCta:{id:"NoAuthWelcomeBackModal.logInCta",defaultMessage:"Log in"},stayLoggedOutLink:{id:"NoAuthWelcomeBackModal.stayLoggedOut",defaultMessage:"Stay logged out"}});function G$e(){const e=p.useRef(W$e()),t=_n(),n=p.useCallback(()=>{e.current?P.logEventWithStatsig(A.noAuthPunchOutSignInAsModalShown,"chatgpt_no_auth_punch_out_sign_in_as_modal_shown"):console.warn("PunchOutSignInAsModal is being mounted without punchOutRequireLoginInfo")},[]);return{onCancelButtonClick:()=>{P.logEventWithStatsig(A.noAuthPunchOutSignInAsModalCancelButtonClicked,"chatgpt_no_auth_punch_out_sign_in_as_modal_cancel_button_clicked"),Tx()},onContinueButtonClick:({token:o})=>{P.logEventWithStatsig(A.noAuthPunchOutSignInAsModalContinueButtonClicked,"chatgpt_no_auth_punch_out_sign_in_as_modal_continue_button_clicked"),Tx(),t({authType:"login",callback:a=>{P.logLogInButtonClicked({location:"No Auth Punch Out Sign In As Modal",provider:a})},callbackUrl:`/continue_from_api?token=${o}`})},onMount:n,punchOutRequireLoginInfo:e.current}}function W$e(){if(typeof window>"u")return null;const e=wn.getCookie(hn.PunchOutRequireLoginInfo);if(!e)return null;try{const t=JSON.parse(e);return jB(t,DB),t}catch(t){Tx(),t instanceof LB?console.warn("Invalid struct for punch out require login info",t):ae.addError("Failed to parse punch out require login info",{error:t})}return null}function Tx(){wn.deleteCookie(hn.PunchOutRequireLoginInfo)}const Npt=({onClose:e})=>{const{onCancelButtonClick:t,onContinueButtonClick:n,onMount:r,punchOutRequireLoginInfo:s}=G$e(),a=Go()?"medium":"large";if(p.useEffect(r,[r]),!s)return null;const{email:i}=s;return c.jsx(Ue,{isOpen:!0,noPadding:!0,onClose:$e,shouldIgnoreClickOutside:!0,showCloseButton:!1,size:"custom",type:"success",className:"max-w-md",children:c.jsxs("div",{className:"flex flex-col p-6",children:[c.jsx("div",{className:"mb-6 text-center text-xl font-medium md:text-left",children:c.jsx(S,{id:"0e8g2r",defaultMessage:"Sign in as {email}?",values:{email:i}})}),c.jsxs("div",{className:"flex flex-col gap-3 md:flex-row-reverse md:gap-2 md:self-end",children:[c.jsx(ue,{color:"primary",size:a,onClick:()=>n(s),children:c.jsx(S,{...rn.continueButtonText})}),c.jsx(ue,{color:"secondary",size:a,onClick:()=>{t(),e()},children:c.jsx(S,{...rn.cancelButtonText})})]})]})})};function Ul(){return es()?.includes(Qx.Sunshine)??!1}function xF(){const{data:e}=Fd(La.Sunshine),t=Ul();return!!e&&t}function H$e(){return Ot("1611573287").value??!1}function z$e(){const e=xF(),t=H$e();return e&&t}const wF=We.MemoryOnboarding;function q$e(){const e=Ul(),{eligible:t,isLoading:n}=Xe(wF);return{eligible:t&&e,isLoading:n}}function iv({icon:e,title:t,description:n}){return c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"mt-1",children:e}),c.jsxs("div",{className:"ml-4",children:[c.jsx("div",{className:"text-lg font-semibold",children:t}),c.jsx("p",{className:"mt-1 text-sm text-token-text-secondary",children:n})]})]})}function Rpt({onClose:e}){const t=Y$e(),n=FB(),r=V(),{markAsViewed:s}=Xe(wF),o=p.useCallback(()=>{s(),e()},[s,e]);return c.jsx(Ue,{isOpen:!0,onClose:$e,size:"custom",className:"max-w-xl",type:"success",title:r.formatMessage(dr.title),secondaryButton:t?c.jsx(kt.Button,{onClick:async()=>{try{await n.mutateAsync({setting:La.Sunshine,value:!1}),o()}catch{}},title:r.formatMessage(dr.notNow),color:"secondary"}):null,primaryButton:t?c.jsx(kt.Button,{onClick:async()=>{try{await n.mutateAsync({setting:La.Sunshine,value:!0}),o()}catch{}},title:r.formatMessage(dr.enable),color:"primary"}):c.jsx(kt.Button,{onClick:o,title:r.formatMessage(dr.continue),color:"primary"}),children:c.jsxs("div",{className:"mb-6 flex flex-col gap-3",children:[c.jsx(iv,{icon:c.jsx(fU,{}),title:r.formatMessage(dr.bulletTitle1),description:r.formatMessage(dr.bulletDescription1)}),c.jsx(iv,{icon:c.jsx(hU,{}),title:r.formatMessage(dr.bulletTitle2),description:c.jsx(S,{...dr.bulletDescription2,values:{learnMoreLink:a=>c.jsx("a",{href:"https://help.openai.com/en/articles/5722486-how-your-data-is-used-to-improve-model-performance",target:"_blank",rel:"noreferrer",className:"cursor-pointer underline",children:a})}})}),c.jsx(iv,{icon:c.jsx(pU,{}),title:r.formatMessage(dr.bulletTitle3),description:r.formatMessage(dr.bulletDescription3)})]})})}function Y$e(){const{value:e}=$t("1542198993");return e}const dr=Q({title:{id:"MemoryOnboardingModal.title.1",defaultMessage:"ChatGPT now has memory"},bulletTitle1:{id:"MemoryOnboardingModal.bulletTitle1",defaultMessage:"Keep the conversation going"},bulletDescription1:{id:"MemoryOnboardingModal.bulletDescription1.1",defaultMessage:"ChatGPT will automatically remember details and preferences you share in your conversations, carrying them between chats."},bulletTitle2:{id:"MemoryOnboardingModal.bulletTitle2.1",defaultMessage:"A smarter assistant"},bulletDescription2:{id:"MemoryOnboardingModal.bulletDescription2.2",defaultMessage:"Memories are used to give you more relevant responses and may be used to train our models if you have model training enabled. <learnMoreLink>Learn more</learnMoreLink>"},bulletTitle3:{id:"MemoryOnboardingModal.bulletTitle3",defaultMessage:"You're in control"},bulletDescription3:{id:"MemoryOnboardingModal.bulletDescription3.2",defaultMessage:"Review or clear specific memories, restart from scratch, or turn the feature on or off in settings."},continue:{id:"MemoryOnboardingModal.continue",defaultMessage:"Continue"},notNow:{id:"MemoryOnboardingModal.notNow",defaultMessage:"Not now"},enable:{id:"MemoryOnboardingModal.enable",defaultMessage:"Enable"}});var to=(e=>(e.paid_users_only="paid_users_only",e.unsupported_app_version="unsupported_app_version",e))(to||{});const K$e=()=>{const{value:e,isLoading:t}=Ot("2335877601"),{value:n,isLoading:r}=Ot("2441614537"),{doesUserHaveAnyAccountsWithPlusFeatures:s,isLoading:o}=Ds();return ri?t||r||o?{isLoading:!0,isOpen:null,modalType:null,onClose:null}:e?{isLoading:!1,isOpen:!0,modalType:"unsupported_app_version",onClose:()=>{}}:!s&&!n?{isLoading:!1,isOpen:!0,modalType:"paid_users_only",onClose:()=>{}}:{isLoading:!1,isOpen:!1,modalType:null,onClose:null}:{isLoading:!1,isOpen:!1,modalType:null,onClose:null}},jpt="chatgpt",Dpt="oauth_complete",Q$e="ms-windows-store://pdp/?productid=9nt1r1c2hh7j",X$e="https://apps.microsoft.com/detail/9nt1r1c2hh7j",Lpt=()=>{const e="center",{isOpen:t,modalType:n}=K$e(),r=It(),s=i3(),o=n0e();if(p.useEffect(()=>{t&&n!==void 0&&P.logEvent(A.sidetronBlockingModalShown,{modalType:n})},[t,n]),!t)return null;function a(){switch(P.logEvent(A.sidetronModalActionClicked,{modalType:n}),n){case to.unsupported_app_version:window.open(o?Q$e:X$e,"_blank");return;case to.paid_users_only:zs(r,"Upper right settings menu");return;case null:ZA.warn("No modal type provided for DesktopBlockingModal");return}}function i(){switch(n){case to.unsupported_app_version:return Z$e;case to.paid_users_only:return nP;case null:return nP}}function l(){switch(n){case to.unsupported_app_version:return!1;case to.paid_users_only:return!0;case null:return!1}}return c.jsx(Ue,{isOpen:!0,onClose:$e,shouldIgnoreClickOutside:!0,showCloseButton:!1,type:"success",noPadding:!0,position:e,children:c.jsxs("div",{className:"flex flex-col items-center justify-center px-6 py-8",children:[c.jsx("p",{className:"mb-1 text-center text-2xl font-semibold",children:c.jsx(S,{...i().title})}),c.jsx("p",{className:"mb-6 text-center text-lg text-token-text-secondary",children:c.jsx(S,{...i().subtitle})}),c.jsx(ue,{as:"button",size:"large",color:"primary",fullWidth:!0,className:"mb-2 sm:mb-3","data-testid":"desktop-blocking-modal-action-button",onClick:a,children:c.jsx(S,{...i().cta})}),l()&&c.jsxs("span",{children:[s," · ",c.jsx("a",{href:"#",className:"cursor-pointer font-semibold text-token-text-secondary underline sm:text-sm",onClick:u=>{u.preventDefault(),P.logEvent(A.sidetronModalLogoutClicked,{modalType:n}),Fh()},"data-testid":"desktop-blocking-modal-logout",children:c.jsx(S,{...i().logout})})]})]})})},nP=Q({title:{id:"DesktopBlockingModal.paidTitle",defaultMessage:"Upgrade to use Windows app"},subtitle:{id:"DesktopBlockingModal.paidSubtitle",defaultMessage:"The Windows app is currently available for Plus, Team, Enterprise, and Edu plans."},cta:{id:"DesktopBlockingModal.paidUpgradeCta",defaultMessage:"See Plans"},logout:{id:"DesktopBlockingModal.paidLogout",defaultMessage:"Log out"}}),Z$e=Q({title:{id:"DesktopBlockingModal.sunsettingTitle",defaultMessage:"Update required"},subtitle:{id:"DesktopBlockingModal.sunsettingSubtitle",defaultMessage:"A new version of ChatGPT Windows is available and must be installed to continue."},cta:{id:"DesktopBlockingModal.sunsettingCta",defaultMessage:"Get Download"},logout:{id:"DesktopBlockingModal.sunsettingLogout",defaultMessage:"Log out"}}),J$e=({className:e})=>c.jsxs("div",{className:O("flex-column flex gap-[10px]",e),children:[c.jsx("div",{className:"relative flex h-[62px] w-[88px] items-center justify-center rounded-2xl border border-[rgba(0,0,0,0.18)] bg-[#F1F1F1] bg-gradient-to-b from-white/0 to-white/20 shadow-[0_1px_1px_rgba(0,0,0,0.03),_0_4.93747px_9.05202px_rgba(0,0,0,0.11)] dark:bg-black dark:to-white/15",children:c.jsx("span",{className:"absolute bottom-[8px] right-[12px] text-[12px] font-semibold leading-[15px] tracking-[-0.197499px] text-token-text-secondary",children:c.jsx(S,{...rP.alt})})}),c.jsx("div",{className:"relative flex h-[62px] w-[232px] items-center justify-center rounded-2xl border border-[rgba(0,0,0,0.18)] bg-[#F1F1F1] bg-gradient-to-b from-white/0 to-white/20 shadow-[0_1px_1px_rgba(0,0,0,0.03),_0_4.93747px_9.05202px_rgba(0,0,0,0.11)] dark:bg-black dark:to-white/15",children:c.jsx("span",{className:"absolute bottom-[8px] right-[12px] text-[12px] font-semibold leading-[15px] tracking-[-0.197499px] text-token-text-secondary",children:c.jsx(S,{...rP.space})})})]}),rP=Q({alt:{id:"DesktopOnboardingKeyboardIllustration.altKeyboardKeyLabel",defaultMessage:"alt"},space:{id:"DesktopOnboardingKeyboardIllustration.spaceKeyboardKeyLabel",defaultMessage:"space"}}),eOe=We.hasSeenWindowsAppOnboarding,tOe=()=>{const{eligible:e,markAsViewed:t,isLoading:n}=Xe(eOe),{value:r,isLoading:s}=Ot("1454021170");return ri?n||s?{isLoading:!0,isOpen:null,onClose:null}:{isLoading:!1,isOpen:e&&r,onClose:t}:{isLoading:!1,isOpen:!1,onClose:null}},Fpt=({onClose:e})=>{const{isOpen:t,onClose:n}=tOe();return t?(K.logEvent("chatgpt_sidetron_onboarding_nux_shown"),c.jsx(Ue,{isOpen:!0,onClose:$e,type:"success",noPadding:!0,position:"center",className:"max-w-[552px] p-14 sm:max-w-[552px]",children:c.jsxs("div",{className:"flex flex-col items-center justify-center px-6 py-8",children:[c.jsx(qc,{className:"absolute right-4 top-4",onClick:()=>{e(),n()}}),c.jsx("p",{className:"mb-3 text-center text-2xl font-bold",children:c.jsx(S,{...Su.title})}),c.jsx("p",{className:"text-center text-lg text-token-text-tertiary",children:c.jsx(S,{...Su.subtitle})}),c.jsx(J$e,{className:"my-8"}),c.jsx("p",{className:"mb-2 text-center text-lg font-semibold",children:c.jsx(S,{...Su.keyboardShortcut})}),c.jsx("p",{className:"text-center text-lg text-token-text-tertiary",children:c.jsx(S,{...Su.keyboardShortcutHint})})]})})):null},Su=Q({title:{id:"DesktopOnboardingModal.title",defaultMessage:"Quickly access ChatGPT"},subtitle:{id:"DesktopOnboardingModal.subtitle",defaultMessage:"Use a shortcut to ask questions, upload files, or take screenshots from anywhere on your computer."},keyboardShortcut:{id:"DesktopOnboardingModal.keyboardShortcut1",defaultMessage:"Press Alt+Space to open the the companion window"},keyboardShortcutHint:{id:"DesktopOnboardingModal.keyboardShortcutHint",defaultMessage:"You can change this shortcut in Settings."}});function SF(){return c.jsx("hr",{className:"w-full border-token-border-xheavy"})}const sP=({value:e,isSelected:t,onSelect:n,workspacePlanType:r})=>c.jsxs("button",{className:"mb-2 flex w-full cursor-pointer items-center justify-between outline-none lg:text-left",onClick:()=>n(e),children:[c.jsxs("div",{className:"flex items-center gap-2",children:[e==="transfer"?c.jsx(_$,{className:"icon-sm"}):c.jsx(dw,{className:"icon-sm"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-semibold",children:e==="transfer"?c.jsx(S,{...st.initialModalTransferLabel}):c.jsx(S,{...st.initialModalExportLabel})}),c.jsx("div",{className:"text-sm text-token-text-secondary",children:e==="transfer"?r===ao.EDU?c.jsx(S,{...st.initialModalTransferEduDetail}):c.jsx(S,{...st.initialModalTransferEnterpriseDetail}):c.jsx(S,{...st.initialModalExportDetail})})]})]}),c.jsx("div",{className:O({"flex h-4 w-4 flex-shrink-0 rounded-full border align-middle":!0,"bg-black":t}),children:t&&c.jsx(Uh,{className:"m-auto h-3 w-3 scale-x-75 stroke-[4] text-white"})})]}),nOe=({setCurrentStep:e,destinationWorkspaceName:t,destinationWorkspaceProfilePictureUrl:n,destinationWorkspacePlanType:r})=>{const[s,o]=p.useState(""),a=V(),i=async()=>{s==="transfer"?e(1):s==="export"&&e(2)},l=r===ao.EDU?a.formatMessage(st.initialModalEduTitle):a.formatMessage(st.initialModalEnterpriseTitle);return c.jsx(Ue,{isOpen:!0,onClose:$e,type:"warning",title:l,primaryButton:c.jsx(Pr,{title:a.formatMessage(st.initialModalConfirm),onClick:i,color:"primary",className:"ml-4"}),children:c.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[c.jsxs("div",{className:"flex w-full items-center gap-4",children:[c.jsx(Qp,{src:n,size:"large"}),c.jsx("div",{className:"font-semibold",children:t})]}),c.jsxs("div",{className:"pb-4",children:[c.jsx("h3",{className:"mb-2 text-base font-semibold",children:c.jsx(S,{...st.initialModalExplanation})}),c.jsx("div",{className:"mb-2 text-sm text-token-text-secondary",children:c.jsx(S,{...st.initialModalMustChoose})}),c.jsxs("ul",{className:"list-disc pl-5 text-sm text-token-text-secondary",children:[c.jsx("li",{className:"mb-2",children:c.jsx(S,{...st.initialModalDataDelete})}),c.jsx("li",{children:c.jsx(S,{...st.initialModalBilling})})]})]}),c.jsx(sP,{value:"transfer",isSelected:s==="transfer",onSelect:o,workspacePlanType:r}),c.jsx(SF,{}),c.jsx(sP,{value:"export",isSelected:s==="export",onSelect:o,workspacePlanType:r})]})})},oP=({currentStep:e,setCurrentStep:t,performAction:n})=>{const r=V();return c.jsx(Ue,{isOpen:!0,onClose:$e,type:"success",title:r.formatMessage(st.selectedModalTitle),primaryButton:c.jsx(Pr,{title:e===1?r.formatMessage(st.transferModalConfirm):r.formatMessage(st.exportModalConfirm),color:e===2?"danger":"primary",onClick:n}),secondaryButton:c.jsx(Pr,{title:r.formatMessage(st.selectedModalBack),color:"secondary",onClick:async()=>{t(0)}}),children:c.jsxs("div",{className:"pb-4",children:[c.jsx("h3",{className:"mb-2 text-base font-semibold",children:e===1?c.jsx(S,{...st.transferModalConfirmTitle}):c.jsx(S,{...st.exportModalConfirmTitle})}),e===1?c.jsx("div",{className:"text-sm text-token-text-secondary",children:c.jsx(S,{...st.transferModalConfirmLabel})}):c.jsxs("ul",{className:"list-disc pl-5 text-sm text-token-text-secondary",children:[c.jsx("li",{className:"mb-1",children:c.jsx(S,{...st.exportModalChatHistoryLabel})}),c.jsx("li",{className:"mb-1",children:c.jsx(S,{...st.exportModalDeleteLabel})}),c.jsx("li",{className:"mb-1",children:c.jsx(S,{...st.exportModalChatDownloadLabel})})]}),c.jsx("h4",{className:"pt-5 font-semibold text-token-text-primary",children:e==1?c.jsx(S,{...st.transferModalProceed}):c.jsx(S,{...st.exportModalProceed})})]})})};function Bpt(){const[e,t]=p.useState(0),n=JA();if(!n)return null;switch(e){case 0:return c.jsx(nOe,{setCurrentStep:t,destinationWorkspaceName:n.destinationWorkspaceName,destinationWorkspaceProfilePictureUrl:n.destinationWorkspaceProfilePictureUrl,destinationWorkspacePlanType:n.destinationWorkspacePlanType});case 1:return c.jsx(oP,{currentStep:e,setCurrentStep:t,performAction:async()=>{(await Z.transferAccount(n.destinationWorkspaceId)).success&&(window.location.href="/")}});case 2:return c.jsx(oP,{currentStep:e,setCurrentStep:t,performAction:async()=>{(await Z.submitExportAndDeactivate()).success&&(window.location.href="/")}})}}const st=Q({initialModalEnterpriseTitle:{id:"initialModal.title",defaultMessage:"You've been added to a ChatGPT Enterprise workspace"},initialModalEduTitle:{id:"initialModal.eduTitle",defaultMessage:"You've been added to a ChatGPT Edu workspace"},initialModalExplanation:{id:"initialModal.explanation",defaultMessage:"What should we do with your existing workspace?"},initialModalMustChoose:{id:"initialModal.mustChoose",defaultMessage:"In order to join this new workspace, you must choose to either migrate or export your existing chat history."},initialModalDataDelete:{id:"initialModal.dataDelete",defaultMessage:"All Plugins and Custom Instructions in the existing workspace will be deleted."},initialModalBilling:{id:"initialModal.billing",defaultMessage:"If you have a ChatGPT Plus subscription, it will be canceled and refunded upon completing this step."},initialModalConfirm:{id:"initialModal.confirm",defaultMessage:"Continue"},initialModalTransferLabel:{id:"initialModal.transferLabel",defaultMessage:"Transfer existing chat history and GPTs"},initialModalTransferEnterpriseDetail:{id:"initialModal.initialModalTransferEnterpriseDetail",defaultMessage:"Merge into the Enterprise workspace"},initialModalTransferEduDetail:{id:"initialModal.initialModalTransferEduDetail",defaultMessage:"Merge into the Edu workspace"},initialModalExportLabel:{id:"initialModal.exportLabel",defaultMessage:"Export and delete existing chat history"},initialModalExportDetail:{id:"initialModal.exportDetail",defaultMessage:"Delete the existing workspace"},selectedModalTitle:{id:"selectedModal.title",defaultMessage:"Are you sure?"},selectedModalBack:{id:"selectedModal.back",defaultMessage:"Back"},transferModalConfirmTitle:{id:"transferModal.confirmTitle",defaultMessage:"Transferring chat history is permanent and can't be undone."},transferModalConfirmLabel:{id:"transferModal.confirmLabel",defaultMessage:"Your chat history and GPTs will be transferred to the new workspace and your existing workspace will be deleted."},transferModalConfirm:{id:"transferModal.confirm",defaultMessage:"Confirm transfer"},transferModalProceed:{id:"transferModal.proceed",defaultMessage:'To proceed, click "Confirm transfer" below.'},exportModalConfirmTitle:{id:"exportModal.confirmTitle",defaultMessage:"Deleting chat history is permanent and can't be undone."},exportModalChatHistoryLabel:{id:"exportModal.chatHistoryLabel",defaultMessage:"Your chat history will be included in the export."},exportModalDeleteLabel:{id:"exportModal.deleteLabel",defaultMessage:"Your GPTs, Plugins and Custom Instructions will be deleted."},exportModalChatDownloadLabel:{id:"exportModal.chatDownloadLabel",defaultMessage:"The data will be sent to your registered email in a downloadable file. The download link will expire 24 hours after you receive it."},exportModalConfirm:{id:"exportModal.confirm",defaultMessage:"Export and delete workspace"},exportModalProceed:{id:"exportModal.proceed",defaultMessage:'To proceed, click "Export and delete workspace" below.'}});function Upt(){const e=BB(),t=V();return e!==null?c.jsx(Ue,{isOpen:!0,onClose:$e,type:"warning",size:"custom",className:"max-w-3xl",title:c.jsxs("div",{className:"flex flex-col",children:[c.jsx("div",{className:"text-lg",children:c.jsx(S,{..._u.title})}),c.jsx("div",{className:"text-sm font-normal",children:c.jsx(S,{..._u.subtitle})})]}),icon:Lo,primaryButton:c.jsx(kt.Button,{onClick:async()=>{const r=await Jx.signOut({redirect:!1,callbackUrl:`/auth/login?next=${encodeURIComponent(location.pathname+location.search+location.hash)}`});location.href=r.url},color:"primary",title:t.formatMessage(_u.signOutButton)}),children:c.jsx("div",{className:"flex flex-col space-y-4",children:c.jsx("div",{children:c.jsx(S,{..._u.detail,values:{email:c.jsx("span",{className:"font-semibold",children:e.userEmail})}})})})}):null}const _u=Q({title:{id:"AllWorkspacesBlockedModal.title",defaultMessage:"Access Denied"},subtitle:{id:"AllWorkspacesBlockedModal.subtitle",defaultMessage:"Your IT administrator has blocked access to this workspace"},detail:{id:"AllWorkspacesBlockedModal.detail",defaultMessage:"It looks like you’re either trying to login using a personal email or you don’t have access to a workspace that’s been approved by your IT administrator. Please use an authorized work email to access your workspace, or contact your IT administrator for access."},signOutButton:{id:"AllWorkspacesBlockedModal.signOutButton",defaultMessage:"Sign Out"}});function Vpt(){const{data:e}=VA(),t=_n(),n=e?.accountItems.find(i=>i.ssoConnectionName),r=e?.accountItems.find(i=>!i.ssoConnectionName),s=!!n,o=!s&&!!r,a=()=>{const i=n?.ssoConnectionName&&s?{connection:n.ssoConnectionName}:void 0;t({authType:"login",additionalAuthParams:i})};return c.jsx(Ue,{isOpen:!0,onClose:$e,type:"warning",size:"custom",className:"max-w-3xl",title:c.jsx("div",{className:"flex flex-col",children:c.jsx("div",{className:"text-lg",children:c.jsx(S,{...Qs.title})})}),icon:Lo,primaryButton:c.jsx(kt.Button,{onClick:()=>{P.logLogOutButtonClicked({location:"invalid_account_modal"}),Fh()},color:"primary",children:c.jsx(S,{...Qs.logOut})}),secondaryButton:s||o?c.jsx(kt.Button,{onClick:a,color:"primary",children:c.jsx(S,{...s?Qs.ssoButton:Qs.noSSOButton})}):null,children:c.jsx("div",{className:"flex flex-col space-y-4",children:c.jsxs("div",{children:[c.jsx("p",{children:c.jsx(S,{...Qs.description})}),c.jsx("br",{}),s&&c.jsx("p",{children:c.jsx(S,{...Qs.ssoSuggestion})}),o&&c.jsx("p",{children:c.jsx(S,{...Qs.noSSOSuggestion})})]})})})}const Qs=Q({title:{id:"sMC0Cy",defaultMessage:"No Accessible Workspaces"},description:{id:"ADpJJ4",defaultMessage:"It looks like you're currently unable to access any of your accounts. Try waiting a minute and logging in again."},logOut:{id:"KlMYRb",defaultMessage:"Log out"},ssoSuggestion:{id:"KCNTGv",defaultMessage:"Logging in with SSO may fix these issues."},noSSOSuggestion:{id:"mp/4+s",defaultMessage:"Logging in without SSO may fix these issues."},ssoButton:{id:"Nsa12I",defaultMessage:"Log in with SSO"},noSSOButton:{id:"60pUg9",defaultMessage:"Log in"}});function Gpt(){const e=UB(),t=V(),[n,r]=p.useState(),s=e!==null;if(p.useEffect(()=>{s||r(void 0)},[s]),!s)return null;const o=c.jsx("span",{className:"font-semibold",children:e.ownerEmail}),a=e.hasActiveRequest||n==="success",i=e.workspacePlanType===ao.EDU;return c.jsx(Ue,{isOpen:!0,onClose:$e,type:"warning",size:"custom",className:"max-w-3xl",title:c.jsxs("div",{className:"flex flex-col",children:[c.jsx("div",{className:"text-lg",children:c.jsx(S,{...Lr.title,values:{workspaceName:e.accountName}})}),c.jsx("div",{className:"text-sm font-normal",children:i?c.jsx(S,{...Lr.eduSubtitle}):c.jsx(S,{...Lr.enterpriseSubtitle})})]}),icon:Lo,primaryButton:c.jsx(kt.Button,{onClick:async()=>{r("requesting");try{(await Z.requestWorkspaceAccess(e.accountId)).success&&r("success")}catch{r("error")}},color:"primary",title:t.formatMessage(Lr.requestAccessButton),disabled:a}),secondaryButton:c.jsx(kt.Button,{onClick:async()=>{const l=await Jx.signOut({redirect:!1,callbackUrl:`/auth/login?next=${encodeURIComponent(location.pathname+location.search+location.hash)}`});location.href=l.url},color:"secondary",title:t.formatMessage(Lr.signOutButton)}),children:c.jsxs("div",{className:"flex flex-col space-y-4",children:[c.jsx("div",{children:i?c.jsx(S,{...Lr.emailBelongsToEduWorkspace,values:{email:c.jsx("span",{className:"font-semibold",children:e.userEmail})}}):c.jsx(S,{...Lr.emailBelongsToEnterpriseWorkspace,values:{email:c.jsx("span",{className:"font-semibold",children:e.userEmail})}})}),c.jsx("div",{children:a?c.jsx(S,{...Lr.activeRequestMessage,values:{email:o}}):n==="requesting"?c.jsx(Ln,{}):n==="error"?c.jsx(S,{...Lr.contactWorkspaceAdminEmail,values:{email:o}}):null})]})})}const Lr=Q({title:{id:"RequestWorkspaceAccessModal.title",defaultMessage:"Request access to {workspaceName}"},enterpriseSubtitle:{id:"RequestWorkspaceAccessModal.subtitle",defaultMessage:"ChatGPT Enterprise has been enabled in your workspace"},eduSubtitle:{id:"RequestWorkspaceAccessModal.eduSubtitle",defaultMessage:"ChatGPT Edu has been enabled in your workspace"},emailBelongsToEnterpriseWorkspace:{id:"RequestWorkspaceAccessModal.emailBelongsToEnterpriseWorkspace",defaultMessage:"{email} belongs to a ChatGPT Enterprise plan but currently has no access."},emailBelongsToEduWorkspace:{id:"RequestWorkspaceAccessModal.emailBelongsToEduWorkspace",defaultMessage:"{email} belongs to a ChatGPT Edu plan but currently has no access."},requestWorkspaceAccessMessage:{id:"RequestWorkspaceAccessModal.requestWorkspaceAccessMessage",defaultMessage:"You may request access to the workspace account."},requestedWorkspaceAccessMessage:{id:"RequestWorkspaceAccessModal.requestedWorkspaceAccessMessage",defaultMessage:"Successfully requested access to the workspace account. Your workspace administrator at {email} may approve the request."},contactWorkspaceAdminEmail:{id:"RequestWorkspaceAccessModal.contactWorkspaceAdminEmail",defaultMessage:"Could not request access. Contact your workspace administrator at {email} to request access to a new workspace account."},signOutButton:{id:"RequestWorkspaceAccessModal.signOutButton",defaultMessage:"Sign Out"},requestAccessButton:{id:"RequestWorkspaceAccessModal.requestAccessButton",defaultMessage:"Request access"},activeRequestMessage:{id:"RequestWorkspaceAccessModal.activeRequestMessage",defaultMessage:"You have a pending invite request for this workspace. Contact your workspace administrator at {email} to approve your request."}}),rOe=We.Onboarding,_F=()=>{const{eligible:e,markAsViewed:t,isLoading:n}=Xe(rOe);return{setHasSeenOnboarding:t,hasSeenOnboardingDate:n?null:!e}},sOe=()=>{const{eligible:e,markAsViewed:t,isLoading:n}=Xe(We.TeamOwnerOnboarding);return{setHasSeenTeamOwnerOnboarding:t,hasSeenTeamOwnerOnboardingDate:n?null:!e}};function oOe({onClose:e,scope:t}){const{setHasSeenOnboarding:n}=_F(),r=p.useCallback(()=>{e(!0),n()},[e,n]);return t===y_.Personal?c.jsx(iOe,{onSubmit:r}):c.jsx(cOe,{onSubmit:()=>{e(!0)}})}const Oa=({icon:e,title:t,body:n})=>c.jsxs("div",{className:"flex flex-col gap-2 md:w-1/3",children:[c.jsxs("div",{className:"flex flex-row items-center gap-2",children:[c.jsx("div",{children:e}),c.jsx("div",{className:"font-semibold text-token-text-primary",children:t})]}),c.jsx("div",{className:"text-sm text-token-text-secondary",children:n})]}),aOe="https://help.openai.com/en/articles/7039943-data-usage-for-consumer-services-faq",iOe=({onSubmit:e})=>{const t=V();return c.jsxs("div",{className:"flex flex-col gap-3 p-4 md:p-6",children:[c.jsxs("div",{className:"flex flex-col gap-6 md:flex-row",children:[c.jsx(Oa,{icon:c.jsx(C$,{isSolid:!0,className:"icon-md text-green-600"}),title:c.jsx(S,{...vn.askAway}),body:c.jsx(S,{...vn.askAwayBody})}),c.jsx(Oa,{icon:c.jsx(VB,{className:"icon-md text-brand-purple"}),title:c.jsx(S,{...vn.warning}),body:c.jsx(S,{...vn.warningBody,values:{article:n=>c.jsx("a",{href:aOe,target:"_blank",className:"underline",rel:"noopener noreferrer",children:n})}})}),c.jsx(Oa,{icon:c.jsx(aw,{className:"icon-md text-orange-300"}),title:c.jsx(S,{...vn.accuracy}),body:c.jsx(S,{...vn.accuracyBody})})]}),c.jsx("div",{className:"flex flex-row justify-end",children:c.jsx(Pr,{title:t.formatMessage(vn.gettingStartedButton),onClick:e,color:"primary","data-testid":"getting-started-button"})})]})},cOe=({onSubmit:e})=>{const t=V();return c.jsxs("div",{className:"flex flex-col gap-6 p-4 md:p-6",children:[c.jsxs("div",{className:"flex flex-col gap-6 md:flex-row",children:[c.jsx(Oa,{icon:c.jsx(Lo,{className:"icon-md text-brand-purple"}),title:c.jsx(S,{...vn.workUse}),body:c.jsx(S,{...vn.workUseBody})}),c.jsx(Oa,{icon:c.jsx(C$,{className:"icon-md text-green-600"}),title:c.jsx(S,{...vn.askAway}),body:c.jsx(S,{...vn.askAwayBody})}),c.jsx(Oa,{icon:c.jsx(aw,{className:"icon-md text-orange-300"}),title:c.jsx(S,{...vn.accuracy}),body:c.jsx(S,{...vn.accuracyBody})})]}),c.jsx("div",{className:"flex flex-row justify-end",children:c.jsx(Pr,{title:t.formatMessage(vn.gettingStartedButton),onClick:e,color:"primary"})})]})},vn=Q({askAway:{id:"onboarding.askAway",defaultMessage:"Ask away"},askAwayBody:{id:"onboarding.askAwayBody",defaultMessage:"ChatGPT can answer questions, help you learn, write code, brainstorm together, and much more."},warning:{id:"onboarding.warning",defaultMessage:"Don’t share sensitive info"},warningBody:{id:"onboarding.warningBody",defaultMessage:"Chat history may be reviewed or used to improve our services. Learn more about your choices in our <article>Help Center</article>."},accuracy:{id:"onboarding.accuracy",defaultMessage:"Check your facts"},accuracyBody:{id:"onboarding.accuracyBody",defaultMessage:"While we have safeguards, ChatGPT may give you inaccurate information. It’s not intended to give advice."},gettingStartedButton:{id:"onboarding.gettingStartedButton",defaultMessage:"Okay, let’s go"},workspaceWelcome:{id:"onboarding.workspaceWelcome",defaultMessage:"Welcome to the {workspaceName} Workspace"},workspaceWelcomeNoName:{id:"onboarding.workspaceWelcomeNoName",defaultMessage:"Welcome to the your Workspace"},workspaceWelcomeBody:{id:"onboarding.workspaceWelcomeBody",defaultMessage:"Here you can use our latest models, with more capabilities, and fewer limits."},workUse:{id:"onboarding.workUse",defaultMessage:"Made for use at work"},workUseBody:{id:"onboarding.workUseBody",defaultMessage:"By default, chats in this workspace are not used to train our AI models."}}),aP=({value:e,isSelected:t,onSelect:n})=>c.jsxs("button",{className:"mb-2 flex w-full cursor-pointer items-center justify-between outline-none lg:text-left",onClick:()=>n(e),children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"flex-shrink-0",children:e==="transfer"?c.jsx(_$,{}):c.jsx(mU,{})}),c.jsxs("div",{className:"flex flex-col text-left",children:[c.jsx("div",{className:"font-semibold",children:e==="transfer"?c.jsx(S,{...Ht.teamAccountTransferModalTransferLabel}):c.jsx(S,{...Ht.teamAccountTransferModalCreateLabel})}),c.jsx("div",{className:"flex-wrap text-sm text-token-text-secondary",children:e==="transfer"?c.jsx(S,{...Ht.teamAccountTransferModalTransferDetail}):c.jsx(S,{...Ht.teamAccountTransferModalCreateDetail})})]})]}),c.jsx("div",{className:O("flex h-4 w-4 flex-shrink-0 items-center justify-center rounded-full border",{"bg-black":t}),children:t&&c.jsx(Uh,{className:"h-3 w-3 scale-x-75 stroke-[4] text-white"})})]}),lOe=({setCurrentStep:e,setHasSeenOnboarding:t})=>{const[n,r]=p.useState(""),s=V(),o=()=>{n==="transfer"?e(1):n==="create"&&t&&t()};return c.jsx(Ue,{isOpen:!0,onClose:$e,type:"warning",title:s.formatMessage(Ht.teamAccountTransferModalTitle),primaryButton:c.jsx(Pr,{title:s.formatMessage(Ht.teamAccountTransferModalConfirm),onClick:o,color:"primary",className:"ml-4"}),children:c.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[c.jsx("div",{className:"text-md mb-2 text-token-text-primary",children:c.jsx(S,{...Ht.teamAccountTransferModalExplanation})}),c.jsx(aP,{value:"transfer",isSelected:n==="transfer",onSelect:r}),c.jsx(SF,{}),c.jsx(aP,{value:"create",isSelected:n==="create",onSelect:r})]})})},uOe=({currentWorkspace:e,setCurrentStep:t,fromSettings:n,setHasSeenOnboarding:r,onClose:s=$e})=>{const o=V(),a=an(),i=It(),l=a?.name;return c.jsx(Ue,{isOpen:!0,onClose:r?$e:s,type:"success",title:o.formatMessage(Ht.selectedModalTitle),primaryButton:c.jsx(Pr,{title:n?o.formatMessage(Ht.mergeModalConfirm):o.formatMessage(Ht.teamTransferModalConfirm),color:"primary",onClick:async()=>{const u=await Z.transferAccount(e.id);r&&r(),u.success?e$():i(GB(WB.ACCOUNT_TRANSFER_ERROR))}}),secondaryButton:c.jsx(Pr,{title:o.formatMessage(Ht.selectedModalBack),color:"secondary",onClick:n?s:async()=>{t(0)}}),children:c.jsxs("div",{className:"flex flex-col justify-center gap-4",children:[c.jsxs("div",{className:"flex w-full items-center gap-4",children:[c.jsx(Kp,{user:a,size:"large",roundedStyle:"rounded-full"}),c.jsxs("div",{className:"pt-2",children:[c.jsx("div",{className:"font-semibold",children:l}),c.jsx("div",{className:"mb-2 text-sm text-token-text-secondary",children:c.jsx(S,{...Ht.tansferModalPersonalAccount})})]})]}),c.jsx("div",{className:"-mb-2 -mt-3 flex justify-start pl-3",children:c.jsx(T$,{className:"icon-sm"})}),c.jsxs("div",{className:"flex w-full items-center gap-4",children:[c.jsx(Qp,{src:e.profilePictureUrl,size:"large"}),c.jsx("div",{className:"font-semibold",children:e.name})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"mb-2 text-base font-semibold",children:c.jsx(S,{...Ht.teamTransferModalConfirmTitle})}),c.jsxs("ul",{className:"list-disc pl-5 text-sm text-token-text-secondary",children:[c.jsx("li",{className:"mb-2",children:c.jsx(S,{...Ht.teamTransferModalMigrateData})}),c.jsx("li",{className:"mb-2",children:c.jsx(S,{...Ht.teamTransferModalDeleteData})}),c.jsx("li",{children:c.jsx(S,{...Ht.teamTransferModalCancelPlus})})]})]}),c.jsx("div",{className:"mx-auto mb-2 flex max-w-5xl items-center rounded-md border border-token-border-medium bg-token-main-surface-secondary px-2 py-2 md:px-2 lg:px-4 lg:py-3",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(aw,{className:"flex-shrink-0 text-red-500"}),c.jsx("p",{className:"ml-4 text-sm",children:c.jsx(S,{...Ht.teamTransferModalWarning,values:{link:u=>c.jsx("a",{href:"https://help.openai.com/en/articles/8801890 ",target:"_blank",className:"underline",rel:"noreferrer",children:u})}})})]})})]})})};function Wpt({onClose:e=$e,fromSettings:t=!1}){const[n,r]=p.useState(t?1:0),s=Ge()?.data,{setHasSeenTeamOwnerOnboarding:o}=sOe(),a=t?void 0:o;switch(n){case 0:return c.jsx(lOe,{setCurrentStep:r,setHasSeenOnboarding:a});case 1:return c.jsx(uOe,{setCurrentStep:r,currentWorkspace:s,onClose:e,fromSettings:t,setHasSeenOnboarding:a})}}const Ht=Q({teamAccountTransferModalTitle:{id:"teamAccountTransferModal.title",defaultMessage:"Your ChatGPT Team workspace is ready"},teamAccountTransferModalExplanation:{id:"teamAccountTransferModal.explanation",defaultMessage:"Do you want to transfer your chat history and GPTs to the Team workspace?"},teamAccountTransferModalConfirm:{id:"teamAccountTransferModal.confirm",defaultMessage:"Continue"},teamAccountTransferModalTransferLabel:{id:"teamAccountTransferModal.transferLabel",defaultMessage:"Transfer chat history and GPTs"},teamAccountTransferModalTransferDetail:{id:"teamAccountTransferModal.transferDetail",defaultMessage:"Carry over existing data from your personal workspace"},teamAccountTransferModalCreateLabel:{id:"teamAccountTransferModal.createLabel",defaultMessage:"Start as empty workspace"},teamAccountTransferModalCreateDetail:{id:"teamAccountTransferModal.createDetail",defaultMessage:"Keep your personal workspace separate. If you’re on Plus, you will maintain your subscription until you cancel"},selectedModalTitle:{id:"selectedModal.title",defaultMessage:"Are you sure?"},selectedModalBack:{id:"selectedModal.back",defaultMessage:"Back"},tansferModalPersonalAccount:{id:"teamTransferModal.personalAccount",defaultMessage:"Personal workspace"},teamTransferModalConfirmTitle:{id:"teamTransferModal.confirmTitle",defaultMessage:"Transfer of existing data is permanent and can't be undone."},teamTransferModalMigrateData:{id:"teamTransferModal.migrateData",defaultMessage:"Your chat history and GPTs in your personal workspace will be migrated to the Team workspace."},teamTransferModalDeleteData:{id:"teamTransferModal.deleteData",defaultMessage:"Your Plugins and custom instructions in your personal workspace will be deleted."},teamTransferModalCancelPlus:{id:"teamTransferModal.cancelPlus",defaultMessage:"If you have a ChatGPT Plus subscription, it will be canceled and refunded upon merging."},teamTransferModalWarning:{id:"teamTransferModal.warning",defaultMessage:"You will lose access to your data if you leave or are removed from the Team workspace, or if the workspace is deactivated. <link>Learn more</link>"},teamTransferModalConfirm:{id:"teamTransferModal.confirm",defaultMessage:"Confirm transfer"},mergeModalConfirm:{id:"mergerModal.confirm",defaultMessage:"Confirm merge"}});function dOe({workspace:e}){const t=Fe(),n=an(),s=Ge()?.id===e.id,o=s?"div":"button",[a,i]=p.useState(!1),l=_n(),u=V(),d=ze(),f=p.useCallback(async()=>{i(!0);const{willRedirect:g}=zB(t,e.id,l,u,d);t$.disableTemporaryChat(),g||e$()},[t,e.id,l,u,d]),h=uTe(e);let m=c.jsx("div",{className:"flex items-center justify-center",children:c.jsx(Qp,{src:e.data.profilePictureUrl,size:"medium"})});if(e.structure===da.PERSONAL){if(!n)return null;m=c.jsx("div",{className:"flex items-center justify-center",children:c.jsx(Kp,{user:n,customStyle:!0,size:er.workspaceMedium,className:"h-9 w-9 overflow-hidden rounded-full"})})}return c.jsxs(o,{onClick:s?$e:f,className:O({"flex w-full items-center gap-2 rounded-lg border border-token-border-medium bg-token-main-surface-primary p-4 hover:bg-token-main-surface-secondary":!0,"bg-token-sidebar-surface-secondary":s,"opacity-50":!e.canAccessWithCurrentSession}),children:[c.jsxs("div",{className:"flex w-full items-center gap-4",children:[m,c.jsxs("div",{className:"inline text-left align-top font-semibold",children:[c.jsx("p",{children:h}),!e.canAccessWithCurrentSession&&c.jsx("p",{className:"leading-4",children:c.jsx("small",{className:"text-token-text-secondary",children:c.jsx(S,{...e.ssoConnectionName?fh.authenticateWithSSOToAccessWorkspace:fh.authenticateWithoutSSOToAccessWorkspace})})})]})]}),c.jsx("div",{className:"flex h-full items-center p-1",children:a?c.jsx(Ln,{}):s?c.jsx(gU,{className:"icon-lg"}):c.jsx(Vh,{className:"icon-lg my-auto"})})]})}function fOe({data:e}){const t=e.map(n=>c.jsx(dOe,{workspace:n},n.id));return c.jsx("div",{className:"flex w-full flex-col gap-2",children:t})}function Hpt(){const e=fTe(),n=an()?.email??"";if(!e||e.length===0)return null;const r=e.filter(s=>s.structure===da.WORKSPACE);return c.jsx(Ue,{isOpen:!0,onClose:$e,type:"success",size:"normal",title:c.jsxs("div",{className:"flex flex-col",children:[c.jsx(S,{...fh.workspaceSwitcherTitle}),c.jsx("span",{className:"mt-0.5 text-sm text-token-text-secondary",children:n})]}),children:c.jsxs("div",{className:"flex w-full flex-col items-center justify-between",children:[c.jsx(fOe,{data:e}),c.jsx("span",{className:"mt-4 text-sm text-token-text-secondary",children:c.jsx(S,{...fh.workspaceSwitcherDisclaimer,values:{workspaces:c.jsx("span",{className:"contents font-bold",children:c.jsx(HB,{value:r.map(s=>s.data.name)})}),numWorkspaces:r.length}})})]})})}const fh=Q({workspaceSwitcherTitle:{id:"workspaceSwitcher.title",defaultMessage:"Select a workspace"},workspaceSwitcherDisclaimer:{id:"workspaceSwitcher.disclaimer",defaultMessage:"You've been added to the {workspaces} {numWorkspaces, plural, one {workspace} other {workspaces}}. You can switch between workspaces at any time."},authenticateWithSSOToAccessWorkspace:{id:"CV7pdM",defaultMessage:"Authenticate with SSO to access this workspace"},authenticateWithoutSSOToAccessWorkspace:{id:"zfCWFh",defaultMessage:"Authenticate without SSO to access this workspace"}});var x_="ToastProvider",[w_,hOe,pOe]=qB("Toast"),[CF,zpt]=jo("Toast",[pOe]),[mOe,um]=CF(x_),TF=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:a}=e,[i,l]=p.useState(null),[u,d]=p.useState(0),f=p.useRef(!1),h=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${x_}\`. Expected non-empty \`string\`.`),c.jsx(w_.Provider,{scope:t,children:c.jsx(mOe,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:i,onViewportChange:l,onToastAdd:p.useCallback(()=>d(m=>m+1),[]),onToastRemove:p.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:a})})};TF.displayName=x_;var MF="ToastViewport",gOe=["F8"],Mx="toast.viewportPause",Ex="toast.viewportResume",EF=p.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=gOe,label:s="Notifications ({hotkey})",...o}=e,a=um(MF,n),i=hOe(n),l=p.useRef(null),u=p.useRef(null),d=p.useRef(null),f=p.useRef(null),h=ts(t,f,a.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=a.toastCount>0;p.useEffect(()=>{const y=x=>{r.length!==0&&r.every(w=>x[w]||x.code===w)&&f.current?.focus()};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),p.useEffect(()=>{const y=l.current,x=f.current;if(g&&y&&x){const b=()=>{if(!a.isClosePausedRef.current){const T=new CustomEvent(Mx);x.dispatchEvent(T),a.isClosePausedRef.current=!0}},w=()=>{if(a.isClosePausedRef.current){const T=new CustomEvent(Ex);x.dispatchEvent(T),a.isClosePausedRef.current=!1}},_=T=>{!y.contains(T.relatedTarget)&&w()},C=()=>{y.contains(document.activeElement)||w()};return y.addEventListener("focusin",b),y.addEventListener("focusout",_),y.addEventListener("pointermove",b),y.addEventListener("pointerleave",C),window.addEventListener("blur",b),window.addEventListener("focus",w),()=>{y.removeEventListener("focusin",b),y.removeEventListener("focusout",_),y.removeEventListener("pointermove",b),y.removeEventListener("pointerleave",C),window.removeEventListener("blur",b),window.removeEventListener("focus",w)}}},[g,a.isClosePausedRef]);const v=p.useCallback(({tabbingDirection:y})=>{const b=i().map(w=>{const _=w.ref.current,C=[_,...AOe(_)];return y==="forwards"?C:C.reverse()});return(y==="forwards"?b.reverse():b).flat()},[i]);return p.useEffect(()=>{const y=f.current;if(y){const x=b=>{const w=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!w){const C=document.activeElement,T=b.shiftKey;if(b.target===y&&T){u.current?.focus();return}const R=v({tabbingDirection:T?"backwards":"forwards"}),$=R.findIndex(U=>U===C);cv(R.slice($+1))?b.preventDefault():T?u.current?.focus():d.current?.focus()}};return y.addEventListener("keydown",x),()=>y.removeEventListener("keydown",x)}},[i,v]),c.jsxs(YB,{ref:l,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&c.jsx(kx,{ref:u,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"forwards"});cv(y)}}),c.jsx(w_.Slot,{scope:n,children:c.jsx(Kt.ol,{tabIndex:-1,...o,ref:h})}),g&&c.jsx(kx,{ref:d,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"backwards"});cv(y)}})]})});EF.displayName=MF;var kF="ToastFocusProxy",kx=p.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,o=um(kF,n);return c.jsx(n$,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:a=>{const i=a.relatedTarget;!o.viewport?.contains(i)&&r()}})});kx.displayName=kF;var dm="Toast",vOe="toast.swipeStart",yOe="toast.swipeMove",bOe="toast.swipeCancel",xOe="toast.swipeEnd",PF=p.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...a}=e,[i=!0,l]=Kc({prop:r,defaultProp:s,onChange:o});return c.jsx(Yc,{present:n||i,children:c.jsx(_Oe,{open:i,...a,ref:t,onClose:()=>l(!1),onPause:Bd(e.onPause),onResume:Bd(e.onResume),onSwipeStart:ct(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ct(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ct(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ct(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});PF.displayName=dm;var[wOe,SOe]=CF(dm,{onClose(){}}),_Oe=p.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:a,onEscapeKeyDown:i,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...g}=e,v=um(dm,n),[y,x]=p.useState(null),b=ts(t,j=>x(j)),w=p.useRef(null),_=p.useRef(null),C=s||v.duration,T=p.useRef(0),M=p.useRef(C),E=p.useRef(0),{onToastAdd:R,onToastRemove:$}=v,U=Bd(()=>{y?.contains(document.activeElement)&&v.viewport?.focus(),a()}),Y=p.useCallback(j=>{!j||j===1/0||(window.clearTimeout(E.current),T.current=new Date().getTime(),E.current=window.setTimeout(U,j))},[U]);p.useEffect(()=>{const j=v.viewport;if(j){const D=()=>{Y(M.current),u?.()},B=()=>{const H=new Date().getTime()-T.current;M.current=M.current-H,window.clearTimeout(E.current),l?.()};return j.addEventListener(Mx,B),j.addEventListener(Ex,D),()=>{j.removeEventListener(Mx,B),j.removeEventListener(Ex,D)}}},[v.viewport,C,l,u,Y]),p.useEffect(()=>{o&&!v.isClosePausedRef.current&&Y(C)},[o,C,v.isClosePausedRef,Y]),p.useEffect(()=>(R(),()=>$()),[R,$]);const F=p.useMemo(()=>y?RF(y):null,[y]);return v.viewport?c.jsxs(c.Fragment,{children:[F&&c.jsx(COe,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:F}),c.jsx(wOe,{scope:n,onClose:U,children:Cc.createPortal(c.jsx(w_.ItemSlot,{scope:n,children:c.jsx(KB,{asChild:!0,onEscapeKeyDown:ct(i,()=>{v.isFocusedToastEscapeKeyDownRef.current||U(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(Kt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":v.swipeDirection,...g,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ct(e.onKeyDown,j=>{j.key==="Escape"&&(i?.(j.nativeEvent),j.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,U()))}),onPointerDown:ct(e.onPointerDown,j=>{j.button===0&&(w.current={x:j.clientX,y:j.clientY})}),onPointerMove:ct(e.onPointerMove,j=>{if(!w.current)return;const D=j.clientX-w.current.x,B=j.clientY-w.current.y,H=!!_.current,N=["left","right"].includes(v.swipeDirection),L=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,W=N?L(0,D):0,ce=N?0:L(0,B),se=j.pointerType==="touch"?10:2,le={x:W,y:ce},ke={originalEvent:j,delta:le};H?(_.current=le,Cu(yOe,f,ke,{discrete:!1})):iP(le,v.swipeDirection,se)?(_.current=le,Cu(vOe,d,ke,{discrete:!1}),j.target.setPointerCapture(j.pointerId)):(Math.abs(D)>se||Math.abs(B)>se)&&(w.current=null)}),onPointerUp:ct(e.onPointerUp,j=>{const D=_.current,B=j.target;if(B.hasPointerCapture(j.pointerId)&&B.releasePointerCapture(j.pointerId),_.current=null,w.current=null,D){const H=j.currentTarget,N={originalEvent:j,delta:D};iP(D,v.swipeDirection,v.swipeThreshold)?Cu(xOe,m,N,{discrete:!0}):Cu(bOe,h,N,{discrete:!0}),H.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),COe=e=>{const{__scopeToast:t,children:n,...r}=e,s=um(dm,t),[o,a]=p.useState(!1),[i,l]=p.useState(!1);return kOe(()=>a(!0)),p.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),i?null:c.jsx(r$,{asChild:!0,children:c.jsx(n$,{...r,children:o&&c.jsxs(c.Fragment,{children:[s.label," ",n]})})})},TOe="ToastTitle",AF=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return c.jsx(Kt.div,{...r,ref:t})});AF.displayName=TOe;var MOe="ToastDescription",EOe=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return c.jsx(Kt.div,{...r,ref:t})});EOe.displayName=MOe;var $F="ToastAction",OF=p.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?c.jsx(NF,{altText:n,asChild:!0,children:c.jsx(S_,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${$F}\`. Expected non-empty \`string\`.`),null)});OF.displayName=$F;var IF="ToastClose",S_=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=SOe(IF,n);return c.jsx(NF,{asChild:!0,children:c.jsx(Kt.button,{type:"button",...r,ref:t,onClick:ct(e.onClick,s.onClose)})})});S_.displayName=IF;var NF=p.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return c.jsx(Kt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function RF(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),POe(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const a=r.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...RF(r))}}),t}function Cu(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?QB(s,o):s.dispatchEvent(o)}var iP=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),o=r>s;return t==="left"||t==="right"?o&&r>n:!o&&s>n};function kOe(e=()=>{}){const t=Bd(e);XB(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function POe(e){return e.nodeType===e.ELEMENT_NODE}function AOe(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function cv(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var $Oe=TF,OOe=EF,IOe=PF,jF=AF,NOe=OF,DF=S_;function LF({children:e}){return c.jsxs($Oe,{children:[c.jsx(IOe,{className:"radix-state-closed:animate-hide radix-state-open:animate-slideIn popover grid grid-cols-[auto_max-content] items-center gap-x-4 rounded-lg bg-token-main-surface-primary p-4 shadow-xs [grid-template-areas:_'title_action'_'description_action'] sm:max-w-2xl",open:!0,children:e}),c.jsx(OOe,{className:"fixed bottom-0 right-0 z-50 m-0 flex max-w-[100vw] list-none flex-col gap-4 p-6 outline-none"})]})}function ROe(e){return e!=null&&e in ZB}const ua="compliance",jOe=60*60*24*30*6,DOe={serverPrimedAllowBrowserStorageValue:!0,showCookieConsentBanner:!1,isStorageComplianceEnabled:!1,ageVerificationDeadline:null,ageVerificationType:"none"},LOe={IT:"countdown",KR:"passive"};function FOe(e,t){const n=ROe(t),r=e.registration_country??"",s=r in s$&&e.age_verification.is_required;if(!n&&!s)return DOe;const o=n&&e.require_cookie_consent;return{serverPrimedAllowBrowserStorageValue:o?e.cookie_consent.analytics_cookies_accepted??!1:!0,showCookieConsentBanner:o&&e.cookie_consent.is_required,isStorageComplianceEnabled:o,ageVerificationDeadline:s?e.age_verification.remaining_seconds??null:null,ageVerificationType:s?LOe[r]??"none":"none"}}const FF=No({queryKey:[ua],queryFn:async()=>await Z.getCompliance().then(e=>{if(e.cookie_consent.is_required){const t=wn.getCookie(hn.AllowNonessential),n=e.cookie_consent.analytics_cookies_accepted;if(t===void 0&&n!=null)wn.setCookie(hn.AllowNonessential,n,{maxAge:jOe,domain:JB});else if(t!==n&&t!=null){const r={analytics_cookies_accepted:t};return Z.updateCookieConsentCompliance(r),{...e,cookie_consent:{...e.cookie_consent,...r}}}}return e}).catch(e=>(e instanceof Dt&&e.status===401&&Fh(),{registration_country:null,require_cookie_consent:!1,age_verification:{is_required:!1},cookie_consent:{is_required:!1},terms_of_use:{is_required:!1,accepted_at:null}}))});function BF({enabled:e,select:t}){return _e({...FF,enabled:e,select:t})}function UF(){const{country:e}=Qc(),t=e!=null&&e in s$;return{..._e({...FF,enabled:t,select:r=>FOe(r,e)}),isEnabled:t}}function BOe(){const e=Fe();return St({mutationFn:async t=>await Z.updateCookieConsentCompliance(t),onSuccess:()=>{e.refetchQueries({queryKey:[ua]})},onMutate:async t=>{await e.cancelQueries({queryKey:[ua]});const n=e.getQueryData([ua]);return e.setQueryData([ua],r=>{if(r!==void 0)return{...r,cookie_consent:{...r.cookie_consent,...t}}}),{previousValue:n}},onError:(t,n,r)=>{r!==void 0&&e.setQueryData([ua],r.previousValue)}})}function qpt({serverPrimedAllowBrowserStorageValue:e,enabled:t}){const{data:n,isLoading:r}=BF({enabled:t,select:s=>s.cookie_consent.analytics_cookies_accepted===!0});return r||!t?e:n??!1}const UOe=60*60*24;function Ypt(e,t=!1){return es()==null||t?"loading":!e||wn.getCookie(hn.AgeVerification)||e.ageVerificationDeadline==null||e.ageVerificationType==="none"?"hide":"show"}function Kpt({onClose:e}){const{data:{ageVerificationType:t,ageVerificationDeadline:n}={}}=UF();return t==="passive"?c.jsx(VOe,{onClose:e}):t==="countdown"&&n!=null?c.jsx(GOe,{onClose:e,ageVerificationDeadline:n}):null}const VOe=({onClose:e})=>{const{country:t}=Qc();return p.useEffect(()=>{ae.addAction("privacy_policy.show_age_verification_modal",{country:t})},[t]),c.jsx(Y2,{onClose:e,title:"OpenAI 서비스 이용 가능 연령기준을 확인해 주세요",description:c.jsx("div",{className:"whitespace-pre-wrap",children:c.jsxs("p",{children:["ChatGPT를 이용해주셔서 감사합니다. 대한민국의 법령상 요건을 준수하기 위해, OpenAI는 귀하가 OpenAI 서비스를 이용할 수 있는 나이인지 확인하여야 합니다. ChatGPT를 계속 이용하시려면, 귀하가 18세 이상이거나, 14세 이상이고 부모 또는 보호자의 허락을 받았음을 확인해 주세요.",c.jsx("br",{}),c.jsx("br",{}),"OpenAI의 연령기준 미달시"," ",c.jsx("a",{href:"https://privacy.openai.com/policies?action=ERASURE&modal=log-in",className:"underline",target:"_blank",rel:"noreferrer",children:"이 페이지에서 계정을 삭제해 주세요."})]})}),actionButton:c.jsx(ue,{color:"primary",onClick:async()=>{await Z.updateAgeVerification(),e()},children:"저는 OpenAI의 연령기준을 충족합니다"}),cancelButton:c.jsx(ue,{as:"link",color:"secondary",to:"/auth/logout",children:"로그아웃"})})},GOe=({onClose:e,ageVerificationDeadline:t})=>{const n=t!=null?Math.floor(t/60/60/24):0;p.useEffect(()=>{K.logEvent("chatgpt_compliance_age_verification_seen"),P.logEvent(A.complianceAgeVerificationSeen)},[]);const{country:r}=Qc();return p.useEffect(()=>{ae.addAction("privacy_policy.show_age_verification_countdown",{country:r})},[r]),c.jsxs(LF,{children:[c.jsx(jF,{className:"text-sm font-semibold [grid-area:_title]",children:c.jsx(S,{...cP.ageVerificationTitle,values:{deadline:n,learnMoreLink:s=>c.jsx("a",{href:"https://help.openai.com/en/articles/8411987-why-am-i-being-asked-to-verify-my-age",target:"_blank",rel:"noreferrer",className:"cursor-pointer font-normal underline",children:s})}})}),c.jsx(NOe,{altText:"Dismiss notification",asChild:!0,children:c.jsx(ue,{color:"primary",size:"small",onClick:()=>{K.logEvent("chatgpt_compliance_age_verification_clicked"),P.logEvent(A.complianceAgeVerificationClicked),wn.setCookie(hn.AgeVerification,"true",{maxAge:UOe,path:"/"}),e(),Re.openModal(wt.AgeVerificationInterstitial)},children:c.jsx(S,{...cP.startVerification})})}),c.jsx(DF,{})]})},cP=Q({ageVerificationTitle:{id:"ageVerificationBanner.title-v1",defaultMessage:"Please verify your age in the next {deadline, plural, =0 {# days} one {# day} other {# days}}. We are required to check if you're old enough to use ChatGPT. <learnMoreLink>Learn more</learnMoreLink>."},dismiss:{id:"ageVerificationBanner.dismiss",defaultMessage:"Dismiss"},startVerification:{id:"ageVerificationBanner.startVerification",defaultMessage:"Start verification"},modalTitle:{id:"ageVerificationModal.title",defaultMessage:"Please confirm you meet our age requirements"},modalDescription:{id:"ageVerificationModal.description.1",defaultMessage:"Thank you for using ChatGPT. To comply with legal requirements in Korea, we need to confirm that you’re old enough to use our service. To continue on ChatGPT, please confirm that you are 18+ or are 14+ and have your parent or guardian’s permission to use ChatGPT. <deleteAccountLink>If you do not meet our age requirements, please delete your account.</deleteAccountLink>"},modalLogout:{id:"ageVerificationModal.logOut",defaultMessage:"Log out"},modalAction:{id:"ageVerificationModal.actionButton",defaultMessage:"I meet OpenAI's age requirements"}});function Qpt({onClose:e}){const t=V(),n=ze(),{openSettings:r}=E3(),s=BOe(),{session:o}=Kx(),{data:{isStorageComplianceEnabled:a}={}}=UF(),{data:i,isLoading:l}=BF({enabled:!!(a&&o),select:u=>!u.cookie_consent.is_required});return p.useEffect(()=>{i===!0&&e()},[i,e]),l?null:c.jsx(WOe,{onReject:()=>{s.mutateAsync({analytics_cookies_accepted:!1},{onSuccess(){n.success(t.formatMessage(Sa.updateSuccess))},onError(){n.danger(t.formatMessage(Sa.updateFailure))}}),e()},onAccept:()=>{s.mutateAsync({analytics_cookies_accepted:!0},{onSuccess(){n.success(t.formatMessage(Sa.updateSuccess))},onError(){n.danger(t.formatMessage(Sa.updateFailure))}}),e()},children:c.jsx(S,{id:"CookieConsentBanner.authedDescription.0",defaultMessage:"We use cookies and similar technologies to deliver, maintain, improve our services and for security purposes. Check our <cookiePolicy>cookie policy</cookiePolicy> for details. Click 'Accept all' to let OpenAI and partners use cookies for these purposes. Click 'Reject all' to say no to cookies, except those that are strictly necessary. Choose <manageLink>manage cookies</manageLink> to change your preferences.",values:{cookiePolicy:u=>c.jsx(Xp,{href:"https://openai.com/policies/cookie-policy",openNewTab:!0,children:u}),manageLink:u=>c.jsx(HOe,{onClick:()=>{r(sh.DataControls)},children:u})}})})}function WOe({children:e,onAccept:t,onReject:n}){return p.useEffect(()=>{ae.addAction("privacy_policy.show_cookie_consent_banner")},[]),c.jsxs(LF,{children:[c.jsxs(jF,{className:"text-sm font-semibold [grid-area:_title]",children:[e,c.jsxs("div",{className:"mt-2 flex justify-end gap-3",children:[c.jsx(ue,{color:"secondary",size:"small",onClick:n,children:c.jsx(S,{...Sa.reject})}),c.jsx(ue,{color:"secondary",size:"small",onClick:t,children:c.jsx(S,{...Sa.accept})})]})]}),c.jsx(DF,{})]})}const HOe=Ee.button`underline font-normal text-green-600`,Sa=Q({cookieConsentBannerTitle:{id:"CookieConsentBanner.title",defaultMessage:"We use cookies to provide, improve, and protect our services. Visit our <privacyPolicyLink>privacy policy</privacyPolicyLink> to learn more. You can manage your cookie preferences in your <settingsPanel>settings panel</settingsPanel>. <learnMoreLink>Learn more</learnMoreLink>."},reject:{id:"CookieConsentBanner.reject",defaultMessage:"Reject all"},accept:{id:"CookieConsentBanner.accept",defaultMessage:"Accept all"},updateSuccess:{id:"CookieConsentBanner.updateSuccess",defaultMessage:"Your cookie preferences were updated successfully"},updateFailure:{id:"CookieConsentBanner.updateFailure",defaultMessage:"Unable to update cookie preferences. Try again later."}}),zOe=()=>{const e=p.useRef(qOe()),{isUnauthenticated:t,isLoading:n}=Ut(),r=b_(),s=o$(),o=!n&&t&&s&&!e.current&&!r,a=p.useCallback(()=>{o&&(YOe(),P.logEventWithStatsig(A.meetChatGptModalShown,"chatgpt_meet_chatgpt_modal_shown"))},[o]),i=()=>{P.logEventWithStatsig(A.meetChatGptModalConfirmationButtonClicked,"chatgpt_meet_chatgpt_modal_confirmation_button_clicked")};return n?{onConfirmationButtonClick:i,onMount:a,state:"loading"}:o?{onConfirmationButtonClick:i,onMount:a,state:"show"}:{onConfirmationButtonClick:i,onMount:a,state:"hide"}};function qOe(){return!!localStorage.getItem(Ke.HasSeenMeetChatGptModal)}function YOe(){return localStorage.setItem(Ke.HasSeenMeetChatGptModal,"true")}const Xpt=({onClose:e})=>{const{onConfirmationButtonClick:t,onMount:n,state:r}=zOe(),o=a$()?lP.trainingDisclaimer:lP.safetyAndAbuseDisclaimer;return p.useEffect(n,[n]),r!=="show"?null:c.jsx(Ue,{isOpen:!0,noPadding:!0,onClose:$e,shouldIgnoreClickOutside:!0,showCloseButton:!1,size:"custom",type:"success",className:"max-w-md",children:c.jsxs("div",{className:"flex flex-col p-6 text-center",children:[c.jsx("div",{className:"-mb-4 -mt-5 self-center",children:c.jsx(w$,{})}),c.jsx("div",{className:"mb-2 text-2xl font-medium",children:c.jsx(S,{id:"fnY8gE",defaultMessage:"Meet ChatGPT"})}),c.jsx("div",{className:"mb-6 text-token-text-secondary",children:c.jsx(S,{id:"OdX5ix",defaultMessage:"AI that can help with brainstorming, researching, planning, and more. Just ask."})}),c.jsx(ue,{color:"primary",size:"giant",className:"mb-4",onClick:()=>{t(),e()},children:c.jsx(S,{...rn.gotItButtonText})}),c.jsx("div",{className:"text-xs text-token-text-tertiary",children:c.jsx(S,{...o,values:{learnMoreLink:a=>c.jsx("a",{className:"underline",href:"https://help.openai.com/en/articles/9737562",rel:"noreferrer",target:"_blank",children:a})}})})]})})},lP=Q({trainingDisclaimer:{id:"hebnC4",defaultMessage:"Chats may be reviewed and used to train our models. You can opt out in settings. <learnMoreLink>Learn more</learnMoreLink>"},safetyAndAbuseDisclaimer:{id:"KpKqVi",defaultMessage:"Chats may be reviewed for safety and abuse prevention. <learnMoreLink>Learn more</learnMoreLink>"}}),KOe=60*60*24*30*12;function QOe(){const{isLoading:e,data:t}=_e(aI),n=p.useRef(XOe()),r=t?.email??null,s=p.useCallback(()=>{n.current&&t?P.logEventWithStatsig(A.punchOutAnonToAuthedModalShown,"chatgpt_punch_out_anon_to_authed_modal_shown"):console.warn("PunchOutAnonToAuthedModal is being mounted without a user and a token")},[t]),o=i=>{P.logEventWithStatsig(A.punchOutAnonToAuthedModalContinueButtonClicked,"chatgpt_punch_out_anon_to_authed_modal_continue_button_clicked"),uP(),ZOe(),window.location.href=`/continue_from_api?token=${i}`},a=()=>{uP(),P.logEventWithStatsig(A.PunchOutAnonToAuthedModalCancelButtonClicked,"chatgpt_punch_out_anon_to_authed_modal_cancel_button_clicked")};return e?{email:null,onCancelButtonClick:a,onContinueButtonClick:o,onMount:s,state:"loading",token:null}:n.current&&r?{email:r,onCancelButtonClick:a,onContinueButtonClick:o,onMount:s,state:"show",token:n.current}:{email:null,onCancelButtonClick:a,onContinueButtonClick:o,onMount:s,state:"hide",token:null}}function XOe(){return wn.getCookie(hn.PunchOutRequireAnonToAuthedToken)??null}function uP(){return wn.deleteCookie(hn.PunchOutRequireAnonToAuthedToken)}function ZOe(){wn.setCookie(hn.PunchOutAnonToAuthedEnabled,"true",{maxAge:KOe})}const Zpt=({onClose:e})=>{const{onCancelButtonClick:t,onContinueButtonClick:n,onMount:r,token:s,email:o,state:a}=QOe(),l=Go()?"medium":"large";return p.useEffect(r,[r]),a!=="show"?null:c.jsx(Ue,{isOpen:!0,noPadding:!0,onClose:$e,shouldIgnoreClickOutside:!0,showCloseButton:!1,size:"custom",type:"success",className:"max-w-md",children:c.jsxs("div",{className:"flex flex-col p-6",children:[c.jsx("div",{className:"mb-2 text-center text-xl font-medium md:text-left",children:c.jsx(S,{id:"qAel0I",defaultMessage:"Always open in ChatGPT?"})}),c.jsx("div",{className:"mb-6 text-center text-token-text-secondary md:text-left",children:c.jsx(S,{id:"9Pb+Og",defaultMessage:"Chats you open from Siri will be saved in your account <emailContainer>({email})</emailContainer>.",values:{emailContainer:u=>c.jsx("span",{className:"font-medium",children:u}),email:o}})}),c.jsxs("div",{className:"flex flex-col gap-3 md:flex-row-reverse md:gap-2 md:self-end",children:[c.jsx(ue,{color:"primary",size:l,onClick:()=>n(s),children:c.jsx(S,{...rn.continueButtonText})}),c.jsx(ue,{color:"secondary",size:l,onClick:()=>{t(),e()},children:c.jsx(S,{...rn.cancelButtonText})})]})]})})},JOe=({onContinue:e,scope:t})=>{const n=V(),r=dTe();return c.jsx(Ue,{isOpen:!0,onClose:$e,type:"success",title:n.formatMessage(Ia.chatgptTitle,{workspaceName:r}),size:"custom",noPadding:!0,className:"max-w-2xl",children:c.jsx(oOe,{onClose:()=>{e()},scope:t})})},eIe=({onContinue:e,onSkip:t,isEduPlan:n})=>{const r=V();return c.jsx(Ue,{isOpen:!0,onClose:$e,type:"success",title:r.formatMessage(Ia.primaryRoleTitle),size:"custom",className:"max-w-lg",children:c.jsx(VF,{options:n?rIe:nIe,onSkip:t,onSubmit:e})})},tIe=({onContinue:e,onSkip:t,isEduPlan:n})=>{const r=V();return c.jsx(Ue,{isOpen:!0,onClose:$e,type:"success",title:r.formatMessage(Ia.workTypeTitle),size:"custom",className:"max-w-lg",children:c.jsx(VF,{options:n?oIe:sIe,onSkip:t,onSubmit:e,multiSelect:!0})})};function VF({options:e,onSkip:t=$e,onSubmit:n=$e,multiSelect:r=!1}){const s=V(),[o,a]=p.useState([]);function i(u,d){const f=u.indexOf(d);return f===-1?[...u,d]:[...u.slice(0,f),...u.slice(f+1)]}const l=p.useCallback(u=>{const d=u.currentTarget.dataset.value??"";r?a(i(o,d)):n(d)},[n,o,a,r]);return c.jsxs("div",{children:[r&&c.jsx("p",{className:"mx-2 text-sm text-token-text-tertiary",children:s.formatMessage(Ia.selectAll)}),c.jsx("div",{className:"flex flex-col items-center justify-center",children:c.jsx("div",{className:"flex-wrap space-y-4",children:e.map(u=>c.jsx(ue,{onClick:l,color:o.includes(u.id)?"primary":"secondary",size:"medium",className:"mx-2","data-value":u.id,children:c.jsx(S,{...u.displayValue})},u.id))})}),c.jsxs("div",{className:"mt-4 flex flex-row justify-end",children:[c.jsx(Pr,{title:s.formatMessage(Ia.skipButton),onClick:t}),r&&c.jsx(Pr,{title:s.formatMessage(Ia.continueButton),onClick:()=>{n(o)},disabled:o.length===0,color:"primary",className:"ml-4"})]})]})}function Jpt({onClose:e}){const{setHasSeenOnboarding:t}=_F(),[n,r]=p.useState(0),[s,o]=p.useState({role:void 0,departments:void 0}),a=rr(Ua.workspaceId),i=rr(Ua.isEduPlan),u=an()?.id,d=()=>{K.logEvent("chatgpt_biz_onboarding_skipped"),P.logEvent(A.bizOnboardingSkipped),e(),t()};switch(n){case 0:return c.jsx(JOe,{scope:y_.Workspace,onContinue:()=>{r(1)}});case 1:return c.jsx(eIe,{onContinue:f=>{o(h=>({...h,role:f})),r(2)},onSkip:d,isEduPlan:i});case 2:return c.jsx(tIe,{onContinue:f=>{const h={...s,departments:f};e(),t(),K.logEvent("chatgpt_biz_onboarding_completed"),P.logEvent(A.bizOnboardingCompleted),Z.updateWorkspaceUserOnboardingInformation(a,u,h)},onSkip:d,isEduPlan:i});default:return c.jsx(c.Fragment,{})}}const Ia=Q({chatgptTitle:{id:"onboarding.chatgptTitle.0",defaultMessage:"Welcome to the {workspaceName} workspace"},primaryRoleTitle:{id:"onboarding.primaryRoleTitle",defaultMessage:"What's your primary role?"},workTypeTitle:{id:"onboarding.workTypeTitle",defaultMessage:"What kind of work do you do?"},selectAll:{id:"onboarding.selectAll",defaultMessage:"Select all that apply"},skipButton:{id:"onboarding.skipButton",defaultMessage:"Skip"},continueButton:{id:"onboarding.continueButton",defaultMessage:"Continue"}}),Ct=Q({marketing:{id:"onboarding.departments.marketing",defaultMessage:"Marketing"},analytics:{id:"onboarding.departments.analytics",defaultMessage:"Data or Analytics"},product:{id:"onboarding.departments.product",defaultMessage:"Product Management"},comms:{id:"onboarding.departments.comms",defaultMessage:"Communications"},finance:{id:"onboarding.departments.finance",defaultMessage:"Finance or Accounting"},customer_experience:{id:"onboarding.departments.customer_experience",defaultMessage:"Customer Experience"},project_management:{id:"onboarding.departments.project_management",defaultMessage:"Project or Program Management"},engineering:{id:"onboarding.departments.engineering",defaultMessage:"Engineering"},education_professional:{id:"onboarding.departments.education_professional",defaultMessage:"Education Professional"},design:{id:"onboarding.departments.design",defaultMessage:"Design"},administrative:{id:"onboarding.departments.administrative",defaultMessage:"Administrative Assistant"},partnerships:{id:"onboarding.departments.partnerships",defaultMessage:"Partnerships"},it:{id:"onboarding.departments.it",defaultMessage:"Information Technology (IT)"},ops:{id:"onboarding.departments.ops",defaultMessage:"Operations"},human_resources:{id:"onboarding.departments.human_resources",defaultMessage:"Human Resources"},research:{id:"onboarding.departments.research",defaultMessage:"Research & Development"},sales:{id:"onboarding.departments.sales",defaultMessage:"Sales"},legal:{id:"onboarding.departments.legal",defaultMessage:"Legal"},healthcare:{id:"onboarding.departments.healthcare",defaultMessage:"Healthcare Professional"},other:{id:"onboarding.departments.other",defaultMessage:"Other"}}),Xt=Q({engineering:{id:"onboarding.edu_departments.engineering",defaultMessage:"Engineering"},math:{id:"onboarding.edu_departments.math",defaultMessage:"Mathematics"},applied_sciences:{id:"onboarding.edu_departments.applied_sciences",defaultMessage:"Applied Sciences"},finance:{id:"onboarding.edu_departments.finance",defaultMessage:"Finance or Accounting"},health:{id:"onboarding.edu_departments.health",defaultMessage:"Health or Medical"},law:{id:"onboarding.edu_departments.law",defaultMessage:"Law"},business:{id:"onboarding.edu_departments.business",defaultMessage:"Business"},social:{id:"onboarding.edu_departments.social",defaultMessage:"Social Sciences"},liberal_art:{id:"onboarding.edu_departments.liberal_art",defaultMessage:"Liberal Arts"},fine_art:{id:"onboarding.edu_departments.fine_art",defaultMessage:"Fine Arts"},linguistics:{id:"onboarding.edu_departments.linguistics",defaultMessage:"Linguistics"},teaching:{id:"onboarding.edu_departments.teaching",defaultMessage:"Teaching"},dev:{id:"onboarding.edu_departments.dev",defaultMessage:"Research & Development"},campus_ops:{id:"onboarding.edu_departments.campus_ops",defaultMessage:"Campus Operations"},it:{id:"onboarding.edu_departments.it",defaultMessage:"Information Technology (IT)"},other:{id:"onboarding.edu_departments.other",defaultMessage:"Other"}}),fs=Q({team_member:{id:"onboarding.role.team_member",defaultMessage:"Team Member/ Individual Contributor"},manager:{id:"onboarding.role.manager",defaultMessage:"Manager"},student:{id:"onboarding.role.student",defaultMessage:"Student"},executive:{id:"onboarding.role.executive",defaultMessage:"Executive"},director:{id:"onboarding.role.director",defaultMessage:"Director"},business_owner:{id:"onboarding.role.business_owner",defaultMessage:"Business Owner"},freelancer:{id:"onboarding.role.freelancer",defaultMessage:"Freelancer"},other:{id:"onboarding.role.other",defaultMessage:"Other"}}),oa=Q({student:{id:"onboarding.edu_role.student",defaultMessage:"Student"},instructional_staff:{id:"onboarding.edu_role.instructional_staff",defaultMessage:"Instructional Staff"},researcher:{id:"onboarding.edu_role.researcher",defaultMessage:"Researcher"},admin:{id:"onboarding.edu_role.admin",defaultMessage:"Administration"},alumni:{id:"onboarding.edu_role.alumni",defaultMessage:"Alumni"},other:{id:"onboarding.edu_role.other",defaultMessage:"Other"}}),nIe=[{id:"team_member",displayValue:fs.team_member},{id:"manager",displayValue:fs.manager},{id:"student",displayValue:fs.student},{id:"executive",displayValue:fs.executive},{id:"director",displayValue:fs.director},{id:"business_owner",displayValue:fs.business_owner},{id:"freelancer",displayValue:fs.freelancer},{id:"other",displayValue:fs.other}],rIe=[{id:"student",displayValue:oa.student},{id:"instructional_staff",displayValue:oa.instructional_staff},{id:"researcher",displayValue:oa.researcher},{id:"admin",displayValue:oa.admin},{id:"alumni",displayValue:oa.alumni},{id:"other",displayValue:oa.other}],sIe=[{id:"marketing",displayValue:Ct.marketing},{id:"analytics",displayValue:Ct.analytics},{id:"product",displayValue:Ct.product},{id:"comms",displayValue:Ct.comms},{id:"engineering",displayValue:Ct.engineering},{id:"education_professional",displayValue:Ct.education_professional},{id:"finance",displayValue:Ct.finance},{id:"customer_experience",displayValue:Ct.customer_experience},{id:"project_management",displayValue:Ct.project_management},{id:"design",displayValue:Ct.design},{id:"administrative",displayValue:Ct.administrative},{id:"it",displayValue:Ct.it},{id:"ops",displayValue:Ct.ops},{id:"human_resources",displayValue:Ct.human_resources},{id:"research",displayValue:Ct.research},{id:"sales",displayValue:Ct.sales},{id:"partnerships",displayValue:Ct.partnerships},{id:"legal",displayValue:Ct.legal},{id:"healthcare",displayValue:Ct.healthcare},{id:"other",displayValue:Ct.other}],oIe=[{id:"engineering",displayValue:Xt.engineering},{id:"math",displayValue:Xt.math},{id:"applied_sciences",displayValue:Xt.applied_sciences},{id:"finance",displayValue:Xt.finance},{id:"health",displayValue:Xt.health},{id:"law",displayValue:Xt.law},{id:"business",displayValue:Xt.business},{id:"social",displayValue:Xt.social},{id:"liberal_art",displayValue:Xt.liberal_art},{id:"fine_art",displayValue:Xt.fine_art},{id:"linguistics",displayValue:Xt.linguistics},{id:"teaching",displayValue:Xt.teaching},{id:"dev",displayValue:Xt.dev},{id:"campus_ops",displayValue:Xt.campus_ops},{id:"it",displayValue:Xt.it},{id:"other",displayValue:Xt.other}];function aIe(e){switch(e){case Ru.SSOMismatch:return{title:bs.cannotAccessWorkspace,description:bs.ssoMismatchDescription};case Ru.RequireSSOLogin:return{title:bs.cannotAccessWorkspace,description:bs.requireSSODescription};case Ru.UnexpectedSSOLogin:return{title:bs.cannotAccessWorkspace,description:bs.unexpectedSSODescription}}}const iIe=2e3;function emt(){const e=e6(),t=Ge(),n=V(),r=_n(),s=JA(),o=_e({...kA(),select:()=>null}),a=Ge(),i=e?.errorCode,l=e!=null&&o.isFetched&&s==null&&!!a,[u,d]=p.useState(!1);p.useEffect(()=>{l&&setTimeout(()=>{d(!0)},iIe)},[l]);const f=i===Ru.UnexpectedSSOLogin,h=l&&(f?u:!0),m=i3();if(p.useEffect(()=>{if(!i||!h)return;const b=m?.split("@")?.[1];ae.addError(`SSO Catch All Modal: ${i} for ${m??"unknown user"}`,{sso_error:i,email:m,email_hostname:b})},[i,h,m]),!h)return null;const g=e?.accountName??t?.name??n.formatMessage(bs.workspacePlaceholder),v=()=>{const b=t?.ssoConnectionName?{connection:t.ssoConnectionName}:void 0;r({authType:"login",additionalAuthParams:b})},{title:y,description:x}=aIe(e.errorCode);return c.jsx(Ue,{isOpen:!0,onClose:$e,type:"warning",size:"custom",className:"max-w-3xl",title:c.jsx("div",{className:"flex flex-col",children:c.jsx("div",{className:"text-lg",children:c.jsx(S,{...y})})}),icon:Lo,primaryButton:c.jsx(kt.Button,{onClick:v,color:"primary",children:c.jsx(S,{...bs.authenticateNotice,values:{workspaceName:g}})}),secondaryButton:c.jsx(kt.Button,{onClick:()=>{P.logLogOutButtonClicked({location:"sso_catch_all_modal"}),Fh()},children:c.jsx(S,{id:"KlMYRb",defaultMessage:"Log out"})}),children:c.jsx("div",{className:"flex flex-col space-y-4",children:c.jsx("div",{children:c.jsx(S,{...x})})})})}const bs=Q({authenticateNotice:{id:"zF1QJE",defaultMessage:"Authenticate to {workspaceName}"},workspacePlaceholder:{id:"IIY4N4",defaultMessage:"this workspace"},cannotAccessWorkspace:{id:"IlXHdd",defaultMessage:"Cannot Access This Workspace"},ssoMismatchDescription:{id:"xSuU9q",defaultMessage:"The SSO you logged in with does not match the SSO registered for this workspace. Try re-authenticating with that SSO."},unexpectedSSODescription:{id:"uSkRZx",defaultMessage:"This workspace doesn't have an SSO associated with it, but you're trying to log in with SSO. Try logging in with social authentication (i.e. Google) or with your password."},requireSSODescription:{id:"akKMy1",defaultMessage:"Your organization requires that you log in with SSO to access this workspace"}}),Tu="temporary-chat";var GF={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.Unidentified="Unidentified",t.Alt="Alt",t.AltGraph="AltGraph",t.CapsLock="CapsLock",t.Control="Control",t.Fn="Fn",t.FnLock="FnLock",t.Hyper="Hyper",t.Meta="Meta",t.NumLock="NumLock",t.ScrollLock="ScrollLock",t.Shift="Shift",t.Super="Super",t.Symbol="Symbol",t.SymbolLock="SymbolLock",t.Enter="Enter",t.Tab="Tab",t.ArrowDown="ArrowDown",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.ArrowUp="ArrowUp",t.End="End",t.Home="Home",t.PageDown="PageDown",t.PageUp="PageUp",t.Backspace="Backspace",t.Clear="Clear",t.Copy="Copy",t.CrSel="CrSel",t.Cut="Cut",t.Delete="Delete",t.EraseEof="EraseEof",t.ExSel="ExSel",t.Insert="Insert",t.Paste="Paste",t.Redo="Redo",t.Undo="Undo",t.Accept="Accept",t.Again="Again",t.Attn="Attn",t.Cancel="Cancel",t.ContextMenu="ContextMenu",t.Escape="Escape",t.Execute="Execute",t.Find="Find",t.Finish="Finish",t.Help="Help",t.Pause="Pause",t.Play="Play",t.Props="Props",t.Select="Select",t.ZoomIn="ZoomIn",t.ZoomOut="ZoomOut",t.BrightnessDown="BrightnessDown",t.BrightnessUp="BrightnessUp",t.Eject="Eject",t.LogOff="LogOff",t.Power="Power",t.PowerOff="PowerOff",t.PrintScreen="PrintScreen",t.Hibernate="Hibernate",t.Standby="Standby",t.WakeUp="WakeUp",t.AllCandidates="AllCandidates",t.Alphanumeric="Alphanumeric",t.CodeInput="CodeInput",t.Compose="Compose",t.Convert="Convert",t.Dead="Dead",t.FinalMode="FinalMode",t.GroupFirst="GroupFirst",t.GroupLast="GroupLast",t.GroupNext="GroupNext",t.GroupPrevious="GroupPrevious",t.ModeChange="ModeChange",t.NextCandidate="NextCandidate",t.NonConvert="NonConvert",t.PreviousCandidate="PreviousCandidate",t.Process="Process",t.SingleCandidate="SingleCandidate",t.HangulMode="HangulMode",t.HanjaMode="HanjaMode",t.JunjaMode="JunjaMode",t.Eisu="Eisu",t.Hankaku="Hankaku",t.Hiragana="Hiragana",t.HiraganaKatakana="HiraganaKatakana",t.KanaMode="KanaMode",t.KanjiMode="KanjiMode",t.Katakana="Katakana",t.Romaji="Romaji",t.Zenkaku="Zenkaku",t.ZenkakuHanaku="ZenkakuHanaku",t.F1="F1",t.F2="F2",t.F3="F3",t.F4="F4",t.F5="F5",t.F6="F6",t.F7="F7",t.F8="F8",t.F9="F9",t.F10="F10",t.F11="F11",t.F12="F12",t.F13="F13",t.F14="F14",t.F15="F15",t.F16="F16",t.F17="F17",t.F18="F18",t.F19="F19",t.F20="F20",t.Soft1="Soft1",t.Soft2="Soft2",t.Soft3="Soft3",t.Soft4="Soft4",t.AppSwitch="AppSwitch",t.Call="Call",t.Camera="Camera",t.CameraFocus="CameraFocus",t.EndCall="EndCall",t.GoBack="GoBack",t.GoHome="GoHome",t.HeadsetHook="HeadsetHook",t.LastNumberRedial="LastNumberRedial",t.Notification="Notification",t.MannerMode="MannerMode",t.VoiceDial="VoiceDial",t.ChannelDown="ChannelDown",t.ChannelUp="ChannelUp",t.MediaFastForward="MediaFastForward",t.MediaPause="MediaPause",t.MediaPlay="MediaPlay",t.MediaPlayPause="MediaPlayPause",t.MediaRecord="MediaRecord",t.MediaRewind="MediaRewind",t.MediaStop="MediaStop",t.MediaTrackNext="MediaTrackNext",t.MediaTrackPrevious="MediaTrackPrevious",t.AudioBalanceLeft="AudioBalanceLeft",t.AudioBalanceRight="AudioBalanceRight",t.AudioBassDown="AudioBassDown",t.AudioBassBoostDown="AudioBassBoostDown",t.AudioBassBoostToggle="AudioBassBoostToggle",t.AudioBassBoostUp="AudioBassBoostUp",t.AudioBassUp="AudioBassUp",t.AudioFaderFront="AudioFaderFront",t.AudioFaderRear="AudioFaderRear",t.AudioSurroundModeNext="AudioSurroundModeNext",t.AudioTrebleDown="AudioTrebleDown",t.AudioTrebleUp="AudioTrebleUp",t.AudioVolumeDown="AudioVolumeDown",t.AudioVolumeMute="AudioVolumeMute",t.AudioVolumeUp="AudioVolumeUp",t.MicrophoneToggle="MicrophoneToggle",t.MicrophoneVolumeDown="MicrophoneVolumeDown",t.MicrophoneVolumeMute="MicrophoneVolumeMute",t.MicrophoneVolumeUp="MicrophoneVolumeUp",t.TV="TV",t.TV3DMode="TV3DMode",t.TVAntennaCable="TVAntennaCable",t.TVAudioDescription="TVAudioDescription",t.TVAudioDescriptionMixDown="TVAudioDescriptionMixDown",t.TVAudioDescriptionMixUp="TVAudioDescriptionMixUp",t.TVContentsMenu="TVContentsMenu",t.TVDataService="TVDataService",t.TVInput="TVInput",t.TVInputComponent1="TVInputComponent1",t.TVInputComponent2="TVInputComponent2",t.TVInputComposite1="TVInputComposite1",t.TVInputComposite2="TVInputComposite2",t.TVInputHDMI1="TVInputHDMI1",t.TVInputHDMI2="TVInputHDMI2",t.TVInputHDMI3="TVInputHDMI3",t.TVInputHDMI4="TVInputHDMI4",t.TVInputVGA1="TVInputVGA1",t.TVMediaContext="TVMediaContext",t.TVNetwork="TVNetwork",t.TVNumberEntry="TVNumberEntry",t.TVPower="TVPower",t.TVRadioService="TVRadioService",t.TVSatellite="TVSatellite",t.TVSatelliteBS="TVSatelliteBS",t.TVSatelliteCS="TVSatelliteCS",t.TVSatelliteToggle="TVSatelliteToggle",t.TVTerrestrialAnalog="TVTerrestrialAnalog",t.TVTerrestrialDigital="TVTerrestrialDigital",t.TVTimer="TVTimer",t.AVRInput="AVRInput",t.AVRPower="AVRPower",t.ColorF0Red="ColorF0Red",t.ColorF1Green="ColorF1Green",t.ColorF2Yellow="ColorF2Yellow",t.ColorF3Blue="ColorF3Blue",t.ColorF4Grey="ColorF4Grey",t.ColorF5Brown="ColorF5Brown",t.ClosedCaptionToggle="ClosedCaptionToggle",t.Dimmer="Dimmer",t.DisplaySwap="DisplaySwap",t.DVR="DVR",t.Exit="Exit",t.FavoriteClear0="FavoriteClear0",t.FavoriteClear1="FavoriteClear1",t.FavoriteClear2="FavoriteClear2",t.FavoriteClear3="FavoriteClear3",t.FavoriteRecall0="FavoriteRecall0",t.FavoriteRecall1="FavoriteRecall1",t.FavoriteRecall2="FavoriteRecall2",t.FavoriteRecall3="FavoriteRecall3",t.FavoriteStore0="FavoriteStore0",t.FavoriteStore1="FavoriteStore1",t.FavoriteStore2="FavoriteStore2",t.FavoriteStore3="FavoriteStore3",t.Guide="Guide",t.GuideNextDay="GuideNextDay",t.GuidePreviousDay="GuidePreviousDay",t.Info="Info",t.InstantReplay="InstantReplay",t.Link="Link",t.ListProgram="ListProgram",t.LiveContent="LiveContent",t.Lock="Lock",t.MediaApps="MediaApps",t.MediaAudioTrack="MediaAudioTrack",t.MediaLast="MediaLast",t.MediaSkipBackward="MediaSkipBackward",t.MediaSkipForward="MediaSkipForward",t.MediaStepBackward="MediaStepBackward",t.MediaStepForward="MediaStepForward",t.MediaTopMenu="MediaTopMenu",t.NavigateIn="NavigateIn",t.NavigateNext="NavigateNext",t.NavigateOut="NavigateOut",t.NavigatePrevious="NavigatePrevious",t.NextFavoriteChannel="NextFavoriteChannel",t.NextUserProfile="NextUserProfile",t.OnDemand="OnDemand",t.Pairing="Pairing",t.PinPDown="PinPDown",t.PinPMove="PinPMove",t.PinPToggle="PinPToggle",t.PinPUp="PinPUp",t.PlaySpeedDown="PlaySpeedDown",t.PlaySpeedReset="PlaySpeedReset",t.PlaySpeedUp="PlaySpeedUp",t.RandomToggle="RandomToggle",t.RcLowBattery="RcLowBattery",t.RecordSpeedNext="RecordSpeedNext",t.RfBypass="RfBypass",t.ScanChannelsToggle="ScanChannelsToggle",t.ScreenModeNext="ScreenModeNext",t.Settings="Settings",t.SplitScreenToggle="SplitScreenToggle",t.STBInput="STBInput",t.STBPower="STBPower",t.Subtitle="Subtitle",t.Teletext="Teletext",t.VideoModeNext="VideoModeNext",t.Wink="Wink",t.ZoomToggle="ZoomToggle",t.SpeechCorrectionList="SpeechCorrectionList",t.SpeechInputToggle="SpeechInputToggle",t.Close="Close",t.New="New",t.Open="Open",t.Print="Print",t.Save="Save",t.SpellCheck="SpellCheck",t.MailForward="MailForward",t.MailReply="MailReply",t.MailSend="MailSend",t.LaunchCalculator="LaunchCalculator",t.LaunchCalendar="LaunchCalendar",t.LaunchContacts="LaunchContacts",t.LaunchMail="LaunchMail",t.LaunchMediaPlayer="LaunchMediaPlayer",t.LaunchMusicPlayer="LaunchMusicPlayer",t.LaunchMyComputer="LaunchMyComputer",t.LaunchPhone="LaunchPhone",t.LaunchScreenSaver="LaunchScreenSaver",t.LaunchSpreadsheet="LaunchSpreadsheet",t.LaunchWebBrowser="LaunchWebBrowser",t.LaunchWebCam="LaunchWebCam",t.LaunchWordProcessor="LaunchWordProcessor",t.LaunchApplication1="LaunchApplication1",t.LaunchApplication2="LaunchApplication2",t.LaunchApplication3="LaunchApplication3",t.LaunchApplication4="LaunchApplication4",t.LaunchApplication5="LaunchApplication5",t.LaunchApplication6="LaunchApplication6",t.LaunchApplication7="LaunchApplication7",t.LaunchApplication8="LaunchApplication8",t.LaunchApplication9="LaunchApplication9",t.LaunchApplication10="LaunchApplication10",t.LaunchApplication11="LaunchApplication11",t.LaunchApplication12="LaunchApplication12",t.LaunchApplication13="LaunchApplication13",t.LaunchApplication14="LaunchApplication14",t.LaunchApplication15="LaunchApplication15",t.LaunchApplication16="LaunchApplication16",t.BrowserBack="BrowserBack",t.BrowserFavorites="BrowserFavorites",t.BrowserForward="BrowserForward",t.BrowserHome="BrowserHome",t.BrowserRefresh="BrowserRefresh",t.BrowserSearch="BrowserSearch",t.BrowserStop="BrowserStop",t.Decimal="Decimal",t.Key11="Key11",t.Key12="Key12",t.Multiply="Multiply",t.Add="Add",t.Divide="Divide",t.Subtract="Subtract",t.Separator="Separator"}(e.Key||(e.Key={}))})(GF);function __(){const{value:e}=$t("3768008236"),{layer:t}=Bn("3436367576");let n=!1,r=!1;const s=t.get("enable_local_indexing",!1);n=t.get("enable_ux",!1)||e,r=s||e;const{value:a}=$t("187267097"),{value:i}=$t("3323077373");return{isFannyPackEnabled:a||n,isFannyPackInitializerEnabled:i||r}}const cIe=(e,t,n,r,s="mouse")=>{const o=k.getThreadCurrentLeafId(e),i=k.getThreadConversationTurns(e,o)[t];if(!i)return Promise.reject();const{messages:l}=i,u=l.reduce((d,f)=>!f.err&&f.message.author.role===z.Assistant&&f.message.recipient==="all"?d+(d?`

`:"")+Ar(f.message,{shouldGetTextFromContentReferences:!0}):d,"");return Ol(u,n,r).then(()=>{const d=k.getServerThreadId(e);d&&Z.submitImplicitMessageFeedback({messageId:l[0].message.id,type:"copy",serverThreadId:d,selectedText:u,source:s,location:"message"})})},lIe=(e,t,n,r="mouse")=>{const s=k.getThreadCurrentLeafId(e),o=k.getThreadConversationTurns(e,s);return cIe(e,o.length-1,t,n,r)};var is={};Object.defineProperty(is,"__esModule",{value:!0});var uIe=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),lv={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},WF={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:uIe?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},C_={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var Mu=1;Mu<20;Mu++)C_["f"+Mu]=111+Mu;function fm(e,t,n){t&&!("byKey"in t)&&(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map(function(a){return HF(a,t)}),s=function(i){return r.some(function(l){return zF(l,i)})},o=n==null?s:s(n);return o}function dIe(e,t){return fm(e,t)}function fIe(e,t){return fm(e,{byKey:!0},t)}function HF(e,t){var n=t&&t.byKey,r={};e=e.replace("++","+add");var s=e.split("+"),o=s.length;for(var a in lv)r[lv[a]]=!1;var i=!0,l=!1,u=void 0;try{for(var d=s[Symbol.iterator](),f;!(i=(f=d.next()).done);i=!0){var h=f.value,m=h.endsWith("?")&&h.length>1;m&&(h=h.slice(0,-1));var g=T_(h),v=lv[g];if(h.length>1&&!v&&!WF[h]&&!C_[g])throw new TypeError('Unknown modifier: "'+h+'"');(o===1||!v)&&(n?r.key=g:r.which=qF(h)),v&&(r[v]=m?null:!0)}}catch(y){l=!0,u=y}finally{try{!i&&d.return&&d.return()}finally{if(l)throw u}}return r}function zF(e,t){for(var n in e){var r=e[n],s=void 0;if(r!=null&&(n==="key"&&t.key!=null?s=t.key.toLowerCase():n==="which"?s=r===91&&t.which===93?91:t.which:s=t[n],!(s==null&&r===!1)&&s!==r))return!1}return!0}function qF(e){e=T_(e);var t=C_[e]||e.toUpperCase().charCodeAt(0);return t}function T_(e){return e=e.toLowerCase(),e=WF[e]||e,e}var hIe=is.default=fm;is.isHotkey=fm;is.isCodeHotkey=dIe;is.isKeyHotkey=fIe;is.parseHotkey=HF;is.compareHotkey=zF;is.toKeyCode=qF;is.toKeyName=T_;function pIe(e,t,n){const r=Ah(),s=e.map(o=>{const{keyboardBinding:a}=o;let i=a.join("+");if(o.altKeyboardBindings){i=[i];const l=o.altKeyboardBindings.map(u=>u.join("+"));i=i.concat(l)}return hIe(i,{byKey:!0})});i$(()=>{if(n?.enabled===!1)return;const o=l=>{if(!l.repeat)for(let u=0;u<s.length;u++)s[u](l)&&(e[u].enabled===void 0||e[u].enabled)&&(l.preventDefault(),t(e[u]),e[u].action(l))},a=l=>{l.key!==void 0&&o(l)},i=r?.document??document;return i.addEventListener("keydown",a),()=>{i.removeEventListener("keydown",a)}},[e,n])}const mIe=/```.*?\n([\s\S]+?)\n?```[^`]*$/gms;function Px(){return/Mac|iPod|iPhone|iPad/.test(window.navigator.platform)}const xe={Mod:"mod",Comma:",",Space:"Space"," ":"Space"," ":"Space",...GF.Key},gIe={[xe.Mod]:Px()?"⌘":"Ctrl",[xe.Meta]:Px()?"⌘":"Win",[xe.Comma]:",",[xe.Enter]:"⏎",[xe.Escape]:"Esc",[xe.ArrowUp]:"↑",[xe.ArrowDown]:"↓",[xe.ArrowLeft]:"←",[xe.ArrowRight]:"→",[xe.Backspace]:"⌫",[xe.Delete]:"⌦",[xe.Tab]:"⇥",[xe.Control]:"Ctrl",[xe.Shift]:"Shift"},vIe=e=>e.map(t=>gIe[t]??t),Hn=Q({newChat:{id:"keyboardActions.newChat",defaultMessage:"Open new chat"},focusPromptTextarea:{id:"keyboardActions.focusPromptTextarea",defaultMessage:"Focus chat input"},copyLastCodeBlock:{id:"keyboardActions.copyLastCodeBlock",defaultMessage:"Copy last code block"},copyLastResponse:{id:"keyboardActions.copyLastResponse",defaultMessage:"Copy last response"},toggleCustomInstructions:{id:"keyboardActions.toggleCustomInstructions",defaultMessage:"Set custom instructions"},navigationToggle:{id:"keyboardActions.navigationToggle",defaultMessage:"Toggle sidebar"},deleteChat:{id:"keyboardActions.deleteChat",defaultMessage:"Delete chat"},archiveChat:{id:"keyboardActions.archiveChat",defaultMessage:"Archive chat"},zoomIn:{id:"keyboardActions.zoomIn",defaultMessage:"Zoom in"},zoomOut:{id:"keyboardActions.zoomOut",defaultMessage:"Zoom out"},resetZoom:{id:"keyboardActions.resetZoom",defaultMessage:"Reset zoom"},toggleKeyboardActions:{id:"keyboardActions.toggleKeyboardActions",defaultMessage:"Show shortcuts"}}),M_=new NO,yIe=({resetThreadAction:e,clientThreadId:t,focusPromptTextareaAction:n,toaster:r,isFannyPackEnabled:s,isZoomEnabled:o})=>[{key:"newChat",action:e||$e,actionMessageDescriptor:Hn.newChat,group:"Core",keyboardBinding:[xe.Mod,xe.Shift,"o"],altKeyboardBindings:s?[]:[[xe.Mod,"k"]]},{key:"focusPromptTextarea",action:n??h_,actionMessageDescriptor:Hn.focusPromptTextarea,group:"Chat",keyboardBinding:[xe.Shift,xe.Escape]},{key:"copyLastCodeBlock",action:a=>{if(t!=null){const i=k.getThreadCurrentLeafId(t),l=k.getThreadConversationTurns(t,i);for(let u=l.length-1;u>=0;u--){const{messages:d}=l[u],h=[...d.reduce((g,v)=>v.err==null&&v.message.author.role===z.Assistant&&v.message.recipient==="all"?g+(g?`

`:"")+Ar(v.message):g,"").matchAll(mIe)],m=h.length?h[h.length-1][1]:null;if(m!=null){Ol(m,r,a).then(()=>{r.success("Copied code block to clipboard")});break}}}},actionMessageDescriptor:Hn.copyLastCodeBlock,group:"Chat",keyboardBinding:[xe.Mod,xe.Shift,";"],altKeyboardBindings:[[xe.Mod,xe.Shift,":"]]},{key:"copyLastResponse",action:a=>{t!=null&&lIe(t,r,a,"keyboard").then(()=>{r.success("Last response copied to clipboard")})},actionMessageDescriptor:Hn.copyLastResponse,group:"Chat",keyboardBinding:[xe.Mod,xe.Shift,"c"]},{key:"toggleCustomInstructions",action:()=>Re.toggleModal(wt.UserContext),actionMessageDescriptor:Hn.toggleCustomInstructions,group:"Settings",keyboardBinding:[xe.Mod,xe.Shift,"i"]},{key:"navigationToggle",action:()=>Re.toggleNavSidebar(),actionMessageDescriptor:Hn.navigationToggle,group:"Core",keyboardBinding:[xe.Mod,xe.Shift,"s"]},{key:"deleteChat",action:()=>{if(t){const a=k.getServerThreadId(t);a&&M_.publish({kind:"deleteChat",serverThreadId:a})}},actionMessageDescriptor:Hn.deleteChat,group:"Chat",keyboardBinding:[xe.Mod,xe.Shift,xe.Backspace],altKeyboardBindings:[[xe.Mod,xe.Shift,xe.Delete]]},{key:"zoomIn",enabled:o,action:()=>t6(),actionMessageDescriptor:Hn.zoomIn,group:"Chat",keyboardBinding:[xe.Mod,"+"],altKeyboardBindings:[[xe.Mod,"="]]},{key:"zoomOut",enabled:o,action:()=>n6(),actionMessageDescriptor:Hn.zoomOut,group:"Chat",keyboardBinding:[xe.Mod,"-"]},{key:"resetZoom",enabled:o,action:()=>r6(),actionMessageDescriptor:Hn.resetZoom,group:"Chat",keyboardBinding:[xe.Mod,"0"]},{key:"toggleKeyboardActions",action:()=>Re.toggleModal(wt.KeyboardActions),actionMessageDescriptor:Hn.toggleKeyboardActions,group:"Settings",keyboardBinding:[xe.Mod,"/"]}],YF=e=>pIe(e,t=>{P.logEvent(A.keyboardShortcut,{keyboardActionKey:t.key}),ae.addAction("chatgpt_keyboard_shortcut",{keyboardActionKey:t.key})},{enabled:!0}),KF=({resetThreadAction:e,clientThreadId:t,focusPromptTextareaAction:n}={})=>{const r=ze(),{isFannyPackEnabled:s}=__(),{value:o}=Ot("842034403"),a=ri&&o;return p.useMemo(()=>yIe({resetThreadAction:e,clientThreadId:t,focusPromptTextareaAction:n,toaster:r,isFannyPackEnabled:s,isZoomEnabled:a}).filter(({enabled:l=!0})=>l),[r,t,e,s,n,a])},bIe=({resetThreadAction:e,clientThreadId:t,focusPromptTextareaAction:n})=>{const r=KF({resetThreadAction:e,clientThreadId:t,focusPromptTextareaAction:n}),o=we(a=>a.isVoiceActive)?[]:r;YF(o)},tmt=({setSelectedVoiceIndex:e,prevVoiceIndex:t,nextVoiceIndex:n})=>{const r=[{key:"selectPrevVoice",action:()=>{e(t)},actionMessageDescriptor:{defaultMessage:"Select previous voice"},group:"Chat",keyboardBinding:[xe.ArrowLeft]},{key:"selectNextVoice",action:()=>{e(n)},actionMessageDescriptor:{defaultMessage:"Select next voice"},group:"Chat",keyboardBinding:[xe.ArrowRight]}];YF(r)};function xIe({href:e,icon:t,expandToContainer:n,label:r,rightIcon:s,hoverLeftIcon:o,hoverRightIcon:a,isMenuOpen:i,showActiveIndicator:l,loggingGizmoId:u,onClick:d,target:f,testId:h}){const m=Un();return c.jsxs(si,{to:e,target:f,title:r,"data-testid":h,className:O("group flex items-center gap-2.5 rounded-lg",!m&&"h-10 bg-token-sidebar-surface-primary font-normal",m&&"py-1.5 tracking-condensed",!n&&"px-2",n&&"flex-1 px-3 py-2",m&&l&&"bg-token-sidebar-surface-secondary",m&&!i&&"hover:bg-token-main-surface-secondary",!m&&i&&"bg-token-main-surface-primary",!m&&!i&&"hover:bg-token-sidebar-surface-secondary"),onClick:g=>{P.logNewChatButtonClicked({location:"Sidebar gizmo list",gizmo_id:u}),P.logEvent(A.sidebarClickGizmo,{gizmo_id:u}),d?.(g)},children:[o||t,c.jsx("div",{className:"grow overflow-hidden text-ellipsis whitespace-nowrap text-sm text-token-text-primary",children:r}),a,s]})}function wIe(){return Dh("1722608525").config.get("show_new_button",!1)}function nmt({onNewThread:e}){const t=V();return wIe()?c.jsx("div",{className:"no-draggable relative self-stretch",children:c.jsx(xIe,{href:"/",expandToContainer:!0,onClick:r=>{e?(r.preventDefault(),e()):K.logEvent("chatgpt_web_thread_tap_new_thread")},hoverRightIcon:null,icon:c.jsx(M$,{className:"icon-sidebar text-[##676767] dark:text-[#B9B9B9]"}),isMenuOpen:!1,label:t.formatMessage({id:"mG13YW",defaultMessage:"New chat"}),loggingGizmoId:"primary",testId:"new-chat-button"})}):null}var E_="Popover",[QF,rmt]=jo(E_,[c$]),Vl=c$(),[SIe,qs]=QF(E_),XF=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:a=!1}=e,i=Vl(t),l=p.useRef(null),[u,d]=p.useState(!1),[f=!1,h]=Kc({prop:r,defaultProp:s,onChange:o});return c.jsx(f6,{...i,children:c.jsx(SIe,{scope:t,contentId:GA(),triggerRef:l,open:f,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:p.useCallback(()=>d(!0),[]),onCustomAnchorRemove:p.useCallback(()=>d(!1),[]),modal:a,children:n})})};XF.displayName=E_;var ZF="PopoverAnchor",JF=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=qs(ZF,n),o=Vl(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:i}=s;return p.useEffect(()=>(a(),()=>i()),[a,i]),c.jsx(l$,{...o,...r,ref:t})});JF.displayName=ZF;var e4="PopoverTrigger",t4=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=qs(e4,n),o=Vl(n),a=ts(t,s.triggerRef),i=c.jsx(Kt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":c4(s.open),...r,ref:a,onClick:ct(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?i:c.jsx(l$,{asChild:!0,...o,children:i})});t4.displayName=e4;var k_="PopoverPortal",[_Ie,CIe]=QF(k_,{forceMount:void 0}),n4=e=>{const{__scopePopover:t,forceMount:n,children:r,container:s}=e,o=qs(k_,t);return c.jsx(_Ie,{scope:t,forceMount:n,children:c.jsx(Yc,{present:n||o.open,children:c.jsx(r$,{asChild:!0,container:s,children:r})})})};n4.displayName=k_;var Ka="PopoverContent",r4=p.forwardRef((e,t)=>{const n=CIe(Ka,e.__scopePopover),{forceMount:r=n.forceMount,...s}=e,o=qs(Ka,e.__scopePopover);return c.jsx(Yc,{present:r||o.open,children:o.modal?c.jsx(TIe,{...s,ref:t}):c.jsx(MIe,{...s,ref:t})})});r4.displayName=Ka;var TIe=p.forwardRef((e,t)=>{const n=qs(Ka,e.__scopePopover),r=p.useRef(null),s=ts(t,r),o=p.useRef(!1);return p.useEffect(()=>{const a=r.current;if(a)return s6(a)},[]),c.jsx(o6,{as:a6,allowPinchZoom:!0,children:c.jsx(s4,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ct(e.onCloseAutoFocus,a=>{a.preventDefault(),o.current||n.triggerRef.current?.focus()}),onPointerDownOutside:ct(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0,u=i.button===2||l;o.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:ct(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),MIe=p.forwardRef((e,t)=>{const n=qs(Ka,e.__scopePopover),r=p.useRef(!1),s=p.useRef(!1);return c.jsx(s4,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(r.current||n.triggerRef.current?.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=o.target;n.triggerRef.current?.contains(a)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),s4=p.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:d,...f}=e,h=qs(Ka,n),m=Vl(n);return i6(),c.jsx(c6,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:c.jsx(l6,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:c.jsx(u6,{"data-state":c4(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),o4="PopoverClose",a4=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=qs(o4,n);return c.jsx(Kt.button,{type:"button",...r,ref:t,onClick:ct(e.onClick,()=>s.onOpenChange(!1))})});a4.displayName=o4;var EIe="PopoverArrow",i4=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Vl(n);return c.jsx(d6,{...s,...r,ref:t})});i4.displayName=EIe;function c4(e){return e?"open":"closed"}var P_=XF,smt=JF,hh=t4,l4=n4,A_=r4,kIe=a4,PIe=i4;function hm({align:e,arrowPadding:t,alignOffset:n,show:r,onDismiss:s,children:o,title:a,side:i,sideOffset:l,theme:u="default",badge:d="new",contentAlign:f="start",description:h,className:m,dismissOnOutsideClick:g=!1}){const v=p.useRef(null);return c.jsxs(P_,{open:r,onOpenChange:y=>{y||s()},children:[c.jsx(hh,{asChild:!0,onClick:()=>{s()},ref:v,children:o}),c.jsx(l4,{container:v.current?.ownerDocument.body,children:c.jsxs(A_,{arrowPadding:t,alignOffset:n,align:e,side:i,sideOffset:l,onOpenAutoFocus:y=>{y.preventDefault()},onCloseAutoFocus:y=>{y.preventDefault()},onInteractOutside:y=>{y.target instanceof Element&&v.current?.contains(y.target)?y.preventDefault():g?s():y.preventDefault()},updatePositionStrategy:"always",className:O("relative z-10 animate-slideLeftAndFade select-none rounded-xl p-4 text-sm shadow-sm",u==="default"?"bg-gray-900 text-white dark:bg-gray-50 dark:text-gray-700":"bg-blue-400 text-white"),children:[c.jsxs("div",{className:O("flex max-w-xs flex-col gap-1",m),children:[c.jsxs("div",{className:"mb-0.5 flex gap-2",children:[d==="new"?c.jsx("span",{className:O("rounded px-1.5 py-0.5 text-[10px] font-semibold uppercase leading-normal",u==="default"?"bg-token-main-surface-primary text-token-main-surface-primary-inverse":"bg-white text-blue-selection"),children:c.jsx(S,{...dP.new})}):d==="beta"&&c.jsx("span",{className:"rounded-full bg-blue-100 px-1.5 text-[10px] font-semibold text-blue-600",children:c.jsx(S,{...dP.beta})}),c.jsx("div",{className:O("grow font-semibold",f&&`text-${f}`),children:a}),c.jsx(kIe,{className:"-my-1 -mr-1 p-1 opacity-70 transition hover:opacity-100",children:c.jsx(ii,{className:"icon-sm"})})]}),h!==void 0&&c.jsx("div",{className:O(f&&`text-${f}`),children:h})]}),c.jsx(PIe,{asChild:!0,children:c.jsx("div",{className:O("relative top-[-6px] h-3 w-3 rotate-45 transform rounded-br-sm",u==="default"?"bg-gray-900 dark:bg-gray-50":"bg-blue-400")})})]})})]})}const dP=Q({new:{id:"announcementTooltip.new",defaultMessage:"New"},beta:{id:"announcementTooltip.beta",defaultMessage:"Beta"}});function AIe(){const{activeModals:e}=we(),t=Ge(),n=Xe(We.ExploreGPTs),r=Xe(We.ExploreGPTsNewNux),s=Ixe(),o=zp(),a=ki(),i=n.eligible&&!n.isLoading&&!o;let u=r.eligible&&!r.isLoading&&!o&&!s&&!a;return e.size>0&&(u=!1),!i&&t?.hasPlusFeatures()&&(u=!1),p.useEffect(()=>{u&&P.logEvent(A.storeDisplayNewNux)},[u]),u}function omt({children:e}){const t=AIe(),n=V(),r=Xe(We.ExploreGPTsNewNux);return t?c.jsx(hm,{side:"right",show:!0,title:n.formatMessage(fP.exploreGPTsTitle),onDismiss:r.markAsViewed,sideOffset:20,theme:"bright",description:c.jsx(S,{...fP.exploreGPTsDescriptionNewNux}),children:e}):c.jsx(c.Fragment,{children:e})}const fP=Q({exploreGPTsTitle:{id:"gptExploreGPTs.title",defaultMessage:"Explore GPTs"},exploreGPTsDescription:{id:"gptExploreGPTs.description",defaultMessage:"Now you can discover GPTs created by the community"},exploreGPTsDescriptionNewNux:{id:"gptExploreGPTs.descriptionNewNux",defaultMessage:"Discover custom versions of ChatGPT created for specific use cases like writing, research, and coding."}}),amt=e=>p.createElement("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M10.6705 9.08685L12.9224 2.74037C13.2891 1.70714 12.2929 0.710936 11.2596 1.07757L4.91316 3.32954C4.1737 3.59193 3.59193 4.1737 3.32954 4.91316L1.07757 11.2596C0.710936 12.2929 1.70714 13.2891 2.74037 12.9224L9.08685 10.6705C9.82631 10.4081 10.4081 9.82631 10.6705 9.08685Z",stroke:"currentColor",style:{stroke:"currentColor",strokeOpacity:1},strokeWidth:1.2}),p.createElement("path",{d:"M7.00006 8.5C7.82849 8.5 8.50006 7.82843 8.50006 7C8.50006 6.17157 7.82849 5.5 7.00006 5.5C6.17163 5.5 5.50006 6.17157 5.50006 7C5.50006 7.82843 6.17163 8.5 7.00006 8.5Z",stroke:"currentColor",style:{stroke:"currentColor",strokeOpacity:1}})),$Ie=Ee.h3`px-2 text-xs font-semibold text-ellipsis overflow-hidden break-all ${({$screenArch:e})=>[e?"text-token-sidebar-title-primary pb-1.5 pt-2":"pt-3 pb-2 text-token-text-primary"]}`;function OIe(e,t,n){const{title:r,titleSource:s}=iV(e),[o,a]=p.useState(!1),i=r??t,l=p.useRef(i);return p.useEffect(()=>(n&&s===tl.Generated&&i!==l.current&&a(!0),()=>{l.current=i}),[n,i,s]),{isTypingEffect:o,resolvedTitle:i}}function u4(){const e=p.useRef(!1);return p.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),p.useCallback(()=>e.current,[])}function IIe({text:e}){const t=u4(),[n,r]=p.useState(!0),[s,o]=p.useState(0),a=p.useMemo(()=>Array.from(e),[e]),i=p.useMemo(()=>new NIe().humanTypingDelaysQuertyDistance(a),[a]);return p.useEffect(()=>{e&&n&&(r(!0),i.forEach((l,u)=>{setTimeout(()=>{t()&&(o(u),u===i.length-1&&r(!1))},l)}))},[i,t,n,e]),c.jsx(c.Fragment,{children:a.slice(0,s+1).join("")})}class NIe{qwertyDistance(t,n){const r={q:[0,0],w:[1,0],e:[2,0],r:[3,0],t:[4,0],y:[5,0],u:[6,0],i:[7,0],o:[8,0],p:[9,0],a:[0,1],s:[1,1],d:[2,1],f:[3,1],g:[4,1],h:[5,1],j:[6,1],k:[7,1],l:[8,1],z:[0,2],x:[1,2],c:[2,2],v:[3,2],b:[4,2],n:[5,2],m:[6,2]},[s,o]=r[t.toLowerCase()]??[0,0],[a,i]=r[n.toLowerCase()]??[0,0];return Math.abs(s-a)+Math.abs(o-i)}humanTypingDelaysQuertyDistance(t,n=10,r=100){let s=0;const o=[];for(let a=0;a<t.length;++a){let i;if(a>0){const l=this.qwertyDistance(t[a-1],t[a]);l===0?i=this.getRandomInt(n,Math.floor(r/2)):l===1?i=this.getRandomInt(n,Math.floor(r*2/3)):i=this.getRandomInt(n,r)}else i=this.getRandomInt(n,r);o.push(i+s),s+=i}return o}getRandomInt(t,n){return Math.floor(Math.random()*(n-t+1))+t}}function RIe({title:e,handleDelete:t,onClose:n}){const r=V(),s=Ul();return c.jsxs(Ue,{isOpen:!0,onClose:n,type:"success",title:r.formatMessage(Eu.deleteModalTitle),primaryButton:c.jsx(kt.Button,{title:r.formatMessage(Eu.deleteModalConfirm),color:"danger",onClick:()=>{t(),n()},"data-testid":"delete-conversation-confirm-button"}),secondaryButton:c.jsx(kt.Button,{title:r.formatMessage(Eu.deleteModalCancel),color:"secondary",onClick:n}),children:[c.jsx(S,{...Eu.deleteModalBody,values:{title:c.jsx("strong",{children:e})}}),s&&c.jsx("div",{className:"mt-2 text-sm text-token-text-tertiary",children:c.jsx(S,{id:"history.deleteModalMemoryDisclaimer",defaultMessage:"To clear any memories from this chat, visit your <link>settings</link>.",values:{link:o=>c.jsx(si,{to:"#settings/Personalization",className:"underline",onClick:()=>{setTimeout(()=>{n()},100)},children:o})}})})]})}const Eu=Q({deleteModalTitle:{id:"history.deleteModalTitle",defaultMessage:"Delete chat?"},deleteModalBody:{id:"history.deleteModalBody",defaultMessage:"This will delete {title}."},deleteModalConfirm:{id:"history.deleteModalConfirm",defaultMessage:"Delete"},deleteModalCancel:{id:"history.deleteModalCancel",defaultMessage:"Cancel"}}),jIe=Oe(()=>Ie(()=>import("./fr4xhalslfc4ns67.js"),__vite__mapDeps([52,1,2,3,53,54,55,6])).then(e=>e.GizmoConversationOptionsDropdown)),DIe=new Date(2024,9,11,0);function LIe(e){K.checkGate("3922476776")||Qr.abortAllRequests(),P.logEvent(A.loadThread,{threadId:e})}function FIe({conversation:e,conversationTitle:t,onOpenChange:n,testId:r}){const s=V(),{isUnauthenticated:o}=Ut(),{eligible:a,markAsViewed:i}=Xe(We.ArchiveConversationOnboarding),l=hV(e.id),[u,d]=p.useState(!1),f=Fe(),h=It(),m=ze(),g=Un();if(p.useEffect(()=>u$(M_,{deleteChat:({serverThreadId:y})=>{y===e.id&&d(!0)},archiveChat:async({serverThreadId:y})=>{y===e.id&&(await Z.patchConversation(e.id,{is_archived:!0}),$o(f),K.logEvent("chatgpt_conversation_archived"),P.logEvent(A.conversationArchived),a&&(m.info(s.formatMessage({defaultMessage:"You can view archived chats in Settings",id:"HistoryGizmoItem.archiveChatOnboarding"}),{duration:10,hasCloseButton:!0}),i()),l&&oh(h))}}),[h,m,f,a,e.id,s,l,i]),o)return null;const v=c.jsx(jIe,{clientThreadId:e.id,onOpenChange:n,children:c.jsx("button",{className:"flex items-center justify-center text-token-text-secondary transition hover:text-token-text-primary radix-state-open:text-token-text-secondary","data-testid":r,children:c.jsx(fw,{className:"icon-md"})})});return c.jsxs(c.Fragment,{children:[g?v:c.jsx(pt,{label:s.formatMessage({id:"tJPHEQ",defaultMessage:"Options"}),sideOffset:4,side:"top",children:v}),u&&c.jsx(RIe,{title:t,handleDelete:()=>{Z.patchConversation(e.id,{is_visible:!1}).then(()=>{$o(f),K.logEvent("chatgpt_conversation_deleted"),P.logEvent(A.conversationDeleted),xo.publish({kind:"deleteConversation",serverThreadId:e.id})}),l&&oh(h)},onClose:()=>{d(!1)}})]})}function BIe({conversation:e,onClose:t}){const[n,r]=p.useState(e.title),s=Fe();function o(){n!==e.title&&(k.setTitle(e.id,n,tl.User),P.logEvent(A.renameThread,{threadId:e.id,content:n}),Z.patchConversation(e.id,{title:n}).then(()=>{$o(s)}))}return c.jsx("input",{type:"text",value:n,onChange:a=>{r(a.target.value)},onKeyDown:a=>{switch(a.key){case"Escape":t();break;case"Enter":o(),t();break}},onBlur:()=>{o(),t()},autoFocus:!0,className:"w-full border border-token-border-light bg-transparent p-0 text-sm"})}const d4=5,UIe=3e3;function VIe({threadId:e}){const t=Fe(),n=p.useRef(!1),r=p.useRef(null);return p.useEffect(()=>{async function s(){n.current=!0;const o=await Bw(e);if(o.async_status===Yn.UNREAD){$o(t),k.initThreadFromServerData(e,o,!0,void 0,!0);return}if(o.async_status!==Yn.STREAMING)return;const a=o.update_time??0;VD(new Date,new Date(a*1e3))<d4?r.current=window.setTimeout(s,UIe):Z.setConversationStatus(e)}return n.current||(P.logEvent(A.conversationPollingStarted),s()),()=>{r.current&&window.clearTimeout(r.current)}},[t,e]),null}function GIe({conversation:e,className:t,hideOverflowMenu:n=!1,isActive:r,elementRef:s,isPrimaryBackgroundColor:o,testId:a}){const i=V(),[l,u]=p.useState(!1),[d,f]=p.useState(!1),{value:h}=Ot("3922476776"),{value:m}=Ot("232791851"),g=mG(e.id),{value:v=null,source:y=null}=g??{},x=rp(e.id),b=ep(x),w=VD(new Date,new Date(e.update_time??0))<d4,_=e.update_time&&qpe(new Date(e.update_time),DIe),C=v===Yn.STREAMING&&w,T=m&&!r&&!b&&_&&v===Yn.UNREAD,M=m&&!r&&(b||C),E=m&&v===Yn.STREAMING&&y===_s.SERVER&&!b&&w,R=p.useRef(!1);p.useEffect(()=>{R.current||h&&(async()=>(R.current=!0,r&&v===Yn.UNREAD&&(y===_s.SERVER&&await Z.setConversationStatus(e.id),Ec(e.id,null)),!r&&y===_s.CLIENT&&v===Yn.UNREAD&&(await Z.setConversationStatus(e.id,v),Ec(e.id,{value:Yn.UNREAD,source:_s.SERVER})),R.current=!1))()},[h,r,e.id,v,y,b]),p.useEffect(()=>u$(M_,{editTitle:({serverThreadId:N})=>{(N?N===e.id:r)&&u(!0)}}),[e.id,r]);const $=i.formatMessage({id:"mpXAeu",defaultMessage:"New chat"}),{resolvedTitle:U,isTypingEffect:Y}=OIe(e.id,e.title,r),F=Go(),j=Y&&r&&F,{data:D}=hi(e.conversation_template_id??void 0),B=Un(),H=c.jsx("div",{className:O("absolute bottom-0 top-0 items-center gap-1.5 pr-2 ltr:right-0 rtl:left-0",r||d?"flex":"hidden can-hover:group-hover:flex"),children:c.jsx(FIe,{conversation:e,conversationTitle:U??e.title,onOpenChange:N=>{f(N),N&&P.logEvent(A.conversationHistoryItemOpenMenu,{conversationId:e.id})},testId:`${a}-options`})});return c.jsxs("div",{className:O("no-draggable group relative rounded-lg active:opacity-90",t,B&&"text-sm tracking-condensed",r?"bg-token-sidebar-surface-secondary":B?"hover:bg-token-main-surface-secondary":"hover:bg-token-sidebar-surface-secondary",d&&!r&&"bg-token-sidebar-surface-secondary"),children:[E&&c.jsx(VIe,{threadId:e.id}),c.jsx(si,{to:px(e.id,D),onClick:N=>{N.metaKey||N.ctrlKey||r||LIe(e.id)},onDoubleClick:()=>{u(!0)},ref:s,className:"flex items-center gap-2 p-2",style:{maskImage:B?"var(--sidebar-mask)":void 0},children:c.jsxs("div",{className:O("relative grow overflow-hidden whitespace-nowrap",M&&"loading-shimmer"),dir:"auto",title:U??$,children:[j?c.jsx(IIe,{text:U||$}):U||$,!B&&c.jsx("div",{className:O("absolute bottom-0 top-0 to-transparent ltr:right-0 ltr:bg-gradient-to-l rtl:left-0 rtl:bg-gradient-to-r",o?r||!r&&d?"from-token-sidebar-surface-secondary":"from-token-main-surface-primary":!1,o?!1:r||!r&&d?"from-token-sidebar-surface-secondary":"from-token-sidebar-surface-primary",{"from-token-main-surface-primary can-hover:group-hover:from-token-sidebar-surface-secondary":o&&!r&&!d,"from-token-sidebar-surface-primary can-hover:group-hover:from-token-sidebar-surface-secondary":!o&&!r&&!d,"w-10 from-60%":r||d,"w-8 from-0% can-hover:group-hover:w-10 can-hover:group-hover:from-60%":!r&&!d})})]})}),l?c.jsx("div",{className:"absolute bottom-0 left-[7px] right-2 top-0 flex items-center bg-token-sidebar-surface-secondary",children:c.jsx(BIe,{conversation:e,onClose:()=>{u(!1)}})}):T?c.jsx("div",{className:"absolute bottom-0 top-0 flex items-center gap-1.5 pr-2 ltr:right-0 rtl:left-0",children:c.jsx("div",{className:"h-2 w-2 rounded-full bg-blue-selection"})}):!n&&H]})}function Ax({className:e,elementRef:t,item:n,isActive:r,isFirstItem:s,isPrimaryBackgroundColor:o,testId:a,hideOverflowMenu:i=!1}){const l=Un();return c.jsx("li",{className:O(!l&&"relative",s&&!l?"z-[15]":""),"data-testid":a,children:c.jsx(GIe,{className:e,isPrimaryBackgroundColor:o,conversation:n,isActive:r,elementRef:t,testId:a,hideOverflowMenu:i})})}const ku=Q({historyBucketToday:{id:"history.bucket.today",defaultMessage:"Today"},historyBucketYesterday:{id:"history.bucket.yesterday",defaultMessage:"Yesterday"},historyBucketLastSeven:{id:"history.bucket.lastSeven",defaultMessage:"Previous 7 Days"},historyBucketLastThirty:{id:"history.bucket.lastThirty",defaultMessage:"Previous 30 Days"}}),WIe=5;function HIe(e,t){const n=V();return p.useMemo(()=>e.reduce((r,s)=>{const o=new Date(s.update_time??s.create_time??0),a=yS(new Date,o);if(a===0)r.recent.today.items.push(s);else if(a<=1)r.recent.yesterday.items.push(s);else if(a<=7)r.recent.lastSeven.items.push(s);else if(a<=30)r.recent.lastThirty.items.push(s);else if(o2(o)){const i=pf(o),l=ZD(o),u=`${i}-${l}`;r.dynamicMonths[u]?r.dynamicMonths[u].items.push(s):r.dynamicMonths[u]={label:n.formatDate(o,{month:"long"}),items:[s]}}else{const l=`${pf(o)}-`;r.dynamicYears[l]?r.dynamicYears[l].items.push(s):r.dynamicYears[l]={label:n.formatDate(o,{year:"numeric"}),items:[s]}}return r},{recent:{today:{label:c.jsx(S,{...ku.historyBucketToday}),items:[]},yesterday:{label:c.jsx(S,{...ku.historyBucketYesterday}),items:[]},lastSeven:{label:c.jsx(S,{...ku.historyBucketLastSeven}),items:[]},lastThirty:{label:c.jsx(S,{...ku.historyBucketLastThirty}),items:[]}},dynamicMonths:{},dynamicYears:{}}),[t,e])}function zIe({activeId:e,bucketedItems:t,items:n,hasNextPage:r,isPrimaryBackgroundColor:s,infiniteScrollTriggerElementRef:o,hideOverflowMenu:a}){const i=Un();return c.jsx(c.Fragment,{children:[t.recent,t.dynamicMonths,t.dynamicYears].flatMap((l,u)=>c.jsx(p.Fragment,{children:Object.entries(l).map(([d,{items:f,label:h}],m)=>{if(d!=="today"&&!f.length)return null;const g=!!f.find(v=>n.length>0&&v.id===n[0]?.id);return f.length>0&&c.jsxs("div",{className:O(s&&"first:mt-0",i&&"first:mt-1",!i&&"relative mt-5 first:mt-0 last:mb-5"),children:[c.jsx("div",{className:O("sticky",!i&&"bg-token-sidebar-surface-primary",i?"top-[--sidebar-sticky-threshold] z-20":"top-0 z-20"),children:c.jsx("span",{className:"flex h-9 items-center",children:c.jsx($Ie,{$screenArch:i,children:h})})}),c.jsx("ol",{className:i?"flex flex-col gap-0.5":void 0,children:f.map((v,y)=>{const x=e===v.id,b=g&&y===0,w=r&&n[n.length-WIe-1]?.id===v.id?o:void 0;return x&&i?null:c.jsx(Ax,{item:v,hideOverflowMenu:a,isActive:x,isFirstItem:b,isPrimaryBackgroundColor:s,elementRef:w,testId:`history-item-${y}`},`history-item-${v.id}-${d}`)})})]},`${d}-${u}-${m}`)})},`category-${u}`))})}const hP=Q({unableToLoadHistory:{id:"history.unableToLoad",defaultMessage:"Unable to load history"},retryButton:{id:"history.retryButton",defaultMessage:"Retry"}});function qIe({activeId:e,isPrimaryBackgroundColor:t,hideOverflowMenu:n}){const r=Fe(),[s,o]=p.useState(!1),[a,i]=p.useState(0),l=h6(),u=Un(),d={},{conversations:f,hasNextPage:h,fetchNextPage:m,isLoading:g,isFetchingNextPage:v,isError:y}=o_(d),x=p.useRef(null),b=p.useCallback(T=>{g||T==null||(x.current?.disconnect(),x.current=new IntersectionObserver(M=>{M[0].isIntersecting&&h&&m()}),x.current.observe(T))},[g,h,m]);p.useEffect(()=>()=>{x.current?.disconnect()},[]),p.useMemo(()=>{xo.publish({kind:"refreshHistory",conversations:f})},[f]);const w=f;p.useEffect(()=>{const T=Hp(qhe(),Date.now());l(()=>{i(a+1)},T+1e3)},[a,l]);const _=w.length===0;p.useEffect(()=>{_||bF({namespace:v_.ChatPageLoad})?.logTiming("render_history_items")},[_]);const C=HIe(w,a);return c.jsxs(KIe,{$centered:g||y||_,$screenArch:u,children:[_&&g&&c.jsx(ni,{children:c.jsx(Ln,{className:"m-auto"})}),_&&y&&c.jsxs("div",{className:"p-3 text-center italic text-token-text-tertiary",children:[c.jsx(S,{...hP.unableToLoadHistory}),!s&&c.jsx("div",{className:"mt-1",children:c.jsx(ue,{as:"button",color:"primary",size:"small",className:"m-auto mt-2",onClick:()=>{o(!0),$o(r)},children:c.jsx(S,{...hP.retryButton})})})]}),!g&&!_&&c.jsx("div",{children:c.jsx(zIe,{activeId:e,bucketedItems:C,hasNextPage:h,items:w,isPrimaryBackgroundColor:t,infiniteScrollTriggerElementRef:b,hideOverflowMenu:n})}),v&&c.jsx("div",{className:"m-4 mb-5 flex justify-center",children:c.jsx(Ln,{})})]})}const YIe=X.memo(qIe),KIe=Ee.div`flex flex-col gap-2 text-token-text-primary text-sm
${({$centered:e,$screenArch:t})=>[e&&"h-full justify-center items-center empty:hidden",!t&&"mt-5 pb-2"]}`;function uv({label:e,tooltip:t,Icon:n}){return c.jsxs("div",{className:"flex items-center gap-1 text-sm font-semibold opacity-70",children:[n&&c.jsx(n,{className:"icon-sm"}),c.jsx("div",{children:e}),c.jsx(pt,{label:t,children:c.jsx(Xc,{className:"icon-sm ml-1"})})]})}function imt({clientThreadId:e,gizmoId:t}){const n=V(),r=Ul(),s=xF(),o=z$e(),{data:a}=NMe(t,!1,o),i=!!t,l=Ir(),u=sp(e);return o?l&&(!u||i)?c.jsx(uv,{label:n.formatMessage(aa.temporaryChat),tooltip:n.formatMessage(aa.temporaryChatTooltip),Icon:hw}):r&&!s&&!l?c.jsx(uv,{label:n.formatMessage(aa.memoryOff),tooltip:n.formatMessage(aa.memoryOffTooltip)}):a&&a?.memoryFullPct>=100?c.jsx(uv,{label:n.formatMessage(aa.memoryFull),tooltip:n.formatMessage(aa.memoryFullTooltip)}):null:null}const aa=Q({temporaryChat:{id:"ConversationPrivacyIndicator.temporaryChat",defaultMessage:"Temporary Chat"},temporaryChatTooltip:{id:"ConversationPrivacyIndicator.temporaryChatTooltip",defaultMessage:"Temporary Chats won't appear in your history, and ChatGPT won't remember anything you talk about."},memoryOff:{id:"ConversationPrivacyIndicator.memoryOff",defaultMessage:"Memory Off"},memoryOffTooltip:{id:"ConversationPrivacyIndicator.memoryOffTooltip",defaultMessage:"ChatGPT won't remember anything you talk about in this conversation."},memoryFull:{id:"2Eq+5y",defaultMessage:"Memory Full"},memoryFullTooltip:{id:"dNA8jQ",defaultMessage:"ChatGPT's memory is full. You can forget existing memories to make space."}}),QIe=Oe(()=>Ie(()=>import("./d1l9y8q6ryifmfne.js"),__vite__mapDeps([56,1,2,3,57,58,59,60,17])).then(e=>e.DebugConversationSidebar));function cmt({clientThreadId:e}){XIe();const t=es(),n=t?.includes("debug"),r=Ah(),s=we(a=>a.activeSidebar),o=t?.includes("debug")&&s==="debug";return!n||!o?null:c.jsx(QIe,{clientThreadId:e,slideOver:!Xwe(r),onClose:()=>Re.toggleActiveSidebar("debug"),isOpen:!0})}function XIe(){const t=es()?.includes("debug");p.useEffect(()=>{if(!t)return;const n=new AbortController;return document.addEventListener("keydown",r=>{r.target instanceof HTMLElement&&["input","textarea","select","button"].includes(r.target.tagName.toLowerCase())||r.key==="\\"&&Re.toggleActiveSidebar("debug")},{signal:n.signal}),()=>{n.abort()}},[t])}const ZIe=Oe(()=>Ie(()=>import("./di5pwpeo289n6y3h.js"),__vite__mapDeps([61,62,1,2,3])).then(e=>e.FannyPackInitializer));function lmt(){const{isFannyPackEnabled:e,isFannyPackInitializerEnabled:t}=__();return e||!t?null:c.jsx(ZIe,{})}const JIe={showFreeTrialLoadingPayment:!1,showConfirmDismissFreeTrial:!1,didCloseFreeTrial:!1},$_=He()(()=>({...JIe}));function umt(e){$_.setState({showFreeTrialLoadingPayment:e})}function dmt(e){$_.setState({showConfirmDismissFreeTrial:e})}function fmt(e){$_.setState({didCloseFreeTrial:e})}const eNe=()=>_e({queryKey:["userSurvey"],queryFn:async()=>Z.getActiveUserSurvey()}),tNe=()=>{const e=Fe();return St({mutationFn:async({surveyId:t,reason:n})=>Z.completeUserSurvey(t,n),onSuccess:async()=>{e.invalidateQueries({queryKey:["userSurvey"]})}})};function hmt(){const e=V(),[t,n]=p.useState(!1),r=eNe().data?.survey,s=tNe(),o=l=>{n(!0),r!=null&&s.mutate({surveyId:r.id,reason:l})},a=!t&&r!=null,i=Un();return a?c.jsx("div",{className:O("mb-1 bg-brand-blue-800",i?"mx-3 rounded-md":"mx-1 rounded-sm"),children:c.jsxs("div",{className:"flex flex-col items-center justify-stretch gap-3 p-3 text-sm text-white",children:[c.jsxs("div",{className:"flex w-full items-start",children:[c.jsxs("div",{className:"flex flex-grow flex-col gap-1",children:[c.jsx("div",{className:"font-bold",children:c.jsx(S,{id:"navigation.survey.title",defaultMessage:"We are asking a small group of people for their opinion"})}),c.jsx("div",{children:c.jsx(S,{id:"navigation.survey.description",defaultMessage:"Could you spare few minutes to take a short survey?"})})]}),c.jsx("button",{className:"text-white/25 hover:text-white/40",onClick:()=>o("dismissed"),"aria-label":e.formatMessage({id:"navigation.survey.dismiss",defaultMessage:"Dismiss survey"}),children:c.jsx(ii,{className:"icon-sm-adaptive"})})]}),c.jsxs("a",{href:r.link,target:"_blank",className:"flex w-full flex-row items-center justify-center gap-2 rounded bg-white/25 p-2 hover:bg-white/40",rel:"noreferrer",onClick:()=>o("link_clicked"),children:[c.jsx(po,{className:"icon-sm"}),c.jsx(S,{id:"navigation.survey.takeSurvey",defaultMessage:"Take survey"})]})]})}):null}function nNe(){return c.jsxs(c.Fragment,{children:[c.jsx(ie.Item,{icon:po,children:c.jsx("a",{href:cTe(),target:"_blank",onClick:()=>{P.logEvent(A.clickFaqLink)},className:"w-full",rel:"noreferrer",children:c.jsx(S,{id:"thread.helpAndFaq",defaultMessage:"Help & FAQ"})})}),c.jsx(ie.Item,{icon:po,children:c.jsx("a",{href:lTe(),target:"_blank",className:"w-full",rel:"noreferrer",children:c.jsx(S,{id:"thread.releaseNotes",defaultMessage:"Release notes"})})}),c.jsx(ie.Item,{icon:po,children:c.jsx("a",{href:"https://openai.com/policies",target:"_blank",onClick:()=>{P.logEvent(A.clickPrivacyPolicy)},className:"w-full",rel:"noreferrer",children:c.jsx(S,{id:"thread.termsAndPolicies",defaultMessage:"Terms & policies"})})})]})}const rNe=Ee.button`flex w-full items-center gap-2.5 rounded-lg px-2 text-token-text-primary hover:bg-token-sidebar-surface-secondary`,pmt=p.forwardRef(function({icon:t,children:n,...r},s){const o=Un();return c.jsxs(rNe,{ref:s,...r,className:O(o?"py-1.5":"h-10"),children:[c.jsx("div",{className:"flex h-6 w-6 items-center justify-center text-token-text-secondary",children:c.jsx(t,{className:"icon-md"})}),c.jsx("span",{className:"text-sm",children:n})]})});function sNe({title:e,description:t,confirmText:n,cancelText:r,isOpen:s=!1,onClose:o,onConfirm:a,primaryButtonColor:i="primary",children:l}){const u=V();return c.jsx(Ue,{isOpen:s,onClose:o,type:"success",title:e,description:t,primaryButton:c.jsx(kt.Button,{title:n??u.formatMessage(pP.confirmLabel),color:i,onClick:a}),secondaryButton:c.jsx(kt.Button,{title:r??u.formatMessage(pP.cancelLabel),color:"secondary",onClick:o}),children:l})}const pP=Q({confirmLabel:{id:"ConfirmModal.confirmLabel",defaultMessage:"Confirm"},cancelLabel:{id:"ConfirmModal.cancelLabel",defaultMessage:"Cancel"}});function mmt({clientThreadId:e,urlThreadId:t}){const n=V(),r=It(),s=Ir();return c.jsx(ni,{children:s&&e&&!!t&&c.jsx(sNe,{isOpen:!0,title:c.jsx(S,{id:"HistoryGizmoItem.leaveTempChatTitle",defaultMessage:"Leave Temporary Chat?"}),description:c.jsx(S,{id:"HistoryGizmoItem.leaveTempChatDescription",defaultMessage:"Temporary Chats don't appear in your history, so you won't be able to come back to it."}),confirmText:n.formatMessage({id:"HistoryGizmoItem.leaveTempChatConfirm",defaultMessage:"Leave Temporary Chat"}),onClose:()=>{r("/")},onConfirm:()=>{t$.setIsTemporaryChatEnabled(!1)}})})}function oNe({id:e,label:t,checked:n,onChange:r,disabled:s,className:o,labelClassName:a,readOnly:i,labelSide:l="right"}){const u=t&&c.jsx("label",{className:O("form-check-label text-token-text-primary",a),htmlFor:e,children:t});return c.jsxs("div",{className:"form-check flex items-center gap-2",children:[l==="left"&&u,c.jsx("input",{className:O("form-check-input float-left h-4 w-4 appearance-none rounded-sm border border-gray-300 bg-white bg-contain bg-center bg-no-repeat align-top transition duration-200 checked:border-blue-600 checked:bg-blue-600 focus:outline-none",s?"cursor-not-allowed":"cursor-pointer",o),type:"checkbox",disabled:s,onChange:r,checked:n,readOnly:i,id:e,"data-testid":e}),l==="right"&&u]})}const gmt=136,vmt=Ee.div`draggable no-draggable-children sticky top-0 p-3 mb-1.5 flex items-center justify-between z-10 h-header-height font-semibold bg-token-main-surface-primary`,ymt=p.forwardRef(function(t,n){const{tooltip:r,className:s,testId:o,...a}=t,i=c.jsx(ue,{color:t.color??"secondary",size:"medium",...a,className:s,ref:n,"data-testid":o});return r!=null?c.jsx(pt,{label:r,children:i}):i});function bmt({label:e,disabled:t=!1,tooltipText:n,value:r}){const s=p.useId();return c.jsx("div",{className:O("flex items-center gap-2",t?"opacity-50":""),children:c.jsx(d$,{disabled:n==null,label:n,side:"right",children:c.jsxs("label",{htmlFor:s,className:"flex cursor-pointer items-center gap-1",children:[c.jsx(SL,{id:s,value:r,disabled:t,className:"mr-1 flex h-5 w-5 shrink-0 items-center justify-center rounded-full border border-gray-500 bg-white dark:border-gray-600 dark:bg-gray-700",children:c.jsx(_L,{className:"h-2 w-2 rounded-full bg-gray-950 dark:bg-white"})}),e]})})})}function xmt(e){return c.jsx(oNe,{...e,className:O("!rounded border-gray-950 checked:!bg-black dark:border-gray-600 dark:bg-gray-700",e.className)})}function aNe(){return $t("2067628123").value}var iNe=(e=>(e.Header="Header",e.HeaderTop="HeaderTop",e.HeaderBottom="HeaderBottom",e))(iNe||{}),cNe=(e=>(e.Box="Box",e.ItemActions="ItemActions",e.PromptTextareaAction="PromptTextareaAction",e.BannerTermsDisclaimer="BannerTermsDisclaimer",e.BannerSignup="BannerSignup",e.BannersRateLimit="BannersRateLimit",e.BannerSidekickAnnouncement="BannerSidekickAnnouncement",e.BannerMemoryFull="BannerMemoryFull",e.ParagenControls="ParagenControls",e.AdvancedVoiceOnMobileAnnouncement="AdvancedVoiceOnMobileAnnouncement",e.SearchBrowserExtensionAnnouncement="SearchBrowserExtensionAnnouncement",e.SearchBrowserExtensionReactiveAnnouncement="SearchBrowserExtensionReactiveAnnouncement",e))(cNe||{}),lNe=(e=>(e.DallePromptControls="DallePromptControls",e))(lNe||{});const mP={contentAreas:{Header:{dimensions:null,contentId:null},HeaderTop:{dimensions:null,contentId:null},HeaderBottom:{dimensions:null,contentId:null}},sharedProps:null};function uNe(){const e=He(p6(js(()=>mP)));function t(n,r){e.setState(s=>{s.contentAreas[n].dimensions=r})}return{reset:()=>e.setState(mP),useContentAreaId(n){return e(r=>r.contentAreas[n].contentId)},useHasAnnouncementInHeader(){const n=e(r=>r.contentAreas.HeaderTop.contentId);return n==="AdvancedVoiceOnMobileAnnouncement"||n==="BannerSidekickAnnouncement"},useContentAreaApi(n){const r=p.useCallback(o=>e.setState(a=>{a.contentAreas[n].contentId=o}),[n]),s=p.useCallback(()=>{e.setState(o=>{o.contentAreas[n].contentId=null})},[n]);return{set:r,remove:s}},useContentAreaDimensions(n,r){return e(s=>r(s.contentAreas[n].dimensions))},useContentAreaResizeObserver(n,r){p.useEffect(()=>{if(r.current){t(n,r.current.getBoundingClientRect());const s=new ResizeObserver(o=>{for(const a of o)t(n,a.contentRect)});return s.observe(r.current),()=>{s.disconnect(),t(n,null)}}},[r,n])},useIsHeaderContentAreaPopulated(){return e(n=>!!n.contentAreas.HeaderTop.contentId||!!n.contentAreas.HeaderBottom.contentId)},useSharedProps(n){return e(r=>n?n(r.sharedProps):r.sharedProps)},useSetSharedProps(){return p.useCallback(n=>{e.setState(r=>{r.sharedProps=n})},[])}}}const f4=p.createContext(null);function wmt({children:e}){return c.jsx(f4.Provider,{value:{store:p.useRef(uNe()).current},children:e})}function O_(){const e=p.useContext(f4);if(!e)throw new Error("usePromptTextareaContext must be used within a PromptTextareaProvider");return e}function dNe(e){return e!=null&&(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.tagName==="SELECT"||!!e.getAttribute("contenteditable"))}function Smt(e){p.useEffect(()=>{const{document:t}=e;if(!t)return;const n=t.defaultView;if(!n)return;const r=s=>{s.code!=="Space"&&(!s.metaKey||s.key==="v")&&!dNe(t.activeElement)&&e.focus()};return n.addEventListener("keypress",r),()=>{n.removeEventListener("keypress",r)}},[e])}function _mt({fullHeight:e,isStaticSharedThread:t,children:n,withVerticalPadding:r,withHorizontalPadding:s}){const o=Lh();s=s&&!o;const a=s&&!t;return c.jsx("div",{className:O("m-auto text-base",r&&"py-[18px]",s&&"px-3 md:px-4",a&&"w-full md:px-5 lg:px-4 xl:px-5",e&&"h-full"),children:n})}function Cmt({children:e}){const t=Pi(),n=zp();return c.jsx("div",{className:O("mx-auto flex flex-1 gap-4 text-base md:gap-5 lg:gap-6",n?"md:max-w-3xl":"md:max-w-3xl lg:max-w-[40rem] xl:max-w-[48rem]",t&&"-mx-4"),children:e})}function Tmt({children:e}){const t=Pi(),n=zp();return Un()?c.jsx("div",{className:"mx-auto mt-[var(--screen-optical-offset-amount)] flex h-full max-w-[var(--screen-content-ideal-size)] flex-col justify-center text-base",children:e}):c.jsx("div",{className:O("mx-auto flex h-full w-full flex-col text-base lg:justify-center",n?"md:max-w-3xl":"md:max-w-3xl lg:max-w-[40rem] xl:max-w-[48rem]",t&&"-mx-4"),children:e})}function Mmt(){const e=V();return c.jsx(ue,{onClick:()=>{Re.openModal(wt.SharedConversationModeration)},className:"w-1/3",children:e.formatMessage({id:"thread.sharedConversation.moderate",defaultMessage:"Moderate conversation"})})}function h4({className:e,...t}){return c.jsx("textarea",{className:O("form-textarea w-full rounded-lg border border-token-border-light bg-token-main-surface-secondary text-sm text-token-text-primary focus:border-token-text-primary focus:shadow-none focus:outline-none focus:ring-token-text-primary",e),...t})}function fNe(e,t){const n=e??t??0;return O(e!=null&&e!=t&&"opacity-50 dark:opacity-60",n>4?"text-brand-purple":n>3?"text-green-500":n>2?"text-yellow-500":n>1?"text-orange-500":"text-red-500")}function hNe(e){switch(e){case 1:return Mn.hoverRating1;case 2:return Mn.hoverRating2;case 3:return Mn.hoverRating3;case 4:return Mn.hoverRating4;case 5:return Mn.hoverRating5}}function pNe(e){return _e({queryFn:async()=>ft.getUserReview(e),queryKey:["gizmo","review",{gizmoId:e}],enabled:e!=null})}const mNe=({rating:e,onRating:t,className:n})=>{const[r,s]=p.useState(),o=V();return c.jsx("div",{className:O("flex flex-row",n),children:[1,2,3,4,5].map(a=>{const i=c.jsx(vU,{className:O("icon-2xl cursor-pointer",(r??e??0)>=a?fNe(r,e):"text-token-main-surface-tertiary")}),l=hNe(r??0),u=l&&o.formatMessage(l);return c.jsx("div",{onClick:()=>{t(a)},onMouseEnter:()=>{s(a)},onMouseLeave:()=>{s(void 0)},className:"p-1",children:l?c.jsx(pt,{label:u,side:"top",sideOffset:4,children:i}):i},a)})})},Emt=({gizmo:e})=>MS(wt.GPTReview)?c.jsx(gNe,{gizmo:e}):null,gNe=({gizmo:e})=>{const t=an(),n=()=>Re.closeModal(wt.GPTReview),r=V(),s=ze(),[o,a]=p.useState(""),[i,l]=p.useState(!1),u=pNe(e.gizmo.id),d=pG(e.gizmo.id),[f,h]=p.useState(),m=f===u.data?.rating;p.useEffect(()=>{u.data!=null&&f==null&&h(u.data.rating)},[u.data,f]),p.useEffect(()=>{P.logEvent(A.showRatingModal,{gizmo_id:e.gizmo.id})},[e.gizmo.id]);const g=u.data!=null,v=!e.gizmo.tags?.includes(sl.FirstParty)&&e.gizmo.author.will_receive_support_emails;return c.jsx(Ue,{type:"success",title:c.jsxs("div",{children:[c.jsx(S,{...Mn.title}),c.jsxs("div",{className:"align-end mt-2 flex text-sm font-normal",children:[g?c.jsx(S,{...Mn.subtitleChange}):c.jsx(S,{...Mn.subtitle}),c.jsx(pt,{label:r.formatMessage(Mn.subtitleTooltip),className:"ml-1 flex cursor-pointer items-center pl-1",sideOffset:0,children:c.jsx("div",{className:"icon-xs flex items-center justify-center rounded-full border border-token-text-tertiary text-[8px] font-bold text-token-text-tertiary",children:"i"})})]})]}),isOpen:!0,onClose:n,size:"custom",showCloseButton:!0,className:"max-w-xl overflow-y-auto",hideSeparator:!0,children:c.jsxs("div",{className:"flex flex-grow flex-col space-y-8",children:[c.jsx(mNe,{rating:f,onRating:h,className:"mx-auto flex flex-row items-center"}),v&&c.jsxs("div",{children:[c.jsx(h4,{className:"mb-1 w-full resize-none overflow-y-auto rounded-md bg-transparent focus:border-gray-200 focus:ring-gray-200 dark:focus:border-white dark:focus:ring-white",placeholder:r.formatMessage(Mn.messagePlaceholder),value:o,rows:1,onChange:y=>a(y.target.value)}),c.jsxs("div",{className:O("flex flex-row items-center space-x-2 self-start",o.length>0?"text-token-text-primary":"text-token-text-tertiary"),children:[c.jsx("input",{type:"checkbox",className:"rounded",checked:i,onChange:y=>l(y.target.checked)}),t&&c.jsx("span",{className:"text-sm",children:c.jsx(S,{...Mn.includeFrom,values:{email:c.jsx("strong",{children:t.email})}})})]})]}),c.jsx(ue,{color:"primary",disabled:m,onClick:async()=>{if(f==null){s.warning("Please select a rating");return}P.logEvent(A.submitRatingModal,{gizmo_id:e.gizmo.id,rating:f}),await d.mutateAsync({rating:f,message:o.length>0?o:void 0,includeFrom:o.length>0?i:void 0}),s.success(r.formatMessage(Mn.successToast),{duration:3}),n()},children:c.jsx(S,{...Mn.submit})})]})})},Mn=Q({title:{id:"GizmoReviewModal.title",defaultMessage:"Leave Feedback"},subtitle:{id:"GizmoReviewModal.subtitle",defaultMessage:"How would you rate this GPT?"},subtitleChange:{id:"GizmoReviewModal.subtitleChange",defaultMessage:"Would you like to change your rating?"},subtitleTooltip:{id:"GizmoReviewModal.subtitleTooltip",defaultMessage:"Stars will be public and anonymous"},messagePlaceholder:{id:"GizmoReviewModal.messagePlaceholder",defaultMessage:"Add an optional private email to the creator"},submit:{id:"GizmoReviewModal.submit",defaultMessage:"Submit"},successToast:{id:"GizmoReviewModal.successToast",defaultMessage:"Review sent"},includeFrom:{id:"GizmoReviewModal.includeFrom",defaultMessage:"Include my email address {email}"},hoverRating1:{id:"GizmoReviewModal.hoverRating1",defaultMessage:"Bad"},hoverRating2:{id:"GizmoReviewModal.hoverRating2",defaultMessage:"Okay"},hoverRating3:{id:"GizmoReviewModal.hoverRating3",defaultMessage:"Good"},hoverRating4:{id:"GizmoReviewModal.hoverRating4",defaultMessage:"Great!"},hoverRating5:{id:"GizmoReviewModal.hoverRating5",defaultMessage:"Excellent!"}});function I_({isFirstParty:e,src:t,alt:n,className:r,gizmoId:s,gizmoEmoji:o}){return c.jsx("div",{className:r,children:t!=null?c.jsx("div",{className:"gizmo-shadow-stroke overflow-hidden rounded-full",children:c.jsx("img",{src:t,className:"h-full w-full bg-token-main-surface-secondary",alt:n??"GPT",width:80,height:80})}):c.jsx("div",{className:O("relative flex h-full items-center justify-center text-token-text-primary","gizmo-shadow-stroke rounded-full bg-token-main-surface-primary"),children:e?c.jsx(RA,{className:"h-2/3 w-2/3"}):c.jsx(yU,{className:"h-2/3 w-2/3 text-gray-400"})})})}function vNe({gizmoId:e,className:t}){const{data:n}=hi(e);return c.jsx(I_,{gizmoId:e,src:n?.gizmo.display.profile_picture_url,isFirstParty:n?.gizmo.tags?.includes(sl.FirstParty)??!1,className:t})}function yNe(e){return e!==e}var bNe=yNe;function xNe(e,t,n){for(var r=n-1,s=e.length;++r<s;)if(e[r]===t)return r;return-1}var wNe=xNe,SNe=FO,_Ne=bNe,CNe=wNe;function TNe(e,t,n){return t===t?CNe(e,t,n):SNe(e,_Ne,n)}var MNe=TNe,ENe=MNe;function kNe(e,t){var n=e==null?0:e.length;return!!n&&ENe(e,t,0)>-1}var PNe=kNe;function ANe(e,t,n){for(var r=-1,s=e==null?0:e.length;++r<s;)if(n(t,e[r]))return!0;return!1}var $Ne=ANe,dv=m6,ONe=g6,INe=f$,NNe=1/0,RNe=dv&&1/INe(new dv([,-0]))[1]==NNe?function(e){return new dv(e)}:ONe,jNe=RNe,DNe=v6,LNe=PNe,FNe=$Ne,BNe=y6,UNe=jNe,VNe=f$,GNe=200;function WNe(e,t,n){var r=-1,s=LNe,o=e.length,a=!0,i=[],l=i;if(n)a=!1,s=FNe;else if(o>=GNe){var u=t?null:UNe(e);if(u)return VNe(u);a=!1,s=BNe,l=new DNe}else l=t?[]:i;e:for(;++r<o;){var d=e[r],f=t?t(d):d;if(d=n||d!==0?d:0,a&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),i.push(d)}else s(l,f,n)||(l!==i&&l.push(f),i.push(d))}return i}var HNe=WNe,zNe=ei,qNe=HNe;function YNe(e,t){return e&&e.length?qNe(e,zNe(t)):[]}var KNe=YNe;const N_=ge(KNe),QNe=({actions:e,title:t,description:n,onDismiss:r})=>{const s=V(),o=e?.primaryAction?.text?s.formatMessage(e.primaryAction.text):void 0,a=e?.secondaryAction?.text?s.formatMessage(e.secondaryAction.text):void 0;return c.jsx(Ai,{title:t,content:n,onDismiss:r,primaryCtaText:o,onPrimaryCtaClick:e?.primaryAction?.onClick??void 0,secondaryCtaText:a,onSecondaryCtaClick:e?.secondaryAction?.onClick??void 0,isElevated:!0})},XNe=({clientThreadId:e,rateLimitInfo:t,onDismiss:n})=>{const{name:r,title:s,call_to_action:o,description:a}=t,i=Ge(),l=ip(!0),u=b6(),d=sp(e),f=i?.planType??"unknown",h=Go(),m=u&&"block_reason"in u?u.block_reason:null,g="banner_description",v={type:r||"unknown",location:g,plan_type:f,is_new_conversation:d,is_hard_block:!!u,hard_block_reason:m??"",call_to_action:o},y=It(),x=_n(),{isUnauthenticated:b}=Ut(),w=Dl(),_=Oi(rn.signUpButtonText),C=R=>{switch(R){case ys.AUTHENTICATE:return{text:w?rn.logInButtonText:_,onClick:()=>{x({authType:w?"login":"signup",callback:$=>{w?P.logLogInButtonClicked({location:`Rate limit banner - ${r}`,provider:$}):P.logSignUpButtonClicked({location:`Rate limit banner - ${r}`,provider:$})}})}};case ys.AUTHENTICATE_SECONDARY:return{text:w?_:rn.logInButtonText,onClick:()=>{x({authType:w?"signup":"login",callback:$=>{w?P.logSignUpButtonClicked({location:`Rate limit banner - ${r}`,provider:$}):P.logLogInButtonClicked({location:`Rate limit banner - ${r}`,provider:$})}})}};case ys.GET_PLUS:return{text:gP.getPlusButton,onClick:()=>{P.logRateLimitGetPlusButtonClicked(v),b?x({authType:w?"login":"signup",shouldOpenPaymentModalOnAuth:!0,callback:$=>{w?P.logLogInButtonClicked({location:"Rate limit banner Get Plus upsell",provider:$}):P.logSignUpButtonClicked({location:"Rate limit banner Get Plus upsell",provider:$})}}):zs(y,"Prompt textarea rate limit banner")}};case ys.NEW_CHAT:return{text:gP.newChatButton,onClick:()=>{l({modelId:"",location:g})}}}};nw(()=>{P.logRateLimitBannerShown(v)});let[T,M]=o??[];T===ys.AUTHENTICATE&&h&&(M=ys.AUTHENTICATE_SECONDARY);const E={primaryAction:C(T),secondaryAction:C(M)};return c.jsx(QNe,{onDismiss:n,title:s,description:a,actions:E})},gP=Q({getPlusButton:{id:"TeyLcp",defaultMessage:"Get Plus"},newChatButton:{id:"7OvnJ5",defaultMessage:"New chat"}}),ZNe=e=>($t("1028682714"),c.jsx(XNe,{...e})),p4=Ee.div`group flex h-10 items-center gap-2 rounded-lg px-2 hover:bg-token-main-surface-secondary text-sm text-token-text-primary`;function m4(){const{data:e,isLoading:t}=dG({cutId:"recent",limit:8}),{data:n,isLoading:r}=fG();return{isLoading:t||r,recent:e,pinned:n}}function JNe({query:e,onSelectGizmo:t,selectedIdx:n},r){const s=Vo(),o=p.useRef([]),{isLoading:a,recent:i,pinned:l}=m4();p.useImperativeHandle(r,()=>({handleEnterOnIndex:f=>{if(!d[f])return f<u.length?u[f].resource:"create"},getResultsLength:()=>u.length+1,scrollToItem:f=>{const h=o.current[f];h&&h.scrollIntoView({behavior:"instant",block:"nearest"})}}));let u=[];if(a)return c.jsx("div",{className:"absolute right-4 top-0 flex h-full items-center justify-center",children:c.jsx(Ln,{})});i&&u.push(...i.pages.flatMap(f=>f.list.items).map(f=>({resource:f.resource,from:"recent"}))),l&&u.push(...l.items.map(f=>({resource:f,from:"pinned"}))),u=N_(u,f=>f.resource.gizmo.id);const d=u.map(f=>f.resource.gizmo.tags?.includes(sl.WorkspaceDisabled));return e&&e!==""&&(u=u.filter(f=>(f.resource.gizmo.display.name.toLowerCase()+f.resource.gizmo.display.description?.toLowerCase()+f.resource.gizmo.author.display_name?.toLowerCase()).includes(e?.toLowerCase()))),c.jsxs("div",{className:"max-h-40 overflow-y-auto",children:[u.map((f,h)=>c.jsx("div",{ref:m=>{o.current[h]=m},tabIndex:h,onClick:()=>{d[h]||t(f.resource)},children:c.jsx(rRe,{gizmoResource:f.resource,from:f.from,showDescription:s,isSelected:n===h,grayedOut:d[h]})},f.resource.gizmo.id)),c.jsx("div",{ref:f=>{o.current[u.length]=f},tabIndex:u.length,onClick:()=>{t("create")},children:c.jsx(tRe,{isSelected:n===u.length})},"create")]})}const eRe=p.forwardRef(JNe),tRe=({isSelected:e})=>c.jsx(p4,{className:e?"bg-token-main-surface-secondary":"",children:c.jsxs(si,{to:"/gpts/editor",target:"_blank",className:"flex flex-row space-x-2 font-semibold",children:[c.jsx("span",{className:"self-center",children:c.jsx(lw,{className:"icon-sm"})}),c.jsx("span",{children:c.jsx(S,{...g4.dropdownCreateLabel})})]})}),nRe=({onClick:e,onClose:t})=>{const[n,r]=p.useState(null),s=p.useRef(null),o=p.useRef(null),[a,i]=p.useState(0),l=V(),u=d=>{P.logEvent(A.mentionsClickGizmo,{gizmo_id:d==="create"?"create":d.gizmo.id}),d!=="create"&&e(d)};return c.jsxs(c.Fragment,{children:[c.jsx("input",{autoFocus:!0,placeholder:l.formatMessage(g4.searchPlaceholder),ref:s,onKeyDown:d=>{const f=o.current?.getResultsLength()??0;if((d.key==="Escape"||d.key==="Backspace"&&!n)&&(d.preventDefault(),t()),d.key==="Enter"||d.key==="Tab"){d.preventDefault();const h=o.current?.handleEnterOnIndex(a);if(!h)return;h==="create"?(window.open("/gpts/editor","_blank"),t()):u(h)}if(d.key==="ArrowDown"&&a<f-1){d.preventDefault();const h=a+1;o.current?.scrollToItem(h),i(h)}if(d.key==="ArrowUp"&&a>0){d.preventDefault();const h=a-1;o.current?.scrollToItem(h),i(h)}},onChange:d=>{r(d.target.value),i(0)},className:"w-full border-0 bg-token-main-surface-primary p-2 text-sm focus:outline-none"}),c.jsx(eRe,{ref:o,query:n,selectedIdx:a,onSelectGizmo:u})]})},kmt=({onClick:e,onClose:t})=>{const n=x6(),r=!!n;return nw(()=>{P.logEvent(A.mentionsOpened,{gizmo_selector_disabled:r})}),r?c.jsx(ZNe,{clientThreadId:IA,rateLimitInfo:n}):c.jsx("div",{onBlur:s=>{s.currentTarget.contains(s.relatedTarget)||t()},className:"popover rounded-2xl border border-token-border-light bg-token-main-surface-primary p-2 shadow-lg",children:c.jsx(nRe,{onClick:e,onClose:t})})};function rRe({gizmoResource:e,from:t,showDescription:n,isSelected:r,grayedOut:s}){const o=!!e.gizmo.tags?.includes(sl.FirstParty);return c.jsxs(p4,{className:O(r?"bg-token-main-surface-secondary":"",s&&"opacity-50"),children:[c.jsx(I_,{isFirstParty:o,src:e.gizmo.display.profile_picture_url,className:O("icon-xl h-7 w-7 flex-shrink-0",s&&"grayscale group-hover:grayscale-0")}),c.jsxs("div",{className:"flex h-fit grow flex-row justify-between space-x-2 overflow-hidden text-ellipsis whitespace-nowrap",children:[c.jsxs("div",{className:"flex flex-row space-x-2",children:[c.jsx("span",{className:"shrink-0 truncate font-semibold",children:e.gizmo.display.name}),n&&c.jsx("span",{className:"flex-grow truncate text-sm text-token-text-tertiary sm:max-w-xs lg:max-w-md",children:e.gizmo.display.description})]}),c.jsx("span",{className:"shrink-0 self-center",children:t==="recent"?c.jsx(E$,{className:"icon-sm"}):c.jsx(bU,{className:"icon-sm"})})]})]})}const g4=Q({talkingTo:{id:"TaggingDropdown.talkingTo",defaultMessage:"Talking to"},dropdownCreateLabel:{id:"TaggingDropdown.dropdownCreateLabel",defaultMessage:"Create a GPT"},searchPlaceholder:{id:"TaggingDropdown.searchPlaceholder",defaultMessage:"Search recent and pinned GPTs"}}),Yt={filePickerStarted:e=>{P.logEvent(A.contextConnectorsPickerStarted,{contextConnector:e})},filePickerLoaded:e=>{P.logEvent(A.contextConnectorsPickerLoaded,{contextConnector:e})},filePickerPicked:(e,t)=>{P.logEvent(A.contextConnectorsPickerPicked,{contextConnector:e,numFiles:t})},filePickerCancelled:e=>{P.logEvent(A.contextConnectorsPickerCancelled,{contextConnector:e})},linkPasted:e=>{P.logEvent(A.contextConnectorsLinkPasted,{...e})},linkMetadataFetchStarted:e=>{P.logEvent(A.contextConnectorsLinkMetadataFetchStarted,{contextConnector:e})},linkMetadataFetchSucceeded:(e,t)=>{P.logEvent(A.contextConnectorsLinkMetadataFetchSucceeded,{contextConnector:e,mimeType:t})},linkMetadataFetchFailed:(e,t)=>{P.logEvent(A.contextConnectorsLinkMetadataFetchFailed,{contextConnector:e,reason:String(t)})},oauthUpsellButtonClick:(e,t)=>{P.logEvent(A.contextConnectorsOAuthUpsellButtonClick,{contextConnector:e,choice:t})},expiredAccessTokenUsed:(e,t)=>{P.logEvent(A.contextConnectorsExpiredAccessTokenUsed,{contextConnector:e,useCase:t})}};function pm(){const e=an(),t=Da("1967546325").config,n=t.get("gdrivePicker",!1),r=t.get("o365Picker",!1),s=t.get("gdriveLink",!1),o=t.get("o365PersonalLink",!1),a=t.get("o365BusinessLink",!1),i=t.get("testCtor1Link",!1),l=t.get("testCtor2Link",!1),u=t.get("gdrivePercentage",0),d=t.get("o365Percentage",0),f=t.get("testCtor1Percentage",0),h=t.get("testCtor2Percentage",0),m=t.get("loadTestPercentage",0),g=t.get("showWorkspaceSettings",!1),v=e?sRe(e.id):null;return p.useMemo(()=>({gdriveStatus:hs(n,v,u),o365Status:hs(r,v,d),gdriveLinkStatus:hs(s,v,u),o365PersonalLinkStatus:hs(o,v,d),o365BusinessLinkStatus:hs(a,v,d),confluenceLinkStatus:hs(i,v,f),jiraLinkStatus:hs(l,v,h),loadTest:hs(!0,v,m)==="true",showWorkspaceSettings:g}),[n,v,u,r,d,s,o,a,i,f,l,h,m,g])}function hs(e,t,n){return!e||t==null?"false":t<n?"true":"ifConnected"}function sRe(e){const n=oRe(e)%100;return Math.abs(n)}function oRe(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)-t+r,t|=0}return t}var aRe=Yx,iRe=bw,cRe=ei;function lRe(e,t){var n={};return t=cRe(t),iRe(e,function(r,s,o){aRe(n,s,t(r,s,o))}),n}var uRe=lRe;const dRe=ge(uRe);function fRe(e){var t=function(r,s){return X.createElement(e,w6({},r,{forwardedRef:s}))},n=e.displayName||e.name;return t.displayName="withForwardedRef("+n+")",p.forwardRef(t)}var vP=Object.keys,hRe=function(t,n){if(t===n)return!0;if(!(t instanceof Object)||!(n instanceof Object))return!1;for(var r=vP(t),s=r.length,o=0;o<s;o++)if(!(r[o]in n))return!1;for(var o=0;o<s;o++)if(t[r[o]]!==n[r[o]])return!1;return s===vP(n).length},pRe=function(e,t){var n=window.getComputedStyle(t),r=n.borderBottomWidth,s=n.borderTopWidth,o=n.fontSize,a=n.lineHeight,i=n.paddingBottom,l=n.paddingTop,u=a==="normal"?parseFloat(o)*1.2:parseFloat(a),d=e===0?0:u*e+parseFloat(r)+parseFloat(s)+parseFloat(i)+parseFloat(l),f=t.scrollHeight+parseFloat(r)+parseFloat(s);return Math.max(d,f)},jd=function(e,t){if(t){var n="hidden",r=window.getComputedStyle(t).maxHeight;if(r!=="none"){var s=parseFloat(r);s<t.scrollHeight&&(n="")}t.style.height="0",t.style.overflowY=n,t.style.height="".concat(pRe(e,t),"px")}},mRe=function(e){var t=p.useRef(e),n=p.useRef(0);return hRe(e,t.current)||(t.current=e,n.current+=1),p.useMemo(function(){return t.current},[n.current])},yP=typeof window>"u"?Function.prototype:p.useLayoutEffect,gRe=function(e){var t=e.forwardedRef,n=i1(e,["forwardedRef"]),r=typeof t=="function",s=mRe(n.style),o=p.useRef(),a=r||!t?o:t,i=n.rows?parseInt(""+n.rows,10):0,l=n.onChange,u=n.onInput,d=i1(n,["onChange","onInput"]);yP(function(){jd(i,a.current)},[n.className,n.value,a,i,s]),yP(function(){if(window.ResizeObserver){var m=new ResizeObserver(function(){jd(i,a.current)});return m.observe(a.current),function(){m.disconnect()}}},[a,i]);var f=p.useCallback(function(m){l?.(m),u?.(m),jd(i,a.current)},[l,u,a,i]),h=p.useCallback(function(m){a.current=m,r&&t(m)},[t,r,a]);return X.createElement("textarea",S6({},d,{onInput:f,ref:h,rows:i}))};const Pmt=fRe(gRe);class vRe extends nG{textArea=null;get document(){return this.textArea?.ownerDocument}setValue(t){this.textArea&&(typeof t=="string"?this.textArea.value=t:this.textArea.value=t(this.textArea.value))}getSystemHints(){return[]}replaceSlashCommandTokensWithText(){}isEmpty(){const t=this.textArea?.value;return t==null||t.trim().length===0}trimLeadingText(t){let n=!1;return this.setValue(r=>r.startsWith(t)?(n=!0,r.replace(t,"")):r),n&&this.textArea&&this.textArea.setSelectionRange(this.textArea.selectionStart-t.length,this.textArea.selectionEnd-t.length),n}replaceAll(t,n){this.setValue(r=>r.replaceAll(t,n))}appendText(t){this.setValue(n=>n+t)}focus(){this.textArea?.focus()}setText(t){this.setValue(t)}setPlaceholder(){}getCurrentText(){return this.textArea?.value||""}hasMultipleLines(){return this.getCurrentText().includes(`
`)}resize(t){this.textArea&&jd(t,this.textArea)}isReady(){return this.textArea!==null}acceptLegacyKeydown(){return!0}getSelectionStart(){return this.textArea?.selectionStart??0}subscribe(t,n){return this.textArea?.addEventListener(t,n),()=>{this.textArea?.removeEventListener(t,n)}}}const $x="open-connector";function yRe(){const e=It(),t=Io(),[n]=Ro(),r=n.get($x),s=p.useCallback(()=>{const a=new URLSearchParams(t.search);a.delete($x),e({...t,search:a.toString()},{replace:!0})},[t,e]);return{connector:Object.values(q).find(a=>a===r),clearParam:s}}async function bRe(e,t){const n=`https://chat.openai.com/aip/${e.id}/oauth/callback`,r=await Z.pluginOauthRedirect(e.id,n,t);window.location.href=r.redirect_uri}async function v4(e,t,n,r){const s=await Z.connectorOauthRedirect(e.id,n,t,r);window.location.href=s.redirect_uri}function xRe(e){switch(e){case nr.Link:return"link_paste_popover";case nr.Picker:return"file_upload_menu"}}async function Amt(e){await Z.deleteUserConnectedApp(e),window.location.reload()}const _a={uploadFile:wRe,uploadPickedFile:_Re,doContextConnectorOauthRedirect:SRe};function wRe(e,t,n,r,s,o,a,i){xn.uploadFile(e,$a(t),t,i??ot.Retrieval,n,r,s,{gizmoId:a},o)}async function SRe(e,t,n,r){if(!t)return;n();let s="";r===nr.Picker&&(s=`${$x}=${t.type}`),e??="/",s&&(e.includes("?")?e+=`&${s}`:e+=`?${s}`),v4({id:t.id},xRe(r),`${window.location.origin}/ccc/${t.id}/oauth/callback`,e)}function _Re(e,t,n,r,s,o,a,i,l){let u=t.title;n===q.GDRIVE&&(u=t.syntheticExtension?`${t.title}.${t.syntheticExtension}`:t.title);const d=t.mimeType.split(";")[0],f=d.startsWith("image/");if(s?.includes(d)===!1||f&&!r.includes(d)){l.danger(i.formatMessage(CRe.unsupportedFileType,{fileName:u}),dh);return}xn.uploadFile(e,t.id,new File([],u,{type:d}),ot.Retrieval,r,i,l,{gizmoId:a},o,{contextConnector:n,sourceUrl:t.url,syntheticExtension:t.syntheticExtension,type:nr.Picker,o365DriveId:t.o365DriveId})}function R_(e,t){e.access_token&&e.expires_at!=null&&e.expires_at*1e3<=Date.now()&&Yt.expiredAccessTokenUsed(e.type,t)}const CRe=Q({unsupportedFileType:{id:"ContextConnectorUtils.unsupportedFileType",defaultMessage:"{fileName} is not a supported file type"}}),TRe="77377267392",y4="AIzaSyAOHzpLbFWAcLwrOn1IvQeVd0jHRntTlPk",$mt="gdrive-sync-connector-2216c16c-b5a5-43e9-a654-e6eb9a6a2227";var Ss=(e=>(e.OneDrive_BUSINESS_DRIVE_ITEMS="https://graph.microsoft.com/v1.0/me/drive/items",e.OneDrive_BUSINESS_DRIVE_ROOT="https://graph.microsoft.com/v1.0/me/drive/root",e.OneDrive_BUSINESS_SHARES="https://graph.microsoft.com/v1.0/shares",e.OneDrive_PERSONAL_DRIVE_ITEMS="https://api.onedrive.com/v1.0/drives",e.OneDrive_PERSONAL_SHARES="https://api.onedrive.com/v1.0/shares",e))(Ss||{});const MRe=new Map;function b4(){const{gdriveLinkStatus:e,o365BusinessLinkStatus:t,o365PersonalLinkStatus:n,confluenceLinkStatus:r,jiraLinkStatus:s}=pm();return j_(e,t,n,r,s)}function mm(){const{gdriveStatus:e,o365Status:t}=pm();return j_(e,t,t)}function Omt(){const{gdriveStatus:e,o365Status:t,confluenceLinkStatus:n,jiraLinkStatus:r}=pm();return j_(e,t,t,n,r)}function j_(e,t,n,r=null,s=null){const a=Ge()?.getWorkspaceId(),i=[q.GDRIVE,q.O365_PERSONAL,q.O365_BUSINESS,...r==="true"||r==="ifConnected"?[q.CONFLUENCE]:[],...s==="true"||s==="ifConnected"?[q.JIRA]:[]],{connectors:l,isLoading:u}=x4(i),{data:d,isLoading:f}=_6(a),h=!a||d?.beta_settings?.context_connector_gdrive,m=!a||d?.beta_settings?.context_connector_o365_personal,g=!a||d?.beta_settings?.context_connector_o365_business,v=!a||d?.beta_settings?.context_connector_confluence,y=!0,x=l.get(q.GDRIVE),b=l.get(q.O365_PERSONAL),w=l.get(q.O365_BUSINESS),_=l.get(q.CONFLUENCE),C=l.get(q.JIRA),T=(E,R)=>E==="true"||E==="ifConnected"&&R;return{connectorConfig:p.useMemo(()=>{const E=!!x?.access_token,R=T(e,E),$=!!(b?.access_token??w?.access_token),U=T(t,$),Y=T(n,$),F=!!r&&T(r,!!_?.access_token),j=!!s&&T(s,!!C?.access_token),D=[R&&x&&h?[q.GDRIVE,x]:null,Y&&b&&m?[q.O365_PERSONAL,b]:null,U&&w&&g?[q.O365_BUSINESS,w]:null,F&&_&&v?[q.CONFLUENCE,_]:null,j&&C&&y?[q.JIRA,C]:null];return new Map(Zn(D))},[x,e,b,w,_,C,t,n,r,s,h,m,g,v,y]),isLoading:u||f}}function x4(e){const[t,n]=p.useState(MRe),{isUnauthenticated:r}=Ut(),{isSuccess:s,data:o,isLoading:a}=_e({queryKey:["fetchConnectorData",e],queryFn:ERe,refetchInterval:30*60*1e3,enabled:!r});return p.useEffect(()=>{s&&n(new Map(o.map(i=>[i.type,i])))},[s,o]),{connectors:t,isLoading:a}}async function ERe({queryKey:e}){const[t,n]=e;let r=null;try{r=await Z.checkConnectorAPI(n)}catch(o){if(o instanceof Dt)return[];ae.addError(new Error("Server Error while retrieving context connector entry",{cause:o}))}return r?r.connectors.map(o=>{if(!o.access_token)return o;if(o.type===q.O365_PERSONAL)o.onedrive_endpoint_hint={type:"personal",baseUrl:"https://onedrive.live.com",parsedUrl:"https://onedrive.live.com/picker"};else if(o.type===q.O365_BUSINESS){const a=o.onedrive_business_metadata?.base_url;if(a){const i=new URL(a);o.onedrive_endpoint_hint={type:"business",baseUrl:a,parsedUrl:`https://${i.hostname}/_layouts/15/FilePicker.aspx`}}}return o}):[]}function Imt({composerController:e,parsedDocumentHandler:t}){const{gdriveLinkStatus:n,o365BusinessLinkStatus:r,o365PersonalLinkStatus:s}=pm();return n==="false"&&r==="false"&&s==="false"?null:c.jsx(kRe,{composerController:e,parsedDocumentHandler:t})}function kRe({composerController:e,parsedDocumentHandler:t}){const{connectorConfig:n}=b4();return p.useEffect(()=>{const r=e instanceof vRe?"input":"change",s=()=>{const o=PRe(e,n);t(o)};return s(),e.subscribe(r,s)},[e,n,t]),null}function PRe(e,t){const n=e.getCurrentText(),r=[];for(const s of t.values())switch(s.type){case q.GDRIVE:{const o=ORe(n,s);r.push(...o),s.access_token&&o.reduce((i,l)=>i.replace(l.url,""),n)!==n&&o.forEach(({url:i})=>e.replaceAll(i,""));break}case q.O365:break;case q.O365_BUSINESS:{const o=GRe(n,s).filter(a=>a!=null);s.access_token&&o.forEach(({url:a})=>e.replaceAll(a,"")),r.push(...o);break}case q.O365_PERSONAL:{const o=jRe(n,s).filter(a=>a!=null);s.access_token&&o.forEach(({url:a})=>e.replaceAll(a,"")),r.push(...o);break}case q.CONFLUENCE:{const o=LRe(n,s).filter(a=>a!=null);s.access_token&&o.forEach(({url:a})=>e.replaceAll(a,"")),r.push(...o);break}case q.JIRA:{const o=URe(n,s).filter(a=>a!=null);s.access_token&&o.forEach(({url:a})=>e.replaceAll(a,"")),r.push(...o);break}}return r.length&&Yt.linkPasted(dRe(Vw(r,s=>s.type),s=>s.length)),r}const ARe=/\bhttps:\/\/docs\.google\.com\/(document|spreadsheets|presentation)\/d\/([\w-]+)\/?(?:(?:edit|view)\/?)?(?:\?[\w\-.~%=]*)?(?:#[\w\-.~%=]*)?/gm,$Re=/\bhttps:\/\/drive\.google\.com\/(file)\/d\/([\w-]+)\/?(?:(?:edit|view)\/?)?(?:\?[\w\-.~%=]*)?(?:#[\w\-.~%=]*)?/gm;function ORe(e,t){return[...e.matchAll(ARe),...e.matchAll($Re)].map(n=>{const r={url:n[0],id:n[2],type:q.GDRIVE};return t.access_token?{...r,handler:{type:"fetch",tryFetch:async()=>{R_(t,nr.Link);const s=`https://www.googleapis.com/drive/v3/files/${r.id}?fields=name,mimeType`,o=await fetch(s,{method:"GET",headers:{Authorization:`Bearer ${t.access_token}`,"Content-Type":"application/json"}});if(!o.ok)return Promise.reject(new Error(`HTTP ${o.status}`));const{name:a,mimeType:i}=await o.json(),l=T2(i);return{connector:q.GDRIVE,id:r.id,title:a,mimeType:i,url:r.url,syntheticExtension:l}}}}:{...r,handler:{type:"prompt",message:"not-connected"}}})}function w4(e){let t;try{t=new URL(e).toString()}catch{return null}return`u!${btoa(t).replaceAll("=","").replaceAll("/","_").replaceAll("+","-")}`}const IRe=/\bhttps:\/\/onedrive\.live\.com\/[\w\-_.~!*'();:@&=+$,\\/?%#[\]]*/gm,NRe=/\bhttps:\/\/photos\.onedrive\.com\/(?:share|photo)\/[\w\-_.~!*'();:@&=+$,\\/?%#[\]]*/gm,RRe=/\bhttps:\/\/1drv\.ms\/[\w\-_.~!*'();:@&=+$,\\/?%#[\]]*/gm;function jRe(e,t){return[...e.matchAll(IRe),...e.matchAll(RRe),...e.matchAll(NRe)].map(n=>{const r=w4(n[0]);if(!r)return null;const s={url:n[0],id:r,type:q.O365_PERSONAL};return t.access_token?{...s,handler:{type:"fetch",tryFetch:S4(Ss.OneDrive_PERSONAL_SHARES,r,t.access_token,t)}}:{...s,handler:{type:"prompt",message:"not-connected"}}})}const DRe=/\bhttps:\/\/([^\s]+?\.atlassian\.net)\/wiki\/spaces\/[^\s]+\/pages\/(\d+)\/([^\s]+)?/gm;function LRe(e,t){return[...e.matchAll(DRe)].map(n=>{const r=n[1],s=n[2],o=n[3];if(!s)return null;const a={url:n[0],id:s,type:q.CONFLUENCE};return t.access_token?{...a,handler:{type:"fetch",tryFetch:()=>Promise.resolve({connector:t.type,id:s,title:o,mimeType:"text/html",url:a.url,syntheticExtension:null,manifest:{id:s,domain:r,type:C6.PAGE,manifest_type:q.CONFLUENCE}})}}:{...a,handler:{type:"prompt",message:"not-connected"}}})}const FRe=/\bhttps:\/\/([^\s]+?\.atlassian\.net)\/browse\/([^\s]+)\??/gm,BRe=/\bhttps:\/\/([^\s]+?\.atlassian\.net)\/jira\/(?:[^\s]+\/)*projects\/(?:[^\s]+\/)+(?:[^\s]+\/?)\?selectedIssue=([^\s]+)&?/gm;function URe(e,t){return[...e.matchAll(FRe),...e.matchAll(BRe)].map(n=>{const r=n[1],s=n[2];if(!s||!r)return null;const o={url:n[0],id:s,type:q.JIRA};return t.access_token?{...o,handler:{type:"fetch",tryFetch:()=>Promise.resolve({connector:t.type,id:s,title:s,mimeType:"text/markdown",url:o.url,syntheticExtension:null,manifest:{id_or_key:s,domain:r,manifest_type:q.JIRA}})}}:{...o,handler:{type:"prompt",message:"not-connected"}}})}const VRe=/\bhttps:\/\/[^\s]+?\.sharepoint\.com\/[^\s]*/gm;function GRe(e,t){return[...e.matchAll(VRe)].map(n=>{const r=w4(n[0]),s=Ss.OneDrive_BUSINESS_SHARES;if(!r)return null;const o={url:n[0],id:r,type:q.O365_BUSINESS};return t.access_token?{...o,handler:{type:"fetch",tryFetch:S4(s,r,t.access_token,t)}}:{...o,handler:{type:"prompt",message:"not-connected"}}})}function S4(e,t,n,r,s){switch(e){case Ss.OneDrive_BUSINESS_SHARES:case Ss.OneDrive_PERSONAL_SHARES:return()=>fv(`${e}/${encodeURIComponent(t)}/driveItem`,n,r);case Ss.OneDrive_BUSINESS_DRIVE_ITEMS:return()=>fv(`${e}/${encodeURIComponent(t)}`,n,r);case Ss.OneDrive_BUSINESS_DRIVE_ROOT:return async()=>{const o=await WRe(n,t);if(!o)return Promise.reject(null);const a=`${e}:${encodeURIComponent(o)}`;return fv(a,n,r)};case Ss.OneDrive_PERSONAL_DRIVE_ITEMS:return()=>Promise.reject(null)}}async function WRe(e,t){const r=await fetch("https://graph.microsoft.com/v1.0/me/drive/root",{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!r.ok)return null;const{webUrl:s}=await r.json(),a=new URL(s).pathname;return t.startsWith(a)?t.substring(a.length):t}async function fv(e,t,n,r){R_(n,nr.Link);const s=await fetch(e,{method:"GET",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!s.ok)return Promise.reject(new Error(`HTTP ${s.status}`));const{id:o,name:a,file:i,webUrl:l,...u}=await s.json();return r||(r=u.parentReference?.driveId),{connector:n.type,id:o,title:a??"",mimeType:i?.mimeType??"",url:l??"",syntheticExtension:null,o365DriveId:r}}var D_={};Object.defineProperty(D_,"__esModule",{value:!0});function _4(e,t){if(t)return e;throw new Error("Unhandled discriminated union member: "+JSON.stringify(e))}D_.assertNever=_4;var C4=D_.default=_4;const HRe=I({defaultMessage:"Microsoft OneDrive (personal)",id:"ContextConnector.OneDrivePersonal.name"}),zRe=I({defaultMessage:"Microsoft OneDrive (work/school)",id:"ContextConnector.OneDriveBusiness.name"}),L_=Q({includesSharePoint:{id:"ContextConnectorPicker.o365BusinessIncludesSharePoint",defaultMessage:"Includes SharePoint"}});function gm(e,t){switch(e){case q.GDRIVE:return"Google Drive";case q.O365:return"Microsoft OneDrive";case q.O365_PERSONAL:return t?.formatMessage(HRe)??"Microsoft OneDrive (personal)";case q.O365_BUSINESS:return t?.formatMessage(zRe)??"Microsoft OneDrive (work/school)";case q.CONFLUENCE:return"Confluence";case q.JIRA:return"Jira"}}function qRe(e,t){switch(e){case q.GDRIVE:switch(t){case"doc":case"docx":return"Google Docs";case"xls":case"xlsx":return"Google Sheets";case"ppt":case"pptx":return"Google Slides";default:return"Google Drive"}case q.O365:case q.O365_PERSONAL:case q.O365_BUSINESS:switch(t){case"doc":case"docx":return"Microsoft Word";case"xls":case"xlsx":return"Microsoft Excel";case"ppt":case"pptx":return"Microsoft PowerPoint";default:return"Microsoft OneDrive"}case q.CONFLUENCE:return"Page";case q.JIRA:return"Issue"}C4(e)}function YRe({contextConnector:e,extension:t}){return c.jsx(c.Fragment,{children:qRe(e,t)})}function bP(e,t){return e.connector===t.connector&&e.type===t.type}const KRe=()=>He((e,t)=>({_messages:[],_dismissedMessages:[],getFirstMessage:()=>t()._messages[0]??null,appendMessageIfNotDismissed:n=>{e(r=>r._messages.some(s=>bP(s,n))||r._dismissedMessages.some(s=>bP(s,n))?r:{...r,_messages:[...r._messages,n]})},dismissMessage:n=>{e(r=>r._messages.includes(n)?{...r,_messages:r._messages.filter(s=>s!==n),_dismissedMessages:[...r._dismissedMessages,n]}:r)},clearMessages:()=>{e(n=>n._messages.length||n._dismissedMessages.length?{...n,_messages:[],_dismissedMessages:[]}:n)},openMenu:!1,requestOpenMenu:()=>e(n=>({...n,openMenu:!0})),confirmMenuOpened:()=>e(n=>({...n,openMenu:!1}))})),QRe=KRe(),XRe=p.createContext(QRe);function ph(){const e=p.useContext(XRe);return Ja(e)}function T4({size:e="default",triggerIcon:t,triggerButton:n,children:r,side:s="bottom",className:o,sideOffset:a=10,open:i,onOpenChange:l,alignAgainstAnchor:u="center",disableAutofocus:d=!1}){const f=p.useRef(null);return c.jsxs(P_,{open:i,onOpenChange:l,children:[t?c.jsx(hh,{className:"rounded-lg p-2 hover:bg-token-main-surface-secondary",ref:f,children:c.jsx(t,{className:"icon-md"})}):c.jsx(hh,{asChild:!0,ref:f,children:n}),c.jsx(l4,{container:f.current?.ownerDocument.body,children:c.jsx(h$,{$as:A_,side:s,sideOffset:a,align:u,collisionPadding:10,onOpenAutoFocus:h=>{d&&h.preventDefault()},className:O({"min-w-[200px] max-w-xs":e==="default"},o),children:r})})]})}function Nmt({onOauthRedirect:e,children:t}){const{connectorConfig:n,isLoading:r}=b4(),s=ph(),{getFirstMessage:o}=s,a=o(),i=a?n.get(a.connector):null,l=r||!i,u=p.useMemo(()=>{if(l||!a)return null;switch(a.type){case"not-connected":return c.jsx(ZRe,{unconnectedMessage:a,onOauthRedirect:e,entry:i})}},[l,i,a,e]),{dismissMessage:d}=ph(),f=p.useCallback(h=>{!h&&a&&!l&&d(a)},[l,d,a]);return c.jsx(T4,{size:"none",open:!l,onOpenChange:f,side:"top",sideOffset:4,triggerButton:t,children:u})}function ZRe({unconnectedMessage:e,onOauthRedirect:t,entry:n}){const{dismissMessage:r}=ph(),s=V(),o=gm(e.connector,s),{icon1:a,icon2:i,icon3:l,icon4:u}=JRe(e.connector);return c.jsxs("div",{className:"flex w-[294px] max-w-full flex-col p-4 sm:w-[384px]",children:[c.jsxs("div",{className:"mb-3 flex flex-row gap-2 self-center",children:[c.jsx(Pu,{icon:a,rotation:-6}),c.jsx(Pu,{icon:i,rotation:6}),c.jsx(Pu,{icon:l,rotation:-6}),c.jsx(Pu,{icon:u,rotation:6})]}),c.jsx("span",{className:"mb-3 text-lg font-semibold",children:c.jsx(S,{...Au.connectTo,values:{connectorName:o}})}),c.jsx("span",{className:"mb-4 text-sm text-token-text-secondary",children:c.jsx(S,{...Au.description,values:{connectorName:o}})}),c.jsxs("div",{className:"flex flex-row-reverse gap-3 self-end",children:[c.jsx(ue,{color:"primary",onClick:()=>{Yt.oauthUpsellButtonClick(n.type,"link"),_a.doContextConnectorOauthRedirect(location.pathname+location.search+location.hash,n,t,nr.Link)},children:c.jsx(S,{...Au.connect})}),c.jsx(ue,{color:"secondary",onClick:()=>{Yt.oauthUpsellButtonClick(n.type,"not-now"),r(e)},children:c.jsx(S,{...Au.notNow})})]})]})}function JRe(e){switch(e){case q.GDRIVE:return{icon1:c.jsx(ci,{}),icon2:c.jsx(Gh,{}),icon3:c.jsx(pw,{}),icon4:c.jsx(mw,{})};case q.O365:case q.O365_BUSINESS:case q.O365_PERSONAL:return{icon1:c.jsx(k$,{}),icon2:c.jsx(P$,{}),icon3:c.jsx(A$,{}),icon4:c.jsx($$,{})};case q.CONFLUENCE:case q.JIRA:return{icon1:c.jsx(xU,{}),icon2:c.jsx(wU,{}),icon3:c.jsx(Do,{}),icon4:c.jsx(SU,{})}}C4(e)}function Pu({rotation:e,icon:t}){return c.jsx("div",{className:O("flex h-[44px] w-[44px] items-center justify-center rounded-xl border border-[#EDEDF2] bg-white shadow-[0_1px_12px_0px_#0000000B]"),style:{transform:`rotate(${e}deg)`},children:c.jsx("div",{className:"object-contain",children:t})})}const Au=Q({connectTo:{id:"ContextConnectorPastedLinkPopover.connectTo",defaultMessage:"Connect to {connectorName}"},description:{id:"ContextConnectorPastedLinkPopover.description",defaultMessage:"Connect ChatGPT to {connectorName} to reference the content from this link."},notNow:{id:"ContextConnectorPastedLinkPopover.notNow",defaultMessage:"Not now"},connect:{id:"ContextConnectorPastedLinkPopover.connect",defaultMessage:"Connect"},addFromGdriveDescription:{id:"ContextConnectorPastedLinkPopover.addFromDriveDescription",defaultMessage:"To add files from Google Drive, upload them directly to your message."},addFromGdriveNotNow:{id:"ContextConnectorPastedLinkPopover.addFromDriveNotNow",defaultMessage:"Not now"},addFromGdriveUploadFile:{id:"ContextConnectorPastedLinkPopover.addFromDriveUploadFile",defaultMessage:"Upload file"}});function eje(e,t){const n=Xe(We.MentionGPTs),r=zp(),[s,o]=p.useState(!1),a=()=>{o(!0),n.markAsViewed()};return p.useImperativeHandle(t,()=>({handleClose:a})),n.eligible&&!n.isLoading&&!r?c.jsx(tje,{wasDismissed:s,onDismiss:a}):null}function tje({wasDismissed:e,onDismiss:t}){const n=V(),{recent:r,pinned:s}=m4(),o=r&&r.pages.flatMap(a=>a.list.items).length>0||s&&s.items.length>0;return p.useEffect(()=>{o&&P.logEvent(A.mentionsDisplayNux)},[o]),o?c.jsx(hm,{badge:"beta",align:"start",side:"top",arrowPadding:58,show:!e,title:n.formatMessage({id:"mentionGptsAnnouncement.title",defaultMessage:"GPT mentions"}),onDismiss:t,sideOffset:25,theme:"default",description:c.jsx(S,{id:"mentionGptsAnnouncement.description",defaultMessage:"Type {key} to mention a GPT and add it directly into your conversation",values:{key:c.jsx("span",{className:"font-bold",children:"@"})}}),children:c.jsx("div",{className:"absolute sm:left-16"})}):null}const Rmt=p.forwardRef(eje),nje=Q({continueGenerating:{id:"PromptTextarea.continueGenerating",defaultMessage:"Continue generating"},stopGenerating:{id:"PromptTextarea.stopGenerating",defaultMessage:"Stop generating"},disallowedByWorkspacePlaceholder:{id:"PromptTextarea.disallowedByWorkspaceReason",defaultMessage:"Your workspace owner hasn’t approved this GPT."},disabledFeedbackPlaceholder:{id:"PromptTextarea.disabledFeedbackPlaceholder",defaultMessage:"Select a response to continue"},noModelsAvailablePlaceholder:{id:"PromptTextarea.noModelsAvailablePlaceholder",defaultMessage:"No models available"},requiresPluginsToBeInstalled:{id:"PromptTextarea.requiresPluginsToBeInstalled",defaultMessage:"Requires plugins to be installed"},noTestGizmoId:{id:"PromptTextarea.noTestGizmoId",defaultMessage:"Start by defining your GPT."},searchWith:{id:"PromptTextarea.searchWith",defaultMessage:"Search with {name}"},loading:{id:"PromptTextarea.loading",defaultMessage:"Loading..."},placeholder:{id:"PromptTextarea.placeholder",defaultMessage:"Send a message"},placeholderWithName:{id:"PromptTextarea.placeholderWithName",defaultMessage:"Message {name}"},continueSharedConversationPlaceholder:{id:"PromptTextarea.continueSharedConversationPlaceholder",defaultMessage:"Send a message to continue the conversation."},sendMessageTooltip:{id:"PromptTextarea.sendMessageTooltip",defaultMessage:"Send message"},unsupportedFileType:{id:"PromptTextarea.unsupportedFileType",defaultMessage:'Uploads with file type "{file_type}" are not supported, please try another file.'},gizmoKnowledgeWarning:{id:"PromptTextarea.gizmoKnowledgeWarning",defaultMessage:"Files uploaded here may be included in conversations with your GPT. Files can be downloaded if Code Interpreter is enabled."}}),jmt=({filePickerStore:e,event:t,intl:n,toaster:r,conversationMode:s,clientThreadId:o,currentModelConfig:a,getEditorGizmoId:i,modelSupportedImageMimeTypes:l})=>{const u=Xf(a,s),d=l.length>0;P.logEvent(A.pastedToComposer,{client_thread_id:o});const{clipboardData:f}=t,h=$l(a,s);if(d&&f&&f.files.length>0){const g=f.files[0],v=h?.attachments?.accepted_mime_types,y=h?.attachments?.can_accept_all_mime_types;if(v!==void 0&&!v.includes(g.type)&&y!==!0){r.danger(n.formatMessage(nje.unsupportedFileType,{file_type:g_(g)})),t.preventDefault();return}if(Re.hideThreadHeader(),P.logEvent(A.uploadFile,{client:"web",eventSource:"paste"}),i!=null){i().then(x=>xn.uploadFile(e,$a(g),g,u,l,n,r,{gizmoId:x}));return}xn.uploadFile(e,$a(g),g,u,l,n,r,void 0,h?.attachments)}const m=f?.getData("text/plain");if(!(!m||!kke(m)))if(t.preventDefault(),a?.id.includes(Ps)&&K.checkGate("61299031")&&m.length<=$V)dO.pasteContent(m);else{const g="text/plain",v=new Blob([m],{type:g}),y=new File([v],"pasted_text.txt",{type:g});xn.uploadFile(e,$a(y),y,u,l,n,r,void 0,h?.attachments)}};function rje(e){return e.metadata?.dalle?.prompt??""}async function sje(e,t,n="image/png"){return new Promise((r,s)=>{e.toBlob(o=>{o!=null?r(new File([o],t,{type:n})):s(new Error("Failed to convert canvas to blob"))},n)})}async function oje(e,t){const n=document.createElement("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");if(r==null)throw new Error("Failed to get 2d context for mask canvas");const s=r.createImageData(e.width,e.height);for(let o=0;o<e.data.length;o+=4)e.data[o+3]!==0?(s.data[o]=0,s.data[o+1]=0,s.data[o+2]=0,s.data[o+3]=255):(s.data[o]=255,s.data[o+1]=255,s.data[o+2]=255,s.data[o+3]=255);return r.putImageData(s,0,0),sje(n,t)}async function aje(e,t){const r=await(await fetch(e)).blob(),s=document.createElement("a");s.href=URL.createObjectURL(r),s.download=t,s.click(),s.remove()}function ije(e){const t=Upe(new Date,"yyyy-MM-dd HH.mm.ss");let n=e.slice(0,150);return n.endsWith(".")&&(n=n.slice(0,-1)),`DALL·E ${t} - ${n}.webp`}async function Dmt(e,t,n){const r=rje(e),s=ije(r);await aje(e.url,s),K.logEvent("chatgpt_dalle_image_download",null,{sourceOperation:e.metadata?.dalle?.edit_op??"none",hasParent:e.metadata?.dalle?.parent_gen_id!=null?"true":"false"}),P.logEvent(A.dalleImageDownload,{conversationId:t,messageId:n,generationId:e.metadata?.dalle?.gen_id,parentGenerationId:e.metadata?.dalle?.parent_gen_id,fileId:Eo(e.asset_pointer),sourceOperation:e.metadata?.dalle?.edit_op})}function Lmt(e){const t=im(e),n=Pi(),r=t&&"gizmo"in t?t.gizmo:void 0;return!n&&r?.gizmo.id===RV}function Fmt(e,t){const n=t.metadata?.dalle?.gen_id,r=Eo(t.asset_pointer);return r==null||n==null?e:{...e,messageMetadata:{...e.messageMetadata,dalle:{from_client:{operation:{type:"transformation",original_gen_id:n,original_file_id:r}}}}}}async function cje(e,t,n,r){return new Promise((s,o)=>{m_($a(e),e,t,n,{kind:en.DalleAgent},{onFileCreated:$e,onFileUploadProgress:$e,onFileUploaded:(a,i)=>s(i),onError:(a,i)=>{o(new Error(`Failed to upload file with reason: ${i}`))}},r)})}async function Bmt(e,t,n,r,s){const o=t.metadata?.dalle?.gen_id,a=Eo(t.asset_pointer);if(a==null||o==null||n==null)return e;try{const i=await oje(n,"mask.png"),l=await cje(i,r,s,{imageDimensions:{width:t.width,height:t.height}});return{...e,messageMetadata:{...e.messageMetadata,dalle:{from_client:{operation:{type:"inpainting",original_gen_id:o,original_file_id:a,mask_file_id:l}}}}}}catch(i){return ae.addError(i),e}}const M4=We.HasSeenAdvancedVoiceOnMobile,lje="https://chatgpt.com/update-app",xP="https://chatgpt.com/update-app?origin=qr";function uje(){const e=Ge(),t=Ot("989108178").value;return e!=null&&t}function Umt(e){const t=uje(),{eligible:n,isLoading:r}=Xe(M4);return{eligible:!(!t||!n||e.conversationMode?.kind!==Me.PrimaryAssistant)&&!r}}const dje=3;function fje(e){let t=At.getItem(Ke.AdvancedVoiceOnMobileAnnouncementCount);Array.isArray(t)||(t=[]);const n=new Set(t);return e&&n.add(e),t=[...n],At.setItem(Ke.AdvancedVoiceOnMobileAnnouncementCount,t),t.length}function Vmt({onClose:e,clientThreadId:t}){const{markAsViewed:n}=Xe(M4),r=np(t);p.useEffect(()=>{const i=fje(r);i>dje&&(n(),K.logEvent("chatgpt_advanced_voice_on_mobile_announcement_limit_reached",i)),P.logEvent(A.advancedVoiceOnMobileAnnouncementShown),K.logEvent("chatgpt_advanced_voice_on_mobile_announcement_shown")},[r,n]);const s=p.useCallback(()=>{n(),P.logEvent(A.advancedVoiceOnMobileAnnouncementDismissed),K.logEvent("chatgpt_advanced_voice_on_mobile_announcement_dismissed"),e&&e()},[n,e]),a={markAsDownloaded:p.useCallback(()=>{P.logEvent(A.advancedVoiceOnMobileLinkClicked),K.logEvent("chatgpt_advanced_voice_on_mobile_announcement_download_clicked"),n(),e&&e()},[n,e]),markAsViewed:s};return c.jsx(pje,{...a})}function hje(){window.open(lje,"_blank")}function pje({markAsDownloaded:e,markAsViewed:t}){const n=V(),[r,s]=p.useState(!1),o=p.useCallback(()=>{hje(),e()},[e]),a=c.jsx("div",{className:"flex-grow flex-row",children:c.jsxs("div",{className:"flex-column",children:[c.jsx("div",{className:"mb-0.5 font-semibold",children:c.jsx(S,{...ia.advancedVoiceOnMobileBannerTitle})}),c.jsx("span",{className:"text-token-text-secondary",children:c.jsx(S,{...ia.advancedVoiceOnMobileBannerDescription})})]})}),i=!Jwe(),l=Vo();let u;return i?l?u=Object.freeze({primaryCtaQrLink:xP,onPrimaryCtaQrClick:()=>s(!0)}):u=Object.freeze({onSecondaryCtaClick:()=>s(!0),secondaryCtaText:n.formatMessage(ia.advancedVoiceOnMobileButtonScanCode)}):u=Object.freeze({onPrimaryCtaClick:o,primaryCtaText:n.formatMessage(ia.advancedVoiceOnMobileButtonDownload)}),c.jsxs(c.Fragment,{children:[c.jsx(Ai,{...u,onDismiss:t,content:a}),i&&c.jsx(Ue,{size:"custom",className:"w-[328px] max-w-[328px]",title:n.formatMessage(ia.advancedVoiceOnMobileQRModalTitle),isOpen:r,showCloseButton:!0,onClose:()=>s(!1),type:"success",children:c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx(US,{className:"m-[24px] mt-[0px]",size:280,value:xP}),c.jsx("div",{className:"text-left text-token-text-primary",children:c.jsx(S,{...ia.advancedVoiceOnMobileQRModalDescription})})]})})]})}const ia=Q({advancedVoiceOnMobileBannerTitle:{id:"AdvancedVoiceOnMobile.banner.title",defaultMessage:"Download the latest iOS or Android app to try advanced voice mode"},advancedVoiceOnMobileBannerDescription:{id:"AdvancedVoiceOnMobile.banner.description",defaultMessage:"Get more natural, real-time conversations with advanced voice. Senses and responds to humor, sarcasm, interruptions, and more."},advancedVoiceOnMobileButtonDownload:{id:"AdvancedVoiceOnMobile.button.download",defaultMessage:"Download"},advancedVoiceOnMobileButtonScanCode:{id:"AdvancedVoiceOnMobile.button.scancode",defaultMessage:"Scan code"},advancedVoiceOnMobileButtonClose:{id:"AdvancedVoiceOnMobile.button.close",defaultMessage:"Close"},advancedVoiceOnMobileQRModalTitle:{id:"AdvancedVoiceOnMobile.qrmodal.title",defaultMessage:"Download the app"},advancedVoiceOnMobileQRModalDescription:{id:"AdvancedVoiceOnMobile.qrmodal.description",defaultMessage:"Scan the QR code on your phone to download the ChatGPT app."}}),mh=window.localStorage,wP=He(js(()=>{const e=mh?.getItem(Ke.NoAuthBannerDisclaimerClientThreadId)??null,t=mh?.getItem(Ke.NoAuthHasAcceptedFooterDisclaimer)==="true";return{bannerDisclaimerClientThreadId:e,hasAcceptedFooterDisclaimer:t}})),E4={updateBannerDisclaimerClientThreadId(e){wP.setState(t=>{t.bannerDisclaimerClientThreadId=e}),mh?.setItem(Ke.NoAuthBannerDisclaimerClientThreadId,e)},updateHasAcceptedFooterDisclaimer(){wP.setState(e=>{e.hasAcceptedFooterDisclaimer=!0}),mh?.setItem(Ke.NoAuthHasAcceptedFooterDisclaimer,"true")}},Gmt=()=>{const{shouldShowSkipButton:e=!1}=JTe(),t=s_(({isParagenVisible:n})=>n);return!!e&&t};var mje=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function Gl(e,t){var n=gje(e);if(typeof n.path!="string"){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof t=="string"?t:typeof r=="string"&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}function gje(e){var t=e.name,n=t&&t.lastIndexOf(".")!==-1;if(n&&!e.type){var r=t.split(".").pop().toLowerCase(),s=mje.get(r);s&&Object.defineProperty(e,"type",{value:s,writable:!1,configurable:!1,enumerable:!0})}return e}var vje=[".DS_Store","Thumbs.db"];function yje(e){return oi(this,void 0,void 0,function(){return ai(this,function(t){return gh(e)&&bje(e.dataTransfer)?[2,_je(e.dataTransfer,e.type)]:xje(e)?[2,wje(e)]:Array.isArray(e)&&e.every(function(n){return"getFile"in n&&typeof n.getFile=="function"})?[2,Sje(e)]:[2,[]]})})}function bje(e){return gh(e)}function xje(e){return gh(e)&&gh(e.target)}function gh(e){return typeof e=="object"&&e!==null}function wje(e){return Ox(e.target.files).map(function(t){return Gl(t)})}function Sje(e){return oi(this,void 0,void 0,function(){var t;return ai(this,function(n){switch(n.label){case 0:return[4,Promise.all(e.map(function(r){return r.getFile()}))];case 1:return t=n.sent(),[2,t.map(function(r){return Gl(r)})]}})})}function _je(e,t){return oi(this,void 0,void 0,function(){var n,r;return ai(this,function(s){switch(s.label){case 0:return e.items?(n=Ox(e.items).filter(function(o){return o.kind==="file"}),t!=="drop"?[2,n]:[4,Promise.all(n.map(Cje))]):[3,2];case 1:return r=s.sent(),[2,SP(k4(r))];case 2:return[2,SP(Ox(e.files).map(function(o){return Gl(o)}))]}})})}function SP(e){return e.filter(function(t){return vje.indexOf(t.name)===-1})}function Ox(e){if(e===null)return[];for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function Cje(e){if(typeof e.webkitGetAsEntry!="function")return _P(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?P4(t):_P(e)}function k4(e){return e.reduce(function(t,n){return c1(c1([],l1(t),!1),l1(Array.isArray(n)?k4(n):[n]),!1)},[])}function _P(e){var t=e.getAsFile();if(!t)return Promise.reject("".concat(e," is not a File"));var n=Gl(t);return Promise.resolve(n)}function Tje(e){return oi(this,void 0,void 0,function(){return ai(this,function(t){return[2,e.isDirectory?P4(e):Mje(e)]})})}function P4(e){var t=e.createReader();return new Promise(function(n,r){var s=[];function o(){var a=this;t.readEntries(function(i){return oi(a,void 0,void 0,function(){var l,u,d;return ai(this,function(f){switch(f.label){case 0:if(i.length)return[3,5];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,Promise.all(s)];case 2:return l=f.sent(),n(l),[3,4];case 3:return u=f.sent(),r(u),[3,4];case 4:return[3,6];case 5:d=Promise.all(i.map(Tje)),s.push(d),o(),f.label=6;case 6:return[2]}})})},function(i){r(i)})}o()})}function Mje(e){return oi(this,void 0,void 0,function(){return ai(this,function(t){return[2,new Promise(function(n,r){e.file(function(s){var o=Gl(s,e.fullPath);n(o)},function(s){r(s)})})]})})}var Eje=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",s=(e.type||"").toLowerCase(),o=s.replace(/\/.*$/,"");return n.some(function(a){var i=a.trim().toLowerCase();return i.charAt(0)==="."?r.toLowerCase().endsWith(i):i.endsWith("/*")?o===i.replace(/\/.*$/,""):s===i})}return!0};function CP(e){return Aje(e)||Pje(e)||$4(e)||kje()}function kje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Aje(e){if(Array.isArray(e))return Ix(e)}function TP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function MP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TP(Object(n),!0).forEach(function(r){A4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function A4(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wc(e,t){return Ije(e)||Oje(e,t)||$4(e,t)||$je()}function $je(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $4(e,t){if(e){if(typeof e=="string")return Ix(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ix(e,t)}}function Ix(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Oje(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],s=!0,o=!1,a,i;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(r.push(a.value),!(t&&r.length===t));s=!0);}catch(l){o=!0,i=l}finally{try{!s&&n.return!=null&&n.return()}finally{if(o)throw i}}return r}}function Ije(e){if(Array.isArray(e))return e}var O4="file-invalid-type",I4="file-too-large",N4="file-too-small",R4="too-many-files",EP={FileInvalidType:O4,FileTooLarge:I4,FileTooSmall:N4,TooManyFiles:R4},Nje=function(t){t=Array.isArray(t)&&t.length===1?t[0]:t;var n=Array.isArray(t)?"one of ".concat(t.join(", ")):t;return{code:O4,message:"File type must be ".concat(n)}},kP=function(t){return{code:I4,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},PP=function(t){return{code:N4,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},Rje={code:R4,message:"Too many files"};function j4(e,t){var n=e.type==="application/x-moz-file"||Eje(e,t);return[n,n?null:Nje(t)]}function D4(e,t,n){if(oo(e.size))if(oo(t)&&oo(n)){if(e.size>n)return[!1,kP(n)];if(e.size<t)return[!1,PP(t)]}else{if(oo(t)&&e.size<t)return[!1,PP(t)];if(oo(n)&&e.size>n)return[!1,kP(n)]}return[!0,null]}function oo(e){return e!=null}function jje(e){var t=e.files,n=e.accept,r=e.minSize,s=e.maxSize,o=e.multiple,a=e.maxFiles,i=e.validator;return!o&&t.length>1||o&&a>=1&&t.length>a?!1:t.every(function(l){var u=j4(l,n),d=Wc(u,1),f=d[0],h=D4(l,r,s),m=Wc(h,1),g=m[0],v=i?i(l):null;return f&&g&&!v})}function vh(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function $u(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function AP(e){e.preventDefault()}function Dje(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function Lje(e){return e.indexOf("Edge/")!==-1}function Fje(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Dje(e)||Lje(e)}function fr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){for(var s=arguments.length,o=new Array(s>1?s-1:0),a=1;a<s;a++)o[a-1]=arguments[a];return t.some(function(i){return!vh(r)&&i&&i.apply(void 0,[r].concat(o)),vh(r)})}}function Bje(){return"showOpenFilePicker"in window}function Uje(e){if(oo(e)){var t=Object.entries(e).filter(function(n){var r=Wc(n,2),s=r[0],o=r[1],a=!0;return L4(s)||(console.warn('Skipped "'.concat(s,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),a=!1),(!Array.isArray(o)||!o.every(F4))&&(console.warn('Skipped "'.concat(s,'" because an invalid file extension was provided.')),a=!1),a}).reduce(function(n,r){var s=Wc(r,2),o=s[0],a=s[1];return MP(MP({},n),{},A4({},o,a))},{});return[{description:"Files",accept:t}]}return e}function Vje(e){if(oo(e))return Object.entries(e).reduce(function(t,n){var r=Wc(n,2),s=r[0],o=r[1];return[].concat(CP(t),[s],CP(o))},[]).filter(function(t){return L4(t)||F4(t)}).join(",")}function Gje(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function Wje(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function L4(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function F4(e){return/^.*\.[\w]+$/.test(e)}var Hje=["children"],zje=["open"],qje=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Yje=["refKey","onChange","onClick"];function Kje(e){return Zje(e)||Xje(e)||B4(e)||Qje()}function Qje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Zje(e){if(Array.isArray(e))return Nx(e)}function hv(e,t){return tDe(e)||eDe(e,t)||B4(e,t)||Jje()}function Jje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B4(e,t){if(e){if(typeof e=="string")return Nx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nx(e,t)}}function Nx(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eDe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],s=!0,o=!1,a,i;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(r.push(a.value),!(t&&r.length===t));s=!0);}catch(l){o=!0,i=l}finally{try{!s&&n.return!=null&&n.return()}finally{if(o)throw i}}return r}}function tDe(e){if(Array.isArray(e))return e}function $P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$P(Object(n),!0).forEach(function(r){Rx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$P(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yh(e,t){if(e==null)return{};var n=nDe(e,t),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)r=o[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function nDe(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}var F_=p.forwardRef(function(e,t){var n=e.children,r=yh(e,Hje),s=V4(r),o=s.open,a=yh(s,zje);return p.useImperativeHandle(t,function(){return{open:o}},[o]),X.createElement(p.Fragment,null,n(it(it({},a),{},{open:o})))});F_.displayName="Dropzone";var U4={disabled:!1,getFilesFromEvent:yje,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};F_.defaultProps=U4;F_.propTypes={children:Ze.func,accept:Ze.objectOf(Ze.arrayOf(Ze.string)),multiple:Ze.bool,preventDropOnDocument:Ze.bool,noClick:Ze.bool,noKeyboard:Ze.bool,noDrag:Ze.bool,noDragEventsBubbling:Ze.bool,minSize:Ze.number,maxSize:Ze.number,maxFiles:Ze.number,disabled:Ze.bool,getFilesFromEvent:Ze.func,onFileDialogCancel:Ze.func,onFileDialogOpen:Ze.func,useFsAccessApi:Ze.bool,autoFocus:Ze.bool,onDragEnter:Ze.func,onDragLeave:Ze.func,onDragOver:Ze.func,onDrop:Ze.func,onDropAccepted:Ze.func,onDropRejected:Ze.func,onError:Ze.func,validator:Ze.func};var jx={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function V4(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=it(it({},U4),e),n=t.accept,r=t.disabled,s=t.getFilesFromEvent,o=t.maxSize,a=t.minSize,i=t.multiple,l=t.maxFiles,u=t.onDragEnter,d=t.onDragLeave,f=t.onDragOver,h=t.onDrop,m=t.onDropAccepted,g=t.onDropRejected,v=t.onFileDialogCancel,y=t.onFileDialogOpen,x=t.useFsAccessApi,b=t.autoFocus,w=t.preventDropOnDocument,_=t.noClick,C=t.noKeyboard,T=t.noDrag,M=t.noDragEventsBubbling,E=t.onError,R=t.validator,$=p.useMemo(function(){return Vje(n)},[n]),U=p.useMemo(function(){return Uje(n)},[n]),Y=p.useMemo(function(){return typeof y=="function"?y:OP},[y]),F=p.useMemo(function(){return typeof v=="function"?v:OP},[v]),j=p.useRef(null),D=p.useRef(null),B=p.useReducer(rDe,jx),H=hv(B,2),N=H[0],L=H[1],W=N.isFocused,ce=N.isFileDialogActive,se=p.useRef(typeof window<"u"&&window.isSecureContext&&x&&Bje()),le=function(){!se.current&&ce&&setTimeout(function(){if(D.current){var fe=D.current.files;fe.length||(L({type:"closeDialog"}),F())}},300)};p.useEffect(function(){return window.addEventListener("focus",le,!1),function(){window.removeEventListener("focus",le,!1)}},[D,ce,F,se]);var ke=p.useRef([]),ne=function(fe){j.current&&j.current.contains(fe.target)||(fe.preventDefault(),ke.current=[])};p.useEffect(function(){return w&&(document.addEventListener("dragover",AP,!1),document.addEventListener("drop",ne,!1)),function(){w&&(document.removeEventListener("dragover",AP),document.removeEventListener("drop",ne))}},[j,w]),p.useEffect(function(){return!r&&b&&j.current&&j.current.focus(),function(){}},[j,b,r]);var G=p.useCallback(function(ee){E?E(ee):console.error(ee)},[E]),ye=p.useCallback(function(ee){ee.preventDefault(),ee.persist(),Hl(ee),ke.current=[].concat(Kje(ke.current),[ee.target]),$u(ee)&&Promise.resolve(s(ee)).then(function(fe){if(!(vh(ee)&&!M)){var _t=fe.length,Gt=_t>0&&jje({files:fe,accept:$,minSize:a,maxSize:o,multiple:i,maxFiles:l,validator:R}),Cn=_t>0&&!Gt;L({isDragAccept:Gt,isDragReject:Cn,isDragActive:!0,type:"setDraggedFiles"}),u&&u(ee)}}).catch(function(fe){return G(fe)})},[s,u,G,M,$,a,o,i,l,R]),be=p.useCallback(function(ee){ee.preventDefault(),ee.persist(),Hl(ee);var fe=$u(ee);if(fe&&ee.dataTransfer)try{ee.dataTransfer.dropEffect="copy"}catch{}return fe&&f&&f(ee),!1},[f,M]),pe=p.useCallback(function(ee){ee.preventDefault(),ee.persist(),Hl(ee);var fe=ke.current.filter(function(Gt){return j.current&&j.current.contains(Gt)}),_t=fe.indexOf(ee.target);_t!==-1&&fe.splice(_t,1),ke.current=fe,!(fe.length>0)&&(L({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),$u(ee)&&d&&d(ee))},[j,d,M]),nt=p.useCallback(function(ee,fe){var _t=[],Gt=[];ee.forEach(function(Cn){var Li=j4(Cn,$),qo=hv(Li,2),vm=qo[0],ym=qo[1],bm=D4(Cn,a,o),zl=hv(bm,2),xm=zl[0],wm=zl[1],Sm=R?R(Cn):null;if(vm&&xm&&!Sm)_t.push(Cn);else{var _m=[ym,wm];Sm&&(_m=_m.concat(Sm)),Gt.push({file:Cn,errors:_m.filter(function(X5){return X5})})}}),(!i&&_t.length>1||i&&l>=1&&_t.length>l)&&(_t.forEach(function(Cn){Gt.push({file:Cn,errors:[Rje]})}),_t.splice(0)),L({acceptedFiles:_t,fileRejections:Gt,type:"setFiles"}),h&&h(_t,Gt,fe),Gt.length>0&&g&&g(Gt,fe),_t.length>0&&m&&m(_t,fe)},[L,i,$,a,o,l,h,m,g,R]),Ne=p.useCallback(function(ee){ee.preventDefault(),ee.persist(),Hl(ee),ke.current=[],$u(ee)&&Promise.resolve(s(ee)).then(function(fe){vh(ee)&&!M||nt(fe,ee)}).catch(function(fe){return G(fe)}),L({type:"reset"})},[s,nt,G,M]),re=p.useCallback(function(){if(se.current){L({type:"openDialog"}),Y();var ee={multiple:i,types:U};window.showOpenFilePicker(ee).then(function(fe){return s(fe)}).then(function(fe){nt(fe,null),L({type:"closeDialog"})}).catch(function(fe){Gje(fe)?(F(fe),L({type:"closeDialog"})):Wje(fe)?(se.current=!1,D.current?(D.current.value=null,D.current.click()):G(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):G(fe)});return}D.current&&(L({type:"openDialog"}),Y(),D.current.value=null,D.current.click())},[L,Y,F,x,nt,G,U,i]),gt=p.useCallback(function(ee){!j.current||!j.current.isEqualNode(ee.target)||(ee.key===" "||ee.key==="Enter"||ee.keyCode===32||ee.keyCode===13)&&(ee.preventDefault(),re())},[j,re]),at=p.useCallback(function(){L({type:"focus"})},[]),Gn=p.useCallback(function(){L({type:"blur"})},[]),Wn=p.useCallback(function(){_||(Fje()?setTimeout(re,0):re())},[_,re]),cs=function(fe){return r?null:fe},Di=function(fe){return C?null:cs(fe)},ls=function(fe){return T?null:cs(fe)},Hl=function(fe){M&&fe.stopPropagation()},Y5=p.useMemo(function(){return function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=ee.refKey,_t=fe===void 0?"ref":fe,Gt=ee.role,Cn=ee.onKeyDown,Li=ee.onFocus,qo=ee.onBlur,vm=ee.onClick,ym=ee.onDragEnter,bm=ee.onDragOver,zl=ee.onDragLeave,xm=ee.onDrop,wm=yh(ee,qje);return it(it(Rx({onKeyDown:Di(fr(Cn,gt)),onFocus:Di(fr(Li,at)),onBlur:Di(fr(qo,Gn)),onClick:cs(fr(vm,Wn)),onDragEnter:ls(fr(ym,ye)),onDragOver:ls(fr(bm,be)),onDragLeave:ls(fr(zl,pe)),onDrop:ls(fr(xm,Ne)),role:typeof Gt=="string"&&Gt!==""?Gt:"presentation"},_t,j),!r&&!C?{tabIndex:0}:{}),wm)}},[j,gt,at,Gn,Wn,ye,be,pe,Ne,C,T,r]),K5=p.useCallback(function(ee){ee.stopPropagation()},[]),Q5=p.useMemo(function(){return function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=ee.refKey,_t=fe===void 0?"ref":fe,Gt=ee.onChange,Cn=ee.onClick,Li=yh(ee,Yje),qo=Rx({accept:$,multiple:i,type:"file",style:{display:"none"},onChange:cs(fr(Gt,Ne)),onClick:cs(fr(Cn,K5)),tabIndex:-1},_t,D);return it(it({},qo),Li)}},[D,n,i,Ne,r]);return it(it({},N),{},{isFocused:W&&!r,getRootProps:Y5,getInputProps:Q5,rootRef:j,inputRef:D,open:cs(re)})}function rDe(e,t){switch(t.type){case"focus":return it(it({},e),{},{isFocused:!0});case"blur":return it(it({},e),{},{isFocused:!1});case"openDialog":return it(it({},jx),{},{isFileDialogActive:!0});case"closeDialog":return it(it({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return it(it({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return it(it({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return it({},jx);default:return e}}function OP(){}const sDe=X.createContext({mode:void 0,getGizmoId:void 0}),Wl=()=>p.useContext(sDe);function Wmt(e,t,n,r,s){const o=ze(),{getGizmoId:a}=Wl(),[i,l]=p.useState();p.useEffect(()=>{a?a().then(h=>l(h)):l(void 0)},[a]);const u=Ja(t),d=Bl();return p.useCallback(h=>{const{docsReferencedByURL:m}=Te.getThread(e)??{};if(m!=null)for(const g of h){const{id:v,type:y,handler:x}=g,b=`${y}:${v}`,w=m[b],C=d.getState().files.find(T=>T.tempId===v);if(w!=null&&w!=="failed"&&C){o.success(n.formatMessage(pv.fileAlreadyAttached),{hasCloseButton:!0});continue}switch(x.type){case"fetch":{k.updateReferencedDocState(e,b,"pending"),xn.uploadFile(d,v,new File([],n.formatMessage(pv.fileLoading)),ot.None,r,n,o,{skipUpload:!0,gizmoId:i},s,{contextConnector:y,sourceUrl:g.url,syntheticExtension:null,type:nr.Link}),Yt.linkMetadataFetchStarted(y),x.tryFetch().then(T=>{if(xn.remove(d,v,"none"),T==null)return null;const{id:M,title:E,connector:R,mimeType:$,url:U,syntheticExtension:Y,o365DriveId:F,manifest:j}=T;Yt.linkMetadataFetchSucceeded(y,$),k.updateReferencedDocState(e,b,"fetched");let D=E;R===q.GDRIVE&&(D=Y?`${E}.${Y}`:E),xn.uploadFile(d,M,new File([],D,{type:$.split(";")[0]}),ot.Retrieval,r,n,o,{gizmoId:i},s,{contextConnector:R,sourceUrl:U,syntheticExtension:Y,type:nr.Link,o365DriveId:F,manifest:j})}).catch(T=>{Yt.linkMetadataFetchFailed(y,T),o.danger(n.formatMessage(pv.fileFetchFailed),{hasCloseButton:!0}),k.updateReferencedDocState(e,b,"failed"),xn.remove(d,v,"none")});break}case"prompt":{u.appendMessageIfNotDismissed({connector:y,type:x.message}),k.updateReferencedDocState(e,b,"prompted");break}}}},[e,d,o,n,r,i,s,u])}const pv=Q({fileLoading:{id:"CCC.fileLoading",defaultMessage:"Loading…"},fileFetchFailed:{id:"CCC.fileFetchFailed",defaultMessage:"Unable to fetch file information"},fileAlreadyAttached:{id:"CCC.fileAlreadyAttached",defaultMessage:"This file is already a part of your message."}}),oDe={MessageAction:"z-10",ScrollToBottom:"z-10",PromptTextareaHeader:"z-20",TagGpt:"z-20"},aDe=({className:e})=>c.jsxs(pn,{width:"132",height:"108",viewBox:"0 0 132 108",fill:"none",className:e,children:[c.jsx("g",{clipPath:"url(#clip0_3605_64419)",children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.2025 29.3514C10.778 33.2165 8.51524 37.1357 11.8281 49.4995L13.4846 55.6814C16.7975 68.0453 20.7166 70.308 35.1411 66.443L43.3837 64.2344C57.8082 60.3694 60.0709 56.4502 56.758 44.0864L55.1016 37.9044C51.7887 25.5406 47.8695 23.2778 33.445 27.1428L29.3237 28.2471L25.2025 29.3514ZM18.1944 42.7244C18.8572 41.5764 20.325 41.1831 21.4729 41.8459L27.3517 45.24C28.4996 45.9027 28.8929 47.3706 28.2301 48.5185L24.836 54.3972C24.1733 55.5451 22.7054 55.9384 21.5575 55.2757C20.4096 54.613 20.0163 53.1451 20.6791 51.9972L22.8732 48.1969L19.0729 46.0028C17.925 45.3401 17.5317 43.8723 18.1944 42.7244ZM29.4091 56.3843C29.066 55.104 29.8258 53.7879 31.1062 53.4449L40.3791 50.9602C41.6594 50.6172 42.9754 51.377 43.3184 52.6573C43.6615 53.9376 42.9017 55.2536 41.6214 55.5967L32.3485 58.0813C31.0682 58.4244 29.7522 57.6646 29.4091 56.3843Z",fill:"#AFC1FF"})}),c.jsx("g",{clipPath:"url(#clip1_3605_64419)",children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M86.8124 13.4036C81.0973 11.8722 78.5673 13.2649 77.0144 19.0603L68.7322 49.97C67.1793 55.7656 68.5935 58.2151 74.4696 59.7895L97.4908 65.958C103.367 67.5326 105.816 66.1184 107.406 60.1848L115.393 30.379C115.536 29.8456 115.217 29.2959 114.681 29.16C113.478 28.8544 112.435 28.6195 111.542 28.4183C106.243 27.2253 106.22 27.2201 109.449 20.7159C109.73 20.1507 109.426 19.4638 108.816 19.3004L86.8124 13.4036ZM87.2582 28.4311C86.234 28.1567 85.1812 28.7645 84.9067 29.7888C84.6323 30.813 85.2401 31.8658 86.2644 32.1403L101.101 36.1158C102.125 36.3902 103.178 35.7824 103.453 34.7581C103.727 33.7339 103.119 32.681 102.095 32.4066L87.2582 28.4311ZM82.9189 37.2074C83.1934 36.1831 84.2462 35.5753 85.2704 35.8497L100.107 39.8252C101.131 40.0996 101.739 41.1524 101.465 42.1767C101.19 43.201 100.137 43.8088 99.1132 43.5343L84.2766 39.5589C83.2523 39.2844 82.6445 38.2316 82.9189 37.2074ZM83.2826 43.2683C82.2584 42.9939 81.2056 43.6017 80.9311 44.626C80.6567 45.6502 81.2645 46.703 82.2888 46.9775L89.7071 48.9652C90.7313 49.2396 91.7841 48.6318 92.0586 47.6076C92.333 46.5833 91.7252 45.5305 90.7009 45.256L83.2826 43.2683Z",fill:"#7989FF"})}),c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M40.4004 71.8426C40.4004 57.2141 44.0575 53.5569 61.1242 53.5569H66.0004H70.8766C87.9432 53.5569 91.6004 57.2141 91.6004 71.8426V79.1569C91.6004 93.7855 87.9432 97.4426 70.8766 97.4426H61.1242C44.0575 97.4426 40.4004 93.7855 40.4004 79.1569V71.8426ZM78.8002 67.4995C78.8002 70.1504 76.6512 72.2995 74.0002 72.2995C71.3492 72.2995 69.2002 70.1504 69.2002 67.4995C69.2002 64.8485 71.3492 62.6995 74.0002 62.6995C76.6512 62.6995 78.8002 64.8485 78.8002 67.4995ZM60.7204 70.8597C60.2672 70.2553 59.5559 69.8997 58.8004 69.8997C58.045 69.8997 57.3337 70.2553 56.8804 70.8597L47.2804 83.6597C46.4851 84.72 46.7 86.2244 47.7604 87.0197C48.8208 87.8149 50.3251 87.6 51.1204 86.5397L58.8004 76.2997L66.4804 86.5397C66.8979 87.0962 67.5363 87.4443 68.2303 87.4936C68.9243 87.5429 69.6055 87.2887 70.0975 86.7967L74.8004 82.0938L79.5034 86.7967C80.4406 87.734 81.9602 87.734 82.8975 86.7967C83.8347 85.8595 83.8347 84.3399 82.8975 83.4026L76.4975 77.0026C75.5602 76.0653 74.0406 76.0653 73.1034 77.0026L68.6601 81.4459L60.7204 70.8597Z",fill:"#3C46FF"}),c.jsxs("defs",{children:[c.jsx("clipPath",{id:"clip0_3605_64419",children:c.jsx("rect",{width:"56",height:"56",fill:"white",transform:"translate(0 26.9939) rotate(-15)"})}),c.jsx("clipPath",{id:"clip1_3605_64419",children:c.jsx("rect",{width:"64",height:"64",fill:"white",transform:"translate(69.5645 0.5) rotate(15)"})})]})]}),iDe=({className:e})=>c.jsxs(pn,{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",className:e,children:[c.jsx("rect",{width:"36",height:"36",rx:"6",fill:"#10A37F"}),c.jsx("path",{d:"M15.5 10.5H12.1667C11.2462 10.5 10.5 11.2462 10.5 12.1667V13.5V18M15.5 10.5H23.8333C24.7538 10.5 25.5 11.2462 25.5 12.1667V13.5V18M15.5 10.5V25.5M15.5 25.5H18H23.8333C24.7538 25.5 25.5 24.7538 25.5 23.8333V18M15.5 25.5H12.1667C11.2462 25.5 10.5 24.7538 10.5 23.8333V18M10.5 18H25.5",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]}),cDe=({className:e})=>c.jsxs(pn,{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",className:e,children:[c.jsx("rect",{width:"36",height:"36",rx:"6",fill:"#FF5588"}),c.jsx("path",{d:"M19.6663 9.66663H12.9997C12.5576 9.66663 12.1337 9.84222 11.8212 10.1548C11.5086 10.4673 11.333 10.8913 11.333 11.3333V24.6666C11.333 25.1087 11.5086 25.5326 11.8212 25.8451C12.1337 26.1577 12.5576 26.3333 12.9997 26.3333H22.9997C23.4417 26.3333 23.8656 26.1577 24.1782 25.8451C24.4907 25.5326 24.6663 25.1087 24.6663 24.6666V14.6666L19.6663 9.66663Z",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M19.667 9.66663V14.6666H24.667",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M21.3337 18.8334H14.667",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M21.3337 22.1666H14.667",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M16.3337 15.5H15.5003H14.667",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]}),lDe=({className:e})=>c.jsxs(pn,{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",className:e,children:[c.jsx("rect",{width:"36",height:"36",rx:"6",fill:"#F8CA27"}),c.jsx("path",{d:"M10.5 14V13.5V12.1667C10.5 11.2462 11.2462 10.5 12.1667 10.5H15.5H23.8333C24.7538 10.5 25.5 11.2462 25.5 12.1667V13.5V14M10.5 14V23.8333C10.5 24.7538 11.2462 25.5 12.1667 25.5H15.5H18H23.8333C24.7538 25.5 25.5 24.7538 25.5 23.8333V14M10.5 14H25.5M14 21.5L16.5 19L19 20.5L22 17.5",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]}),uDe=({className:e})=>c.jsxs(pn,{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",className:e,children:[c.jsx("rect",{width:"36",height:"36",rx:"6",fill:"#B161FD"}),c.jsx("path",{d:"M26.3337 23.8333C26.3337 24.2754 26.1581 24.6993 25.8455 25.0118C25.5329 25.3244 25.109 25.5 24.667 25.5H11.3337C10.8916 25.5 10.4677 25.3244 10.1551 25.0118C9.84259 24.6993 9.66699 24.2754 9.66699 23.8333V12.1667C9.66699 11.7246 9.84259 11.3007 10.1551 10.9882C10.4677 10.6756 10.8916 10.5 11.3337 10.5H15.5003L17.167 13H24.667C25.109 13 25.5329 13.1756 25.8455 13.4882C26.1581 13.8007 26.3337 14.2246 26.3337 14.6667V23.8333Z",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]}),dDe=({className:e})=>c.jsxs(pn,{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",className:e,children:[c.jsx("rect",{width:"36",height:"36",rx:"6",fill:"#0000FF"}),c.jsx("path",{d:"M18.833 9.66663H12.9997C12.5576 9.66663 12.1337 9.84222 11.8212 10.1548C11.5086 10.4673 11.333 10.8913 11.333 11.3333V24.6666C11.333 25.1087 11.5086 25.5326 11.8212 25.8451C12.1337 26.1577 12.5576 26.3333 12.9997 26.3333H22.9997C23.4417 26.3333 23.8656 26.1577 24.1782 25.8451C24.4907 25.5326 24.6663 25.1087 24.6663 24.6666V15.5L18.833 9.66663Z",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M18.833 9.66663V15.5H24.6663",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]}),fDe=({className:e})=>c.jsxs(pn,{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",className:e,children:[c.jsx("rect",{width:"36",height:"36",rx:"6",fill:"#FF6E3C"}),c.jsx("path",{d:"M21.333 23L26.333 18L21.333 13",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M14.667 13L9.66699 18L14.667 23",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]}),G4=({clientThreadId:e,rateLimitPopup:t,children:n,disabled:r,highlightTooltip:s=!1})=>{const o=V(),a=sp(e),i=Ge(),l=f=>{t!=null&&f&&P.logPopoverHover({type:"rate_limit",location:"file_upload",plan_type:i?.planType??"unknown"})},u=Oi(rn.signUpButtonText),d=!!t;return c.jsx(c.Fragment,{children:d?c.jsx("div",{className:"h-8",children:c.jsxs(p$,{delayDuration:150,onOpenChange:l,children:[c.jsx(m$,{asChild:!0,children:n}),c.jsx(g$,{children:c.jsx(h$,{$as:v$,side:"left",sideOffset:0,align:"start",alignOffset:-12,className:"max-w-[320px]",children:c.jsx(hDe,{isNewConversation:a,rateLimitPopup:t,signUpButtonText:u})})})]})}):c.jsx(pt,{sideOffset:0,label:r?o.formatMessage({id:"9Wgi7B",defaultMessage:"Attach files is unavailable"}):o.formatMessage({id:"qYwjac",defaultMessage:"Attach files"}),className:"flex",open:s?!0:void 0,side:"left",children:n})})},hDe=({isNewConversation:e=!1,rateLimitPopup:t,signUpButtonText:n})=>{const r=Ge(),s=It(),o=_n(),a=Dl(),i=Go();if(t==null)return null;const{call_to_action:l,description:u}=t,d=u||c.jsx(S,{...IP.defaultDescription}),f=l?.includes(ys.GET_PLUS),h=l?.includes(ys.AUTHENTICATE),m=h&&i;return c.jsxs("div",{className:"p-2 text-sm text-token-text-primary",children:[c.jsx("div",{className:"mb-3",children:d}),f?c.jsx(ue,{size:"small",color:"secondary",onClick:()=>{zs(s,"Rate limited file upload popover"),P.logRateLimitGetPlusButtonClicked({type:"file_upload",location:"popover",plan_type:r?.planType??"unknown",is_hard_block:!1,is_new_conversation:e,hard_block_reason:""})},children:c.jsx(S,{...IP.getPlus})}):null,h?c.jsx(ue,{size:"small",color:"primary",onClick:()=>{o({authType:a?"login":"signup",callback:g=>{a?P.logLogInButtonClicked({location:"File picker rate limit tooltip",provider:g}):P.logSignUpButtonClicked({location:"File picker rate limit tooltip",provider:g})}})},children:a?c.jsx(S,{...rn.logInButtonText}):c.jsx(S,{...n})}):null,m?c.jsx(ue,{size:"small",color:"secondary",className:"ml-2",onClick:()=>{o({authType:a?"signup":"login",callback:g=>{a?P.logSignUpButtonClicked({location:"File picker rate limit tooltip",provider:g}):P.logLogInButtonClicked({location:"File picker rate limit tooltip",provider:g})}})},children:a?c.jsx(S,{...n}):c.jsx(S,{...rn.logInButtonText})}):null]})},IP=Q({defaultDescription:{id:"U5qAWP",defaultMessage:"You've reached your daily upload limit. Get ChatGPT Plus to unlock more."},getPlus:{id:"TeyLcp",defaultMessage:"Get Plus"}}),W4=Ee.button`flex items-center justify-center h-8 w-8 rounded-lg rounded-bl-xl text-token-text-primary dark:text-white ${({includeBorder:e=!0})=>e?"focus-visible:outline-black dark:focus-visible:outline-white ":""} ${({disabled:e})=>e?"opacity-30":"hover:bg-black/10"}`;function Hmt({clientThreadId:e,getInputProps:t,openFileDialog:n,uploadType:r,icon:s,isDisabled:o=!1,highlightTooltip:a=!1}){const i=V(),l=iw();o=o||!!l;const u=c.jsx(W4,{disabled:o,onClick:h=>{h.preventDefault(),P.logEvent(A.openFileViewer,{intent:r.toString()}),n()},"aria-label":o?i.formatMessage({id:"PromptFilePicker.attachFilesUnavailable",defaultMessage:"Attach files is unavailable"}):i.formatMessage({id:"PromptFilePicker.attachFiles",defaultMessage:"Attach files"}),children:s}),d=c.jsx("input",{disabled:o,...t({className:"hidden"})}),f=c.jsxs("div",{className:"flex",children:[u,d]});return c.jsx(G4,{disabled:o,clientThreadId:e,rateLimitPopup:l,highlightTooltip:a,children:f})}function pDe({code:e,message:t}){switch(e){case EP.FileTooLarge:return NP.errorFileTooLarge;case EP.TooManyFiles:return P.logEvent(A.uploadedMaxFilesError),NP.errorTooManyFiles;default:return t}}const NP=Q({attachImages:{id:"PromptFilePicker.attachImages",defaultMessage:"Attach images"},attachFiles:{id:"PromptFilePicker.attachFiles",defaultMessage:"Attach files"},errorFileTooLarge:{id:"PromptFilePicker.errorFileTooLarge",defaultMessage:"Your file is too large. The maximum file size is {size}MB."},errorTooManyFiles:{id:"PromptFilePicker.errorTooManyFiles",defaultMessage:"You may only upload {maxNum} files at a time."},defaultFileUploadRateLimited:{id:"U5qAWP",defaultMessage:"You've reached your daily upload limit. Get ChatGPT Plus to unlock more."},getPlusButton:{id:"TeyLcp",defaultMessage:"Get Plus"}}),RP=Q({dragInstructions:{id:"FileDropZone.dragInstructions",defaultMessage:"Add anything"},dragAllAccepted:{id:"FileDropZone.dragAllAccepted",defaultMessage:"Drop any file here to add it to the conversation"}});function mDe(e){if(!e.accept||Object.keys(e.accept).length===0)return[];const t=[];return Object.values(e.accept).forEach(n=>t.push(...n)),t.sort()}function zmt(e){const{className:t,children:n,clientThreadId:r,currentModelConfig:s}=e,o=V(),a=ze(),i=im(r),l=Xf(s,i),u=l!==ot.None,d=vF(_=>_.files),f=(l===ot.Multimodal?lF:uh)-d.length,h=f<=0,{getGizmoId:m}=Wl(),{handleFileAccepted:g}=vDe(o,Xf(s,i),k2(s,i),"drag",m,$l(s,i)?.attachments),v=iw(),y=d0e(l0e(s,i)),{getRootProps:x,isDragActive:b}=V4({maxFiles:f,disabled:!u||h||v!=null,noClick:!0,onDropAccepted:g,onDropRejected:_=>gDe(_,o,a,l),multiple:!0,maxSize:O$e,...y}),w=mDe(y);return c.jsxs("div",{...x({className:t}),children:[n,b&&c.jsxs(yDe,{children:[c.jsx(aDe,{}),c.jsx("h3",{children:c.jsx(S,{...RP.dragInstructions})}),c.jsx("h4",{className:"w-2/3 text-center",children:w.length>0?w.join(", "):c.jsx(S,{...RP.dragAllAccepted})})]})]})}function gDe(e,t,n,r){const{errors:s}=e[0];s.forEach(o=>{const a=pDe(o);typeof a=="string"?n.danger(a,{hasCloseButton:!0}):n.danger(t.formatMessage(a,{size:uF,maxNum:r===ot.Multimodal?lF:uh}),{hasCloseButton:!0})})}function vDe(e,t,n,r,s,o){const a=ze(),i=Bl();return{handleFileAccepted:p.useCallback(async(u,d)=>{P.logEvent(A.uploadFile,{client:"web",eventSource:r,intent:t.toString()});const f=s!=null?await s():void 0;u.length>0&&u.forEach(h=>{xn.uploadFile(i,$a(h),h,t,n,e,a,{gizmoId:f},o)})},[r,t,s,i,n,e,a,o])}}const yDe=Ee.div`absolute inset-0 opacity-80 flex gap-2 flex-col justify-center items-center bg-token-main-surface-primary text-token-text-primary`;function bDe({contextConnectorSourceUrl:e,...t}){const n=V(),[r,s]=p.useState({width:0,height:0}),o=r.width/r.height,a=r.width>0&&r.height>0,i=p.useMemo(()=>{if(e!==void 0){let l=new URL(e);return l.protocol!=="https:"&&(l=void 0),l?.toString()}},[e]);return p.useEffect(()=>{if(!t.src)throw new Error("ExpandableImage requires a src");const l=new Image;l.onload=()=>{s({width:l.naturalWidth,height:l.naturalHeight})},l.onerror=()=>{},l.src=t.src},[t.src]),c.jsxs(Nh,{children:[c.jsx(Zx,{className:t.className,disabled:!a,children:t.children}),c.jsx(Rh,{children:c.jsxs($h,{className:"fixed inset-0 flex items-center justify-center overflow-hidden bg-black/90 radix-state-open:animate-show dark:bg-black/80",children:[c.jsx(Ih,{asChild:!0,children:c.jsx("button",{className:"absolute right-4 top-4",children:c.jsx(ii,{className:"h-5 w-5 text-gray-100"})})}),c.jsxs(Oh,{className:"shadow-xl focus:outline-none radix-state-open:animate-contentShow",children:[c.jsx("div",{className:O("relative max-h-[85vh] max-w-[90vw]"),style:{aspectRatio:o},children:c.jsx("img",{src:t.src,alt:t.alt,className:"h-full w-full object-contain"})}),i&&c.jsx("div",{className:"absolute right-14 top-4",children:c.jsx(pt,{label:n.formatMessage(xDe.openOriginal),children:c.jsx("a",{href:i,target:"_blank",rel:"noreferrer",children:c.jsx(_U,{className:"h-5 w-5 rotate-180 text-gray-100"})})})})]})]})})]})}const xDe=Q({openOriginal:{id:"ExpandableImage.openOriginal",defaultMessage:"Open original image"}}),wDe=({className:e,contextConnector:t,extension:n})=>{const r=SDe(t,n);return c.jsx("div",{className:`${e} flex items-center justify-center rounded-md border border-gray-100 bg-gray-50 dark:border-white/10 dark:bg-token-main-surface-secondary`,children:c.jsx(r,{className:"w-[20px]"})})};function SDe(e,t){switch(e){case q.GDRIVE:switch(t){case"doc":case"docx":return Gh;case"xls":case"xlsx":return mw;case"ppt":case"pptx":return pw;default:return ci}case q.O365_BUSINESS:case q.O365_PERSONAL:case q.O365:switch(t){case"doc":case"docx":return P$;case"xls":case"xlsx":return $$;case"ppt":case"pptx":return A$;default:return k$}case q.CONFLUENCE:case q.JIRA:return Do}}function _De({fileName:e,icon:t,loadingPercentage:n,contextConnectorInfo:r}){const s=V(),o=n!==void 0&&n<100,a=ko(e),i=r?.syntheticExtension??null;function l(d){if(LS(d))return s.formatMessage(ca.fileDescImage);switch(a){case"py":return"Python";case"js":case"jsx":return"JavaScript";case"ts":case"tsx":return"TypeScript";case"pdf":return"PDF";case"doc":case"docx":case"txt":return s.formatMessage(ca.fileDescDocument);case"zip":return s.formatMessage(ca.fileDescZip);case"xls":case"xlsx":case"csv":return s.formatMessage(ca.fileDescSpreadsheet);case"ppt":case"pptx":case"key":return s.formatMessage(ca.fileDescPresentation);default:return s.formatMessage(ca.fileDescFile)}}const u=r?.contextConnector?c.jsx(YRe,{contextConnector:r.contextConnector,extension:i??a??null}):l(e);return c.jsxs("div",{className:"flex flex-row items-center gap-2",children:[t!=null&&t!==!1?c.jsxs("div",{className:"relative h-10 w-10 overflow-hidden rounded-md border border-token-border-heavy",children:[t,o&&c.jsx(jP,{percentage:n,blurBackground:!0})]}):c.jsx("div",{className:"relative h-10 w-10 shrink-0 overflow-hidden rounded-md",children:o?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:O("inset-0",vs,TDe(e,r?.contextConnector))}),c.jsx(jP,{percentage:r?null:n})]}):c.jsx(CDe,{filename:e,contextConnectorInfo:r})}),c.jsxs("div",{className:"overflow-hidden",children:[c.jsx("div",{className:"truncate font-semibold",children:O2(e,i)}),c.jsx("div",{className:"truncate text-token-text-tertiary",children:u})]})]})}function jP({percentage:e,blurBackground:t=!1}){return c.jsx("div",{className:O("absolute inset-0 flex items-center justify-center text-white",t&&"bg-black/5 backdrop-blur-sm"),children:e?c.jsx(i2,{percentage:e,className:"h-6 w-6"}):c.jsx(Ln,{className:"h-6 w-6 text-token-text-secondary"})})}const vs="h-10 w-10 flex-shrink-0";function CDe({filename:e,contextConnectorInfo:t}){if(t)return c.jsx(wDe,{contextConnector:t.contextConnector,extension:t.syntheticExtension??ko(e)??null,className:vs});switch(ko(e)){case"py":case"js":case"jsx":case"ts":case"tsx":return c.jsx(fDe,{className:vs});case"doc":case"docx":case"txt":case"pdf":return c.jsx(cDe,{className:vs});case"zip":return c.jsx(uDe,{className:vs});case"ppt":case"pptx":case"key":return c.jsx(lDe,{className:vs});case"xls":case"xlsx":case"csv":return c.jsx(iDe,{className:vs});default:return c.jsx(dDe,{className:vs})}}function TDe(e,t){if(t)return"bg-gray-50 dark:bg-token-main-surface-secondary border rounded-md border-gray-100 dark:border-white/10";switch(ko(e)){case"py":case"js":case"jsx":case"ts":case"tsx":return"bg-[#FF6E3C]";case"doc":case"docx":case"txt":case"pdf":return"bg-[#FF5588]";case"zip":return"bg-[#B161FD]";case"ppt":case"pptx":case"key":return"bg-[#F8CA27]";case"xls":case"xlsx":case"csv":return"bg-[#10A37F]";default:return"bg-blue-300"}}const ca=Q({fileDescDocument:{id:"FileDataView.fileDescDocument",defaultMessage:"Document"},fileDescZip:{id:"FileDataView.fileDescZip",defaultMessage:"Zip Archive"},fileDescSpreadsheet:{id:"FileDataView.fileDescSpreadsheet",defaultMessage:"Spreadsheet"},fileDescPresentation:{id:"FileDataView.fileDescPresentation",defaultMessage:"Presentation"},fileDescImage:{id:"FileDataView.fileDescImage",defaultMessage:"Image"},fileDescFile:{id:"FileDataView.fileDescFile",defaultMessage:"File"}});function bo(e){return typeof window>"u"?!1:typeof e!="string"}function MDe({downloadLink:e}){const t=p.useCallback(()=>{const n=document.createElement("a");n.href=e,n.setAttribute("download",e.split("/").pop()??"downloaded_file"),document.body.appendChild(n),n.click(),document.body.removeChild(n)},[e]);return c.jsx("button",{onClick:t,children:c.jsx(CU,{className:"icon-sm m-1.5"})})}function EDe({onRemoveFileClick:e,file:t,fileId:n,gizmoId:r,loadingPercentage:s,contextConnectorInfo:o,width:a="normal",alwaysShowData:i=!1,showDownloadButton:l=!1,downloadLink:u="",borderRadius:d="xl",useV2Style:f=!1}){const h=V(),m=s!==void 0&&s<100,g=bo(t)?t.name:t,v=bo(t)&&t?.type.startsWith("image/")||LS(g)&&n!=null,y=v&&c.jsx(z4,{file:t,fileId:n,gizmoId:r,contextConnectorInfo:o}),x=v?void 0:o?.sourceUrl,w=bo(t)&&t?.type==="text/plain"&&!i&&!o&&K.checkGate("1508312659"),_=PDe({file:t,isExpandableTextFile:w}),C=!e,T=c.jsxs("div",{className:O("p-2",a==="wide"?"w-80":"w-60"),children:[c.jsx(_De,{fileName:g,icon:y,loadingPercentage:s,contextConnectorInfo:o}),l&&u!==""&&c.jsx("div",{className:"absolute right-1 top-1",children:c.jsx(MDe,{downloadLink:u})})]});return c.jsxs("div",{className:"group relative inline-block text-sm text-token-text-primary",children:[c.jsx(ODe,{showTooltip:C,sourceUrl:x,className:O("relative overflow-hidden border border-token-border-light bg-token-main-surface-primary",d==="xl"&&"rounded-xl",d==="2xl"&&"rounded-2xl"),children:v&&!i?c.jsxs("div",{className:"h-14 w-14",children:[y,m&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/5 text-white",children:c.jsx(i2,{percentage:s,className:"h-6 w-6"})})]}):w&&_?.length?c.jsx(ADe,{trigger:T,content:_}):T}),e!=null&&c.jsx("button",{onClick:e,className:O("absolute right-1 top-1 -translate-y-1/2 translate-x-1/2 rounded-full transition-colors",f?"border-[3px] border-[#f4f4f4] bg-black p-[2px] text-white dark:border-token-main-surface-secondary dark:bg-white dark:text-black":"border border-token-border-heavy bg-token-main-surface-secondary p-0.5 text-token-text-primary hover:opacity-100 group-hover:opacity-100 md:opacity-0"),children:c.jsx(pt,{label:h.formatMessage(q4.removeFile),side:"top",sideOffset:4,children:c.jsx(O$,{className:"icon-xs"})})})]})}const H4=Ee.span`flex items-center h-full w-full justify-center bg-gray-500 dark:bg-gray-700 bg-cover bg-center text-white`;function kDe(){return c.jsx(H4,{})}function z4({file:e,fileId:t,gizmoId:n,contextConnectorInfo:r}){const s=V(),o=bo(e)?e.name:e,a=$De(bo(e)?e:null,o,t,n,r);return a==null?c.jsx(kDe,{}):c.jsx(bDe,{src:a,alt:s.formatMessage(q4.userUploadedImage),contextConnectorSourceUrl:r?.sourceUrl,className:"h-full w-full",children:c.jsx(H4,{style:{backgroundImage:`url(${a})`}})})}function PDe({file:e,isExpandableTextFile:t}){const[n,r]=p.useState(void 0);return p.useEffect(()=>{if(t&&bo(e)){const s=new FileReader;s.addEventListener("load",()=>{const o=s.result;r(typeof o=="string"?o:void 0)}),s.readAsText(e)}},[t,e]),n}function ADe({trigger:e,content:t}){return c.jsxs(Nh,{children:[c.jsx(Zx,{className:"h-full w-full text-left",children:e}),c.jsx(Rh,{children:c.jsxs($h,{className:"fixed inset-0 flex items-center justify-center overflow-hidden bg-black/90 radix-state-open:animate-show dark:bg-black/80",children:[c.jsx(Ih,{asChild:!0,children:c.jsx("button",{className:"absolute right-4 top-4",children:c.jsx(ii,{className:"h-5 w-5 text-gray-100"})})}),c.jsx(Oh,{className:"shadow-xl focus:outline-none radix-state-open:animate-contentShow",children:c.jsx("div",{className:O("relative max-h-[85vh] max-w-[90vw] overflow-scroll bg-white p-10 dark:bg-gray-800"),children:c.jsx(kS,{children:t})})})]})})]})}function $De(e,t,n,r,s){const[o,a]=p.useState(void 0);return p.useEffect(()=>{async function i(l){try{const u=await Z.getFileDownloadLink(l,r);u.status===br.Success?a(u.download_url):ae.addError(`Error fetching URL for file ${l}: ${u.status}`)}catch(u){ae.addError(new Error(`Error fetching URL for file ${l})`,{cause:u}))}}if(s)n&&i(n);else if(e?.type.startsWith("image/")&&!s){const l=new FileReader;l.addEventListener("load",()=>{const u=l.result;a(typeof u=="string"?u:void 0)}),l.readAsDataURL(e)}else LS(t)&&n!=null?i(n):a(void 0)},[e,t,n,r,s]),o}const q4=Q({removeFile:{id:"FileTile.removeFile",defaultMessage:"Remove file"},userUploadedImage:{id:"FileTile.userUploadedImage",defaultMessage:"User uploaded image"}});function ODe({showTooltip:e,sourceUrl:t,children:n,className:r}){const s=s0e();if(!t)return c.jsx("div",{className:r,children:n});const o=c.jsx("a",{href:t,target:"_blank",rel:"noreferrer",children:c.jsx("div",{className:r,children:n})});return!e||!s?o:c.jsx(pt,{wide:!0,interactive:!0,sideOffset:0,label:c.jsxs("a",{href:t,target:"_blank",className:"flex w-full items-center gap-2",rel:"noreferrer",children:[c.jsx("p",{className:"line-clamp-1 flex-1 text-ellipsis",children:IDe(t)}),c.jsx(po,{className:"icon-sm"})]}),side:"top",children:o})}function IDe(e){return e.split("").join("​")}const NDe=Object.freeze(Object.defineProperty({__proto__:null,ImageThumbnail:z4,default:EDe,isFile:bo},Symbol.toStringTag,{value:"Module"})),qmt=e=>Wh([Me.GizmoMagicCreate,Me.GizmoTest],e?.kind),RDe=e=>Wh([Me.GizmoInteraction,Me.GizmoMagicCreate,Me.GizmoTest],e?.kind);function jDe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}function Dx(e,t){return Array(t+1).join(e)}function DDe(e){return e.replace(/^\n*/,"")}function LDe(e){for(var t=e.length;t>0&&e[t-1]===`
`;)t--;return e.substring(0,t)}var FDe=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function B_(e){return U_(e,FDe)}var Y4=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function K4(e){return U_(e,Y4)}function BDe(e){return X4(e,Y4)}var Q4=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function UDe(e){return U_(e,Q4)}function VDe(e){return X4(e,Q4)}function U_(e,t){return t.indexOf(e.nodeName)>=0}function X4(e,t){return e.getElementsByTagName&&t.some(function(n){return e.getElementsByTagName(n).length})}var un={};un.paragraph={filter:"p",replacement:function(e){return`

`+e+`

`}};un.lineBreak={filter:"br",replacement:function(e,t,n){return n.br+`
`}};un.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(e,t,n){var r=Number(t.nodeName.charAt(1));if(n.headingStyle==="setext"&&r<3){var s=Dx(r===1?"=":"-",e.length);return`

`+e+`
`+s+`

`}else return`

`+Dx("#",r)+" "+e+`

`}};un.blockquote={filter:"blockquote",replacement:function(e){return e=e.replace(/^\n+|\n+$/g,""),e=e.replace(/^/gm,"> "),`

`+e+`

`}};un.list={filter:["ul","ol"],replacement:function(e,t){var n=t.parentNode;return n.nodeName==="LI"&&n.lastElementChild===t?`
`+e:`

`+e+`

`}};un.listItem={filter:"li",replacement:function(e,t,n){e=e.replace(/^\n+/,"").replace(/\n+$/,`
`).replace(/\n/gm,`
    `);var r=n.bulletListMarker+"   ",s=t.parentNode;if(s.nodeName==="OL"){var o=s.getAttribute("start"),a=Array.prototype.indexOf.call(s.children,t);r=(o?Number(o)+a:a+1)+".  "}return r+e+(t.nextSibling&&!/\n$/.test(e)?`
`:"")}};un.indentedCodeBlock={filter:function(e,t){return t.codeBlockStyle==="indented"&&e.nodeName==="PRE"&&e.firstChild&&e.firstChild.nodeName==="CODE"},replacement:function(e,t,n){return`

    `+t.firstChild.textContent.replace(/\n/g,`
    `)+`

`}};un.fencedCodeBlock={filter:function(e,t){return t.codeBlockStyle==="fenced"&&e.nodeName==="PRE"&&e.firstChild&&e.firstChild.nodeName==="CODE"},replacement:function(e,t,n){for(var r=t.firstChild.getAttribute("class")||"",s=(r.match(/language-(\S+)/)||[null,""])[1],o=t.firstChild.textContent,a=n.fence.charAt(0),i=3,l=new RegExp("^"+a+"{3,}","gm"),u;u=l.exec(o);)u[0].length>=i&&(i=u[0].length+1);var d=Dx(a,i);return`

`+d+s+`
`+o.replace(/\n$/,"")+`
`+d+`

`}};un.horizontalRule={filter:"hr",replacement:function(e,t,n){return`

`+n.hr+`

`}};un.inlineLink={filter:function(e,t){return t.linkStyle==="inlined"&&e.nodeName==="A"&&e.getAttribute("href")},replacement:function(e,t){var n=t.getAttribute("href"),r=bh(t.getAttribute("title"));return r&&(r=' "'+r+'"'),"["+e+"]("+n+r+")"}};un.referenceLink={filter:function(e,t){return t.linkStyle==="referenced"&&e.nodeName==="A"&&e.getAttribute("href")},replacement:function(e,t,n){var r=t.getAttribute("href"),s=bh(t.getAttribute("title"));s&&(s=' "'+s+'"');var o,a;switch(n.linkReferenceStyle){case"collapsed":o="["+e+"][]",a="["+e+"]: "+r+s;break;case"shortcut":o="["+e+"]",a="["+e+"]: "+r+s;break;default:var i=this.references.length+1;o="["+e+"]["+i+"]",a="["+i+"]: "+r+s}return this.references.push(a),o},references:[],append:function(e){var t="";return this.references.length&&(t=`

`+this.references.join(`
`)+`

`,this.references=[]),t}};un.emphasis={filter:["em","i"],replacement:function(e,t,n){return e.trim()?n.emDelimiter+e+n.emDelimiter:""}};un.strong={filter:["strong","b"],replacement:function(e,t,n){return e.trim()?n.strongDelimiter+e+n.strongDelimiter:""}};un.code={filter:function(e){var t=e.previousSibling||e.nextSibling,n=e.parentNode.nodeName==="PRE"&&!t;return e.nodeName==="CODE"&&!n},replacement:function(e){if(!e)return"";e=e.replace(/\r?\n|\r/g," ");for(var t=/^`|^ .*?[^ ].* $|`$/.test(e)?" ":"",n="`",r=e.match(/`+/gm)||[];r.indexOf(n)!==-1;)n=n+"`";return n+t+e+t+n}};un.image={filter:"img",replacement:function(e,t){var n=bh(t.getAttribute("alt")),r=t.getAttribute("src")||"",s=bh(t.getAttribute("title")),o=s?' "'+s+'"':"";return r?"!["+n+"]("+r+o+")":""}};function bh(e){return e?e.replace(/(\n+\s*)+/g,`
`):""}function Z4(e){this.options=e,this._keep=[],this._remove=[],this.blankRule={replacement:e.blankReplacement},this.keepReplacement=e.keepReplacement,this.defaultRule={replacement:e.defaultReplacement},this.array=[];for(var t in e.rules)this.array.push(e.rules[t])}Z4.prototype={add:function(e,t){this.array.unshift(t)},keep:function(e){this._keep.unshift({filter:e,replacement:this.keepReplacement})},remove:function(e){this._remove.unshift({filter:e,replacement:function(){return""}})},forNode:function(e){if(e.isBlank)return this.blankRule;var t;return(t=mv(this.array,e,this.options))||(t=mv(this._keep,e,this.options))||(t=mv(this._remove,e,this.options))?t:this.defaultRule},forEach:function(e){for(var t=0;t<this.array.length;t++)e(this.array[t],t)}};function mv(e,t,n){for(var r=0;r<e.length;r++){var s=e[r];if(GDe(s,t,n))return s}}function GDe(e,t,n){var r=e.filter;if(typeof r=="string"){if(r===t.nodeName.toLowerCase())return!0}else if(Array.isArray(r)){if(r.indexOf(t.nodeName.toLowerCase())>-1)return!0}else if(typeof r=="function"){if(r.call(e,t,n))return!0}else throw new TypeError("`filter` needs to be a string, array, or function")}function WDe(e){var t=e.element,n=e.isBlock,r=e.isVoid,s=e.isPre||function(f){return f.nodeName==="PRE"};if(!(!t.firstChild||s(t))){for(var o=null,a=!1,i=null,l=DP(i,t,s);l!==t;){if(l.nodeType===3||l.nodeType===4){var u=l.data.replace(/[ \r\n\t]+/g," ");if((!o||/ $/.test(o.data))&&!a&&u[0]===" "&&(u=u.substr(1)),!u){l=gv(l);continue}l.data=u,o=l}else if(l.nodeType===1)n(l)||l.nodeName==="BR"?(o&&(o.data=o.data.replace(/ $/,"")),o=null,a=!1):r(l)||s(l)?(o=null,a=!0):o&&(a=!1);else{l=gv(l);continue}var d=DP(i,l,s);i=l,l=d}o&&(o.data=o.data.replace(/ $/,""),o.data||gv(o))}}function gv(e){var t=e.nextSibling||e.parentNode;return e.parentNode.removeChild(e),t}function DP(e,t,n){return e&&e.parentNode===t||n(t)?t.nextSibling||t.parentNode:t.firstChild||t.nextSibling||t.parentNode}var J4=typeof window<"u"?window:{};function HDe(){var e=J4.DOMParser,t=!1;try{new e().parseFromString("","text/html")&&(t=!0)}catch{}return t}function zDe(){var e=function(){};return qDe()?e.prototype.parseFromString=function(t){var n=new window.ActiveXObject("htmlfile");return n.designMode="on",n.open(),n.write(t),n.close(),n}:e.prototype.parseFromString=function(t){var n=document.implementation.createHTMLDocument("");return n.open(),n.write(t),n.close(),n},e}function qDe(){var e=!1;try{document.implementation.createHTMLDocument("").open()}catch{window.ActiveXObject&&(e=!0)}return e}var YDe=HDe()?J4.DOMParser:zDe();function KDe(e,t){var n;if(typeof e=="string"){var r=QDe().parseFromString('<x-turndown id="turndown-root">'+e+"</x-turndown>","text/html");n=r.getElementById("turndown-root")}else n=e.cloneNode(!0);return WDe({element:n,isBlock:B_,isVoid:K4,isPre:t.preformattedCode?XDe:null}),n}var vv;function QDe(){return vv=vv||new YDe,vv}function XDe(e){return e.nodeName==="PRE"||e.nodeName==="CODE"}function ZDe(e,t){return e.isBlock=B_(e),e.isCode=e.nodeName==="CODE"||e.parentNode.isCode,e.isBlank=JDe(e),e.flankingWhitespace=e2e(e,t),e}function JDe(e){return!K4(e)&&!UDe(e)&&/^\s*$/i.test(e.textContent)&&!BDe(e)&&!VDe(e)}function e2e(e,t){if(e.isBlock||t.preformattedCode&&e.isCode)return{leading:"",trailing:""};var n=t2e(e.textContent);return n.leadingAscii&&LP("left",e,t)&&(n.leading=n.leadingNonAscii),n.trailingAscii&&LP("right",e,t)&&(n.trailing=n.trailingNonAscii),{leading:n.leading,trailing:n.trailing}}function t2e(e){var t=e.match(/^(([ \t\r\n]*)(\s*))(?:(?=\S)[\s\S]*\S)?((\s*?)([ \t\r\n]*))$/);return{leading:t[1],leadingAscii:t[2],leadingNonAscii:t[3],trailing:t[4],trailingNonAscii:t[5],trailingAscii:t[6]}}function LP(e,t,n){var r,s,o;return e==="left"?(r=t.previousSibling,s=/ $/):(r=t.nextSibling,s=/^ /),r&&(r.nodeType===3?o=s.test(r.nodeValue):n.preformattedCode&&r.nodeName==="CODE"?o=!1:r.nodeType===1&&!B_(r)&&(o=s.test(r.textContent))),o}var n2e=Array.prototype.reduce,r2e=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function xh(e){if(!(this instanceof xh))return new xh(e);var t={rules:un,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(n,r){return r.isBlock?`

`:""},keepReplacement:function(n,r){return r.isBlock?`

`+r.outerHTML+`

`:r.outerHTML},defaultReplacement:function(n,r){return r.isBlock?`

`+n+`

`:n}};this.options=jDe({},t,e),this.rules=new Z4(this.options)}xh.prototype={turndown:function(e){if(!a2e(e))throw new TypeError(e+" is not a string, or an element/document/fragment node.");if(e==="")return"";var t=e5.call(this,new KDe(e,this.options));return s2e.call(this,t)},use:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.use(e[t]);else if(typeof e=="function")e(this);else throw new TypeError("plugin must be a Function or an Array of Functions");return this},addRule:function(e,t){return this.rules.add(e,t),this},keep:function(e){return this.rules.keep(e),this},remove:function(e){return this.rules.remove(e),this},escape:function(e){return r2e.reduce(function(t,n){return t.replace(n[0],n[1])},e)}};function e5(e){var t=this;return n2e.call(e.childNodes,function(n,r){r=new ZDe(r,t.options);var s="";return r.nodeType===3?s=r.isCode?r.nodeValue:t.escape(r.nodeValue):r.nodeType===1&&(s=o2e.call(t,r)),t5(n,s)},"")}function s2e(e){var t=this;return this.rules.forEach(function(n){typeof n.append=="function"&&(e=t5(e,n.append(t.options)))}),e.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function o2e(e){var t=this.rules.forNode(e),n=e5.call(this,e),r=e.flankingWhitespace;return(r.leading||r.trailing)&&(n=n.trim()),r.leading+t.replacement(n,e,this.options)+r.trailing}function t5(e,t){var n=LDe(e),r=DDe(t),s=Math.max(e.length-n.length,t.length-r.length),o=`

`.substring(0,s);return n+o+r}function a2e(e){return e!=null&&(typeof e=="string"||e.nodeType&&(e.nodeType===1||e.nodeType===9||e.nodeType===11))}var FP=/highlight-(?:text|source)-([a-z0-9]+)/;function i2e(e){e.addRule("highlightedCodeBlock",{filter:function(t){var n=t.firstChild;return t.nodeName==="DIV"&&FP.test(t.className)&&n&&n.nodeName==="PRE"},replacement:function(t,n,r){var s=n.className||"",o=(s.match(FP)||[null,""])[1];return`

`+r.fence+o+`
`+n.firstChild.textContent+`
`+r.fence+`

`}})}function c2e(e){e.addRule("strikethrough",{filter:["del","s","strike"],replacement:function(t){return"~"+t+"~"}})}var l2e=Array.prototype.indexOf,u2e=Array.prototype.every,Qa={};Qa.tableCell={filter:["th","td"],replacement:function(e,t){return n5(e,t)}};Qa.tableRow={filter:"tr",replacement:function(e,t){var n="",r={left:":--",right:"--:",center:":-:"};if(V_(t))for(var s=0;s<t.childNodes.length;s++){var o="---",a=(t.childNodes[s].getAttribute("align")||"").toLowerCase();a&&(o=r[a]||o),n+=n5(o,t.childNodes[s])}return`
`+e+(n?`
`+n:"")}};Qa.table={filter:function(e){return e.nodeName==="TABLE"&&V_(e.rows[0])},replacement:function(e){return e=e.replace(`

`,`
`),`

`+e+`

`}};Qa.tableSection={filter:["thead","tbody","tfoot"],replacement:function(e){return e}};function V_(e){var t=e.parentNode;return t.nodeName==="THEAD"||t.firstChild===e&&(t.nodeName==="TABLE"||d2e(t))&&u2e.call(e.childNodes,function(n){return n.nodeName==="TH"})}function d2e(e){var t=e.previousSibling;return e.nodeName==="TBODY"&&(!t||t.nodeName==="THEAD"&&/^\s*$/i.test(t.textContent))}function n5(e,t){var n=l2e.call(t.parentNode.childNodes,t),r=" ";return n===0&&(r="| "),r+e+" |"}function f2e(e){e.keep(function(n){return n.nodeName==="TABLE"&&!V_(n.rows[0])});for(var t in Qa)e.addRule(t,Qa[t])}function h2e(e){e.addRule("taskListItems",{filter:function(t){return t.type==="checkbox"&&t.parentNode.nodeName==="LI"},replacement:function(t,n){return(n.checked?"[x]":"[ ]")+" "}})}function p2e(e){e.use([i2e,c2e,f2e,h2e])}function BP(e){const t={...e};for(const n of Object.keys(t))t[n]=Math.round(t[n]);return t}const yv={clientRect:void 0,isCollapsed:void 0,textContent:void 0,documentFragment:void 0,selection:void 0},r5=new xh;r5.use(p2e);function m2e(e){const n=e.getRangeAt(0).cloneContents(),r=document.createElement("div");return r.appendChild(n),r5.turndown(r.innerHTML)}function g2e(e){const[{clientRect:t,isCollapsed:n,textContent:r,documentFragment:s,selection:o},a]=p.useState(yv);return i$(()=>{const i=()=>{setTimeout(()=>{let l;const u=window.getSelection(),d={};if(u==null||!u.rangeCount){a(yv);return}const f=u.getRangeAt(0);if(f==null){a(yv);return}const h=f.cloneContents();d.documentFragment=h,d.textContent=m2e(u);const m=f.getClientRects();if(m.length===0&&f.commonAncestorContainer!=null&&f.commonAncestorContainer instanceof HTMLElement){const g=f.commonAncestorContainer;l=BP(g.getBoundingClientRect().toJSON())}else{if(m.length<1)return;l=BP(m[0].toJSON())}d.clientRect=l,d.isCollapsed=f.collapsed,d.selection=u,a(d)},0)};return window.addEventListener("mouseup",i),()=>{window.removeEventListener("mouseup",i)}},[e]),{clientRect:t,isCollapsed:n,textContent:r,documentFragment:s,selection:o}}const v2e="agent-turn",Ymt=[Me.PrimaryAssistant,Me.GizmoInteraction];function y2e(e){return Cc.createPortal(e.children,e.mount??document.body)}function b2e({messageId:e,anchorNode:t,clientRect:n,onClick:r}){const s=V(),o=()=>{r(e)};if(!t)return null;const a=t.closest(`.${v2e}`);if(!a)return null;const i=t.getBoundingClientRect();return c.jsx(y2e,{mount:a,children:c.jsx("div",{className:"absolute",style:{top:t.offsetTop-36+n.top-i.top,left:n.left-i.left,width:n.width,height:n.height},children:c.jsx(pt,{label:s.formatMessage(w2e.replyTooltip),side:"top",children:c.jsx(ue,{size:"small",color:"secondary",className:"shadow-lg",onClick:o,children:c.jsx(TU,{className:"icon-md"})})})})})}function bv(e,t){for(;e;){if(e instanceof HTMLElement&&e.dataset[t]!=null)return{node:e,dataValue:e.dataset[t]};e=e.parentNode}return{node:void 0,dataValue:void 0}}const x2e=3;function Kmt({onTargetedReply:e}){const{clientRect:t,isCollapsed:n,textContent:r,selection:s}=g2e(),{dataValue:o}=bv(s?.anchorNode,"messageAuthorRole"),{node:a,dataValue:i}=bv(s?.anchorNode,"messageId"),{dataValue:l}=bv(s?.focusNode,"messageId"),u=!l||i===l,d=r?.trim(),f=d?.length??0,h=m=>{d!==void 0&&e({targetedReply:{type:"text",label:d,createNewCompletionParams:g=>{const v=s8(d);return{...g,messageMetadata:{...g.messageMetadata,targeted_reply:d},appendMessages:g.appendMessages==null?[v]:[...g.appendMessages,v]}},onCreateCompletion:({serverThreadId:g,currentLeafId:v})=>{P.logEvent(A.targetedReplySubmitted,{conversationId:g,currentLeafId:v})},onCleared:({serverThreadId:g,currentLeafId:v})=>{P.logEvent(A.targetedReplyCleared,{conversationId:g,currentLeafId:v})}},messageId:m})};return t==null||n||f<x2e||!u||o!=="assistant"?null:c.jsx(b2e,{messageId:i??"",anchorNode:a,clientRect:t,onClick:h})}const w2e=Q({replyTooltip:{id:"targetedReply.replyTooltip",defaultMessage:"Reply"}});function S2e({hasConnectors:e}){const{eligible:t,markAsViewed:n}=Xe(We.ContextConnectors),{activeModals:r}=we(),s=V();return c.jsx(hm,{side:"top",show:t&&e&&r.size===0,title:s.formatMessage(UP.connectApps),onDismiss:n,sideOffset:32,theme:"bright",description:s.formatMessage(UP.description),children:c.jsx("div",{})})}const UP=Q({connectApps:{id:"ContextConnectorAnnouncementTooltipContent.connectApps",defaultMessage:"Connect Apps"},description:{id:"ContextConnectorAnnouncementTooltipContent.description",defaultMessage:"Connect apps to access files in ChatGPT, like docs and spreadsheets."}}),_2e=(e,t)=>`${e}:${t}`,s5=zc((e,t)=>({async getToken(n,r){const s=_2e(n,r),o=t()._tokens[s];if(o)try{const i=await o;if(Date.now()+30*60*1e3<i.expires_at*1e3)return i.access_token}catch{}const a=Z.getConnectorAccessTokenWithScope(n,r);return e(i=>({...i,_tokens:{...i._tokens,[s]:a}})),a.then(i=>i.access_token)},_tokens:{}}));async function C2e(e,t,n,r){if(n.type==="business"){const u=new URL(n.baseUrl);t=await s5.getState().getToken(q.O365_BUSINESS,`${u.origin}/.default`)}const s=T2e(r,n.baseUrl),o=new URLSearchParams({filePicker:JSON.stringify(s)}),a=`${n.parsedUrl}?${o}`,i=e.document.createElement("form");i.setAttribute("action",a),i.setAttribute("method","POST");const l=e.document.createElement("input");l.setAttribute("type","hidden"),l.setAttribute("name","access_token"),l.setAttribute("value",t),i.appendChild(l),e.document.body.append(i),i.submit()}function T2e(e,t){return{sdk:"8.0",messaging:{channelId:e,origin:location.origin},authentication:{},entry:{sharePoint:{byPath:{list:t}}},typesAndSources:{mode:"files"},selection:{mode:"multiple"},search:{enabled:!0}}}function M2e(e,t,n,r,s,o){function a(i){if(i?.source!==t)return;const l=i.data;if(l.type==="initialize"&&l.channelId===n){Yt.filePickerLoaded(o);const u=i.ports[0],f=k2e(e,async h=>{if(u.removeEventListener("message",f),u.close(),t.close(),h!=null){const m=await Promise.all(h.map(g=>E2e(g,e,s)));r({type:"pick",docs:m})}else r({type:"cancel"})},u,o);u.addEventListener("message",f),u.start(),u.postMessage({type:"activate"})}}window.addEventListener("message",a)}async function E2e(e,t,n){let r=`https://graph.microsoft.com/v1.0/drives/${encodeURIComponent(e.parentReference.driveId)}/items/${encodeURIComponent(e.id)}`;n.type==="personal"&&(r=`https://api.onedrive.com/v1.0/drives/${encodeURIComponent(e.parentReference.driveId)}/items/${encodeURIComponent(e.id)}`);const o=await(await fetch(r,{method:"GET",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).json();return{connector:n.type==="personal"?q.O365_PERSONAL:q.O365_BUSINESS,id:e.id,title:o.name??"",mimeType:o.file?.mimeType??"",url:o.webUrl??"",syntheticExtension:null,o365DriveId:e.parentReference.driveId}}function k2e(e,t,n,r){return async function(o){const a=o.data;if(a.type==="notification"||a.type!=="command")return;const i=a.data;switch(n.postMessage({type:"acknowledge",id:o.data.id}),i.command){case"authenticate":{r===q.O365_BUSINESS&&(e=await s5.getState().getToken(r,`${i.resource}/.default`)),n.postMessage({type:"result",id:o.data.id,data:{result:"token",token:e}});break}case"close":{t(null);break}case"pick":{try{t(i.items),n.postMessage({type:"result",id:o.data.id,data:{result:"success"}})}catch(l){n.postMessage({type:"result",id:o.data.id,data:{result:"error",error:{code:"unusableItem",message:l.message}}})}break}default:{n.postMessage({type:"result",id:o.data.id,data:{result:"error",error:{code:"unsupportedCommand",message:i.command}}});break}}}}const P2e=X.memo(function({type:t,onClose:n,uploadPickedFile:r}){const{connectorConfig:s}=mm(),o=t?s.get(t):null;return!o?.onedrive_endpoint_hint||!o.access_token?null:c.jsx(A2e,{onClose:n,accessToken:o?.access_token,oneDriveURL:o?.onedrive_endpoint_hint,uploadPickedFile:r})});function A2e({onClose:e,accessToken:t,oneDriveURL:n,uploadPickedFile:r}){const{current:s}=p.useRef(new WeakMap),o=n.type==="personal"?q.O365_PERSONAL:q.O365_BUSINESS;return c.jsx(Nh,{open:!0,onOpenChange:a=>{a||e()},children:c.jsx(Rh,{children:c.jsx($h,{className:"fixed inset-0 flex items-center justify-center bg-black/50 dark:bg-black/80",children:c.jsx(Oh,{className:"flex h-full max-h-[600px] w-full max-w-[1300px] items-center justify-center",onPointerDownOutside:()=>{Yt.filePickerCancelled(o)},children:c.jsx("iframe",{className:"mx-[32px] my-[32px] h-full w-full",src:"about:blank",ref:a=>{const i=a?.contentWindow;if(a==null||i==null||s.has(a))return;s.set(a,!0);const l=Fn();Yt.filePickerStarted(o),C2e(i,t,n,l),M2e(t,i,l,u=>{switch(u.type){case"pick":Yt.filePickerPicked(o,u.docs.length),u.docs.forEach(d=>r(d,o));break;case"cancel":Yt.filePickerCancelled(o);break}e()},n,o)}})})})})})}function o5(e){switch(e){case q.GDRIVE:return ci;case q.O365_BUSINESS:case q.O365_PERSONAL:case q.O365:return I$;case q.CONFLUENCE:case q.JIRA:return Do}}let xv=null;function a5(e){return xv==null&&(xv=$2e().then(()=>(gapi.client.setToken({access_token:e}),gapi.client.init({apiKey:y4,scope:"https://www.googleapis.com/auth/drive.file",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"]})))),xv}function $2e(){return new Promise((e,t)=>{const n=document.createElement("script");n.src="https://apis.google.com/js/api.js",n.onload=e,n.onerror=t,document.documentElement.appendChild(n)}).then(()=>Promise.all([new Promise(e=>gapi.load("client",e)),new Promise(e=>gapi.load("client:picker",e))]))}function VP({entry:e,onClick:t}){const{connectorConfig:n}=mm();p.useEffect(()=>{if(!open||e.type!==q.GDRIVE)return;const i=n.get(q.GDRIVE)?.access_token;i&&a5(i)},[n,e.type]);const r=o5(e.type),s=V(),o=e.access_token?GP.uploadFromMessage:GP.signinWithMessage;return c.jsx(ie.Item,{onClick:t,icon:r,children:c.jsxs("div",{className:"flex flex-col",children:[c.jsx(S,{...o,values:{connectorName:gm(e.type,s)}}),e.type===q.O365_BUSINESS&&c.jsx("div",{className:"text-s text-token-text-tertiary",children:c.jsx(S,{...L_.includesSharePoint})})]})},e.id)}const GP=Q({signinWithMessage:{id:"ContextConnectorPickerDropdownItem.signInWithMessage",defaultMessage:"Connect to {connectorName}"},uploadFromMessage:{id:"ContextConnectorPickerDropdownItem.uploadWithMessage",defaultMessage:"Add from {connectorName}"}});function O2e({clientThreadId:e,icon:t,setOpen:n,isDisabled:r=!1,highlightTooltip:s=!1}){const o=iw(),a=V();return r=r||!!o,c.jsxs(c.Fragment,{children:[c.jsx(ie.Trigger,{className:"m-0 h-0 w-0 border-none bg-transparent p-0"}),c.jsx(G4,{clientThreadId:e,rateLimitPopup:o,highlightTooltip:s,disabled:r,children:c.jsx(W4,{disabled:r,"aria-disabled":r,"aria-label":r?a.formatMessage({id:"NTwThg",defaultMessage:"Attach files is unavailable"}):a.formatMessage({id:"tA7CXR",defaultMessage:"Attach files"}),onClick:i=>{i.preventDefault(),n(!0)},children:t})})]})}function I2e({connectorEntries:e,onOauthRedirect:t}){const n=V();return c.jsxs(ie.Sub,{children:[c.jsx(ie.SubMenuTrigger,{icon:MU,children:c.jsx("div",{className:"line-clamp-1 text-ellipsis",children:c.jsx(S,{...N2e.connectApps})})}),c.jsx(ie.Portal,{children:c.jsx(ie.SubContent,{children:e.map(r=>c.jsx(ie.Item,{onClick:()=>t(r),icon:o5(r.type),children:c.jsxs("div",{className:"flex flex-col",children:[gm(r.type,n),r.type===q.O365_BUSINESS&&c.jsx("div",{className:"text-s text-token-text-tertiary",children:c.jsx(S,{...L_.includesSharePoint})})]})},r.id))})})]})}const N2e=Q({connectApps:{id:"ContextConnectorPicker.connectApps",defaultMessage:"Connect apps"}});function R2e({onOauthRedirect:e,connectors:t}){const n=V();return c.jsxs(ie.Sub,{children:[c.jsx(ie.SubMenuTrigger,{icon:I$,children:c.jsx(S,{...j2e.oneDriveSubmenuName})}),c.jsx(ie.Portal,{children:c.jsx(ie.SubContent,{children:t.map(r=>r?c.jsx(ie.Item,{onClick:()=>e(r),children:c.jsxs("div",{className:"flex flex-col",children:[gm(r.type,n),r.type===q.O365_BUSINESS&&c.jsx("div",{className:"text-s text-token-text-tertiary",children:c.jsx(S,{...L_.includesSharePoint})})]})},r.id):null)})})]})}const j2e=Q({oneDriveSubmenuName:{id:"ContextConnectorPickerOneDriveSubmenu.oneDriveSubmenuName",defaultMessage:"Connect to Microsoft OneDrive"}}),D2e={"image/jpeg":".jpg","image/png":".png"};function L2e({entry:e}){return c.jsx(ie.Item,{onClick:e.onClick,icon:e.icon,children:c.jsx(S,{...e.label})},e.key)}function F2e(e){const t=V(),n=ze(),r=Bl();return p.useCallback(async o=>{const a=`${new Date().toISOString().replaceAll(":","-")}${D2e[o.mimeType]}`;_a.uploadFile(r,new File([o.data],a,{type:o.mimeType}),e,t,n,void 0,void 0,ot.Multimodal)},[r,t,n,e])}function B2e(e){const t=F2e(e),n=U2e(t),r=V2e(t);return{desktopConnectors:p.useMemo(()=>ri?[n,r].filter(o=>o!==void 0):[],[n,r])}}function U2e(e){const{value:t}=Ot("4204519260");return p.useMemo(()=>{if(t)return{key:"takeScreenshot",label:i5.takeScreenshot,icon:EU,onClick:async()=>{const n=await T6();n&&(P.logEvent(A.sidetronScreenshotAttached),await e(n))}}},[t,e])}function V2e(e){const{value:t}=Ot("239993468");return p.useMemo(()=>{if(t)return{key:"takePhoto",label:i5.takePhoto,icon:kU,onClick:async()=>{const n=await M6();n&&(P.logEvent(A.sidetronPhotoAttached),await e(n))}}},[t,e])}const i5=Q({takeScreenshot:{id:"ContextConnectorPickerDropdownItem.takeScreenshotDesktop",defaultMessage:"Take screenshot"},takePhoto:{id:"ContextConnectorPickerDropdownItem.takePhotoDesktop",defaultMessage:"Take photo"}});async function G2e(e,t,n,r){await a5(n);async function s(d){switch(d.action){case google.picker.Action.PICKED:{Yt.filePickerPicked(q.GDRIVE,d.docs.length);const f=d.docs.map(h=>({connector:t,id:h.id,title:h.name,mimeType:h.mimeType,url:h.url,syntheticExtension:h.type==="document"?T2(h.mimeType):null}));r(f);break}case google.picker.Action.CANCEL:Yt.filePickerCancelled(q.GDRIVE);return;case"loaded":{Yt.filePickerLoaded(q.GDRIVE);return}}}const o=new google.picker.DocsView(google.picker.ViewId.DOCS).setIncludeFolders(!0).setSelectFolderEnabled(!1).setMode(google.picker.DocsViewMode.LIST);let a="en";WP.includes(e)?a=e:WP.includes(e.split("-")[0])&&(a=e.split("-")[0]);const i=new google.picker.PickerBuilder().enableFeature(google.picker.Feature.MULTISELECT_ENABLED).enableFeature(google.picker.Feature.SUPPORT_DRIVES).setDeveloperKey(y4).setAppId(TRe).setOAuthToken(n).addView(o).setCallback(s).setLocale(a).build();Yt.filePickerStarted(q.GDRIVE),i.setVisible(!0);const l=W2e(),u=()=>{Yt.filePickerCancelled(q.GDRIVE),i.setVisible(!1),l?.removeEventListener("click",u)};l?.addEventListener("click",u)}function W2e(){if(typeof window>"u")return null;const e=window.document.body.querySelector("div.picker-dialog-bg")??window.document.body.querySelector("div.oai-picker-dialog-bg");return e?.classList.add("oai-picker-dialog-bg","bg-black/50","dark:bg-black/80","absolute","inset-0","z-[1000]"),e?.classList.remove("picker-dialog-bg"),e}const WP=["af","am","ar","bg","bn","ca","cs","da","de","el","en","en-GB","es","es-419","et","eu","fa","fi","fil","fr","fr-CA","gl","gu","hi","hr","hu","id","is","it","iw","ja","kn","ko","lt","lv","ml","mr","ms","nl","no","pl","pt-BR","pt-PT","ro","ru","sk","sl","sr","sv","sw","ta","te","th","tr","uk","ur","vi","zh-CN","zh-HK","zh-TW","zu"];var H2e=vI,z2e=H2e(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),q2e=z2e;const wh=ge(q2e);var HP=YA,Y2e=E6,K2e=Ph,zP=HP?HP.isConcatSpreadable:void 0;function Q2e(e){return K2e(e)||Y2e(e)||!!(zP&&e&&e[zP])}var X2e=Q2e,Z2e=k6,J2e=X2e;function c5(e,t,n,r,s){var o=-1,a=e.length;for(n||(n=J2e),s||(s=[]);++o<a;){var i=e[o];t>0&&n(i)?t>1?c5(i,t-1,n,r,s):Z2e(s,i):r||(s[s.length]=i)}return s}var eLe=c5,tLe=gI,nLe=Eh;function rLe(e,t){var n=-1,r=nLe(e)?Array(e.length):[];return tLe(e,function(s,o,a){r[++n]=t(s,o,a)}),r}var sLe=rLe;function oLe(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var aLe=oLe,qP=xA;function iLe(e,t){if(e!==t){var n=e!==void 0,r=e===null,s=e===e,o=qP(e),a=t!==void 0,i=t===null,l=t===t,u=qP(t);if(!i&&!u&&!o&&e>t||o&&a&&l&&!i&&!u||r&&a&&l||!n&&l||!s)return 1;if(!r&&!o&&!u&&e<t||u&&n&&s&&!r&&!o||i&&n&&s||!a&&s||!l)return-1}return 0}var cLe=iLe,lLe=cLe;function uLe(e,t,n){for(var r=-1,s=e.criteria,o=t.criteria,a=s.length,i=n.length;++r<a;){var l=lLe(s[r],o[r]);if(l){if(r>=i)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return e.index-t.index}var dLe=uLe,wv=P6,fLe=A6,hLe=ei,pLe=sLe,mLe=aLe,gLe=ow,vLe=dLe,yLe=Hc,bLe=Ph;function xLe(e,t,n){t.length?t=wv(t,function(o){return bLe(o)?function(a){return fLe(a,o.length===1?o[0]:o)}:o}):t=[yLe];var r=-1;t=wv(t,gLe(hLe));var s=pLe(e,function(o,a,i){var l=wv(t,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return mLe(s,function(o,a){return vLe(o,a,n)})}var wLe=xLe;function SLe(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var _Le=SLe,CLe=_Le,YP=Math.max;function TLe(e,t,n){return t=YP(t===void 0?e.length-1:t,0),function(){for(var r=arguments,s=-1,o=YP(r.length-t,0),a=Array(o);++s<o;)a[s]=r[t+s];s=-1;for(var i=Array(t+1);++s<t;)i[s]=r[s];return i[t]=n(a),CLe(e,this,i)}}var MLe=TLe,ELe=X$,KP=$6,kLe=Hc,PLe=KP?function(e,t){return KP(e,"toString",{configurable:!0,enumerable:!1,value:ELe(t),writable:!0})}:kLe,ALe=PLe,$Le=800,OLe=16,ILe=Date.now;function NLe(e){var t=0,n=0;return function(){var r=ILe(),s=OLe-(r-n);if(n=r,s>0){if(++t>=$Le)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var RLe=NLe,jLe=ALe,DLe=RLe,LLe=DLe(jLe),FLe=LLe,BLe=Hc,ULe=MLe,VLe=FLe;function GLe(e,t){return VLe(ULe(e,t,BLe),e+"")}var WLe=GLe,HLe=O6,zLe=Eh,qLe=I6,YLe=ti;function KLe(e,t,n){if(!YLe(n))return!1;var r=typeof t;return(r=="number"?zLe(n)&&qLe(t,n.length):r=="string"&&t in n)?HLe(n[t],e):!1}var QLe=KLe,XLe=eLe,ZLe=wLe,JLe=WLe,QP=QLe,e3e=JLe(function(e,t){if(e==null)return[];var n=t.length;return n>1&&QP(e,t[0],t[1])?t=[]:n>2&&QP(t[0],t[1],t[2])&&(t=[t[0]]),ZLe(e,XLe(t,1),[])}),t3e=e3e;const l5=ge(t3e);function n3e(){const{connectorConfig:e}=mm(),t=ki(),n=zS(),[r,s]=wh(l5([...e.values()],d=>!!d.access_token),d=>!!d.access_token),[o,a]=wh(s,d=>d.type===q.O365_PERSONAL||d.type===q.O365_BUSINESS),i=!t&&!n&&r.length>0,l=!t&&!n&&!i&&o.length>1;return{unconnectedConnectors:n?[]:l?a:s,showUnconnectedInSubmenu:i,showOneDriveInSubmenu:l}}function r3e({clientThreadId:e,icon:t,modelAcceptedMimeTypes:n,modelSupportedImageMimeTypes:r,attachmentsProductFeature:s,onOauthRedirect:o,uploadType:a,getInputProps:i,openFileDialog:l,isDisabled:u=!1,highlightTooltip:d=!1}){const{currentLocale:f}=y$(),h=V(),m=ze(),g=Bl(),v=ki(),{connectorConfig:y,isLoading:x}=mm(),b=Xe(We.ContextConnectors),{getGizmoId:w}=Wl(),[_,C]=p.useState();p.useEffect(()=>{w?w().then(re=>C(re)):C(void 0)},[w]);const T=p.useRef(null),[M,E]=p.useState(!1),R=p.useRef(!1),$=p.useCallback(()=>{const re=T.current?.files;Array.from(re??[]).forEach(gt=>_a.uploadFile(g,gt,r,h,m,s))},[g,r,h,m,s]),[U,Y]=p.useState(null),F=p.useCallback(()=>Y(null),[Y]),j=p.useCallback((re,gt)=>_a.uploadPickedFile(g,re,gt,r,n,s,_,h,m),[g,r,n,s,_,h,m]),{openMenu:D,confirmMenuOpened:B}=ph();p.useEffect(()=>{D&&(E(!0),B())},[D,B,E]);const H=p.useCallback(re=>{_a.doContextConnectorOauthRedirect(location.pathname+location.search+location.hash,re,o,nr.Picker),o()},[o]),N=p.useCallback(re=>{_a.uploadPickedFile(g,re,q.GDRIVE,r,n,s,_,h,m)},[g,r,n,s,_,h,m]),L=p.useCallback(async re=>{const{access_token:gt}=re;if(!gt){H(re);return}switch(R_(re,nr.Picker),re.type){case q.GDRIVE:G2e(f,re.type,gt,at=>at.forEach(N));break;case q.O365_PERSONAL:case q.O365_BUSINESS:Y(re.type);break}},[N,H,Y,f]),W=()=>{P.logEvent(A.openFileViewer,{intent:a.toString()}),l()},ce=re=>{if(!re&&R.current&&!x)W();else if(re&&pe&&!x){W();return}E(re),re&&(b.eligible&&b.markAsViewed(),P.logEvent(A.composerOpenContextConnectorPicker),R.current=!0,setTimeout(()=>{R.current=!1},250))},[se,le]=wh(l5([...y.values()],re=>!!re.access_token),re=>!!re.access_token);s3e(se,L);const[ke]=wh(le,re=>re.type===q.O365_PERSONAL||re.type===q.O365_BUSINESS),{unconnectedConnectors:ne,showUnconnectedInSubmenu:G,showOneDriveInSubmenu:ye}=n3e(),{desktopConnectors:be}=B2e(r),pe=!se.length&&!ne.length&&!be.length,nt=c.jsxs(c.Fragment,{children:[G&&ne.length>0&&c.jsx(I2e,{connectorEntries:ne,onOauthRedirect:re=>H(re)}),!G&&ne.map(re=>c.jsx(VP,{entry:re,onClick:()=>L(re)},re.id)),ye&&c.jsx(R2e,{connectors:ke,onOauthRedirect:H}),x&&c.jsx(ie.Item,{icon:c.jsx(Ln,{className:"text-token-text-secondary"})}),(ne.length>0||x)&&c.jsx(ie.Separator,{}),se.map(re=>c.jsx(VP,{entry:re,onClick:()=>L(re)},re.id)),be.map(re=>c.jsx(L2e,{entry:re},re.key)),c.jsx(ie.Item,{onClick:W,icon:N$,children:c.jsx(S,{...v?XP.uploadFileMobile:XP.uploadFile})},"upload")]}),Ne=c.jsxs("div",{className:"flex flex-col",children:[c.jsx(P2e,{type:U,onClose:F,uploadPickedFile:j}),c.jsx("input",{onChange:$,...i({className:"hidden"})}),c.jsxs(ie.Root,{open:M,onOpenChange:ce,children:[c.jsx(O2e,{clientThreadId:e,icon:t,setOpen:ce,isDisabled:u,highlightTooltip:d}),c.jsx(ie.Portal,{children:c.jsx(ie.Content,{size:"large",children:nt})})]}),c.jsx(S2e,{hasConnectors:!x&&!pe})]});return{dropdownItems:nt,mainComponent:Ne}}function s3e(e,t){const{connector:n,clearParam:r}=yRe(),s=e.find(o=>o.type===n&&!!o.access_token);p.useEffect(()=>{s&&(t(s),r())},[s,t,r])}function Qmt(e){const{mainComponent:t}=r3e(e);return t}const XP=Q({attachFiles:{id:"ContextConnectorPicker.attachFiles",defaultMessage:"Attach files"},uploadFile:{id:"LocalFileDropdownItem.uploadFile",defaultMessage:"Upload from computer"},uploadFileMobile:{id:"LocalFileDropdownItem.uploadFileMobile",defaultMessage:"Upload file"}}),Xmt={"prosemirror-parent":"_prosemirror-parent_15ceg_1"};var Sh=200,on=function(){};on.prototype.append=function(t){return t.length?(t=on.from(t),!this.length&&t||t.length<Sh&&this.leafAppend(t)||this.length<Sh&&t.leafPrepend(this)||this.appendInner(t)):this};on.prototype.prepend=function(t){return t.length?on.from(t).append(this):this};on.prototype.appendInner=function(t){return new o3e(this,t)};on.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.length),t>=n?on.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))};on.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};on.prototype.forEach=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(t,n,r,0):this.forEachInvertedInner(t,n,r,0)};on.prototype.map=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var s=[];return this.forEach(function(o,a){return s.push(t(o,a))},n,r),s};on.from=function(t){return t instanceof on?t:t&&t.length?new u5(t):on.empty};var u5=function(e){function t(r){e.call(this),this.values=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(s,o){return s==0&&o==this.length?this:new t(this.values.slice(s,o))},t.prototype.getInner=function(s){return this.values[s]},t.prototype.forEachInner=function(s,o,a,i){for(var l=o;l<a;l++)if(s(this.values[l],i+l)===!1)return!1},t.prototype.forEachInvertedInner=function(s,o,a,i){for(var l=o-1;l>=a;l--)if(s(this.values[l],i+l)===!1)return!1},t.prototype.leafAppend=function(s){if(this.length+s.length<=Sh)return new t(this.values.concat(s.flatten()))},t.prototype.leafPrepend=function(s){if(this.length+s.length<=Sh)return new t(s.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(on);on.empty=new u5([]);var o3e=function(e){function t(n,r){e.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},t.prototype.forEachInner=function(r,s,o,a){var i=this.left.length;if(s<i&&this.left.forEachInner(r,s,Math.min(o,i),a)===!1||o>i&&this.right.forEachInner(r,Math.max(s-i,0),Math.min(this.length,o)-i,a+i)===!1)return!1},t.prototype.forEachInvertedInner=function(r,s,o,a){var i=this.left.length;if(s>i&&this.right.forEachInvertedInner(r,s-i,Math.max(o,i)-i,a+i)===!1||o<i&&this.left.forEachInvertedInner(r,Math.min(s,i),o,a)===!1)return!1},t.prototype.sliceInner=function(r,s){if(r==0&&s==this.length)return this;var o=this.left.length;return s<=o?this.left.slice(r,s):r>=o?this.right.slice(r-o,s-o):this.left.slice(r,o).append(this.right.slice(0,s-o))},t.prototype.leafAppend=function(r){var s=this.right.leafAppend(r);if(s)return new t(this.left,s)},t.prototype.leafPrepend=function(r){var s=this.left.leafPrepend(r);if(s)return new t(s,this.right)},t.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new t(this.left,new t(this.right,r)):new t(this,r)},t}(on);function d5(){const{value:e}=$t("2813404493");return e}const a3e=Oe(()=>Ie(()=>import("./czkaz2xy5d2ktt8o.js"),__vite__mapDeps([63,1,2,3,64,65,14,6,66,67,68,69,55,70,7,71,72,27,28])).then(e=>e.VoiceModeLayout)),i3e=Oe(()=>Ie(()=>import("./n80si35hjwf2o2ut.js"),__vite__mapDeps([73,1,2,3,64,71,72,27,28,6])).then(e=>e.ComposerSpeechButton)),c3e=Oe(()=>Ie(()=>import("./f0h701p0sjlcot63.js"),__vite__mapDeps([74,1,2,3,51,6])).then(e=>e.VoiceConversationRating));function G_(){return $t("1426009137")?.value}function l3e(e){return G_()?c.jsx(a3e,{...e}):null}function u3e(e){const t=G_(),{Fallback:n,...r}=e;return t?c.jsx(i3e,{...r}):c.jsx(n,{})}function Zmt(e){return G_()?c.jsx(c3e,{...e}):null}const Jmt=300,egt=async(e=1)=>{let t=0,n;return new Promise(r=>{const s=o=>(n||(n=o),o-n<e*1e3?(t+=1,requestAnimationFrame(s)):r(Math.floor(t/e)));requestAnimationFrame(s)})},tgt=e=>{const t=p.useRef(e),n=p.useCallback(r=>{(t.current[0]!==r.width||t.current[1]!==r.height)&&(t.current=[r.width,r.height])},[]);return{canvasSizeRef:t,handleCanvasSizeUpdate:n}},d3e=()=>{if(typeof navigator>"u")return!1;const e=navigator.userAgent||navigator.vendor;return/android|iphone|ipad|ipod|mobile/i.test(e)},ngt=e=>{const{voiceSessionId:t,server:n,voiceMode:r,audioInputDevice:s,voiceStatus:o}=e;return{voice_session_id:t??"(none)",server_messages:n.messages.map(a=>a.type).join(","),rate_limit_message:JSON.stringify(n.usage?.rate_limit_message)??"(none)",audio_s:n.usage?.audio_s??"(none)",tool_update:n.toolUpdate?.type??"(none)",voice_connection_quality:n.voiceConnectionQuality??"(none)",voice_mode:r??"(none)",audio_input_device:s?.label??"(none)",voice_status:JSON.stringify(o)??"(none)"}};function rgt(e){const{isUnauthenticated:t}=Ut(),r=vF(h=>h.files).length>0,s=e.composerController.useState(h=>!h.isEmpty()),o=!r&&!s,{browseMode:a}=we(),i=Lh(),l=Cke(),u=!1;if(e.inputState==="disabled")return null;const d=c.jsx(f3e,{state:e.state,onSubmit:e.onSubmit,disableReason:e.disableReason,isSearchMode:l,useProduceImpl:e.useProduceImpl}),f=d3e();return!t&&!i&&!l&&!u&&o&&e.state==="disabled"&&e.clientThreadId&&a!=="gizmo-editor"&&!f?c.jsx("div",{className:"min-w-8",children:c.jsx(u3e,{clientThreadId:e.clientThreadId,gizmoId:e.gizmoId,Fallback:()=>d})}):d}function f3e({state:e,onSubmit:t,disableReason:n,isSearchMode:r,useProduceImpl:s}){const o=e==="streaming"?PU:AU,a=V(),i=d5(),l=c.jsx("button",{onClick:t,disabled:e==="disabled","aria-label":e==="streaming"?a.formatMessage(tc.stopStreamingLabel):a.formatMessage(tc.sendPromptLabel),"data-testid":e==="streaming"?"stop-button":"send-button",className:O("flex h-8 w-8 items-center justify-center rounded-full transition-colors hover:opacity-70 focus-visible:outline-none focus-visible:outline-black disabled:text-[#f4f4f4] disabled:hover:opacity-100 dark:focus-visible:outline-white disabled:dark:bg-token-text-quaternary dark:disabled:text-token-main-surface-secondary",s?"bg-green-600 text-white disabled:bg-green-600 disabled:bg-opacity-15 dark:bg-green-600 dark:text-white disabled:dark:bg-green-600 disabled:dark:bg-opacity-15":r?"bg-blue-1000 text-white dark:bg-blue-1000 dark:text-white":"bg-black text-white dark:bg-white dark:text-black",i&&"disabled:bg-black disabled:bg-opacity-[0.27]",!i&&"disabled:bg-[#D7D7D7]"),children:c.jsx(o,{className:O(e==="streaming"?"icon-lg":"icon-2xl")})});return n&&e==="disabled"?c.jsx(h3e,{label:n==="file_upload_pending"?a.formatMessage(tc.fileUploadPendingLabel):n==="empty_text_content"?a.formatMessage(tc.emptyTextContentLabel):a.formatMessage(tc.textContentTooLongLabel),children:l}):l}function h3e({label:e,children:t}){return c.jsx(pt,{sideOffset:14,label:e,side:"top",children:t})}const tc=Q({stopStreamingLabel:{id:"+yfm/p",defaultMessage:"Stop streaming"},sendPromptLabel:{id:"xfIykB",defaultMessage:"Send prompt"},emptyTextContentLabel:{id:"LCVL2q",defaultMessage:"Message is empty"},textContentTooLongLabel:{id:"kDrqDJ",defaultMessage:"Message is too long"},fileUploadPendingLabel:{id:"Qv7jQN",defaultMessage:"File upload pending"}});let Lx=null;function sgt(e){Lx=e}function ogt(e){return Lx?Lx(e):e}const p3e=e=>{const{metadata:t}=e;return t?.type?Lv(t.type):!1},m3e=({textdocId:e,pastedTextdoc:t,isCanvasOpen:n=!1,isFocused:r=!1})=>{const{content:s,metadata:o}=t;return c.jsxs("div",{className:"group/file-tile relative",children:[c.jsx("button",{onClick:()=>dO.removePastedContent(e),className:"absolute -left-1 -top-1 z-10 hidden rounded-full border-[3px] border-[#f4f4f4] bg-black p-[2px] text-white group-hover/file-tile:block dark:border-token-main-surface-secondary dark:bg-white dark:text-black",children:c.jsx(O$,{className:"icon-xs"})}),c.jsx(yxe,{isInlinePreview:!0,isCanvasOpen:n,isFocused:r,textdocId:e,name:o?.title??null,type:o?.type??null,size:"small",onClick:()=>Fa(e),children:c.jsx("div",{className:O("whitespace-pre px-4",p3e(t)&&"font-mono"),children:s})})]})},agt=({textdocId:e,pastedTextdoc:t})=>{const n=ww(e),r=Jc();return c.jsx(m3e,{isFocused:n,isCanvasOpen:r,pastedTextdoc:t,textdocId:e})},igt=({className:e})=>c.jsxs(pn,{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:[c.jsx("path",{d:"M11.5047 10C12.8828 10 14 11.1172 14 12.4953C14 15.2919 10.9404 14.9905 9.00947 14.9905C9.00947 13.0596 8.70813 10 11.5047 10Z",stroke:"currentColor",strokeWidth:"2",strokeLinejoin:"round"}),c.jsx("path",{d:"M12 9.5C13.8983 6.79576 16.0839 4.85949 18.8983 3.40128C19.3829 3.15019 19.9712 3.25691 20.3571 3.64286V3.64286C20.7431 4.0288 20.8498 4.61706 20.5987 5.10168C19.1405 7.91612 17.2042 10.1017 14.5 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),c.jsx("path",{d:"M12.0003 21.0003C11.5003 21.0003 8.93732 20.1297 6.71782 17.9102C3.00784 14.2002 2.05809 9.13491 4.5965 6.5965C6.68218 4.51082 10.4738 4.78002 13.8179 7.00031M17.1066 10.0003C19.9927 13.3315 21.2146 16.7289 19.0003 18.5003C17.3415 19.8274 15.2424 18.2927 14.0176 17.1097",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),cgt=({className:e})=>c.jsx(pn,{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.70711 2.29289C8.09763 2.68342 8.09763 3.31658 7.70711 3.70711L6.41421 5H13.5C17.6421 5 21 8.35786 21 12.5C21 16.6421 17.6421 20 13.5 20H9C8.44772 20 8 19.5523 8 19C8 18.4477 8.44772 18 9 18H13.5C16.5376 18 19 15.5376 19 12.5C19 9.46243 16.5376 7 13.5 7H6.41421L7.70711 8.29289C8.09763 8.68342 8.09763 9.31658 7.70711 9.70711C7.31658 10.0976 6.68342 10.0976 6.29289 9.70711L3.29289 6.70711C2.90237 6.31658 2.90237 5.68342 3.29289 5.29289L6.29289 2.29289C6.68342 1.90237 7.31658 1.90237 7.70711 2.29289Z",fill:"currentColor"})}),lgt=({className:e})=>c.jsx(pn,{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.2929 2.29289C16.6834 1.90237 17.3166 1.90237 17.7071 2.29289L20.7071 5.29289C21.0976 5.68342 21.0976 6.31658 20.7071 6.70711L17.7071 9.70711C17.3166 10.0976 16.6834 10.0976 16.2929 9.70711C15.9024 9.31658 15.9024 8.68342 16.2929 8.29289L17.5858 7H10.5C7.46243 7 5 9.46243 5 12.5C5 15.5376 7.46243 18 10.5 18H15C15.5523 18 16 18.4477 16 19C16 19.5523 15.5523 20 15 20H10.5C6.35786 20 3 16.6421 3 12.5C3 8.35786 6.35786 5 10.5 5H17.5858L16.2929 3.70711C15.9024 3.31658 15.9024 2.68342 16.2929 2.29289Z",fill:"currentColor"})}),g3e=({className:e})=>c.jsx(pn,{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:c.jsx("path",{d:"M3 18H4.17157C4.70201 18 5.21071 17.7893 5.58579 17.4142L15.4142 7.58579C15.7893 7.21071 16.298 7 16.8284 7H19M3 6H4.17157C4.70201 6 5.21071 6.21071 5.58579 6.58579L8 9M19 17H16.8284C16.298 17 15.7893 16.7893 15.4142 16.4142L14 15M18 4L21 7L18 10M18 14L21 17L18 20",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),v3e=({className:e})=>c.jsx(pn,{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:c.jsx("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",stroke:"currentColor",strokeWidth:"2"})}),y3e=({className:e})=>c.jsx(pn,{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:c.jsx("rect",{x:"2",y:"6",width:"20",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"2"})}),b3e=({className:e})=>c.jsx(pn,{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:c.jsx("rect",{x:"6",y:"2",width:"12",height:"20",rx:"2",stroke:"currentColor",strokeWidth:"2"})}),ugt=({className:e})=>c.jsx(pn,{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 4C13 3.44772 13.4477 3 14 3H20C20.5523 3 21 3.44772 21 4V10C21 10.5523 20.5523 11 20 11C19.4477 11 19 10.5523 19 10V6.41421L15.2071 10.2071C14.8166 10.5976 14.1834 10.5976 13.7929 10.2071C13.4024 9.81658 13.4024 9.18342 13.7929 8.79289L17.5858 5H14C13.4477 5 13 4.55228 13 4ZM4 13C4.55228 13 5 13.4477 5 14V17.5858L8.79289 13.7929C9.18342 13.4024 9.81658 13.4024 10.2071 13.7929C10.5976 14.1834 10.5976 14.8166 10.2071 15.2071L6.41421 19H10C10.5523 19 11 19.4477 11 20C11 20.5523 10.5523 21 10 21H4C3.44772 21 3 20.5523 3 20V14C3 13.4477 3.44772 13 4 13Z",fill:"currentColor"})}),x3e=[{name:I({id:"dalleControls.aspectRatio.square",defaultMessage:"Square"}),expandedName:I({id:"dalleControls.aspectRatio.squareExpanded",defaultMessage:"Square aspect ratio"}),icon:v3e},{name:I({id:"dalleControls.aspectRatio.widescreen",defaultMessage:"Widescreen"}),expandedName:I({id:"dalleControls.aspectRatio.widescreenExpanded",defaultMessage:"Wide aspect ratio"}),icon:y3e},{name:I({id:"dalleControls.aspectRatio.vertical",defaultMessage:"Vertical"}),expandedName:I({id:"dalleControls.aspectRatio.verticalExpanded",defaultMessage:"Vertical aspect ratio"}),icon:b3e}],w3e="webp",S3e=200,_3e=200,C3e="srgb",T3e=3,M3e="uchar",E3e=72,k3e="4:2:0",P3e=!1,A3e="inch",$3e=!1,O3e=!1,I3e=1,N3e="https://cdn.oaistatic.com/assets/35mm-film-mt6bjczz.webp",R3e={format:w3e,width:S3e,height:_3e,space:C3e,channels:T3e,depth:M3e,density:E3e,chromaSubsampling:k3e,isProgressive:P3e,resolutionUnit:A3e,hasProfile:$3e,hasAlpha:O3e,orientation:I3e,src:N3e},j3e="webp",D3e=320,L3e=320,F3e="srgb",B3e=3,U3e="uchar",V3e=72,G3e="4:2:0",W3e=!1,H3e=!1,z3e=!1,q3e=1,Y3e="https://cdn.oaistatic.com/assets/3d-wireframe-b7plv1fd.webp",K3e={format:j3e,width:D3e,height:L3e,space:F3e,channels:B3e,depth:U3e,density:V3e,chromaSubsampling:G3e,isProgressive:W3e,hasProfile:H3e,hasAlpha:z3e,orientation:q3e,src:Y3e},Q3e="webp",X3e=200,Z3e=200,J3e="srgb",eFe=3,tFe="uchar",nFe=72,rFe="4:2:0",sFe=!1,oFe="inch",aFe=!1,iFe=!1,cFe=1,lFe="https://cdn.oaistatic.com/assets/abstract-ivmwso8q.webp",uFe={format:Q3e,width:X3e,height:Z3e,space:J3e,channels:eFe,depth:tFe,density:nFe,chromaSubsampling:rFe,isProgressive:sFe,resolutionUnit:oFe,hasProfile:aFe,hasAlpha:iFe,orientation:cFe,src:lFe},dFe="webp",fFe=200,hFe=200,pFe="srgb",mFe=3,gFe="uchar",vFe=72,yFe="4:2:0",bFe=!1,xFe="inch",wFe=!1,SFe=!1,_Fe=1,CFe="https://cdn.oaistatic.com/assets/acrylic-l0cmoeqz.webp",TFe={format:dFe,width:fFe,height:hFe,space:pFe,channels:mFe,depth:gFe,density:vFe,chromaSubsampling:yFe,isProgressive:bFe,resolutionUnit:xFe,hasProfile:wFe,hasAlpha:SFe,orientation:_Fe,src:CFe},MFe="webp",EFe=200,kFe=200,PFe="srgb",AFe=3,$Fe="uchar",OFe=72,IFe="4:2:0",NFe=!1,RFe="inch",jFe=!1,DFe=!1,LFe=1,FFe="https://cdn.oaistatic.com/assets/aerial-c6f3fklx.webp",BFe={format:MFe,width:EFe,height:kFe,space:PFe,channels:AFe,depth:$Fe,density:OFe,chromaSubsampling:IFe,isProgressive:NFe,resolutionUnit:RFe,hasProfile:jFe,hasAlpha:DFe,orientation:LFe,src:FFe},UFe="webp",VFe=320,GFe=320,WFe="srgb",HFe=3,zFe="uchar",qFe=72,YFe="4:2:0",KFe=!1,QFe=!1,XFe=!1,ZFe=1,JFe="https://cdn.oaistatic.com/assets/analog-film-okkgdsdn.webp",e4e={format:UFe,width:VFe,height:GFe,space:WFe,channels:HFe,depth:zFe,density:qFe,chromaSubsampling:YFe,isProgressive:KFe,hasProfile:QFe,hasAlpha:XFe,orientation:ZFe,src:JFe},t4e="webp",n4e=200,r4e=200,s4e="srgb",o4e=3,a4e="uchar",i4e=72,c4e="4:2:0",l4e=!1,u4e="inch",d4e=!1,f4e=!1,h4e=1,p4e="https://cdn.oaistatic.com/assets/anime-jspa4tk8.webp",m4e={format:t4e,width:n4e,height:r4e,space:s4e,channels:o4e,depth:a4e,density:i4e,chromaSubsampling:c4e,isProgressive:l4e,resolutionUnit:u4e,hasProfile:d4e,hasAlpha:f4e,orientation:h4e,src:p4e},g4e="webp",v4e=320,y4e=320,b4e="srgb",x4e=3,w4e="uchar",S4e=72,_4e="4:2:0",C4e=!1,T4e=!1,M4e=!1,E4e=1,k4e="https://cdn.oaistatic.com/assets/art-deco-kk5f3owo.webp",P4e={format:g4e,width:v4e,height:y4e,space:b4e,channels:x4e,depth:w4e,density:S4e,chromaSubsampling:_4e,isProgressive:C4e,hasProfile:T4e,hasAlpha:M4e,orientation:E4e,src:k4e},A4e="webp",$4e=320,O4e=320,I4e="srgb",N4e=3,R4e="uchar",j4e=72,D4e="4:2:0",L4e=!1,F4e=!1,B4e=!1,U4e=1,V4e="https://cdn.oaistatic.com/assets/art-nouveau-b5l7ji4g.webp",G4e={format:A4e,width:$4e,height:O4e,space:I4e,channels:N4e,depth:R4e,density:j4e,chromaSubsampling:D4e,isProgressive:L4e,hasProfile:F4e,hasAlpha:B4e,orientation:U4e,src:V4e},W4e="webp",H4e=320,z4e=320,q4e="srgb",Y4e=3,K4e="uchar",Q4e=72,X4e="4:2:0",Z4e=!1,J4e=!1,e5e=!1,t5e=1,n5e="https://cdn.oaistatic.com/assets/artificial-lighting-lmlxvc0g.webp",r5e={format:W4e,width:H4e,height:z4e,space:q4e,channels:Y4e,depth:K4e,density:Q4e,chromaSubsampling:X4e,isProgressive:Z4e,hasProfile:J4e,hasAlpha:e5e,orientation:t5e,src:n5e},s5e="webp",o5e=200,a5e=200,i5e="srgb",c5e=3,l5e="uchar",u5e=72,d5e="4:2:0",f5e=!1,h5e="inch",p5e=!1,m5e=!1,g5e=1,v5e="https://cdn.oaistatic.com/assets/baroque-ig5yhrqf.webp",y5e={format:s5e,width:o5e,height:a5e,space:i5e,channels:c5e,depth:l5e,density:u5e,chromaSubsampling:d5e,isProgressive:f5e,resolutionUnit:h5e,hasProfile:p5e,hasAlpha:m5e,orientation:g5e,src:v5e},b5e="webp",x5e=200,w5e=200,S5e="srgb",_5e=3,C5e="uchar",T5e=72,M5e="4:2:0",E5e=!1,k5e="inch",P5e=!1,A5e=!1,$5e=1,O5e="https://cdn.oaistatic.com/assets/black-and-white-cbb8ftp9.webp",I5e={format:b5e,width:x5e,height:w5e,space:S5e,channels:_5e,depth:C5e,density:T5e,chromaSubsampling:M5e,isProgressive:E5e,resolutionUnit:k5e,hasProfile:P5e,hasAlpha:A5e,orientation:$5e,src:O5e},N5e="webp",R5e=320,j5e=320,D5e="srgb",L5e=3,F5e="uchar",B5e=72,U5e="4:2:0",V5e=!1,G5e=!1,W5e=!1,H5e=1,z5e="https://cdn.oaistatic.com/assets/candy-ktgf6dbq.webp",q5e={format:N5e,width:R5e,height:j5e,space:D5e,channels:L5e,depth:F5e,density:B5e,chromaSubsampling:U5e,isProgressive:V5e,hasProfile:G5e,hasAlpha:W5e,orientation:H5e,src:z5e},Y5e="webp",K5e=320,Q5e=320,X5e="srgb",Z5e=3,J5e="uchar",eBe=72,tBe="4:2:0",nBe=!1,rBe=!1,sBe=!1,oBe=1,aBe="https://cdn.oaistatic.com/assets/caricature-lf1ddbth.webp",iBe={format:Y5e,width:K5e,height:Q5e,space:X5e,channels:Z5e,depth:J5e,density:eBe,chromaSubsampling:tBe,isProgressive:nBe,hasProfile:rBe,hasAlpha:sBe,orientation:oBe,src:aBe},cBe="webp",lBe=200,uBe=200,dBe="srgb",fBe=3,hBe="uchar",pBe=72,mBe="4:2:0",gBe=!1,vBe="inch",yBe=!1,bBe=!1,xBe=1,wBe="https://cdn.oaistatic.com/assets/cartoon-oy08tx38.webp",SBe={format:cBe,width:lBe,height:uBe,space:dBe,channels:fBe,depth:hBe,density:pBe,chromaSubsampling:mBe,isProgressive:gBe,resolutionUnit:vBe,hasProfile:yBe,hasAlpha:bBe,orientation:xBe,src:wBe},_Be="webp",CBe=200,TBe=200,MBe="srgb",EBe=3,kBe="uchar",PBe=72,ABe="4:2:0",$Be=!1,OBe="inch",IBe=!1,NBe=!1,RBe=1,jBe="https://cdn.oaistatic.com/assets/cave-art-mnw1gxr6.webp",DBe={format:_Be,width:CBe,height:TBe,space:MBe,channels:EBe,depth:kBe,density:PBe,chromaSubsampling:ABe,isProgressive:$Be,resolutionUnit:OBe,hasProfile:IBe,hasAlpha:NBe,orientation:RBe,src:jBe},LBe="webp",FBe=320,BBe=320,UBe="srgb",VBe=3,GBe="uchar",WBe=72,HBe="4:2:0",zBe=!1,qBe=!1,YBe=!1,KBe=1,QBe="https://cdn.oaistatic.com/assets/chalk-art-idnoemov.webp",XBe={format:LBe,width:FBe,height:BBe,space:UBe,channels:VBe,depth:GBe,density:WBe,chromaSubsampling:HBe,isProgressive:zBe,hasProfile:qBe,hasAlpha:YBe,orientation:KBe,src:QBe},ZBe="webp",JBe=200,e6e=200,t6e="srgb",n6e=3,r6e="uchar",s6e=72,o6e="4:2:0",a6e=!1,i6e="inch",c6e=!1,l6e=!1,u6e=1,d6e="https://cdn.oaistatic.com/assets/charcoal-fsha4717.webp",f6e={format:ZBe,width:JBe,height:e6e,space:t6e,channels:n6e,depth:r6e,density:s6e,chromaSubsampling:o6e,isProgressive:a6e,resolutionUnit:i6e,hasProfile:c6e,hasAlpha:l6e,orientation:u6e,src:d6e},h6e="webp",p6e=320,m6e=320,g6e="srgb",v6e=3,y6e="uchar",b6e=72,x6e="4:2:0",w6e=!1,S6e=!1,_6e=!1,C6e=1,T6e="https://cdn.oaistatic.com/assets/claymation-ew3p88dt.webp",M6e={format:h6e,width:p6e,height:m6e,space:g6e,channels:v6e,depth:y6e,density:b6e,chromaSubsampling:x6e,isProgressive:w6e,hasProfile:S6e,hasAlpha:_6e,orientation:C6e,src:T6e},E6e="webp",k6e=200,P6e=200,A6e="srgb",$6e=3,O6e="uchar",I6e=72,N6e="4:2:0",R6e=!1,j6e="inch",D6e=!1,L6e=!1,F6e=1,B6e="https://cdn.oaistatic.com/assets/close-up-f3mun4e5.webp",U6e={format:E6e,width:k6e,height:P6e,space:A6e,channels:$6e,depth:O6e,density:I6e,chromaSubsampling:N6e,isProgressive:R6e,resolutionUnit:j6e,hasProfile:D6e,hasAlpha:L6e,orientation:F6e,src:B6e},V6e="webp",G6e=200,W6e=200,H6e="srgb",z6e=3,q6e="uchar",Y6e=72,K6e="4:2:0",Q6e=!1,X6e="inch",Z6e=!1,J6e=!1,eUe=1,tUe="https://cdn.oaistatic.com/assets/comic-book-fa4o5ggx.webp",nUe={format:V6e,width:G6e,height:W6e,space:H6e,channels:z6e,depth:q6e,density:Y6e,chromaSubsampling:K6e,isProgressive:Q6e,resolutionUnit:X6e,hasProfile:Z6e,hasAlpha:J6e,orientation:eUe,src:tUe},rUe="webp",sUe=320,oUe=320,aUe="srgb",iUe=3,cUe="uchar",lUe=72,uUe="4:2:0",dUe=!1,fUe=!1,hUe=!1,pUe=1,mUe="https://cdn.oaistatic.com/assets/comic-strip-blts5zyk.webp",gUe={format:rUe,width:sUe,height:oUe,space:aUe,channels:iUe,depth:cUe,density:lUe,chromaSubsampling:uUe,isProgressive:dUe,hasProfile:fUe,hasAlpha:hUe,orientation:pUe,src:mUe},vUe="webp",yUe=320,bUe=320,xUe="srgb",wUe=3,SUe="uchar",_Ue=72,CUe="4:2:0",TUe=!1,MUe=!1,EUe=!1,kUe=1,PUe="https://cdn.oaistatic.com/assets/concept-art-fs9zyn06.webp",AUe={format:vUe,width:yUe,height:bUe,space:xUe,channels:wUe,depth:SUe,density:_Ue,chromaSubsampling:CUe,isProgressive:TUe,hasProfile:MUe,hasAlpha:EUe,orientation:kUe,src:PUe},$Ue="webp",OUe=200,IUe=200,NUe="srgb",RUe=3,jUe="uchar",DUe=72,LUe="4:2:0",FUe=!1,BUe="inch",UUe=!1,VUe=!1,GUe=1,WUe="https://cdn.oaistatic.com/assets/crayon-jm09v921.webp",HUe={format:$Ue,width:OUe,height:IUe,space:NUe,channels:RUe,depth:jUe,density:DUe,chromaSubsampling:LUe,isProgressive:FUe,resolutionUnit:BUe,hasProfile:UUe,hasAlpha:VUe,orientation:GUe,src:WUe},zUe="webp",qUe=320,YUe=320,KUe="srgb",QUe=3,XUe="uchar",ZUe=72,JUe="4:2:0",e7e=!1,t7e=!1,n7e=!1,r7e=1,s7e="https://cdn.oaistatic.com/assets/crystal-od4xpulw.webp",o7e={format:zUe,width:qUe,height:YUe,space:KUe,channels:QUe,depth:XUe,density:ZUe,chromaSubsampling:JUe,isProgressive:e7e,hasProfile:t7e,hasAlpha:n7e,orientation:r7e,src:s7e},a7e="webp",i7e=320,c7e=320,l7e="srgb",u7e=3,d7e="uchar",f7e=72,h7e="4:2:0",p7e=!1,m7e=!1,g7e=!1,v7e=1,y7e="https://cdn.oaistatic.com/assets/cubism-jatole5p.webp",b7e={format:a7e,width:i7e,height:c7e,space:l7e,channels:u7e,depth:d7e,density:f7e,chromaSubsampling:h7e,isProgressive:p7e,hasProfile:m7e,hasAlpha:g7e,orientation:v7e,src:y7e},x7e="webp",w7e=320,S7e=320,_7e="srgb",C7e=3,T7e="uchar",M7e=72,E7e="4:2:0",k7e=!1,P7e=!1,A7e=!1,$7e=1,O7e="https://cdn.oaistatic.com/assets/cyberpunk-l1ufpmox.webp",I7e={format:x7e,width:w7e,height:S7e,space:_7e,channels:C7e,depth:T7e,density:M7e,chromaSubsampling:E7e,isProgressive:k7e,hasProfile:P7e,hasAlpha:A7e,orientation:$7e,src:O7e},N7e="webp",R7e=200,j7e=200,D7e="srgb",L7e=3,F7e="uchar",B7e=72,U7e="4:2:0",V7e=!1,G7e="inch",W7e=!1,H7e=!1,z7e=1,q7e="https://cdn.oaistatic.com/assets/dawn-n7sbl2w1.webp",Y7e={format:N7e,width:R7e,height:j7e,space:D7e,channels:L7e,depth:F7e,density:B7e,chromaSubsampling:U7e,isProgressive:V7e,resolutionUnit:G7e,hasProfile:W7e,hasAlpha:H7e,orientation:z7e,src:q7e},K7e="webp",Q7e=320,X7e=320,Z7e="srgb",J7e=3,e8e="uchar",t8e=72,n8e="4:2:0",r8e=!1,s8e=!1,o8e=!1,a8e=1,i8e="https://cdn.oaistatic.com/assets/digital-art-n8w8xbxy.webp",c8e={format:K7e,width:Q7e,height:X7e,space:Z7e,channels:J7e,depth:e8e,density:t8e,chromaSubsampling:n8e,isProgressive:r8e,hasProfile:s8e,hasAlpha:o8e,orientation:a8e,src:i8e},l8e="webp",u8e=320,d8e=320,f8e="srgb",h8e=3,p8e="uchar",m8e=72,g8e="4:2:0",v8e=!1,y8e=!1,b8e=!1,x8e=1,w8e="https://cdn.oaistatic.com/assets/dusk-lighting-ig167p2t.webp",S8e={format:l8e,width:u8e,height:d8e,space:f8e,channels:h8e,depth:p8e,density:m8e,chromaSubsampling:g8e,isProgressive:v8e,hasProfile:y8e,hasAlpha:b8e,orientation:x8e,src:w8e},_8e="webp",C8e=320,T8e=320,M8e="srgb",E8e=3,k8e="uchar",P8e=72,A8e="4:2:0",$8e=!1,O8e=!1,I8e=!1,N8e=1,R8e="https://cdn.oaistatic.com/assets/dutch-angle-patn6fx4.webp",j8e={format:_8e,width:C8e,height:T8e,space:M8e,channels:E8e,depth:k8e,density:P8e,chromaSubsampling:A8e,isProgressive:$8e,hasProfile:O8e,hasAlpha:I8e,orientation:N8e,src:R8e},D8e="webp",L8e=320,F8e=320,B8e="srgb",U8e=3,V8e="uchar",G8e=72,W8e="4:2:0",H8e=!1,z8e=!1,q8e=!1,Y8e=1,K8e="https://cdn.oaistatic.com/assets/dystopian-dggxcfjg.webp",Q8e={format:D8e,width:L8e,height:F8e,space:B8e,channels:U8e,depth:V8e,density:G8e,chromaSubsampling:W8e,isProgressive:H8e,hasProfile:z8e,hasAlpha:q8e,orientation:Y8e,src:K8e},X8e="webp",Z8e=320,J8e=320,e9e="srgb",t9e=3,n9e="uchar",r9e=72,s9e="4:2:0",o9e=!1,a9e=!1,i9e=!1,c9e=1,l9e="https://cdn.oaistatic.com/assets/electronics-m6m8etmn.webp",u9e={format:X8e,width:Z8e,height:J8e,space:e9e,channels:t9e,depth:n9e,density:r9e,chromaSubsampling:s9e,isProgressive:o9e,hasProfile:a9e,hasAlpha:i9e,orientation:c9e,src:l9e},d9e="webp",f9e=200,h9e=200,p9e="srgb",m9e=3,g9e="uchar",v9e=72,y9e="4:2:0",b9e=!1,x9e="inch",w9e=!1,S9e=!1,_9e=1,C9e="https://cdn.oaistatic.com/assets/expressionism-c07w8h7s.webp",T9e={format:d9e,width:f9e,height:h9e,space:p9e,channels:m9e,depth:g9e,density:v9e,chromaSubsampling:y9e,isProgressive:b9e,resolutionUnit:x9e,hasProfile:w9e,hasAlpha:S9e,orientation:_9e,src:C9e},M9e="webp",E9e=320,k9e=320,P9e="srgb",A9e=3,$9e="uchar",O9e=72,I9e="4:2:0",N9e=!1,R9e=!1,j9e=!1,D9e=1,L9e="https://cdn.oaistatic.com/assets/extreme-close-up-fc0gtzul.webp",F9e={format:M9e,width:E9e,height:k9e,space:P9e,channels:A9e,depth:$9e,density:O9e,chromaSubsampling:I9e,isProgressive:N9e,hasProfile:R9e,hasAlpha:j9e,orientation:D9e,src:L9e},B9e="webp",U9e=320,V9e=320,G9e="srgb",W9e=3,H9e="uchar",z9e=72,q9e="4:2:0",Y9e=!1,K9e=!1,Q9e=!1,X9e=1,Z9e="https://cdn.oaistatic.com/assets/fairy-tale-blw25x6j.webp",J9e={format:B9e,width:U9e,height:V9e,space:G9e,channels:W9e,depth:H9e,density:z9e,chromaSubsampling:q9e,isProgressive:Y9e,hasProfile:K9e,hasAlpha:Q9e,orientation:X9e,src:Z9e},eVe="webp",tVe=200,nVe=200,rVe="srgb",sVe=3,oVe="uchar",aVe=72,iVe="4:2:0",cVe=!1,lVe="inch",uVe=!1,dVe=!1,fVe=1,hVe="https://cdn.oaistatic.com/assets/fantasy-eo3emec1.webp",pVe={format:eVe,width:tVe,height:nVe,space:rVe,channels:sVe,depth:oVe,density:aVe,chromaSubsampling:iVe,isProgressive:cVe,resolutionUnit:lVe,hasProfile:uVe,hasAlpha:dVe,orientation:fVe,src:hVe},mVe="webp",gVe=320,vVe=320,yVe="srgb",bVe=3,xVe="uchar",wVe=72,SVe="4:2:0",_Ve=!1,CVe=!1,TVe=!1,MVe=1,EVe="https://cdn.oaistatic.com/assets/fauvism-bm6mcqx7.webp",kVe={format:mVe,width:gVe,height:vVe,space:yVe,channels:bVe,depth:xVe,density:wVe,chromaSubsampling:SVe,isProgressive:_Ve,hasProfile:CVe,hasAlpha:TVe,orientation:MVe,src:EVe},PVe="webp",AVe=320,$Ve=320,OVe="srgb",IVe=3,NVe="uchar",RVe=72,jVe="4:2:0",DVe=!1,LVe=!1,FVe=!1,BVe=1,UVe="https://cdn.oaistatic.com/assets/feathers-i5aayi2h.webp",VVe={format:PVe,width:AVe,height:$Ve,space:OVe,channels:IVe,depth:NVe,density:RVe,chromaSubsampling:jVe,isProgressive:DVe,hasProfile:LVe,hasAlpha:FVe,orientation:BVe,src:UVe},GVe="webp",WVe=200,HVe=200,zVe="srgb",qVe=3,YVe="uchar",KVe=72,QVe="4:2:0",XVe=!1,ZVe="inch",JVe=!1,eGe=!1,tGe=1,nGe="https://cdn.oaistatic.com/assets/felt-l77tc7g2.webp",rGe={format:GVe,width:WVe,height:HVe,space:zVe,channels:qVe,depth:YVe,density:KVe,chromaSubsampling:QVe,isProgressive:XVe,resolutionUnit:ZVe,hasProfile:JVe,hasAlpha:eGe,orientation:tGe,src:nGe},sGe="webp",oGe=200,aGe=200,iGe="srgb",cGe=3,lGe="uchar",uGe=72,dGe="4:2:0",fGe=!1,hGe="inch",pGe=!1,mGe=!1,gGe=1,vGe="https://cdn.oaistatic.com/assets/film-noir-f91hsvhf.webp",yGe={format:sGe,width:oGe,height:aGe,space:iGe,channels:cGe,depth:lGe,density:uGe,chromaSubsampling:dGe,isProgressive:fGe,resolutionUnit:hGe,hasProfile:pGe,hasAlpha:mGe,orientation:gGe,src:vGe},bGe="webp",xGe=320,wGe=320,SGe="srgb",_Ge=3,CGe="uchar",TGe=72,MGe="4:2:0",EGe=!1,kGe=!1,PGe=!1,AGe=1,$Ge="https://cdn.oaistatic.com/assets/fish-eye-j4ro38ch.webp",OGe={format:bGe,width:xGe,height:wGe,space:SGe,channels:_Ge,depth:CGe,density:TGe,chromaSubsampling:MGe,isProgressive:EGe,hasProfile:kGe,hasAlpha:PGe,orientation:AGe,src:$Ge},IGe="webp",NGe=320,RGe=320,jGe="srgb",DGe=3,LGe="uchar",FGe=72,BGe="4:2:0",UGe=!1,VGe=!1,GGe=!1,WGe=1,HGe="https://cdn.oaistatic.com/assets/flowers-jurhmr8v.webp",zGe={format:IGe,width:NGe,height:RGe,space:jGe,channels:DGe,depth:LGe,density:FGe,chromaSubsampling:BGe,isProgressive:UGe,hasProfile:VGe,hasAlpha:GGe,orientation:WGe,src:HGe},qGe="webp",YGe=320,KGe=320,QGe="srgb",XGe=3,ZGe="uchar",JGe=72,eWe="4:2:0",tWe=!1,nWe=!1,rWe=!1,sWe=1,oWe="https://cdn.oaistatic.com/assets/flowing-lava-jdbf99vs.webp",aWe={format:qGe,width:YGe,height:KGe,space:QGe,channels:XGe,depth:ZGe,density:JGe,chromaSubsampling:eWe,isProgressive:tWe,hasProfile:nWe,hasAlpha:rWe,orientation:sWe,src:oWe},iWe="webp",cWe=320,lWe=320,uWe="srgb",dWe=3,fWe="uchar",hWe=72,pWe="4:2:0",mWe=!1,gWe=!1,vWe=!1,yWe=1,bWe="https://cdn.oaistatic.com/assets/folk-art-hg6xx30n.webp",xWe={format:iWe,width:cWe,height:lWe,space:uWe,channels:dWe,depth:fWe,density:hWe,chromaSubsampling:pWe,isProgressive:mWe,hasProfile:gWe,hasAlpha:vWe,orientation:yWe,src:bWe},wWe="webp",SWe=320,_We=320,CWe="srgb",TWe=3,MWe="uchar",EWe=72,kWe="4:2:0",PWe=!1,AWe=!1,$We=!1,OWe=1,IWe="https://cdn.oaistatic.com/assets/futurism-cxkk69sh.webp",NWe={format:wWe,width:SWe,height:_We,space:CWe,channels:TWe,depth:MWe,density:EWe,chromaSubsampling:kWe,isProgressive:PWe,hasProfile:AWe,hasAlpha:$We,orientation:OWe,src:IWe},RWe="webp",jWe=320,DWe=320,LWe="srgb",FWe=3,BWe="uchar",UWe=72,VWe="4:2:0",GWe=!1,WWe=!1,HWe=!1,zWe=1,qWe="https://cdn.oaistatic.com/assets/gold-mpv2xmzq.webp",YWe={format:RWe,width:jWe,height:DWe,space:LWe,channels:FWe,depth:BWe,density:UWe,chromaSubsampling:VWe,isProgressive:GWe,hasProfile:WWe,hasAlpha:HWe,orientation:zWe,src:qWe},KWe="webp",QWe=200,XWe=200,ZWe="srgb",JWe=3,eHe="uchar",tHe=72,nHe="4:2:0",rHe=!1,sHe="inch",oHe=!1,aHe=!1,iHe=1,cHe="https://cdn.oaistatic.com/assets/golden-hour-k9pffatz.webp",lHe={format:KWe,width:QWe,height:XWe,space:ZWe,channels:JWe,depth:eHe,density:tHe,chromaSubsampling:nHe,isProgressive:rHe,resolutionUnit:sHe,hasProfile:oHe,hasAlpha:aHe,orientation:iHe,src:cHe},uHe="webp",dHe=320,fHe=320,hHe="srgb",pHe=3,mHe="uchar",gHe=72,vHe="4:2:0",yHe=!1,bHe=!1,xHe=!1,wHe=1,SHe="https://cdn.oaistatic.com/assets/gothic-g2krqi3f.webp",_He={format:uHe,width:dHe,height:fHe,space:hHe,channels:pHe,depth:mHe,density:gHe,chromaSubsampling:vHe,isProgressive:yHe,hasProfile:bHe,hasAlpha:xHe,orientation:wHe,src:SHe},CHe="webp",THe=320,MHe=320,EHe="srgb",kHe=3,PHe="uchar",AHe=72,$He="4:2:0",OHe=!1,IHe=!1,NHe=!1,RHe=1,jHe="https://cdn.oaistatic.com/assets/graffiti-mitatgc5.webp",DHe={format:CHe,width:THe,height:MHe,space:EHe,channels:kHe,depth:PHe,density:AHe,chromaSubsampling:$He,isProgressive:OHe,hasProfile:IHe,hasAlpha:NHe,orientation:RHe,src:jHe},LHe="webp",FHe=200,BHe=200,UHe="srgb",VHe=3,GHe="uchar",WHe=72,HHe="4:2:0",zHe=!1,qHe="inch",YHe=!1,KHe=!1,QHe=1,XHe="https://cdn.oaistatic.com/assets/hand-drawn-fi9a3wwo.webp",ZHe={format:LHe,width:FHe,height:BHe,space:UHe,channels:VHe,depth:GHe,density:WHe,chromaSubsampling:HHe,isProgressive:zHe,resolutionUnit:qHe,hasProfile:YHe,hasAlpha:KHe,orientation:QHe,src:XHe},JHe="webp",eze=200,tze=200,nze="srgb",rze=3,sze="uchar",oze=72,aze="4:2:0",ize=!1,cze="inch",lze=!1,uze=!1,dze=1,fze="https://cdn.oaistatic.com/assets/high-angle-m5gqvrau.webp",hze={format:JHe,width:eze,height:tze,space:nze,channels:rze,depth:sze,density:oze,chromaSubsampling:aze,isProgressive:ize,resolutionUnit:cze,hasProfile:lze,hasAlpha:uze,orientation:dze,src:fze},pze="webp",mze=320,gze=320,vze="srgb",yze=3,bze="uchar",xze=72,wze="4:2:0",Sze=!1,_ze=!1,Cze=!1,Tze=1,Mze="https://cdn.oaistatic.com/assets/high-contrast-jnqc7phz.webp",Eze={format:pze,width:mze,height:gze,space:vze,channels:yze,depth:bze,density:xze,chromaSubsampling:wze,isProgressive:Sze,hasProfile:_ze,hasAlpha:Cze,orientation:Tze,src:Mze},kze="webp",Pze=320,Aze=320,$ze="srgb",Oze=3,Ize="uchar",Nze=72,Rze="4:2:0",jze=!1,Dze=!1,Lze=!1,Fze=1,Bze="https://cdn.oaistatic.com/assets/ice-kmydbul3.webp",Uze={format:kze,width:Pze,height:Aze,space:$ze,channels:Oze,depth:Ize,density:Nze,chromaSubsampling:Rze,isProgressive:jze,hasProfile:Dze,hasAlpha:Lze,orientation:Fze,src:Bze},Vze="webp",Gze=200,Wze=200,Hze="srgb",zze=3,qze="uchar",Yze=72,Kze="4:2:0",Qze=!1,Xze="inch",Zze=!1,Jze=!1,eqe=1,tqe="https://cdn.oaistatic.com/assets/impressionism-gyklwu5o.webp",nqe={format:Vze,width:Gze,height:Wze,space:Hze,channels:zze,depth:qze,density:Yze,chromaSubsampling:Kze,isProgressive:Qze,resolutionUnit:Xze,hasProfile:Zze,hasAlpha:Jze,orientation:eqe,src:tqe},rqe="webp",sqe=200,oqe=200,aqe="srgb",iqe=3,cqe="uchar",lqe=72,uqe="4:2:0",dqe=!1,fqe="inch",hqe=!1,pqe=!1,mqe=1,gqe="https://cdn.oaistatic.com/assets/ink-wash-j0qrk948.webp",vqe={format:rqe,width:sqe,height:oqe,space:aqe,channels:iqe,depth:cqe,density:lqe,chromaSubsampling:uqe,isProgressive:dqe,resolutionUnit:fqe,hasProfile:hqe,hasAlpha:pqe,orientation:mqe,src:gqe},yqe="webp",bqe=320,xqe=320,wqe="srgb",Sqe=3,_qe="uchar",Cqe=72,Tqe="4:2:0",Mqe=!1,Eqe=!1,kqe=!1,Pqe=1,Aqe="https://cdn.oaistatic.com/assets/kawaii-ex5kekpt.webp",$qe={format:yqe,width:bqe,height:xqe,space:wqe,channels:Sqe,depth:_qe,density:Cqe,chromaSubsampling:Tqe,isProgressive:Mqe,hasProfile:Eqe,hasAlpha:kqe,orientation:Pqe,src:Aqe},Oqe="webp",Iqe=200,Nqe=200,Rqe="srgb",jqe=3,Dqe="uchar",Lqe=72,Fqe="4:2:0",Bqe=!1,Uqe="inch",Vqe=!1,Gqe=!1,Wqe=1,Hqe="https://cdn.oaistatic.com/assets/line-art-ux8fq4dt.webp",zqe={format:Oqe,width:Iqe,height:Nqe,space:Rqe,channels:jqe,depth:Dqe,density:Lqe,chromaSubsampling:Fqe,isProgressive:Bqe,resolutionUnit:Uqe,hasProfile:Vqe,hasAlpha:Gqe,orientation:Wqe,src:Hqe},qqe="webp",Yqe=320,Kqe=320,Qqe="srgb",Xqe=3,Zqe="uchar",Jqe=72,eYe="4:2:0",tYe=!1,nYe=!1,rYe=!1,sYe=1,oYe="https://cdn.oaistatic.com/assets/linocut-n9os6mld.webp",aYe={format:qqe,width:Yqe,height:Kqe,space:Qqe,channels:Xqe,depth:Zqe,density:Jqe,chromaSubsampling:eYe,isProgressive:tYe,hasProfile:nYe,hasAlpha:rYe,orientation:sYe,src:oYe},iYe="webp",cYe=320,lYe=320,uYe="srgb",dYe=3,fYe="uchar",hYe=72,pYe="4:2:0",mYe=!1,gYe=!1,vYe=!1,yYe=1,bYe="https://cdn.oaistatic.com/assets/lithograph-o9d0x617.webp",xYe={format:iYe,width:cYe,height:lYe,space:uYe,channels:dYe,depth:fYe,density:hYe,chromaSubsampling:pYe,isProgressive:mYe,hasProfile:gYe,hasAlpha:vYe,orientation:yYe,src:bYe},wYe="webp",SYe=320,_Ye=320,CYe="srgb",TYe=3,MYe="uchar",EYe=72,kYe="4:2:0",PYe=!1,AYe=!1,$Ye=!1,OYe=1,IYe="https://cdn.oaistatic.com/assets/low-angle-fnfupolf.webp",NYe={format:wYe,width:SYe,height:_Ye,space:CYe,channels:TYe,depth:MYe,density:EYe,chromaSubsampling:kYe,isProgressive:PYe,hasProfile:AYe,hasAlpha:$Ye,orientation:OYe,src:IYe},RYe="webp",jYe=320,DYe=320,LYe="srgb",FYe=3,BYe="uchar",UYe=72,VYe="4:2:0",GYe=!1,WYe=!1,HYe=!1,zYe=1,qYe="https://cdn.oaistatic.com/assets/low-polygon-drremfcy.webp",YYe={format:RYe,width:jYe,height:DYe,space:LYe,channels:FYe,depth:BYe,density:UYe,chromaSubsampling:VYe,isProgressive:GYe,hasProfile:WYe,hasAlpha:HYe,orientation:zYe,src:qYe},KYe="webp",QYe=200,XYe=200,ZYe="srgb",JYe=3,eKe="uchar",tKe=72,nKe="4:2:0",rKe=!1,sKe="inch",oKe=!1,aKe=!1,iKe=1,cKe="https://cdn.oaistatic.com/assets/minimalist-clwflzm8.webp",lKe={format:KYe,width:QYe,height:XYe,space:ZYe,channels:JYe,depth:eKe,density:tKe,chromaSubsampling:nKe,isProgressive:rKe,resolutionUnit:sKe,hasProfile:oKe,hasAlpha:aKe,orientation:iKe,src:cKe},uKe="webp",dKe=320,fKe=320,hKe="srgb",pKe=3,mKe="uchar",gKe=72,vKe="4:2:0",yKe=!1,bKe=!1,xKe=!1,wKe=1,SKe="https://cdn.oaistatic.com/assets/mirrored-glass-b2il0ium.webp",_Ke={format:uKe,width:dKe,height:fKe,space:hKe,channels:pKe,depth:mKe,density:gKe,chromaSubsampling:vKe,isProgressive:yKe,hasProfile:bKe,hasAlpha:xKe,orientation:wKe,src:SKe},CKe="webp",TKe=200,MKe=200,EKe="srgb",kKe=3,PKe="uchar",AKe=72,$Ke="4:2:0",OKe=!1,IKe="inch",NKe=!1,RKe=!1,jKe=1,DKe="https://cdn.oaistatic.com/assets/mosaic-b1btqmx3.webp",LKe={format:CKe,width:TKe,height:MKe,space:EKe,channels:kKe,depth:PKe,density:AKe,chromaSubsampling:$Ke,isProgressive:OKe,resolutionUnit:IKe,hasProfile:NKe,hasAlpha:RKe,orientation:jKe,src:DKe},FKe="webp",BKe=320,UKe=320,VKe="srgb",GKe=3,WKe="uchar",HKe=72,zKe="4:2:0",qKe=!1,YKe=!1,KKe=!1,QKe=1,XKe="https://cdn.oaistatic.com/assets/moss-o50i3l9n.webp",ZKe={format:FKe,width:BKe,height:UKe,space:VKe,channels:GKe,depth:WKe,density:HKe,chromaSubsampling:zKe,isProgressive:qKe,hasProfile:YKe,hasAlpha:KKe,orientation:QKe,src:XKe},JKe="webp",eQe=320,tQe=320,nQe="srgb",rQe=3,sQe="uchar",oQe=72,aQe="4:2:0",iQe=!1,cQe=!1,lQe=!1,uQe=1,dQe="https://cdn.oaistatic.com/assets/motion-blur-gv05rnzm.webp",fQe={format:JKe,width:eQe,height:tQe,space:nQe,channels:rQe,depth:sQe,density:oQe,chromaSubsampling:aQe,isProgressive:iQe,hasProfile:cQe,hasAlpha:lQe,orientation:uQe,src:dQe},hQe="webp",pQe=200,mQe=200,gQe="srgb",vQe=3,yQe="uchar",bQe=72,xQe="4:2:0",wQe=!1,SQe="inch",_Qe=!1,CQe=!1,TQe=1,MQe="https://cdn.oaistatic.com/assets/muted-du7hdk1i.webp",EQe={format:hQe,width:pQe,height:mQe,space:gQe,channels:vQe,depth:yQe,density:bQe,chromaSubsampling:xQe,isProgressive:wQe,resolutionUnit:SQe,hasProfile:_Qe,hasAlpha:CQe,orientation:TQe,src:MQe},kQe="webp",PQe=320,AQe=320,$Qe="srgb",OQe=3,IQe="uchar",NQe=72,RQe="4:2:0",jQe=!1,DQe=!1,LQe=!1,FQe=1,BQe="https://cdn.oaistatic.com/assets/neon-lights-d8nergwb.webp",UQe={format:kQe,width:PQe,height:AQe,space:$Qe,channels:OQe,depth:IQe,density:NQe,chromaSubsampling:RQe,isProgressive:jQe,hasProfile:DQe,hasAlpha:LQe,orientation:FQe,src:BQe},VQe="webp",GQe=200,WQe=200,HQe="srgb",zQe=3,qQe="uchar",YQe=72,KQe="4:2:0",QQe=!1,XQe="inch",ZQe=!1,JQe=!1,eXe=1,tXe="https://cdn.oaistatic.com/assets/night-hbuymv0p.webp",nXe={format:VQe,width:GQe,height:WQe,space:HQe,channels:zQe,depth:qQe,density:YQe,chromaSubsampling:KQe,isProgressive:QQe,resolutionUnit:XQe,hasProfile:ZQe,hasAlpha:JQe,orientation:eXe,src:tXe},rXe="webp",sXe=200,oXe=200,aXe="srgb",iXe=3,cXe="uchar",lXe=72,uXe="4:2:0",dXe=!1,fXe="inch",hXe=!1,pXe=!1,mXe=1,gXe="https://cdn.oaistatic.com/assets/oil-painting-co423r63.webp",vXe={format:rXe,width:sXe,height:oXe,space:aXe,channels:iXe,depth:cXe,density:lXe,chromaSubsampling:uXe,isProgressive:dXe,resolutionUnit:fXe,hasProfile:hXe,hasAlpha:pXe,orientation:mXe,src:gXe},yXe="webp",bXe=320,xXe=320,wXe="srgb",SXe=3,_Xe="uchar",CXe=72,TXe="4:2:0",MXe=!1,EXe=!1,kXe=!1,PXe=1,AXe="https://cdn.oaistatic.com/assets/origami-gi0wg513.webp",$Xe={format:yXe,width:bXe,height:xXe,space:wXe,channels:SXe,depth:_Xe,density:CXe,chromaSubsampling:TXe,isProgressive:MXe,hasProfile:EXe,hasAlpha:kXe,orientation:PXe,src:AXe},OXe="webp",IXe=200,NXe=200,RXe="srgb",jXe=3,DXe="uchar",LXe=72,FXe="4:2:0",BXe=!1,UXe="inch",VXe=!1,GXe=!1,WXe=1,HXe="https://cdn.oaistatic.com/assets/pastel-cr2x76ro.webp",zXe={format:OXe,width:IXe,height:NXe,space:RXe,channels:jXe,depth:DXe,density:LXe,chromaSubsampling:FXe,isProgressive:BXe,resolutionUnit:UXe,hasProfile:VXe,hasAlpha:GXe,orientation:WXe,src:HXe},qXe="webp",YXe=320,KXe=320,QXe="srgb",XXe=3,ZXe="uchar",JXe=72,eZe="4:2:0",tZe=!1,nZe=!1,rZe=!1,sZe=1,oZe="https://cdn.oaistatic.com/assets/pencil-sketch-jej5tpl5.webp",aZe={format:qXe,width:YXe,height:KXe,space:QXe,channels:XXe,depth:ZXe,density:JXe,chromaSubsampling:eZe,isProgressive:tZe,hasProfile:nZe,hasAlpha:rZe,orientation:sZe,src:oZe},iZe="webp",cZe=200,lZe=200,uZe="srgb",dZe=3,fZe="uchar",hZe=72,pZe="4:2:0",mZe=!1,gZe="inch",vZe=!1,yZe=!1,bZe=1,xZe="https://cdn.oaistatic.com/assets/pinhole-camera-h3tiesrw.webp",wZe={format:iZe,width:cZe,height:lZe,space:uZe,channels:dZe,depth:fZe,density:hZe,chromaSubsampling:pZe,isProgressive:mZe,resolutionUnit:gZe,hasProfile:vZe,hasAlpha:yZe,orientation:bZe,src:xZe},SZe="webp",_Ze=200,CZe=200,TZe="srgb",MZe=3,EZe="uchar",kZe=72,PZe="4:2:0",AZe=!1,$Ze="inch",OZe=!1,IZe=!1,NZe=1,RZe="https://cdn.oaistatic.com/assets/pixel-art-mx0dhpvv.webp",jZe={format:SZe,width:_Ze,height:CZe,space:TZe,channels:MZe,depth:EZe,density:kZe,chromaSubsampling:PZe,isProgressive:AZe,resolutionUnit:$Ze,hasProfile:OZe,hasAlpha:IZe,orientation:NZe,src:RZe},DZe="webp",LZe=200,FZe=200,BZe="srgb",UZe=3,VZe="uchar",GZe=72,WZe="4:2:0",HZe=!1,zZe="inch",qZe=!1,YZe=!1,KZe=1,QZe="https://cdn.oaistatic.com/assets/pointillism-ex22jtrp.webp",XZe={format:DZe,width:LZe,height:FZe,space:BZe,channels:UZe,depth:VZe,density:GZe,chromaSubsampling:WZe,isProgressive:HZe,resolutionUnit:zZe,hasProfile:qZe,hasAlpha:YZe,orientation:KZe,src:QZe},ZZe="webp",JZe=320,eJe=320,tJe="srgb",nJe=3,rJe="uchar",sJe=72,oJe="4:2:0",aJe=!1,iJe=!1,cJe=!1,lJe=1,uJe="https://cdn.oaistatic.com/assets/polished-stone-l3925av0.webp",dJe={format:ZZe,width:JZe,height:eJe,space:tJe,channels:nJe,depth:rJe,density:sJe,chromaSubsampling:oJe,isProgressive:aJe,hasProfile:iJe,hasAlpha:cJe,orientation:lJe,src:uJe},fJe="webp",hJe=320,pJe=320,mJe="srgb",gJe=3,vJe="uchar",yJe=72,bJe="4:2:0",xJe=!1,wJe=!1,SJe=!1,_Je=1,CJe="https://cdn.oaistatic.com/assets/pop-art-oh53blo7.webp",TJe={format:fJe,width:hJe,height:pJe,space:mJe,channels:gJe,depth:vJe,density:yJe,chromaSubsampling:bJe,isProgressive:xJe,hasProfile:wJe,hasAlpha:SJe,orientation:_Je,src:CJe},MJe="webp",EJe=320,kJe=320,PJe="srgb",AJe=3,$Je="uchar",OJe=72,IJe="4:2:0",NJe=!1,RJe=!1,jJe=!1,DJe=1,LJe="https://cdn.oaistatic.com/assets/retro-fxftnb6j.webp",FJe={format:MJe,width:EJe,height:kJe,space:PJe,channels:AJe,depth:$Je,density:OJe,chromaSubsampling:IJe,isProgressive:NJe,hasProfile:RJe,hasAlpha:jJe,orientation:DJe,src:LJe},BJe="webp",UJe=200,VJe=200,GJe="srgb",WJe=3,HJe="uchar",zJe=72,qJe="4:2:0",YJe=!1,KJe="inch",QJe=!1,XJe=!1,ZJe=1,JJe="https://cdn.oaistatic.com/assets/rococo-oo0q2efk.webp",eet={format:BJe,width:UJe,height:VJe,space:GJe,channels:WJe,depth:HJe,density:zJe,chromaSubsampling:qJe,isProgressive:YJe,resolutionUnit:KJe,hasProfile:QJe,hasAlpha:XJe,orientation:ZJe,src:JJe},tet="webp",net=200,ret=200,set="srgb",oet=3,aet="uchar",iet=72,cet="4:2:0",uet=!1,det="inch",fet=!1,het=!1,pet=1,met="https://cdn.oaistatic.com/assets/scifi-eqbjbevy.webp",get={format:tet,width:net,height:ret,space:set,channels:oet,depth:aet,density:iet,chromaSubsampling:cet,isProgressive:uet,resolutionUnit:det,hasProfile:fet,hasAlpha:het,orientation:pet,src:met},vet="webp",yet=320,bet=320,xet="srgb",wet=3,_et="uchar",Cet=72,Tet="4:2:0",Met=!1,Eet=!1,ket=!1,Pet=1,Aet="https://cdn.oaistatic.com/assets/sculpture-qxoc5gce.webp",$et={format:vet,width:yet,height:bet,space:xet,channels:wet,depth:_et,density:Cet,chromaSubsampling:Tet,isProgressive:Met,hasProfile:Eet,hasAlpha:ket,orientation:Pet,src:Aet},Oet="webp",Iet=320,Net=320,Ret="srgb",jet=3,Det="uchar",Let=72,Fet="4:2:0",Bet=!1,Uet=!1,Vet=!1,Get=1,Wet="https://cdn.oaistatic.com/assets/sepia-hsx5avuf.webp",Het={format:Oet,width:Iet,height:Net,space:Ret,channels:jet,depth:Det,density:Let,chromaSubsampling:Fet,isProgressive:Bet,hasProfile:Uet,hasAlpha:Vet,orientation:Get,src:Wet},zet="webp",qet=320,Yet=320,Ket="srgb",Qet=3,Xet="uchar",Zet=72,Jet="4:2:0",ett=!1,ttt=!1,ntt=!1,rtt=1,stt="https://cdn.oaistatic.com/assets/silk-screen-brndy40c.webp",ott={format:zet,width:qet,height:Yet,space:Ket,channels:Qet,depth:Xet,density:Zet,chromaSubsampling:Jet,isProgressive:ett,hasProfile:ttt,hasAlpha:ntt,orientation:rtt,src:stt},att="webp",itt=200,ctt=200,ltt="srgb",utt=3,dtt="uchar",ftt=72,htt="4:2:0",ptt=!1,mtt="inch",gtt=!1,vtt=!1,ytt=1,btt="https://cdn.oaistatic.com/assets/solarpunk-evmffd42.webp",xtt={format:att,width:itt,height:ctt,space:ltt,channels:utt,depth:dtt,density:ftt,chromaSubsampling:htt,isProgressive:ptt,resolutionUnit:mtt,hasProfile:gtt,hasAlpha:vtt,orientation:ytt,src:btt},wtt="webp",Stt=320,_tt=320,Ctt="srgb",Ttt=3,Mtt="uchar",Ett=72,ktt="4:2:0",Ptt=!1,Att=!1,$tt=!1,Ott=1,Itt="https://cdn.oaistatic.com/assets/stars-n99hz9sa.webp",Ntt={format:wtt,width:Stt,height:_tt,space:Ctt,channels:Ttt,depth:Mtt,density:Ett,chromaSubsampling:ktt,isProgressive:Ptt,hasProfile:Att,hasAlpha:$tt,orientation:Ott,src:Itt},Rtt="webp",jtt=200,Dtt=200,Ltt="srgb",Ftt=3,Btt="uchar",Utt=72,Vtt="4:2:0",Gtt=!1,Wtt="inch",Htt=!1,ztt=!1,qtt=1,Ytt="https://cdn.oaistatic.com/assets/steampunk-dr9xshc0.webp",Ktt={format:Rtt,width:jtt,height:Dtt,space:Ltt,channels:Ftt,depth:Btt,density:Utt,chromaSubsampling:Vtt,isProgressive:Gtt,resolutionUnit:Wtt,hasProfile:Htt,hasAlpha:ztt,orientation:qtt,src:Ytt},Qtt="webp",Xtt=320,Ztt=320,Jtt="srgb",ent=3,tnt="uchar",nnt=72,rnt="4:2:0",snt=!1,ont=!1,ant=!1,int=1,cnt="https://cdn.oaistatic.com/assets/surrealism-iwryxhax.webp",lnt={format:Qtt,width:Xtt,height:Ztt,space:Jtt,channels:ent,depth:tnt,density:nnt,chromaSubsampling:rnt,isProgressive:snt,hasProfile:ont,hasAlpha:ant,orientation:int,src:cnt},unt="webp",dnt=320,fnt=320,hnt="srgb",pnt=3,mnt="uchar",gnt=72,vnt="4:2:0",ynt=!1,bnt=!1,xnt=!1,wnt=1,Snt="https://cdn.oaistatic.com/assets/synthwave-crpfl369.webp",_nt={format:unt,width:dnt,height:fnt,space:hnt,channels:pnt,depth:mnt,density:gnt,chromaSubsampling:vnt,isProgressive:ynt,hasProfile:bnt,hasAlpha:xnt,orientation:wnt,src:Snt},Cnt="webp",Tnt=200,Mnt=200,Ent="srgb",knt=3,Pnt="uchar",Ant=72,$nt="4:2:0",Ont=!1,Int="inch",Nnt=!1,Rnt=!1,jnt=1,Dnt="https://cdn.oaistatic.com/assets/tapestry-kvzmlmes.webp",Lnt={format:Cnt,width:Tnt,height:Mnt,space:Ent,channels:knt,depth:Pnt,density:Ant,chromaSubsampling:$nt,isProgressive:Ont,resolutionUnit:Int,hasProfile:Nnt,hasAlpha:Rnt,orientation:jnt,src:Dnt},Fnt="webp",Bnt=320,Unt=320,Vnt="srgb",Gnt=3,Wnt="uchar",Hnt=72,znt="4:2:0",qnt=!1,Ynt=!1,Knt=!1,Qnt=1,Xnt="https://cdn.oaistatic.com/assets/ukiyo-e-dip9inlj.webp",Znt={format:Fnt,width:Bnt,height:Unt,space:Vnt,channels:Gnt,depth:Wnt,density:Hnt,chromaSubsampling:znt,isProgressive:qnt,hasProfile:Ynt,hasAlpha:Knt,orientation:Qnt,src:Xnt},Jnt="webp",ert=320,trt=320,nrt="srgb",rrt=3,srt="uchar",ort=72,art="4:2:0",irt=!1,crt=!1,lrt=!1,urt=1,drt="https://cdn.oaistatic.com/assets/victorian-i3zsicnu.webp",frt={format:Jnt,width:ert,height:trt,space:nrt,channels:rrt,depth:srt,density:ort,chromaSubsampling:art,isProgressive:irt,hasProfile:crt,hasAlpha:lrt,orientation:urt,src:drt},hrt="webp",prt=200,mrt=200,grt="srgb",vrt=3,yrt="uchar",brt=72,xrt="4:2:0",wrt=!1,Srt="inch",_rt=!1,Crt=!1,Trt=1,Mrt="https://cdn.oaistatic.com/assets/watercolor-l6wpgx1p.webp",Ert={format:hrt,width:prt,height:mrt,space:grt,channels:vrt,depth:yrt,density:brt,chromaSubsampling:xrt,isProgressive:wrt,resolutionUnit:Srt,hasProfile:_rt,hasAlpha:Crt,orientation:Trt,src:Mrt},krt="webp",Prt=200,Art=200,$rt="srgb",Ort=3,Irt="uchar",Nrt=72,Rrt="4:2:0",jrt=!1,Drt="inch",Lrt=!1,Frt=!1,Brt=1,Urt="https://cdn.oaistatic.com/assets/wide-angle-jjkqemyx.webp",Vrt={format:krt,width:Prt,height:Art,space:$rt,channels:Ort,depth:Irt,density:Nrt,chromaSubsampling:Rrt,isProgressive:jrt,resolutionUnit:Drt,hasProfile:Lrt,hasAlpha:Frt,orientation:Brt,src:Urt},Grt="webp",Wrt=200,Hrt=200,zrt="srgb",qrt=3,Yrt="uchar",Krt=72,Qrt="4:2:0",Xrt=!1,Zrt="inch",Jrt=!1,est=!1,tst=1,nst="https://cdn.oaistatic.com/assets/woodcut-lmhut0ek.webp",rst={format:Grt,width:Wrt,height:Hrt,space:zrt,channels:qrt,depth:Yrt,density:Krt,chromaSubsampling:Qrt,isProgressive:Xrt,resolutionUnit:Zrt,hasProfile:Jrt,hasAlpha:est,orientation:tst,src:nst},f5=[{name:I({id:"dalleStyle.3dWireframe",defaultMessage:"3D Wireframe"}),image:K3e},{name:I({id:"dalleStyle.35mmFilm",defaultMessage:"35mm film"}),expandedName:I({id:"dalleStyle.35mmFilmExpanded",defaultMessage:"35mm film style"}),image:R3e},{name:I({id:"dalleStyle.abstract",defaultMessage:"Abstract"}),image:uFe},{name:I({id:"dalleStyle.acrylic",defaultMessage:"Acrylic"}),image:TFe},{name:I({id:"dalleStyle.aerial",defaultMessage:"Aerial"}),expandedName:I({id:"dalleStyle.aerialExpanded",defaultMessage:"Aerial view"}),image:BFe},{name:I({id:"dalleStyle.analogFilm",defaultMessage:"Analog film"}),expandedName:I({id:"dalleStyle.analogFilmExpanded",defaultMessage:"Analog film style"}),image:e4e},{name:I({id:"dalleStyle.artDeco",defaultMessage:"Art deco"}),image:P4e},{name:I({id:"dalleStyle.artNouveau",defaultMessage:"Art nouveau"}),image:G4e},{name:I({id:"dalleStyle.artificialLighting",defaultMessage:"Artificial lighting"}),image:r5e},{name:I({id:"dalleStyle.anime",defaultMessage:"Anime"}),image:m4e},{name:I({id:"dalleStyle.baroque",defaultMessage:"Baroque"}),image:y5e},{name:I({id:"dalleStyle.blackAndWhite",defaultMessage:"Black and white"}),image:I5e},{name:I({id:"dalleStyle.candy",defaultMessage:"Candy"}),expandedName:I({id:"dalleStyle.candyExpanded",defaultMessage:"Made of candy"}),image:q5e},{name:I({id:"dalleStyle.cartoon",defaultMessage:"Cartoon"}),image:SBe},{name:I({id:"dalleStyle.caricature",defaultMessage:"Caricature"}),image:iBe},{name:I({id:"dalleStyle.caveArt",defaultMessage:"Cave art"}),expandedName:I({id:"dalleStyle.caveArtExpanded",defaultMessage:"Cave art style"}),image:DBe},{name:I({id:"dalleStyle.chalkArt",defaultMessage:"Chalk art"}),image:XBe},{name:I({id:"dalleStyle.charcoal",defaultMessage:"Charcoal"}),image:f6e},{name:I({id:"dalleStyle.claymation",defaultMessage:"Claymation"}),image:M6e},{name:I({id:"dalleStyle.closeUp",defaultMessage:"Close-up"}),image:U6e},{name:I({id:"dalleStyle.comicBook",defaultMessage:"Comic book"}),expandedName:I({id:"dalleStyle.comicBookExpanded",defaultMessage:"Comic book style"}),image:nUe},{name:I({id:"dalleStyle.comicStrip",defaultMessage:"Comic strip"}),expandedName:I({id:"dalleStyle.comicStripExpanded",defaultMessage:"Comic strip style"}),image:gUe},{name:I({id:"dalleStyle.conceptArt",defaultMessage:"Concept art"}),image:AUe},{name:I({id:"dalleStyle.cubism",defaultMessage:"Cubism"}),image:b7e},{name:I({id:"dalleStyle.crayon",defaultMessage:"Crayon"}),expandedName:I({id:"dalleStyle.crayonExpanded",defaultMessage:"Crayon style"}),image:HUe},{name:I({id:"dalleStyle.crystal",defaultMessage:"Crystal"}),expandedName:I({id:"dalleStyle.crystalExpanded",defaultMessage:"Made of crystal"}),image:o7e},{name:I({id:"dalleStyle.cyberpunk",defaultMessage:"Cyberpunk"}),image:I7e},{name:I({id:"dalleStyle.dawn",defaultMessage:"Dawn"}),expandedName:I({id:"dalleStyle.dawnExpanded",defaultMessage:"Dawn lighting"}),image:Y7e},{name:I({id:"dalleStyle.digitalArt",defaultMessage:"Digital art"}),image:c8e},{name:I({id:"dalleStyle.dusk",defaultMessage:"Dusk"}),expandedName:I({id:"dalleStyle.duskExpanded",defaultMessage:"Dusk lighting"}),image:S8e},{name:I({id:"dalleStyle.dutchAngle",defaultMessage:"Dutch angle"}),image:j8e},{name:I({id:"dalleStyle.dystopian",defaultMessage:"Dystopian"}),image:Q8e},{name:I({id:"dalleStyle.electronics",defaultMessage:"Electronics"}),expandedName:I({id:"dalleStyle.electronicsExpanded",defaultMessage:"Made of electronics"}),image:u9e},{name:I({id:"dalleStyle.expressionism",defaultMessage:"Expressionism"}),image:T9e},{name:I({id:"dalleStyle.extremeCloseUp",defaultMessage:"Extreme close-up"}),image:F9e},{name:I({id:"dalleStyle.fairyTale",defaultMessage:"Fairy tale"}),expandedName:I({id:"dalleStyle.fairyTaleExpanded",defaultMessage:"Fairy tale style"}),image:J9e},{name:I({id:"dalleStyle.fantasy",defaultMessage:"Fantasy"}),image:pVe},{name:I({id:"dalleStyle.fauvism",defaultMessage:"Fauvism"}),image:kVe},{name:I({id:"dalleStyle.feathers",defaultMessage:"Feathers"}),expandedName:I({id:"dalleStyle.feathersExpanded",defaultMessage:"Made of feathers"}),image:VVe},{name:I({id:"dalleStyle.flowers",defaultMessage:"Flowers"}),expandedName:I({id:"dalleStyle.flowersExpanded",defaultMessage:"Made of flowers"}),image:zGe},{name:I({id:"dalleStyle.felt",defaultMessage:"Felt"}),image:rGe},{name:I({id:"dalleStyle.filmNoir",defaultMessage:"Film noir"}),image:yGe},{name:I({id:"dalleStyle.fishEye",defaultMessage:"Fish-eye"}),expandedName:I({id:"dalleStyle.fishEyeExpanded",defaultMessage:"Fish-eye lens"}),image:OGe},{name:I({id:"dalleStyle.folkArt",defaultMessage:"Folk art"}),image:xWe},{name:I({id:"dalleStyle.futurism",defaultMessage:"Futurism"}),expandedName:I({id:"dalleStyle.futurismExpanded",defaultMessage:"Futurism style"}),image:NWe},{name:I({id:"dalleStyle.gold",defaultMessage:"Gold"}),expandedName:I({id:"dalleStyle.goldExpanded",defaultMessage:"Made of gold"}),image:YWe},{name:I({id:"dalleStyle.goldenHour",defaultMessage:"Golden hour"}),expandedName:I({id:"dalleStyle.goldenHourExpanded",defaultMessage:"Golden hour lighting"}),image:lHe},{name:I({id:"dalleStyle.gothic",defaultMessage:"Gothic"}),image:_He},{name:I({id:"dalleStyle.graffiti",defaultMessage:"Graffiti"}),expandedName:I({id:"dalleStyle.graffitiExpanded",defaultMessage:"Graffiti style"}),image:DHe},{name:I({id:"dalleStyle.handDrawn",defaultMessage:"Hand-drawn"}),image:ZHe},{name:I({id:"dalleStyle.highAngle",defaultMessage:"High angle"}),image:hze},{name:I({id:"dalleStyle.highContrast",defaultMessage:"High contrast"}),image:Eze},{name:I({id:"dalleStyle.ice",defaultMessage:"Ice"}),expandedName:I({id:"dalleStyle.iceExpanded",defaultMessage:"Made of ice"}),image:Uze},{name:I({id:"dalleStyle.impressionism",defaultMessage:"Impressionism"}),image:nqe},{name:I({id:"dalleStyle.inkWash",defaultMessage:"Ink wash"}),image:vqe},{name:I({id:"dalleStyle.kawaii",defaultMessage:"Kawaii"}),image:$qe},{name:I({id:"dalleStyle.lava",defaultMessage:"Lava"}),expandedName:I({id:"dalleStyle.lavaExpanded",defaultMessage:"Made of flowing lava"}),image:aWe},{name:I({id:"dalleStyle.lineArt",defaultMessage:"Line art"}),image:zqe},{name:I({id:"dalleStyle.linocut",defaultMessage:"Linocut"}),image:aYe},{name:I({id:"dalleStyle.lithograph",defaultMessage:"Lithograph"}),expandedName:I({id:"dalleStyle.lithographExpanded",defaultMessage:"19th-century lithograph style"}),image:xYe},{name:I({id:"dalleStyle.lowAngle",defaultMessage:"Low angle"}),image:NYe},{name:I({id:"dalleStyle.lowPolygon",defaultMessage:"Low polygon"}),image:YYe},{name:I({id:"dalleStyle.minimalist",defaultMessage:"Minimalist"}),image:lKe},{name:I({id:"dalleStyle.mirroredGlass",defaultMessage:"Mirrored glass"}),expandedName:I({id:"dalleStyle.mirroredGlassExpanded",defaultMessage:"Made of mirrored glass"}),image:_Ke},{name:I({id:"dalleStyle.moss",defaultMessage:"Moss"}),expandedName:I({id:"dalleStyle.mossExpanded",defaultMessage:"Made of moss"}),image:ZKe},{name:I({id:"dalleStyle.mosaic",defaultMessage:"Mosaic"}),image:LKe},{name:I({id:"dalleStyle.motionBlur",defaultMessage:"Motion blur"}),image:fQe},{name:I({id:"dalleStyle.muted",defaultMessage:"Muted"}),expandedName:I({id:"dalleStyle.mutedExpanded",defaultMessage:"Muted palette"}),image:EQe},{name:I({id:"dalleStyle.neonLights",defaultMessage:"Neon lights"}),expandedName:I({id:"dalleStyle.neonLightsExpanded",defaultMessage:"Neon lights style"}),image:UQe},{name:I({id:"dalleStyle.night",defaultMessage:"Night"}),expandedName:I({id:"dalleStyle.nightExpanded",defaultMessage:"Night lighting"}),image:nXe},{name:I({id:"dalleStyle.oilPainting",defaultMessage:"Oil painting"}),image:vXe},{name:I({id:"dalleStyle.origami",defaultMessage:"Origami"}),expandedName:I({id:"dalleStyle.origamiExpanded",defaultMessage:"Made of origami"}),image:$Xe},{name:I({id:"dalleStyle.pastel",defaultMessage:"Pastel"}),image:zXe},{name:I({id:"dalleStyle.pencilSketch",defaultMessage:"Pencil sketch"}),image:aZe},{name:I({id:"dalleStyle.pinholeCamera",defaultMessage:"Pinhole camera"}),expandedName:I({id:"dalleStyle.pinholeCameraExpanded",defaultMessage:"Pinhole camera style"}),image:wZe},{name:I({id:"dalleStyle.pixelArt",defaultMessage:"Pixel art"}),image:jZe},{name:I({id:"dalleStyle.pointillism",defaultMessage:"Pointillism"}),image:XZe},{name:I({id:"dalleStyle.polishedStone",defaultMessage:"Stone"}),expandedName:I({id:"dalleStyle.polishedStoneExpanded",defaultMessage:"Made of polished stone"}),image:dJe},{name:I({id:"dalleStyle.popArt",defaultMessage:"Pop art"}),image:TJe},{name:I({id:"dalleStyle.retro",defaultMessage:"Retro"}),image:FJe},{name:I({id:"dalleStyle.rococo",defaultMessage:"Rococo"}),image:eet},{name:I({id:"dalleStyle.scifi",defaultMessage:"Sci-fi"}),image:get},{name:I({id:"dalleStyle.sculpture",defaultMessage:"Sculpture"}),image:$et},{name:I({id:"dalleStyle.sepia",defaultMessage:"Sepia"}),image:Het},{name:I({id:"dalleStyle.silkScreen",defaultMessage:"Silk screen"}),expandedName:I({id:"dalleStyle.silkScreenExpanded",defaultMessage:"Silk screen style"}),image:ott},{name:I({id:"dalleStyle.solarpunk",defaultMessage:"Solarpunk"}),image:xtt},{name:I({id:"dalleStyle.stars",defaultMessage:"Stars"}),expandedName:I({id:"dalleStyle.starsExpanded",defaultMessage:"Made of stars"}),image:Ntt},{name:I({id:"dalleStyle.steampunk",defaultMessage:"Steampunk"}),image:Ktt},{name:I({id:"dalleStyle.surrealism",defaultMessage:"Surrealism"}),image:lnt},{name:I({id:"dalleStyle.synthwave",defaultMessage:"Synthwave"}),image:_nt},{name:I({id:"dalleStyle.tapestry",defaultMessage:"Tapestry"}),expandedName:I({id:"dalleStyle.tapestryExpanded",defaultMessage:"Tapestry style"}),image:Lnt},{name:I({id:"dalleStyle.ukiyoE",defaultMessage:"Ukiyo-e"}),image:Znt},{name:I({id:"dalleStyle.victorian",defaultMessage:"Victorian"}),image:frt},{name:I({id:"dalleStyle.watercolor",defaultMessage:"Watercolor"}),image:Ert},{name:I({id:"dalleStyle.wideAngle",defaultMessage:"Wide-angle"}),expandedName:I({id:"dalleStyle.wideAngleExpanded",defaultMessage:"Wide-angle lens"}),image:Vrt},{name:I({id:"dalleStyle.woodcut",defaultMessage:"Woodcut"}),image:rst}];function dgt({composerController:e}){const{doesUserHaveAnyAccountsWithPlusFeatures:t}=Ds(),n=V(),r=d5();return c.jsxs("div",{className:O("flex justify-between",!r&&"bg-gradient-to-t from-token-main-surface-primary to-transparent px-4"),children:[c.jsx("div",{className:"flex gap-2",children:c.jsx(ost,{onClickStyle:s=>{JP(n.formatMessage(s.expandedName??s.name),e)}})}),t&&c.jsx("div",{className:"flex gap-2",children:c.jsx(sst,{onClickAspectRatio:s=>JP(n.formatMessage(s.expandedName),e)})})]})}function sst({onClickAspectRatio:e}){const t=V();return c.jsxs(ie.Root,{onOpenChange:n=>{n&&(K.logEvent(A.dalleOpenAspectRatioDropdown),P.logEvent(A.dalleOpenAspectRatioDropdown))},children:[c.jsxs(Fx,{$as:ie.Trigger,className:"pr-1.5",children:[c.jsx(S,{id:"dalleControls.aspectRatio",defaultMessage:"Aspect Ratio"}),c.jsx(R$,{className:"icon-md"})]}),c.jsx(ie.Portal,{children:c.jsx(ie.Content,{children:x3e.map(n=>c.jsx(ie.Item,{onClick:()=>{e(n),K.logEvent(A.dalleClickAspectRatio,n.name.defaultMessage?.toString()),P.logEvent(A.dalleClickAspectRatio,{aspectRatio:n.name.defaultMessage})},icon:n.icon,children:t.formatMessage(n.name)},n.name.id))})})]})}function ost({onClickStyle:e}){const[t,n]=p.useState(ZP()),r=Vo(),s=jS(),o=Pi(),a=V();let i=2;return o||(s?i=5:r&&(i=3)),c.jsxs(c.Fragment,{children:[t.slice(0,i).map(l=>c.jsx(pt,{label:c.jsx(ast,{style:l}),side:"top",sideOffset:4,customPaddingClassName:"p-1",children:c.jsxs(Fx,{$as:"button",type:"button",onClick:()=>{e(l),K.logEvent(A.dalleClickStyle,l.name.defaultMessage?.toString()),P.logEvent(A.dalleClickStyle,{style:l.name.defaultMessage})},children:[c.jsx($U,{className:"h-4 w-4 text-token-text-tertiary"}),a.formatMessage(l.name)]})},l.name.id)),c.jsx(Fx,{$as:"button",type:"button",onClick:()=>{n(ZP()),K.logEvent(A.dalleShuffleStyles),P.logEvent(A.dalleShuffleStyles)},children:c.jsx(g3e,{className:"icon-sm text-token-text-tertiary"})}),f5.map(l=>c.jsx("img",{src:l.image.src,alt:a.formatMessage(l.name),width:100,height:100,className:"invisible fixed -left-96 -top-96"},l.name.id))]})}function ast({style:e}){const t=V();return c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("img",{src:e.image.src,alt:t.formatMessage(e.name),width:100,height:100,className:"rounded-md"}),c.jsx("div",{className:"text-xs font-medium",children:t.formatMessage(e.name)})]})}function ZP(){return[...f5].sort(()=>Math.random()-.5)}function ist(e,t){const n=t.getCurrentText();return n.trim()===""?e:n.endsWith(",")?` ${e.toLocaleLowerCase()}`:n.endsWith(", ")?e.toLocaleLowerCase():`, ${e.toLocaleLowerCase()}`}function JP(e,t){const n=ist(e,t);t.appendText(n),h_()}const Fx=Ee.div`h-7 bg-token-main-surface-primary border border-token-border-light text-xs hover:bg-token-main-surface-secondary hover:text-token-text-primary px-2.5 radix-state-open:bg-token-main-surface-secondary radix-state-open:text-token-text-primary rounded-full flex flex-nowrap gap-0.5 items-center text-token-text-secondary font-normal`;function fgt({clientThreadId:e}){const t=rl(e);return t!=null?c.jsx(cst,{clientThreadId:e,gizmoId:t}):c.jsx(h5,{clientThreadId:e})}function cst({clientThreadId:e,gizmoId:t}){const n=hi(t).data,r=Se(o=>Te.getThreadCreateTime(e,o)),s=n?.gizmo.updated_at!=null?new Date(n.gizmo.updated_at):void 0;return n?.gizmo.short_url==null||s==null||r==null||s<=r?c.jsx(h5,{clientThreadId:e}):c.jsxs("div",{className:"text-token-text-tertiary",children:[c.jsx(N$,{className:"text-token-secondary mb-1 mr-1 inline-block h-4 w-4 stroke-0"}),c.jsx(S,{...Na.outdatedGptDisclaimer,values:{link:o=>c.jsx(si,{to:cp(n.gizmo.short_url),className:"underline",children:o}),bold:o=>c.jsx("span",{className:"text-token-secondary font-semibold",children:o})}})]})}function h5({clientThreadId:e}){const t=rr(Ua.isBusinessWorkspace),r=rr(l=>l.currentWorkspace)?.name,{isUnauthenticated:s,isLoading:o}=Ut();if(o)return null;if(t)return c.jsx("div",{children:r!=null?c.jsx(S,{...Na.businessDisclaimer,values:{workspaceName:r}}):c.jsx(S,{...Na.businessDisclaimerNoName})});const i=WO({clientThreadId:e,role:z.User})>0;return s&&!i?c.jsx(ni,{children:c.jsx(p5,{clientThreadId:e})}):c.jsx("div",{children:c.jsx(S,{...Na.mayProduceInaccurateInformation})})}function p5({clientThreadId:e}){const{country:t}=Qc(),n=t==="KR"?Na.mayProduceInaccurateInformationNoAuthKorea:Na.mayProduceInaccurateInformationNoAuthV2,{layer:r}=XA("3533083032"),s=r.get("disclaimer_color_adjust",!1);return p.useEffect(()=>()=>{WO({clientThreadId:e,role:z.User})>0&&E4.updateHasAcceptedFooterDisclaimer()},[e]),c.jsx("span",{className:"text-sm leading-none",children:c.jsx(S,{...n,values:{privacyLink:o=>c.jsx("a",{href:"https://openai.com/privacy",target:"_blank",className:O(s?"text-token-text-secondary":"text-token-text-primary","underline decoration-token-text-primary"),onClick:()=>{K.logEvent("chatgpt_footer_disclaimer_privacy_link_clicked"),P.logEvent(A.footerDisclaimerPrivacyLinkClicked)},rel:"noreferrer",children:o}),termsLink:o=>c.jsx("a",{href:"https://openai.com/terms",target:"_blank",className:O(s?"text-token-text-secondary":"text-token-text-primary","underline decoration-token-text-primary"),onClick:()=>{K.logEvent("chatgpt_footer_disclaimer_terms_link_clicked"),P.logEvent(A.footerDisclaimerTermsLinkClicked)},rel:"noreferrer",children:o}),koreaAddendumLink:o=>c.jsx("a",{href:"https://openai.com/ko/policies/kr-privacy-policy-addendum",target:"_blank",className:"text-token-text-primary underline decoration-token-text-primary",onClick:()=>{K.logEvent("chatgpt_footer_disclaimer_korea_addendum_link_clicked"),P.logEvent(A.footerDisclaimerKoreaAddendumLinkClicked)},rel:"noreferrer",children:o})}})})}const Na=Q({mayProduceInaccurateInformation:{id:"thread.chatgptMayProduceInaccurateInformation-oct-30",defaultMessage:"ChatGPT can make mistakes. Check important info."},mayProduceInaccurateInformationNoAuthV2:{id:"thread.chatgptMayProduceInaccurateInformationNoAuth-may-06",defaultMessage:"By messaging ChatGPT, you agree to our <termsLink>Terms</termsLink> and have read our <privacyLink>Privacy Policy</privacyLink>."},mayProduceInaccurateInformationNoAuthKorea:{id:"thread.chatgptMayProduceInaccurateInformationNoAuthKorea-may-06",defaultMessage:"By messaging ChatGPT, you agree to our <termsLink>Terms</termsLink> and have read our <privacyLink>Privacy Policy</privacyLink> and its <koreaAddendumLink>Korea addendum</koreaAddendumLink>."},businessDisclaimer:{id:"thread.businessDisclaimer-oct-30",defaultMessage:"{workspaceName} workspace chats aren't used to train our models. ChatGPT can make mistakes."},businessDisclaimerNoName:{id:"thread.businessDisclaimerNoName-oct-30",defaultMessage:"Your workspace chats aren'ts used to train our models. ChatGPT can make mistakes."},outdatedGptDisclaimer:{id:"thread.outdatedGptDisclaimer.0",defaultMessage:"<bold>New version of GPT available</bold> - Continue chatting to use the old version, or start a <link>new chat</link> for the latest version."}});function hgt({threadId:e}){const t=a$();p.useEffect(()=>{E4.updateBannerDisclaimerClientThreadId(e),K.logEvent("chatgpt_unauthenticated_legal_banner"),P.logEvent(A.unauthLegalBanner,{threadId:e})},[e]);const n=t?Xa.bannerTermsDisclaimer:Xa.bannerTermsDisclaimerSafetyAndAbuse;return c.jsxs(l2,{type:"none",children:[c.jsx(p5,{clientThreadId:e}),c.jsx("br",{}),c.jsx(S,{...n,values:{learnMoreLink:r=>c.jsx("a",{href:"https://help.openai.com/en/articles/5722486-how-your-data-is-used-to-improve-model-performance",target:"_blank",className:"text-token-text-primary underline",onClick:()=>{K.logEvent("chatgpt_unauthenticated_banner_learn_more_clicked"),P.logEvent(A.unauthDisclaimerBannerLearnMoreClicked,{threadId:e})},children:r})}})]})}function pgt({threadId:e,showLogin:t=!0}){const n=V();p.useEffect(()=>{K.logEvent("chatgpt_unauthenticated_signup_banner"),P.logEvent(A.unauthSignupBanner,{threadId:e})},[e]);const r=_n();return c.jsx(Ai,{content:n.formatMessage(Xa.bannerSignup),onPrimaryCtaClick:()=>{r({authType:"signup",callback:s=>{K.logEvent("chatgpt_unauthenticated_banner_signup_button_clicked"),P.logSignUpButtonClicked({location:"Chat Stage Signup Banner",provider:s})}})},primaryCtaText:n.formatMessage(Xa.bannerSignupButton),onSecondaryCtaClick:t?()=>{r({authType:"login",callback:s=>{K.logEvent("chatgpt_unauthenticated_banner_login_button_clicked"),P.logLogInButtonClicked({location:"Chat Stage Signup Banner",provider:s})}})}:void 0,secondaryCtaText:t?n.formatMessage(rn.logInButtonText):void 0})}function mgt({threadId:e,showSignUp:t}){const n=V();p.useEffect(()=>{K.logEvent("chatgpt_unauthenticated_login_banner"),P.logEvent(A.unauthLoginBanner,{threadId:e})},[e]);const r=_n();return c.jsx(Ai,{content:n.formatMessage(Xa.bannerSignup),onPrimaryCtaClick:()=>{r({authType:"login",callback:s=>{K.logEvent("chatgpt_unauthenticated_banner_login_button_clicked"),P.logLogInButtonClicked({location:"Chat Stage Login Banner",provider:s})}})},primaryCtaText:n.formatMessage(rn.logInButtonText),onSecondaryCtaClick:t?()=>{r({authType:"signup",callback:s=>{K.logEvent("chatgpt_unauthenticated_banner_signup_button_clicked"),P.logSignUpButtonClicked({location:"Chat Stage Login Banner",provider:s})}})}:void 0,secondaryCtaText:t?n.formatMessage(Xa.bannerSignupButton):void 0})}const Xa=Q({bannerTermsDisclaimer:{id:"bannerTermsDisclaimer",defaultMessage:"Don't share sensitive info. Chats may be reviewed and used to train our models. <learnMoreLink>Learn more</learnMoreLink>"},bannerTermsDisclaimerSafetyAndAbuse:{id:"pDsoLk",defaultMessage:"Don't share sensitive information. Chats may be reviewed for safety and abuse prevention. <learnMoreLink>Learn more</learnMoreLink>"},bannerSignup:{id:"4qlPtW",defaultMessage:"Get smarter responses, upload files and images, and more."},bannerSignupButton:{id:"hedgehog.banner_signup_button",defaultMessage:"Sign up"}}),m5="https://cdn.oaistatic.com/assets/app-slack-icon-edtfy1gb.png",W_=Ee.section`max-w-sm flex flex-col gap-2 rounded-2xl border border-token-border-light p-4 shadow items-center`,lst=.9;function g5(e){return e.sync_phase==="discovering"||e.sync_phase==="syncing"&&e.items_synced<e.items_discovered*lst}function ggt(){const[e,t]=p.useState(void 0),[n,r]=p.useState(void 0);p.useEffect(()=>{(async()=>{try{const[f,h]=await Promise.all([Z.getKnowledgeStoreStatus("google_drive"),Z.getKnowledgeStoreStatus("slack")]);t(f),r(h)}catch{t(void 0),r(void 0)}})()},[]);const{isSuccess:s,data:o,isLoading:a}=_e({queryKey:["getCaSyncStatus"],queryFn:Z.getCaSyncStatus,refetchInterval:d=>{switch(d.state.status){case"error":return 30*1e3;case"success":return d.state.data?.connectors?.length?d.state.data?.connectors.some(g5)?3*1e3:!1:30*1e3;case"pending":return 30*1e3}}}),i=s&&!a&&o?o.connectors:[],l=e?.credential_type==="user_oauth"||n?.credential_type==="user_oauth",u=e?.exist||n?.exist;return c.jsx("div",{className:"p-7",children:u===void 0?c.jsx(Ln,{}):u?l?c.jsx(fst,{syncStatuses:i,gDriveKnowledgeStoreOAuthType:e?.credential_type,slackKnowledgeStoreOAuthType:n?.credential_type}):c.jsx(dst,{}):c.jsx(ust,{})})}function ust(){return c.jsxs(W_,{className:"text-center",children:[c.jsx("p",{className:"mb-1 text-lg font-bold text-token-text-primary",children:c.jsx(S,{id:"hv8AR4",defaultMessage:"Your Workspace Is Not Set Up For Synced Connectors"})}),c.jsxs("p",{className:"mb-1 text-sm text-token-text-secondary",children:[c.jsx(S,{id:"0yexmP",defaultMessage:"ChatGPT's answers will not be enhanced with knowledge from synced files."})," ",c.jsx(S,{id:"gLcU9K",defaultMessage:"Please contact your organization's administrator to enable this feature."})]})]})}function dst(){return c.jsx(W_,{className:"text-center",children:c.jsx("p",{className:"mb-1 text-sm text-token-text-primary",children:c.jsx(S,{id:"LvrAFF",defaultMessage:"Your ChatGPT Workspace Is Connected With Your Company Data"})})})}function fst({syncStatuses:e,gDriveKnowledgeStoreOAuthType:t,slackKnowledgeStoreOAuthType:n}){const{config:r}=Da("1001765573"),s=r.get("ca_sk_enabled",!1);return c.jsxs(W_,{className:"text-center",children:[c.jsx("p",{className:"mb-1 text-lg font-bold text-token-text-primary",children:c.jsx(S,{id:"1NWyN0",defaultMessage:"Ask ChatGPT about work"})}),c.jsx("p",{className:"mb-1 text-sm text-token-text-secondary",children:c.jsx(S,{id:"QeUvu+",defaultMessage:"Connect your workplace accounts so ChatGPT can reference work files."})}),c.jsxs("div",{className:"my-1 w-full",children:[t==="user_oauth"&&c.jsx(eA,{type:Tc.GDRIVE_SYNC_CONNECTOR,syncStatuses:e}),s&&n==="user_oauth"&&c.jsx(eA,{type:Tc.SLACK_SYNC_CONNECTOR,syncStatuses:e})]}),c.jsx("p",{className:"max-w-64 text-xs text-token-text-tertiary",children:c.jsx(S,{id:"K/YIKe",defaultMessage:"{workspaceName} workspace chats and connections aren't used to train our models.",values:{workspaceName:"OpenAI"}})})]})}function eA({type:e,syncStatuses:t}){let n;switch(e){case Tc.GDRIVE_SYNC_CONNECTOR:n=ci;break;case Tc.SLACK_SYNC_CONNECTOR:n=i=>c.jsx("img",{src:m5,...i,alt:""});break}const r=p.useMemo(()=>t.filter(i=>i.connector===e)[0],[t,e]),{connectors:s}=x4([e]),o=s.get(e);if(!o)return null;const a=!!o.access_token;return c.jsx(pst,{entry:o,syncStatus:r,isConnected:a,onConnect:v4,appIcon:n})}function hst({children:e}){return c.jsx("div",{className:"btn-secondary btn hover:bg-inherit relative mb-2 flex w-full items-center justify-center rounded-lg p-3",children:e})}const pst=({entry:e,isConnected:t,syncStatus:n,onConnect:r,appIcon:s})=>{let o="Google";e.type===Tc.SLACK_SYNC_CONNECTOR&&(o="Slack");const a=!n||n.sync_phase==="unknown",i=t&&!a&&g5(n),l=t&&!a&&!i,u=l?j$:s;return t?c.jsxs(hst,{loading:!l,children:[u&&c.jsx(u,{className:O("mx-2 h-5 w-5 flex-initial",l&&"text-green-500")}),c.jsxs("div",{className:O("flex-auto",l&&"mr-9"),children:[c.jsx("p",{children:l?c.jsx(S,{...Sv.connected,values:{appName:o}}):c.jsx(S,{...Sv.syncing,values:{appName:o}})}),c.jsx("p",{className:O("w-full text-sm text-token-text-secondary",i?"pt-2":"py-2"),children:a?c.jsx(S,{id:"i/Sjic",defaultMessage:"Getting sync status…"}):n.sync_phase==="discovering"?c.jsx(S,{id:"Tjc7M6",defaultMessage:"Discovering files…"}):i?c.jsx(S,{id:"7YaAvy",defaultMessage:"Indexing files…"}):c.jsx(S,{id:"DAsSAe",defaultMessage:"Your files are ready to use."})}),i&&c.jsx("p",{className:"w-full pb-2 text-sm text-token-text-tertiary",children:n.sync_phase==="discovering"?c.jsx(S,{id:"9cbJqo",defaultMessage:"{items_synced} files processed",values:{items_synced:n.items_synced.toLocaleString()}}):c.jsx(S,{id:"XpeElU",defaultMessage:"{items_synced}/{items_discovered} files processed",values:{items_synced:n.items_synced.toLocaleString(),items_discovered:n.items_discovered.toLocaleString()}})})]}),!l&&c.jsx("div",{className:"mx-2 w-5",children:c.jsx(Ln,{})})]}):c.jsxs(ue,{fullWidth:!0,contentsFullWidth:!0,onClick:()=>r({id:e.id},"settings_connected_apps",`${window.location.origin}/ca/${e.id}/oauth/callback`,"?model=gpt-4o-gdrive&onboarding=true"),color:"secondary",size:"medium",className:"mb-2 rounded-lg p-3",children:[u&&c.jsx(u,{className:"mx-2 h-5 w-5 flex-initial"}),c.jsx("div",{className:"mr-9 flex-auto",children:c.jsx("p",{children:c.jsx(S,{...Sv.connect,values:{appName:o}})})})]})},Sv=Q({connect:{id:"caOnboarding.connect",defaultMessage:"Connect to {appName}"},syncing:{id:"caOnboarding.syncing",defaultMessage:"Syncing with {appName}"},connected:{id:"caOnboarding.connected",defaultMessage:"Connected to {appName}"}});function vgt(){const{store:e}=O_(),t=e.useSharedProps(),n=rG(),{clearSearchModeTrigger:r,getSearchModeTrigger:s}=Tke();return p.useCallback(async(o,a,i)=>{if(!t)return;const{clientThreadId:l,currentLeafId:u,onCreateNewCompletion:d,onResetState:f,conversationMode:h}=t;Re.hideThreadHeader();const m=`${u}-nextPrompt`,g=new Hd,v=n.has(Lt.Search),y=v?s():void 0;await d({promptId:m,content:wa(o),eventMetadata:{eventSource:"mouse"},completionMetadata:{suggestions:a,suggestion:o,suggestionIndex:i,conversationMode:h??Te.getConversationMode(l),systemHints:[...n],searchSource:y},messageMetadata:{is_starter_prompt:!0,suggestion_type:o.type,starter_prompt_id:"id"in o?o.id:null},turnTracker:g});const b=k.getTree(l).getMessageId(m);f(),KMe(o,i,l,b),h_(),y&&v&&r()},[t,n,s,r])}function tA(e){return(iI(e)?e.promptStarters:e.gizmo.display.prompt_starters)?.map(t=>({type:dt.Starter,title:"",body:t,prompt:t}))}function ygt(e,t,n,r,s,o){const a=es(),i=nl(t),l=hi(i?.kind===Me.GizmoInteraction?i.gizmo_id:void 0).data,{gizmoEditorData:u,mode:d}=Wl(),f=RDe(i),h=Ge(),m=e&&!f&&(r||!h?.isEnterprisey()),{data:g,isLoading:v,isSuccess:y,isError:x}=_e({queryKey:["promptStarters",t,n,s,o],queryFn:()=>Z.getSampledPromptStarter(n,s,o),enabled:m});return a==null?{promptStarters:[],isLoading:!0,isSuccess:!1}:d==="test"&&u?{promptStarters:tA(u)??[],isLoading:!1,isSuccess:!0}:l!=null?{promptStarters:tA(l),isLoading:!1,isSuccess:!0}:m?{promptStarters:g?.items.map(b=>({type:dt.Starter,id:b.id,title:b.title,body:b.description,prompt:b.prompt,category:b.category,oneliner:b.oneliner,theme:b.theme,requires_file_upload:b.requires_file_upload}))??[],isLoading:v,isSuccess:y,isError:x}:{promptStarters:[],isLoading:!1,isSuccess:!0}}function bgt(e){return e.shouldRender?c.jsx(mst,{...e}):null}function mst({contentArea:e,children:t}){const{store:n}=O_(),r=p.useRef(null);return n.useContentAreaResizeObserver(e,r),c.jsx("div",{ref:r,className:O("relative h-full w-full"),children:t})}function xgt(){const{layer:e}=Bn("3637408529");return e.get("is_secondary_auth_banner_button_enabled",!1)}function v5(e,t,n){try{const r=JSON.parse(window.localStorage.getItem(e)??"");return n(r)?r:t}catch{return t}}function gst(e,t){window.localStorage.setItem(e,JSON.stringify(t))}const nA=He(e=>({data:{},setItem:(t,n)=>e(r=>({data:{...r.data,[t]:n}}))}));function wgt(e,t,n){const[r,s]=p.useState(!1),o=nA(l=>l.data[e]),a=nA(l=>l.setItem);return p.useEffect(()=>{if(!r){const l=v5(e,t,n);a(e,l),s(!0)}},[r,e,t,n,a]),p.useEffect(()=>{r&&gst(e,o)},[e,o,r]),[o??t,l=>{a(e,l)}]}var vst=N6,yst=KA,bst=sw,xst="[object Object]",wst=Function.prototype,Sst=Object.prototype,y5=wst.toString,_st=Sst.hasOwnProperty,Cst=y5.call(Object);function Tst(e){if(!bst(e)||vst(e)!=xst)return!1;var t=yst(e);if(t===null)return!0;var n=_st.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&y5.call(n)==Cst}var Mst=Tst;const Est=ge(Mst),kst={base_config:void 0,eval_preset:void 0,completion_model:void 0},Pst="internal_search_settings",Ast=e=>Est(e);function Sgt(){const e=v5(Pst,kst,Ast);return R6(e,t=>!!t)}function rA(){return window.matchMedia("(pointer: coarse) and (hover: none)").matches}function $st(){return{}}const sA=new WeakMap;function b5(e){const t=sA.get(e);if(!t){const n=new Set;return sA.set(e,n),n}return t}function Ost(e,t){b5(e).add(t)}function Ist(e,t){b5(e).delete(t)}function _gt(e){return!1}function Cgt(e){const t=Ah(),[n]=p.useState($st);p.useEffect(()=>{if(t&&e)return Ost(t,n),()=>Ist(t,n)},[e,t,n])}const Tgt=({svgString:e,className:t})=>{const n=c.jsx("div",{className:t});return c.jsx(Xx,{name:"StringToSVG",fallback:n,children:c.jsx("div",{className:O("[&_svg]:h-full [&_svg]:w-full",t),dangerouslySetInnerHTML:{__html:e}})})};function Nst(e){const t=p.useContext(c9);return({id:r,requestedModelId:s,eventMetadata:o,focusOnNewCompletion:a=!0,variantPurpose:i="none",useDefaultModel:l,appendMessages:u,conversationMode:d,juice:f=void 0,turnTracker:h,extraStreamParams:m})=>{const v=k.getTree(e).getParentPromptNode(r),y=v.id;t({type:ks.Variant,promptId:y,requestedModelId:s,eventMetadata:o,cancelActiveRequests:!1,focusOnNewCompletion:a,useDefaultModel:l,completionMetadata:{variantPurpose:i,conversationMode:d,juice:f,systemHints:v.message.metadata?.system_hints,searchSource:m?.forceUseSearch===!0?Ov.CONVERSATION_REGENERATE_WITH_SEARCH:m?.forceUseSearch===!1?Ov.CONVERSATION_REGENERATE_WITHOUT_SEARCH:void 0},appendMessages:u,turnTracker:h,extraStreamParams:m})}}function Rst(e,t,n){var r=-1,s=e.length;t<0&&(t=-t>s?0:s+t),n=n>s?s:n,n<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(s);++r<s;)o[r]=e[r+t];return o}var jst=Rst,Dst=jst;function Lst(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:Dst(e,t,n)}var Fst=Lst,Bst="\\ud800-\\udfff",Ust="\\u0300-\\u036f",Vst="\\ufe20-\\ufe2f",Gst="\\u20d0-\\u20ff",Wst=Ust+Vst+Gst,Hst="\\ufe0e\\ufe0f",zst="\\u200d",qst=RegExp("["+zst+Bst+Wst+Hst+"]");function Yst(e){return qst.test(e)}var x5=Yst;function Kst(e){return e.split("")}var Qst=Kst,w5="\\ud800-\\udfff",Xst="\\u0300-\\u036f",Zst="\\ufe20-\\ufe2f",Jst="\\u20d0-\\u20ff",eot=Xst+Zst+Jst,tot="\\ufe0e\\ufe0f",not="["+w5+"]",Bx="["+eot+"]",Ux="\\ud83c[\\udffb-\\udfff]",rot="(?:"+Bx+"|"+Ux+")",S5="[^"+w5+"]",_5="(?:\\ud83c[\\udde6-\\uddff]){2}",C5="[\\ud800-\\udbff][\\udc00-\\udfff]",sot="\\u200d",T5=rot+"?",M5="["+tot+"]?",oot="(?:"+sot+"(?:"+[S5,_5,C5].join("|")+")"+M5+T5+")*",aot=M5+T5+oot,iot="(?:"+[S5+Bx+"?",Bx,_5,C5,not].join("|")+")",cot=RegExp(Ux+"(?="+Ux+")|"+iot+aot,"g");function lot(e){return e.match(cot)||[]}var uot=lot,dot=Qst,fot=x5,hot=uot;function pot(e){return fot(e)?hot(e):dot(e)}var mot=pot,got=Fst,vot=x5,yot=mot,bot=b$;function xot(e){return function(t){t=bot(t);var n=vot(t)?yot(t):void 0,r=n?n[0]:t.charAt(0),s=n?got(n,1).join(""):t.slice(1);return r[e]()+s}}var wot=xot,Sot=wot,_ot=Sot("toUpperCase"),Cot=_ot,Tot=b$,Mot=Cot;function Eot(e){return Mot(Tot(e).toLowerCase())}var kot=Eot;const Mgt=ge(kot);function Egt({children:e}){let t;return p.Children.forEach(e,n=>{if(p.isValidElement(n)&&n.type==="title"){const r=p.Children.toArray(n.props.children)[0];typeof r=="string"&&(t=r)}}),p.useEffect(()=>{if(t!=null){const n=document.title;return document.title=t,()=>{document.title=n}}},[t]),null}function Pot(){const e=an(),t=ze(),{isUnauthenticated:n}=Ut(),r=Ot("3376455464")?.value,{openSettings:s}=E3();return c.jsx(c.Fragment,{children:c.jsxs(Bh,{triggerButton:c.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-full border border-token-border-light text-xs text-token-text-secondary",children:"?"}),children:[e&&!n&&c.jsx(ie.Item,{onClick:o=>{Ol(e.id,t,o).then(()=>{t.success("Copied your User ID to clipboard")})},icon:gw,children:e.email}),c.jsx(nNe,{}),c.jsx(ie.Item,{icon:OU,onClick:()=>{Re.openModal(wt.KeyboardActions)},children:c.jsx(S,{id:"thread.keyboardShortcutsMenu",defaultMessage:"Keyboard shortcuts"})}),r&&c.jsx(ie.Item,{icon:IU,onClick:()=>{Re.openModal(wt.ReportConversation)},children:c.jsx(S,{id:"thread.report",defaultMessage:"Report Illegal Content"})}),n&&c.jsx(ie.Item,{onClick:()=>s(),icon:NU,children:c.jsx(S,{id:"helpMenu.items.settings",defaultMessage:"Settings"})})]})})}const Aot=Object.freeze(Object.defineProperty({__proto__:null,default:Pot},Symbol.toStringTag,{value:"Module"}));function $ot(e){return e.sub_reasons.length===0&&e.details_placeholder==null&&e.link_attachment==null&&e.subtext==null}function Oot(e,t,n){const r=ze();return St({mutationFn:s=>Z.postReport({...s,entity_type:n,entity_id:t}),onError:s=>{ae.addError(new Error("Error occurred while reporting",{cause:s}),{entityType:n,id:t}),r.danger(e.formatMessage({id:"report.submitError",defaultMessage:"Error reporting: {detail}"},{detail:s.message}))}})}function Iot(e){return _e({queryKey:["reportReasons",{entityType:e}],queryFn:()=>Z.getReportReasons(e)})}function Not({name:e,placeholder:t,type:n,list:r,displayName:s,onChange:o,onFocus:a,onBlur:i,value:l,saveOnBlur:u,icon:d,onInputIconClick:f,className:h,autoComplete:m,autoFocus:g,onPressEnter:v,disabled:y,maxLength:x,color:b="tertiary"},w){const[_,C]=p.useState(l),T=p.useCallback($=>{i?.($),u&&C($.target.value)},[i,u]),M=p.useCallback($=>{o?.($),u&&C($.target.value)},[o,u]),E=p.useCallback($=>{$.key==="Enter"&&v&&($.preventDefault(),v(_))},[v,_]);p.useEffect(()=>{C(l)},[l]);const R={...u?{}:{value:l},...u?{value:_}:{}};return c.jsxs("div",{className:O("rounded-md border shadow-none",b==="neutral"&&"border-transparent px-3 py-2 focus-within:border-green-500 focus-within:bg-token-main-surface-tertiary focus-within:ring-1 focus-within:ring-transparent hover:bg-token-main-surface-tertiary",b==="tertiary"&&"border-token-border-medium px-3 py-2 focus-within:border-token-border-xheavy focus-within:ring-1 focus-within:ring-token-text-secondary",b==="search"&&"rounded-xl border-token-border-medium bg-token-main-surface-primary p-4 focus-within:border-token-border-xheavy focus-within:ring-0 dark:border-token-border-medium dark:focus-within:border-token-border-xheavy dark:focus-within:ring-0",h),children:[c.jsx("label",{htmlFor:e,className:"block text-xs font-semibold text-token-text-primary",children:s}),c.jsxs("div",{className:O(s&&"mt-1","relative"),children:[c.jsx("input",{ref:w,type:n,name:e,id:e,list:r,className:O("block w-full border-0 p-0 placeholder-gray-500 shadow-none outline-none focus-within:shadow-none focus-within:outline-none focus-within:ring-0 focus:border-none focus:ring-0 sm:text-sm",d!=null&&"pr-6",b==="neutral"||b==="search"?"bg-transparent":"bg-token-main-surface-primary text-token-text-primary"),placeholder:t,onBlur:T,onFocus:a,onChange:M,onKeyDown:E,autoComplete:m,autoFocus:g,disabled:y,maxLength:x,...R}),d!=null&&c.jsx(Rot,{onClick:f,children:c.jsx(d,{className:"icon-sm"})})]})]})}const Vx=X.forwardRef(Not),Rot=Ee.button`absolute right-0 top-1/2 -translate-y-1/2`,jot=Ee.div`divide-y overflow-hidden rounded-md border border-token-border-medium`,Dot=Ee.button`w-full border-token-border-medium p-2 text-left text-sm hover:bg-token-main-surface-secondary`,Lot=Ee.div`text-sm font-semibold`,Fot=Ee.div`text-sm text-token-text-secondary`;function la({header:e,subHeader:t}){return e==null&&t==null?null:c.jsxs("div",{className:"mb-4",children:[e!=null&&c.jsx(Lot,{children:e}),t!=null&&c.jsx(Fot,{children:t})]})}function Bot({reasons:e,onSelectReason:t}){return c.jsx(jot,{children:e.map(n=>c.jsx(Dot,{onClick:()=>{t(n)},children:n.cta},n.id))})}function Uot({reason:e,submitReport:t}){const[n,r]=p.useState(""),[s,o]=p.useState(""),[a,i]=p.useState(""),l=e.additional_fields?.map(h=>h.id),u=l?.includes(u1.UserName),d=l?.includes(u1.UserEmail),f=u||d;return c.jsxs("div",{className:"flex flex-col gap-4",children:[f&&c.jsxs("div",{className:"flex flex-col gap-4 text-sm",children:[u&&c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx(S,{id:"report.loggedOut.name",defaultMessage:"Your name"}),c.jsx(Vx,{name:"name",type:"text",value:s,onChange:h=>o(h.target.value)})]}),d&&c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx(S,{id:"report.loggedOut.email",defaultMessage:"Your email address"}),c.jsx(Vx,{name:"email",type:"email",value:a,onChange:h=>i(h.target.value)})]})]}),c.jsx(h4,{value:n,onChange:h=>r(h.target.value),placeholder:e.details_placeholder??void 0,autoFocus:!0,className:"!bg-token-main-surface-primary"}),e.subtext!=null&&c.jsx("div",{className:"text-sm text-token-text-secondary",children:e.subtext}),c.jsx("div",{className:"flex justify-end",children:c.jsx(ue,{onClick:()=>{let h;f&&(h={},u&&(h.user_name=s),d&&(h.user_email=a)),t.mutateAsync({reason:{id:e.id,details:n},additional_fields_values:h})},disabled:t.isPending,children:c.jsx(S,{id:"report.submitReport",defaultMessage:"Submit"})})})]})}function Vot({reason:e}){return c.jsxs("div",{className:"text-sm",children:[c.jsx("div",{className:"mb-2",children:e.link_explanation}),e.link_attachment!=null&&c.jsx("div",{children:c.jsx("a",{href:e.link_attachment,target:"_blank",rel:"noreferrer",className:"break-words underline",children:e.link_attachment})})]})}function Got({reasons:e,submitReport:t,title:n,onClose:r,header:s,subHeader:o}){const[a,i]=p.useState([]),l=V();let u=e,d;for(const y of a)d=u.find(x=>x.id===y),u=d?.sub_reasons??[];const f=d!=null&&c.jsx("div",{className:"mb-2 flex gap-1 text-sm",children:c.jsxs("button",{onClick:()=>{i(y=>y.slice(0,-1))},className:"flex items-center gap-2 p-1",children:[c.jsx(vw,{className:"icon-sm"}),c.jsx("div",{children:d.cta})]})}),h=d?.subtext!=null&&c.jsx("div",{className:"text-sm text-token-text-secondary",children:d.subtext}),m=l.formatMessage({id:"report.submittedModal.header",defaultMessage:"Report submitted"}),g=l.formatMessage({id:"report.submittedModal.subHeader",defaultMessage:"You report has been submitted. Thank you for letting us know about this issue."});let v;return t.isSuccess?v=c.jsx(la,{header:m,subHeader:g}):d?.details_placeholder!=null?v=c.jsxs(c.Fragment,{children:[c.jsx(la,{header:s,subHeader:o}),f,c.jsx(Uot,{reason:d,submitReport:t})]}):d?.link_attachment!=null?v=c.jsxs(c.Fragment,{children:[c.jsx(la,{header:s,subHeader:o}),f,c.jsx(Vot,{reason:d}),h]}):u.length>0?v=c.jsxs(c.Fragment,{children:[c.jsx(la,{header:s,subHeader:o}),f,u.length>0&&c.jsx(Bot,{reasons:u,onSelectReason:async y=>{$ot(y)?t.mutateAsync({reason:{id:y.id}}):i(x=>[...x,y.id])}}),h]}):d?.subtext!=null?v=c.jsxs(c.Fragment,{children:[c.jsx(la,{header:s,subHeader:o}),f,c.jsx("div",{className:"text-sm",children:d?.subtext})]}):(ae.addError("Reporting: arrived at empty leaf reason",d),v=c.jsx(la,{header:m,subHeader:g})),c.jsx(Ue,{title:n,onClose:r,isOpen:!0,showCloseButton:!0,type:"success",children:v})}function kgt({serverThreadId:e,clientThreadId:t,isStaticSharedThread:n,isDynamicSharedThread:r}){const s=MS(wt.ReportConversation),o=$t("2935021756")?.value,a=Ot("3376455464")?.value||n||r,i=np(t);let l=e??i;const u=p.useContext(IO);l==null&&u!=null&&(l=u.serverSharedThreadId??void 0),o&&typeof window<"u"&&(window._convo_share_debug={isOpen:s,canReport:a,serverThreadIdIsNull:l==null,isStaticSharedThread:n,isDynamicSharedThread:r});const d=V(),f=ze();return p.useEffect(()=>{l==null&&s&&a&&(f.danger(d.formatMessage({id:"gizmo.report.conversationModal.emptyConversationError",defaultMessage:"Empty conversations cannot be reported"})),Re.closeModal(wt.ReportConversation))},[l,s,a,d,f]),!s||!a||l==null?(s&&K.logEvent("chatgpt_conversation_share_report_modal_not_shown",a?"serverThreadId":"canReport"),null):c.jsx(Wot,{serverThreadId:l,onClose:()=>Re.closeModal(wt.ReportConversation),isStaticSharedThread:n,isDynamicSharedThread:r})}function Wot({serverThreadId:e,onClose:t,isStaticSharedThread:n,isDynamicSharedThread:r}){const{data:s}=Iot(n||r?ql.ShareableConversation:ql.Conversation),o=V(),a=Oot(o,e,n||r?ql.ShareableConversation:ql.Conversation);return s==null||e==null?(K.logEvent("chatgpt_conversation_share_report_modal_not_shown",s==null?"report_reasons":"thread_id"),null):c.jsx(Got,{reasons:s.reasons,submitReport:a,title:o.formatMessage({id:"gizmo.report.conversationModal.title",defaultMessage:"Report a conversation"}),onClose:t,header:s.header,subHeader:s.header_explanation})}function Hot(e,t){const n=$r(e),r=k.getTitle(e);return t&&t.kind===Me.GizmoInteraction&&t.gizmo?n?`ChatGPT - ${t.gizmo.gizmo.display.name}`:r&&`${t.gizmo.gizmo.display.name} - ${r}`:n?"ChatGPT":r}function Pgt(e){const t=im(e);return p.useMemo(()=>Hot(e,t),[e,t])}const Agt=60*60*24*30;function zot(e){return e.author.metadata?.real_author===j6.ToolWeb}function $gt(e,t){return`https://chatgpt.com/search/evals/permalink/${e}/${t}`}function Ogt(e){return Zn(e.flatMap(t=>t.type==="image_v2"?t.images:[]))}function qot(e,t){const n={};return t?e.forEach(r=>{r.type==="grouped_webpages_v2"&&r.items.forEach(s=>{s.url&&!n[s.url]&&(n[s.url]=s)})}):e.forEach(r=>{r.type==="webpage"||r.type==="webpage_extended"?r.url&&!n[r.url]&&(n[r.url]=r):r.type==="grouped_webpages"?r.items.forEach(s=>{s.url&&!n[s.url]&&(n[s.url]=s)}):r.type==="businesses_map"&&Object.values(r.cite_map).forEach(s=>{s&&s.url&&(n[s.url]||(n[s.url]=s))})}),Object.values(n)}const Igt=(e,t,n,r)=>{const{userPreferenceIsOpen:s,turnIndex:o,clientThreadId:a,messageId:i}=f2(),l=Yot(t,n),u=l!=null;p.useEffect(()=>{if(s){const d=l?.message.id,f=e-1,h=t!==a,m=f>(o??-1),g=f==o&&!h&&d!=i;u&&d&&(h||m)?Re.openChatThreadFlyout(t,f,d):(r||!r&&e&&!u&&(h||g))&&Re.temporaryCloseChatThreadFlyout()}},[e,u,t,r])},Yot=(e,t)=>{const r=oV(e,t)?.messages.find(o=>zot(o.message)),s=Gxe();if(r){const a=Gv(r?.message).length,i=Wv(r?.message),l=qot(i,s).length;return a||l?r:null}return null};function E5(e){const{className:t,htmlFor:n,icon:r,label:s,onClick:o,onActivate:a,style:i,tooltipSideOffset:l,tabIndex:u=0}=e;return c.jsx(pt,{label:s,className:"inline-flex",interactive:!1,sideOffset:l,children:c.jsx("label",{className:O(t,Ld.wrapper),style:i,htmlFor:n,onClick:o,tabIndex:u,onKeyPress:d=>{(d.key==="Enter"||d.key===" ")&&a?.(d)},children:c.jsxs("span",{className:Ld.label,children:[c.jsx("span",{className:"sr-only",children:s}),r]})})})}function oA({id:e,name:t,checked:n,onChange:r=$e}){return c.jsx("input",{className:"sr-only",checked:n,id:e,name:t,type:"checkbox",readOnly:!0,onChange:r})}const aA=({label:e,value:t,onCopied:n})=>{const r=ze(),s=o=>{Ol(t,r,o),n()};return c.jsxs("div",{className:"flex flex-col space-y-2",children:[e!==void 0&&c.jsx("label",{className:"font-semibold",children:e}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{onClick:s,className:"w-full cursor-pointer break-all rounded-lg bg-token-main-surface-tertiary px-4 py-2 font-mono text-sm text-token-text-primary",children:t}),c.jsx(ue,{color:"ghost",onClick:s,icon:gw})]})]})},H_=p.createContext({rootBordered:!1});function Kot({children:e}){return c.jsx("thead",{children:c.jsx("tr",{children:e})})}function Qot({textAlign:e="left",children:t,className:n=""}){const{rootBordered:r}=p.useContext(H_);return c.jsx("th",{className:O("text-token sticky top-0 z-10 border-b-[0.5px] border-token-border-medium bg-token-main-surface-primary py-2 font-semibold",r?"px-3":"pr-4 last:pr-0",e==="left"?"text-left":e==="right"?"text-right":"text-center",n),children:t})}function Xot({children:e,...t}){return c.jsx("tbody",{...t,children:e})}const Zot=p.forwardRef(function({children:t,disabled:n=!1,onClick:r,className:s},o){return c.jsx("tr",{ref:o,...n?{"data-disabled":!0}:{},className:O(n?"pointer-events-none":"",s),onClick:r,children:t})});function Jot({textAlign:e="left",children:t,className:n,divClassName:r="min-h-[40px] items-center",colSpan:s}){const{rootBordered:o}=p.useContext(H_);return c.jsx("td",{className:O("border-b-[0.5px] border-token-border-medium align-top",o?"px-3":"pr-4 last:pr-0 [tr:last-child_&]:border-b-0",e&&"text-"+e,n),colSpan:s,children:c.jsx("div",{className:O("flex [tr[data-disabled=true]_&]:opacity-50",e==="right"&&"justify-end",e==="center"&&"justify-center",r),children:t})})}function eat({children:e}){return c.jsx("div",{className:"text-md flex items-center justify-end gap-2",children:e})}function tat({children:e,fixed:t=!1,className:n,size:r="normal",bordered:s=!1}){const o=p.useRef(null),a=p.useRef(null),[i,l]=p.useState(!1);return p.useEffect(()=>{const u=o.current,d=a.current;if(u&&d){const f=new ResizeObserver(()=>{l(d.scrollHeight>u.clientHeight)});return f.observe(u),()=>f.disconnect()}},[]),c.jsx(H_.Provider,{value:{rootBordered:s},children:c.jsx("div",{className:O("overflow-y-auto text-token-text-primary",s&&"rounded-lg border border-token-border-light",r==="normal"?"text-base":"text-sm",i&&"pr-1",n),ref:o,children:c.jsx("table",{className:O("w-full border-separate border-spacing-0",t&&"table-fixed"),ref:a,children:e})})})}const nat={Root:tat,Header:Kot,HeaderCell:Qot,Body:Xot,Row:Zot,Cell:Jot,Actions:eat},Xs=nat;function k5(e,t){return _e({queryKey:["workspace/identity",e],queryFn:async()=>{if(e!==void 0)return await Z.getWorkspaceIdentitySettings(e)},enabled:t})}function Ngt(){const e=rr(Ua.workspaceId),{data:t}=k5(e??void 0,e!=null);return t?.allow_external_domain_invites}function Rgt(){const e=rr(Ua.workspaceId),{data:t}=k5(e??void 0,e!=null);return p.useMemo(()=>t?.domains&&t?.domains.filter(n=>n.status==="verified"),[t?.domains])}function jgt(e){const t=V(),n=ze();return St({mutationFn:({shouldAutoProvision:r})=>Z.setWorkspaceShouldAutoProvision(e,r).then(s=>{const o=r?_h.autoProvisionEnabledToast:_h.autoProvisionDisabledToast;return n.success(t.formatMessage(o),{duration:3}),s}).catch(s=>{throw n.danger(s.message),s})})}function Dgt(e){const t=V(),n=ze();return St({mutationFn:async({shouldAllowExternalDomainInvites:r})=>{try{const s=await Z.setWorkspaceShouldDisableExternalDomainInvites(e,r),o=r?_h.allowExternalDomainInvitesToast:_h.disableExternalDomainInvitesToast;return n.success(t.formatMessage(o),{duration:3}),s}catch(s){throw n.danger(s.message),s}}})}function P5(e){const t=Fe();return St({mutationFn:({domainId:n})=>Z.removeDomainFromWorkspace(e,n),onSuccess:()=>{t.refetchQueries({queryKey:["workspace/identity",e]}),t.refetchQueries({queryKey:["builderProfile"]})}})}function A5(e){let t=e;return t.startsWith("-----BEGIN")||(t=`-----BEGIN CERTIFICATE-----
${t}`),t.endsWith("CERTIFICATE-----")||(t=`${t}
-----END CERTIFICATE-----`),t}function Lgt(e){const t=Fe();return St({mutationFn:({signInEndpoint:n,cert:r})=>Z.createSAMLConnection(e,n,A5(r)),onSuccess:()=>{t.refetchQueries({queryKey:["workspace/identity",e]})}})}function Fgt(e){const t=Fe();return St({mutationFn:({connectionId:n,signInEndpoint:r,cert:s,active:o,enforcedClients:a})=>Z.updateSAMLConnection(e,n,{signInEndpoint:r,cert:s!==void 0?A5(s):void 0,active:o,enforcedClients:a}),onSuccess:()=>{t.refetchQueries({queryKey:["workspace/identity",e]})}})}function Bgt(e){const t=Fe();return St({mutationFn:({connectionId:n})=>Z.deleteSAMLConnection(e,n),onSuccess:()=>{t.refetchQueries({queryKey:["workspace/identity",e]})}})}const Ugt=Ee.div`text-md mb-4 text-token-text-secondary`,Vgt={[Ta.VERIFIED]:I({id:"i7FkyS",defaultMessage:"Verified"}),[Ta.PENDING]:I({id:"THBv/l",defaultMessage:"Pending"}),[Ta.EXPIRED]:I({id:"+sjWGK",defaultMessage:"Expired"})},_h=Q({autoProvisionEnabledToast:{id:"workspaceIdentity.autoProvisionEnabledToast",defaultMessage:"Auto provisioning enabled for this workspace"},autoProvisionDisabledToast:{id:"workspaceIdentity.autoProvisionDisabledToast",defaultMessage:"Auto provisioning disabled for this workspace"},allowExternalDomainInvitesToast:{id:"j0jI/4",defaultMessage:"External domain invites are allowed for this workspace"},disableExternalDomainInvitesToast:{id:"67yB97",defaultMessage:"External domain invites are disabled for this workspace"}});function rat(e){const t=Fe(),n=ze();return St({mutationFn:({hostname:r})=>Z.addDomainToWorkspace(e,r),onSuccess:()=>{t.invalidateQueries({queryKey:["workspace/identity",e]}),t.invalidateQueries({queryKey:["builderProfile"]})},onError:r=>{n.danger(r.message)}})}function sat(e){const t=Fe(),n=ze();return St({mutationFn:({domainId:r})=>Z.checkDomainForWorkspace(e,r),onSuccess:()=>{t.invalidateQueries({queryKey:["workspace/identity",e]}),t.invalidateQueries({queryKey:["builderProfile"]})},onError:r=>{n.danger(r.message)}})}function oat({workspaceId:e,isOpen:t,onClose:n,currentDomain:r,domains:s=[],showUnverifiedDomains:o=!1,onVerifyDomain:a}){const i=V(),l=ze(),{mutateAsync:u,isPending:d}=rat(e),{mutateAsync:f,isPending:h}=sat(e),[m,g]=p.useState(r??void 0),[v,y]=p.useState(r?.hostname),[x,b]=p.useState(r?.status===void 0?0:r?.status===Ta.PENDING?1:2),w=()=>{r||(g(void 0),b(0))},_=async()=>{if(v===void 0)return;const E=s.find(R=>R.hostname===v&&R.status===Ta.PENDING);if(E)g(E),b(1);else{const R=await u({hostname:v});"id"in R&&g(R),b(1)}},C=c.jsx(kt.Button,{title:i.formatMessage(Jt.check),color:"primary",disabled:m?.id===void 0||h,onClick:async()=>{if(m?.id){const E=await f({domainId:m.id});"error"in E&&l.danger(i.formatMessage(Jt.domainCheckError,{message:E.error.message})),"id"in E&&(a&&a(E),E.status===Ta.VERIFIED&&b(2))}}}),T=c.jsx(kt.Button,{title:i.formatMessage(Jt.submit),color:"primary",disabled:v===void 0||d,onClick:_}),M=c.jsx(kt.Button,{title:i.formatMessage(Jt.done),color:"primary",onClick:()=>{w(),n()}});return c.jsxs(Ue,{isOpen:t,onClose:()=>{w(),n()},type:"success",className:"text-token-text-secondary",title:i.formatMessage(x===0?Jt.newTitle:Jt.editTitle),primaryButton:x===0?T:x===1?C:M,secondaryButton:c.jsx(kt.Button,{title:i.formatMessage(Jt.cancel),color:"secondary",onClick:()=>{w(),n()}}),children:[x===0&&c.jsx(iat,{hostname:v,onSetHostname:y,onSubmit:_,unverifiedDomains:o?s:[],onVerifyDomain:E=>{b(1),g(E)},workspaceId:e}),x===1&&c.jsxs("div",{className:"flex flex-col gap-3",children:[i.formatMessage(Jt.verificationTokenMessage,{hostname:m?.hostname}),m?.dns_verification_token_string&&c.jsx(aA,{value:m.dns_verification_token_string,onCopied:()=>{l.success(i.formatMessage(Jt.copiedTXTRecordToClipboard),{duration:3})}}),c.jsx(S,{...Jt.verificationTokenFooter})]}),x===2&&c.jsxs("div",{className:"flex flex-col gap-3",children:[c.jsx(S,{...Jt.successfulVerification,values:{hostname:m?.hostname}}),m?.dns_verification_token_string&&c.jsx(aA,{value:m.dns_verification_token_string,onCopied:()=>{l.success(i.formatMessage(Jt.copiedTXTRecordToClipboard),{duration:3})}})]})]})}function aat({unverifiedDomains:e,onVerifyDomain:t,workspaceId:n}){const{mutateAsync:r}=P5(n);return c.jsxs(Xs.Root,{fixed:!0,size:"compact",className:"mb-6 border-b border-token-border-light",children:[c.jsxs(Xs.Header,{children:[c.jsx(Xs.HeaderCell,{children:c.jsx(S,{...Jt.unverifiedDomainsTableHeader})}),c.jsx(Xs.HeaderCell,{textAlign:"right"})]}),e.map(s=>c.jsxs(Xs.Row,{children:[c.jsx(Xs.Cell,{children:s.hostname}),c.jsx(Xs.Cell,{textAlign:"right",children:c.jsxs("div",{className:"flex gap-2",children:[c.jsx(ue,{color:"secondary",size:"small",onClick:()=>t(s),children:c.jsx(S,{...Jt.verifyDomainButton})}),c.jsx(ue,{color:"secondary",size:"small",onClick:()=>r({domainId:s.id}),icon:dw})]})})]},s.id))]})}function iat({hostname:e,onSetHostname:t,onSubmit:n,unverifiedDomains:r,onVerifyDomain:s,workspaceId:o}){const a=V();return c.jsxs(c.Fragment,{children:[r&&r.length>0&&c.jsx(aat,{workspaceId:o,unverifiedDomains:r,onVerifyDomain:s}),c.jsx("form",{onSubmit:i=>{i.preventDefault(),n()},children:c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"mb-2 flex items-center text-sm font-semibold",children:c.jsx(S,{...Jt.domainInput})}),c.jsx(Vx,{name:"hostname",placeholder:a.formatMessage(Jt.placeholder),value:e??"",onChange:i=>{t(i.target.value)}})]})})]})}const Jt=Q({newTitle:{id:"domainModal.newTitle.0",defaultMessage:"Verify a new domain"},editTitle:{id:"domainModal.editTitle",defaultMessage:"Manage Domain"},submit:{id:"domainModal.submit",defaultMessage:"Submit"},check:{id:"domainModal.check",defaultMessage:"Check"},done:{id:"domainModal.done",defaultMessage:"Done"},cancel:{id:"domainModal.cancel",defaultMessage:"Cancel"},domainInput:{id:"domainModal.domainInput.0",defaultMessage:"Add a new domain"},placeholder:{id:"domainModal.placeholder",defaultMessage:"openai.com"},domainCheckError:{id:"domainModal.domainCheckError",defaultMessage:"Your domain could not be verified: {message}"},verificationTokenMessage:{id:"domainModal.verificationTokenMessage",defaultMessage:"To verify ownership of {hostname}, navigate to your DNS provider and add a TXT record with this value:"},verificationTokenFooter:{id:"domainModal.verificationTokenFooter",defaultMessage:"Then, check the record to complete the verification."},successfulVerification:{id:"domainModal.successfulVerification.0",defaultMessage:'Your domain, "{hostname}" has been successfully verified'},copiedTXTRecordToClipboard:{id:"domainModal.copiedTXTRecordToClipboard",defaultMessage:"Copied DNS TXT record to clipboard"},verifyDomainButton:{id:"domainModal.verifyDomainButton",defaultMessage:"Verify"},unverifiedDomainsTableHeader:{id:"domainModal.unverifiedDomainsTableHeader",defaultMessage:"Your unverified domains"}}),cat="#settings/BuilderProfile";function Ggt({selectedDomain:e,verifiedDomains:t,domains:n,onChangeDomain:r}){const[s,o]=p.useState(!1),a=t.length>0,i=Ge()?.id,l=Ge()?.isEnterprisey(),{mutateAsync:u}=P5(i);return c.jsxs("div",{className:"font-normal",children:[c.jsxs(ie.Root,{children:[c.jsx(D6,{children:c.jsxs("span",{className:"flex items-center gap-2 py-2",children:[e??c.jsx(S,{...Gx.selectADomain}),c.jsx(RU,{className:"icon-md"})]})}),c.jsx(ie.Portal,{children:c.jsxs(ie.Content,{children:[c.jsx(ie.RadioGroup,{value:e,onValueChange:d=>{d!==e&&r(d)},children:t.map(({id:d,hostname:f})=>c.jsx(ie.RadioItem,{value:f,children:c.jsxs("div",{className:"flex flex-row",children:[c.jsx("span",{children:f}),c.jsx("span",{onClick:()=>{u({domainId:d}),r("")},children:c.jsx(dw,{className:"icon-sm fixed right-4"})})]})},d))}),a&&c.jsx(ie.Separator,{}),c.jsx(ie.Item,{onClick:()=>{o(!0)},icon:lw,children:c.jsx(S,{...Gx.addDomain})})]})})]}),i&&!l&&c.jsx(oat,{domains:n,isOpen:s,onClose:()=>o(!1),workspaceId:i,showUnverifiedDomains:!0,onVerifyDomain:d=>{r(d.hostname)}})]})}function lat(){const e=Fe();return St({mutationFn:({verifierType:t})=>ft.unverifySocialAuth(t),onSuccess:()=>{e.refetchQueries({queryKey:["builderProfile"]})}})}function uat({socialData:e}){const{type:t,display_name:n,verified_data:r}=e,s=t==="twitter"?D$:t==="linkedin"?L$:t==="github"?F$:null;return s?c.jsxs("div",{className:"flex w-full flex-row items-center justify-between",children:[c.jsxs("div",{className:"flex flex-row items-center space-x-2 text-token-text-primary",children:[s({className:"icon-md"}),c.jsx("span",{children:n})]}),r?.link_to&&c.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:r.link_to,className:"text-sm text-token-text-tertiary hover:cursor-pointer",children:c.jsx(po,{className:"icon-sm"})})]}):null}function Wgt({socialData:e,icon:t}){const{id:n,type:r,display_name:s,verified:o,verified_data:a}=e,[i,l]=p.useState(!1),u=lat();return c.jsxs("div",{className:"flex flex-row items-center justify-between space-y-1",children:[c.jsxs("div",{className:O("flex items-center space-x-2"),children:[c.jsx(t,{className:"icon-sm"}),c.jsx("span",{children:s}),o&&a?.username&&c.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:a.link_to,className:"text-sm text-token-text-tertiary hover:cursor-pointer",children:a?.username})]}),o?c.jsx("div",{className:"py-1 font-semibold hover:cursor-pointer",onClick:()=>{u.mutate({verifierType:r})},children:u.isPending?c.jsx(Ln,{}):c.jsx(ii,{className:"icon-sm text-token-text-tertiary"})}):c.jsx(ue,{size:"small",color:"secondary",loading:i,onClick:async()=>{l(!0),await bRe({id:n},cat),l(!1)},children:c.jsx(S,{...Gx.verify})})]})}const Gx=Q({verify:{defaultMessage:"Add",id:"GizmoSocialRow.add"},addDomain:{id:"GizmoSocialRow.addDomain",defaultMessage:"Verify new domain"},selectADomain:{id:"GizmoSocialRow.selectADomain",defaultMessage:"Select a domain"}}),dat=Ee.div`text-sm text-token-text-tertiary`,fat="community builder";function hat(e){return"gizmo"in e}function Hgt({gizmo:e,builderName:t,builderUrl:n,className:r,socials:s,hideLink:o=!1}){const{value:a}=Ot("2256850471");let i,l;e&&hat(e)?(i=e.gizmo.author.display_name,l=e.gizmo.author.link_to):(i=t,l=n),(i===""||i==null)&&(i=fat);const u=s?.filter(f=>f.verified),d=c.jsxs("div",{className:"w-48 space-y-4 text-sm",children:[l&&c.jsxs("div",{className:"flex w-full flex-row items-center justify-between",children:[c.jsxs("div",{className:"flex flex-row items-center space-x-2 text-token-text-primary",children:[c.jsx(B$,{className:"icon-md"}),c.jsx("span",{children:c.jsx(S,{id:"gizmo.author.websiteLabel",defaultMessage:"Website"})})]}),c.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:l,className:"text-token-text-tertiary hover:cursor-pointer",children:c.jsx(po,{className:"icon-sm"})})]}),a&&u?.map((f,h)=>f.verified?c.jsx(uat,{socialData:f},h):null),c.jsxs("div",{className:"text-xs text-token-text-tertiary",children:[(l||u&&u.length>0)&&c.jsx("hr",{className:"my-2 border-token-border-light"}),c.jsx(S,{id:"gizmo.author.cannotViewLabel",defaultMessage:"The builder of this GPT cannot view your conversations."})]})]});return c.jsxs("div",{className:"flex flex-row items-center space-x-1",children:[c.jsx(dat,{className:r,children:c.jsx(S,{id:"gizmo.author.byLabel",defaultMessage:"By {displayName}",values:{displayName:i}})}),!o&&c.jsx(pat,{socials:s,website:l,children:d})]})}function pat({website:e,socials:t,children:n}){const[r,s]=p.useState(!1);let o=[];e&&o.push(c.jsx(B$,{className:"icon-xs text-token-text-secondary"})),t&&t.forEach(i=>{i.verified&&(i.type==="twitter"?o.push(c.jsx(D$,{className:"icon-xs text-token-text-secondary"})):i.type==="linkedin"?o.push(c.jsx(L$,{className:"icon-xs text-token-text-secondary"})):i.type==="github"&&o.push(c.jsx(F$,{className:"icon-xs text-token-text-secondary"})))});const a=o.length-2;return o=o.slice(0,2),a>0&&o.push(c.jsxs("span",{className:"text-xs font-semibold text-token-text-secondary",children:["+",a]},"overflow")),c.jsx(P_,{open:r,onOpenChange:s,children:c.jsxs("div",{onPointerLeave:()=>s(!1),children:[c.jsx(hh,{asChild:!0,children:c.jsx("div",{onPointerEnter:()=>s(!0),children:o.length>0?c.jsx("div",{className:"flex items-center gap-1 rounded-xl bg-token-main-surface-secondary px-2 py-1",children:o}):c.jsx(cw,{className:"icon-xs text-token-text-secondary"})})}),c.jsx(A_,{side:"top",sideOffset:8,align:"center",className:"z-10 rounded-lg bg-token-main-surface-primary p-4 drop-shadow-md",children:n})]})})}function zgt(e){const t=es();return!Ge()?.isWorkspaceAccount()||(t?.includes(e)??!1)}const mat=({inMobileHeader:e=!1,children:t,onDismiss:n})=>{const{config:r,isLoading:s}=L6("743318407"),o=r.get("show_nux",!1),a=!s&&o;return c.jsx(hm,{side:"bottom",align:e?"center":"start",sideOffset:0,show:a,title:c.jsx(S,{..._v.title}),description:c.jsxs("span",{children:[c.jsx(S,{..._v.description}),c.jsx(Xp,{type:"neutral",openNewTab:!0,href:"https://openai.com/index/introducing-canvas/",className:"ml-1",children:c.jsx(S,{..._v.link})})]}),onDismiss:n,theme:"bright",children:t})},qgt=({inMobileHeader:e=!1,children:t})=>{const{isLoading:n,eligible:r,markAsViewed:s}=Xe(We.hasSeenCanvasDropdownNux),{store:o}=O_(),a=o.useHasAnnouncementInHeader();return n||!r||a?c.jsx(c.Fragment,{children:t}):c.jsx(mat,{inMobileHeader:e,onDismiss:s,children:t})},_v=Q({title:{id:"Sh/ho6",defaultMessage:"You've got access to canvas"},description:{id:"6JEoci",defaultMessage:"Collaborate with ChatGPT to write and code in a dedicated space."},link:{id:"GtDcBu",defaultMessage:"Learn more"}}),gat=()=>{const e=_n(),t=Dl(),n=Oi(vat.signUpCta),r=o$(),s=()=>{e({authType:"login",callback:l=>{P.logLogInButtonClicked({location:"Model switcher dropdown",provider:l}),K.logEvent("chatgpt_modelswitcher_login_button_clicked")}})},o=()=>{e({authType:"signup",callback:l=>{P.logSignUpButtonClicked({location:"Model switcher dropdown",provider:l}),K.logEvent("chatgpt_modelswitcher_signup_button_clicked")}})},a=c.jsx(ue,{as:"button",size:"medium",color:t?"primary":"secondary",onClick:s,children:c.jsx(S,{id:"NavigationContent.unauthLoginCta",defaultMessage:"Log in"})}),i=c.jsx(ue,{as:"button",size:"medium",color:t?"secondary":"primary",onClick:o,children:c.jsx(S,{...n})});return c.jsxs("div",{className:"p-4",children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("p",{className:"text-md mb-1 font-medium text-token-text-primary",children:t?r?c.jsx(S,{id:"bEtrO8",defaultMessage:"Log in to use other models"}):c.jsx(S,{id:"5JLF3H",defaultMessage:"Log in to try advanced features"}):r?c.jsx(S,{id:"mTr8UT",defaultMessage:"Sign up to use other models"}):c.jsx(S,{id:"g7yYMy",defaultMessage:"Sign up to try GPT 4o for free"})}),c.jsx("p",{className:"text-sm text-token-text-secondary",children:r?c.jsx(S,{id:"Vyn8f0",defaultMessage:"To access more intelligence, create an account or log in."}):c.jsx(S,{id:"pyWwm8",defaultMessage:"Get smarter responses, upload files, analyze images, and more by logging in."})})]}),c.jsx("div",{className:"flex flex-row justify-start space-x-2",children:t?[a,i]:[i,a]})]})},vat=Q({signUpCta:{id:"NavigationContent.unauthSignupCta",defaultMessage:"Sign up"}}),$5=({categoryId:e,type:t,className:n})=>{const{data:r,isLoading:s}=JV(),o=c.jsx("div",{className:n});if(s)return o;const{iconFilledSrc:a,iconOutlineSrc:i}=r?.[e]??{},l=(t==="filled"?a:i)??"";return c.jsx(Xx,{name:"ModelCategoryIcon",fallback:o,children:c.jsx("div",{className:O("[&_svg]:h-full [&_svg]:w-full",n),dangerouslySetInnerHTML:{__html:l}})})},yat="ChatGPT",Ygt="Untitled",Kgt=10,Qgt=50,Xgt=300,Zgt=8e3,Jgt=5;function O5({modelSwitcherDeny:e}){switch(e.reason){case Fi.UNSUPPORTED_TOOL_USE:case Fi.UNSUPPORTED_AUDIO:case Fi.UNSUPPORTED_IMAGE:case Fi.UNSUPPORTED_GIZMO:case Fi.UNSUPPORTED_ATTACHMENT:return c.jsx(c.Fragment,{children:e.description});case kh.RATE_LIMIT:{const{resetsAfter:n}=e,r=new Date(n),s=new Date(n).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"});if(Qbe(r))return c.jsx(S,{id:"HUybjA",defaultMessage:"Your limit will reset at {time}",values:{time:s}});if(Xbe(r))return c.jsx(S,{id:"TvYw9K",defaultMessage:"Your limit will reset at {time} tomorrow",values:{time:s}});{const o=r.toLocaleDateString([],{month:"short",day:"numeric"});return c.jsx(S,{id:"60ZcZL",defaultMessage:"Your limit will reset on {date}",values:{date:o}})}}}const t=e.description;return t?c.jsx(c.Fragment,{children:t}):c.jsx(S,{id:"wGF6eE",defaultMessage:"This model is not supported."})}function bat({currentModel:e,categoryOptions:t,className:n,modelSwitcherDenialsBySlug:r,displayInFull_INTERNAL_USE_ONLY:s=!1}){const o=e?.id;return c.jsx(ie.Portal,{children:c.jsx(ie.SubContent,{className:n,children:t.map(a=>{const{value:i}=a;return"options"in a?c.jsx(ic,{currentModel:e,isSelected:o.startsWith(i),option:a,modelSwitcherDenialsBySlug:r,displayInFull_INTERNAL_USE_ONLY:s},i):c.jsx(Ch,{isSelected:o===i,value:i,renderName:()=>a.name,modelSwitcherDenialsBySlug:r,showNewChatHint:!1,displayInFull_INTERNAL_USE_ONLY:s},i)})})})}function ic({currentModel:e,option:t,isSelected:n=!1,modelSwitcherDenialsBySlug:r,displayInFull_INTERNAL_USE_ONLY:s=!1}){const{name:o,options:a,categoryId:i}=t,l=`${o} Models`,u=()=>c.jsx("div",{className:"flex shrink-0 grow justify-between gap-2",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(jU,{className:"icon-md w-7 text-token-text-secondary"}),l]})});let d;return s&&n&&(d=t.options.find(f=>f.value===e.id)?.name),c.jsxs(ie.Sub,{children:[c.jsx(ie.SubMenuTrigger,{children:c.jsxs("div",{className:O("flex grow justify-between gap-2 overflow-hidden",s?"items-center break-all":""),children:[i?u():o,n&&c.jsx("div",{className:"truncate text-token-text-tertiary",children:d??e.title})]})}),c.jsx(bat,{currentModel:e,categoryOptions:a,modelSwitcherDenialsBySlug:r,displayInFull_INTERNAL_USE_ONLY:s})]})}function Ch({value:e,renderName:t,isSelected:n,showNewChatHint:r=!0,onClick:s,modelSwitcherDenialsBySlug:o,isUpgradeUpsell:a=!1,testId:i,displayInFull_INTERNAL_USE_ONLY:l=!1}){const u=ip(),d=Fke(),f=e?o[e]?.conversation?.[0]:null,{layer:h}=Bn("1846737571"),m=c.jsx(ie.Item,{onClick:()=>{if(s)s();else if(e){const g=e;u({modelId:g,location:"Model switcher menu item"}),d(g)}},className:O("!pr-3",n&&"!opacity-100",f&&"pointer-events-none text-token-text-quaternary"),"data-testid":i,children:c.jsxs("div",{className:"flex grow items-center justify-between gap-2",children:[c.jsx("div",{className:l?"break-all":"",children:t(f!=null)}),a&&c.jsx(ue,{color:"secondary",size:"small",className:h.get("is_upgrade_button_blue",!1)?"border-none bg-blue-600 text-white hover:bg-blue-800":"",children:c.jsx(S,{id:"oKo8wt",defaultMessage:"Upgrade"})}),a?c.jsx(c.Fragment,{children:n&&c.jsx(U$,{className:O("icon-md group-hover:invisible",!r&&"block group-hover:hidden")})}):n&&c.jsx(j$,{className:"icon-md"})]})},e);return f?c.jsx(pt,{isLeftArrow:!0,sideOffset:-10,label:c.jsx(O5,{modelSwitcherDeny:f}),children:m}):m}function xat(e){if(e<60)return{type:"minute",value:e,text:e<2?"minute":`${e} minutes`};const t=Math.floor(e/60);if(t<24)return{type:"hour",value:t,text:t<2?"hour":`${t} hours`};const n=Math.floor(t/24);return n<7?{type:"day",value:n,text:n<2?"day":`${n} days`}:{type:"minute",value:e,text:e<2?"minute":`${e} minutes`}}const Cv={textarea:"","model-switcher":""};function wat(){const e=Al(i=>i.isoDate),t=hI(e),n=V(),r=rr(Ua.isEnterpriseyPlan),{isUnauthenticated:s,isLoading:o}=Ut(),{data:a}=_e({queryKey:["modelMessageCap",s],queryFn:()=>Z.getModelMessageCap(s),enabled:!o});return p.useMemo(()=>{const i=a?.message_cap??0,l=a?.message_cap_window??1,{text:u,type:d,value:f}=xat(l),h=a?.message_disclaimer??Cv;if(!u||r)return{textareaDisclaimer:h.textarea,modelSwitcherDisclaimer:h["model-switcher"],modelSwitcherLimitShort:""};if(!a||!l||!i)return{textareaDisclaimer:Cv.textarea,modelSwitcherDisclaimer:Cv["model-switcher"],modelSwitcherLimitShort:""};let m=n.formatMessage(Tv.shortLimitMinutes,{numerator:i,denominator:f});switch(d){case"hour":m=n.formatMessage(Tv.shortLimitHours,{numerator:i,denominator:f});break;case"day":m=n.formatMessage(Tv.shortLimitDays,{numerator:i,denominator:f});break}return{textareaDisclaimer:h.textarea.replaceAll("%FORMATTED_TIME%",t).replaceAll("%NUMERATOR%",`${i}`).replaceAll("%DENOMINATOR%",u),modelSwitcherDisclaimer:h["model-switcher"].replaceAll("%FORMATTED_TIME%",t).replaceAll("%NUMERATOR%",`${i}`).replaceAll("%DENOMINATOR%",u),modelSwitcherLimitShort:m}},[a,t,n,r])}const Tv=Q({shortLimitMinutes:{id:"modelCapMessaging.shortLimitMinutes",defaultMessage:"Limit {numerator, plural, =0 {# message} one {# message} other {# messages}} / {denominator, plural, =0 {# minute} one {# minute} other {# minutes}}"},shortLimitHours:{id:"modelCapMessaging.shortLimitHours",defaultMessage:"Limit {numerator, plural, =0 {# message} one {# message} other {# messages}} / {denominator, plural, =0 {# hour} one {# hour} other {# hours}}"},shortLimitDays:{id:"modelCapMessaging.shortLimitDays",defaultMessage:"Limit {numerator, plural, =0 {# message} one {# message} other {# messages}} / {denominator, plural, =0 {# day} one {# day} other {# days}}"}});var I5=(e=>(e.BROWSING="browsing_model",e.CODE_INTERPRETER="code_interpreter_model",e.DALLE="dalle_model",e))(I5||{}),Fr=(e=>(e.ALPHA="alpha",e.DATA_CAMPAIGNS="data_campaigns",e.EXPERIMENTS="experiments",e.MAINLINE="mainline",e))(Fr||{});const Mv={browsing_model:{name:c.jsxs("span",{children:["Browse with ",c.jsx(B6,{className:"icon-sm mt-[-3px] inline-block"})," Bing"]})},code_interpreter_model:{name:"Advanced Data Analysis"},dalle_model:{name:"DALL·E 3"}};function evt(e){const t=Sat(e??void 0);return Wh(["alpha","data_campaigns","experiments","mainline"],t)?"bg-orange-500 text-white":"bg-token-main-surface-primary text-token-text-primary"}function Sat(e){const t=z_();for(const n of t)if(n.options.length>0&&n.options.find(s=>s.value===e))return n.categoryId;return null}function _at(e,t){const{data:n}=Fs();return n?.categories.some(s=>s[t]===e)??!1}const Cat=e=>Vw(e,({id:t})=>t.split(":").slice(0,1).join(":"));function z_(){const{data:e}=Fs(),t=Awe(),n=Ge(),r=F6(n?.getWorkspaceId()),s=n?.isEnterprisey()??!1,{modelSwitcherDisclaimer:o}=wat(),a=ZO();return p.useMemo(()=>{const i=[];if(!e)return i;const{categories:l,groups:u,modelsMap:d}=e;for(const f of l){const{defaultModel:h,categoryId:m,label:g}=f;if(a.has(h)){const v=t===h,y=e.modelsMap[h],x=v?[]:Tat(r.data,f,a,e.modelsMap,s);i.push({categoryId:m,value:h,name:g,description:v?o:y.description,options:[Ra(y,{name:"Default"}),...x]})}}for(const f of u){const{group:h,label:m,modelIds:g}=f,v=g[0],y=g.map(x=>d[x]).filter(({tags:x})=>!x.includes(fo.HIDDEN));if(h==="experiments"){const x=Cat(y),b=Object.entries(x).map(([w,_])=>{const C=w.split(":").slice(-1)[0];return{key:w,value:C,name:C,options:_.map(T=>{const{title:M}=T;return Ra({...T,title:M.replace(C,"")})})}});i.push({categoryId:h,value:v,name:m,options:b})}else i.push({categoryId:h,value:v,name:m,options:y.map(x=>Ra(x))})}return i},[e,a,t,r.data,s,o])}function Ra(e,t={}){return{value:e.id,name:e.title,...t}}function Tat(e,t,n,r,s){const o=[];if((e?.browsing||!s)&&t.browsing_model!=null&&n.has(t.browsing_model)){const l=Mv.browsing_model;o.push(Ra(r[t.browsing_model],{name:l.name}))}if(t.code_interpreter_model!=null&&n.has(t.code_interpreter_model)){const l=Mv.code_interpreter_model;o.push(Ra(r[t.code_interpreter_model],{name:l.name}))}if(t.dalle_model!=null&&n.has(t.dalle_model)){const l=Mv.dalle_model;o.push(Ra(r[t.dalle_model],{name:l.name}))}return o}const Mat=Oe(()=>Ie(()=>import("./egfdwnrzfrk2mxg1.js"),__vite__mapDeps([75,1,2,3,76])).then(e=>e.ThreadHeaderGizmoDropdown)),iA=Ee.button`group flex cursor-pointer items-center gap-1 rounded-lg py-1.5 ${({$isScreenArch:e})=>e?"text-md h-[44px] px-3":"px-3 text-lg"} hover:bg-token-main-surface-secondary radix-state-open:bg-token-main-surface-secondary font-semibold text-token-text-secondary overflow-hidden whitespace-nowrap`;function Eat({clientThreadId:e}){const t=V(),n=Ir(),r=sp(e),s=It(),[,o]=Ro(),a=()=>{!r&&!n?s({pathname:"/",search:new URLSearchParams({[Tu]:"true"}).toString()}):o(i=>(i.get(Tu)==="true"?i.delete(Tu):i.set(Tu,"true"),i),{replace:r,state:n_()})};return c.jsx(ie.Item,{size:"large",className:"!pr-3",onClick:a,icon:hw,children:c.jsxs("div",{className:"flex grow items-center justify-between gap-2",children:[c.jsx("div",{className:"flex flex-1 items-center gap-3",children:c.jsx(S,{...j5.temporaryChat})}),c.jsx(T3,{enabled:n,label:t.formatMessage({defaultMessage:"Temporary",id:"temporaryChatToggleLabel"}),testId:"temporary-chat-toggle"})]})})}function N5(e,t,n){let r=e;if(e===d1.AUTO){const a=t.filter(({defaultModel:i})=>i!==d1.AUTO);a.length===1&&(r=a[0].defaultModel)}const s=t.find(({defaultModel:a})=>a===r);if(s){const{categoryId:a,shortLabel:i}=s;return{selectedCategory:a,modelLabel:i}}const o=n.find(({modelIds:a})=>a.includes(r));if(o){const{group:a,shortLabel:i}=o;return{selectedCategory:a,modelLabel:i}}return{selectedCategory:null,modelLabel:null}}function kat({modelLabel:e}){return c.jsx("span",{className:"text-token-text-secondary",children:e})}function Pat({clientThreadId:e,inMobileHeader:t}){const{isLoading:n,categories:r,groups:s}=ol(),o=U6(),i=fi(e).id,l=z_(),{modelLabel:u}=N5(i,r,s),d=$at(e,l),f=V(),{isUnauthenticated:h}=Ut(),m=R5(),g=(!h||!m)&&!o;p.useEffect(()=>{n||bF({namespace:v_.ChatPageLoad})?.logTiming("render_model_switcher")},[n]);const v=Un(),y=c.jsxs("div",{className:O(!v&&"text-token-text-secondary"),children:[yat," ",g?c.jsx("span",{className:"text-token-text-secondary",children:u}):h&&u?c.jsx(kat,{modelLabel:u}):null]});return d.length?n?null:c.jsx(Bh,{sideOffset:8,size:"large",triggerButton:c.jsxs(iA,{$isScreenArch:v,"aria-label":u?f.formatMessage({id:"JrtGPQ",defaultMessage:"Model selector, current model is {modelLabel}"},{modelLabel:u}):"",children:[y,v?c.jsx(DU,{className:"icon-md text-token-text-tertiary"}):c.jsx(R$,{className:"icon-md text-token-text-tertiary"})]}),onOpenChange:x=>{P.logEvent(A.toggleModelSwitcher,{isOpen:x}),K.logEvent("toggle_model_switcher",null,{isOpen:String(x)})},contentAlign:t?"center":"start",testId:"model-switcher-dropdown",children:c.jsx(Iat,{sections:d})}):c.jsx(iA,{className:"cursor-default",children:y})}function R5(){return $t("462735957").value}function Aat({category:e,modelSwitcherDenialsBySlug:t,currentGizmoId:n,currentModelId:r,omitIcon:s,testId:o}){const{defaultModel:a,label:i,categoryId:l,description:u,isBeta:d}=e;return c.jsx(Ch,{value:a,modelSwitcherDenialsBySlug:t,renderName:f=>c.jsx(Wx,{categoryId:l,name:i,description:u,isDisabled:f,omitIcon:s,isBeta:d}),isSelected:!n&&r===a,testId:o},a)}function $at(e,t){const n=fi(e),r=n.id,s=rl(e),{categories:o,groups:a}=ol(),{doesUserHaveAnyAccountsWithPlusFeatures:i}=Ds(),l=k.getServerThreadId(e),u=Dw({clientThreadId:e}),d=V(),f=!l,{isUnauthenticated:h}=Ut(),m=_n(),{layer:g}=Bn("2723963139"),v=g.get("is_dynamic_model_enabled",!1),y=R5(),x=t.find(({categoryId:H})=>H===Fr.ALPHA),b=t.find(({categoryId:H})=>H===Fr.DATA_CAMPAIGNS),w=t.find(({categoryId:H})=>H===Fr.EXPERIMENTS),_=t.find(({categoryId:H})=>H===Fr.MAINLINE),C=!0,T=!!x?.options?.length,M=!!b?.options?.length,E=!!w?.options?.length,R=!!_?.options?.length,$=It(),U=p.useCallback(()=>{P.logEvent(A.openModalAccountPaymentfromModelPicker,{content:"gizmo-button"}),zs($,"Thread header dropdown")},[$]),Y=()=>{K.logEvent("chatgpt_model_switcher_plus_upgrade_button_clicked"),P.logEvent(A.modelSwitcherPlusUpgradeButtonClicked),h?m({shouldOpenPaymentModalOnAuth:!0,callback:H=>{P.logSignUpButtonClicked({location:"Model switcher GPT-4 upsell",provider:H})}}):U()},F=[],j=c.jsxs("div",{className:"mb-1 flex items-center justify-between px-5 pt-2",children:[c.jsx("span",{className:"text-sm text-token-text-tertiary",children:c.jsx(S,{id:"ilkdMh",defaultMessage:"Model"})}),c.jsx("a",{href:v?"https://help.openai.com/en/articles/9155758-what-is-the-chatgpt-plus-model-selector":"https://help.openai.com/en/articles/7102672-how-can-i-access-gpt-4",target:"_blank",rel:"noreferrer",children:c.jsx(Xc,{className:"icon-md h-5 w-5 pl-0.5 text-token-text-tertiary"})})]},"header");if(y&&h){const H={id:"modelSection",content:[]};H.content.push(c.jsx(gat,{},"noAuthUpsell")),F.push(H)}else if(i){const H={id:"modelSection",content:[]};o.length&&H.content.push(j);const N=new Map;o.forEach(L=>{const W=c.jsx(Aat,{category:L,currentGizmoId:s,currentModelId:r,modelSwitcherDenialsBySlug:u,omitIcon:C,testId:`model-switcher-${L.defaultModel}`},L.categoryId);L.subcategory?(N.has(L.subcategory)||N.set(L.subcategory,[]),N.get(L.subcategory)?.push(W)):H.content.push(W)}),N.forEach((L,W)=>{const ce=o.find(se=>se.subcategory===W&&se.defaultModel===n.id);H.content.push(c.jsxs(ie.Sub,{children:[c.jsx(ie.SubMenuTrigger,{"data-testid":W==="More models"?"more-models-submenu":void 0,children:c.jsxs("div",{className:"flex grow justify-between gap-2 overflow-hidden",children:[W,!!ce&&c.jsx("div",{className:"truncate text-token-text-tertiary",children:ce.label})]})}),c.jsx(ie.Portal,{children:c.jsx(ie.SubContent,{className:"min-w-72",children:L})})]},W))}),F.push(H)}else{const H={id:"modelSection",content:[]};H.content.push(c.jsx(Ch,{value:"",onClick:Y,modelSwitcherDenialsBySlug:u,isUpgradeUpsell:!0,renderName:N=>c.jsx(Wx,{icon:FU,isDisabled:N,name:d.formatMessage({id:"mzDzkX",defaultMessage:"ChatGPT Plus"}),description:d.formatMessage({id:"bqTHri",defaultMessage:"Our smartest model & more"}),omitIcon:!1}),isSelected:!1,showNewChatHint:!1},"plusUpgrade")),H.content.push(c.jsx(Ch,{value:dc.AUTO,modelSwitcherDenialsBySlug:u,renderName:N=>c.jsx(Wx,{icon:LU,name:d.formatMessage({id:"U9E7Rx",defaultMessage:"ChatGPT"}),description:d.formatMessage({id:"n96qML",defaultMessage:"Great for everyday tasks"}),isDisabled:N,omitIcon:!1}),isSelected:!s&&r===dc.AUTO,showNewChatHint:!0},dc.AUTO)),F.push(H)}const D={id:"otherOptionsSection",content:[]},{selectedCategory:B}=N5(r,o,a);return f&&(T&&D.content.push(c.jsx(ic,{isSelected:B===Fr.ALPHA,currentModel:n,option:x,modelSwitcherDenialsBySlug:u,displayInFull_INTERNAL_USE_ONLY:!0},x.value)),M&&D.content.push(c.jsx(ic,{isSelected:B===Fr.DATA_CAMPAIGNS,currentModel:n,option:b,modelSwitcherDenialsBySlug:u,displayInFull_INTERNAL_USE_ONLY:!0},b.value)),E&&D.content.push(c.jsx(ic,{currentModel:n,isSelected:B===Fr.EXPERIMENTS,option:w,modelSwitcherDenialsBySlug:u,displayInFull_INTERNAL_USE_ONLY:!0},w.value)),R&&D.content.push(c.jsx(ic,{isSelected:B===Fr.MAINLINE,currentModel:n,option:_,modelSwitcherDenialsBySlug:u,displayInFull_INTERNAL_USE_ONLY:!0},_.value))),D.content.length&&F.push(D),h||F.push({id:"temporaryChatSection",content:[c.jsx(Eat,{clientThreadId:e},"tempChat")]}),F}function Oat(){const e=V();return c.jsx("div",{className:"border-token-text-quartenary items-center rounded-full border px-1 py-0.5 text-[8px] font-semibold uppercase leading-3 text-token-text-secondary dark:border-token-border-heavy dark:text-token-text-tertiary",children:e.formatMessage(j5.beta)})}function Wx({isDisabled:e,name:t,icon:n,categoryId:r,description:s,extra:o,omitIcon:a,isBeta:i=!1}){let l=t;return i&&(l=c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{children:t}),c.jsx(Oat,{})]})),c.jsxs("div",{className:"flex items-center gap-3",children:[!a&&c.jsx("span",{className:"flex h-7 w-7 flex-shrink-0 items-center justify-center rounded-full bg-token-main-surface-secondary",children:n?c.jsx(n,{className:"h-4 w-4 text-token-text-primary"}):r&&c.jsx($5,{type:"filled",className:O("h-4 w-4",e&&"text-gray-300",!e&&"text-token-text-primary"),categoryId:r})}),c.jsxs("div",{children:[l,c.jsxs("div",{className:O(!e&&"text-token-text-secondary","text-xs"),children:[s,o]})]})]})}function Iat({sections:e}){return c.jsx(c.Fragment,{children:e.map((t,n)=>c.jsxs(X.Fragment,{children:[n!==0?c.jsx(ie.Separator,{}):null,t.content]},t.id))})}function tvt({clientThreadId:e,inMobileHeader:t=!1}){const n=rl(e);return n==null?c.jsx(Pat,{clientThreadId:e,inMobileHeader:t}):c.jsx(Mat,{clientThreadId:e,gizmoId:n,inMobileHeader:t})}const j5=Q({beta:{id:"XZwFET",defaultMessage:"Beta"},gpt35ShortExplainer:{defaultMessage:"Great for everyday tasks",id:"ModelSwitcher.gpt35ShortExplainer"},modelTunerSmartSelectionTitle:{id:"czjW8I",defaultMessage:"Dynamic"},modelTunerSmartSelectionExplainer:{id:"gp/YH1",defaultMessage:"Optimized for speed and intelligence"},gpt4ShortExplainer:{defaultMessage:"With DALL·E, browsing and analysis",id:"ModelSwitcher.gpt4ShortExplainer"},gpt4ShortExplainerWithoutBrowse:{defaultMessage:"With DALL·E and analysis",id:"ModelSwitcher.gpt4ShortExplainerWithoutBrowse"},gpt4UpsellExplainer:{id:"ModelSwitcher.gpt4Upsell",defaultMessage:"Our smartest and most capable model. Includes DALL·E, browsing and more."},userUpgrade:{id:"ModelSwithcer.upgradeButton",defaultMessage:"Upgrade to Plus"},userUpgradeSignup:{id:"ModelSwitcher.signupUpgradeButton",defaultMessage:"Sign up for ChatGPT Plus"},temporaryChat:{id:"ModelSwitcher.temporaryChat",defaultMessage:"Temporary chat"},shareChat:{id:"ModelSwitcher.shareChat",defaultMessage:"Share chat"}}),D5=We.TemporaryChatOnboarding;function nvt(){const e=Ir(),{eligible:t}=Xe(D5);return t&&e}function nc({icon:e,title:t,description:n}){return c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"mt-1 h-5 w-5",children:e}),c.jsxs("div",{className:"ml-4",children:[c.jsx("div",{className:"text-lg font-semibold",children:t}),c.jsx("p",{className:"mt-1 text-sm text-token-text-secondary",children:n})]})]})}function rvt({onClose:e}){const[t,n]=p.useState(!0),r=Ge(),s=V(),{markAsViewed:o}=Xe(D5),a=Ul(),i=p.useCallback(()=>{o(),n(!1),e?.()},[o,e]);return r?.isWorkspaceAccount()?c.jsx(Ue,{isOpen:t,onClose:$e,size:"custom",className:"max-w-xl",type:"success",title:s.formatMessage(rt.title),primaryButton:c.jsx(kt.Button,{onClick:i,title:s.formatMessage(rt.continue),color:"primary"}),children:c.jsxs("div",{className:"mb-6 flex flex-col gap-3",children:[c.jsx(nc,{icon:c.jsx(rt.bulletTitle1.Icon,{}),title:s.formatMessage(rt.bulletTitle1),description:s.formatMessage({id:"nSGhxr",defaultMessage:"Temporary chats won't appear in your history."})}),c.jsx(nc,{icon:a?c.jsx(rt.bulletTitle2MemoryAvailable.Icon,{}):c.jsx(rt.bulletTitle2MemoryUnavailable.Icon,{}),title:s.formatMessage(a?rt.bulletTitle2MemoryAvailable:rt.bulletTitle2MemoryUnavailable),description:s.formatMessage(a?rt.bulletDescription2MemoryAvailable:rt.bulletDescription2MemoryUnavailable)})]})}):c.jsx(Ue,{isOpen:t,onClose:$e,size:"custom",className:"max-w-xl",type:"success",title:s.formatMessage(rt.title),primaryButton:c.jsx(kt.Button,{onClick:i,title:s.formatMessage(rt.continue),color:"primary"}),children:c.jsxs("div",{className:"mb-6 flex flex-col gap-3",children:[c.jsx(nc,{icon:c.jsx(rt.bulletTitle1.Icon,{}),title:s.formatMessage(rt.bulletTitle1),description:s.formatMessage(rt.bulletDescription1)}),c.jsx(nc,{icon:c.jsx(rt.bulletTitle3.Icon,{}),title:s.formatMessage(rt.bulletTitle3),description:s.formatMessage(rt.bulletDescription3)}),c.jsx(nc,{icon:a?c.jsx(rt.bulletTitle2MemoryAvailable.Icon,{}):c.jsx(rt.bulletTitle2MemoryUnavailable.Icon,{}),title:s.formatMessage(a?rt.bulletTitle2MemoryAvailable:rt.bulletTitle2MemoryUnavailable),description:s.formatMessage(a?rt.bulletDescription2MemoryAvailable:rt.bulletDescription2MemoryUnavailable)})]})})}const rt=Q({title:{id:"TemporaryChatOnboardingModal.title",defaultMessage:"Temporary Chat"},bulletTitle1:{Icon:hw,id:"TemporaryChatOnboardingModal.bulletTitle1",defaultMessage:"Not in history"},bulletDescription1:{id:"TemporaryChatOnboardingModal.bulletDescription1.1",defaultMessage:"Temporary chats won't appear in your history. For safety purposes, we may keep a copy of your chat for up to 30 days."},bulletTitle2MemoryAvailable:{Icon:BU,id:"TemporaryChatOnboardingModal.bulletTitle2MemoryAvailable",defaultMessage:"Memory off"},bulletDescription2MemoryAvailable:{id:"Ziehyb",defaultMessage:"While in a Temporary Chat, ChatGPT won't use or create memories. Custom Instructions will still be followed if you have them enabled."},bulletTitle2MemoryUnavailable:{Icon:uw,id:"TemporaryChatOnboardingModal.bulletTitle2MemoryUnavailable",defaultMessage:"Follows Custom Instructions"},bulletDescription2MemoryUnavailable:{id:"TemporaryChatOnboardingModal.bulletDescription2MemoryUnavailable",defaultMessage:"Custom Instructions will still be followed if you have them enabled."},bulletTitle3:{Icon:V6,id:"TemporaryChatOnboardingModal.bulletTitle3",defaultMessage:"No model training"},bulletDescription3:{id:"TemporaryChatOnboardingModal.bulletDescription3",defaultMessage:"Temporary chats won't be used to improve our models."},continue:{id:"TemporaryChatOnboardingModal.continue",defaultMessage:"Continue"}});function cA(e){if(e&&e.messages.length>0){const t=e.messages[0].message.create_time;if(t)return new Date(t*1e3)}return null}function Ev(e,t){return!e||!t?!1:e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function svt(e,t,n,r){const{value:s}=$t("1847911009"),o=V(),a=sV(n,t-1,r),i=cA(e),l=cA(a),u=t===0||!Ev(i,l);if(s&&u&&i){const d=new Date,f=new Date;f.setDate(d.getDate()-1);let h;return Ev(i,d)?h=o.formatMessage({id:"ConversationTurn.todayHeader",defaultMessage:"Today"}):Ev(i,f)?h=o.formatMessage({id:"ConversationTurn.yesterdayHeader",defaultMessage:"Yesterday"}):h=o.formatDate(i,{year:"numeric",month:"numeric",day:"numeric"}),h}else return null}const ovt=({dateString:e})=>c.jsx("div",{className:"my-4 flex justify-center",style:{height:"20px"},children:c.jsx("span",{className:"text-sm font-normal leading-5 text-token-text-tertiary",children:e})});function avt(e){const n=di(e)==="root",r=rp(e),s=ep(r),o=r_(),{isUnauthenticated:a}=Ut(),i=fV(e);return!n&&!s&&!o.displayingSideBySideFeedback&&!a&&!i}const ivt=({clientThreadId:e,message:t})=>{const n=z_(),r=JO(),s=Xe(We.ModelSwitcherAutoDowngrade),{categories:o}=ol({isRegen:!0}),a=Dw({clientThreadId:e}),{doesUserHaveAnyAccountsWithPlusFeatures:i}=Ds(),l=tG()!=null,u=[];for(const b of o){if(Rw(b))continue;const{defaultModel:w,label:_,tagline:C,categoryId:T,subscriptionLevel:M,subcategory:E}=b,R=a[w]?.regenerate?.[0];u.push({label:_,value:w,subtitle:C,icon:c.jsx($5,{className:"icon-md h-4 w-4",categoryId:T,type:"filled"}),modelSwitcherDeny:R,subscriptionLevel:M,subcategory:E})}const d=Nat(e,t.nodeId),f=t.message.metadata?.model_slug,h=n.find(b=>b.value===f)?.name,g=(f!=null?r[f]:void 0)?.enabledTools||[],v=Rat(l,d,f),y=t.message.metadata?.model_adjustments,x=i&&s.eligible&&!s.isLoading&&h&&u[0]?.label&&h!==u[0]?.label&&y?.some(b=>b.startsWith("auto:smaller_model"));return{modelOptions:u,modelSlug:f,messageModelEnabledTools:g,animateModelLabelOnRender:v,nuxProps:{shouldRenderNux:x,usedModelName:h,largestModelName:u[0]?.label,announcement:s}}};function Nat(e,t){return k.getTree(e).getConversationTurns(t).flatMap(a=>a.messages).filter(a=>a.message.author.role===z.Assistant&&!Qh(a.message)).reverse()[1]?.message.metadata?.model_slug}function Rat(e,t,n){return e&&!t?!0:!!(t&&n!==t)}function cvt(){const{doesUserHaveAnyAccountsWithPlusFeatures:e}=Ds(),{categories:t}=ol();return!!e||!!t.find(Rw)}const lvt=({modelSwitcherDeny:e,value:t,label:n,subtitle:r,icon:s,onMouseEnter:o,onMouseLeave:a,onSelect:i,messageModelSlug:l,isHovered:u=!1,shouldShowUpsell:d=!1,className:f,includeCheck:h,includeRegenerate:m,justifyIcon:g,wrapIcon:v=!0})=>{const y=Ge(),x=!e,b=!x&&!d,w=It(),_=()=>{if(!d){i?.();return}P.logEvent(A.openModalAccountPaymentfromMessageModelPicker),P.logRateLimitGetPlusButtonClicked({type:kh.RATE_LIMIT,location:"message_model_switcher_dropdown",plan_type:y?.planType??"unknown",is_hard_block:!1,hard_block_reason:"",is_new_conversation:!1}),zs(w,"Message model switcher dropdown")};return c.jsx(ie.Item,{onSelect:_,onMouseEnter:()=>x&&o?.(),onMouseLeave:()=>x&&a?.(),disabled:b,className:f??"radix-disabled:pointer-events-auto radix-disabled:cursor-not-allowed radix-disabled:hover:bg-transparent",children:c.jsxs(pt,{label:e&&c.jsx(O5,{modelSwitcherDeny:e}),className:"flex w-full items-center justify-between gap-2",sideOffset:0,children:[c.jsxs("div",{className:O("flex items-center gap-3",g==="right"&&"w-full"),children:[!!s&&(v?c.jsx("span",{className:O("flex h-7 w-7 items-center justify-center rounded-full bg-token-main-surface-secondary",g==="right"&&"order-10 ml-auto"),children:s}):s),c.jsxs("div",{children:[c.jsx("div",{children:n}),c.jsx("div",{className:O({"text-sm text-token-text-secondary":!b},{"text-sm text-token-text-quaternary":b}),children:r})]})]}),d?c.jsx(ue,{color:"secondary",size:"small",children:c.jsx(S,{id:"54fmrA",defaultMessage:"Get Plus"})}):c.jsx(jat,{messageModelSlug:l,isHovered:u,modelSwitcherDeny:e,optionModelSlug:t,includeCheck:h,includeRegenerate:m})]})})},jat=({modelSwitcherDeny:e,optionModelSlug:t,isHovered:n,messageModelSlug:r,includeRegenerate:s=!0,includeCheck:o=!0})=>{let a=null;if(e)switch(e.reason){case kh.RATE_LIMIT:a=E$;break;default:a=Xc;break}if(e)return c.jsx(a,{className:"icon-md"});const i=!!s&&c.jsx(UU,{className:O("icon-md hidden text-token-text-tertiary",{"group-hover:block":n})});return r===t&&o?c.jsxs(c.Fragment,{children:[c.jsx(U$,{className:O("icon-md text-token-text-primary",{"group-hover:hidden":n})}),i]}):i};function uvt({messages:e}){const t=Zn(e.flatMap(r=>r?.message?.metadata?.citations?.map(s=>s.metadata)??[])),n=p.useMemo(()=>N_(t.map(r=>Lat(r)).filter(r=>r!==void 0),r=>r?.url),[t]);return c.jsx("div",{className:"mt-4 grid w-full grid-cols-[50%,50%] gap-3",children:n.map(r=>c.jsx(Vat,{citationMetadata:r},r?.url))})}const lA={"https://docs.google.com/document":"Google Docs","https://docs.google.com/presentation":"Google Slides","https://docs.google.com/spreadsheets":"Google Sheets","https://drive.google.com/":"Google Drive"},Dat=/^(https:\/\/)([a-zA-Z0-9-]+\.)slack\.com(\/.*)?$/;function Lat(e){if(e.type==="file"){const t=e.extra?.cloud_doc_url;if(!t)return;let n="";if(Dat.test(t))n="Slack";else{const s=Object.keys(lA).find(o=>t.startsWith(o));if(!s)return;n=lA[s]}const r=e.name;return{url:t,type:n,title:Bat(n)?Uat(r):r}}}const Fat=["Google Docs","Google Slides","Google Sheets"];function Bat(e){return Fat.includes(e)}function Uat(e){const t=e.lastIndexOf(".");return t!==-1?e.slice(0,t):e}function Vat({citationMetadata:e,compact:t}){if(!e)return null;let n;switch(e.type){case"Google Docs":n=Gh;break;case"Google Slides":n=pw;break;case"Google Sheets":n=mw;break;case"Google Drive":n=ci;break;case"Slack":n=r=>c.jsx("img",{src:m5,...r});break;default:return null}return t?c.jsx("a",{href:Id(e.url),target:"_blank",rel:"noreferrer",children:c.jsxs("div",{className:"flex flex-row items-center gap-2 overflow-clip rounded-lg border border-gray-200 px-[16px] py-2",children:[c.jsx(n,{className:"h-[16px] w-[16px] object-contain",alt:e.type}),c.jsx("p",{className:"text-token -text-primary line-clamp-1 text-sm",children:e.title?e.title:Id(e.url)})]})}):c.jsx("a",{href:Id(e.url),target:"_blank",rel:"noreferrer",children:c.jsxs("div",{className:"flex flex-col gap-[2px] overflow-clip rounded-lg border border-gray-200 px-[16px] py-[12px]",children:[c.jsxs("div",{className:"flex items-center gap-2 pb-0.5",children:[c.jsx(n,{className:"h-[16px] w-[16px] object-contain",alt:e.type}),c.jsx("p",{className:"text-xs leading-normal text-token-text-secondary",children:e.type})]}),c.jsx("p",{className:"text-token -text-primary line-clamp-1 text-sm",children:e.title})]})})}const dvt=({actions:e,pagination:t,isHovered:n,showInline:r,alwaysShow:s})=>!t&&!e?null:c.jsxs("div",{className:O("items-center justify-start rounded-xl p-1",r?"flex":"z-10 -mt-1 bg-token-main-surface-primary md:absolute",r?!1:n?"flex":"md:sr-only"),children:[t,e&&c.jsx("div",{className:O("flex items-center",r&&!s?n?"visible":"md:invisible":!1),children:e})]}),fvt=({onClick:e})=>{const[t,n]=p.useState(!1),r=u4(),s=V(),o=p.useCallback(a=>{a.stopPropagation(),e(a),n(!0),setTimeout(()=>{r()&&n(!1)},2e3),K.logEvent("chatgpt_turn_action_copy")},[r,e]);return c.jsx(L5,{icon:t?Uh:gw,onClick:o,label:s.formatMessage({id:"CopyButton.copyTooltip",defaultMessage:"Copy"}),testId:"copy-turn-action-button"})},L5=({icon:e,label:t,iconClassName:n,className:r,onClick:s,disabled:o=!1,asLink:a=!1,href:i,style:l,target:u,testId:d})=>{const f=a?"a":"button";return c.jsx(d$,{sideOffset:0,label:t,disabled:!t,children:c.jsx(f,{className:O("rounded-lg text-token-text-secondary hover:bg-token-main-surface-secondary",r),"aria-label":t,onClick:s,disabled:o,target:u,href:i,style:l,"data-testid":d,children:e&&c.jsx("span",{className:"flex h-[30px] w-[30px] items-center justify-center",children:c.jsx(e,{className:O("icon-md-heavy",n)})})})})},hvt=p.memo(function(t){const{hasModelTunerAutoGPT4:n}=F5(t),r=B5(),s=It();if(!n)return null;const o=r&&t.isFinalTurn,a=c.jsx(L5,{icon:jv,className:O(o&&"hover:text-token-text-tertiary",!o&&"cursor-pointer"),iconClassName:t.isFinalTurn?"icon-shimmer":void 0});return o?a:c.jsxs(p$,{delayDuration:150,children:[c.jsx(m$,{children:a}),c.jsx(g$,{children:c.jsx(v$,{side:"top",sideOffset:0,children:c.jsxs("div",{className:"flex max-w-2xs flex-col flex-nowrap rounded-lg border border-token-border-light bg-token-main-surface-primary p-4 shadow-xl",children:[c.jsxs("div",{className:"mb-1 flex flex-nowrap items-start gap-2",children:[c.jsx(jv,{className:"h-[20px] w-[20px]"}),c.jsx("div",{className:"text-sm font-semibold",children:c.jsx(S,{id:"ModelTunerDisclaimer.autoUpgradeToGPT4.title",defaultMessage:"Upgraded response"})})]}),c.jsx("div",{className:"mb-3 text-sm text-token-text-secondary",children:c.jsx(S,{id:"ModelTunerDisclaimer.autoUpgradeToGPT4.content",defaultMessage:"Written with our most capable model, GPT-4, available on ChatGPT Plus"})}),c.jsx("div",{children:c.jsx(ue,{onClick:()=>zs(s,"ModelTuner disclaimer cta"),size:"small",children:c.jsx(S,{id:"ModelTunerDisclaimer.autoUpgradeToGPT4.getPlus",defaultMessage:"Get Plus"})})})]})})})]})}),pvt=p.memo(function(t){const n=B5(),{hasModelTunerAutoGPT4:r}=F5(t);return!r||!t.isFinalTurn||!n?null:c.jsx(Gat,{})});function Gat(){const e=yI().mutate,t=It();return p.useEffect(()=>{e({key:We.ModelTunerDisclaimer})},[]),c.jsx("div",{className:"py-4",children:c.jsx("div",{className:"flex items-start justify-start gap-2.5 rounded-2xl bg-token-main-surface-secondary p-4 pr-5 text-token-text-primary",children:c.jsxs("div",{className:"flex w-full items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex flex-nowrap items-start gap-2",children:[c.jsx(jv,{className:"h-[20px] w-[20px] shrink-0"}),c.jsxs("div",{className:"text-sm",children:[c.jsx("div",{className:"font-semibold",children:c.jsx(S,{id:"ModelTunerDisclaimer.autoUpgradeToGPT4.title",defaultMessage:"Upgraded response"})}),c.jsx("div",{className:"pt-0.5",children:c.jsx(S,{id:"ModelTunerDisclaimer.autoUpgradeToGPT4.content",defaultMessage:"Written with our most capable model, GPT-4, available on ChatGPT Plus"})})]})]}),c.jsx(ue,{className:"shrink-0",onClick:()=>zs(t,"ModelTuner disclaimer cta"),size:"small",children:c.jsx(S,{id:"ModelTunerDisclaimer.autoUpgradeToGPT4.getPlus",defaultMessage:"Get Plus"})})]})})})}function F5({message:e}){return{hasModelTunerAutoGPT4:e?.message?.metadata?.model_adjustments?.includes(G6.AUTO_UPGRADE_TO_GPT4)}}function B5(){return p.useRef(PA(e=>!e.announcements[We.ModelTunerDisclaimer])?.data).current}function mvt({clientThreadId:e,conversationMode:t}){const n=Nst(e);return({id:s,eventMetadata:o,turnTracker:a,requestedModelId:i,systemMessage:l,juice:u,extraStreamParams:d})=>{const h=k.getTree(e).getConversationTurns(s),g=h?.[h?.length-1].variantIds?.length===1&&d?.forceUseSearch===void 0,v=g?{...o,intent:"comparison_implicit"}:o;n({id:s,requestedModelId:i,eventMetadata:v,focusOnNewCompletion:!0,variantPurpose:g?"comparison_implicit":"none",conversationMode:t??Te.getConversationMode(e),useDefaultModel:!1,appendMessages:l?[{id:Fn(),author:{role:z.System},content:{content_type:Ae.Text,parts:[l]},metadata:{exclude_after_next_user_message:!0}}]:void 0,juice:u,turnTracker:a,extraStreamParams:d})}}class Wat{async fetch(t,n){return await t.fetchQuery(this.makeQueryOptions(n))}makeQueryOptions(t){const n=Eo(t.asset.asset_pointer),r={...t,id:n};return{queryKey:["getFileDownloadLink",Eo(t.asset.asset_pointer),t.gizmoId,t.conversationId],queryFn:async()=>await zat(r)}}}const Hat=new Wat;async function zat({asset:e,gizmoId:t,id:n,isUnauthenticated:r,conversationId:s}){const o=await Z.getFileDownloadLink(n,t,r,s).catch(a=>{throw a instanceof Dt||ae.addError(new Error(`Could not fetch file with ID ${n} from file service`,{cause:a})),a});if(o.status!==br.Success)throw ae.addError(`Could not fetch file with ID ${n} from file service`,o),new Error(`Could not fetch file with ID ${n} from file service`);return{...e,url:o.download_url}}function gvt({audioAssetPointer:e,conversationId:t}){const n=Fe(),[r,s]=p.useState(!1),o=p.useRef(!0),[a,i]=p.useState(void 0),l=p.useRef(null),u=W6(),d=H6(g=>g.isPlaying&&g.sourceUrl===a),f=p.useCallback(()=>{const g=z6();if(g)l.current?l.current.then(()=>{g.stop(),l.current=null}):g.stop();else return},[]);p.useEffect(()=>(o.current=!0,()=>{o.current=!1}),[]),p.useEffect(()=>()=>{q6().isPlaying&&f()},[f]);const h=p.useCallback(async()=>{if(!u||!o.current)return;s(!0);const{url:g}=await Hat.fetch(n,{asset:e,conversationId:t});s(!1),i(g),u.changeSource(g),l.current=u.play()},[e,t,u,n]);return{togglePlayback:p.useCallback(()=>{if(u)d?f():(Y6.messagePlayback.click(),h());else return},[d,h,u,f]),isPlaying:d,isLoading:r}}function vvt(){const e=Fd(La.VoiceName)?.data,t=Fd(La.VoiceMainLanguage)?.data,n=qat();return{voiceName:Kat(e,n),voiceMainLanguage:t??K6.Auto}}function qat(){const e=Yat(),{currentLocale:t}=y$();return p.useCallback(()=>{if(e.length===0)return"juniper";let n=e[0].voice;return t.startsWith("zh")&&(n="cove"),n},[e,t])}function Yat(){const{session:e}=Kx(),t=e!=null,n=Fd(La.VoiceMainLanguage)?.data,{data:r}=_e({queryKey:["getUserSettingVoices",n],queryFn:()=>Z.getUserSettingVoices(),enabled:t});return r?r.voices:[]}function Kat(e,t){return e==="sky"?"juniper":e??t()}const Qat="bg-token-main-surface-primary text-token-text-primary",Xat="openai",uA=["bg-blue-300 text-white"];function Zat(e){return uA[(e?.charCodeAt(0)??0)%uA.length]}const Ou=({children:e})=>c.jsx("div",{className:"pt-0",children:c.jsx("div",{className:O(p.isValidElement(e)&&e.type===ex?"gizmo-bot-avatar":"gizmo-shadow-stroke","flex h-8 w-8 items-center justify-center overflow-hidden rounded-full"),children:e})});function yvt({messages:e,isUserTurn:t,avatarClassName:n,gizmo:r}){const s="medium",a=e[0]?.message.metadata?.shared_conversation_id,i=a!=null,l=an(),{gizmoEditorData:u,mode:d}=Wl();let f=c.jsx(Ou,{children:c.jsx(ex,{className:n??Qat,iconName:Xat,size:s})});return r?f=c.jsx(Ou,{children:c.jsx(vNe,{gizmoId:r.gizmo.id,className:"h-full w-full"})}):u!=null&&d==="test"&&(f=c.jsx(I_,{isFirstParty:!1,src:u.profilePictureUrl,className:"h-8 w-8 first:pt-[3px]"})),c.jsx("div",{children:t?i?c.jsx(Ou,{children:c.jsx(ex,{className:Zat(a),iconName:"user",size:s})}):c.jsx(Ou,{children:c.jsx(Kp,{user:l,size:s})}):f})}function bvt({currentPage:e,onChangeIndex:t,length:n,showInline:r=!1}){const s=a=>{t(Yf(e+a,0,n-1))},o=V();return c.jsxs("div",{className:O("flex items-center justify-center rounded-lg text-token-text-secondary",!r&&oDe.MessageAction),children:[c.jsx("button",{onClick:()=>s(-1),disabled:e===0,className:"flex h-[30px] w-[30px] items-center justify-center rounded-md hover:bg-token-main-surface-secondary disabled:opacity-50 disabled:hover:bg-transparent","aria-label":o.formatMessage({id:"XwENI/",defaultMessage:"Previous response"}),children:c.jsx(vw,{className:"icon-md-heavy"})}),c.jsx("div",{className:"px-0.5 text-sm font-semibold tabular-nums",children:`${e+1}/${n}`}),c.jsx("button",{onClick:()=>s(1),disabled:e===n-1,"aria-label":o.formatMessage({id:"V8RFHE",defaultMessage:"Next response"}),className:"flex h-[30px] w-[30px] items-center justify-center rounded-md hover:bg-token-main-surface-secondary disabled:opacity-50 disabled:hover:bg-transparent",children:c.jsx(Vh,{className:"icon-md-heavy"})})]})}function xvt({currentPage:e,onChangeIndex:t,length:n,className:r}){const s=o=>{t(Yf(e+o,0,n-1))};return n===0?null:c.jsxs(Jat,{className:r,children:[c.jsx(dA,{onClick:()=>s(-1),disabled:e===0,children:c.jsx(vw,{className:"icon-sm"})}),c.jsx(eit,{children:`${e+1}/${n}`}),c.jsx(dA,{onClick:()=>s(1),disabled:e===n-1,children:c.jsx(Vh,{className:"icon-sm"})})]})}const Jat=Ee.div`text-xs inline-flex bg-token-main-surface-secondary h-8 border rounded border-token-border-medium`,dA=Ee.button`text-token-text-secondary disabled:text-token-border-medium w-8 flex items-center justify-center hover:bg-token-main-surface-tertiary`,eit=Ee.span`text-token-text-tertiary px-2 flex items-center font-mono tracking-widest`;function wvt(e){const t=V();function n(){switch(e.role){case z.User:return t.formatMessage({id:"3DStaP",defaultMessage:"You said:"});case z.Assistant:return t.formatMessage({id:"LDIn6l",defaultMessage:"ChatGPT said:"});default:return""}}const r=e.role===z.Assistant?"h6":"h5";return c.jsx(r,{className:"sr-only",children:n()})}function tit({contentReference:e}){let t;switch(e.snippet){case"Google Drive":t=ci;break;case"Google Docs":t=Gh;break;case"Notion":t=VU;break}return c.jsx("a",{href:e.url,target:"_blank",rel:"noreferrer",children:c.jsxs("div",{className:"flex flex-col gap-[2px] overflow-clip rounded-lg border border-gray-200 px-[16px] py-[12px]",children:[c.jsxs("div",{className:"flex items-center gap-2 pb-0.5",children:[c.jsx(t,{className:"h-[16px] w-[16px] object-contain",alt:e.snippet}),c.jsx("p",{className:"text-xs leading-normal text-token-text-secondary",children:e.snippet})]}),c.jsx("p",{className:"text-token -text-primary line-clamp-1 text-sm",children:e.title})]})})}const nit=["Google Drive","Google Docs","Notion"];function rit(e){return e==null||e.type!=="webpage"?!1:nit.includes(e.snippet??"")}function Svt({messages:e}){const t=Zn(e.flatMap(r=>r?.message?.metadata?.content_references??[])),n=N_(t.filter(r=>r?.type==="webpage").map(r=>h2(!0,r)).filter(rit),r=>r?.url);return c.jsx("div",{className:"mt-4 grid w-full grid-cols-[50%,50%] gap-3",children:n.map(r=>c.jsx(tit,{contentReference:r},r.url))})}function sit(e,t="<unknown>"){if(!e)throw Q6(new Error(`${t}: unexpected non-truthy condition: ${JSON.stringify(e)}`),sit)}var q_={exports:{}};q_.exports;(function(e){(function(t,n,r){function s(l){var u=this,d=i();u.next=function(){var f=2091639*u.s0+u.c*23283064365386963e-26;return u.s0=u.s1,u.s1=u.s2,u.s2=f-(u.c=f|0)},u.c=1,u.s0=d(" "),u.s1=d(" "),u.s2=d(" "),u.s0-=d(l),u.s0<0&&(u.s0+=1),u.s1-=d(l),u.s1<0&&(u.s1+=1),u.s2-=d(l),u.s2<0&&(u.s2+=1),d=null}function o(l,u){return u.c=l.c,u.s0=l.s0,u.s1=l.s1,u.s2=l.s2,u}function a(l,u){var d=new s(l),f=u&&u.state,h=d.next;return h.int32=function(){return d.next()*4294967296|0},h.double=function(){return h()+(h()*2097152|0)*11102230246251565e-32},h.quick=h,f&&(typeof f=="object"&&o(f,d),h.state=function(){return o(d,{})}),h}function i(){var l=4022871197,u=function(d){d=String(d);for(var f=0;f<d.length;f++){l+=d.charCodeAt(f);var h=.02519603282416938*l;l=h>>>0,h-=l,h*=l,l=h>>>0,h-=l,l+=h*4294967296}return(l>>>0)*23283064365386963e-26};return u}n&&n.exports?n.exports=a:this.alea=a})(nn,e)})(q_);var oit=q_.exports,Y_={exports:{}};Y_.exports;(function(e){(function(t,n,r){function s(i){var l=this,u="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var f=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^f^f>>>8},i===(i|0)?l.x=i:u+=i;for(var d=0;d<u.length+64;d++)l.x^=u.charCodeAt(d)|0,l.next()}function o(i,l){return l.x=i.x,l.y=i.y,l.z=i.z,l.w=i.w,l}function a(i,l){var u=new s(i),d=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var h=u.next()>>>11,m=(u.next()>>>0)/4294967296,g=(h+m)/(1<<21);while(g===0);return g},f.int32=u.next,f.quick=f,d&&(typeof d=="object"&&o(d,u),f.state=function(){return o(u,{})}),f}n&&n.exports?n.exports=a:this.xor128=a})(nn,e)})(Y_);var ait=Y_.exports,K_={exports:{}};K_.exports;(function(e){(function(t,n,r){function s(i){var l=this,u="";l.next=function(){var f=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(f^f<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,i===(i|0)?l.x=i:u+=i;for(var d=0;d<u.length+64;d++)l.x^=u.charCodeAt(d)|0,d==u.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function o(i,l){return l.x=i.x,l.y=i.y,l.z=i.z,l.w=i.w,l.v=i.v,l.d=i.d,l}function a(i,l){var u=new s(i),d=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var h=u.next()>>>11,m=(u.next()>>>0)/4294967296,g=(h+m)/(1<<21);while(g===0);return g},f.int32=u.next,f.quick=f,d&&(typeof d=="object"&&o(d,u),f.state=function(){return o(u,{})}),f}n&&n.exports?n.exports=a:this.xorwow=a})(nn,e)})(K_);var iit=K_.exports,Q_={exports:{}};Q_.exports;(function(e){(function(t,n,r){function s(i){var l=this;l.next=function(){var d=l.x,f=l.i,h,m;return h=d[f],h^=h>>>7,m=h^h<<24,h=d[f+1&7],m^=h^h>>>10,h=d[f+3&7],m^=h^h>>>3,h=d[f+4&7],m^=h^h<<7,h=d[f+7&7],h=h^h<<13,m^=h^h<<9,d[f]=m,l.i=f+1&7,m};function u(d,f){var h,m=[];if(f===(f|0))m[0]=f;else for(f=""+f,h=0;h<f.length;++h)m[h&7]=m[h&7]<<15^f.charCodeAt(h)+m[h+1&7]<<13;for(;m.length<8;)m.push(0);for(h=0;h<8&&m[h]===0;++h);for(h==8?m[7]=-1:m[h],d.x=m,d.i=0,h=256;h>0;--h)d.next()}u(l,i)}function o(i,l){return l.x=i.x.slice(),l.i=i.i,l}function a(i,l){i==null&&(i=+new Date);var u=new s(i),d=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var h=u.next()>>>11,m=(u.next()>>>0)/4294967296,g=(h+m)/(1<<21);while(g===0);return g},f.int32=u.next,f.quick=f,d&&(d.x&&o(d,u),f.state=function(){return o(u,{})}),f}n&&n.exports?n.exports=a:this.xorshift7=a})(nn,e)})(Q_);var cit=Q_.exports,X_={exports:{}};X_.exports;(function(e){(function(t,n,r){function s(i){var l=this;l.next=function(){var d=l.w,f=l.X,h=l.i,m,g;return l.w=d=d+1640531527|0,g=f[h+34&127],m=f[h=h+1&127],g^=g<<13,m^=m<<17,g^=g>>>15,m^=m>>>12,g=f[h]=g^m,l.i=h,g+(d^d>>>16)|0};function u(d,f){var h,m,g,v,y,x=[],b=128;for(f===(f|0)?(m=f,f=null):(f=f+"\0",m=0,b=Math.max(b,f.length)),g=0,v=-32;v<b;++v)f&&(m^=f.charCodeAt((v+32)%f.length)),v===0&&(y=m),m^=m<<10,m^=m>>>15,m^=m<<4,m^=m>>>13,v>=0&&(y=y+1640531527|0,h=x[v&127]^=m+y,g=h==0?g+1:0);for(g>=128&&(x[(f&&f.length||0)&127]=-1),g=127,v=4*128;v>0;--v)m=x[g+34&127],h=x[g=g+1&127],m^=m<<13,h^=h<<17,m^=m>>>15,h^=h>>>12,x[g]=m^h;d.w=y,d.X=x,d.i=g}u(l,i)}function o(i,l){return l.i=i.i,l.w=i.w,l.X=i.X.slice(),l}function a(i,l){i==null&&(i=+new Date);var u=new s(i),d=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var h=u.next()>>>11,m=(u.next()>>>0)/4294967296,g=(h+m)/(1<<21);while(g===0);return g},f.int32=u.next,f.quick=f,d&&(d.X&&o(d,u),f.state=function(){return o(u,{})}),f}n&&n.exports?n.exports=a:this.xor4096=a})(nn,e)})(X_);var lit=X_.exports,Z_={exports:{}};Z_.exports;(function(e){(function(t,n,r){function s(i){var l=this,u="";l.next=function(){var f=l.b,h=l.c,m=l.d,g=l.a;return f=f<<25^f>>>7^h,h=h-m|0,m=m<<24^m>>>8^g,g=g-f|0,l.b=f=f<<20^f>>>12^h,l.c=h=h-m|0,l.d=m<<16^h>>>16^g,l.a=g-f|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,i===Math.floor(i)?(l.a=i/4294967296|0,l.b=i|0):u+=i;for(var d=0;d<u.length+20;d++)l.b^=u.charCodeAt(d)|0,l.next()}function o(i,l){return l.a=i.a,l.b=i.b,l.c=i.c,l.d=i.d,l}function a(i,l){var u=new s(i),d=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var h=u.next()>>>11,m=(u.next()>>>0)/4294967296,g=(h+m)/(1<<21);while(g===0);return g},f.int32=u.next,f.quick=f,d&&(typeof d=="object"&&o(d,u),f.state=function(){return o(u,{})}),f}n&&n.exports?n.exports=a:this.tychei=a})(nn,e)})(Z_);var uit=Z_.exports,U5={exports:{}};(function(e){(function(t,n,r){var s=256,o=6,a=52,i="random",l=r.pow(s,o),u=r.pow(2,a),d=u*2,f=s-1,h;function m(_,C,T){var M=[];C=C==!0?{entropy:!0}:C||{};var E=x(y(C.entropy?[_,w(n)]:_??b(),3),M),R=new g(M),$=function(){for(var U=R.g(o),Y=l,F=0;U<u;)U=(U+F)*s,Y*=s,F=R.g(1);for(;U>=d;)U/=2,Y/=2,F>>>=1;return(U+F)/Y};return $.int32=function(){return R.g(4)|0},$.quick=function(){return R.g(4)/4294967296},$.double=$,x(w(R.S),n),(C.pass||T||function(U,Y,F,j){return j&&(j.S&&v(j,R),U.state=function(){return v(R,{})}),F?(r[i]=U,Y):U})($,E,"global"in C?C.global:this==r,C.state)}function g(_){var C,T=_.length,M=this,E=0,R=M.i=M.j=0,$=M.S=[];for(T||(_=[T++]);E<s;)$[E]=E++;for(E=0;E<s;E++)$[E]=$[R=f&R+_[E%T]+(C=$[E])],$[R]=C;(M.g=function(U){for(var Y,F=0,j=M.i,D=M.j,B=M.S;U--;)Y=B[j=f&j+1],F=F*s+B[f&(B[j]=B[D=f&D+Y])+(B[D]=Y)];return M.i=j,M.j=D,F})(s)}function v(_,C){return C.i=_.i,C.j=_.j,C.S=_.S.slice(),C}function y(_,C){var T=[],M=typeof _,E;if(C&&M=="object")for(E in _)try{T.push(y(_[E],C-1))}catch{}return T.length?T:M=="string"?_:_+"\0"}function x(_,C){for(var T=_+"",M,E=0;E<T.length;)C[f&E]=f&(M^=C[f&E]*19)+T.charCodeAt(E++);return w(C)}function b(){try{var _;return h&&(_=h.randomBytes)?_=_(s):(_=new Uint8Array(s),(t.crypto||t.msCrypto).getRandomValues(_)),w(_)}catch{var C=t.navigator,T=C&&C.plugins;return[+new Date,t,T,t.screen,w(n)]}}function w(_){return String.fromCharCode.apply(0,_)}if(x(r.random(),n),e.exports){e.exports=m;try{h=X6}catch{}}else r["seed"+i]=m})(typeof self<"u"?self:nn,[],Math)})(U5);var dit=U5.exports,fit=oit,hit=ait,pit=iit,mit=cit,git=lit,vit=uit,zo=dit;zo.alea=fit;zo.xor128=hit;zo.xorwow=pit;zo.xorshift7=mit;zo.xor4096=git;zo.tychei=vit;var yit=zo;const _vt=ge(yit),J_=p.createContext(void 0);function Cvt(){return p.useContext(J_).threadContentScrollContainerElementRef}function Tvt(){return Za(p.useContext(J_).footerRootContainerElementRef,"footerRootContainerElementRef")}function bit({value:e,children:t}){return c.jsx(J_.Provider,{value:e,children:t})}const xit=Oe(()=>Ie(()=>import("./hwdmg8mfzoygwzya.js").then(e=>e.b),__vite__mapDeps([77,1,2,3,6])));function V5(e){return e.find(t=>t.message.author.role===z.Tool&&t.message.metadata?.pending_memory_info)}function wit(e){return e.filter((t,n)=>{const r=e[n+1],o=r?.message.recipient==="assistant"&&r?.message.author.role===z.Tool&&r?.message.author.name==="bio"&&Ar(r.message).startsWith("Model set context");return t.message.author.role===z.Assistant&&t.message.recipient==="bio"&&o}).flatMap(t=>{const n=t.message.content.content_type;return n===Ae.Text?t.message.content.parts:n===Ae.Code?[t.message.content.text]:[]}).map(Pit)}function Sit(e){return e.some(t=>t.message.author.role===z.Assistant&&t.message.recipient==="bio"&&t.message.status==="in_progress")}function _it(e){const{eligible:t,isLoading:n}=q$e(),r=p.useMemo(()=>e.length>0,[e]);p.useEffect(()=>{r&&t&&!n&&Re.openModal(wt.GlobalMemoryOnboarding)},[r,t,n])}function Cit(e){const[t,n]=p.useState(!1);return{isPopoverOpen:t,setIsPopoverOpen:n,handleTogglePopover:s=>{const o=s??!t;n(o),o&&P.logEvent(A.memoryUpdatePopoverShown,{updateCount:e.length})}}}function G5({memoryWrites:e,popoverState:t,triggerButton:n,isParagen:r,setShowMemoriesModal:s}){return c.jsxs(T4,{open:t.isPopoverOpen,sideOffset:4,side:"bottom",alignAgainstAnchor:"start",size:"none",className:"z-10 min-w-60 max-w-96 text-sm",onOpenChange:o=>t.handleTogglePopover(o),disableAutofocus:!0,triggerButton:n,children:[c.jsx("div",{className:"mb-2 rounded border border-token-border-light bg-token-main-surface-secondary",children:e.map((o,a)=>c.jsx("div",{className:"border-b border-token-border-light px-3 py-2 first-letter:uppercase last:border-b-0",children:o},a))}),r?c.jsx("div",{className:"text-xs text-token-text-tertiary",children:c.jsx(S,{id:"MemoryActionResult.paragenMessage",defaultMessage:"This memory will be saved if you choose this response."})}):c.jsxs("button",{className:"flex w-full items-center justify-between rounded px-3 py-2 font-semibold hover:bg-token-main-surface-secondary",onClick:()=>{s(!0),P.logEvent(A.memoryUpdatePopoverManageButtonClicked,{updateCount:e.length})},children:[c.jsx(S,{id:"MemoryActionResult.manageMemories",defaultMessage:"Manage memories"}),c.jsx(Vh,{className:"icon-md -mr-1 text-token-text-tertiary"})]})]})}function Tit({clientThreadId:e,pendingMessage:t,memoryWrites:n,popoverState:r,setShowMemoriesModal:s}){const o=ze(),a=V(),i=k.getServerThreadId(e),l=mV({clientThreadId:e}),u=n.join(" ");let d=u.slice(0,50).replace(new RegExp("^\\p{L}","u"),h=>h.toLocaleUpperCase()).replace(/\.$/,"");u.length>50&&(d+="...");const f=async h=>{if(!i)throw new Error("Failed to confirm or reject memory update: serverThreadId is not found");const m=t.message.metadata?.pending_memory_info;k.updateTree(e,g=>{g.updateNodeMessageMetadata(t.nodeId,{pending_memory_info:{...m,is_pending:!1,confirm_result:h}})});try{await Z.confirmOrRejectMemory(t.message.id,i,h)}catch{o.danger(a.formatMessage({id:"memory.confirmOrDenyFail",defaultMessage:"Failed to confirm or reject memory update"})),k.updateTree(e,v=>{v.updateNodeMessageMetadata(t.nodeId,{pending_memory_info:m})})}};return c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"inline-block text-sm font-semibold text-token-text-tertiary outline-none",children:c.jsx(S,{id:"MemoryActionResult.memoryConfirmation",defaultMessage:"Update memory? {memoryText}",values:{memoryText:c.jsx("div",{className:"inline-block py-1",onMouseOver:()=>r.handleTogglePopover(!0),onMouseOut:()=>r.handleTogglePopover(!1),children:c.jsx(G5,{memoryWrites:n,popoverState:r,triggerButton:c.jsx("button",{className:O("text-left font-normal",r.isPopoverOpen?"text-token-text-secondary":"text-token-text-tertiary"),children:c.jsx(S,{id:"MemoryActionResult.memoryWrapper",defaultMessage:"“{memoryWrites}”",values:{memoryWrites:d}})}),setShowMemoriesModal:s})})}})}),c.jsx(ue,{className:"ml-3 text-token-text-tertiary hover:text-token-text-primary",size:"xs",color:"secondary",disabled:l,onClick:()=>{f(!0)},children:c.jsx(S,{id:"MemoryActionResult.confirm",defaultMessage:"Yes"})}),c.jsx(ue,{className:"ml-2 text-token-text-tertiary hover:text-token-text-primary",size:"xs",color:"secondary",disabled:l,onClick:()=>{f(!1)},children:c.jsx(S,{id:"MemoryActionResult.deny",defaultMessage:"No"})})]})}function Mit({memoryWrites:e,popoverState:t,isParagen:n,setShowMemoriesModal:r}){return e.length===0?null:c.jsx(c.Fragment,{children:c.jsx("div",{className:"inline-block",onMouseOver:()=>t.handleTogglePopover(!0),onMouseOut:()=>t.handleTogglePopover(!1),children:c.jsx(G5,{memoryWrites:e,popoverState:t,isParagen:n,triggerButton:c.jsxs("button",{className:O("my-1 flex items-center gap-1 text-sm font-semibold outline-none",t.isPopoverOpen?"text-token-text-secondary":"text-token-text-tertiary"),children:[c.jsx(GU,{className:"mb-[-1px]"}),e.length===1?c.jsx(S,{id:"MemoryActionResult.memoryWriteSingular.1",defaultMessage:"Memory updated"}):c.jsx(S,{id:"MemoryActionResult.memoryWritePlural.1",defaultMessage:"Memories updated"})]}),setShowMemoriesModal:r})})})}function Eit(e){const t=V5(e),n=t?.message.metadata?.pending_memory_info?.confirm_result;return t==null?null:n===!0?"confirmed":n===!1?"denied":"pending"}function kit({messages:e,clientThreadId:t,gizmoId:n,isParagen:r}){const s=wit(e),o=Cit(s),a=Sit(e);_it(s);const[i,l]=p.useState(!1),u=V5(e),d=Eit(e);return d==="denied"?null:a?c.jsx("div",{className:"result-streaming",children:c.jsx("span",{children:c.jsx("pre",{})})}):c.jsxs(c.Fragment,{children:[d==="pending"?c.jsx(Tit,{clientThreadId:t,memoryWrites:s,popoverState:o,setShowMemoriesModal:l,pendingMessage:u}):c.jsx(Mit,{memoryWrites:s,popoverState:o,isParagen:r,setShowMemoriesModal:l}),i&&c.jsx(xit,{initialGizmoId:n,onClose:()=>l(!1)})]})}function Pit(e){const t=["The user ","The user's ","User ","User's "];for(const n of t)if(e.startsWith(n))return e.slice(n.length);return e}const Mvt=Object.freeze(Object.defineProperty({__proto__:null,MemoryActionResult:kit},Symbol.toStringTag,{value:"Module"})),Ait={liveRegionAssertive:"",liveRegionPolite:""},Ca=He()(()=>({...Ait}));let kv,Pv;const Iu={setLiveRegionAssertive:e=>{window.clearTimeout(kv),Ca.setState({liveRegionAssertive:e}),kv=window.setTimeout(()=>{Ca.setState({liveRegionAssertive:""}),kv=void 0},5e3)},setLiveRegionPolite:e=>{window.clearTimeout(Pv),Ca.setState({liveRegionPolite:e}),Pv=window.setTimeout(()=>{Ca.setState({liveRegionPolite:""}),Pv=void 0},5e3)}};function Evt(e){const{isCompletionRequestInProgress:t,isUserTurn:n,message:r}=e,s=V(),o=p.useRef(t);p.useEffect(()=>{if(!t)return;let a;Iu.setLiveRegionAssertive(s.formatMessage({id:"0LFLpz",defaultMessage:"ChatGPT is generating a response..."}));const i=s.formatMessage({id:"uqqkLX",defaultMessage:"ChatGPT is still generating a response..."}),l=5e3;function u(){Iu.setLiveRegionAssertive(""),a=window.setTimeout(()=>{Iu.setLiveRegionAssertive(i),a=window.setTimeout(()=>u(),l)},1e3)}return a=window.setTimeout(u,l),()=>{window.clearTimeout(a)}},[t,s]),p.useEffect(()=>{if(t||n||!r||!o.current){o.current=t;return}const{content:a}=r,i=(a.content_type===Ae.Text,a),l=s.formatMessage({id:"lZ4dVJ",defaultMessage:"ChatGPT says: {message}"},{message:i?.parts?.join?.(`
`)??""});Iu.setLiveRegionAssertive(l),o.current=!1},[n,t,s,r])}function $it(e){return e.nodeType===Node.ELEMENT_NODE}function Oit(e){const t=e.currentTarget.ownerDocument,n=t.defaultView,r=o=>{const a=i=>{if($it(i)){if(["THEAD","TR","TD","TH"].includes(i.nodeName.toUpperCase())){let l=i.parentNode;for(;l&&l.nodeName!=="TABLE";)l=l.parentNode;if(!l){ZA.debug("Found table element without a parent <table>");const u=t.createElement("table");i.parentNode?.insertBefore(u,i),u.appendChild(i)}}i.attributes&&[...i.attributes].forEach(l=>{["style"].includes(l.name)&&i.removeAttribute(l.name)})}i.childNodes.forEach(a)};o.childNodes.forEach(a)};e.preventDefault();const s=n?.getSelection();if(s&&s.rangeCount>0){const a=s.getRangeAt(0).cloneContents();r(a);const i=t.createElement("div");i.appendChild(a);const l=i.innerHTML;e.clipboardData.setData("text/html",l),e.clipboardData.setData("text/plain",s.toString())}}const kvt=e=>{const t=Ir();return p.useCallback(n=>{Oit(n);const{currentTarget:r}=n,s=r.closest("[data-message-id]")?.getAttribute("data-message-id"),o=document.getSelection()?.toString(),a=k.getServerThreadId(e);!s||!o||!a||t||Z.submitImplicitMessageFeedback({source:"keyboard",type:"copy",messageId:s,serverThreadId:a,selectedText:o,location:"selection"})},[e,t])};function Pvt({clientThreadId:e,currentModelId:t}){const n=_at(t,I5.CODE_INTERPRETER);Iit(n,e)}function Iit(e,t){const n=op(),r=k.getServerThreadId(t),s=ze();async function o({queryKey:[a,i]}){return await Z.getThreadInterpreterState(i).then(l=>(l.time_remaining_ms===0&&l.kernel_started&&s.warning("This advanced data analysis (beta) chat has timed out. You may continue the conversation, but previous files, links, and code blocks below may not work as expected.",{hasCloseButton:!0,duration:0}),l))}return _e({queryKey:["interpreterState",r],queryFn:o,enabled:!!(e&&r&&!n),gcTime:0})}const fA=()=>document.querySelector('[data-name="application-root"]')?.getBoundingClientRect().height??window.innerHeight,hA=()=>window.visualViewport?.height??document.documentElement.clientHeight;function Nit(){const[e,t]=p.useState(0),[n,r]=p.useState(!1),s=p.useRef(null),o=fI(p.useCallback(()=>{const a=fA(),i=hA();let l=i;if(s.current!=null){l=Math.max(i,s.current);const u=a-l;t(u>0?u:0)}},[s]),500);return p.useEffect(()=>{const a=hA(),i=u=>{const d=u.target;d&&(d instanceof HTMLInputElement||d instanceof HTMLTextAreaElement||d.isContentEditable)&&(r(!0),setTimeout(()=>{s.current==null&&a!==fA()&&(s.current=a)},100),window.visualViewport?.addEventListener("resize",o))},l=()=>{n&&(r(!1),window.visualViewport?.removeEventListener("resize",o),t(0),s.current=null)};return rA()&&(document.addEventListener("focusin",i),document.addEventListener("focusout",l)),()=>{rA()&&(document.removeEventListener("focusin",i),document.removeEventListener("focusout",l))}},[s,n,o]),p.useEffect(()=>{n&&s.current!=null&&o()},[n,s,o]),{isOnScreenKeyboardOpen:n,keyboardHeight:e}}function Rit(){return Nit(),c.jsx("div",{slot:"keyboard"})}function jit(e){const{anchor:t,children:n,className:r,leading:s,ref:o,style:a,trailing:i,trackLeading:l,trackTrailing:u,...d}=e,{name:f}=d,[h,m]=yc(d),[g,v]=yc({disableSizeTracking:!l,name:`${f}-leading`,track:"height"}),[y,x]=yc({disableSizeTracking:!u,name:`${f}-trailing`,track:"height"}),b=t==="vertical"||t==="bottom",w=f??"default",_=null,C=p.useRef(null),T=p.useMemo(()=>({threadContentScrollContainerElementRef:_,footerRootContainerElementRef:C}),[]);return c.jsxs("section",{className:O(Z6.screen,r),"data-testid":`screen-${w}`,"screen-anchor":t,ref:M=>{m(M),o&&(o.current=M)},style:{...a,...h,...g,...y,container:f?`${f} / inline-size`:void 0,minWidth:`min(var(--screen-${w}_min-width), 100cqw)`},children:[c.jsx("div",{slot:"leading",ref:v,children:s}),c.jsx("div",{slot:"content",children:c.jsx(bit,{value:T,children:n})}),c.jsx("div",{slot:"trailing",ref:M=>{x(M),C.current=M},children:i}),b&&c.jsx(Rit,{})]})}function pA(e){return new Promise(t=>{setTimeout(()=>t(e()),0)})}function Dit(){const e="scheduler"in globalThis;if(!e)return{supportsScheduler:e,supportsYield:!1};const n="yield"in globalThis.scheduler;return{supportsScheduler:e,supportsYield:n}}let Av;function Lit(){const e=globalThis.scheduler,{supportsScheduler:t,supportsYield:n}=Dit();return e&&n?e:t&&!n?(Object.defineProperty(e,"yield",{value:()=>e.postTask(()=>{})}),e):(Av||(Av={postTask:pA,yield:()=>pA(()=>{})}),Av)}class Fit{scheduler;setScheduler(){this.scheduler||(this.scheduler=Lit())}postTask(t,n){return this.setScheduler(),this.scheduler.postTask(t,n)}yield(){return this.setScheduler(),this.scheduler.yield()}}const Th=new Fit;function Bit(){return{finished:Promise.resolve(),ready:Promise.resolve(),skipTransition:()=>{},types:new Set,updateCallbackDone:Promise.resolve()}}function Uit(){return"ViewTransitionTypeSet"in document}function Dd({forceFlushSync:e,update:t,className:n,types:r}){if("startViewTransition"in document){let s;const o=Uit();if(o)s=document.startViewTransition({update:()=>{e?Cc.flushSync(t):t()},types:r});else{r&&document.documentElement.setAttribute("active-view-transition-type",r.join(","));const a=["active-view-transition"];n&&a.push(n),document.documentElement.classList.add(...a),s=document.startViewTransition(()=>{e?Cc.flushSync(t):t()}),s.finished.then(async()=>{await Th.yield(),document.documentElement.classList.remove(...a),o||document.documentElement.removeAttribute("active-view-transition-type")})}return s}else{const s=Bit();return setTimeout(()=>{t()},0),s}}const Vit=Oe(()=>Ie(()=>import("./ifdp3b06w1qya2bm.js"),__vite__mapDeps([78,1,2,3,23,79,20,21,19,6])).then(e=>e.SearchSources));function Avt({clientThreadId:e}){const{resolvedTheme:t}=tw(),n=t==="dark",{turnIndex:r,messageId:s,isOpen:o}=f2(),a=Un(),i=p.useCallback(()=>{a?Dd({className:"close-search-sidebar",update:()=>{Re.closeChatThreadFlyout(e,s)}}):Re.closeChatThreadFlyout(e,s)},[e,s,a]);return!s||!r||!o?null:c.jsx(jit,{anchor:"top",className:O("relative flex-1 border-l",n?"border-l-token-border-medium":"border-l-token-border-xlight"),name:"threadFlyOut",trackLeading:!0,leading:c.jsx(ly,{name:"search-sources-header",type:"primary",className:O("flex min-h-[var(--screen-thread-header-min-height,60px)] items-center justify-end !bg-transparent p-1.5"),children:c.jsx("div",{className:"bg-token-main-surface-primary p-1",children:c.jsx(qc,{onClick:i})})}),children:c.jsx(Vit,{clientThreadId:e,turnIndex:r,messageId:s,isInSidebar:!0})})}function $vt({clientThreadId:e}){p.useEffect(()=>{Re.closeSharingModal()},[e]);const{value:t}=$t("3051378794"),n=Fe();p.useEffect(()=>(k.retainThread(e),()=>{setTimeout(()=>{n.invalidateQueries({queryKey:["conversation",e]})},0),k.releaseThread(e)}),[e,n]),p.useEffect(()=>()=>{K.checkGate("3922476776")||Qr.abortAllRequests()},[e]);const r=p.useRef(e);p.useEffect(()=>{e!==r.current&&(K.checkGate("3922476776")||Qr.clear(),r.current=e)},[e]),p.useEffect(()=>{t&&Re.closeChatThreadFlyout(e)},[e,t])}const Git={type:"spring",stiffness:300,damping:30,mass:1},Ovt={transition:Git,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}};function Ivt({clientThreadId:e,currentLeafId:t}){const{currentModelId:n}=ji(),r=im(e),s=aV(e,t),o=rl(e),a=Ir(),i=O3(n),l=$r(e)&&!s&&(U3(r)||r?.kind===Me.GizmoTest);return{showEmptyState:l,canUseNewHomepage:l&&!1||l&&!o&&!i&&!a}}function mA(e,t){return e===t-1}function Nvt(e,t){const n=p.useRef(e).current,r=t&&e>n;p.useEffect(()=>{r&&(K.logEvent("chatgpt_continue_conversation_first_message_sent"),P.logEvent(A.continueConversationFirstMessageSent))},[r]),p.useEffect(()=>{t&&(K.logEvent("chatgpt_continue_conversation_page_loaded"),P.logEvent(A.continueConversationPageLoaded),K.logEvent("chatgpt_conversation_share_page_loaded"),P.logEvent(A.sharedConversationPageLoaded))},[t]);const s=Array.from({length:n},(a,i)=>({turnIndex:i,isFinalTurn:mA(i,e)})),o=Array.from({length:e-n},(a,i)=>{const l=i+n;return{turnIndex:l,isFinalTurn:mA(l,e)}});return{initialConversationTurns:s,continuedConversationTurns:o}}function Rvt(e){const{clientThreadId:t}=ji(),n=p.useRef(e);n.current=e,p.useEffect(()=>{n.current()},[t])}function jvt(){return c.jsx("div",{className:"text-pretty text-center text-xs font-semibold text-token-text-primary",children:c.jsx("button",{onClick:()=>{Re.openModal(wt.ReportConversation),K.logEvent("chatgpt_conversation_share_report_content_clicked",null,{location:"Static Shared Thread Page"}),P.logEvent(A.sharedConversationReportContentClicked,{location:"Dynamic Shared Thread Page"})},children:c.jsx(S,{id:"thread.reportSharedConversation",defaultMessage:"Report content"})})})}function Dvt(){return c.jsx("p",{className:"text-pretty text-center text-xs text-gray-500",children:c.jsx(S,{id:"threadLayout.sharedConversationCopyDisclaimer",defaultMessage:"This is a copy of a conversation between ChatGPT & Anonymous."})})}function Lvt(){return c.jsxs("p",{className:"flex items-center justify-center text-pretty text-xs text-gray-500",children:[c.jsx(Lo,{className:"icon-xs mr-2"}),c.jsx(S,{id:"threadLayout.sharedConversationPrivateDisclaimer",defaultMessage:"Messages beyond this point are only visible to you"})]})}var Wit=typeof nn=="object"&&nn&&nn.Object===Object&&nn,Hit=typeof self=="object"&&self&&self.Object===Object&&self;Wit||Hit||Function("return this")();function zit({threshold:e=0,root:t=null,rootMargin:n="0%",freezeOnceVisible:r=!1,initialIsIntersecting:s=!1,onChange:o}={}){var a;const[i,l]=p.useState(null),[u,d]=p.useState(()=>({isIntersecting:s,entry:void 0})),f=p.useRef();f.current=o;const h=((a=u.entry)==null?void 0:a.isIntersecting)&&r;p.useEffect(()=>{if(!i||!("IntersectionObserver"in window)||h)return;let v;const y=new IntersectionObserver(x=>{const b=Array.isArray(y.thresholds)?y.thresholds:[y.thresholds];x.forEach(w=>{const _=w.isIntersecting&&b.some(C=>w.intersectionRatio>=C);d({isIntersecting:_,entry:w}),f.current&&f.current(_,w),_&&r&&v&&(v(),v=void 0)})},{threshold:e,root:t,rootMargin:n});return y.observe(i),()=>{y.disconnect()}},[i,JSON.stringify(e),t,n,h,r]);const m=p.useRef(null);p.useEffect(()=>{var v;!i&&((v=u.entry)!=null&&v.target)&&!r&&!h&&m.current!==u.entry.target&&(m.current=u.entry.target,d({isIntersecting:s,entry:void 0}))},[i,u.entry,r,h,s]);const g=[l,!!u.isIntersecting,u.entry];return g.ref=g[0],g.isIntersecting=g[1],g.entry=g[2],g}function Fvt(){const[e,t]=zit({initialIsIntersecting:!1});return c.jsx("input",{name:"thread_is_scrolled_to_bottom",type:"checkbox",checked:t,ref:e,onChange:$e,className:"invisible h-[1px] w-full"})}function Bvt(e){const{children:t,className:n,style:r,...s}=e,[o,a]=yc(s);return c.jsx("div",{"data-testid":`bar-container-${s.name||"default"}`,className:O("z-10 flex flex-col gap-bar",n),ref:a,style:{...r,...o},children:t})}function Uvt({className:e}){const t=V();return c.jsx(qit,{className:e,"aria-label":t.formatMessage({id:"L/a4AQ",defaultMessage:"Scroll to bottom"}),onClick:async()=>{K.logEvent("chatgpt_thread_scroll_to_bottom"),await Th.yield(),document.querySelector("[data-testid='screen-thread'] [slot=content]")?.scrollIntoView({behavior:"smooth",block:"end"})},children:c.jsx(T$,{className:"icon-md text-token-text-secondary"})})}const qit=Ee.button`cursor-pointer absolute bottom-0 self-center z-10 rounded-full bg-clip-padding border text-token-text-secondary border-token-border-light right-1/2 translate-x-1/2 bg-token-main-surface-primary w-11 h-11 flex items-center justify-center`,Vvt=p.createContext({setComposerFooterElement:()=>{}}),Gr={OpenOrClosed:"sidebar_opened",FloatingOrPinned:"sidebar_pinned"};var Bt=(e=>(e.Floating="floating",e.Pinned="pinned",e))(Bt||{});function Yit(){return{isSidebarOpen:!1,mode:Bt.Pinned}}class W5{store;constructor(t){this.store=t}setSidebarMode=async t=>{switch(t){case Bt.Floating:this.store.setState({mode:Bt.Floating});break;case Bt.Pinned:this.store.setState({mode:Bt.Pinned});break}};openSidebar=async()=>{const t=gA();if(t){if(this.store.getState().isSidebarOpen&&t.checked)return;t.checked=!0}this.store.setState({isSidebarOpen:!0}),we.setState({isDesktopNavCollapsed:!1}),await Th.yield(),P.logToggleDesktopNavCollapsed({isDesktopNavCollapsed:!1})};closeSidebar=async()=>{const t=gA();if(t){if(!this.store.getState().isSidebarOpen&&!t.checked)return;t.checked=!1}this.store.setState({isSidebarOpen:!1}),we.setState({isDesktopNavCollapsed:!0}),await Th.yield(),P.logToggleDesktopNavCollapsed({isDesktopNavCollapsed:!0})}}function gA(){return document.querySelector(`input[name='${Gr.OpenOrClosed}']`)}const vA=He(()=>Yit()),H5=p.createContext({store:vA,actions:new W5(vA)});function Kit(e){let{isSidebarOpen:t,mode:n}=e;return t&&n===Bt.Pinned?"open-pinned":!t&&n===Bt.Pinned?"closed-pinned":"closed"}function e1(){return p.use(H5)}function Gvt({children:e}){p.use(AA);const[t]=p.useState(()=>{let n;n={isSidebarOpen:document.querySelector(`input[name='${Gr.OpenOrClosed}']`)?.checked??!1,mode:document.querySelector(`input[name='${Gr.FloatingOrPinned}']`)?.checked?Bt.Pinned:Bt.Floating};const r=He(()=>n);return{store:r,actions:new W5(r)}});return p.useEffect(()=>t.store.subscribe((n,r)=>{const s=n.mode!==r.mode,o=n.isSidebarOpen!==r.isSidebarOpen;if(!(s||o))return;const a=Kit(n);wn.setCookie(hn.SidebarState,a,{maxAge:2**30})}),[t.store]),c.jsx(H5,{value:t,children:e})}const _c={openSidebar:(e,t,n)=>{const r=e.currentTarget.tagName==="INPUT"?e.currentTarget:document.querySelector(`#${e.currentTarget.getAttribute("for")}`);n===Bt.Floating?t.openSidebar():(e.preventDefault(),e.persist(),Dd({className:"open-sidebar",types:[`from-${n}`],update:()=>{r&&(r.checked=!0),t.openSidebar()}}))},closeSidebar:(e,t,n)=>{const r=e.currentTarget.tagName==="INPUT"?e.currentTarget:document.querySelector(`#${e.currentTarget.getAttribute("for")}`);n===Bt.Floating?t.closeSidebar():(e.preventDefault(),e.persist(),Dd({className:"close-sidebar",types:[`from-${n}`],update:()=>{r&&(r.checked=!1),t.closeSidebar()}}))},togglePinSidebar:(e,t,n)=>{const s=e.currentTarget.tagName==="INPUT"?e.currentTarget:document.querySelector(`#${e.currentTarget.getAttribute("for")}`);s&&Dd({className:n===Bt.Pinned?"pin-sidebar":"unpin-sidebar",update:()=>{s.checked=n===Bt.Pinned,t.setSidebarMode(n)}})}};function Wvt(){const{store:e,actions:t}=e1(),n=e(s=>s.isSidebarOpen),r=e(s=>s.mode);return c.jsxs(c.Fragment,{children:[c.jsx(oA,{id:Gr.FloatingOrPinned,name:Gr.FloatingOrPinned,checked:r===Bt.Pinned,onChange:s=>{s.preventDefault(),s.persist();const o=r===Bt.Pinned?Bt.Floating:Bt.Pinned;_c.togglePinSidebar(s,t,o)}}),c.jsx(oA,{id:Gr.OpenOrClosed,name:Gr.OpenOrClosed,checked:n,onChange:s=>{s.currentTarget.checked?_c.openSidebar(s,t,r):_c.closeSidebar(s,t,r)}})]})}function Hvt(){const{actions:e,store:t}=e1(),n=t(s=>s.mode),r=V();return c.jsx(E5,{className:O(f1.openSidebar,f1.sidebarIcon),htmlFor:Gr.OpenOrClosed,style:{viewTransitionName:"var(--vt_toggle_sidebar_closed)"},onActivate:s=>{_c.openSidebar(s,e,n)},icon:c.jsxs(c.Fragment,{children:[c.jsx(V$,{className:O("h-6 w-6","hidden @lg/thread:inline-flex")}),c.jsx(G$,{className:O("h-6 w-6","inline-flex @lg/thread:hidden")})]}),label:r.formatMessage({id:"fWaiMq",defaultMessage:"Open Sidebar"})})}const Qit=Oe(()=>Ie(()=>import("./d1l9y8q6ryifmfne.js"),__vite__mapDeps([56,1,2,3,57,58,59,60,17])).then(e=>e.OpenDebugSidebarButton)),Xit=Oe(()=>Ie(()=>Promise.resolve().then(()=>Aot),void 0).then(e=>e.default));function zvt(){const e=aNe();return c.jsxs("div",{className:O("absolute bottom-4 right-4 z-30 flex-col gap-1","hidden @lg/screen-composer:flex"),style:{viewTransitionName:"var(--vt_thread_tools)"},children:[e?c.jsxs(c.Fragment,{children:[c.jsx(Qit,{}),!1]}):null,c.jsx(Xit,{})]})}var Zit=(e=>(e[e.ADAVisualization=0]="ADAVisualization",e[e.Image=1]="Image",e))(Zit||{});function qvt(){const{isUnauthenticated:e,isLoading:t}=Ut(),{eligible:n,isLoading:r,markAsViewed:s}=Xe(We.hasSeenPioneer),o=an();return{eligible:o&&o.created>Date.now()/1e3-24*60*60&&n&&!e,isLoading:r||t,markAsViewed:s}}function Jit(){return window.dataLayer=window.dataLayer||[],function(){window.dataLayer.push(arguments)}}function ect(){["IDE","ANID","NID"].forEach(t=>{try{document.cookie=t+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=."+window.location.hostname}catch{K.logEvent("chatgpt_pioneer_cookie_error")}})}function Yvt(){const e=an(),{cspScriptNonce:t}=p.useContext(UA);return!window||!e||!t?()=>{}:async()=>{let n;try{const a=new TextEncoder().encode(e.email);n=await crypto.subtle.digest("SHA-256",a).then(i=>Array.from(new Uint8Array(i)).map(l=>l.toString(16).padStart(2,"0")).join(""))}catch{K.logEvent("chatgpt_pioneer_email_error")}const r=document.createElement("script");r.src="https://www.googletagmanager.com/gtag/js?id=AW-16678058309",r.nonce=t,r.async=!0,document.body.appendChild(r);const s=Jit();s("js",new Date),s("config","AW-16678058309",{send_page_view:!1,conversion_linker:!0,restricted_data_processing:!0}),ect(),s("set","user_data",{sha256_email_address:n}),s("event","conversion",{send_to:"AW-16678058309/0kStCJHMl9QZEMXy25A-",user_data:{sha256_email_address:n}}),K.logEvent("chatgpt_pioneer_conv")}}var tct=(e=>(e.Turn="turn",e.ImagesTab="images_tab",e))(tct||{}),nct=(e=>(e[e.FromLeft=-1]="FromLeft",e[e.FromRight=1]="FromRight",e))(nct||{});class Hx extends TA()(()=>({currentImage:void 0})){setCurrentImage(t){this.setState({currentImage:t})}static useCurrentImage(){return this.useState(t=>t.currentImage)}}function Kvt({clientThreadId:e,children:t}){const[n]=p.useState(new Hx);return p.useEffect(()=>{n.setCurrentImage(void 0)},[e,n]),c.jsx(Hx.Provider,{store:n,children:t})}function Qvt({clientThreadId:e}){return Hx.useCurrentImage()?c.jsx(rct,{clientThreadId:e}):null}const rct=Oe(()=>Ie(()=>import("./b3eqrxwhdhs8asjr.js"),__vite__mapDeps([80,1,2,3,23,20,21,15,16,6])).then(e=>e.ImageLightbox));function Xvt(){const e=Ca(n=>n.liveRegionAssertive),t=Ca(n=>n.liveRegionPolite);return c.jsxs(c.Fragment,{children:[c.jsx("div",{"aria-live":"assertive","aria-atomic":"true",className:"sr-only",children:e}),c.jsx("div",{"aria-live":"polite","aria-atomic":"true",className:"sr-only",children:t})]})}const Zvt=()=>{const e=V(),t=we(o=>o.activeModals.has(wt.KeyboardActions)),n=()=>{Re.closeModal(wt.KeyboardActions)},r=KF(),s=p.useMemo(()=>{const o=Math.ceil(r.length/2);return[r.slice(0,o),r.slice(o)]},[r]);return c.jsx(Ue,{isOpen:t,onClose:n,type:"success",size:"custom",className:"md:max-w-[672px] lg:max-w-[796px] xl:max-w-4xl",showCloseButton:!0,title:e.formatMessage(act.keyboardActionsModalTitle),children:c.jsx(c.Fragment,{children:c.jsx("div",{className:"grid grid-flow-row grid-cols-[repeat(auto-fit,minmax(250px,1fr))] gap-x-9",children:s.map((o,a)=>c.jsx("div",{className:"flex flex-col overflow-hidden",children:o.map(i=>c.jsx(sct,{action:i},i.key))},`col-${a}`))})})})},sct=({action:e})=>c.jsxs("div",{className:"flex items-center justify-between overflow-hidden text-token-text-primary",children:[c.jsx("div",{className:"flex flex-shrink items-center overflow-hidden text-sm",children:c.jsx("div",{className:"truncate",children:c.jsx(S,{...e.actionMessageDescriptor})})}),c.jsx("div",{className:"ml-3 flex flex-row gap-2",children:vIe(e.keyboardBinding).map((t,n)=>c.jsx(oct,{keyName:t},`${e.key}-${n}`))})]}),oct=({keyName:e})=>{const t=O("my-2 flex h-8 items-center justify-center rounded-md border border-token-border-light capitalize text-token-text-secondary");return e.length>1?e.length>3?c.jsx("div",{className:O(t,"min-w-[50px]"),children:c.jsx("span",{className:"text-xs",children:e})}):c.jsx("div",{className:O(t,"min-w-[32px]"),children:c.jsx("span",{className:"text-xs",children:e})}):c.jsx("div",{className:O(t,"min-w-[32px]"),children:c.jsx("span",{className:"text-sm",children:e})})},act=Q({keyboardActionsModalTitle:{id:"KeyboardActionsModal.keyboardActionsModalTitle",defaultMessage:"Keyboard shortcuts"}});function Jvt(){const{clientThreadId:e,resetThread:t}=ji();return bIe({resetThreadAction:t,clientThreadId:e}),null}function eyt(e){const{children:t,className:n,style:r,name:s,...o}=e;return c.jsx("div",{className:In.parent,"data-testid":"screen-composer-parent",children:c.jsxs("div",{className:O(In.screenComposer,In.sidebarColors,In.registeredScreenProperties,n),"data-name":s,"data-testid":"screen-composer",style:r,children:[c.jsx("div",{className:In.banner,children:o.banner}),c.jsx("nav",{className:In.sidebar,children:o.sidebar}),c.jsx("div",{className:In.header,children:o.header}),c.jsx("main",{className:In.thread,id:"thread",children:o.thread}),c.jsx("section",{className:In.details,id:"details",children:o.details}),c.jsx("aside",{className:In.threadExtendedInfo,id:"threadExtendedInfo",children:o.threadExtendedInfo}),c.jsx("footer",{className:In.footer,children:o.footer}),c.jsx("div",{className:In.debugger,children:o.debugger}),t]})})}const tyt=({setIsMobileAppUpsellBannerVisible:e})=>{const t=V(),{eligible:n,markAsViewed:r}=Xe(We.hasSeenMobileAppUpsellBanner),s=ki(),o=e0e(),a=t0e(),i=n&&s&&(o||a);e(i),i&&(K.logEvent("chatgpt_web_mobile_app_upsell_banner_shown"),P.logEvent(A.mobileAppUpsellBannerShown));const l=()=>{r(),e(!1),K.logEvent("chatgpt_web_mobile_app_upsell_banner_dismissed"),P.logEvent(A.mobileAppUpsellBannerDismissed)},u=()=>{const d=a?"https://play.google.com/store/apps/details?id=com.openai.chatgpt":o?"https://apps.apple.com/us/app/chatgpt/id6448311069":"";window.open(d,"_blank"),K.logEvent("chatgpt_web_mobile_app_upsell_banner_clicked"),P.logEvent(A.mobileAppUpsellBannerClicked)};return c.jsx(c.Fragment,{children:i&&c.jsx(zSe,{title:t.formatMessage({id:"mobileTopBanner.title",defaultMessage:"ChatGPT"}),content:t.formatMessage({id:"mobileTopBanner.content",defaultMessage:"The official app by OpenAI"}),secondaryCtaText:t.formatMessage({id:"mobileTopBanner.secondaryCtaText",defaultMessage:"Open"}),onDismiss:l,onSecondaryCtaClick:u})})};function nyt(e){const{clientThreadId:t}=ji(),n=p.useRef(e);n.current=e;const r=p.useRef(null);p.useEffect(()=>{const s=r.current;return r.current=t,()=>{n.current?.(t,s)}},[t])}function ict({children:e,className:t,header:n,isLastInGroup:r=!1}){return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:O(t,"sticky top-[var(--sticky-title-offset)] z-20 block min-w-[50cqw] select-none overflow-clip text-ellipsis break-all py-2 text-xs font-semibold text-token-text-secondary"),style:{backgroundImage:"var(--occluding-gradient)"},children:n}),c.jsx("aside",{className:O("-ml-2 flex flex-col gap-4 pt-1",r?"mb-0":"mb-3"),children:c.jsx("ul",{className:"flex flex-col gap-0.5",children:e})})]})}const cct=Q({exploreStoreEnabled:{id:"gizmo.exploreStoreEnabled",defaultMessage:"Explore GPTs"},keepInSidebar:{id:"gizmo.keepInSidebar",defaultMessage:"Keep in sidebar"},newChat:{id:"gizmo.newChat",defaultMessage:"New chat"},clearChat:{id:"gizmo.clearChat",defaultMessage:"Clear chat"}});var z5=(e=>(e[e.Keep=0]="Keep",e[e.Recents=1]="Recents",e[e.Workspace=2]="Workspace",e))(z5||{});const lct=Oe(()=>Ie(()=>import("./g5ef5a36mqyoub3t.js"),__vite__mapDeps([81,1,2,3])).then(e=>e.GizmoKeepInSidebarMenuItem));function ryt({gizmo:e,isOpen:t,setIsOpen:n,section:r}){const s=Fe();return c.jsxs(Bh,{open:t,onOpenChange:n,triggerButton:c.jsx("button",{className:O("flex text-token-text-secondary hover:text-token-text-primary",t?"":"invisible group-hover:visible"),children:c.jsx(fw,{className:"icon-md"})}),contentAlign:"start",sideOffset:4,alignOffset:-4,size:"auto",children:[r===z5.Recents&&c.jsx(ie.Item,{onClick:async()=>{await ft.updateGizmoSidebar(s,lI,e.gizmo.id,"keep")},children:c.jsx(S,{...cct.keepInSidebar})}),c.jsx(lct,{gizmoResource:e})]})}const uct=p.createContext({isSidebarFlyoutOpen:()=>!1,onSidebarFlyoutOpenChange:()=>{}});function q5(){return p.use(uct)}var ja=(e=>(e.Conversation="conversation",e.Gizmo="gizmo",e.Conversation2="conversation2",e))(ja||{});function dct({onClick:e}){const{clientThreadId:t}=ji(),{isSidebarFlyoutOpen:n,onSidebarFlyoutOpenChange:r}=q5(),s=n(ja.Conversation);return c.jsx("div",{className:"group mt-1 flex w-full items-center justify-start",children:c.jsx(Bh,{onOpenChange:o=>r(ja.Conversation,o),side:"right",sideOffset:4,open:s,contentAlign:"start",triggerButton:c.jsxs("button",{className:O("flex flex-1 select-none items-center gap-2 rounded-lg px-2 py-2 text-sm tracking-condensed text-token-text-secondary hover:bg-token-main-surface-secondary focus:ring-0",s&&"bg-token-main-surface-secondary"),onClick:e,children:[c.jsx(fw,{className:O("icon-md mr-1 font-semibold text-token-sidebar-icon")}),c.jsx("span",{className:"text-left",children:c.jsx(S,{id:"25xE8F",defaultMessage:"See more"})})]}),size:"auto",children:c.jsx("div",{className:"max-h-[50dvh] overflow-x-auto px-2 [scrollbar-gutter:stable]",children:c.jsx(ni,{children:c.jsx(YIe,{activeId:t,hideOverflowMenu:!0})})})})})}function fct(){const e=Un(),{conversations:t}=o_();return{isCollapsible:e&&t.length>5,recentConversationLimit:5}}function hct({showRetry:e,refetch:t}){return c.jsxs("div",{className:"mt-5 p-3 text-center italic text-token-text-tertiary",children:[c.jsx(S,{id:"p9u9Tx",defaultMessage:"Unable to load history"}),e&&c.jsx("div",{className:"mt-1",children:c.jsx(ue,{as:"button",color:"primary",size:"small",className:"m-auto mt-2",onClick:()=>{t()},children:c.jsx(S,{id:"3NKcIv",defaultMessage:"Retry"})})})]})}function syt({clientThreadId:e}){const t=np(e),n=Ir(),{isCollapsible:r,recentConversationLimit:s}=fct(),o={recentConversationLimit:s},a=p.useRef(!1),i=!0,{conversations:l,data:u,isLoading:d,isError:f,recents:h,refetch:m}=o_(o),[g,v]=p.useState(!0),y=p.useCallback(function(E){E===void 0&&v(!1),m({cancelRefetch:!0})},[m,v]),x=n?void 0:t,b=l.length===0,w=f||u===void 0&&!d&&a.current,_=!w&&(u===void 0||d);u===void 0&&!d&&!a.current&&(a.current=!0,y(!0));const T=l.find(M=>M.id===x)??null;return p.useMemo(()=>{xo.publish({kind:"refreshHistory",conversations:l})},[l]),c.jsxs(c.Fragment,{children:[w&&c.jsx(hct,{showRetry:g,refetch:y}),!b&&c.jsxs(ict,{header:h.label,isLastInGroup:!0,children:[h.items.map((M,E)=>c.jsx(Ax,{item:M,isActive:M.id===x,testId:`history-item-${E}`},M.id)),T&&!h.items.some(M=>M.id===x)&&c.jsx(Ax,{item:T,isActive:!0})]}),_&&c.jsx(Ln,{className:"sticky top-4 z-30 mt-4 justify-self-center"}),r&&c.jsx(ni,{children:c.jsx("div",{className:"-ml-2 mb-5",children:c.jsx("div",{hidden:!i,className:O(!i),children:c.jsx(dct,{})})})})]})}function oyt(){return c.jsx("div",{className:Yl.btn,children:c.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{className:Yl.bar,d:"M4 5V19"}),c.jsxs("g",{className:Yl.rightArrow,children:[c.jsx("path",{d:"M21 12L11 12"}),c.jsx("path",{d:"M16 7L21 12L16 17"})]}),c.jsxs("g",{className:Yl.leftArrow,children:[c.jsx("path",{d:"M13 12L3 12"}),c.jsx("path",{d:"M8 7L3 12L8 17"})]})]})})}function pct(){return(Px()?"⌘":"Ctrl")+" K"}function mct({children:e,sideOffset:t,className:n}){return c.jsx(pt,{sideOffset:t,className:n,label:c.jsxs("div",{children:[c.jsx(S,{id:"jmd8WH",defaultMessage:"Search chats"}),c.jsx("div",{className:"text-sm font-normal text-token-text-secondary",children:pct()})]}),children:e})}function gct(e){const t=new AbortController,n=t.signal;let r=!1;function s(i){if(r)return;const{checkElement:l,onLightDismiss:u}=e.current;!yA(i.target,l)&&!vct(i.target)&&u()}function o(i){const{checkElement:l}=e.current;r=yA(i.target,l)}function a(i){const{onLightDismiss:l}=e.current;i.key==="Escape"&&l()}return document.addEventListener("mousedown",o,{signal:n}),document.addEventListener("mouseup",s,{signal:n}),document.addEventListener("keydown",a,{signal:n}),()=>{t.abort()}}function vct(e){return"getAttribute"in e?e.getAttribute("role")==="menuitem":!1}function yA(e,t){if(!e)return!1;let n=e;for(;n!=null;){if(t(n))return!0;n=n.parentElement}return!1}function yct({onLightDismiss:e,checkElement:t,enabled:n}){const r=p.useRef({onLightDismiss:e,checkElement:t});r.current={onLightDismiss:e,checkElement:t},p.useEffect(()=>{if(n)return gct(r)},[n])}const bct=Oe(()=>Ie(()=>import("./ckldclsbr1wwj07c.js"),__vite__mapDeps([82,1,2,3,83,62,84])).then(e=>e.FannyPackIconButton));function xct(e){return e&&getComputedStyle(e)?.getPropertyValue("--sidebar_should_light_dismiss")==="1"}function ayt({onNewThread:e}){const t=V(),n=p.useRef(null),{store:r,actions:s}=e1(),o=r(g=>g.isSidebarOpen),a=r(g=>g.mode),{isSidebarFlyoutOpen:i}=q5(),l=i(ja.Conversation),u=i(ja.Gizmo),d=i(ja.Conversation2),f=o&&!l&&!u&&!d;function h(){xct(n.current)&&s.closeSidebar()}yct({checkElement:g=>g?.tagName==="NAV",enabled:f,onLightDismiss:h});const{isFannyPackEnabled:m}=__();return es(),c.jsxs(c.Fragment,{children:[c.jsx(ly,{type:"primary",className:O(Dr.screenHeader),name:"sidebar-header",children:c.jsxs("div",{className:"flex min-h-[var(--screen-thread-header-min-height,60px)] w-full flex-1 items-center justify-between",ref:n,children:[c.jsx("div",{className:"grid items-center gap-1",children:c.jsx(E5,{className:O(Dr.closeSidebarAction),style:{viewTransitionName:"var(--vt_toggle_sidebar_opened)"},onActivate:g=>{_c.closeSidebar(g,s,a)},icon:c.jsxs(c.Fragment,{children:[c.jsx(V$,{className:O(Dr.sidebarIcon,"hidden @lg/screen-composer:inline-flex")}),c.jsx(G$,{className:O(Dr.sidebarIcon,"@xs/screen-composer:inline-flex @lg/screen-composer:hidden")})]}),label:t.formatMessage($v.closeSidebar),htmlFor:Gr.OpenOrClosed,tooltipSideOffset:4})}),c.jsxs("div",{className:"flex items-center",children:[!1,m&&c.jsx(mct,{children:c.jsx(bct,{className:Dr.searchAction,icon:c.jsx(WU,{className:Dr.sidebarIcon})})}),c.jsx(pt,{label:t.formatMessage($v.newChat),children:c.jsx(si,{to:"/",onClick:g=>{g.preventDefault(),e()},tabIndex:-1,children:c.jsx(ySe,{icon:c.jsx(M$,{style:{viewTransitionName:"var(--vt_new_chat_sidebar)"},className:Dr.sidebarIcon}),className:Dr.searchAction,label:t.formatMessage($v.newChat)})})})]})]})}),c.jsx(ly,{type:"primary",className:Dr.bucketBar,disableSizeTracking:!0,children:" "})]})}const $v=Q({newChat:{id:"NUNaGU",defaultMessage:"New chat"},closeSidebar:{id:"fM0vj3",defaultMessage:"Close Sidebar"}});function iyt(){const{clientThreadId:e,currentModelId:t,isCompanionWindow:n}=ji();return c.jsx(l3e,{conversationId:e,currentModelId:t,isActiveWindow:!n})}export{qft as $,Ho as A,Ai as B,Hh as C,IO as D,Ye as E,bCe as F,$mt as G,ZL as H,HL as I,z1e as J,$1e as K,Xp as L,th as M,iCe as N,Mk as O,Rs as P,tr as Q,CCe as R,l9 as S,k as T,Re as U,On as V,mn as W,zft as X,Kft as Y,sht as Z,Xft as _,qU as a,Wht as a$,TCe as a0,lx as a1,nh as a2,nm as a3,rCe as a4,nCe as a5,Qft as a6,Nt as a7,j1e as a8,Z1e as a9,Iot as aA,Oot as aB,Got as aC,En as aD,Uut as aE,Vx as aF,VMe as aG,cI as aH,jft as aI,Aht as aJ,Agt as aK,__ as aL,u4 as aM,Ngt as aN,Rgt as aO,Hat as aP,Eo as aQ,Ar as aR,N0e as aS,dft as aT,xht as aU,W$ as aV,T0e as aW,x0e as aX,zht as aY,I2 as aZ,KTe as a_,Aa as aa,Br as ab,eht as ac,cCe as ad,wCe as ae,VL as af,UL as ag,jL as ah,Zft as ai,Wo as aj,oc as ak,dx as al,qlt as am,_n as an,Oi as ao,Un as ap,ly as aq,oh as ar,nmt as as,YIe as at,np as au,Wot as av,la as aw,jot as ax,Dot as ay,hi as az,A$e as b,Xe as b$,HTe as b0,Vht as b1,kS as b2,Ght as b3,Kh as b4,Gv as b5,Zn as b6,Bht as b7,vV as b8,i2 as b9,Ogt as bA,N_ as bB,Hx as bC,tct as bD,nct as bE,mct as bF,HY as bG,pct as bH,sl as bI,glt as bJ,kgt as bK,jht as bL,ySe as bM,mlt as bN,J as bO,RS as bP,Dn as bQ,Txe as bR,Pft as bS,Uft as bT,Qp as bU,SF as bV,fOe as bW,er as bX,rr as bY,Ua as bZ,D_e as b_,FTe as ba,$3 as bb,fMe as bc,an as bd,Spt as be,Bl as bf,fi as bg,im as bh,$l as bi,k2 as bj,xn as bk,$a as bl,ot as bm,h4 as bn,mV as bo,hdt as bp,tI as bq,rI as br,$$e as bs,Dke as bt,di as bu,Hd as bv,f2 as bw,Yht as bx,Uht as by,Zit as bz,uut as c,Kwe as c$,We as c0,xIe as c1,amt as c2,hm as c3,zp as c4,AIe as c5,Ixe as c6,we as c7,ki as c8,wIe as c9,zS as cA,$pt as cB,U_e as cC,N_e as cD,W_e as cE,Go as cF,Eht as cG,sh as cH,kht as cI,Pht as cJ,Yat as cK,qat as cL,Kat as cM,M3 as cN,Mpt as cO,Kvt as cP,$vt as cQ,bIe as cR,Qvt as cS,Yh as cT,px as cU,ft as cV,op as cW,nl as cX,qmt as cY,x1 as cZ,EDe as c_,Xwe as ca,rl as cb,vft as cc,$r as cd,Jct as ce,vgt as cf,O3 as cg,ygt as ch,ggt as ci,cpt as cj,Cmt as ck,uG as cl,I_ as cm,iI as cn,Hgt as co,tA as cp,Xs as cq,l2 as cr,a3 as cs,uL as ct,Egt as cu,pm as cv,aA as cw,zRe as cx,HRe as cy,fI as cz,jpt as d,Dl as d$,Id as d0,Wl as d1,Pi as d2,bDe as d3,Xdt as d4,Zdt as d5,Ydt as d6,Hxe as d7,zdt as d8,Jdt as d9,bj as dA,Sj as dB,xj as dC,wj as dD,vhe as dE,Phe as dF,Qut as dG,sdt as dH,odt as dI,adt as dJ,rdt as dK,Xut as dL,edt as dM,tdt as dN,ndt as dO,Tj as dP,mj as dQ,DD as dR,Mj as dS,Kut as dT,umt as dU,dmt as dV,fmt as dW,$_ as dX,zs as dY,E3 as dZ,hmt as d_,kTe as da,Qlt as db,Jmt as dc,Alt as dd,lI as de,Cht as df,Tht as dg,vTe as dh,yTe as di,Ol as dj,$gt as dk,pr as dl,ldt as dm,udt as dn,X0 as dp,Zut as dq,Jut as dr,jc as ds,ro as dt,ohe as du,Dc as dv,Wue as dw,idt as dx,cdt as dy,J0 as dz,Dpt as e,Elt as e$,mdt as e0,To as e1,wfe as e2,zgt as e3,xmt as e4,Hlt as e5,zlt as e6,iut as e7,ymt as e8,u3 as e9,Clt as eA,Emt as eB,Flt as eC,Blt as eD,yht as eE,_lt as eF,hV as eG,M_ as eH,dn as eI,pmt as eJ,nNe as eK,jS as eL,C4 as eM,Qgt as eN,Xgt as eO,Zgt as eP,jV as eQ,cut as eR,Mlt as eS,bpt as eT,Kp as eU,Tlt as eV,bft as eW,DV as eX,Slt as eY,aut as eZ,m_e as e_,a9 as ea,bht as eb,Jlt as ec,eut as ed,dG as ee,dTe as ef,tut as eg,Vo as eh,Klt as ei,vht as ej,Hvt as ek,FV as el,vmt as em,Yut as en,Pot as eo,_gt as ep,K$e as eq,Cke as er,Sgt as es,Lt as et,Qct as eu,olt as ev,GO as ew,flt as ex,dlt as ey,Zlt as ez,L_e as f,u0e as f$,P5 as f0,Vgt as f1,oat as f2,Lgt as f3,Bgt as f4,Fgt as f5,Ugt as f6,k5 as f7,jgt as f8,Dgt as f9,fgt as fA,Dvt as fB,jvt as fC,Hdt as fD,Lvt as fE,Fvt as fF,cMe as fG,aV as fH,U3 as fI,Igt as fJ,Vvt as fK,Bvt as fL,Uvt as fM,tvt as fN,JO as fO,yc as fP,Pgt as fQ,Jc as fR,c9 as fS,wmt as fT,Rlt as fU,zmt as fV,oA as fW,V4 as fX,O$e as fY,d0e as fZ,xs as f_,T3 as fa,Gvt as fb,eyt as fc,jit as fd,zvt as fe,Ylt as ff,Ygt as fg,Ult as fh,hTe as fi,Vhe as fj,sLe as fk,eLe as fl,vlt as fm,uk as fn,Gxe as fo,qot as fp,Ba as fq,iF as fr,elt as fs,Zct as ft,jlt as fu,Nvt as fv,Ivt as fw,Cgt as fx,Ppt as fy,Rvt as fz,N7 as g,bN as g$,uft as g0,Tpt as g1,mht as g2,SDe as g3,I0e as g4,oft as g5,Qwe as g6,hft as g7,rje as g8,RV as g9,Os as gA,qe as gB,nlt as gC,slt as gD,tp as gE,evt as gF,Avt as gG,ght as gH,p_e as gI,xvt as gJ,Vdt as gK,fht as gL,hht as gM,wpt as gN,qg as gO,fft as gP,jut as gQ,nN as gR,Kz as gS,Dut as gT,jz as gU,$ut as gV,xI as gW,Xr as gX,As as gY,Is as gZ,fut as g_,jTe as ga,ugt as gb,Dmt as gc,zU as gd,_o as ge,rp as gf,ep as gg,oV as gh,gV as gi,M7 as gj,j1 as gk,ns as gl,gft as gm,_ct as gn,kw as go,lO as gp,Tt as gq,me as gr,Tct as gs,_w as gt,Act as gu,Q$ as gv,Mct as gw,sgt as gx,Cct as gy,xo as gz,H_e as h,cTe as h$,Le as h0,l0 as h1,Put as h2,Ez as h3,_C as h4,Mut as h5,TC as h6,Mz as h7,kut as h8,vut as h9,Fut as hA,But as hB,hut as hC,Lut as hD,dut as hE,iht as hF,Jp as hG,dCe as hH,R1e as hI,uht as hJ,aht as hK,rht as hL,nht as hM,as as hN,dht as hO,oht as hP,Jft as hQ,w1e as hR,DL as hS,cht as hT,G1e as hU,BCe as hV,yft as hW,VS as hX,s_e as hY,wht as hZ,Sht as h_,gut as ha,Pz as hb,kz as hc,but as hd,Eut as he,mut as hf,Iut as hg,yut as hh,Tut as hi,SN as hj,Zr as hk,Nut as hl,Yz as hm,Rut as hn,yN as ho,ir as hp,Et as hq,sn as hr,put as hs,Out as ht,KH as hu,Aut as hv,Ts as hw,wut as hx,xut as hy,Cut as hz,j_e as i,Bft as i$,pht as i0,nI as i1,r0e as i2,OTe as i3,iV as i4,tl as i5,xft as i6,wft as i7,ATe as i8,_F as i9,Wpt as iA,Jpt as iB,Rpt as iC,Kpt as iD,oOe as iE,y_ as iF,mmt as iG,imt as iH,lmt as iI,cmt as iJ,p0e as iK,Ovt as iL,tyt as iM,iyt as iN,Jvt as iO,Rht as iP,qvt as iQ,Yvt as iR,bF as iS,v_ as iT,L$e as iU,yx as iV,Tu as iW,Zvt as iX,emt as iY,Xvt as iZ,gn as i_,sOe as ia,UF as ib,Ypt as ic,_pt as id,q$e as ie,G$e as ig,QOe as ih,U$e as ii,tOe as ij,V$e as ik,zOe as il,Npt as im,Zpt as io,Xpt as ip,Opt as iq,Ipt as ir,Hpt as is,Gpt as it,Upt as iu,Bpt as iv,Vpt as iw,Lpt as ix,Fpt as iy,Qpt as iz,Se as j,oyt as j$,Vft as j0,Wft as j1,Hft as j2,O_e as j3,Gft as j4,v_e as j5,y_e as j6,Bw as j7,WMe as j8,$o as j9,LD as jA,x5 as jB,Fst as jC,mot as jD,F9 as jE,apt as jF,z$e as jG,xF as jH,Dlt as jI,NMe as jJ,B3 as jK,sNe as jL,cct as jM,z5 as jN,ryt as jO,yat as jP,omt as jQ,Wdt as jR,Vw as jS,pa as jT,q5 as jU,ja as jV,ict as jW,Jgt as jX,syt as jY,e1 as jZ,E5 as j_,cgt as ja,lgt as jb,T4 as jc,igt as jd,Fmt as je,Bmt as jf,FS as jg,lht as jh,clt as ji,UO as jj,lV as jk,Nct as jl,z_ as jm,R0e as jn,SL as jo,_L as jp,bmt as jq,Vat as jr,Lat as js,Pct as jt,$ct as ju,Lv as jv,Cw as jw,QLe as jx,j9 as jy,Gdt as jz,Te as k,xlt as k$,_c as k0,Bt as k1,Gr as k2,nyt as k3,uct as k4,Wvt as k5,ayt as k6,xct as k7,tPe as k8,a8 as k9,Fs as kA,Plt as kB,nut as kC,rut as kD,So as kE,LV as kF,Gut as kG,Wut as kH,sft as kI,e0e as kJ,P_ as kK,smt as kL,A_ as kM,Apt as kN,o_ as kO,HIe as kP,Mi as kQ,rft as kR,Jwe as kS,aft as kT,d8 as kU,Wg as kV,V1 as kW,Cs as kX,Wxe as kY,h8 as kZ,zxe as k_,M2 as ka,n0e as kb,vvt as kc,ngt as kd,fdt as ke,pdt as kf,$se as kg,Y$ as kh,jn as ki,Nke as kj,vF as kk,g_ as kl,xu as km,sDe as kn,C$e as ko,l3 as kp,gDe as kq,z4 as kr,l0e as ks,wh as kt,lft as ku,m_ as kv,Kgt as kw,NO as kx,Vlt as ky,Xlt as kz,YO as l,pG as l$,$V as l0,egt as l1,WLe as l2,tgt as l3,tmt as l4,Afe as l5,spt as l6,hMe as l7,Ni as l8,npt as l9,Lft as lA,gm as lB,Amt as lC,v4 as lD,x4 as lE,m5 as lF,Omt as lG,Nht as lH,xe as lI,$ht as lJ,vIe as lK,out as lL,Ggt as lM,Wgt as lN,V3 as lO,RIe as lP,Zwe as lQ,hh as lR,l4 as lS,Mw as lT,Oht as lU,Iht as lV,Ul as lW,Llt as lX,kft as lY,nG as lZ,plt as l_,rpt as la,opt as lb,tpt as lc,ept as ld,Pfe as le,OD as lf,Rg as lg,jfe as lh,Dfe as li,ui as lj,wgt as lk,Cot as ll,iA as lm,aNe as ln,qpt as lo,BOe as lp,jOe as lq,$ft as lr,Ilt as ls,Aft as lt,Rft as lu,Nft as lv,Oft as lw,Ift as lx,Dft as ly,g_e as lz,ji as m,dO as m$,mNe as m0,ZNe as m1,O_ as m2,iNe as m3,Lmt as m4,Mft as m5,Lht as m6,Fht as m7,Gmt as m8,Umt as m9,ITe as mA,Eft as mB,Vmt as mC,dgt as mD,xgt as mE,mgt as mF,pgt as mG,hgt as mH,Tke as mI,zut as mJ,_ft as mK,rG as mL,Nlt as mM,Tgt as mN,dt as mO,rlt as mP,Xf as mQ,RDe as mR,wlt as mS,KRe as mT,Lct as mU,N$e as mV,vpt as mW,lF as mX,uh as mY,mpt as mZ,vDe as m_,ZTe as ma,wP as mb,qOe as mc,Z7 as md,cNe as me,lNe as mf,Jht as mg,Qmt as mh,Hmt as mi,on as mj,kke as mk,Xmt as ml,tF as mm,ypt as mn,Lke as mo,vRe as mp,rgt as mq,G3 as mr,YMe as ms,h_ as mt,nje as mu,JTe as mv,eMe as mw,bgt as mx,oDe as my,Dht as mz,MS as n,mft as n$,lut as n0,jmt as n1,Wmt as n2,rA as n3,Glt as n4,XRe as n5,Nmt as n6,kmt as n7,Rmt as n8,Imt as n9,Tmt as nA,Mgt as nB,KMe as nC,yI as nD,lpt as nE,upt as nF,nvt as nG,qgt as nH,rvt as nI,$O as nJ,xpt as nK,cvt as nL,avt as nM,ivt as nN,zot as nO,lvt as nP,ol as nQ,$5 as nR,klt as nS,gvt as nT,L5 as nU,fV as nV,_vt as nW,llt as nX,sV as nY,Zht as nZ,yvt as n_,Ymt as na,Kmt as nb,Dct as nc,agt as nd,Mke as ne,D$e as nf,Ept as ng,Rct as nh,jct as ni,ogt as nj,gpt as nk,$lt as nl,Olt as nm,Smt as nn,_mt as no,Nst as np,Qb as nq,Al as nr,r_ as ns,kpt as nt,alt as nu,ilt as nv,ZO as nw,hlt as nx,Mmt as ny,aMe as nz,wt as o,Ur as o$,Hut as o0,Cvt as o1,Tvt as o2,Vut as o3,UN as o4,sit as o5,tlt as o6,Zmt as o7,svt as o8,pft as o9,qxe as oA,Kxe as oB,bit as oC,l3e as oD,gmt as oE,q7 as oF,ex as oG,Nz as oH,Fv as oI,jw as oJ,F$e as oK,wG as oL,df as oM,Wh as oN,Iw as oO,Ddt as oP,Hct as oQ,Y7 as oR,Sut as oS,Yf as oT,Ps as oU,Oct as oV,Kb as oW,Wct as oX,V8 as oY,r8 as oZ,zct as o_,Dxe as oa,LTe as ob,cIe as oc,mvt as od,Xht as oe,Evt as of,ult as og,ovt as oh,wvt as oi,v2e as oj,kit as ok,Svt as ol,uvt as om,dvt as on,bvt as oo,pvt as op,fvt as oq,hvt as or,ddt as os,ylt as ot,Xct as ou,d5 as ov,kvt as ow,tV as ox,Hot as oy,Pvt as oz,Pmt as p,gdt as p$,Uct as p0,Vct as p1,Fct as p2,ipt as p3,Bct as p4,Tw as p5,Kn as p6,Uv as p7,Gct as p8,T7 as p9,Dk as pA,SEe as pB,_we as pC,HU as pD,W7 as pE,qut as pF,Kdt as pG,qdt as pH,Er as pI,Qdt as pJ,cft as pK,Dd as pL,Ldt as pM,Qbe as pN,eft as pO,UD as pP,blt as pQ,Q7 as pR,oe as pS,Fdt as pT,Fhe as pU,Upe as pV,Sdt as pW,bdt as pX,BD as pY,wdt as pZ,FD as p_,qct as pa,EO as pb,Yct as pc,kct as pd,Ict as pe,Kct as pf,Dv as pg,Ect as ph,Cpt as pi,oO as pj,YU as pk,KU as pl,W3 as pm,dpt as pn,ppt as po,fpt as pp,Tn as pq,X3 as pr,Y3 as ps,_x as pt,hpt as pu,Fk as pv,XEe as pw,Bk as px,HEe as py,Lk as pz,oNe as q,ydt as q0,xdt as q1,Vp as q2,Mdt as q3,Cdt as q4,WD as q5,Tdt as q6,_dt as q7,VD as q8,zhe as q9,qht as qA,hwe as qB,w2 as qC,IS as qD,wwe as qE,xwe as qF,tft as qG,mk as qH,BTe as qI,ift as qJ,Ewe as qK,Wlt as qL,nft as qM,Hg as qN,Mvt as qO,Hp as qa,$dt as qb,kdt as qc,Pdt as qd,vdt as qe,ff as qf,Bdt as qg,Edt as qh,Udt as qi,Adt as qj,Rdt as qk,Whe as ql,Idt as qm,GD as qn,Odt as qo,Ndt as qp,jdt as qq,HNe as qr,s8 as qs,ko as qt,qRe as qu,Qht as qv,Kht as qw,Hht as qx,bxe as qy,UTe as qz,N3 as r,yw as s,Sr as t,rO as u,sut as v,x1e as w,Rl as x,ar as y,BL as z};
//# sourceMappingURL=n7b9v4lgoh59xuao.js.map
