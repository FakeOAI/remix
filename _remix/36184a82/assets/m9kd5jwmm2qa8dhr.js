const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/hdu7t6sgrin8yyos.js","assets/gqk04r9jqxgk1fuf.js","assets/olate5wy2a07kgm1.js","assets/root-iyy7fkju.css","assets/bvux01ty55bzko7v.js","assets/okv24cvs8lpt2l22.js","assets/conversation-small-jqsgx5dg.css","assets/d4s133bdyohd0bus.js","assets/mpg5c7t376f6g9ew.js","assets/jv40wtzlpqziymj5.js","assets/nhoj0i4qhmeiqsw2.js","assets/bzo9ozzwwkt1raxk.js","assets/cfxsgqkuminflkcv.js","assets/ejdvc39ztqwpuhlq.js","assets/elcbiojrnt939rks.js"])))=>i.map(i=>d[i]);
import{j as e,ao as D,ap as A,r as l,aU as B,eb as n,ak as T,J as z,aq as $,cU as K,S as G,I as J}from"./gqk04r9jqxgk1fuf.js";import{fr as E,fs as U,ft as Q,cf as Z,fu as X,bK as Y,fv as ee,fw as O,fx as se,fy as ae,ch as ne,fz as te,fA as y,fB as re,fC as oe,fD as ie,fE as ce,fF as de,fG as le,T as he,bk as ue,bf as me,bg as Ce,ce as xe,fH as fe,fI as pe,fJ as q,fK as Te,aq as b,fL as ve,cc as ge,ek as je,bN as Se,fM as Ie,m as we,fN as Ne,fO as ye,fP as be,fQ as Ee,bx as Le,fR as Me,fS as _e,fT as ke,cv as He,fU as Fe,fV as F,fd as Pe,fe as Re}from"./okv24cvs8lpt2l22.js";import{S as De,E as Ae,C as P,a as Be,b as Ue}from"./d4s133bdyohd0bus.js";import{K as Oe}from"./olate5wy2a07kgm1.js";import{C as qe}from"./j93hpv659v7dvoc3.js";function Ve({clientThreadId:s,currentModelId:o,isModelLoaded:a,onRequestCompletion:r,v2HomepageDisclaimer:t}){return e.jsx(De,{clientThreadId:s,currentModelId:o,isModelLoaded:a,onRequestCompletion:r,v2HomepageDisclaimer:t})}const We=D(()=>A(()=>import("./hdu7t6sgrin8yyos.js"),__vite__mapDeps([0,1,2,3,4,5,6])).then(s=>s.ChatScreenContentModals));function ze({disableEmptyState:s,fullWidth:o}){const{clientThreadId:a,currentModelId:r,conversationLeafId:t,isCompanionWindow:h,isEmbeddedInFocusedView:d,onChangeItemInView:u,onChangeRating:C,onRequestCompletion:i,onRequestMoreCompletions:m,isModelLoaded:x,prefetchSearch:S}=l.useContext(E),f=U(a,t),v=Q(a),p={clientThreadId:a,conversationLeafId:t,currentModelId:r,onChangeItemInView:u,onChangeRating:C,onRequestMoreCompletions:m,onRequestCompletion:i,showAvatar:!1},I=Z(a),w=X({clientThreadId:a,currentLeafId:t,handleRequestCompletion:i,prefetchSearchPromise:S}),g=I||w||s,j=Y(),{initialConversationTurns:L,continuedConversationTurns:M}=ee(f,j),{canUseNewHomepage:_,showEmptyState:k}=O({clientThreadId:a,currentLeafId:t}),V=f>=2;se(V);const{setTargetedContent:H}=ae(),W=ne(r);if(te(()=>{le(),he.updateScrollToMessageId(a,"finalAgentTurn")}),l.useEffect(()=>{d||H(void 0)},[a,H,d]),_&&k&&!g){const c=h?null:e.jsx("div",{className:"text-center text-xs text-token-text-secondary",children:e.jsx(y,{clientThreadId:a})});return e.jsx(Ve,{clientThreadId:a,currentModelId:r,isModelLoaded:x,onRequestCompletion:i,v2HomepageDisclaimer:c})}else if(!_&&k&&!g)return e.jsx(Ae,{clientThreadId:a,currentModelId:r,isModelLoaded:x,onRequestCompletion:i,enableV2Homepage:!W,v2HomepageDisclaimer:e.jsx(y,{clientThreadId:a})});return e.jsxs(e.Fragment,{children:[j&&e.jsx(re,{}),j&&M.length===0&&e.jsx(oe,{}),e.jsx(B,{children:e.jsxs(l.Suspense,{fallback:null,children:[e.jsx(ie,{}),L.length>0&&e.jsx("ol",{className:n.conversationTurnList,children:L.map(({turnIndex:c,isFinalTurn:N})=>e.jsx("li",{className:T(n.conversationTurnWrapper,o&&"w-full"),children:l.createElement(P,{...p,key:`${a}-${c}`,turnIndex:c,isFinalTurn:N,scrollToMessageId:v})},c))}),j&&e.jsx(ce,{}),e.jsx("ol",{className:n.conversationTurnList,children:M.map(({turnIndex:c,isFinalTurn:N})=>e.jsx("li",{className:T(n.conversationTurnWrapper,o&&"w-full"),children:l.createElement(P,{...p,key:`${a}-${c}`,turnIndex:c,isFinalTurn:N,scrollToMessageId:v})},c))})]})}),e.jsx(We,{}),f>0&&e.jsx(de,{})]})}function $e(){return e.jsx(ze,{})}const Ke=D(()=>A(()=>import("./d4s133bdyohd0bus.js").then(s=>s.c),__vite__mapDeps([7,1,2,3,5,6,8,9,10,11,12,13,14])).then(s=>s.ChatScreenComposerAlerts));function Ge(){const{clientThreadId:s,currentModelId:o,isCompanionWindow:a,onRequestCompletion:r}=l.useContext(E),t=ue(s),h=me(s),d=U(s,h),u=d>=2,C=Ce(s,h),i=xe(s)&&!u&&fe(t);pe(d,s,h,i);const{setComposerFooterElement:m}=l.useContext(q);return e.jsx("div",{className:n.footer,children:e.jsxs(Te,{style:{"--bar-gap":"0.5rem","--bar-background-color":"transparent"},children:[e.jsxs(b,{type:"secondary",className:"relative",children:[u&&e.jsx(ve,{className:n.scrollButton}),e.jsx(Ke,{})]}),e.jsxs(b,{type:"primary",ref:m,name:"composer-bar",children:[e.jsx(Be,{clientThreadId:s,currentModelId:o,isNewThread:i,noWrap:!0,onRequestCompletion:r,showPromptStarters:i||!C}),!a&&e.jsx("div",{className:"text-center text-xs text-token-text-secondary",children:e.jsx(y,{clientThreadId:s})})]})]})})}function Je(){const s=z(),{clientThreadId:o,isLoggedInUser:a,onNewThread:r}=l.useContext(E);return ge(o),e.jsxs(b,{leading:!0,type:"primary",className:n.header,children:[e.jsxs("div",{className:n.headerLeading,children:[a&&e.jsx(je,{}),e.jsx($,{label:s.formatMessage(R.newChat),className:"hidden @lg/screen-composer:inline-flex",children:e.jsx(K,{to:"/",className:n.newThread,onClick:t=>{r?(t.preventDefault(),r()):G.logEvent("chatgpt_web_thread_tap_new_thread")},tabIndex:0,children:e.jsx(Se,{className:T(n.sidebarIcon),icon:e.jsx(Oe,{}),tabIndex:-1,label:s.formatMessage(R.newChat),style:{viewTransitionName:"var(--vt_new_chat_thread)"}})})}),e.jsx("div",{className:n.threadDropdown,children:e.jsx(Ie,{clientThreadId:o})})]}),e.jsx("div",{className:n.headerTrailing,children:e.jsx(B,{children:e.jsx(Ue,{clientThreadId:o})})})]})}const R=J({newChat:{id:"rnCpM4",defaultMessage:"New Chat"}});function ss({hideHeader:s=!1,hideFooter:o=!1,hideTools:a=!1,embedded:r=!1}){const{clientThreadId:t,currentModelId:h,conversationLeafId:d,isCompanionWindow:u,isInstalledApp:C,onRequestCompletion:i}=we(),{canUseNewHomepage:m,showEmptyState:x}=O({clientThreadId:t,currentLeafId:d}),S=Ne()[h],[f,v]=ye({name:"composer-bar",track:"height"}),p=be(t),I=Ee(),{isOpen:w}=Le(),g=o||x&&m;return e.jsx(Me.Provider,{value:i,children:e.jsx(_e,{children:e.jsxs(ke,{clientThreadId:t,currentLeafId:d,children:[e.jsx(He,{children:p!=null&&e.jsx("title",{children:p})}),e.jsx(Fe,{clientThreadId:t,className:T(r&&"h-full","flex-1"),currentModelConfig:S,children:e.jsx(q.Provider,{value:{setComposerFooterElement:v},children:e.jsxs("div",{className:"h-full",style:{container:"thread-container / inline-size"},children:[e.jsx(F,{id:"canvas-state",name:"canvas-state",checked:I}),e.jsx(F,{id:"thread-extended-info-sidebar-state",name:"thread-extended-info-sidebar-state",checked:w}),e.jsx(Pe,{anchor:"vertical",className:T(n.screen,x&&m&&n.screenEmptyState,u&&n.screenCompanionWindow,C&&n.screenInstalledApp,r&&n.screenEmbedded),name:"thread",leading:!s&&e.jsx(Je,{}),style:f,trackLeading:!0,trackTrailing:!0,trailing:!g&&e.jsx(Ge,{}),children:e.jsx($e,{})}),!u&&!a&&e.jsxs(e.Fragment,{children:[e.jsx(qe,{}),e.jsx(Re,{})]})]})})})]})})})}export{ss as C};
//# sourceMappingURL=m9kd5jwmm2qa8dhr.js.map
