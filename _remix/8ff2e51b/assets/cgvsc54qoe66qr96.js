import{u as d,r as a,aQ as p,aR as h,j as t,cO as u,aN as c,R as l}from"./akpsmk6cb1cg4zar.js";import{a as f,b as S}from"./h2909ffmjnojuzpi.js";import{l as x,T}from"./j92d0uykuhvxtukf.js";import{u as g}from"./c3g7kpauwjn8f4qi.js";import"./kad6c5t9gqqe4h5y.js";import"./lkkkyobzvsxmgpd5.js";import"./g39shxtad7atpc8r.js";import"./g5kkvpknp0ak80ql.js";import"./epyo27k8zthonvht.js";import"./lie5p3zp6olp9h8s.js";import"./elyve5qg9n76v78m.js";import"./dr8d92eo6cyb09jp.js";import"./j5lwlyt0bq8j87is.js";import"./f71t2rmfpx5mzz7a.js";import"./if4w7u95kxtmlu1f.js";import"./ba9vhu1ihmnm1y0s.js";import"./bspra4fstr4kctuh.js";import"./c7bohk5r5avb9x78.js";import"./abgn3sly1sqe3fbe.js";import"./5dbt31nt3vcrt36k.js";import"./jb5bnfgj8bzwzr7b.js";import"./jmgpa4hppmvzybr5.js";import"./fqyu8fritcih1t0d.js";import"./d34x23utztd7sjir.js";import"./jif11rgr2ivk3p4o.js";import"./egvqv4sxhxtmxvwf.js";import"./j5wr75dt9r3h8gqd.js";import"./m2bx9nqbg7b16316.js";import"./kixb5tmoxjtxdip3.js";import"./jsu3ssidphcotu8g.js";import"./buflaqq6gkjv59fr.js";function v(r){const i=r.sharedConversationId,{data:e,isError:s}=d({queryKey:[`shared-conversation/${i}`],queryFn:()=>l.getAuthedSharedConversation(i)}),[o]=a.useState(()=>x()),[n,m]=a.useState(!1);return a.useEffect(()=>{s&&(window.location.href=p(h.SHARE_NOT_FOUND))},[s]),a.useEffect(()=>{e&&o&&(T.initThreadFromServerData(o,e,!0,i),m(!0))},[e,i,o]),n?r.continueMode?t.jsx(f,{...r.chatPageProps,clientThreadId:o}):t.jsx(u.Provider,{value:{serverSharedThreadId:i,isIndexable:!1},children:t.jsx(S,{clientThreadId:o,setClientThreadId:()=>{},initiallyHighlightedMessageId:e==null?void 0:e.highlighted_message_id,continueConversationUrl:e==null?void 0:e.continue_conversation_url})}):t.jsx("div",{className:"flex h-full items-center justify-center",children:t.jsx(c,{className:"text-token-text-tertiary"})})}function Y(){const r=g();return t.jsx(v,{...r})}export{Y as default};
//# sourceMappingURL=cgvsc54qoe66qr96.js.map
