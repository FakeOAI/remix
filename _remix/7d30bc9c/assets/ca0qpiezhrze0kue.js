import{r as u,dO as B,H as T,eQ as F,ay as O,j as e,K as g,P as h,aF as C,eR as E,aG as j,C as I,z as M,A as N,ak as P,ei as U,aO as W,c as z,N as D,X as G,ba as R,aD as H,aC as S,aH as q,db as K}from"./ntq5iea1ifpghbh4.js";import{T as V,m as X,L as $}from"./vv7jwycqpvsrhz0e.js";import{C as Q}from"./htcfumrvkogz8ojx.js";import{c as Y}from"./da9emovwt1a5rjij.js";import{b_ as J,a0 as Z,aY as y}from"./dsu6tzr1kwqiabf1.js";import{u as ee}from"./ntrxic9x0t9ro0fh.js";import"./nf0qvn7pzl3qf9lm.js";import"./fsddy3bxlesj6ecw.js";import"./isjdmfmhzv09v01t.js";import"./kvw8la6c9wu9haqx.js";import"./2suora4w4t5kcn2e.js";import"./fs8mv9ym7ioqi7b7.js";function te(){const t=u.useContext(B);if(t===void 0)throw new Error("useIsElectron must be used within an AppRootContext.Provider");return t.isElectron}function ie({auth0Provider:t,enableNewAuthFlow:r,nextUrl:s,isStorageComplianceEnabled:o}){const f=T(),[a,i]=u.useState(!1),n=te(),{layer:v}=F("3637408529"),L=v.get("is_try_it_first_on_login_page_enabled",!1),w=J(),k=O(),b=Z(d.signUp),p=()=>{h.logLogInButtonClicked({provider:t,location:"Login page"}),a||setTimeout(()=>{i(!0)},500);const m=w();C.signIn(t,{callbackUrl:s},{prompt:"login",...y(j()),...m?{use_email_otp:"true"}:{}})};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"relative flex grow flex-col items-center justify-between bg-white px-5 py-8 text-black dark:bg-black dark:text-white sm:rounded-t-[30px] md:rounded-none md:px-6",children:[e.jsx("nav",{className:"flex w-full justify-start px-6 pb-8 md:hidden md:px-6 lg:px-8",children:e.jsx("h1",{"aria-label":f.formatMessage(d.ariaLabel),children:e.jsx("div",{className:"flex cursor-default items-center text-[20px] font-bold leading-none lg:text-[22px]",children:e.jsx("div",{children:V})})})}),e.jsxs("div",{className:"relative flex w-full grow flex-col items-center justify-center",children:[e.jsx("h2",{className:"text-center text-[20px] leading-[1.2] md:text-[32px] md:leading-8",children:e.jsx(g,{...d.pageTitle})}),e.jsx("div",{className:"mt-5 w-full max-w-[440px]",children:r?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex w-full flex-col gap-3",children:[e.jsx(x,{icon:`url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 48 48'%3E%3Cdefs%3E%3Cpath id='a' d='M44.5 20H24v8.5h11.8C34.7 33.9 30.1 37 24 37c-7.2 0-13-5.8-13-13s5.8-13 13-13c3.1 0 5.9 1.1 8.1 2.9l6.4-6.4C34.6 4.1 29.6 2 24 2 11.8 2 2 11.8 2 24s9.8 22 22 22c11 0 21-8 21-22 0-1.3-.2-2.7-.5-4z'/%3E%3C/defs%3E%3CclipPath id='b'%3E%3Cuse xlink:href='%23a' overflow='visible'/%3E%3C/clipPath%3E%3Cpath clip-path='url(%23b)' fill='%23FBBC05' d='M0 37V11l17 13z'/%3E%3Cpath clip-path='url(%23b)' fill='%23EA4335' d='M0 11l17 13 7-6.1L48 14V0H0z'/%3E%3Cpath clip-path='url(%23b)' fill='%2334A853' d='M0 37l30-23 7.9 1L48 0v48H0z'/%3E%3Cpath clip-path='url(%23b)' fill='%234285F4' d='M48 48L17 24l-4-3 35-10z'/%3E%3C/svg%3E")`,onClick:()=>{h.logLogInButtonClicked({provider:"google",location:"Login page"}),C.signIn("openai",{callbackUrl:s},{prompt:"login",login_hint:E({idp:"google"}),...y(j())})},children:e.jsx(g,{...d.continueWithGoogle})}),e.jsx(x,{icon:`url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='21' height='21'%3E%3Cpath fill='%23f25022' d='M1 1h9v9H1z'/%3E%3Cpath fill='%2300a4ef' d='M1 11h9v9H1z'/%3E%3Cpath fill='%237fba00' d='M11 1h9v9h-9z'/%3E%3Cpath fill='%23ffb900' d='M11 11h9v9h-9z'/%3E%3C/svg%3E")`,onClick:()=>{h.logLogInButtonClicked({provider:"microsoft",location:"Login page"}),C.signIn("openai",{callbackUrl:s},{prompt:"login",login_hint:E({idp:"microsoft"}),...y(j())})},children:e.jsx(g,{...d.continueWithMicrosoft})}),e.jsx("div",{className:"my-2 w-full border-t border-black/5"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(x,{blue:!0,className:"justify-center",onClick:()=>{h.logLogInButtonClicked({provider:"openai",location:"Login page"}),C.signIn("openai",{callbackUrl:s},{prompt:"login",login_hint:E({idp:"openai"}),...y(j())})},children:e.jsx(g,{...d.logIn})}),e.jsx(x,{blue:!0,className:"justify-center",onClick:()=>{h.logSignUpButtonClicked({provider:"openai",location:"Login page"}),C.signIn("openai",{callbackUrl:s},{prompt:"login",login_hint:E({idp:"openai",screen:"signup"}),...y(j())})},children:e.jsx(g,{...b})})]})]})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:`grid gap-x-3 gap-y-2 ${n?"mx-16 sm:grid-cols-1 sm:gap-y-4":"sm:grid-cols-2 sm:gap-y-0"}`,children:[e.jsx(x,{blue:!0,loading:a,testid:"login-button",onClick:p,children:e.jsx(g,{...d.logIn})}),n&&a&&e.jsx(x,{ghost:!0,testid:"login-tryagain-button",onClick:p,children:e.jsx(g,{...d.logInTryAgain})}),!n&&e.jsx(x,{blue:!0,testid:"signup-button",onClick:()=>{h.logSignUpButtonClicked({provider:"auth0",location:"Login page"}),I.setCookie(M.SignupRedirectUrl,s,{maxAge:60*60*3}),C.signIn(t,{callbackUrl:s},{prompt:"login",screen_hint:"signup",...y(j())})},children:e.jsx(g,{...b})})]})})}),L?e.jsx("a",{href:"#",className:"mt-12 text-token-text-secondary underline",onClick:m=>{m.preventDefault(),h.logEvent(N.authTryItFirstLinkClicked),P.logEvent("chatgpt_auth_try_it_first_link_clicked"),I.setCookie(M.HasClickedOnTryItFirstLink,!0,{maxAge:60*60*12}),k("/")},children:e.jsx(g,{...d.tryItFirst})}):null]}),e.jsxs("div",{className:"mt-10 flex flex-col justify-center",children:[e.jsx("div",{className:"flex justify-center text-gray-300 md:mb-3",children:e.jsx(U,{className:"h-[22px] w-auto"})}),e.jsx(Y,{isStorageComplianceEnabled:o})]})]})})}function x({icon:t,children:r,className:s,onClick:o,testid:f,blue:a=!1,ghost:i=!1,loading:n=!1}){return e.jsxs(W,{color:a?"blue":i?"ghost":"primary",loading:n,size:"large","data-testid":f,onClick:o,className:s,children:[t?e.jsx("div",{className:z("h-5 w-5 justify-self-start",{}),style:{backgroundImage:t}}):null,e.jsx("span",{children:r})]})}const d=D({pageTitle:{id:"Login.pageTitle",defaultMessage:"Get started"},ariaLabel:{id:"Login.ariaLabel",defaultMessage:"ChatGPT by OpenAI"},welcome:{id:"Login.welcome",defaultMessage:"Welcome to ChatGPT"},logIn:{id:"Login.logIn",defaultMessage:"Log in"},logInTryAgain:{id:"Login.logInTryAgain",defaultMessage:"Try again"},signUp:{id:"Login.signUp",defaultMessage:"Sign up"},continueWithGoogle:{id:"Login.continueWithGoogle",defaultMessage:"Continue with Google"},continueWithMicrosoft:{id:"Login.continueWithMicrosoft",defaultMessage:"Continue with Microsoft"},useDevAuth:{id:"Login.useDevAuth",defaultMessage:"Use dev auth"},useProdAuth:{id:"Login.useProdAuth",defaultMessage:"Use prod auth"},orTryAnotherWay:{id:"Login.orTryAnotherWay",defaultMessage:"Or try another way"},logInWithOpenAI:{id:"Login.logInWithOpenAI",defaultMessage:"Log in with your OpenAI account to continue"},tryItFirst:{id:"Login.tryItFirst",defaultMessage:"Try it first"}});function se({serviceStatus:t,auth0Provider:r,enableNewAuthFlow:s,cfConnectingIp:o,isStorageComplianceEnabled:f,statsigShowCapacityGate:a}){const i=G(),{next:n}=i.query;let v=typeof n=="string"&&n.startsWith("/")?n:"/";i.asPath.includes("#")&&(v+="#"+i.asPath.split("#")[1]);const L=T(),w=R(),k=!!(t!=null&&t.oof)||a===!0,b=u.useRef(!1),p="sso"in i.query?i.query.sso??!0:!1,m=p?i.query.connection:void 0,A=H("1977905538"),_=S(A.config.value);return u.useEffect(()=>{var c;if(p&&!k&&!A.isLoading){const l=(c=I.getCookie(M.DeviceId))==null?void 0:c.toString();C.signIn(p==="openai"?"openai":"auth0",{callbackUrl:v},{...l?{device_id:l}:{},...m?{connection:m}:{},...y(l),...q(_)})}},[v,p,m,k,_,A.isLoading]),u.useEffect(()=>{h.logEvent(N.loggedOutOpenedAuthLogin,{cfConnectingIp:o})},[o]),u.useEffect(()=>{window.location.hash==="#pricing"&&I.setCookie(M.ShowPaymentModal,!0,{maxAge:6*60*60})},[]),u.useEffect(()=>{if(b.current)return;b.current=!0;let{inv_ws_name:c,inv_email:l}=i.query;c=Array.isArray(c)?c[0]:c,l=Array.isArray(l)?l[0]:l,c&&l&&w.success(L.formatMessage(X.invitedToastMessage,{workspace_name:c,email:l}),{hasCloseButton:!0,duration:600})},[i.query,L,w]),k?e.jsx(Q,{}):p?null:e.jsx(ne,{auth0Provider:r,enableNewAuthFlow:s,nextUrl:v,isStorageComplianceEnabled:f})}const ne=({auth0Provider:t,enableNewAuthFlow:r,nextUrl:s,isStorageComplianceEnabled:o})=>e.jsxs(e.Fragment,{children:[e.jsx(oe,{auth0Provider:t,enableNewAuthFlow:r,nextUrl:s,isStorageComplianceEnabled:o}),!1]});function oe({auth0Provider:t,enableNewAuthFlow:r,nextUrl:s,isStorageComplianceEnabled:o}){const{resolvedTheme:f}=K(),a=f==="dark",i=u.useRef(null);return u.useEffect(()=>{i.current===null&&(i.current=document.body.style.backgroundColor);const n=a?"#00002E":"#FFFFDB";return document.body.style.backgroundColor=n,()=>{i.current!==null&&(document.body.style.backgroundColor=i.current)}},[a]),e.jsxs("div",{className:"flex min-h-full w-screen flex-col sm:supports-[min-height:100dvh]:min-h-[100dvh] md:grid md:grid-cols-2 lg:grid-cols-[60%_40%]",children:[e.jsx($,{}),e.jsx(ie,{auth0Provider:t,enableNewAuthFlow:r,nextUrl:s,isStorageComplianceEnabled:o})]})}function Ce(){const t=ee();return e.jsx(se,{...t})}export{Ce as default};
//# sourceMappingURL=ca0qpiezhrze0kue.js.map
