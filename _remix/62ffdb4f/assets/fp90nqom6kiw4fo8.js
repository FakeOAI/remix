const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/gi2hoqfj9stsk2p6.js","assets/ornmk1um6pytkf56.js","assets/gyt8ikkud27lp54m.js","assets/root-o6g0n1da.css","assets/iolwngj4r86yp6qr.js","assets/fl6q9z66k3fbh83y.js","assets/conversation-small-cll5buey.css","assets/q87lshoqcipac183.js","assets/c8zxz05g6fozv2d6.js","assets/lb77108t2pd7cmgz.js","assets/gtkn2sln66iaqe9r.js"])))=>i.map(i=>d[i]);
import{ab as y,ac as A,j as C,be as L,y as e,a4 as N,e6 as E,e7 as _,ae as p,a0 as T,r as u,$ as P,as as D,a1 as U,c5 as F}from"./ornmk1um6pytkf56.js";import{G as O}from"./djx3w9g8bqctvu1a.js";import{c2 as S,c3 as B,L as H,c4 as K,c5 as q,c6 as V,c7 as Q,c8 as W,a2 as Z,c9 as J,J as $,ca as v}from"./fl6q9z66k3fbh83y.js";import{p as R,f as X,m as Y,G as ee}from"./q87lshoqcipac183.js";import{u as j,d as se,U as b}from"./h9d8gf8zabmyld3j.js";import{aH as te,V as ie,ae as G,ah as ae,a3 as ne,ai as re,a2 as oe,aI as le}from"./gyt8ikkud27lp54m.js";import{a as ce,E as me}from"./chtc26wuulxkswx6.js";import{B as de,D as pe}from"./iolwngj4r86yp6qr.js";import{h as ue}from"./fhj1x6x5mv8ztzvu.js";import{m as M}from"./lb77108t2pd7cmgz.js";import"./c8zxz05g6fozv2d6.js";import"./gtkn2sln66iaqe9r.js";import"./d3jkm6smrg5ihui1.js";import"./jebpfhgxpd46kt5o.js";import"./iuruwr9n7vuvwwwc.js";import"./r910aebmjwqa8f6g.js";import"./nffs3uwjlshp2f6o.js";import"./d8sjg49twkp74c2n.js";import"./cvtp1jqp0nbvrq61.js";import"./ho15zo99vomcb2me.js";import"./n0g921oxcaazr42z.js";import"./ljm6t9y6mf4obpk1.js";const xe=y(()=>A(()=>import("./gi2hoqfj9stsk2p6.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10])).then(s=>s.GizmoKeepInSidebarMenuItem));var ge=(s=>(s[s.Keep=0]="Keep",s[s.Recents=1]="Recents",s))(ge||{});const he=2;function I({isActive:s,isNewConversation:n}){const i=C(),o=L(),r=S();return e.jsx("div",{className:N(r?"":"bg-token-sidebar-surface-primary","pt-0"),children:e.jsx(k,{gizmo:void 0,isActive:s,onClick:a=>{E(_(i))&&!n&&(a.preventDefault(),ue(o))}})})}function fe(s,n,i){const o=$(s,t=>t.flair.kind),r=[...o[v.FirstParty]?.map(({resource:t})=>({gizmo:t,section:0}))??[],...o[v.SidebarKeep]?.map(({resource:t})=>({gizmo:t,section:0}))??[],...o[v.Recent]?.slice(0,he).map(({resource:t})=>({gizmo:t,section:1}))??[]],a=r.length>i+1,c=a&&!n&&r.length>i?r.slice(0,i):r;return{listItems:[...c.filter(({section:t})=>t===0),...c.filter(({section:t})=>t===1)],itemsLeft:r.length-c.length,needsToCollapseItems:a}}function z({gizmo:s,currentGizmoId:n}){const i=u.useRef(!1),o=j(),r=j(m=>!se.isGptListCollapsed(m)),a=S(),c=a?5:4,{itemsLeft:g,listItems:t,needsToCollapseItems:h}=fe(s,r,c);u.useEffect(()=>{t.length>0&&!i.current&&(V({namespace:Q.ChatPageLoad})?.logTiming("render_gizmo_sidebar"),i.current=!0)},[t]);function f(m,d){const l=e.jsx(k,{gizmo:m,isActive:m.gizmo.id===n,section:d},m.gizmo.id);return a?e.jsx("li",{children:l}):l}return e.jsxs("div",{children:[t.map(({gizmo:m,section:d},l)=>e.jsxs(u.Fragment,{children:[l>1&&d!==t[l-1].section&&e.jsx("div",{className:"my-2 ml-2 h-px w-7 bg-token-sidebar-surface-tertiary"}),f(m,d)]},l)),h?e.jsxs("button",{onClick:b.toggleGptListCollapsed,className:"flex h-10 w-full items-center gap-2 rounded-lg px-2 text-sm text-token-text-primary hover:bg-token-sidebar-surface-secondary",children:[e.jsx("div",{className:"flex h-6 w-6 flex-shrink-0 items-center justify-center",children:e.jsx(G,{className:"icon-md text-token-text-primary"})}),e.jsx("div",{className:"flex grow items-center gap-1",children:r?e.jsxs(e.Fragment,{children:[e.jsx(p,{id:"GizmoSidebarList.showLess",defaultMessage:"See less"}),!a&&e.jsx(ae,{className:"icon-xs"}),a&&e.jsx(ne,{className:"icon-xs"})]}):e.jsxs(e.Fragment,{children:[e.jsx(p,{id:"GizmoSidebarList.showMoreItems",defaultMessage:"{numMore} more",values:{numMore:g}}),!a&&e.jsx(re,{className:"icon-xs"}),a&&e.jsx(oe,{className:"icon-xs"})]})})]}):null,e.jsx(me,{children:e.jsx(M.div,{whileTap:{scale:.98},children:e.jsx(F,{to:Y(),onClick:()=>{o.activeSidebar==="popover-nav"&&b.setActiveSidebar(!1)},children:e.jsx(W,{icon:le,"data-testid":"explore-gpts-button",children:e.jsx(p,{...x.exploreStoreEnabled})})},"explore")})})]})}function Be({currentGizmoId:s}){const{data:{gizmos:n}={}}=R();let i=n;return S()?i!=null?e.jsx(e.Fragment,{children:e.jsxs(B,{header:e.jsx("div",{className:"sticky top-[--sidebar-sticky-threshold] z-20",children:e.jsx(p,{id:"ZT2HVu",defaultMessage:"GPTs"})}),isLastInGroup:!0,children:[e.jsx(I,{isActive:s===void 0,isNewConversation:!0}),e.jsx(z,{gizmo:i,currentGizmoId:s})]})}):null:e.jsxs(e.Fragment,{children:[e.jsx(I,{isActive:s===void 0,isNewConversation:!0}),e.jsx(ce,{}),i!=null?e.jsx(z,{gizmo:i,currentGizmoId:s}):null]})}function ve({gizmo:s,isOpen:n,setIsOpen:i,section:o}){const r=C();return e.jsxs(de,{open:n,onOpenChange:i,triggerButton:e.jsx("button",{className:N("flex text-token-text-secondary hover:text-token-text-primary",n?"":"invisible group-hover:visible"),children:e.jsx(G,{className:"icon-md"})}),contentAlign:"start",sideOffset:4,alignOffset:-4,size:"auto",children:[o===1&&e.jsx(pe.Item,{onClick:async()=>{await Z.updateGizmoSidebar(r,ee,s.gizmo.id,"keep")},children:e.jsx(p,{...x.keepInSidebar})}),e.jsx(xe,{gizmoResource:s})]})}function k({gizmo:s,historyDisabled:n,section:i,onClick:o,isActive:r}){const a=T(),[c,g]=u.useState(!1),[t,h]=u.useState(!1),f=P(),m=!!s?.gizmo.tags?.includes(H.FirstParty);let d=!1,l;if(s!=null)l=s.gizmo.display.name||K;else{if(f==null)return null;n?l=a.formatMessage(x.clearChat):f.canInteractWithGizmos()?l=J:l=a.formatMessage({id:"GizmoSidebarListItem.newChat",defaultMessage:"New chat"})}return e.jsx(M.div,{whileTap:{scale:.98},onMouseEnter:()=>{h(!0)},onMouseLeave:()=>{h(!1)},children:e.jsx(q,{loggingGizmoId:s?.gizmo.id??"primary",href:s!=null?X(s):"/",onClick:o,showActiveIndicator:d,icon:e.jsx(O,{isFirstParty:s==null||m,src:s?.gizmo.display.profile_picture_url,className:"h-6 w-6 flex-shrink-0"}),isMenuOpen:c,label:l,hoverRightIcon:e.jsxs("div",{className:"flex gap-2",children:[(t||c)&&s!=null&&e.jsx("div",{className:"text-token-text-tertiary",onClick:w=>{w.preventDefault()},children:e.jsx(ve,{gizmo:s,isOpen:c,setIsOpen:g,section:i})}),e.jsx(D,{side:"right",label:a.formatMessage(n?x.clearChat:x.newChat),className:"flex items-center",children:e.jsx("button",{className:c?"text-token-text-tertiary":"invisible text-token-text-secondary hover:text-token-text-primary group-hover:visible",children:n?e.jsx(te,{className:"icon-md"}):e.jsx(ie,{className:"icon-md"})})})]})})})}const x=U({exploreStoreEnabled:{id:"gizmo.exploreStoreEnabled",defaultMessage:"Explore GPTs"},keepInSidebar:{id:"gizmo.keepInSidebar",defaultMessage:"Keep in sidebar"},newChat:{id:"gizmo.newChat",defaultMessage:"New chat"},clearChat:{id:"gizmo.clearChat",defaultMessage:"Clear chat"}});export{I as DefaultGPTSidebarListItem,Be as GizmoSidebarList,k as GizmoSidebarListItem,ge as SidebarSectionType,x as sidebarMessages};
//# sourceMappingURL=fp90nqom6kiw4fo8.js.map
