import{dJ as C,aW as v,bh as y,r,a4 as x,u as g,y as a,dK as j}from"./ggdh7pjp5xcwrnsg.js";import{a4 as p,a5 as s,a6 as E,a7 as I,a8 as u,a9 as P,aa as R}from"./bmls73y1gwdy9wkg.js";import{T as b,C as B}from"./h6c13n3374w6fyev.js";import{T as F}from"./k7dvvg48g4uiyhkk.js";import{u as N}from"./ncdxtihmnz7uzs2q.js";import{T as l}from"./byh20kidpgjmgfje.js";import"./mkisucl9ntf4tsct.js";import"./ga5s79t7codos54i.js";import"./nrk2wv4lcsm4aots.js";import"./jp106jrxp4bfcof8.js";import"./nn7abvtqye2kbvi4.js";import"./ofl8v1acfagq5bb7.js";import"./bvmv4im6saihms8x.js";import"./ol6oz5ym28raltgk.js";import"./gzoio6oye21kcfa0.js";import"./ek4c0a4qids1omcm.js";import"./m469opoz1mkbvhuc.js";import"./kjwi0rvs6uunm8oi.js";import"./ijg5myucwu48tzlu.js";import"./jp5qlnpzclk315dp.js";import"./p7vs437hsgdk057h.js";import"./gijnznq8z5lkymw6.js";import"./mkb41zrkd7newj0c.js";import"./ioh3yma6lma1f2tx.js";import"./f7pbuz9n7jc1m90v.js";import"./ry8yvnh99dahtrha.js";import"./jkxlt9rtggccetnk.js";import"./ejj4go3j2v7qycqx.js";import"./n4okdvbrbd9jb2rf.js";const ie=()=>(j(),null);function ne(){const i=C(),[o]=v(),n=y(),f=p(i.conversationId),d=s(o.get("readonly"),!1),T=s(o.get("header"),!0),h=s(o.get("hideBottomComposer"),!!d),t=p(i.canmoreId),e=f,m=E();r.useEffect(()=>{I({type:u.Textdoc,textdocId:t})},[t]),N(e,{kind:x.PrimaryAssistant});const c=g();return r.useEffect(()=>(l.retainThread(e),()=>{setTimeout(()=>{c.invalidateQueries({queryKey:["conversation",e]})},0),l.releaseThread(e)}),[e,c]),r.useEffect(()=>{t||n("/")},[t,n]),!t||m?.type!==u.Textdoc?null:a.jsx("div",{className:"h-full w-full overflow-hidden contain-content",children:a.jsx(F,{clientThreadId:e,children:a.jsx(b,{isEmbedded:!0,hideHeader:!T,hideBottomComposer:h,readonlyReason:d?P.QueryParam:void 0,clientThreadId:e,focusedTextdoc:m,onClose:()=>{R().sendMessage({type:B.Close})}},"textdocContent")})})}export{ie as clientLoader,ne as default};
//# sourceMappingURL=gi4j97r8mt9wzznj.js.map
