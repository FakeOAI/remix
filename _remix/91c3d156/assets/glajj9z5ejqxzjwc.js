import{r as h,j as s,Z as C,H as L,G as m,c as u,D as M,I as N,az as R,x as B,ci as E}from"./nz057gr5epx40qb6.js";import{C as A,D as I}from"./dqhf08ckfv2lp5xs.js";import{A as j,l as b,eb as P,av as d,ac as $}from"./f6nleccxr4ywnup7.js";import{m as w}from"./bdsajzly1t5b3gkr.js";const O="webp",F=250,H=187,G="srgb",Z=4,W="uchar",z=72,U=!1,q=!1,K=!0,X="https://cdn.oaistatic.com/assets/missing-logo-h96s4tk9.webp",Y={format:O,width:F,height:H,space:G,channels:Z,depth:W,density:z,isProgressive:U,hasProfile:q,hasAlpha:K,src:X};function S({team:e,className:t}){const[n,a]=h.useState(e.logo),l=()=>{C.addError("Unable to load sports widget logo",{name:e.name,logo:e.logo}),a(Y.src)};return s.jsx("img",{src:n,alt:e.name,className:t,onError:l})}const v=6;function V({data:e}){const[t,n]=h.useState(!0);let a=e.games;if(!a.length)return null;const l=o=>Math.abs(new Date().getTime()-o.scheduled*1e3);l(a[0])>l(a[a.length-1])&&(a=a.slice().reverse());const i=t?a.slice(0,v):a;return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"font-semibold",children:s.jsx(m,{id:"LA6z9q",defaultMessage:"{league} Schedule",values:{league:e.league.display_name}})}),s.jsx("div",{className:"text-sm text-token-text-tertiary",children:se}),i.length===1?s.jsx("div",{children:s.jsx(j,{children:s.jsx(w.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},exit:{opacity:0,y:-15},transition:{duration:.2},children:s.jsx("div",{className:"mt-3 rounded-xl border border-token-border-medium py-3",children:s.jsx(Q,{game:i[0],league:e.league})})})})}):s.jsx("div",{className:"grid grid-cols-1 pt-3 md:grid-cols-2",children:s.jsx(j,{children:i.map((o,c)=>s.jsx(w.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0,transition:{delay:c*.04}},exit:{opacity:0,y:-15},transition:{duration:.2},children:s.jsx("div",{className:u("border-b border-token-border-medium py-3",c<2&&"md:border-t",c%2===0&&"md:border-r md:pr-4",c%2===1&&"md:pl-4"),children:s.jsx(J,{game:o,league:e.league})})},c))})}),a.length>v&&s.jsx("div",{className:"mt-2 flex items-center justify-between",children:s.jsx("button",{className:"flex items-center text-sm font-semibold",onClick:()=>n(!t),children:t?s.jsx(m,{id:"BH/Ee5",defaultMessage:"Show more {icon}",values:{icon:s.jsx(A,{className:"mb-[-2px]"})}}):s.jsx(m,{id:"Z9BlEu",defaultMessage:"Show less {icon}",values:{icon:s.jsx(I,{className:"mb-[-2px]"})}})})})]})}function J({game:e,league:t}){const n=k(e);return s.jsxs("div",{className:"flex w-full gap-1.5 py-3 text-base",children:[s.jsxs("div",{className:"flex flex-col items-start gap-1 pr-3",children:[s.jsx(f,{team:e.home,isWinner:n==="home",logoSize:"small"}),s.jsx(f,{team:e.away,isWinner:n==="away",logoSize:"small"})]}),s.jsxs("div",{className:"flex flex-1 flex-col items-start gap-1",children:[s.jsx(x,{game:e,team:"home",isWinner:n==="home"}),s.jsx(x,{game:e,team:"away",isWinner:n==="away"})]}),s.jsx("div",{className:"flex w-32 flex-col items-end justify-center gap-1 text-sm",children:s.jsx(T,{game:e,league:t})})]})}function Q({game:e,league:t}){const n=k(e);return s.jsxs("div",{className:"flex w-full py-3 text-base",children:[s.jsx("div",{className:"flex flex-1 items-center justify-center px-2",children:s.jsx(f,{team:e.home,isWinner:n==="home"})}),s.jsx("div",{className:"mr-8 flex items-center justify-end",children:s.jsx(x,{game:e,team:"home",isWinner:n==="home",className:"text-lg font-semibold"})}),s.jsx("div",{className:"flex w-24 shrink flex-col items-center justify-center gap-1 align-middle text-sm",children:s.jsx(T,{game:e,league:t})}),s.jsx("div",{className:"ml-8 flex items-center justify-start",children:s.jsx(x,{game:e,team:"away",isWinner:n==="away",className:"text-lg font-semibold"})}),s.jsx("div",{className:"flex flex-1 items-center justify-center px-2",children:s.jsx(f,{team:e.away,isWinner:n==="away"})})]})}function k(e){return e.status!=="complete"||e.points==null?null:e.points.home>e.points.away?"home":"away"}function f({team:e,isWinner:t,logoSize:n}){return s.jsxs("span",{className:u("flex items-center gap-1",t&&"font-semibold","max-w-64 lg:max-w-52 xl:max-w-64"),children:[e.logo&&s.jsx(S,{team:{name:e.name,logo:e.logo},className:u(n==="small"?"w-6":"w-8")}),s.jsx("span",{className:"truncate",children:e.name})]})}function x({game:e,team:t,isWinner:n,className:a}){return["live","complete"].includes(e.status)&&e.points!=null?s.jsx("span",{className:u(n&&"font-semibold",a),children:e.points[t]}):null}function T({game:e,league:t}){switch(e.status){case"scheduled":return s.jsxs(s.Fragment,{children:[s.jsx("div",{children:ne(e.scheduled)}),s.jsx("div",{className:"text-token-text-secondary",children:te(e.scheduled)})]});case"live":return s.jsxs(s.Fragment,{children:[s.jsx(ie,{}),s.jsx(ee,{game:e,league:t.id})]});case"complete":return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"font-semibold",children:s.jsx(m,{id:"q/iMZL",defaultMessage:"Final"})}),s.jsx("div",{className:"text-token-text-secondary",children:ae(e.scheduled)})]})}}function ee({league:e,game:t}){const n=M();if(!t.live_details)return null;let a=null;if(["nba","wnba","nfl"].includes(e)){const l=t.live_details;a=l.quarter>4?n.formatMessage({id:"CHX7yc",defaultMessage:"OT"}):n.formatMessage({id:"jYLoUp",defaultMessage:"{timeLeft} left (Q{quarter})"},{timeLeft:g(l.time),quarter:l.quarter})}else if(["epl"].includes(e)){const l=t.live_details;a=n.formatMessage({id:"/K/n+d",defaultMessage:"{timeLeft} left"},{timeLeft:g(l.time)})}else if(e==="mlb"){const l=t.live_details;if(l.current_inning_half)a=`${n.formatMessage(le[l.current_inning_half])} ${re(l.current_inning)}`;else return null}else if(e==="nhl"){const l=t.live_details;a=n.formatMessage({id:"rH8XgX",defaultMessage:"{timeLeft} left (P{period})"},{timeLeft:g(l.time),period:l.period})}return s.jsx("div",{children:a})}const se=(()=>{var t,n;return(((n=(t=Intl.DateTimeFormat(void 0,{timeZoneName:"long"}).formatToParts(new Date))==null?void 0:t.find(a=>a.type=="timeZoneName"))==null?void 0:n.value)||Intl.DateTimeFormat().resolvedOptions().timeZone).replace(/Daylight|Standard/g,"")})();function te(e){return b(new Date(e*1e3),"h:mmaaa")}function ne(e){const t=new Date(e*1e3);return P(t)?"Today":b(t,"MMMM d")}function ae(e){return e===void 0?"":b(new Date(e*1e3),"EEE, MMM d")}function g(e){const[t,n]=e.split(":");return`${t.padStart(2,"0")}:${n}`}function re(e){const t=["th","st","nd","rd"],n=e%100;return e+(t[(n-20)%10]||t[n]||t[0])}const y=L({topInning:{id:"DFZPkq",defaultMessage:"Top"},bottomInning:{id:"pG7Iy8",defaultMessage:"Bot"}}),le={T:y.topInning,B:y.bottomInning};function ie(){return s.jsx("div",{className:"rounded-[4px] bg-token-surface-error px-1.5 py-1 text-xs font-semibold text-white",children:s.jsx(m,{id:"vObALn",defaultMessage:"Live"})})}const oe=["East","Central","West"];function ce({data:e}){const[t,n]=h.useState(0),a=$(e.conferences[t].divisions,i=>{const o=oe.indexOf(i.name??"");return o===-1?1/0:o}),l=e.conferences.length>1?e.conferences.map((i,o)=>s.jsx("button",{className:u(t===o?"text-token-text-primary":"text-token-text-tertiary","text-sm font-semibold"),onClick:()=>n(o),children:i.name},i.name)):null;return s.jsxs(s.Fragment,{children:[l&&s.jsx("div",{className:"flex gap-4",children:l}),s.jsx("div",{className:"mt-3",children:a.map(i=>i.name?s.jsx("div",{className:"mt-3",children:s.jsx(_,{league:e.league.id,teams:i.teams,teamsColumnHeaderText:i.name})},i.name):s.jsx(_,{league:e.league.id,teams:i.teams}))})]})}function _({league:e,teams:t,teamsColumnHeaderText:n}){const a=M(),l=de[e];return s.jsxs(d.Root,{size:"compact",children:[s.jsxs(d.Header,{children:[s.jsx(me,{children:n??s.jsx(m,{id:"kKSGje",defaultMessage:"Team"})}),l.map(i=>s.jsx(D,{textAlign:"center",children:s.jsx("span",{title:a.formatMessage(p[i].label),children:a.formatMessage(p[i].column)})},i))]}),s.jsx(d.Body,{children:t.map((i,o)=>s.jsxs(d.Row,{children:[s.jsx(d.Cell,{className:"w-full !border-0 !py-0",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"mr-2 w-4 tabular-nums text-token-text-tertiary",children:o+1}),s.jsxs("div",{className:"flex items-center justify-start gap-2",children:[s.jsx(S,{team:i,className:"w-6"}),s.jsx("span",{className:"whitespace-nowrap text-base",children:i.name})]})]})}),l.map(c=>s.jsx(d.Cell,{className:"whitespace-nowrap !border-0 !py-0 px-1 tabular-nums",textAlign:"center",children:p[c].format(i)},c))]},i.name))})]})}const r=L({awayRecordLabel:{id:"8A4V0g",defaultMessage:"Away Record"},away_record:{id:"YrIhtB",defaultMessage:"Away"},conferenceRecordLabel:{id:"BeBKWT",defaultMessage:"Conference Record"},conference_record:{id:"b5hZ7r",defaultMessage:"Conf"},gamesBehindLabel:{id:"f9O+uY",defaultMessage:"Games Behind"},games_behind:{id:"RNpJvQ",defaultMessage:"GB"},homeRecordLabel:{id:"ZoxGUX",defaultMessage:"Home Record"},home_record:{id:"d0Goi/",defaultMessage:"Home"},l10_record:{id:"WwKAEW",defaultMessage:"L10"},last10RecordLabel:{id:"UvUS7i",defaultMessage:"Last 10 Record"},losses:{id:"ebV/z+",defaultMessage:"L"},lossesLabel:{id:"Yt2ZOI",defaultMessage:"Losses"},ot_losses:{id:"4Rp9OJ",defaultMessage:"OTL"},overtimeLossesLabel:{id:"Kt0jhD",defaultMessage:"Overtime Losses"},points:{id:"x2HLYc",defaultMessage:"PTS"},pointsLabel:{id:"jwN4Ev",defaultMessage:"Points"},streak:{id:"KwTL6W",defaultMessage:"Strk"},streakLabel:{id:"8rzEwB",defaultMessage:"Streak"},ties:{id:"LAhZPw",defaultMessage:"T"},tiesLabel:{id:"2iAj+i",defaultMessage:"Ties"},win_percentage:{id:"Uo0a8v",defaultMessage:"PCT"},winPercentageLabel:{id:"ooLlMv",defaultMessage:"Win %"},wins:{id:"pkbm+Q",defaultMessage:"W"},winsLabel:{id:"JjVALi",defaultMessage:"Wins"}}),p={wins:{column:r.wins,label:r.winsLabel,format:e=>e.wins},losses:{column:r.losses,label:r.lossesLabel,format:e=>e.losses},ties:{column:r.ties,label:r.tiesLabel,format:e=>e.ties},win_percentage:{column:r.win_percentage,label:r.winPercentageLabel,format:e=>e.win_percentage.toFixed(3)},games_behind:{column:r.games_behind,label:r.gamesBehindLabel,format:e=>!e.games_behind||e.games_behind.conference===null?"":e.games_behind.conference===0?"—":Math.round(e.games_behind.conference*100)/100},conference_record:{column:r.conference_record,label:r.conferenceRecordLabel,format:e=>{const t=e.records.find(n=>n.record_type==="conference");return t?`${t.wins}-${t.losses}`:""}},home_record:{column:r.home_record,label:r.homeRecordLabel,format:e=>{const t=e.records.find(n=>n.record_type==="home");return t?`${t.wins}-${t.losses}`:""}},away_record:{column:r.away_record,label:r.awayRecordLabel,format:e=>{const t=e.records.find(n=>n.record_type==="away");return t?`${t.wins}-${t.losses}`:""}},l10_record:{column:r.l10_record,label:r.last10RecordLabel,format:e=>{const t=e.records.find(n=>n.record_type==="last_10");return t?`${t.wins}-${t.losses}`:""}},streak:{column:r.streak,label:r.streakLabel,format:e=>{var t,n;return e.streak?`${((t=e.streak)==null?void 0:t.kind)==="win"?"W":"L"}${(n=e.streak)==null?void 0:n.length}`:""}},ot_losses:{column:r.ot_losses,label:r.overtimeLossesLabel,format:e=>e.overtime_losses},points:{column:r.points,label:r.pointsLabel,format:e=>e.points}},de={nba:["wins","losses","win_percentage","games_behind","l10_record","streak"],wnba:["wins","losses","win_percentage","games_behind","l10_record","streak"],nhl:["wins","losses","ot_losses","win_percentage","points","conference_record","home_record","l10_record","streak"],mlb:["wins","losses","win_percentage","streak","l10_record"],epl:["wins","win_percentage","losses","ties"],nfl:["wins","losses","win_percentage","conference_record","streak"],ncaaf:[],ncaab:[],wncaab:[]},D=N(d.HeaderCell)`text-token-text-secondary !font-normal text-sm !static !bg-transparent border-token-border-medium !border-t-0 !border-l-0 !border-r-0`,me=N(D)`text-token-text-primary`;function ge({sportsWidget:e,trackContentReferenceEvent:t}){const{isLoading:n,value:a}=R("1684776951");return h.useEffect(()=>{(e.status!=="done"||n||!a)&&t(B.searchContentReferenceShown,"sports",{hasStandings:!!e.standings,hasSchedule:!!e.schedule})},[t,e.status,e.standings,e.schedule,n,a]),e.status!=="done"||n||!a?null:e.standings||e.schedule?s.jsx(E,{name:"sonic_widget_error",children:s.jsxs("div",{className:"not-prose mb-4 px-snc-results-padding",children:[e.standings&&s.jsx(ce,{data:e.standings}),e.schedule&&s.jsx(V,{data:e.schedule})]})}):null}export{ge as S};
//# sourceMappingURL=glajj9z5ejqxzjwc.js.map
