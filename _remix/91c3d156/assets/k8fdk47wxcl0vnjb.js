const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/sso-5hfzauqxa1dh21kw.js","assets/nz057gr5epx40qb6.js","assets/dqhf08ckfv2lp5xs.js","assets/root-cpnh8fjk.css","assets/f6nleccxr4ywnup7.js","assets/conversation-small-c8xg50op.css","assets/ebpf4voa5d3vxres.js","assets/b4ts5qdk2jq98v1f.js","assets/bdsajzly1t5b3gkr.js","assets/krtedq8xntik1fg1.js","assets/nhwwej1nq0zrd7sc.js","assets/j3htwd2x0ve7khai.js","assets/e7w35o1x46muhehw.js","assets/mrskscr5a3nc8aoq.js","assets/hcl0k169m8va9obe.js","assets/bcvw67fsdxcvkge5.js","assets/buke0enxngxxdhhb.js","assets/lq5ec0gb81oney03.js","assets/hx27mv2bj8by6eih.js","assets/ousohe1aim2swyoh.js","assets/fcwae0uiwnje0qo4.js","assets/l6vavy2gxcrpbnvj.js","assets/pdswpibrq44hekis.js","assets/bsqwwe729de7dwl2.js","assets/n5kib4j70t3pqxea.js","assets/jcpkfm9amz7vnhtf.js","assets/mxm0v27vn1qixg7x.js","assets/b95igggbmy84kcf7.js","assets/i4g5jnt5psyi2pc3.js","assets/d0g8ptgc5gcqjwyj.js","assets/lr28deen5q429k87.js","assets/dvp19pq2iq71epoc.js","assets/isjdmfmhzv09v01t.js","assets/h8tjsoz4btwng9z8.js","assets/i3uxv2z1avj04s4f.js","assets/n2giv28s36z7a0f8.js","assets/dzxz6t4d8hsdoanv.js","assets/fcq2p99yeosqa6ma.js","assets/3hindh1jqm0i2q6z.js","assets/vze3723j69ehxfib.js","assets/o6zqjewfrbkw2hay.js","assets/g601edsfqu91dwj7.js","assets/pbf7fdkz0ttbpc2t.js","assets/nkitcgdwgbrjgd0j.js","assets/bzutjvun7rbgmku5.js","assets/fsddy3bxlesj6ecw.js","assets/m2xe2yz88n6tlr7d.js","assets/n4ws16xltg8fzmrd.js","assets/el2zb5qo0351dpws.js","assets/dbotcxh9hpbx8eat.js","assets/jcv1569e15itjcob.js","assets/hrmua7ck04du5gd5.js","assets/jhzaldjay3n7wxoa.js","assets/obg377g5pto2dsh4.js","assets/glajj9z5ejqxzjwc.js","assets/dkl923gy601ap0b1.js","assets/g0sntsjt7kolup50.js","assets/kqwdyvkaaavvn8k3.js","assets/d3nnenili6ir4e39.js","assets/vjiva7g8nl4elmmg.js","assets/kc89oodk0sk77ka3.js","assets/cgghuaa24szqnjmw.js","assets/e9gjmrjckmf42xbu.js","assets/c03bifv9j0h9ii0w.js","assets/s2oy4n46dd4i63bu.js","assets/mdt7po9fjrc07w58.js","assets/lu98x2h4hel6d40l.js","assets/iej0cupg2dqkmejt.js","assets/b381s9rj5rh7c0ao.js","assets/b10b76bo4mu9ak9c.js","assets/fisa9q58ii4mp34z.js","assets/i3rfzg0pmvlg52kw.js","assets/nfy2qwxjqanu198t.js","assets/shared-mk6ngktc.css","assets/gvwqtwa61yzdxnnl.js","assets/sso-46pn026z.css"])))=>i.map(i=>d[i]);
import{j as s,c as w,bb as A,P as h,x as m,Z as q,r as F,av as B,bK as O,an as $,ak as H,C as W,ch as K,bY as V,bH as Q,eM as Y,br as G,ac as Z,G as J}from"./nz057gr5epx40qb6.js";import{G as X}from"./ousohe1aim2swyoh.js";import{cx as I,k as C,f4 as z,f5 as i,f6 as ee,U as te,bA as se,aa as ae,f7 as re,f8 as oe,cM as j,f9 as ne,fa as le,A as ie,aW as ce,cL as de,as as pe}from"./f6nleccxr4ywnup7.js";import{z as me,T as _,g as ue,r as xe,i as fe,A as he}from"./b4ts5qdk2jq98v1f.js";import{a as ye}from"./krtedq8xntik1fg1.js";import{u as Se}from"./hcl0k169m8va9obe.js";import{m as M}from"./bdsajzly1t5b3gkr.js";import{G as L}from"./b10b76bo4mu9ak9c.js";function qe({clientThreadId:e,showInlineEmbeddedDisplay:r,isStaticSharedThread:a,children:o,withVerticalPadding:n,withHorizontalPadding:t}){const l=z(),c=C(b=>b.isDesktopNavCollapsed),u=C(b=>b.activeStageSidebar),p=t&&!a&&!l,d=t&&l&&!c,x=c&&t&&l,f=t&&(!x||!a||u)&&l,v=me(e);return s.jsx("div",{className:w("text-base",n&&"py-[18px]",t&&!l&&"px-3 md:px-4",r&&!a?"ml-5":"m-auto",p&&"w-full md:px-5 lg:px-1 xl:px-5",d&&"md:px-5",f&&`w-full px-3 ${!v&&!u?"lg:px-0":""}`,x&&"md:px-0"),children:o})}function ve({children:e}){const r=I(),a=C(o=>o.isDesktopNavCollapsed);return s.jsx("div",{className:w("mx-auto flex flex-1 gap-4 text-base md:gap-5 lg:gap-6",a?"md:max-w-3xl":"md:max-w-3xl lg:max-w-[40rem] xl:max-w-[48rem]",r&&"-mx-4"),children:e})}function Be({children:e}){const r=I(),a=C(o=>o.isDesktopNavCollapsed);return s.jsx("div",{className:w("mx-auto gap-4 text-base md:gap-5 lg:gap-6",a?"md:max-w-3xl":"md:max-w-3xl lg:max-w-[40rem] xl:max-w-[48rem]",r&&"-mx-4"),children:e})}const g=e=>{switch(e.type){case i.Reply:return e.text;case i.Starter:case i.Autocomplete:return e.prompt}},be=e=>e.type===i.Reply,_e=e=>e.type===i.Starter,D=e=>e.type===i.Autocomplete,k=e=>!!e.theme,we=(e,r,a,o)=>{switch(A.logEvent("chatgpt_prompt_use_suggestion",D(e)&&!k(e)?"":g(e),{index:`${r}`,type:e.type}),e.type){case i.Reply:h.logEvent(m.useSuggestedReply,{value:g(e),prompt_type:i.Reply,messageId:o});break;case i.Starter:h.logEvent(m.useStarterPrompt,{value:g(e),prompt_type:i.Starter,title:e.title,body:e.body,id:e.id,category:e.category,client_thread_id:a,messageId:o,index:r,theme:e.theme});break;case i.Autocomplete:{const n=k(e);h.logEvent(m.useAutocomplete,{value:n?g(e):"",prompt_type:i.Autocomplete,title:n?e.title:"",body:n?e.body:"",id:n?e.id:"",category:e.category,index:r,messageId:o,client_thread_id:a,theme:e.theme??""});break}}},ge=(e,r)=>{const a=_.getThreadCurrentLeafId(r),o=_.getTree(r).getMessageId(a);if(A.logEvent("chatgpt_prompt_show_suggestions",`count_${e.length}`,{type:e[0].type}),e.every(be))h.logEvent(m.showSuggestedReplies,{prompt_count:e.length,prompt_type:i.Reply,client_thread_id:r,suggestions:e.map(n=>n.text),message_id:o});else if(e.every(_e)){const{isAdditional:n}=e[0];h.logEvent(n?m.moreStarterPromptsShown:m.showStarterPrompts,{prompt_count:e.length,prompt_type:i.Starter,titles:e.map(t=>t.title),bodies:e.map(t=>t.body),ids:e.map(t=>t.id),client_thread_id:r,message_id:o,themes:e.map(t=>t.theme??"")}),n&&h.logEvent(m.expandMoreStarterPrompts,{client_thread_id:r,message_id:o})}else if(e.every(D)){const n=!!e.find(t=>k(t));h.logEvent(m.showAutocompletePrompts,{prompt_count:e.length,prompt_type:i.Autocomplete,titles:e.map(t=>n?t.title:""),bodies:e.map(t=>n?t.body:""),ids:e.map(t=>n?t.id:""),client_thread_id:r,message_id:o,themes:e.map(t=>t.theme??"")})}else q.addError("Unhandled suggestion type",{type:e[0].type})},Oe=e=>{const r=_.getThreadCurrentLeafId(e),a=_.getTree(e).getMessageId(r);h.logEvent(m.showExpandMoreStarterPromptsButton,{client_thread_id:e,message_id:a})},$e=e=>{const r=_.getThreadCurrentLeafId(e),a=_.getTree(e).getMessageId(r);h.logEvent(m.expandMoreStarterPrompts,{client_thread_id:e,message_id:a})};function U(){const{store:e}=ee(),r=e.useSharedProps();return F.useCallback(async(a,o,n)=>{if(!r)return;const{clientThreadId:t,currentLeafId:l,onCreateNewCompletion:c,onResetState:u,conversationMode:p}=r;te.hideThreadHeader();const d=`${l}-nextPrompt`,x=new se;await c({promptId:d,content:g(a),eventMetadata:{eventSource:"mouse"},completionMetadata:{suggestions:o,conversationMode:p??ue.getConversationMode(t)},messageMetadata:{is_starter_prompt:!0,suggestion_type:a.type},turnTracker:x});const f=_.getTree(t).getMessageId(d);u(),we(a,n,t,f),ae()},[r])}function E(e){var r;return(r=j(e)?e.promptStarters:e.gizmo.display.prompt_starters)==null?void 0:r.map(a=>({type:i.Starter,title:"",body:a,prompt:a}))}function je(e,r,a,o,n,t){const l=B(),c=xe(r),u=Se((c==null?void 0:c.kind)===O.GizmoInteraction?c.gizmo_id:void 0).data,{gizmoEditorData:p,mode:d}=re(),x=oe(c),y=$(),f=e&&!x&&(o||!(y!=null&&y.isEnterprisey())),{data:v,isLoading:b,isSuccess:N,isError:T}=H({queryKey:["promptStarters",r,a,n,t],queryFn:()=>W.getSampledPromptStarter(a,n,t),enabled:f});return l==null?{promptStarters:[],isLoading:!0,isSuccess:!1}:d==="test"&&p?{promptStarters:E(p)??[],isLoading:!1,isSuccess:!0}:u!=null?{promptStarters:E(u),isLoading:!1,isSuccess:!0}:f?{promptStarters:(v==null?void 0:v.items.map(S=>({type:i.Starter,id:S.id,title:S.title,body:S.description,prompt:S.prompt,category:S.category,oneliner:S.oneliner,theme:S.theme,requires_file_upload:S.requires_file_upload})))??[],isLoading:b,isSuccess:N,isError:T}:{promptStarters:[],isLoading:!1,isSuccess:!0}}const Ce=K(()=>V(()=>import("./sso-5hfzauqxa1dh21kw.js").then(e=>e.a),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75])).then(e=>e.CaNewThreadSplash).catch(()=>()=>null));function He({clientThreadId:e}){const{isUnauthenticated:r}=Q(),a=!r,o=fe(e),n=he(e),t=Y(),l=G(),c=U(),u=ye(e),p=le(u),{promptStarters:d,isSuccess:x,isError:y}=je(o&&!n,e,l?2:4),f=d&&(d==null?void 0:d.length)>0,v=x&&f&&a&&!p,{layer:b}=Z("4031588851"),N=b.get("is_two_line",!1);return s.jsx(s.Fragment,{children:s.jsx(ie,{children:(y||x)&&s.jsxs(s.Fragment,{children:[s.jsx(ce,{className:`h-12 w-12 ${a?"":"max-sm:hidden"}`}),v&&s.jsx(Ne,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},promptStarters:d,onSelectStarterPrompt:c,isSendBlocked:t,clientThreadId:e,isTwoLine:N}),!f&&a&&!p&&s.jsx(P,{}),p?s.jsx(Ce,{}):null,y&&a&&s.jsx(P,{})]})})})}function P(){return s.jsx("div",{className:"mt-7 text-3xl",children:s.jsx(J,{id:"24tuqq",defaultMessage:"Hi, how can I help?"})})}function Ne({promptStarters:e,onSelectStarterPrompt:r,isSendBlocked:a,clientThreadId:o,isTwoLine:n,...t}){return F.useEffect(()=>{ge(e,o)},[o]),s.jsx(s.Fragment,{children:n?s.jsx(M.div,{...t,className:"absolute bottom-6 w-full px-4",children:s.jsx(ve,{children:s.jsx(Ee,{starterPrompts:e,onSelectStarterPrompt:r,disabled:a})})}):s.jsx(M.div,{...t,children:s.jsx(R,{starterPrompts:e,onSelectStarterPrompt:r,disabled:a})})})}const ke=/\s/;function R({starterPrompts:e,onSelectStarterPrompt:r,disabled:a}){let o=e.map((n,t)=>{let l=n.oneliner??n.title;l===""&&(l=n.body);const c=ke.test(l);return s.jsxs("button",{className:"relative flex w-40 flex-col gap-2 rounded-2xl border border-token-border-light px-3 pb-4 pt-3 text-start align-top text-[15px] shadow-xxs transition enabled:hover:bg-token-main-surface-secondary disabled:cursor-not-allowed",disabled:a,onClick:()=>r(n,e,t),children:[s.jsx(ne,{starterPrompt:n}),s.jsx("div",{className:w("line-clamp-3 max-w-full text-balance text-gray-600 dark:text-gray-500",c?"break-word":"break-all"),children:l})]},n.id??t)});if(o.length>2){const n=Math.floor(o.length/2);o=[o.slice(0,n),o.slice(n)].map((t,l)=>s.jsx("div",{className:"flex max-w-3xl flex-wrap items-stretch justify-center gap-4",children:t},l))}return s.jsx("div",{className:"mx-3 mt-12 flex max-w-3xl flex-wrap items-stretch justify-center gap-4",children:o})}function Ee({starterPrompts:e,onSelectStarterPrompt:r,disabled:a}){let o=e.map((t,l)=>s.jsx("button",{className:"relative whitespace-nowrap rounded-2xl border border-token-border-light px-4 py-2 text-start align-top text-[15px] shadow-xxs transition enabled:hover:bg-token-main-surface-secondary disabled:cursor-not-allowed",disabled:a,onClick:()=>r(t,e,l),children:s.jsxs("div",{className:"flex flex-col overflow-hidden",children:[t.title&&s.jsx("div",{className:"truncate font-semibold",children:t.title}),s.jsx("div",{className:w("truncate font-normal",t.title?"opacity-50":""),children:t.body})]})},t.id??l));const n=Math.floor(o.length/2);return o=[o.slice(0,n),o.slice(n)].map((t,l)=>s.jsx("div",{className:"flex flex-col gap-2",children:t},l)),s.jsx("div",{className:"grid w-full grid-flow-row grid-cols-[repeat(auto-fit,minmax(250px,1fr))] gap-2",children:o})}function We({gizmo:e,hideOwner:r=!1,children:a,className:o,avatarClassName:n,showStarterPrompts:t=!1,disableStarterPrompts:l=!1}){return e==null?null:s.jsx(s.Fragment,{children:s.jsxs("div",{className:w("flex h-full flex-col items-center justify-center text-token-text-primary",o),children:[s.jsx(Me,{gizmo:e,avatarClassName:n}),s.jsx(Pe,{gizmo:e,hideOwner:r,showStarterPrompts:t,disableStarterPrompts:l}),a]})})}function Me({gizmo:e,avatarClassName:r}){var o;const a=!!(e!=null&&de(e)&&((o=e==null?void 0:e.gizmo.tags)!=null&&o.includes(pe.FirstParty)));return s.jsx("div",{className:"relative",children:s.jsx(X,{isFirstParty:a||!e,src:e!=null&&j(e)?e.profilePictureUrl:e==null?void 0:e.gizmo.display.profile_picture_url,className:w("mb-3 h-12 w-12",r)})})}function Le({gizmo:e,disabled:r}){const a=E(e),o=U(),n=G();if(a==null||a.length===0)return null;const t=a.slice(0,n?2:4);return s.jsx(R,{starterPrompts:t,onSelectStarterPrompt:o,disabled:r})}function Pe({gizmo:e,hideOwner:r,showStarterPrompts:a,disableStarterPrompts:o}){const n=e!=null&&j(e)?e.name:e==null?void 0:e.gizmo.display.name,t=e!=null&&j(e)?e.description:e==null?void 0:e.gizmo.display.description;return s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("div",{className:"text-center text-2xl font-semibold",children:n}),!r&&s.jsx("div",{className:"flex items-center gap-1 text-token-text-tertiary",children:s.jsx(s.Fragment,{children:e&&j(e)?s.jsx(L,{gizmo:e}):s.jsx(L,{gizmo:e,socials:e.gizmo.author.display_socials})})}),t&&s.jsx("div",{className:"max-w-md text-center text-sm font-normal text-token-text-primary",children:t}),a&&s.jsx(Le,{gizmo:e,disabled:o})]})}export{We as G,Be as H,Me as L,ve as M,Ee as S,qe as T,be as a,je as b,we as c,Oe as d,$e as e,He as f,g,_e as i,ge as t,U as u};
//# sourceMappingURL=k8fdk47wxcl0vnjb.js.map
