const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ovolgvk8z8cbaoxj.js","assets/lrt789z2rawt9v6n.js","assets/qm9djk421n6v15er.js","assets/root-o085mhci.css","assets/ga842uuse918os7p.js","assets/conversation-small-lkohtmkm.css","assets/dzwkc95qy79m56h5.js","assets/orvu0y3lq8gw4rle.js","assets/lyi2iqeq0s922m5w.js","assets/ffbuv0sskidfm3dm.js","assets/eabkz1hpo9dh58mn.js","assets/fq30kker6wn7nlkf.js","assets/f14u6m7tzpzhuuij.js","assets/jvjcsw03i0kiuypq.js","assets/mf512tkap804bzml.js","assets/fzlqn7qahymnbdft.js","assets/k8ozl64e0jms34xp.js","assets/grvw8wsszctb0jch.js","assets/kqwdyvkaaavvn8k3.js","assets/bhb3151xg54j0a40.js","assets/kf30ftpamp5geglm.js","assets/f5lt7cuu532839w5.js","assets/BusinessesMap-7scexqc2.css"])))=>i.map(i=>d[i]);
import{aH as Rt,m as a,aD as N,aL as B,r as m,d as x,eR as Ut,bo as Yt,L as C,df as Z,bj as Wt,K as fe,bN as Bt,aY as Zt,aZ as Vt,bn as K,el as qt,g as it,aU as w,gb as Gt,D as ct,aN as lt,a_ as dt,e$ as Xt,bx as Kt,aJ as Jt,aK as Qt,hq as es,ac as ts,P as oe,eY as pe,aw as ut,ic as ss,id as ns,ev as ht,gF as as}from"./lrt789z2rawt9v6n.js";import{a as rs,b as os}from"./fq30kker6wn7nlkf.js";import{s as R,c as _e,b as mt,R as ge,u as ft,C as is,d as cs,e as ls,S as Se,D as ds,g as us,i as hs}from"./f14u6m7tzpzhuuij.js";import{u as ms,b as fs}from"./ffbuv0sskidfm3dm.js";import{a as ps}from"./fzlqn7qahymnbdft.js";import{oH as gs,k1 as Y,oI as xs,c_ as pt,b2 as bs,b4 as ys,oJ as gt,lY as vs,bB as T,oK as ws,fk as $s,cw as xt,c2 as js,bz as Ce,by as Ns,aW as xe,ap as ks,oL as _s,bs as Ss,oM as Cs,oN as Pe,aD as De,ch as P,f4 as Te,f5 as bt,oO as be,ns as yt,oP as Ps,jY as Ds,ko as Ts,mQ as Ms,hK as As,hL as Es}from"./ga842uuse918os7p.js";import{A as Is,a as ye,E as Ls}from"./grvw8wsszctb0jch.js";import{w as ve,s as vt,f as Fs,a as Os,h as zs,M as we,u as Hs,r as Rs,b as Us}from"./jvjcsw03i0kiuypq.js";import{ay as Ys,k as Ws,O as Bs,au as Zs,ci as Vs,cj as qs,ck as Gs,cl as Xs}from"./qm9djk421n6v15er.js";import{b as W}from"./dzwkc95qy79m56h5.js";import{g as Ks}from"./kqwdyvkaaavvn8k3.js";import{v as Me,C as Js,A as Qs,a as en,L as tn,B as sn,p as nn,b as an,e as rn,P as on,f as cn,g as ln}from"./kf30ftpamp5geglm.js";import{g as dn,d as un,b as wt,I as hn}from"./mf512tkap804bzml.js";import{m as Ae}from"./orvu0y3lq8gw4rle.js";import{c as $t}from"./f5lt7cuu532839w5.js";const mn=$t("ChevronDownFilled","1em",["M15.8 7.73c.28.3.27.78-.03 1.06l-5.25 5a.75.75 0 0 1-1.04 0l-5.25-5a.75.75 0 0 1 1.04-1.08L10 12.2l4.73-4.5a.75.75 0 0 1 1.06.02Z"]),fn=$t("ChevronLeftFilled","1em",["M12.27 15.8a.75.75 0 0 1-1.06-.03l-5-5.25a.75.75 0 0 1 0-1.04l5-5.25a.75.75 0 1 1 1.08 1.04L7.8 10l4.5 4.73c.29.3.28.78-.02 1.06Z"]),pn=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],Ee={}.hasOwnProperty;function gn(e,s){const t=s||{};function n(r,...o){let i=n.invalid;const c=n.handlers;if(r&&Ee.call(r,e)){const l=String(r[e]);i=Ee.call(c,l)?c[l]:n.unknown}if(i)return i.call(this,r,...o)}return n.handlers=t.handlers||{},n.invalid=t.invalid,n.unknown=t.unknown,n}const xn=/^>|^->|<!--|-->|--!>|<!-$/g,bn=[">"],yn=["<",">"];function vn(e,s,t,n){return n.settings.bogusComments?"<?"+R(e.value,Object.assign({},n.settings.characterReferences,{subset:bn}))+">":"<!--"+e.value.replace(xn,r)+"-->";function r(o){return R(o,Object.assign({},n.settings.characterReferences,{subset:yn}))}}function wn(e,s,t,n){return"<!"+(n.settings.upperDoctype?"DOCTYPE":"doctype")+(n.settings.tightDoctype?"":" ")+"html>"}const k=Nt(1),jt=Nt(-1),$n=[];function Nt(e){return s;function s(t,n,r){const o=t?t.children:$n;let i=(n||0)+e,c=o[i];if(!r)for(;c&&ve(c);)i+=e,c=o[i];return c}}const jn={}.hasOwnProperty;function kt(e){return s;function s(t,n,r){return jn.call(e,t.tagName)&&e[t.tagName](t,n,r)}}const $e=kt({body:kn,caption:Q,colgroup:Q,dd:Pn,dt:Cn,head:Q,html:Nn,li:Sn,optgroup:Dn,option:Tn,p:_n,rp:Ie,rt:Ie,tbody:An,td:Le,tfoot:En,th:Le,thead:Mn,tr:In});function Q(e,s,t){const n=k(t,s,!0);return!n||n.type!=="comment"&&!(n.type==="text"&&ve(n.value.charAt(0)))}function Nn(e,s,t){const n=k(t,s);return!n||n.type!=="comment"}function kn(e,s,t){const n=k(t,s);return!n||n.type!=="comment"}function _n(e,s,t){const n=k(t,s);return n?n.type==="element"&&(n.tagName==="address"||n.tagName==="article"||n.tagName==="aside"||n.tagName==="blockquote"||n.tagName==="details"||n.tagName==="div"||n.tagName==="dl"||n.tagName==="fieldset"||n.tagName==="figcaption"||n.tagName==="figure"||n.tagName==="footer"||n.tagName==="form"||n.tagName==="h1"||n.tagName==="h2"||n.tagName==="h3"||n.tagName==="h4"||n.tagName==="h5"||n.tagName==="h6"||n.tagName==="header"||n.tagName==="hgroup"||n.tagName==="hr"||n.tagName==="main"||n.tagName==="menu"||n.tagName==="nav"||n.tagName==="ol"||n.tagName==="p"||n.tagName==="pre"||n.tagName==="section"||n.tagName==="table"||n.tagName==="ul"):!t||!(t.type==="element"&&(t.tagName==="a"||t.tagName==="audio"||t.tagName==="del"||t.tagName==="ins"||t.tagName==="map"||t.tagName==="noscript"||t.tagName==="video"))}function Sn(e,s,t){const n=k(t,s);return!n||n.type==="element"&&n.tagName==="li"}function Cn(e,s,t){const n=k(t,s);return!!(n&&n.type==="element"&&(n.tagName==="dt"||n.tagName==="dd"))}function Pn(e,s,t){const n=k(t,s);return!n||n.type==="element"&&(n.tagName==="dt"||n.tagName==="dd")}function Ie(e,s,t){const n=k(t,s);return!n||n.type==="element"&&(n.tagName==="rp"||n.tagName==="rt")}function Dn(e,s,t){const n=k(t,s);return!n||n.type==="element"&&n.tagName==="optgroup"}function Tn(e,s,t){const n=k(t,s);return!n||n.type==="element"&&(n.tagName==="option"||n.tagName==="optgroup")}function Mn(e,s,t){const n=k(t,s);return!!(n&&n.type==="element"&&(n.tagName==="tbody"||n.tagName==="tfoot"))}function An(e,s,t){const n=k(t,s);return!n||n.type==="element"&&(n.tagName==="tbody"||n.tagName==="tfoot")}function En(e,s,t){return!k(t,s)}function In(e,s,t){const n=k(t,s);return!n||n.type==="element"&&n.tagName==="tr"}function Le(e,s,t){const n=k(t,s);return!n||n.type==="element"&&(n.tagName==="td"||n.tagName==="th")}const Ln=kt({body:zn,colgroup:Hn,head:On,html:Fn,tbody:Rn});function Fn(e){const s=k(e,-1);return!s||s.type!=="comment"}function On(e){const s=new Set;for(const n of e.children)if(n.type==="element"&&(n.tagName==="base"||n.tagName==="title")){if(s.has(n.tagName))return!1;s.add(n.tagName)}const t=e.children[0];return!t||t.type==="element"}function zn(e){const s=k(e,-1,!0);return!s||s.type!=="comment"&&!(s.type==="text"&&ve(s.value.charAt(0)))&&!(s.type==="element"&&(s.tagName==="meta"||s.tagName==="link"||s.tagName==="script"||s.tagName==="style"||s.tagName==="template"))}function Hn(e,s,t){const n=jt(t,s),r=k(e,-1,!0);return t&&n&&n.type==="element"&&n.tagName==="colgroup"&&$e(n,t.children.indexOf(n),t)?!1:!!(r&&r.type==="element"&&r.tagName==="col")}function Rn(e,s,t){const n=jt(t,s),r=k(e,-1);return t&&n&&n.type==="element"&&(n.tagName==="thead"||n.tagName==="tbody")&&$e(n,t.children.indexOf(n),t)?!1:!!(r&&r.type==="element"&&r.tagName==="tr")}const V={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function Un(e,s,t,n){const r=n.schema,o=r.space==="svg"?!1:n.settings.omitOptionalTags;let i=r.space==="svg"?n.settings.closeEmptyElements:n.settings.voids.includes(e.tagName.toLowerCase());const c=[];let l;r.space==="html"&&e.tagName==="svg"&&(n.schema=vt);const h=Yn(n,e.properties),d=n.all(r.space==="html"&&e.tagName==="template"?e.content:e);return n.schema=r,d&&(i=!1),(h||!o||!Ln(e,s,t))&&(c.push("<",e.tagName,h?" "+h:""),i&&(r.space==="svg"||n.settings.closeSelfClosing)&&(l=h.charAt(h.length-1),(!n.settings.tightSelfClosing||l==="/"||l&&l!=='"'&&l!=="'")&&c.push(" "),c.push("/")),c.push(">")),c.push(d),!i&&(!o||!$e(e,s,t))&&c.push("</"+e.tagName+">"),c.join("")}function Yn(e,s){const t=[];let n=-1,r;if(s){for(r in s)if(s[r]!==null&&s[r]!==void 0){const o=Wn(e,r,s[r]);o&&t.push(o)}}for(;++n<t.length;){const o=e.settings.tightAttributes?t[n].charAt(t[n].length-1):void 0;n!==t.length-1&&o!=='"'&&o!=="'"&&(t[n]+=" ")}return t.join("")}function Wn(e,s,t){const n=Fs(e.schema,s),r=e.settings.allowParseErrors&&e.schema.space==="html"?0:1,o=e.settings.allowDangerousCharacters?0:1;let i=e.quote,c;if(n.overloadedBoolean&&(t===n.attribute||t==="")?t=!0:(n.boolean||n.overloadedBoolean&&typeof t!="string")&&(t=!!t),t==null||t===!1||typeof t=="number"&&Number.isNaN(t))return"";const l=R(n.attribute,Object.assign({},e.settings.characterReferences,{subset:V.name[r][o]}));return t===!0||(t=Array.isArray(t)?(n.commaSeparated?Os:gs)(t,{padLeft:!e.settings.tightCommaSeparatedLists}):String(t),e.settings.collapseEmptyAttributes&&!t)?l:(e.settings.preferUnquoted&&(c=R(t,Object.assign({},e.settings.characterReferences,{attribute:!0,subset:V.unquoted[r][o]}))),c!==t&&(e.settings.quoteSmart&&_e(t,i)>_e(t,e.alternative)&&(i=e.alternative),c=i+R(t,Object.assign({},e.settings.characterReferences,{subset:(i==="'"?V.single:V.double)[r][o],attribute:!0}))+i),l+(c&&"="+c))}const Bn=["<","&"];function _t(e,s,t,n){return t&&t.type==="element"&&(t.tagName==="script"||t.tagName==="style")?e.value:R(e.value,Object.assign({},n.settings.characterReferences,{subset:Bn}))}function Zn(e,s,t,n){return n.settings.allowDangerousHtml?e.value:_t(e,s,t,n)}function Vn(e,s,t,n){return n.all(e)}const qn=gn("type",{invalid:Gn,unknown:Xn,handlers:{comment:vn,doctype:wn,element:Un,raw:Zn,root:Vn,text:_t}});function Gn(e){throw new Error("Expected node, not `"+e+"`")}function Xn(e){const s=e;throw new Error("Cannot compile unknown node `"+s.type+"`")}const Kn={},Jn={},Qn=[];function ea(e,s){const t=s||Kn,n=t.quote||'"',r=n==='"'?"'":'"';if(n!=='"'&&n!=="'")throw new Error("Invalid quote `"+n+"`, expected `'` or `\"`");return{one:ta,all:sa,settings:{omitOptionalTags:t.omitOptionalTags||!1,allowParseErrors:t.allowParseErrors||!1,allowDangerousCharacters:t.allowDangerousCharacters||!1,quoteSmart:t.quoteSmart||!1,preferUnquoted:t.preferUnquoted||!1,tightAttributes:t.tightAttributes||!1,upperDoctype:t.upperDoctype||!1,tightDoctype:t.tightDoctype||!1,bogusComments:t.bogusComments||!1,tightCommaSeparatedLists:t.tightCommaSeparatedLists||!1,tightSelfClosing:t.tightSelfClosing||!1,collapseEmptyAttributes:t.collapseEmptyAttributes||!1,allowDangerousHtml:t.allowDangerousHtml||!1,voids:t.voids||pn,characterReferences:t.characterReferences||Jn,closeSelfClosing:t.closeSelfClosing||!1,closeEmptyElements:t.closeEmptyElements||!1},schema:t.space==="svg"?vt:zs,quote:n,alternative:r}.one(Array.isArray(e)?{type:"root",children:e}:e,void 0,void 0)}function ta(e,s,t){return qn(e,s,t,this)}function sa(e){const s=[],t=e&&e.children||Qn;let n=-1;for(;++n<t.length;)s[n]=this.one(t[n],n,e);return s.join("")}function na(e){const s=this,t={...s.data("settings"),...e};s.compiler=n;function n(r){return ea(r,t)}}function aa(e){return e&&/^turn[0-9]+ifs[0-9]+$/.test(e)}function ra({attribution:e}){const s=m.useContext(Y),t=xs(s?.message.id,e.attributable_index),n=pt();return a.jsx(ia,{isHighlighted:t,isDebugMode:n,content:e.alt??"",attributableIndex:e.attributable_index,attributions:e.attributions??void 0,attributionsDebug:e.attributions_debug??void 0})}function oa({content:e,isHighlighted:s,isDebugMode:t,attributableIndex:n,attributions:r,attributionsDebug:o}){return a.jsxs("span",{className:N("relative",t&&"hover:border hover:border-red-500/50",s&&"bg-[#f6e9cc] dark:bg-[#826116]"),children:[t&&a.jsx("span",{className:"absolute -top-4 left-0 whitespace-nowrap text-xs text-red-500",children:a.jsx(B,{label:"Attribution Index",side:"top",children:n})}),a.jsx(Is,{attributions:r,attributionsDebug:o,children:a.jsx(we,{rehypePlugins:mt,remarkPlugins:ge,urlTransform:ft,components:{p:({children:i})=>a.jsx(a.Fragment,{children:i})},children:e})})]})}const ia=Rt.memo(oa);function Fe(e,s){try{return BigInt(e).toLocaleString(s)}catch{const t=Number(e);return e.includes("e")||e.includes("E")?t.toExponential():t.toLocaleString(s,{maximumFractionDigits:6})}}function ca({data:e,trackContentReferenceEvent:s}){m.useEffect(()=>{s(x.searchContentReferenceShown,"search_content_reference_shown",e.type)},[s,e.type]);const{currentLocale:t}=Ut();return e.expression&&e.result!=null?a.jsxs("div",{className:"no-scrollbar overflow-auto sm:overflow-hidden",children:[a.jsxs("div",{className:"pb-1 text-lg font-semibold",children:[e.prefix&&a.jsx("span",{children:e.prefix}),a.jsx("span",{children:Fe(e.result,t)}),e.suffix&&a.jsx("span",{children:e.suffix})]}),a.jsx("div",{className:"tracking-wide text-token-text-primary",children:`${e.expression}=${Fe(e.result,t)}`})]}):null}function la(e){return a.jsxs(Yt,{width:"19",height:"15",viewBox:"0 0 19 15",fill:"none",...e,children:[a.jsx("path",{d:"M4.42 0.75H2.8625H2.75C1.64543 0.75 0.75 1.64543 0.75 2.75V11.65C0.75 12.7546 1.64543 13.65 2.75 13.65H2.8625C2.8625 13.65 2.8625 13.65 2.8625 13.65C2.8625 13.65 4.00751 13.65 4.42 13.65M13.98 13.65H15.5375H15.65C16.7546 13.65 17.65 12.7546 17.65 11.65V2.75C17.65 1.64543 16.7546 0.75 15.65 0.75H15.5375H13.98",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M5.55283 4.21963C5.25993 3.92674 4.78506 3.92674 4.49217 4.21963C4.19927 4.51252 4.19927 4.9874 4.49217 5.28029L6.36184 7.14996L4.49217 9.01963C4.19927 9.31252 4.19927 9.7874 4.49217 10.0803C4.78506 10.3732 5.25993 10.3732 5.55283 10.0803L7.95283 7.68029C8.24572 7.3874 8.24572 6.91252 7.95283 6.61963L5.55283 4.21963Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"0.2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M9.77753 8.75003C9.3357 8.75003 8.97753 9.10821 8.97753 9.55003C8.97753 9.99186 9.3357 10.35 9.77753 10.35H13.2775C13.7194 10.35 14.0775 9.99186 14.0775 9.55003C14.0775 9.10821 13.7194 8.75003 13.2775 8.75003H9.77753Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"0.1"})]})}function da({codeMessage:e,codeExecutionOutputMessage:s,onDismiss:t,FormattedText:n}){const r=C();return a.jsx(Z.Root,{isOpen:!0,onClose:t,children:a.jsx(Z.Overlay,{children:a.jsxs(Z.Content,{className:"flex max-h-[75vh] max-w-lg flex-col overflow-hidden",children:[a.jsx(Z.Header,{title:r.formatMessage(ua.title),type:"success",closeButton:a.jsx(Wt,{onClick:t})}),a.jsxs("div",{className:"flex flex-1 flex-col overflow-auto bg-black",children:[a.jsx("div",{children:a.jsx(bs,{FormattedText:n,message:e})}),a.jsx("div",{children:a.jsx(ys,{message:s})})]})]})})})}const ua=fe({title:{id:"CodeExecutionOutputModal.title",defaultMessage:"Analysis"}});function ha({displayInfo:e,FormattedText:s,trackContentReferenceEvent:t}){const[n,r]=m.useState(!1),o=C();return m.useEffect(()=>{t(x.searchContentReferenceShown,"search_content_reference_shown",e.type)},[t,e.type]),a.jsxs(a.Fragment,{children:[a.jsx(B,{label:o.formatMessage(ma.viewAnalysis),side:"top",sideOffset:4,withArrow:!1,delayDuration:150,children:a.jsx("button",{onClick:()=>r(!0),children:a.jsx(la,{className:"-mt-0.5 ml-0.5 inline-block text-token-link hover:text-token-link-hover"})})}),n&&a.jsx(da,{FormattedText:s,codeMessage:e.codeMessage,codeExecutionOutputMessage:e.codeExecutionOutputMessage,onDismiss:()=>r(!1)})]})}const ma=fe({viewAnalysis:{id:"viewAnalysis",defaultMessage:"View analysis"}}),Oe=24;function fa(e){const s=e.split(".");let t=e;return s.length>1&&s.slice(0,-1).some(n=>n.length>0)&&(t=s.slice(0,-1).join(".")),t.length>Oe&&(t=t.slice(0,Oe-1)+"…"),t}function pa({fileRef:e,onClick:s}){const t=gt();if(!e)return null;const n=a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex shrink-0 items-center justify-center",children:a.jsx(Ws,{className:"icon-xs"})}),a.jsx("div",{className:"max-w-xs truncate",children:e.name}),a.jsx("div",{className:"shrink-0",children:a.jsx(Bs,{className:"icon-xs"})})]});return e.cloud_doc_url?a.jsx(T,{href:e.cloud_doc_url,target:"_blank",rel:"noreferrer",className:"text-xs",children:n}):a.jsx("button",{onClick:()=>{t(e.id,e.name),s?.()},className:"text-xs",children:n})}function ga({fileRef:e,index:s,trackContentReferenceEvent:t}){const n=gt(),r=m.useContext(Y),o=Bt("668322707"),i=Zt(r?.analyticsMetadata.clientThreadId??Vt),c=vs(i),l=m.useMemo(()=>({source:e.source,index:s}),[e.source,s]);m.useEffect(()=>{t(x.fileCitationShown,"file_citation_shown","file",l)},[]);const h=m.useMemo(()=>{const b=new Map;return r?.contentReferences?.forEach($=>{if($.type!=="file")return;const v=$.id;b.has(v)||b.set(v,b.size+1)}),b},[r?.contentReferences]),d=m.useMemo(()=>h.get(e.id)??0,[e.id,h]),u=m.useCallback(b=>{b?t(x.fileCitationHovered,"file_citation_hovered","file",l):t(x.fileCitationUnhovered,"file_citation_unhovered","file",l)},[l,t]),y=m.useCallback(()=>{t(x.fileCitationClicked,"file_citation_clicked","file",l)},[l,t]),g=m.useCallback(()=>n(e.id,e.name),[n,e.id,e.name]);if(c||o.isLoading)return null;if(o.layer.getValue("use_chip_style_citations",!1))return a.jsx(xa,{fileItem:e,citationNumber:d,onClickDownloadFile:g,trackTooltipOpenChange:u,trackCloudLinkClick:y});const f=`(${fa(e.name)})`;return a.jsx(B,{label:a.jsx(pa,{fileRef:e,onClick:y}),onOpenChange:u,side:"top",sideOffset:4,withArrow:!1,delayDuration:150,interactive:!0,wide:!0,children:e.cloud_doc_url?a.jsx(T,{href:e.cloud_doc_url,target:"_blank",rel:"noreferrer",className:"px-0.5 text-green-600",children:f}):a.jsx("button",{onClick:g,className:"px-0.5 text-green-600",children:f})})}function xa({fileItem:e,className:s,citationNumber:t,trackTooltipOpenChange:n,trackCloudLinkClick:r,onClickDownloadFile:o}){const i=ws(e.cloud_doc_url??""),c=i?.type??"File",l=i?.Icon??Ys,h=a.jsxs(a.Fragment,{children:[a.jsx(l,{alt:c,className:"mr-2 h-[16px] w-[16px] object-contain"}),t]}),d=N("ms-1 flex h-[22px] items-center rounded-xl px-2 text-xs !font-bold","bg-[#f4f4f4] !text-token-text-secondary hover:bg-token-text-primary hover:!text-token-main-surface-secondary dark:bg-token-main-surface-secondary dark:hover:bg-token-text-primary",s),u=a.jsx("span",{className:"relative inline-flex items-center",children:e.cloud_doc_url?a.jsx(T,{href:e.cloud_doc_url,className:d,onClick:r,children:h}):a.jsx("button",{onClick:o,className:d,children:h})});return a.jsx(ba,{fileItem:e,icon:a.jsx(l,{alt:c,className:"mr-2 h-[16px] w-[16px] object-contain"}),contentType:c,trackTooltipOpenChange:n,children:u})}function ba({fileItem:e,children:s,className:t,icon:n,contentType:r,trackTooltipOpenChange:o}){const i=K().resolvedTheme==="dark";return a.jsx(B,{label:a.jsxs(T,{href:e.cloud_doc_url,className:N("flex max-w-80 flex-col gap-1 text-left text-xs font-normal text-token-text-primary !no-underline",t),children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("div",{className:"h-4 w-4 shrink-0 overflow-hidden rounded-full",children:n}),a.jsx("div",{className:"truncate text-token-text-primary",children:r})]}),a.jsx("div",{className:"line-clamp-2 text-sm font-medium",children:e.name}),e.text&&a.jsx("div",{className:"line-clamp-2 text-sm text-token-text-secondary",children:e.text})]}),onOpenChange:o,side:"bottom",sideOffset:10,withArrow:!1,delayDuration:150,theme:i?"default":"white",align:"start",customPaddingClassName:"p-3",cornerRadius:"xl",customBorderClassName:"border-token-border-light border",wide:!0,children:s})}function ya(e,s){return new Date(e).toLocaleDateString(s,{month:"long",day:"numeric",year:"numeric"})}function va({metadata:e,trackContentReferenceEvent:s}){return e.items.length===0?null:a.jsx("div",{className:"mt-2 flex flex-col",children:e.items.map((t,n)=>a.jsx(wa,{item:t,index:n,trackContentReferenceEvent:s},n))})}function wa({item:e,index:s,trackContentReferenceEvent:t}){const n=C(),r={title:e.name,description:e.description,index:s},[o,i]=m.useMemo(()=>{const l=e.name.split(".");return l.length>1?[l.slice(0,-1).join("."),l[l.length-1]]:[e.name,""]},[e]),c=$s(qt.GDRIVE,i);return a.jsx(T,{className:"group/nav-list relative flex cursor-pointer items-center gap-6 border-b border-gray-200 py-3 hover:rounded-xl hover:bg-token-main-surface-secondary",href:e.cloud_doc_url??"/",onClick:()=>{t(x.searchContentReferenceClicked,"search_content_reference_clicked","nav_list",r)},children:a.jsxs("div",{className:"flex grow flex-col gap-1 overflow-hidden text-ellipsis",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(c,{className:"h-[16px] w-[16px] object-contain"}),a.jsx("div",{className:"line-clamp-2 text-sm font-semibold text-token-text-primary",children:o})]}),e.last_modified_time&&a.jsx("div",{className:"text-sm text-token-text-secondary",children:ya(e.last_modified_time,n.locale)})]}),a.jsx("div",{className:"ml-[21px] line-clamp-2 text-sm font-normal leading-snug text-token-text-secondary",children:e.description})]})})}var ie={exports:{}};(function(e,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=t;function t(n){if(n===null||n===!0||n===!1)return NaN;var r=Number(n);return isNaN(r)?r:r<0?Math.ceil(r):Math.floor(r)}e.exports=s.default})(ie,ie.exports);var $a=ie.exports;const ja=it($a);var ce={exports:{}};(function(e,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=t;function t(n){var r=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return r.setUTCFullYear(n.getFullYear()),n.getTime()-r.getTime()}e.exports=s.default})(ce,ce.exports);var Na=ce.exports;const ze=it(Na);function ka(e,s){var t=Pa(s);return t.formatToParts?Sa(t,e):Ca(t,e)}var _a={year:0,month:1,day:2,hour:3,minute:4,second:5};function Sa(e,s){try{for(var t=e.formatToParts(s),n=[],r=0;r<t.length;r++){var o=_a[t[r].type];o>=0&&(n[o]=parseInt(t[r].value,10))}return n}catch(i){if(i instanceof RangeError)return[NaN];throw i}}function Ca(e,s){var t=e.format(s),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(t);return[n[3],n[1],n[2],n[4],n[5],n[6]]}var ee={};function Pa(e){if(!ee[e]){var s=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),t=s==="06/25/2014, 00:00:00"||s==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";ee[e]=t?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return ee[e]}function St(e,s,t,n,r,o,i){var c=new Date(0);return c.setUTCFullYear(e,s,t),c.setUTCHours(n,r,o,i),c}var He=36e5,Da=6e4,te={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function Ct(e,s,t){var n,r;if(!e||(n=te.timezoneZ.exec(e),n))return 0;var o;if(n=te.timezoneHH.exec(e),n)return o=parseInt(n[1],10),Re(o)?-(o*He):NaN;if(n=te.timezoneHHMM.exec(e),n){o=parseInt(n[2],10);var i=parseInt(n[3],10);return Re(o,i)?(r=Math.abs(o)*He+i*Da,n[1]==="+"?-r:r):NaN}if(Aa(e)){s=new Date(s||Date.now());var c=t?s:Ta(s),l=le(c,e),h=t?l:Ma(s,l,e);return-h}return NaN}function Ta(e){return St(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function le(e,s){var t=ka(e,s),n=St(t[0],t[1]-1,t[2],t[3]%24,t[4],t[5],0).getTime(),r=e.getTime(),o=r%1e3;return r-=o>=0?o:1e3+o,n-r}function Ma(e,s,t){var n=e.getTime(),r=n-s,o=le(new Date(r),t);if(s===o)return s;r-=o-s;var i=le(new Date(r),t);return o===i?o:Math.max(o,i)}function Re(e,s){return-23<=e&&e<=23&&(s==null||0<=s&&s<=59)}var Ue={};function Aa(e){if(Ue[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),Ue[e]=!0,!0}catch{return!1}}var Ea=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,se=36e5,Ye=6e4,Ia=2,S={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:Ea};function de(e,s){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);var t={},n=t.additionalDigits==null?Ia:ja(t.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var r=La(e),o=Fa(r.date,n),i=o.year,c=o.restDateString,l=Oa(c,i);if(isNaN(l))return new Date(NaN);if(l){var h=l.getTime(),d=0,u;if(r.time&&(d=za(r.time),isNaN(d)))return new Date(NaN);if(r.timeZone||t.timeZone){if(u=Ct(r.timeZone||t.timeZone,new Date(h+d)),isNaN(u))return new Date(NaN)}else u=ze(new Date(h+d)),u=ze(new Date(h+d+u));return new Date(h+d+u)}else return new Date(NaN)}function La(e){var s={},t=S.dateTimePattern.exec(e),n;if(t?(s.date=t[1],n=t[3]):(t=S.datePattern.exec(e),t?(s.date=t[1],n=t[2]):(s.date=null,n=e)),n){var r=S.timeZone.exec(n);r?(s.time=n.replace(r[1],""),s.timeZone=r[1].trim()):s.time=n}return s}function Fa(e,s){var t=S.YYY[s],n=S.YYYYY[s],r;if(r=S.YYYY.exec(e)||n.exec(e),r){var o=r[1];return{year:parseInt(o,10),restDateString:e.slice(o.length)}}if(r=S.YY.exec(e)||t.exec(e),r){var i=r[1];return{year:parseInt(i,10)*100,restDateString:e.slice(i.length)}}return{year:null}}function Oa(e,s){if(s===null)return null;var t,n,r,o;if(e.length===0)return n=new Date(0),n.setUTCFullYear(s),n;if(t=S.MM.exec(e),t)return n=new Date(0),r=parseInt(t[1],10)-1,Be(s,r)?(n.setUTCFullYear(s,r),n):new Date(NaN);if(t=S.DDD.exec(e),t){n=new Date(0);var i=parseInt(t[1],10);return Ua(s,i)?(n.setUTCFullYear(s,0,i),n):new Date(NaN)}if(t=S.MMDD.exec(e),t){n=new Date(0),r=parseInt(t[1],10)-1;var c=parseInt(t[2],10);return Be(s,r,c)?(n.setUTCFullYear(s,r,c),n):new Date(NaN)}if(t=S.Www.exec(e),t)return o=parseInt(t[1],10)-1,Ze(s,o)?We(s,o):new Date(NaN);if(t=S.WwwD.exec(e),t){o=parseInt(t[1],10)-1;var l=parseInt(t[2],10)-1;return Ze(s,o,l)?We(s,o,l):new Date(NaN)}return null}function za(e){var s,t,n;if(s=S.HH.exec(e),s)return t=parseFloat(s[1].replace(",",".")),ne(t)?t%24*se:NaN;if(s=S.HHMM.exec(e),s)return t=parseInt(s[1],10),n=parseFloat(s[2].replace(",",".")),ne(t,n)?t%24*se+n*Ye:NaN;if(s=S.HHMMSS.exec(e),s){t=parseInt(s[1],10),n=parseInt(s[2],10);var r=parseFloat(s[3].replace(",","."));return ne(t,n,r)?t%24*se+n*Ye+r*1e3:NaN}return null}function We(e,s,t){s=s||0,t=t||0;var n=new Date(0);n.setUTCFullYear(e,0,4);var r=n.getUTCDay()||7,o=s*7+t+1-r;return n.setUTCDate(n.getUTCDate()+o),n}var Ha=[31,28,31,30,31,30,31,31,30,31,30,31],Ra=[31,29,31,30,31,30,31,31,30,31,30,31];function Pt(e){return e%400===0||e%4===0&&e%100!==0}function Be(e,s,t){if(s<0||s>11)return!1;if(t!=null){if(t<1)return!1;var n=Pt(e);if(n&&t>Ra[s]||!n&&t>Ha[s])return!1}return!0}function Ua(e,s){if(s<1)return!1;var t=Pt(e);return!(t&&s>366||!t&&s>365)}function Ze(e,s,t){return!(s<0||s>52||t!=null&&(t<0||t>6))}function ne(e,s,t){return!(e!=null&&(e<0||e>=25)||s!=null&&(s<0||s>=60)||t!=null&&(t<0||t>=60))}function U(e,s,t){var n=de(e,t),r=Ct(s,n,!0),o=new Date(n.getTime()-r),i=new Date(0);return i.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),i.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),i}const Ve="#30a633",qe="#f14d42",Ya="text-[#30a633]",Wa="text-[#f14d42]";var ae={line:{color:"#F66",width:1,dashPattern:[]},sync:{enabled:!0,group:1,suppressTooltips:!1},zoom:{enabled:!0,zoomboxBackgroundColor:"rgba(66,133,244,0.2)",zoomboxBorderColor:"#48F",zoomButtonText:"Reset Zoom",zoomButtonClass:"reset-zoom"},snap:{enabled:!1},callbacks:{beforeZoom:function(e,s){return!0},afterZoom:function(e,s){}}},Ba={id:"crosshair",afterInit:function(e){if(e.config.options.scales.x){var s=e.config.options.scales.x.type;if(!(s!=="linear"&&s!=="time"&&s!=="category"&&s!=="logarithmic")){e.options.plugins.crosshair===void 0&&(e.options.plugins.crosshair=ae),e.crosshair={enabled:!1,suppressUpdate:!1,x:null,originalData:[],originalXRange:{},dragStarted:!1,dragStartX:null,dragEndX:null,suppressTooltips:!1,ignoreNextEvents:0,reset:(function(){this.resetZoom(e,!1,!1)}).bind(this)};var t=this.getOption(e,"sync","enabled");t&&(e.crosshair.syncEventHandler=(function(n){this.handleSyncEvent(e,n)}).bind(this),e.crosshair.resetZoomEventHandler=(function(n){var r=this.getOption(e,"sync","group");n.chartId!==e.id&&n.syncGroup===r&&this.resetZoom(e,!0)}).bind(this),window.addEventListener("sync-event",e.crosshair.syncEventHandler),window.addEventListener("reset-zoom-event",e.crosshair.resetZoomEventHandler)),e.panZoom=this.panZoom.bind(this,e)}}},afterDestroy:function(e){var s=this.getOption(e,"sync","enabled");s&&(window.removeEventListener("sync-event",e.crosshair.syncEventHandler),window.removeEventListener("reset-zoom-event",e.crosshair.resetZoomEventHandler))},panZoom:function(e,s){if(e.crosshair.originalData.length!==0){var t=e.crosshair.end-e.crosshair.start,n=e.crosshair.min,r=e.crosshair.max;s<0?(e.crosshair.start=Math.max(e.crosshair.start+s,n),e.crosshair.end=e.crosshair.start===n?n+t:e.crosshair.end+s):(e.crosshair.end=Math.min(e.crosshair.end+s,e.crosshair.max),e.crosshair.start=e.crosshair.end===r?r-t:e.crosshair.start+s),this.doZoom(e,e.crosshair.start,e.crosshair.end)}},getOption:function(e,s,t){return Me(e.options.plugins.crosshair[s]?e.options.plugins.crosshair[s][t]:void 0,ae[s][t])},getXScale:function(e){return e.data.datasets.length?e.scales[e.getDatasetMeta(0).xAxisID]:null},getYScale:function(e){return e.scales[e.getDatasetMeta(0).yAxisID]},handleSyncEvent:function(e,s){var t=this.getOption(e,"sync","group");if(s.chartId!==e.id&&s.syncGroup===t){var n=this.getXScale(e);if(n){var r=s.original.native.buttons===void 0?s.original.native.which:s.original.native.buttons;s.original.type==="mouseup"&&(r=0);var o={type:s.original.type=="click"?"mousemove":s.original.type,chart:e,x:n.getPixelForValue(s.xValue),y:s.original.y,native:{buttons:r},stop:!0};e._eventHandler(o)}}},afterEvent:function(e,s){if(e.config.options.scales.x.length==0)return;let t=s.event;var n=e.config.options.scales.x.type;if(!(n!=="linear"&&n!=="time"&&n!=="category"&&xscaleType!=="logarithmic")){var r=this.getXScale(e);if(r){if(e.crosshair.ignoreNextEvents>0){e.crosshair.ignoreNextEvents-=1;return}var o=t.native.buttons===void 0?t.native.which:t.native.buttons;t.native.type==="mouseup"&&(o=0);var i=this.getOption(e,"sync","enabled"),c=this.getOption(e,"sync","group");if(!t.stop&&i){var s=new CustomEvent("sync-event");s.chartId=e.id,s.syncGroup=c,s.original=t,s.xValue=r.getValueForPixel(t.x),window.dispatchEvent(s)}var l=this.getOption(e,"sync","suppressTooltips");if(e.crosshair.suppressTooltips=t.stop&&l,e.crosshair.enabled=t.type!=="mouseout"&&t.x>r.getPixelForValue(r.min)&&t.x<r.getPixelForValue(r.max),!e.crosshair.enabled&&!e.crosshair.suppressUpdate)return t.x>r.getPixelForValue(r.max)&&(e.crosshair.suppressUpdate=!0,e.update("none")),e.crosshair.dragStarted=!1,!1;e.crosshair.suppressUpdate=!1;var h=this.getOption(e,"zoom","enabled");if(o===1&&!e.crosshair.dragStarted&&h&&(e.crosshair.dragStartX=t.x,e.crosshair.dragStarted=!0),e.crosshair.dragStarted&&o===0){e.crosshair.dragStarted=!1;var d=r.getValueForPixel(e.crosshair.dragStartX),u=r.getValueForPixel(e.crosshair.x);Math.abs(e.crosshair.dragStartX-e.crosshair.x)>1&&this.doZoom(e,d,u),e.update("none")}e.crosshair.x=t.x,e.draw()}}},afterDraw:function(e){if(e.crosshair.enabled)return e.crosshair.dragStarted?this.drawZoombox(e):(this.drawTraceLine(e),this.interpolateValues(e),this.drawTracePoints(e)),!0},beforeTooltipDraw:function(e){return!e.crosshair.dragStarted&&!e.crosshair.suppressTooltips},resetZoom:function(e){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(t){if(e.crosshair.originalData.length>0)for(var n=0;n<e.data.datasets.length;n++){var r=e.data.datasets[n];r.data=e.crosshair.originalData.shift(0)}e.crosshair.originalXRange.min?(e.options.scales.x.min=e.crosshair.originalXRange.min,e.crosshair.originalXRange.min=null):delete e.options.scales.x.min,e.crosshair.originalXRange.max?(e.options.scales.x.max=e.crosshair.originalXRange.max,e.crosshair.originalXRange.max=null):delete e.options.scales.x.max}e.crosshair.button&&e.crosshair.button.parentNode&&(e.crosshair.button.parentNode.removeChild(e.crosshair.button),e.crosshair.button=!1);var o=this.getOption(e,"sync","enabled");if(!s&&t&&o){var i=this.getOption(e,"sync","group"),c=new CustomEvent("reset-zoom-event");c.chartId=e.id,c.syncGroup=i,window.dispatchEvent(c)}t&&e.update("none")},doZoom:function(e,s,t){if(s>t){var n=s;s=t,t=n}var r=Me(e.options.plugins.crosshair.callbacks?e.options.plugins.crosshair.callbacks.beforeZoom:void 0,ae.callbacks.beforeZoom);if(!r(s,t))return!1;if(e.crosshair.dragStarted=!1,e.options.scales.x.min&&e.crosshair.originalData.length===0&&(e.crosshair.originalXRange.min=e.options.scales.x.min),e.options.scales.x.max&&e.crosshair.originalData.length===0&&(e.crosshair.originalXRange.max=e.options.scales.x.max),!e.crosshair.button){var o=document.createElement("button"),i=this.getOption(e,"zoom","zoomButtonText"),c=this.getOption(e,"zoom","zoomButtonClass"),l=document.createTextNode(i);o.appendChild(l),o.className=c,o.addEventListener("click",(function(){this.resetZoom(e)}).bind(this)),e.canvas.parentNode.appendChild(o),e.crosshair.button=o}e.options.scales.x.min=s,e.options.scales.x.max=t;var h=e.crosshair.originalData.length===0,d=e.config.options.scales.x.type!=="category";if(d)for(var u=0;u<e.data.datasets.length;u++){var y=[],g=0,f=!1,b=!1;h&&(e.crosshair.originalData[u]=e.data.datasets[u].data);for(var $=e.crosshair.originalData[u],v=0;v<$.length;v++){var D=$[v],M=D.x!==void 0?D.x:NaN;M>=s&&!f&&g>0&&(y.push($[g-1]),f=!0),M>=s&&M<=t&&y.push(D),M>t&&!b&&g<$.length&&(y.push(D),b=!0),g+=1}e.data.datasets[u].data=y}if(e.crosshair.start=s,e.crosshair.end=t,h){var F=this.getXScale(e);e.crosshair.min=F.min,e.crosshair.max=F.max}e.crosshair.ignoreNextEvents=2,e.update("none");var H=this.getOption(e,"callbacks","afterZoom");H(s,t)},drawZoombox:function(e){var s=this.getYScale(e),t=this.getOption(e,"zoom","zoomboxBorderColor"),n=this.getOption(e,"zoom","zoomboxBackgroundColor");e.ctx.beginPath(),e.ctx.rect(e.crosshair.dragStartX,s.getPixelForValue(s.max),e.crosshair.x-e.crosshair.dragStartX,s.getPixelForValue(s.min)-s.getPixelForValue(s.max)),e.ctx.lineWidth=1,e.ctx.strokeStyle=t,e.ctx.fillStyle=n,e.ctx.fill(),e.ctx.fillStyle="",e.ctx.stroke(),e.ctx.closePath()},drawTraceLine:function(e){var s=this.getYScale(e),t=this.getOption(e,"line","width"),n=this.getOption(e,"line","color"),r=this.getOption(e,"line","dashPattern"),o=this.getOption(e,"snap","enabled"),i=e.crosshair.x;o&&e._active.length&&(i=e._active[0].element.x),e.ctx.beginPath(),e.ctx.setLineDash(r),e.ctx.moveTo(i,s.getPixelForValue(s.max)),e.ctx.lineWidth=t,e.ctx.strokeStyle=n,e.ctx.lineTo(i,s.getPixelForValue(s.min)),e.ctx.stroke(),e.ctx.setLineDash([])},drawTracePoints:function(e){for(var s=0;s<e.data.datasets.length;s++){var t=e.data.datasets[s],n=e.getDatasetMeta(s),r=e.scales[n.yAxisID];n.hidden||!t.interpolate||(e.ctx.beginPath(),e.ctx.arc(e.crosshair.x,r.getPixelForValue(t.interpolatedValue),3,0,2*Math.PI,!1),e.ctx.fillStyle="white",e.ctx.lineWidth=2,e.ctx.strokeStyle=t.borderColor,e.ctx.fill(),e.ctx.stroke())}},interpolateValues:function(e){for(var s=0;s<e.data.datasets.length;s++){var t=e.data.datasets[s],n=e.getDatasetMeta(s),r=e.scales[n.xAxisID],o=r.getValueForPixel(e.crosshair.x);if(!(n.hidden||!t.interpolate)){var i=t.data,c=i.findIndex(function(u){return u.x>=o}),l=i[c-1],h=i[c];if(e.data.datasets[s].steppedLine&&l)t.interpolatedValue=l.y;else if(l&&h){var d=(h.y-l.y)/(h.x-l.x);t.interpolatedValue=l.y+(o-l.x)*d}else t.interpolatedValue=NaN}}}};Js.register(Qs,en,tn,sn,nn,an,rn,on,cn,Ba);function z(e,s){return U(new Date(e*1e3),s??"America/New_York")}function Ge(e,s,t){const n=z(s,t);return e.formatTime(n,{hour:"numeric",minute:"numeric"})}function Za(e,s,t){const n=z(s,t);return e.formatDate(n,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"numeric"})}function q(e,s,t){const n=z(s,t);return e.formatDate(n,{month:"short",day:"numeric",year:"numeric"})}function re(e,s,t){const n=z(s,t);return e.formatDate(n,{month:"short",year:"numeric"})}function Xe(e,s,t){const n=z(s,t);return e.formatDate(n,{month:"short",day:"numeric"})}function Va(e,s,t){const n=z(s,t);return e.formatDate(n,{weekday:"short",month:"short",day:"numeric"})}function qa(e,s,t){const n=z(s,t);return e.formatDate(n,{year:"numeric"})}const Ga=100,Xa=["1d","5d","1m","6m","ytd","1y","5y"],Ke={"1d":{label:"1D",formatTimestampLabel:Ge,formatTimestampTooltip:Ge,maxTicksLimit:6,lineTension:.1},"5d":{label:"5D",formatTimestampLabel:Xe,formatTimestampTooltip:Za,maxTicksLimit:6,lineTension:.1},"1m":{label:"1M",formatTimestampLabel:Xe,formatTimestampTooltip:Va,maxTicksLimit:6,lineTension:.1,useUtc:!0},"6m":{label:"6M",formatTimestampLabel:re,formatTimestampTooltip:q,maxTicksLimit:5,lineTension:.1,useUtc:!0},ytd:{label:"YTD",formatTimestampLabel:re,formatTimestampTooltip:q,maxTicksLimit:5,lineTension:.1,useUtc:!0},"1y":{label:"1Y",formatTimestampLabel:re,formatTimestampTooltip:q,maxTicksLimit:5,lineTension:.2,useUtc:!0},"5y":{label:"5Y",formatTimestampLabel:qa,formatTimestampTooltip:q,maxTicksLimit:5,lineTension:.2,useUtc:!0}};function Ka({isUp:e,histories:s,defaultInterval:t,onSelectHistoryInterval:n,latestTradingPeriod:r,timezone:o}){return a.jsx(a.Fragment,{children:s&&t&&r?a.jsx(Ja,{isUp:e,histories:s,defaultInterval:t,onSelectHistoryInterval:n,latestTradingPeriod:r,timezone:o}):a.jsx(W,{className:"h-full",index:1,width:100})})}function Ja({isUp:e,histories:s,defaultInterval:t,onSelectHistoryInterval:n,latestTradingPeriod:r,timezone:o}){const[i,c]=m.useState(null),[l,h]=m.useState(!1),[d,u]=m.useState(t),y=d==="1d",g=m.useMemo(()=>{let p=s.quotes[d].filter(j=>j.close>=0);if(y&&r){const j=r.regular.start_timestamp,_=r.regular.end_timestamp;if(p=p.filter(A=>A.timestamp>=j&&A.timestamp<=_),p.length===0||p[p.length-1].timestamp<_){let J=p.length>0?p[p.length-1].timestamp:j-600;for(;J<_;)J+=600,p.push({timestamp:J,close:null})}}return p},[s,d,y,r]),f=Object.keys(s.quotes),b=Ke[d],{formatTimestampTooltip:$,maxTicksLimit:v,useUtc:D=!1}=b,M=C(),F=m.useMemo(()=>{const{formatTimestampLabel:p,lineTension:j}=b;return{labels:g.map(_=>p(M,_.timestamp,D?"UTC":o)),datasets:[{data:g.map(_=>_.close),borderColor:e?Ve:qe,pointRadius:0,pointHoverRadius:4,pointStyle:"circle",backgroundColor:e?Ve:qe,borderWidth:3,lineTension:j??.4}]}},[b,g,e,D,o,M]),H=xt(),ke=K().theme==="dark";return a.jsxs("div",{className:"flex h-full flex-col gap-6",children:[a.jsx("div",{className:"flex items-center justify-between text-xs font-semibold text-token-text-tertiary sm:justify-start sm:gap-6",children:f.map(p=>a.jsx("button",{onClick:()=>{u(p),n?.(p)},className:N("px-2 py-1 uppercase hover:text-token-text-secondary",{"border-b-2 border-solid border-token-text-primary !text-token-text-primary":d===p}),children:Ke[p].label},p))}),a.jsxs("div",{className:"relative h-full",onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),children:[a.jsx(ln,{options:{responsive:!0,maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"},hover:{mode:l?"nearest":"point"},animation:!1,scales:{x:{afterBuildTicks:p=>{if(p.ticks.length>v)if(y)p.ticks=p.ticks.filter((j,_)=>g[_].timestamp%(H?3600:7200)===0);else{const j=Math.ceil(p.ticks.length/(v-1));p.ticks=p.ticks.filter((_,A)=>A>0&&(A%j===0||A===p.ticks.length-1))}},grid:{display:!1},ticks:{align:"end"}},y:{ticks:{maxTicksLimit:7},border:{display:!1},grid:{color:ke?"rgba(255, 255, 255, 0.1)":"rgba(229, 229, 229, 0.5)"}}},plugins:{datalabels:{display:!1},legend:{display:!1},tooltip:{enabled:!1,animation:!1,displayColors:!1,callbacks:{title:function(p){const j=p[0];if(!j)return"";const _=g[j.dataIndex]?.timestamp;return _?$(M,_,D?"UTC":o):""}},external:({tooltip:p})=>{c(j=>{const _=p.chart.width,A=p.caretX>_-Ga;return!j||j.x!==p.caretX||j.y!==p.caretY||j.opacity!==p.opacity||j.flip!==A?{...j,x:p.caretX,y:p.caretY,dateLabel:p.title?.[0],value:ue(p.dataPoints?.[0]?.parsed?.y??0),opacity:p.opacity,flip:A}:j})}},dropShadow:!1,crosshair:{line:{color:ke?"rgba(255, 255, 255, 0.3)":"rgba(0, 0, 0, 0.3)",width:.5},zoom:{enabled:!1}}}},data:F}),a.jsx(Qa,{tooltipData:i})]})]})}function Qa({tooltipData:e}){return!e||!e.opacity?null:a.jsxs("div",{style:{left:e.flip?e.x-5:e.x+5,top:e.y-5},className:N("pointer-events-none absolute translate-y-[-100%] whitespace-nowrap bg-black p-2.5",e.flip?"translate-x-[-100%] rounded-bl-xl rounded-tl-xl rounded-tr-xl":"rounded-br-xl rounded-tl-xl rounded-tr-xl"),children:[a.jsx("div",{className:"text-white",children:e.value}),a.jsx("div",{className:"text-xs text-gray-400",children:e.dateLabel})]})}function er(e){return e?Xa.filter(t=>t in e.quotes).find(t=>e.quotes[t].length>0):void 0}function ue(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function tr({contentReference:e,trackContentReferenceEvent:s}){const t=C();m.useEffect(()=>{s(x.searchContentReferenceShown,"search_content_reference_shown","stock")},[s]);const n=er(e?.stock?.histories),r=e?.stock,[o,i]=m.useState(n),c=o==="1d",l=r?.histories?.quotes?.[o??""]?.[0],h=o&&o in he?o:void 0,d=r&&(l&&!c?{changePercentage:(r.price.price-l.close)/l.close*100,changeAmount:r.price.price-l.close,changeLabel:h?t.formatMessage(he[h]):"",isUp:r.price.price>l.close}:{changePercentage:r.price.change_percent*100,changeAmount:r.price.change,changeLabel:sr(r.price.latest_trade_timestamp,r.asset.timezone,t),isUp:r.price.change>0});return a.jsxs("div",{className:"flex h-[340px] flex-col gap-6",children:[a.jsx("div",{className:"shrink-0 grow-0",children:a.jsx(nr,{data:r??null,priceChange:d??null,url:e?.url??null})}),a.jsx("div",{className:"h-full",children:a.jsx(Ka,{isUp:d?.isUp??!1,defaultInterval:n,histories:r?.histories,onSelectHistoryInterval:u=>i(u),latestTradingPeriod:r?.asset.latest_trading_period,timezone:r?.asset.timezone??null})})]})}function sr(e,s,t){function n(r,o){const c=U(new Date,o),l=t.formatDate(c,{year:"numeric",month:"2-digit",day:"2-digit"}),h=de(r*1e3),d=U(h,o),u=t.formatDate(d,{year:"numeric",month:"2-digit",day:"2-digit"});return l===u}if(!e||!s||n(e,s))return t.formatMessage(he["1d"]);{const r=de(e*1e3),o=U(r,s);return t.formatDate(o,{month:"long",day:"numeric"})}}function nr({data:e,priceChange:s,url:t}){function n(r){const{isUp:o,changePercentage:i,changeLabel:c,changeAmount:l}=r,h=Math.abs(i).toFixed(2),d=ue(l);return a.jsxs("span",{className:N("flex items-center gap-1 text-sm",o?Ya:Wa),children:[a.jsx("span",{className:"font-semibold",children:a.jsx(w,{id:"3x4Lkl",defaultMessage:"{sign}{changeAmount}",values:{changeAmount:d,sign:o?"+":""}})}),a.jsx(w,{id:"KkjxiB",defaultMessage:"{sign}{changePercentage}%",values:{changePercentage:h,sign:o?"+":"-"}}),a.jsx("span",{className:"text-token-text-primary",children:c})]})}return a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-semibold",children:e?a.jsx(w,{id:"+2WHuv",defaultMessage:"{name} ({ticker})",values:{name:e.asset.name,ticker:e.asset.ticker}}):a.jsx("div",{className:"w-32",children:a.jsx(W,{index:9,width:100})})}),a.jsx("div",{className:"text-sm text-token-text-tertiary",children:e?a.jsxs(a.Fragment,{children:[e.asset.name,t!=null&&a.jsxs(a.Fragment,{children:[" · ",a.jsx(T,{href:t,className:"text-token-link hover:underline",children:Ks(t,"hostname")})]})]}):a.jsx("div",{className:"mt-2 w-36",children:a.jsx(W,{index:6,width:100})})})]}),a.jsxs("div",{children:[a.jsx("div",{className:"flex justify-end text-lg font-semibold",children:e?a.jsx(w,{id:"s+1uly",defaultMessage:"{price}",values:{price:ue(e.price.price)}}):a.jsx("div",{className:"w-32",children:a.jsx(W,{index:0,width:100})})}),a.jsx("div",{className:"flex items-center gap-1",children:s?n(s):a.jsx("div",{className:"mt-2 w-40",children:a.jsx(W,{index:3,width:100})})})]})]})}const he=fe({"1d":{id:"SMdcuo",defaultMessage:"Today"},"5d":{id:"HCA6lr",defaultMessage:"Past 5 days"},"1m":{id:"DJpPMq",defaultMessage:"Past month"},"6m":{id:"1mUJ2L",defaultMessage:"Past 6 months"},ytd:{id:"b9KkhV",defaultMessage:"Year to date"},"1y":{id:"XnvD9A",defaultMessage:"Past year"},"5y":{id:"DfI1RB",defaultMessage:"Past 5 years"}}),ar=4;function rr({metadata:e,analyticsMetadata:s,trackContentReferenceEvent:t}){const n=js(),r=e.images,o=r.map(d=>d.thumbnail_url),i=Gt({queries:o.map(d=>dn(d)),combine:d=>{const u=new Set;return d.forEach((y,g)=>{y.isSuccess&&u.add(o[g])}),u}}),c=r.filter(d=>i.has(d.thumbnail_url)),l=e.images.length;if(l===0)return null;if(l===1){const d=e.images[0];return a.jsx(Je,{image:d,imageSource:Ce.Turn,analyticsMetadata:s,trackContentReferenceEvent:t,className:"float-image z-10 float-right clear-right mb-7 ml-7 mt-1 min-w-32 max-w-[22%] overflow-hidden rounded-xl border-[0.5px] border-token-border-light"},d.content_url)}const h=n?c.length:Math.min(c.length,ar);return a.jsx("div",{className:"no-scrollbar mb-6 mt-1 flex min-h-36 flex-nowrap gap-0.5 overflow-auto sm:gap-1 sm:overflow-hidden xl:min-h-44",children:c.slice(0,h).map((d,u)=>a.jsx("div",{className:N("relative aspect-square max-h-48 w-32 shrink-0 overflow-hidden rounded-xl border-[0.5px] border-token-border-light sm:w-[calc((100%-1rem)/4)] md:shrink",u===0&&"rounded-l-xl",u===h-1&&"rounded-r-xl"),children:a.jsx(Je,{image:d,imageSource:Ce.Turn,analyticsMetadata:s,trackContentReferenceEvent:t,className:"h-full w-full"},d.thumbnail_url)},d.thumbnail_url))})}const or=m.memo(rr,(e,s)=>e.numImageResults===s.numImageResults&&e.analyticsMetadata===s.analyticsMetadata&&e.trackContentReferenceEvent===s.trackContentReferenceEvent&&e.metadata.images.length===s.metadata.images.length&&e.metadata.images.every((t,n)=>t.content_url===s.metadata.images[n].content_url));function Je({image:e,imageSource:s,className:t,imgClassName:n,style:r,analyticsMetadata:o,trackContentReferenceEvent:i}){const c=un(e),{isSuccess:l}=wt(c),h=m.useMemo(()=>({image_url:c,title:e?.title}),[c,e?.title]);m.useEffect(()=>{e&&l&&i(x.searchContentReferenceShown,"search_content_reference_shown","image_v2",h)},[i,e,l,h]);const d=Ns.useStore();return a.jsx("button",{className:N("relative aspect-square overflow-hidden",t),style:r,onClick:()=>{i(x.searchContentReferenceClicked,"search_content_reference_clicked","image_v2",h),d.setCurrentImage(e?{image:e,source:s,analyticsMetadata:o}:void 0)},children:e?l?a.jsx(hn,{children:a.jsx("img",{src:c,alt:e?.content_url,className:N("m-0 h-full w-full bg-token-main-surface-tertiary object-cover",n)})}):a.jsx("div",{className:"h-full w-full animate-pulse bg-token-main-surface-tertiary"}):a.jsx("div",{className:"aspect-square h-full w-full animate-pulse bg-token-main-surface-tertiary"})})}const ir={google_maps:{title:"Google Maps"}};function cr({metadata:e,trackContentReferenceEvent:s}){m.useEffect(()=>{s(x.searchContentReferenceShown,"search_content_reference_shown",e.type)},[s,e.type]);const t=ir[e.provider]?.title??"Maps";return a.jsx("span",{children:a.jsx(w,{id:"ZSUz1k",defaultMessage:" ({link}) ",values:{link:a.jsx(T,{href:e.url,children:t})}})})}function lr({metadata:e,trackContentReferenceEvent:s}){return e.items.length===0?null:a.jsxs("div",{className:"mt-6 flex flex-col gap-3",children:[e.title&&a.jsx("div",{className:"-mb-1 font-semibold text-token-text-primary",children:e.title}),e.items.map((t,n)=>a.jsx(dr,{item:t,index:n,trackContentReferenceEvent:s},n))]})}function dr({item:e,index:s,trackContentReferenceEvent:t}){const{isSuccess:n}=wt(e.thumbnail_url??void 0),r={url:e.url,title:e.title,index:s};m.useEffect(()=>{t(x.searchContentReferenceShown,"search_content_reference_shown","nav_list",r)},[]);const i=C().locale,c=e.pub_date!=null?new Date(e.pub_date*1e3):null,l=new Intl.RelativeTimeFormat(i,{numeric:"auto"}),h=c?Math.max(Math.floor((Date.now()-c.getTime())/(1e3*60*60*24)),0):null;let d=h!=null?l.format(-h,"day"):null;return i.startsWith("en")&&d&&(d=d.charAt(0).toUpperCase()+d.slice(1)),a.jsxs(T,{className:"group/nav-list relative flex items-center gap-6 py-1.5",href:e.url,onClick:()=>{t(x.searchContentReferenceClicked,"search_content_reference_clicked","nav_list",r)},children:[a.jsx("div",{className:"absolute bottom-0 left-0 top-0 w-[3px] rounded-b-lg rounded-t-lg bg-black/10"}),a.jsxs("div",{className:"ml-4 flex grow flex-col gap-1 overflow-hidden text-ellipsis",children:[a.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-token-text-primary",children:[a.jsx(xe,{url:e.url,size:32,minSize:16,className:"icon-sm my-0 rounded-full"}),e.attribution??a.jsx(ye,{url:e.url})]}),a.jsx("div",{className:"line-clamp-2 font-semibold text-token-link decoration-token-link group-hover/nav-list:underline",children:e.title}),d&&a.jsx("div",{className:"text-xs text-token-text-tertiary",children:d})]}),n&&e.thumbnail_url&&a.jsx("div",{className:"h-16 w-16 flex-shrink-0 self-start overflow-hidden",children:a.jsx("img",{src:e.thumbnail_url,className:"m-0 h-full w-full rounded-lg object-cover",alt:e.title})})]})}const ur=5;function hr({sourcesFootnote:e,onShowSearchResults:s,trackContentReferenceEvent:t}){const n=ks(),r={urls:e.sources.map(o=>o.url).toString(),has_images:e.has_images};return m.useEffect(()=>{t(x.searchContentReferenceShown,"search_content_reference_shown","sources_footnote",r)},[]),a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"absolute h-[60px]",children:a.jsxs("button",{className:N("not-prose group/footnote mb-2 mt-3 flex w-fit items-center gap-1.5 rounded-xl border border-token-border-light bg-token-main-surface-primary py-2 hover:bg-token-main-surface-secondary","pl-3 pr-2.5"),onClick:()=>{function o(){t(x.searchContentReferenceClicked,"search_content_reference_clicked","sources_footnote",r),s(Ss.Sources)}n?_s({className:"open-thread-sidebar",update:o}):o()},children:[a.jsx("div",{className:"flex items-center gap-0.5 text-sm font-medium",children:a.jsx(w,{id:"/48IOP",defaultMessage:"Sources"})}),e.sources.length>0&&a.jsx("div",{className:"flex flex-row-reverse",children:e.sources.slice(0,ur).reverse().map((o,i)=>a.jsx("div",{className:N("flex items-center overflow-hidden rounded-full border-token-main-surface-primary bg-token-main-surface-primary","-mr-1.5 first:mr-0","border-2","group-hover/footnote:border-token-main-surface-secondary","relative"),children:a.jsx(xe,{url:o.url,size:32,minSize:16,className:"icon-md"})},i))})]})}),a.jsx("div",{className:"h-[60px]"})]})}function I(e,s){const t=Cs(e),n=s<0?"-":"+",r=Math.abs(s),o=Math.floor(r/3600).toString().padStart(2,"0"),i=Math.floor(r%3600/60).toString().padStart(2,"0"),c=`${n}${o}:${i}`;return U(t,c)}function me(e,s){if(Pe(s))return a.jsx(w,{id:"wxni9H",defaultMessage:"Today"});const t=new Date;return t.setTime(t.getTime()+7*24*60*60*1e3),s<t&&s>new Date||Pe(s)?e.formatDate(s,{weekday:"long"}):e.formatDate(s,{weekday:"short",month:"short",day:"numeric"})}const mr="webp",fr=250,pr=187,gr="srgb",xr=4,br="uchar",yr=72,vr=!1,wr=!1,$r=!0,jr="https://cdn.oaistatic.com/assets/missing-logo-h96s4tk9.webp",Qe={format:mr,width:fr,height:pr,space:gr,channels:xr,depth:br,density:yr,isProgressive:vr,hasProfile:wr,hasAlpha:$r,src:jr};function Dt({team:e,className:s}){const[t,n]=m.useState(e.logo??Qe.src),r=()=>{ct.addError("Unable to load sports widget logo",{name:e.name,logo:e.logo}),n(Qe.src)};return a.jsx("img",{src:t,alt:e.name,className:s,onError:r})}const et=6;function Nr({scheduleRef:e,trackContentReferenceEvent:s}){const[t,n]=m.useState(!0),r=C(),o=e.games.length>0;if(m.useEffect(()=>{o&&s(x.searchContentReferenceShown,"search_content_reference_shown","sports",{hasSchedule:!0})},[o]),!o)return null;const c=(r.formatDateToParts(new Date,{timeZoneName:"long"}).find(u=>u.type==="timeZoneName")?.value??Intl.DateTimeFormat().resolvedOptions().timeZone).replace(/Daylight|Standard/g,"");let l=e.games;const h=u=>Math.abs(new Date().getTime()-new Date(u.date).getTime());h(l[0])>h(l[l.length-1])&&(l=l.slice().reverse());const d=t?l.slice(0,et):l;return a.jsxs("div",{className:"not-prose mb-3",children:[a.jsx("div",{className:"font-semibold",children:a.jsx(w,{id:"LA6z9q",defaultMessage:"{league} Schedule",values:{league:e.league.display_name}})}),a.jsx("div",{className:"text-sm text-token-text-secondary",children:c}),d.length===1?a.jsx("div",{children:a.jsx(De,{children:a.jsx(Ae.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},exit:{opacity:0,y:-15},transition:{duration:.2},children:a.jsx("div",{className:"mt-3 rounded-xl border border-token-border-medium py-3",children:a.jsx(_r,{game:d[0]})})})})}):a.jsx("div",{className:"grid grid-cols-1 pt-3 lg:grid-cols-2",children:a.jsx(De,{children:d.map((u,y)=>a.jsx(Ae.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0,transition:{delay:y*.04}},exit:{opacity:0,y:-15},transition:{duration:.2},children:a.jsx("div",{className:N("border-b border-token-border-medium py-3",y%2===0&&"lg:border-r lg:pr-4",y%2===1&&"lg:pl-4",Math.floor(y/2)===Math.ceil(l.length/2)-1&&"lg:border-b-0",y===l.length-1&&"border-b-0"),children:a.jsx(kr,{game:u})})},y))})}),l.length>et&&a.jsx("div",{className:"mt-2 flex items-center justify-between",children:a.jsx("button",{className:"flex items-center text-sm font-semibold",onClick:()=>n(!t),children:t?a.jsx(w,{id:"BH/Ee5",defaultMessage:"Show more {icon}",values:{icon:a.jsx(Zs,{className:"mb-[-2px]"})}}):a.jsx(w,{id:"Z9BlEu",defaultMessage:"Show less {icon}",values:{icon:a.jsx(Vs,{className:"mb-[-2px]"})}})})})]})}function kr({game:e}){const s=Mt(e),t=[e.first_team_info,e.second_team_info],n=t.find(c=>c.location==="home")??e.first_team_info,r=t.find(c=>c.location==="away")??e.second_team_info,o=s?.team.name===n?.team.name,i=s?.team.name===r?.team.name;return a.jsxs("div",{className:"flex w-full gap-1.5 py-3 text-base",children:[a.jsxs("div",{className:"flex flex-auto flex-col items-start gap-1 pr-3",children:[a.jsx(G,{team:r.team,isWinner:i,logoSize:"small"}),a.jsx(G,{team:n.team,isWinner:o,logoSize:"small"})]}),a.jsxs("div",{className:"flex flex-none flex-col items-start gap-1",children:[a.jsx(X,{score:r.score,isWinner:i}),a.jsx(X,{score:n.score,isWinner:o})]}),a.jsx("div",{className:"flex min-w-24 flex-none flex-col items-end justify-center gap-1 text-sm",children:a.jsx(At,{game:e})})]})}function _r({game:e}){const s=Mt(e),t=[e.first_team_info,e.second_team_info],n=t.find(c=>c.location==="home")??e.first_team_info,r=t.find(c=>c.location==="away")??e.second_team_info,o=s?.team.name===n?.team.name,i=s?.team.name===r?.team.name;return a.jsxs("div",{className:"flex w-full py-3 text-base",children:[a.jsx("div",{className:"flex flex-1 items-center justify-center px-2",children:a.jsx(G,{team:n.team,isWinner:o})}),a.jsx("div",{className:"mr-8 flex items-center justify-end",children:a.jsx(X,{score:n.score,isWinner:o,className:"text-lg font-semibold"})}),a.jsx("div",{className:"flex w-24 shrink flex-col items-center justify-center gap-1 align-middle text-sm",children:a.jsx(At,{game:e})}),a.jsx("div",{className:"ml-8 flex items-center justify-start",children:a.jsx(X,{score:r.score,isWinner:i,className:"text-lg font-semibold"})}),a.jsx("div",{className:"flex flex-1 items-center justify-center px-2",children:a.jsx(G,{team:r.team,isWinner:i})})]})}function Tt(e){return e.live?"live":new Date(e.date)<new Date?"complete":"scheduled"}function Mt(e){return Tt(e)!=="complete"||e.first_team_info.score==null||e.second_team_info.score==null?null:e.first_team_info.score>e.second_team_info.score?e.first_team_info:e.second_team_info}function G({team:e,isWinner:s,logoSize:t}){return a.jsxs("span",{className:N("flex items-center gap-1",s&&"font-semibold","max-w-64 lg:max-w-52 xl:max-w-64"),children:[e.logo&&a.jsx(Dt,{team:{name:e.name,logo:e.logo},className:N(t==="small"?"w-6":"w-8")}),a.jsx("span",{className:"truncate",children:e.name})]})}function X({score:e,isWinner:s,className:t}){return e==null?null:a.jsx("span",{className:N(s&&"font-semibold",t),children:e})}function At({game:e}){const s=C();switch(Tt(e)){case"live":return a.jsxs(a.Fragment,{children:[a.jsx(Sr,{}),a.jsx("div",{children:e.details})]});case"complete":return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"font-semibold",children:a.jsx(w,{id:"q/iMZL",defaultMessage:"Final"})}),a.jsx("div",{className:"text-token-text-secondary",children:me(s,new Date(e.date))})]});case"scheduled":{const t=new Date(e.date);return isNaN(t.getTime())?null:a.jsxs(a.Fragment,{children:[a.jsx("div",{children:me(s,t)}),a.jsx("div",{className:"text-token-text-secondary",children:s.formatDate(t,{timeStyle:"short"})})]})}}}function Sr(){return a.jsx("div",{className:"rounded-[4px] bg-token-surface-error px-1.5 py-1 text-xs font-semibold text-white",children:a.jsx(w,{id:"vObALn",defaultMessage:"Live"})})}function Cr({standingsRef:e,trackContentReferenceEvent:s}){const[t,n]=m.useState(0),r=e.conferences.length>0;m.useEffect(()=>{r&&s(x.searchContentReferenceShown,"search_content_reference_shown","sports",{hasStandings:!0})},[r]);const o=e.conferences[t],i=e.conferences.length>1?e.conferences.map((c,l)=>a.jsx("button",{className:N(t===l?"text-token-text-primary":"text-token-text-tertiary","text-sm font-semibold"),onClick:()=>n(l),children:c.name},c.name)):null;return a.jsxs(a.Fragment,{children:[i&&a.jsx("div",{className:"flex gap-4",children:i}),a.jsx("div",{className:"mt-3",children:o.divisions.map(c=>c.name?a.jsx("div",{className:"mt-3",children:a.jsx(tt,{division:c,teamsColumnHeader:c.name})},c.name):a.jsx(tt,{division:c}))})]})}function tt({division:e,teamsColumnHeader:s}){const t=e.headers.map(n=>n.key);return a.jsxs(P.Root,{size:"compact",className:"not-prose",children:[a.jsxs(P.Header,{children:[a.jsx(Pr,{children:s??a.jsx(w,{id:"kKSGje",defaultMessage:"Team"})}),e.headers.map(n=>a.jsx(Et,{textAlign:"center",className:"min-w-11 !px-0",children:a.jsx(st,{data:n})},n.key))]}),a.jsx(P.Body,{children:e.teams.map(({team:n,data:r},o)=>{const i=r.reduce((c,l)=>(c[l.key]=l,c),{});return a.jsxs(P.Row,{children:[a.jsx(P.Cell,{className:"w-full !border-0 !py-0 !pl-0",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"mr-2 w-4 whitespace-nowrap tabular-nums text-token-text-tertiary",children:o+1}),a.jsxs("div",{className:"flex items-center justify-start gap-2",children:[a.jsx(Dt,{team:n,className:"w-6"}),a.jsx("span",{className:"whitespace-nowrap text-base",children:n.name})]})]})}),t.map(c=>a.jsx(P.Cell,{className:"min-w-11 whitespace-nowrap !border-0 !px-0 !py-0 text-left tabular-nums",textAlign:"center",children:a.jsx(st,{data:i[c]})},c))]},n.name)})})]})}function st({data:e}){switch(e.type){case"text":return a.jsx(a.Fragment,{children:e.text});default:return a.jsx(a.Fragment,{children:e.alt})}}const Et=lt(P.HeaderCell)`text-token-text-secondary !font-normal text-sm !static !bg-transparent !border-token-border-light !border-t-0 !border-l-0 !border-r-0`,Pr=lt(Et)`text-token-text-primary !pl-0`;function Dr({metadata:e,trackContentReferenceEvent:s}){m.useEffect(()=>{s(x.searchContentReferenceShown,"search_content_reference_shown",e.type)},[s,e.type]);const t=C(),n=U(e.utc_time,e.utc_offset),r=t.formatDate(n,{hour:"numeric",minute:"numeric"});return a.jsx("span",{children:r})}function Tr(e){return bt()?null:a.jsx(It,{...e})}function Mr(e){return bt()?a.jsx(It,{...e}):null}function It({webpageRef:e,node:s,trackContentReferenceEvent:t,isSearchResponse:n}){const r=be(),o=yt(),[i,c]=m.useState(o?r.getStaticStyles(s):{}),[l,h]=m.useState(null);switch(m.useEffect(()=>{if(!s||!l||!o)return;async function d(){if(!s)return;const u=await r.processElementForStyles(s);m.startTransition(()=>{c(u)})}d()},[o,s,l,r]),e.status){case"loading":return a.jsx("span",{style:i,ref:h,children:a.jsx(Ar,{})});case"error":return a.jsx("span",{style:i,ref:h,children:a.jsx(Er,{contentRef:e})});default:return a.jsx("span",{style:i,ref:h,children:e.items.map((d,u)=>a.jsx(Ir,{webpageItem:d,trackContentReferenceEvent:t,isSearchResponse:n},`${u}-${d.url}`))})}}function Ar(){return a.jsx("div",{className:"inline-flex items-center gap-1.5",children:a.jsx("div",{className:"h-[22px] w-20 animate-pulse rounded-full bg-[#f4f4f4] dark:bg-token-main-surface-secondary"})})}function Er({contentRef:e}){return null}function Ir({webpageItem:e,className:s,trackContentReferenceEvent:t,isSearchResponse:n}){const r={url:e.url,title:e.title,pub_date:Fr(e.pub_date)},o=()=>{n?t(x.searchCitationClicked,"search_citation_clicked","webpage",r):t(x.browsingClickCitation,"chatgpt_browsing_click_citation","webpage",r)},i=m.useContext(Y),c=a.jsx("div",{className:"relative inline-flex items-center",children:a.jsx(T,{href:e.url,className:N("flex h-[22px] items-center rounded-xl px-2 text-[0.5em] !font-medium uppercase","bg-[#f4f4f4] !text-token-text-secondary hover:bg-token-text-primary hover:!text-token-main-surface-secondary dark:bg-token-main-surface-secondary dark:hover:bg-token-text-primary","relative top-[-0.094rem]",s),onClick:o,onMouseEnter:()=>{Te.setHighlightBySource(i?.message.id,e)},onMouseLeave:()=>{Te.clearHighlights()},children:a.jsx("span",{className:"truncate",children:e.attribution??a.jsx(ye,{url:e.url})})})});return a.jsx(Lr,{webpageItem:e,eventMetadata:r,trackContentReferenceEvent:t,isSearchResponse:n,children:c})}function Lr({webpageItem:e,eventMetadata:s,children:t,trackContentReferenceEvent:n,isSearchResponse:r}){return m.useEffect(()=>{r?n(x.searchCitationShown,"search_citation_shown","webpage",s):n(x.browsingDisplayCitation,"chatgpt_browsing_display_citation","webpage",s)},[]),a.jsx(Lt,{webpageItem:e,onClick:()=>{r?n(x.searchCitationClicked,"search_citation_clicked","webpage",s):n(x.browsingClickCitation,"chatgpt_browsing_click_citation","webpage",s)},onOpenChange:o=>{o&&(r?n(x.searchCitationHovered,"search_citation_hovered","webpage",s):n(x.browsingHoverCitation,"chatgpt_browsing_hover_citation","webpage",s))},children:t})}function Lt({webpageItem:e,onClick:s,onOpenChange:t,children:n,className:r}){const o=K().resolvedTheme==="dark",i=pt(),c=e.pub_date!=null&&new Date(e.pub_date*1e3);return a.jsx(B,{label:a.jsxs(T,{href:e.url,className:N("flex max-w-80 flex-col gap-1 text-left text-xs font-normal text-token-text-primary !no-underline",r),onClick:s,children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("div",{className:"h-4 w-4 shrink-0 overflow-hidden rounded-full",children:a.jsx(xe,{url:e.url,size:32,minSize:16})}),a.jsx("div",{className:"truncate text-token-text-primary",children:e.attribution??a.jsx(ye,{url:e.url})})]}),a.jsx("div",{className:"line-clamp-2 text-sm font-medium",children:e.title}),a.jsxs("div",{className:"line-clamp-2 text-sm text-token-text-secondary",children:[c&&c.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}),c&&e.snippet&&" — ",e.snippet]}),i&&a.jsx(Ls,{item:e})]}),onOpenChange:t,side:"bottom",sideOffset:10,withArrow:!1,delayDuration:150,theme:o?"default":"white",align:"start",customPaddingClassName:"p-3",cornerRadius:"xl",customBorderClassName:"border-token-border-light border",wide:!0,children:n})}function Fr(e){if(e!=null)return new Date(e*1e3).toISOString()}function Or({metadata:e,trackContentReferenceEvent:s}){return m.useEffect(()=>{s(x.searchContentReferenceShown,"search_content_reference_shown",e.type)},[s,e.type]),a.jsx("div",{children:e.url?a.jsx(Lt,{webpageItem:{url:e.url,title:e.description,pub_date:null,snippet:"",attributions:null},className:"inline-flex flex-col",children:a.jsx(T,{href:e.url,className:"!font-semibold",children:e.description})}):a.jsx("div",{className:"!font-semibold",children:e.description})})}function zr({url:e,className:s}){let t;const n="aspect-video w-full rounded-lg",r=Hr(e);r&&(t=a.jsx(Rr,{videoId:r,className:n}));const o=Ur(e);return o&&(t=a.jsx(Yr,{videoId:o,className:n})),t?a.jsx("div",{className:s,children:t}):null}function Hr(e){const s=/^(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:[^/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/,t=e.match(s);return t?t[1]:null}function Rr({videoId:e,className:s}){return a.jsx("iframe",{className:s,src:`https://www.youtube.com/embed/${e}`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0})}function Ur(e){const s=/vimeo\.com\/(?:channels\/(?:\w+\/)?|groups\/[^/]+\/videos\/|video\/|)(\d+)/,t=e.match(s);return t?t[1]:null}function Yr({videoId:e,className:s}){return a.jsx(a.Fragment,{children:a.jsx("iframe",{className:s,src:`https://player.vimeo.com/video/${e}`,frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture",allowFullScreen:!0})})}function Wr({video:e,trackContentReferenceEvent:s}){const t={url:e.url,title:e.title};return m.useEffect(()=>{s(x.searchContentReferenceShown,"search_content_reference_shown",e.type,t)},[]),e.url==null||e.url===""?null:a.jsx("div",{className:"not-prose mb-3 flex flex-col gap-4 text-base",children:a.jsx(zr,{url:e.url})})}const Br="webp",Zr=96,Vr=96,qr="srgb",Gr=4,Xr="uchar",Kr=288,Jr=!1,Qr=!1,eo=!0,to="https://cdn.oaistatic.com/assets/cloud-foggy-o4a3hmky.webp",so={format:Br,width:Zr,height:Vr,space:qr,channels:Gr,depth:Xr,density:Kr,isProgressive:Jr,hasProfile:Qr,hasAlpha:eo,src:to},no="webp",ao=96,ro=96,oo="srgb",io=4,co="uchar",lo=288,uo=!1,ho=!1,mo=!0,fo="https://cdn.oaistatic.com/assets/cloudy-co8vwrk7.webp",po={format:no,width:ao,height:ro,space:oo,channels:io,depth:co,density:lo,isProgressive:uo,hasProfile:ho,hasAlpha:mo,src:fo},go="webp",xo=96,bo=96,yo="srgb",vo=4,wo="uchar",$o=288,jo=!1,No=!1,ko=!0,_o="https://cdn.oaistatic.com/assets/heavy-snow-mke52kag.webp",So={format:go,width:xo,height:bo,space:yo,channels:vo,depth:wo,density:$o,isProgressive:jo,hasProfile:No,hasAlpha:ko,src:_o},Co="webp",Po=96,Do=96,To="srgb",Mo=4,Ao="uchar",Eo=288,Io=!1,Lo=!1,Fo=!0,Oo="https://cdn.oaistatic.com/assets/light-snow-mcy1l7t9.webp",zo={format:Co,width:Po,height:Do,space:To,channels:Mo,depth:Ao,density:Eo,isProgressive:Io,hasProfile:Lo,hasAlpha:Fo,src:Oo},Ho="webp",Ro=96,Uo=96,Yo="srgb",Wo=4,Bo="uchar",Zo=288,Vo=!1,qo=!1,Go=!0,Xo="https://cdn.oaistatic.com/assets/moon-drizzle-cplxr2ub.webp",Ko={format:Ho,width:Ro,height:Uo,space:Yo,channels:Wo,depth:Bo,density:Zo,isProgressive:Vo,hasProfile:qo,hasAlpha:Go,src:Xo},Jo="webp",Qo=96,ei=96,ti="srgb",si=4,ni="uchar",ai=288,ri=!1,oi=!1,ii=!0,ci="https://cdn.oaistatic.com/assets/moon-hazy-jvgt25bp.webp",li={format:Jo,width:Qo,height:ei,space:ti,channels:si,depth:ni,density:ai,isProgressive:ri,hasProfile:oi,hasAlpha:ii,src:ci},di="webp",ui=96,hi=96,mi="srgb",fi=4,pi="uchar",gi=288,xi=!1,bi=!1,yi=!0,vi="https://cdn.oaistatic.com/assets/moon-mostly-cloudy-cia3do0v.webp",wi={format:di,width:ui,height:hi,space:mi,channels:fi,depth:pi,density:gi,isProgressive:xi,hasProfile:bi,hasAlpha:yi,src:vi},$i="webp",ji=96,Ni=96,ki="srgb",_i=4,Si="uchar",Ci=288,Pi=!1,Di=!1,Ti=!0,Mi="https://cdn.oaistatic.com/assets/moon-mostly-sunny-n3mh1b6a.webp",Ai={format:$i,width:ji,height:Ni,space:ki,channels:_i,depth:Si,density:Ci,isProgressive:Pi,hasProfile:Di,hasAlpha:Ti,src:Mi},Ei="webp",Ii=96,Li=96,Fi="srgb",Oi=4,zi="uchar",Hi=288,Ri=!1,Ui=!1,Yi=!0,Wi="https://cdn.oaistatic.com/assets/moon-shower-ntzhti9o.webp",Bi={format:Ei,width:Ii,height:Li,space:Fi,channels:Oi,depth:zi,density:Hi,isProgressive:Ri,hasProfile:Ui,hasAlpha:Yi,src:Wi},Zi="webp",Vi=96,qi=96,Gi="srgb",Xi=4,Ki="uchar",Ji=288,Qi=!1,ec=!1,tc=!0,sc="https://cdn.oaistatic.com/assets/moon-sunny-eg2emh4d.webp",nc={format:Zi,width:Vi,height:qi,space:Gi,channels:Xi,depth:Ki,density:Ji,isProgressive:Qi,hasProfile:ec,hasAlpha:tc,src:sc},ac="webp",rc=96,oc=96,ic="srgb",cc=4,lc="uchar",dc=288,uc=!1,hc=!1,mc=!0,fc="https://cdn.oaistatic.com/assets/rain-thunder-bx7a0l5g.webp",pc={format:ac,width:rc,height:oc,space:ic,channels:cc,depth:lc,density:dc,isProgressive:uc,hasProfile:hc,hasAlpha:mc,src:fc},gc="webp",xc=96,bc=96,yc="srgb",vc=4,wc="uchar",$c=288,jc=!1,Nc=!1,kc=!0,_c="https://cdn.oaistatic.com/assets/rain-cxs76xuj.webp",Sc={format:gc,width:xc,height:bc,space:yc,channels:vc,depth:wc,density:$c,isProgressive:jc,hasProfile:Nc,hasAlpha:kc,src:_c},Cc="webp",Pc=96,Dc=96,Tc="srgb",Mc=4,Ac="uchar",Ec=288,Ic=!1,Lc=!1,Fc=!0,Oc="https://cdn.oaistatic.com/assets/sleet-gc63vwmo.webp",zc={format:Cc,width:Pc,height:Dc,space:Tc,channels:Mc,depth:Ac,density:Ec,isProgressive:Ic,hasProfile:Lc,hasAlpha:Fc,src:Oc},Hc="webp",Rc=96,Uc=96,Yc="srgb",Wc=4,Bc="uchar",Zc=288,Vc=!1,qc=!1,Gc=!0,Xc="https://cdn.oaistatic.com/assets/snow-d0k6tmmc.webp",Kc={format:Hc,width:Rc,height:Uc,space:Yc,channels:Wc,depth:Bc,density:Zc,isProgressive:Vc,hasProfile:qc,hasAlpha:Gc,src:Xc},Jc="webp",Qc=96,el=96,tl="srgb",sl=4,nl="uchar",al=288,rl=!1,ol=!1,il=!0,cl="https://cdn.oaistatic.com/assets/sun-drizzle-g94obr5e.webp",ll={format:Jc,width:Qc,height:el,space:tl,channels:sl,depth:nl,density:al,isProgressive:rl,hasProfile:ol,hasAlpha:il,src:cl},dl="webp",ul=96,hl=96,ml="srgb",fl=4,pl="uchar",gl=288,xl=!1,bl=!1,yl=!0,vl="https://cdn.oaistatic.com/assets/sun-hazy-c3z1j0hy.webp",wl={format:dl,width:ul,height:hl,space:ml,channels:fl,depth:pl,density:gl,isProgressive:xl,hasProfile:bl,hasAlpha:yl,src:vl},$l="webp",jl=96,Nl=96,kl="srgb",_l=4,Sl="uchar",Cl=288,Pl=!1,Dl=!1,Tl=!0,Ml="https://cdn.oaistatic.com/assets/sun-mostly-cloudy-d4o4zkga.webp",Al={format:$l,width:jl,height:Nl,space:kl,channels:_l,depth:Sl,density:Cl,isProgressive:Pl,hasProfile:Dl,hasAlpha:Tl,src:Ml},El="webp",Il=96,Ll=96,Fl="srgb",Ol=4,zl="uchar",Hl=288,Rl=!1,Ul=!1,Yl=!0,Wl="https://cdn.oaistatic.com/assets/sun-mostly-sunny-livrdkgu.webp",Bl={format:El,width:Il,height:Ll,space:Fl,channels:Ol,depth:zl,density:Hl,isProgressive:Rl,hasProfile:Ul,hasAlpha:Yl,src:Wl},Zl="webp",Vl=96,ql=96,Gl="srgb",Xl=4,Kl="uchar",Jl=288,Ql=!1,ed=!1,td=!0,sd="https://cdn.oaistatic.com/assets/sun-shower-lvtjthah.webp",nd={format:Zl,width:Vl,height:ql,space:Gl,channels:Xl,depth:Kl,density:Jl,isProgressive:Ql,hasProfile:ed,hasAlpha:td,src:sd},ad="webp",rd=96,od=96,id="srgb",cd=4,ld="uchar",dd=288,ud=!1,hd=!1,md=!0,fd="https://cdn.oaistatic.com/assets/sun-sunny-kqjpjzd8.webp",pd={format:ad,width:rd,height:od,space:id,channels:cd,depth:ld,density:dd,isProgressive:ud,hasProfile:hd,hasAlpha:md,src:fd},gd="webp",xd=96,bd=96,yd="srgb",vd=4,wd="uchar",$d=288,jd=!1,Nd=!1,kd=!0,_d="https://cdn.oaistatic.com/assets/thunder-jgjqg9ai.webp",Sd={format:gd,width:xd,height:bd,space:yd,channels:vd,depth:wd,density:$d,isProgressive:jd,hasProfile:Nd,hasAlpha:kd,src:_d},Cd="webp",Pd=96,Dd=96,Td="srgb",Md=4,Ad="uchar",Ed=288,Id=!1,Ld=!1,Fd=!0,Od="https://cdn.oaistatic.com/assets/tornado-opa24tq3.webp",zd={format:Cd,width:Pd,height:Dd,space:Td,channels:Md,depth:Ad,density:Ed,isProgressive:Id,hasProfile:Ld,hasAlpha:Fd,src:Od},Hd="webp",Rd=96,Ud=96,Yd="srgb",Wd=4,Bd="uchar",Zd=288,Vd=!1,qd=!1,Gd=!0,Xd="https://cdn.oaistatic.com/assets/windy-mw0a3u21.webp",Kd={format:Hd,width:Rd,height:Ud,space:Yd,channels:Wd,depth:Bd,density:Zd,isProgressive:Vd,hasProfile:qd,hasAlpha:Gd,src:Xd},Jd="webp",Qd=96,eu=96,tu="srgb",su=4,nu="uchar",au=288,ru=!1,ou=!1,iu=!0,cu="https://cdn.oaistatic.com/assets/cloud-foggy-fhg0jn0w.webp",lu={format:Jd,width:Qd,height:eu,space:tu,channels:su,depth:nu,density:au,isProgressive:ru,hasProfile:ou,hasAlpha:iu,src:cu},du="webp",uu=96,hu=96,mu="srgb",fu=4,pu="uchar",gu=288,xu=!1,bu=!1,yu=!0,vu="https://cdn.oaistatic.com/assets/cloudy-disd26f3.webp",wu={format:du,width:uu,height:hu,space:mu,channels:fu,depth:pu,density:gu,isProgressive:xu,hasProfile:bu,hasAlpha:yu,src:vu},$u="webp",ju=96,Nu=96,ku="srgb",_u=4,Su="uchar",Cu=288,Pu=!1,Du=!1,Tu=!0,Mu="https://cdn.oaistatic.com/assets/heavy-snow-g6jjwo2d.webp",Au={format:$u,width:ju,height:Nu,space:ku,channels:_u,depth:Su,density:Cu,isProgressive:Pu,hasProfile:Du,hasAlpha:Tu,src:Mu},Eu="webp",Iu=96,Lu=96,Fu="srgb",Ou=4,zu="uchar",Hu=288,Ru=!1,Uu=!1,Yu=!0,Wu="https://cdn.oaistatic.com/assets/light-snow-iz0efpkh.webp",Bu={format:Eu,width:Iu,height:Lu,space:Fu,channels:Ou,depth:zu,density:Hu,isProgressive:Ru,hasProfile:Uu,hasAlpha:Yu,src:Wu},Zu="webp",Vu=96,qu=96,Gu="srgb",Xu=4,Ku="uchar",Ju=288,Qu=!1,eh=!1,th=!0,sh="https://cdn.oaistatic.com/assets/moon-drizzle-b1nfv39c.webp",nh={format:Zu,width:Vu,height:qu,space:Gu,channels:Xu,depth:Ku,density:Ju,isProgressive:Qu,hasProfile:eh,hasAlpha:th,src:sh},ah="webp",rh=96,oh=96,ih="srgb",ch=4,lh="uchar",dh=288,uh=!1,hh=!1,mh=!0,fh="https://cdn.oaistatic.com/assets/moon-hazy-nfnzea7a.webp",ph={format:ah,width:rh,height:oh,space:ih,channels:ch,depth:lh,density:dh,isProgressive:uh,hasProfile:hh,hasAlpha:mh,src:fh},gh="webp",xh=96,bh=96,yh="srgb",vh=4,wh="uchar",$h=288,jh=!1,Nh=!1,kh=!0,_h="https://cdn.oaistatic.com/assets/moon-mostly-cloudy-e56e3z55.webp",Sh={format:gh,width:xh,height:bh,space:yh,channels:vh,depth:wh,density:$h,isProgressive:jh,hasProfile:Nh,hasAlpha:kh,src:_h},Ch="webp",Ph=96,Dh=96,Th="srgb",Mh=4,Ah="uchar",Eh=288,Ih=!1,Lh=!1,Fh=!0,Oh="https://cdn.oaistatic.com/assets/moon-mostly-sunny-ffu4gzf4.webp",zh={format:Ch,width:Ph,height:Dh,space:Th,channels:Mh,depth:Ah,density:Eh,isProgressive:Ih,hasProfile:Lh,hasAlpha:Fh,src:Oh},Hh="webp",Rh=96,Uh=96,Yh="srgb",Wh=4,Bh="uchar",Zh=288,Vh=!1,qh=!1,Gh=!0,Xh="https://cdn.oaistatic.com/assets/moon-shower-e5dy9u48.webp",Kh={format:Hh,width:Rh,height:Uh,space:Yh,channels:Wh,depth:Bh,density:Zh,isProgressive:Vh,hasProfile:qh,hasAlpha:Gh,src:Xh},Jh="webp",Qh=96,em=96,tm="srgb",sm=4,nm="uchar",am=288,rm=!1,om=!1,im=!0,cm="https://cdn.oaistatic.com/assets/moon-sunny-d9o08xiw.webp",lm={format:Jh,width:Qh,height:em,space:tm,channels:sm,depth:nm,density:am,isProgressive:rm,hasProfile:om,hasAlpha:im,src:cm},dm="webp",um=96,hm=96,mm="srgb",fm=4,pm="uchar",gm=288,xm=!1,bm=!1,ym=!0,vm="https://cdn.oaistatic.com/assets/rain-thunder-eplemvu1.webp",wm={format:dm,width:um,height:hm,space:mm,channels:fm,depth:pm,density:gm,isProgressive:xm,hasProfile:bm,hasAlpha:ym,src:vm},$m="webp",jm=96,Nm=96,km="srgb",_m=4,Sm="uchar",Cm=288,Pm=!1,Dm=!1,Tm=!0,Mm="https://cdn.oaistatic.com/assets/rain-ogayr6kt.webp",Am={format:$m,width:jm,height:Nm,space:km,channels:_m,depth:Sm,density:Cm,isProgressive:Pm,hasProfile:Dm,hasAlpha:Tm,src:Mm},Em="webp",Im=96,Lm=96,Fm="srgb",Om=4,zm="uchar",Hm=288,Rm=!1,Um=!1,Ym=!0,Wm="https://cdn.oaistatic.com/assets/sleet-o8noil7l.webp",Bm={format:Em,width:Im,height:Lm,space:Fm,channels:Om,depth:zm,density:Hm,isProgressive:Rm,hasProfile:Um,hasAlpha:Ym,src:Wm},Zm="webp",Vm=96,qm=96,Gm="srgb",Xm=4,Km="uchar",Jm=288,Qm=!1,ef=!1,tf=!0,sf="https://cdn.oaistatic.com/assets/snow-lq4cl3uc.webp",nf={format:Zm,width:Vm,height:qm,space:Gm,channels:Xm,depth:Km,density:Jm,isProgressive:Qm,hasProfile:ef,hasAlpha:tf,src:sf},af="webp",rf=96,of=96,cf="srgb",lf=4,df="uchar",uf=288,hf=!1,mf=!1,ff=!0,pf="https://cdn.oaistatic.com/assets/sun-drizzle-htsohv65.webp",gf={format:af,width:rf,height:of,space:cf,channels:lf,depth:df,density:uf,isProgressive:hf,hasProfile:mf,hasAlpha:ff,src:pf},xf="webp",bf=96,yf=96,vf="srgb",wf=4,$f="uchar",jf=288,Nf=!1,kf=!1,_f=!0,Sf="https://cdn.oaistatic.com/assets/sun-hazy-nfj7clcd.webp",Cf={format:xf,width:bf,height:yf,space:vf,channels:wf,depth:$f,density:jf,isProgressive:Nf,hasProfile:kf,hasAlpha:_f,src:Sf},Pf="webp",Df=96,Tf=96,Mf="srgb",Af=4,Ef="uchar",If=288,Lf=!1,Ff=!1,Of=!0,zf="https://cdn.oaistatic.com/assets/sun-mostly-cloudy-e3pqqgs7.webp",Hf={format:Pf,width:Df,height:Tf,space:Mf,channels:Af,depth:Ef,density:If,isProgressive:Lf,hasProfile:Ff,hasAlpha:Of,src:zf},Rf="webp",Uf=96,Yf=96,Wf="srgb",Bf=4,Zf="uchar",Vf=288,qf=!1,Gf=!1,Xf=!0,Kf="https://cdn.oaistatic.com/assets/sun-mostly-sunny-o99k1c7a.webp",Jf={format:Rf,width:Uf,height:Yf,space:Wf,channels:Bf,depth:Zf,density:Vf,isProgressive:qf,hasProfile:Gf,hasAlpha:Xf,src:Kf},Qf="webp",ep=96,tp=96,sp="srgb",np=4,ap="uchar",rp=288,op=!1,ip=!1,cp=!0,lp="https://cdn.oaistatic.com/assets/sun-shower-ldwl4jbp.webp",dp={format:Qf,width:ep,height:tp,space:sp,channels:np,depth:ap,density:rp,isProgressive:op,hasProfile:ip,hasAlpha:cp,src:lp},up="webp",hp=96,mp=96,fp="srgb",pp=4,gp="uchar",xp=!1,bp=!1,yp=!0,vp="https://cdn.oaistatic.com/assets/sun-sunny-kqjpjzd8.webp",wp={format:up,width:hp,height:mp,space:fp,channels:pp,depth:gp,isProgressive:xp,hasProfile:bp,hasAlpha:yp,src:vp},$p="webp",jp=96,Np=96,kp="srgb",_p=4,Sp="uchar",Cp=288,Pp=!1,Dp=!1,Tp=!0,Mp="https://cdn.oaistatic.com/assets/thunder-xzn1cku3.webp",Ap={format:$p,width:jp,height:Np,space:kp,channels:_p,depth:Sp,density:Cp,isProgressive:Pp,hasProfile:Dp,hasAlpha:Tp,src:Mp},Ep="webp",Ip=96,Lp=96,Fp="srgb",Op=4,zp="uchar",Hp=288,Rp=!1,Up=!1,Yp=!0,Wp="https://cdn.oaistatic.com/assets/tornado-diqu61wg.webp",Bp={format:Ep,width:Ip,height:Lp,space:Fp,channels:Op,depth:zp,density:Hp,isProgressive:Rp,hasProfile:Up,hasAlpha:Yp,src:Wp},Zp="webp",Vp=96,qp=96,Gp="srgb",Xp=4,Kp="uchar",Jp=288,Qp=!1,eg=!1,tg=!0,sg="https://cdn.oaistatic.com/assets/windy-n2v8wtyp.webp",ng={format:Zp,width:Vp,height:qp,space:Gp,channels:Xp,depth:Kp,density:Jp,isProgressive:Qp,hasProfile:eg,hasAlpha:tg,src:sg},ag={foggy:{default:so},cloudy:{default:po},"heavy-snow":{default:So},"light-snow":{default:zo},sleet:{default:zc},drizzle:{default:ll,night:Ko},hazy:{default:wl,night:li},"mostly-cloudy":{default:Al,night:wi},"mostly-sunny":{default:Bl,night:Ai},shower:{default:nd,night:Bi},sunny:{default:pd,night:nc},"rain-thunder":{default:pc},rain:{default:Sc},snow:{default:Kc},thunder:{default:Sd},tornado:{default:zd},windy:{default:Kd}},rg={foggy:{default:lu},cloudy:{default:wu},"heavy-snow":{default:Au},"light-snow":{default:Bu},sleet:{default:Bm},drizzle:{default:gf,night:nh},hazy:{default:Cf,night:ph},"mostly-cloudy":{default:Hf,night:Sh},"mostly-sunny":{default:Jf,night:zh},shower:{default:dp,night:Kh},sunny:{default:wp,night:lm},"rain-thunder":{default:wm},rain:{default:Am},snow:{default:nf},thunder:{default:Ap},tornado:{default:Bp},windy:{default:ng}};function og({weatherCode:e,isDarkMode:s,isNight:t}){const n=s?rg:ag,r=ig(e),o=n[r];return o.night&&t?o.night:o.default}function ig(e){switch(e){case 1:case 33:return"sunny";case 2:case 3:case 34:case 35:case 36:return"mostly-sunny";case 4:case 6:case 13:case 14:case 38:return"mostly-cloudy";case 5:case 37:return"hazy";case 7:case 8:return"cloudy";case 11:return"foggy";case 12:case 39:case 40:return"shower";case 15:case 16:case 17:case 41:case 42:return"thunder";case 18:return"rain";case 19:case 20:case 21:case 43:return"light-snow";case 22:case 23:case 44:return"snow";case 24:case 25:case 26:case 29:return"sleet";case 32:return"windy";default:return"cloudy"}}const cg="C";function lg(e,s){return Math.round(e==="F"?s*9/5+32:(s-32)*5/9)}function nt(e,s,t=cg){return e===t?`${Math.round(s)}°`:`${lg(e,s)}°`}const dg=7,at=8,ug=m.memo(function({weatherResults:s,dateRange:t,turnIndex:n,trackContentReferenceEvent:r}){const[o,i]=$g(),c=fg(s);m.useEffect(()=>{r(x.searchContentReferenceShown,"search_content_reference_shown","forecast")},[r]);const{daily:l,hourly:h,historical:d}=s;let u="daily";if(t||h&&l.length<2)u="hourly";else if(l.length>0)u="daily";else if(d&&d?.length>0)u="historical";else return null;return a.jsxs("div",{className:"relative",children:[c?a.jsxs(a.Fragment,{children:[a.jsx(mg,{weatherResults:s}),a.jsx(pg,{weatherResults:s,temperatureUnit:o,setTemperatureUnit:i})]}):a.jsx("div",{className:"absolute right-0 top-3 z-10 rounded bg-token-main-surface-primary",children:a.jsx(Ft,{onTemperatureUnitChange:i,temperatureUnit:o})}),a.jsx(yg,{turnIndex:n}),u==="hourly"&&a.jsx(gg,{weatherResults:s,temperatureUnit:o,dateRange:t}),u==="daily"&&a.jsx(xg,{dailyForecast:l.slice(0,dg),temperatureUnit:o}),u==="historical"&&a.jsx(bg,{historical:d,temperatureUnit:o})]})});function hg({weatherAlert:e}){const[s,t]=m.useState(!1),n=C(),r=xt(),o=I(e.start_timestamp,e.utc_offset_sec),i=e.end_timestamp?I(e.end_timestamp,e.utc_offset_sec):null,c=a.jsxs(a.Fragment,{children:[a.jsx("div",{children:a.jsx(w,{id:"JnuGPS",defaultMessage:"{start}{separator}{end}",values:{start:n.formatDate(o,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}),separator:i?" - ":"",end:i?n.formatDate(i,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}):""}})}),a.jsx("div",{children:e.summary})]});return a.jsxs("button",{className:"my-2 flex w-full flex-col gap-2 rounded-xl border border-red-200 bg-red-100 px-4 py-3 text-left text-sm text-red-800",onClick:()=>t(!s),children:[a.jsxs("div",{className:"flex w-full items-center gap-4",children:[a.jsx(Xs,{className:"h-9 w-9 shrink-0"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("div",{className:"font-bold",children:a.jsx(w,{id:"y+fy/l",defaultMessage:"Severe Weather: {name}",values:{name:e.name}})}),r&&c]}),a.jsx("div",{className:"flex-grow"}),a.jsx("div",{className:"opacity-30",children:s?a.jsx(fn,{className:"icon-lg"}):a.jsx(mn,{className:"icon-lg"})})]}),s&&e.details&&a.jsxs(a.Fragment,{children:[!r&&c,a.jsx("div",{className:"mt-1 whitespace-pre-wrap",children:e.details.trim()})]})]})}function mg({weatherResults:e}){const{severe:s}=e;return s?a.jsx("div",{className:"my-2",children:s.map((t,n)=>a.jsx(hg,{weatherAlert:t},n))}):null}function fg(e){const{historical:s,daily:t,hourly:n,current:r}=e;if(!r)return!1;let o=!1;const i=I(r.timestamp,r.utc_offset_sec);for(const c of[s,t,n])c&&(o=o||c?.some(l=>Ps(i,I(l.timestamp,l.utc_offset_sec))));return o}function pg({weatherResults:e,temperatureUnit:s,setTemperatureUnit:t}){const n=C(),{current:r}=e;if(!r)return null;const o=r.temperature.current,i=r.description,c=o!=null&&i&&" · ";return a.jsxs("div",{className:"not-prose flex items-center gap-4",children:[a.jsxs("div",{className:"flex-grow",children:[a.jsxs("div",{className:"text-lg font-semibold",children:[o!=null&&a.jsx(w,{id:"FiwByI",defaultMessage:"Currently {temperature}",values:{temperature:O(n,o,s)}}),c,i.description]}),a.jsx("div",{className:"text-token-text-secondary",children:wg(e.location)})]}),a.jsxs("div",{className:"flex",children:[a.jsx(Ft,{onTemperatureUnitChange:t,temperatureUnit:s}),a.jsx(Ne,{weatherDescriptionData:i,isNight:r.night})]})]})}function je({children:e}){return a.jsx("div",{className:"no-scrollbar not-prose mt-1 overflow-auto sm:overflow-hidden",children:a.jsx(P.Root,{className:"min-w-0",children:a.jsx(P.Body,{className:"border-b-[0.5px] border-token-border-medium [&_tr:last-child]:border-b-0",children:e})})})}function gg({weatherResults:e,temperatureUnit:s,dateRange:t}){const n=C(),{hourly:r,current:o}=e;let i=r??[];t&&(i=i.filter(d=>d.timestamp>=t.start_timestamp&&d.timestamp<t.end_timestamp));const[c,l]=m.useState(!1),h=i.length>at;if(!c&&h){const d=i[0],u=I(d.timestamp,d.utc_offset_sec);let y=!1;if(o){const g=I(o.timestamp,o.utc_offset_sec);u.getTime()-g.getTime()>8*60*60*1e3&&i.length>18&&(i=i.slice(7,18),y=!0)}y||(i=i.slice(0,at))}return a.jsxs(je,{children:[i.map((d,u)=>a.jsxs(P.Row,{children:[a.jsxs(E,{className:"w-44",children:[a.jsx(Ne,{weatherDescriptionData:d.description,isNight:d.night,size:"small"}),a.jsx("div",{className:"ml-3 whitespace-nowrap",children:a.jsx("span",{className:"lowercase",children:vg(n,d)})})]}),a.jsx(E,{className:"w-[60px] tabular-nums",children:a.jsx("div",{children:O(n,d.temperature.current,s)})}),a.jsx(E,{children:d.description.description})]},u)),h&&a.jsx(P.Row,{children:a.jsx(E,{className:"w-44",children:a.jsx(dt,{color:"secondary",onClick:()=>l(!c),size:"small",children:c?a.jsx(w,{id:"KoC8Ym",defaultMessage:"Show less"}):a.jsx(w,{id:"X8F8Y/",defaultMessage:"Show more"})})})})]})}function xg({dailyForecast:e,temperatureUnit:s}){const t=C();return a.jsx(je,{children:e.map((n,r)=>a.jsxs(P.Row,{children:[a.jsxs(E,{className:"w-[7.5rem] min-w-[7.5rem]",children:[a.jsx(Ne,{weatherDescriptionData:n.description,isNight:n.night,size:"small"}),a.jsx("div",{className:"ml-3 whitespace-nowrap",children:me(t,I(n.timestamp,n.utc_offset_sec))})]}),a.jsxs(E,{className:"tabular-nums",children:[a.jsx("div",{children:O(t,n.temperature.max,s)}),a.jsx("div",{className:"ml-1 text-token-text-secondary",children:O(t,n.temperature.min,s)})]}),a.jsx(E,{className:"min-w-80",children:n.description.description})]},r))})}function bg({historical:e,temperatureUnit:s}){const t=C();return e?a.jsx(je,{children:e.map((n,r)=>{const o=I(n.timestamp,n.utc_offset_sec);return a.jsxs(P.Row,{children:[a.jsx(E,{className:"w-[250px]",children:a.jsx("div",{className:"ml-3 whitespace-nowrap",children:t.formatDate(o,{weekday:"long",month:"short",day:"numeric"})})}),a.jsx(E,{className:"tabular-nums",children:n.temperature.max&&n.temperature.min?a.jsxs(a.Fragment,{children:[a.jsx("div",{children:O(t,n.temperature.max,s)}),a.jsx("div",{className:"ml-1 text-token-text-secondary",children:O(t,n.temperature.min,s)})]}):a.jsx("div",{children:O(t,n.temperature.current,s)})}),a.jsx(E,{})]},r)})}):null}function E({className:e,children:s}){return a.jsx(P.Cell,{className:N("!border-l-0 !border-r-0 !border-token-border-xlight !py-2 !pl-4 !pr-3 first:!pl-0 last:!pr-0",e),divClassName:"items-start leading-relaxed",children:s})}function yg({turnIndex:e}){const s=ps(n=>n.thread?.turns[e]?.use_location),[t]=ms();return!t.useLocation&&s?a.jsx("div",{className:"mt-3",children:a.jsx(dt,{color:"secondary",icon:qs,onClick:()=>{fs.setSettingsModalOpen(!0)},children:a.jsx(w,{id:"f47VEc",defaultMessage:"Share precise location"})})}):null}function Ft({temperatureUnit:e,onTemperatureUnitChange:s}){const t=n=>e===n?"font-bold":"font-light";return a.jsx(Xt,{size:"small",triggerButton:a.jsx("button",{className:"flex items-center justify-center p-1.5 text-token-text-tertiary hover:text-token-text-primary",children:a.jsx(Gs,{className:"icon-sm-heavy"})}),children:a.jsxs(Kt.Item,{onClick:()=>{s(e==="C"?"F":"C")},className:"text-token-text-primary",children:[a.jsx(w,{id:"bQIoe/",defaultMessage:"Temperature"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:t("F"),children:a.jsx(w,{id:"bvDeBB",defaultMessage:"°F"})}),a.jsx("div",{className:"mx-1 h-4 border-l border-gray-300"}),a.jsx("div",{className:t("C"),children:a.jsx(w,{id:"iNiz6O",defaultMessage:"°C"})})]})]})})}function Ne({weatherDescriptionData:e,isNight:s=!1,size:t="normal"}){const n=Ds(),r=t==="small"?30:50;return a.jsx("img",{draggable:!1,alt:e.description,src:og({weatherCode:e.id,isDarkMode:n,isNight:s}).src,width:r,height:r})}function vg(e,s){const t=I(s.timestamp,s.utc_offset_sec);return e.formatDate(t,{hour:"numeric"})}function O(e,s,t){return s==null?"-":nt(t?t??"F":Ot(e),s)}function Ot(e){const s=["en-US","en-BZ","en-BS","en-KY","en-PW"],t=e.locale||"en-US";return s.includes(t)?"F":"C"}function wg(e){const s=e.name.split(",").map(t=>t.trim());return e.country&&!s.includes(e.country)&&s.push(e.country),s.join(", ")}const $g=()=>{const e=C(),[s,t]=Ts("USER_TEMPERATURE_UNIT",Ot(e),n=>["F","C"].includes(n));return[s,t]},jg=Jt(()=>Qt(()=>import("./ovolgvk8z8cbaoxj.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22])).then(e=>e.BusinessesMap));function Ng({index:e,FormattedText:s,node:t}){const n=parseInt(e,10),r=m.useContext(Y),o=m.useRef(new Set),i=m.useCallback((b,$,v,D,M)=>{if(r?.analyticsMetadata&&r.analyticsMetadata.messageId&&es(r.analyticsMetadata.messageId)){const F={...ts(r.analyticsMetadata),type:v,index:n?.toString(),...D??{}},H=`${b}-${JSON.stringify(F)}`;(!o.current.has(H)||b!==x.searchContentReferenceShown)&&(o.current.add(H),oe.logEventWithStatsig(b,$,F),M?.(r.analyticsMetadata))}},[r?.analyticsMetadata,n]);if(r==null)return null;const{contentReferences:c,onShowSearchResults:l,numImageResults:h,analyticsMetadata:d}=r,u=c?.[n],y=d?.clientThreadId==null,g=Ms(r.message);if(!u||d.turnIndex===void 0||u.type===void 0)return null;let f=null;switch(u.type){case"title_citation":f=a.jsx(Or,{metadata:u,trackContentReferenceEvent:i});break;case"location_search":f=a.jsx(cr,{metadata:u,trackContentReferenceEvent:i});break;case"time":f=a.jsx(Dr,{metadata:u,trackContentReferenceEvent:i});break;case"image_v2":f=a.jsx(or,{metadata:u,numImageResults:h??0,analyticsMetadata:d,trackContentReferenceEvent:i});break;case"nav_list":f=a.jsx(lr,{metadata:u,trackContentReferenceEvent:i});break;case"file_navlist":f=a.jsx(va,{metadata:u,trackContentReferenceEvent:i});break;case"file":f=a.jsx(ga,{fileRef:u,index:n,trackContentReferenceEvent:i});break;case"grouped_webpages":f=a.jsx(Tr,{isSearchResponse:g,webpageRef:u,node:t,trackContentReferenceEvent:i});break;case"grouped_webpages_v2":f=a.jsx(Mr,{isSearchResponse:g,webpageRef:u,node:t,trackContentReferenceEvent:i});break;case"tldr":f=a.jsx(Es,{tldr:u,trackContentReferenceEvent:i});break;case"navigation":f=a.jsx(As,{navigation:u,onShowSearchResults:l,trackContentReferenceEvent:i});break;case"stock":f=a.jsx(tr,{contentReference:u,trackContentReferenceEvent:i});break;case"calculator":f=a.jsx(ca,{data:u,trackContentReferenceEvent:i});break;case"code_execution":f=a.jsx(ha,{FormattedText:s,displayInfo:u,trackContentReferenceEvent:i});break;case"forecast":f=u?.forecast&&a.jsx(ug,{weatherResults:u.forecast,dateRange:u.date_range,turnIndex:d.turnIndex,trackContentReferenceEvent:i});break;case"businesses_map":f=a.jsx(jg,{contentReference:u,trackContentReferenceEvent:i});break;case"potatoes":f=!1;break;case"video":f=a.jsx(Wr,{video:u,trackContentReferenceEvent:i});break;case"sources_footnote":f=a.jsx(hr,{sourcesFootnote:u,onShowSearchResults:l,trackContentReferenceEvent:i,isSearchGptApp:y});break;case"sports_standings":f=a.jsx(Cr,{standingsRef:u,trackContentReferenceEvent:i});break;case"sports_schedule":f=a.jsx(Nr,{scheduleRef:u,trackContentReferenceEvent:i});break;case"attribution":f=a.jsx(ra,{attribution:u});break;case"debug":f=a.jsx(a.Fragment,{children:Object.entries(u).map(([b,$])=>a.jsx("sub",{className:"ml-1 w-fit rounded-md border-2 border-solid border-orange-500 px-1 leading-none",children:$},b))});break}return a.jsx(pe,{name:"content-reference-renderer",fallback:b=>(i(x.searchContentReferenceFailed,"search_content_reference_failed",u.type),ct.addError("Error rendering content reference",b),u?.alt?a.jsx(we,{components:{img:({src:$,alt:v})=>a.jsx("img",{src:$,alt:v,className:"max-h-28"})},children:u.alt}):a.jsx("span",{className:`errored-object-${u.type}`})),children:f})}function L(e){const{addListStyles:s,children:t,node:n,tag:r,...o}=e,i=be(),[c,l]=m.useState(s?{"--marker-color":"transparent"}:{});return m.useEffect(()=>{n&&l(i.createBlockstyles(i.batch)),s&&n?.tagName==="li"&&l(i.createMarkerStyles(n))},[s,n,i]),m.cloneElement(r,{...o,children:n?i.processChildren({children:t,element:n}):t,style:{...o.style,...c}})}const kg={p:e=>a.jsx(L,{tag:a.jsx("p",{}),...e}),h1:e=>a.jsx(L,{tag:a.jsx("h1",{}),...e}),h2:e=>a.jsx(L,{tag:a.jsx("h2",{}),...e}),h3:e=>a.jsx(L,{tag:a.jsx("h3",{}),...e}),h4:e=>a.jsx(L,{tag:a.jsx("h4",{}),...e}),h5:e=>a.jsx(L,{tag:a.jsx("h5",{}),...e}),h6:e=>a.jsx(L,{tag:a.jsx("h6",{}),...e}),li:e=>a.jsx(L,{tag:a.jsx("li",{}),addListStyles:!0,...e})},rt={},ot={};function zt(e,s,t=!0){const n=rs(s,500);return os(e,n,t)}function _g({node:e,onClick:s,clientThreadId:t,messageId:n,href:r,...o}){let i=s;const c=e?.properties?.href,l=ut(),h=be(),[d,u]=m.useState(h.getStaticStyles(e)),[y,g]=m.useState(o.children),f=m.useRef(void 0);f.current=o.children,m.useEffect(()=>{e&&(g(h.processChildren({children:f.current,element:e})),u(h.createBlockstyles(h.batch)))},[e,h]);const b=m.useContext(Y),$=ht(t),v=zt($,r,b?.useSafeUrls);return n!=null&&typeof c=="string"&&c.includes("/bing/redirect")&&(rt[n]||(oe.logEvent(x.browsingShowBingLink,{id:n,content:c}),rt[n]=!0),i=D=>{ot[n]||(oe.logEvent(x.browsingClickBingLink,{id:n,content:c}),ot[n]=!0),s?.(D)}),a.jsx("a",{onClick:i,...o,href:v,rel:l?"noopener noreferrer":"noopener",style:{...o.style,...d},children:y})}function Sg(e){const{src:s,clientThreadId:t,...n}=e,r=ht(t),o=m.useContext(Y),i=zt(r,s,o?.useSafeUrls);return i==null?a.jsx("div",{}):a.jsx("img",{...n,src:i})}function Cg(e){return a.jsx(Ng,{...e,FormattedText:Ht})}function Ht({size:e="medium",children:s,className:t,clientThreadId:n,messageId:r,isStreamingOrProcessing:o,interpolateCitations:i=!1,componentOverrides:c}){const{resolvedTheme:l}=K(),h=ut(),d=yt(),u=m.useMemo(()=>({pre:({children:g})=>a.jsx("pre",{className:"!overflow-visible",children:g}),code:g=>a.jsx(is,{...g,clientThreadId:n}),[ss]:Cg,[cs]:ls,a:g=>{const{node:f,children:b,...$}=g,v=f?.properties?.href;return typeof v=="string"&&v.startsWith(Se)?h?a.jsx(ds,{...$}):n!=null&&r!=null?a.jsx(us,{...$,clientThreadId:n,messageId:r,href:v,children:b}):null:v&&typeof v=="string"&&aa(v)?b:a.jsx(_g,{...g,clientThreadId:n,messageId:r,interpolateCitations:i})},td:({children:g})=>a.jsx("td",{children:m.Children.map(g,(f,b)=>f==="<br>"?a.jsx("br",{},b):f)}),img:({node:g,...f})=>{const b=g?.properties?.src;return typeof b=="string"&&(b.startsWith(Se)||b.startsWith("attachment:"))?null:a.jsx(Sg,{...f,clientThreadId:n})},...c}),[c,n,r,i,h]),y=m.useMemo(()=>({...u,...d&&o?kg:{}}),[u,o,d]);return a.jsx(pe,{name:"formatted_text_error",fallback:()=>a.jsx(a.Fragment,{children:s}),children:a.jsx(Ag,{rehypePlugins:mt,remarkPlugins:ge,className:N(t,"markdown prose w-full break-words dark:prose-invert",l==="dark"?"dark":"light",e==="small"&&"prose-xs"),urlTransform:ft,components:y,children:s})})}function Pg(e,s){return e===as.SystemHint?a.jsx("span",{className:"hint-pill",children:s}):null}function Dg({text:e,customSymbolOffsets:s}){return a.jsx(pe,{name:"formatted_text_error",fallback:()=>a.jsx(a.Fragment,{children:e}),children:a.jsx(Tg,{text:e,customSymbolOffsets:s})})}const Tg=({text:e,customSymbolOffsets:s=[]})=>{const t=/(```[\s\S]*?```|`[^`\n]+`|```[\s\S]*|`[^`\n]*\n|`[^`\n]*$)/g;let n=0;const r=e.split(t).flatMap((o,i)=>{const c=n;if(n+=o.length,o.startsWith("```")&&o.endsWith("```"))return a.jsx("pre",{className:"overflow-x-auto",children:a.jsx("code",{children:o.slice(3,-3).trim()})},i);if(o.startsWith("```"))return a.jsx("pre",{className:"overflow-x-auto",children:a.jsx("code",{children:o.slice(3).trim()})},i);if(o.startsWith("`")&&o.endsWith("`"))return a.jsx("code",{children:o.slice(1,-1)},i);if(o.startsWith("`"))return a.jsx("code",{children:o.slice(1)},i);{const l=s.map(h=>ns(h)).find(h=>c<=h.startIndex&&h.endIndex<=n);if(l){const h=l.startIndex-c,d=l.endIndex-c,u=o.slice(0,h),y=o.slice(d),g=o.slice(h,d);return[u,Pg(l.symbol,g),y].filter(f=>!!f)}return o}});return a.jsx("div",{className:"whitespace-pre-wrap",children:r})};async function Mg(e){const t=await Hs().use(Rs).use(ge).use(Us).use(hs).use(na).process(e);return String(t)}const Ag=m.memo(we),Gg=Object.freeze(Object.defineProperty({__proto__:null,FormattedText:Ht,UserFormattedText:Dg,markdownToHtml:Mg},Symbol.toStringTag,{value:"Module"}));export{Gg as F,Ir as W};
//# sourceMappingURL=f5dbfcrs3ju4up5e.js.map
