const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/c4usyg0gtwsti75d.js","assets/lrt789z2rawt9v6n.js","assets/qm9djk421n6v15er.js","assets/root-o085mhci.css","assets/nfplna49ltkqb9yt.js","assets/ga842uuse918os7p.js","assets/conversation-small-lkohtmkm.css","assets/orvu0y3lq8gw4rle.js","assets/d2294a5x01ytydl1.js","assets/e0o1s2czdwq08bpj.js","assets/dqu2730pzjqtes9g.js","assets/fzrn137102spawew.js","assets/o959o66h8gsqksmt.js","assets/oj6qvnn613i8efeb.js","assets/dzwkc95qy79m56h5.js","assets/od1cq6oiwa02ok00.js","assets/fq30kker6wn7nlkf.js","assets/eabkz1hpo9dh58mn.js","assets/lcn1fbzjsykb33xh.js","assets/kmfwyfhqdbm33it6.js","assets/nqhdnktks2nuzl68.js","assets/kt9eu9t0kl22d0ck.js","assets/hy405d0e3qlgzf8t.js","assets/is-scrollable-element-i34sjb0l.css","assets/d7gqhmxyzfulu8ms.js","assets/o6ivl8lube32l54t.js","assets/code-composer-ne11stli.css","assets/mhel8p8ejra52k42.js","assets/f14u6m7tzpzhuuij.js","assets/jvjcsw03i0kiuypq.js","assets/mf512tkap804bzml.js","assets/fzlqn7qahymnbdft.js","assets/k8ozl64e0jms34xp.js","assets/mmbqunmky4x3dwvj.js","assets/document-composer-ofhzvcxp.css"])))=>i.map(i=>d[i]);
import{m as u,aD as I,aN as ie,r as G,L as le,aL as ae,K as ue,hy as ce,aJ as Q,aK as Y}from"./lrt789z2rawt9v6n.js";import{m as fe}from"./orvu0y3lq8gw4rle.js";import{I as me,b as ve}from"./qm9djk421n6v15er.js";import{aD as pe,jH as he,jI as de,bo as ye,jJ as ge,ap as K,aq as De,bD as Ee,l as ee,jK as Ce,m as ne,c2 as xe,j as Oe,k as we}from"./ga842uuse918os7p.js";import{B as Ie}from"./o6ivl8lube32l54t.js";import{P as te}from"./dzwkc95qy79m56h5.js";import{u as Ne}from"./kt9eu9t0kl22d0ck.js";const _e="py-[0.108em]",Ae="selection-highlight",Cn={code:`${_e} bg-[Highlight]`,document:`${Ae} bg-[Highlight]`},re={code:"flex justify-start pt-2 h-full",document:"flex h-full justify-center"},xn="shadow-xl",Te={blockCommentHover:"z-[-1]",collapsedComment:"z-0",composer:"z-10",expandedComment:"z-10",chatOverlay:"z-20",commentGutter:"z-20",expandedCommentHovered:"z-30",expandedCommentFocused:"z-40",toolbar:"z-50",commentComposer:"z-50",textdocDiffLoadingOverlay:"z-[60]",acceleratorsOverlay:"z-[60]",accelerators:"z-[70]"},On="text-blue-400 disabled:text-blue-400 bg-blue-400/15 focus-visible:bg-blue-400/15 enabled:hover:bg-blue-400/20 disabled:opacity-40";function je({className:e,zIndexKey:n,onClick:t}){return u.jsx(fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:I("absolute inset-0",e,Te[n]),onClick:t})}function Re({zIndexKey:e,onClick:n}){return u.jsx(je,{zIndexKey:e,onClick:n,className:"bg-gray-50/50 dark:bg-black/50"})}function be(){return window.matchMedia("(hover: hover)").matches}const ze=({onScroll:e})=>(he(({scrollTop:n})=>{e?.(n)}),null),Le=({shouldScrollToTop:e})=>{const n=de();return G.useEffect(()=>{e===!0&&n({behavior:"smooth"})},[e,n]),null},ke=()=>{const e=ye();G.useEffect(()=>{e({behavior:"smooth"})},[e]);const[n]=ge();return n?null:u.jsx("button",{onClick:()=>e({behavior:"smooth"}),className:"absolute bottom-5 right-1/2 z-10 flex h-8 w-8 translate-x-1/2 cursor-pointer items-center justify-center rounded-full border border-token-border-light bg-token-main-surface-primary bg-clip-padding text-token-text-secondary",children:u.jsx(me,{className:"icon-md text-token-text-primary"})})},He=ie.section`w-full h-full flex flex-col popover bg-token-main-surface-primary`,Me=({children:e,onScroll:n,shouldScrollToTop:t,scrollToBottomMode:r="top",isLoading:o=!1},s)=>u.jsxs("main",{className:"relative flex min-h-0 flex-auto flex-grow flex-col",ref:s,children:[u.jsx(pe,{children:o&&u.jsx(Re,{zIndexKey:"textdocDiffLoadingOverlay"})}),u.jsxs(Ie,{followButtonClassName:"hidden",initialScrollBehavior:"auto",className:"h-full",mode:r,children:[e,r==="bottom"&&u.jsx(ke,{}),u.jsx(ze,{onScroll:n}),u.jsx(Le,{shouldScrollToTop:t})]})]}),Se=G.forwardRef(Me);function Pe({className:e,children:n}){return K()?u.jsx(De,{leading:!0,type:"primary",className:I(e,"top-0 z-[1] h-[var(--screen-thread-header-min-height,60px)] flex-none px-3.5"),children:u.jsx("div",{className:"flex items-center justify-between gap-4",children:n})}):u.jsx("header",{className:I(e,"flex h-14 flex-none items-center justify-between gap-4 px-3"),children:n})}function Be({className:e,children:n}){const t=K();return u.jsx("h2",{className:I(e,"ml-2.5 truncate",t?"text-[17px] font-medium leading-[30px] text-token-text-secondary":"text-lg text-gray-700 dark:text-token-text-secondary"),children:n})}const Ge=({onClick:e})=>{const n=le(),r=be()?ve:ce;return u.jsx(ae,{label:n.formatMessage($e.close),children:u.jsx(Ee,{icon:r,onClick:e})})},b=({children:e})=>u.jsx(He,{children:e});b.Title=Be;b.CloseButton=Ge;b.Header=Pe;b.Content=Se;const $e=ue({close:{id:"Bix/Kd",defaultMessage:"Close"}}),qe=Q(()=>Y(()=>import("./c4usyg0gtwsti75d.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26])).then(e=>e.CodeComposer),{loading:()=>u.jsx("div",{className:re.code,children:u.jsx("div",{className:"h-full w-full px-4",children:u.jsx(te,{lines:20})})})}),wn=e=>u.jsx(qe,{...e});var se=(e=>(e.javascript="javascript",e.typescript="typescript",e.bash="bash",e.zsh="zsh",e.html="html",e.css="css",e.python="python",e.json="json",e.sql="sql",e.go="go",e.yaml="yaml",e.java="java",e.rust="rust",e.cpp="cpp",e.swift="swift",e.php="php",e.xml="xml",e.ruby="ruby",e.haskell="haskell",e.kotlin="kotlin",e.csharp="csharp",e.c="c",e.objectivec="objectivec",e.r="r",e.lua="lua",e.dart="dart",e.scala="scala",e.perl="perl",e.commonlisp="commonlisp",e.clojure="clojure",e.ocaml="ocaml",e.powershell="powershell",e.verilog="verilog",e.dockerfile="dockerfile",e.vue="vue",e.other="other",e))(se||{});function In(e){if(ee(e))switch(e){case ne.CODE_REACT:return"typescript";default:return Ce(e.replace(/^code\//,""),Object.values(se),"other")}}var Fe=(e=>(e.ALL_HIDDEN="all_hidden",e.COMMENTS_READONLY="comments_readonly",e.ENABLED="enabled",e))(Fe||{});const Je=36,Nn=-24,Ve=280,Ue=Ve+Je,_n=40;var Xe=(e=>(e.COLLAPSED="collapsed",e.EXPANDED="expanded",e))(Xe||{});const J=775,We=580,Ze=36,Qe=18,Ye=({isPreview:e=!1})=>{const[{width:n},t]=Ne(),r=xe(),o=n>=J+Ue?J:We,s=e&&r?Qe:Ze;return u.jsx("div",{className:I(re.document,"mt-4"),ref:t,style:{margin:`0 ${s}px`},children:u.jsx("div",{style:{width:o},children:u.jsx(te,{lines:20})})})},Ke=Q(()=>Y(()=>import("./mhel8p8ejra52k42.js"),__vite__mapDeps([27,1,2,3,19,18,4,5,6,7,8,9,10,11,12,13,14,15,16,17,20,21,22,23,28,29,30,31,32,33,25,34])).then(e=>e.DocumentComposer),{loading:Ye}),An=e=>u.jsx(Ke,{...e});function h(){}h.prototype={diff:function(n,t){var r,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=o.callback;typeof o=="function"&&(s=o,o={});var i=this;function l(m){return m=i.postProcess(m,o),s?(setTimeout(function(){s(m)},0),!0):m}n=this.castInput(n,o),t=this.castInput(t,o),n=this.removeEmpty(this.tokenize(n,o)),t=this.removeEmpty(this.tokenize(t,o));var a=t.length,c=n.length,f=1,v=a+c;o.maxEditLength!=null&&(v=Math.min(v,o.maxEditLength));var g=(r=o.timeout)!==null&&r!==void 0?r:1/0,y=Date.now()+g,p=[{oldPos:-1,lastComponent:void 0}],d=this.extractCommon(p[0],t,n,0,o);if(p[0].oldPos+1>=c&&d+1>=a)return l(V(i,p[0].lastComponent,t,n,i.useLongestToken));var E=-1/0,C=1/0;function _(){for(var m=Math.max(E,-f);m<=Math.min(C,f);m+=2){var D=void 0,x=p[m-1],O=p[m+1];x&&(p[m-1]=void 0);var k=!1;if(O){var q=O.oldPos-m;k=O&&0<=q&&q<a}var F=x&&x.oldPos+1<c;if(!k&&!F){p[m]=void 0;continue}if(!F||k&&x.oldPos<O.oldPos?D=i.addToPath(O,!0,!1,0,o):D=i.addToPath(x,!1,!0,1,o),d=i.extractCommon(D,t,n,m,o),D.oldPos+1>=c&&d+1>=a)return l(V(i,D.lastComponent,t,n,i.useLongestToken));p[m]=D,D.oldPos+1>=c&&(C=Math.min(C,m-1)),d+1>=a&&(E=Math.max(E,m+1))}f++}if(s)(function m(){setTimeout(function(){if(f>v||Date.now()>y)return s();_()||m()},0)})();else for(;f<=v&&Date.now()<=y;){var A=_();if(A)return A}},addToPath:function(n,t,r,o,s){var i=n.lastComponent;return i&&!s.oneChangePerToken&&i.added===t&&i.removed===r?{oldPos:n.oldPos+o,lastComponent:{count:i.count+1,added:t,removed:r,previousComponent:i.previousComponent}}:{oldPos:n.oldPos+o,lastComponent:{count:1,added:t,removed:r,previousComponent:i}}},extractCommon:function(n,t,r,o,s){for(var i=t.length,l=r.length,a=n.oldPos,c=a-o,f=0;c+1<i&&a+1<l&&this.equals(r[a+1],t[c+1],s);)c++,a++,f++,s.oneChangePerToken&&(n.lastComponent={count:1,previousComponent:n.lastComponent,added:!1,removed:!1});return f&&!s.oneChangePerToken&&(n.lastComponent={count:f,previousComponent:n.lastComponent,added:!1,removed:!1}),n.oldPos=a,c},equals:function(n,t,r){return r.comparator?r.comparator(n,t):n===t||r.ignoreCase&&n.toLowerCase()===t.toLowerCase()},removeEmpty:function(n){for(var t=[],r=0;r<n.length;r++)n[r]&&t.push(n[r]);return t},castInput:function(n){return n},tokenize:function(n){return Array.from(n)},join:function(n){return n.join("")},postProcess:function(n){return n}};function V(e,n,t,r,o){for(var s=[],i;n;)s.push(n),i=n.previousComponent,delete n.previousComponent,n=i;s.reverse();for(var l=0,a=s.length,c=0,f=0;l<a;l++){var v=s[l];if(v.removed)v.value=e.join(r.slice(f,f+v.count)),f+=v.count;else{if(!v.added&&o){var g=t.slice(c,c+v.count);g=g.map(function(y,p){var d=r[f+p];return d.length>y.length?d:y}),v.value=e.join(g)}else v.value=e.join(t.slice(c,c+v.count));c+=v.count,v.added||(f+=v.count)}}return s}function U(e,n){var t;for(t=0;t<e.length&&t<n.length;t++)if(e[t]!=n[t])return e.slice(0,t);return e.slice(0,t)}function X(e,n){var t;if(!e||!n||e[e.length-1]!=n[n.length-1])return"";for(t=0;t<e.length&&t<n.length;t++)if(e[e.length-(t+1)]!=n[n.length-(t+1)])return e.slice(-t);return e.slice(-t)}function H(e,n,t){if(e.slice(0,n.length)!=n)throw Error("string ".concat(JSON.stringify(e)," doesn't start with prefix ").concat(JSON.stringify(n),"; this is a bug"));return t+e.slice(n.length)}function M(e,n,t){if(!n)return e+t;if(e.slice(-n.length)!=n)throw Error("string ".concat(JSON.stringify(e)," doesn't end with suffix ").concat(JSON.stringify(n),"; this is a bug"));return e.slice(0,-n.length)+t}function w(e,n){return H(e,n,"")}function T(e,n){return M(e,n,"")}function W(e,n){return n.slice(0,en(e,n))}function en(e,n){var t=0;e.length>n.length&&(t=e.length-n.length);var r=n.length;e.length<n.length&&(r=e.length);var o=Array(r),s=0;o[0]=0;for(var i=1;i<r;i++){for(n[i]==n[s]?o[i]=o[s]:o[i]=s;s>0&&n[i]!=n[s];)s=o[s];n[i]==n[s]&&s++}s=0;for(var l=t;l<e.length;l++){for(;s>0&&e[l]!=n[s];)s=o[s];e[l]==n[s]&&s++}return s}var R="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",nn=new RegExp("[".concat(R,"]+|\\s+|[^").concat(R,"]"),"ug"),z=new h;z.equals=function(e,n,t){return t.ignoreCase&&(e=e.toLowerCase(),n=n.toLowerCase()),e.trim()===n.trim()};z.tokenize=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t;if(n.intlSegmenter){if(n.intlSegmenter.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');t=Array.from(n.intlSegmenter.segment(e),function(s){return s.segment})}else t=e.match(nn)||[];var r=[],o=null;return t.forEach(function(s){/\s/.test(s)?o==null?r.push(s):r.push(r.pop()+s):/\s/.test(o)?r[r.length-1]==o?r.push(r.pop()+s):r.push(o+s):r.push(s),o=s}),r};z.join=function(e){return e.map(function(n,t){return t==0?n:n.replace(/^\s+/,"")}).join("")};z.postProcess=function(e,n){if(!e||n.oneChangePerToken)return e;var t=null,r=null,o=null;return e.forEach(function(s){s.added?r=s:s.removed?o=s:((r||o)&&Z(t,o,r,s),t=s,r=null,o=null)}),(r||o)&&Z(t,o,r,null),e};function Z(e,n,t,r){if(n&&t){var o=n.value.match(/^\s*/)[0],s=n.value.match(/\s*$/)[0],i=t.value.match(/^\s*/)[0],l=t.value.match(/\s*$/)[0];if(e){var a=U(o,i);e.value=M(e.value,i,a),n.value=w(n.value,a),t.value=w(t.value,a)}if(r){var c=X(s,l);r.value=H(r.value,l,c),n.value=T(n.value,c),t.value=T(t.value,c)}}else if(t)e&&(t.value=t.value.replace(/^\s*/,"")),r&&(r.value=r.value.replace(/^\s*/,""));else if(e&&r){var f=r.value.match(/^\s*/)[0],v=n.value.match(/^\s*/)[0],g=n.value.match(/\s*$/)[0],y=U(f,v);n.value=w(n.value,y);var p=X(w(f,y),g);n.value=T(n.value,p),r.value=H(r.value,f,p),e.value=M(e.value,f,f.slice(0,f.length-p.length))}else if(r){var d=r.value.match(/^\s*/)[0],E=n.value.match(/\s*$/)[0],C=W(E,d);n.value=T(n.value,C)}else if(e){var _=e.value.match(/\s*$/)[0],A=n.value.match(/^\s*/)[0],m=W(_,A);n.value=w(n.value,m)}}var tn=new h;tn.tokenize=function(e){var n=new RegExp("(\\r?\\n)|[".concat(R,"]+|[^\\S\\n\\r]+|[^").concat(R,"]"),"ug");return e.match(n)||[]};var L=new h;L.tokenize=function(e,n){n.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var t=[],r=e.split(/(\n|\r\n)/);r[r.length-1]||r.pop();for(var o=0;o<r.length;o++){var s=r[o];o%2&&!n.newlineIsToken?t[t.length-1]+=s:t.push(s)}return t};L.equals=function(e,n,t){return t.ignoreWhitespace?((!t.newlineIsToken||!e.includes(`
`))&&(e=e.trim()),(!t.newlineIsToken||!n.includes(`
`))&&(n=n.trim())):t.ignoreNewlineAtEof&&!t.newlineIsToken&&(e.endsWith(`
`)&&(e=e.slice(0,-1)),n.endsWith(`
`)&&(n=n.slice(0,-1))),h.prototype.equals.call(this,e,n,t)};function rn(e,n,t){return L.diff(e,n,t)}var sn=new h;sn.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var on=new h;on.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function S(e){"@babel/helpers - typeof";return S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},S(e)}var N=new h;N.useLongestToken=!0;N.tokenize=L.tokenize;N.castInput=function(e,n){var t=n.undefinedReplacement,r=n.stringifyReplacer,o=r===void 0?function(s,i){return typeof i>"u"?t:i}:r;return typeof e=="string"?e:JSON.stringify(P(e,null,null,o),o,"  ")};N.equals=function(e,n,t){return h.prototype.equals.call(N,e.replace(/,([\r\n])/g,"$1"),n.replace(/,([\r\n])/g,"$1"),t)};function P(e,n,t,r,o){n=n||[],t=t||[],r&&(e=r(o,e));var s;for(s=0;s<n.length;s+=1)if(n[s]===e)return t[s];var i;if(Object.prototype.toString.call(e)==="[object Array]"){for(n.push(e),i=new Array(e.length),t.push(i),s=0;s<e.length;s+=1)i[s]=P(e[s],n,t,r,o);return n.pop(),t.pop(),i}if(e&&e.toJSON&&(e=e.toJSON()),S(e)==="object"&&e!==null){n.push(e),i={},t.push(i);var l=[],a;for(a in e)Object.prototype.hasOwnProperty.call(e,a)&&l.push(a);for(l.sort(),s=0;s<l.length;s+=1)a=l[s],i[a]=P(e[a],n,t,r,a);n.pop(),t.pop()}else i=e;return i}var B=new h;B.tokenize=function(e){return e.slice()};B.join=B.removeEmpty=function(e){return e};var j=(e=>(e.ADDED="added",e.REMOVED="removed",e.UNCHANGED="unchanged",e))(j||{});function $(e){if(e==="")return 0;const n=e.split(`
`).length;return e.endsWith(`
`)?n-1:n}function ln(e,n){return rn(e,n,{newlineIsToken:!0}).map(r=>({count:r.count??$(r.value),value:r.value,type:r.added?"added":r.removed?"removed":"unchanged"}))}function an(e){let n="";for(const{type:t,value:r}of e)(t==="added"||t==="unchanged")&&(n+=r);return n}function un(e,n){const t=$(n),r=mn(e,t);return{changes:ln(r,n),numLinesDiffed:t}}function cn(e){const n=[...e],t=[],r=[];for(;n.length>0;){const o=n[n.length-1];if(o.type===j.REMOVED)n.pop(),o.type===j.REMOVED&&t.unshift(o);else if(o.type===j.ADDED)n.pop(),r.unshift(o);else break}return{prunedChanges:[...n,...r],prunedRemovedChanges:t}}function fn(e,n){const{changes:t,numLinesDiffed:r}=un(e,n),{prunedChanges:o,prunedRemovedChanges:s}=cn(t),i=an(o),l=s.map(c=>c.value).join(`
`),a=oe(e,r,"start");return{content:i+l+a,numLinesDiffed:$(i)}}function mn(e,n){if(n<=0)return"";let t=0,r=e.length;for(let o=0;o<e.length;o++)if(e[o]===`
`&&(t++,t===n)){r=o+1;break}return e.substring(0,r)}function oe(e,n,t="start"){if(n<=0)return e;if(t==="start"){let i=0;for(let l=0;l<e.length;l++)if(e[l]===`
`&&(i++,i===n))return e.substring(l+1);return""}let r=0,o=-1;const s=e.endsWith(`
`)?n+1:n;for(let i=e.length-1;i>=0;i--)if(e[i]===`
`&&(r++,r===s)){o=i;break}return o===-1?"":e.substring(0,o+1)}function Tn(e,n){const t=e?.type??ne.LOADING,r=e?.content??"",o=Oe(e);if(!ee(t)||n==null||!o||!we(e))return{content:r,currentlyStreamingLineIndex:null};const s=oe(r,1,"end");if(s==="")return{content:n.content,currentlyStreamingLineIndex:0};const i=fn(n.content,s);return{content:i.content,currentlyStreamingLineIndex:i.numLinesDiffed}}class vn{constructor(n){this.params=n}get isReadonly(){return Object.values(this.params).some(n=>!!n)}get isHistoricalVersion(){return!!this.params.isHistoricalVersion}get isStreaming(){return!!this.params.isStreaming}get isRestoring(){return!!this.params.isRestoring}get isShowingChanges(){return!!this.params.isShowingChanges}get isReadonlyFromQueryParam(){return!!this.params.isReadonlyFromQueryParam}}const jn=e=>new vn(e);export{wn as A,Fe as C,Ye as D,Ve as E,Xe as G,Cn as H,Re as L,Qe as M,On as N,je as O,Ue as T,Te as Z,In as a,An as b,b as c,jn as d,_e as e,re as f,Tn as g,_n as h,se as i,xn as j,Je as k,Nn as l,Ae as m,be as n,Ze as o,J as p,We as q};
//# sourceMappingURL=d6rdv6no1eiunlr4.js.map
