const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/sso-mvvlxd9xwkjczvn0.js","assets/e9n3rg14pzg374g3.js","assets/j1qap0bw36lespl9.js","assets/root-iykz99hp.css","assets/h68ell45soz3e4yi.js","assets/grb1rrh8esowjpbm.js","assets/conversation-small-cll5buey.css","assets/bi0vifd8jvbk6z3i.js","assets/ewtqk0n3851lyzho.js","assets/h0laljsy4ysc90hu.js","assets/ix76sg32fmcx0j55.js","assets/j1bsva8oa7k0vwf4.js","assets/m9q3yr3sdo39re1m.js","assets/dhbxzszbcrs3lysw.js","assets/gr6pgpwa3sv1aeh2.js","assets/bc6hp4wq8gowa771.js","assets/ioz8cfcg5s4hqq33.js","assets/dtze00xaierjxot3.js","assets/k1gn41i4gray7fmh.js","assets/brcdrne8zkhspau9.js","assets/zct6hi1cd1uetz17.js","assets/bqf1l5j120frre28.js","assets/osp358f6hr0hdw9m.js","assets/c176p1tvb72ey8bx.js","assets/li3pl4j2xobwa97q.js","assets/egb8263m3f48i02z.js","assets/oahh6xlc4bihi7vm.js","assets/op5uwj8w42z4nd7o.js","assets/h6hcnvaevzxai604.js","assets/itghwucfyv5ciib7.js","assets/gly4xey7azk72pun.js","assets/e7k02vr0y7rtmoim.js","assets/kgn8mz1vadbk6m54.js","assets/983a0dy92b3ronpv.js","assets/bsr5ji6hg8730qb2.js","assets/n1r2c0e90h7rqosu.js","assets/kqwdyvkaaavvn8k3.js","assets/nxy581z7mxt1o9q1.js","assets/is3oowxzwy811lm9.js","assets/f0iilar8ri2vnecs.js","assets/c28gd76xapkyy987.js","assets/e9lafxuzyeh4418f.js","assets/d7ui1p2zzrjrhslr.js","assets/gze3k0dvmptu3yhi.js","assets/nhwwej1nq0zrd7sc.js","assets/hf7tdbmt3dieoi0q.js","assets/gq1ztmd6e5aibtdb.js","assets/lre8tviirdx0xxqu.js","assets/k35x8czqhub0rs8a.js","assets/mwelri5opjzqqhs2.js","assets/g3sc4tti2twildma.js","assets/jamo7v7tivlqzrj6.js","assets/iej0cupg2dqkmejt.js","assets/ck4fvbxddtobj2n7.js","assets/kp3dmr9v0mj3bfom.js","assets/jk8w36bsokizpx57.js","assets/e1xfpd27ks28udof.js","assets/mu6lyt62yj093h7e.js","assets/zu6bsvminzcolzxd.js","assets/swiper-kmk1dd5x.css"])))=>i.map(i=>d[i]);
import{Y as js,Z as ks,Q as Ns,at as W,x as s,N as y,am as B,r as m,d5 as Ss,t as _s,d as x,cR as Cs,ap as Ze,W as T,bB as H,av as Ps,a5 as de,em as Ds,eF as Ts,g as Ge,a0 as $,as as Ms,D as As,bz as Ve,V as qe,au as Es,P as te,cy as he,f1 as Is}from"./e9n3rg14pzg374g3.js";import{n as Ls,J as Fs,a7 as zs,h as Xe,a8 as Hs,c as Ke,d as Je}from"./h0laljsy4ysc90hu.js";import{a as Rs,b as Us}from"./fstemih5wd92m960.js";import{b as Qe,R as es,u as ss,C as Os,c as Ys,d as Ws,S as ge,D as Bs,e as Zs}from"./n22a7nnlo7ea16mb.js";import{U as Gs}from"./kgn8mz1vadbk6m54.js";import{jn as ue,a9 as F,nJ as Vs,eU as ts,nK as qs,nL as Xs,nM as Ks,eW as ne,nN as ns,lc as Js,f9 as Qs,t as et,ef as st,bZ as xe,bY as tt,bP as Z,aa as be,nO as rs,U as P,eV as nt,bS as rt,cD as os,nP as fe,la as as,c as is,nQ as ot,Q as at,i5 as it,nR as ct}from"./grb1rrh8esowjpbm.js";import{b as lt,u as dt}from"./op5uwj8w42z4nd7o.js";import{b as ht}from"./j1bsva8oa7k0vwf4.js";import{a as ut,b as ft}from"./zct6hi1cd1uetz17.js";import{E as M}from"./gr6pgpwa3sv1aeh2.js";import{u as mt,p as pt,W as gt,X as xt,C as bt,ck as vt,a5 as wt}from"./j1qap0bw36lespl9.js";import{b as z}from"./k1gn41i4gray7fmh.js";import{g as cs}from"./kqwdyvkaaavvn8k3.js";import{v as ve,C as yt,A as $t,a as jt,L as kt,B as Nt,p as St,b as _t,e as Ct,P as Pt,f as Dt,g as Tt}from"./o4r28p8g2dxanazk.js";import{a as Mt}from"./nxy581z7mxt1o9q1.js";import{S as At}from"./983a0dy92b3ronpv.js";import{m as we}from"./ix76sg32fmcx0j55.js";import{E as Et}from"./mmbm3iaj0t5w9ka8.js";import{B as It,D as Lt}from"./m9q3yr3sdo39re1m.js";function Ft(e){return e&&/^turn[0-9]+ifs[0-9]+$/.test(e)}const zt=js(()=>ks(()=>import("./sso-mvvlxd9xwkjczvn0.js").then(e=>e.B),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59])).then(e=>e.BusinessesMap),{ssr:!1});function Ht({attribution:e}){const t=m.useContext(F),n=Vs(t?.message.id,e.attributable_index),r=ts(),[o,a]=qs();return s.jsx(Ut,{highlightProb:n,isDebugMode:r,probMin:o,probMax:a,content:e.alt??"",attributableIndex:e.attributable_index})}function Rt({content:e,highlightProb:t,isDebugMode:n,probMin:r,probMax:o,attributableIndex:a}){const i=o===r?t>o?1:0:(t-r)/(o-r),c=W().resolvedTheme==="dark";return s.jsxs("span",{style:{backgroundColor:c?`rgba(130, 97, 22, ${i})`:`rgba(246, 233, 204, ${i})`},className:y("relative",n&&"hover:border hover:border-red-500/50"),children:[n&&s.jsx("span",{className:"absolute -top-4 left-0 whitespace-nowrap text-xs text-red-500",children:s.jsx(B,{label:"Attribution Index",side:"top",children:a})}),s.jsx(ue,{rehypePlugins:Qe,remarkPlugins:es,urlTransform:ss,components:{p:({children:h})=>s.jsx(s.Fragment,{children:h})},children:e})]})}const Ut=Ns.memo(Rt);function Ot({attributionFooter:e}){const[t,n]=m.useState(!1),r=Yt();Xs(a=>a);const o=Ks();return m.useEffect(()=>Ss(document,{keydown:a=>{a.code==="Digit3"&&a.altKey&&t&&ne.setPaused(!o)}}),[o,t]),null}function Yt(){const{value:e}=_s("2192543539");return e}function ye(e,t){try{return BigInt(e).toLocaleString(t)}catch{const n=Number(e);return e.includes("e")||e.includes("E")?n.toExponential():n.toLocaleString(t,{maximumFractionDigits:6})}}function Wt({data:e,trackContentReferenceEvent:t}){m.useEffect(()=>{t(x.searchContentReferenceShown,"search_content_reference_shown",e.type)},[t,e.type]);const{currentLocale:n}=Cs();return e.expression&&e.result!=null?s.jsxs("div",{className:"no-scrollbar overflow-auto sm:overflow-hidden",children:[s.jsxs("div",{className:"pb-1 text-lg font-semibold",children:[e.prefix&&s.jsx("span",{children:e.prefix}),s.jsx("span",{children:ye(e.result,n)}),e.suffix&&s.jsx("span",{children:e.suffix})]}),s.jsx("div",{className:"tracking-wide text-token-text-primary",children:`${e.expression}=${ye(e.result,n)}`})]}):null}function Bt(e){return s.jsxs(Ze,{width:"19",height:"15",viewBox:"0 0 19 15",fill:"none",...e,children:[s.jsx("path",{d:"M4.42 0.75H2.8625H2.75C1.64543 0.75 0.75 1.64543 0.75 2.75V11.65C0.75 12.7546 1.64543 13.65 2.75 13.65H2.8625C2.8625 13.65 2.8625 13.65 2.8625 13.65C2.8625 13.65 4.00751 13.65 4.42 13.65M13.98 13.65H15.5375H15.65C16.7546 13.65 17.65 12.7546 17.65 11.65V2.75C17.65 1.64543 16.7546 0.75 15.65 0.75H15.5375H13.98",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.16045 7.41534C5.32257 7.228 4.69638 6.47988 4.69638 5.58551C4.69638 4.54998 5.53584 3.71051 6.57136 3.71051C7.60689 3.71051 8.44635 4.54998 8.44635 5.58551C8.44635 5.8965 8.37064 6.1898 8.23664 6.448C8.22998 6.48984 8.21889 6.53136 8.20311 6.57208L6.77017 10.2702C6.63182 10.6272 6.18568 10.7873 5.7737 10.6276C5.36172 10.468 5.13991 10.0491 5.27826 9.69206L6.16045 7.41534ZM11.4177 7.41534C10.5798 7.228 9.95362 6.47988 9.95362 5.58551C9.95362 4.54998 10.7931 3.71051 11.8286 3.71051C12.8641 3.71051 13.7036 4.54998 13.7036 5.58551C13.7036 5.8965 13.6279 6.1898 13.4939 6.448C13.4872 6.48984 13.4761 6.53136 13.4604 6.57208L12.0274 10.2702C11.8891 10.6272 11.4429 10.7873 11.0309 10.6276C10.619 10.468 10.3971 10.0491 10.5355 9.69206L11.4177 7.41534Z",fill:"currentColor"})]})}function Zt(e){return s.jsxs(Ze,{width:"19",height:"15",viewBox:"0 0 19 15",fill:"none",...e,children:[s.jsx("path",{d:"M4.42 0.75H2.8625H2.75C1.64543 0.75 0.75 1.64543 0.75 2.75V11.65C0.75 12.7546 1.64543 13.65 2.75 13.65H2.8625C2.8625 13.65 2.8625 13.65 2.8625 13.65C2.8625 13.65 4.00751 13.65 4.42 13.65M13.98 13.65H15.5375H15.65C16.7546 13.65 17.65 12.7546 17.65 11.65V2.75C17.65 1.64543 16.7546 0.75 15.65 0.75H15.5375H13.98",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{d:"M5.55283 4.21963C5.25993 3.92674 4.78506 3.92674 4.49217 4.21963C4.19927 4.51252 4.19927 4.9874 4.49217 5.28029L6.36184 7.14996L4.49217 9.01963C4.19927 9.31252 4.19927 9.7874 4.49217 10.0803C4.78506 10.3732 5.25993 10.3732 5.55283 10.0803L7.95283 7.68029C8.24572 7.3874 8.24572 6.91252 7.95283 6.61963L5.55283 4.21963Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"0.2",strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{d:"M9.77753 8.75003C9.3357 8.75003 8.97753 9.10821 8.97753 9.55003C8.97753 9.99186 9.3357 10.35 9.77753 10.35H13.2775C13.7194 10.35 14.0775 9.99186 14.0775 9.55003C14.0775 9.10821 13.7194 8.75003 13.2775 8.75003H9.77753Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"0.1"})]})}function Gt({codeMessage:e,codeExecutionOutputMessage:t,onDismiss:n,FormattedText:r}){const o=T();return s.jsx(H.Root,{isOpen:!0,onClose:n,children:s.jsx(H.Overlay,{children:s.jsxs(H.Content,{className:"flex max-h-[75vh] max-w-lg flex-col overflow-hidden",children:[s.jsx(H.Header,{title:o.formatMessage(Vt.title),type:"success",closeButton:s.jsx(Ps,{onClick:n})}),s.jsxs("div",{className:"flex flex-1 flex-col overflow-auto bg-black",children:[s.jsx("div",{children:s.jsx(ut,{FormattedText:r,message:e})}),s.jsx("div",{children:s.jsx(ft,{message:t})})]})]})})})}const Vt=de({title:{id:"CodeExecutionOutputModal.title",defaultMessage:"Analysis"}});function qt({displayInfo:e,FormattedText:t,trackContentReferenceEvent:n}){const[r,o]=m.useState(!1),a=T();return m.useEffect(()=>{n(x.searchContentReferenceShown,"search_content_reference_shown",e.type)},[n,e.type]),s.jsxs(s.Fragment,{children:[s.jsx(B,{label:a.formatMessage(Xt.viewAnalysis),side:"top",sideOffset:4,withArrow:!1,delayDuration:150,children:s.jsx("button",{onClick:()=>o(!0),children:s.jsx(Zt,{className:"-mt-0.5 ml-0.5 inline-block text-token-link hover:text-token-link-hover"})})}),r&&s.jsx(Gt,{FormattedText:t,codeMessage:e.codeMessage,codeExecutionOutputMessage:e.codeExecutionOutputMessage,onDismiss:()=>o(!1)})]})}const Xt=de({viewAnalysis:{id:"viewAnalysis",defaultMessage:"View analysis"}}),$e=24;function Kt(e){const t=e.split(".");let n=e;return t.length>1&&t.slice(0,-1).some(r=>r.length>0)&&(n=t.slice(0,-1).join(".")),n.length>$e&&(n=n.slice(0,$e-1)+"…"),n}function Jt({fileRef:e,onClick:t}){const n=ns();if(!e)return null;const r=s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex shrink-0 items-center justify-center",children:s.jsx(mt,{className:"icon-xs"})}),s.jsx("div",{className:"max-w-xs truncate",children:e.name}),s.jsx("div",{className:"shrink-0",children:s.jsx(pt,{className:"icon-xs"})})]});return e.cloud_doc_url?s.jsx(M,{href:e.cloud_doc_url,target:"_blank",rel:"noreferrer",className:"text-xs",children:r}):s.jsx("button",{onClick:()=>{n(e.id,e.name),t?.()},className:"text-xs",children:r})}function Qt({fileRef:e,index:t,trackContentReferenceEvent:n}){const r=ns(),o=m.useContext(F),a=Ds("668322707"),i=Ls(o?.analyticsMetadata.clientThreadId??Ts),c=Js(),h=o?.message.metadata?.gizmo_id,u=!!h&&c.includes(h),l=Qs(i),d={source:e.source,index:t};if(m.useEffect(()=>{n(x.fileCitationShown,"file_citation_shown","file",d)},[]),l&&!u)return null;const b=!a.isLoading&&a.layer.get("show_citations_with_title",!1)?`(${Kt(e.name)})`:s.jsx(Bt,{className:"-mt-0.5 ml-0.5 inline-block text-token-link hover:text-token-link-hover"});return s.jsx(B,{label:s.jsx(Jt,{fileRef:e,onClick:()=>{n(x.fileCitationClicked,"file_citation_clicked","file",d)}}),onOpenChange:f=>{f?n(x.fileCitationHovered,"file_citation_hovered","file",d):n(x.fileCitationUnhovered,"file_citation_unhovered","file",d)},side:"top",sideOffset:4,withArrow:!1,delayDuration:150,interactive:!0,wide:!0,children:e.cloud_doc_url?s.jsx(M,{href:e.cloud_doc_url,target:"_blank",rel:"noreferrer",className:"px-0.5 text-green-600",children:b}):s.jsx("button",{onClick:()=>r(e.id,e.name),className:"px-0.5 text-green-600",children:b})})}var re={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r){if(r===null||r===!0||r===!1)return NaN;var o=Number(r);return isNaN(o)?o:o<0?Math.ceil(o):Math.floor(o)}e.exports=t.default})(re,re.exports);var en=re.exports;const sn=Ge(en);var oe={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r){var o=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return o.setUTCFullYear(r.getFullYear()),r.getTime()-o.getTime()}e.exports=t.default})(oe,oe.exports);var tn=oe.exports;const je=Ge(tn);function nn(e,t){var n=cn(t);return n.formatToParts?on(n,e):an(n,e)}var rn={year:0,month:1,day:2,hour:3,minute:4,second:5};function on(e,t){try{for(var n=e.formatToParts(t),r=[],o=0;o<n.length;o++){var a=rn[n[o].type];a>=0&&(r[a]=parseInt(n[o].value,10))}return r}catch(i){if(i instanceof RangeError)return[NaN];throw i}}function an(e,t){var n=e.format(t),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[r[3],r[1],r[2],r[4],r[5],r[6]]}var q={};function cn(e){if(!q[e]){var t=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n=t==="06/25/2014, 00:00:00"||t==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";q[e]=n?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return q[e]}function ls(e,t,n,r,o,a,i){var c=new Date(0);return c.setUTCFullYear(e,t,n),c.setUTCHours(r,o,a,i),c}var ke=36e5,ln=6e4,X={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function ds(e,t,n){var r,o;if(!e||(r=X.timezoneZ.exec(e),r))return 0;var a;if(r=X.timezoneHH.exec(e),r)return a=parseInt(r[1],10),Ne(a)?-(a*ke):NaN;if(r=X.timezoneHHMM.exec(e),r){a=parseInt(r[2],10);var i=parseInt(r[3],10);return Ne(a,i)?(o=Math.abs(a)*ke+i*ln,r[1]==="+"?-o:o):NaN}if(un(e)){t=new Date(t||Date.now());var c=n?t:dn(t),h=ae(c,e),u=n?h:hn(t,h,e);return-u}return NaN}function dn(e){return ls(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function ae(e,t){var n=nn(e,t),r=ls(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),o=e.getTime(),a=o%1e3;return o-=a>=0?a:1e3+a,r-o}function hn(e,t,n){var r=e.getTime(),o=r-t,a=ae(new Date(o),n);if(t===a)return t;o-=a-t;var i=ae(new Date(o),n);return a===i?a:Math.max(a,i)}function Ne(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}var Se={};function un(e){if(Se[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),Se[e]=!0,!0}catch{return!1}}var fn=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,K=36e5,_e=6e4,mn=2,N={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:fn};function ie(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);var n={},r=n.additionalDigits==null?mn:sn(n.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var o=pn(e),a=gn(o.date,r),i=a.year,c=a.restDateString,h=xn(c,i);if(isNaN(h))return new Date(NaN);if(h){var u=h.getTime(),l=0,d;if(o.time&&(l=bn(o.time),isNaN(l)))return new Date(NaN);if(o.timeZone||n.timeZone){if(d=ds(o.timeZone||n.timeZone,new Date(u+l)),isNaN(d))return new Date(NaN)}else d=je(new Date(u+l)),d=je(new Date(u+l+d));return new Date(u+l+d)}else return new Date(NaN)}function pn(e){var t={},n=N.dateTimePattern.exec(e),r;if(n?(t.date=n[1],r=n[3]):(n=N.datePattern.exec(e),n?(t.date=n[1],r=n[2]):(t.date=null,r=e)),r){var o=N.timeZone.exec(r);o?(t.time=r.replace(o[1],""),t.timeZone=o[1].trim()):t.time=r}return t}function gn(e,t){var n=N.YYY[t],r=N.YYYYY[t],o;if(o=N.YYYY.exec(e)||r.exec(e),o){var a=o[1];return{year:parseInt(a,10),restDateString:e.slice(a.length)}}if(o=N.YY.exec(e)||n.exec(e),o){var i=o[1];return{year:parseInt(i,10)*100,restDateString:e.slice(i.length)}}return{year:null}}function xn(e,t){if(t===null)return null;var n,r,o,a;if(e.length===0)return r=new Date(0),r.setUTCFullYear(t),r;if(n=N.MM.exec(e),n)return r=new Date(0),o=parseInt(n[1],10)-1,Pe(t,o)?(r.setUTCFullYear(t,o),r):new Date(NaN);if(n=N.DDD.exec(e),n){r=new Date(0);var i=parseInt(n[1],10);return yn(t,i)?(r.setUTCFullYear(t,0,i),r):new Date(NaN)}if(n=N.MMDD.exec(e),n){r=new Date(0),o=parseInt(n[1],10)-1;var c=parseInt(n[2],10);return Pe(t,o,c)?(r.setUTCFullYear(t,o,c),r):new Date(NaN)}if(n=N.Www.exec(e),n)return a=parseInt(n[1],10)-1,De(t,a)?Ce(t,a):new Date(NaN);if(n=N.WwwD.exec(e),n){a=parseInt(n[1],10)-1;var h=parseInt(n[2],10)-1;return De(t,a,h)?Ce(t,a,h):new Date(NaN)}return null}function bn(e){var t,n,r;if(t=N.HH.exec(e),t)return n=parseFloat(t[1].replace(",",".")),J(n)?n%24*K:NaN;if(t=N.HHMM.exec(e),t)return n=parseInt(t[1],10),r=parseFloat(t[2].replace(",",".")),J(n,r)?n%24*K+r*_e:NaN;if(t=N.HHMMSS.exec(e),t){n=parseInt(t[1],10),r=parseInt(t[2],10);var o=parseFloat(t[3].replace(",","."));return J(n,r,o)?n%24*K+r*_e+o*1e3:NaN}return null}function Ce(e,t,n){t=t||0,n=n||0;var r=new Date(0);r.setUTCFullYear(e,0,4);var o=r.getUTCDay()||7,a=t*7+n+1-o;return r.setUTCDate(r.getUTCDate()+a),r}var vn=[31,28,31,30,31,30,31,31,30,31,30,31],wn=[31,29,31,30,31,30,31,31,30,31,30,31];function hs(e){return e%400===0||e%4===0&&e%100!==0}function Pe(e,t,n){if(t<0||t>11)return!1;if(n!=null){if(n<1)return!1;var r=hs(e);if(r&&n>wn[t]||!r&&n>vn[t])return!1}return!0}function yn(e,t){if(t<1)return!1;var n=hs(e);return!(n&&t>366||!n&&t>365)}function De(e,t,n){return!(t<0||t>52||n!=null&&(n<0||n>6))}function J(e,t,n){return!(e!=null&&(e<0||e>=25)||t!=null&&(t<0||t>=60)||n!=null&&(n<0||n>=60))}function L(e,t,n){var r=ie(e,n),o=ds(t,r,!0),a=new Date(r.getTime()-o),i=new Date(0);return i.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),i.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),i}const Te="#30a633",Me="#f14d42",$n="text-[#30a633]",jn="text-[#f14d42]";var Q={line:{color:"#F66",width:1,dashPattern:[]},sync:{enabled:!0,group:1,suppressTooltips:!1},zoom:{enabled:!0,zoomboxBackgroundColor:"rgba(66,133,244,0.2)",zoomboxBorderColor:"#48F",zoomButtonText:"Reset Zoom",zoomButtonClass:"reset-zoom"},snap:{enabled:!1},callbacks:{beforeZoom:function(e,t){return!0},afterZoom:function(e,t){}}},kn={id:"crosshair",afterInit:function(e){if(e.config.options.scales.x){var t=e.config.options.scales.x.type;if(!(t!=="linear"&&t!=="time"&&t!=="category"&&t!=="logarithmic")){e.options.plugins.crosshair===void 0&&(e.options.plugins.crosshair=Q),e.crosshair={enabled:!1,suppressUpdate:!1,x:null,originalData:[],originalXRange:{},dragStarted:!1,dragStartX:null,dragEndX:null,suppressTooltips:!1,ignoreNextEvents:0,reset:(function(){this.resetZoom(e,!1,!1)}).bind(this)};var n=this.getOption(e,"sync","enabled");n&&(e.crosshair.syncEventHandler=(function(r){this.handleSyncEvent(e,r)}).bind(this),e.crosshair.resetZoomEventHandler=(function(r){var o=this.getOption(e,"sync","group");r.chartId!==e.id&&r.syncGroup===o&&this.resetZoom(e,!0)}).bind(this),window.addEventListener("sync-event",e.crosshair.syncEventHandler),window.addEventListener("reset-zoom-event",e.crosshair.resetZoomEventHandler)),e.panZoom=this.panZoom.bind(this,e)}}},afterDestroy:function(e){var t=this.getOption(e,"sync","enabled");t&&(window.removeEventListener("sync-event",e.crosshair.syncEventHandler),window.removeEventListener("reset-zoom-event",e.crosshair.resetZoomEventHandler))},panZoom:function(e,t){if(e.crosshair.originalData.length!==0){var n=e.crosshair.end-e.crosshair.start,r=e.crosshair.min,o=e.crosshair.max;t<0?(e.crosshair.start=Math.max(e.crosshair.start+t,r),e.crosshair.end=e.crosshair.start===r?r+n:e.crosshair.end+t):(e.crosshair.end=Math.min(e.crosshair.end+t,e.crosshair.max),e.crosshair.start=e.crosshair.end===o?o-n:e.crosshair.start+t),this.doZoom(e,e.crosshair.start,e.crosshair.end)}},getOption:function(e,t,n){return ve(e.options.plugins.crosshair[t]?e.options.plugins.crosshair[t][n]:void 0,Q[t][n])},getXScale:function(e){return e.data.datasets.length?e.scales[e.getDatasetMeta(0).xAxisID]:null},getYScale:function(e){return e.scales[e.getDatasetMeta(0).yAxisID]},handleSyncEvent:function(e,t){var n=this.getOption(e,"sync","group");if(t.chartId!==e.id&&t.syncGroup===n){var r=this.getXScale(e);if(r){var o=t.original.native.buttons===void 0?t.original.native.which:t.original.native.buttons;t.original.type==="mouseup"&&(o=0);var a={type:t.original.type=="click"?"mousemove":t.original.type,chart:e,x:r.getPixelForValue(t.xValue),y:t.original.y,native:{buttons:o},stop:!0};e._eventHandler(a)}}},afterEvent:function(e,t){if(e.config.options.scales.x.length==0)return;let n=t.event;var r=e.config.options.scales.x.type;if(!(r!=="linear"&&r!=="time"&&r!=="category"&&xscaleType!=="logarithmic")){var o=this.getXScale(e);if(o){if(e.crosshair.ignoreNextEvents>0){e.crosshair.ignoreNextEvents-=1;return}var a=n.native.buttons===void 0?n.native.which:n.native.buttons;n.native.type==="mouseup"&&(a=0);var i=this.getOption(e,"sync","enabled"),c=this.getOption(e,"sync","group");if(!n.stop&&i){var t=new CustomEvent("sync-event");t.chartId=e.id,t.syncGroup=c,t.original=n,t.xValue=o.getValueForPixel(n.x),window.dispatchEvent(t)}var h=this.getOption(e,"sync","suppressTooltips");if(e.crosshair.suppressTooltips=n.stop&&h,e.crosshair.enabled=n.type!=="mouseout"&&n.x>o.getPixelForValue(o.min)&&n.x<o.getPixelForValue(o.max),!e.crosshair.enabled&&!e.crosshair.suppressUpdate)return n.x>o.getPixelForValue(o.max)&&(e.crosshair.suppressUpdate=!0,e.update("none")),e.crosshair.dragStarted=!1,!1;e.crosshair.suppressUpdate=!1;var u=this.getOption(e,"zoom","enabled");if(a===1&&!e.crosshair.dragStarted&&u&&(e.crosshair.dragStartX=n.x,e.crosshair.dragStarted=!0),e.crosshair.dragStarted&&a===0){e.crosshair.dragStarted=!1;var l=o.getValueForPixel(e.crosshair.dragStartX),d=o.getValueForPixel(e.crosshair.x);Math.abs(e.crosshair.dragStartX-e.crosshair.x)>1&&this.doZoom(e,l,d),e.update("none")}e.crosshair.x=n.x,e.draw()}}},afterDraw:function(e){if(e.crosshair.enabled)return e.crosshair.dragStarted?this.drawZoombox(e):(this.drawTraceLine(e),this.interpolateValues(e),this.drawTracePoints(e)),!0},beforeTooltipDraw:function(e){return!e.crosshair.dragStarted&&!e.crosshair.suppressTooltips},resetZoom:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(n){if(e.crosshair.originalData.length>0)for(var r=0;r<e.data.datasets.length;r++){var o=e.data.datasets[r];o.data=e.crosshair.originalData.shift(0)}e.crosshair.originalXRange.min?(e.options.scales.x.min=e.crosshair.originalXRange.min,e.crosshair.originalXRange.min=null):delete e.options.scales.x.min,e.crosshair.originalXRange.max?(e.options.scales.x.max=e.crosshair.originalXRange.max,e.crosshair.originalXRange.max=null):delete e.options.scales.x.max}e.crosshair.button&&e.crosshair.button.parentNode&&(e.crosshair.button.parentNode.removeChild(e.crosshair.button),e.crosshair.button=!1);var a=this.getOption(e,"sync","enabled");if(!t&&n&&a){var i=this.getOption(e,"sync","group"),c=new CustomEvent("reset-zoom-event");c.chartId=e.id,c.syncGroup=i,window.dispatchEvent(c)}n&&e.update("none")},doZoom:function(e,t,n){if(t>n){var r=t;t=n,n=r}var o=ve(e.options.plugins.crosshair.callbacks?e.options.plugins.crosshair.callbacks.beforeZoom:void 0,Q.callbacks.beforeZoom);if(!o(t,n))return!1;if(e.crosshair.dragStarted=!1,e.options.scales.x.min&&e.crosshair.originalData.length===0&&(e.crosshair.originalXRange.min=e.options.scales.x.min),e.options.scales.x.max&&e.crosshair.originalData.length===0&&(e.crosshair.originalXRange.max=e.options.scales.x.max),!e.crosshair.button){var a=document.createElement("button"),i=this.getOption(e,"zoom","zoomButtonText"),c=this.getOption(e,"zoom","zoomButtonClass"),h=document.createTextNode(i);a.appendChild(h),a.className=c,a.addEventListener("click",(function(){this.resetZoom(e)}).bind(this)),e.canvas.parentNode.appendChild(a),e.crosshair.button=a}e.options.scales.x.min=t,e.options.scales.x.max=n;var u=e.crosshair.originalData.length===0,l=e.config.options.scales.x.type!=="category";if(l)for(var d=0;d<e.data.datasets.length;d++){var b=[],f=0,g=!1,v=!1;u&&(e.crosshair.originalData[d]=e.data.datasets[d].data);for(var k=e.crosshair.originalData[d],j=0;j<k.length;j++){var _=k[j],C=_.x!==void 0?_.x:NaN;C>=t&&!g&&f>0&&(b.push(k[f-1]),g=!0),C>=t&&C<=n&&b.push(_),C>n&&!v&&f<k.length&&(b.push(_),v=!0),f+=1}e.data.datasets[d].data=b}if(e.crosshair.start=t,e.crosshair.end=n,u){var E=this.getXScale(e);e.crosshair.min=E.min,e.crosshair.max=E.max}e.crosshair.ignoreNextEvents=2,e.update("none");var G=this.getOption(e,"callbacks","afterZoom");G(t,n)},drawZoombox:function(e){var t=this.getYScale(e),n=this.getOption(e,"zoom","zoomboxBorderColor"),r=this.getOption(e,"zoom","zoomboxBackgroundColor");e.ctx.beginPath(),e.ctx.rect(e.crosshair.dragStartX,t.getPixelForValue(t.max),e.crosshair.x-e.crosshair.dragStartX,t.getPixelForValue(t.min)-t.getPixelForValue(t.max)),e.ctx.lineWidth=1,e.ctx.strokeStyle=n,e.ctx.fillStyle=r,e.ctx.fill(),e.ctx.fillStyle="",e.ctx.stroke(),e.ctx.closePath()},drawTraceLine:function(e){var t=this.getYScale(e),n=this.getOption(e,"line","width"),r=this.getOption(e,"line","color"),o=this.getOption(e,"line","dashPattern"),a=this.getOption(e,"snap","enabled"),i=e.crosshair.x;a&&e._active.length&&(i=e._active[0].element.x),e.ctx.beginPath(),e.ctx.setLineDash(o),e.ctx.moveTo(i,t.getPixelForValue(t.max)),e.ctx.lineWidth=n,e.ctx.strokeStyle=r,e.ctx.lineTo(i,t.getPixelForValue(t.min)),e.ctx.stroke(),e.ctx.setLineDash([])},drawTracePoints:function(e){for(var t=0;t<e.data.datasets.length;t++){var n=e.data.datasets[t],r=e.getDatasetMeta(t),o=e.scales[r.yAxisID];r.hidden||!n.interpolate||(e.ctx.beginPath(),e.ctx.arc(e.crosshair.x,o.getPixelForValue(n.interpolatedValue),3,0,2*Math.PI,!1),e.ctx.fillStyle="white",e.ctx.lineWidth=2,e.ctx.strokeStyle=n.borderColor,e.ctx.fill(),e.ctx.stroke())}},interpolateValues:function(e){for(var t=0;t<e.data.datasets.length;t++){var n=e.data.datasets[t],r=e.getDatasetMeta(t),o=e.scales[r.xAxisID],a=o.getValueForPixel(e.crosshair.x);if(!(r.hidden||!n.interpolate)){var i=n.data,c=i.findIndex(function(d){return d.x>=a}),h=i[c-1],u=i[c];if(e.data.datasets[t].steppedLine&&h)n.interpolatedValue=h.y;else if(h&&u){var l=(u.y-h.y)/(u.x-h.x);n.interpolatedValue=h.y+(a-h.x)*l}else n.interpolatedValue=NaN}}}};yt.register($t,jt,kt,Nt,St,_t,Ct,Pt,Dt,kn);function I(e,t){return L(new Date(e*1e3),t??"America/New_York")}function Ae(e,t,n){const r=I(t,n);return e.formatTime(r,{hour:"numeric",minute:"numeric"})}function Nn(e,t,n){const r=I(t,n);return e.formatDate(r,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"numeric"})}function R(e,t,n){const r=I(t,n);return e.formatDate(r,{month:"short",day:"numeric",year:"numeric"})}function ee(e,t,n){const r=I(t,n);return e.formatDate(r,{month:"short",year:"numeric"})}function Ee(e,t,n){const r=I(t,n);return e.formatDate(r,{month:"short",day:"numeric"})}function Sn(e,t,n){const r=I(t,n);return e.formatDate(r,{weekday:"short",month:"short",day:"numeric"})}function _n(e,t,n){const r=I(t,n);return e.formatDate(r,{year:"numeric"})}const Cn=100,Pn=["1d","5d","1m","6m","ytd","1y","5y"],Ie={"1d":{label:"1D",formatTimestampLabel:Ae,formatTimestampTooltip:Ae,maxTicksLimit:6,lineTension:.1},"5d":{label:"5D",formatTimestampLabel:Ee,formatTimestampTooltip:Nn,maxTicksLimit:6,lineTension:.1},"1m":{label:"1M",formatTimestampLabel:Ee,formatTimestampTooltip:Sn,maxTicksLimit:6,lineTension:.1,useUtc:!0},"6m":{label:"6M",formatTimestampLabel:ee,formatTimestampTooltip:R,maxTicksLimit:5,lineTension:.1,useUtc:!0},ytd:{label:"YTD",formatTimestampLabel:ee,formatTimestampTooltip:R,maxTicksLimit:5,lineTension:.1,useUtc:!0},"1y":{label:"1Y",formatTimestampLabel:ee,formatTimestampTooltip:R,maxTicksLimit:5,lineTension:.2,useUtc:!0},"5y":{label:"5Y",formatTimestampLabel:_n,formatTimestampTooltip:R,maxTicksLimit:5,lineTension:.2,useUtc:!0}};function Dn({isUp:e,histories:t,defaultInterval:n,onSelectHistoryInterval:r,latestTradingPeriod:o,timezone:a}){return s.jsx(s.Fragment,{children:t&&n&&o?s.jsx(Tn,{isUp:e,histories:t,defaultInterval:n,onSelectHistoryInterval:r,latestTradingPeriod:o,timezone:a}):s.jsx(z,{className:"h-full",index:1,width:100})})}function Tn({isUp:e,histories:t,defaultInterval:n,onSelectHistoryInterval:r,latestTradingPeriod:o,timezone:a}){const[i,c]=m.useState(null),[h,u]=m.useState(!1),[l,d]=m.useState(n),b=l==="1d",f=m.useMemo(()=>{let p=t.quotes[l].filter(w=>w.close>=0);if(b&&o){const w=o.regular.start_timestamp,S=o.regular.end_timestamp;if(p=p.filter(D=>D.timestamp>=w&&D.timestamp<=S),p.length===0||p[p.length-1].timestamp<S){let V=p.length>0?p[p.length-1].timestamp:w-600;for(;V<S;)V+=600,p.push({timestamp:V,close:null})}}return p},[t,l,b,o]),g=Object.keys(t.quotes),v=Ie[l],{formatTimestampTooltip:k,maxTicksLimit:j,useUtc:_=!1}=v,C=T(),E=m.useMemo(()=>{const{formatTimestampLabel:p,lineTension:w}=v;return{labels:f.map(S=>p(C,S.timestamp,_?"UTC":a)),datasets:[{data:f.map(S=>S.close),borderColor:e?Te:Me,pointRadius:0,pointHoverRadius:4,pointStyle:"circle",backgroundColor:e?Te:Me,borderWidth:3,lineTension:w??.4}]}},[v,f,e,_,a,C]),G=et(),pe=W().theme==="dark";return s.jsxs("div",{className:"flex h-full flex-col gap-6",children:[s.jsx("div",{className:"flex items-center justify-between text-xs font-semibold text-token-text-tertiary sm:justify-start sm:gap-6",children:g.map(p=>s.jsx("button",{onClick:()=>{d(p),r?.(p)},className:y("px-2 py-1 uppercase hover:text-token-text-secondary",{"border-b-2 border-solid border-token-text-primary !text-token-text-primary":l===p}),children:Ie[p].label},p))}),s.jsxs("div",{className:"relative h-full",onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:[s.jsx(Tt,{options:{responsive:!0,maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"},hover:{mode:h?"nearest":"point"},animation:!1,scales:{x:{afterBuildTicks:p=>{if(p.ticks.length>j)if(b)p.ticks=p.ticks.filter((w,S)=>f[S].timestamp%(G?3600:7200)===0);else{const w=Math.ceil(p.ticks.length/(j-1));p.ticks=p.ticks.filter((S,D)=>D>0&&(D%w===0||D===p.ticks.length-1))}},grid:{display:!1},ticks:{align:"end"}},y:{ticks:{maxTicksLimit:7},border:{display:!1},grid:{color:pe?"rgba(255, 255, 255, 0.1)":"rgba(229, 229, 229, 0.5)"}}},plugins:{datalabels:{display:!1},legend:{display:!1},tooltip:{enabled:!1,animation:!1,displayColors:!1,callbacks:{title:function(p){const w=p[0];if(!w)return"";const S=f[w.dataIndex].timestamp;return k(C,S,_?"UTC":a)}},external:({tooltip:p})=>{c(w=>{const S=p.chart.width,D=p.caretX>S-Cn;return!w||w.x!==p.caretX||w.y!==p.caretY||w.opacity!==p.opacity||w.flip!==D?{...w,x:p.caretX,y:p.caretY,dateLabel:p.title[0],value:ce(p.dataPoints[0].parsed.y),opacity:p.opacity,flip:D}:w})}},dropShadow:!1,crosshair:{line:{color:pe?"rgba(255, 255, 255, 0.3)":"rgba(0, 0, 0, 0.3)",width:.5},zoom:{enabled:!1}}}},data:E}),s.jsx(Mn,{tooltipData:i})]})]})}function Mn({tooltipData:e}){return!e||!e.opacity?null:s.jsxs("div",{style:{left:e.flip?e.x-5:e.x+5,top:e.y-5},className:y("pointer-events-none absolute translate-y-[-100%] whitespace-nowrap bg-black p-2.5",e.flip?"translate-x-[-100%] rounded-bl-xl rounded-tl-xl rounded-tr-xl":"rounded-br-xl rounded-tl-xl rounded-tr-xl"),children:[s.jsx("div",{className:"text-white",children:e.value}),s.jsx("div",{className:"text-xs text-gray-400",children:e.dateLabel})]})}function An(e){return e?Pn.filter(n=>n in e.quotes).find(n=>e.quotes[n].length>0):void 0}function ce(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function En({contentReference:e,trackContentReferenceEvent:t}){const n=T();m.useEffect(()=>{t(x.searchContentReferenceShown,"search_content_reference_shown","stock")},[t]);const r=An(e?.stock?.histories),o=e?.stock,[a,i]=m.useState(r),c=a==="1d",h=o?.histories?.quotes?.[a??""]?.[0],u=a&&a in le?a:void 0,l=o&&(h&&!c?{changePercentage:(o.price.price-h.close)/h.close*100,changeAmount:o.price.price-h.close,changeLabel:u?n.formatMessage(le[u]):"",isUp:o.price.price>h.close}:{changePercentage:o.price.change_percent*100,changeAmount:o.price.change,changeLabel:In(o.price.latest_trade_timestamp,o.asset.timezone,n),isUp:o.price.change>0});return s.jsxs("div",{className:"flex h-[340px] flex-col gap-6",children:[s.jsx("div",{className:"shrink-0 grow-0",children:s.jsx(Ln,{data:o??null,priceChange:l??null,url:e?.url??null})}),s.jsx("div",{className:"h-full",children:s.jsx(Dn,{isUp:l?.isUp??!1,defaultInterval:r,histories:o?.histories,onSelectHistoryInterval:d=>i(d),latestTradingPeriod:o?.asset.latest_trading_period,timezone:o?.asset.timezone??null})})]})}function In(e,t,n){function r(o,a){const c=L(new Date,a),h=n.formatDate(c,{year:"numeric",month:"2-digit",day:"2-digit"}),u=ie(o*1e3),l=L(u,a),d=n.formatDate(l,{year:"numeric",month:"2-digit",day:"2-digit"});return h===d}if(!e||!t||r(e,t))return n.formatMessage(le["1d"]);{const o=ie(e*1e3),a=L(o,t);return n.formatDate(a,{month:"long",day:"numeric"})}}function Ln({data:e,priceChange:t,url:n}){function r(o){const{isUp:a,changePercentage:i,changeLabel:c,changeAmount:h}=o,u=Math.abs(i).toFixed(2),l=ce(h);return s.jsxs("span",{className:y("flex items-center gap-1 text-sm",a?$n:jn),children:[s.jsx("span",{className:"font-semibold",children:s.jsx($,{id:"3x4Lkl",defaultMessage:"{sign}{changeAmount}",values:{changeAmount:l,sign:a?"+":""}})}),s.jsx($,{id:"KkjxiB",defaultMessage:"{sign}{changePercentage}%",values:{changePercentage:u,sign:a?"+":"-"}}),s.jsx("span",{className:"text-token-text-primary",children:c})]})}return s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-semibold",children:e?s.jsx($,{id:"+2WHuv",defaultMessage:"{name} ({ticker})",values:{name:e.asset.name,ticker:e.asset.ticker}}):s.jsx("div",{className:"w-32",children:s.jsx(z,{index:9,width:100})})}),s.jsx("div",{className:"text-sm text-token-text-tertiary",children:e?s.jsxs(s.Fragment,{children:[e.asset.name,n!=null&&s.jsxs(s.Fragment,{children:[" · ",s.jsx(M,{href:n,className:"text-token-link hover:underline",children:cs(n,"hostname")})]})]}):s.jsx("div",{className:"mt-2 w-36",children:s.jsx(z,{index:6,width:100})})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"flex justify-end text-lg font-semibold",children:e?s.jsx($,{id:"s+1uly",defaultMessage:"{price}",values:{price:ce(e.price.price)}}):s.jsx("div",{className:"w-32",children:s.jsx(z,{index:0,width:100})})}),s.jsx("div",{className:"flex items-center gap-1",children:t?r(t):s.jsx("div",{className:"mt-2 w-40",children:s.jsx(z,{index:3,width:100})})})]})]})}const le=de({"1d":{id:"SMdcuo",defaultMessage:"Today"},"5d":{id:"HCA6lr",defaultMessage:"Past 5 days"},"1m":{id:"DJpPMq",defaultMessage:"Past month"},"6m":{id:"1mUJ2L",defaultMessage:"Past 6 months"},ytd:{id:"b9KkhV",defaultMessage:"Year to date"},"1y":{id:"XnvD9A",defaultMessage:"Past year"},"5y":{id:"DfI1RB",defaultMessage:"Past 5 years"}}),Fn=4;function zn({metadata:e,analyticsMetadata:t,trackContentReferenceEvent:n}){const r=st(),o=e.images,a=o.map(l=>l.thumbnail_url),i=Ms({queries:a.map(l=>Fs(l)),combine:l=>{const d=new Set;return l.forEach((b,f)=>{b.isSuccess&&d.add(a[f])}),d}}),c=o.filter(l=>i.has(l.thumbnail_url)),h=e.images.length;if(h===0)return null;if(h===1){const l=e.images[0];return s.jsx(Le,{image:l,imageSource:xe.Turn,analyticsMetadata:t,trackContentReferenceEvent:n,className:"float-image z-10 float-right clear-right mb-7 ml-7 mt-1 min-w-32 max-w-[22%] overflow-hidden rounded-xl border-[0.5px] border-token-border-light"},l.content_url)}const u=r?c.length:Math.min(c.length,Fn);return s.jsx("div",{className:"no-scrollbar mb-6 mt-1 flex flex-nowrap gap-0.5 overflow-auto sm:gap-1 sm:overflow-hidden",children:c.slice(0,u).map((l,d)=>s.jsx("div",{className:y("relative aspect-square max-h-48 w-32 shrink-0 overflow-hidden rounded-xl border-[0.5px] border-token-border-light sm:w-[calc((100%-1rem)/4)] md:shrink",d===0&&"rounded-l-xl",d===u-1&&"rounded-r-xl"),children:s.jsx(Le,{image:l,imageSource:xe.Turn,analyticsMetadata:t,trackContentReferenceEvent:n,className:"h-full w-full"},l.thumbnail_url)},l.thumbnail_url))})}const Hn=m.memo(zn,(e,t)=>e.numImageResults===t.numImageResults&&e.analyticsMetadata===t.analyticsMetadata&&e.trackContentReferenceEvent===t.trackContentReferenceEvent&&e.metadata.images.length===t.metadata.images.length&&e.metadata.images.every((n,r)=>n.content_url===t.metadata.images[r].content_url));function Le({image:e,imageSource:t,className:n,imgClassName:r,style:o,analyticsMetadata:a,trackContentReferenceEvent:i}){const c=zs(e),{isSuccess:h}=Xe(c),u=m.useMemo(()=>({url:e?.url,title:e?.title}),[e]);m.useEffect(()=>{e&&h&&i(x.searchContentReferenceShown,"search_content_reference_shown","image_v2",u)},[i,e,h,u]);const l=tt.useStore();return s.jsx("button",{className:y("relative aspect-square overflow-hidden",n),style:o,onClick:()=>{i(x.searchContentReferenceClicked,"search_content_reference_clicked","image_v2",u),l.setCurrentImage(e?{image:e,source:t,turnIndex:a.turnIndex}:void 0)},children:e?h?s.jsx(Hs,{children:s.jsx("img",{src:c,alt:e?.content_url,className:y("m-0 h-full w-full bg-token-main-surface-tertiary object-cover",r)})}):s.jsx("div",{className:"h-full w-full animate-pulse bg-token-main-surface-tertiary"}):s.jsx("div",{className:"aspect-square h-full w-full animate-pulse bg-token-main-surface-tertiary"})})}const Rn={google_maps:{title:"Google Maps"}};function Un({metadata:e,trackContentReferenceEvent:t}){m.useEffect(()=>{t(x.searchContentReferenceShown,"search_content_reference_shown",e.type)},[t,e.type]);const n=Rn[e.provider]?.title??"Maps";return s.jsx("span",{children:s.jsx($,{id:"ZSUz1k",defaultMessage:" ({link}) ",values:{link:s.jsx(M,{href:e.url,children:n})}})})}function me({url:e}){const t=Mt(e).data??cs(e,"short");return s.jsx(s.Fragment,{children:t})}function On({metadata:e,trackContentReferenceEvent:t}){return e.items.length===0?null:s.jsxs("div",{className:"mt-6 flex flex-col gap-3",children:[e.title&&s.jsx("div",{className:"-mb-1 font-semibold text-token-text-primary",children:e.title}),e.items.map((n,r)=>s.jsx(Yn,{item:n,index:r,trackContentReferenceEvent:t},r))]})}function Yn({item:e,index:t,trackContentReferenceEvent:n}){const{isSuccess:r}=Xe(e.thumbnail_url??void 0),o={url:e.url,title:e.title,index:t};m.useEffect(()=>{n(x.searchContentReferenceShown,"search_content_reference_shown","nav_list",o)},[]);const i=T().locale,c=e.pub_date!=null?new Date(e.pub_date*1e3):null,h=new Intl.RelativeTimeFormat(i,{numeric:"auto"}),u=c?Math.max(Math.floor((Date.now()-c.getTime())/(1e3*60*60*24)),0):null;let l=u!=null?h.format(-u,"day"):null;return i.startsWith("en")&&l&&(l=l.charAt(0).toUpperCase()+l.slice(1)),s.jsxs(M,{className:"group/nav-list relative flex items-center gap-6 py-1.5",href:e.url,onClick:()=>{n(x.searchContentReferenceClicked,"search_content_reference_clicked","nav_list",o)},children:[s.jsx("div",{className:"absolute bottom-0 left-0 top-0 w-[3px] rounded-b-lg rounded-t-lg bg-black/10"}),s.jsxs("div",{className:"ml-4 flex grow flex-col gap-1 overflow-hidden text-ellipsis",children:[s.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-token-text-primary",children:[s.jsx(Z,{url:e.url,size:32,minSize:16,className:"icon-sm my-0 rounded-full"}),e.attribution??s.jsx(me,{url:e.url})]}),s.jsx("div",{className:"line-clamp-2 font-semibold text-token-link decoration-token-link group-hover/nav-list:underline",children:e.title}),l&&s.jsx("div",{className:"text-xs text-token-text-tertiary",children:l})]}),r&&e.thumbnail_url&&s.jsx("div",{className:"h-16 w-16 flex-shrink-0 self-start overflow-hidden",children:s.jsx("img",{src:e.thumbnail_url,className:"m-0 h-full w-full rounded-lg object-cover",alt:e.title})})]})}const Wn=5;function Bn({sourcesFootnote:e,onShowSearchResults:t,trackContentReferenceEvent:n}){const r={urls:e.sources.map(o=>o.url).toString(),has_images:e.has_images};return m.useEffect(()=>{n(x.searchCitationShown,"search_citation_shown","sources_footnote",r),n(x.searchContentReferenceShown,"search_content_reference_shown","sources_footnote",r)},[]),s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute h-[60px]",children:s.jsxs("button",{className:y("not-prose group/footnote mb-2 mt-3 flex w-fit items-center gap-1.5 rounded-xl border border-token-border-light bg-token-main-surface-primary py-2 hover:bg-token-main-surface-secondary","pl-3 pr-2.5"),onClick:()=>{n(x.searchCitationClicked,"search_citation_clicked","sources_footnote",r),n(x.searchContentReferenceClicked,"search_content_reference_clicked","sources_footnote",r),t(At.Sources)},children:[s.jsx("div",{className:"flex items-center gap-0.5 text-sm font-medium",children:s.jsx($,{id:"/48IOP",defaultMessage:"Sources"})}),e.sources.length>0&&s.jsx("div",{className:"flex flex-row-reverse",children:e.sources.slice(0,Wn).reverse().map((o,a)=>s.jsx("div",{className:y("flex items-center overflow-hidden rounded-full border-token-main-surface-primary bg-token-main-surface-primary","-mr-1.5 first:mr-0","border-2","group-hover/footnote:border-token-main-surface-secondary","relative"),children:s.jsx(Z,{url:o.url,size:32,minSize:16,className:"icon-md"})},a))})]})}),s.jsx("div",{className:"h-[60px]"})]})}const Zn="webp",Gn=250,Vn=187,qn="srgb",Xn=4,Kn="uchar",Jn=72,Qn=!1,er=!1,sr=!0,tr="https://cdn.oaistatic.com/assets/missing-logo-h96s4tk9.webp",Fe={format:Zn,width:Gn,height:Vn,space:qn,channels:Xn,depth:Kn,density:Jn,isProgressive:Qn,hasProfile:er,hasAlpha:sr,src:tr};function us({team:e,className:t}){const[n,r]=m.useState(e.logo??Fe.src),o=()=>{As.addError("Unable to load sports widget logo",{name:e.name,logo:e.logo}),r(Fe.src)};return s.jsx("img",{src:n,alt:e.name,className:t,onError:o})}const ze=6;function nr({scheduleRef:e,trackContentReferenceEvent:t}){const[n,r]=m.useState(!0),{isLoading:o,value:a}=Ve("1684776951"),i=T(),c=e.games.length>0&&a&&!o;if(m.useEffect(()=>{c&&t(x.searchContentReferenceShown,"search_content_reference_shown","sports",{hasSchedule:!0})},[c]),!c)return null;const u=(i.formatDateToParts(new Date,{timeZoneName:"long"}).find(f=>f.type==="timeZoneName")?.value??Intl.DateTimeFormat().resolvedOptions().timeZone).replace(/Daylight|Standard/g,"");let l=e.games;const d=f=>Math.abs(new Date().getTime()-new Date(f.date).getTime());d(l[0])>d(l[l.length-1])&&(l=l.slice().reverse());const b=n?l.slice(0,ze):l;return s.jsxs("div",{className:"not-prose mb-3",children:[s.jsx("div",{className:"font-semibold",children:s.jsx($,{id:"LA6z9q",defaultMessage:"{league} Schedule",values:{league:e.league.display_name}})}),s.jsx("div",{className:"text-sm text-token-text-secondary",children:u}),b.length===1?s.jsx("div",{children:s.jsx(be,{children:s.jsx(we.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},exit:{opacity:0,y:-15},transition:{duration:.2},children:s.jsx("div",{className:"mt-3 rounded-xl border border-token-border-medium py-3",children:s.jsx(or,{game:b[0]})})})})}):s.jsx("div",{className:"grid grid-cols-1 pt-3 lg:grid-cols-2",children:s.jsx(be,{children:b.map((f,g)=>s.jsx(we.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0,transition:{delay:g*.04}},exit:{opacity:0,y:-15},transition:{duration:.2},children:s.jsx("div",{className:y("py-3",g<b.length-1&&"border-b border-token-border-medium",g===b.length-2&&"lg:border-0",g%2===0&&"lg:border-r lg:pr-4",g%2===1&&"lg:pl-4"),children:s.jsx(rr,{game:f})})},g))})}),l.length>ze&&s.jsx("div",{className:"mt-2 flex items-center justify-between",children:s.jsx("button",{className:"flex items-center text-sm font-semibold",onClick:()=>r(!n),children:n?s.jsx($,{id:"BH/Ee5",defaultMessage:"Show more {icon}",values:{icon:s.jsx(gt,{className:"mb-[-2px]"})}}):s.jsx($,{id:"Z9BlEu",defaultMessage:"Show less {icon}",values:{icon:s.jsx(xt,{className:"mb-[-2px]"})}})})})]})}function rr({game:e}){const t=ms(e),n=[e.first_team_info,e.second_team_info],r=n.find(c=>c.location==="home")??e.first_team_info,o=n.find(c=>c.location==="away")??e.second_team_info,a=t?.team.name===r?.team.name,i=t?.team.name===o?.team.name;return s.jsxs("div",{className:"flex w-full gap-1.5 py-3 text-base",children:[s.jsxs("div",{className:"flex flex-col items-start gap-1 pr-3",children:[s.jsx(O,{team:r.team,isWinner:a,logoSize:"small"}),s.jsx(O,{team:o.team,isWinner:i,logoSize:"small"})]}),s.jsxs("div",{className:"flex flex-1 flex-col items-start gap-1",children:[s.jsx(Y,{score:r.score,isWinner:a}),s.jsx(Y,{score:o.score,isWinner:i})]}),s.jsx("div",{className:"flex w-32 flex-col items-end justify-center gap-1 text-sm",children:s.jsx(ps,{game:e})})]})}function or({game:e}){const t=ms(e),n=[e.first_team_info,e.second_team_info],r=n.find(c=>c.location==="home")??e.first_team_info,o=n.find(c=>c.location==="away")??e.second_team_info,a=t?.team.name===r?.team.name,i=t?.team.name===o?.team.name;return s.jsxs("div",{className:"flex w-full py-3 text-base",children:[s.jsx("div",{className:"flex flex-1 items-center justify-center px-2",children:s.jsx(O,{team:r.team,isWinner:a})}),s.jsx("div",{className:"mr-8 flex items-center justify-end",children:s.jsx(Y,{score:r.score,isWinner:a,className:"text-lg font-semibold"})}),s.jsx("div",{className:"flex w-24 shrink flex-col items-center justify-center gap-1 align-middle text-sm",children:s.jsx(ps,{game:e})}),s.jsx("div",{className:"ml-8 flex items-center justify-start",children:s.jsx(Y,{score:o.score,isWinner:i,className:"text-lg font-semibold"})}),s.jsx("div",{className:"flex flex-1 items-center justify-center px-2",children:s.jsx(O,{team:o.team,isWinner:i})})]})}function fs(e){return e.live?"live":new Date(e.date)<new Date?"complete":"scheduled"}function ms(e){return fs(e)!=="complete"||e.first_team_info.score==null||e.second_team_info.score==null?null:e.first_team_info.score>e.second_team_info.score?e.first_team_info:e.second_team_info}function O({team:e,isWinner:t,logoSize:n}){return s.jsxs("span",{className:y("flex items-center gap-1",t&&"font-semibold","max-w-64 lg:max-w-52 xl:max-w-64"),children:[e.logo&&s.jsx(us,{team:{name:e.name,logo:e.logo},className:y(n==="small"?"w-6":"w-8")}),s.jsx("span",{className:"truncate",children:e.name})]})}function Y({score:e,isWinner:t,className:n}){return e==null?null:s.jsx("span",{className:y(t&&"font-semibold",n),children:e})}function ps({game:e}){const t=T();switch(fs(e)){case"live":return s.jsxs(s.Fragment,{children:[s.jsx(ar,{}),s.jsx("div",{children:e.details})]});case"complete":return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"font-semibold",children:s.jsx($,{id:"q/iMZL",defaultMessage:"Final"})}),s.jsx("div",{className:"text-token-text-secondary",children:He(t,new Date(e.date))})]});case"scheduled":{const n=new Date(e.date);return isNaN(n.getTime())?null:s.jsxs(s.Fragment,{children:[s.jsx("div",{children:He(t,n)}),s.jsx("div",{className:"text-token-text-secondary",children:t.formatDate(n,{timeStyle:"short"})})]})}}}function He(e,t){return rs(t)?s.jsx($,{id:"d1AF7T",defaultMessage:"Today"}):e.formatDate(t,{month:"long",day:"numeric"})}function ar(){return s.jsx("div",{className:"rounded-[4px] bg-token-surface-error px-1.5 py-1 text-xs font-semibold text-white",children:s.jsx($,{id:"vObALn",defaultMessage:"Live"})})}function ir({standingsRef:e,trackContentReferenceEvent:t}){const[n,r]=m.useState(0),{isLoading:o,value:a}=Ve("1684776951"),i=e.conferences.length>0&&a&&!o;m.useEffect(()=>{i&&t(x.searchContentReferenceShown,"search_content_reference_shown","sports",{hasStandings:!0})},[i]);const c=e.conferences[n],h=e.conferences.length>1?e.conferences.map((u,l)=>s.jsx("button",{className:y(n===l?"text-token-text-primary":"text-token-text-tertiary","text-sm font-semibold"),onClick:()=>r(l),children:u.name},u.name)):null;return s.jsxs(s.Fragment,{children:[h&&s.jsx("div",{className:"flex gap-4",children:h}),s.jsx("div",{className:"mt-3",children:c.divisions.map(u=>u.name?s.jsx("div",{className:"mt-3",children:s.jsx(Re,{division:u,teamsColumnHeader:u.name})},u.name):s.jsx(Re,{division:u}))})]})}function Re({division:e,teamsColumnHeader:t}){const n=e.headers.map(r=>r.key);return s.jsxs(P.Root,{size:"compact",className:"not-prose",children:[s.jsxs(P.Header,{children:[s.jsx(cr,{children:t??s.jsx($,{id:"kKSGje",defaultMessage:"Team"})}),e.headers.map(r=>s.jsx(gs,{textAlign:"center",className:"min-w-11 !px-0",children:s.jsx(Ue,{data:r})},r.key))]}),s.jsx(P.Body,{children:e.teams.map(({team:r,data:o},a)=>{const i=o.reduce((c,h)=>(c[h.key]=h,c),{});return s.jsxs(P.Row,{children:[s.jsx(P.Cell,{className:"w-full !border-0 !py-0 !pl-0",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"mr-2 w-4 whitespace-nowrap tabular-nums text-token-text-tertiary",children:a+1}),s.jsxs("div",{className:"flex items-center justify-start gap-2",children:[s.jsx(us,{team:r,className:"w-6"}),s.jsx("span",{className:"whitespace-nowrap text-base",children:r.name})]})]})}),n.map(c=>s.jsx(P.Cell,{className:"min-w-11 whitespace-nowrap !border-0 !px-0 !py-0 text-left tabular-nums",textAlign:"center",children:s.jsx(Ue,{data:i[c]})},c))]},r.name)})})]})}function Ue({data:e}){switch(e.type){case"text":return s.jsx(s.Fragment,{children:e.text});default:return s.jsx(s.Fragment,{children:e.alt})}}const gs=qe(P.HeaderCell)`text-token-text-secondary !font-normal text-sm !static !bg-transparent !border-token-border-light !border-t-0 !border-l-0 !border-r-0`,cr=qe(gs)`text-token-text-primary !pl-0`;function lr({metadata:e,trackContentReferenceEvent:t}){m.useEffect(()=>{t(x.searchContentReferenceShown,"search_content_reference_shown",e.type)},[t,e.type]);const n=T(),r=L(e.utc_time,e.utc_offset),o=n.formatDate(r,{hour:"numeric",minute:"numeric"});return s.jsx("span",{children:o})}function dr(e){return os()?null:s.jsx(xs,{...e})}function hr(e){return os()?s.jsx(xs,{...e}):null}function xs({webpageRef:e,node:t,trackContentReferenceEvent:n}){const r=fe(),o=as(),[a,i]=m.useState(o?r.getStaticStyles(t):{}),[c,h]=m.useState(null);switch(m.useEffect(()=>{if(!t||!c||!o)return;async function u(){if(!t)return;const l=await r.processElementForStyles(t);m.startTransition(()=>{i(l)})}u()},[o,t,c,r]),e.status){case"loading":return s.jsx("span",{style:a,ref:h,children:s.jsx(ur,{})});case"error":return s.jsx("span",{style:a,ref:h,children:s.jsx(fr,{contentRef:e})});default:return s.jsx("span",{style:a,ref:h,children:e.items.map((u,l)=>s.jsx(mr,{webpageItem:u,trackContentReferenceEvent:n},`${l}-${u.url}`))})}}function ur(){return s.jsx("div",{className:"inline-flex items-center gap-1.5",children:s.jsx("div",{className:"h-[22px] w-20 animate-pulse rounded-full bg-[#f4f4f4] dark:bg-token-main-surface-secondary"})})}function fr({contentRef:e}){return null}function mr({webpageItem:e,className:t,trackContentReferenceEvent:n}){const r={url:e.url,title:e.title,pub_date:gr(e.pub_date)},o=()=>{n(x.searchCitationClicked,"search_citation_clicked","webpage",r),n(x.browsingClickCitation,"chatgpt_browsing_click_citation","webpage",r)},a=m.useContext(F),i=nt(),c=rt(),h=s.jsx("div",{className:"relative inline-flex items-center",children:s.jsx(M,{href:e.url,className:y("flex h-[22px] items-center rounded-xl px-2 text-[0.5em] !font-medium uppercase","bg-[#f4f4f4] !text-token-text-secondary hover:bg-token-text-primary hover:!text-token-main-surface-secondary dark:bg-token-main-surface-secondary dark:hover:bg-token-text-primary","relative top-[-0.094rem]",t),onClick:o,onMouseEnter:()=>{e.attributions!=null&&ne.setHighlightBySource(a?.message.id,e,c,i)},onMouseLeave:()=>{ne.clearHighlights()},children:s.jsx("span",{className:"truncate",children:e.attribution??s.jsx(me,{url:e.url})})})});return s.jsx(pr,{webpageItem:e,eventMetadata:r,trackContentReferenceEvent:n,children:h})}function pr({webpageItem:e,eventMetadata:t,children:n,trackContentReferenceEvent:r}){return m.useEffect(()=>{r(x.searchCitationShown,"search_citation_shown","webpage",t),r(x.browsingDisplayCitation,"chatgpt_browsing_display_citation","webpage",t)},[]),s.jsx(bs,{webpageItem:e,onClick:()=>{r(x.searchCitationClicked,"search_citation_clicked","webpage",t),r(x.browsingClickCitation,"chatgpt_browsing_click_citation","webpage",t)},onOpenChange:o=>{o&&(r(x.searchCitationHovered,"search_citation_hovered","webpage",t),r(x.browsingHoverCitation,"chatgpt_browsing_hover_citation","webpage",t))},children:n})}function bs({webpageItem:e,onClick:t,onOpenChange:n,children:r,className:o}){const a=W().resolvedTheme==="dark",i=ts(),c=e.pub_date!=null&&new Date(e.pub_date*1e3);return s.jsx(B,{label:s.jsxs(M,{href:e.url,className:y("flex max-w-80 flex-col gap-1 text-left text-xs font-normal text-token-text-primary !no-underline",o),onClick:t,children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:"h-4 w-4 shrink-0 overflow-hidden rounded-full",children:s.jsx(Z,{url:e.url,size:32,minSize:16})}),s.jsx("div",{className:"truncate text-token-text-primary",children:e.attribution??s.jsx(me,{url:e.url})})]}),s.jsx("div",{className:"line-clamp-2 text-sm font-medium",children:e.title}),s.jsxs("div",{className:"line-clamp-2 text-sm text-token-text-secondary",children:[c&&c.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}),c&&e.snippet&&" — ",e.snippet]}),i&&s.jsx(Et,{item:e})]}),onOpenChange:n,side:"bottom",sideOffset:10,withArrow:!1,delayDuration:150,theme:a?"default":"white",align:"start",customPaddingClassName:"p-3",cornerRadius:"xl",customBorderClassName:"border-token-border-light border",wide:!0,children:r})}function gr(e){if(e!=null)return new Date(e*1e3).toISOString()}function xr({metadata:e,trackContentReferenceEvent:t}){return m.useEffect(()=>{t(x.searchContentReferenceShown,"search_content_reference_shown",e.type)},[t,e.type]),s.jsx("div",{children:e.url?s.jsx(bs,{webpageItem:{url:e.url,title:e.description,pub_date:null,snippet:"",attributions:null},className:"inline-flex flex-col",children:s.jsx(M,{href:e.url,className:"!font-semibold",children:e.description})}):s.jsx("div",{className:"!font-semibold",children:e.description})})}function br({tldr:e,trackContentReferenceEvent:t}){const n={url:e.url,title:e.display_title};return m.useEffect(()=>{t(x.searchContentReferenceShown,"search_content_reference_shown",e.type,n)},[]),e.url==null||e.url===""?null:s.jsx("div",{className:"not-prose mb-3 flex flex-col gap-4 text-base",children:s.jsx(M,{href:e.url,onClick:()=>t(x.searchContentReferenceClicked,"search_content_reference_clicked",e.type,n),className:"group/tldr",children:s.jsxs("div",{className:"grid max-w-full shrink grid-cols-[1fr,auto] items-center gap-x-8 sm:gap-x-16",children:[s.jsxs("div",{className:"flex shrink flex-col overflow-hidden",children:[s.jsx("div",{className:"shrink text-lg font-semibold text-token-text-primary 2xl:text-xl",children:e.display_title}),s.jsx("div",{className:"flex items-center truncate text-token-link [overflow-wrap:anywhere] group-hover/tldr:opacity-70",children:is(e.breadcrumbs)?.map((r,o)=>s.jsxs(m.Fragment,{children:[o!==0&&s.jsx(bt,{className:"h-4 w-4 shrink-0"}),s.jsx("div",{className:"truncate",children:r.toLowerCase()})]},o))})]}),s.jsx(Z,{url:e.url,size:128,minSize:32,className:"mr-[0.1875rem] h-7 w-7 shrink-0 rounded"}),e.snippet&&s.jsx("div",{className:"line-clamp-3 overflow-hidden text-ellipsis text-sm text-token-text-tertiary",children:e.snippet})]})})})}function vr({url:e,className:t}){let n;const r="aspect-video w-full rounded-lg",o=wr(e);o&&(n=s.jsx(yr,{videoId:o,className:r}));const a=$r(e);return a&&(n=s.jsx(jr,{videoId:a,className:r})),n?s.jsx("div",{className:t,children:n}):null}function wr(e){const t=/^(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:[^/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/,n=e.match(t);return n?n[1]:null}function yr({videoId:e,className:t}){return s.jsx("iframe",{className:t,src:`https://www.youtube.com/embed/${e}`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0})}function $r(e){const t=/vimeo\.com\/(?:channels\/(?:\w+\/)?|groups\/[^/]+\/videos\/|video\/|)(\d+)/,n=e.match(t);return n?n[1]:null}function jr({videoId:e,className:t}){return s.jsx(s.Fragment,{children:s.jsx("iframe",{className:t,src:`https://player.vimeo.com/video/${e}`,frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture",allowFullScreen:!0})})}function kr({video:e,trackContentReferenceEvent:t}){const n={url:e.url,title:e.title};return m.useEffect(()=>{t(x.searchContentReferenceShown,"search_content_reference_shown",e.type,n)},[]),e.url==null||e.url===""?null:s.jsx("div",{className:"not-prose mb-3 flex flex-col gap-4 text-base",children:s.jsx(vr,{url:e.url})})}function vs(e,t){const n=ot(e),r=t<0?"-":"+",o=Math.abs(t),a=Math.floor(o/3600).toString().padStart(2,"0"),i=Math.floor(o%3600/60).toString().padStart(2,"0"),c=`${r}${a}:${i}`;return L(n,c)}const Nr="webp",Sr=96,_r=96,Cr="srgb",Pr=4,Dr="uchar",Tr=288,Mr=!1,Ar=!1,Er=!0,Ir="https://cdn.oaistatic.com/assets/cloud-foggy-o4a3hmky.webp",Lr={format:Nr,width:Sr,height:_r,space:Cr,channels:Pr,depth:Dr,density:Tr,isProgressive:Mr,hasProfile:Ar,hasAlpha:Er,src:Ir},Fr="webp",zr=96,Hr=96,Rr="srgb",Ur=4,Or="uchar",Yr=288,Wr=!1,Br=!1,Zr=!0,Gr="https://cdn.oaistatic.com/assets/cloudy-co8vwrk7.webp",Vr={format:Fr,width:zr,height:Hr,space:Rr,channels:Ur,depth:Or,density:Yr,isProgressive:Wr,hasProfile:Br,hasAlpha:Zr,src:Gr},qr="webp",Xr=96,Kr=96,Jr="srgb",Qr=4,eo="uchar",so=288,to=!1,no=!1,ro=!0,oo="https://cdn.oaistatic.com/assets/heavy-snow-mke52kag.webp",ao={format:qr,width:Xr,height:Kr,space:Jr,channels:Qr,depth:eo,density:so,isProgressive:to,hasProfile:no,hasAlpha:ro,src:oo},io="webp",co=96,lo=96,ho="srgb",uo=4,fo="uchar",mo=288,po=!1,go=!1,xo=!0,bo="https://cdn.oaistatic.com/assets/light-snow-mcy1l7t9.webp",vo={format:io,width:co,height:lo,space:ho,channels:uo,depth:fo,density:mo,isProgressive:po,hasProfile:go,hasAlpha:xo,src:bo},wo="webp",yo=96,$o=96,jo="srgb",ko=4,No="uchar",So=288,_o=!1,Co=!1,Po=!0,Do="https://cdn.oaistatic.com/assets/moon-drizzle-cplxr2ub.webp",To={format:wo,width:yo,height:$o,space:jo,channels:ko,depth:No,density:So,isProgressive:_o,hasProfile:Co,hasAlpha:Po,src:Do},Mo="webp",Ao=96,Eo=96,Io="srgb",Lo=4,Fo="uchar",zo=288,Ho=!1,Ro=!1,Uo=!0,Oo="https://cdn.oaistatic.com/assets/moon-hazy-jvgt25bp.webp",Yo={format:Mo,width:Ao,height:Eo,space:Io,channels:Lo,depth:Fo,density:zo,isProgressive:Ho,hasProfile:Ro,hasAlpha:Uo,src:Oo},Wo="webp",Bo=96,Zo=96,Go="srgb",Vo=4,qo="uchar",Xo=288,Ko=!1,Jo=!1,Qo=!0,ea="https://cdn.oaistatic.com/assets/moon-mostly-cloudy-cia3do0v.webp",sa={format:Wo,width:Bo,height:Zo,space:Go,channels:Vo,depth:qo,density:Xo,isProgressive:Ko,hasProfile:Jo,hasAlpha:Qo,src:ea},ta="webp",na=96,ra=96,oa="srgb",aa=4,ia="uchar",ca=288,la=!1,da=!1,ha=!0,ua="https://cdn.oaistatic.com/assets/moon-mostly-sunny-n3mh1b6a.webp",fa={format:ta,width:na,height:ra,space:oa,channels:aa,depth:ia,density:ca,isProgressive:la,hasProfile:da,hasAlpha:ha,src:ua},ma="webp",pa=96,ga=96,xa="srgb",ba=4,va="uchar",wa=288,ya=!1,$a=!1,ja=!0,ka="https://cdn.oaistatic.com/assets/moon-shower-ntzhti9o.webp",Na={format:ma,width:pa,height:ga,space:xa,channels:ba,depth:va,density:wa,isProgressive:ya,hasProfile:$a,hasAlpha:ja,src:ka},Sa="webp",_a=96,Ca=96,Pa="srgb",Da=4,Ta="uchar",Ma=288,Aa=!1,Ea=!1,Ia=!0,La="https://cdn.oaistatic.com/assets/moon-sunny-eg2emh4d.webp",Fa={format:Sa,width:_a,height:Ca,space:Pa,channels:Da,depth:Ta,density:Ma,isProgressive:Aa,hasProfile:Ea,hasAlpha:Ia,src:La},za="webp",Ha=96,Ra=96,Ua="srgb",Oa=4,Ya="uchar",Wa=288,Ba=!1,Za=!1,Ga=!0,Va="https://cdn.oaistatic.com/assets/rain-thunder-bx7a0l5g.webp",qa={format:za,width:Ha,height:Ra,space:Ua,channels:Oa,depth:Ya,density:Wa,isProgressive:Ba,hasProfile:Za,hasAlpha:Ga,src:Va},Xa="webp",Ka=96,Ja=96,Qa="srgb",ei=4,si="uchar",ti=288,ni=!1,ri=!1,oi=!0,ai="https://cdn.oaistatic.com/assets/rain-cxs76xuj.webp",ii={format:Xa,width:Ka,height:Ja,space:Qa,channels:ei,depth:si,density:ti,isProgressive:ni,hasProfile:ri,hasAlpha:oi,src:ai},ci="webp",li=96,di=96,hi="srgb",ui=4,fi="uchar",mi=288,pi=!1,gi=!1,xi=!0,bi="https://cdn.oaistatic.com/assets/sleet-gc63vwmo.webp",vi={format:ci,width:li,height:di,space:hi,channels:ui,depth:fi,density:mi,isProgressive:pi,hasProfile:gi,hasAlpha:xi,src:bi},wi="webp",yi=96,$i=96,ji="srgb",ki=4,Ni="uchar",Si=288,_i=!1,Ci=!1,Pi=!0,Di="https://cdn.oaistatic.com/assets/snow-d0k6tmmc.webp",Ti={format:wi,width:yi,height:$i,space:ji,channels:ki,depth:Ni,density:Si,isProgressive:_i,hasProfile:Ci,hasAlpha:Pi,src:Di},Mi="webp",Ai=96,Ei=96,Ii="srgb",Li=4,Fi="uchar",zi=288,Hi=!1,Ri=!1,Ui=!0,Oi="https://cdn.oaistatic.com/assets/sun-drizzle-g94obr5e.webp",Yi={format:Mi,width:Ai,height:Ei,space:Ii,channels:Li,depth:Fi,density:zi,isProgressive:Hi,hasProfile:Ri,hasAlpha:Ui,src:Oi},Wi="webp",Bi=96,Zi=96,Gi="srgb",Vi=4,qi="uchar",Xi=288,Ki=!1,Ji=!1,Qi=!0,ec="https://cdn.oaistatic.com/assets/sun-hazy-c3z1j0hy.webp",sc={format:Wi,width:Bi,height:Zi,space:Gi,channels:Vi,depth:qi,density:Xi,isProgressive:Ki,hasProfile:Ji,hasAlpha:Qi,src:ec},tc="webp",nc=96,rc=96,oc="srgb",ac=4,ic="uchar",cc=288,lc=!1,dc=!1,hc=!0,uc="https://cdn.oaistatic.com/assets/sun-mostly-cloudy-d4o4zkga.webp",fc={format:tc,width:nc,height:rc,space:oc,channels:ac,depth:ic,density:cc,isProgressive:lc,hasProfile:dc,hasAlpha:hc,src:uc},mc="webp",pc=96,gc=96,xc="srgb",bc=4,vc="uchar",wc=288,yc=!1,$c=!1,jc=!0,kc="https://cdn.oaistatic.com/assets/sun-mostly-sunny-livrdkgu.webp",Nc={format:mc,width:pc,height:gc,space:xc,channels:bc,depth:vc,density:wc,isProgressive:yc,hasProfile:$c,hasAlpha:jc,src:kc},Sc="webp",_c=96,Cc=96,Pc="srgb",Dc=4,Tc="uchar",Mc=288,Ac=!1,Ec=!1,Ic=!0,Lc="https://cdn.oaistatic.com/assets/sun-shower-lvtjthah.webp",Fc={format:Sc,width:_c,height:Cc,space:Pc,channels:Dc,depth:Tc,density:Mc,isProgressive:Ac,hasProfile:Ec,hasAlpha:Ic,src:Lc},zc="webp",Hc=96,Rc=96,Uc="srgb",Oc=4,Yc="uchar",Wc=288,Bc=!1,Zc=!1,Gc=!0,Vc="https://cdn.oaistatic.com/assets/sun-sunny-kqjpjzd8.webp",qc={format:zc,width:Hc,height:Rc,space:Uc,channels:Oc,depth:Yc,density:Wc,isProgressive:Bc,hasProfile:Zc,hasAlpha:Gc,src:Vc},Xc="webp",Kc=96,Jc=96,Qc="srgb",el=4,sl="uchar",tl=288,nl=!1,rl=!1,ol=!0,al="https://cdn.oaistatic.com/assets/thunder-jgjqg9ai.webp",il={format:Xc,width:Kc,height:Jc,space:Qc,channels:el,depth:sl,density:tl,isProgressive:nl,hasProfile:rl,hasAlpha:ol,src:al},cl="webp",ll=96,dl=96,hl="srgb",ul=4,fl="uchar",ml=288,pl=!1,gl=!1,xl=!0,bl="https://cdn.oaistatic.com/assets/tornado-opa24tq3.webp",vl={format:cl,width:ll,height:dl,space:hl,channels:ul,depth:fl,density:ml,isProgressive:pl,hasProfile:gl,hasAlpha:xl,src:bl},wl="webp",yl=96,$l=96,jl="srgb",kl=4,Nl="uchar",Sl=288,_l=!1,Cl=!1,Pl=!0,Dl="https://cdn.oaistatic.com/assets/windy-mw0a3u21.webp",Tl={format:wl,width:yl,height:$l,space:jl,channels:kl,depth:Nl,density:Sl,isProgressive:_l,hasProfile:Cl,hasAlpha:Pl,src:Dl},Ml="webp",Al=96,El=96,Il="srgb",Ll=4,Fl="uchar",zl=288,Hl=!1,Rl=!1,Ul=!0,Ol="https://cdn.oaistatic.com/assets/cloud-foggy-fhg0jn0w.webp",Yl={format:Ml,width:Al,height:El,space:Il,channels:Ll,depth:Fl,density:zl,isProgressive:Hl,hasProfile:Rl,hasAlpha:Ul,src:Ol},Wl="webp",Bl=96,Zl=96,Gl="srgb",Vl=4,ql="uchar",Xl=288,Kl=!1,Jl=!1,Ql=!0,ed="https://cdn.oaistatic.com/assets/cloudy-disd26f3.webp",sd={format:Wl,width:Bl,height:Zl,space:Gl,channels:Vl,depth:ql,density:Xl,isProgressive:Kl,hasProfile:Jl,hasAlpha:Ql,src:ed},td="webp",nd=96,rd=96,od="srgb",ad=4,id="uchar",cd=288,ld=!1,dd=!1,hd=!0,ud="https://cdn.oaistatic.com/assets/heavy-snow-g6jjwo2d.webp",fd={format:td,width:nd,height:rd,space:od,channels:ad,depth:id,density:cd,isProgressive:ld,hasProfile:dd,hasAlpha:hd,src:ud},md="webp",pd=96,gd=96,xd="srgb",bd=4,vd="uchar",wd=288,yd=!1,$d=!1,jd=!0,kd="https://cdn.oaistatic.com/assets/light-snow-iz0efpkh.webp",Nd={format:md,width:pd,height:gd,space:xd,channels:bd,depth:vd,density:wd,isProgressive:yd,hasProfile:$d,hasAlpha:jd,src:kd},Sd="webp",_d=96,Cd=96,Pd="srgb",Dd=4,Td="uchar",Md=288,Ad=!1,Ed=!1,Id=!0,Ld="https://cdn.oaistatic.com/assets/moon-drizzle-b1nfv39c.webp",Fd={format:Sd,width:_d,height:Cd,space:Pd,channels:Dd,depth:Td,density:Md,isProgressive:Ad,hasProfile:Ed,hasAlpha:Id,src:Ld},zd="webp",Hd=96,Rd=96,Ud="srgb",Od=4,Yd="uchar",Wd=288,Bd=!1,Zd=!1,Gd=!0,Vd="https://cdn.oaistatic.com/assets/moon-hazy-nfnzea7a.webp",qd={format:zd,width:Hd,height:Rd,space:Ud,channels:Od,depth:Yd,density:Wd,isProgressive:Bd,hasProfile:Zd,hasAlpha:Gd,src:Vd},Xd="webp",Kd=96,Jd=96,Qd="srgb",eh=4,sh="uchar",th=288,nh=!1,rh=!1,oh=!0,ah="https://cdn.oaistatic.com/assets/moon-mostly-cloudy-e56e3z55.webp",ih={format:Xd,width:Kd,height:Jd,space:Qd,channels:eh,depth:sh,density:th,isProgressive:nh,hasProfile:rh,hasAlpha:oh,src:ah},ch="webp",lh=96,dh=96,hh="srgb",uh=4,fh="uchar",mh=288,ph=!1,gh=!1,xh=!0,bh="https://cdn.oaistatic.com/assets/moon-mostly-sunny-ffu4gzf4.webp",vh={format:ch,width:lh,height:dh,space:hh,channels:uh,depth:fh,density:mh,isProgressive:ph,hasProfile:gh,hasAlpha:xh,src:bh},wh="webp",yh=96,$h=96,jh="srgb",kh=4,Nh="uchar",Sh=288,_h=!1,Ch=!1,Ph=!0,Dh="https://cdn.oaistatic.com/assets/moon-shower-e5dy9u48.webp",Th={format:wh,width:yh,height:$h,space:jh,channels:kh,depth:Nh,density:Sh,isProgressive:_h,hasProfile:Ch,hasAlpha:Ph,src:Dh},Mh="webp",Ah=96,Eh=96,Ih="srgb",Lh=4,Fh="uchar",zh=288,Hh=!1,Rh=!1,Uh=!0,Oh="https://cdn.oaistatic.com/assets/moon-sunny-d9o08xiw.webp",Yh={format:Mh,width:Ah,height:Eh,space:Ih,channels:Lh,depth:Fh,density:zh,isProgressive:Hh,hasProfile:Rh,hasAlpha:Uh,src:Oh},Wh="webp",Bh=96,Zh=96,Gh="srgb",Vh=4,qh="uchar",Xh=288,Kh=!1,Jh=!1,Qh=!0,eu="https://cdn.oaistatic.com/assets/rain-thunder-eplemvu1.webp",su={format:Wh,width:Bh,height:Zh,space:Gh,channels:Vh,depth:qh,density:Xh,isProgressive:Kh,hasProfile:Jh,hasAlpha:Qh,src:eu},tu="webp",nu=96,ru=96,ou="srgb",au=4,iu="uchar",cu=288,lu=!1,du=!1,hu=!0,uu="https://cdn.oaistatic.com/assets/rain-ogayr6kt.webp",fu={format:tu,width:nu,height:ru,space:ou,channels:au,depth:iu,density:cu,isProgressive:lu,hasProfile:du,hasAlpha:hu,src:uu},mu="webp",pu=96,gu=96,xu="srgb",bu=4,vu="uchar",wu=288,yu=!1,$u=!1,ju=!0,ku="https://cdn.oaistatic.com/assets/sleet-o8noil7l.webp",Nu={format:mu,width:pu,height:gu,space:xu,channels:bu,depth:vu,density:wu,isProgressive:yu,hasProfile:$u,hasAlpha:ju,src:ku},Su="webp",_u=96,Cu=96,Pu="srgb",Du=4,Tu="uchar",Mu=288,Au=!1,Eu=!1,Iu=!0,Lu="https://cdn.oaistatic.com/assets/snow-lq4cl3uc.webp",Fu={format:Su,width:_u,height:Cu,space:Pu,channels:Du,depth:Tu,density:Mu,isProgressive:Au,hasProfile:Eu,hasAlpha:Iu,src:Lu},zu="webp",Hu=96,Ru=96,Uu="srgb",Ou=4,Yu="uchar",Wu=288,Bu=!1,Zu=!1,Gu=!0,Vu="https://cdn.oaistatic.com/assets/sun-drizzle-htsohv65.webp",qu={format:zu,width:Hu,height:Ru,space:Uu,channels:Ou,depth:Yu,density:Wu,isProgressive:Bu,hasProfile:Zu,hasAlpha:Gu,src:Vu},Xu="webp",Ku=96,Ju=96,Qu="srgb",ef=4,sf="uchar",tf=288,nf=!1,rf=!1,of=!0,af="https://cdn.oaistatic.com/assets/sun-hazy-nfj7clcd.webp",cf={format:Xu,width:Ku,height:Ju,space:Qu,channels:ef,depth:sf,density:tf,isProgressive:nf,hasProfile:rf,hasAlpha:of,src:af},lf="webp",df=96,hf=96,uf="srgb",ff=4,mf="uchar",pf=288,gf=!1,xf=!1,bf=!0,vf="https://cdn.oaistatic.com/assets/sun-mostly-cloudy-e3pqqgs7.webp",wf={format:lf,width:df,height:hf,space:uf,channels:ff,depth:mf,density:pf,isProgressive:gf,hasProfile:xf,hasAlpha:bf,src:vf},yf="webp",$f=96,jf=96,kf="srgb",Nf=4,Sf="uchar",_f=288,Cf=!1,Pf=!1,Df=!0,Tf="https://cdn.oaistatic.com/assets/sun-mostly-sunny-o99k1c7a.webp",Mf={format:yf,width:$f,height:jf,space:kf,channels:Nf,depth:Sf,density:_f,isProgressive:Cf,hasProfile:Pf,hasAlpha:Df,src:Tf},Af="webp",Ef=96,If=96,Lf="srgb",Ff=4,zf="uchar",Hf=288,Rf=!1,Uf=!1,Of=!0,Yf="https://cdn.oaistatic.com/assets/sun-shower-ldwl4jbp.webp",Wf={format:Af,width:Ef,height:If,space:Lf,channels:Ff,depth:zf,density:Hf,isProgressive:Rf,hasProfile:Uf,hasAlpha:Of,src:Yf},Bf="webp",Zf=96,Gf=96,Vf="srgb",qf=4,Xf="uchar",Kf=!1,Jf=!1,Qf=!0,em="https://cdn.oaistatic.com/assets/sun-sunny-kqjpjzd8.webp",sm={format:Bf,width:Zf,height:Gf,space:Vf,channels:qf,depth:Xf,isProgressive:Kf,hasProfile:Jf,hasAlpha:Qf,src:em},tm="webp",nm=96,rm=96,om="srgb",am=4,im="uchar",cm=288,lm=!1,dm=!1,hm=!0,um="https://cdn.oaistatic.com/assets/thunder-xzn1cku3.webp",fm={format:tm,width:nm,height:rm,space:om,channels:am,depth:im,density:cm,isProgressive:lm,hasProfile:dm,hasAlpha:hm,src:um},mm="webp",pm=96,gm=96,xm="srgb",bm=4,vm="uchar",wm=288,ym=!1,$m=!1,jm=!0,km="https://cdn.oaistatic.com/assets/tornado-diqu61wg.webp",Nm={format:mm,width:pm,height:gm,space:xm,channels:bm,depth:vm,density:wm,isProgressive:ym,hasProfile:$m,hasAlpha:jm,src:km},Sm="webp",_m=96,Cm=96,Pm="srgb",Dm=4,Tm="uchar",Mm=288,Am=!1,Em=!1,Im=!0,Lm="https://cdn.oaistatic.com/assets/windy-n2v8wtyp.webp",Fm={format:Sm,width:_m,height:Cm,space:Pm,channels:Dm,depth:Tm,density:Mm,isProgressive:Am,hasProfile:Em,hasAlpha:Im,src:Lm},zm={foggy:{default:Lr},cloudy:{default:Vr},"heavy-snow":{default:ao},"light-snow":{default:vo},sleet:{default:vi},drizzle:{default:Yi,night:To},hazy:{default:sc,night:Yo},"mostly-cloudy":{default:fc,night:sa},"mostly-sunny":{default:Nc,night:fa},shower:{default:Fc,night:Na},sunny:{default:qc,night:Fa},"rain-thunder":{default:qa},rain:{default:ii},snow:{default:Ti},thunder:{default:il},tornado:{default:vl},windy:{default:Tl}},Hm={foggy:{default:Yl},cloudy:{default:sd},"heavy-snow":{default:fd},"light-snow":{default:Nd},sleet:{default:Nu},drizzle:{default:qu,night:Fd},hazy:{default:cf,night:qd},"mostly-cloudy":{default:wf,night:ih},"mostly-sunny":{default:Mf,night:vh},shower:{default:Wf,night:Th},sunny:{default:sm,night:Yh},"rain-thunder":{default:su},rain:{default:fu},snow:{default:Fu},thunder:{default:fm},tornado:{default:Nm},windy:{default:Fm}};function Rm({weatherCode:e,isDarkMode:t,isNight:n}){const r=t?Hm:zm,o=Um(e),a=r[o];return a.night&&n?a.night:a.default}function Um(e){switch(e){case 1:case 33:return"sunny";case 2:case 3:case 34:case 35:case 36:return"mostly-sunny";case 4:case 6:case 13:case 14:case 38:return"mostly-cloudy";case 5:case 37:return"hazy";case 7:case 8:return"cloudy";case 11:return"foggy";case 12:case 39:case 40:return"shower";case 15:case 16:case 17:case 41:case 42:return"thunder";case 18:return"rain";case 19:case 20:case 21:case 43:return"light-snow";case 22:case 23:case 44:return"snow";case 24:case 25:case 26:case 29:return"sleet";case 32:return"windy";default:return"cloudy"}}const Om="C";function Ym(e,t){return Math.round(e==="F"?t*9/5+32:(t-32)*5/9)}function Oe(e,t,n=Om){return e===n?`${Math.round(t)}°`:`${Ym(e,t)}°`}const Wm=7,Bm=m.memo(function({weatherResults:t,dateRange:n,turnIndex:r,trackContentReferenceEvent:o}){const[a,i]=Km();m.useEffect(()=>{o(x.searchContentReferenceShown,"search_content_reference_shown","forecast")},[o]);const{daily:c,hourly:h}=t,u=n!=null,l=T(),d=u?h.filter(f=>f.timestamp>=n.start_timestamp&&f.timestamp<n.end_timestamp):c.slice(0,Wm);function b(){const{current:f}=t;if(!f)return null;const g=f.temperature.current,v=f.description,k=is([g&&U(l,g,a),v.description]).join(" · ");return s.jsxs("div",{className:"not-prose flex items-center gap-4",children:[s.jsxs("div",{className:"flex-grow",children:[s.jsx("div",{className:"text-lg font-semibold",children:k}),s.jsx("div",{className:"text-token-text-secondary",children:Xm(t.location)})]}),s.jsxs("div",{className:"flex",children:[s.jsx(Gm,{onTemperatureUnitChange:i,temperatureUnit:a}),s.jsx(Ye,{weatherDescriptionData:v,isNight:f.night})]})]})}return s.jsxs(s.Fragment,{children:[b(),s.jsx(Zm,{turnIndex:r}),d.length>0&&s.jsx("div",{className:"no-scrollbar not-prose mt-1 overflow-auto sm:overflow-hidden",children:s.jsx(P.Root,{className:"min-w-0",children:s.jsx(P.Body,{className:"border-b-[0.5px] border-token-border-medium [&_tr:last-child]:border-b-0",children:d.map((f,g)=>s.jsxs(P.Row,{children:[s.jsxs(se,{className:y(u?"w-[180px]":"w-[150px]"),children:[s.jsx(Ye,{weatherDescriptionData:f.description,isNight:f.night,size:"small"}),s.jsx("div",{className:"ml-3",children:u?s.jsx("span",{className:"lowercase",children:qm(l,f)}):Vm(l,f)})]}),s.jsx(se,{className:y("tabular-nums",u&&"w-[60px]"),children:u?s.jsx("div",{children:U(l,f.temperature.current,a)}):s.jsxs(s.Fragment,{children:[s.jsx("div",{children:U(l,f.temperature.max,a)}),s.jsx("div",{className:"ml-1 text-token-text-secondary",children:U(l,f.temperature.min,a)})]})}),s.jsx(se,{children:f.description.description})]},g))})})})]})});function se({className:e,children:t}){return s.jsx(P.Cell,{className:y("!border-l-0 !border-r-0 !border-token-border-xlight !py-2 !pl-4 !pr-3 first:!pl-0 last:!pr-0",e),divClassName:"items-start leading-relaxed",children:t})}function Zm({turnIndex:e}){const t=at(r=>r.thread?.turns[e]?.use_location),[n]=lt();return!n.useLocation&&t?s.jsx("div",{className:"mt-3",children:s.jsx(Es,{color:"secondary",icon:vt,onClick:()=>{Gs.setSettingsModalOpen(!0)},children:s.jsx($,{id:"f47VEc",defaultMessage:"Share precise location"})})}):null}function Gm({temperatureUnit:e,onTemperatureUnitChange:t}){const n=r=>e===r?"font-bold":"font-light";return s.jsx(It,{size:"small",triggerButton:s.jsx("button",{className:"flex items-center justify-center p-1.5 text-token-text-tertiary hover:text-token-text-primary",children:s.jsx(wt,{className:"icon-sm-heavy"})}),children:s.jsxs(Lt.Item,{onClick:()=>{t(e==="C"?"F":"C")},className:"text-token-text-primary",children:[s.jsx($,{id:"bQIoe/",defaultMessage:"Temperature"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:n("F"),children:s.jsx($,{id:"bvDeBB",defaultMessage:"°F"})}),s.jsx("div",{className:"mx-1 h-4 border-l border-gray-300"}),s.jsx("div",{className:n("C"),children:s.jsx($,{id:"iNiz6O",defaultMessage:"°C"})})]})]})})}function Ye({weatherDescriptionData:e,isNight:t=!1,size:n="normal"}){const r=it(),o=n==="small"?30:50;return s.jsx("img",{draggable:!1,alt:e.description,src:Rm({weatherCode:e.id,isDarkMode:r,isNight:t}).src,width:o,height:o})}function Vm(e,t){const n=vs(t.timestamp,t.utc_offset_sec);return rs(n)?s.jsx($,{id:"uQNFk/",defaultMessage:"Today"}):e.formatDate(n,{weekday:"long"})}function qm(e,t){const n=vs(t.timestamp,t.utc_offset_sec);return e.formatDate(n,{hour:"numeric"})}function U(e,t,n){return t==null?"-":Oe(n?n??"F":ws(e),t)}function ws(e){const t=["en-US","en-BZ","en-BS","en-KY","en-PW"],n=e.locale||"en-US";return t.includes(n)?"F":"C"}function Xm(e){const t=e.name.split(",").map(n=>n.trim());return e.country&&!t.includes(e.country)&&t.push(e.country),t.join(", ")}const Km=()=>{const e=T(),[t,n]=dt("USER_TEMPERATURE_UNIT",ws(e),r=>["F","C"].includes(r));return[t,n]};function Jm({index:e,FormattedText:t,node:n}){const r=parseInt(e,10),o=m.useContext(F),a=m.useRef(new Set),i=m.useCallback((g,v,k,j,_)=>{if(o?.analyticsMetadata){const C={...ht(o.analyticsMetadata),type:k,index:r?.toString(),...j??{}},E=`${g}-${JSON.stringify(C)}`;(!a.current.has(E)||g!==x.searchContentReferenceShown)&&(a.current.add(E),te.logEventWithStatsig(g,v,C),_?.(o.analyticsMetadata))}},[o?.analyticsMetadata,r]);if(o==null)return null;const{contentReferences:c,onShowSearchResults:h,numImageResults:u,analyticsMetadata:l}=o,d=c?.[r],b=l?.clientThreadId==null;if(!d||l.turnIndex===void 0||d.type===void 0)return null;let f=null;switch(d.type){case"title_citation":f=s.jsx(xr,{metadata:d,trackContentReferenceEvent:i});break;case"location_search":f=s.jsx(Un,{metadata:d,trackContentReferenceEvent:i});break;case"time":f=s.jsx(lr,{metadata:d,trackContentReferenceEvent:i});break;case"image_v2":f=s.jsx(Hn,{metadata:d,numImageResults:u??0,analyticsMetadata:l,trackContentReferenceEvent:i});break;case"nav_list":f=s.jsx(On,{metadata:d,trackContentReferenceEvent:i});break;case"file":f=s.jsx(Qt,{fileRef:d,index:r,trackContentReferenceEvent:i});break;case"grouped_webpages":f=s.jsx(dr,{webpageRef:d,node:n,trackContentReferenceEvent:i});break;case"grouped_webpages_v2":f=s.jsx(hr,{webpageRef:d,node:n,trackContentReferenceEvent:i});break;case"tldr":f=s.jsx(br,{tldr:d,trackContentReferenceEvent:i});break;case"stock":f=s.jsx(En,{contentReference:d,trackContentReferenceEvent:i});break;case"calculator":f=s.jsx(Wt,{data:d,trackContentReferenceEvent:i});break;case"code_execution":f=s.jsx(qt,{FormattedText:t,displayInfo:d,trackContentReferenceEvent:i});break;case"forecast":f=d?.forecast&&s.jsx(Bm,{weatherResults:d.forecast,dateRange:d.date_range,turnIndex:l.turnIndex,trackContentReferenceEvent:i});break;case"businesses_map":f=s.jsx(zt,{contentReference:d,trackContentReferenceEvent:i});break;case"video":f=s.jsx(kr,{video:d,trackContentReferenceEvent:i});break;case"sources_footnote":f=s.jsx(Bn,{sourcesFootnote:d,onShowSearchResults:h,trackContentReferenceEvent:i,isSearchGptApp:b});break;case"sports_standings":f=s.jsx(ir,{standingsRef:d,trackContentReferenceEvent:i});break;case"sports_schedule":f=s.jsx(nr,{scheduleRef:d,trackContentReferenceEvent:i});break;case"attribution":f=s.jsx(Ht,{attribution:d});break;case"attribution_footer":f=s.jsx(Ot,{attributionFooter:d});break;case"debug":f=s.jsx(s.Fragment,{children:Object.entries(d).map(([g,v])=>s.jsx("sub",{className:"ml-1 w-fit rounded-md border-2 border-solid border-orange-500 px-1 leading-none",children:v},g))});break}return s.jsx(he,{name:"content-reference-renderer",fallback:()=>(i(x.searchContentReferenceFailed,"search_content_reference_failed",d.type),d?.alt?s.jsx(ue,{components:{img:({src:g,alt:v})=>s.jsx("img",{src:g,alt:v,className:"max-h-28"})},children:d.alt}):s.jsx("span",{className:`errored-object-${d.type}`})),children:f})}function A(e){const{addListStyles:t,children:n,node:r,tag:o,...a}=e,i=fe(),[c,h]=m.useState(t?{"--marker-color":"transparent"}:{});return m.useEffect(()=>{r&&h(i.createBlockstyles(i.batch)),t&&r?.tagName==="li"&&h(i.createMarkerStyles(r))},[t,r,i]),m.cloneElement(o,{...a,children:r?i.processChildren({children:n,element:r}):n,style:{...a.style,...c}})}const Qm={p:e=>s.jsx(A,{tag:s.jsx("p",{}),...e}),h1:e=>s.jsx(A,{tag:s.jsx("h1",{}),...e}),h2:e=>s.jsx(A,{tag:s.jsx("h2",{}),...e}),h3:e=>s.jsx(A,{tag:s.jsx("h3",{}),...e}),h4:e=>s.jsx(A,{tag:s.jsx("h4",{}),...e}),h5:e=>s.jsx(A,{tag:s.jsx("h5",{}),...e}),h6:e=>s.jsx(A,{tag:s.jsx("h6",{}),...e}),li:e=>s.jsx(A,{tag:s.jsx("li",{}),addListStyles:!0,...e})},We={},Be={};function ys(e,t,n=!0){const r=Rs(t,500);return Us(e,r,n)}function ep({node:e,onClick:t,clientThreadId:n,messageId:r,href:o,...a}){let i=t;const c=e?.properties?.href,h=Ke(),u=fe(),[l,d]=m.useState(u.getStaticStyles(e)),[b,f]=m.useState(a.children),g=m.useRef(void 0);g.current=a.children,m.useEffect(()=>{e&&(f(u.processChildren({children:g.current,element:e})),d(u.createBlockstyles(u.batch)))},[e,u]);const v=m.useContext(F),k=Je(n),j=ys(k,o,v?.useSafeUrls);return r!=null&&typeof c=="string"&&c.includes("/bing/redirect")&&(We[r]||(te.logEvent(x.browsingShowBingLink,{id:r,content:c}),We[r]=!0),i=_=>{Be[r]||(te.logEvent(x.browsingClickBingLink,{id:r,content:c}),Be[r]=!0),t?.(_)}),s.jsx("a",{onClick:i,...a,href:j,rel:h?"noopener noreferrer":"noopener",style:{...a.style,...l},children:b})}function sp(e){const{src:t,clientThreadId:n,...r}=e,o=Je(n),a=m.useContext(F),i=ys(o,t,a?.useSafeUrls);return i==null?s.jsx("div",{}):s.jsx("img",{...r,src:i})}function tp(e){return s.jsx(Jm,{...e,FormattedText:$s})}function $s({size:e="medium",children:t,className:n,clientThreadId:r,messageId:o,isStreamingOrProcessing:a,interpolateCitations:i=!1,componentOverrides:c}){const{resolvedTheme:h}=W(),u=Ke(),l=as(),d=m.useMemo(()=>({pre:({children:f})=>s.jsx("pre",{className:"!overflow-visible",children:f}),code:f=>s.jsx(Os,{...f,clientThreadId:r}),[ct]:tp,[Ys]:Ws,a:f=>{const{node:g,children:v,...k}=f,j=g?.properties?.href;return typeof j=="string"&&j.startsWith(ge)?u?s.jsx(Bs,{...k}):r!=null&&o!=null?s.jsx(Zs,{...k,clientThreadId:r,messageId:o,href:j,children:v}):null:j&&typeof j=="string"&&Ft(j)?v:s.jsx(ep,{...f,clientThreadId:r,messageId:o,interpolateCitations:i})},td:({children:f})=>s.jsx("td",{children:m.Children.map(f,(g,v)=>g==="<br>"?s.jsx("br",{},v):g)}),img:({node:f,...g})=>{const v=f?.properties?.src;return typeof v=="string"&&(v.startsWith(ge)||v.startsWith("attachment:"))?null:s.jsx(sp,{...g,clientThreadId:r})},...c}),[c,r,o,i,u]),b=m.useMemo(()=>({...d,...l&&a?Qm:{}}),[d,a,l]);return s.jsx(he,{name:"formatted_text_error",fallback:()=>s.jsx(s.Fragment,{children:t}),children:s.jsx(ap,{rehypePlugins:Qe,remarkPlugins:es,className:y(n,"markdown prose w-full break-words dark:prose-invert",h==="dark"?"dark":"light",e==="small"&&"prose-xs"),urlTransform:ss,components:b,children:t})})}function np(e,t){return e===Is.SystemHint?s.jsx("span",{className:"hint-pill",children:t}):null}function rp({text:e,customSymbolOffsets:t}){return s.jsx(he,{name:"formatted_text_error",fallback:()=>s.jsx(s.Fragment,{children:e}),children:s.jsx(op,{text:e,customSymbolOffsets:t})})}const op=({text:e,customSymbolOffsets:t=[]})=>{const n=/(```[\s\S]*?```|`[^`\n]+`|```[\s\S]*|`[^`\n]*\n|`[^`\n]*$)/g;let r=0;const o=e.split(n).flatMap((a,i)=>{const c=r;if(r+=a.length,a.startsWith("```")&&a.endsWith("```"))return s.jsx("pre",{className:"overflow-x-auto",children:s.jsx("code",{children:a.slice(3,-3).trim()})},i);if(a.startsWith("```"))return s.jsx("pre",{className:"overflow-x-auto",children:s.jsx("code",{children:a.slice(3).trim()})},i);if(a.startsWith("`")&&a.endsWith("`"))return s.jsx("code",{children:a.slice(1,-1)},i);if(a.startsWith("`"))return s.jsx("code",{children:a.slice(1)},i);{const h=t.find(u=>c<=u.startIndex&&u.endIndex<=r);if(h){const u=h.startIndex-c,l=h.endIndex-c,d=a.slice(0,u),b=a.slice(l),f=a.slice(u,l);return[d,np(h.symbol,f),b].filter(g=>!!g)}return a}});return s.jsx("div",{className:"whitespace-pre-wrap",children:o})},ap=m.memo(ue),Sp=Object.freeze(Object.defineProperty({__proto__:null,FormattedText:$s,UserFormattedText:rp},Symbol.toStringTag,{value:"Module"}));export{Sp as F,mr as W};
//# sourceMappingURL=bap24gdrk6cjtmwo.js.map
