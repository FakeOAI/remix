const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/newp4vw12w1jmxh5.js","assets/g96yqlzu8qctmxup.js","assets/blm69jdcvj6igj3e.js","assets/root-jhvoex1m.css","assets/d356tmv32ux2laz7.js","assets/lciey5sok1ead3qa.js","assets/conversation-small-ict01xsi.css","assets/i8o7cdrxp8amy99n.js","assets/j6yusthm1eruyiua.js","assets/cjfb7w79zaqx08qn.js","assets/j5drzplddnlwzvq9.js","assets/obti0z5j5aljf92k.js","assets/hq3c6z83pa1r72hw.js","assets/iahu4erfko0yji6a.js","assets/k0z4c6k6se04cxye.js","assets/n64k6otw1oppzp9k.js"])))=>i.map(i=>d[i]);
import{j as e,au as R,av as D,r as u,aZ as A,e3 as n,ar as g,J as z,ax as $,cK as Q,S as K,I as Z}from"./g96yqlzu8qctmxup.js";import{f4 as b,f5 as B,f6 as G,cm as J,f7 as X,c1 as Y,f8 as ee,f9 as q,fa as se,fb as ae,cq as ne,fc as te,fd as re,fe as N,ff as oe,fg as ie,fh as ce,fi as de,fj as le,fk as he,q as ue,fl as me,fm as Ce,ei as fe,fn as xe,cl as pe,fo as Te,fp as ve,fq as O,fr as ge,b1 as L,fs as je,d9 as Se,eL as Ie,c4 as ye,ft as we,a8 as Ne,fu as Le,fv as be,fw as Ee,fx as Me,bQ as _e,fy as ke,fz as He,fA as Fe,cD as Pe,fB as Re,fC as H,eQ as De,eR as Ae}from"./lciey5sok1ead3qa.js";import{S as Be,E as qe,C as F,a as Oe,b as Ue}from"./i8o7cdrxp8amy99n.js";import{K as Ve}from"./blm69jdcvj6igj3e.js";import{C as We}from"./cl0vhqgyluzup8yf.js";function ze({clientThreadId:s,currentModelId:o,isModelLoaded:a,onRequestCompletion:r,v2HomepageDisclaimer:t}){return e.jsx(Be,{clientThreadId:s,currentModelId:o,isModelLoaded:a,onRequestCompletion:r,v2HomepageDisclaimer:t})}const $e=R(()=>D(()=>import("./newp4vw12w1jmxh5.js"),__vite__mapDeps([0,1,2,3,4,5,6])).then(s=>s.ChatScreenContentModals));function Qe({disableEmptyState:s,fullWidth:o}){const{clientThreadId:a,currentModelId:r,conversationLeafId:t,isCompanionWindow:d,isEmbeddedInFocusedView:l,onChangeItemInView:h,onChangeRating:C,onRequestCompletion:c,onRequestMoreCompletions:m,isModelLoaded:f,prefetchSearch:j}=u.useContext(b),x=B(a,t),S=G(a),p={clientThreadId:a,conversationLeafId:t,currentModelId:r,onChangeItemInView:h,onChangeRating:C,onRequestMoreCompletions:m,onRequestCompletion:c,showAvatar:!1},I=J(a),y=X({clientThreadId:a,currentLeafId:t,handleRequestCompletion:c,prefetchSearchPromise:j}),T=I||y||s,v=Y(),{initialConversationTurns:E,continuedConversationTurns:M}=ee(x,v),{canUseNewHomepage:_,showEmptyState:k}=q({clientThreadId:a,currentLeafId:t}),U=x>=2;se(U);const{setTargetedContent:V}=ae(),W=ne(r);if(te(()=>{he(),ue.updateScrollToMessageId(a,"finalAgentTurn")}),re(i=>{me({...i,leafId:i.source,isEmbeddedInFocusedView:l})&&V(void 0)}),_&&k&&!T){const i=d?null:e.jsx("div",{className:"text-center text-xs text-token-text-secondary",children:e.jsx(N,{clientThreadId:a})});return e.jsx(ze,{clientThreadId:a,currentModelId:r,isModelLoaded:f,onRequestCompletion:c,v2HomepageDisclaimer:i})}else if(!_&&k&&!T)return e.jsx(qe,{clientThreadId:a,currentModelId:r,isModelLoaded:f,onRequestCompletion:c,enableV2Homepage:!W,v2HomepageDisclaimer:e.jsx(N,{clientThreadId:a})});return e.jsxs(e.Fragment,{children:[v&&e.jsx(oe,{}),v&&M.length===0&&e.jsx(ie,{}),e.jsx(A,{children:e.jsxs(u.Suspense,{fallback:null,children:[e.jsx(ce,{}),E.length>0&&e.jsx("ol",{className:n.conversationTurnList,children:E.map(({turnIndex:i,isFinalTurn:w})=>e.jsx("li",{className:g(n.conversationTurnWrapper,o&&"w-full"),children:u.createElement(F,{...p,key:`${a}-${i}`,turnIndex:i,isFinalTurn:w})},i))}),v&&e.jsx(de,{}),e.jsx("ol",{className:n.conversationTurnList,children:M.map(({turnIndex:i,isFinalTurn:w})=>e.jsx("li",{className:g(n.conversationTurnWrapper,o&&"w-full"),children:u.createElement(F,{...p,key:`${a}-${i}`,turnIndex:i,isFinalTurn:w,scrollToMessageId:S})},i))})]})}),e.jsx($e,{}),x>0&&e.jsx(le,{})]})}function Ke(){return e.jsx(Qe,{})}const Ze=R(()=>D(()=>import("./i8o7cdrxp8amy99n.js").then(s=>s.c),__vite__mapDeps([7,1,2,3,5,6,8,9,10,11,12,13,14,15])).then(s=>s.ChatScreenComposerAlerts));function Ge(){const{clientThreadId:s,currentModelId:o,isCompanionWindow:a,onRequestCompletion:r}=u.useContext(b),t=Ce(s),d=fe(s),l=B(s,d),h=l>=2,C=xe(s,d),c=pe(s)&&!h&&Te(t);ve(l,s,d,c);const{setComposerFooterElement:m}=u.useContext(O);return e.jsx("div",{className:n.footer,children:e.jsxs(ge,{style:{"--bar-gap":"0.5rem","--bar-background-color":"transparent"},children:[e.jsxs(L,{type:"secondary",className:"relative",children:[h&&e.jsx(je,{className:n.scrollButton}),e.jsx(Ze,{})]}),e.jsxs(L,{type:"primary",ref:m,name:"composer-bar",children:[e.jsx(Oe,{clientThreadId:s,currentModelId:o,isNewThread:c,noWrap:!0,onRequestCompletion:r,showPromptStarters:c||!C}),!a&&e.jsx("div",{className:"text-center text-xs text-token-text-secondary",children:e.jsx(N,{clientThreadId:s})})]})]})})}function Je(){const s=z(),{clientThreadId:o,isLoggedInUser:a,onNewThread:r}=u.useContext(b);return Se(o),e.jsxs(L,{leading:!0,type:"primary",className:n.header,children:[e.jsxs("div",{className:n.headerLeading,children:[a&&e.jsx(Ie,{}),e.jsx($,{label:s.formatMessage(P.newChat),children:e.jsx(Q,{to:"/",className:n.newThread,onClick:t=>{r?(t.preventDefault(),r()):K.logEvent("chatgpt_web_thread_tap_new_thread")},tabIndex:0,children:e.jsx(ye,{className:n.sidebarIcon,icon:e.jsx(Ve,{style:{viewTransitionName:"var(--vt_new_chat_thread)"}}),tabIndex:-1,label:s.formatMessage(P.newChat),style:{display:"var(--screen-size-hidden-on-compact-mode)"}})})}),e.jsx("div",{className:n.threadDropdown,children:e.jsx(we,{clientThreadId:o})})]}),e.jsx("div",{className:n.headerTrailing,children:e.jsx(A,{children:e.jsx(Ue,{clientThreadId:o})})})]})}const P=Z({newChat:{id:"rnCpM4",defaultMessage:"New Chat"}});function ns({hideHeader:s=!1,hideFooter:o=!1,hideTools:a=!1,embedded:r=!1}){const{clientThreadId:t,currentModelId:d,conversationLeafId:l,isCompanionWindow:h,isInstalledApp:C,onRequestCompletion:c}=Ne(),{canUseNewHomepage:m,showEmptyState:f}=q({clientThreadId:t,currentLeafId:l}),j=Le()[d],[x,S]=be({name:"composer-bar",track:"height"}),p=Ee(t),I=Me(),{isOpen:y}=_e(),T=o||f&&m;return e.jsx(ke.Provider,{value:c,children:e.jsx(He,{children:e.jsxs(Fe,{clientThreadId:t,currentLeafId:l,children:[e.jsx(Pe,{children:p!=null&&e.jsx("title",{children:p})}),e.jsx(Re,{clientThreadId:t,className:g(r&&"h-full","flex-1"),currentModelConfig:j,children:e.jsx(O.Provider,{value:{setComposerFooterElement:S},children:e.jsxs("div",{className:"h-full",style:{container:"thread-container / inline-size"},children:[e.jsx(H,{id:"canvas-state",name:"canvas-state",checked:I}),e.jsx(H,{id:"thread-extended-info-sidebar-state",name:"thread-extended-info-sidebar-state",checked:y}),e.jsx(De,{anchor:"vertical",className:g(n.screen,f&&m&&n.screenEmptyState,h&&n.screenCompanionWindow,C&&n.screenInstalledApp,r&&n.screenEmbedded),name:"thread",leading:!s&&e.jsx(Je,{}),style:x,trackLeading:!0,trackTrailing:!0,trailing:!T&&e.jsx(Ge,{}),children:e.jsx(Ke,{})}),!h&&!a&&e.jsxs(e.Fragment,{children:[e.jsx(We,{}),e.jsx(Ae,{})]})]})})})]})})})}export{ns as C};
//# sourceMappingURL=fdmlm8bksqpd8hdt.js.map
