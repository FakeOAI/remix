import{gp as C,e3 as g,dj as S,m as e,b5 as v,aE as T,fy as x,a5 as b,a9 as I,f$ as E,gq as N,ee as y,u as P,r as l,dm as f,at as z,b6 as w,co as k,cL as G}from"./fyh3ezmixterbdxo.js";import{C as L}from"./g5k0c5ijz52xu1v6.js";import{c4 as M,c5 as H,c6 as j,c7 as F,c8 as O,c9 as Q,ca as p,cb as A,cc as D,cd as U,ce as q,z as R,b as V,cf as K,cg as W,ch as Z,ci as _,D as $}from"./dgl56pidmg3zd9ce.js";import{C as B}from"./jfy06ko4lyp28z8y.js";import{u as J,a as X}from"./fhn5vanehookzk93.js";import{u as Y,C as ee,b as se}from"./b9afcy2zkxva8kyb.js";import{C as ae}from"./2q0ofoun1m3negv9.js";import"./etv99vp064le2wmi.js";import"./nv0crhinl03gbq5e.js";import"./f4z61jf1el16npl2.js";import"./eluvqzdhh2b7o8jw.js";import"./g9jrsh8hh9oih4n1.js";import"./heytdaj1j631dmrz.js";import"./gih4u9rllexfd9xc.js";import"./nfb1lejxpp0fc3qw.js";function te(){const{clientThreadId:s,currentModelId:a,conversationLeafId:i,onRequestCompletion:t}=J(),{showEmptyState:m}=Y({clientThreadId:s,currentLeafId:i}),u=M()[a],o=C(s),c=H(),d=g(),r=S()??"",n=j({gizmoId:r,draft:!1});return e.jsx(v.Provider,{value:t,children:e.jsx(F,{children:e.jsxs(O,{clientThreadId:s,currentLeafId:i,children:[e.jsx(Q,{children:o!=null&&e.jsx("title",{children:o})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(p,{id:"canvas-state",name:"canvas-state",checked:c}),e.jsx(p,{id:"thread-extended-info-sidebar-state",name:"thread-extended-info-sidebar-state",checked:d}),e.jsx(A,{anchor:"vertical",className:T(x.screen,m&&x.screenEmptyState),name:"thread",leading:e.jsx(ee,{}),trackLeading:!0,children:n.data&&e.jsx("div",{className:"flex h-full w-full",children:e.jsx("div",{className:"h-full flex-grow overflow-y-auto",children:e.jsx("div",{className:"mx-auto max-w-screen-md",children:e.jsx(D,{clientThreadId:s,currentModelConfig:u,children:e.jsx(se,{})})})})})}),e.jsx(ae,{}),e.jsx(U,{})]})]})})})}function ge(){const s=b(),a=I(),{gizmoSlug:i}=E(),t=N(i??""),m=j({gizmoId:t,draft:!1}),u=q(t),o=y(),{isLoading:c}=P("491279851"),d=R();l.useEffect(()=>{!c&&!d&&a("/")},[c,d,a]),l.useEffect(()=>{s!=null&&s.isFree()&&a("/")},[s,a]);const[r,n]=l.useState(()=>f());V(r,{kind:z.GizmoInteraction,gizmo_id:t}),l.useEffect(()=>{n(f())},[t]);let h=e.jsx("div",{className:"flex h-full w-full",children:e.jsx("div",{className:"m-auto",children:e.jsxs("div",{className:"flex justify-center",children:[e.jsx("span",{className:"sr-only","aria-busy":!0,role:"status","aria-live":"polite",children:e.jsx(w,{...K.loadingProjects})}),e.jsx(k,{className:"h-10 w-10 text-token-text-secondary"})]})})});return m.data&&!u.isPending&&(h=e.jsx(te,{})),e.jsx(W,{children:e.jsx(X,{clientThreadId:r,setClientThreadId:n,children:o?e.jsx(Z,{children:e.jsx(_,{className:G.application,sidebar:e.jsx(B,{}),thread:h,debugger:e.jsx($,{clientThreadId:r})})}):e.jsx(L,{clientThreadId:r,setClientThreadId:n,threadContent:h})})})}export{ge as default};
//# sourceMappingURL=c8kuxtr7pt5aumcq.js.map
