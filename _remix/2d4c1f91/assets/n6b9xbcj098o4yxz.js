const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/cydcii52ntwj271f.js","assets/gqmy69lfum1xn3in.js","assets/i4z8naqcr3t3djqa.js","assets/root-dcq62fgs.css","assets/icnxn2xqcp3w18gd.js","assets/conversation-small-ict01xsi.css"])))=>i.map(i=>d[i]);
import{aE as M,aF as A,m as h,a3 as k,j as e,ar as v,bM as E,bN as _,r as f,cR as y,aG as S,Y as w,a8 as L,aY as P,X as T,dF as F,b8 as D}from"./gqmy69lfum1xn3in.js";import{a$ as z,bL as U,bM as O,bN as B,bO as K,bP as Y,bQ as q,U as H,bR as Q,bS as W,bT as Z,bU as R,bV as V,bf as X,bW as $,D as J,bX as b,bY as ee,bZ as te,b_ as se}from"./icnxn2xqcp3w18gd.js";import{aY as ie,ax as ae,Y as ne,Z as re}from"./i4z8naqcr3t3djqa.js";import{a as oe}from"./l51sgdkljaswul64.js";import{m as I}from"./gvt29ccgnn9ozjnb.js";import"./batco5mjkqikbslw.js";import"./gt1nd5d752xxormd.js";import"./i5v48a1mcjul24c4.js";import"./d6612xawz3rop9ce.js";import"./d5umhxlw27bcb7cw.js";const le=M(()=>A(()=>import("./cydcii52ntwj271f.js"),__vite__mapDeps([0,1,2,3,4,5])).then(t=>t.GizmoKeepInSidebarMenuItem));var ce=(t=>(t[t.Keep=0]="Keep",t[t.Recents=1]="Recents",t))(ce||{});const me=2;function de({isActive:t,isNewConversation:a}){const s=h(),l=k(),n=z();return e.jsx("div",{className:v(n?"":"bg-token-sidebar-surface-primary","pt-0"),children:e.jsx(j,{gizmo:void 0,isActive:t,onClick:r=>{E(_(s))&&!a&&(r.preventDefault(),U(l))}})})}function ue(t,a,s,l){const n=J(t,i=>i.flair.kind),r=[...n[b.FirstParty]?.map(({resource:i})=>({gizmo:i,section:0}))??[],...n[b.SidebarKeep]?.map(({resource:i})=>({gizmo:i,section:0}))??[],...n[b.Recent]?.slice(0,l?n[b.Recent]?.length:me).map(({resource:i})=>({gizmo:i,section:1}))??[]],c=r.length>s+1,o=(c||l)&&!a&&r.length>s?r.slice(0,s):r;return{listItems:[...o.filter(({section:i})=>i===0),...o.filter(({section:i})=>i===1)],itemsLeft:r.length-o.length,needsToCollapseItems:c}}function pe({gizmo:t,currentGizmoId:a,maxToShowOnLoad:s,hideOverflowMenu:l=!1}){const n=f.useRef(!1),r=O(),c=!s,o=z(),{listItems:u}=ue(t,c,s??0,o);f.useEffect(()=>{u.length>0&&!n.current&&(B({namespace:K.ChatPageLoad})?.logTiming("render_gizmo_sidebar"),n.current=!0)},[u]);function i(m,p){const d=e.jsx(j,{gizmo:m,isActive:m.gizmo.id===a,section:p,hideOverflowMenu:l},m.gizmo.id);return o?e.jsx("li",{children:d}):d}return e.jsxs("div",{children:[u.map(({gizmo:m,section:p},d)=>e.jsxs(f.Fragment,{children:[d>1&&p!==u[d-1].section&&e.jsx("div",{className:"my-2 ml-2 h-px w-7 bg-token-sidebar-surface-tertiary"}),i(m,p)]},d)),!c&&e.jsx(Y,{children:e.jsx(I.div,{whileTap:{scale:.98},children:e.jsx(y,{to:q(),onClick:()=>{r.activeSidebar==="popover-nav"&&H.setActiveSidebar(!1)},children:e.jsx(Q,{icon:ie,"data-testid":"explore-gpts-button",children:e.jsx(S,{...x.exploreStoreEnabled})})},"explore")})})]})}function Ce({currentGizmoId:t}){const{data:{gizmos:a}={}}=W();let s=a;return e.jsxs(e.Fragment,{children:[e.jsx(de,{isActive:t===void 0,isNewConversation:!0}),e.jsx(oe,{}),s!=null?e.jsx(pe,{gizmo:s,currentGizmoId:t,maxToShowOnLoad:4}):null]})}function ge({gizmo:t,isOpen:a,setIsOpen:s,section:l}){const n=h();return e.jsxs(F,{open:a,onOpenChange:s,triggerButton:e.jsx("button",{className:v("flex text-token-text-secondary hover:text-token-text-primary",a?"":"invisible group-hover:visible"),children:e.jsx(re,{className:"icon-md"})}),contentAlign:"start",sideOffset:4,alignOffset:-4,size:"auto",children:[l===1&&e.jsx(D.Item,{onClick:async()=>{await ee.updateGizmoSidebar(n,te,t.gizmo.id,"keep")},children:e.jsx(S,{...x.keepInSidebar})}),e.jsx(le,{gizmoResource:t})]})}function j({gizmo:t,historyDisabled:a,section:s,onClick:l,isActive:n,hideOverflowMenu:r=!1}){const c=w(),[o,u]=f.useState(!1),[i,m]=f.useState(!1),p=L(),d=!!t?.gizmo.tags?.includes(Z.FirstParty),G=!1;let C=!1,g;if(t!=null)g=t.gizmo.display.name||R;else{if(p==null)return null;a?g=c.formatMessage(x.clearChat):p.canInteractWithGizmos()?g=se:g=c.formatMessage({id:"GizmoSidebarListItem.newChat",defaultMessage:"New chat"})}return e.jsx(I.div,{whileTap:{scale:.98},onMouseEnter:()=>{m(!0)},onMouseLeave:()=>{m(!1)},children:e.jsx(V,{loggingGizmoId:t?.gizmo.id??"primary",href:t!=null?X(t):"/",onClick:l,showActiveIndicator:C,icon:e.jsx($,{gizmoId:t?.gizmo.id,isFirstParty:t==null||d,src:t?.gizmo.display.profile_picture_url,className:"h-6 w-6 flex-shrink-0"}),isMenuOpen:o,label:g,hoverRightIcon:e.jsxs("div",{className:"flex gap-2",children:[(i||o)&&t!=null&&!G&&!r&&e.jsx("div",{className:"text-token-text-tertiary",onClick:N=>{N.preventDefault()},children:e.jsx(ge,{gizmo:t,isOpen:o,setIsOpen:u,section:s})}),!r&&e.jsx(P,{side:"right",label:c.formatMessage(a?x.clearChat:x.newChat),className:"flex items-center",children:e.jsx("button",{className:o?"text-token-text-tertiary":"invisible text-token-text-secondary hover:text-token-text-primary group-hover:visible",children:a?e.jsx(ae,{className:"icon-md"}):e.jsx(ne,{className:"icon-md"})})})]})})})}const x=T({exploreStoreEnabled:{id:"gizmo.exploreStoreEnabled",defaultMessage:"Explore GPTs"},keepInSidebar:{id:"gizmo.keepInSidebar",defaultMessage:"Keep in sidebar"},newChat:{id:"gizmo.newChat",defaultMessage:"New chat"},clearChat:{id:"gizmo.clearChat",defaultMessage:"Clear chat"}});export{de as DefaultGPTSidebarListItem,Ce as GizmoSidebarList,pe as GizmoSidebarListContent,j as GizmoSidebarListItem,ce as SidebarSectionType,x as sidebarMessages};
//# sourceMappingURL=n6b9xbcj098o4yxz.js.map
