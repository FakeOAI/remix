const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ji05oyj3tfgstdaa.js","assets/gie7t2ghpkmat91x.js","assets/mlhieyi9z3gwttrn.js","assets/root-ll1sm06l.css","assets/eb3stsg8iy7t43kd.js","assets/conversation-small-ogafjggy.css","assets/m878e283hszmxxxu.js","assets/cq1wr63lzayx7ig8.js","assets/j7vda0o4435fpq77.js","assets/ebqv5ph7c2sdk5gc.js","assets/dj1r9dxm91vgn5c2.js","assets/l9f3mccvx9rgexey.js","assets/k3oqp7qedfov7a2p.js","assets/o0ai3iexyukmznyz.js","assets/eeo73hokvld9sux5.js","assets/m73oatg382ylvuvx.js","assets/n86rj4z42qeu7i16.js","assets/gc1cav3hbynzlnwl.js","assets/g9iu7nm903guujld.js","assets/h2sd1xa6f1fu46y0.js","assets/feb9subta6lf5bz0.js","assets/dcuy50ysngytazok.js","assets/f1k15lrwzctkk8t5.js","assets/me49ih2kp8p0srre.js","assets/llzxqkryouttg4xv.js","assets/etj5evuzz6fgtlqe.js","assets/iqy60oluuibyojbd.js","assets/garo7dux9f8tjkrm.js","assets/eicqupleklvzus8w.js","assets/tox4bew0wr1t6mxw.js","assets/h6tk2qkve1641wfz.js","assets/ey2u0klcitpfhaa0.js","assets/mc0991qkstsnty8z.js","assets/ngdb9un7j510048b.js","assets/cap2emr12g2tghfb.js","assets/mh122gvlhdytz1u1.js","assets/e7e7sp2dnlssszco.js","assets/orr0fyu2bv33rv28.js","assets/b8jcru655m2j4vhf.js","assets/ola9q8b6skavyu55.js","assets/gr4woi3c8mqomb61.js","assets/ga5jdyirsc70un2e.js","assets/mrjyzik1prg8meni.js","assets/m3vztdz5bfiry3en.js","assets/bj1d6q8t8rls8y02.js","assets/l3evqf207ny5gavp.js","assets/m6n9c5wi3ggf47q7.js","assets/jiryc8pk66l5n8uv.js","assets/ijeybnf9kxodchsu.js","assets/jytf3f2tg4kbg5jh.js","assets/mb9svnuvn1ty1398.js","assets/n5h9pifz3lvocqlw.js","assets/cqpdfnepajj4ydou.js","assets/jetvh0z0sbwgps4b.js","assets/ovub97fncw86habi.js","assets/bqwyz0dvbjgcukvw.js","assets/jvz82qaz26jeu6xl.js","assets/kqwdyvkaaavvn8k3.js","assets/i8x2ijpmbexy1ppm.js","assets/nbbtp1qziq1q8hru.js"])))=>i.map(i=>d[i]);
import{a2 as He,W as F,aK as be,aJ as We,r as i,l as s,a0 as b,D as Se,bd as V,a1 as z,Q as ke,P as ie,a as ce,L as je,X as U,Y as ve,bF as Fe,aD as g,aE as p,aN as ye,c0 as ze,b$ as Ue,bZ as Ke,bf as $e,aA as qe,u as Ae,ap as le,aH as de,bD as Qe,dM as H,ff as Ye,f4 as Xe,m as S,cm as we,d5 as L,fk as Je,e9 as Ze,fl as es,a9 as ue,bi as ss,c_ as ts,c$ as as,d0 as os,c8 as ns,b0 as rs,h as is,j as cs}from"./gie7t2ghpkmat91x.js";import{u as ls,f as K,T as _e}from"./g9iu7nm903guujld.js";import{u as ds,h2 as us,h3 as Ee,h4 as hs,S as ms,h5 as fs,h6 as gs,h7 as ps,h8 as xs,h9 as Cs,ha as Ms,bQ as D,hb as bs,hc as Ss,hd as ks,he as js,hf as vs,e7 as ys,hg as As,hh as ws,hi as _s,hj as Es,hk as Ps,hl as Ls,hm as Os,hn as Ns,ho as Ts,hp as Bs,hq as Ds,hr as Is,hs as Rs,ht as Gs,hu as Vs,G as j,aH as P,a4 as v,ck as $,hv as Hs,hw as Ws,eC as he,cy as Fs,hx as Pe,hy as Le,hz as Oe,Q as zs,hA as Us,gU as me,fO as Ks,c8 as W,c9 as fe,hB as Ne,hC as $s,em as B,hD as qs,dn as Qs,hE as Ys,hF as Xs,cU as Js,aD as Zs,aR as et,hG as st,en as tt,eo as ge,hH as at,v as ot,cn as nt,hI as rt,hJ as it,co as ct,d9 as lt,hK as dt,da as ut,hL as ht,hM as mt}from"./eb3stsg8iy7t43kd.js";import{T as I,e as ft,c as gt,b as pt,l as xt}from"./j7vda0o4435fpq77.js";import{a as Ct}from"./dj1r9dxm91vgn5c2.js";import{L as Mt}from"./l9f3mccvx9rgexey.js";import{bD as bt,V as St}from"./mlhieyi9z3gwttrn.js";import{e as kt,b as jt,f as vt,a as Te,g as yt}from"./ngdb9un7j510048b.js";import{S as pe,b as At,c as wt,N as _t}from"./m6n9c5wi3ggf47q7.js";import{a as Be,b as Et,g as Pt}from"./ijeybnf9kxodchsu.js";import{S as Lt,C as Ot,H as Nt}from"./jytf3f2tg4kbg5jh.js";import{u as Tt,n as Bt}from"./m73oatg382ylvuvx.js";import{J as Dt,q as It,a as Rt,K as Gt}from"./cq1wr63lzayx7ig8.js";import{m as xe}from"./ebqv5ph7c2sdk5gc.js";import{b as Vt}from"./n86rj4z42qeu7i16.js";function Ht({onClose:e}){const t=F(),a=be(),{openSettings:n}=ds(),r=us(),{session:o}=We(),{data:{isStorageComplianceEnabled:c}={}}=Ee(),{data:l,isLoading:h}=hs({enabled:!!(c&&o),select:d=>!d.cookie_consent.is_required});return i.useEffect(()=>{l===!0&&e()},[l,e]),h?null:s.jsx(Wt,{onReject:()=>{r.mutateAsync({analytics_cookies_accepted:!1},{onSuccess(){a.success(t.formatMessage(w.updateSuccess))},onError(){a.danger(t.formatMessage(w.updateFailure))}}),e()},onAccept:()=>{r.mutateAsync({analytics_cookies_accepted:!0},{onSuccess(){a.success(t.formatMessage(w.updateSuccess))},onError(){a.danger(t.formatMessage(w.updateFailure))}}),e()},children:s.jsx(b,{id:"CookieConsentBanner.authedDescription.0",defaultMessage:"We use cookies and similar technologies to deliver, maintain, improve our services and for security purposes. Check our <cookiePolicy>cookie policy</cookiePolicy> for details. Click 'Accept all' to let OpenAI and partners use cookies for these purposes. Click 'Reject all' to say no to cookies, except those that are strictly necessary. Choose <manageLink>manage cookies</manageLink> to change your preferences.",values:{cookiePolicy:d=>s.jsx(Mt,{href:"https://openai.com/policies/cookie-policy",openNewTab:!0,children:d}),manageLink:d=>s.jsx(Ft,{onClick:()=>{n(ms.DataControls)},children:d})}})})}function Wt({children:e,onAccept:t,onReject:a}){return i.useEffect(()=>{Se.addAction("privacy_policy.show_cookie_consent_banner")},[]),s.jsxs(fs,{children:[s.jsxs(gs,{className:"text-sm font-semibold [grid-area:_title]",children:[e,s.jsxs("div",{className:"mt-2 flex justify-end gap-3",children:[s.jsx(V,{color:"secondary",size:"small",onClick:a,children:s.jsx(b,{...w.reject})}),s.jsx(V,{color:"secondary",size:"small",onClick:t,children:s.jsx(b,{...w.accept})})]})]}),s.jsx(ps,{})]})}const Ft=He.button`underline font-normal text-green-600`,w=z({cookieConsentBannerTitle:{id:"CookieConsentBanner.title",defaultMessage:"We use cookies to provide, improve, and protect our services. Visit our <privacyPolicyLink>privacy policy</privacyPolicyLink> to learn more. You can manage your cookie preferences in your <settingsPanel>settings panel</settingsPanel>. <learnMoreLink>Learn more</learnMoreLink>."},reject:{id:"CookieConsentBanner.reject",defaultMessage:"Reject all"},accept:{id:"CookieConsentBanner.accept",defaultMessage:"Accept all"},updateSuccess:{id:"CookieConsentBanner.updateSuccess",defaultMessage:"Your cookie preferences were updated successfully"},updateFailure:{id:"CookieConsentBanner.updateFailure",defaultMessage:"Unable to update cookie preferences. Try again later."}}),De=()=>{const e=i.useRef(zt()),{isUnauthenticated:t,isLoading:a}=ke(),n=xs(),r=kt(),o=!a&&t&&r&&!e.current&&!n,c=i.useCallback(()=>{o&&(Ut(),ie.logEventWithStatsig(ce.meetChatGptModalShown,"chatgpt_meet_chatgpt_modal_shown"))},[o]),l=()=>{ie.logEventWithStatsig(ce.meetChatGptModalConfirmationButtonClicked,"chatgpt_meet_chatgpt_modal_confirmation_button_clicked")};return a?{onConfirmationButtonClick:l,onMount:c,state:"loading"}:o?{onConfirmationButtonClick:l,onMount:c,state:"show"}:{onConfirmationButtonClick:l,onMount:c,state:"hide"}};function zt(){return!!localStorage.getItem(je.HasSeenMeetChatGptModal)}function Ut(){return localStorage.setItem(je.HasSeenMeetChatGptModal,"true")}const Kt=({onClose:e})=>{const{onConfirmationButtonClick:t,onMount:a,state:n}=De();return i.useEffect(a,[a]),n!=="show"?null:s.jsx(U,{isOpen:!0,noPadding:!0,onClose:ve,shouldIgnoreClickOutside:!0,showCloseButton:!1,size:"custom",type:"success",className:"max-w-md",children:s.jsxs("div",{className:"flex flex-col p-6 text-center",children:[s.jsx("div",{className:"-mb-4 -mt-5 self-center",children:s.jsx(bt,{})}),s.jsx("div",{className:"mb-2 text-2xl font-medium",children:s.jsx(b,{id:"fnY8gE",defaultMessage:"Meet ChatGPT"})}),s.jsx("div",{className:"mb-6 text-token-text-secondary",children:s.jsx(b,{id:"OdX5ix",defaultMessage:"AI that can help with brainstorming, researching, planning, and more. Just ask."})}),s.jsx(V,{color:"primary",size:"giant",className:"mb-4",onClick:()=>{t(),e()},children:s.jsx(b,{...Fe.gotItButtonText})}),s.jsx("div",{className:"text-xs text-token-text-tertiary",children:s.jsx(b,{id:"afZtaK",defaultMessage:"Chats may be reviewed and used to train our models. You can opt out in settings. <learnMoreLink>Learn more</learnMoreLink>",values:{learnMoreLink:r=>s.jsx("a",{className:"underline",href:"https://help.openai.com/en/articles/9737562",rel:"noreferrer",target:"_blank",children:r})}})})]})})},$t=g(()=>p(async()=>{const{ModelOnboardingNUXModal:e}=await import("./ji05oyj3tfgstdaa.js");return{ModelOnboardingNUXModal:e}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11])).then(({ModelOnboardingNUXModal:e})=>e),{ssr:!1}),qt=({onClose:e})=>{const t=F(),a=D($.isBusinessWorkspace),n=D(o=>o.currentWorkspace),r=a?t.formatMessage(Ce.workspaceWelcome,{workspaceName:n?.name}):"ChatGPT";return s.jsx(U,{isOpen:!0,onClose:ve,type:"success",title:r,size:"custom",noPadding:!0,className:"max-w-3xl",description:t.formatMessage(Ce.personalOnboardingSubheading),children:s.jsx(Hs,{onClose:e,scope:Ws.Personal})})};function Qt(){const[e,t]=i.useState(0),{hasSeenOnboardingDate:a}=Cs(),{hasSeenTeamOwnerOnboardingDate:n}=Ms(),r=D($.isBusinessWorkspace),o=ye(),[c,l]=i.useState(!1),{data:h,isPending:d}=Ee(),x=bs(h,d),{eligible:m,isLoading:_}=Ct(),O=ze(),y=Ue(),N=Ke(),{data:f,isError:k}=$e(),C=f!=null,E=f&&f?.accountItems.length>1&&f.currentAccountId==null,T=f?.accountItems.some(u=>u.isPersonalAccount()),M=!!f?.accountItems&&f.accountItems.length>0&&f.accountItems.every(({canAccessWithCurrentSession:u})=>!u),{eligible:q,isLoading:Q}=Ss(),{value:Y}=qe("1542198993"),{punchOutRequireLoginInfo:X}=ks(),{state:J}=js(),{isOpen:Z,isLoading:ee}=vs(),{isOpen:se,isLoading:te}=ys(),{isOpen:ae,isLoading:oe}=As(),{state:ne}=De(),A=i.useMemo(()=>[{Component:ws,getModalState:()=>X?"show":"hide",isDeferrable:!1},{Component:_s,getModalState:()=>J,isDeferrable:!1},{Component:Kt,getModalState:()=>ne,isDeferrable:!1},{Component:Es,getModalState:()=>ee?"loading":Z?"show":"hide",isDeferrable:!1},{Component:Ps,getModalState:()=>oe?"loading":ae?"show":"hide",isDeferrable:!1},{Component:qt,getModalState:()=>r?"hide":a===null?"loading":a===!1?"show":"hide",isDeferrable:!0},{Component:Ls,getModalState:()=>k?"hide":E?"show":C?"hide":"loading",isDeferrable:!1},{Component:Os,getModalState:()=>O!==null?"show":k||C?"hide":"loading",isDeferrable:!1},{Component:Ns,getModalState:()=>y!==null?"show":k||C?"hide":"loading",isDeferrable:!1},{Component:Ts,getModalState:()=>N!=null?"show":k||C?"hide":"loading",isDeferrable:!1},{Component:Bs,getModalState:()=>C?M?"show":"hide":"loading",isDeferrable:!1},{Component:Ds,getModalState:()=>te?"loading":se?"show":"hide",isDeferrable:!1},{Component:Ht,getModalState:()=>"hide",isDeferrable:!1},{Component:Is,getModalState:()=>!o?.isTeam()||!o?.isOwnerOfAccount()||!T?"hide":!C||n===null?"loading":n===!1?"show":"hide",isDeferrable:!1},{Component:Rs,getModalState:()=>r?a===null?"loading":a===!1?"show":"hide":"hide",isDeferrable:!0},{Component:Gs,getModalState:()=>Q?"loading":q&&Y?"show":"hide",isDeferrable:!1},{Component:Vs,getModalState:()=>x,isDeferrable:!1},{Component:$t,getModalState:()=>_?"loading":m?"show":"hide",isDeferrable:!0,expiresAt:new Date(2024,7,13)}].filter(u=>!(u.isDeferrable&&c)&&(!u.expiresAt||u.expiresAt.getTime()>Date.now())),[X,J,N,C,a,n,T,_,r,k,O,y,o,M,E,x,m,c,Y,q,Q,Z,ee,ae,oe,ne,te,se]);i.useEffect(()=>{if(A[e]&&A[e].getModalState()==="hide"){const u=A.findIndex(Ve=>Ve.getModalState()!=="hide");t(u)}},[e,A]);const R=A[e],G=R?.getModalState()==="show";if(i.useEffect(()=>{const u=j.getState().activeModals.has(P.BlockingInitialComponent);G!==u&&(G?v.openModal(P.BlockingInitialComponent):v.closeModal(P.BlockingInitialComponent))},[G]),R==null)return s.jsx("span",{"data-testid":"blocking-initial-modals-done",className:"hidden"});const re=R.getModalState();if(re==="loading")return null;re==="hide"&&t(u=>u+1);const Ge=A[e].Component;return s.jsx(Ge,{onClose:()=>{l(!0),t(u=>u+1)}})}const Ce=z({workspaceWelcome:{id:"BlockingInitialModals.workspaceWelcome",defaultMessage:"Welcome to the {workspaceName} workspace"},personalOnboardingSubheading:{id:"BlockingInitialModals.personalOnboardingSubheading",defaultMessage:"Tips for getting started"}});function Ie({clientThreadId:e}){i.useEffect(()=>{v.closeSharingModal()},[e]);const t=Ae();i.useEffect(()=>(I.retainThread(e),()=>{setTimeout(()=>{t.invalidateQueries({queryKey:["conversation",e]})},0),I.releaseThread(e)}),[e,t]),i.useEffect(()=>()=>{le.checkGate("3922476776")||he.abortAllRequests()},[e]);const a=i.useRef(e);i.useEffect(()=>{e!==a.current&&(le.checkGate("3922476776")||he.clear(),a.current=e)},[e])}function Re({clientThreadId:e,setClientThreadId:t}){const a=Ae(),n=Fs(),r=n?{kind:de.GizmoInteraction,gizmo_id:n}:{kind:de.PrimaryAssistant};Tt(e,r);const o=Qe(),c=Dt(e),l=i.useRef(c);l.current=c;const h=i.useCallback(()=>{t(H());const m=l.current;o(m.tags.includes(Ye.GPT_4)?"/":`/?model=${m.id}`,{replace:!0})},[t,o]),d=ls({clientThreadId:e,location:"Model switcher menu item"}),x=i.useCallback(m=>{Bt(o,a,m)},[a,o]);return{createNewThread:d,onThreadCreated:x,resetThread:h}}const Yt=g(()=>p(()=>import("./k3oqp7qedfov7a2p.js"),__vite__mapDeps([12,1,2,3,4,5,13,14,15,16,9,7,8,17,18,19,10,11,20,21,22,23,6,24,25,26,27,28,29])).then(e=>e.CanvasFocusedViewManager));function Xt({clientThreadId:e,setClientThreadId:t,urlThreadId:a,prefetchSearch:n}){const r=ft();Ie({clientThreadId:e});const{createNewThread:o,onThreadCreated:c,resetThread:l}=Re({clientThreadId:e,setClientThreadId:t});Be({resetThreadAction:l,clientThreadId:e});const h=K(e);return s.jsxs(_e,{clientThreadId:e,children:[s.jsx(Pe,{clientThreadId:e,urlThreadId:a}),s.jsxs(pe,{hideNavigation:r,mobileHeaderContent:s.jsx(jt,{clientThreadId:e,inMobileHeader:!0}),mobileHeaderBottomContent:s.jsx(vt,{clientThreadId:e}),mobileHeaderLeftContent:s.jsx(At,{onNewChatButtonClick:l}),mobileHeaderRightContent:s.jsx(wt,{onNewChatButtonClick:l}),sidebar:s.jsx(_t,{navHeader:e?s.jsx(Lt,{className:"flex h-[60px] items-center md:h-header-height",onNewThread:o}):null,children:s.jsx(Ot,{clientThreadId:e,onNewThread:o})}),children:[s.jsx(Le,{}),s.jsx(Te,{clientThreadId:e,onCreate:c,prefetchSearch:n},e),s.jsxs(pe.Sidebars,{children:[h&&s.jsx(Yt,{clientThreadId:e}),s.jsx(Oe,{clientThreadId:e})]})]})]})}const Jt=450;function Zt({children:e,clientThreadId:t,isOpen:a,onClose:n}){return s.jsx(zs,{children:a&&s.jsx(Xe,{children:s.jsx(Us.Provider,{value:{isEmbeddedInFocusedView:!0},children:s.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[s.jsx(xe.div,{className:"h-full w-full bg-token-main-surface-secondary",...me}),s.jsxs("div",{className:"absolute inset-0 flex",children:[s.jsx("div",{className:"flex-grow overflow-auto",children:e}),s.jsx(xe.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:Jt},...me,children:s.jsx("div",{className:"h-[100vh] pb-4",children:s.jsx(Te,{clientThreadId:t,hideHeader:!0,hideFooter:!0,hideToolsOverlay:!0,messagesVerticalAlign:"bottom"},t)})})]})]})})})})}const ea=g(()=>p(()=>import("./h6tk2qkve1641wfz.js"),__vite__mapDeps([30,1,2,3,4,5,15,16,9,7,8,17,18,19,10,11,20,21,22,23,6]))),sa=g(()=>p(()=>import("./ey2u0klcitpfhaa0.js"),__vite__mapDeps([31,1,2,3,4,5,32,15,16,9,7,8,17,18,19,10,11,20,21,22,23,6,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50])).then(e=>e.ImageEditor));function ta({clientThreadId:e}){const t=Ks();i.useEffect(()=>{W.close()},[e]);let a;return t?.type===fe.ADAVisualization?a=s.jsx(ea,{clientThreadId:e,visualization:t.visualization}):t?.type===fe.Image&&(a=s.jsx(sa,{clientThreadId:e,messageId:t.messageId,image:t.image,allImages:t.allImages},t.image.asset_pointer)),s.jsx(Zt,{clientThreadId:e,isOpen:t!=null,onClose:W.close,children:a})}const aa=()=>{const e=F(),t=j(o=>o.activeModals.has(P.KeyboardActions)),a=()=>{v.closeModal(P.KeyboardActions)},n=Et(),r=i.useMemo(()=>{const o=Math.ceil(n.length/2);return[n.slice(0,o),n.slice(o)]},[n]);return s.jsx(U,{isOpen:t,onClose:a,type:"success",size:"custom",className:"md:max-w-[672px] lg:max-w-[796px] xl:max-w-4xl",showCloseButton:!0,title:e.formatMessage(ra.keyboardActionsModalTitle),children:s.jsx(s.Fragment,{children:s.jsx("div",{className:"grid grid-flow-row grid-cols-[repeat(auto-fit,minmax(250px,1fr))] gap-x-9",children:r.map((o,c)=>s.jsx("div",{className:"flex flex-col overflow-hidden",children:o.map(l=>s.jsx(oa,{action:l},l.key))},`col-${c}`))})})})},oa=({action:e})=>s.jsxs("div",{className:"flex items-center justify-between overflow-hidden text-token-text-primary",children:[s.jsx("div",{className:"flex flex-shrink items-center overflow-hidden text-sm",children:s.jsx("div",{className:"truncate",children:s.jsx(b,{...e.actionMessageDescriptor})})}),s.jsx("div",{className:"ml-3 flex flex-row gap-2",children:Pt(e.keyboardBinding).map((t,a)=>s.jsx(na,{keyName:t},`${e.key}-${a}`))})]}),na=({keyName:e})=>{const t=S("my-2 flex h-8 items-center justify-center rounded-md border border-token-border-light capitalize text-token-text-secondary");return e.length>1?e.length>3?s.jsx("div",{className:S(t,"min-w-[50px]"),children:s.jsx("span",{className:"text-xs",children:e})}):s.jsx("div",{className:S(t,"min-w-[32px]"),children:s.jsx("span",{className:"text-xs",children:e})}):s.jsx("div",{className:S(t,"min-w-[32px]"),children:s.jsx("span",{className:"text-sm",children:e})})},ra=z({keyboardActionsModalTitle:{id:"KeyboardActionsModal.keyboardActionsModalTitle",defaultMessage:"Keyboard shortcuts"}}),ia=g(()=>p(()=>import("./jytf3f2tg4kbg5jh.js").then(e=>e.a),__vite__mapDeps([49,1,2,3,4,5,39,7,8,9,19,50,47,10,11,6,48,18,20,21])).then(e=>e.GizmoSidebarList),{ssr:!0});function ca({clientThreadId:e}){const t=ye(),a=gt(e),n=pt(e),{isUnauthenticated:r}=ke(),o=we();return r?null:s.jsxs("div",{className:S(L.screenContent),children:[s.jsx(Nt,{activeId:o?void 0:n}),t?.canInteractWithGizmos()?s.jsx(ia,{currentGizmoId:a}):null]})}function Me({onClick:e,children:t}){return s.jsx(Qs,{className:S(L.screenTrailingBar),type:"primary",children:s.jsx("div",{className:S("group flex w-full items-center justify-start"),children:s.jsxs("button",{className:"flex flex-1 select-none items-center rounded-lg py-1 pl-4 text-sm tracking-tight text-token-text-secondary hover:bg-token-sidebar-surface-secondary focus:ring-0",onClick:e,children:[s.jsx(St,{className:"icon-2xl -ml-3 mr-1 font-semibold text-token-text-secondary"}),t]})})})}function la(){const e=j(B.isGptListVisible),t=j(B.isHistoryShowMoreVisible),a=j(B.isHistoryCollapsed),n=j(B.isGptListCollapsed),r=i.useCallback(()=>{a||v.toggleHistoryCollapsed(),n&&v.toggleGptListCollapsed()},[a,n]),o=[];return!a&&!t&&o.push(s.jsx(Me,{onClick:v.toggleHistoryCollapsed,children:s.jsx(b,{id:"1poXLj",defaultMessage:"See less"})})),e||o.push(s.jsx(Me,{onClick:r,children:s.jsx(b,{id:"DnQZfo",defaultMessage:"See GPTs"})})),o.length?s.jsx(qs,{className:S(L.screenTrailingBarContainer),children:o}):null}function da({clientThreadId:e,onNewThread:t}){return s.jsx(Ne,{anchor:"top",className:S(L.screen,L.screenProps,"flex-1 border-r border-r-token-border-xlight"),name:"sidebar",leading:s.jsx($s,{onNewThread:t}),trackLeading:!0,trailing:s.jsx(la,{}),children:s.jsx(ca,{clientThreadId:e})})}const ua=g(()=>p(()=>import("./n5h9pifz3lvocqlw.js"),__vite__mapDeps([51,1,2,3,4,5,33,7,8,9,34,15,16,17,18,19,10,11,20,21,22,23,6,35,36,37,38,39,40,41,32,42,43,44,45])).then(e=>e.ChatScreenThreadHeader),{ssr:!0}),ha=g(()=>p(()=>import("./cqpdfnepajj4ydou.js"),__vite__mapDeps([52,1,2,3,33,7,4,5,8,9,34,15,16,17,18,19,10,11,20,21,22,23,6,35,36,37,38,39,40,41,32,42,43,44,45])).then(e=>e.ChatScreenThreadContent),{ssr:!0}),ma=g(()=>p(()=>import("./jetvh0z0sbwgps4b.js"),__vite__mapDeps([53,1,2,3,4,5,33,7,8,9,34,15,16,17,18,19,10,11,20,21,22,23,6,35,36,37,38,39,40,41,32,42,43,44,45])).then(e=>e.ChatScreenThreadFooter),{ssr:!0});function fa({clientThreadId:e,onThreadCreated:t,onNewThread:a,onCompletionFinished:n,preRequestCompletion:r}){const o=It(),c=Rt(e)??o.id,l=xt(e),{onRequestCompletion:h,onChangeItemInView:d,onChangeRating:x,onRequestMoreCompletions:m}=yt({clientThreadId:e,currentModelId:c,defaultModelId:o.id,onCompletionFinished:n,onThreadCreated:t,preRequestCompletion:r});return s.jsx(Gt,{clientThreadId:e,currentLeafId:l,children:s.jsx(Je.Provider,{value:h,children:s.jsx(Ne,{anchor:"top",className:Ze.screen,name:"thread",leading:s.jsx(ua,{clientThreadId:e,onNewThread:a}),trackLeading:!0,trackTrailing:!0,trailing:s.jsx(ma,{clientThreadId:e,onRequestCompletion:h}),children:s.jsx(ha,{clientThreadId:e,conversationLeafId:l,currentModelId:c,onRequestCompletion:h,onChangeItemInView:d,onChangeRating:x,onRequestMoreCompletions:m})})})})}const ga=g(()=>p(()=>import("./k3oqp7qedfov7a2p.js"),__vite__mapDeps([12,1,2,3,4,5,13,14,15,16,9,7,8,17,18,19,10,11,20,21,22,23,6,24,25,26,27,28,29])).then(e=>e.CanvasFocusedViewManager));function pa({clientThreadId:e,setClientThreadId:t,urlThreadId:a}){Ie({clientThreadId:e});const{createNewThread:n,onThreadCreated:r,resetThread:o}=Re({clientThreadId:e,setClientThreadId:t});Be({resetThreadAction:o,clientThreadId:e});const c=K(e);return s.jsxs(_e,{clientThreadId:e,children:[s.jsx(Pe,{clientThreadId:e,urlThreadId:a}),s.jsx(Le,{}),s.jsx(Ys,{className:es.application,sidebar:s.jsx(da,{clientThreadId:e,onNewThread:n}),thread:s.jsx(fa,{clientThreadId:e,onNewThread:n,onThreadCreated:r}),details:c&&s.jsx(ga,{clientThreadId:e}),debugger:s.jsx(Oe,{clientThreadId:e})})]})}var xa={};const Ca=g(()=>p(()=>import("./ovub97fncw86habi.js"),__vite__mapDeps([54,1,2,3,4,5,15,16,9,7,8,17,18,19,10,11,20,21,22,23,6,55]))),Ma=g(()=>p(()=>import("./jvz82qaz26jeu6xl.js"),__vite__mapDeps([56,1,2,3,8,4,5,9,57,58,7,59,16])).then(e=>e.SearchResultsModal));function Ra(e){const{urlThreadId:t,clientThreadId:a,prefetchSearch:n}=e,r="serviceStatus"in e?e.serviceStatus:null;ka();const o=we(),c=ue(),[l]=ss(),h=be(),[d,x]=i.useState(()=>t!==void 0?t:a!==void 0?a:H());t!==void 0&&d!==t&&I.getServerThreadId(d)!==t&&x(t);const m=Xs(ue());i.useEffect(()=>{t===void 0&&I.getServerThreadId(d)!==void 0&&x(H())},[t,d,m]);const _=Js(),O=D($.workspaceId),y=Zs();K(d);const N=et(),{eligible:f,isLoading:k,markAsViewed:C}=st();i.useEffect(()=>{(c.pathname==="/"||c.pathname.startsWith("/c/"))&&tt({namespace:ge.ChatPageLoad})==null&&(at({namespace:ge.ChatPageLoad,opts:{expectedTimingLogs:[{name:"render_model_switcher",expectedInMs:1e4},{name:"render_history_items",expectedInMs:25e3}]}}),Se.addTiming("chatgpt.web.chatPage.mounted"))},[]);const E=ot();i.useEffect(()=>{ts(!0).then(M=>{M.force_login&&E({authType:"login"}),as.initializeAndGatherData(M),nt.initializeAndGatherData(M),os.initializeAndGatherData(M)})},[E]),i.useEffect(()=>{r?.type&&_===!1&&h.warning(r.message,{hasCloseButton:!0,duration:5})},[_,r?.message,r?.type,h]),i.useEffect(()=>{const M=l.get(rt)==="true";o!==M&&ns.setIsTemporaryChatEnabled(M)},[o,l]),i.useEffect(()=>{c.state?.focusObject&&W.setFocusedObject(c.state.focusObject)},[c.state?.focusObject]),i.useEffect(()=>{!k&&f&&y&&(C(),it(y))},[f,k,C,y]);const T=N?pa:Xt;return s.jsx(rs.Provider,{value:null,children:s.jsx(ct,{children:s.jsxs(lt,{clientThreadId:d,children:[s.jsx(Qt,{},O),s.jsx(aa,{}),s.jsx(dt,{}),s.jsx(T,{urlThreadId:t,clientThreadId:d,setClientThreadId:x,prefetchSearch:n}),s.jsx(ta,{clientThreadId:d}),s.jsx(Sa,{clientThreadId:d}),s.jsx(ut,{clientThreadId:d}),s.jsx(ba,{}),!1,s.jsx(ht,{}),s.jsx(mt,{})]})})})}function ba(){const e=j(t=>t.sharingModalThreadId);return e?s.jsx(Ca,{serverThreadId:e}):null}function Sa({clientThreadId:e}){return Vt()&&s.jsx(Ma,{clientThreadId:e})}function ka(){is({queryKey:["pingEdge"],queryFn:()=>cs.pingEdge(),enabled:!0,staleTime:1/0})}typeof window<"u"&&(window._g=xa.GOKU_SERVICE);export{Ra as C,Jt as F};
//# sourceMappingURL=ke8nollx111ccyk2.js.map
