const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/iki8xg9zvxe0x3up.js","assets/5owd3ee156wpz27v.js","assets/jy1r24jznpivy1dp.js","assets/root-chlr7052.css","assets/i6xi3s7uv52pwxhq.js","assets/conversation-small-kig9eefw.css","assets/lmzf96u3byd7ysa0.js","assets/n9bl8h8dwgedvxgc.js","assets/m40jmshfqkclfeg2.js","assets/gk6m9wtxsqq161m3.js","assets/nymvvi4k8c99doop.js","assets/c1e3a7wd7o4327i5.js","assets/i1wh9kgb3xj7xo01.js","assets/c6yqva1b1l3p3i6e.js","assets/d76uy7jpp8ubqzph.js","assets/nshgx7w2afmw4s9d.js"])))=>i.map(i=>d[i]);
import{af as fe,r as h,l as e,aT as ge,aV as pe,aW as he,aY as xe,m as b,Q as _,P as u,be as U,a0 as i,bJ as be,a1 as F,a2 as J,W,u as ve,j as X,ac as T,d as I,fn as je,aE as ye,aF as Se,aL as Me,bU as Ce,aO as L,b_ as ke,bh as Z,bH as ee,er as Ne,b0 as we,bD as Te,cq as Ie,fo as _e,b5 as te,N as Pe,O as Ae,ef as Ue,bY as Fe,aB as Le,a3 as K}from"./5owd3ee156wpz27v.js";import{aJ as D,V as x,y as Be,w as ae,v as $,x as se,gV as A,gW as Ee,gX as Oe,gY as Y,aA as H,A as Re,u as ne,gZ as We,cf as Q,c4 as De,ag as $e,g_ as He,b_ as ze,bQ as Ge}from"./i6xi3s7uv52pwxhq.js";import{B as qe,D as O}from"./gk6m9wtxsqq161m3.js";import{a$ as Ve,a as Ke,bn as ie,bo as Ye,V as Qe,bp as Je,b0 as Xe,aB as Ze}from"./jy1r24jznpivy1dp.js";import{h as et,N as re,U as z,c as tt}from"./iki8xg9zvxe0x3up.js";import{m as G}from"./m40jmshfqkclfeg2.js";import{E as at}from"./m23xkkwvkuf4o44o.js";function Tt({onClick:t,className:s,...a}){return e.jsx(et,{onClick:t,className:b(s,"flex-grow overflow-hidden"),...a})}function It({onNewChatButtonClick:t}){const{isUnauthenticated:s,isLoading:a}=_();return a||!s?null:e.jsx(re,{className:"mr-3",onClick:()=>{u.logNewChatButtonClicked({location:"Mobile header"}),t()}})}function _t({onNewChatButtonClick:t}){const{isUnauthenticated:s,isLoading:a}=_(),n=ae();return a?null:s?n?e.jsx(nt,{}):e.jsx(st,{}):e.jsx(re,{onClick:()=>{u.logNewChatButtonClicked({location:"Mobile header"}),t()}})}function st(){const t=$(),s=se(oe.signUpButtonText);return e.jsx(U,{as:"button",size:"small",color:"primary",onClick:()=>{t({authType:"signup",callback:a=>{u.logSignUpButtonClicked({location:"Mobile Chat Stage Header",provider:a})}})},children:e.jsx(i,{...s})})}function nt(){const t=$();return e.jsx(U,{as:"button",size:"small",color:"primary",onClick:()=>{t({authType:"login",callback:s=>{u.logLogInButtonClicked({location:"Mobile Chat Stage Header",provider:s})}})},"data-testid":"mobile-login-button",children:e.jsx(i,{...be.logInButtonText})})}function it({onClick:t}){return e.jsxs("button",{type:"button",className:"inline-flex rounded-md hover:text-token-text-primary focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white active:opacity-50",onClick:t,"data-testid":"open-sidebar-button",children:[e.jsx("span",{className:"sr-only",children:e.jsx(i,{...oe.openSidebar})}),e.jsx(Ve,{className:"icon-lg mx-2 text-token-text-secondary"})]})}const rt=({onClickOpenSidebar:t,children:s,showNavSidebar:a,leftContent:n,rightContent:l,bottomContent:o})=>{const d=D(m=>m.activeSidebar),r=fe(),c=r.pathname+r.search+r.hash;return h.useEffect(()=>{d==="popover-nav"&&x.setActiveSidebar(!1)},[c]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"draggable sticky top-0 z-10 flex min-h-[60px] items-center justify-center border-transparent bg-token-main-surface-primary pl-0 md:hidden",children:[(a||n)&&e.jsxs("div",{className:"no-draggable absolute bottom-0 left-0 top-0 ml-3 inline-flex items-center justify-center",children:[a&&e.jsx(it,{onClick:t}),n]}),e.jsx("div",{className:"no-draggable",children:s}),l&&e.jsx("div",{className:"no-draggable absolute bottom-0 right-0 top-0 mr-3 inline-flex items-center justify-center",children:l})]}),o&&e.jsx("div",{className:"no-draggable flex w-full items-center justify-center bg-token-main-surface-primary md:hidden",children:o})]})};function ot({isPopoverOnDesktop:t=!1,isExpanded:s=!1,children:a}){const n=Be();return e.jsxs(e.Fragment,{children:[!n||t?e.jsx(ct,{children:a}):null,e.jsx(lt,{isExpanded:!t&&s,children:a})]})}function lt({isExpanded:t,children:s}){const a=h.useRef(null);return e.jsx(G.div,{className:"z-[1] flex-shrink-0 overflow-x-hidden bg-token-sidebar-surface-primary max-md:!w-0",ref:a,initial:!1,animate:{width:t?"260px":0,transition:{type:"spring",bounce:.12,duration:.64}},onAnimationStart:()=>{a.current&&(a.current.style.visibility="visible")},onAnimationComplete:()=>{a.current&&(t||(a.current.style.visibility="hidden"))},children:e.jsx("div",{className:"h-full w-[260px]",children:e.jsx("div",{className:"flex h-full min-h-0 flex-col",children:s})})})}function ct({children:t}){const s=D(a=>a.activeSidebar);return e.jsx(ge,{open:s==="popover-nav",onOpenChange:a=>{a||x.setActiveSidebar(!1)},children:e.jsxs(pe,{children:[e.jsx(he,{className:"fixed inset-0 z-10 bg-gray-50/50 radix-state-open:animate-show dark:bg-black/50"}),e.jsx(xe,{className:"fixed left-0 top-0 z-50 h-full max-w-xs border-r border-gray-200 bg-token-sidebar-surface-primary shadow-[0_0_64px_0_rgba(0,0,0,0.07)] focus:outline-none radix-state-closed:animate-sidebarHide radix-state-open:animate-sidebarShow dark:border-gray-800",children:t})]})})}const oe=F({closeSidebar:{id:"navigation.closeSidebar",defaultMessage:"Close sidebar"},openSidebar:{id:"navigation.openSidebar",defaultMessage:"Open sidebar"},signUpButtonText:{id:"navigation.signUpButtonText",defaultMessage:"Sign up"}});function dt({showFreeTrialLoadingPayment:t,handleGetPaymentLink:s}){const a=W(),n=()=>{t||(A(!0),s())},l=M=>{M.stopPropagation(),Ee(!0),Oe(!0)},{data:o,isLoading:d,isSuccess:r}=ve({queryKey:["claimedReferralInvite"],queryFn:()=>X.getClaimedReferralInvite(),refetchOnMount:!1,refetchOnWindowFocus:!1,refetchInterval:!1,refetchOnReconnect:!1}),c=o?.invite_code,[m,v]=h.useState(!1);if(h.useEffect(()=>{c&&!m&&r&&(v(!0),T.logEvent("chatgpt_referral_show_claimed_sidebar_menu_promo"),u.logEvent(I.chatgptReferralShowClaimedSidebartMenuPromo))},[c,v,m,r]),!c||d||!r)return null;const f=c.invite_metadata.invite_data,j=f?.referral_trial_duration_months?f?.referral_trial_duration_months>1?a.formatMessage(R.monthsOfBenefit,{referralTrialDurationMonths:f?.referral_trial_duration_months}):a.formatMessage(R.daysOfBenefit,{referralTrialDurationDays:f?.referral_trial_duration_days}):null;return e.jsx(G.div,{className:b("relative",{"cursor-progress opacity-50":t}),layout:"position",initial:{y:-10,opacity:1},animate:{y:0,opacity:1,transition:{duration:.1,ease:"easeIn"}},children:e.jsxs(ut,{className:b(t&&"opacity-75"),onClick:n,children:[e.jsxs("div",{className:"flex w-full flex-row items-center justify-start gap-3",children:[e.jsx(je,{className:"icon-sm shrink-0"}),e.jsx(i,{...R.freeTrialCta,values:{duration:j}})]}),!t&&e.jsx(Ke,{onClick:l,className:"icon-md shrink-0 rounded-full p-0.5 text-token-text-tertiary opacity-50 transition-colors duration-200 hover:bg-[#0077FF] hover:text-red-500 group-hover:opacity-100"}),e.jsx("span",{className:"absolute top-11 h-0 w-0 border-l-8 border-r-8 border-t-8 border-l-transparent border-r-transparent border-t-[#0077FF] transition-colors duration-200 group-hover:border-t-[#0077FF]"})]})})}const ut=J.a`group relative mb-1 rounded-md hover:[#0077FF] bg-[#0077FF] flex px-3 min-h-[44px] py-1 items-center gap-3 transition-colors duration-200 dark:text-white cursor-pointer text-sm`,R=F({freeTrialCta:{id:"PaymentMenuItems.freeTrialCta",defaultMessage:"Get {duration}!"},monthsOfBenefit:{id:"FreeTrialMenuItem.monthsOfBenefit",defaultMessage:"{referralTrialDurationMonths, plural, one {one month free} other {# months free}}"},daysOfBenefit:{id:"FreeTrialMenuItem.daysOfBenefit",defaultMessage:"{referralTrialDurationDays, plural, one {one day free} other {# days free}}"}}),le=ye(()=>Se(()=>import("./iki8xg9zvxe0x3up.js").then(t=>t.A),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15])));function mt(){const t=W(),s=Me(),a=Ce(),n=L(),l=!n,o=n?.hasPaidSubscription()??!1,d=n?.hasClaimedFreeTrial()??!1,r=h.useMemo(()=>n?.subscriptionAnalyticsParams,[n]),c=async()=>{A(!0),u.logEvent(I.clickAccountPaymentCheckout,r);try{const y=await X.getCheckoutLink(a);window.location.href=y.url}catch{s.warning(t.formatMessage(p.paymentErrorWarning),{hasCloseButton:!0}),A(!1)}finally{}},m=()=>{f||(A(!0),c())},v=Y(y=>y.didCloseFreeTrial),f=Y(y=>y.showFreeTrialLoadingPayment),j=!v&&d,M=n?.wasPaidCustomer()??!1;let C=n?.isWorkspaceAccount()??!1;const B=n?.hasPaidSubscription()??!1,k=n?.isPlus()??!1,{doesUserHaveAnyAccountsWithPlusFeatures:N}=ke(),{layer:w}=Z("2670443078");let P=k;!C&&!k&&N&&w.get("is_gating_fix_enabled",!1)&&(P=N,C=!0);const E=!l&&!C&&!Te,g=ee(),ue=()=>{u.logEvent(I.clickSidebarAccountPaymentMenuItem,r),Re(g,"Sidebar account payment menu item")},me=Ne("3905879930");var q=n?.canInviteMembers()??!1,V=!1;return q&&(V=me.config.get("enabled",!1)),e.jsxs(e.Fragment,{children:[!o&&j&&e.jsx(dt,{showFreeTrialLoadingPayment:f,handleGetPaymentLink:c}),q?V?e.jsx(gt,{}):e.jsx(ft,{}):null,E&&e.jsx(z,{onClick:j?m:ue,className:"m-0 rounded-lg px-2",children:e.jsx("span",{className:"flex w-full flex-row flex-wrap-reverse justify-between",children:e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(pt,{wasPaidCustomer:M,showFreeTrialLoadingPayment:f,hasPlusSubscription:P,hasPaidSubscription:B})})})})]})}const ft=()=>{const t=L();return e.jsxs(e.Fragment,{children:[e.jsx(z,{onClick:()=>{x.openModal(H.InviteUsersToWorkspace),u.logEvent(I.accountMemberInviteButton,{location:"payment-menu-click"}),T.logEvent("chatgpt_invite_users_to_workspace",0,{action:"OpenAdminInviteModal",location:"payment-menu-click",text:"AddMembers",step:"OpenModal"})},className:"rounded-lg",children:e.jsx("span",{className:"flex w-full flex-row flex-wrap-reverse justify-between",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"flex h-7 w-7 items-center justify-center rounded-full border border-token-border-light",children:e.jsx(ie,{className:"icon-sm shrink-0"})}),e.jsx(i,{...p.inviteMembers})]})})}),t!=null?e.jsx(le,{workspace:t}):null]})},gt=()=>{const t=L();return e.jsxs(e.Fragment,{children:[e.jsx(z,{onClick:()=>{x.openModal(H.InviteUsersToWorkspace),u.logEvent(I.accountMemberInviteButton,{location:"payment-menu-click"}),T.logEvent("chatgpt_invite_users_to_workspace",0,{action:"OpenAdminInviteModal",location:"payment-menu-click",text:"AddTeammatesWithInfo",step:"OpenModal"})},className:"m-0 rounded-lg px-2",children:e.jsx("span",{className:"flex w-full flex-row flex-wrap-reverse justify-between",children:e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"flex h-7 w-7 items-center justify-center rounded-full border border-token-border-light",children:e.jsx(ie,{className:"icon-sm shrink-0"})}),e.jsx("div",{className:"flex flex-col",children:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:e.jsx(i,{...p.addTeammates})}),e.jsx("span",{className:"line-clamp-1 text-xs text-token-text-tertiary",children:e.jsx(i,{...p.addTeammatesUpsell})})]})})]})})})}),t!=null?e.jsx(le,{workspace:t}):null]})},pt=({wasPaidCustomer:t,showFreeTrialLoadingPayment:s,hasPlusSubscription:a,hasPaidSubscription:n})=>s?e.jsx(we,{className:"icon-sm shrink-0"}):n&&!a?null:e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"flex h-7 w-7 items-center justify-center rounded-full border border-token-border-light",children:e.jsx(Ye,{className:"icon-sm shrink-0"})}),e.jsx("div",{className:"flex flex-col",children:t?e.jsx(i,{...p.renewPlus}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:a?e.jsx(i,{...p.createATeamWorkspace}):!n&&e.jsx(i,{...p.upgradePlan})}),e.jsx("span",{className:"line-clamp-1 text-xs text-token-text-tertiary",children:a?e.jsx(i,{...p.upgradeToTeamUpsell}):!n&&e.jsx(i,{...p.upgradeToPlusUpsell})})]})})]}),p=F({upgradePlan:{id:"PaymentMenuItems.upgradePlan",defaultMessage:"Upgrade plan"},createATeamWorkspace:{id:"PaymentMenuItems.createATeamWorkspace",defaultMessage:"Add Team workspace"},upgradeToTeamUpsell:{id:"PaymentMenuItems.upgradeToTeamUpsell",defaultMessage:"Collaborate on a Team plan"},upgradeToPlusUpsell:{id:"PaymentMenuItems.upgradeToPlusUpsell.0",defaultMessage:"More access to the best models"},renewPlus:{id:"PaymentMenuItems.renewPlus",defaultMessage:"Renew Plus"},inviteReferral:{id:"PaymentMenuItems.inviteReferral",defaultMessage:"Refer a friend"},addTeammates:{id:"PaymentMenuItems.addTeammates.0",defaultMessage:"Add teammates"},addTeammatesUpsell:{id:"PaymentMenuItems.addTeammatesUpsell.0",defaultMessage:"Invite coworkers to ChatGPT"},inviteMembers:{id:"PaymentMenuItems.inviteMembers.0",defaultMessage:"Invite members"},paymentErrorWarning:{id:"PaymentMenuItems.paymentErrorWarning",defaultMessage:"The payments page encountered an error. Please try again. If the problem continues, please visit help.openai.com."}});function Pt({navHeader:t,children:s,className:a}){const n=W(),l=h.useRef(null),o=Ie(),{isUnauthenticated:d}=_(),{layer:r}=Z("1578749296"),c=r.get("is_sticky_toggle_off",!1);return h.useEffect(()=>{c&&x.openSidebar()},[c]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"draggable relative h-full w-full flex-1 items-start border-white/20",children:[e.jsx(_e,{asChild:!0,children:e.jsx("h2",{children:e.jsx(i,{...S.chatHistoryLabel})})}),e.jsxs("nav",{className:b("flex h-full w-full flex-col px-3",a),"aria-label":n.formatMessage(S.chatHistoryLabel),children:[t,e.jsx(xt,{ref:l,$disableScroll:o&&!d,children:s}),e.jsx(te,{children:e.jsx(ht,{})})]})]})})}function ht(){const[t]=h.useState(()=>{const o=Pe.getCookie(Ae.Workspace);return typeof o=="string"&&o!==Ue}),s=L(),a=s?.data==null,{isUnauthenticated:n}=_(),{openSettings:l}=ne();return t&&a||!s?null:n?e.jsx(ce,{}):e.jsxs("div",{className:b("flex flex-col py-2 empty:hidden dark:border-white/20"),children:[e.jsx(We,{}),e.jsx(mt,{}),e.jsx("div",{className:"flex w-full items-center md:hidden",children:e.jsx("div",{className:"max-w-[100%] grow",children:e.jsx(tt,{onClickSettings:()=>l()})})})]})}const ce=()=>{const t=ae(),s=$(),a=se(S.unauthSignupCta),n=()=>{s({authType:"login",callback:r=>{u.logLogInButtonClicked({location:"Sidebar bottom unit",provider:r}),T.logEvent("chatgpt_sidebar_login_button_clicked")}})},l=()=>{s({authType:"signup",callback:r=>{u.logSignUpButtonClicked({location:"Sidebar bottom unit",provider:r}),T.logEvent("chatgpt_sidebar_signup_button_clicked")}})},o=e.jsx(U,{as:"button",size:"medium",color:t?"secondary":"primary","data-testid":"signup-button",onClick:l,children:e.jsx(i,{...a})}),d=e.jsx(U,{as:"button",size:"medium",color:t?"primary":"secondary","data-testid":"login-button",onClick:n,children:e.jsx(i,{...S.unauthLoginCta})});return e.jsxs("div",{className:"p-2",children:[e.jsxs("div",{className:"mb-4 mt-2",children:[e.jsx("p",{className:"mb-1 text-sm font-semibold text-token-text-primary",children:e.jsx(i,{...t?S.logInOrSignUp:S.signUpOrLogIn})}),e.jsx("p",{className:"text-sm text-token-text-secondary",children:e.jsx(i,{id:"4qlPtW",defaultMessage:"Get smarter responses, upload files and images, and more."})})]}),e.jsx("div",{className:"flex flex-row items-start gap-2",children:t?[d,o]:[o,d]})]})},xt=J.div`flex-col flex-1 transition-opacity duration-500 relative -mr-2 pr-2
  ${({$disableScroll:t})=>t?"overflow-y-hidden opacity-20 pointer-events-none":"overflow-y-auto"}`,S=F({chatHistoryLabel:{id:"NavigationContent.chatHistoryLabel",defaultMessage:"Chat history"},closeSidebar:{id:"NavigationContent.closeSidebar",defaultMessage:"Close sidebar"},signInToChat:{id:"NavigationContent.signInToChat",defaultMessage:"Sign in to ChatGPT"},signUpOrLogIn:{id:"NavigationContent.signUpOrLogIn",defaultMessage:"Sign up or log in"},logInOrSignUp:{id:"NavigationContent.logInOrSignUp",defaultMessage:"Log in or sign up"},unauthSignupCta:{id:"NavigationContent.unauthSignupCta",defaultMessage:"Sign up"},unauthLoginCta:{id:"NavigationContent.unauthLoginCta",defaultMessage:"Log in"}}),bt=()=>{const{openSettings:t}=ne(),s=Fe("3376455464")?.value,a=ee();return e.jsxs("div",{className:"flex h-full flex-col gap-2 p-3",children:[e.jsx(Q,{icon:Qe,onClick:()=>{De(a),x.closeActiveSidebar()},children:e.jsx(i,{id:"0FupYP",defaultMessage:"New chat"})}),e.jsx("div",{className:"flex grow items-center justify-center",children:e.jsx(ce,{})}),e.jsxs(qe,{contentClassName:"w-[298px]",triggerButton:e.jsx(Q,{icon:Je,children:e.jsx(i,{id:"y4Lkp7",defaultMessage:"Settings and more"})}),children:[e.jsx(O.Item,{onClick:()=>t(),icon:Xe,children:e.jsx(i,{id:"HrRLkZ",defaultMessage:"Settings"})}),s&&e.jsx(O.Item,{icon:Ze,onClick:()=>{x.openModal(H.ReportConversation)},children:e.jsx(i,{id:"thread.report.0",defaultMessage:"Report illegal content"})}),e.jsx(O.Separator,{}),e.jsx(at,{})]})]})};function vt({isExpanded:t,children:s}){const a=h.useRef(null);return e.jsx($e,{children:e.jsx(G.div,{className:"z-[1] flex-shrink-0 overflow-x-hidden bg-token-sidebar-surface-primary max-md:!w-0",ref:a,initial:!1,animate:{width:t?"400px":0,transition:{type:"spring",bounce:.12,duration:.3}},onAnimationStart:()=>{a.current&&(a.current.style.visibility="visible")},onAnimationComplete:()=>{a.current&&(t||(a.current.style.visibility="hidden"))},children:e.jsx("div",{className:b("absolute h-full w-[400px]",!t&&"pointer-events-none"),children:e.jsx("div",{className:"flex h-full flex-col",children:s})})})})}function de({children:t,hideNavigation:s=!1,mobileHeaderContent:a,mobileHeaderLeftContent:n,mobileHeaderRightContent:l,mobileHeaderBottomContent:o,sidebar:d,threadFlyout:r,forceOpenDesktopSidebar:c=!1}){const{isUnauthenticated:m}=_(),[v,f]=D(g=>[g.activeStageSidebar,g.activeSidebar]),j=He(),{isOpen:M}=ze(),C=Ge(),{value:B}=Le("218782548"),k=[];let N=null;K.Children.forEach(t,g=>{K.isValidElement(g)&&(g.type===de.Sidebars?N=g:k.push(g))});const w=!m&&!s&&d!=null,P=!s&&(w||m),E=M&&j&&B;return e.jsxs("div",{className:b("relative flex h-full w-full overflow-hidden transition-colors",f!=="popover-nav"&&"z-0"),children:[w&&e.jsx(ot,{isExpanded:c||!C,isPopoverOnDesktop:v,children:m?e.jsx(bt,{}):d}),e.jsxs("div",{className:"relative flex h-full max-w-full flex-1 flex-col overflow-hidden",children:[P&&e.jsx(rt,{onClickOpenSidebar:()=>x.togglePopoverNavSidebar(),showNavSidebar:w,leftContent:n,rightContent:l,bottomContent:o,children:a}),e.jsx("main",{className:"relative h-full w-full flex-1 overflow-auto transition-width",children:k})]}),e.jsx(te,{children:e.jsx(vt,{isExpanded:E,children:r})}),N]})}function jt({children:t}){return e.jsx(e.Fragment,{children:t})}de.Sidebars=jt;export{Pt as N,de as S,ce as U,Tt as a,It as b,_t as c};
//# sourceMappingURL=fi1yhhsf4te91vvi.js.map
