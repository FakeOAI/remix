import{dY as c,dZ as p,r as i,aQ as l,d_ as d,ba as h,j as u,bQ as b}from"./ez11474bqjo66p5i.js";import{T as E}from"./clpw4epg4cg2d8f6.js";import{n as f}from"./jhnf4bie2nzsnq4v.js";import{l as v}from"./k1bk4p15rnnsrf5e.js";import"./k83stg9qxgxqphbx.js";import"./fvshcr5rh004dfkt.js";import"./cfb41k6efc3hcj52.js";import"./chwe6p9vcuwpfmgb.js";import"./93mewq25d542i6ru.js";import"./ex63ej6mhmullknu.js";import"./ekriqai908zppcta.js";import"./cm2trz63rske0xta.js";import"./ex6xouuwhxt5o2we.js";import"./fk97hmtvzg96eice.js";import"./oar5stbi88jbvaxi.js";import"./d1ghvv4hur3kpsbk.js";import"./htvuy2i3y3wcvw0q.js";import"./lioi74zf3mt1oe3n.js";import"./ujoe4hp4dt0hl3e3.js";import"./onyz9bw0a5ukoplo.js";import"./olh1s5q2rvpf5l9h.js";import"./dvest74fzdhb46gg.js";import"./nakiygcpf16jo52w.js";import"./domdjw1365r58n4a.js";import"./lg18dgo0atbqak4e.js";import"./b9v5nu8kwp62ny4d.js";import"./o849e7cib8jur35a.js";import"./kbqnoeh2fi37q6px.js";import"./cv47924y1gm82u8g.js";import"./bvaru62g35nd7y25.js";import"./kpcft84j7ll35bl4.js";import"./kkusiaxgbaotuwfi.js";import"./eh7mbu7pytz74mg3.js";import"./h8jmpdaz1bs44tiy.js";let s=!1;function rt(){var e;(e=c)==null||e.registerObserver(p)}function ot(){const[e,a]=i.useState(null),{value:m}=l("3653083604");return i.useEffect(()=>{if(!m||s||typeof window>"u")return;const t=window.open("about:blank",d);if(!t)throw new Error("ChatBar: window.open() did not create a window");t.document.documentElement.setAttribute("dir","ltr"),s=!0,document.head.querySelectorAll("link, style").forEach(r=>{t.document.head.appendChild(r.cloneNode(!0))}),new MutationObserver(r=>{r.forEach(o=>{o.type==="childList"&&o.addedNodes.forEach(n=>{(n instanceof HTMLLinkElement||n instanceof HTMLStyleElement)&&t.document.head.appendChild(n.cloneNode(!0))})})}).observe(document.head,{childList:!0}),t.document.documentElement.setAttribute("style",document.documentElement.getAttribute("style")??""),t.document.documentElement.setAttribute("class",document.documentElement.getAttribute("class")??""),new MutationObserver(r=>{r.forEach(o=>{o.type==="attributes"&&o.attributeName!=null&&t.document.documentElement.setAttribute(o.attributeName,document.documentElement.getAttribute(o.attributeName)??"")})}).observe(document.documentElement,{attributes:!0}),a(t.document.body.appendChild(t.document.createElement("div"))),t.addEventListener("unload",r=>{t.close()}),t.addEventListener("focus",()=>{var r;(r=t.document.getElementById("prompt-textarea"))==null||r.focus()})},[m]),e&&h.createPortal(u.jsx(w,{}),e,d)}function w(){const[e,a]=i.useState(()=>v());return f(e,{kind:b.PrimaryAssistant}),u.jsx(E,{clientThreadId:e,hideHeader:!0,hideFooter:!0,renderEmptyState:!1},e)}export{ot as DesktopChatBar,rt as initDesktop};
//# sourceMappingURL=makwd6wpm9c7rsht.js.map
