const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/lhec2nu5y0xl8omx.js","assets/ez11474bqjo66p5i.js","assets/k83stg9qxgxqphbx.js","assets/root-iasegnfe.css","assets/fvshcr5rh004dfkt.js","assets/cfb41k6efc3hcj52.js","assets/conversation-small-eplmind9.css","assets/k1bk4p15rnnsrf5e.js","assets/ex63ej6mhmullknu.js","assets/ktyeqisxi141wisd.js","assets/chwe6p9vcuwpfmgb.js","assets/sso-b2akzs8aciezgo7r.js","assets/kn1obeg2hnh64rct.js","assets/kpcft84j7ll35bl4.js","assets/b516qx4e6wu84jnx.js","assets/fddtsh7r650zly9q.js","assets/f3epbt0htt1tphg7.js","assets/j9hhe2lpiqqddnn8.js","assets/kbqnoeh2fi37q6px.js","assets/khmsu543ybbiqo0b.js","assets/oar5stbi88jbvaxi.js","assets/ih52932v2aj1rcgp.js","assets/jhate3y4d8nqr3l4.js","assets/eh7mbu7pytz74mg3.js","assets/ls63vuf35rqt40hm.js","assets/kqwdyvkaaavvn8k3.js","assets/mttoi88dwp487hix.js","assets/olh1s5q2rvpf5l9h.js","assets/logzsiyaju81t1k4.js","assets/glpd8az4mgh1uvar.js","assets/oi0a9sw6315dzjki.js","assets/nj3xsq0v8riqsj4g.js","assets/dzz6cx6nxbx3077d.js","assets/fk97hmtvzg96eice.js","assets/lioi74zf3mt1oe3n.js","assets/h8jmpdaz1bs44tiy.js","assets/gnlp1viz76dxtxuc.js","assets/d1ghvv4hur3kpsbk.js","assets/htvuy2i3y3wcvw0q.js","assets/bacupoh71hv73vqk.js","assets/cv47924y1gm82u8g.js","assets/ujoe4hp4dt0hl3e3.js","assets/bvaru62g35nd7y25.js","assets/ity9qw9vge910pqo.js","assets/domdjw1365r58n4a.js","assets/h5vk0qb717grqg9h.js","assets/nhwwej1nq0zrd7sc.js","assets/bm9vuehtdeyl8zp9.js","assets/ekriqai908zppcta.js","assets/cm2trz63rske0xta.js","assets/ex6xouuwhxt5o2we.js","assets/93mewq25d542i6ru.js","assets/jhnf4bie2nzsnq4v.js","assets/onyz9bw0a5ukoplo.js","assets/dvest74fzdhb46gg.js","assets/daot3hgv93sddd1o.js","assets/isjdmfmhzv09v01t.js","assets/gpm529758t28jxxq.js","assets/eepnao0v4yiiwdi0.js","assets/fx8q6cbpmcvdz68b.js","assets/m283bmkdf0tdtvte.js","assets/c5dyakq7dtq56c7r.js","assets/j1ouiyggdmqbex9n.js","assets/dvqd8xfu6s11gzfq.js","assets/min4sqrjh35pfstp.js","assets/c09n4s3ehkxlg3hm.js","assets/gsd7cj7e2kc27i8o.js","assets/iej0cupg2dqkmejt.js","assets/jkdcq49537zl9a5b.js","assets/jk8w36bsokizpx57.js","assets/b9v5nu8kwp62ny4d.js","assets/kkusiaxgbaotuwfi.js","assets/e2dgzhiasz11gccg.js","assets/dw5k18ul8cmt99oa.js","assets/hnrgzmxhzc47q6g5.js","assets/owrs7petc400glup.js","assets/f9ho0zwxp2a6s36s.js","assets/l3xl9ng95q690c1k.js","assets/jxvgntqf6a4gi5gd.js","assets/chk4xmeghtjngal8.js","assets/elf3kdtznv5vrfyd.js","assets/dnsu18zcunipx1vf.js","assets/obstmx0y5qay653b.js","assets/shared-mk6ngktc.css","assets/sso-jmjhjxeo.css"])))=>i.map(i=>d[i]);
import{j as t,cn as Me,c as k,aC as te,bt as Se,K as Q,as as we,f4 as be,r as U,eZ as ye,f5 as je,cm as se,c2 as ne,O as ve,f6 as Ce,H as Y,B as oe,P,A as W,ak as ae,aD as re,e4 as Ne,ax as _e,w as Ee,cs as Te,e_ as Ae,f7 as $,N as Ie,C as Le,z as ke,aT as De}from"./ez11474bqjo66p5i.js";import{b as Pe}from"./ujoe4hp4dt0hl3e3.js";import{ag as Be,aI as Oe,at as Ue,a4 as Re,bp as He,U as ze,bq as Ge,b as Fe}from"./k83stg9qxgxqphbx.js";import{af as We,n as qe,eq as Qe,er as Ye,es as Ke,et as Xe,aw as Ve,eu as Je,ev as Ze,bi as $e,a6 as et,ew as tt,bJ as z,R as st,ex as nt,ey as G,ez as ot}from"./cfb41k6efc3hcj52.js";import{w as at,b as rt,x as le,y as lt,c as ie,z as ce,A as it}from"./fvshcr5rh004dfkt.js";import{f as de,T as ct,e as dt}from"./k1bk4p15rnnsrf5e.js";import{D as M,B as ut}from"./oar5stbi88jbvaxi.js";import{B as mt}from"./kbqnoeh2fi37q6px.js";const pt=({categoryId:e,type:n,className:s})=>{const{data:o,isLoading:l}=at(),r=t.jsx("div",{className:s});if(l)return r;const{iconFilledSrc:a,iconOutlineSrc:i}=(o==null?void 0:o[e])??{},d=(n==="filled"?a:i)??"";return t.jsx(Me,{name:"ModelCategoryIcon",fallback:r,children:t.jsx("div",{className:k("[&_svg]:h-full [&_svg]:w-full",s),dangerouslySetInnerHTML:{__html:d}})})};function ht({currentModel:e,categoryOptions:n,className:s,modelSwitcherDenialsBySlug:o}){const l=e==null?void 0:e.id;return t.jsx(M.Portal,{children:t.jsx(M.SubContent,{className:s,children:n.map(r=>{const{value:a}=r;return"options"in r?t.jsx(B,{currentModel:e,isSelected:l.startsWith(a),option:r,modelSwitcherDenialsBySlug:o},a):t.jsx(O,{isSelected:l===a,value:a,renderName:()=>r.name,modelSwitcherDenialsBySlug:o,showNewChatHint:!1},a)})})})}function B({currentModel:e,option:n,isSelected:s=!1,modelSwitcherDenialsBySlug:o}){const{name:l,options:r,categoryId:a}=n,i=`${l} Models`,d=()=>t.jsx("div",{className:"flex shrink-0 grow justify-between gap-2",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Ue,{className:"icon-md w-7 text-token-text-secondary"}),i]})});return t.jsxs(M.Sub,{children:[t.jsx(M.SubMenuTrigger,{children:t.jsxs("div",{className:"flex grow justify-between gap-2 overflow-hidden",children:[a?d():l,s&&t.jsx("div",{className:"truncate text-token-text-tertiary",children:e.title})]})}),t.jsx(ht,{currentModel:e,categoryOptions:r,modelSwitcherDenialsBySlug:o})]})}function O({value:e,renderName:n,isSelected:s,showNewChatHint:o=!0,onClick:l,modelSwitcherDenialsBySlug:r,isUpgradeUpsell:a=!1}){var m,h;const i=rt(),d=We(),c=e?(h=(m=r[e])==null?void 0:m.conversation)==null?void 0:h[0]:null,{layer:w}=te("1846737571"),p=t.jsx(M.Item,{onClick:()=>{if(l)l();else if(e){const f=e;i({modelId:f,location:"Model switcher menu item"}),d(f)}},className:k("!pr-3",s&&"!opacity-100",c&&"pointer-events-none text-token-text-quaternary"),children:t.jsxs("div",{className:"flex grow items-center justify-between gap-2",children:[t.jsx("div",{children:n(c!=null)}),a&&t.jsx(Se,{color:"secondary",size:"small",className:w.get("is_upgrade_button_blue",!1)?"border-none bg-blue-600 text-white hover:bg-blue-800":"",children:t.jsx(Q,{id:"oKo8wt",defaultMessage:"Upgrade"})}),a?t.jsx(t.Fragment,{children:s&&t.jsx(Oe,{className:k("icon-md group-hover:invisible",!o&&"block group-hover:hidden")})}):s&&t.jsx(Be,{className:"icon-md"})]})},e);return c?t.jsx(qe,{isLeftArrow:!0,sideOffset:-10,label:t.jsx(Qe,{modelSwitcherDeny:c}),children:p}):p}var gt=(e=>(e.BROWSING="browsing_model",e.CODE_INTERPRETER="code_interpreter_model",e.DALLE="dalle_model",e))(gt||{}),N=(e=>(e.ALPHA="alpha",e.EXPERIMENTS="experiments",e.MAINLINE="mainline",e))(N||{});const F={browsing_model:{name:t.jsxs("span",{children:["Browse with ",t.jsx(je,{className:"icon-sm mt-[-3px] inline-block"})," Bing"]})},code_interpreter_model:{name:"Advanced Data Analysis"},dalle_model:{name:"DALL路E 3"}};function Rt(e){const n=ft(e??void 0);return Ye(["alpha","experiments","mainline"],n)?"bg-orange-500 text-white":"bg-token-main-surface-primary text-token-text-primary"}function ft(e){const n=ue();for(const s of n)if(s.options.length>0&&s.options.find(l=>l.value===e))return s.categoryId;return null}function Ht(e,n){const{data:s}=le();return(s==null?void 0:s.categories.some(l=>l[n]===e))??!1}const xt=e=>Ve(e,({id:n})=>n.split(":").slice(0,1).join(":"));function ue(){const{data:e}=le(),n=Ke(),s=we(),o=be(s==null?void 0:s.getWorkspaceId()),l=(s==null?void 0:s.isEnterprise())??!1,{modelSwitcherDisclaimer:r}=Xe(),a=lt();return U.useMemo(()=>{const i=[];if(!e)return i;const{categories:d,groups:c,modelsMap:w}=e;for(const p of d){const{defaultModel:m,categoryId:h,label:f}=p;if(a.has(m)){const S=n===m,g=e.modelsMap[m],x=S?[]:Mt(o.data,p,a,e.modelsMap,l);i.push({categoryId:h,value:m,name:f,description:S?r:g.description,options:[T(g,{name:"Default"}),...x]})}}for(const p of c){const{group:m,label:h,modelIds:f}=p,S=f[0],g=f.map(x=>w[x]).filter(({tags:x})=>!x.includes(ye.HIDDEN));if(m==="experiments"){const x=xt(g),j=Object.entries(x).map(([b,v])=>{const A=b.split(":").slice(-1)[0];return{key:b,value:A,name:A,options:v.map(D=>{const{title:R}=D;return T({...D,title:R.replace(A,"")})})}});i.push({categoryId:m,value:S,name:h,options:j})}else i.push({categoryId:m,value:S,name:h,options:g.map(x=>T(x))})}return i},[e,a,n,o.data,l,r])}function T(e,n={}){return{value:e.id,name:e.title,...n}}function Mt(e,n,s,o,l){const r=[],a=e==null?void 0:e.browsing;if((l&&a||!l)&&n.browsing_model!=null&&s.has(n.browsing_model)){const d=F.browsing_model;r.push(T(o[n.browsing_model],{name:d.name}))}if(n.code_interpreter_model!=null&&s.has(n.code_interpreter_model)){const d=F.code_interpreter_model;r.push(T(o[n.code_interpreter_model],{name:d.name}))}if(n.dalle_model!=null&&s.has(n.dalle_model)){const d=F.dalle_model;r.push(T(o[n.dalle_model],{name:d.name}))}return r}const St=se(()=>ne(()=>import("./lhec2nu5y0xl8omx.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10])).then(e=>e.ThreadHeaderGizmoDropdown)),wt=se(()=>ne(()=>import("./sso-b2akzs8aciezgo7r.js").then(e=>e.f),__vite__mapDeps([11,1,2,3,12,5,6,13,14,15,16,17,18,19,20,21,8,7,22,23,24,25,26,27,4,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84])).then(e=>e.default)),ee=ve.button`group flex cursor-pointer items-center gap-1 rounded-lg py-1.5 px-3 text-lg font-semibold hover:bg-token-main-surface-secondary radix-state-open:bg-token-main-surface-secondary text-token-text-secondary overflow-hidden whitespace-nowrap`;function bt({clientThreadId:e}){const n=Y(),s=Te(),o=dt(e),[,l]=Ae(),r=()=>{l(a=>(a.get(G)==="true"?a.delete(G):a.set(G,"true"),a),{replace:o,state:ot()})};return t.jsx(M.Item,{size:"large",className:"!pr-3",onClick:r,icon:ze,children:t.jsxs("div",{className:"flex grow items-center justify-between gap-2",children:[t.jsx("div",{className:"flex flex-1 items-center gap-3",children:t.jsx(Q,{..._t.temporaryChat})}),t.jsx(st,{enabled:s,label:n.formatMessage({defaultMessage:"Temporary",id:"temporaryChatToggleLabel"})})]})})}function me(e,n,s){let o=e;if(e===$.AUTO){const a=n.filter(({defaultModel:i})=>i!==$.AUTO);a.length===1&&(o=a[0].defaultModel)}const l=n.find(({defaultModel:a})=>a===o);if(l){const{categoryId:a,shortLabel:i}=l;return{selectedCategory:a,modelLabel:i}}const r=s.find(({modelIds:a})=>a.includes(o));if(r){const{group:a,shortLabel:i}=r;return{selectedCategory:a,modelLabel:i}}return{selectedCategory:null,modelLabel:null}}function yt({modelLabel:e}){return t.jsx("span",{className:"text-token-text-secondary",children:e})}function jt({clientThreadId:e,inMobileHeader:n}){const{isLoading:s,categories:o,groups:l}=ie(),r=Ce(),i=ce(e).id,d=ue(),{modelLabel:c}=me(i,o,l),w=Ct(e,d),p=Y(),{isUnauthenticated:m}=oe(),h=pe(),f=(!m||!h)&&!r;U.useEffect(()=>{var g;s||(g=Je({namespace:Ze.ChatPageLoad}))==null||g.logTiming("render_model_switcher")},[s]);const S=t.jsxs("div",{className:"text-token-text-secondary",children:[nt," ",f?t.jsx("span",{className:"text-token-text-secondary",children:c}):m&&c?t.jsx(yt,{modelLabel:c}):null]});return w.length?s?null:t.jsx(ut,{sideOffset:8,size:"large",triggerButton:t.jsxs(ee,{"aria-label":c?p.formatMessage({id:"JrtGPQ",defaultMessage:"Model selector, current model is {modelLabel}"},{modelLabel:c}):"",children:[S,t.jsx(Re,{className:"icon-md text-token-text-tertiary"})]}),onOpenChange:g=>{P.logEvent(W.toggleModelSwitcher,{isOpen:g}),ae.logEvent("toggle_model_switcher",null,{isOpen:String(g)})},contentAlign:n?"center":"start",children:t.jsx(Nt,{sections:w})}):t.jsx(ee,{className:"cursor-default",children:S})}function pe(){return re("462735957").value}function vt({category:e,modelSwitcherDenialsBySlug:n,currentGizmoId:s,currentModelId:o,omitIcon:l}){const{defaultModel:r,label:a,categoryId:i,description:d}=e;return t.jsx(O,{value:r,modelSwitcherDenialsBySlug:n,renderName:c=>t.jsx(q,{categoryId:i,name:a,description:d,isDisabled:c,omitIcon:l}),isSelected:!s&&o===r},r)}function Ct(e,n){var X,V,J;const s=ce(e),o=s.id,l=de(e),{categories:r,groups:a}=ie(),{doesUserHaveAnyAccountsWithPlusFeatures:i}=Ne(),d=ct.getServerThreadId(e),c=it({clientThreadId:e}),w=Pe(),p=Y(),m=!d,{isUnauthenticated:h}=oe(),f=$e(),{layer:S}=te("2723963139"),g=S.get("is_dynamic_model_enabled",!1),x=pe(),j=n.find(({categoryId:u})=>u===N.ALPHA),b=n.find(({categoryId:u})=>u===N.EXPERIMENTS),v=n.find(({categoryId:u})=>u===N.MAINLINE),A=re("566128514").value,D=!!((X=j==null?void 0:j.options)!=null&&X.length),R=!!((V=b==null?void 0:b.options)!=null&&V.length),he=!!((J=v==null?void 0:v.options)!=null&&J.length),K=_e(),ge=U.useCallback(()=>{P.logEvent(W.openModalAccountPaymentfromModelPicker,{content:"gizmo-button"}),et(K,"Thread header dropdown")},[K]),fe=()=>{ae.logEvent("chatgpt_model_switcher_plus_upgrade_button_clicked"),P.logEvent(W.modelSwitcherPlusUpgradeButtonClicked),h?(Le.setCookie(ke.ShowPaymentModal,!0,{maxAge:6*60*60}),f({callback:u=>{P.logSignUpButtonClicked({location:"Model switcher GPT-4 upsell",provider:u})}})):ge()},_=[],xe=t.jsxs("div",{className:"mb-1 flex items-center justify-between px-5 pt-2",children:[t.jsx("span",{className:"text-sm text-token-text-tertiary",children:t.jsx(Q,{id:"ilkdMh",defaultMessage:"Model"})}),t.jsx("a",{href:g?"https://help.openai.com/en/articles/9155758-what-is-the-chatgpt-plus-model-selector":"https://help.openai.com/en/articles/7102672-how-can-i-access-gpt-4",target:"_blank",rel:"noreferrer",children:t.jsx(Fe,{className:"icon-md h-5 w-5 pl-0.5 text-token-text-tertiary"})})]},"header");if(x&&h){const u={id:"modelSection",content:[]};u.content.push(t.jsx(tt,{},"noAuthUpsell")),_.push(u)}else if(i){const u={id:"modelSection",content:[]};r.length&&u.content.push(xe);const y=new Map;r.forEach(C=>{var L;const I=t.jsx(vt,{category:C,currentGizmoId:l,currentModelId:o,modelSwitcherDenialsBySlug:c,omitIcon:A});C.subcategory?(y.has(C.subcategory)||y.set(C.subcategory,[]),(L=y.get(C.subcategory))==null||L.push(I)):u.content.push(I)}),y.forEach((C,I)=>{const L=r.find(Z=>Z.subcategory===I&&Z.defaultModel===s.id);u.content.push(t.jsxs(M.Sub,{children:[t.jsx(M.SubMenuTrigger,{children:t.jsxs("div",{className:"flex grow justify-between gap-2 overflow-hidden",children:[I,!!L&&t.jsx("div",{className:"truncate text-token-text-tertiary",children:L.label})]})}),t.jsx(M.Portal,{children:t.jsx(M.SubContent,{className:"min-w-72",children:C})})]}))}),_.push(u)}else{const u={id:"modelSection",content:[]};u.content.push(t.jsx(O,{value:"",onClick:fe,modelSwitcherDenialsBySlug:c,isUpgradeUpsell:!0,renderName:y=>t.jsx(q,{icon:Ge,isDisabled:y,name:p.formatMessage({id:"mzDzkX",defaultMessage:"ChatGPT Plus"}),description:p.formatMessage({id:"bqTHri",defaultMessage:"Our smartest model & more"}),omitIcon:!1}),isSelected:!1,showNewChatHint:!1},"plusUpgrade")),u.content.push(t.jsx(O,{value:z.AUTO,modelSwitcherDenialsBySlug:c,renderName:y=>t.jsx(q,{icon:He,name:p.formatMessage({id:"U9E7Rx",defaultMessage:"ChatGPT"}),description:p.formatMessage({id:"n96qML",defaultMessage:"Great for everyday tasks"}),isDisabled:y,omitIcon:!1}),isSelected:!l&&o===z.AUTO,showNewChatHint:!0},z.AUTO)),_.push(u)}const E={id:"otherOptionsSection",content:[]},{selectedCategory:H}=me(o,r,a);return m&&(D&&E.content.push(t.jsx(B,{isSelected:H===N.ALPHA,currentModel:s,option:j,modelSwitcherDenialsBySlug:c},j.value)),R&&E.content.push(t.jsx(B,{currentModel:s,isSelected:H===N.EXPERIMENTS,option:b,modelSwitcherDenialsBySlug:c},b.value)),he&&E.content.push(t.jsx(B,{isSelected:H===N.MAINLINE,currentModel:s,option:v,modelSwitcherDenialsBySlug:c},v.value))),w&&E.content.push(t.jsx(wt,{clientThreadId:e},"c")),E.content.length&&_.push(E),h||_.push({id:"temporaryChatSection",content:[t.jsx(bt,{clientThreadId:e},"tempChat")]}),_}function q({isDisabled:e,name:n,icon:s,categoryId:o,description:l,extra:r,omitIcon:a}){return t.jsxs("div",{className:"flex items-center gap-3",children:[!a&&t.jsx("span",{className:"flex h-7 w-7 flex-shrink-0 items-center justify-center rounded-full bg-token-main-surface-secondary",children:s?t.jsx(s,{className:"h-4 w-4 text-token-text-primary"}):o&&t.jsx(pt,{type:"filled",className:k("h-4 w-4",e&&"text-gray-300",!e&&"text-token-text-primary"),categoryId:o})}),t.jsxs("div",{children:[n,t.jsxs("div",{className:k(!e&&"text-token-text-secondary","text-xs"),children:[l,r]})]})]})}function Nt({sections:e}){return t.jsx(t.Fragment,{children:e.map((n,s)=>t.jsxs(Ee.Fragment,{children:[s!==0?t.jsx(M.Separator,{}):null,n.content]},n.id))})}function zt({clientThreadId:e,inMobileHeader:n=!1}){const s=de(e);return s==null?t.jsx(jt,{clientThreadId:e,inMobileHeader:n}):t.jsx(St,{clientThreadId:e,gizmoId:s,inMobileHeader:n})}const _t=Ie({gpt35ShortExplainer:{defaultMessage:"Great for everyday tasks",id:"ModelSwitcher.gpt35ShortExplainer"},modelTunerSmartSelectionTitle:{id:"czjW8I",defaultMessage:"Dynamic"},modelTunerSmartSelectionExplainer:{id:"gp/YH1",defaultMessage:"Optimized for speed and intelligence"},gpt4ShortExplainer:{defaultMessage:"With DALL路E, browsing and analysis",id:"ModelSwitcher.gpt4ShortExplainer"},gpt4ShortExplainerWithoutBrowse:{defaultMessage:"With DALL路E and analysis",id:"ModelSwitcher.gpt4ShortExplainerWithoutBrowse"},gpt4UpsellExplainer:{id:"ModelSwitcher.gpt4Upsell",defaultMessage:"Our smartest and most capable model. Includes DALL路E, browsing and more."},userUpgrade:{id:"ModelSwithcer.upgradeButton",defaultMessage:"Upgrade to Plus"},userUpgradeSignup:{id:"ModelSwitcher.signupUpgradeButton",defaultMessage:"Sign up for ChatGPT Plus"},temporaryChat:{id:"ModelSwitcher.temporaryChat",defaultMessage:"Temporary chat"},shareChat:{id:"ModelSwitcher.shareChat",defaultMessage:"Share chat"}}),Et=60,Gt=({children:e,scrollViewClassName:n,scrollAnchorTopOffset:s=0})=>{const o=U.useRef(null);return t.jsx("div",{className:"h-full",ref:o,children:t.jsx(De,{children:t.jsx(mt,{className:"h-full",followButtonClassName:"hidden",initialScrollBehavior:"auto",scrollViewClassName:n,scroller:()=>Tt(o,s)?0:1/0,children:e})})})},Tt=(e,n)=>{const s=At(e.current);if(s==null)return!1;const o=s>n,l=s<n-Et;return!o&&!l};function At(e){if(!e)return null;const n=e.querySelector('[data-scroll-anchor="true"]');if(!n)return null;const s=n.getBoundingClientRect().top,o=e.getBoundingClientRect().top;return s-o}export{gt as C,ee as G,pt as M,zt as T,Gt as W,Rt as a,Ht as b,ue as u};
//# sourceMappingURL=o849e7cib8jur35a.js.map
