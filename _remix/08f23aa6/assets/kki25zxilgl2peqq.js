import{r as t,j as i}from"./b65sqkpu1lod5t78.js";import"./ots1p6z6znnn3lu2.js";const u="sandbox-ready";t.memo(function(s){const n=t.useRef(null),[e,d]=t.useState(null),o=t.useCallback(a=>{var c;a.source===((c=n==null?void 0:n.current)==null?void 0:c.contentWindow)&&a.data===u&&d(a.ports[0])},[]);return t.useEffect(()=>(window.addEventListener("message",o),()=>window.removeEventListener("message",o)),[o]),t.useEffect(()=>{e&&s.srcDoc!==void 0&&e.postMessage(s.srcDoc)},[e,s.srcDoc]),i.jsx("iframe",{className:s.className,src:"/sandbox",ref:n})});function m(){const[r,s]=t.useState(""),n=t.useCallback(e=>{s(e.data)},[s]);return t.useEffect(()=>{var e;((e=globalThis==null?void 0:globalThis.window)==null?void 0:e.parent)==(globalThis==null?void 0:globalThis.window)&&(location.href="/")},[]),t.useEffect(()=>{const e=new MessageChannel;return window.parent.postMessage(u,"https://chatgpt.com",[e.port2]),e.port1.onmessage=n,()=>void(e.port1.onmessage=null)},[n]),i.jsx("iframe",{srcDoc:r,sandbox:"allow-scripts",style:{position:"fixed",top:0,left:0,width:"100vh",height:"100vw",border:0}})}export{m as default};
//# sourceMappingURL=kki25zxilgl2peqq.js.map
