import{aj as N,r as c,Z as O,U,a6 as e,aH as f,ar as I,P as L,az as k,aA as A,bx as w,by as E,aL as S,d as P,S as G,eS as B,ak as W,e7 as D,x as R,$ as z,a7 as H,aP as $}from"./l3hptpare9m1mqfv.js";import{T as M,m as K,L as X}from"./n9pmbpx2ruxrq5np.js";import{C as Z}from"./g425segveivwhr0n.js";import{c as q}from"./izvct2fi39bbdgsa.js";import{d7 as _,d8 as J,cj as Q,o as V,a6 as C,d9 as Y,a5 as ee}from"./c7sgref9mfwezh7s.js";import"./km9gro7xi1t4gs2t.js";import"./fsddy3bxlesj6ecw.js";import"./mh08vel4sd7gl5e4.js";function te({auth0Provider:s,nextUrl:n,isStorageComplianceEnabled:r}){const o=_(),i=N(),[t,a]=c.useState(!1),l=J(),x=Q(),p=O(),h=V(m.signUp),j=U("2131161815"),u=!o||j&&!t,d=()=>{L.logLogInButtonClicked({provider:s,location:"Login page"}),t||setTimeout(()=>{a(!0)},500);const y=x();w.signIn(s,{callbackUrl:n},{prompt:"login",...C(E()),...y?{use_email_otp:"true"}:{}})};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"relative flex grow flex-col items-center justify-between bg-white px-5 py-8 text-black dark:bg-black dark:text-white sm:rounded-t-[30px] md:rounded-none md:px-6",children:[!o&&e.jsx("nav",{className:"flex w-full justify-start px-6 pb-8 md:hidden md:px-6 lg:px-8",children:e.jsx("h1",{"aria-label":i.formatMessage(m.ariaLabel),children:e.jsx("div",{className:"flex cursor-default items-center text-[20px] font-bold leading-none lg:text-[22px]",children:e.jsx("div",{children:M})})})}),e.jsxs("div",{className:"relative flex w-full grow flex-col items-center justify-center",children:[e.jsx("h2",{className:"text-center text-[20px] leading-[1.2] md:text-[32px] md:leading-8",children:o?e.jsx("div",{children:M}):e.jsx(f,{...m.pageTitle})}),e.jsx("div",{className:"mt-5 w-full max-w-[440px]",children:e.jsx(e.Fragment,{children:e.jsxs("div",{className:I("grid gap-x-3 gap-y-2",o?"mx-16 gap-y-4 sm:grid-cols-1 sm:gap-y-4":"sm:grid-cols-2 sm:gap-y-0"),children:[e.jsx(b,{blue:!0,loading:t,testid:"login-button",onClick:d,children:e.jsx(f,{...m.logIn})}),o&&t&&e.jsx(b,{ghost:!0,testid:"login-tryagain-button",onClick:d,children:e.jsx(f,{...m.logInTryAgain})}),u&&e.jsx(b,{blue:!0,testid:"signup-button",onClick:()=>{L.logSignUpButtonClicked({provider:"auth0",location:"Login page"}),k.setCookie(A.SignupRedirectUrl,n,{maxAge:60*60*3}),w.signIn(s,{callbackUrl:n},{prompt:"login",screen_hint:"signup",...C(E())})},children:e.jsx(f,{...h})})]})})}),l?e.jsx(S,{color:"ghost",className:"mt-2 sm:mt-5",onClick:y=>{y.preventDefault(),L.logEvent(P.authTryItFirstLinkClicked),G.logEvent("chatgpt_auth_try_it_first_link_clicked"),p("/")},children:e.jsx(f,{...m.tryItFirst})}):null]}),e.jsxs("div",{className:"mt-10 flex flex-col justify-center",children:[e.jsx("div",{className:"flex justify-center text-gray-300 md:mb-3",children:e.jsx(B,{className:"h-[22px] w-auto"})}),e.jsx(q,{isStorageComplianceEnabled:r})]})]})})}function b({icon:s,children:n,className:r,onClick:o,testid:i,blue:t=!1,ghost:a=!1,loading:l=!1}){return e.jsxs(S,{color:t?"blue":a?"ghost":"primary",loading:l,size:"large","data-testid":i,onClick:o,className:r,children:[s?e.jsx("div",{className:I("h-5 w-5 justify-self-start",{}),style:{backgroundImage:s}}):null,e.jsx("span",{children:n})]})}const m=W({pageTitle:{id:"Login.pageTitle",defaultMessage:"Get started"},ariaLabel:{id:"Login.ariaLabel",defaultMessage:"ChatGPT by OpenAI"},welcome:{id:"Login.welcome",defaultMessage:"Welcome to ChatGPT"},logIn:{id:"Login.logIn",defaultMessage:"Log in"},logInTryAgain:{id:"Login.logInTryAgain",defaultMessage:"Try again"},signUp:{id:"Login.signUp",defaultMessage:"Sign up"},continueWithGoogle:{id:"Login.continueWithGoogle",defaultMessage:"Continue with Google"},continueWithMicrosoft:{id:"Login.continueWithMicrosoft",defaultMessage:"Continue with Microsoft"},useDevAuth:{id:"Login.useDevAuth",defaultMessage:"Use dev auth"},useProdAuth:{id:"Login.useProdAuth",defaultMessage:"Use prod auth"},orTryAnotherWay:{id:"Login.orTryAnotherWay",defaultMessage:"Or try another way"},logInWithOpenAI:{id:"Login.logInWithOpenAI",defaultMessage:"Log in with your OpenAI account to continue"},tryItFirst:{id:"Login.tryItFirst",defaultMessage:"Try it first"}});function se({auth0Provider:s,cfConnectingIp:n,isStorageComplianceEnabled:r,statsigShowCapacityGate:o}){const{hash:i}=R(),[t]=z(),a=t.get("next"),l=(a?.startsWith("/")?a:"/")+i,x=N(),p=H(),h=o===!0,j=c.useRef(!1),u=t.get("sso"),d=u?t.get("connection"):void 0,F=Y()(),v=ee(t,!0,F)||s;return c.useEffect(()=>{if(u&&!h){const g=k.getCookie(A.DeviceId)?.toString();w.signIn(v,{callbackUrl:l},{...g?{device_id:g}:{},...d?{connection:d}:{},...C(g)})}},[l,u,d,h,v]),c.useEffect(()=>{L.logEvent(P.loggedOutOpenedAuthLogin,{cfConnectingIp:n})},[n]),c.useEffect(()=>{window.location.hash==="#pricing"&&k.setCookie(A.ShowPaymentModal,!0,{maxAge:6*60*60})},[]),c.useEffect(()=>{if(j.current)return;j.current=!0;const g=t.get("inv_ws_name"),T=t.get("inv_email");g&&T&&p.success(x.formatMessage(K.invitedToastMessage,{workspace_name:g,email:T}),{hasCloseButton:!0,duration:600})},[t,x,p]),h?e.jsx(Z,{}):u?null:e.jsx(ne,{auth0Provider:v,nextUrl:l,isStorageComplianceEnabled:r})}const ne=({auth0Provider:s,nextUrl:n,isStorageComplianceEnabled:r})=>e.jsxs(e.Fragment,{children:[e.jsx(oe,{auth0Provider:s,nextUrl:n,isStorageComplianceEnabled:r}),!1]});function oe({auth0Provider:s,nextUrl:n,isStorageComplianceEnabled:r}){const{resolvedTheme:o}=$(),i=_(),t=o==="dark",a=c.useRef(null);return c.useEffect(()=>{if(i)return;a.current==null&&(a.current=document.body.style.backgroundColor);const l=t?"#00002E":"#FFFFDB";return document.body.style.backgroundColor=l,()=>{a.current!=null&&(document.body.style.backgroundColor=a.current)}},[t,i]),e.jsxs("div",{className:I("flex min-h-full w-screen flex-col sm:supports-[min-height:100dvh]:min-h-[100dvh] md:grid",i?"md:grid-cols-1":"md:grid-cols-2 lg:grid-cols-[60%_40%]"),children:[!i&&e.jsx(X,{}),e.jsx(te,{auth0Provider:s,nextUrl:n,isStorageComplianceEnabled:r})]})}function me(){const s=D();return e.jsx(se,{...s})}export{me as default};
//# sourceMappingURL=lmgkdbu6lcpft6yo.js.map
