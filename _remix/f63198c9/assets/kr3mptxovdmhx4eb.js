import{fZ as j,af as w,ae as I,r as a,ay as P,B as E,z as l,m as s,f_ as F}from"./oxu1g7ovqac4x1gm.js";import{t as p,a as r,u as S,s as b,C as f,b as B,g as C,T as M}from"./gnak5wbxgigpi788.js";import{C as h,T as N}from"./mcu2x4k7m0dwhi9c.js";import{T as O}from"./hbsc2h3088ko3zaa.js";import"./l2dlwlym9v3m5hew.js";import"./mrsokoll6b76hci3.js";import"./hn0y0npzt2rjtnrq.js";import"./l0btf8d8mvj6co8e.js";import"./dwpddq5e09ixla8n.js";import"./omrbwl0k69upg0s6.js";import"./j4hv2vgn7rr65ugu.js";import"./kjwkz3o8cg2pzz3l.js";import"./m2fmu3mgiitcocee.js";import"./fzrn137102spawew.js";import"./h064k5aw72l9h1gy.js";import"./il7m0l9oupjndsma.js";import"./ds8vtrc30cct4toh.js";import"./hzjwquj9mz3njn0w.js";import"./n3gw3e0kmedzjukw.js";const $=()=>(F(),null);function ee(){const d=j(),[o]=w(),c=I(),v=p(d.conversationId),n=r(o.get("readonly"),!1),x=r(o.get("isFullScreen"),!1),m=r(o.get("header"),!0),T=r(o.get("hideBottomComposer"),!!n),t=p(d.canmoreId),e=v,i=S();a.useEffect(()=>{b({type:f.Textdoc,textdocId:t})},[t]),B(e,{kind:P.PrimaryAssistant});const u=E();if(a.useEffect(()=>(l.retainThread(e),()=>{setTimeout(()=>{u.invalidateQueries({queryKey:["conversation",e]})},0),l.releaseThread(e)}),[e,u]),a.useEffect(()=>{t||c("/")},[t,c]),a.useEffect(()=>{C().sendMessage({type:h.Loaded})},[t]),!t||i?.type!==f.Textdoc)return null;const y=()=>{C().sendMessage({type:h.Close})},g=n&&!m;return s.jsxs("div",{className:"h-full w-full overflow-hidden contain-content",children:[s.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1"}),s.jsx(M,{clientThreadId:e,children:g?s.jsx(O,{textdocId:i.textdocId}):s.jsx(N,{isEmbedded:!0,isFullScreen:x,hideHeader:!m,hideBottomComposer:T,isReadonlyFromQueryParam:n,clientThreadId:e,focusedTextdoc:i,onClose:y},"textdocContent")})]})}export{$ as clientLoader,ee as default};
//# sourceMappingURL=kr3mptxovdmhx4eb.js.map
