const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/o5sdb4h7d9ev96b2.js","assets/mi4ha5f7fhlqv21j.js","assets/fbiqn8pcnxli6gt8.js","assets/root-j0s7q5se.css","assets/jt9rrlbcub4nr1o1.js","assets/conversation-small-eplmind9.css","assets/eksdfk2a9y27t5sp.js","assets/bsozo02ghpnmj03d.js","assets/crlpptjypvmi8lo4.js","assets/hynv8kai65ur4nb8.js","assets/ckvkodvcgg4dr7vw.js","assets/d3f6n0a3z2jtitz4.js","assets/i9v8hmx6078wvgjd.js","assets/gn6jrbzo0ojtqhmg.js","assets/h8uqx5cd17yhxsyw.js","assets/njrq50oqc7i7jhkw.js","assets/ic8xonudk832amag.js","assets/haejwgw2o4ozczuk.js","assets/b2vt7kjbna3lsfb4.js","assets/n0ja49gdh98nyi06.js","assets/ipwws5wwj4uizt81.js","assets/baxaru8fpwqoqpno.js","assets/o974672ovb02u7ur.js","assets/d8kxhsdxlxlc0x5w.js","assets/l5yxlzbjt4m8wf9n.js","assets/mi0rf5mcsxqug4z9.js","assets/joqi3yh15cyrcxby.js","assets/fzbw4icghclackks.js","assets/fhtllldqjreuhmk8.js","assets/jdidmbwmpdll4xrz.js","assets/jyipfg2z0zktpo5u.js","assets/e4vji9y52ptug12t.js","assets/jg5ruiz2yklcsqrl.js","assets/fkm85ya8ma3opl2d.js","assets/l0jlhielviw9sjxi.js","assets/ndgsmq6yo9hekrf2.js","assets/b89efj1nk6gsnboz.js","assets/hlud1xuig9lwvb8r.js","assets/g8t1wjh28d32jja5.js","assets/n9gos3vzglsjkcv7.js","assets/hk8x3m1utmvru2or.js","assets/fzwkpc150wsohchj.js","assets/oyormi563z8zgnyz.js","assets/l3ti2og39k1w9uaw.js","assets/hi6m6lf5obzsc1ed.js","assets/jdvwdhwxq6qefu5p.js","assets/dqks8ie3x46f32qy.js","assets/glapu0cd9iq91v4r.js","assets/b4pk0rhm9pganrbi.js","assets/fuh2ajiokp0ov6ee.js","assets/ChatScreenThreadHeader-idjkuur5.css","assets/ltitt97eq541j0rs.js","assets/o39qpzrm6c2dhkrl.js","assets/ltal3h60ggz9l88z.js","assets/da0tb4jm2caoh5kw.js","assets/duwq6jazriyy81hc.js","assets/kqwdyvkaaavvn8k3.js","assets/hpx2o645t28q1jv9.js","assets/g5mlqq7fyax5w055.js"])))=>i.map(i=>d[i]);
import{a1 as Pe,V as F,aK as he,aJ as Ee,r,l as s,Z as T,D as fe,be as se,a0 as W,aD as x,aE as C,aN as Te,b_ as Oe,bY as Ne,bW as Le,bg as De,aA as Ie,W as ge,X as Re,u as me,ao as ae,aH as te,bp as Be,dP as R,fi as Ve,f7 as Fe,m as v,Q as We,cn as pe,d6 as B,fp as He,ed as Ge,fq as qe,a8 as ze,dk as oe,c$ as $e,d0 as Ue,d1 as Ke,c6 as Qe,b1 as Ye,h as Xe,j as Je}from"./mi4ha5f7fhlqv21j.js";import{u as Ze,f as H,T as xe}from"./haejwgw2o4ozczuk.js";import{aN as es,gP as ss,gQ as Ce,gR as as,aj as ts,gS as os,gT as ns,gU as rs,gV as is,gW as cs,bL as O,gX as ls,gY as ds,gZ as us,g_ as hs,g$ as fs,h0 as gs,h1 as ms,h2 as ps,h3 as xs,h4 as Cs,h5 as bs,h6 as Ms,h7 as Ss,h8 as ks,h9 as vs,ha as js,hb as As,hc as ys,hd as ws,A as G,aD as w,a0 as N,ce as q,he as _s,hf as Ps,dP as ne,cs as Es,hg as be,hh as Me,hi as Se,J as Ts,hj as Os,gF as re,ft as Ns,c2 as V,c3 as ie,hk as Ls,hl as Ds,hm as ke,hn as Is,ho as Rs,hp as Bs,cO as Vs,az as Fs,dM as Ws,hq as Hs,dD as Gs,dE as ce,hr as qs,q as zs,ch as $s,hs as Us,ht as Ks,ci as Qs,d5 as Ys,hu as Xs,d6 as Js,hv as Zs,hw as ea}from"./jt9rrlbcub4nr1o1.js";import{T as L,e as sa,b as aa,l as ta}from"./crlpptjypvmi8lo4.js";import{a as oa}from"./ckvkodvcgg4dr7vw.js";import{L as na}from"./d3f6n0a3z2jtitz4.js";import{S as le,b as ra,c as ia,N as ca}from"./jg5ruiz2yklcsqrl.js";import{a as ve,b as la,g as da}from"./l0jlhielviw9sjxi.js";import{S as ua,C as ha,H as fa}from"./ndgsmq6yo9hekrf2.js";import{b as ga,e as ma,a as je,f as pa}from"./g8t1wjh28d32jja5.js";import{u as xa,n as Ca}from"./njrq50oqc7i7jhkw.js";import{J as ba,q as Ma,a as Sa,K as ka}from"./bsozo02ghpnmj03d.js";import{m as de}from"./hynv8kai65ur4nb8.js";import{b as va}from"./ic8xonudk832amag.js";function ja({onClose:e}){const a=F(),t=he(),{openSettings:n}=es(),i=ss(),{session:o}=Ee(),{data:{isStorageComplianceEnabled:d}={}}=Ce(),{data:c,isLoading:h}=as({enabled:!!(d&&o),select:l=>!l.cookie_consent.is_required});return r.useEffect(()=>{c===!0&&e()},[c,e]),h?null:s.jsx(Aa,{onReject:()=>{i.mutateAsync({analytics_cookies_accepted:!1},{onSuccess(){t.success(a.formatMessage(j.updateSuccess))},onError(){t.danger(a.formatMessage(j.updateFailure))}}),e()},onAccept:()=>{i.mutateAsync({analytics_cookies_accepted:!0},{onSuccess(){t.success(a.formatMessage(j.updateSuccess))},onError(){t.danger(a.formatMessage(j.updateFailure))}}),e()},children:s.jsx(T,{id:"CookieConsentBanner.authedDescription.0",defaultMessage:"We use cookies and similar technologies to deliver, maintain, improve our services and for security purposes. Check our <cookiePolicy>cookie policy</cookiePolicy> for details. Click 'Accept all' to let OpenAI and partners use cookies for these purposes. Click 'Reject all' to say no to cookies, except those that are strictly necessary. Choose <manageLink>manage cookies</manageLink> to change your preferences.",values:{cookiePolicy:l=>s.jsx(na,{href:"https://openai.com/policies/cookie-policy",openNewTab:!0,children:l}),manageLink:l=>s.jsx(ya,{onClick:()=>{n(ts.DataControls)},children:l})}})})}function Aa({children:e,onAccept:a,onReject:t}){return r.useEffect(()=>{fe.addAction("privacy_policy.show_cookie_consent_banner")},[]),s.jsxs(os,{children:[s.jsxs(ns,{className:"text-sm font-semibold [grid-area:_title]",children:[e,s.jsxs("div",{className:"mt-2 flex justify-end gap-3",children:[s.jsx(se,{color:"secondary",size:"small",onClick:t,children:s.jsx(T,{...j.reject})}),s.jsx(se,{color:"secondary",size:"small",onClick:a,children:s.jsx(T,{...j.accept})})]})]}),s.jsx(rs,{})]})}const ya=Pe.button`underline font-normal text-green-600`,j=W({cookieConsentBannerTitle:{id:"CookieConsentBanner.title",defaultMessage:"We use cookies to provide, improve, and protect our services. Visit our <privacyPolicyLink>privacy policy</privacyPolicyLink> to learn more. You can manage your cookie preferences in your <settingsPanel>settings panel</settingsPanel>. <learnMoreLink>Learn more</learnMoreLink>."},reject:{id:"CookieConsentBanner.reject",defaultMessage:"Reject all"},accept:{id:"CookieConsentBanner.accept",defaultMessage:"Accept all"},updateSuccess:{id:"CookieConsentBanner.updateSuccess",defaultMessage:"Your cookie preferences were updated successfully"},updateFailure:{id:"CookieConsentBanner.updateFailure",defaultMessage:"Unable to update cookie preferences. Try again later."}}),wa=x(()=>C(async()=>{const{ModelOnboardingNUXModal:e}=await import("./o5sdb4h7d9ev96b2.js");return{ModelOnboardingNUXModal:e}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11])).then(({ModelOnboardingNUXModal:e})=>e),{ssr:!1}),_a=({onClose:e})=>{const a=F(),t=O(q.isBusinessWorkspace),n=O(o=>o.currentWorkspace),i=t?a.formatMessage(ue.workspaceWelcome,{workspaceName:n?.name}):"ChatGPT";return s.jsx(ge,{isOpen:!0,onClose:Re,type:"success",title:i,size:"custom",noPadding:!0,className:"max-w-3xl",description:a.formatMessage(ue.personalOnboardingSubheading),children:s.jsx(_s,{onClose:e,scope:Ps.Personal})})};function Pa(){const[e,a]=r.useState(0),{hasSeenOnboardingDate:t}=is(),{hasSeenTeamOwnerOnboardingDate:n}=cs(),i=O(q.isBusinessWorkspace),o=Te(),[d,c]=r.useState(!1),{data:h,isPending:l}=Ce(),g=ls(h,l),{eligible:b,isLoading:A}=oa(),_=Oe(),S=Ne(),P=Le(),{data:f,isError:M}=De(),m=f!=null,y=f&&f?.accountItems.length>1&&f.currentAccountId==null,E=f?.accountItems.some(u=>u.isPersonalAccount()),p=!!f?.accountItems&&f.accountItems.length>0&&f.accountItems.every(({canAccessWithCurrentSession:u})=>!u),{eligible:z,isLoading:$}=ds(),{value:U}=Ie("1542198993"),{punchOutRequireLoginInfo:K}=us(),{state:Q}=hs(),{isOpen:Y,isLoading:X}=fs(),{isOpen:J,isLoading:Z}=gs(),k=r.useMemo(()=>[{Component:ms,getModalState:()=>K?"show":"hide",isDeferrable:!1},{Component:ps,getModalState:()=>X?"loading":Y?"show":"hide",isDeferrable:!1},{Component:xs,getModalState:()=>Z?"loading":J?"show":"hide",isDeferrable:!1},{Component:Cs,getModalState:()=>Q,isDeferrable:!1},{Component:_a,getModalState:()=>i?"hide":t===null?"loading":t===!1?"show":"hide",isDeferrable:!0},{Component:bs,getModalState:()=>M?"hide":y?"show":m?"hide":"loading",isDeferrable:!1},{Component:Ms,getModalState:()=>_!==null?"show":M||m?"hide":"loading",isDeferrable:!1},{Component:Ss,getModalState:()=>S!==null?"show":M||m?"hide":"loading",isDeferrable:!1},{Component:ks,getModalState:()=>P!=null?"show":M||m?"hide":"loading",isDeferrable:!1},{Component:vs,getModalState:()=>m?p?"show":"hide":"loading",isDeferrable:!1},{Component:ja,getModalState:()=>"hide",isDeferrable:!1},{Component:js,getModalState:()=>!o?.isTeam()||!o?.isOwnerOfAccount()||!E?"hide":!m||n===null?"loading":n===!1?"show":"hide",isDeferrable:!1},{Component:As,getModalState:()=>i?t===null?"loading":t===!1?"show":"hide":"hide",isDeferrable:!0},{Component:ys,getModalState:()=>$?"loading":z&&U?"show":"hide",isDeferrable:!1},{Component:ws,getModalState:()=>g,isDeferrable:!1},{Component:wa,getModalState:()=>A?"loading":b?"show":"hide",isDeferrable:!0,expiresAt:new Date(2024,7,13)}].filter(u=>!(u.isDeferrable&&d)&&(!u.expiresAt||u.expiresAt.getTime()>Date.now())),[K,Q,P,m,t,n,E,A,i,M,_,S,o,p,y,g,b,d,U,z,$,Y,X,J,Z]);r.useEffect(()=>{if(k[e]&&k[e].getModalState()==="hide"){const u=k.findIndex(_e=>_e.getModalState()!=="hide");a(u)}},[e,k]);const D=k[e],I=D?.getModalState()==="show";if(r.useEffect(()=>{const u=G.getState().activeModals.has(w.BlockingInitialComponent);I!==u&&(I?N.openModal(w.BlockingInitialComponent):N.closeModal(w.BlockingInitialComponent))},[I]),D==null)return s.jsx("span",{"data-testid":"blocking-initial-modals-done",className:"hidden"});const ee=D.getModalState();if(ee==="loading")return null;ee==="hide"&&a(u=>u+1);const we=k[e].Component;return s.jsx(we,{onClose:()=>{c(!0),a(u=>u+1)}})}const ue=W({workspaceWelcome:{id:"BlockingInitialModals.workspaceWelcome",defaultMessage:"Welcome to the {workspaceName} workspace"},personalOnboardingSubheading:{id:"BlockingInitialModals.personalOnboardingSubheading",defaultMessage:"Tips for getting started"}});function Ae({clientThreadId:e}){r.useEffect(()=>{N.closeSharingModal()},[e]);const a=me();r.useEffect(()=>(L.retainThread(e),()=>{setTimeout(()=>{a.invalidateQueries({queryKey:["conversation",e]})},0),L.releaseThread(e)}),[e,a]),r.useEffect(()=>()=>{ae.checkGate("3922476776")||ne.abortAllRequests()},[e]);const t=r.useRef(e);r.useEffect(()=>{e!==t.current&&(ae.checkGate("3922476776")||ne.clear(),t.current=e)},[e])}function ye({clientThreadId:e,setClientThreadId:a}){const t=me(),n=Es(),i=n?{kind:te.GizmoInteraction,gizmo_id:n}:{kind:te.PrimaryAssistant};xa(e,i);const o=Be(),d=ba(e),c=r.useRef(d);c.current=d;const h=r.useCallback(()=>{a(R());const b=c.current;o(b.tags.includes(Ve.GPT_4)?"/":`/?model=${b.id}`,{replace:!0})},[a,o]),l=Ze({clientThreadId:e,location:"Model switcher menu item"}),g=r.useCallback(b=>{Ca(o,t,b)},[t,o]);return{createNewThread:l,onThreadCreated:g,resetThread:h}}const Ea=x(()=>C(()=>import("./i9v8hmx6078wvgjd.js"),__vite__mapDeps([12,1,2,3,4,5,13,14,15,16,9,7,8,17,18,10,11,19,20,21,22,6,23,24,25,26,27,28])).then(e=>e.CanvasFocusedViewManager));function Ta({clientThreadId:e,setClientThreadId:a,urlThreadId:t,prefetchSearch:n}){const i=sa();Ae({clientThreadId:e});const{createNewThread:o,onThreadCreated:d,resetThread:c}=ye({clientThreadId:e,setClientThreadId:a});ve({resetThreadAction:c,clientThreadId:e});const h=H(e);return s.jsxs(xe,{clientThreadId:e,children:[s.jsx(be,{clientThreadId:e,urlThreadId:t}),s.jsxs(le,{hideNavigation:i,mobileHeaderContent:s.jsx(ga,{clientThreadId:e,inMobileHeader:!0}),mobileHeaderBottomContent:s.jsx(ma,{clientThreadId:e}),mobileHeaderLeftContent:s.jsx(ra,{onNewChatButtonClick:c}),mobileHeaderRightContent:s.jsx(ia,{onNewChatButtonClick:c}),sidebar:s.jsx(ca,{navHeader:e?s.jsx(ua,{className:"flex h-[60px] items-center md:h-header-height",onNewThread:o}):null,children:s.jsx(ha,{clientThreadId:e,onNewThread:o})}),children:[s.jsx(Me,{}),s.jsx(je,{clientThreadId:e,onCreate:d,prefetchSearch:n},e),s.jsxs(le.Sidebars,{children:[h&&s.jsx(Ea,{clientThreadId:e}),s.jsx(Se,{clientThreadId:e})]})]})]})}const Oa=450;function Na({children:e,clientThreadId:a,isOpen:t,onClose:n}){return s.jsx(Ts,{children:t&&s.jsx(Fe,{children:s.jsx(Os.Provider,{value:{isEmbeddedInFocusedView:!0},children:s.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[s.jsx(de.div,{className:"h-full w-full bg-token-main-surface-secondary",...re}),s.jsxs("div",{className:"absolute inset-0 flex",children:[s.jsx("div",{className:"flex-grow overflow-auto",children:e}),s.jsx(de.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:Oa},...re,children:s.jsx("div",{className:"h-[100vh] pb-4",children:s.jsx(je,{clientThreadId:a,hideHeader:!0,hideFooter:!0,hideToolsOverlay:!0,messagesVerticalAlign:"bottom"},a)})})]})]})})})})}const La=x(()=>C(()=>import("./jdidmbwmpdll4xrz.js"),__vite__mapDeps([29,1,2,3,4,5,15,16,9,7,8,17,18,10,11,19,20,21,22,6]))),Da=x(()=>C(()=>import("./jyipfg2z0zktpo5u.js"),__vite__mapDeps([30,1,2,3,4,5,31,15,16,9,7,8,17,18,10,11,19,20,21,22,6,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48])).then(e=>e.ImageEditor));function Ia({clientThreadId:e}){const a=Ns();r.useEffect(()=>{V.close()},[e]);let t;return a?.type===ie.ADAVisualization?t=s.jsx(La,{clientThreadId:e,visualization:a.visualization}):a?.type===ie.Image&&(t=s.jsx(Da,{clientThreadId:e,messageId:a.messageId,image:a.image,allImages:a.allImages},a.image.asset_pointer)),s.jsx(Na,{clientThreadId:e,isOpen:a!=null,onClose:V.close,children:t})}const Ra=()=>{const e=F(),a=G(o=>o.activeModals.has(w.KeyboardActions)),t=()=>{N.closeModal(w.KeyboardActions)},n=la(),i=r.useMemo(()=>{const o=Math.ceil(n.length/2);return[n.slice(0,o),n.slice(o)]},[n]);return s.jsx(ge,{isOpen:a,onClose:t,type:"success",size:"custom",className:"md:max-w-[672px] lg:max-w-[796px] xl:max-w-4xl",showCloseButton:!0,title:e.formatMessage(Fa.keyboardActionsModalTitle),children:s.jsx(s.Fragment,{children:s.jsx("div",{className:"grid grid-flow-row grid-cols-[repeat(auto-fit,minmax(250px,1fr))] gap-x-9",children:i.map((o,d)=>s.jsx("div",{className:"flex flex-col overflow-hidden",children:o.map(c=>s.jsx(Ba,{action:c},c.key))},`col-${d}`))})})})},Ba=({action:e})=>s.jsxs("div",{className:"flex items-center justify-between overflow-hidden text-token-text-primary",children:[s.jsx("div",{className:"flex flex-shrink items-center overflow-hidden text-sm",children:s.jsx("div",{className:"truncate",children:s.jsx(T,{...e.actionMessageDescriptor})})}),s.jsx("div",{className:"ml-3 flex flex-row gap-2",children:da(e.keyboardBinding).map((a,t)=>s.jsx(Va,{keyName:a},`${e.key}-${t}`))})]}),Va=({keyName:e})=>{const a=v("my-2 flex h-8 items-center justify-center rounded-md border border-token-border-light capitalize text-token-text-secondary");return e.length>1?e.length>3?s.jsx("div",{className:v(a,"min-w-[50px]"),children:s.jsx("span",{className:"text-xs",children:e})}):s.jsx("div",{className:v(a,"min-w-[32px]"),children:s.jsx("span",{className:"text-xs",children:e})}):s.jsx("div",{className:v(a,"min-w-[32px]"),children:s.jsx("span",{className:"text-sm",children:e})})},Fa=W({keyboardActionsModalTitle:{id:"KeyboardActionsModal.keyboardActionsModalTitle",defaultMessage:"Keyboard shortcuts"}});function Wa({clientThreadId:e}){const a=aa(e),{isUnauthenticated:t}=We(),n=pe();return t?null:s.jsx("div",{className:v(B.screenContent),children:s.jsx(fa,{activeId:n?void 0:a,isInPopover:!1})})}const mt=Ls("sidebar",Ds.Floating);function Ha({clientThreadId:e,onNewThread:a}){return s.jsx(ke,{anchor:"top",className:v(B.screen,B.screenProps,"flex-1 border-r border-r-token-border-xlight"),name:"sidebar",leading:s.jsx(Is,{onNewThread:a}),trackLeading:!0,children:s.jsx(Wa,{clientThreadId:e})})}const Ga=x(()=>C(()=>import("./fuh2ajiokp0ov6ee.js"),__vite__mapDeps([49,1,2,3,4,5,38,7,8,9,39,15,16,17,18,10,11,19,20,21,22,6,40,41,42,43,36,44,45,31,46,33,47,48,32,34,35,37,50])).then(e=>e.ChatScreenThreadHeader),{ssr:!0}),qa=x(()=>C(()=>import("./ltitt97eq541j0rs.js"),__vite__mapDeps([51,1,2,3,8,4,5,9,38,7,39,15,16,17,18,10,11,19,20,21,22,6,40,41,42,43,36,44,45,31,46,33,47,48])).then(e=>e.ChatScreenThreadContent),{ssr:!0}),za=x(()=>C(()=>import("./o39qpzrm6c2dhkrl.js"),__vite__mapDeps([52,1,2,3,8,4,5,9,38,7,39,15,16,17,18,10,11,19,20,21,22,6,40,41,42,43,36,44,45,31,46,33,47,48])).then(e=>e.ChatScreenThreadFooter),{ssr:!0});function $a({clientThreadId:e,onThreadCreated:a,onCompletionFinished:t,preRequestCompletion:n}){const i=Ma(),o=Sa(e)??i.id,d=ta(e),{onRequestCompletion:c,onChangeItemInView:h,onChangeRating:l,onRequestMoreCompletions:g}=pa({clientThreadId:e,currentModelId:o,defaultModelId:i.id,onCompletionFinished:t,onThreadCreated:a,preRequestCompletion:n});return s.jsx(ka,{clientThreadId:e,currentLeafId:d,children:s.jsx(He.Provider,{value:c,children:s.jsx(ke,{anchor:"top",className:Ge.screen,name:"thread",leading:s.jsx(Ga,{clientThreadId:e}),trackLeading:!0,trackTrailing:!0,trailing:s.jsx(za,{clientThreadId:e,onRequestCompletion:c}),children:s.jsx(qa,{clientThreadId:e,conversationLeafId:d,currentModelId:o,onRequestCompletion:c,onChangeItemInView:h,onChangeRating:l,onRequestMoreCompletions:g})})})})}const Ua=x(()=>C(()=>import("./i9v8hmx6078wvgjd.js"),__vite__mapDeps([12,1,2,3,4,5,13,14,15,16,9,7,8,17,18,10,11,19,20,21,22,6,23,24,25,26,27,28])).then(e=>e.CanvasFocusedViewManager));function Ka({clientThreadId:e,setClientThreadId:a,urlThreadId:t}){Ae({clientThreadId:e});const{createNewThread:n,onThreadCreated:i,resetThread:o}=ye({clientThreadId:e,setClientThreadId:a});ve({resetThreadAction:o,clientThreadId:e});const d=H(e);return s.jsxs(xe,{clientThreadId:e,children:[s.jsx(be,{clientThreadId:e,urlThreadId:t}),s.jsx(Me,{}),s.jsx(Rs,{className:qe.application,sidebar:s.jsx(Ha,{clientThreadId:e,onNewThread:n}),thread:s.jsx($a,{clientThreadId:e,onThreadCreated:i}),details:d&&s.jsx(Ua,{clientThreadId:e}),debugger:s.jsx(Se,{clientThreadId:e})})]})}var Qa={};const Ya=x(()=>C(()=>import("./ltal3h60ggz9l88z.js"),__vite__mapDeps([53,1,2,3,4,5,15,16,9,7,8,17,18,10,11,19,20,21,22,6,54]))),Xa=x(()=>C(()=>import("./duwq6jazriyy81hc.js"),__vite__mapDeps([55,1,2,3,8,4,5,9,56,57,7,58,16])).then(e=>e.SearchResultsModal));function pt(e){const{urlThreadId:a,clientThreadId:t,prefetchSearch:n}=e,i="serviceStatus"in e?e.serviceStatus:null;et();const o=pe(),d=ze(),c=oe(),h=he(),[l,g]=r.useState(()=>a!==void 0?a:t!==void 0?t:R());a!==void 0&&l!==a&&L.getServerThreadId(l)!==a&&g(a);const b=Bs(oe());r.useEffect(()=>{a===void 0&&L.getServerThreadId(l)!==void 0&&g(R())},[a,l,b]);const A=Vs(),_=O(q.workspaceId),S=Fs();H(l);const P=Ws(),{eligible:f,isLoading:M,markAsViewed:m}=Hs();r.useEffect(()=>{(d.asPath==="/"||d.asPath.startsWith("/c/"))&&Gs({namespace:ce.ChatPageLoad})==null&&(qs({namespace:ce.ChatPageLoad,opts:{expectedTimingLogs:[{name:"render_model_switcher",expectedInMs:1e4},{name:"render_history_items",expectedInMs:25e3}]}}),fe.addTiming("chatgpt.web.chatPage.mounted"))},[]);const y=zs();r.useEffect(()=>{$e(!0).then(p=>{p.force_login&&y({authType:"login"}),Ue.initializeAndGatherData(p),$s.initializeAndGatherData(p),Ke.initializeAndGatherData(p)})},[y]),r.useEffect(()=>{i?.type&&A===!1&&h.warning(i.message,{hasCloseButton:!0,duration:5})},[A,i?.message,i?.type,h]),r.useEffect(()=>{const p=d.query[Us]==="true";o!==p&&Qe.setIsTemporaryChatEnabled(p)},[o,d.query]),r.useEffect(()=>{c.state?.focusObject&&V.setFocusedObject(c.state.focusObject)},[c.state?.focusObject]),r.useEffect(()=>{!M&&f&&S&&(m(),Ks(S))},[f,M,m,S]);const E=P?Ka:Ta;return s.jsx(Ye.Provider,{value:null,children:s.jsx(Qs,{children:s.jsxs(Ys,{clientThreadId:l,children:[s.jsx(Pa,{},_),s.jsx(Ra,{}),s.jsx(Xs,{}),s.jsx(E,{urlThreadId:a,clientThreadId:l,setClientThreadId:g,prefetchSearch:n}),s.jsx(Ia,{clientThreadId:l}),s.jsx(Za,{clientThreadId:l}),s.jsx(Js,{clientThreadId:l}),s.jsx(Ja,{}),!1,s.jsx(Zs,{}),s.jsx(ea,{})]})})})}function Ja(){const e=G(a=>a.sharingModalThreadId);return e?s.jsx(Ya,{serverThreadId:e}):null}function Za({clientThreadId:e}){return va()&&s.jsx(Xa,{clientThreadId:e})}function et(){Xe({queryKey:["pingEdge"],queryFn:()=>Je.pingEdge(),enabled:!0,staleTime:1/0})}typeof window<"u"&&(window._g=Qa.GOKU_SERVICE);export{pt as C,mt as F,Oa as a};
//# sourceMappingURL=bnijvj9qosmm04p1.js.map
