const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/bayobgmhakz04w7a.js","assets/lyq6iybqnfh2fenf.js","assets/dmskyifkjcri638q.js","assets/root-kz139xyy.css","assets/n542xv17vu5zyr22.js","assets/conversation-small-ict01xsi.css","assets/fyx7ds82ju8soppj.js","assets/kfynb6i54wqt6hfh.js","assets/i0vdufu3pvggzqzi.js","assets/jkmlrdvyu887ryu0.js","assets/nbr2a0o18l9jy1mu.js","assets/junlnnkvqzboaxip.js","assets/dfv04wdpqnsblo8l.js","assets/k8jh3uateab4gdha.js","assets/ev73ejf6498snuub.js","assets/h8j4eoqodgewowlm.js","assets/o91hw250msummqvj.js","assets/be1ixmx8dluxxbtp.js","assets/i9mhjdficuzgdg3c.js","assets/h7uwnxcnvx9c095j.js","assets/kkk9lesvjh9qd8xc.js","assets/jy4st7d4zbheqf47.js","assets/k2g51640hlvgkpy4.js","assets/i7fhjnzvlb5iuqlw.js","assets/kqwdyvkaaavvn8k3.js","assets/mfdmk58ceee32adb.js","assets/d1q0w4s80m1p7gxh.js","assets/983a0dy92b3ronpv.js","assets/dt0cqti4a588s7eq.js","assets/zuh4cym1qx5btuev.js","assets/b6ml9lxhmoydnrpf.js","assets/j5w4166bn3c02o6l.js","assets/mwghim5vfe9j1986.js","assets/kt9vaa6rha773tp7.js","assets/kc8jul5z0k0btabs.js","assets/howyg27g36sf1eho.js","assets/e9dcjrd1ujdgeusf.js","assets/cy8vm44sjxyyt72h.js","assets/otw413ldqcx02fci.js","assets/jy22fqs6256xf8p3.js","assets/h4y39d1kaleok3lm.js","assets/jbx76v3c43bsn4qv.js","assets/i4lu8wdwcjtogby4.js"])))=>i.map(i=>d[i]);
import{au as l,av as u,j as e,aV as $,aP as S,fH as _,r as d,ar as Q,fB as w,ag as q,t as E,X as Y,c0 as P,D as X,bN as J,bO as Z,bP as ee,cq as ae,l as se,O as te}from"./lyq6iybqnfh2fenf.js";import{d7 as re,d0 as O,gA as oe,d1 as ne,X as I,gB as k,fs as ie,gC as de,gz as D,gD as M,gE as L,gF as ce,bP as le,a$ as H,a9 as ue,d2 as R,gG as T,gH as g,fT as he,bR as x,bS as y,a8 as ge,eO as me,eN as fe,gI as xe,gJ as be,q as N,gK as je,cg as pe,gL as Ce,gM as ve,gN as Se,gO as A,gP as _e,j as we,gQ as Ee,gR as Pe,fS as Te,ac as ye,c_ as Ne,c$ as Ae,gS as Fe,gT as Ve,gU as Oe,d3 as Ie,gV as ke,ch as De,gb as Me}from"./n542xv17vu5zyr22.js";import{S as F,b as Le,c as He,N as Re}from"./mwghim5vfe9j1986.js";import{S as Be,a as ze,C as Ge}from"./kt9vaa6rha773tp7.js";import{T as B}from"./kc8jul5z0k0btabs.js";import{C as z}from"./jy22fqs6256xf8p3.js";import{m}from"./i0vdufu3pvggzqzi.js";const Ke=l(()=>u(()=>import("./bayobgmhakz04w7a.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19])).then(a=>a.CanvasFocusedViewManager)),Ue=l(()=>u(()=>import("./kkk9lesvjh9qd8xc.js"),__vite__mapDeps([20,1,2,3,4,5,21,22,23,24,25,26,8,27])).then(a=>a.SearchResultsModal));function We({clientThreadId:a,setClientThreadId:s,urlThreadId:t,prefetchSearch:n}){const o=re();O({clientThreadId:a});const{createNewThread:i,onThreadCreated:h,resetThread:r}=oe({clientThreadId:a,setClientThreadId:s});return ne({resetThreadAction:r,clientThreadId:a}),e.jsxs(I,{enableSandbox:!1,clientThreadId:a,children:[e.jsx(k,{clientThreadId:a,urlThreadId:t}),e.jsxs(F,{hideNavigation:o,mobileHeaderContent:e.jsx(ie,{clientThreadId:a,inMobileHeader:!0}),mobileHeaderBottomContent:e.jsx(de,{clientThreadId:a}),mobileHeaderLeftContent:e.jsx(Le,{onNewChatButtonClick:r}),mobileHeaderRightContent:e.jsx(He,{onNewChatButtonClick:r}),sidebar:e.jsx(Re,{navHeader:a?e.jsx(Be,{className:"flex h-[60px] items-center md:h-header-height",onNewThread:i}):null,children:e.jsx(ze,{clientThreadId:a,onNewThread:i})}),threadFlyout:e.jsx(D,{clientThreadId:a}),children:[e.jsx(M,{}),e.jsx(B,{clientThreadId:a,onCreate:h,prefetchSearch:n},a),e.jsxs(F.Sidebars,{children:[e.jsx(Ke,{clientThreadId:a}),e.jsx(L,{clientThreadId:a}),!1]})]}),e.jsx($e,{clientThreadId:a})]})}function $e({clientThreadId:a}){const s=$(),t=s?.includes(S.SearchTool)&&!s?.includes(S.SearchToolHoldout),n=ce(),{isOpen:o}=le();return o&&(!n||!t)&&e.jsx(Ue,{clientThreadId:a})}const V=450;function Qe({children:a,clientThreadId:s,isOpen:t,onClose:n}){const o=H();return e.jsxs(ue,{children:[t&&o&&e.jsx(R,{clientThreadId:s,children:e.jsx(_,{children:e.jsx(T.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(m.div,{className:"h-full w-full bg-token-main-surface-secondary",...g}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx("div",{className:"flex-grow overflow-auto",children:a}),e.jsx(m.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:V},...g,children:e.jsx(z,{hideHeader:!0,hideTools:!0})})]})]})})})}),t&&!o&&e.jsx(_,{children:e.jsx(T.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(m.div,{className:"h-full w-full bg-token-main-surface-secondary",...g}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx("div",{className:"flex-grow overflow-auto",children:a}),e.jsx(m.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:V},...g,children:e.jsx("div",{className:"h-[100vh] pb-4",children:e.jsx(B,{clientThreadId:s,hideHeader:!0,hideFooter:!0,hideToolsOverlay:!0,messagesVerticalAlign:"bottom"},s)})})]})]})})})]})}const qe=l(()=>u(()=>import("./dt0cqti4a588s7eq.js"),__vite__mapDeps([28,1,2,3,4,5]))),Ye=l(()=>u(()=>import("./zuh4cym1qx5btuev.js"),__vite__mapDeps([29,1,2,3,4,5,30,31,8,32,18,33,34,15,35,36,37,9,38,39,40])).then(a=>a.ImageEditor));function Xe({clientThreadId:a}){const s=he();d.useEffect(()=>{x.close()},[a]);let t;return s?.type===y.ADAVisualization?t=e.jsx(qe,{clientThreadId:a,visualization:s.visualization}):s?.type===y.Image&&(t=e.jsx(Ye,{clientThreadId:a,messageId:s.messageId,image:s.image,allImages:s.allImages},s.image.asset_pointer)),e.jsx(Qe,{clientThreadId:a,isOpen:s!=null,onClose:x.close,children:t})}const Je=l(()=>u(()=>import("./bayobgmhakz04w7a.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19])).then(a=>a.CanvasFocusedViewManager));function Ze(){const{focusedObject:a,clientThreadId:s}=ge();return e.jsx(me,{className:Q(w.application,{[w.withFocusedView]:a}),sidebar:e.jsx(Ge,{}),thread:e.jsx(z,{}),details:e.jsxs(e.Fragment,{children:[e.jsx(Je,{clientThreadId:s}),!1]}),threadExtendedInfo:e.jsx(D,{clientThreadId:s}),debugger:e.jsx(L,{clientThreadId:s}),name:"application-root"})}function ea({clientThreadId:a,setClientThreadId:s,urlThreadId:t,prefetchSearch:n}){return O({clientThreadId:a}),e.jsx(R,{clientThreadId:a,setClientThreadId:s,prefetchSearch:n,children:e.jsxs(fe,{children:[e.jsx(xe,{}),e.jsx(be,{}),e.jsxs(I,{enableSandbox:!1,clientThreadId:a,children:[e.jsx(k,{clientThreadId:a,urlThreadId:t}),e.jsx(M,{}),e.jsx(Ze,{})]})]})})}var aa={};const sa=l(()=>u(()=>import("./jbx76v3c43bsn4qv.js"),__vite__mapDeps([41,1,2,3,4,5,42])));function ha(a){const{urlThreadId:s,clientThreadId:t,prefetchSearch:n}=a;ra();const o=q(),i=E(),[h]=Y(),[r,f]=d.useState(()=>s!==void 0?s:t!==void 0?t:P());s!==void 0&&r!==s&&N.getServerThreadId(r)!==s&&f(s);const G=je(E());d.useEffect(()=>{s===void 0&&N.getServerThreadId(r)!==void 0&&f(P())},[s,r,G]);const K=pe(De.workspaceId),U=H(),{eligible:b,isLoading:j,markAsViewed:p}=Ce(),C=ve();d.useEffect(()=>{(i.pathname==="/"||i.pathname.startsWith("/c/"))&&Se({namespace:A.ChatPageLoad})==null&&(_e({namespace:A.ChatPageLoad,opts:{expectedTimingLogs:[{name:"render_model_switcher",expectedInMs:1e4},{name:"render_history_items",expectedInMs:25e3}]}}),X.addTiming("chatgpt.web.chatPage.mounted"))},[]);const v=we();d.useEffect(()=>{J(!0).then(c=>{c.force_login&&v({authType:"login"}),Z.initializeAndGatherData(c),Ee.initializeAndGatherData(c),ee.initializeAndGatherData(c)})},[v]),d.useEffect(()=>{const c=h.get(Pe)==="true";o!==c&&ae.setIsTemporaryChatEnabled(c)},[o,h]),d.useEffect(()=>{i.state?.focusObject&&x.setFocusedObject(i.state.focusObject)},[i.state?.focusObject]),d.useEffect(()=>{!j&&b&&(p(),C())},[b,j,p,C]),Te();const W=U?ea:We;return e.jsx(ye.Provider,{value:null,children:e.jsx(Ne,{children:e.jsxs(Ae,{clientThreadId:r,children:[e.jsx(Fe,{clientThreadId:r},K),!1,e.jsx(Ve,{}),e.jsx(Oe,{}),e.jsx(W,{urlThreadId:s,clientThreadId:r,setClientThreadId:f,prefetchSearch:n}),e.jsx(Xe,{clientThreadId:r}),e.jsx(Ie,{clientThreadId:r}),e.jsx(ta,{}),!1,e.jsx(ke,{})]})})})}function ta(){const a=Me(s=>s.sharingModalThreadId);return a?e.jsx(sa,{serverThreadId:a}):null}function ra(){se({queryKey:["pingEdge"],queryFn:()=>te.pingEdge(),enabled:!0,staleTime:1/0})}typeof window<"u"&&(window._g=aa.GOKU_SERVICE);export{ha as C,V as F};
//# sourceMappingURL=bj6l5kclzs726qnh.js.map
