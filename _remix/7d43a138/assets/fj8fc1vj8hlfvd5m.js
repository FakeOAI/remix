import{j as e,e as g,Z as C,r as m,M as v}from"./nqo5y2f0dorhrqsr.js";import{fF as T,dK as I,d3 as b,dV as p,ba as N,as as y,f3 as x,fG as E,u as P,d5 as u,ah as M,cg as z,cA as w}from"./dh0yl0m9q337gmci.js";import{C as k}from"./dgcxf4c1lo6y3h3a.js";import{c6 as H,c7 as L,c8 as j,c9 as F,ca as G,cb as A,cc as f,cd as O,ce as Q,cf as U,cg as D,J as q,b as K,b8 as R,ch as V,ci as Z,cj as J,D as W,ck as _}from"./ktiwgucld5a8s55m.js";import{C as B}from"./fy8orb1z72ox92eg.js";import{u as X,a as Y}from"./odhzv2q19wc7ynyt.js";import $ from"./kizqiaqqkjxnk0zn.js";import{u as ee,C as ae,b as se,c as re}from"./cnv95wiq9am77uyo.js";import{C as te}from"./ezyyguzloavludkz.js";import"./nb34aa8izknzna97.js";import"./l697z2ouob9b6hw7.js";import"./k56enwh74zn4hbwt.js";import"./mfdhaorj0sghs4gl.js";import"./mav83crfduvkg85m.js";import"./lrt1lzalv2692ks0.js";import"./gtbc1g1q4ztw05rv.js";import"./dvl2tfqalthh42cv.js";import"./cb0x1wlgm93n2hpu.js";function ne(){const{clientThreadId:a,currentModelId:t,conversationLeafId:s,onRequestCompletion:c}=X(),{showEmptyState:l}=ee({clientThreadId:a,currentLeafId:s}),h=H()[t],n=T(a),d=L(),r=I(),i=b()??"",o=j({gizmoId:i,draft:!1}),S=p();return e.jsx(N.Provider,{value:c,children:e.jsx(F,{children:e.jsxs(G,{clientThreadId:a,currentLeafId:s,children:[e.jsx(A,{children:n!=null&&e.jsx("title",{children:n})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(f,{id:"canvas-state",name:"canvas-state",checked:d}),e.jsx(f,{id:"thread-extended-info-sidebar-state",name:"thread-extended-info-sidebar-state",checked:r}),e.jsx(O,{anchor:"vertical",className:y(x.screen,l&&x.screenEmptyState),name:"thread",leading:S?e.jsx(ae,{}):e.jsx(se,{clientThreadId:a}),trackLeading:!0,children:o.data&&e.jsx("div",{className:"flex h-full w-full",children:e.jsx("div",{className:"max-h-[calc(100cqh-80px)] flex-grow overflow-y-auto",children:e.jsx("div",{className:"mx-auto max-w-screen-md",children:e.jsx(Q,{clientThreadId:a,currentModelConfig:h,children:e.jsx(re,{})})})})})}),e.jsx(te,{}),e.jsx(U,{})]})]})})})}function ie(){const a=_(t=>t.sharingModalThreadId);return a?e.jsx($,{serverThreadId:a}):null}function Ne(){const a=g(),{gizmoSlug:t}=C(),s=E(t??""),c=j({gizmoId:s,draft:!1}),{isPending:l}=D(s),h=p(),{isLoading:n}=P("491279851"),d=q();m.useEffect(()=>{!n&&!d&&a("/")},[n,d,a]);const[r,i]=m.useState(()=>u());K(r,{kind:M.GizmoInteraction,gizmo_id:s}),m.useEffect(()=>{i(u())},[s]);let o=e.jsx("div",{className:"flex h-full w-full",children:e.jsx("div",{className:"m-auto",children:e.jsxs("div",{className:"flex justify-center",children:[e.jsx("span",{className:"sr-only","aria-busy":!0,role:"status","aria-live":"polite",children:e.jsx(v,{...R.loadingProjects})}),e.jsx(z,{className:"h-10 w-10 text-token-text-secondary"})]})})});return c.data&&!l&&(o=e.jsx(ne,{})),e.jsx(V,{children:e.jsx(Y,{clientThreadId:r,setClientThreadId:i,children:h?e.jsx(Z,{children:e.jsx(J,{className:w.application,sidebar:e.jsx(B,{}),thread:o,debugger:e.jsx(W,{clientThreadId:r})})}):e.jsxs(e.Fragment,{children:[e.jsx(k,{clientThreadId:r,setClientThreadId:i,threadContent:o}),e.jsx(ie,{})]})})})}export{Ne as default};
//# sourceMappingURL=fj8fc1vj8hlfvd5m.js.map
