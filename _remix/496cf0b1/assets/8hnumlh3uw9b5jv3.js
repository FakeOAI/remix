import{dD as i,r as d,dg as P,bj as I,dE as L,P as f,dF as E,an as _,dG as m,aq as O,au as M,F as p}from"./e8vun44xdcdlb616.js";import{k as T}from"./w6ck9aw2zcc1q7e6.js";import{aT as y,z as g,aU as G,aV as b}from"./ggfd01qgvnzl1dfn.js";const B="text-davinci-002-render-sha",N="gpt-4",W="gpt-4o",l=y({slug:g,max_tokens:4097,title:"Default",description:"",tags:[i.GPT_3_5],product_features:{}}),F=({default_model:e,tagline:n,color:t,human_category_name:s,category:r,human_category_short_name:o,human_category_shorter_name:a,subscription_level:c,short_explainer:h,subcategory:C,...A})=>({color:t,tagline:n,defaultModel:e,label:s,shortLabel:o,description:h,shorterLabel:a??o,subscriptionLevel:c,categoryId:r,subcategory:C,...A}),v=({icon:e,icon_filled_src:n,icon_outline_src:t})=>({iconName:e,iconFilledSrc:n,iconOutlineSrc:t}),x=({group:e,human_group_name:n,human_group_short_name:t,model_ids:s})=>({group:e,label:n,shortLabel:t,modelIds:s});function U(){return M({retry:5,queryKey:["modelIcons"],queryFn:async()=>await p.getModelIcons().then(e=>Object.fromEntries(Object.entries(e).map(([n,t])=>[n,v(t)])))})}function H(e){return M({retry:5,queryKey:["models",{isHistoryDisabled:e}],queryFn:async()=>await p.getModels(e).then(n=>{const{models:t,internal_groups:s,categories:r}=n,o=t.map(y);return{categories:r.concat().reverse().map(F),groups:(s==null?void 0:s.map(x))??[],modelsList:o,modelsMap:Object.fromEntries(o.map(a=>[a.id,a]))}})})}function u(){const e=E();return _(H(e))}function z(){return _(U())}function S({isRegen:e=!1}={}){const{isLoading:n,data:{categories:t=[],groups:s=[]}={}}=u(),r=d.useMemo(()=>e?t.filter(o=>o.is_regenerate_category!==!1):t.filter(o=>!o.is_regenerate_category),[t,e]);return{isLoading:n,categories:r,groups:s??[]}}function K(){const{categories:e}=S();return!!e.find(({categoryId:n})=>n===G.GPT4o)}function V(){const{data:e}=u();return d.useMemo(()=>e?new Set(Object.keys(e.modelsMap)):new Set([g]),[e])}const k={[g]:l};function q(){const{data:e}=u();return(e==null?void 0:e.modelsMap)??k}function D(e,n,t){let s=i.GPT_3_5;return t?s=i.GPT_4:n&&(s=i.GPT_4o),(e==null?void 0:e.modelsList.find(r=>r.tags.includes(s)))??(e==null?void 0:e.modelsList[0])??l}function Z(e=!1){const n=P(),t=I(),[,s]=L();return d.useCallback(({location:r,modelId:o})=>{const a=n.pathname.includes("/g/");e||a?(f.logNewChatButtonClicked({location:r}),t({pathname:"/",search:`?model=${encodeURIComponent(o)}`})):(s(c=>(c.set("model",encodeURIComponent(o)),c)),f.logNewChatButtonClicked({location:r}))},[e,n,t,s])}function $(){const{data:{categories:e=[]}={}}=u(),{doesUserHaveAnyAccountsWithPlusFeatures:n}=m();if(n)return null;const t=e.find(b);return(t==null?void 0:t.defaultModel)??null}function R(e){return T(e)}function J(e){const n=R(e),t=q();return d.useMemo(()=>n==null?l:t[n]??l,[n,t])}function X(e){return decodeURIComponent(e.model??"")||null}function Y(){const{data:e}=u(),{doesUserHaveAnyAccountsWithPlusFeatures:n}=m(),t=O();return D(e,!!n,!!(t!=null&&t.isEnterprise()))}export{W as G,B as S,R as a,S as b,Y as c,K as d,u as e,J as f,N as g,V as h,X as i,q as j,z as k,$ as l,Z as u};
//# sourceMappingURL=8hnumlh3uw9b5jv3.js.map
