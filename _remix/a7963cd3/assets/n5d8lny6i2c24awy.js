const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ofgq674nlepamgy2.js","assets/b6hz7w82w2qja9j6.js","assets/sujxda05pmld8bxp.js","assets/root-ej0xkpho.css","assets/fd0nu61alu12xp2y.js","assets/conversation-small-nydj7mps.css","assets/khxhs4dkaas1mcj3.js","assets/h670elogidx3nae7.js","assets/fvp0qwejqkz3x5nb.js","assets/iry73qgcim3gbwjp.js","assets/dy855rhfddsvj4sj.js","assets/h9hfrgq0hhexzq44.js","assets/jdgf0lnexh5sfpyj.js","assets/nc3j3d0b8kcbmhgb.js","assets/ik1svge49fz2amch.js","assets/fsu3942uaqduc7v4.js","assets/meynuyixefa55vvc.js","assets/dnd8hvatwz83oxzg.js","assets/kqwdyvkaaavvn8k3.js","assets/nh2tj2423vyq1k9k.js","assets/kv7lsngpet40scf3.js","assets/jjd8dt98im4kofrl.js","assets/983a0dy92b3ronpv.js","assets/mgy0zi5dg28zcwav.js","assets/BusinessesMap-g8qqrkxo.css"])))=>i.map(i=>d[i]);
import{aF as Ss,m as s,aC as j,aI as G,r as f,aP as Cs,d as g,eL as Ps,eu as Xe,G as S,df as W,bG as Ds,F as de,bH as Ts,aU as Ms,aV as As,ei as Es,g as Ke,cc as he,aQ as y,g7 as Is,D as Je,aK as Qe,aM as Ls,aW as es,eS as Fs,bq as zs,aG as Hs,aH as Rs,i8 as Os,a7 as Us,P as te,bh as ue,ap as ss,i9 as Ws,ia as Ys,eo as ts,gC as Bs}from"./b6hz7w82w2qja9j6.js";import{a as Zs,b as Gs}from"./h9hfrgq0hhexzq44.js";import{b as ns,R as rs,u as as,C as Vs,c as qs,d as Xs,S as be,D as Ks,e as Js}from"./jdgf0lnexh5sfpyj.js";import{u as Qs,b as et}from"./iry73qgcim3gbwjp.js";import{a as st}from"./fsu3942uaqduc7v4.js";import{j_ as O,oo as tt,cL as os,op as nt,aW as rt,aY as at,oq as is,m$ as ot,lP as it,lJ as A,fs as ct,cl as cs,bT as lt,bp as ye,bo as dt,ak as ht,or as ut,os as ft,ot as we,ay as $e,c6 as C,eR as je,eS as ls,ou as fe,nl as ds,ov as mt,jV as pt,kk as gt,mH as xt}from"./fd0nu61alu12xp2y.js";import{A as vt,a as me,E as bt}from"./dnd8hvatwz83oxzg.js";import{M as pe}from"./nc3j3d0b8kcbmhgb.js";import{i as yt,N as wt,as as $t,ce as jt,J as kt,cf as Nt,cg as _t,ch as St}from"./sujxda05pmld8bxp.js";import{b as U}from"./khxhs4dkaas1mcj3.js";import{g as Ct}from"./kqwdyvkaaavvn8k3.js";import{v as ke,C as Pt,A as Dt,a as Tt,L as Mt,B as At,p as Et,b as It,e as Lt,P as Ft,f as zt,g as Ht}from"./kv7lsngpet40scf3.js";import{g as Rt,d as Ot,b as hs,I as Ut}from"./ik1svge49fz2amch.js";import{F as V}from"./jjd8dt98im4kofrl.js";import{S as Wt}from"./983a0dy92b3ronpv.js";import{m as Ne}from"./h670elogidx3nae7.js";import{c as us}from"./mgy0zi5dg28zcwav.js";const Yt=us("ChevronDownFilled","1em",["M15.8 7.73c.28.3.27.78-.03 1.06l-5.25 5a.75.75 0 0 1-1.04 0l-5.25-5a.75.75 0 0 1 1.04-1.08L10 12.2l4.73-4.5a.75.75 0 0 1 1.06.02Z"]),Bt=us("ChevronLeftFilled","1em",["M12.27 15.8a.75.75 0 0 1-1.06-.03l-5-5.25a.75.75 0 0 1 0-1.04l5-5.25a.75.75 0 1 1 1.08 1.04L7.8 10l4.5 4.73c.29.3.28.78-.02 1.06Z"]);function Zt(e){return e&&/^turn[0-9]+ifs[0-9]+$/.test(e)}function Gt({attribution:e}){const t=f.useContext(O),n=tt(t?.message.id,e.attributable_index),r=os();return s.jsx(qt,{isHighlighted:n,isDebugMode:r,content:e.alt??"",attributableIndex:e.attributable_index,attributions:e.attributions??void 0,attributionsDebug:e.attributions_debug??void 0})}function Vt({content:e,isHighlighted:t,isDebugMode:n,attributableIndex:r,attributions:a,attributionsDebug:o}){return s.jsxs("span",{className:j("relative",n&&"hover:border hover:border-red-500/50",t&&"bg-[#f6e9cc] dark:bg-[#826116]"),children:[n&&s.jsx("span",{className:"absolute -top-4 left-0 whitespace-nowrap text-xs text-red-500",children:s.jsx(G,{label:"Attribution Index",side:"top",children:r})}),s.jsx(vt,{attributions:a,attributionsDebug:o,children:s.jsx(pe,{rehypePlugins:ns,remarkPlugins:rs,urlTransform:as,components:{p:({children:i})=>s.jsx(s.Fragment,{children:i})},children:e})})]})}const qt=Ss.memo(Vt);function Xt({attributionFooter:e}){f.useState(!1);const t=Kt();return nt(n=>n),null}function Kt(){const{value:e}=Cs("2192543539");return e}function _e(e,t){try{return BigInt(e).toLocaleString(t)}catch{const n=Number(e);return e.includes("e")||e.includes("E")?n.toExponential():n.toLocaleString(t,{maximumFractionDigits:6})}}function Jt({data:e,trackContentReferenceEvent:t}){f.useEffect(()=>{t(g.searchContentReferenceShown,"search_content_reference_shown",e.type)},[t,e.type]);const{currentLocale:n}=Ps();return e.expression&&e.result!=null?s.jsxs("div",{className:"no-scrollbar overflow-auto sm:overflow-hidden",children:[s.jsxs("div",{className:"pb-1 text-lg font-semibold",children:[e.prefix&&s.jsx("span",{children:e.prefix}),s.jsx("span",{children:_e(e.result,n)}),e.suffix&&s.jsx("span",{children:e.suffix})]}),s.jsx("div",{className:"tracking-wide text-token-text-primary",children:`${e.expression}=${_e(e.result,n)}`})]}):null}function Qt(e){return s.jsxs(Xe,{width:"19",height:"15",viewBox:"0 0 19 15",fill:"none",...e,children:[s.jsx("path",{d:"M4.42 0.75H2.8625H2.75C1.64543 0.75 0.75 1.64543 0.75 2.75V11.65C0.75 12.7546 1.64543 13.65 2.75 13.65H2.8625C2.8625 13.65 2.8625 13.65 2.8625 13.65C2.8625 13.65 4.00751 13.65 4.42 13.65M13.98 13.65H15.5375H15.65C16.7546 13.65 17.65 12.7546 17.65 11.65V2.75C17.65 1.64543 16.7546 0.75 15.65 0.75H15.5375H13.98",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.16045 7.41534C5.32257 7.228 4.69638 6.47988 4.69638 5.58551C4.69638 4.54998 5.53584 3.71051 6.57136 3.71051C7.60689 3.71051 8.44635 4.54998 8.44635 5.58551C8.44635 5.8965 8.37064 6.1898 8.23664 6.448C8.22998 6.48984 8.21889 6.53136 8.20311 6.57208L6.77017 10.2702C6.63182 10.6272 6.18568 10.7873 5.7737 10.6276C5.36172 10.468 5.13991 10.0491 5.27826 9.69206L6.16045 7.41534ZM11.4177 7.41534C10.5798 7.228 9.95362 6.47988 9.95362 5.58551C9.95362 4.54998 10.7931 3.71051 11.8286 3.71051C12.8641 3.71051 13.7036 4.54998 13.7036 5.58551C13.7036 5.8965 13.6279 6.1898 13.4939 6.448C13.4872 6.48984 13.4761 6.53136 13.4604 6.57208L12.0274 10.2702C11.8891 10.6272 11.4429 10.7873 11.0309 10.6276C10.619 10.468 10.3971 10.0491 10.5355 9.69206L11.4177 7.41534Z",fill:"currentColor"})]})}function en(e){return s.jsxs(Xe,{width:"19",height:"15",viewBox:"0 0 19 15",fill:"none",...e,children:[s.jsx("path",{d:"M4.42 0.75H2.8625H2.75C1.64543 0.75 0.75 1.64543 0.75 2.75V11.65C0.75 12.7546 1.64543 13.65 2.75 13.65H2.8625C2.8625 13.65 2.8625 13.65 2.8625 13.65C2.8625 13.65 4.00751 13.65 4.42 13.65M13.98 13.65H15.5375H15.65C16.7546 13.65 17.65 12.7546 17.65 11.65V2.75C17.65 1.64543 16.7546 0.75 15.65 0.75H15.5375H13.98",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{d:"M5.55283 4.21963C5.25993 3.92674 4.78506 3.92674 4.49217 4.21963C4.19927 4.51252 4.19927 4.9874 4.49217 5.28029L6.36184 7.14996L4.49217 9.01963C4.19927 9.31252 4.19927 9.7874 4.49217 10.0803C4.78506 10.3732 5.25993 10.3732 5.55283 10.0803L7.95283 7.68029C8.24572 7.3874 8.24572 6.91252 7.95283 6.61963L5.55283 4.21963Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"0.2",strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{d:"M9.77753 8.75003C9.3357 8.75003 8.97753 9.10821 8.97753 9.55003C8.97753 9.99186 9.3357 10.35 9.77753 10.35H13.2775C13.7194 10.35 14.0775 9.99186 14.0775 9.55003C14.0775 9.10821 13.7194 8.75003 13.2775 8.75003H9.77753Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"0.1"})]})}function sn({codeMessage:e,codeExecutionOutputMessage:t,onDismiss:n,FormattedText:r}){const a=S();return s.jsx(W.Root,{isOpen:!0,onClose:n,children:s.jsx(W.Overlay,{children:s.jsxs(W.Content,{className:"flex max-h-[75vh] max-w-lg flex-col overflow-hidden",children:[s.jsx(W.Header,{title:a.formatMessage(tn.title),type:"success",closeButton:s.jsx(Ds,{onClick:n})}),s.jsxs("div",{className:"flex flex-1 flex-col overflow-auto bg-black",children:[s.jsx("div",{children:s.jsx(rt,{FormattedText:r,message:e})}),s.jsx("div",{children:s.jsx(at,{message:t})})]})]})})})}const tn=de({title:{id:"CodeExecutionOutputModal.title",defaultMessage:"Analysis"}});function nn({displayInfo:e,FormattedText:t,trackContentReferenceEvent:n}){const[r,a]=f.useState(!1),o=S();return f.useEffect(()=>{n(g.searchContentReferenceShown,"search_content_reference_shown",e.type)},[n,e.type]),s.jsxs(s.Fragment,{children:[s.jsx(G,{label:o.formatMessage(rn.viewAnalysis),side:"top",sideOffset:4,withArrow:!1,delayDuration:150,children:s.jsx("button",{onClick:()=>a(!0),children:s.jsx(en,{className:"-mt-0.5 ml-0.5 inline-block text-token-link hover:text-token-link-hover"})})}),r&&s.jsx(sn,{FormattedText:t,codeMessage:e.codeMessage,codeExecutionOutputMessage:e.codeExecutionOutputMessage,onDismiss:()=>a(!1)})]})}const rn=de({viewAnalysis:{id:"viewAnalysis",defaultMessage:"View analysis"}}),Se=24;function an(e){const t=e.split(".");let n=e;return t.length>1&&t.slice(0,-1).some(r=>r.length>0)&&(n=t.slice(0,-1).join(".")),n.length>Se&&(n=n.slice(0,Se-1)+"â€¦"),n}function on({fileRef:e,onClick:t}){const n=is();if(!e)return null;const r=s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex shrink-0 items-center justify-center",children:s.jsx(yt,{className:"icon-xs"})}),s.jsx("div",{className:"max-w-xs truncate",children:e.name}),s.jsx("div",{className:"shrink-0",children:s.jsx(wt,{className:"icon-xs"})})]});return e.cloud_doc_url?s.jsx(A,{href:e.cloud_doc_url,target:"_blank",rel:"noreferrer",className:"text-xs",children:r}):s.jsx("button",{onClick:()=>{n(e.id,e.name),t?.()},className:"text-xs",children:r})}function cn({fileRef:e,index:t,trackContentReferenceEvent:n}){const r=is(),a=f.useContext(O),o=Ts("668322707"),i=Ms(a?.analyticsMetadata.clientThreadId??As),c=ot(),d=a?.message.metadata?.gizmo_id,u=!!d&&c.includes(d),h=it(i),l={source:e.source,index:t};if(f.useEffect(()=>{n(g.fileCitationShown,"file_citation_shown","file",l)},[]),h&&!u)return null;const v=!o.isLoading&&o.layer.get("show_citations_with_title",!1)?`(${an(e.name)})`:s.jsx(Qt,{className:"-mt-0.5 ml-0.5 inline-block text-token-link hover:text-token-link-hover"});return s.jsx(G,{label:s.jsx(on,{fileRef:e,onClick:()=>{n(g.fileCitationClicked,"file_citation_clicked","file",l)}}),onOpenChange:x=>{x?n(g.fileCitationHovered,"file_citation_hovered","file",l):n(g.fileCitationUnhovered,"file_citation_unhovered","file",l)},side:"top",sideOffset:4,withArrow:!1,delayDuration:150,interactive:!0,wide:!0,children:e.cloud_doc_url?s.jsx(A,{href:e.cloud_doc_url,target:"_blank",rel:"noreferrer",className:"px-0.5 text-green-600",children:v}):s.jsx("button",{onClick:()=>r(e.id,e.name),className:"px-0.5 text-green-600",children:v})})}function ln(e,t){return new Date(e).toLocaleDateString(t,{month:"long",day:"numeric",year:"numeric"})}function dn({metadata:e,trackContentReferenceEvent:t}){return e.items.length===0?null:s.jsx("div",{className:"mt-2 flex flex-col",children:e.items.map((n,r)=>s.jsx(hn,{item:n,index:r,trackContentReferenceEvent:t},r))})}function hn({item:e,index:t,trackContentReferenceEvent:n}){const r=S(),a={title:e.name,description:e.description,index:t},[o,i]=f.useMemo(()=>{const d=e.name.split(".");return d.length>1?[d.slice(0,-1).join("."),d[d.length-1]]:[e.name,""]},[e]),c=ct(Es.GDRIVE,i);return s.jsx(A,{className:"group/nav-list relative flex cursor-pointer items-center gap-6 border-b border-gray-200 py-3 hover:rounded-xl hover:bg-token-main-surface-secondary",href:e.cloud_doc_url??"/",onClick:()=>{n(g.searchContentReferenceClicked,"search_content_reference_clicked","nav_list",a)},children:s.jsxs("div",{className:"flex grow flex-col gap-1 overflow-hidden text-ellipsis",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(c,{className:"h-[16px] w-[16px] object-contain"}),s.jsx("div",{className:"line-clamp-2 text-sm font-semibold text-token-text-primary",children:o})]}),e.last_modified_time&&s.jsx("div",{className:"text-sm text-token-text-secondary",children:ln(e.last_modified_time,r.locale)})]}),s.jsx("div",{className:"ml-[21px] line-clamp-2 text-sm font-normal leading-snug text-token-text-secondary",children:e.description})]})})}var ne={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r){if(r===null||r===!0||r===!1)return NaN;var a=Number(r);return isNaN(a)?a:a<0?Math.ceil(a):Math.floor(a)}e.exports=t.default})(ne,ne.exports);var un=ne.exports;const fn=Ke(un);var re={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r){var a=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return a.setUTCFullYear(r.getFullYear()),r.getTime()-a.getTime()}e.exports=t.default})(re,re.exports);var mn=re.exports;const Ce=Ke(mn);function pn(e,t){var n=bn(t);return n.formatToParts?xn(n,e):vn(n,e)}var gn={year:0,month:1,day:2,hour:3,minute:4,second:5};function xn(e,t){try{for(var n=e.formatToParts(t),r=[],a=0;a<n.length;a++){var o=gn[n[a].type];o>=0&&(r[o]=parseInt(n[a].value,10))}return r}catch(i){if(i instanceof RangeError)return[NaN];throw i}}function vn(e,t){var n=e.format(t),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[r[3],r[1],r[2],r[4],r[5],r[6]]}var X={};function bn(e){if(!X[e]){var t=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n=t==="06/25/2014, 00:00:00"||t==="â€Ž06â€Ž/â€Ž25â€Ž/â€Ž2014â€Ž â€Ž00â€Ž:â€Ž00â€Ž:â€Ž00";X[e]=n?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return X[e]}function fs(e,t,n,r,a,o,i){var c=new Date(0);return c.setUTCFullYear(e,t,n),c.setUTCHours(r,a,o,i),c}var Pe=36e5,yn=6e4,K={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function ms(e,t,n){var r,a;if(!e||(r=K.timezoneZ.exec(e),r))return 0;var o;if(r=K.timezoneHH.exec(e),r)return o=parseInt(r[1],10),De(o)?-(o*Pe):NaN;if(r=K.timezoneHHMM.exec(e),r){o=parseInt(r[2],10);var i=parseInt(r[3],10);return De(o,i)?(a=Math.abs(o)*Pe+i*yn,r[1]==="+"?-a:a):NaN}if(jn(e)){t=new Date(t||Date.now());var c=n?t:wn(t),d=ae(c,e),u=n?d:$n(t,d,e);return-u}return NaN}function wn(e){return fs(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function ae(e,t){var n=pn(e,t),r=fs(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),a=e.getTime(),o=a%1e3;return a-=o>=0?o:1e3+o,r-a}function $n(e,t,n){var r=e.getTime(),a=r-t,o=ae(new Date(a),n);if(t===o)return t;a-=o-t;var i=ae(new Date(a),n);return o===i?o:Math.max(o,i)}function De(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}var Te={};function jn(e){if(Te[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),Te[e]=!0,!0}catch{return!1}}var kn=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,J=36e5,Me=6e4,Nn=2,_={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:kn};function oe(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);var n={},r=n.additionalDigits==null?Nn:fn(n.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var a=_n(e),o=Sn(a.date,r),i=o.year,c=o.restDateString,d=Cn(c,i);if(isNaN(d))return new Date(NaN);if(d){var u=d.getTime(),h=0,l;if(a.time&&(h=Pn(a.time),isNaN(h)))return new Date(NaN);if(a.timeZone||n.timeZone){if(l=ms(a.timeZone||n.timeZone,new Date(u+h)),isNaN(l))return new Date(NaN)}else l=Ce(new Date(u+h)),l=Ce(new Date(u+h+l));return new Date(u+h+l)}else return new Date(NaN)}function _n(e){var t={},n=_.dateTimePattern.exec(e),r;if(n?(t.date=n[1],r=n[3]):(n=_.datePattern.exec(e),n?(t.date=n[1],r=n[2]):(t.date=null,r=e)),r){var a=_.timeZone.exec(r);a?(t.time=r.replace(a[1],""),t.timeZone=a[1].trim()):t.time=r}return t}function Sn(e,t){var n=_.YYY[t],r=_.YYYYY[t],a;if(a=_.YYYY.exec(e)||r.exec(e),a){var o=a[1];return{year:parseInt(o,10),restDateString:e.slice(o.length)}}if(a=_.YY.exec(e)||n.exec(e),a){var i=a[1];return{year:parseInt(i,10)*100,restDateString:e.slice(i.length)}}return{year:null}}function Cn(e,t){if(t===null)return null;var n,r,a,o;if(e.length===0)return r=new Date(0),r.setUTCFullYear(t),r;if(n=_.MM.exec(e),n)return r=new Date(0),a=parseInt(n[1],10)-1,Ee(t,a)?(r.setUTCFullYear(t,a),r):new Date(NaN);if(n=_.DDD.exec(e),n){r=new Date(0);var i=parseInt(n[1],10);return Mn(t,i)?(r.setUTCFullYear(t,0,i),r):new Date(NaN)}if(n=_.MMDD.exec(e),n){r=new Date(0),a=parseInt(n[1],10)-1;var c=parseInt(n[2],10);return Ee(t,a,c)?(r.setUTCFullYear(t,a,c),r):new Date(NaN)}if(n=_.Www.exec(e),n)return o=parseInt(n[1],10)-1,Ie(t,o)?Ae(t,o):new Date(NaN);if(n=_.WwwD.exec(e),n){o=parseInt(n[1],10)-1;var d=parseInt(n[2],10)-1;return Ie(t,o,d)?Ae(t,o,d):new Date(NaN)}return null}function Pn(e){var t,n,r;if(t=_.HH.exec(e),t)return n=parseFloat(t[1].replace(",",".")),Q(n)?n%24*J:NaN;if(t=_.HHMM.exec(e),t)return n=parseInt(t[1],10),r=parseFloat(t[2].replace(",",".")),Q(n,r)?n%24*J+r*Me:NaN;if(t=_.HHMMSS.exec(e),t){n=parseInt(t[1],10),r=parseInt(t[2],10);var a=parseFloat(t[3].replace(",","."));return Q(n,r,a)?n%24*J+r*Me+a*1e3:NaN}return null}function Ae(e,t,n){t=t||0,n=n||0;var r=new Date(0);r.setUTCFullYear(e,0,4);var a=r.getUTCDay()||7,o=t*7+n+1-a;return r.setUTCDate(r.getUTCDate()+o),r}var Dn=[31,28,31,30,31,30,31,31,30,31,30,31],Tn=[31,29,31,30,31,30,31,31,30,31,30,31];function ps(e){return e%400===0||e%4===0&&e%100!==0}function Ee(e,t,n){if(t<0||t>11)return!1;if(n!=null){if(n<1)return!1;var r=ps(e);if(r&&n>Tn[t]||!r&&n>Dn[t])return!1}return!0}function Mn(e,t){if(t<1)return!1;var n=ps(e);return!(n&&t>366||!n&&t>365)}function Ie(e,t,n){return!(t<0||t>52||n!=null&&(n<0||n>6))}function Q(e,t,n){return!(e!=null&&(e<0||e>=25)||t!=null&&(t<0||t>=60)||n!=null&&(n<0||n>=60))}function R(e,t,n){var r=oe(e,n),a=ms(t,r,!0),o=new Date(r.getTime()-a),i=new Date(0);return i.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),i.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),i}const Le="#30a633",Fe="#f14d42",An="text-[#30a633]",En="text-[#f14d42]";var ee={line:{color:"#F66",width:1,dashPattern:[]},sync:{enabled:!0,group:1,suppressTooltips:!1},zoom:{enabled:!0,zoomboxBackgroundColor:"rgba(66,133,244,0.2)",zoomboxBorderColor:"#48F",zoomButtonText:"Reset Zoom",zoomButtonClass:"reset-zoom"},snap:{enabled:!1},callbacks:{beforeZoom:function(e,t){return!0},afterZoom:function(e,t){}}},In={id:"crosshair",afterInit:function(e){if(e.config.options.scales.x){var t=e.config.options.scales.x.type;if(!(t!=="linear"&&t!=="time"&&t!=="category"&&t!=="logarithmic")){e.options.plugins.crosshair===void 0&&(e.options.plugins.crosshair=ee),e.crosshair={enabled:!1,suppressUpdate:!1,x:null,originalData:[],originalXRange:{},dragStarted:!1,dragStartX:null,dragEndX:null,suppressTooltips:!1,ignoreNextEvents:0,reset:(function(){this.resetZoom(e,!1,!1)}).bind(this)};var n=this.getOption(e,"sync","enabled");n&&(e.crosshair.syncEventHandler=(function(r){this.handleSyncEvent(e,r)}).bind(this),e.crosshair.resetZoomEventHandler=(function(r){var a=this.getOption(e,"sync","group");r.chartId!==e.id&&r.syncGroup===a&&this.resetZoom(e,!0)}).bind(this),window.addEventListener("sync-event",e.crosshair.syncEventHandler),window.addEventListener("reset-zoom-event",e.crosshair.resetZoomEventHandler)),e.panZoom=this.panZoom.bind(this,e)}}},afterDestroy:function(e){var t=this.getOption(e,"sync","enabled");t&&(window.removeEventListener("sync-event",e.crosshair.syncEventHandler),window.removeEventListener("reset-zoom-event",e.crosshair.resetZoomEventHandler))},panZoom:function(e,t){if(e.crosshair.originalData.length!==0){var n=e.crosshair.end-e.crosshair.start,r=e.crosshair.min,a=e.crosshair.max;t<0?(e.crosshair.start=Math.max(e.crosshair.start+t,r),e.crosshair.end=e.crosshair.start===r?r+n:e.crosshair.end+t):(e.crosshair.end=Math.min(e.crosshair.end+t,e.crosshair.max),e.crosshair.start=e.crosshair.end===a?a-n:e.crosshair.start+t),this.doZoom(e,e.crosshair.start,e.crosshair.end)}},getOption:function(e,t,n){return ke(e.options.plugins.crosshair[t]?e.options.plugins.crosshair[t][n]:void 0,ee[t][n])},getXScale:function(e){return e.data.datasets.length?e.scales[e.getDatasetMeta(0).xAxisID]:null},getYScale:function(e){return e.scales[e.getDatasetMeta(0).yAxisID]},handleSyncEvent:function(e,t){var n=this.getOption(e,"sync","group");if(t.chartId!==e.id&&t.syncGroup===n){var r=this.getXScale(e);if(r){var a=t.original.native.buttons===void 0?t.original.native.which:t.original.native.buttons;t.original.type==="mouseup"&&(a=0);var o={type:t.original.type=="click"?"mousemove":t.original.type,chart:e,x:r.getPixelForValue(t.xValue),y:t.original.y,native:{buttons:a},stop:!0};e._eventHandler(o)}}},afterEvent:function(e,t){if(e.config.options.scales.x.length==0)return;let n=t.event;var r=e.config.options.scales.x.type;if(!(r!=="linear"&&r!=="time"&&r!=="category"&&xscaleType!=="logarithmic")){var a=this.getXScale(e);if(a){if(e.crosshair.ignoreNextEvents>0){e.crosshair.ignoreNextEvents-=1;return}var o=n.native.buttons===void 0?n.native.which:n.native.buttons;n.native.type==="mouseup"&&(o=0);var i=this.getOption(e,"sync","enabled"),c=this.getOption(e,"sync","group");if(!n.stop&&i){var t=new CustomEvent("sync-event");t.chartId=e.id,t.syncGroup=c,t.original=n,t.xValue=a.getValueForPixel(n.x),window.dispatchEvent(t)}var d=this.getOption(e,"sync","suppressTooltips");if(e.crosshair.suppressTooltips=n.stop&&d,e.crosshair.enabled=n.type!=="mouseout"&&n.x>a.getPixelForValue(a.min)&&n.x<a.getPixelForValue(a.max),!e.crosshair.enabled&&!e.crosshair.suppressUpdate)return n.x>a.getPixelForValue(a.max)&&(e.crosshair.suppressUpdate=!0,e.update("none")),e.crosshair.dragStarted=!1,!1;e.crosshair.suppressUpdate=!1;var u=this.getOption(e,"zoom","enabled");if(o===1&&!e.crosshair.dragStarted&&u&&(e.crosshair.dragStartX=n.x,e.crosshair.dragStarted=!0),e.crosshair.dragStarted&&o===0){e.crosshair.dragStarted=!1;var h=a.getValueForPixel(e.crosshair.dragStartX),l=a.getValueForPixel(e.crosshair.x);Math.abs(e.crosshair.dragStartX-e.crosshair.x)>1&&this.doZoom(e,h,l),e.update("none")}e.crosshair.x=n.x,e.draw()}}},afterDraw:function(e){if(e.crosshair.enabled)return e.crosshair.dragStarted?this.drawZoombox(e):(this.drawTraceLine(e),this.interpolateValues(e),this.drawTracePoints(e)),!0},beforeTooltipDraw:function(e){return!e.crosshair.dragStarted&&!e.crosshair.suppressTooltips},resetZoom:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(n){if(e.crosshair.originalData.length>0)for(var r=0;r<e.data.datasets.length;r++){var a=e.data.datasets[r];a.data=e.crosshair.originalData.shift(0)}e.crosshair.originalXRange.min?(e.options.scales.x.min=e.crosshair.originalXRange.min,e.crosshair.originalXRange.min=null):delete e.options.scales.x.min,e.crosshair.originalXRange.max?(e.options.scales.x.max=e.crosshair.originalXRange.max,e.crosshair.originalXRange.max=null):delete e.options.scales.x.max}e.crosshair.button&&e.crosshair.button.parentNode&&(e.crosshair.button.parentNode.removeChild(e.crosshair.button),e.crosshair.button=!1);var o=this.getOption(e,"sync","enabled");if(!t&&n&&o){var i=this.getOption(e,"sync","group"),c=new CustomEvent("reset-zoom-event");c.chartId=e.id,c.syncGroup=i,window.dispatchEvent(c)}n&&e.update("none")},doZoom:function(e,t,n){if(t>n){var r=t;t=n,n=r}var a=ke(e.options.plugins.crosshair.callbacks?e.options.plugins.crosshair.callbacks.beforeZoom:void 0,ee.callbacks.beforeZoom);if(!a(t,n))return!1;if(e.crosshair.dragStarted=!1,e.options.scales.x.min&&e.crosshair.originalData.length===0&&(e.crosshair.originalXRange.min=e.options.scales.x.min),e.options.scales.x.max&&e.crosshair.originalData.length===0&&(e.crosshair.originalXRange.max=e.options.scales.x.max),!e.crosshair.button){var o=document.createElement("button"),i=this.getOption(e,"zoom","zoomButtonText"),c=this.getOption(e,"zoom","zoomButtonClass"),d=document.createTextNode(i);o.appendChild(d),o.className=c,o.addEventListener("click",(function(){this.resetZoom(e)}).bind(this)),e.canvas.parentNode.appendChild(o),e.crosshair.button=o}e.options.scales.x.min=t,e.options.scales.x.max=n;var u=e.crosshair.originalData.length===0,h=e.config.options.scales.x.type!=="category";if(h)for(var l=0;l<e.data.datasets.length;l++){var v=[],x=0,m=!1,b=!1;u&&(e.crosshair.originalData[l]=e.data.datasets[l].data);for(var k=e.crosshair.originalData[l],$=0;$<k.length;$++){var P=k[$],D=P.x!==void 0?P.x:NaN;D>=t&&!m&&x>0&&(v.push(k[x-1]),m=!0),D>=t&&D<=n&&v.push(P),D>n&&!b&&x<k.length&&(v.push(P),b=!0),x+=1}e.data.datasets[l].data=v}if(e.crosshair.start=t,e.crosshair.end=n,u){var L=this.getXScale(e);e.crosshair.min=L.min,e.crosshair.max=L.max}e.crosshair.ignoreNextEvents=2,e.update("none");var H=this.getOption(e,"callbacks","afterZoom");H(t,n)},drawZoombox:function(e){var t=this.getYScale(e),n=this.getOption(e,"zoom","zoomboxBorderColor"),r=this.getOption(e,"zoom","zoomboxBackgroundColor");e.ctx.beginPath(),e.ctx.rect(e.crosshair.dragStartX,t.getPixelForValue(t.max),e.crosshair.x-e.crosshair.dragStartX,t.getPixelForValue(t.min)-t.getPixelForValue(t.max)),e.ctx.lineWidth=1,e.ctx.strokeStyle=n,e.ctx.fillStyle=r,e.ctx.fill(),e.ctx.fillStyle="",e.ctx.stroke(),e.ctx.closePath()},drawTraceLine:function(e){var t=this.getYScale(e),n=this.getOption(e,"line","width"),r=this.getOption(e,"line","color"),a=this.getOption(e,"line","dashPattern"),o=this.getOption(e,"snap","enabled"),i=e.crosshair.x;o&&e._active.length&&(i=e._active[0].element.x),e.ctx.beginPath(),e.ctx.setLineDash(a),e.ctx.moveTo(i,t.getPixelForValue(t.max)),e.ctx.lineWidth=n,e.ctx.strokeStyle=r,e.ctx.lineTo(i,t.getPixelForValue(t.min)),e.ctx.stroke(),e.ctx.setLineDash([])},drawTracePoints:function(e){for(var t=0;t<e.data.datasets.length;t++){var n=e.data.datasets[t],r=e.getDatasetMeta(t),a=e.scales[r.yAxisID];r.hidden||!n.interpolate||(e.ctx.beginPath(),e.ctx.arc(e.crosshair.x,a.getPixelForValue(n.interpolatedValue),3,0,2*Math.PI,!1),e.ctx.fillStyle="white",e.ctx.lineWidth=2,e.ctx.strokeStyle=n.borderColor,e.ctx.fill(),e.ctx.stroke())}},interpolateValues:function(e){for(var t=0;t<e.data.datasets.length;t++){var n=e.data.datasets[t],r=e.getDatasetMeta(t),a=e.scales[r.xAxisID],o=a.getValueForPixel(e.crosshair.x);if(!(r.hidden||!n.interpolate)){var i=n.data,c=i.findIndex(function(l){return l.x>=o}),d=i[c-1],u=i[c];if(e.data.datasets[t].steppedLine&&d)n.interpolatedValue=d.y;else if(d&&u){var h=(u.y-d.y)/(u.x-d.x);n.interpolatedValue=d.y+(o-d.x)*h}else n.interpolatedValue=NaN}}}};Pt.register(Dt,Tt,Mt,At,Et,It,Lt,Ft,zt,In);function z(e,t){return R(new Date(e*1e3),t??"America/New_York")}function ze(e,t,n){const r=z(t,n);return e.formatTime(r,{hour:"numeric",minute:"numeric"})}function Ln(e,t,n){const r=z(t,n);return e.formatDate(r,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"numeric"})}function Y(e,t,n){const r=z(t,n);return e.formatDate(r,{month:"short",day:"numeric",year:"numeric"})}function se(e,t,n){const r=z(t,n);return e.formatDate(r,{month:"short",year:"numeric"})}function He(e,t,n){const r=z(t,n);return e.formatDate(r,{month:"short",day:"numeric"})}function Fn(e,t,n){const r=z(t,n);return e.formatDate(r,{weekday:"short",month:"short",day:"numeric"})}function zn(e,t,n){const r=z(t,n);return e.formatDate(r,{year:"numeric"})}const Hn=100,Rn=["1d","5d","1m","6m","ytd","1y","5y"],Re={"1d":{label:"1D",formatTimestampLabel:ze,formatTimestampTooltip:ze,maxTicksLimit:6,lineTension:.1},"5d":{label:"5D",formatTimestampLabel:He,formatTimestampTooltip:Ln,maxTicksLimit:6,lineTension:.1},"1m":{label:"1M",formatTimestampLabel:He,formatTimestampTooltip:Fn,maxTicksLimit:6,lineTension:.1,useUtc:!0},"6m":{label:"6M",formatTimestampLabel:se,formatTimestampTooltip:Y,maxTicksLimit:5,lineTension:.1,useUtc:!0},ytd:{label:"YTD",formatTimestampLabel:se,formatTimestampTooltip:Y,maxTicksLimit:5,lineTension:.1,useUtc:!0},"1y":{label:"1Y",formatTimestampLabel:se,formatTimestampTooltip:Y,maxTicksLimit:5,lineTension:.2,useUtc:!0},"5y":{label:"5Y",formatTimestampLabel:zn,formatTimestampTooltip:Y,maxTicksLimit:5,lineTension:.2,useUtc:!0}};function On({isUp:e,histories:t,defaultInterval:n,onSelectHistoryInterval:r,latestTradingPeriod:a,timezone:o}){return s.jsx(s.Fragment,{children:t&&n&&a?s.jsx(Un,{isUp:e,histories:t,defaultInterval:n,onSelectHistoryInterval:r,latestTradingPeriod:a,timezone:o}):s.jsx(U,{className:"h-full",index:1,width:100})})}function Un({isUp:e,histories:t,defaultInterval:n,onSelectHistoryInterval:r,latestTradingPeriod:a,timezone:o}){const[i,c]=f.useState(null),[d,u]=f.useState(!1),[h,l]=f.useState(n),v=h==="1d",x=f.useMemo(()=>{let p=t.quotes[h].filter(w=>w.close>=0);if(v&&a){const w=a.regular.start_timestamp,N=a.regular.end_timestamp;if(p=p.filter(T=>T.timestamp>=w&&T.timestamp<=N),p.length===0||p[p.length-1].timestamp<N){let q=p.length>0?p[p.length-1].timestamp:w-600;for(;q<N;)q+=600,p.push({timestamp:q,close:null})}}return p},[t,h,v,a]),m=Object.keys(t.quotes),b=Re[h],{formatTimestampTooltip:k,maxTicksLimit:$,useUtc:P=!1}=b,D=S(),L=f.useMemo(()=>{const{formatTimestampLabel:p,lineTension:w}=b;return{labels:x.map(N=>p(D,N.timestamp,P?"UTC":o)),datasets:[{data:x.map(N=>N.close),borderColor:e?Le:Fe,pointRadius:0,pointHoverRadius:4,pointStyle:"circle",backgroundColor:e?Le:Fe,borderWidth:3,lineTension:w??.4}]}},[b,x,e,P,o,D]),H=cs(),ve=he().theme==="dark";return s.jsxs("div",{className:"flex h-full flex-col gap-6",children:[s.jsx("div",{className:"flex items-center justify-between text-xs font-semibold text-token-text-tertiary sm:justify-start sm:gap-6",children:m.map(p=>s.jsx("button",{onClick:()=>{l(p),r?.(p)},className:j("px-2 py-1 uppercase hover:text-token-text-secondary",{"border-b-2 border-solid border-token-text-primary !text-token-text-primary":h===p}),children:Re[p].label},p))}),s.jsxs("div",{className:"relative h-full",onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:[s.jsx(Ht,{options:{responsive:!0,maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"},hover:{mode:d?"nearest":"point"},animation:!1,scales:{x:{afterBuildTicks:p=>{if(p.ticks.length>$)if(v)p.ticks=p.ticks.filter((w,N)=>x[N].timestamp%(H?3600:7200)===0);else{const w=Math.ceil(p.ticks.length/($-1));p.ticks=p.ticks.filter((N,T)=>T>0&&(T%w===0||T===p.ticks.length-1))}},grid:{display:!1},ticks:{align:"end"}},y:{ticks:{maxTicksLimit:7},border:{display:!1},grid:{color:ve?"rgba(255, 255, 255, 0.1)":"rgba(229, 229, 229, 0.5)"}}},plugins:{datalabels:{display:!1},legend:{display:!1},tooltip:{enabled:!1,animation:!1,displayColors:!1,callbacks:{title:function(p){const w=p[0];if(!w)return"";const N=x[w.dataIndex]?.timestamp;return N?k(D,N,P?"UTC":o):""}},external:({tooltip:p})=>{c(w=>{const N=p.chart.width,T=p.caretX>N-Hn;return!w||w.x!==p.caretX||w.y!==p.caretY||w.opacity!==p.opacity||w.flip!==T?{...w,x:p.caretX,y:p.caretY,dateLabel:p.title?.[0],value:ie(p.dataPoints?.[0]?.parsed?.y??0),opacity:p.opacity,flip:T}:w})}},dropShadow:!1,crosshair:{line:{color:ve?"rgba(255, 255, 255, 0.3)":"rgba(0, 0, 0, 0.3)",width:.5},zoom:{enabled:!1}}}},data:L}),s.jsx(Wn,{tooltipData:i})]})]})}function Wn({tooltipData:e}){return!e||!e.opacity?null:s.jsxs("div",{style:{left:e.flip?e.x-5:e.x+5,top:e.y-5},className:j("pointer-events-none absolute translate-y-[-100%] whitespace-nowrap bg-black p-2.5",e.flip?"translate-x-[-100%] rounded-bl-xl rounded-tl-xl rounded-tr-xl":"rounded-br-xl rounded-tl-xl rounded-tr-xl"),children:[s.jsx("div",{className:"text-white",children:e.value}),s.jsx("div",{className:"text-xs text-gray-400",children:e.dateLabel})]})}function Yn(e){return e?Rn.filter(n=>n in e.quotes).find(n=>e.quotes[n].length>0):void 0}function ie(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function Bn({contentReference:e,trackContentReferenceEvent:t}){const n=S();f.useEffect(()=>{t(g.searchContentReferenceShown,"search_content_reference_shown","stock")},[t]);const r=Yn(e?.stock?.histories),a=e?.stock,[o,i]=f.useState(r),c=o==="1d",d=a?.histories?.quotes?.[o??""]?.[0],u=o&&o in ce?o:void 0,h=a&&(d&&!c?{changePercentage:(a.price.price-d.close)/d.close*100,changeAmount:a.price.price-d.close,changeLabel:u?n.formatMessage(ce[u]):"",isUp:a.price.price>d.close}:{changePercentage:a.price.change_percent*100,changeAmount:a.price.change,changeLabel:Zn(a.price.latest_trade_timestamp,a.asset.timezone,n),isUp:a.price.change>0});return s.jsxs("div",{className:"flex h-[340px] flex-col gap-6",children:[s.jsx("div",{className:"shrink-0 grow-0",children:s.jsx(Gn,{data:a??null,priceChange:h??null,url:e?.url??null})}),s.jsx("div",{className:"h-full",children:s.jsx(On,{isUp:h?.isUp??!1,defaultInterval:r,histories:a?.histories,onSelectHistoryInterval:l=>i(l),latestTradingPeriod:a?.asset.latest_trading_period,timezone:a?.asset.timezone??null})})]})}function Zn(e,t,n){function r(a,o){const c=R(new Date,o),d=n.formatDate(c,{year:"numeric",month:"2-digit",day:"2-digit"}),u=oe(a*1e3),h=R(u,o),l=n.formatDate(h,{year:"numeric",month:"2-digit",day:"2-digit"});return d===l}if(!e||!t||r(e,t))return n.formatMessage(ce["1d"]);{const a=oe(e*1e3),o=R(a,t);return n.formatDate(o,{month:"long",day:"numeric"})}}function Gn({data:e,priceChange:t,url:n}){function r(a){const{isUp:o,changePercentage:i,changeLabel:c,changeAmount:d}=a,u=Math.abs(i).toFixed(2),h=ie(d);return s.jsxs("span",{className:j("flex items-center gap-1 text-sm",o?An:En),children:[s.jsx("span",{className:"font-semibold",children:s.jsx(y,{id:"3x4Lkl",defaultMessage:"{sign}{changeAmount}",values:{changeAmount:h,sign:o?"+":""}})}),s.jsx(y,{id:"KkjxiB",defaultMessage:"{sign}{changePercentage}%",values:{changePercentage:u,sign:o?"+":"-"}}),s.jsx("span",{className:"text-token-text-primary",children:c})]})}return s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-semibold",children:e?s.jsx(y,{id:"+2WHuv",defaultMessage:"{name} ({ticker})",values:{name:e.asset.name,ticker:e.asset.ticker}}):s.jsx("div",{className:"w-32",children:s.jsx(U,{index:9,width:100})})}),s.jsx("div",{className:"text-sm text-token-text-tertiary",children:e?s.jsxs(s.Fragment,{children:[e.asset.name,n!=null&&s.jsxs(s.Fragment,{children:[" Â· ",s.jsx(A,{href:n,className:"text-token-link hover:underline",children:Ct(n,"hostname")})]})]}):s.jsx("div",{className:"mt-2 w-36",children:s.jsx(U,{index:6,width:100})})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"flex justify-end text-lg font-semibold",children:e?s.jsx(y,{id:"s+1uly",defaultMessage:"{price}",values:{price:ie(e.price.price)}}):s.jsx("div",{className:"w-32",children:s.jsx(U,{index:0,width:100})})}),s.jsx("div",{className:"flex items-center gap-1",children:t?r(t):s.jsx("div",{className:"mt-2 w-40",children:s.jsx(U,{index:3,width:100})})})]})]})}const ce=de({"1d":{id:"SMdcuo",defaultMessage:"Today"},"5d":{id:"HCA6lr",defaultMessage:"Past 5 days"},"1m":{id:"DJpPMq",defaultMessage:"Past month"},"6m":{id:"1mUJ2L",defaultMessage:"Past 6 months"},ytd:{id:"b9KkhV",defaultMessage:"Year to date"},"1y":{id:"XnvD9A",defaultMessage:"Past year"},"5y":{id:"DfI1RB",defaultMessage:"Past 5 years"}}),Vn=4;function qn({metadata:e,analyticsMetadata:t,trackContentReferenceEvent:n}){const r=lt(),a=e.images,o=a.map(h=>h.thumbnail_url),i=Is({queries:o.map(h=>Rt(h)),combine:h=>{const l=new Set;return h.forEach((v,x)=>{v.isSuccess&&l.add(o[x])}),l}}),c=a.filter(h=>i.has(h.thumbnail_url)),d=e.images.length;if(d===0)return null;if(d===1){const h=e.images[0];return s.jsx(Oe,{image:h,imageSource:ye.Turn,analyticsMetadata:t,trackContentReferenceEvent:n,className:"float-image z-10 float-right clear-right mb-7 ml-7 mt-1 min-w-32 max-w-[22%] overflow-hidden rounded-xl border-[0.5px] border-token-border-light"},h.content_url)}const u=r?c.length:Math.min(c.length,Vn);return s.jsx("div",{className:"no-scrollbar mb-6 mt-1 flex min-h-36 flex-nowrap gap-0.5 overflow-auto sm:gap-1 sm:overflow-hidden xl:min-h-44",children:c.slice(0,u).map((h,l)=>s.jsx("div",{className:j("relative aspect-square max-h-48 w-32 shrink-0 overflow-hidden rounded-xl border-[0.5px] border-token-border-light sm:w-[calc((100%-1rem)/4)] md:shrink",l===0&&"rounded-l-xl",l===u-1&&"rounded-r-xl"),children:s.jsx(Oe,{image:h,imageSource:ye.Turn,analyticsMetadata:t,trackContentReferenceEvent:n,className:"h-full w-full"},h.thumbnail_url)},h.thumbnail_url))})}const Xn=f.memo(qn,(e,t)=>e.numImageResults===t.numImageResults&&e.analyticsMetadata===t.analyticsMetadata&&e.trackContentReferenceEvent===t.trackContentReferenceEvent&&e.metadata.images.length===t.metadata.images.length&&e.metadata.images.every((n,r)=>n.content_url===t.metadata.images[r].content_url));function Oe({image:e,imageSource:t,className:n,imgClassName:r,style:a,analyticsMetadata:o,trackContentReferenceEvent:i}){const c=Ot(e),{isSuccess:d}=hs(c),u=f.useMemo(()=>({url:e?.url,title:e?.title}),[e]);f.useEffect(()=>{e&&d&&i(g.searchContentReferenceShown,"search_content_reference_shown","image_v2",u)},[i,e,d,u]);const h=dt.useStore();return s.jsx("button",{className:j("relative aspect-square overflow-hidden",n),style:a,onClick:()=>{i(g.searchContentReferenceClicked,"search_content_reference_clicked","image_v2",u),h.setCurrentImage(e?{image:e,source:t,turnIndex:o.turnIndex}:void 0)},children:e?d?s.jsx(Ut,{children:s.jsx("img",{src:c,alt:e?.content_url,className:j("m-0 h-full w-full bg-token-main-surface-tertiary object-cover",r)})}):s.jsx("div",{className:"h-full w-full animate-pulse bg-token-main-surface-tertiary"}):s.jsx("div",{className:"aspect-square h-full w-full animate-pulse bg-token-main-surface-tertiary"})})}const Kn={google_maps:{title:"Google Maps"}};function Jn({metadata:e,trackContentReferenceEvent:t}){f.useEffect(()=>{t(g.searchContentReferenceShown,"search_content_reference_shown",e.type)},[t,e.type]);const n=Kn[e.provider]?.title??"Maps";return s.jsx("span",{children:s.jsx(y,{id:"ZSUz1k",defaultMessage:" ({link}) ",values:{link:s.jsx(A,{href:e.url,children:n})}})})}function Qn({metadata:e,trackContentReferenceEvent:t}){return e.items.length===0?null:s.jsxs("div",{className:"mt-6 flex flex-col gap-3",children:[e.title&&s.jsx("div",{className:"-mb-1 font-semibold text-token-text-primary",children:e.title}),e.items.map((n,r)=>s.jsx(er,{item:n,index:r,trackContentReferenceEvent:t},r))]})}function er({item:e,index:t,trackContentReferenceEvent:n}){const{isSuccess:r}=hs(e.thumbnail_url??void 0),a={url:e.url,title:e.title,index:t};f.useEffect(()=>{n(g.searchContentReferenceShown,"search_content_reference_shown","nav_list",a)},[]);const i=S().locale,c=e.pub_date!=null?new Date(e.pub_date*1e3):null,d=new Intl.RelativeTimeFormat(i,{numeric:"auto"}),u=c?Math.max(Math.floor((Date.now()-c.getTime())/(1e3*60*60*24)),0):null;let h=u!=null?d.format(-u,"day"):null;return i.startsWith("en")&&h&&(h=h.charAt(0).toUpperCase()+h.slice(1)),s.jsxs(A,{className:"group/nav-list relative flex items-center gap-6 py-1.5",href:e.url,onClick:()=>{n(g.searchContentReferenceClicked,"search_content_reference_clicked","nav_list",a)},children:[s.jsx("div",{className:"absolute bottom-0 left-0 top-0 w-[3px] rounded-b-lg rounded-t-lg bg-black/10"}),s.jsxs("div",{className:"ml-4 flex grow flex-col gap-1 overflow-hidden text-ellipsis",children:[s.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-token-text-primary",children:[s.jsx(V,{url:e.url,size:32,minSize:16,className:"icon-sm my-0 rounded-full"}),e.attribution??s.jsx(me,{url:e.url})]}),s.jsx("div",{className:"line-clamp-2 font-semibold text-token-link decoration-token-link group-hover/nav-list:underline",children:e.title}),h&&s.jsx("div",{className:"text-xs text-token-text-tertiary",children:h})]}),r&&e.thumbnail_url&&s.jsx("div",{className:"h-16 w-16 flex-shrink-0 self-start overflow-hidden",children:s.jsx("img",{src:e.thumbnail_url,className:"m-0 h-full w-full rounded-lg object-cover",alt:e.title})})]})}const sr=5;function tr({sourcesFootnote:e,onShowSearchResults:t,trackContentReferenceEvent:n}){const r=ht(),a={urls:e.sources.map(o=>o.url).toString(),has_images:e.has_images};return f.useEffect(()=>{n(g.searchContentReferenceShown,"search_content_reference_shown","sources_footnote",a)},[]),s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute h-[60px]",children:s.jsxs("button",{className:j("not-prose group/footnote mb-2 mt-3 flex w-fit items-center gap-1.5 rounded-xl border border-token-border-light bg-token-main-surface-primary py-2 hover:bg-token-main-surface-secondary","pl-3 pr-2.5"),onClick:()=>{function o(){n(g.searchContentReferenceClicked,"search_content_reference_clicked","sources_footnote",a),t(Wt.Sources)}r?ut({className:"open-thread-sidebar",update:o}):o()},children:[s.jsx("div",{className:"flex items-center gap-0.5 text-sm font-medium",children:s.jsx(y,{id:"/48IOP",defaultMessage:"Sources"})}),e.sources.length>0&&s.jsx("div",{className:"flex flex-row-reverse",children:e.sources.slice(0,sr).reverse().map((o,i)=>s.jsx("div",{className:j("flex items-center overflow-hidden rounded-full border-token-main-surface-primary bg-token-main-surface-primary","-mr-1.5 first:mr-0","border-2","group-hover/footnote:border-token-main-surface-secondary","relative"),children:s.jsx(V,{url:o.url,size:32,minSize:16,className:"icon-md"})},i))})]})}),s.jsx("div",{className:"h-[60px]"})]})}function E(e,t){const n=ft(e),r=t<0?"-":"+",a=Math.abs(t),o=Math.floor(a/3600).toString().padStart(2,"0"),i=Math.floor(a%3600/60).toString().padStart(2,"0"),c=`${r}${o}:${i}`;return R(n,c)}function le(e,t){if(we(t))return s.jsx(y,{id:"wxni9H",defaultMessage:"Today"});const n=new Date;return n.setTime(n.getTime()+7*24*60*60*1e3),t<n&&t>new Date||we(t)?e.formatDate(t,{weekday:"long"}):e.formatDate(t,{weekday:"short",month:"short",day:"numeric"})}const nr="webp",rr=250,ar=187,or="srgb",ir=4,cr="uchar",lr=72,dr=!1,hr=!1,ur=!0,fr="https://cdn.oaistatic.com/assets/missing-logo-h96s4tk9.webp",Ue={format:nr,width:rr,height:ar,space:or,channels:ir,depth:cr,density:lr,isProgressive:dr,hasProfile:hr,hasAlpha:ur,src:fr};function gs({team:e,className:t}){const[n,r]=f.useState(e.logo??Ue.src),a=()=>{Je.addError("Unable to load sports widget logo",{name:e.name,logo:e.logo}),r(Ue.src)};return s.jsx("img",{src:n,alt:e.name,className:t,onError:a})}const We=6;function mr({scheduleRef:e,trackContentReferenceEvent:t}){const[n,r]=f.useState(!0),a=S(),o=e.games.length>0;if(f.useEffect(()=>{o&&t(g.searchContentReferenceShown,"search_content_reference_shown","sports",{hasSchedule:!0})},[o]),!o)return null;const c=(a.formatDateToParts(new Date,{timeZoneName:"long"}).find(l=>l.type==="timeZoneName")?.value??Intl.DateTimeFormat().resolvedOptions().timeZone).replace(/Daylight|Standard/g,"");let d=e.games;const u=l=>Math.abs(new Date().getTime()-new Date(l.date).getTime());u(d[0])>u(d[d.length-1])&&(d=d.slice().reverse());const h=n?d.slice(0,We):d;return s.jsxs("div",{className:"not-prose mb-3",children:[s.jsx("div",{className:"font-semibold",children:s.jsx(y,{id:"LA6z9q",defaultMessage:"{league} Schedule",values:{league:e.league.display_name}})}),s.jsx("div",{className:"text-sm text-token-text-secondary",children:c}),h.length===1?s.jsx("div",{children:s.jsx($e,{children:s.jsx(Ne.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},exit:{opacity:0,y:-15},transition:{duration:.2},children:s.jsx("div",{className:"mt-3 rounded-xl border border-token-border-medium py-3",children:s.jsx(gr,{game:h[0]})})})})}):s.jsx("div",{className:"grid grid-cols-1 pt-3 lg:grid-cols-2",children:s.jsx($e,{children:h.map((l,v)=>s.jsx(Ne.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0,transition:{delay:v*.04}},exit:{opacity:0,y:-15},transition:{duration:.2},children:s.jsx("div",{className:j("border-b border-token-border-medium py-3",v%2===0&&"lg:border-r lg:pr-4",v%2===1&&"lg:pl-4",Math.floor(v/2)===Math.ceil(d.length/2)-1&&"lg:border-b-0",v===d.length-1&&"border-b-0"),children:s.jsx(pr,{game:l})})},v))})}),d.length>We&&s.jsx("div",{className:"mt-2 flex items-center justify-between",children:s.jsx("button",{className:"flex items-center text-sm font-semibold",onClick:()=>r(!n),children:n?s.jsx(y,{id:"BH/Ee5",defaultMessage:"Show more {icon}",values:{icon:s.jsx($t,{className:"mb-[-2px]"})}}):s.jsx(y,{id:"Z9BlEu",defaultMessage:"Show less {icon}",values:{icon:s.jsx(jt,{className:"mb-[-2px]"})}})})})]})}function pr({game:e}){const t=vs(e),n=[e.first_team_info,e.second_team_info],r=n.find(c=>c.location==="home")??e.first_team_info,a=n.find(c=>c.location==="away")??e.second_team_info,o=t?.team.name===r?.team.name,i=t?.team.name===a?.team.name;return s.jsxs("div",{className:"flex w-full gap-1.5 py-3 text-base",children:[s.jsxs("div",{className:"flex flex-auto flex-col items-start gap-1 pr-3",children:[s.jsx(B,{team:a.team,isWinner:i,logoSize:"small"}),s.jsx(B,{team:r.team,isWinner:o,logoSize:"small"})]}),s.jsxs("div",{className:"flex flex-none flex-col items-start gap-1",children:[s.jsx(Z,{score:a.score,isWinner:i}),s.jsx(Z,{score:r.score,isWinner:o})]}),s.jsx("div",{className:"flex min-w-24 flex-none flex-col items-end justify-center gap-1 text-sm",children:s.jsx(bs,{game:e})})]})}function gr({game:e}){const t=vs(e),n=[e.first_team_info,e.second_team_info],r=n.find(c=>c.location==="home")??e.first_team_info,a=n.find(c=>c.location==="away")??e.second_team_info,o=t?.team.name===r?.team.name,i=t?.team.name===a?.team.name;return s.jsxs("div",{className:"flex w-full py-3 text-base",children:[s.jsx("div",{className:"flex flex-1 items-center justify-center px-2",children:s.jsx(B,{team:r.team,isWinner:o})}),s.jsx("div",{className:"mr-8 flex items-center justify-end",children:s.jsx(Z,{score:r.score,isWinner:o,className:"text-lg font-semibold"})}),s.jsx("div",{className:"flex w-24 shrink flex-col items-center justify-center gap-1 align-middle text-sm",children:s.jsx(bs,{game:e})}),s.jsx("div",{className:"ml-8 flex items-center justify-start",children:s.jsx(Z,{score:a.score,isWinner:i,className:"text-lg font-semibold"})}),s.jsx("div",{className:"flex flex-1 items-center justify-center px-2",children:s.jsx(B,{team:a.team,isWinner:i})})]})}function xs(e){return e.live?"live":new Date(e.date)<new Date?"complete":"scheduled"}function vs(e){return xs(e)!=="complete"||e.first_team_info.score==null||e.second_team_info.score==null?null:e.first_team_info.score>e.second_team_info.score?e.first_team_info:e.second_team_info}function B({team:e,isWinner:t,logoSize:n}){return s.jsxs("span",{className:j("flex items-center gap-1",t&&"font-semibold","max-w-64 lg:max-w-52 xl:max-w-64"),children:[e.logo&&s.jsx(gs,{team:{name:e.name,logo:e.logo},className:j(n==="small"?"w-6":"w-8")}),s.jsx("span",{className:"truncate",children:e.name})]})}function Z({score:e,isWinner:t,className:n}){return e==null?null:s.jsx("span",{className:j(t&&"font-semibold",n),children:e})}function bs({game:e}){const t=S();switch(xs(e)){case"live":return s.jsxs(s.Fragment,{children:[s.jsx(xr,{}),s.jsx("div",{children:e.details})]});case"complete":return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"font-semibold",children:s.jsx(y,{id:"q/iMZL",defaultMessage:"Final"})}),s.jsx("div",{className:"text-token-text-secondary",children:le(t,new Date(e.date))})]});case"scheduled":{const n=new Date(e.date);return isNaN(n.getTime())?null:s.jsxs(s.Fragment,{children:[s.jsx("div",{children:le(t,n)}),s.jsx("div",{className:"text-token-text-secondary",children:t.formatDate(n,{timeStyle:"short"})})]})}}}function xr(){return s.jsx("div",{className:"rounded-[4px] bg-token-surface-error px-1.5 py-1 text-xs font-semibold text-white",children:s.jsx(y,{id:"vObALn",defaultMessage:"Live"})})}function vr({standingsRef:e,trackContentReferenceEvent:t}){const[n,r]=f.useState(0),a=e.conferences.length>0;f.useEffect(()=>{a&&t(g.searchContentReferenceShown,"search_content_reference_shown","sports",{hasStandings:!0})},[a]);const o=e.conferences[n],i=e.conferences.length>1?e.conferences.map((c,d)=>s.jsx("button",{className:j(n===d?"text-token-text-primary":"text-token-text-tertiary","text-sm font-semibold"),onClick:()=>r(d),children:c.name},c.name)):null;return s.jsxs(s.Fragment,{children:[i&&s.jsx("div",{className:"flex gap-4",children:i}),s.jsx("div",{className:"mt-3",children:o.divisions.map(c=>c.name?s.jsx("div",{className:"mt-3",children:s.jsx(Ye,{division:c,teamsColumnHeader:c.name})},c.name):s.jsx(Ye,{division:c}))})]})}function Ye({division:e,teamsColumnHeader:t}){const n=e.headers.map(r=>r.key);return s.jsxs(C.Root,{size:"compact",className:"not-prose",children:[s.jsxs(C.Header,{children:[s.jsx(br,{children:t??s.jsx(y,{id:"kKSGje",defaultMessage:"Team"})}),e.headers.map(r=>s.jsx(ys,{textAlign:"center",className:"min-w-11 !px-0",children:s.jsx(Be,{data:r})},r.key))]}),s.jsx(C.Body,{children:e.teams.map(({team:r,data:a},o)=>{const i=a.reduce((c,d)=>(c[d.key]=d,c),{});return s.jsxs(C.Row,{children:[s.jsx(C.Cell,{className:"w-full !border-0 !py-0 !pl-0",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"mr-2 w-4 whitespace-nowrap tabular-nums text-token-text-tertiary",children:o+1}),s.jsxs("div",{className:"flex items-center justify-start gap-2",children:[s.jsx(gs,{team:r,className:"w-6"}),s.jsx("span",{className:"whitespace-nowrap text-base",children:r.name})]})]})}),n.map(c=>s.jsx(C.Cell,{className:"min-w-11 whitespace-nowrap !border-0 !px-0 !py-0 text-left tabular-nums",textAlign:"center",children:s.jsx(Be,{data:i[c]})},c))]},r.name)})})]})}function Be({data:e}){switch(e.type){case"text":return s.jsx(s.Fragment,{children:e.text});default:return s.jsx(s.Fragment,{children:e.alt})}}const ys=Qe(C.HeaderCell)`text-token-text-secondary !font-normal text-sm !static !bg-transparent !border-token-border-light !border-t-0 !border-l-0 !border-r-0`,br=Qe(ys)`text-token-text-primary !pl-0`;function yr({metadata:e,trackContentReferenceEvent:t}){f.useEffect(()=>{t(g.searchContentReferenceShown,"search_content_reference_shown",e.type)},[t,e.type]);const n=S(),r=R(e.utc_time,e.utc_offset),a=n.formatDate(r,{hour:"numeric",minute:"numeric"});return s.jsx("span",{children:a})}function wr(e){return ls()?null:s.jsx(ws,{...e})}function $r(e){return ls()?s.jsx(ws,{...e}):null}function ws({webpageRef:e,node:t,trackContentReferenceEvent:n,isSearchResponse:r}){const a=fe(),o=ds(),[i,c]=f.useState(o?a.getStaticStyles(t):{}),[d,u]=f.useState(null);switch(f.useEffect(()=>{if(!t||!d||!o)return;async function h(){if(!t)return;const l=await a.processElementForStyles(t);f.startTransition(()=>{c(l)})}h()},[o,t,d,a]),e.status){case"loading":return s.jsx("span",{style:i,ref:u,children:s.jsx(jr,{})});case"error":return s.jsx("span",{style:i,ref:u,children:s.jsx(kr,{contentRef:e})});default:return s.jsx("span",{style:i,ref:u,children:e.items.map((h,l)=>s.jsx(Nr,{webpageItem:h,trackContentReferenceEvent:n,isSearchResponse:r},`${l}-${h.url}`))})}}function jr(){return s.jsx("div",{className:"inline-flex items-center gap-1.5",children:s.jsx("div",{className:"h-[22px] w-20 animate-pulse rounded-full bg-[#f4f4f4] dark:bg-token-main-surface-secondary"})})}function kr({contentRef:e}){return null}function Nr({webpageItem:e,className:t,trackContentReferenceEvent:n,isSearchResponse:r}){const a={url:e.url,title:e.title,pub_date:Sr(e.pub_date)},o=()=>{r?n(g.searchCitationClicked,"search_citation_clicked","webpage",a):n(g.browsingClickCitation,"chatgpt_browsing_click_citation","webpage",a)},i=f.useContext(O),c=s.jsx("div",{className:"relative inline-flex items-center",children:s.jsx(A,{href:e.url,className:j("flex h-[22px] items-center rounded-xl px-2 text-[0.5em] !font-medium uppercase","bg-[#f4f4f4] !text-token-text-secondary hover:bg-token-text-primary hover:!text-token-main-surface-secondary dark:bg-token-main-surface-secondary dark:hover:bg-token-text-primary","relative top-[-0.094rem]",t),onClick:o,onMouseEnter:()=>{e.attributions!=null&&je.setHighlightBySource(i?.message.id,e)},onMouseLeave:()=>{je.clearHighlights()},children:s.jsx("span",{className:"truncate",children:e.attribution??s.jsx(me,{url:e.url})})})});return s.jsx(_r,{webpageItem:e,eventMetadata:a,trackContentReferenceEvent:n,isSearchResponse:r,children:c})}function _r({webpageItem:e,eventMetadata:t,children:n,trackContentReferenceEvent:r,isSearchResponse:a}){return f.useEffect(()=>{a?r(g.searchCitationShown,"search_citation_shown","webpage",t):r(g.browsingDisplayCitation,"chatgpt_browsing_display_citation","webpage",t)},[]),s.jsx($s,{webpageItem:e,onClick:()=>{a?r(g.searchCitationClicked,"search_citation_clicked","webpage",t):r(g.browsingClickCitation,"chatgpt_browsing_click_citation","webpage",t)},onOpenChange:o=>{o&&(a?r(g.searchCitationHovered,"search_citation_hovered","webpage",t):r(g.browsingHoverCitation,"chatgpt_browsing_hover_citation","webpage",t))},children:n})}function $s({webpageItem:e,onClick:t,onOpenChange:n,children:r,className:a}){const o=he().resolvedTheme==="dark",i=os(),c=e.pub_date!=null&&new Date(e.pub_date*1e3);return s.jsx(G,{label:s.jsxs(A,{href:e.url,className:j("flex max-w-80 flex-col gap-1 text-left text-xs font-normal text-token-text-primary !no-underline",a),onClick:t,children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:"h-4 w-4 shrink-0 overflow-hidden rounded-full",children:s.jsx(V,{url:e.url,size:32,minSize:16})}),s.jsx("div",{className:"truncate text-token-text-primary",children:e.attribution??s.jsx(me,{url:e.url})})]}),s.jsx("div",{className:"line-clamp-2 text-sm font-medium",children:e.title}),s.jsxs("div",{className:"line-clamp-2 text-sm text-token-text-secondary",children:[c&&c.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}),c&&e.snippet&&" â€” ",e.snippet]}),i&&s.jsx(bt,{item:e})]}),onOpenChange:n,side:"bottom",sideOffset:10,withArrow:!1,delayDuration:150,theme:o?"default":"white",align:"start",customPaddingClassName:"p-3",cornerRadius:"xl",customBorderClassName:"border-token-border-light border",wide:!0,children:r})}function Sr(e){if(e!=null)return new Date(e*1e3).toISOString()}function Cr({metadata:e,trackContentReferenceEvent:t}){return f.useEffect(()=>{t(g.searchContentReferenceShown,"search_content_reference_shown",e.type)},[t,e.type]),s.jsx("div",{children:e.url?s.jsx($s,{webpageItem:{url:e.url,title:e.description,pub_date:null,snippet:"",attributions:null},className:"inline-flex flex-col",children:s.jsx(A,{href:e.url,className:"!font-semibold",children:e.description})}):s.jsx("div",{className:"!font-semibold",children:e.description})})}function Pr({tldr:e,trackContentReferenceEvent:t}){const n={url:e.url,title:e.display_title},r=e.url!=null&&e.url!=="";return f.useEffect(()=>{r&&t(g.searchContentReferenceShown,"search_content_reference_shown",e.type,n)},[r]),r?s.jsx("div",{className:"not-prose mb-3 flex flex-col gap-4 text-base",children:s.jsx(A,{href:e.url,onClick:()=>t(g.searchContentReferenceClicked,"search_content_reference_clicked",e.type,n),className:"group/tldr",children:s.jsxs("div",{className:"grid max-w-full shrink grid-cols-[1fr,auto] items-center gap-x-8 sm:gap-x-16",children:[s.jsxs("div",{className:"flex shrink flex-col overflow-hidden",children:[s.jsx("div",{className:"shrink text-lg font-semibold text-token-text-primary 2xl:text-xl",children:e.display_title}),s.jsx("div",{className:"flex items-center truncate text-token-link [overflow-wrap:anywhere] group-hover/tldr:opacity-70",children:Ls(e.breadcrumbs)?.map((a,o)=>s.jsxs(f.Fragment,{children:[o!==0&&s.jsx(kt,{className:"h-4 w-4 shrink-0"}),s.jsx("div",{className:"truncate",children:a.toLowerCase()})]},o))})]}),s.jsx(V,{url:e.url,size:128,minSize:32,className:"mr-[0.1875rem] h-7 w-7 shrink-0 rounded"}),e.snippet&&s.jsx("div",{className:"line-clamp-3 overflow-hidden text-ellipsis text-sm text-token-text-tertiary",children:e.snippet})]})})}):null}function Dr({url:e,className:t}){let n;const r="aspect-video w-full rounded-lg",a=Tr(e);a&&(n=s.jsx(Mr,{videoId:a,className:r}));const o=Ar(e);return o&&(n=s.jsx(Er,{videoId:o,className:r})),n?s.jsx("div",{className:t,children:n}):null}function Tr(e){const t=/^(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:[^/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/,n=e.match(t);return n?n[1]:null}function Mr({videoId:e,className:t}){return s.jsx("iframe",{className:t,src:`https://www.youtube.com/embed/${e}`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0})}function Ar(e){const t=/vimeo\.com\/(?:channels\/(?:\w+\/)?|groups\/[^/]+\/videos\/|video\/|)(\d+)/,n=e.match(t);return n?n[1]:null}function Er({videoId:e,className:t}){return s.jsx(s.Fragment,{children:s.jsx("iframe",{className:t,src:`https://player.vimeo.com/video/${e}`,frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture",allowFullScreen:!0})})}function Ir({video:e,trackContentReferenceEvent:t}){const n={url:e.url,title:e.title};return f.useEffect(()=>{t(g.searchContentReferenceShown,"search_content_reference_shown",e.type,n)},[]),e.url==null||e.url===""?null:s.jsx("div",{className:"not-prose mb-3 flex flex-col gap-4 text-base",children:s.jsx(Dr,{url:e.url})})}const Lr="webp",Fr=96,zr=96,Hr="srgb",Rr=4,Or="uchar",Ur=288,Wr=!1,Yr=!1,Br=!0,Zr="https://cdn.oaistatic.com/assets/cloud-foggy-o4a3hmky.webp",Gr={format:Lr,width:Fr,height:zr,space:Hr,channels:Rr,depth:Or,density:Ur,isProgressive:Wr,hasProfile:Yr,hasAlpha:Br,src:Zr},Vr="webp",qr=96,Xr=96,Kr="srgb",Jr=4,Qr="uchar",ea=288,sa=!1,ta=!1,na=!0,ra="https://cdn.oaistatic.com/assets/cloudy-co8vwrk7.webp",aa={format:Vr,width:qr,height:Xr,space:Kr,channels:Jr,depth:Qr,density:ea,isProgressive:sa,hasProfile:ta,hasAlpha:na,src:ra},oa="webp",ia=96,ca=96,la="srgb",da=4,ha="uchar",ua=288,fa=!1,ma=!1,pa=!0,ga="https://cdn.oaistatic.com/assets/heavy-snow-mke52kag.webp",xa={format:oa,width:ia,height:ca,space:la,channels:da,depth:ha,density:ua,isProgressive:fa,hasProfile:ma,hasAlpha:pa,src:ga},va="webp",ba=96,ya=96,wa="srgb",$a=4,ja="uchar",ka=288,Na=!1,_a=!1,Sa=!0,Ca="https://cdn.oaistatic.com/assets/light-snow-mcy1l7t9.webp",Pa={format:va,width:ba,height:ya,space:wa,channels:$a,depth:ja,density:ka,isProgressive:Na,hasProfile:_a,hasAlpha:Sa,src:Ca},Da="webp",Ta=96,Ma=96,Aa="srgb",Ea=4,Ia="uchar",La=288,Fa=!1,za=!1,Ha=!0,Ra="https://cdn.oaistatic.com/assets/moon-drizzle-cplxr2ub.webp",Oa={format:Da,width:Ta,height:Ma,space:Aa,channels:Ea,depth:Ia,density:La,isProgressive:Fa,hasProfile:za,hasAlpha:Ha,src:Ra},Ua="webp",Wa=96,Ya=96,Ba="srgb",Za=4,Ga="uchar",Va=288,qa=!1,Xa=!1,Ka=!0,Ja="https://cdn.oaistatic.com/assets/moon-hazy-jvgt25bp.webp",Qa={format:Ua,width:Wa,height:Ya,space:Ba,channels:Za,depth:Ga,density:Va,isProgressive:qa,hasProfile:Xa,hasAlpha:Ka,src:Ja},eo="webp",so=96,to=96,no="srgb",ro=4,ao="uchar",oo=288,io=!1,co=!1,lo=!0,ho="https://cdn.oaistatic.com/assets/moon-mostly-cloudy-cia3do0v.webp",uo={format:eo,width:so,height:to,space:no,channels:ro,depth:ao,density:oo,isProgressive:io,hasProfile:co,hasAlpha:lo,src:ho},fo="webp",mo=96,po=96,go="srgb",xo=4,vo="uchar",bo=288,yo=!1,wo=!1,$o=!0,jo="https://cdn.oaistatic.com/assets/moon-mostly-sunny-n3mh1b6a.webp",ko={format:fo,width:mo,height:po,space:go,channels:xo,depth:vo,density:bo,isProgressive:yo,hasProfile:wo,hasAlpha:$o,src:jo},No="webp",_o=96,So=96,Co="srgb",Po=4,Do="uchar",To=288,Mo=!1,Ao=!1,Eo=!0,Io="https://cdn.oaistatic.com/assets/moon-shower-ntzhti9o.webp",Lo={format:No,width:_o,height:So,space:Co,channels:Po,depth:Do,density:To,isProgressive:Mo,hasProfile:Ao,hasAlpha:Eo,src:Io},Fo="webp",zo=96,Ho=96,Ro="srgb",Oo=4,Uo="uchar",Wo=288,Yo=!1,Bo=!1,Zo=!0,Go="https://cdn.oaistatic.com/assets/moon-sunny-eg2emh4d.webp",Vo={format:Fo,width:zo,height:Ho,space:Ro,channels:Oo,depth:Uo,density:Wo,isProgressive:Yo,hasProfile:Bo,hasAlpha:Zo,src:Go},qo="webp",Xo=96,Ko=96,Jo="srgb",Qo=4,ei="uchar",si=288,ti=!1,ni=!1,ri=!0,ai="https://cdn.oaistatic.com/assets/rain-thunder-bx7a0l5g.webp",oi={format:qo,width:Xo,height:Ko,space:Jo,channels:Qo,depth:ei,density:si,isProgressive:ti,hasProfile:ni,hasAlpha:ri,src:ai},ii="webp",ci=96,li=96,di="srgb",hi=4,ui="uchar",fi=288,mi=!1,pi=!1,gi=!0,xi="https://cdn.oaistatic.com/assets/rain-cxs76xuj.webp",vi={format:ii,width:ci,height:li,space:di,channels:hi,depth:ui,density:fi,isProgressive:mi,hasProfile:pi,hasAlpha:gi,src:xi},bi="webp",yi=96,wi=96,$i="srgb",ji=4,ki="uchar",Ni=288,_i=!1,Si=!1,Ci=!0,Pi="https://cdn.oaistatic.com/assets/sleet-gc63vwmo.webp",Di={format:bi,width:yi,height:wi,space:$i,channels:ji,depth:ki,density:Ni,isProgressive:_i,hasProfile:Si,hasAlpha:Ci,src:Pi},Ti="webp",Mi=96,Ai=96,Ei="srgb",Ii=4,Li="uchar",Fi=288,zi=!1,Hi=!1,Ri=!0,Oi="https://cdn.oaistatic.com/assets/snow-d0k6tmmc.webp",Ui={format:Ti,width:Mi,height:Ai,space:Ei,channels:Ii,depth:Li,density:Fi,isProgressive:zi,hasProfile:Hi,hasAlpha:Ri,src:Oi},Wi="webp",Yi=96,Bi=96,Zi="srgb",Gi=4,Vi="uchar",qi=288,Xi=!1,Ki=!1,Ji=!0,Qi="https://cdn.oaistatic.com/assets/sun-drizzle-g94obr5e.webp",ec={format:Wi,width:Yi,height:Bi,space:Zi,channels:Gi,depth:Vi,density:qi,isProgressive:Xi,hasProfile:Ki,hasAlpha:Ji,src:Qi},sc="webp",tc=96,nc=96,rc="srgb",ac=4,oc="uchar",ic=288,cc=!1,lc=!1,dc=!0,hc="https://cdn.oaistatic.com/assets/sun-hazy-c3z1j0hy.webp",uc={format:sc,width:tc,height:nc,space:rc,channels:ac,depth:oc,density:ic,isProgressive:cc,hasProfile:lc,hasAlpha:dc,src:hc},fc="webp",mc=96,pc=96,gc="srgb",xc=4,vc="uchar",bc=288,yc=!1,wc=!1,$c=!0,jc="https://cdn.oaistatic.com/assets/sun-mostly-cloudy-d4o4zkga.webp",kc={format:fc,width:mc,height:pc,space:gc,channels:xc,depth:vc,density:bc,isProgressive:yc,hasProfile:wc,hasAlpha:$c,src:jc},Nc="webp",_c=96,Sc=96,Cc="srgb",Pc=4,Dc="uchar",Tc=288,Mc=!1,Ac=!1,Ec=!0,Ic="https://cdn.oaistatic.com/assets/sun-mostly-sunny-livrdkgu.webp",Lc={format:Nc,width:_c,height:Sc,space:Cc,channels:Pc,depth:Dc,density:Tc,isProgressive:Mc,hasProfile:Ac,hasAlpha:Ec,src:Ic},Fc="webp",zc=96,Hc=96,Rc="srgb",Oc=4,Uc="uchar",Wc=288,Yc=!1,Bc=!1,Zc=!0,Gc="https://cdn.oaistatic.com/assets/sun-shower-lvtjthah.webp",Vc={format:Fc,width:zc,height:Hc,space:Rc,channels:Oc,depth:Uc,density:Wc,isProgressive:Yc,hasProfile:Bc,hasAlpha:Zc,src:Gc},qc="webp",Xc=96,Kc=96,Jc="srgb",Qc=4,el="uchar",sl=288,tl=!1,nl=!1,rl=!0,al="https://cdn.oaistatic.com/assets/sun-sunny-kqjpjzd8.webp",ol={format:qc,width:Xc,height:Kc,space:Jc,channels:Qc,depth:el,density:sl,isProgressive:tl,hasProfile:nl,hasAlpha:rl,src:al},il="webp",cl=96,ll=96,dl="srgb",hl=4,ul="uchar",fl=288,ml=!1,pl=!1,gl=!0,xl="https://cdn.oaistatic.com/assets/thunder-jgjqg9ai.webp",vl={format:il,width:cl,height:ll,space:dl,channels:hl,depth:ul,density:fl,isProgressive:ml,hasProfile:pl,hasAlpha:gl,src:xl},bl="webp",yl=96,wl=96,$l="srgb",jl=4,kl="uchar",Nl=288,_l=!1,Sl=!1,Cl=!0,Pl="https://cdn.oaistatic.com/assets/tornado-opa24tq3.webp",Dl={format:bl,width:yl,height:wl,space:$l,channels:jl,depth:kl,density:Nl,isProgressive:_l,hasProfile:Sl,hasAlpha:Cl,src:Pl},Tl="webp",Ml=96,Al=96,El="srgb",Il=4,Ll="uchar",Fl=288,zl=!1,Hl=!1,Rl=!0,Ol="https://cdn.oaistatic.com/assets/windy-mw0a3u21.webp",Ul={format:Tl,width:Ml,height:Al,space:El,channels:Il,depth:Ll,density:Fl,isProgressive:zl,hasProfile:Hl,hasAlpha:Rl,src:Ol},Wl="webp",Yl=96,Bl=96,Zl="srgb",Gl=4,Vl="uchar",ql=288,Xl=!1,Kl=!1,Jl=!0,Ql="https://cdn.oaistatic.com/assets/cloud-foggy-fhg0jn0w.webp",ed={format:Wl,width:Yl,height:Bl,space:Zl,channels:Gl,depth:Vl,density:ql,isProgressive:Xl,hasProfile:Kl,hasAlpha:Jl,src:Ql},sd="webp",td=96,nd=96,rd="srgb",ad=4,od="uchar",id=288,cd=!1,ld=!1,dd=!0,hd="https://cdn.oaistatic.com/assets/cloudy-disd26f3.webp",ud={format:sd,width:td,height:nd,space:rd,channels:ad,depth:od,density:id,isProgressive:cd,hasProfile:ld,hasAlpha:dd,src:hd},fd="webp",md=96,pd=96,gd="srgb",xd=4,vd="uchar",bd=288,yd=!1,wd=!1,$d=!0,jd="https://cdn.oaistatic.com/assets/heavy-snow-g6jjwo2d.webp",kd={format:fd,width:md,height:pd,space:gd,channels:xd,depth:vd,density:bd,isProgressive:yd,hasProfile:wd,hasAlpha:$d,src:jd},Nd="webp",_d=96,Sd=96,Cd="srgb",Pd=4,Dd="uchar",Td=288,Md=!1,Ad=!1,Ed=!0,Id="https://cdn.oaistatic.com/assets/light-snow-iz0efpkh.webp",Ld={format:Nd,width:_d,height:Sd,space:Cd,channels:Pd,depth:Dd,density:Td,isProgressive:Md,hasProfile:Ad,hasAlpha:Ed,src:Id},Fd="webp",zd=96,Hd=96,Rd="srgb",Od=4,Ud="uchar",Wd=288,Yd=!1,Bd=!1,Zd=!0,Gd="https://cdn.oaistatic.com/assets/moon-drizzle-b1nfv39c.webp",Vd={format:Fd,width:zd,height:Hd,space:Rd,channels:Od,depth:Ud,density:Wd,isProgressive:Yd,hasProfile:Bd,hasAlpha:Zd,src:Gd},qd="webp",Xd=96,Kd=96,Jd="srgb",Qd=4,eh="uchar",sh=288,th=!1,nh=!1,rh=!0,ah="https://cdn.oaistatic.com/assets/moon-hazy-nfnzea7a.webp",oh={format:qd,width:Xd,height:Kd,space:Jd,channels:Qd,depth:eh,density:sh,isProgressive:th,hasProfile:nh,hasAlpha:rh,src:ah},ih="webp",ch=96,lh=96,dh="srgb",hh=4,uh="uchar",fh=288,mh=!1,ph=!1,gh=!0,xh="https://cdn.oaistatic.com/assets/moon-mostly-cloudy-e56e3z55.webp",vh={format:ih,width:ch,height:lh,space:dh,channels:hh,depth:uh,density:fh,isProgressive:mh,hasProfile:ph,hasAlpha:gh,src:xh},bh="webp",yh=96,wh=96,$h="srgb",jh=4,kh="uchar",Nh=288,_h=!1,Sh=!1,Ch=!0,Ph="https://cdn.oaistatic.com/assets/moon-mostly-sunny-ffu4gzf4.webp",Dh={format:bh,width:yh,height:wh,space:$h,channels:jh,depth:kh,density:Nh,isProgressive:_h,hasProfile:Sh,hasAlpha:Ch,src:Ph},Th="webp",Mh=96,Ah=96,Eh="srgb",Ih=4,Lh="uchar",Fh=288,zh=!1,Hh=!1,Rh=!0,Oh="https://cdn.oaistatic.com/assets/moon-shower-e5dy9u48.webp",Uh={format:Th,width:Mh,height:Ah,space:Eh,channels:Ih,depth:Lh,density:Fh,isProgressive:zh,hasProfile:Hh,hasAlpha:Rh,src:Oh},Wh="webp",Yh=96,Bh=96,Zh="srgb",Gh=4,Vh="uchar",qh=288,Xh=!1,Kh=!1,Jh=!0,Qh="https://cdn.oaistatic.com/assets/moon-sunny-d9o08xiw.webp",eu={format:Wh,width:Yh,height:Bh,space:Zh,channels:Gh,depth:Vh,density:qh,isProgressive:Xh,hasProfile:Kh,hasAlpha:Jh,src:Qh},su="webp",tu=96,nu=96,ru="srgb",au=4,ou="uchar",iu=288,cu=!1,lu=!1,du=!0,hu="https://cdn.oaistatic.com/assets/rain-thunder-eplemvu1.webp",uu={format:su,width:tu,height:nu,space:ru,channels:au,depth:ou,density:iu,isProgressive:cu,hasProfile:lu,hasAlpha:du,src:hu},fu="webp",mu=96,pu=96,gu="srgb",xu=4,vu="uchar",bu=288,yu=!1,wu=!1,$u=!0,ju="https://cdn.oaistatic.com/assets/rain-ogayr6kt.webp",ku={format:fu,width:mu,height:pu,space:gu,channels:xu,depth:vu,density:bu,isProgressive:yu,hasProfile:wu,hasAlpha:$u,src:ju},Nu="webp",_u=96,Su=96,Cu="srgb",Pu=4,Du="uchar",Tu=288,Mu=!1,Au=!1,Eu=!0,Iu="https://cdn.oaistatic.com/assets/sleet-o8noil7l.webp",Lu={format:Nu,width:_u,height:Su,space:Cu,channels:Pu,depth:Du,density:Tu,isProgressive:Mu,hasProfile:Au,hasAlpha:Eu,src:Iu},Fu="webp",zu=96,Hu=96,Ru="srgb",Ou=4,Uu="uchar",Wu=288,Yu=!1,Bu=!1,Zu=!0,Gu="https://cdn.oaistatic.com/assets/snow-lq4cl3uc.webp",Vu={format:Fu,width:zu,height:Hu,space:Ru,channels:Ou,depth:Uu,density:Wu,isProgressive:Yu,hasProfile:Bu,hasAlpha:Zu,src:Gu},qu="webp",Xu=96,Ku=96,Ju="srgb",Qu=4,ef="uchar",sf=288,tf=!1,nf=!1,rf=!0,af="https://cdn.oaistatic.com/assets/sun-drizzle-htsohv65.webp",of={format:qu,width:Xu,height:Ku,space:Ju,channels:Qu,depth:ef,density:sf,isProgressive:tf,hasProfile:nf,hasAlpha:rf,src:af},cf="webp",lf=96,df=96,hf="srgb",uf=4,ff="uchar",mf=288,pf=!1,gf=!1,xf=!0,vf="https://cdn.oaistatic.com/assets/sun-hazy-nfj7clcd.webp",bf={format:cf,width:lf,height:df,space:hf,channels:uf,depth:ff,density:mf,isProgressive:pf,hasProfile:gf,hasAlpha:xf,src:vf},yf="webp",wf=96,$f=96,jf="srgb",kf=4,Nf="uchar",_f=288,Sf=!1,Cf=!1,Pf=!0,Df="https://cdn.oaistatic.com/assets/sun-mostly-cloudy-e3pqqgs7.webp",Tf={format:yf,width:wf,height:$f,space:jf,channels:kf,depth:Nf,density:_f,isProgressive:Sf,hasProfile:Cf,hasAlpha:Pf,src:Df},Mf="webp",Af=96,Ef=96,If="srgb",Lf=4,Ff="uchar",zf=288,Hf=!1,Rf=!1,Of=!0,Uf="https://cdn.oaistatic.com/assets/sun-mostly-sunny-o99k1c7a.webp",Wf={format:Mf,width:Af,height:Ef,space:If,channels:Lf,depth:Ff,density:zf,isProgressive:Hf,hasProfile:Rf,hasAlpha:Of,src:Uf},Yf="webp",Bf=96,Zf=96,Gf="srgb",Vf=4,qf="uchar",Xf=288,Kf=!1,Jf=!1,Qf=!0,em="https://cdn.oaistatic.com/assets/sun-shower-ldwl4jbp.webp",sm={format:Yf,width:Bf,height:Zf,space:Gf,channels:Vf,depth:qf,density:Xf,isProgressive:Kf,hasProfile:Jf,hasAlpha:Qf,src:em},tm="webp",nm=96,rm=96,am="srgb",om=4,im="uchar",cm=!1,lm=!1,dm=!0,hm="https://cdn.oaistatic.com/assets/sun-sunny-kqjpjzd8.webp",um={format:tm,width:nm,height:rm,space:am,channels:om,depth:im,isProgressive:cm,hasProfile:lm,hasAlpha:dm,src:hm},fm="webp",mm=96,pm=96,gm="srgb",xm=4,vm="uchar",bm=288,ym=!1,wm=!1,$m=!0,jm="https://cdn.oaistatic.com/assets/thunder-xzn1cku3.webp",km={format:fm,width:mm,height:pm,space:gm,channels:xm,depth:vm,density:bm,isProgressive:ym,hasProfile:wm,hasAlpha:$m,src:jm},Nm="webp",_m=96,Sm=96,Cm="srgb",Pm=4,Dm="uchar",Tm=288,Mm=!1,Am=!1,Em=!0,Im="https://cdn.oaistatic.com/assets/tornado-diqu61wg.webp",Lm={format:Nm,width:_m,height:Sm,space:Cm,channels:Pm,depth:Dm,density:Tm,isProgressive:Mm,hasProfile:Am,hasAlpha:Em,src:Im},Fm="webp",zm=96,Hm=96,Rm="srgb",Om=4,Um="uchar",Wm=288,Ym=!1,Bm=!1,Zm=!0,Gm="https://cdn.oaistatic.com/assets/windy-n2v8wtyp.webp",Vm={format:Fm,width:zm,height:Hm,space:Rm,channels:Om,depth:Um,density:Wm,isProgressive:Ym,hasProfile:Bm,hasAlpha:Zm,src:Gm},qm={foggy:{default:Gr},cloudy:{default:aa},"heavy-snow":{default:xa},"light-snow":{default:Pa},sleet:{default:Di},drizzle:{default:ec,night:Oa},hazy:{default:uc,night:Qa},"mostly-cloudy":{default:kc,night:uo},"mostly-sunny":{default:Lc,night:ko},shower:{default:Vc,night:Lo},sunny:{default:ol,night:Vo},"rain-thunder":{default:oi},rain:{default:vi},snow:{default:Ui},thunder:{default:vl},tornado:{default:Dl},windy:{default:Ul}},Xm={foggy:{default:ed},cloudy:{default:ud},"heavy-snow":{default:kd},"light-snow":{default:Ld},sleet:{default:Lu},drizzle:{default:of,night:Vd},hazy:{default:bf,night:oh},"mostly-cloudy":{default:Tf,night:vh},"mostly-sunny":{default:Wf,night:Dh},shower:{default:sm,night:Uh},sunny:{default:um,night:eu},"rain-thunder":{default:uu},rain:{default:ku},snow:{default:Vu},thunder:{default:km},tornado:{default:Lm},windy:{default:Vm}};function Km({weatherCode:e,isDarkMode:t,isNight:n}){const r=t?Xm:qm,a=Jm(e),o=r[a];return o.night&&n?o.night:o.default}function Jm(e){switch(e){case 1:case 33:return"sunny";case 2:case 3:case 34:case 35:case 36:return"mostly-sunny";case 4:case 6:case 13:case 14:case 38:return"mostly-cloudy";case 5:case 37:return"hazy";case 7:case 8:return"cloudy";case 11:return"foggy";case 12:case 39:case 40:return"shower";case 15:case 16:case 17:case 41:case 42:return"thunder";case 18:return"rain";case 19:case 20:case 21:case 43:return"light-snow";case 22:case 23:case 44:return"snow";case 24:case 25:case 26:case 29:return"sleet";case 32:return"windy";default:return"cloudy"}}const Qm="C";function ep(e,t){return Math.round(e==="F"?t*9/5+32:(t-32)*5/9)}function Ze(e,t,n=Qm){return e===n?`${Math.round(t)}Â°`:`${ep(e,t)}Â°`}const sp=7,Ge=8,tp=f.memo(function({weatherResults:t,dateRange:n,turnIndex:r,trackContentReferenceEvent:a}){const[o,i]=fp(),c=ap(t);f.useEffect(()=>{a(g.searchContentReferenceShown,"search_content_reference_shown","forecast")},[a]);const{daily:d,hourly:u,historical:h}=t;let l="daily";if(n||u&&d.length<2)l="hourly";else if(d.length>0)l="daily";else if(h&&h?.length>0)l="historical";else return null;return s.jsxs("div",{className:"relative",children:[c?s.jsxs(s.Fragment,{children:[s.jsx(rp,{weatherResults:t}),s.jsx(op,{weatherResults:t,temperatureUnit:o,setTemperatureUnit:i})]}):s.jsx("div",{className:"absolute right-0 top-3 z-10 rounded bg-token-main-surface-primary",children:s.jsx(js,{onTemperatureUnitChange:i,temperatureUnit:o})}),s.jsx(dp,{turnIndex:r}),l==="hourly"&&s.jsx(ip,{weatherResults:t,temperatureUnit:o,dateRange:n}),l==="daily"&&s.jsx(cp,{dailyForecast:d.slice(0,sp),temperatureUnit:o}),l==="historical"&&s.jsx(lp,{historical:h,temperatureUnit:o})]})});function np({weatherAlert:e}){const[t,n]=f.useState(!1),r=S(),a=cs(),o=E(e.start_timestamp,e.utc_offset_sec),i=e.end_timestamp?E(e.end_timestamp,e.utc_offset_sec):null,c=s.jsxs(s.Fragment,{children:[s.jsx("div",{children:s.jsx(y,{id:"JnuGPS",defaultMessage:"{start}{separator}{end}",values:{start:r.formatDate(o,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}),separator:i?" - ":"",end:i?r.formatDate(i,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}):""}})}),s.jsx("div",{children:e.summary})]});return s.jsxs("button",{className:"my-2 flex w-full flex-col gap-2 rounded-xl border border-red-200 bg-red-100 px-4 py-3 text-left text-sm text-red-800",onClick:()=>n(!t),children:[s.jsxs("div",{className:"flex w-full items-center gap-4",children:[s.jsx(St,{className:"h-9 w-9 shrink-0"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("div",{className:"font-bold",children:s.jsx(y,{id:"y+fy/l",defaultMessage:"Severe Weather: {name}",values:{name:e.name}})}),a&&c]}),s.jsx("div",{className:"flex-grow"}),s.jsx("div",{className:"opacity-30",children:t?s.jsx(Bt,{className:"icon-lg"}):s.jsx(Yt,{className:"icon-lg"})})]}),t&&e.details&&s.jsxs(s.Fragment,{children:[!a&&c,s.jsx("div",{className:"mt-1 whitespace-pre-wrap",children:e.details.trim()})]})]})}function rp({weatherResults:e}){const{severe:t}=e;return t?s.jsx("div",{className:"my-2",children:t.map((n,r)=>s.jsx(np,{weatherAlert:n},r))}):null}function ap(e){const{historical:t,daily:n,hourly:r,current:a}=e;if(!a)return!1;let o=!1;const i=E(a.timestamp,a.utc_offset_sec);for(const c of[t,n,r])c&&(o=o||c?.some(d=>mt(i,E(d.timestamp,d.utc_offset_sec))));return o}function op({weatherResults:e,temperatureUnit:t,setTemperatureUnit:n}){const r=S(),{current:a}=e;if(!a)return null;const o=a.temperature.current,i=a.description,c=o!=null&&i&&" Â· ";return s.jsxs("div",{className:"not-prose flex items-center gap-4",children:[s.jsxs("div",{className:"flex-grow",children:[s.jsxs("div",{className:"text-lg font-semibold",children:[o!=null&&s.jsx(y,{id:"FiwByI",defaultMessage:"Currently {temperature}",values:{temperature:F(r,o,t)}}),c,i.description]}),s.jsx("div",{className:"text-token-text-secondary",children:up(e.location)})]}),s.jsxs("div",{className:"flex",children:[s.jsx(js,{onTemperatureUnitChange:n,temperatureUnit:t}),s.jsx(xe,{weatherDescriptionData:i,isNight:a.night})]})]})}function ge({children:e}){return s.jsx("div",{className:"no-scrollbar not-prose mt-1 overflow-auto sm:overflow-hidden",children:s.jsx(C.Root,{className:"min-w-0",children:s.jsx(C.Body,{className:"border-b-[0.5px] border-token-border-medium [&_tr:last-child]:border-b-0",children:e})})})}function ip({weatherResults:e,temperatureUnit:t,dateRange:n}){const r=S(),{hourly:a,current:o}=e;let i=a??[];n&&(i=i.filter(h=>h.timestamp>=n.start_timestamp&&h.timestamp<n.end_timestamp));const[c,d]=f.useState(!1),u=i.length>Ge;if(!c&&u){const h=i[0],l=E(h.timestamp,h.utc_offset_sec);let v=!1;if(o){const x=E(o.timestamp,o.utc_offset_sec);l.getTime()-x.getTime()>8*60*60*1e3&&i.length>18&&(i=i.slice(7,18),v=!0)}v||(i=i.slice(0,Ge))}return s.jsxs(ge,{children:[i.map((h,l)=>s.jsxs(C.Row,{children:[s.jsxs(M,{className:"w-44",children:[s.jsx(xe,{weatherDescriptionData:h.description,isNight:h.night,size:"small"}),s.jsx("div",{className:"ml-3 whitespace-nowrap",children:s.jsx("span",{className:"lowercase",children:hp(r,h)})})]}),s.jsx(M,{className:"w-[60px] tabular-nums",children:s.jsx("div",{children:F(r,h.temperature.current,t)})}),s.jsx(M,{children:h.description.description})]},l)),u&&s.jsx(C.Row,{children:s.jsx(M,{className:"w-44",children:s.jsx(es,{color:"secondary",onClick:()=>d(!c),size:"small",children:c?s.jsx(y,{id:"KoC8Ym",defaultMessage:"Show less"}):s.jsx(y,{id:"X8F8Y/",defaultMessage:"Show more"})})})})]})}function cp({dailyForecast:e,temperatureUnit:t}){const n=S();return s.jsx(ge,{children:e.map((r,a)=>s.jsxs(C.Row,{children:[s.jsxs(M,{className:"w-[7.5rem] min-w-[7.5rem]",children:[s.jsx(xe,{weatherDescriptionData:r.description,isNight:r.night,size:"small"}),s.jsx("div",{className:"ml-3 whitespace-nowrap",children:le(n,E(r.timestamp,r.utc_offset_sec))})]}),s.jsxs(M,{className:"tabular-nums",children:[s.jsx("div",{children:F(n,r.temperature.max,t)}),s.jsx("div",{className:"ml-1 text-token-text-secondary",children:F(n,r.temperature.min,t)})]}),s.jsx(M,{className:"min-w-80",children:r.description.description})]},a))})}function lp({historical:e,temperatureUnit:t}){const n=S();return e?s.jsx(ge,{children:e.map((r,a)=>{const o=E(r.timestamp,r.utc_offset_sec);return s.jsxs(C.Row,{children:[s.jsx(M,{className:"w-[250px]",children:s.jsx("div",{className:"ml-3 whitespace-nowrap",children:n.formatDate(o,{weekday:"long",month:"short",day:"numeric"})})}),s.jsx(M,{className:"tabular-nums",children:r.temperature.max&&r.temperature.min?s.jsxs(s.Fragment,{children:[s.jsx("div",{children:F(n,r.temperature.max,t)}),s.jsx("div",{className:"ml-1 text-token-text-secondary",children:F(n,r.temperature.min,t)})]}):s.jsx("div",{children:F(n,r.temperature.current,t)})}),s.jsx(M,{})]},a)})}):null}function M({className:e,children:t}){return s.jsx(C.Cell,{className:j("!border-l-0 !border-r-0 !border-token-border-xlight !py-2 !pl-4 !pr-3 first:!pl-0 last:!pr-0",e),divClassName:"items-start leading-relaxed",children:t})}function dp({turnIndex:e}){const t=st(r=>r.thread?.turns[e]?.use_location),[n]=Qs();return!n.useLocation&&t?s.jsx("div",{className:"mt-3",children:s.jsx(es,{color:"secondary",icon:Nt,onClick:()=>{et.setSettingsModalOpen(!0)},children:s.jsx(y,{id:"f47VEc",defaultMessage:"Share precise location"})})}):null}function js({temperatureUnit:e,onTemperatureUnitChange:t}){const n=r=>e===r?"font-bold":"font-light";return s.jsx(Fs,{size:"small",triggerButton:s.jsx("button",{className:"flex items-center justify-center p-1.5 text-token-text-tertiary hover:text-token-text-primary",children:s.jsx(_t,{className:"icon-sm-heavy"})}),children:s.jsxs(zs.Item,{onClick:()=>{t(e==="C"?"F":"C")},className:"text-token-text-primary",children:[s.jsx(y,{id:"bQIoe/",defaultMessage:"Temperature"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:n("F"),children:s.jsx(y,{id:"bvDeBB",defaultMessage:"Â°F"})}),s.jsx("div",{className:"mx-1 h-4 border-l border-gray-300"}),s.jsx("div",{className:n("C"),children:s.jsx(y,{id:"iNiz6O",defaultMessage:"Â°C"})})]})]})})}function xe({weatherDescriptionData:e,isNight:t=!1,size:n="normal"}){const r=pt(),a=n==="small"?30:50;return s.jsx("img",{draggable:!1,alt:e.description,src:Km({weatherCode:e.id,isDarkMode:r,isNight:t}).src,width:a,height:a})}function hp(e,t){const n=E(t.timestamp,t.utc_offset_sec);return e.formatDate(n,{hour:"numeric"})}function F(e,t,n){return t==null?"-":Ze(n?n??"F":ks(e),t)}function ks(e){const t=["en-US","en-BZ","en-BS","en-KY","en-PW"],n=e.locale||"en-US";return t.includes(n)?"F":"C"}function up(e){const t=e.name.split(",").map(n=>n.trim());return e.country&&!t.includes(e.country)&&t.push(e.country),t.join(", ")}const fp=()=>{const e=S(),[t,n]=gt("USER_TEMPERATURE_UNIT",ks(e),r=>["F","C"].includes(r));return[t,n]},mp=Hs(()=>Rs(()=>import("./ofgq674nlepamgy2.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24])).then(e=>e.BusinessesMap));function pp({index:e,FormattedText:t,node:n}){const r=parseInt(e,10),a=f.useContext(O),o=f.useRef(new Set),i=f.useCallback((b,k,$,P,D)=>{if(a?.analyticsMetadata&&a.analyticsMetadata.messageId&&Os(a.analyticsMetadata.messageId)){const L={...Us(a.analyticsMetadata),type:$,index:r?.toString(),...P??{}},H=`${b}-${JSON.stringify(L)}`;(!o.current.has(H)||b!==g.searchContentReferenceShown)&&(o.current.add(H),te.logEventWithStatsig(b,k,L),D?.(a.analyticsMetadata))}},[a?.analyticsMetadata,r]);if(a==null)return null;const{contentReferences:c,onShowSearchResults:d,numImageResults:u,analyticsMetadata:h}=a,l=c?.[r],v=h?.clientThreadId==null,x=xt(a.message);if(!l||h.turnIndex===void 0||l.type===void 0)return null;let m=null;switch(l.type){case"title_citation":m=s.jsx(Cr,{metadata:l,trackContentReferenceEvent:i});break;case"location_search":m=s.jsx(Jn,{metadata:l,trackContentReferenceEvent:i});break;case"time":m=s.jsx(yr,{metadata:l,trackContentReferenceEvent:i});break;case"image_v2":m=s.jsx(Xn,{metadata:l,numImageResults:u??0,analyticsMetadata:h,trackContentReferenceEvent:i});break;case"nav_list":m=s.jsx(Qn,{metadata:l,trackContentReferenceEvent:i});break;case"file_navlist":m=s.jsx(dn,{metadata:l,trackContentReferenceEvent:i});break;case"file":m=s.jsx(cn,{fileRef:l,index:r,trackContentReferenceEvent:i});break;case"grouped_webpages":m=s.jsx(wr,{isSearchResponse:x,webpageRef:l,node:n,trackContentReferenceEvent:i});break;case"grouped_webpages_v2":m=s.jsx($r,{isSearchResponse:x,webpageRef:l,node:n,trackContentReferenceEvent:i});break;case"tldr":m=s.jsx(Pr,{tldr:l,trackContentReferenceEvent:i});break;case"stock":m=s.jsx(Bn,{contentReference:l,trackContentReferenceEvent:i});break;case"calculator":m=s.jsx(Jt,{data:l,trackContentReferenceEvent:i});break;case"code_execution":m=s.jsx(nn,{FormattedText:t,displayInfo:l,trackContentReferenceEvent:i});break;case"forecast":m=l?.forecast&&s.jsx(tp,{weatherResults:l.forecast,dateRange:l.date_range,turnIndex:h.turnIndex,trackContentReferenceEvent:i});break;case"businesses_map":m=s.jsx(mp,{contentReference:l,trackContentReferenceEvent:i});break;case"potatoes":m=!1;break;case"video":m=s.jsx(Ir,{video:l,trackContentReferenceEvent:i});break;case"sources_footnote":m=s.jsx(tr,{sourcesFootnote:l,onShowSearchResults:d,trackContentReferenceEvent:i,isSearchGptApp:v});break;case"sports_standings":m=s.jsx(vr,{standingsRef:l,trackContentReferenceEvent:i});break;case"sports_schedule":m=s.jsx(mr,{scheduleRef:l,trackContentReferenceEvent:i});break;case"attribution":m=s.jsx(Gt,{attribution:l});break;case"attribution_footer":m=s.jsx(Xt,{attributionFooter:l});break;case"debug":m=s.jsx(s.Fragment,{children:Object.entries(l).map(([b,k])=>s.jsx("sub",{className:"ml-1 w-fit rounded-md border-2 border-solid border-orange-500 px-1 leading-none",children:k},b))});break}return s.jsx(ue,{name:"content-reference-renderer",fallback:b=>(i(g.searchContentReferenceFailed,"search_content_reference_failed",l.type),Je.addError("Error rendering content reference",b),l?.alt?s.jsx(pe,{components:{img:({src:k,alt:$})=>s.jsx("img",{src:k,alt:$,className:"max-h-28"})},children:l.alt}):s.jsx("span",{className:`errored-object-${l.type}`})),children:m})}function I(e){const{addListStyles:t,children:n,node:r,tag:a,...o}=e,i=fe(),[c,d]=f.useState(t?{"--marker-color":"transparent"}:{});return f.useEffect(()=>{r&&d(i.createBlockstyles(i.batch)),t&&r?.tagName==="li"&&d(i.createMarkerStyles(r))},[t,r,i]),f.cloneElement(a,{...o,children:r?i.processChildren({children:n,element:r}):n,style:{...o.style,...c}})}const gp={p:e=>s.jsx(I,{tag:s.jsx("p",{}),...e}),h1:e=>s.jsx(I,{tag:s.jsx("h1",{}),...e}),h2:e=>s.jsx(I,{tag:s.jsx("h2",{}),...e}),h3:e=>s.jsx(I,{tag:s.jsx("h3",{}),...e}),h4:e=>s.jsx(I,{tag:s.jsx("h4",{}),...e}),h5:e=>s.jsx(I,{tag:s.jsx("h5",{}),...e}),h6:e=>s.jsx(I,{tag:s.jsx("h6",{}),...e}),li:e=>s.jsx(I,{tag:s.jsx("li",{}),addListStyles:!0,...e})},Ve={},qe={};function Ns(e,t,n=!0){const r=Zs(t,500);return Gs(e,r,n)}function xp({node:e,onClick:t,clientThreadId:n,messageId:r,href:a,...o}){let i=t;const c=e?.properties?.href,d=ss(),u=fe(),[h,l]=f.useState(u.getStaticStyles(e)),[v,x]=f.useState(o.children),m=f.useRef(void 0);m.current=o.children,f.useEffect(()=>{e&&(x(u.processChildren({children:m.current,element:e})),l(u.createBlockstyles(u.batch)))},[e,u]);const b=f.useContext(O),k=ts(n),$=Ns(k,a,b?.useSafeUrls);return r!=null&&typeof c=="string"&&c.includes("/bing/redirect")&&(Ve[r]||(te.logEvent(g.browsingShowBingLink,{id:r,content:c}),Ve[r]=!0),i=P=>{qe[r]||(te.logEvent(g.browsingClickBingLink,{id:r,content:c}),qe[r]=!0),t?.(P)}),s.jsx("a",{onClick:i,...o,href:$,rel:d?"noopener noreferrer":"noopener",style:{...o.style,...h},children:v})}function vp(e){const{src:t,clientThreadId:n,...r}=e,a=ts(n),o=f.useContext(O),i=Ns(a,t,o?.useSafeUrls);return i==null?s.jsx("div",{}):s.jsx("img",{...r,src:i})}function bp(e){return s.jsx(pp,{...e,FormattedText:_s})}function _s({size:e="medium",children:t,className:n,clientThreadId:r,messageId:a,isStreamingOrProcessing:o,interpolateCitations:i=!1,componentOverrides:c}){const{resolvedTheme:d}=he(),u=ss(),h=ds(),l=f.useMemo(()=>({pre:({children:x})=>s.jsx("pre",{className:"!overflow-visible",children:x}),code:x=>s.jsx(Vs,{...x,clientThreadId:r}),[Ws]:bp,[qs]:Xs,a:x=>{const{node:m,children:b,...k}=x,$=m?.properties?.href;return typeof $=="string"&&$.startsWith(be)?u?s.jsx(Ks,{...k}):r!=null&&a!=null?s.jsx(Js,{...k,clientThreadId:r,messageId:a,href:$,children:b}):null:$&&typeof $=="string"&&Zt($)?b:s.jsx(xp,{...x,clientThreadId:r,messageId:a,interpolateCitations:i})},td:({children:x})=>s.jsx("td",{children:f.Children.map(x,(m,b)=>m==="<br>"?s.jsx("br",{},b):m)}),img:({node:x,...m})=>{const b=x?.properties?.src;return typeof b=="string"&&(b.startsWith(be)||b.startsWith("attachment:"))?null:s.jsx(vp,{...m,clientThreadId:r})},...c}),[c,r,a,i,u]),v=f.useMemo(()=>({...l,...h&&o?gp:{}}),[l,o,h]);return s.jsx(ue,{name:"formatted_text_error",fallback:()=>s.jsx(s.Fragment,{children:t}),children:s.jsx(jp,{rehypePlugins:ns,remarkPlugins:rs,className:j(n,"markdown prose w-full break-words dark:prose-invert",d==="dark"?"dark":"light",e==="small"&&"prose-xs"),urlTransform:as,components:v,children:t})})}function yp(e,t){return e===Bs.SystemHint?s.jsx("span",{className:"hint-pill",children:t}):null}function wp({text:e,customSymbolOffsets:t}){return s.jsx(ue,{name:"formatted_text_error",fallback:()=>s.jsx(s.Fragment,{children:e}),children:s.jsx($p,{text:e,customSymbolOffsets:t})})}const $p=({text:e,customSymbolOffsets:t=[]})=>{const n=/(```[\s\S]*?```|`[^`\n]+`|```[\s\S]*|`[^`\n]*\n|`[^`\n]*$)/g;let r=0;const a=e.split(n).flatMap((o,i)=>{const c=r;if(r+=o.length,o.startsWith("```")&&o.endsWith("```"))return s.jsx("pre",{className:"overflow-x-auto",children:s.jsx("code",{children:o.slice(3,-3).trim()})},i);if(o.startsWith("```"))return s.jsx("pre",{className:"overflow-x-auto",children:s.jsx("code",{children:o.slice(3).trim()})},i);if(o.startsWith("`")&&o.endsWith("`"))return s.jsx("code",{children:o.slice(1,-1)},i);if(o.startsWith("`"))return s.jsx("code",{children:o.slice(1)},i);{const d=t.map(u=>Ys(u)).find(u=>c<=u.startIndex&&u.endIndex<=r);if(d){const u=d.startIndex-c,h=d.endIndex-c,l=o.slice(0,u),v=o.slice(h),x=o.slice(u,h);return[l,yp(d.symbol,x),v].filter(m=>!!m)}return o}});return s.jsx("div",{className:"whitespace-pre-wrap",children:a})},jp=f.memo(pe),Op=Object.freeze(Object.defineProperty({__proto__:null,FormattedText:_s,UserFormattedText:wp},Symbol.toStringTag,{value:"Module"}));export{Op as F,Nr as W};
//# sourceMappingURL=n5d8lny6i2c24awy.js.map
