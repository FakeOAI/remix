import{dV as c,dW as l,r as a,aD as p,dX as s,aZ as h,j as u,bN as E}from"./egt5jypxwx14c80o.js";import{y as b,z as f}from"./bo6h1fc3mh6vwnn3.js";import{k as v}from"./fo8p87bq9iix74bm.js";import"./c8s51go1vgd0qfhv.js";import"./lkxamgdqlnck19mm.js";import"./m9j0zn8pn8xn2ann.js";import"./c1xhtb7lu608sahd.js";import"./ba6ea4xmnp2qte3g.js";import"./j4doqy6mmjrj8z77.js";import"./j8xv1ez184r0oyx3.js";import"./n19r7uwbabyp4zah.js";import"./e6fjlf6xx8vtsu8e.js";import"./jke64tqcsk7xu766.js";import"./bai6kwa9nxk3tjxs.js";import"./dddgqotrxwz5cywd.js";import"./e536cpo0w94uggjd.js";import"./o969ebp6baaq4hbn.js";import"./dvllpd9l8tzra3vm.js";import"./lvswtn827gq1q10a.js";import"./g68x1297baoqssp0.js";import"./ja87rqvp1h4n2e04.js";import"./omcnvdbnoooh3ibd.js";import"./ik0pdf32wxfzkwrc.js";import"./kqxpgl9q2cefxxt0.js";import"./b1u85wskdhdpn6in.js";let m=!1;function X(){var t;(t=c)==null||t.registerObserver(l)}function Z(){const[t,i]=a.useState(null),{value:d}=p("3653083604");return a.useEffect(()=>{if(!d||m||typeof window>"u")return;const e=window.open("about:blank",s);if(!e)throw new Error("ChatBar: window.open() did not create a window");e.document.documentElement.setAttribute("dir","ltr"),m=!0,document.head.querySelectorAll("link, style").forEach(r=>{e.document.head.appendChild(r.cloneNode(!0))}),new MutationObserver(r=>{r.forEach(o=>{o.type==="childList"&&o.addedNodes.forEach(n=>{(n instanceof HTMLLinkElement||n instanceof HTMLStyleElement)&&e.document.head.appendChild(n.cloneNode(!0))})})}).observe(document.head,{childList:!0}),e.document.documentElement.setAttribute("style",document.documentElement.getAttribute("style")??""),e.document.documentElement.setAttribute("class",document.documentElement.getAttribute("class")??""),new MutationObserver(r=>{r.forEach(o=>{o.type==="attributes"&&o.attributeName!=null&&e.document.documentElement.setAttribute(o.attributeName,document.documentElement.getAttribute(o.attributeName)??"")})}).observe(document.documentElement,{attributes:!0}),i(e.document.body.appendChild(e.document.createElement("div"))),e.addEventListener("unload",r=>{e.close()}),e.addEventListener("focus",()=>{var r;(r=e.document.getElementById("prompt-textarea"))==null||r.focus()})},[d]),t&&h.createPortal(u.jsx(w,{}),t,s)}function w(){const[t,i]=a.useState(()=>v());return b(t,{kind:E.PrimaryAssistant}),u.jsx(f,{clientThreadId:t,hideHeader:!0,hideFooter:!0,renderEmptyState:!1},t)}export{Z as DesktopChatBar,X as initDesktop};
//# sourceMappingURL=d4o0hetltmbjin3s.js.map
