import{X as d,r as c,a7 as R,j as S,R as g,aQ as l,aR as p}from"./egt5jypxwx14c80o.js";import{u as m}from"./q5zp8t7mb6tgm64o.js";import"./c8s51go1vgd0qfhv.js";function $(){const{pluginId:e,code:u,state:o,error:s,errorDesc:r}=m(),a=d(),i=c.useRef(!1);return c.useEffect(()=>{if(i.current===!0)return;i.current=!0;async function f(){const h=`https://chat.openai.com/aip/${e}/oauth/callback`;try{const t=await g.pluginOauthCallback(e,u,h,o);if(t.success){const n=new URL(l(p.OAUTH_SUCCESS,t.redirect_path));n.searchParams.set("oauth_success","true"),a.push(n.toString())}else a.push(l(p.CUSTOM_ERROR,t.redirect_path,t.error??t.message))}catch{a.push(`/?model=gpt-4-plugins&loginAip=${e}&loginSuccess=false`)}}f()},[e,u,o,a]),c.useEffect(()=>{s&&R.danger(`${s}${r?`: ${r}`:""}`,{duration:5})},[s,r]),S.jsx("div",{})}export{$ as default};
//# sourceMappingURL=l6p11op6yfzzn23e.js.map
