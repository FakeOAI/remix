const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/sso-ipuhfmti911l5wbt.js","assets/ofly9yrztlesgrye.js","assets/pbk6784aea0pnvmy.js","assets/root-cmvuzs81.css","assets/nqzijea2w2642vxo.js","assets/index-small-c8xg50op.css","assets/ffzjrrth2s7rj53y.js","assets/hgskjx43egewob6w.js","assets/lj5rtlp3i0cfoffa.js","assets/d4ayzlfdvw3mppxq.js","assets/nhwwej1nq0zrd7sc.js","assets/bioahmdl0dhuzf2s.js","assets/dnclpnvevlt4w60m.js","assets/c4wbs9sfbozms9h9.js","assets/o70b5rlocd70y24d.js","assets/j8udrimwvg5wgb50.js","assets/pdyd96jvf5nj4arp.js","assets/eni5d61fsksdl3xv.js","assets/ndz7khihe98mo9mr.js","assets/m35een31x7hl7one.js","assets/h7f61j8yt7zvajch.js","assets/cxynijnwgmoep20m.js","assets/kyhim0cxnn9lnc9c.js","assets/du2biz3bflj3ny15.js","assets/dqjxcbzr89kaex61.js","assets/ngly12g8pku877oj.js","assets/nr3n8xw311uli2v7.js","assets/o72bhizxu5dr6xab.js","assets/d0g8ptgc5gcqjwyj.js","assets/iketqivbiq1uua6y.js","assets/f50xww4ndvvgi9wd.js","assets/isjdmfmhzv09v01t.js","assets/hiowkoznbcbuyj5y.js","assets/m56qawl3nz8ab6w3.js","assets/cpruitoywmh2hmz7.js","assets/ip1g1wxksvlp6l12.js","assets/giz03xvnujeqild8.js","assets/mspfsragw34dubp8.js","assets/nja8bkvzwivp0d1e.js","assets/26qzd5j5c4gu7vgg.js","assets/ebjnzfyjozehhu1d.js","assets/hxk29e4mntnfdwo1.js","assets/g6g5o5sxy8te57v6.js","assets/cjrwfkkoj3f7v9aq.js","assets/fsddy3bxlesj6ecw.js","assets/j2pqa1cuq7toz2li.js","assets/lgunmrbg0zk74byl.js","assets/fjwokyxx7t8vavyv.js","assets/otl3kmh55r9mpho8.js","assets/mgd2lih2oegztyuc.js","assets/o7xzgyksykwpw458.js","assets/jhuun61paojcem1l.js","assets/kk3g11g1tx1qyiou.js","assets/nfegrk5dyqdjzy1l.js","assets/kqwdyvkaaavvn8k3.js","assets/knrqgejkx7kf6de9.js","assets/muiq032a7v6lqwp1.js","assets/j793iupxz6cbek3f.js","assets/jgtw8bw0po3nqr9k.js","assets/crv9067h7en0x84a.js","assets/cfu4tlrhgvcp30sx.js","assets/c9ruca640f27asij.js","assets/fs11lsv0j2bplke3.js","assets/f57vlzxujq1abxlh.js","assets/iej0cupg2dqkmejt.js","assets/gt5btci5dtrnoaqo.js","assets/k8blgkgtyu77dvqj.js","assets/gijjijf6bgeseo0o.js","assets/jddbarybj7ituzga.js","assets/nlwvsjzhecxypowl.js","assets/shared-mk6ngktc.css","assets/i7lxzk5wl4daufg5.js","assets/mrlqxqghd8fc4s3q.js","assets/sso-ibshx6th.css"])))=>i.map(i=>d[i]);
import{j as t,c as _,b6 as P,P as f,x as m,Z as A,r as F,aq as R,bF as T,ai as q,af as O,C as B,cc as $,bS as K,bz as Q,eK as V,bl as G,a7 as W,G as Z}from"./ofly9yrztlesgrye.js";import{G as H}from"./eni5d61fsksdl3xv.js";import{cg as U,o as C,eO as J,eP as i,eQ as X,U as Y,a8 as z,eR as ee,eS as te,cy as w,eT as se,eU as ae,A as re,aT as oe,cx as ne,aq as le}from"./nqzijea2w2642vxo.js";import{x as ie,T as b,g as ce,q as de,i as pe,y as me}from"./hgskjx43egewob6w.js";import{a as ue}from"./d4ayzlfdvw3mppxq.js";import{u as xe}from"./c4wbs9sfbozms9h9.js";import{m as k}from"./lj5rtlp3i0cfoffa.js";import{G as M}from"./k8blgkgtyu77dvqj.js";function Ae({clientThreadId:e,showInlineEmbeddedDisplay:a,isStaticSharedThread:s,children:r,withVerticalPadding:n,withHorizontalPadding:o}){const l=J(),d=C(v=>v.isDesktopNavCollapsed),u=C(v=>v.activeStageSidebar),x=o&&!s&&!l,c=o&&l&&!d,p=d&&o&&l,y=o&&(!p||!s||u)&&l,g=ie(e);return t.jsx("div",{className:_("text-base",n&&"py-[18px]",o&&!l&&"px-3 md:px-4",a&&!s?"ml-5":"m-auto",x&&"w-full md:px-5 lg:px-1 xl:px-5",c&&"md:px-5",y&&`w-full px-3 ${!g&&!u?"lg:px-0":""}`,p&&"md:px-0"),children:r})}function fe({children:e}){const a=U(),s=C(r=>r.isDesktopNavCollapsed);return t.jsx("div",{className:_("mx-auto flex flex-1 gap-4 text-base md:gap-5 lg:gap-6",s?"md:max-w-3xl":"md:max-w-3xl lg:max-w-[40rem] xl:max-w-[48rem]",a&&"-mx-4"),children:e})}function Re({children:e}){const a=U(),s=C(r=>r.isDesktopNavCollapsed);return t.jsx("div",{className:_("mx-auto gap-4 text-base md:gap-5 lg:gap-6",s?"md:max-w-3xl":"md:max-w-3xl lg:max-w-[40rem] xl:max-w-[48rem]",a&&"-mx-4"),children:e})}const j=e=>{switch(e.type){case i.Reply:return e.text;case i.Starter:case i.Autocomplete:return e.prompt}},he=e=>e.type===i.Reply,ye=e=>e.type===i.Starter,Se=e=>e.type===i.Autocomplete,ve=(e,a,s,r)=>{switch(P.logEvent("chatgpt_prompt_use_suggestion",j(e),{index:`${a}`,type:e.type}),e.type){case i.Reply:f.logEvent(m.useSuggestedReply,{value:j(e),prompt_type:i.Reply,messageId:r});break;case i.Starter:f.logEvent(m.useStarterPrompt,{value:j(e),prompt_type:i.Starter,title:e.title,body:e.body,id:e.id,category:e.category,client_thread_id:s,messageId:r,index:a,theme:e.theme});break;case i.Autocomplete:f.logEvent(m.useAutocomplete,{value:j(e),prompt_type:i.Autocomplete,title:e.title,body:e.body,id:e.id,category:e.category,index:a,messageId:r,client_thread_id:s,theme:e.theme});break}},be=(e,a)=>{const s=b.getThreadCurrentLeafId(a),r=b.getTree(a).getMessageId(s);if(P.logEvent("chatgpt_prompt_show_suggestions",`count_${e.length}`,{type:e[0].type}),e.every(he))f.logEvent(m.showSuggestedReplies,{prompt_count:e.length,prompt_type:i.Reply,client_thread_id:a,suggestions:e.map(n=>n.text),message_id:r});else if(e.every(ye)){const{isAdditional:n}=e[0];f.logEvent(n?m.moreStarterPromptsShown:m.showStarterPrompts,{prompt_count:e.length,prompt_type:i.Starter,titles:e.map(o=>o.title),bodies:e.map(o=>o.body),ids:e.map(o=>o.id),client_thread_id:a,message_id:r,themes:e.map(o=>o.theme??"")}),n&&f.logEvent(m.expandMoreStarterPrompts,{client_thread_id:a,message_id:r})}else e.every(Se)?f.logEvent(m.showAutocompletePrompts,{prompt_count:e.length,prompt_type:i.Autocomplete,titles:e.map(n=>n.title),bodies:e.map(n=>n.body),ids:e.map(n=>n.id),client_thread_id:a,message_id:r,themes:e.map(n=>n.theme??"")}):A.addError("Unhandled suggestion type",{type:e[0].type})},Te=e=>{const a=b.getThreadCurrentLeafId(e),s=b.getTree(e).getMessageId(a);f.logEvent(m.showExpandMoreStarterPromptsButton,{client_thread_id:e,message_id:s})},qe=e=>{const a=b.getThreadCurrentLeafId(e),s=b.getTree(e).getMessageId(a);f.logEvent(m.expandMoreStarterPrompts,{client_thread_id:e,message_id:s})};function D(){const{store:e}=X(),a=e.useSharedProps();return F.useCallback(async(s,r,n)=>{if(!a)return;const{clientThreadId:o,currentLeafId:l,onCreateNewCompletion:d,onResetState:u,conversationMode:x}=a;Y.hideThreadHeader();const c=`${l}-nextPrompt`;await d({promptId:c,content:j(s),eventMetadata:{eventSource:"mouse"},completionMetadata:{suggestions:r,conversationMode:x??ce.getConversationMode(o)},messageMetadata:{is_starter_prompt:!0,suggestion_type:s.type}});const h=b.getTree(o).getMessageId(c);u(),ve(s,n,o,h),z()},[a])}function E(e){var a;return(a=w(e)?e.promptStarters:e.gizmo.display.prompt_starters)==null?void 0:a.map(s=>({type:i.Starter,title:"",body:s,prompt:s}))}function _e(e,a,s,r,n){const o=R(),l=de(a),d=xe((l==null?void 0:l.kind)===T.GizmoInteraction?l.gizmo_id:void 0).data,{gizmoEditorData:u,mode:x}=ee(),c=te(l),p=q(),h=e&&!c&&(r||!(p!=null&&p.isEnterprisey())),{data:y,isLoading:g,isSuccess:v,isError:N}=O({queryKey:["promptStarters",a,s,n],queryFn:()=>B.getSampledPromptStarter(s,n),enabled:h});return o==null?{promptStarters:[],isLoading:!0,isSuccess:!1}:x==="test"&&u?{promptStarters:E(u)??[],isLoading:!1,isSuccess:!0}:d!=null?{promptStarters:E(d),isLoading:!1,isSuccess:!0}:h?{promptStarters:(y==null?void 0:y.items.map(S=>({type:i.Starter,id:S.id,title:S.title,body:S.description,prompt:S.prompt,category:S.category,oneliner:S.oneliner,theme:S.theme,requires_file_upload:S.requires_file_upload})))??[],isLoading:g,isSuccess:v,isError:N}:{promptStarters:[],isLoading:!1,isSuccess:!0}}const ge=$(()=>K(()=>import("./sso-ipuhfmti911l5wbt.js").then(e=>e.a),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73])).then(e=>e.CaNewThreadSplash).catch(()=>()=>null));function Oe({clientThreadId:e}){const{isUnauthenticated:a}=Q(),s=!a,r=pe(e),n=me(e),o=V(),l=G(),d=D(),u=ue(e),x=ae(u),{promptStarters:c,isSuccess:p,isError:h}=_e(r&&!n,e,l?2:4),y=c&&(c==null?void 0:c.length)>0,g=p&&y&&s&&!x,{layer:v}=W("4031588851"),N=v.get("is_two_line",!1);return t.jsx(t.Fragment,{children:t.jsx(re,{children:(h||p)&&t.jsxs(t.Fragment,{children:[t.jsx(oe,{className:`h-12 w-12 ${s?"":"max-sm:hidden"}`}),g&&t.jsx(je,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},promptStarters:c,onSelectStarterPrompt:d,isSendBlocked:o,clientThreadId:e,isTwoLine:N}),!y&&s&&!x&&t.jsx(L,{}),x?t.jsx(ge,{}):null,h&&s&&t.jsx(L,{})]})})})}function L(){return t.jsx("div",{className:"mt-7 text-3xl",children:t.jsx(Z,{id:"24tuqq",defaultMessage:"Hi, how can I help?"})})}function je({promptStarters:e,onSelectStarterPrompt:a,isSendBlocked:s,clientThreadId:r,isTwoLine:n,...o}){return F.useEffect(()=>{be(e,r)},[r]),t.jsx(t.Fragment,{children:n?t.jsx(k.div,{...o,className:"absolute bottom-6 w-full px-4",children:t.jsx(fe,{children:t.jsx(Ce,{starterPrompts:e,onSelectStarterPrompt:a,disabled:s})})}):t.jsx(k.div,{...o,children:t.jsx(I,{starterPrompts:e,onSelectStarterPrompt:a,disabled:s})})})}const we=/\s/;function I({starterPrompts:e,onSelectStarterPrompt:a,disabled:s}){let r=e.map((n,o)=>{let l=n.oneliner??n.title;l===""&&(l=n.body);const d=we.test(l);return t.jsxs("button",{className:"relative flex w-40 flex-col gap-2 rounded-2xl border border-token-border-light px-3 pb-4 pt-3 text-start align-top text-[15px] shadow-xxs transition enabled:hover:bg-token-main-surface-secondary disabled:cursor-not-allowed",disabled:s,onClick:()=>a(n,e,o),children:[t.jsx(se,{starterPrompt:n}),t.jsx("div",{className:_("line-clamp-3 max-w-full text-balance text-gray-600 dark:text-gray-500",d?"break-word":"break-all"),children:l})]},n.id??o)});if(r.length>2){const n=Math.floor(r.length/2);r=[r.slice(0,n),r.slice(n)].map((o,l)=>t.jsx("div",{className:"flex max-w-3xl flex-wrap items-stretch justify-center gap-4",children:o},l))}return t.jsx("div",{className:"mx-3 mt-12 flex max-w-3xl flex-wrap items-stretch justify-center gap-4",children:r})}function Ce({starterPrompts:e,onSelectStarterPrompt:a,disabled:s}){let r=e.map((o,l)=>t.jsx("button",{className:"relative whitespace-nowrap rounded-2xl border border-token-border-light px-4 py-2 text-start align-top text-[15px] shadow-xxs transition enabled:hover:bg-token-main-surface-secondary disabled:cursor-not-allowed",disabled:s,onClick:()=>a(o,e,l),children:t.jsxs("div",{className:"flex flex-col overflow-hidden",children:[o.title&&t.jsx("div",{className:"truncate font-semibold",children:o.title}),t.jsx("div",{className:_("truncate font-normal",o.title?"opacity-50":""),children:o.body})]})},o.id??l));const n=Math.floor(r.length/2);return r=[r.slice(0,n),r.slice(n)].map((o,l)=>t.jsx("div",{className:"flex flex-col gap-2",children:o},l)),t.jsx("div",{className:"grid w-full grid-flow-row grid-cols-[repeat(auto-fit,minmax(250px,1fr))] gap-2",children:r})}function Be({gizmo:e,hideOwner:a=!1,children:s,className:r,avatarClassName:n,showStarterPrompts:o=!1,disableStarterPrompts:l=!1}){return e==null?null:t.jsx(t.Fragment,{children:t.jsxs("div",{className:_("flex h-full flex-col items-center justify-center text-token-text-primary",r),children:[t.jsx(Ne,{gizmo:e,avatarClassName:n}),t.jsx(ke,{gizmo:e,hideOwner:a,showStarterPrompts:o,disableStarterPrompts:l}),s]})})}function Ne({gizmo:e,avatarClassName:a}){var r;const s=!!(e!=null&&ne(e)&&((r=e==null?void 0:e.gizmo.tags)!=null&&r.includes(le.FirstParty)));return t.jsx("div",{className:"relative",children:t.jsx(H,{isFirstParty:s||!e,src:e!=null&&w(e)?e.profilePictureUrl:e==null?void 0:e.gizmo.display.profile_picture_url,className:_("mb-3 h-12 w-12",a)})})}function Ee({gizmo:e,disabled:a}){const s=E(e),r=D(),n=G();if(s==null||s.length===0)return null;const o=s.slice(0,n?2:4);return t.jsx(I,{starterPrompts:o,onSelectStarterPrompt:r,disabled:a})}function ke({gizmo:e,hideOwner:a,showStarterPrompts:s,disableStarterPrompts:r}){const n=e!=null&&w(e)?e.name:e==null?void 0:e.gizmo.display.name,o=e!=null&&w(e)?e.description:e==null?void 0:e.gizmo.display.description;return t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsx("div",{className:"text-center text-2xl font-semibold",children:n}),!a&&t.jsx("div",{className:"flex items-center gap-1 text-token-text-tertiary",children:t.jsx(t.Fragment,{children:e&&w(e)?t.jsx(M,{gizmo:e}):t.jsx(M,{gizmo:e,socials:e.gizmo.author.display_socials})})}),o&&t.jsx("div",{className:"max-w-md text-center text-sm font-normal text-token-text-primary",children:o}),s&&t.jsx(Ee,{gizmo:e,disabled:r})]})}export{Be as G,Re as H,Ne as L,fe as M,Ce as S,Ae as T,he as a,_e as b,ve as c,Te as d,qe as e,Oe as f,j as g,ye as i,be as t,D as u};
