const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/cmhf56szohyvf2h8.js","assets/bahzwkph2ne3eyls.js","assets/l2euh9jr36irqfhd.js","assets/root-la9akfcu.css","assets/osssmfbfx387nkfp.js","assets/conversation-small-c8xg50op.css","assets/lsf5205xb8uhelvm.js","assets/g9hhl4yhdanbaw1t.js","assets/di1h8ljywl9if4yc.js","assets/miukfjs4ixxxz4np.js","assets/5gv6wyppgamwfdt9.js"])))=>i.map(i=>d[i]);
var nu=Object.defineProperty;var Cl=e=>{throw TypeError(e)};var ru=(e,t,n)=>t in e?nu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var fe=(e,t,n)=>ru(e,typeof t!="symbol"?t+"":t,n),iu=(e,t,n)=>t.has(e)||Cl("Cannot "+n);var Sl=(e,t,n)=>t.has(e)?Cl("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n);var no=(e,t,n)=>(iu(e,t,"access private method"),n);import{j as ue,G as Sr,r as d,Z as pa,c as wo,D as Ws,T as _o,g5 as ou,u as Tt,eT as su,ct as ma,bY as ya,P as us,x as ds,c6 as lu,C as au,bN as cu}from"./bahzwkph2ne3eyls.js";import{aI as uu,bU as du,bV as fu,u as hu,p as gu,aB as pu}from"./l2euh9jr36irqfhd.js";import{A as mu,kf as yu,kg as wu,b0 as vu,kh as bu,l as xu,ki as ku,kj as Cu,kk as Su,kl as Mu,km as Ru,kn as Eu,ko as Tu,kp as Iu,kq as Pu,kr as _u,ks as Du,kt as Au,ku as Fu,fw as Lu,kv as zu,kd as Hu,kw as Ou,go as $u,kx as Wu,ky as Nu,kz as Bu,kA as Ml,kB as ju,kC as Xu,kD as Uu,kE as Yu,kF as Ku,kG as qu,kH as Vu,kI as Gu,kJ as Zu,kK as Qu,kL as Ju,kM as ed,n as wa,kN as td,by as nd,bu as rd,bv as id,at as od,ac as Cn,bC as sd,M as ld,kO as ad,kP as cd,bM as ud}from"./osssmfbfx387nkfp.js";import{m as dd}from"./lsf5205xb8uhelvm.js";import{i as fs,r as fd}from"./g9hhl4yhdanbaw1t.js";import{e as hd,d as gd,f as pd,m as Ii,t as md,r as Rt,g as yd,h as wd,v as vd,i as va,j as wi,A as ba,P as xa,B as ka,k as bd,l as xd,n as kd,S as Cd,C as Sd,a as Md,L as Rd,p as Ed,b as Td,c as Id,o as Pd,q as _d,T as Dd}from"./di1h8ljywl9if4yc.js";import{D as sr}from"./miukfjs4ixxxz4np.js";const Um=({isHovered:e=!1})=>ue.jsx(mu,{children:e&&ue.jsxs(dd.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{type:"tween",ease:"easeInOut",duration:.2},className:"absolute bottom-2 right-2 flex items-center justify-center rounded-md border border-token-border-light bg-token-main-surface-primary px-3 py-2 text-xs text-token-text-secondary",children:[ue.jsx(uu,{className:"icon-md mr-2"}),ue.jsx(Sr,{id:"ILz2tL",defaultMessage:"Interactive charts of this type not yet supported"})]})});/*!
 * chartjs-adapter-date-fns v3.0.0
 * https://www.chartjs.org
 * (c) 2022 chartjs-adapter-date-fns Contributors
 * Released under the MIT license
 */const Ad={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};hd._date.override({_id:"date-fns",formats:function(){return Ad},parse:function(e,t){if(e===null||typeof e>"u")return null;const n=typeof e;return n==="number"||e instanceof Date?e=yu(e):n==="string"&&(typeof t=="string"?e=wu(e,t,new Date,this.options):e=vu(e,this.options)),bu(e)?e.getTime():null},format:function(e,t){return xu(e,t,this.options)},add:function(e,t,n){switch(n){case"millisecond":return Pu(e,t);case"second":return Iu(e,t);case"minute":return Tu(e,t);case"hour":return Eu(e,t);case"day":return Ru(e,t);case"week":return Mu(e,t);case"month":return Su(e,t);case"quarter":return Cu(e,t);case"year":return ku(e,t);default:return e}},diff:function(e,t,n){switch(n){case"millisecond":return $u(e,t);case"second":return Ou(e,t);case"minute":return Hu(e,t);case"hour":return zu(e,t);case"day":return Lu(e,t);case"week":return Fu(e,t);case"month":return Au(e,t);case"quarter":return Du(e,t);case"year":return _u(e,t);default:return 0}},startOf:function(e,t,n){switch(t){case"second":return Yu(e);case"minute":return Uu(e);case"hour":return Xu(e);case"day":return ju(e);case"week":return Ml(e);case"isoWeek":return Ml(e,{weekStartsOn:+n});case"month":return Bu(e);case"quarter":return Nu(e);case"year":return Wu(e);default:return e}},endOf:function(e,t){switch(t){case"second":return ed(e);case"minute":return Ju(e);case"hour":return Qu(e);case"day":return Zu(e);case"week":return Gu(e);case"month":return Vu(e);case"quarter":return qu(e);case"year":return Ku(e);default:return e}}});const Fd=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$/,Ns=e=>e.length===0?!1:e.reduce((t,n)=>t&&Fd.test(n),!0),Ca=d.forwardRef(({chart:e},t)=>{const{datasets:n}=e,r=d.useMemo(()=>n.map(i=>{const{data:o,label:s,colors:l}=i;return{label:s,data:o,backgroundColor:l,borderColor:l,borderRadius:4}}),[n]);return ue.jsx(gd,{ref:t,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},title:{display:!1,text:e.title},tooltip:{enabled:!0,animation:{duration:0},mode:"point",position:"nearest",backgroundColor:"rgba(0, 0, 0, 1)",titleColor:"white",titleFont:{size:16,weight:"bold"},bodyFont:{size:12},displayColors:!1,bodyColor:"rgba(255, 255, 255, 0.7)",cornerRadius:8,caretSize:6,padding:{top:12,bottom:6,left:16,right:16},yAlign:"bottom",callbacks:{title:function(i){return i[0].formattedValue},label:()=>""}}},scales:{x:{title:{display:!1},grid:{display:!1},time:{unit:"day",displayFormats:{day:"yyyy-MM-dd"},tooltipFormat:"yyyy-MM-dd"},ticks:{display:!0,autoSkip:!1},...Ns(e.labels)?{type:"time"}:{}},y:{title:{display:!1},grid:{lineWidth:i=>i.tick.value===0?0:1},border:{dash:[3,3]}}}},data:{labels:e.labels,datasets:r}})});Ca.displayName="BarChart";const Sa=d.forwardRef(({chart:e},t)=>{const{datasets:n}=e,r=d.useMemo(()=>{const i=n.length;return n.map(o=>{const{data:s,label:l,colors:a}=o,c=s.length;return{label:l,data:s,backgroundColor:a,borderColor:a,pointRadius:0,pointHoverRadius:5,pointHitRadius:10,tension:.2,borderWidth:Ld(i,c),pointBackgroundColor:["rgba(255, 255, 255, 1)"],pointBorderWidth:3,pointHoverBorderWidth:3}})},[n]);return ue.jsx(pd,{ref:t,options:{maintainAspectRatio:!1,scales:{x:{title:{display:!1,text:e.x_label},time:{unit:"day",displayFormats:{day:"yyyy-MM-dd"},tooltipFormat:"yyyy-MM-dd"},grid:{display:!1},ticks:{display:!0},...Ns(e.labels)?{type:"time"}:{}},y:{title:{display:!1,text:e.y_label},grid:{lineWidth:i=>i.tick.value===0?0:1},border:{dash:[3,3]}}},plugins:{legend:{display:!1},title:{display:!1,text:e.title},tooltip:{enabled:!0,mode:"point",animation:{duration:0},position:"nearest",backgroundColor:"rgba(0, 0, 0, 1)",titleColor:"white",titleFont:{size:16,weight:"bold"},bodyFont:{size:12},displayColors:!1,bodyColor:"rgba(255, 255, 255, 0.7)",cornerRadius:8,caretSize:6,padding:{top:12,bottom:12,left:16,right:16},callbacks:{title:function(i){return i[0].label},label:function(i){const{dataset:{label:o},parsed:{y:s}}=i;return`${o?`${o}: `:""}${s.toFixed(2)}`}}}}},data:{labels:e.labels,datasets:r}})}),Ld=(e,t)=>t>15?1:e>10?e>50?.5:1:3;Sa.displayName="LineChart";/*!
 * chartjs-plugin-datalabels v2.2.0
 * https://chartjs-plugin-datalabels.netlify.app
 * (c) 2017-2022 chartjs-plugin-datalabels contributors
 * Released under the MIT license
 */var Rl=function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var e=window.screen;if(e)return(e.deviceXDPI||1)/(e.logicalXDPI||1)}return 1}(),vi={toTextLines:function(e){var t=[],n;for(e=[].concat(e);e.length;)n=e.pop(),typeof n=="string"?t.unshift.apply(t,n.split(`
`)):Array.isArray(n)?e.push.apply(e,n):wi(e)||t.unshift(""+n);return t},textSize:function(e,t,n){var r=[].concat(t),i=r.length,o=e.font,s=0,l;for(e.font=n.string,l=0;l<i;++l)s=Math.max(e.measureText(r[l]).width,s);return e.font=o,{height:i*n.lineHeight,width:s}},bound:function(e,t,n){return Math.max(e,Math.min(t,n))},arrayDiff:function(e,t){var n=e.slice(),r=[],i,o,s,l;for(i=0,s=t.length;i<s;++i)l=t[i],o=n.indexOf(l),o===-1?r.push([l,1]):n.splice(o,1);for(i=0,s=n.length;i<s;++i)r.push([n[i],-1]);return r},rasterize:function(e){return Math.round(e*Rl)/Rl}};function hs(e,t){var n=t.x,r=t.y;if(n===null)return{x:0,y:-1};if(r===null)return{x:1,y:0};var i=e.x-n,o=e.y-r,s=Math.sqrt(i*i+o*o);return{x:s?i/s:0,y:s?o/s:-1}}function zd(e,t,n,r,i){switch(i){case"center":n=r=0;break;case"bottom":n=0,r=1;break;case"right":n=1,r=0;break;case"left":n=-1,r=0;break;case"top":n=0,r=-1;break;case"start":n=-n,r=-r;break;case"end":break;default:i*=Math.PI/180,n=Math.cos(i),r=Math.sin(i);break}return{x:e,y:t,vx:n,vy:r}}var Hd=0,Ma=1,Ra=2,Ea=4,Ta=8;function ro(e,t,n){var r=Hd;return e<n.left?r|=Ma:e>n.right&&(r|=Ra),t<n.top?r|=Ta:t>n.bottom&&(r|=Ea),r}function Od(e,t){for(var n=e.x0,r=e.y0,i=e.x1,o=e.y1,s=ro(n,r,t),l=ro(i,o,t),a,c,u;!(!(s|l)||s&l);)a=s||l,a&Ta?(c=n+(i-n)*(t.top-r)/(o-r),u=t.top):a&Ea?(c=n+(i-n)*(t.bottom-r)/(o-r),u=t.bottom):a&Ra?(u=r+(o-r)*(t.right-n)/(i-n),c=t.right):a&Ma&&(u=r+(o-r)*(t.left-n)/(i-n),c=t.left),a===s?(n=c,r=u,s=ro(n,r,t)):(i=c,o=u,l=ro(i,o,t));return{x0:n,x1:i,y0:r,y1:o}}function io(e,t){var n=t.anchor,r=e,i,o;return t.clamp&&(r=Od(r,t.area)),n==="start"?(i=r.x0,o=r.y0):n==="end"?(i=r.x1,o=r.y1):(i=(r.x0+r.x1)/2,o=(r.y0+r.y1)/2),zd(i,o,e.vx,e.vy,t.align)}var oo={arc:function(e,t){var n=(e.startAngle+e.endAngle)/2,r=Math.cos(n),i=Math.sin(n),o=e.innerRadius,s=e.outerRadius;return io({x0:e.x+r*o,y0:e.y+i*o,x1:e.x+r*s,y1:e.y+i*s,vx:r,vy:i},t)},point:function(e,t){var n=hs(e,t.origin),r=n.x*e.options.radius,i=n.y*e.options.radius;return io({x0:e.x-r,y0:e.y-i,x1:e.x+r,y1:e.y+i,vx:n.x,vy:n.y},t)},bar:function(e,t){var n=hs(e,t.origin),r=e.x,i=e.y,o=0,s=0;return e.horizontal?(r=Math.min(e.x,e.base),o=Math.abs(e.base-e.x)):(i=Math.min(e.y,e.base),s=Math.abs(e.base-e.y)),io({x0:r,y0:i+s,x1:r+o,y1:i,vx:n.x,vy:n.y},t)},fallback:function(e,t){var n=hs(e,t.origin);return io({x0:e.x,y0:e.y,x1:e.x+(e.width||0),y1:e.y+(e.height||0),vx:n.x,vy:n.y},t)}},Un=vi.rasterize;function $d(e){var t=e.borderWidth||0,n=e.padding,r=e.size.height,i=e.size.width,o=-i/2,s=-r/2;return{frame:{x:o-n.left-t,y:s-n.top-t,w:i+n.width+t*2,h:r+n.height+t*2},text:{x:o,y:s,w:i,h:r}}}function Wd(e,t){var n=t.chart.getDatasetMeta(t.datasetIndex).vScale;if(!n)return null;if(n.xCenter!==void 0&&n.yCenter!==void 0)return{x:n.xCenter,y:n.yCenter};var r=n.getBasePixel();return e.horizontal?{x:r,y:null}:{x:null,y:r}}function Nd(e){return e instanceof ba?oo.arc:e instanceof xa?oo.point:e instanceof ka?oo.bar:oo.fallback}function Bd(e,t,n,r,i,o){var s=Math.PI/2;if(o){var l=Math.min(o,i/2,r/2),a=t+l,c=n+l,u=t+r-l,f=n+i-l;e.moveTo(t,c),a<u&&c<f?(e.arc(a,c,l,-Math.PI,-s),e.arc(u,c,l,-s,0),e.arc(u,f,l,0,s),e.arc(a,f,l,s,Math.PI)):a<u?(e.moveTo(a,n),e.arc(u,c,l,-s,s),e.arc(a,c,l,s,Math.PI+s)):c<f?(e.arc(a,c,l,-Math.PI,0),e.arc(a,f,l,0,Math.PI)):e.arc(a,c,l,-Math.PI,Math.PI),e.closePath(),e.moveTo(t,n)}else e.rect(t,n,r,i)}function jd(e,t,n){var r=n.backgroundColor,i=n.borderColor,o=n.borderWidth;!r&&(!i||!o)||(e.beginPath(),Bd(e,Un(t.x)+o/2,Un(t.y)+o/2,Un(t.w)-o,Un(t.h)-o,n.borderRadius),e.closePath(),r&&(e.fillStyle=r,e.fill()),i&&o&&(e.strokeStyle=i,e.lineWidth=o,e.lineJoin="miter",e.stroke()))}function Xd(e,t,n){var r=n.lineHeight,i=e.w,o=e.x,s=e.y+r/2;return t==="center"?o+=i/2:(t==="end"||t==="right")&&(o+=i),{h:r,w:i,x:o,y:s}}function Ud(e,t,n){var r=e.shadowBlur,i=n.stroked,o=Un(n.x),s=Un(n.y),l=Un(n.w);i&&e.strokeText(t,o,s,l),n.filled&&(r&&i&&(e.shadowBlur=0),e.fillText(t,o,s,l),r&&i&&(e.shadowBlur=r))}function Yd(e,t,n,r){var i=r.textAlign,o=r.color,s=!!o,l=r.font,a=t.length,c=r.textStrokeColor,u=r.textStrokeWidth,f=c&&u,p;if(!(!a||!s&&!f))for(n=Xd(n,i,l),e.font=l.string,e.textAlign=i,e.textBaseline="middle",e.shadowBlur=r.textShadowBlur,e.shadowColor=r.textShadowColor,s&&(e.fillStyle=o),f&&(e.lineJoin="round",e.lineWidth=u,e.strokeStyle=c),p=0,a=t.length;p<a;++p)Ud(e,t[p],{stroked:f,filled:s,w:n.w,x:n.x,y:n.y+n.h*p})}var Ia=function(e,t,n,r){var i=this;i._config=e,i._index=r,i._model=null,i._rects=null,i._ctx=t,i._el=n};Ii(Ia.prototype,{_modelize:function(e,t,n,r){var i=this,o=i._index,s=md(Rt([n.font,{}],r,o)),l=Rt([n.color,yd.color],r,o);return{align:Rt([n.align,"center"],r,o),anchor:Rt([n.anchor,"center"],r,o),area:r.chart.chartArea,backgroundColor:Rt([n.backgroundColor,null],r,o),borderColor:Rt([n.borderColor,null],r,o),borderRadius:Rt([n.borderRadius,0],r,o),borderWidth:Rt([n.borderWidth,0],r,o),clamp:Rt([n.clamp,!1],r,o),clip:Rt([n.clip,!1],r,o),color:l,display:e,font:s,lines:t,offset:Rt([n.offset,4],r,o),opacity:Rt([n.opacity,1],r,o),origin:Wd(i._el,r),padding:wd(Rt([n.padding,4],r,o)),positioner:Nd(i._el),rotation:Rt([n.rotation,0],r,o)*(Math.PI/180),size:vi.textSize(i._ctx,t,s),textAlign:Rt([n.textAlign,"start"],r,o),textShadowBlur:Rt([n.textShadowBlur,0],r,o),textShadowColor:Rt([n.textShadowColor,l],r,o),textStrokeColor:Rt([n.textStrokeColor,l],r,o),textStrokeWidth:Rt([n.textStrokeWidth,0],r,o)}},update:function(e){var t=this,n=null,r=null,i=t._index,o=t._config,s,l,a,c=Rt([o.display,!0],e,i);c&&(s=e.dataset.data[i],l=vd(va(o.formatter,[s,e]),s),a=wi(l)?[]:vi.toTextLines(l),a.length&&(n=t._modelize(c,a,o,e),r=$d(n))),t._model=n,t._rects=r},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(e,t){var n=this,r=e.ctx,i=n._model,o=n._rects,s;this.visible()&&(r.save(),i.clip&&(s=i.area,r.beginPath(),r.rect(s.left,s.top,s.right-s.left,s.bottom-s.top),r.clip()),r.globalAlpha=vi.bound(0,i.opacity,1),r.translate(Un(t.x),Un(t.y)),r.rotate(i.rotation),jd(r,o.frame,i),Yd(r,i.lines,o.text,i),r.restore())}});var Kd=Number.MIN_SAFE_INTEGER||-9007199254740991,qd=Number.MAX_SAFE_INTEGER||9007199254740991;function di(e,t,n){var r=Math.cos(n),i=Math.sin(n),o=t.x,s=t.y;return{x:o+r*(e.x-o)-i*(e.y-s),y:s+i*(e.x-o)+r*(e.y-s)}}function El(e,t){var n=qd,r=Kd,i=t.origin,o,s,l,a,c;for(o=0;o<e.length;++o)s=e[o],l=s.x-i.x,a=s.y-i.y,c=t.vx*l+t.vy*a,n=Math.min(n,c),r=Math.max(r,c);return{min:n,max:r}}function so(e,t){var n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);return{vx:(t.x-e.x)/i,vy:(t.y-e.y)/i,origin:e,ln:i}}var Pa=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};Ii(Pa.prototype,{center:function(){var e=this._rect;return{x:e.x+e.w/2,y:e.y+e.h/2}},update:function(e,t,n){this._rotation=n,this._rect={x:t.x+e.x,y:t.y+e.y,w:t.w,h:t.h}},contains:function(e){var t=this,n=1,r=t._rect;return e=di(e,t.center(),-t._rotation),!(e.x<r.x-n||e.y<r.y-n||e.x>r.x+r.w+n*2||e.y>r.y+r.h+n*2)},intersects:function(e){var t=this._points(),n=e._points(),r=[so(t[0],t[1]),so(t[0],t[3])],i,o,s;for(this._rotation!==e._rotation&&r.push(so(n[0],n[1]),so(n[0],n[3])),i=0;i<r.length;++i)if(o=El(t,r[i]),s=El(n,r[i]),o.max<s.min||s.max<o.min)return!1;return!0},_points:function(){var e=this,t=e._rect,n=e._rotation,r=e.center();return[di({x:t.x,y:t.y},r,n),di({x:t.x+t.w,y:t.y},r,n),di({x:t.x+t.w,y:t.y+t.h},r,n),di({x:t.x,y:t.y+t.h},r,n)]}});function _a(e,t,n){var r=t.positioner(e,t),i=r.vx,o=r.vy;if(!i&&!o)return{x:r.x,y:r.y};var s=n.w,l=n.h,a=t.rotation,c=Math.abs(s/2*Math.cos(a))+Math.abs(l/2*Math.sin(a)),u=Math.abs(s/2*Math.sin(a))+Math.abs(l/2*Math.cos(a)),f=1/Math.max(Math.abs(i),Math.abs(o));return c*=i*f,u*=o*f,c+=t.offset*i,u+=t.offset*o,{x:r.x+c,y:r.y+u}}function Vd(e,t){var n,r,i,o;for(n=e.length-1;n>=0;--n)for(i=e[n].$layout,r=n-1;r>=0&&i._visible;--r)o=e[r].$layout,o._visible&&i._box.intersects(o._box)&&t(i,o);return e}function Gd(e){var t,n,r,i,o,s,l;for(t=0,n=e.length;t<n;++t)r=e[t],i=r.$layout,i._visible&&(l=new Proxy(r._el,{get:(a,c)=>a.getProps([c],!0)[c]}),o=r.geometry(),s=_a(l,r.model(),o),i._box.update(s,o,r.rotation()));return Vd(e,function(a,c){var u=a._hidable,f=c._hidable;u&&f||f?c._visible=!1:u&&(a._visible=!1)})}var bi={prepare:function(e){var t=[],n,r,i,o,s;for(n=0,i=e.length;n<i;++n)for(r=0,o=e[n].length;r<o;++r)s=e[n][r],t.push(s),s.$layout={_box:new Pa,_hidable:!1,_visible:!0,_set:n,_idx:s._index};return t.sort(function(l,a){var c=l.$layout,u=a.$layout;return c._idx===u._idx?u._set-c._set:u._idx-c._idx}),this.update(t),t},update:function(e){var t=!1,n,r,i,o,s;for(n=0,r=e.length;n<r;++n)i=e[n],o=i.model(),s=i.$layout,s._hidable=o&&o.display==="auto",s._visible=i.visible(),t|=s._hidable;t&&Gd(e)},lookup:function(e,t){var n,r;for(n=e.length-1;n>=0;--n)if(r=e[n].$layout,r&&r._visible&&r._box.contains(t))return e[n];return null},draw:function(e,t){var n,r,i,o,s,l;for(n=0,r=t.length;n<r;++n)i=t[n],o=i.$layout,o._visible&&(s=i.geometry(),l=_a(i._el,i.model(),s),o._box.update(l,s,i.rotation()),i.draw(e,l))}},Zd=function(e){if(wi(e))return null;var t=e,n,r,i;if(xd(e))if(!wi(e.label))t=e.label;else if(!wi(e.r))t=e.r;else for(t="",n=Object.keys(e),i=0,r=n.length;i<r;++i)t+=(i!==0?", ":"")+n[i]+": "+e[n[i]];return""+t},Qd={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:Zd,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},Jt="$datalabels",Da="$default";function Jd(e,t){var n=e.datalabels,r={},i=[],o,s;return n===!1?null:(n===!0&&(n={}),t=Ii({},[t,n]),o=t.labels||{},s=Object.keys(o),delete t.labels,s.length?s.forEach(function(l){o[l]&&i.push(Ii({},[t,o[l],{_key:l}]))}):i.push(t),r=i.reduce(function(l,a){return bd(a.listeners||{},function(c,u){l[u]=l[u]||{},l[u][a._key||Da]=c}),delete a.listeners,l},{}),{labels:i,listeners:r})}function Ms(e,t,n,r){if(t){var i=n.$context,o=n.$groups,s;t[o._set]&&(s=t[o._set][o._key],s&&va(s,[i,r])===!0&&(e[Jt]._dirty=!0,n.update(i)))}}function ef(e,t,n,r,i){var o,s;!n&&!r||(n?r?n!==r&&(s=o=!0):s=!0:o=!0,s&&Ms(e,t.leave,n,i),o&&Ms(e,t.enter,r,i))}function tf(e,t){var n=e[Jt],r=n._listeners,i,o;if(!(!r.enter&&!r.leave)){if(t.type==="mousemove")o=bi.lookup(n._labels,t);else if(t.type!=="mouseout")return;i=n._hovered,n._hovered=o,ef(e,r,i,o,t)}}function nf(e,t){var n=e[Jt],r=n._listeners.click,i=r&&bi.lookup(n._labels,t);i&&Ms(e,r,i,t)}var rf={id:"datalabels",defaults:Qd,beforeInit:function(e){e[Jt]={_actives:[]}},beforeUpdate:function(e){var t=e[Jt];t._listened=!1,t._listeners={},t._datasets=[],t._labels=[]},afterDatasetUpdate:function(e,t,n){var r=t.index,i=e[Jt],o=i._datasets[r]=[],s=e.isDatasetVisible(r),l=e.data.datasets[r],a=Jd(l,n),c=t.meta.data||[],u=e.ctx,f,p,m,g,w,b,k,v;for(u.save(),f=0,m=c.length;f<m;++f)if(k=c[f],k[Jt]=[],s&&k&&e.getDataVisibility(f)&&!k.skip)for(p=0,g=a.labels.length;p<g;++p)w=a.labels[p],b=w._key,v=new Ia(w,u,k,f),v.$groups={_set:r,_key:b||Da},v.$context={active:!1,chart:e,dataIndex:f,dataset:l,datasetIndex:r},v.update(v.$context),k[Jt].push(v),o.push(v);u.restore(),Ii(i._listeners,a.listeners,{merger:function(S,M,y){M[S]=M[S]||{},M[S][t.index]=y[S],i._listened=!0}})},afterUpdate:function(e){e[Jt]._labels=bi.prepare(e[Jt]._datasets)},afterDatasetsDraw:function(e){bi.draw(e,e[Jt]._labels)},beforeEvent:function(e,t){if(e[Jt]._listened){var n=t.event;switch(n.type){case"mousemove":case"mouseout":tf(e,n);break;case"click":nf(e,n);break}}},afterEvent:function(e){var t=e[Jt],n=t._actives,r=t._actives=e.getActiveElements(),i=vi.arrayDiff(n,r),o,s,l,a,c,u,f;for(o=0,s=i.length;o<s;++o)if(c=i[o],c[1])for(f=c[0].element[Jt]||[],l=0,a=f.length;l<a;++l)u=f[l],u.$context.active=c[1]===1,u.update(u.$context);(t._dirty||i.length)&&(bi.update(t._labels),e.render()),delete t._dirty}};const Aa=d.forwardRef(({chart:e},t)=>{const{datasets:n}=e,r=d.useMemo(()=>{const i=getComputedStyle(document.documentElement);return n.map(o=>{const{data:s,colors:l,label:a}=o;return{label:a,data:s,backgroundColor:l,borderWidth:2,borderColor:[i.getPropertyValue("--main-surface-primary").trim()]}})},[n]);return ue.jsx("div",{className:"h-full w-full py-2",children:ue.jsx(kd,{ref:t,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},title:{display:!1},tooltip:{enabled:!0,animation:{duration:0},mode:"index",position:"average",backgroundColor:"rgba(0, 0, 0, 1)",titleColor:"white",titleFont:{size:16,weight:"bold"},bodyFont:{size:12},displayColors:!1,bodyColor:"rgba(255, 255, 255, 0.7)",cornerRadius:8,caretSize:6,padding:{top:12,bottom:12,left:16,right:16},callbacks:{title:i=>i[0].formattedValue,label:function(i){const o=e.labels[i.dataIndex],s=n[0],l=s.data[i.dataIndex],a=s.data.reduce((u,f)=>Number(u)+Number(f),0),c=parseFloat((l/Number(a)*100).toFixed(2));return`${o} Â· ${c}%`}}},datalabels:{color:"white",textAlign:"center",font:{weight:"bold",size:16},backgroundColor:function(i){const o=i.dataset.data[i.dataIndex],s=i.dataset.data.reduce((a,c)=>Number(a)+Number(c),0);return o/Number(s)*100>=15?"rgba(0, 0, 0, 0.1)":"transparent"},borderRadius:15,padding:{top:6,bottom:6,left:8,right:8},formatter:(i,o)=>{const s=o.dataset.data.reduce((a,c)=>Number(a)+Number(c),0);return i/Number(s)*100>=15?i.toFixed(2):""}}}},plugins:[rf],data:{labels:e.labels,datasets:r}})})});Aa.displayName="PieChart";const Fa=d.forwardRef(({chart:e},t)=>{const{datasets:n}=e,r=d.useMemo(()=>{const i=n.reduce((o,s)=>o+s.data.length,0);return n.map(o=>{const{data:s,label:l,colors:a}=o;return{label:l,data:s,backgroundColor:a,borderColor:a,pointRadius:i>50?i>200?2:4:8,pointHoverRadius:i>50?4:8}})},[n]);return ue.jsx(Cd,{ref:t,options:{maintainAspectRatio:!1,scales:{x:{title:{display:!1},time:{unit:"day",displayFormats:{day:"yyyy-MM-dd"},tooltipFormat:"yyyy-MM-dd"},grid:{display:!1},ticks:{display:!0},...Ns(e.labels)?{type:"time"}:{}},y:{title:{display:!1},grid:{lineWidth:i=>i.tick.value===0?0:1},border:{dash:[3,3]}}},elements:{point:{radius:0}},plugins:{legend:{display:!1},title:{display:!1,text:e.title},tooltip:{enabled:!0,mode:"point",position:"nearest",animation:{duration:0},backgroundColor:"rgba(0, 0, 0, 1)",titleColor:"white",titleFont:{size:16,weight:"bold"},bodyFont:{size:12},displayColors:!1,bodyColor:"rgba(255, 255, 255, 0.7)",cornerRadius:8,caretSize:6,padding:{top:12,bottom:12,left:16,right:16},callbacks:{title:function(){return""},label:function(i){return`${i.dataset.label?`${i.dataset.label}: `:""} X=${i.parsed.x.toFixed(2)}, Y=${i.parsed.y.toFixed(2)} 
`}}}}},data:{labels:e.labels,datasets:r}})});Fa.displayName="ScatterChart";Sd.register(ba,Md,Rd,ka,Ed,Td,Id,Pd,xa,_d,Dd);const La=16,Tl={bar:Ca,pie:Aa,line:Sa,scatter:Fa};function Il({item:e,formattedName:t}){return ue.jsxs("div",{className:"inline-flex items-center gap-1",children:[ue.jsx("div",{className:"h-3 w-3 rounded-sm",style:{backgroundColor:e.color}}),t]})}function of({items:e,hideAxisLabels:t=!1,xLabel:n="",yLabel:r=""}){const i=Ws();function o(s,l){const a=l.indexOf(s);return a<l.length-2?`${s.name}, `:a===l.length-2?`${s.name}${l.length>2?", ":" "} ${i.formatMessage({id:"Gt7UQw",defaultMessage:"and"})}`:s.name}return ue.jsxs("div",{className:"flex w-full flex-wrap items-center gap-1 px-4 text-xs text-token-text-primary",children:[!t&&ue.jsx(Sr,{id:"Wn04Wd",defaultMessage:"{yLabel} by {xLabel}",values:{xLabel:ue.jsxs("div",{className:"inline-flex items-center gap-0.5",children:[ue.jsx(du,{className:"icon-sm text-token-text-secondary"}),n]}),yLabel:ue.jsxs("div",{className:"inline-flex items-center gap-0.5",children:[ue.jsx(fu,{className:"icon-sm text-token-text-secondary"}),r]})}}),e.length>1&&e.length<La&&(t?ue.jsx(Sr,{id:"WKJKdH",defaultMessage:"For {legendItems}",values:{legendItems:e.map((s,l)=>ue.jsx(Il,{item:s,formattedName:o(s,e)},l))}}):ue.jsx(Sr,{id:"Isulib",defaultMessage:"for {legendItems}",values:{legendItems:e.map((s,l)=>ue.jsx(Il,{item:s,formattedName:o(s,e)},l))}}))]})}const sf=d.forwardRef(({chart:e},t)=>{const n=d.useRef(null);d.useImperativeHandle(t,()=>({getBase64Image:()=>{if(!n.current){pa.addError("Chart instance is not yet available.");return}return n.current.toBase64Image()}}));const r=d.useCallback(()=>{if(e.chart_type==="pie"){const o=e.datasets[0].colors;if(o&&Array.isArray(o))return e.labels.map((s,l)=>({name:s,color:o[l]??""}))}else return e.datasets.map(o=>({name:o.label,color:Array.isArray(o.colors)?o.colors[0]:o.colors}));return[]},[e]);if(!(e.chart_type in Tl))return ue.jsx(Sr,{id:"Chart.invalidChartType",defaultMessage:"Invalid chart type"});const i=Tl[e.chart_type];return ue.jsxs("div",{className:"flex h-full w-full flex-col items-center",children:[ue.jsx("div",{className:"w-full flex-initial",style:{flexBasis:"28px"},children:ue.jsx(of,{xLabel:e.x_label,yLabel:e.y_label,items:r(),hideAxisLabels:e.chart_type==="pie"})}),ue.jsx("div",{className:wo("flex w-full flex-grow items-center justify-center px-4 pb-3"),style:{minHeight:"0"},children:ue.jsx(i,{chart:e,ref:n})})]})});sf.displayName="Chart";function za(e="This should not happen"){throw new Error(e)}function ln(e,t="Assertion failed"){if(!e)return za(t)}function Pi(e,t){return za(t??"Hell froze over")}function lf(e,t){try{return e()}catch{return t}}const Pl=Object.prototype.hasOwnProperty;function Vr(e,t){let n,r;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&Vr(e[r],t[r]););return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(Pl.call(e,n)&&++r&&!Pl.call(t,n)||!(n in t)||!Vr(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}var af=Object.prototype,cf=af.hasOwnProperty;function uf(e,t){return e!=null&&cf.call(e,t)}var df=uf,ff=df,hf=ou;function gf(e,t){return e!=null&&hf(e,t,ff)}var pf=gf;const mf=_o(pf),vo=null,Bs=void 0;var ne;(function(e){e.Uri="uri",e.Text="text",e.Image="image",e.RowID="row-id",e.Number="number",e.Bubble="bubble",e.Boolean="boolean",e.Loading="loading",e.Markdown="markdown",e.Drilldown="drilldown",e.Protected="protected",e.Custom="custom"})(ne||(ne={}));var _l;(function(e){e.HeaderRowID="headerRowID",e.HeaderCode="headerCode",e.HeaderNumber="headerNumber",e.HeaderString="headerString",e.HeaderBoolean="headerBoolean",e.HeaderAudioUri="headerAudioUri",e.HeaderVideoUri="headerVideoUri",e.HeaderEmoji="headerEmoji",e.HeaderImage="headerImage",e.HeaderUri="headerUri",e.HeaderPhone="headerPhone",e.HeaderMarkdown="headerMarkdown",e.HeaderDate="headerDate",e.HeaderTime="headerTime",e.HeaderEmail="headerEmail",e.HeaderReference="headerReference",e.HeaderIfThenElse="headerIfThenElse",e.HeaderSingleValue="headerSingleValue",e.HeaderLookup="headerLookup",e.HeaderTextTemplate="headerTextTemplate",e.HeaderMath="headerMath",e.HeaderRollup="headerRollup",e.HeaderJoinStrings="headerJoinStrings",e.HeaderSplitString="headerSplitString",e.HeaderGeoDistance="headerGeoDistance",e.HeaderArray="headerArray",e.RowOwnerOverlay="rowOwnerOverlay",e.ProtectedColumnOverlay="protectedColumnOverlay"})(_l||(_l={}));var bo;(function(e){e.Triangle="triangle",e.Dots="dots"})(bo||(bo={}));const Do="___gdg_header_cell_",Ha=Do+"checked",Oa=Do+"unchecked",yf=Do+"indeterminate";function lo(e){return"width"in e&&typeof e.width=="number"}async function Dl(e){return typeof e=="object"?e:await e()}function Xr(e){return!(e.kind===ne.Loading||e.kind===ne.Bubble||e.kind===ne.RowID||e.kind===ne.Protected||e.kind===ne.Drilldown)}function Yr(e){return e.kind===hn.Marker||e.kind===hn.NewRow}function mi(e){if(!Xr(e)||e.kind===ne.Image)return!1;if(e.kind===ne.Text||e.kind===ne.Number||e.kind===ne.Markdown||e.kind===ne.Uri||e.kind===ne.Custom||e.kind===ne.Boolean)return e.readonly!==!0;Pi(e,"A cell was passed with an invalid kind")}function wf(e){return mf(e,"editor")}function Rs(e){return!(e.readonly??!1)}var hn;(function(e){e.NewRow="new-row",e.Marker="marker"})(hn||(hn={}));function vf(e){if(e.length===0)return[];const t=[...e],n=[];t.sort(function(r,i){return r[0]-i[0]}),n.push([...t[0]]);for(const r of t.slice(1)){const i=n[n.length-1];i[1]<r[0]?n.push([...r]):i[1]<r[1]&&(i[1]=r[1])}return n}let Al;const Bn=class Bn{constructor(t){fe(this,"items");this.items=t}offset(t){if(t===0)return this;const n=this.items.map(r=>[r[0]+t,r[1]+t]);return new Bn(n)}add(t){const n=typeof t=="number"?[t,t+1]:t,r=vf([...this.items,n]);return new Bn(r)}remove(t){const n=[...this.items],r=typeof t=="number"?t:t[0],i=typeof t=="number"?t+1:t[1];for(const[o,s]of n.entries()){const[l,a]=s;if(l<=i&&r<=a){const c=[];l<r&&c.push([l,r]),i<a&&c.push([i,a]),n.splice(o,1,...c)}}return new Bn(n)}first(){if(this.items.length!==0)return this.items[0][0]}last(){if(this.items.length!==0)return this.items.slice(-1)[0][1]-1}hasIndex(t){for(let n=0;n<this.items.length;n++){const[r,i]=this.items[n];if(t>=r&&t<i)return!0}return!1}hasAll(t){for(let n=t[0];n<t[1];n++)if(!this.hasIndex(n))return!1;return!0}some(t){for(const n of this)if(t(n))return!0;return!1}equals(t){if(t===this)return!0;if(t.items.length!==this.items.length)return!1;for(let n=0;n<this.items.length;n++){const r=t.items[n],i=this.items[n];if(r[0]!==i[0]||r[1]!==i[1])return!1}return!0}toArray(){const t=[];for(const[n,r]of this.items)for(let i=n;i<r;i++)t.push(i);return t}get length(){let t=0;for(const[n,r]of this.items)t+=r-n;return t}*[Symbol.iterator](){for(const[t,n]of this.items)for(let r=t;r<n;r++)yield r}};fe(Bn,"empty",()=>Al??(Al=new Bn([]))),fe(Bn,"fromSingleSelection",t=>Bn.empty().add(t));let Ze=Bn;var bf=function(){const t=Array.prototype.slice.call(arguments).filter(Boolean),n={},r=[];t.forEach(o=>{(o?o.split(" "):[]).forEach(l=>{if(l.startsWith("atm_")){const[,a]=l.split("_");n[a]=l}else r.push(l)})});const i=[];for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.push(n[o]);return i.push(...r),i.join(" ")},Fl=bf,xf=e=>e.toUpperCase()===e,kf=e=>t=>e.indexOf(t)===-1,$a=(e,t)=>{const n={};return Object.keys(e).filter(kf(t)).forEach(r=>{n[r]=e[r]}),n};function Cf(e,t,n){const r=$a(t,n);if(!e){const i=typeof fs=="function"?{default:fs}:fs;Object.keys(r).forEach(o=>{i.default(o)||delete r[o]})}return r}var Sf=(e,t)=>{};function Mf(e){let t="";return n=>{const r=(o,s)=>{const{as:l=e,class:a=t}=o,c=n.propsAsIs===void 0?!(typeof l=="string"&&l.indexOf("-")===-1&&!xf(l[0])):n.propsAsIs,u=Cf(c,o,["as","class"]);u.ref=s,u.className=n.atomic?Fl(n.class,u.className||a):Fl(u.className||a,n.class);const{vars:f}=n;if(f){const p={};for(const w in f){const b=f[w],k=b[0],v=b[1]||"",S=typeof k=="function"?k(o):k;Sf(S,n.name),p[`--${w}`]=`${S}${v}`}const m=u.style||{},g=Object.keys(m);g.length>0&&g.forEach(w=>{p[w]=m[w]}),u.style=p}return e.__linaria&&e!==l?(u.as=l,Tt.createElement(e,u)):Tt.createElement(l,u)},i=Tt.forwardRef?Tt.forwardRef(r):o=>{const s=$a(o,["innerRef"]);return r(s,o.innerRef)};return i.displayName=n.name,i.__linaria={className:n.class||t,extends:e},i}}var un=Mf;const Rf=un("div")({name:"ImageOverlayEditorStyle",class:"gdg-i2iowwq",propsAsIs:!1});var Wa={},Ao={},js={},gs={},Ll;function Ef(){return Ll||(Ll=1,function(e){(function(t,n){n(e,d,su())})(ma,function(t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.setHasSupportToCaptureOption=g;var i=s(n),o=s(r);function s(v){return v&&v.__esModule?v:{default:v}}var l=Object.assign||function(v){for(var S=1;S<arguments.length;S++){var M=arguments[S];for(var y in M)Object.prototype.hasOwnProperty.call(M,y)&&(v[y]=M[y])}return v};function a(v,S){var M={};for(var y in v)S.indexOf(y)>=0||Object.prototype.hasOwnProperty.call(v,y)&&(M[y]=v[y]);return M}function c(v,S){if(!(v instanceof S))throw new TypeError("Cannot call a class as a function")}var u=function(){function v(S,M){for(var y=0;y<M.length;y++){var I=M[y];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(S,I.key,I)}}return function(S,M,y){return M&&v(S.prototype,M),y&&v(S,y),S}}();function f(v,S){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:v}function p(v,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);v.prototype=Object.create(S&&S.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(v,S):v.__proto__=S)}var m=!1;function g(v){m=v}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){g(!0)}}))}catch{}function w(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return m?v:v.capture}function b(v){if("touches"in v){var S=v.touches[0],M=S.pageX,y=S.pageY;return{x:M,y}}var I=v.screenX,E=v.screenY;return{x:I,y:E}}var k=function(v){p(S,v);function S(){var M;c(this,S);for(var y=arguments.length,I=Array(y),E=0;E<y;E++)I[E]=arguments[E];var P=f(this,(M=S.__proto__||Object.getPrototypeOf(S)).call.apply(M,[this].concat(I)));return P._handleSwipeStart=P._handleSwipeStart.bind(P),P._handleSwipeMove=P._handleSwipeMove.bind(P),P._handleSwipeEnd=P._handleSwipeEnd.bind(P),P._onMouseDown=P._onMouseDown.bind(P),P._onMouseMove=P._onMouseMove.bind(P),P._onMouseUp=P._onMouseUp.bind(P),P._setSwiperRef=P._setSwiperRef.bind(P),P}return u(S,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,w({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,w({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(y){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(y))}},{key:"_onMouseMove",value:function(y){this.mouseDown&&this._handleSwipeMove(y)}},{key:"_onMouseUp",value:function(y){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(y)}},{key:"_handleSwipeStart",value:function(y){var I=b(y),E=I.x,P=I.y;this.moveStart={x:E,y:P},this.props.onSwipeStart(y)}},{key:"_handleSwipeMove",value:function(y){if(this.moveStart){var I=b(y),E=I.x,P=I.y,T=E-this.moveStart.x,$=P-this.moveStart.y;this.moving=!0;var B=this.props.onSwipeMove({x:T,y:$},y);B&&y.cancelable&&y.preventDefault(),this.movePosition={deltaX:T,deltaY:$}}}},{key:"_handleSwipeEnd",value:function(y){this.props.onSwipeEnd(y);var I=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-I?this.props.onSwipeLeft(1,y):this.movePosition.deltaX>I&&this.props.onSwipeRight(1,y),this.movePosition.deltaY<-I?this.props.onSwipeUp(1,y):this.movePosition.deltaY>I&&this.props.onSwipeDown(1,y)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(y){this.swiper=y,this.props.innerRef(y)}},{key:"render",value:function(){var y=this.props;y.tagName;var I=y.className,E=y.style,P=y.children;y.allowMouseEvents,y.onSwipeUp,y.onSwipeDown,y.onSwipeLeft,y.onSwipeRight,y.onSwipeStart,y.onSwipeMove,y.onSwipeEnd,y.innerRef,y.tolerance;var T=a(y,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return i.default.createElement(this.props.tagName,l({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:I,style:E},T),P)}}]),S}(n.Component);k.displayName="ReactSwipe",k.propTypes={tagName:o.default.string,className:o.default.string,style:o.default.object,children:o.default.node,allowMouseEvents:o.default.bool,onSwipeUp:o.default.func,onSwipeDown:o.default.func,onSwipeLeft:o.default.func,onSwipeRight:o.default.func,onSwipeStart:o.default.func,onSwipeMove:o.default.func,onSwipeEnd:o.default.func,innerRef:o.default.func,tolerance:o.default.number.isRequired},k.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},t.default=k})}(gs)),gs}(function(e){(function(t,n){n(e,Ef())})(ma,function(t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}t.default=r.default})})(js);var Di={};Object.defineProperty(Di,"__esModule",{value:!0});Di.default=void 0;var nr=Tf(fd());function Tf(e){return e&&e.__esModule?e:{default:e}}function If(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pf={ROOT:function(t){return(0,nr.default)(If({"carousel-root":!0},t||"",!!t))},CAROUSEL:function(t){return(0,nr.default)({carousel:!0,"carousel-slider":t})},WRAPPER:function(t,n){return(0,nr.default)({"thumbs-wrapper":!t,"slider-wrapper":t,"axis-horizontal":n==="horizontal","axis-vertical":n!=="horizontal"})},SLIDER:function(t,n){return(0,nr.default)({thumbs:!t,slider:t,animated:!n})},ITEM:function(t,n,r){return(0,nr.default)({thumb:!t,slide:t,selected:n,previous:r})},ARROW_PREV:function(t){return(0,nr.default)({"control-arrow control-prev":!0,"control-disabled":t})},ARROW_NEXT:function(t){return(0,nr.default)({"control-arrow control-next":!0,"control-disabled":t})},DOT:function(t){return(0,nr.default)({dot:!0,selected:t})}};Di.default=Pf;var Ai={},Fo={};Object.defineProperty(Fo,"__esModule",{value:!0});Fo.outerWidth=void 0;var _f=function(t){var n=t.offsetWidth,r=getComputedStyle(t);return n+=parseInt(r.marginLeft)+parseInt(r.marginRight),n};Fo.outerWidth=_f;var Qr={};Object.defineProperty(Qr,"__esModule",{value:!0});Qr.default=void 0;var Df=function(t,n,r){var i=t===0?t:t+n,o=r==="horizontal"?[i,0,0]:[0,i,0],s="translate3d",l="("+o.join(",")+")";return s+l};Qr.default=Df;var Fi={};Object.defineProperty(Fi,"__esModule",{value:!0});Fi.default=void 0;var Af=function(){return window};Fi.default=Af;Object.defineProperty(Ai,"__esModule",{value:!0});Ai.default=void 0;var xn=zf(d),vr=Lo(Di),Ff=Fo,zl=Lo(Qr),Lf=Lo(js),ao=Lo(Fi);function Lo(e){return e&&e.__esModule?e:{default:e}}function Na(){if(typeof WeakMap!="function")return null;var e=new WeakMap;return Na=function(){return e},e}function zf(e){if(e&&e.__esModule)return e;if(e===null||xi(e)!=="object"&&typeof e!="function")return{default:e};var t=Na();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function xi(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xi=function(n){return typeof n}:xi=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},xi(e)}function Es(){return Es=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Es.apply(this,arguments)}function Hf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Of(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $f(e,t,n){return t&&Of(e.prototype,t),e}function Wf(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ts(e,t)}function Ts(e,t){return Ts=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Ts(e,t)}function Nf(e){var t=jf();return function(){var r=xo(e),i;if(t){var o=xo(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Bf(this,i)}}function Bf(e,t){return t&&(xi(t)==="object"||typeof t=="function")?t:jt(e)}function jt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jf(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function xo(e){return xo=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},xo(e)}function $t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xf=function(t){return t.hasOwnProperty("key")},Xs=function(e){Wf(n,e);var t=Nf(n);function n(r){var i;return Hf(this,n),i=t.call(this,r),$t(jt(i),"itemsWrapperRef",void 0),$t(jt(i),"itemsListRef",void 0),$t(jt(i),"thumbsRef",void 0),$t(jt(i),"setItemsWrapperRef",function(o){i.itemsWrapperRef=o}),$t(jt(i),"setItemsListRef",function(o){i.itemsListRef=o}),$t(jt(i),"setThumbsRef",function(o,s){i.thumbsRef||(i.thumbsRef=[]),i.thumbsRef[s]=o}),$t(jt(i),"updateSizes",function(){if(!(!i.props.children||!i.itemsWrapperRef||!i.thumbsRef)){var o=xn.Children.count(i.props.children),s=i.itemsWrapperRef.clientWidth,l=i.props.thumbWidth?i.props.thumbWidth:(0,Ff.outerWidth)(i.thumbsRef[0]),a=Math.floor(s/l),c=a<o,u=c?o-a:0;i.setState(function(f,p){return{itemSize:l,visibleItems:a,firstItem:c?i.getFirstItem(p.selectedItem):0,lastPosition:u,showArrows:c}})}}),$t(jt(i),"handleClickItem",function(o,s,l){if(!Xf(l)||l.key==="Enter"){var a=i.props.onSelectItem;typeof a=="function"&&a(o,s)}}),$t(jt(i),"onSwipeStart",function(){i.setState({swiping:!0})}),$t(jt(i),"onSwipeEnd",function(){i.setState({swiping:!1})}),$t(jt(i),"onSwipeMove",function(o){var s=o.x;if(!i.state.itemSize||!i.itemsWrapperRef||!i.state.visibleItems)return!1;var l=0,a=xn.Children.count(i.props.children),c=-(i.state.firstItem*100)/i.state.visibleItems,u=Math.max(a-i.state.visibleItems,0),f=-u*100/i.state.visibleItems;c===l&&s>0&&(s=0),c===f&&s<0&&(s=0);var p=i.itemsWrapperRef.clientWidth,m=c+100/(p/s);return i.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(g){i.itemsListRef.style[g]=(0,zl.default)(m,"%",i.props.axis)}),!0}),$t(jt(i),"slideRight",function(o){i.moveTo(i.state.firstItem-(typeof o=="number"?o:1))}),$t(jt(i),"slideLeft",function(o){i.moveTo(i.state.firstItem+(typeof o=="number"?o:1))}),$t(jt(i),"moveTo",function(o){o=o<0?0:o,o=o>=i.state.lastPosition?i.state.lastPosition:o,i.setState({firstItem:o})}),i.state={selectedItem:r.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},i}return $f(n,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(i){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==i.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,ao.default)().addEventListener("resize",this.updateSizes),(0,ao.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,ao.default)().removeEventListener("resize",this.updateSizes),(0,ao.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(i){var o=i;return i>=this.state.lastPosition&&(o=this.state.lastPosition),i<this.state.firstItem+this.state.visibleItems&&(o=this.state.firstItem),i<this.state.firstItem&&(o=i),o}},{key:"renderItems",value:function(){var i=this;return this.props.children.map(function(o,s){var l=vr.default.ITEM(!1,s===i.state.selectedItem),a={key:s,ref:function(u){return i.setThumbsRef(u,s)},className:l,onClick:i.handleClickItem.bind(i,s,i.props.children[s]),onKeyDown:i.handleClickItem.bind(i,s,i.props.children[s]),"aria-label":"".concat(i.props.labels.item," ").concat(s+1),style:{width:i.props.thumbWidth}};return xn.default.createElement("li",Es({},a,{role:"button",tabIndex:0}),o)})}},{key:"render",value:function(){var i=this;if(!this.props.children)return null;var o=xn.Children.count(this.props.children)>1,s=this.state.showArrows&&this.state.firstItem>0,l=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,a={},c=-this.state.firstItem*(this.state.itemSize||0),u=(0,zl.default)(c,"px",this.props.axis),f=this.props.transitionTime+"ms";return a={WebkitTransform:u,MozTransform:u,MsTransform:u,OTransform:u,transform:u,msTransform:u,WebkitTransitionDuration:f,MozTransitionDuration:f,MsTransitionDuration:f,OTransitionDuration:f,transitionDuration:f,msTransitionDuration:f},xn.default.createElement("div",{className:vr.default.CAROUSEL(!1)},xn.default.createElement("div",{className:vr.default.WRAPPER(!1),ref:this.setItemsWrapperRef},xn.default.createElement("button",{type:"button",className:vr.default.ARROW_PREV(!s),onClick:function(){return i.slideRight()},"aria-label":this.props.labels.leftArrow}),o?xn.default.createElement(Lf.default,{tagName:"ul",className:vr.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:a,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):xn.default.createElement("ul",{className:vr.default.SLIDER(!1,this.state.swiping),ref:function(m){return i.setItemsListRef(m)},style:a},this.renderItems()),xn.default.createElement("button",{type:"button",className:vr.default.ARROW_NEXT(!l),onClick:function(){return i.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),n}(xn.Component);Ai.default=Xs;$t(Xs,"displayName","Thumbs");$t(Xs,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350});var zo={};Object.defineProperty(zo,"__esModule",{value:!0});zo.default=void 0;var Uf=function(){return document};zo.default=Uf;var cn={};Object.defineProperty(cn,"__esModule",{value:!0});cn.setPosition=cn.getPosition=cn.isKeyboardEvent=cn.defaultStatusFormatter=cn.noop=void 0;var Yf=d,Kf=qf(Qr);function qf(e){return e&&e.__esModule?e:{default:e}}var Vf=function(){};cn.noop=Vf;var Gf=function(t,n){return"".concat(t," of ").concat(n)};cn.defaultStatusFormatter=Gf;var Zf=function(t){return t?t.hasOwnProperty("key"):!1};cn.isKeyboardEvent=Zf;var Qf=function(t,n){if(n.infiniteLoop&&++t,t===0)return 0;var r=Yf.Children.count(n.children);if(n.centerMode&&n.axis==="horizontal"){var i=-t*n.centerSlidePercentage,o=r-1;return t&&(t!==o||n.infiniteLoop)?i+=(100-n.centerSlidePercentage)/2:t===o&&(i+=100-n.centerSlidePercentage),i}return-t*100};cn.getPosition=Qf;var Jf=function(t,n){var r={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(i){r[i]=(0,Kf.default)(t,"%",n)}),r};cn.setPosition=Jf;var Dn={};Object.defineProperty(Dn,"__esModule",{value:!0});Dn.fadeAnimationHandler=Dn.slideStopSwipingHandler=Dn.slideSwipeAnimationHandler=Dn.slideAnimationHandler=void 0;var Ba=d,eh=th(Qr),An=cn;function th(e){return e&&e.__esModule?e:{default:e}}function Hl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Hl(Object(n),!0).forEach(function(r){nh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hl(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rh=function(t,n){var r={},i=n.selectedItem,o=i,s=Ba.Children.count(t.children)-1,l=t.infiniteLoop&&(i<0||i>s);if(l)return o<0?t.centerMode&&t.centerSlidePercentage&&t.axis==="horizontal"?r.itemListStyle=(0,An.setPosition)(-(s+2)*t.centerSlidePercentage-(100-t.centerSlidePercentage)/2,t.axis):r.itemListStyle=(0,An.setPosition)(-(s+2)*100,t.axis):o>s&&(r.itemListStyle=(0,An.setPosition)(0,t.axis)),r;var a=(0,An.getPosition)(i,t),c=(0,eh.default)(a,"%",t.axis),u=t.transitionTime+"ms";return r.itemListStyle={WebkitTransform:c,msTransform:c,OTransform:c,transform:c},n.swiping||(r.itemListStyle=xr(xr({},r.itemListStyle),{},{WebkitTransitionDuration:u,MozTransitionDuration:u,OTransitionDuration:u,transitionDuration:u,msTransitionDuration:u})),r};Dn.slideAnimationHandler=rh;var ih=function(t,n,r,i){var o={},s=n.axis==="horizontal",l=Ba.Children.count(n.children),a=0,c=(0,An.getPosition)(r.selectedItem,n),u=n.infiniteLoop?(0,An.getPosition)(l-1,n)-100:(0,An.getPosition)(l-1,n),f=s?t.x:t.y,p=f;c===a&&f>0&&(p=0),c===u&&f<0&&(p=0);var m=c+100/(r.itemSize/p),g=Math.abs(f)>n.swipeScrollTolerance;return n.infiniteLoop&&g&&(r.selectedItem===0&&m>-100?m-=l*100:r.selectedItem===l-1&&m<-l*100&&(m+=l*100)),(!n.preventMovementUntilSwipeScrollTolerance||g||r.swipeMovementStarted)&&(r.swipeMovementStarted||i({swipeMovementStarted:!0}),o.itemListStyle=(0,An.setPosition)(m,n.axis)),g&&!r.cancelClick&&i({cancelClick:!0}),o};Dn.slideSwipeAnimationHandler=ih;var oh=function(t,n){var r=(0,An.getPosition)(n.selectedItem,t),i=(0,An.setPosition)(r,t.axis);return{itemListStyle:i}};Dn.slideStopSwipingHandler=oh;var sh=function(t,n){var r=t.transitionTime+"ms",i="ease-in-out",o={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:i,msTransitionTimingFunction:i,MozTransitionTimingFunction:i,WebkitTransitionTimingFunction:i,OTransitionTimingFunction:i};return n.swiping||(o=xr(xr({},o),{},{WebkitTransitionDuration:r,MozTransitionDuration:r,OTransitionDuration:r,transitionDuration:r,msTransitionDuration:r})),{slideStyle:o,selectedStyle:xr(xr({},o),{},{opacity:1,position:"relative"}),prevStyle:xr({},o)}};Dn.fadeAnimationHandler=sh;Object.defineProperty(Ao,"__esModule",{value:!0});Ao.default=void 0;var it=ch(d),lh=Li(js),jn=Li(Di),ah=Li(Ai),co=Li(zo),uo=Li(Fi),yi=cn,ko=Dn;function Li(e){return e&&e.__esModule?e:{default:e}}function ja(){if(typeof WeakMap!="function")return null;var e=new WeakMap;return ja=function(){return e},e}function ch(e){if(e&&e.__esModule)return e;if(e===null||ki(e)!=="object"&&typeof e!="function")return{default:e};var t=ja();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function ki(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ki=function(n){return typeof n}:ki=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ki(e)}function Is(){return Is=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Is.apply(this,arguments)}function Ol(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ol(Object(n),!0).forEach(function(r){je(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ol(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fh(e,t,n){return t&&dh(e.prototype,t),e}function hh(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ps(e,t)}function Ps(e,t){return Ps=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Ps(e,t)}function gh(e){var t=mh();return function(){var r=Co(e),i;if(t){var o=Co(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return ph(this,i)}}function ph(e,t){return t&&(ki(t)==="object"||typeof t=="function")?t:Ke(e)}function Ke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mh(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Co(e){return Co=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Co(e)}function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Us=function(e){hh(n,e);var t=gh(n);function n(r){var i;uh(this,n),i=t.call(this,r),je(Ke(i),"thumbsRef",void 0),je(Ke(i),"carouselWrapperRef",void 0),je(Ke(i),"listRef",void 0),je(Ke(i),"itemsRef",void 0),je(Ke(i),"timer",void 0),je(Ke(i),"animationHandler",void 0),je(Ke(i),"setThumbsRef",function(s){i.thumbsRef=s}),je(Ke(i),"setCarouselWrapperRef",function(s){i.carouselWrapperRef=s}),je(Ke(i),"setListRef",function(s){i.listRef=s}),je(Ke(i),"setItemsRef",function(s,l){i.itemsRef||(i.itemsRef=[]),i.itemsRef[l]=s}),je(Ke(i),"autoPlay",function(){it.Children.count(i.props.children)<=1||(i.clearAutoPlay(),i.props.autoPlay&&(i.timer=setTimeout(function(){i.increment()},i.props.interval)))}),je(Ke(i),"clearAutoPlay",function(){i.timer&&clearTimeout(i.timer)}),je(Ke(i),"resetAutoPlay",function(){i.clearAutoPlay(),i.autoPlay()}),je(Ke(i),"stopOnHover",function(){i.setState({isMouseEntered:!0},i.clearAutoPlay)}),je(Ke(i),"startOnLeave",function(){i.setState({isMouseEntered:!1},i.autoPlay)}),je(Ke(i),"isFocusWithinTheCarousel",function(){return i.carouselWrapperRef?!!((0,co.default)().activeElement===i.carouselWrapperRef||i.carouselWrapperRef.contains((0,co.default)().activeElement)):!1}),je(Ke(i),"navigateWithKeyboard",function(s){if(i.isFocusWithinTheCarousel()){var l=i.props.axis,a=l==="horizontal",c={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},u=a?c.ArrowRight:c.ArrowDown,f=a?c.ArrowLeft:c.ArrowUp;u===s.keyCode?i.increment():f===s.keyCode&&i.decrement()}}),je(Ke(i),"updateSizes",function(){if(!(!i.state.initialized||!i.itemsRef||i.itemsRef.length===0)){var s=i.props.axis==="horizontal",l=i.itemsRef[0];if(l){var a=s?l.clientWidth:l.clientHeight;i.setState({itemSize:a}),i.thumbsRef&&i.thumbsRef.updateSizes()}}}),je(Ke(i),"setMountState",function(){i.setState({hasMount:!0}),i.updateSizes()}),je(Ke(i),"handleClickItem",function(s,l){if(it.Children.count(i.props.children)!==0){if(i.state.cancelClick){i.setState({cancelClick:!1});return}i.props.onClickItem(s,l),s!==i.state.selectedItem&&i.setState({selectedItem:s})}}),je(Ke(i),"handleOnChange",function(s,l){it.Children.count(i.props.children)<=1||i.props.onChange(s,l)}),je(Ke(i),"handleClickThumb",function(s,l){i.props.onClickThumb(s,l),i.moveTo(s)}),je(Ke(i),"onSwipeStart",function(s){i.setState({swiping:!0}),i.props.onSwipeStart(s)}),je(Ke(i),"onSwipeEnd",function(s){i.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),i.props.onSwipeEnd(s),i.clearAutoPlay(),i.state.autoPlay&&i.autoPlay()}),je(Ke(i),"onSwipeMove",function(s,l){i.props.onSwipeMove(l);var a=i.props.swipeAnimationHandler(s,i.props,i.state,i.setState.bind(Ke(i)));return i.setState(kn({},a)),!!Object.keys(a).length}),je(Ke(i),"decrement",function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;i.moveTo(i.state.selectedItem-(typeof s=="number"?s:1))}),je(Ke(i),"increment",function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;i.moveTo(i.state.selectedItem+(typeof s=="number"?s:1))}),je(Ke(i),"moveTo",function(s){if(typeof s=="number"){var l=it.Children.count(i.props.children)-1;s<0&&(s=i.props.infiniteLoop?l:0),s>l&&(s=i.props.infiniteLoop?0:l),i.selectItem({selectedItem:s}),i.state.autoPlay&&i.state.isMouseEntered===!1&&i.resetAutoPlay()}}),je(Ke(i),"onClickNext",function(){i.increment(1)}),je(Ke(i),"onClickPrev",function(){i.decrement(1)}),je(Ke(i),"onSwipeForward",function(){i.increment(1),i.props.emulateTouch&&i.setState({cancelClick:!0})}),je(Ke(i),"onSwipeBackwards",function(){i.decrement(1),i.props.emulateTouch&&i.setState({cancelClick:!0})}),je(Ke(i),"changeItem",function(s){return function(l){(!(0,yi.isKeyboardEvent)(l)||l.key==="Enter")&&i.moveTo(s)}}),je(Ke(i),"selectItem",function(s){i.setState(kn({previousItem:i.state.selectedItem},s),function(){i.setState(i.animationHandler(i.props,i.state))}),i.handleOnChange(s.selectedItem,it.Children.toArray(i.props.children)[s.selectedItem])}),je(Ke(i),"getInitialImage",function(){var s=i.props.selectedItem,l=i.itemsRef&&i.itemsRef[s],a=l&&l.getElementsByTagName("img")||[];return a[0]}),je(Ke(i),"getVariableItemHeight",function(s){var l=i.itemsRef&&i.itemsRef[s];if(i.state.hasMount&&l&&l.children.length){var a=l.children[0].getElementsByTagName("img")||[];if(a.length>0){var c=a[0];if(!c.complete){var u=function m(){i.forceUpdate(),c.removeEventListener("load",m)};c.addEventListener("load",u)}}var f=a[0]||l.children[0],p=f.clientHeight;return p>0?p:null}return null});var o={initialized:!1,previousItem:r.selectedItem,selectedItem:r.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:r.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return i.animationHandler=typeof r.animationHandler=="function"&&r.animationHandler||r.animationHandler==="fade"&&ko.fadeAnimationHandler||ko.slideAnimationHandler,i.state=kn(kn({},o),i.animationHandler(r,o)),i}return fh(n,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(i,o){!i.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!i.autoFocus&&this.props.autoFocus&&this.forceFocus(),o.swiping&&!this.state.swiping&&this.setState(kn({},this.props.stopSwipingHandler(this.props,this.state))),(i.selectedItem!==this.props.selectedItem||i.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),i.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var i=this;this.bindEvents(),this.state.autoPlay&&it.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var o=i.getInitialImage();o&&!o.complete?o.addEventListener("load",i.setMountState):i.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var i=this.carouselWrapperRef;this.props.stopOnHover&&i&&(i.addEventListener("mouseenter",this.stopOnHover),i.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var i=this.carouselWrapperRef;this.props.stopOnHover&&i&&(i.removeEventListener("mouseenter",this.stopOnHover),i.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,uo.default)().addEventListener("resize",this.updateSizes),(0,uo.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,co.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,uo.default)().removeEventListener("resize",this.updateSizes),(0,uo.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var i=this.getInitialImage();i&&i.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,co.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var i;(i=this.carouselWrapperRef)===null||i===void 0||i.focus()}},{key:"renderItems",value:function(i){var o=this;return this.props.children?it.Children.map(this.props.children,function(s,l){var a=l===o.state.selectedItem,c=l===o.state.previousItem,u=a&&o.state.selectedStyle||c&&o.state.prevStyle||o.state.slideStyle||{};o.props.centerMode&&o.props.axis==="horizontal"&&(u=kn(kn({},u),{},{minWidth:o.props.centerSlidePercentage+"%"})),o.state.swiping&&o.state.swipeMovementStarted&&(u=kn(kn({},u),{},{pointerEvents:"none"}));var f={ref:function(m){return o.setItemsRef(m,l)},key:"itemKey"+l+(i?"clone":""),className:jn.default.ITEM(!0,l===o.state.selectedItem,l===o.state.previousItem),onClick:o.handleClickItem.bind(o,l,s),style:u};return it.default.createElement("li",f,o.props.renderItem(s,{isSelected:l===o.state.selectedItem,isPrevious:l===o.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var i=this,o=this.props,s=o.showIndicators,l=o.labels,a=o.renderIndicator,c=o.children;return s?it.default.createElement("ul",{className:"control-dots"},it.Children.map(c,function(u,f){return a&&a(i.changeItem(f),f===i.state.selectedItem,f,l.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?it.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,it.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||it.Children.count(this.props.children)===0?null:it.default.createElement(ah.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var i=this;if(!this.props.children||it.Children.count(this.props.children)===0)return null;var o=this.props.swipeable&&it.Children.count(this.props.children)>1,s=this.props.axis==="horizontal",l=this.props.showArrows&&it.Children.count(this.props.children)>1,a=l&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,c=l&&(this.state.selectedItem<it.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,u=this.renderItems(!0),f=u.shift(),p=u.pop(),m={className:jn.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},g={};if(s){if(m.onSwipeLeft=this.onSwipeForward,m.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var w=this.getVariableItemHeight(this.state.selectedItem);g.height=w||"auto"}}else m.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,m.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,m.style=kn(kn({},m.style),{},{height:this.state.itemSize}),g.height=this.state.itemSize;return it.default.createElement("div",{"aria-label":this.props.ariaLabel,className:jn.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},it.default.createElement("div",{className:jn.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,a,this.props.labels.leftArrow),it.default.createElement("div",{className:jn.default.WRAPPER(!0,this.props.axis),style:g},o?it.default.createElement(lh.default,Is({tagName:"ul",innerRef:this.setListRef},m,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&p,this.renderItems(),this.props.infiniteLoop&&f):it.default.createElement("ul",{className:jn.default.SLIDER(!0,this.state.swiping),ref:function(k){return i.setListRef(k)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&p,this.renderItems(),this.props.infiniteLoop&&f)),this.props.renderArrowNext(this.onClickNext,c,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),n}(it.default.Component);Ao.default=Us;je(Us,"displayName","Carousel");je(Us,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:yi.noop,onClickThumb:yi.noop,onChange:yi.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(t,n,r){return it.default.createElement("button",{type:"button","aria-label":r,className:jn.default.ARROW_PREV(!n),onClick:t})},renderArrowNext:function(t,n,r){return it.default.createElement("button",{type:"button","aria-label":r,className:jn.default.ARROW_NEXT(!n),onClick:t})},renderIndicator:function(t,n,r,i){return it.default.createElement("li",{className:jn.default.DOT(n),onClick:t,onKeyDown:t,value:r,key:r,role:"button",tabIndex:0,"aria-label":"".concat(i," ").concat(r+1)})},renderItem:function(t){return t},renderThumbs:function(t){var n=it.Children.map(t,function(r){var i=r;if(r.type!=="img"&&(i=it.Children.toArray(r.props.children).find(function(o){return o.type==="img"})),!!i)return i});return n.filter(function(r){return r}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):n},statusFormatter:yi.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:ko.slideSwipeAnimationHandler,stopSwipingHandler:ko.slideStopSwipingHandler});var yh={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Carousel",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"CarouselProps",{enumerable:!0,get:function(){return n.CarouselProps}}),Object.defineProperty(e,"Thumbs",{enumerable:!0,get:function(){return r.default}});var t=i(Ao),n=yh,r=i(Ai);function i(o){return o&&o.__esModule?o:{default:o}}})(Wa);function Dt(e,t,n,r,i=!1){const o=d.useRef();o.current=t,d.useEffect(()=>{if(n===null||n.addEventListener===void 0)return;const s=n,l=a=>{var c;(c=o.current)==null||c.call(s,a)};return s.addEventListener(e,l,{passive:r,capture:i}),()=>{s.removeEventListener(e,l,{capture:i})}},[e,n,r,i])}function Br(e,t){return e===void 0?void 0:t}const wh=Math.PI;function $l(e){return e*wh/180}const Xa=(e,t,n)=>({x1:e-n/2,y1:t-n/2,x2:e+n/2,y2:t+n/2}),Ua=(e,t,n,r,i)=>{switch(e){case"left":return Math.floor(t)+r+i/2;case"center":return Math.floor(t+n/2);case"right":return Math.floor(t+n)-r-i/2}},Ya=(e,t,n)=>Math.min(e,t-n*2),Ka=(e,t,n)=>n.x1<=e&&e<=n.x2&&n.y1<=t&&t<=n.y2,Ys=e=>{const t=e.fgColor??"currentColor";return d.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},d.createElement("path",{d:"M12.7073 7.05029C7.87391 11.8837 10.4544 9.30322 6.03024 13.7273C5.77392 13.9836 5.58981 14.3071 5.50189 14.6587L4.52521 18.5655C4.38789 19.1148 4.88543 19.6123 5.43472 19.475L9.34146 18.4983C9.69313 18.4104 10.0143 18.2286 10.2706 17.9722L16.9499 11.2929",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",vectorEffect:"non-scaling-stroke"}),d.createElement("path",{d:"M20.4854 4.92901L19.0712 3.5148C18.2901 2.73375 17.0238 2.73375 16.2428 3.5148L14.475 5.28257C15.5326 7.71912 16.4736 8.6278 18.7176 9.52521L20.4854 7.75744C21.2665 6.97639 21.2665 5.71006 20.4854 4.92901Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",vectorEffect:"non-scaling-stroke"}))},vh=e=>{const t=e.fgColor??"currentColor";return d.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},d.createElement("path",{d:"M19 6L10.3802 17L5.34071 11.8758",vectorEffect:"non-scaling-stroke",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))};function bh(e,t,n){const[r,i]=d.useState(e),o=d.useRef(!0);d.useEffect(()=>()=>{o.current=!1},[]);const s=d.useRef(wa(l=>{o.current&&i(l)},n));return d.useLayoutEffect(()=>{o.current&&s.current(()=>e())},t),r}const xh="Ö-ß¿ï¬-ï·½ï¹°-ï»¼",kh="A-Za-zÃ-ÃÃ-Ã¶Ã¸-Ê¸Ì-Öà -á¿¿ââ°-ï¬ï¸-ï¹¯ï»½-ï¿¿",Ch=new RegExp("^[^"+kh+"]*["+xh+"]");function Ks(e){return Ch.test(e)?"rtl":"not-rtl"}let fo;function _s(){if(typeof document>"u")return 0;if(fo!==void 0)return fo;const e=document.createElement("p");e.style.width="100%",e.style.height="200px";const t=document.createElement("div");t.id="testScrollbar",t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.append(e),document.body.append(t);const n=e.offsetWidth;t.style.overflow="scroll";let r=e.offsetWidth;return n===r&&(r=t.clientWidth),t.remove(),fo=n-r,fo}const br=Symbol();function Sh(e){const t=d.useRef([br,e]);t.current[1]!==e&&(t.current[0]=e),t.current[1]=e;const[n,r]=d.useState(e),[,i]=d.useState(),o=d.useCallback(l=>{const a=t.current[0];a!==br&&(l=typeof l=="function"?l(a):l,l===a)||(a!==br&&i({}),r(c=>typeof l=="function"?l(a===br?c:a):l),t.current[0]=br)},[]),s=d.useCallback(()=>{t.current[0]=br,i({})},[]);return[t.current[0]===br?n:t.current[0],o,s]}function qa(e){if(e.length===0)return"";let t=0,n=0;for(const r of e){if(n+=r.length,n>1e4)break;t++}return e.slice(0,t).join(", ")}function Mh(e){const t=d.useRef(e);return Vr(e,t.current)||(t.current=e),d.useMemo(()=>t.current,[t.current])}const Rh=e=>{const{urls:t,canWrite:n,onEditClick:r,renderImage:i}=e,o=t.filter(l=>l!=="");if(o.length===0)return null;const s=o.length>1;return d.createElement(Rf,{"data-testid":"GDG-default-image-overlay-editor"},d.createElement(Wa.Carousel,{showArrows:s,showThumbs:!1,swipeable:s,emulateTouch:s,infiniteLoop:s},o.map(l=>{const a=(i==null?void 0:i(l))??d.createElement("img",{draggable:!1,src:l});return d.createElement("div",{className:"gdg-centering-container",key:l},a)})),n&&r&&d.createElement("button",{className:"gdg-edit-icon",onClick:r},d.createElement(Ys,null)))};function qs(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let Er=qs();function Va(e){Er=e}const Ga=/[&<>"']/,Eh=new RegExp(Ga.source,"g"),Za=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Th=new RegExp(Za.source,"g"),Ih={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Wl=e=>Ih[e];function on(e,t){if(t){if(Ga.test(e))return e.replace(Eh,Wl)}else if(Za.test(e))return e.replace(Th,Wl);return e}const Ph=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function _h(e){return e.replace(Ph,(t,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}const Dh=/(^|[^\[])\^/g;function lt(e,t){let n=typeof e=="string"?e:e.source;t=t||"";const r={replace:(i,o)=>{let s=typeof o=="string"?o:o.source;return s=s.replace(Dh,"$1"),n=n.replace(i,s),r},getRegex:()=>new RegExp(n,t)};return r}function Nl(e){try{e=encodeURI(e).replace(/%25/g,"%")}catch{return null}return e}const Ci={exec:()=>null};function Bl(e,t){const n=e.replace(/\|/g,(o,s,l)=>{let a=!1,c=s;for(;--c>=0&&l[c]==="\\";)a=!a;return a?"|":" |"}),r=n.split(/ \|/);let i=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),t)if(r.length>t)r.splice(t);else for(;r.length<t;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(/\\\|/g,"|");return r}function ho(e,t,n){const r=e.length;if(r===0)return"";let i=0;for(;i<r;){const o=e.charAt(r-i-1);if(o===t&&!n)i++;else if(o!==t&&n)i++;else break}return e.slice(0,r-i)}function Ah(e,t){if(e.indexOf(t[1])===-1)return-1;let n=0;for(let r=0;r<e.length;r++)if(e[r]==="\\")r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&(n--,n<0))return r;return-1}function jl(e,t,n,r){const i=t.href,o=t.title?on(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");if(e[0].charAt(0)!=="!"){r.state.inLink=!0;const l={type:"link",raw:n,href:i,title:o,text:s,tokens:r.inlineTokens(s)};return r.state.inLink=!1,l}return{type:"image",raw:n,href:i,title:o,text:on(s)}}function Fh(e,t){const n=e.match(/^(\s+)(?:```)/);if(n===null)return t;const r=n[1];return t.split(`
`).map(i=>{const o=i.match(/^\s+/);if(o===null)return i;const[s]=o;return s.length>=r.length?i.slice(r.length):i}).join(`
`)}class So{constructor(t){fe(this,"options");fe(this,"rules");fe(this,"lexer");this.options=t||Er}space(t){const n=this.rules.block.newline.exec(t);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(t){const n=this.rules.block.code.exec(t);if(n){const r=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:ho(r,`
`)}}}fences(t){const n=this.rules.block.fences.exec(t);if(n){const r=n[0],i=Fh(r,n[3]||"");return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:i}}}heading(t){const n=this.rules.block.heading.exec(t);if(n){let r=n[2].trim();if(/#$/.test(r)){const i=ho(r,"#");(this.options.pedantic||!i||/ $/.test(i))&&(r=i.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(t){const n=this.rules.block.hr.exec(t);if(n)return{type:"hr",raw:n[0]}}blockquote(t){const n=this.rules.block.blockquote.exec(t);if(n){const r=ho(n[0].replace(/^ *>[ \t]?/gm,""),`
`),i=this.lexer.state.top;this.lexer.state.top=!0;const o=this.lexer.blockTokens(r);return this.lexer.state.top=i,{type:"blockquote",raw:n[0],tokens:o,text:r}}}list(t){let n=this.rules.block.list.exec(t);if(n){let r=n[1].trim();const i=r.length>1,o={type:"list",raw:"",ordered:i,start:i?+r.slice(0,-1):"",loose:!1,items:[]};r=i?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=i?r:"[*+-]");const s=new RegExp(`^( {0,3}${r})((?:[	 ][^\\n]*)?(?:\\n|$))`);let l="",a="",c=!1;for(;t;){let u=!1;if(!(n=s.exec(t))||this.rules.block.hr.test(t))break;l=n[0],t=t.substring(l.length);let f=n[2].split(`
`,1)[0].replace(/^\t+/,k=>" ".repeat(3*k.length)),p=t.split(`
`,1)[0],m=0;this.options.pedantic?(m=2,a=f.trimStart()):(m=n[2].search(/[^ ]/),m=m>4?1:m,a=f.slice(m),m+=n[1].length);let g=!1;if(!f&&/^ *$/.test(p)&&(l+=p+`
`,t=t.substring(p.length+1),u=!0),!u){const k=new RegExp(`^ {0,${Math.min(3,m-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),v=new RegExp(`^ {0,${Math.min(3,m-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),S=new RegExp(`^ {0,${Math.min(3,m-1)}}(?:\`\`\`|~~~)`),M=new RegExp(`^ {0,${Math.min(3,m-1)}}#`);for(;t;){const y=t.split(`
`,1)[0];if(p=y,this.options.pedantic&&(p=p.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),S.test(p)||M.test(p)||k.test(p)||v.test(t))break;if(p.search(/[^ ]/)>=m||!p.trim())a+=`
`+p.slice(m);else{if(g||f.search(/[^ ]/)>=4||S.test(f)||M.test(f)||v.test(f))break;a+=`
`+p}!g&&!p.trim()&&(g=!0),l+=y+`
`,t=t.substring(y.length+1),f=p.slice(m)}}o.loose||(c?o.loose=!0:/\n *\n *$/.test(l)&&(c=!0));let w=null,b;this.options.gfm&&(w=/^\[[ xX]\] /.exec(a),w&&(b=w[0]!=="[ ] ",a=a.replace(/^\[[ xX]\] +/,""))),o.items.push({type:"list_item",raw:l,task:!!w,checked:b,loose:!1,text:a,tokens:[]}),o.raw+=l}o.items[o.items.length-1].raw=l.trimEnd(),o.items[o.items.length-1].text=a.trimEnd(),o.raw=o.raw.trimEnd();for(let u=0;u<o.items.length;u++)if(this.lexer.state.top=!1,o.items[u].tokens=this.lexer.blockTokens(o.items[u].text,[]),!o.loose){const f=o.items[u].tokens.filter(m=>m.type==="space"),p=f.length>0&&f.some(m=>/\n.*\n/.test(m.raw));o.loose=p}if(o.loose)for(let u=0;u<o.items.length;u++)o.items[u].loose=!0;return o}}html(t){const n=this.rules.block.html.exec(t);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(t){const n=this.rules.block.def.exec(t);if(n){const r=n[1].toLowerCase().replace(/\s+/g," "),i=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:i,title:o}}}table(t){const n=this.rules.block.table.exec(t);if(!n||!/[:|]/.test(n[2]))return;const r=Bl(n[1]),i=n[2].replace(/^\||\| *$/g,"").split("|"),o=n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[],s={type:"table",raw:n[0],header:[],align:[],rows:[]};if(r.length===i.length){for(const l of i)/^ *-+: *$/.test(l)?s.align.push("right"):/^ *:-+: *$/.test(l)?s.align.push("center"):/^ *:-+ *$/.test(l)?s.align.push("left"):s.align.push(null);for(const l of r)s.header.push({text:l,tokens:this.lexer.inline(l)});for(const l of o)s.rows.push(Bl(l,s.header.length).map(a=>({text:a,tokens:this.lexer.inline(a)})));return s}}lheading(t){const n=this.rules.block.lheading.exec(t);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(t){const n=this.rules.block.paragraph.exec(t);if(n){const r=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(t){const n=this.rules.block.text.exec(t);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(t){const n=this.rules.inline.escape.exec(t);if(n)return{type:"escape",raw:n[0],text:on(n[1])}}tag(t){const n=this.rules.inline.tag.exec(t);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(t){const n=this.rules.inline.link.exec(t);if(n){const r=n[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const s=ho(r.slice(0,-1),"\\");if((r.length-s.length)%2===0)return}else{const s=Ah(n[2],"()");if(s>-1){const a=(n[0].indexOf("!")===0?5:4)+n[1].length+s;n[2]=n[2].substring(0,s),n[0]=n[0].substring(0,a).trim(),n[3]=""}}let i=n[2],o="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);s&&(i=s[1],o=s[3])}else o=n[3]?n[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(r)?i=i.slice(1):i=i.slice(1,-1)),jl(n,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer)}}reflink(t,n){let r;if((r=this.rules.inline.reflink.exec(t))||(r=this.rules.inline.nolink.exec(t))){const i=(r[2]||r[1]).replace(/\s+/g," "),o=n[i.toLowerCase()];if(!o){const s=r[0].charAt(0);return{type:"text",raw:s,text:s}}return jl(r,o,r[0],this.lexer)}}emStrong(t,n,r=""){let i=this.rules.inline.emStrongLDelim.exec(t);if(!i||i[3]&&r.match(/[\p{L}\p{N}]/u))return;if(!(i[1]||i[2]||"")||!r||this.rules.inline.punctuation.exec(r)){const s=[...i[0]].length-1;let l,a,c=s,u=0;const f=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(f.lastIndex=0,n=n.slice(-1*t.length+s);(i=f.exec(n))!=null;){if(l=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!l)continue;if(a=[...l].length,i[3]||i[4]){c+=a;continue}else if((i[5]||i[6])&&s%3&&!((s+a)%3)){u+=a;continue}if(c-=a,c>0)continue;a=Math.min(a,a+c+u);const p=[...i[0]][0].length,m=t.slice(0,s+i.index+p+a);if(Math.min(s,a)%2){const w=m.slice(1,-1);return{type:"em",raw:m,text:w,tokens:this.lexer.inlineTokens(w)}}const g=m.slice(2,-2);return{type:"strong",raw:m,text:g,tokens:this.lexer.inlineTokens(g)}}}}codespan(t){const n=this.rules.inline.code.exec(t);if(n){let r=n[2].replace(/\n/g," ");const i=/[^ ]/.test(r),o=/^ /.test(r)&&/ $/.test(r);return i&&o&&(r=r.substring(1,r.length-1)),r=on(r,!0),{type:"codespan",raw:n[0],text:r}}}br(t){const n=this.rules.inline.br.exec(t);if(n)return{type:"br",raw:n[0]}}del(t){const n=this.rules.inline.del.exec(t);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(t){const n=this.rules.inline.autolink.exec(t);if(n){let r,i;return n[2]==="@"?(r=on(n[1]),i="mailto:"+r):(r=on(n[1]),i=r),{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}url(t){var r;let n;if(n=this.rules.inline.url.exec(t)){let i,o;if(n[2]==="@")i=on(n[0]),o="mailto:"+i;else{let s;do s=n[0],n[0]=((r=this.rules.inline._backpedal.exec(n[0]))==null?void 0:r[0])??"";while(s!==n[0]);i=on(n[0]),n[1]==="www."?o="http://"+n[0]:o=n[0]}return{type:"link",raw:n[0],text:i,href:o,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(t){const n=this.rules.inline.text.exec(t);if(n){let r;return this.lexer.state.inRawBlock?r=n[0]:r=on(n[0]),{type:"text",raw:n[0],text:r}}}}const Lh=/^(?: *(?:\n|$))+/,zh=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,Hh=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,zi=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Oh=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Qa=/(?:[*+-]|\d{1,9}[.)])/,Ja=lt(/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,Qa).getRegex(),Vs=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,$h=/^[^\n]+/,Gs=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Wh=lt(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",Gs).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Nh=lt(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Qa).getRegex(),Ho="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Zs=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Bh=lt("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",Zs).replace("tag",Ho).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ec=lt(Vs).replace("hr",zi).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ho).getRegex(),jh=lt(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",ec).getRegex(),Qs={blockquote:jh,code:zh,def:Wh,fences:Hh,heading:Oh,hr:zi,html:Bh,lheading:Ja,list:Nh,newline:Lh,paragraph:ec,table:Ci,text:$h},Xl=lt("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",zi).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ho).getRegex(),Xh={...Qs,table:Xl,paragraph:lt(Vs).replace("hr",zi).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Xl).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ho).getRegex()},Uh={...Qs,html:lt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Zs).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ci,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:lt(Vs).replace("hr",zi).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Ja).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},tc=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Yh=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,nc=/^( {2,}|\\)\n(?!\s*$)/,Kh=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Hi="\\p{P}$+<=>`^|~",qh=lt(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Hi).getRegex(),Vh=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,Gh=lt(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Hi).getRegex(),Zh=lt("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Hi).getRegex(),Qh=lt("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Hi).getRegex(),Jh=lt(/\\([punct])/,"gu").replace(/punct/g,Hi).getRegex(),eg=lt(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),tg=lt(Zs).replace("(?:-->|$)","-->").getRegex(),ng=lt("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",tg).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Mo=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,rg=lt(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Mo).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),rc=lt(/^!?\[(label)\]\[(ref)\]/).replace("label",Mo).replace("ref",Gs).getRegex(),ic=lt(/^!?\[(ref)\](?:\[\])?/).replace("ref",Gs).getRegex(),ig=lt("reflink|nolink(?!\\()","g").replace("reflink",rc).replace("nolink",ic).getRegex(),Js={_backpedal:Ci,anyPunctuation:Jh,autolink:eg,blockSkip:Vh,br:nc,code:Yh,del:Ci,emStrongLDelim:Gh,emStrongRDelimAst:Zh,emStrongRDelimUnd:Qh,escape:tc,link:rg,nolink:ic,punctuation:qh,reflink:rc,reflinkSearch:ig,tag:ng,text:Kh,url:Ci},og={...Js,link:lt(/^!?\[(label)\]\((.*?)\)/).replace("label",Mo).getRegex(),reflink:lt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Mo).getRegex()},Ds={...Js,escape:lt(tc).replace("])","~|])").getRegex(),url:lt(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},sg={...Ds,br:lt(nc).replace("{2,}","*").getRegex(),text:lt(Ds.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},go={normal:Qs,gfm:Xh,pedantic:Uh},fi={normal:Js,gfm:Ds,breaks:sg,pedantic:og};class Fn{constructor(t){fe(this,"tokens");fe(this,"options");fe(this,"state");fe(this,"tokenizer");fe(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Er,this.options.tokenizer=this.options.tokenizer||new So,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:go.normal,inline:fi.normal};this.options.pedantic?(n.block=go.pedantic,n.inline=fi.pedantic):this.options.gfm&&(n.block=go.gfm,this.options.breaks?n.inline=fi.breaks:n.inline=fi.gfm),this.tokenizer.rules=n}static get rules(){return{block:go,inline:fi}}static lex(t,n){return new Fn(n).lex(t)}static lexInline(t,n){return new Fn(n).inlineTokens(t)}lex(t){t=t.replace(/\r\n|\r/g,`
`),this.blockTokens(t,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){const r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,n=[]){this.options.pedantic?t=t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t=t.replace(/^( *)(\t+)/gm,(l,a,c)=>a+"    ".repeat(c.length));let r,i,o,s;for(;t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(l=>(r=l.call({lexer:this},t,n))?(t=t.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.space(t)){t=t.substring(r.raw.length),r.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(r);continue}if(r=this.tokenizer.code(t)){t=t.substring(r.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r);continue}if(r=this.tokenizer.fences(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.heading(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.hr(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.blockquote(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.list(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.html(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.def(t)){t=t.substring(r.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.lheading(t)){t=t.substring(r.raw.length),n.push(r);continue}if(o=t,this.options.extensions&&this.options.extensions.startBlock){let l=1/0;const a=t.slice(1);let c;this.options.extensions.startBlock.forEach(u=>{c=u.call({lexer:this},a),typeof c=="number"&&c>=0&&(l=Math.min(l,c))}),l<1/0&&l>=0&&(o=t.substring(0,l+1))}if(this.state.top&&(r=this.tokenizer.paragraph(o))){i=n[n.length-1],s&&i.type==="paragraph"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r),s=o.length!==t.length,t=t.substring(r.raw.length);continue}if(r=this.tokenizer.text(t)){t=t.substring(r.raw.length),i=n[n.length-1],i&&i.type==="text"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r);continue}if(t){const l="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){let r,i,o,s=t,l,a,c;if(this.tokens.links){const u=Object.keys(this.tokens.links);if(u.length>0)for(;(l=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)u.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(l=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)s=s.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(l=this.tokenizer.rules.inline.anyPunctuation.exec(s))!=null;)s=s.slice(0,l.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;t;)if(a||(c=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(u=>(r=u.call({lexer:this},t,n))?(t=t.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.escape(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.tag(t)){t=t.substring(r.raw.length),i=n[n.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(r=this.tokenizer.link(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(r.raw.length),i=n[n.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(r=this.tokenizer.emStrong(t,s,c)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.codespan(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.br(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.del(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.autolink(t)){t=t.substring(r.raw.length),n.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(t))){t=t.substring(r.raw.length),n.push(r);continue}if(o=t,this.options.extensions&&this.options.extensions.startInline){let u=1/0;const f=t.slice(1);let p;this.options.extensions.startInline.forEach(m=>{p=m.call({lexer:this},f),typeof p=="number"&&p>=0&&(u=Math.min(u,p))}),u<1/0&&u>=0&&(o=t.substring(0,u+1))}if(r=this.tokenizer.inlineText(o)){t=t.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(c=r.raw.slice(-1)),a=!0,i=n[n.length-1],i&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(t){const u="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return n}}class Ro{constructor(t){fe(this,"options");this.options=t||Er}code(t,n,r){var o;const i=(o=(n||"").match(/^\S*/))==null?void 0:o[0];return t=t.replace(/\n$/,"")+`
`,i?'<pre><code class="language-'+on(i)+'">'+(r?t:on(t,!0))+`</code></pre>
`:"<pre><code>"+(r?t:on(t,!0))+`</code></pre>
`}blockquote(t){return`<blockquote>
${t}</blockquote>
`}html(t,n){return t}heading(t,n,r){return`<h${n}>${t}</h${n}>
`}hr(){return`<hr>
`}list(t,n,r){const i=n?"ol":"ul",o=n&&r!==1?' start="'+r+'"':"";return"<"+i+o+`>
`+t+"</"+i+`>
`}listitem(t,n,r){return`<li>${t}</li>
`}checkbox(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(t){return`<p>${t}</p>
`}table(t,n){return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+n+`</table>
`}tablerow(t){return`<tr>
${t}</tr>
`}tablecell(t,n){const r=n.header?"th":"td";return(n.align?`<${r} align="${n.align}">`:`<${r}>`)+t+`</${r}>
`}strong(t){return`<strong>${t}</strong>`}em(t){return`<em>${t}</em>`}codespan(t){return`<code>${t}</code>`}br(){return"<br>"}del(t){return`<del>${t}</del>`}link(t,n,r){const i=Nl(t);if(i===null)return r;t=i;let o='<a href="'+t+'"';return n&&(o+=' title="'+n+'"'),o+=">"+r+"</a>",o}image(t,n,r){const i=Nl(t);if(i===null)return r;t=i;let o=`<img src="${t}" alt="${r}"`;return n&&(o+=` title="${n}"`),o+=">",o}text(t){return t}}class el{strong(t){return t}em(t){return t}codespan(t){return t}del(t){return t}html(t){return t}text(t){return t}link(t,n,r){return""+r}image(t,n,r){return""+r}br(){return""}}class Ln{constructor(t){fe(this,"options");fe(this,"renderer");fe(this,"textRenderer");this.options=t||Er,this.options.renderer=this.options.renderer||new Ro,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new el}static parse(t,n){return new Ln(n).parse(t)}static parseInline(t,n){return new Ln(n).parseInline(t)}parse(t,n=!0){let r="";for(let i=0;i<t.length;i++){const o=t[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const s=o,l=this.options.extensions.renderers[s.type].call({parser:this},s);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(s.type)){r+=l||"";continue}}switch(o.type){case"space":continue;case"hr":{r+=this.renderer.hr();continue}case"heading":{const s=o;r+=this.renderer.heading(this.parseInline(s.tokens),s.depth,_h(this.parseInline(s.tokens,this.textRenderer)));continue}case"code":{const s=o;r+=this.renderer.code(s.text,s.lang,!!s.escaped);continue}case"table":{const s=o;let l="",a="";for(let u=0;u<s.header.length;u++)a+=this.renderer.tablecell(this.parseInline(s.header[u].tokens),{header:!0,align:s.align[u]});l+=this.renderer.tablerow(a);let c="";for(let u=0;u<s.rows.length;u++){const f=s.rows[u];a="";for(let p=0;p<f.length;p++)a+=this.renderer.tablecell(this.parseInline(f[p].tokens),{header:!1,align:s.align[p]});c+=this.renderer.tablerow(a)}r+=this.renderer.table(l,c);continue}case"blockquote":{const s=o,l=this.parse(s.tokens);r+=this.renderer.blockquote(l);continue}case"list":{const s=o,l=s.ordered,a=s.start,c=s.loose;let u="";for(let f=0;f<s.items.length;f++){const p=s.items[f],m=p.checked,g=p.task;let w="";if(p.task){const b=this.renderer.checkbox(!!m);c?p.tokens.length>0&&p.tokens[0].type==="paragraph"?(p.tokens[0].text=b+" "+p.tokens[0].text,p.tokens[0].tokens&&p.tokens[0].tokens.length>0&&p.tokens[0].tokens[0].type==="text"&&(p.tokens[0].tokens[0].text=b+" "+p.tokens[0].tokens[0].text)):p.tokens.unshift({type:"text",text:b+" "}):w+=b+" "}w+=this.parse(p.tokens,c),u+=this.renderer.listitem(w,g,!!m)}r+=this.renderer.list(u,l,a);continue}case"html":{const s=o;r+=this.renderer.html(s.text,s.block);continue}case"paragraph":{const s=o;r+=this.renderer.paragraph(this.parseInline(s.tokens));continue}case"text":{let s=o,l=s.tokens?this.parseInline(s.tokens):s.text;for(;i+1<t.length&&t[i+1].type==="text";)s=t[++i],l+=`
`+(s.tokens?this.parseInline(s.tokens):s.text);r+=n?this.renderer.paragraph(l):l;continue}default:{const s='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return r}parseInline(t,n){n=n||this.renderer;let r="";for(let i=0;i<t.length;i++){const o=t[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const s=this.options.extensions.renderers[o.type].call({parser:this},o);if(s!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){r+=s||"";continue}}switch(o.type){case"escape":{const s=o;r+=n.text(s.text);break}case"html":{const s=o;r+=n.html(s.text);break}case"link":{const s=o;r+=n.link(s.href,s.title,this.parseInline(s.tokens,n));break}case"image":{const s=o;r+=n.image(s.href,s.title,s.text);break}case"strong":{const s=o;r+=n.strong(this.parseInline(s.tokens,n));break}case"em":{const s=o;r+=n.em(this.parseInline(s.tokens,n));break}case"codespan":{const s=o;r+=n.codespan(s.text);break}case"br":{r+=n.br();break}case"del":{const s=o;r+=n.del(this.parseInline(s.tokens,n));break}case"text":{const s=o;r+=n.text(s.text);break}default:{const s='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return r}}class Si{constructor(t){fe(this,"options");this.options=t||Er}preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}}fe(Si,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var Rr,As,oc;class lg{constructor(...t){Sl(this,Rr);fe(this,"defaults",qs());fe(this,"options",this.setOptions);fe(this,"parse",no(this,Rr,As).call(this,Fn.lex,Ln.parse));fe(this,"parseInline",no(this,Rr,As).call(this,Fn.lexInline,Ln.parseInline));fe(this,"Parser",Ln);fe(this,"Renderer",Ro);fe(this,"TextRenderer",el);fe(this,"Lexer",Fn);fe(this,"Tokenizer",So);fe(this,"Hooks",Si);this.use(...t)}walkTokens(t,n){var i,o;let r=[];for(const s of t)switch(r=r.concat(n.call(this,s)),s.type){case"table":{const l=s;for(const a of l.header)r=r.concat(this.walkTokens(a.tokens,n));for(const a of l.rows)for(const c of a)r=r.concat(this.walkTokens(c.tokens,n));break}case"list":{const l=s;r=r.concat(this.walkTokens(l.items,n));break}default:{const l=s;(o=(i=this.defaults.extensions)==null?void 0:i.childTokens)!=null&&o[l.type]?this.defaults.extensions.childTokens[l.type].forEach(a=>{r=r.concat(this.walkTokens(l[a],n))}):l.tokens&&(r=r.concat(this.walkTokens(l.tokens,n)))}}return r}use(...t){const n=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(r=>{const i={...r};if(i.async=this.defaults.async||i.async||!1,r.extensions&&(r.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){const s=n.renderers[o.name];s?n.renderers[o.name]=function(...l){let a=o.renderer.apply(this,l);return a===!1&&(a=s.apply(this,l)),a}:n.renderers[o.name]=o.renderer}if("tokenizer"in o){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const s=n[o.level];s?s.unshift(o.tokenizer):n[o.level]=[o.tokenizer],o.start&&(o.level==="block"?n.startBlock?n.startBlock.push(o.start):n.startBlock=[o.start]:o.level==="inline"&&(n.startInline?n.startInline.push(o.start):n.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(n.childTokens[o.name]=o.childTokens)}),i.extensions=n),r.renderer){const o=this.defaults.renderer||new Ro(this.defaults);for(const s in r.renderer){if(!(s in o))throw new Error(`renderer '${s}' does not exist`);if(s==="options")continue;const l=s,a=r.renderer[l],c=o[l];o[l]=(...u)=>{let f=a.apply(o,u);return f===!1&&(f=c.apply(o,u)),f||""}}i.renderer=o}if(r.tokenizer){const o=this.defaults.tokenizer||new So(this.defaults);for(const s in r.tokenizer){if(!(s in o))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;const l=s,a=r.tokenizer[l],c=o[l];o[l]=(...u)=>{let f=a.apply(o,u);return f===!1&&(f=c.apply(o,u)),f}}i.tokenizer=o}if(r.hooks){const o=this.defaults.hooks||new Si;for(const s in r.hooks){if(!(s in o))throw new Error(`hook '${s}' does not exist`);if(s==="options")continue;const l=s,a=r.hooks[l],c=o[l];Si.passThroughHooks.has(s)?o[l]=u=>{if(this.defaults.async)return Promise.resolve(a.call(o,u)).then(p=>c.call(o,p));const f=a.call(o,u);return c.call(o,f)}:o[l]=(...u)=>{let f=a.apply(o,u);return f===!1&&(f=c.apply(o,u)),f}}i.hooks=o}if(r.walkTokens){const o=this.defaults.walkTokens,s=r.walkTokens;i.walkTokens=function(l){let a=[];return a.push(s.call(this,l)),o&&(a=a.concat(o.call(this,l))),a}}this.defaults={...this.defaults,...i}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,n){return Fn.lex(t,n??this.defaults)}parser(t,n){return Ln.parse(t,n??this.defaults)}}Rr=new WeakSet,As=function(t,n){return(r,i)=>{const o={...i},s={...this.defaults,...o};this.defaults.async===!0&&o.async===!1&&(s.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),s.async=!0);const l=no(this,Rr,oc).call(this,!!s.silent,!!s.async);if(typeof r>"u"||r===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(s.hooks&&(s.hooks.options=s),s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(r):r).then(a=>t(a,s)).then(a=>s.hooks?s.hooks.processAllTokens(a):a).then(a=>s.walkTokens?Promise.all(this.walkTokens(a,s.walkTokens)).then(()=>a):a).then(a=>n(a,s)).then(a=>s.hooks?s.hooks.postprocess(a):a).catch(l);try{s.hooks&&(r=s.hooks.preprocess(r));let a=t(r,s);s.hooks&&(a=s.hooks.processAllTokens(a)),s.walkTokens&&this.walkTokens(a,s.walkTokens);let c=n(a,s);return s.hooks&&(c=s.hooks.postprocess(c)),c}catch(a){return l(a)}}},oc=function(t,n){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,t){const i="<p>An error occurred:</p><pre>"+on(r.message+"",!0)+"</pre>";return n?Promise.resolve(i):i}if(n)return Promise.reject(r);throw r}};const Mr=new lg;function ot(e,t){return Mr.parse(e,t)}ot.options=ot.setOptions=function(e){return Mr.setOptions(e),ot.defaults=Mr.defaults,Va(ot.defaults),ot};ot.getDefaults=qs;ot.defaults=Er;ot.use=function(...e){return Mr.use(...e),ot.defaults=Mr.defaults,Va(ot.defaults),ot};ot.walkTokens=function(e,t){return Mr.walkTokens(e,t)};ot.parseInline=Mr.parseInline;ot.Parser=Ln;ot.parser=Ln.parse;ot.Renderer=Ro;ot.TextRenderer=el;ot.Lexer=Fn;ot.lexer=Fn.lex;ot.Tokenizer=So;ot.Hooks=Si;ot.parse=ot;ot.options;ot.setOptions;ot.use;ot.walkTokens;ot.parseInline;Ln.parse;Fn.lex;const ag=un("div")({name:"MarkdownContainer",class:"gdg-mnuv029",propsAsIs:!1});class cg extends Tt.PureComponent{constructor(){super(...arguments);fe(this,"targetElement",null);fe(this,"containerRefHook",n=>{this.targetElement=n,this.renderMarkdownIntoDiv()})}renderMarkdownIntoDiv(){const{targetElement:n,props:r}=this;if(n===null)return;const{contents:i,createNode:o}=r,s=ot(i),l=document.createRange();l.selectNodeContents(n),l.deleteContents();let a=o==null?void 0:o(s);if(a===void 0){const u=document.createElement("template");u.innerHTML=s,a=u.content}n.append(a);const c=n.getElementsByTagName("a");for(const u of c)u.target="_blank",u.rel="noreferrer noopener"}render(){return this.renderMarkdownIntoDiv(),Tt.createElement(ag,{ref:this.containerRefHook})}}const ug=un("textarea")({name:"InputBox",class:"gdg-izpuzkl",propsAsIs:!1}),dg=un("div")({name:"ShadowBox",class:"gdg-s69h75o",propsAsIs:!1}),fg=un("div")({name:"GrowingEntryStyle",class:"gdg-g1y0xocz",propsAsIs:!1});let Ul=0;const Oo=e=>{const{placeholder:t,value:n,onKeyDown:r,highlight:i,altNewline:o,validatedSelection:s,...l}=e,{onChange:a,className:c}=l,u=d.useRef(null),f=n??"";ln(a!==void 0,"GrowingEntry must be a controlled input area");const[p]=d.useState(()=>"input-box-"+(Ul=(Ul+1)%1e7));d.useEffect(()=>{const g=u.current;if(g===null||g.disabled)return;const w=f.toString().length;g.focus(),g.setSelectionRange(i?0:w,w)},[]),d.useLayoutEffect(()=>{var g;if(s!==void 0){const w=typeof s=="number"?[s,null]:s;(g=u.current)==null||g.setSelectionRange(w[0],w[1])}},[s]);const m=d.useCallback(g=>{g.key==="Enter"&&g.shiftKey&&o===!0||r==null||r(g)},[o,r]);return d.createElement(fg,{className:"gdg-growing-entry"},d.createElement(dg,{className:c},f+`
`),d.createElement(ug,{...l,className:(c??"")+" gdg-input",id:p,ref:u,onKeyDown:m,value:f,placeholder:t,dir:"auto"}))},ps={};let rr=null;function hg(){const e=document.createElement("div");return e.style.opacity="0",e.style.pointerEvents="none",e.style.position="fixed",document.body.append(e),e}function Fs(e){const t=e.toLowerCase().trim();if(ps[t]!==void 0)return ps[t];rr=rr||hg(),rr.style.color="#000",rr.style.color=t;const n=getComputedStyle(rr).color;rr.style.color="#fff",rr.style.color=t;const r=getComputedStyle(rr).color;if(r!==n)return[0,0,0,1];let i=r.replace(/[^\d.,]/g,"").split(",").map(Number.parseFloat);return i.length<4&&i.push(1),i=i.map(o=>Number.isNaN(o)?0:o),ps[t]=i,i}function Gr(e,t){const[n,r,i]=Fs(e);return`rgba(${n}, ${r}, ${i}, ${t})`}function an(e,t){if(t===void 0)return e;const[n,r,i,o]=Fs(e);if(o===1)return e;const[s,l,a,c]=Fs(t),u=o+c*(1-o),f=(o*n+c*s*(1-o))/u,p=(o*r+c*l*(1-o))/u,m=(o*i+c*a*(1-o))/u;return`rgba(${f}, ${p}, ${m}, ${u})`}var Ur=new Map,Kr=new Map,Ls=new Map;function gg(){Ur.clear(),Ls.clear(),Kr.clear()}function pg(e,t,n,r,i){var o,s,l;let a=0,c={};for(let f of e)a+=(o=n.get(f))!=null?o:i,c[f]=((s=c[f])!=null?s:0)+1;let u=t-a;for(let f of Object.keys(c)){let p=c[f],m=(l=n.get(f))!=null?l:i,g=m*p/a,w=u*g*r/p,b=m+w;n.set(f,b)}}function mg(e,t){var n;let r=new Map,i=0;for(let c of"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890,.-+=?"){let u=e.measureText(c).width;r.set(c,u),i+=u}let o=i/r.size,s=3,l=(t/o+s)/(s+1),a=r.keys();for(let c of a)r.set(c,((n=r.get(c))!=null?n:o)*l);return r}function Mi(e,t,n,r){var i,o;let s=Kr.get(n);if(r&&s!==void 0&&s.count>2e4){let c=Ls.get(n);if(c===void 0&&(c=mg(e,s.size),Ls.set(n,c)),s.count>5e5){let f=0;for(let p of t)f+=(i=c.get(p))!=null?i:s.size;return f*1.01}let u=e.measureText(t);return pg(t,u.width,c,Math.max(.05,1-s.count/2e5),s.size),Kr.set(n,{count:s.count+t.length,size:s.size}),u.width}let l=e.measureText(t),a=l.width/t.length;if(((o=s==null?void 0:s.count)!=null?o:0)>2e4)return l.width;if(s===void 0)Kr.set(n,{count:t.length,size:a});else{let c=a-s.size,u=t.length/(s.count+t.length),f=s.size+c*u;Kr.set(n,{count:s.count+t.length,size:f})}return l.width}function yg(e,t,n,r,i,o,s,l){if(t.length<=1)return t.length;if(i<n)return-1;let a=Math.floor(n/i*o),c=Mi(e,t.slice(0,Math.max(0,a)),r,s);if(c!==n)if(c<n){for(;c<n;)a++,c=Mi(e,t.slice(0,Math.max(0,a)),r,s);a--}else for(;c>n;){let u=t.lastIndexOf(" ",a-1);u>0?a=u:a--,c=Mi(e,t.slice(0,Math.max(0,a)),r,s)}if(t[a]!==" "){let u=0;u=t.lastIndexOf(" ",a),u>0&&(a=u)}return a}function wg(e,t,n,r,i,o){let s=`${t}_${n}_${r}px`,l=Ur.get(s);if(l!==void 0)return l;if(r<=0)return[];let a=[],c=t.split(`
`),u=Kr.get(n),f=u===void 0?t.length:r/u.size*1.5,p=i&&u!==void 0&&u.count>2e4;for(let m of c){let g=Mi(e,m.slice(0,Math.max(0,f)),n,p),w=Math.min(m.length,f);if(g<=r)a.push(m);else{for(;g>r;){let b=yg(e,m,r,n,g,w,p),k=m.slice(0,Math.max(0,b));m=m.slice(k.length),a.push(k),g=Mi(e,m.slice(0,Math.max(0,f)),n,p),w=Math.min(m.length,f)}g>0&&a.push(m)}}return a=a.map((m,g)=>g===0?m.trimEnd():m.trim()),Ur.set(s,a),Ur.size>500&&Ur.delete(Ur.keys().next().value),a}function vg(e,t){return Tt.useMemo(()=>e.map((n,r)=>({...n,sourceIndex:r,sticky:r<t})),[e,t])}function bg(e,t){const[n,r]=t;if(e.columns.hasIndex(n)||e.rows.hasIndex(r))return!0;if(e.current!==void 0){if(Ri(e.current.cell,t))return!0;const i=[e.current.range,...e.current.rangeStack];for(const o of i)if(n>=o.x&&n<o.x+o.width&&r>=o.y&&r<o.y+o.height)return!0}return!1}function _i(e,t){return(e??"")===(t??"")}function xg(e,t,n){return n.current===void 0||e[1]!==n.current.cell[1]?!1:t.span===void 0?n.current.cell[0]===e[0]:n.current.cell[0]>=t.span[0]&&n.current.cell[0]<=t.span[1]}function sc(e,t){const[n,r]=e;return n>=t.x&&n<t.x+t.width&&r>=t.y&&r<t.y+t.height}function Ri(e,t){return(e==null?void 0:e[0])===(t==null?void 0:t[0])&&(e==null?void 0:e[1])===(t==null?void 0:t[1])}function lc(e){return[e.x+e.width-1,e.y+e.height-1]}function Yl(e,t,n){const r=n.x,i=n.x+n.width-1,o=n.y,s=n.y+n.height-1,[l,a]=e;if(a<o||a>s)return!1;if(t.span===void 0)return l>=r&&l<=i;const[c,u]=t.span;return c>=r&&c<=i||u>=r&&c<=i||c<r&&u>i}function kg(e,t,n){let r=0;if(n.current===void 0)return r;Yl(e,t,n.current.range)&&r++;for(const i of n.current.rangeStack)Yl(e,t,i)&&r++;return r}function ac(e,t){let n=e;if(t!==void 0){let r=[...e];const i=n[t.src];t.src>t.dest?(r.splice(t.src,1),r.splice(t.dest,0,i)):(r.splice(t.dest+1,0,i),r.splice(t.src,1)),r=r.map((o,s)=>({...o,sticky:e[s].sticky})),n=r}return n}function Zr(e,t){let n=0;const r=ac(e,t);for(let i=0;i<r.length;i++){const o=r[i];if(o.sticky)n+=o.width;else break}return n}function Jr(e,t,n){if(typeof n=="number")return t*n;{let r=0;for(let i=e-t;i<e;i++)r+=n(i);return r}}function zs(e,t,n,r,i){const o=ac(e,r),s=[];for(const c of o)if(c.sticky)s.push(c);else break;if(s.length>0)for(const c of s)n-=c.width;let l=t,a=i??0;for(;a<=n&&l<o.length;)a+=o[l].width,l++;for(let c=t;c<l;c++){const u=o[c];u.sticky||s.push(u)}return s}function Cg(e,t,n){let r=0;for(const i of t){const o=i.sticky?r:r+(n??0);if(e<=o+i.width)return i.sourceIndex;r+=i.width}return-1}function Sg(e,t,n,r,i,o,s,l,a,c){const u=r+i;if(n&&e<=i)return-2;if(e<=u)return-1;let f=t;for(let g=0;g<c;g++){const w=o-1-g,b=typeof s=="number"?s:s(w);if(f-=b,e>=f)return w}const p=o-c,m=e-(a??0);if(typeof s=="number"){const g=Math.floor((m-u)/s)+l;return g>=p?void 0:g}else{let g=u;for(let w=l;w<p;w++){const b=s(w);if(m<=g+b)return w;g+=b}return}}let yo=0,Ei={};const Mg=typeof window>"u";async function Rg(){var e;Mg||((e=document==null?void 0:document.fonts)==null?void 0:e.ready)===void 0||(await document.fonts.ready,yo=0,Ei={},gg())}Rg();function cc(e,t,n,r){return`${e}_${r??(t==null?void 0:t.font)}_${n}`}function $o(e,t,n){const r=cc(e,t,"middle",n);let i=Ei[r];return i===void 0&&(i=t.measureText(e),Ei[r]=i,yo++),yo>1e4&&(Ei={},yo=0),i}function Eg(e,t){const n=cc(e,void 0,"middle",t);return Ei[n]}function ar(e,t){return typeof t!="string"&&(t=t.baseFontFull),Tg(e,t)}function Kl(e,t){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZ";e.save(),e.textBaseline=t;const r=e.measureText(n);return e.restore(),r}const ql=[];function Tg(e,t){for(const o of ql)if(o.key===t)return o.val;const n=Kl(e,"alphabetic"),i=-(Kl(e,"middle").actualBoundingBoxDescent-n.actualBoundingBoxDescent)+n.actualBoundingBoxAscent/2;return ql.push({key:t,val:i}),i}function Ig(e,t,n,r,i,o){const{ctx:s,rect:l,theme:a}=e;let c=Number.MAX_SAFE_INTEGER;const u=500;if(t!==void 0&&(c=n-t,c<u)){const f=1-c/u;s.globalAlpha=f,s.fillStyle=a.bgSearchResult,s.fillRect(l.x+1,l.y+1,l.width-(i?2:1),l.height-(o?2:1)),s.globalAlpha=1,r!==void 0&&(r.fillStyle=a.bgSearchResult)}return c<u}function Oi(e,t,n){const{ctx:r,theme:i}=e,o=t??{},s=n??i.textDark;return s!==o.fillStyle&&(r.fillStyle=s,o.fillStyle=s),o}function uc(e,t,n,r,i,o,s,l,a){a==="right"?e.fillText(t,n+i-(l.cellHorizontalPadding+.5),r+o/2+s):a==="center"?e.fillText(t,n+i/2,r+o/2+s):e.fillText(t,n+l.cellHorizontalPadding+.5,r+o/2+s)}function dc(e,t){const n=$o("ABCi09jgqpy",e,t);return n.actualBoundingBoxAscent+n.actualBoundingBoxDescent}function Pg(e,t){e.includes(`
`)&&(e=e.split(/\r?\n/,1)[0]);const n=t/4;return e.length>n&&(e=e.slice(0,n)),e}function _g(e,t,n,r,i,o,s,l,a,c){const u=l.baseFontFull,f=wg(e,t,u,i-l.cellHorizontalPadding*2,c??!1),p=dc(e,u),m=l.lineHeight*p,g=p+m*(f.length-1),w=g+l.cellVerticalPadding>o;w&&(e.save(),e.rect(n,r,i,o),e.clip());const b=r+o/2-g/2;let k=Math.max(r+l.cellVerticalPadding,b);for(const v of f)if(uc(e,v,n,k,i,p,s,l,a),k+=m,k>r+o)break;w&&e.restore()}function Xn(e,t,n,r,i){const{ctx:o,rect:s,theme:l}=e,{x:a,y:c,width:u,height:f}=s;r=r??!1,r||(t=Pg(t,u));const p=ar(o,l),m=Ks(t)==="rtl";if(n===void 0&&m&&(n="right"),m&&(o.direction="rtl"),t.length>0){let g=!1;n==="right"?(o.textAlign="right",g=!0):n!==void 0&&n!=="left"&&(o.textAlign=n,g=!0),r?_g(o,t,a,c,u,f,p,l,n,i):uc(o,t,a,c,u,f,p,l,n),g&&(o.textAlign="start"),m&&(o.direction="inherit")}}function Yn(e,t,n,r,i,o){typeof o=="number"&&(o={tl:o,tr:o,br:o,bl:o}),o={tl:Math.max(0,Math.min(o.tl,i/2,r/2)),tr:Math.max(0,Math.min(o.tr,i/2,r/2)),bl:Math.max(0,Math.min(o.bl,i/2,r/2)),br:Math.max(0,Math.min(o.br,i/2,r/2))},e.moveTo(t+o.tl,n),e.arcTo(t+r,n,t+r,n+o.tr,o.tr),e.arcTo(t+r,n+i,t+r-o.br,n+i,o.br),e.arcTo(t,n+i,t,n+i-o.bl,o.bl),e.arcTo(t,n,t+o.tl,n,o.tl)}function Dg(e,t,n){e.arc(t,n-1.25*3.5,1.25,0,2*Math.PI,!1),e.arc(t,n,1.25,0,2*Math.PI,!1),e.arc(t,n+1.25*3.5,1.25,0,2*Math.PI,!1)}function Ag(e,t,n){const r=function(l,a){const c=a.x-l.x,u=a.y-l.y,f=Math.sqrt(c*c+u*u),p=c/f,m=u/f;return{x:c,y:a.y-l.y,len:f,nx:p,ny:m,ang:Math.atan2(m,p)}};let i;const o=t.length;let s=t[o-1];for(let l=0;l<o;l++){let a=t[l%o];const c=t[(l+1)%o],u=r(a,s),f=r(a,c),p=u.nx*f.ny-u.ny*f.nx,m=u.nx*f.nx-u.ny*-f.ny;let g=Math.asin(p<-1?-1:p>1?1:p),w=1,b=!1;m<0?g<0?g=Math.PI+g:(g=Math.PI-g,w=-1,b=!0):g>0&&(w=-1,b=!0),i=a.radius!==void 0?a.radius:n;const k=g/2;let v=Math.abs(Math.cos(k)*i/Math.sin(k)),S;v>Math.min(u.len/2,f.len/2)?(v=Math.min(u.len/2,f.len/2),S=Math.abs(v*Math.sin(k)/Math.cos(k))):S=i;let M=a.x+f.nx*v,y=a.y+f.ny*v;M+=-f.ny*S*w,y+=f.nx*S*w,e.arc(M,y,S,u.ang+Math.PI/2*w,f.ang-Math.PI/2*w,b),s=a,a=c}e.closePath()}function Hs(e,t,n,r,i,o,s,l,a,c,u,f,p,m,g){const w={x:0,y:o+c,width:0,height:0};if(e>=m.length||t>=u||t<-2||e<0)return w;const b=o-i;if(e>=f){const k=s>e?-1:1,v=Zr(m);w.x+=v+a;for(let S=s;S!==e;S+=k)w.x+=m[k===1?S:S-1].width*k}else for(let k=0;k<e;k++)w.x+=m[k].width;if(w.width=m[e].width+1,t===-1)w.y=i,w.height=b;else if(t===-2){w.y=0,w.height=i;let k=e;const v=m[e].group,S=m[e].sticky;for(;k>0&&_i(m[k-1].group,v)&&m[k-1].sticky===S;){const y=m[k-1];w.x-=y.width,w.width+=y.width,k--}let M=e;for(;M+1<m.length&&_i(m[M+1].group,v)&&m[M+1].sticky===S;){const y=m[M+1];w.width+=y.width,M++}if(!S){const y=Zr(m),I=w.x-y;I<0&&(w.x-=I,w.width+=I),w.x+w.width>n&&(w.width=n-w.x)}}else if(t>=u-p){let k=u-t;for(w.y=r;k>0;){const v=t+k-1;w.height=typeof g=="number"?g:g(v),w.y-=w.height,k--}w.height+=1}else{const k=l>t?-1:1;if(typeof g=="number"){const v=t-l;w.y+=v*g}else for(let v=l;v!==t;v+=k)w.y+=g(v)*k;w.height=(typeof g=="number"?g:g(t))+1}return w}const tl=1<<21;function Sn(e,t){return(t+2)*tl+e}function fc(e){return e%tl}function nl(e){return Math.floor(e/tl)-2}function rl(e){const t=fc(e),n=nl(e);return[t,n]}class hc{constructor(){fe(this,"visibleWindow",{x:0,y:0,width:0,height:0});fe(this,"freezeCols",0);fe(this,"freezeRows",[]);fe(this,"isInWindow",t=>{const n=fc(t),r=nl(t),i=this.visibleWindow,o=n>=i.x&&n<=i.x+i.width||n<this.freezeCols,s=r>=i.y&&r<=i.y+i.height||this.freezeRows.includes(r);return o&&s})}setWindow(t,n,r){this.visibleWindow.x===t.x&&this.visibleWindow.y===t.y&&this.visibleWindow.width===t.width&&this.visibleWindow.height===t.height&&this.freezeCols===n&&Vr(this.freezeRows,r)||(this.visibleWindow=t,this.freezeCols=n,this.freezeRows=r,this.clearOutOfWindow())}}class Fg extends hc{constructor(){super(...arguments);fe(this,"cache",new Map);fe(this,"setValue",(n,r)=>{this.cache.set(Sn(n[0],n[1]),r)});fe(this,"getValue",n=>this.cache.get(Sn(n[0],n[1])));fe(this,"clearOutOfWindow",()=>{for(const[n]of this.cache.entries())this.isInWindow(n)||this.cache.delete(n)})}}class Ti{constructor(t=[]){fe(this,"cells");this.cells=new Set(t.map(n=>Sn(n[0],n[1])))}add(t){this.cells.add(Sn(t[0],t[1]))}has(t){return t===void 0?!1:this.cells.has(Sn(t[0],t[1]))}remove(t){this.cells.delete(Sn(t[0],t[1]))}clear(){this.cells.clear()}get size(){return this.cells.size}hasHeader(){for(const t of this.cells)if(nl(t)<0)return!0;return!1}hasItemInRectangle(t){for(let n=t.y;n<t.y+t.height;n++)for(let r=t.x;r<t.x+t.width;r++)if(this.cells.has(Sn(r,n)))return!0;return!1}hasItemInRegion(t){for(const n of t)if(this.hasItemInRectangle(n))return!0;return!1}*values(){for(const t of this.cells)yield rl(t)}}function Lg(e){return{"--gdg-accent-color":e.accentColor,"--gdg-accent-fg":e.accentFg,"--gdg-accent-light":e.accentLight,"--gdg-text-dark":e.textDark,"--gdg-text-medium":e.textMedium,"--gdg-text-light":e.textLight,"--gdg-text-bubble":e.textBubble,"--gdg-bg-icon-header":e.bgIconHeader,"--gdg-fg-icon-header":e.fgIconHeader,"--gdg-text-header":e.textHeader,"--gdg-text-group-header":e.textGroupHeader??e.textHeader,"--gdg-text-header-selected":e.textHeaderSelected,"--gdg-bg-cell":e.bgCell,"--gdg-bg-cell-medium":e.bgCellMedium,"--gdg-bg-header":e.bgHeader,"--gdg-bg-header-has-focus":e.bgHeaderHasFocus,"--gdg-bg-header-hovered":e.bgHeaderHovered,"--gdg-bg-bubble":e.bgBubble,"--gdg-bg-bubble-selected":e.bgBubbleSelected,"--gdg-bg-search-result":e.bgSearchResult,"--gdg-border-color":e.borderColor,"--gdg-horizontal-border-color":e.horizontalBorderColor??e.borderColor,"--gdg-drilldown-border":e.drilldownBorder,"--gdg-link-color":e.linkColor,"--gdg-cell-horizontal-padding":`${e.cellHorizontalPadding}px`,"--gdg-cell-vertical-padding":`${e.cellVerticalPadding}px`,"--gdg-header-font-style":e.headerFontStyle,"--gdg-base-font-style":e.baseFontStyle,"--gdg-marker-font-style":e.markerFontStyle,"--gdg-font-family":e.fontFamily,"--gdg-editor-font-size":e.editorFontSize,...e.roundingRadius===void 0?{}:{"--gdg-rounding-radius":`${e.roundingRadius}px`}}}const gc={accentColor:"#4F5DFF",accentFg:"#FFFFFF",accentLight:"rgba(62, 116, 253, 0.1)",textDark:"#313139",textMedium:"#737383",textLight:"#B2B2C0",textBubble:"#313139",bgIconHeader:"#737383",fgIconHeader:"#FFFFFF",textHeader:"#313139",textGroupHeader:"#313139BB",textHeaderSelected:"#FFFFFF",bgCell:"#FFFFFF",bgCellMedium:"#FAFAFB",bgHeader:"#F7F7F8",bgHeaderHasFocus:"#E9E9EB",bgHeaderHovered:"#EFEFF1",bgBubble:"#EDEDF3",bgBubbleSelected:"#FFFFFF",bgSearchResult:"#fff9e3",borderColor:"rgba(115, 116, 131, 0.16)",drilldownBorder:"rgba(0, 0, 0, 0)",linkColor:"#4F5DFF",cellHorizontalPadding:8,cellVerticalPadding:3,headerIconSize:18,headerFontStyle:"600 13px",baseFontStyle:"13px",markerFontStyle:"9px",fontFamily:"Inter, Roboto, -apple-system, BlinkMacSystemFont, avenir next, avenir, segoe ui, helvetica neue, helvetica, Ubuntu, noto, arial, sans-serif",editorFontSize:"13px",lineHeight:1.4};function pc(){return gc}const zg=Tt.createContext(gc);function lr(e,...t){const n={...e};for(const r of t)if(r!==void 0)for(const i in r)r.hasOwnProperty(i)&&(n[i]=r[i]);return(n.headerFontFull===void 0||e.fontFamily!==n.fontFamily||e.headerFontStyle!==n.headerFontStyle)&&(n.headerFontFull=`${n.headerFontStyle} ${n.fontFamily}`),(n.baseFontFull===void 0||e.fontFamily!==n.fontFamily||e.baseFontStyle!==n.baseFontStyle)&&(n.baseFontFull=`${n.baseFontStyle} ${n.fontFamily}`),(n.markerFontFull===void 0||e.fontFamily!==n.fontFamily||e.markerFontStyle!==n.markerFontStyle)&&(n.markerFontFull=`${n.markerFontStyle} ${n.fontFamily}`),n}const Os=150;function Hg(e,t,n,r){var o;const i=r(t);return((o=i==null?void 0:i.measure)==null?void 0:o.call(i,e,t,n))??Os}function mc(e,t,n,r,i,o,s,l,a){let c=0;const u=i===void 0?[]:i.map(p=>{const m=Hg(e,p[r],t,a);return c=Math.max(c,m),m});if(u.length>5&&l){c=0;let p=0;for(const g of u)p+=g;const m=p/u.length;for(let g=0;g<u.length;g++)u[g]>=m*2?u[g]=0:c=Math.max(c,u[g])}c=Math.max(c,e.measureText(n.title).width+16+(n.icon===void 0?0:28));const f=Math.max(Math.ceil(o),Math.min(Math.floor(s),Math.ceil(c)));return{...n,width:f}}function Og(e,t,n,r,i,o,s,l,a){const c=d.useRef(t),u=d.useRef(n),f=d.useRef(s);c.current=t,u.current=n,f.current=s;const[p,m]=d.useMemo(()=>{if(typeof window>"u")return[null,null];const v=document.createElement("canvas");return v.style.display="none",v.style.opacity="0",v.style.position="fixed",[v,v.getContext("2d",{alpha:!1})]},[]);d.useLayoutEffect(()=>(p&&document.documentElement.append(p),()=>{p==null||p.remove()}),[p]);const g=d.useRef({}),w=d.useRef(),[b,k]=d.useState();return d.useLayoutEffect(()=>{const v=u.current;if(v===void 0||e.every(lo))return;let S=Math.max(1,10-Math.floor(e.length/1e4)),M=0;S<c.current&&S>1&&(S--,M=1);const y={x:0,y:0,width:e.length,height:Math.min(c.current,S)},I={x:0,y:c.current-1,width:e.length,height:1};(async()=>{const P=v(y,a.signal),T=M>0?v(I,a.signal):void 0;let $;typeof P=="object"?$=P:$=await Dl(P),T!==void 0&&(typeof T=="object"?$=[...$,...T]:$=[...$,...await Dl(T)]),w.current=e,k($)})()},[a.signal,e]),d.useMemo(()=>{let S=e.every(lo)?e:m===null?e.map(E=>lo(E)?E:{...E,width:Os}):(m.font=f.current.baseFontFull,e.map((E,P)=>{if(lo(E))return E;if(g.current[E.id]!==void 0)return{...E,width:g.current[E.id]};if(b===void 0||w.current!==e||E.id===void 0)return{...E,width:Os};const T=mc(m,s,E,P,b,i,o,!0,l);return g.current[E.id]=T.width,T})),M=0,y=0;const I=[];for(const[E,P]of S.entries())M+=P.width,P.grow!==void 0&&P.grow>0&&(y+=P.grow,I.push(E));if(M<r&&I.length>0){const E=[...S],P=r-M;let T=P;for(let $=0;$<I.length;$++){const B=I[$],_=(S[B].grow??0)/y,D=$===I.length-1?T:Math.min(T,Math.floor(P*_));E[B]={...S[B],growOffset:D,width:S[B].width+D},T-=D}S=E}return{sizedColumns:S,nonGrowWidth:M}},[r,e,m,b,s,i,o,l])}var $g=td;function Wg(e){return e&&e.length?$g(e):[]}var Ng=Wg;const Bg=_o(Ng);var jg=nd;function Xg(e){var t=e==null?0:e.length;return t?jg(e,1):[]}var Ug=Xg;const Vl=_o(Ug);var Yg=Math.ceil,Kg=Math.max;function qg(e,t,n,r){for(var i=-1,o=Kg(Yg((t-e)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=e,e+=n;return s}var Vg=qg,Gg=Vg,Zg=rd,ms=id;function Qg(e){return function(t,n,r){return r&&typeof r!="number"&&Zg(t,n,r)&&(n=r=void 0),t=ms(t),n===void 0?(n=t,t=0):n=ms(n),r=r===void 0?t<n?1:-1:ms(r),Gg(t,n,r,e)}}var Jg=Qg,e0=Jg,t0=e0(),n0=t0;const kr=_o(n0),ft='<svg width="20" height="20" fill="none" xmlns="http://www.w3.org/2000/svg">',r0=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${ft}<rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/><path d="M15.75 4h-1.5a.25.25 0 0 0-.177.074L9.308 8.838a3.75 3.75 0 1 0 1.854 1.854l1.155-1.157.967.322a.5.5 0 0 0 .65-.55l-.18-1.208.363-.363.727.331a.5.5 0 0 0 .69-.59l-.254-.904.647-.647A.25.25 0 0 0 16 5.75v-1.5a.25.25 0 0 0-.25-.25zM7.5 13.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0z" fill="${t}"/></svg>`},i0=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${ft}<rect x="2" y="2" width="16" height="16" rx="4" fill="${n}"/><path d="m12.223 13.314 3.052-2.826a.65.65 0 0 0 0-.984l-3.052-2.822c-.27-.25-.634-.242-.865.022-.232.263-.206.636.056.882l2.601 2.41-2.601 2.41c-.262.245-.288.619-.056.882.231.263.595.277.865.026Zm-4.444.005c.266.25.634.241.866-.027.231-.263.206-.636-.06-.882L5.983 10l2.602-2.405c.266-.25.291-.62.06-.887-.232-.263-.596-.272-.866-.022L4.723 9.51a.653.653 0 0 0 0 .983l3.056 2.827Z" fill="${t}"/></svg>`},o0=e=>{const t=e.fgColor,n=e.bgColor;return`${ft}
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="${n}"/>
    <path d="M6.52 12.78H5.51V8.74l-1.33.47v-.87l2.29-.83h.05v5.27zm5.2 0H8.15v-.69l1.7-1.83a6.38 6.38 0 0 0 .34-.4c.09-.11.16-.22.22-.32s.1-.19.12-.27a.9.9 0 0 0 0-.56.63.63 0 0 0-.15-.23.58.58 0 0 0-.22-.15.75.75 0 0 0-.29-.05c-.27 0-.48.08-.62.23a.95.95 0 0 0-.2.65H8.03c0-.24.04-.46.13-.67a1.67 1.67 0 0 1 .97-.91c.23-.1.49-.14.77-.14.26 0 .5.04.7.11.21.08.38.18.52.32.14.13.25.3.32.48a1.74 1.74 0 0 1 .03 1.13 2.05 2.05 0 0 1-.24.47 4.16 4.16 0 0 1-.35.47l-.47.5-1 1.05h2.32v.8zm1.8-3.08h.55c.28 0 .48-.06.61-.2a.76.76 0 0 0 .2-.55.8.8 0 0 0-.05-.28.56.56 0 0 0-.13-.22.6.6 0 0 0-.23-.15.93.93 0 0 0-.32-.05.92.92 0 0 0-.29.05.72.72 0 0 0-.23.12.57.57 0 0 0-.21.46H12.4a1.3 1.3 0 0 1 .5-1.04c.15-.13.33-.23.54-.3a2.48 2.48 0 0 1 1.4 0c.2.06.4.15.55.28.15.13.27.28.36.47.08.19.13.4.13.65a1.15 1.15 0 0 1-.2.65 1.36 1.36 0 0 1-.58.49c.15.05.28.12.38.2a1.14 1.14 0 0 1 .43.62c.03.13.05.26.05.4 0 .25-.05.47-.14.66a1.42 1.42 0 0 1-.4.49c-.16.13-.35.23-.58.3a2.51 2.51 0 0 1-.73.1c-.22 0-.44-.03-.65-.09a1.8 1.8 0 0 1-.57-.28 1.43 1.43 0 0 1-.4-.47 1.41 1.41 0 0 1-.15-.66h1a.66.66 0 0 0 .22.5.87.87 0 0 0 .58.2c.25 0 .45-.07.6-.2a.71.71 0 0 0 .21-.56.97.97 0 0 0-.06-.36.61.61 0 0 0-.18-.25.74.74 0 0 0-.28-.15 1.33 1.33 0 0 0-.37-.04h-.55V9.7z" fill="${t}"/>
  </svg>`},s0=e=>{const t=e.fgColor,n=e.bgColor;return`${ft}
  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${n}"/>
  <path d="M8.182 12.4h3.636l.655 1.6H14l-3.454-8H9.455L6 14h1.527l.655-1.6zM10 7.44l1.36 3.651H8.64L10 7.441z" fill="${t}"/>
</svg>`},l0=e=>{const t=e.fgColor,n=e.bgColor;return`${ft}
    <path
        d="M16.2222 2H3.77778C2.8 2 2 2.8 2 3.77778V16.2222C2 17.2 2.8 18 3.77778 18H16.2222C17.2 18 17.9911 17.2 17.9911 16.2222L18 3.77778C18 2.8 17.2 2 16.2222 2Z"
        fill="${n}"
    />
    <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M7.66667 6.66669C5.73368 6.66669 4.16667 8.15907 4.16667 10C4.16667 11.841 5.73368 13.3334 7.66667 13.3334H12.3333C14.2663 13.3334 15.8333 11.841 15.8333 10C15.8333 8.15907 14.2663 6.66669 12.3333 6.66669H7.66667ZM12.5 12.5C13.8807 12.5 15 11.3807 15 10C15 8.61931 13.8807 7.50002 12.5 7.50002C11.1193 7.50002 10 8.61931 10 10C10 11.3807 11.1193 12.5 12.5 12.5Z"
        fill="${t}"
    />
</svg>`},yc=e=>{const t=e.fgColor,n=e.bgColor;return`${ft}
<path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${n}"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M10.29 4.947a3.368 3.368 0 014.723.04 3.375 3.375 0 01.041 4.729l-.009.009-1.596 1.597a3.367 3.367 0 01-5.081-.364.71.71 0 011.136-.85 1.95 1.95 0 002.942.21l1.591-1.593a1.954 1.954 0 00-.027-2.733 1.95 1.95 0 00-2.732-.027l-.91.907a.709.709 0 11-1.001-1.007l.915-.911.007-.007z" fill="${t}"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M6.55 8.678a3.368 3.368 0 015.082.364.71.71 0 01-1.136.85 1.95 1.95 0 00-2.942-.21l-1.591 1.593a1.954 1.954 0 00.027 2.733 1.95 1.95 0 002.73.028l.906-.906a.709.709 0 111.003 1.004l-.91.91-.008.01a3.368 3.368 0 01-4.724-.042 3.375 3.375 0 01-.041-4.728l.009-.009L6.55 8.678z" fill="${t}"/>
</svg>
  `},a0=e=>{const t=e.bgColor;return`${ft}
    <path stroke="${t}" stroke-width="2" d="M12 3v14"/>
    <path stroke="${t}" stroke-width="2" stroke-linecap="round" d="M10 4h4m-4 12h4"/>
    <path d="M11 14h4a3 3 0 0 0 3-3V9a3 3 0 0 0-3-3h-4v2h4a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-4v2ZM9.5 8H5a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h4.5v2H5a3 3 0 0 1-3-3V9a3 3 0 0 1 3-3h4.5v2Z" fill="${t}"/>
  </svg>
`},c0=yc,u0=e=>{const t=e.fgColor,n=e.bgColor;return`${ft}
  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${n}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M7 13.138a.5.5 0 00.748.434l5.492-3.138a.5.5 0 000-.868L7.748 6.427A.5.5 0 007 6.862v6.276z" fill="${t}"/>
</svg>`},d0=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${ft}
    <path d="M10 5a5 5 0 1 0 0 10 5 5 0 0 0 0-10zm0 9.17A4.17 4.17 0 0 1 5.83 10 4.17 4.17 0 0 1 10 5.83 4.17 4.17 0 0 1 14.17 10 4.17 4.17 0 0 1 10 14.17z" fill="${t}"/>
    <path d="M8.33 8.21a.83.83 0 1 0-.03 1.67.83.83 0 0 0 .03-1.67zm3.34 0a.83.83 0 1 0-.04 1.67.83.83 0 0 0 .04-1.67z" fill="${t}"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M14.53 13.9a2.82 2.82 0 0 1-5.06 0l.77-.38a1.97 1.97 0 0 0 3.52 0l.77.39z" fill="${t}"/>
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="${n}"/>
    <path d="M10 4a6 6 0 1 0 0 12 6 6 0 0 0 0-12zm0 11a5 5 0 1 1 .01-10.01A5 5 0 0 1 10 15z" fill="${t}"/>
    <path d="M8 7.86a1 1 0 1 0-.04 2 1 1 0 0 0 .04-2zm4 0a1 1 0 1 0-.04 2 1 1 0 0 0 .04-2z" fill="${t}"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M12.53 11.9a2.82 2.82 0 0 1-5.06 0l.77-.38a1.97 1.97 0 0 0 3.52 0l.77.39z" fill="${t}"/>
  </svg>`},f0=e=>{const t=e.fgColor,n=e.bgColor;return`${ft}
  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${n}"/>
  <path opacity=".5" fill-rule="evenodd" clip-rule="evenodd" d="M12.499 10.801a.5.5 0 01.835 0l2.698 4.098a.5.5 0 01-.418.775H10.22a.5.5 0 01-.417-.775l2.697-4.098z" fill="${t}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M8.07 8.934a.5.5 0 01.824 0l4.08 5.958a.5.5 0 01-.412.782h-8.16a.5.5 0 01-.413-.782l4.08-5.958zM13.75 8.333a2.083 2.083 0 100-4.166 2.083 2.083 0 000 4.166z" fill="${t}"/>
</svg>`},h0=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${ft}
    <path fill="${t}" d="M3 3h14v14H3z"/>
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2zm-7.24 9.78h1.23c.15 0 .27.06.36.18l.98 1.28a.43.43 0 0 1-.05.58l-1.2 1.21a.45.45 0 0 1-.6.04A6.72 6.72 0 0 1 7.33 10c0-.61.1-1.2.25-1.78a6.68 6.68 0 0 1 2.12-3.3.44.44 0 0 1 .6.04l1.2 1.2c.16.17.18.42.05.59l-.98 1.29a.43.43 0 0 1-.36.17H8.98A5.38 5.38 0 0 0 8.67 10c0 .62.11 1.23.3 1.79z" fill="${n}"/>
  </svg>`},g0=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${ft}
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="${n}"/>
    <path d="m13.49 13.15-2.32-3.27h1.4V7h1.86v2.88h1.4l-2.34 3.27zM11 13H9v-3l-1.5 1.92L6 10v3H4V7h2l1.5 2L9 7h2v6z" fill="${t}"/>
  </svg>`},p0=e=>{const t=e.fgColor,n=e.bgColor;return`${ft}
  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${n}"/>
  <path d="M14.8 4.182h-.6V3H13v1.182H7V3H5.8v1.182h-.6c-.66 0-1.2.532-1.2 1.182v9.454C4 15.468 4.54 16 5.2 16h9.6c.66 0 1.2-.532 1.2-1.182V5.364c0-.65-.54-1.182-1.2-1.182zm0 10.636H5.2V7.136h9.6v7.682z" fill="${t}"/>
</svg>`},m0=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${ft}
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="${n}"/>
    <path d="M10 4a6 6 0 0 0-6 6 6 6 0 0 0 6 6 6 6 0 0 0 6-6 6 6 0 0 0-6-6zm0 10.8A4.8 4.8 0 0 1 5.2 10a4.8 4.8 0 1 1 4.8 4.8z" fill="${t}"/>
    <path d="M10 7H9v3.93L12.5 13l.5-.8-3-1.76V7z" fill="${t}"/>
  </svg>`},y0=e=>{const t=e.fgColor,n=e.bgColor;return`${ft}
  <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M10 8.643a1.357 1.357 0 100 2.714 1.357 1.357 0 000-2.714zM7.357 10a2.643 2.643 0 115.286 0 2.643 2.643 0 01-5.286 0z" fill="${t}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M7.589 4.898A5.643 5.643 0 0115.643 10v.5a2.143 2.143 0 01-4.286 0V8a.643.643 0 011.286 0v2.5a.857.857 0 001.714 0V10a4.357 4.357 0 10-1.708 3.46.643.643 0 01.782 1.02 5.643 5.643 0 11-5.842-9.582z" fill="${t}"/>
</svg>`},w0=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${ft}
    <rect x="2" y="8" width="10" height="8" rx="2" fill="${n}"/>
    <rect x="8" y="4" width="10" height="8" rx="2" fill="${n}"/>
    <path d="M10.68 7.73V6l2.97 3.02-2.97 3.02v-1.77c-2.13 0-3.62.7-4.68 2.2.43-2.15 1.7-4.31 4.68-4.74z" fill="${t}"/>
  </svg>`},v0=e=>{const t=e.fgColor,n=e.bgColor;return`${ft}
  <path fill="${t}" d="M4 3h12v14H4z"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M3.6 2A1.6 1.6 0 002 3.6v12.8A1.6 1.6 0 003.6 18h12.8a1.6 1.6 0 001.6-1.6V3.6A1.6 1.6 0 0016.4 2H3.6zm11.3 10.8a.7.7 0 01.7.7v1.4a.7.7 0 01-.7.7h-1.4a.7.7 0 01-.7-.7v-1.4a.7.7 0 01.6-.693.117.117 0 00.1-.115V10.35a.117.117 0 00-.117-.116h-2.8a.117.117 0 00-.117.116v2.333c0 .064.053.117.117.117h.117a.7.7 0 01.7.7v1.4a.7.7 0 01-.7.7H9.3a.7.7 0 01-.7-.7v-1.4a.7.7 0 01.7-.7h.117a.117.117 0 00.117-.117V10.35a.117.117 0 00-.117-.117h-2.8a.117.117 0 00-.117.117v2.342c0 .058.042.106.1.115a.7.7 0 01.6.693v1.4a.7.7 0 01-.7.7H5.1a.7.7 0 01-.7-.7v-1.4a.7.7 0 01.7-.7h.35a.116.116 0 00.116-.117v-2.45c0-.515.418-.933.934-.933h2.917a.117.117 0 00.117-.117V6.85a.117.117 0 00-.117-.116h-2.45a.7.7 0 01-.7-.7V5.1a.7.7 0 01.7-.7h6.067a.7.7 0 01.7.7v.934a.7.7 0 01-.7.7h-2.45a.117.117 0 00-.118.116v2.333c0 .064.053.117.117.117H13.5c.516 0 .934.418.934.934v2.45c0 .063.052.116.116.116h.35z" fill="${n}"/>
</svg>`},b0=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${ft}
    <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
    <path d="M9.98 13.33c.45 0 .74-.3.73-.75l-.01-.1-.16-1.67 1.45 1.05a.81.81 0 0 0 .5.18c.37 0 .72-.32.72-.76 0-.3-.17-.54-.49-.68l-1.63-.77 1.63-.77c.32-.14.49-.37.49-.67 0-.45-.34-.76-.71-.76a.81.81 0 0 0-.5.18l-1.47 1.03.16-1.74.01-.08c.01-.46-.27-.76-.72-.76-.46 0-.76.32-.75.76l.01.08.16 1.74-1.47-1.03a.77.77 0 0 0-.5-.18.74.74 0 0 0-.72.76c0 .3.17.53.49.67l1.63.77-1.62.77c-.32.14-.5.37-.5.68 0 .44.35.75.72.75a.78.78 0 0 0 .5-.17L9.4 10.8l-.16 1.68v.09c-.02.44.28.75.74.75z" fill="${t}"/>
  </svg>`},x0=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${ft}
    <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
    <path d="M8 5.83H5.83a.83.83 0 0 0 0 1.67h1.69A4.55 4.55 0 0 1 8 5.83zm-.33 3.34H5.83a.83.83 0 0 0 0 1.66h2.72a4.57 4.57 0 0 1-.88-1.66zM5.83 12.5a.83.83 0 0 0 0 1.67h7.5a.83.83 0 1 0 0-1.67h-7.5zm8.8-2.9a3.02 3.02 0 0 0 .46-1.6c0-1.66-1.32-3-2.94-3C10.52 5 9.2 6.34 9.2 8s1.31 3 2.93 3c.58 0 1.11-.17 1.56-.47l2.04 2.08.93-.94-2.04-2.08zm-2.48.07c-.9 0-1.63-.75-1.63-1.67s.73-1.67 1.63-1.67c.9 0 1.63.75 1.63 1.67s-.73 1.67-1.63 1.67z" fill="${t}"/>
  </svg>`},k0=e=>{const t=e.fgColor,n=e.bgColor;return`${ft}
  <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
  <path d="M7.676 4.726V3l2.976 3.021-2.976 3.022v-1.77c-2.125 0-3.613.69-4.676 2.201.425-2.158 1.7-4.316 4.676-4.748zM10.182 14.4h3.636l.655 1.6H16l-3.454-8h-1.091L8 16h1.527l.655-1.6zM12 9.44l1.36 3.65h-2.72L12 9.44z" fill="${t}"/>
</svg>`},C0=e=>{const t=e.fgColor,n=e.bgColor;return`${ft}
  <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M4.167 5.417a.833.833 0 100 1.666h4.166a.833.833 0 100-1.666H4.167z" fill="${t}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M7.083 4.167a.833.833 0 10-1.666 0v4.166a.833.833 0 101.666 0V4.167zM11.667 5.417a.833.833 0 100 1.666h4.166a.833.833 0 100-1.666h-4.166zM5.367 11.688a.833.833 0 00-1.179 1.179l2.947 2.946a.833.833 0 001.178-1.178l-2.946-2.947z" fill="${t}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M8.313 12.867a.833.833 0 10-1.178-1.179l-2.947 2.947a.833.833 0 101.179 1.178l2.946-2.946z" fill="${t}"/>
  <path d="M10.833 12.5c0-.46.373-.833.834-.833h4.166a.833.833 0 110 1.666h-4.166a.833.833 0 01-.834-.833zM10.833 15c0-.46.373-.833.834-.833h4.166a.833.833 0 110 1.666h-4.166a.833.833 0 01-.834-.833z" fill="${t}"/>
</svg>`},S0=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${ft}
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="${n}"/>
    <path d="M10 8.84a1.16 1.16 0 1 0 0 2.32 1.16 1.16 0 0 0 0-2.32zm3.02 3.61a3.92 3.92 0 0 0 .78-3.28.49.49 0 1 0-.95.2c.19.87-.02 1.78-.58 2.47a2.92 2.92 0 1 1-4.13-4.08 2.94 2.94 0 0 1 2.43-.62.49.49 0 1 0 .17-.96 3.89 3.89 0 1 0 2.28 6.27zM10 4.17a5.84 5.84 0 0 0-5.44 7.93.49.49 0 1 0 .9-.35 4.86 4.86 0 1 1 2.5 2.67.49.49 0 1 0-.4.88c.76.35 1.6.54 2.44.53a5.83 5.83 0 0 0 0-11.66zm3.02 3.5a.7.7 0 1 0-1.4 0 .7.7 0 0 0 1.4 0zm-6.97 5.35a.7.7 0 1 1 0 1.4.7.7 0 0 1 0-1.4z" fill="${t}"/>
  </svg>`},M0=e=>{const t=e.fgColor,n=e.bgColor;return`${ft}
  <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
  <path d="M12.4 13.565c1.865-.545 3.645-2.083 3.645-4.396 0-1.514-.787-2.604-2.071-2.604C12.69 6.565 12 7.63 12 8.939c1.114.072 1.865.726 1.865 1.683 0 .933-.8 1.647-1.84 2.023l.375.92zM4 5h6v2H4zM4 9h5v2H4zM4 13h4v2H4z" fill="${t}"/>
</svg>`},R0=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${ft}
    <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
    <path d="M12.4 13.56c1.86-.54 3.65-2.08 3.65-4.4 0-1.5-.8-2.6-2.08-2.6S12 7.64 12 8.95c1.11.07 1.86.73 1.86 1.68 0 .94-.8 1.65-1.83 2.03l.37.91zM4 5h6v2H4zm0 4h5v2H4zm0 4h4v2H4z" fill="${t}"/>
  </svg>`},E0=e=>{const t=e.fgColor,n=e.bgColor;return`${ft}
  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${n}"/>
  <path d="M10 7a1 1 0 100-2v2zm0 6a1 1 0 100 2v-2zm0-8H7v2h3V5zm-3 6h5V9H7v2zm5 2h-2v2h2v-2zm1-1a1 1 0 01-1 1v2a3 3 0 003-3h-2zm-1-1a1 1 0 011 1h2a3 3 0 00-3-3v2zM4 8a3 3 0 003 3V9a1 1 0 01-1-1H4zm3-3a3 3 0 00-3 3h2a1 1 0 011-1V5z" fill="${t}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M4.856 12.014a.5.5 0 00-.712.702L5.409 14l-1.265 1.284a.5.5 0 00.712.702l1.255-1.274 1.255 1.274a.5.5 0 00.712-.702L6.813 14l1.265-1.284a.5.5 0 00-.712-.702L6.11 13.288l-1.255-1.274zM12.856 4.014a.5.5 0 00-.712.702L13.409 6l-1.265 1.284a.5.5 0 10.712.702l1.255-1.274 1.255 1.274a.5.5 0 10.712-.702L14.813 6l1.265-1.284a.5.5 0 00-.712-.702L14.11 5.288l-1.255-1.274z" fill="${t}"/>
</svg>`},T0=e=>{const t=e.fgColor,n=e.bgColor;return`${ft}
  <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M14.25 7.25a.75.75 0 000-1.5h-6.5a.75.75 0 100 1.5h6.5zM15 10a.75.75 0 01-.75.75h-6.5a.75.75 0 010-1.5h6.5A.75.75 0 0115 10zm-.75 4.25a.75.75 0 000-1.5h-6.5a.75.75 0 000 1.5h6.5zm-8.987-7a.75.75 0 100-1.5.75.75 0 000 1.5zm.75 2.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm-.75 4.25a.75.75 0 100-1.5.75.75 0 000 1.5z" fill="${t}"/>
</svg>`},I0=e=>{const t=e.fgColor;return`
    <svg width="18" height="18" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M2 15v1h14v-2.5c0-.87-.44-1.55-.98-2.04a6.19 6.19 0 0 0-1.9-1.14 12.1 12.1 0 0 0-2.48-.67A4 4 0 1 0 5 6a4 4 0 0 0 2.36 3.65c-.82.13-1.7.36-2.48.67-.69.28-1.37.65-1.9 1.13A2.8 2.8 0 0 0 2 13.5V15z" fill="${e.bgColor}" stroke="${t}" stroke-width="2"/>
  </svg>`},P0=e=>{const t=e.fgColor;return`
    <svg width="18" height="18" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M12.43 6.04v-.18a3.86 3.86 0 0 0-7.72 0v.18A2.15 2.15 0 0 0 3 8.14v5.72C3 15.04 3.96 16 5.14 16H12c1.18 0 2.14-.96 2.14-2.14V8.14c0-1.03-.73-1.9-1.71-2.1zM7.86 6v-.14a.71.71 0 1 1 1.43 0V6H7.86z" fill="${e.bgColor}" stroke="${t}" stroke-width="2"/>
  </svg>
`},_0={headerRowID:r0,headerNumber:o0,headerCode:i0,headerString:s0,headerBoolean:l0,headerAudioUri:c0,headerVideoUri:u0,headerEmoji:d0,headerImage:f0,headerUri:yc,headerPhone:h0,headerMarkdown:g0,headerDate:p0,headerTime:m0,headerEmail:y0,headerReference:w0,headerIfThenElse:v0,headerSingleValue:b0,headerLookup:x0,headerTextTemplate:k0,headerMath:C0,headerRollup:S0,headerJoinStrings:M0,headerSplitString:R0,headerGeoDistance:E0,headerArray:T0,rowOwnerOverlay:I0,protectedColumnOverlay:P0,renameIcon:a0};function D0(e,t){return e==="normal"?[t.bgIconHeader,t.fgIconHeader]:e==="selected"?["white",t.accentColor]:[t.accentColor,t.bgHeader]}class A0{constructor(t,n){fe(this,"onSettled");fe(this,"spriteMap",new Map);fe(this,"headerIcons");fe(this,"inFlight",0);this.onSettled=n,this.headerIcons=t??{}}drawSprite(t,n,r,i,o,s,l,a=1){const[c,u]=D0(n,l),f=s*Math.ceil(window.devicePixelRatio),p=`${c}_${u}_${f}_${t}`;let m=this.spriteMap.get(p);if(m===void 0){const g=this.headerIcons[t];if(g===void 0)return;m=document.createElement("canvas");const w=m.getContext("2d");if(w===null)return;const b=new Image;b.src=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(g({fgColor:u,bgColor:c}))}`,this.spriteMap.set(p,m);const k=b.decode();if(k===void 0)return;this.inFlight++,k.then(()=>{w.drawImage(b,0,0,f,f)}).finally(()=>{this.inFlight--,this.inFlight===0&&this.onSettled()})}else a<1&&(r.globalAlpha=a),r.drawImage(m,0,0,f,f,i,o,s,s),a<1&&(r.globalAlpha=1)}}function il(e,t,n,r,i,o,s,l,a=-20,c=-20,u=32,f="center"){const p=Math.floor(i+s/2),m=t.roundingRadius??4,g=Ya(u,s,t.cellVerticalPadding),w=g/2,b=Ua(f,r,o,t.cellHorizontalPadding,g),k=Xa(b,p,g),v=Ka(r+a,i+c,k);switch(n){case!0:{e.beginPath(),Yn(e,b-g/2,p-g/2,g,g,m),e.fillStyle=l?t.accentColor:t.textMedium,e.fill(),e.beginPath(),e.moveTo(b-w+g/4.23,p-w+g/1.97),e.lineTo(b-w+g/2.42,p-w+g/1.44),e.lineTo(b-w+g/1.29,p-w+g/3.25),e.strokeStyle=t.bgCell,e.lineJoin="round",e.lineCap="round",e.lineWidth=1.9,e.stroke();break}case vo:case!1:{e.beginPath(),Yn(e,b-g/2+.5,p-g/2+.5,g-1,g-1,m),e.lineWidth=1,e.strokeStyle=v?t.textDark:t.textMedium,e.stroke();break}case Bs:{e.beginPath(),Yn(e,b-g/2,p-g/2,g,g,m),e.fillStyle=v?t.textMedium:t.textLight,e.fill(),e.beginPath(),e.moveTo(b-g/3,p),e.lineTo(b+g/3,p),e.strokeStyle=t.bgCell,e.lineCap="round",e.lineWidth=1.9,e.stroke();break}default:Pi()}}function F0(e,t,n,r){if(r==="any")return wc(e,{x:t,y:n,width:1,height:1});if(r==="vertical"&&(t=e.x),r==="horizontal"&&(n=e.y),sc([t,n],e))return;const i=t-e.x,o=e.x+e.width-t,s=n-e.y+1,l=e.y+e.height-n,a=Math.min(r==="vertical"?Number.MAX_SAFE_INTEGER:i,r==="vertical"?Number.MAX_SAFE_INTEGER:o,r==="horizontal"?Number.MAX_SAFE_INTEGER:s,r==="horizontal"?Number.MAX_SAFE_INTEGER:l);return a===l?{x:e.x,y:e.y+e.height,width:e.width,height:n-e.y-e.height+1}:a===s?{x:e.x,y:n,width:e.width,height:e.y-n}:a===o?{x:e.x+e.width,y:e.y,width:t-e.x-e.width+1,height:e.height}:{x:t,y:e.y,width:e.x-t,height:e.height}}function wc(e,t){const n=Math.min(e.x,t.x),r=Math.min(e.y,t.y),i=Math.max(e.x+e.width,t.x+t.width)-n,o=Math.max(e.y+e.height,t.y+t.height)-r;return{x:n,y:r,width:i,height:o}}function L0(e,t){return e.x<=t.x&&e.y<=t.y&&e.x+e.width>=t.x+t.width&&e.y+e.height>=t.y+t.height}function z0(e,t,n,r){if(e.x>t||e.y>n||e.x<0&&e.y<0&&e.x+e.width>t&&e.y+e.height>n)return;if(e.x>=0&&e.y>=0&&e.x+e.width<=t&&e.y+e.height<=n)return e;const i=-4,o=-4,s=t+4,l=n+4,a=i-e.x,c=e.x+e.width-s,u=o-e.y,f=e.y+e.height-l,p=a>0?e.x+Math.floor(a/r)*r:e.x,m=c>0?e.x+e.width-Math.floor(c/r)*r:e.x+e.width,g=u>0?e.y+Math.floor(u/r)*r:e.y,w=f>0?e.y+e.height-Math.floor(f/r)*r:e.y+e.height;return{x:p,y:g,width:m-p,height:w-g}}function H0(e,t,n,r,i){const[o,s,l,a]=t,[c,u,f,p]=i,{x:m,y:g,width:w,height:b}=e,k=[];if(w<=0||b<=0)return k;const v=m+w,S=g+b,M=m<o,y=g<s,I=m+w>l,E=g+b>a,P=m>o&&m<l||v>o&&v<l||m<o&&v>l,T=g>s&&g<a||S>s&&S<a||g<s&&S>a;if(P&&T){const B=Math.max(m,o),_=Math.max(g,s),D=Math.min(v,l),z=Math.min(S,a);k.push({rect:{x:B,y:_,width:D-B,height:z-_},clip:{x:c,y:u,width:f-c+1,height:p-u+1}})}if(M&&y){const B=m,_=g,D=Math.min(v,o),z=Math.min(S,s);k.push({rect:{x:B,y:_,width:D-B,height:z-_},clip:{x:0,y:0,width:c+1,height:u+1}})}if(y&&P){const B=Math.max(m,o),_=g,D=Math.min(v,l),z=Math.min(S,s);k.push({rect:{x:B,y:_,width:D-B,height:z-_},clip:{x:c,y:0,width:f-c+1,height:u+1}})}if(y&&I){const B=Math.max(m,l),_=g,D=v,z=Math.min(S,s);k.push({rect:{x:B,y:_,width:D-B,height:z-_},clip:{x:f,y:0,width:n-f+1,height:u+1}})}if(M&&T){const B=m,_=Math.max(g,s),D=Math.min(v,o),z=Math.min(S,a);k.push({rect:{x:B,y:_,width:D-B,height:z-_},clip:{x:0,y:u,width:c+1,height:p-u+1}})}if(I&&T){const B=Math.max(m,l),_=Math.max(g,s),D=v,z=Math.min(S,a);k.push({rect:{x:B,y:_,width:D-B,height:z-_},clip:{x:f,y:u,width:n-f+1,height:p-u+1}})}if(M&&E){const B=m,_=Math.max(g,a),D=Math.min(v,o),z=S;k.push({rect:{x:B,y:_,width:D-B,height:z-_},clip:{x:0,y:p,width:c+1,height:r-p+1}})}if(E&&P){const B=Math.max(m,o),_=Math.max(g,a),D=Math.min(v,l),z=S;k.push({rect:{x:B,y:_,width:D-B,height:z-_},clip:{x:c,y:p,width:f-c+1,height:r-p+1}})}if(I&&E){const B=Math.max(m,l),_=Math.max(g,a),D=v,z=S;k.push({rect:{x:B,y:_,width:D-B,height:z-_},clip:{x:f,y:p,width:n-f+1,height:r-p+1}})}return k}const O0={kind:ne.Loading,allowOverlay:!1},hi=[0,0],gi={x:0,y:0,width:0,height:0},ys=[void 0,()=>{}];let $s=!1;function $0(){$s=!0}function vc(e,t,n,r,i,o,s,l,a,c,u,f,p,m,g,w,b,k,v,S,M,y,I,E,P){var ee,he;let T,$;b!==void 0&&b[0][0]===n&&b[0][1]===r&&(T=b[1][0],$=b[1][1]);let B;hi[0]=n,hi[1]=r,gi.x=s,gi.y=l,gi.width=a,gi.height=c,ys[0]=I.getValue(hi),ys[1]=de=>I.setValue(hi,de),$s=!1;const _={ctx:e,theme:f,col:n,row:r,cell:t,rect:gi,highlighted:u,cellFillColor:p,hoverAmount:w,frameTime:v,hoverX:T,drawState:ys,hoverY:$,imageLoader:m,spriteManager:g,hyperWrapping:k,overrideCursor:T!==void 0?P:void 0,requestAnimationFrame:$0},D=Ig(_,t.lastUpdated,v,M,i,o),z=E(t);if(z!==void 0){(M==null?void 0:M.renderer)!==z&&((ee=M==null?void 0:M.deprep)==null||ee.call(M,_),M=void 0);const de=(he=z.drawPrep)==null?void 0:he.call(z,_,M);S!==void 0&&!Yr(_.cell)?S(_,()=>z.draw(_,t)):z.draw(_,t),B=de===void 0?void 0:{deprep:de==null?void 0:de.deprep,fillStyle:de==null?void 0:de.fillStyle,font:de==null?void 0:de.font,renderer:z}}return(D||$s)&&(y==null||y(hi)),B}function W0(e,t,n,r,i,o,s,l,a,c,u,f,p,m,g,w,b,k,v){const S=[];e.imageSmoothingEnabled=!1;const M=Math.min(i.cellYOffset,s),y=Math.max(i.cellYOffset,s);let I=0;if(typeof k=="number")I+=(y-M)*k;else for(let z=M;z<y;z++)I+=k(z);s>i.cellYOffset&&(I=-I),I+=a-i.translateY;const E=Math.min(i.cellXOffset,o),P=Math.max(i.cellXOffset,o);let T=0;for(let z=E;z<P;z++)T+=w[z].width;o>i.cellXOffset&&(T=-T),T+=l-i.translateX;let $=Zr(b);if($>0&&$++,T!==0&&I!==0)return{regions:[]};const B=c>0?Jr(p,c,k):0,_=u-$-Math.abs(T),D=f-m-B-Math.abs(I)-1;if(_>150&&D>150){const z={sx:0,sy:0,sw:u*g,sh:f*g,dx:0,dy:0,dw:u*g,dh:f*g};if(I>0?(z.sy=(m+1)*g,z.sh=D*g,z.dy=(I+m+1)*g,z.dh=D*g,S.push({x:0,y:m,width:u,height:I+1})):I<0&&(z.sy=(-I+m+1)*g,z.sh=D*g,z.dy=(m+1)*g,z.dh=D*g,S.push({x:0,y:f+I-B,width:u,height:-I+B})),T>0?(z.sx=$*g,z.sw=_*g,z.dx=(T+$)*g,z.dw=_*g,S.push({x:$-1,y:0,width:T+2,height:f})):T<0&&(z.sx=($-T)*g,z.sw=_*g,z.dx=$*g,z.dw=_*g,S.push({x:u+T,y:0,width:-T,height:f})),e.setTransform(1,0,0,1,0,0),v){if($>0&&T!==0&&I===0&&(r===void 0||(n==null?void 0:n[1])!==!1)){const ee=$*g,he=f*g;e.drawImage(t,0,0,ee,he,0,0,ee,he)}if(B>0&&T===0&&I!==0&&(r===void 0||(n==null?void 0:n[0])!==!1)){const ee=(f-B)*g,he=u*g,de=B*g;e.drawImage(t,0,ee,he,de,0,ee,he,de)}}e.drawImage(t,z.sx,z.sy,z.sw,z.sh,z.dx,z.dy,z.dw,z.dh),e.scale(g,g)}return e.imageSmoothingEnabled=!0,{regions:S}}function N0(e,t,n,r,i,o,s,l,a,c){const u=[];return t!==e.cellXOffset||n!==e.cellYOffset||r!==e.translateX||i!==e.translateY||cr(a,n,r,i,l,(f,p,m,g)=>{if(f.sourceIndex===c){const w=Math.max(p,g)+1;return u.push({x:w,y:0,width:o-w,height:s}),!0}}),u}function Gl(e,t,n,r,i,o,s,l,a,c,u,f,p,m,g,w,b,k=!1){if(a!==void 0){e.beginPath(),e.save(),e.rect(0,0,o,s);for(const _ of a)e.rect(_.x+1,_.y+1,_.width-1,_.height-1);e.clip("evenodd")}const v=b.horizontalBorderColor??b.borderColor,S=b.borderColor;let M=0,y=o,I=0,E=s;if(l!==void 0&&l.length>0){M=Number.MAX_SAFE_INTEGER,I=Number.MAX_SAFE_INTEGER,y=Number.MIN_SAFE_INTEGER,E=Number.MIN_SAFE_INTEGER;for(const _ of l)M=Math.min(M,_.x-1),y=Math.max(y,_.x+_.width+1),I=Math.min(I,_.y-1),E=Math.max(E,_.y+_.height+1)}const P=[];e.beginPath();let T=.5;for(let _=0;_<t.length;_++){const D=t[_];if(D.width===0)continue;T+=D.width;const z=D.sticky?T:T+r;z>=M&&z<=y&&m(_+1)&&P.push({x1:z,y1:Math.max(c,I),x2:z,y2:Math.min(s,E),color:S})}let $=s+.5;for(let _=w-g;_<w;_++){const D=f(_);$-=D,P.push({x1:M,y1:$,x2:y,y2:$,color:v})}if(k!==!0){let _=u+.5,D=n;const z=$;for(;_+i<z;){const ee=_+i;if(ee>=I&&ee<=E-1){const he=p==null?void 0:p(D);P.push({x1:M,y1:ee,x2:y,y2:ee,color:(he==null?void 0:he.horizontalBorderColor)??(he==null?void 0:he.borderColor)??v})}_+=f(D),D++}}const B=od(P,_=>_.color);for(const _ of Object.keys(B)){e.strokeStyle=_;for(const D of B[_])e.moveTo(D.x1,D.y1),e.lineTo(D.x2,D.y2);e.stroke(),e.beginPath()}a!==void 0&&e.restore()}function bc(e,t){const n=[];let r=e.x+e.width-26*t.length;const i=e.y+e.height/2-13,o=26,s=26;for(let l=0;l<t.length;l++)n.push({x:r,y:i,width:s,height:o}),r+=26;return n}function Wo(e,t,n){return t>=e.x&&t<=e.x+e.width&&n>=e.y&&n<=e.y+e.height}function B0(e,t,n,r,i,o,s,l,a,c,u,f){const[m,g]=(o==null?void 0:o[0])??[];let w=0;Sc(t,n,r,i,(b,k,v,S,M,y)=>{if(f!==void 0&&!f.hasItemInRectangle({x:b[0],y:-2,width:b[1]-b[0]+1,height:1}))return;e.save(),e.beginPath(),e.rect(v,S,M,y),e.clip();const I=u(k),E=(I==null?void 0:I.overrideTheme)===void 0?s:lr(s,I.overrideTheme),P=g===-2&&m!==void 0&&m>=b[0]&&m<=b[1],T=P?E.bgHeaderHovered:E.bgHeader;if(T!==s.bgHeader&&(e.fillStyle=T,e.fill()),e.fillStyle=E.textGroupHeader??E.textHeader,I!==void 0){let $=v;if(I.icon!==void 0&&(l.drawSprite(I.icon,"normal",e,$+8,(i-20)/2,20,E),$+=26),e.fillText(I.name,$+8,i/2+ar(e,s.headerFontFull)),I.actions!==void 0&&P){const B=bc({x:v,y:S,width:M,height:y},I.actions);e.beginPath();const _=B[0].x-10,D=v+M-_;e.rect(_,0,D,i);const z=e.createLinearGradient(_,0,_+D,0),ee=Gr(T,0);z.addColorStop(0,ee),z.addColorStop(10/D,T),z.addColorStop(1,T),e.fillStyle=z,e.fill(),e.globalAlpha=.6;const[he,de]=(o==null?void 0:o[1])??[-1,-1];for(let me=0;me<I.actions.length;me++){const Xe=I.actions[me],V=B[me],K=Wo(V,he+v,de);K&&(e.globalAlpha=1),l.drawSprite(Xe.icon,"normal",e,V.x+V.width/2-10,V.y+V.height/2-10,20,E),K&&(e.globalAlpha=.6)}e.globalAlpha=1}}v!==0&&c(b[0])&&(e.beginPath(),e.moveTo(v+.5,0),e.lineTo(v+.5,i),e.strokeStyle=s.borderColor,e.lineWidth=1,e.stroke()),e.restore(),w=v+M}),e.beginPath(),e.moveTo(w+.5,0),e.lineTo(w+.5,i),e.moveTo(0,i+.5),e.lineTo(n,i+.5),e.strokeStyle=s.borderColor,e.lineWidth=1,e.stroke()}const jr=30;function xc(e,t,n,r,i){return i?{x:e,y:t,width:jr,height:Math.min(jr,r)}:{x:e+n-jr,y:Math.max(t,t+r/2-jr/2),width:jr,height:Math.min(jr,r)}}function Zl(e,t,n,r,i,o,s,l,a,c,u,f,p,m,g){if(m){let M;o.title===Ha&&(M=!0),o.title===Oa&&(M=!1),M!==!0&&(e.globalAlpha=c),il(e,l,M,t,n,r,i,!1,void 0,void 0,18),M!==!0&&(e.globalAlpha=1);return}const w=l.cellHorizontalPadding,b=s?l.textHeaderSelected:l.textHeader,k=o.hasMenu===!0&&(a||f&&s),v=p?-1:1;let S=p?t+r-w:t+w;if(o.icon!==void 0){let M=s?"selected":"normal";o.style==="highlight"&&(M=s?"selected":"special");const y=l.headerIconSize;u.drawSprite(o.icon,M,e,p?S-y:S,n+(i-y)/2,y,l),o.overlayIcon!==void 0&&u.drawSprite(o.overlayIcon,s?"selected":"special",e,p?S-y+9:S+9,n+((i-18)/2+6),18,l),S+=Math.ceil(y*1.3)*v}if(k&&o.hasMenu===!0&&r>35){const y=p?35:r-35,I=p?35*.7:r-35*.7,E=y/r,P=I/r,T=e.createLinearGradient(t,0,t+r,0),$=Gr(b,0);T.addColorStop(p?1:0,b),T.addColorStop(E,b),T.addColorStop(P,$),T.addColorStop(p?0:1,$),e.fillStyle=T}else e.fillStyle=b;if(p&&(e.textAlign="right"),e.fillText(o.title,S,n+i/2+ar(e,l.headerFontFull)),p&&(e.textAlign="left"),k&&o.hasMenu===!0)if(o.menuIcon===void 0||o.menuIcon===bo.Triangle){e.beginPath();const M=g.x+g.width/2-5.5,y=g.y+g.height/2-3;Ag(e,[{x:M,y},{x:M+11,y},{x:M+5.5,y:y+6}],1),e.fillStyle=b,e.fill()}else if(o.menuIcon===bo.Dots){e.beginPath();const M=g.x+g.width/2,y=g.y+g.height/2;Dg(e,M,y),e.fillStyle=b,e.fill()}else{const M=g.x+(g.width-l.headerIconSize)/2,y=g.y+(g.height-l.headerIconSize)/2;u.drawSprite(o.menuIcon,"normal",e,M,y,l.headerIconSize,l)}}function kc(e,t,n,r,i,o,s,l,a,c,u,f,p,m){const g=o.title.startsWith(Do),w=Ks(o.title)==="rtl",b=xc(t,n,r,i,w);if(p!==void 0){let k=o;g&&(k={...o,title:""}),p({ctx:e,theme:l,rect:{x:t,y:n,width:r,height:i},column:k,columnIndex:k.sourceIndex,isSelected:s,hoverAmount:u,isHovered:a,hasSelectedCell:c,spriteManager:f,menuBounds:b},()=>Zl(e,t,n,r,i,o,s,l,a,u,f,m,w,g,b))}else Zl(e,t,n,r,i,o,s,l,a,u,f,m,w,g,b)}function j0(e,t,n,r,i,o,s,l,a,c,u,f,p,m,g,w,b,k,v){const S=s+l;if(S<=0)return;e.fillStyle=f.bgHeader,e.fillRect(0,0,i,S);const[M,y]=(r==null?void 0:r[0])??[],I=f.headerFontFull;e.font=I,cr(t,0,o,0,S,(E,P,T,$)=>{var re;if(b!==void 0&&!b.has([E.sourceIndex,-1]))return;const B=Math.max(0,$-P);e.save(),e.beginPath(),e.rect(P+B,l,E.width-B,s),e.clip();const _=w(E.group??"").overrideTheme,D=E.themeOverride===void 0&&_===void 0?f:lr(f,_,E.themeOverride);D.bgHeader!==f.bgHeader&&(e.fillStyle=D.bgHeader,e.fill()),D!==f&&(e.font=D.baseFontFull);const z=u.columns.hasIndex(E.sourceIndex),ee=a!==void 0||c,he=!ee&&y===-1&&M===E.sourceIndex,de=ee?0:((re=m.find(le=>le.item[0]===E.sourceIndex&&le.item[1]===-1))==null?void 0:re.hoverAmount)??0,me=(u==null?void 0:u.current)!==void 0&&u.current.cell[0]===E.sourceIndex,Xe=z?D.accentColor:me?D.bgHeaderHasFocus:D.bgHeader,V=n?l:0,K=E.sourceIndex===0?0:1;z?(e.fillStyle=Xe,e.fillRect(P+K,V,E.width-K,s)):(me||de>0)&&(e.beginPath(),e.rect(P+K,V,E.width-K,s),me&&(e.fillStyle=D.bgHeaderHasFocus,e.fill()),de>0&&(e.globalAlpha=de,e.fillStyle=D.bgHeaderHovered,e.fill(),e.globalAlpha=1)),kc(e,P,V,E.width,s,E,z,D,he,me,de,p,k,v),e.restore()}),n&&B0(e,t,i,o,l,r,f,p,m,g,w,b)}function Eo(e,t,n,r,i,o,s,l){return e<=i+s&&i<=e+n&&t<=o+l&&o<=t+r}function X0(e,t,n,r,i,o,s,l,a){a===void 0||a.size===0||(e.beginPath(),Sc(t,n,o,r,(c,u,f,p,m,g)=>{a.hasItemInRectangle({x:c[0],y:-2,width:c[1]-c[0]+1,height:1})&&e.rect(f,p,m,g)}),cr(t,l,o,s,i,(c,u,f,p)=>{const m=Math.max(0,p-u),g=u+m+1,w=c.width-m-1;a.has([c.sourceIndex,-1])&&e.rect(g,r,w,i-r)}),e.clip())}function Cc(e,t,n,r,i,o,s){var p;const[l,a]=e;let c,u;const f=((p=s.find(m=>!m.sticky))==null?void 0:p.sourceIndex)??0;if(a>f){const m=Math.max(l,f);let g=t,w=r;for(let b=o.sourceIndex-1;b>=m;b--)g-=s[b].width,w+=s[b].width;for(let b=o.sourceIndex+1;b<=a;b++)w+=s[b].width;u={x:g,y:n,width:w,height:i}}if(f>l){const m=Math.min(a,f-1);let g=t,w=r;for(let b=o.sourceIndex-1;b>=l;b--)g-=s[b].width,w+=s[b].width;for(let b=o.sourceIndex+1;b<=m;b++)w+=s[b].width;c={x:g,y:n,width:w,height:i}}return[c,u]}function Ql(e,t,n,r,i,o,s,l,a,c,u,f,p,m,g,w,b,k,v,S,M,y,I,E,P,T,$,B,_,D,z,ee,he,de,me){let Xe=(S==null?void 0:S.size)??Number.MAX_SAFE_INTEGER;const V=performance.now();let K=D.baseFontFull;e.font=K;const re={ctx:e},le=[0,0],He=b>0?Jr(a,b,c):0;let X,Me;return cr(t,l,o,s,i,(ae,et,tt,Ue,at)=>{const Ge=Math.max(0,Ue-et),ve=et+Ge,Ae=i+1,Oe=ae.width-Ge,yt=r-i-1;if(v.length>0){let G=!1;for(let Le=0;Le<v.length;Le++){const De=v[Le];if(Eo(ve,Ae,Oe,yt,De.x,De.y,De.width,De.height)){G=!0;break}}if(!G)return}const ge=()=>{e.save(),e.beginPath(),e.rect(ve,Ae,Oe,yt),e.clip()},ce=M.columns.hasIndex(ae.sourceIndex),Ie=f(ae.group??"").overrideTheme,_e=ae.themeOverride===void 0&&Ie===void 0?D:lr(D,Ie,ae.themeOverride),be=_e.baseFontFull;be!==K&&(K=be,e.font=be),ge();let Fe;return No(at,tt,r,a,c,b,k,(G,Le,De,ht,we)=>{var Ft,Mn,Kt;if(Le<0||(le[0]=ae.sourceIndex,le[1]=Le,S!==void 0&&!S.has(le)))return;if(v.length>0){let Re=!1;for(let ut=0;ut<v.length;ut++){const wt=v[ut];if(Eo(et,G,ae.width,De,wt.x,wt.y,wt.width,wt.height)){Re=!0;break}}if(!Re)return}const ct=M.rows.hasIndex(Le),nt=m.hasIndex(Le),Pe=Le<a?u(le):O0;let rt=et,st=ae.width,It=!1,At=!1;if(Pe.span!==void 0){const[Re,ut]=Pe.span,wt=`${Le},${Re},${ut},${ae.sticky}`;if(Me===void 0&&(Me=new Set),Me.has(wt)){Xe--;return}else{const On=Cc(Pe.span,et,G,ae.width,De,ae,n),Qe=ae.sticky?On[0]:On[1];if(!ae.sticky&&On[0]!==void 0&&(At=!0),Qe!==void 0){rt=Qe.x,st=Qe.width,Me.add(wt),e.restore(),Fe=void 0,e.save(),e.beginPath();const qt=Math.max(0,Ue-Qe.x);e.rect(Qe.x+qt,G,Qe.width-qt,De),X===void 0&&(X=[]),X.push({x:Qe.x+qt,y:G,width:Qe.width-qt,height:De}),e.clip(),It=!0}}}const Wt=p==null?void 0:p(Le),Xt=we&&((Ft=ae.trailingRowOptions)==null?void 0:Ft.themeOverride)!==void 0?(Mn=ae.trailingRowOptions)==null?void 0:Mn.themeOverride:void 0,pt=Pe.themeOverride===void 0&&Wt===void 0&&Xt===void 0?_e:lr(_e,Wt,Xt,Pe.themeOverride);e.beginPath();const zn=xg(le,Pe,M);let xt=kg(le,Pe,M);const Ut=Pe.span!==void 0&&M.columns.some(Re=>Pe.span!==void 0&&Re>=Pe.span[0]&&Re<=Pe.span[1]);zn&&!g&&w?xt=0:zn&&(xt=Math.max(xt,1)),Ut&&xt++,zn||(ct&&xt++,ce&&!we&&xt++);const en=Pe.kind===ne.Protected?pt.bgCellMedium:pt.bgCell;let $e;if((ht||en!==D.bgCell)&&($e=an(en,$e)),xt>0||nt){nt&&($e=an(pt.bgHeader,$e));for(let Re=0;Re<xt;Re++)$e=an(pt.accentLight,$e)}else if(y!==void 0){for(const Re of y)if(Re[0]===ae.sourceIndex&&Re[1]===Le){$e=an(pt.bgSearchResult,$e);break}}if(I!==void 0)for(let Re=0;Re<I.length;Re++){const ut=I[Re],wt=ut.range;ut.style!=="solid-outline"&&wt.x<=ae.sourceIndex&&ae.sourceIndex<wt.x+wt.width&&wt.y<=Le&&Le<wt.y+wt.height&&($e=an(ut.color,$e))}let Yt=!1;if(S!==void 0){const Re=G+1,wt=(ht?Re+De-1:Math.min(Re+De-1,r-He))-Re;(wt!==De-1||rt+1<=Ue)&&(Yt=!0,e.save(),e.beginPath(),e.rect(rt+1,Re,st-1,wt),e.clip()),$e=$e===void 0?pt.bgCell:an($e,pt.bgCell)}const Hn=ae.sourceIndex===n.length-1,gn=Le===a-1;$e!==void 0&&(e.fillStyle=$e,Fe!==void 0&&(Fe.fillStyle=$e),S!==void 0?e.fillRect(rt+1,G+1,st-(Hn?2:1),De-(gn?2:1)):e.fillRect(rt,G,st,De)),Pe.style==="faded"&&(e.globalAlpha=.6);let ze;for(let Re=0;Re<T.length;Re++){const ut=T[Re];if(ut.item[0]===ae.sourceIndex&&ut.item[1]===Le){ze=ut;break}}if(st>me&&!At){const Re=pt.baseFontFull;Re!==K&&(e.font=Re,K=Re),Fe=vc(e,Pe,ae.sourceIndex,Le,Hn,gn,rt,G,st,De,xt>0,pt,$e??pt.bgCell,E,P,(ze==null?void 0:ze.hoverAmount)??0,$,_,V,B,Fe,z,ee,he,de)}return Yt&&e.restore(),Pe.style==="faded"&&(e.globalAlpha=1),Xe--,It&&(e.restore(),(Kt=Fe==null?void 0:Fe.deprep)==null||Kt.call(Fe,re),Fe=void 0,ge(),K=be,e.font=be),Xe<=0}),e.restore(),Xe<=0}),X}function U0(e,t,n,r,i,o,s,l,a,c,u,f,p,m,g,w,b,k,v){k!==void 0||t[t.length-1]!==n[t.length-1]||cr(t,a,s,l,o,(S,M,y,I,E)=>{if(S!==t[t.length-1])return;M+=S.width;const P=Math.max(M,I);P>r||(e.save(),e.beginPath(),e.rect(P,o+1,1e4,i-o-1),e.clip(),No(E,y,i,c,u,g,w,(T,$,B,_)=>{if(!_&&b.length>0&&!b.some(de=>Eo(M,T,1e4,B,de.x,de.y,de.width,de.height)))return;const D=p.hasIndex($),z=m.hasIndex($);e.beginPath();const ee=f==null?void 0:f($),he=ee===void 0?v:lr(v,ee);he.bgCell!==v.bgCell&&(e.fillStyle=he.bgCell,e.fillRect(M,T,1e4,B)),z&&(e.fillStyle=he.bgHeader,e.fillRect(M,T,1e4,B)),D&&(e.fillStyle=he.accentLight,e.fillRect(M,T,1e4,B))}),e.restore())})}function Y0(e,t,n,r,i,o,s,l,a){let c=!1;for(const m of t)if(!m.sticky){c=s(m.sourceIndex);break}const u=a.horizontalBorderColor??a.borderColor,f=a.borderColor,p=c?Zr(t):0;if(p!==0&&(e.beginPath(),e.moveTo(p+.5,0),e.lineTo(p+.5,r),e.strokeStyle=an(f,a.bgCell),e.stroke()),i>0){const m=Jr(o,i,l);e.beginPath(),e.moveTo(0,r-m+.5),e.lineTo(n,r-m+.5),e.strokeStyle=an(u,a.bgCell),e.stroke()}}function Jl(e,t,n,r,i,o,s,l,a,c,u,f,p,m,g,w){const b=g==null?void 0:g.filter(E=>E.style!=="no-outline");if(b===void 0||b.length===0)return;const k=Zr(l),v=Jr(m,p,f),S=[a,0,l.length,m-p],M=[k,0,t,n-v],y=b.map(E=>{const P=E.range,T=E.style??"dashed";return H0(P,S,t,n,M).map($=>{const B=$.rect,_=Hs(B.x,B.y,t,n,u,c+u,r,i,o,s,m,a,p,l,f),D=B.width===1&&B.height===1?_:Hs(B.x+B.width-1,B.y+B.height-1,t,n,u,c+u,r,i,o,s,m,a,p,l,f);return B.x+B.width>=l.length&&(D.width-=1),B.y+B.height>=m&&(D.height-=1),{color:E.color,style:T,clip:$.clip,rect:z0({x:_.x,y:_.y,width:D.x+D.width-_.x,height:D.y+D.height-_.y},t,n,8)}})}),I=()=>{e.lineWidth=1;let E=!1;for(const P of y)for(const T of P)if((T==null?void 0:T.rect)!==void 0&&Eo(0,0,t,n,T.rect.x,T.rect.y,T.rect.width,T.rect.height)){const $=E,B=!L0(T.clip,T.rect);B&&(e.save(),e.rect(T.clip.x,T.clip.y,T.clip.width,T.clip.height),e.clip()),T.style==="dashed"&&!E?(e.setLineDash([5,3]),E=!0):(T.style==="solid"||T.style==="solid-outline")&&E&&(e.setLineDash([]),E=!1),e.strokeStyle=T.style==="solid-outline"?an(an(T.color,w.borderColor),w.bgCell):Gr(T.color,1),e.strokeRect(T.rect.x+.5,T.rect.y+.5,T.rect.width-1,T.rect.height-1),B&&(e.restore(),E=$)}E&&e.setLineDash([])};return I(),I}function ea(e,t,n,r,i){e.beginPath(),e.moveTo(t,n),e.lineTo(t,r),e.lineWidth=2,e.strokeStyle=i,e.stroke(),e.globalAlpha=1}function ws(e,t,n,r,i,o,s,l,a,c,u,f,p,m,g,w,b){if(u.current===void 0)return;const k=u.current.range,v=u.current.cell,S=[k.x+k.width-1,k.y+k.height-1];if(v[1]>=b&&S[1]>=b||!s.some(ee=>ee.sourceIndex===v[0]||ee.sourceIndex===S[0]))return;const[y,I]=u.current.cell,E=p(u.current.cell),P=E.span??[y,y],T=I>=b-m,$=m>0&&!T?Jr(b,m,f)-1:0,B=S[1];let _,D;if(cr(s,r,i,o,c,(ee,he,de,me,Xe)=>{if(ee.sticky&&y>ee.sourceIndex)return;const V=ee.sourceIndex<P[0],K=ee.sourceIndex>P[1],re=ee.sourceIndex===S[0];if(!(!re&&(V||K)))return No(Xe,de,n,b,f,m,g,(le,He,X)=>{if(He!==I&&He!==B)return;let Me=he,ae=ee.width;const et=ee.sourceIndex===l.length-1,tt=He===b-1;if(E.span!==void 0){const Ge=Cc(E.span,he,le,ee.width,X,ee,l),ve=ee.sticky?Ge[0]:Ge[1];ve!==void 0&&(Me=ve.x,ae=ve.width)}const Ue=He===B&&re&&w,at=He===I&&!V&&!K&&_===void 0;return Ue&&(D=()=>{var Ge;me>Me&&!ee.sticky&&!at&&(e.beginPath(),e.rect(me,0,t-me,n),e.clip()),e.beginPath(),e.rect(Me+ae-4,le+X-4,4,4),e.fillStyle=((Ge=ee.themeOverride)==null?void 0:Ge.accentColor)??a.accentColor,e.fill()}),at&&(_=()=>{var Ge;me>Me&&!ee.sticky&&(e.beginPath(),e.rect(me,0,t-me,n),e.clip()),e.beginPath(),e.rect(Me+.5,le+.5,ae-(et?1:0),X-(tt?1:0)),e.strokeStyle=((Ge=ee.themeOverride)==null?void 0:Ge.accentColor)??a.accentColor,e.lineWidth=1,e.stroke()}),_!==void 0&&(w?D!==void 0:!0)}),_!==void 0&&(w?D!==void 0:!0)}),_===void 0&&D===void 0)return;const z=()=>{e.save(),e.beginPath(),e.rect(0,c,t,n-c-$),e.clip(),_==null||_(),D==null||D(),e.restore()};return z(),z}function K0(e,t,n,r,i,o,s,l,a,c){let u=0;return cr(e,o,r,i,n,(f,p,m,g,w)=>(No(w,m,t,s,l,a,c,(b,k,v,S)=>{S||(u=Math.max(k,u))}),!0)),u}function q0(e,t){if(t===void 0||e.width!==t.width||e.height!==t.height||e.theme!==t.theme||e.headerHeight!==t.headerHeight||e.rowHeight!==t.rowHeight||e.rows!==t.rows||e.freezeColumns!==t.freezeColumns||e.getRowThemeOverride!==t.getRowThemeOverride||e.isFocused!==t.isFocused||e.isResizing!==t.isResizing||e.verticalBorder!==t.verticalBorder||e.getCellContent!==t.getCellContent||e.highlightRegions!==t.highlightRegions||e.selection!==t.selection||e.dragAndDropState!==t.dragAndDropState||e.prelightCells!==t.prelightCells||e.touchMode!==t.touchMode||e.maxScaleFactor!==t.maxScaleFactor)return!1;if(e.mappedColumns!==t.mappedColumns){if(e.mappedColumns.length>100||e.mappedColumns.length!==t.mappedColumns.length)return!1;let n;for(let r=0;r<e.mappedColumns.length;r++){const i=e.mappedColumns[r],o=t.mappedColumns[r];if(Vr(i,o))continue;if(n!==void 0||i.width===o.width)return!1;const{width:s,...l}=i,{width:a,...c}=o;if(!Vr(l,c))return!1;n=r}return n===void 0?!0:n}return!0}function ta(e,t){var en;const{canvas:n,headerCanvas:r,width:i,height:o,cellXOffset:s,cellYOffset:l,translateX:a,translateY:c,mappedColumns:u,enableGroups:f,freezeColumns:p,dragAndDropState:m,theme:g,drawFocus:w,headerHeight:b,groupHeaderHeight:k,disabledRows:v,rowHeight:S,verticalBorder:M,overrideCursor:y,isResizing:I,selection:E,fillHandle:P,freezeTrailingRows:T,rows:$,getCellContent:B,getGroupDetails:_,getRowThemeOverride:D,isFocused:z,drawHeaderCallback:ee,prelightCells:he,drawCellCallback:de,highlightRegions:me,resizeCol:Xe,imageLoader:V,lastBlitData:K,hoverValues:re,hyperWrapping:le,hoverInfo:He,spriteManager:X,maxScaleFactor:Me,hasAppendRow:ae,touchMode:et,enqueue:tt,renderStateProvider:Ue,getCellRenderer:at,renderStrategy:Ge,bufferA:ve,bufferB:Ae,damage:Oe,minimumCellWidth:yt}=e;if(i===0||o===0)return;const ge=Ge==="double-buffer",ce=Math.min(Me,Math.ceil(window.devicePixelRatio??1)),Ie=Ge!=="direct"&&q0(e,t);(n.width!==i*ce||n.height!==o*ce)&&(n.width=i*ce,n.height=o*ce,n.style.width=i+"px",n.style.height=o+"px");const _e=r,be=f?k+b:b,Fe=be+1;(_e.width!==i*ce||_e.height!==Fe*ce)&&(_e.width=i*ce,_e.height=Fe*ce,_e.style.width=i+"px",_e.style.height=Fe+"px"),ge&&(ve.width!==i*ce||ve.height!==o*ce)&&(ve.width=i*ce,ve.height=o*ce,K.current!==void 0&&(K.current.aBufferScroll=void 0)),ge&&(Ae.width!==i*ce||Ae.height!==o*ce)&&(Ae.width=i*ce,Ae.height=o*ce,K.current!==void 0&&(K.current.bBufferScroll=void 0));const G=K.current;if(Ie===!0&&s===(G==null?void 0:G.cellXOffset)&&l===(G==null?void 0:G.cellYOffset)&&a===(G==null?void 0:G.translateX)&&c===(G==null?void 0:G.translateY))return;let Le=null;ge&&(Le=n.getContext("2d",{alpha:!1}));const De=_e.getContext("2d",{alpha:!1});let ht;ge?Oe!==void 0?ht=(G==null?void 0:G.lastBuffer)==="b"?Ae:ve:ht=(G==null?void 0:G.lastBuffer)==="b"?ve:Ae:ht=n;const we=ht.getContext("2d",{alpha:!1}),ct=ge?ht===ve?Ae:ve:n;if(De===null||we===null)return;const nt=typeof S=="number"?()=>S:S;De.save(),we.save(),De.beginPath(),we.beginPath(),De.textBaseline="middle",we.textBaseline="middle",ce!==1&&(De.scale(ce,ce),we.scale(ce,ce));const Pe=zs(u,s,i,m,a);let rt=[];const st=w&&((en=E.current)==null?void 0:en.cell[1])===l&&c===0;let It=!1;if(me!==void 0){for(const $e of me)if($e.style!=="no-outline"&&$e.range.y===l&&c===0){It=!0;break}}const At=()=>{j0(De,Pe,f,He,i,a,b,k,m,I,E,g,X,re,M,_,Oe,ee,et),Gl(De,Pe,l,a,c,i,o,void 0,void 0,k,be,nt,D,M,T,$,g,!0),De.beginPath(),De.moveTo(0,Fe-.5),De.lineTo(i,Fe-.5),De.strokeStyle=an(g.headerBottomBorderColor??g.horizontalBorderColor??g.borderColor,g.bgHeader),De.stroke(),It&&Jl(De,i,o,s,l,a,c,u,p,b,k,S,T,$,me,g),st&&ws(De,i,o,l,a,c,Pe,u,g,be,E,nt,B,T,ae,P,$)};if(Oe!==void 0){const $e=Pe[Pe.length-1].sourceIndex+1,Yt=Oe.hasItemInRegion([{x:s,y:-2,width:$e,height:2},{x:s,y:l,width:$e,height:300},{x:0,y:l,width:p,height:300},{x:s,y:$-T,width:$e,height:T,when:T>0}]),Hn=gn=>{Ql(gn,Pe,u,o,be,a,c,l,$,nt,B,_,D,v,z,w,T,ae,rt,Oe,E,he,me,V,X,re,He,de,le,g,tt,Ue,at,y,yt);const ze=E.current;P&&w&&ze!==void 0&&Oe.has(lc(ze.range))&&ws(gn,i,o,l,a,c,Pe,u,g,be,E,nt,B,T,ae,P,$)};Yt&&(Hn(we),Le!==null&&(Le.save(),Le.scale(ce,ce),Le.textBaseline="middle",Hn(Le),Le.restore()),Oe.hasHeader()&&(X0(De,Pe,i,k,be,a,c,l,Oe),At())),we.restore(),De.restore();return}if((Ie!==!0||s!==(G==null?void 0:G.cellXOffset)||a!==(G==null?void 0:G.translateX)||st!==(G==null?void 0:G.mustDrawFocusOnHeader)||It!==(G==null?void 0:G.mustDrawHighlightRingsOnHeader))&&At(),Ie===!0){ln(ct!==void 0&&G!==void 0);const{regions:$e}=W0(we,ct,ct===ve?G.aBufferScroll:G.bBufferScroll,ct===ve?G.bBufferScroll:G.aBufferScroll,G,s,l,a,c,T,i,o,$,be,ce,u,Pe,S,ge);rt=$e}else Ie!==!1&&(ln(G!==void 0),rt=N0(G,s,l,a,c,i,o,be,Pe,Ie));Y0(we,Pe,i,o,T,$,M,nt,g);const Wt=Jl(we,i,o,s,l,a,c,u,p,b,k,S,T,$,me,g),Xt=w?ws(we,i,o,l,a,c,Pe,u,g,be,E,nt,B,T,ae,P,$):void 0;if(we.fillStyle=g.bgCell,rt.length>0){we.beginPath();for(const $e of rt)we.rect($e.x,$e.y,$e.width,$e.height);we.clip(),we.fill(),we.beginPath()}else we.fillRect(0,0,i,o);const pt=Ql(we,Pe,u,o,be,a,c,l,$,nt,B,_,D,v,z,w,T,ae,rt,Oe,E,he,me,V,X,re,He,de,le,g,tt,Ue,at,y,yt);U0(we,Pe,u,i,o,be,a,c,l,$,nt,D,E.rows,v,T,ae,rt,Oe,g),Gl(we,Pe,l,a,c,i,o,rt,pt,k,be,nt,D,M,T,$,g),Wt==null||Wt(),Xt==null||Xt(),I&&cr(Pe,0,a,0,be,($e,Yt)=>$e.sourceIndex===Xe?(ea(De,Yt+$e.width,0,be+1,an(g.resizeIndicatorColor??g.accentLight,g.bgHeader)),ea(we,Yt+$e.width,be,o,an(g.resizeIndicatorColor??g.accentLight,g.bgCell)),!0):!1),Le!==null&&(Le.fillStyle=g.bgCell,Le.fillRect(0,0,i,o),Le.drawImage(we.canvas,0,0));const zn=K0(Pe,o,be,a,c,l,$,nt,T,ae);V==null||V.setWindow({x:s,y:l,width:Pe.length,height:zn-l},p,Array.from({length:T},($e,Yt)=>$-1-Yt));const xt=G!==void 0&&(s!==G.cellXOffset||a!==G.translateX),Ut=G!==void 0&&(l!==G.cellYOffset||c!==G.translateY);K.current={cellXOffset:s,cellYOffset:l,translateX:a,translateY:c,mustDrawFocusOnHeader:st,mustDrawHighlightRingsOnHeader:It,lastBuffer:ge?ht===ve?"a":"b":void 0,aBufferScroll:ht===ve?[xt,Ut]:G==null?void 0:G.aBufferScroll,bBufferScroll:ht===Ae?[xt,Ut]:G==null?void 0:G.bBufferScroll},we.restore(),De.restore()}function No(e,t,n,r,i,o,s,l){let a=t,c=e;const u=r-o;for(;a<n&&c<u;){const f=i(c);if(l(a,c,f,!1,s&&c===r-1)===!0)break;a+=f,c++}a=n;for(let f=0;f<o;f++){c=r-1-f;const p=i(c);a-=p,l(a,c,p,!0,s&&c===r-1)}}function cr(e,t,n,r,i,o){let s=0,l=0;const a=i+r;for(const c of e){const u=c.sticky?l:s+n;if(o(c,u,a,l,t)===!0)break;s+=c.width,l+=c.sticky?c.width:0}}function Sc(e,t,n,r,i){let o=0,s=0;for(let l=0;l<e.length;l++){const a=e[l];let c=l+1,u=a.width;for(a.sticky&&(s+=u);c<e.length&&_i(e[c].group,a.group)&&e[c].sticky===e[l].sticky;){const w=e[c];u+=w.width,c++,l++,w.sticky&&(s+=w.width)}const f=a.sticky?0:n,p=o+f,m=a.sticky?0:Math.max(0,s-p),g=Math.min(u-m,t-(p+m));i([a.sourceIndex,e[c-1].sourceIndex],a.group??"",p+m,0,g,r),o+=u}}const V0=80;function G0(e){const t=e-1;return t*t*t+1}class Z0{constructor(t){fe(this,"callback");fe(this,"currentHoveredItem");fe(this,"leavingItems",[]);fe(this,"lastAnimationTime");fe(this,"addToLeavingItems",t=>{this.leavingItems.some(r=>Ri(r.item,t.item))||this.leavingItems.push(t)});fe(this,"removeFromLeavingItems",t=>{const n=this.leavingItems.find(r=>Ri(r.item,t));return this.leavingItems=this.leavingItems.filter(r=>r!==n),(n==null?void 0:n.hoverAmount)??0});fe(this,"cleanUpLeavingElements",()=>{this.leavingItems=this.leavingItems.filter(t=>t.hoverAmount>0)});fe(this,"shouldStep",()=>{const t=this.leavingItems.length>0,n=this.currentHoveredItem!==void 0&&this.currentHoveredItem.hoverAmount<1;return t||n});fe(this,"getAnimatingItems",()=>this.currentHoveredItem!==void 0?[...this.leavingItems,this.currentHoveredItem]:this.leavingItems.map(t=>({...t,hoverAmount:G0(t.hoverAmount)})));fe(this,"step",t=>{if(this.lastAnimationTime===void 0)this.lastAnimationTime=t;else{const r=(t-this.lastAnimationTime)/V0;for(const o of this.leavingItems)o.hoverAmount=Cn(o.hoverAmount-r,0,1);this.currentHoveredItem!==void 0&&(this.currentHoveredItem.hoverAmount=Cn(this.currentHoveredItem.hoverAmount+r,0,1));const i=this.getAnimatingItems();this.callback(i),this.cleanUpLeavingElements()}this.shouldStep()?(this.lastAnimationTime=t,window.requestAnimationFrame(this.step)):this.lastAnimationTime=void 0});fe(this,"setHovered",t=>{var n;if(!Ri((n=this.currentHoveredItem)==null?void 0:n.item,t)){if(this.currentHoveredItem!==void 0&&this.addToLeavingItems(this.currentHoveredItem),t!==void 0){const r=this.removeFromLeavingItems(t);this.currentHoveredItem={item:t,hoverAmount:r}}else this.currentHoveredItem=void 0;this.lastAnimationTime===void 0&&window.requestAnimationFrame(this.step)}});this.callback=t}}class Q0{constructor(t){fe(this,"fn");fe(this,"val");this.fn=t}get value(){return this.val??(this.val=this.fn())}}function ol(e){return new Q0(e)}const J0=ol(()=>window.navigator.userAgent.includes("Firefox")),To=ol(()=>window.navigator.userAgent.includes("Mac OS")&&window.navigator.userAgent.includes("Safari")&&!window.navigator.userAgent.includes("Chrome")),Io=ol(()=>window.navigator.platform.toLowerCase().startsWith("mac"));function ep(e){const t=d.useRef([]),n=d.useRef(0),r=d.useRef(e);r.current=e;const i=d.useCallback(()=>{const o=()=>window.requestAnimationFrame(s),s=()=>{const l=t.current.map(rl);t.current=[],r.current(new Ti(l)),t.current.length>0?n.current++:n.current=0};window.requestAnimationFrame(n.current>600?o:s)},[]);return d.useCallback(o=>{t.current.length===0&&i();const s=Sn(o[0],o[1]);t.current.includes(s)||t.current.push(s)},[i])}const or="header",sn="group-header",Po="out-of-bounds";var qr;(function(e){e[e.Start=-2]="Start",e[e.StartPadding=-1]="StartPadding",e[e.Center=0]="Center",e[e.EndPadding=1]="EndPadding",e[e.End=2]="End"})(qr||(qr={}));function Mc(e,t){return e===t?!0:(e==null?void 0:e.kind)==="out-of-bounds"?(e==null?void 0:e.kind)===(t==null?void 0:t.kind)&&(e==null?void 0:e.location[0])===(t==null?void 0:t.location[0])&&(e==null?void 0:e.location[1])===(t==null?void 0:t.location[1])&&(e==null?void 0:e.region[0])===(t==null?void 0:t.region[0])&&(e==null?void 0:e.region[1])===(t==null?void 0:t.region[1]):(e==null?void 0:e.kind)===(t==null?void 0:t.kind)&&(e==null?void 0:e.location[0])===(t==null?void 0:t.location[0])&&(e==null?void 0:e.location[1])===(t==null?void 0:t.location[1])}const na=6,tp=(e,t)=>{if(e.kind===ne.Custom)return e.copyData;const n=t==null?void 0:t(e);return(n==null?void 0:n.getAccessibilityString(e))??""},np=(e,t)=>{const{width:n,height:r,accessibilityHeight:i,columns:o,cellXOffset:s,cellYOffset:l,headerHeight:a,fillHandle:c=!1,groupHeaderHeight:u,rowHeight:f,rows:p,getCellContent:m,getRowThemeOverride:g,onHeaderMenuClick:w,enableGroups:b,isFilling:k,onCanvasFocused:v,onCanvasBlur:S,isFocused:M,selection:y,freezeColumns:I,onContextMenu:E,freezeTrailingRows:P,fixedShadowX:T=!0,fixedShadowY:$=!0,drawFocusRing:B=!0,onMouseDown:_,onMouseUp:D,onMouseMoveRaw:z,onMouseMove:ee,onItemHovered:he,dragAndDropState:de,firstColAccessible:me,onKeyDown:Xe,onKeyUp:V,highlightRegions:K,canvasRef:re,onDragStart:le,onDragEnd:He,eventTargetRef:X,isResizing:Me,resizeColumn:ae,isDragging:et,isDraggable:tt=!1,allowResize:Ue,disabledRows:at,hasAppendRow:Ge,getGroupDetails:ve,theme:Ae,prelightCells:Oe,headerIcons:yt,verticalBorder:ge,drawCell:ce,drawHeader:Ie,onCellFocused:_e,onDragOverCell:be,onDrop:Fe,onDragLeave:G,imageWindowLoader:Le,smoothScrollX:De=!1,smoothScrollY:ht=!1,experimental:we,getCellRenderer:ct}=e,nt=e.translateX??0,Pe=e.translateY??0,rt=Math.max(I,Math.min(o.length-1,s)),st=d.useRef(null),It=Le,At=d.useRef(),[Wt,Xt]=d.useState(!1),pt=d.useRef([]),zn=d.useRef(),[xt,Ut]=d.useState(),[en,$e]=d.useState(),Yt=d.useRef(null),[Hn,gn]=d.useState(),[ze,Ft]=d.useState(!1),Mn=d.useRef(ze);Mn.current=ze;const Kt=d.useMemo(()=>new A0(yt,()=>{Ir.current=void 0,pn.current()}),[yt]),Re=b?u+a:a,ut=d.useRef(-1),wt=((we==null?void 0:we.enableFirefoxRescaling)??!1)&&J0.value,On=((we==null?void 0:we.enableSafariRescaling)??!1)&&To.value;d.useLayoutEffect(()=>{window.devicePixelRatio===1||!wt&&!On||(ut.current!==-1&&Xt(!0),window.clearTimeout(ut.current),ut.current=window.setTimeout(()=>{Xt(!1),ut.current=-1},200))},[l,rt,nt,Pe,wt,On]);const Qe=vg(o,I),qt=T?Zr(Qe,de):0,mt=d.useCallback((R,U,Q)=>{const Z=R.getBoundingClientRect();if(U>=Qe.length||Q>=p)return;const q=Z.width/n,oe=Hs(U,Q,n,r,u,Re,rt,l,nt,Pe,p,I,P,Qe,f);return q!==1&&(oe.x*=q,oe.y*=q,oe.width*=q,oe.height*=q),oe.x+=Z.x,oe.y+=Z.y,oe},[n,r,u,Re,rt,l,nt,Pe,p,I,P,Qe,f]),kt=d.useCallback((R,U,Q,Z)=>{const q=R.getBoundingClientRect(),oe=q.width/n,Ee=(U-q.left)/oe,pe=(Q-q.top)/oe,ie=5,Ct=zs(Qe,rt,n,void 0,nt);let ye=0,Je=0;Z instanceof MouseEvent&&(ye=Z.button,Je=Z.buttons);const We=Cg(Ee,Ct,nt),Ye=Sg(pe,r,b,a,u,p,f,l,Pe,P),Te=(Z==null?void 0:Z.shiftKey)===!0,Gt=(Z==null?void 0:Z.ctrlKey)===!0,bt=(Z==null?void 0:Z.metaKey)===!0,gt=Z!==void 0&&!(Z instanceof MouseEvent)||(Z==null?void 0:Z.pointerType)==="touch",En=[Ee<0?-1:n<Ee?1:0,pe<Re?-1:r<pe?1:0];let _t;if(We===-1||pe<0||Ee<0||Ye===void 0||Ee>n||pe>r){const qe=Ee>n?1:Ee<0?-1:0,Zt=pe>r?1:pe<0?-1:0;let Nt=qe*2,Jn=Zt*2;qe===0&&(Nt=We===-1?qr.EndPadding:qr.Center),Zt===0&&(Jn=Ye===void 0?qr.EndPadding:qr.Center);let yn=!1;if(We===-1&&Ye===-1){const Tn=mt(R,Qe.length-1,-1);ln(Tn!==void 0),yn=U<Tn.x+Tn.width+ie}const ii=Ee>n&&Ee<n+_s()||pe>r&&pe<r+_s();_t={kind:Po,location:[We!==-1?We:Ee<0?0:Qe.length-1,Ye??p-1],region:[Nt,Jn],shiftKey:Te,ctrlKey:Gt,metaKey:bt,isEdge:yn,isTouch:gt,button:ye,buttons:Je,scrollEdge:En,isMaybeScrollbar:ii}}else if(Ye<=-1){let qe=mt(R,We,Ye);ln(qe!==void 0);let Zt=qe!==void 0&&qe.x+qe.width-U<=ie;const Nt=We-1;U-qe.x<=ie&&Nt>=0?(Zt=!0,qe=mt(R,Nt,Ye),ln(qe!==void 0),_t={kind:b&&Ye===-2?sn:or,location:[Nt,Ye],bounds:qe,group:Qe[Nt].group??"",isEdge:Zt,shiftKey:Te,ctrlKey:Gt,metaKey:bt,isTouch:gt,localEventX:U-qe.x,localEventY:Q-qe.y,button:ye,buttons:Je,scrollEdge:En}):_t={kind:b&&Ye===-2?sn:or,group:Qe[We].group??"",location:[We,Ye],bounds:qe,isEdge:Zt,shiftKey:Te,ctrlKey:Gt,metaKey:bt,isTouch:gt,localEventX:U-qe.x,localEventY:Q-qe.y,button:ye,buttons:Je,scrollEdge:En}}else{const qe=mt(R,We,Ye);ln(qe!==void 0);const Zt=qe!==void 0&&qe.x+qe.width-U<ie;let Nt=!1;if(c&&y.current!==void 0){const Jn=lc(y.current.range),yn=mt(R,Jn[0],Jn[1]);if(yn!==void 0){const ii=yn.x+yn.width-2,Tn=yn.y+yn.height-2;Nt=Math.abs(ii-U)<na&&Math.abs(Tn-Q)<na}}_t={kind:"cell",location:[We,Ye],bounds:qe,isEdge:Zt,shiftKey:Te,ctrlKey:Gt,isFillHandle:Nt,metaKey:bt,isTouch:gt,localEventX:U-qe.x,localEventY:Q-qe.y,button:ye,buttons:Je,scrollEdge:En}}return _t},[n,Qe,rt,nt,r,b,a,u,p,f,l,Pe,P,mt,c,y,Re]),[$n]=xt??[],$i=d.useRef(()=>{}),vt=d.useRef(xt);vt.current=xt;const[ur,dr]=d.useMemo(()=>{const R=document.createElement("canvas"),U=document.createElement("canvas");return R.style.display="none",R.style.opacity="0",R.style.position="fixed",U.style.display="none",U.style.opacity="0",U.style.position="fixed",[R,U]},[]);d.useLayoutEffect(()=>(document.documentElement.append(ur),document.documentElement.append(dr),()=>{ur.remove(),dr.remove()}),[ur,dr]);const Tr=d.useMemo(()=>new Fg,[]),Wi=wt&&Wt?1:On&&Wt?2:5,Ni=(we==null?void 0:we.disableMinimumCellWidth)===!0?1:10,Ir=d.useRef(),Pr=d.useCallback(()=>{var Ee;const R=st.current,U=Yt.current;if(R===null||U===null)return;let Q=!1;const Z=pe=>{Q=!0,gn(pe)},q=Ir.current,oe={canvas:R,bufferA:ur,bufferB:dr,headerCanvas:U,width:n,height:r,cellXOffset:rt,cellYOffset:l,translateX:Math.round(nt),translateY:Math.round(Pe),mappedColumns:Qe,enableGroups:b,freezeColumns:I,dragAndDropState:de,theme:Ae,headerHeight:a,groupHeaderHeight:u,disabledRows:at??Ze.empty(),rowHeight:f,verticalBorder:ge,isResizing:Me,resizeCol:ae,isFocused:M,selection:y,fillHandle:c,drawCellCallback:ce,hasAppendRow:Ge,overrideCursor:Z,maxScaleFactor:Wi,freezeTrailingRows:P,rows:p,drawFocus:B,getCellContent:m,getGroupDetails:ve??(pe=>({name:pe})),getRowThemeOverride:g,drawHeaderCallback:Ie,prelightCells:Oe,highlightRegions:K,imageLoader:It,lastBlitData:zn,damage:At.current,hoverValues:pt.current,hoverInfo:vt.current,spriteManager:Kt,scrolling:Wt,hyperWrapping:(we==null?void 0:we.hyperWrapping)??!1,touchMode:ze,enqueue:$i.current,renderStateProvider:Tr,renderStrategy:(we==null?void 0:we.renderStrategy)??(To.value?"double-buffer":"single-buffer"),getCellRenderer:ct,minimumCellWidth:Ni};oe.damage===void 0?(Ir.current=oe,ta(oe,q)):ta(oe,void 0),!Q&&(oe.damage===void 0||oe.damage.has((Ee=vt==null?void 0:vt.current)==null?void 0:Ee[0]))&&gn(void 0)},[ur,dr,n,r,rt,l,nt,Pe,Qe,b,I,de,Ae,a,u,at,f,ge,Me,Ge,ae,M,y,c,P,p,B,Wi,m,ve,g,ce,Ie,Oe,K,It,Kt,Wt,we==null?void 0:we.hyperWrapping,we==null?void 0:we.renderStrategy,ze,Tr,ct,Ni]),pn=d.useRef(Pr);d.useLayoutEffect(()=>{Pr(),pn.current=Pr},[Pr]),d.useLayoutEffect(()=>{(async()=>{var U;((U=document==null?void 0:document.fonts)==null?void 0:U.ready)!==void 0&&(await document.fonts.ready,Ir.current=void 0,pn.current())})()},[]);const Kn=d.useCallback(R=>{At.current=R,pn.current(),At.current=void 0},[]),Bo=ep(Kn);$i.current=Bo;const Bi=d.useCallback(R=>{Kn(new Ti(R.map(U=>U.cell)))},[Kn]);It.setCallback(Kn);const[jo,Xo]=d.useState(!1),[fr,qn]=$n??[],Uo=fr!==void 0&&qn===-1,Yo=fr!==void 0&&qn===-2;let ji=!1,ei=!1,_r=Hn;if(_r===void 0&&fr!==void 0&&qn!==void 0&&qn>-1&&qn<p){const R=m([fr,qn],!0);ji=R.kind===hn.NewRow||R.kind===hn.Marker&&R.markerKind!=="number",ei=R.kind===ne.Boolean&&Rs(R),_r=R.cursor}const Xi=et?"grabbing":(en??!1)||Me?"col-resize":jo||k?"crosshair":_r!==void 0?_r:Uo||ji||ei||Yo?"pointer":"default",hr=d.useMemo(()=>({contain:"strict",display:"block",cursor:Xi}),[Xi]),Wn=d.useRef("default"),Vn=X==null?void 0:X.current;Vn!=null&&Wn.current!==hr.cursor&&(Vn.style.cursor=Wn.current=hr.cursor);const Gn=d.useCallback((R,U,Q,Z)=>{if(ve===void 0)return;const q=ve(R);if(q.actions!==void 0){const oe=bc(U,q.actions);for(const[Ee,pe]of oe.entries())if(Wo(pe,Q+U.x,Z+pe.y))return q.actions[Ee]}},[ve]),gr=d.useCallback((R,U,Q,Z)=>{const q=o[U];if(!et&&!Me&&q.hasMenu===!0&&!(en??!1)){const oe=mt(R,U,-1);ln(oe!==void 0);const Ee=xc(oe.x,oe.y,oe.width,oe.height,Ks(q.title)==="rtl");if(Q>Ee.x&&Q<Ee.x+Ee.width&&Z>Ee.y&&Z<Ee.y+Ee.height)return oe}},[o,mt,en,et,Me]),Dr=d.useRef(0),pr=d.useRef(),Lt=d.useRef(!1),Ar=d.useCallback(R=>{const U=st.current,Q=X==null?void 0:X.current;if(U===null||R.target!==U&&R.target!==Q)return;Lt.current=!0;let Z,q;if(R instanceof MouseEvent?(Z=R.clientX,q=R.clientY):(Z=R.touches[0].clientX,q=R.touches[0].clientY),R.target===Q&&Q!==null){const Ee=Q.getBoundingClientRect();if(Z>Ee.right||q>Ee.bottom)return}const oe=kt(U,Z,q,R);pr.current=oe.location,oe.isTouch&&(Dr.current=Date.now()),Mn.current!==oe.isTouch&&Ft(oe.isTouch),!(oe.kind===or&&gr(U,oe.location[0],Z,q)!==void 0)&&(oe.kind===sn&&Gn(oe.group,oe.bounds,oe.localEventX,oe.localEventY)!==void 0||(_==null||_(oe),!oe.isTouch&&tt!==!0&&tt!==oe.kind&&oe.button<3&&oe.button!==1&&R.preventDefault()))},[X,tt,kt,Gn,gr,_]);Dt("touchstart",Ar,window,!1),Dt("mousedown",Ar,window,!1);const ti=d.useRef(0),ni=d.useCallback(R=>{var Je,We;const U=ti.current;ti.current=Date.now();const Q=st.current;if(Lt.current=!1,D===void 0||Q===null)return;const Z=X==null?void 0:X.current,q=R.target!==Q&&R.target!==Z;let oe,Ee,pe=!0;if(R instanceof MouseEvent){if(oe=R.clientX,Ee=R.clientY,pe=R.button<3,R.pointerType==="touch")return}else oe=R.changedTouches[0].clientX,Ee=R.changedTouches[0].clientY;let ie=kt(Q,oe,Ee,R);ie.isTouch&&Dr.current!==0&&Date.now()-Dr.current>500&&(ie={...ie,isLongTouch:!0}),U!==0&&Date.now()-U<(ie.isTouch?1e3:500)&&(ie={...ie,isDoubleClick:!0}),Mn.current!==ie.isTouch&&Ft(ie.isTouch),!q&&R.cancelable&&pe&&R.preventDefault();const[Ct]=ie.location,ye=gr(Q,Ct,oe,Ee);if(ie.kind===or&&ye!==void 0){(ie.button!==0||((Je=pr.current)==null?void 0:Je[0])!==Ct||((We=pr.current)==null?void 0:We[1])!==-1)&&D(ie,!0);return}else if(ie.kind===sn){const Ye=Gn(ie.group,ie.bounds,ie.localEventX,ie.localEventY);if(Ye!==void 0){ie.button===0&&Ye.onClick(ie);return}}D(ie,q)},[D,X,kt,gr,Gn]);Dt("mouseup",ni,window,!1),Dt("touchend",ni,window,!1);const Ko=d.useCallback(R=>{var ye,Je;const U=st.current;if(U===null)return;const Q=X==null?void 0:X.current,Z=R.target!==U&&R.target!==Q;let q,oe,Ee=!0;R instanceof MouseEvent?(q=R.clientX,oe=R.clientY,Ee=R.button<3):(q=R.changedTouches[0].clientX,oe=R.changedTouches[0].clientY);const pe=kt(U,q,oe,R);Mn.current!==pe.isTouch&&Ft(pe.isTouch),!Z&&R.cancelable&&Ee&&R.preventDefault();const[ie]=pe.location,Ct=gr(U,ie,q,oe);if(pe.kind===or&&Ct!==void 0)pe.button===0&&((ye=pr.current)==null?void 0:ye[0])===ie&&((Je=pr.current)==null?void 0:Je[1])===-1&&(w==null||w(ie,Ct));else if(pe.kind===sn){const We=Gn(pe.group,pe.bounds,pe.localEventX,pe.localEventY);We!==void 0&&pe.button===0&&We.onClick(pe)}},[X,kt,gr,w,Gn]);Dt("click",Ko,window,!1);const qo=d.useCallback(R=>{const U=st.current,Q=X==null?void 0:X.current;if(U===null||R.target!==U&&R.target!==Q||E===void 0)return;const Z=kt(U,R.clientX,R.clientY,R);E(Z,()=>{R.cancelable&&R.preventDefault()})},[X,kt,E]);Dt("contextmenu",qo,(X==null?void 0:X.current)??null,!1);const mn=d.useCallback(R=>{At.current=new Ti(R.map(U=>U.item)),pt.current=R,pn.current(),At.current=void 0},[]),Nn=d.useMemo(()=>new Z0(mn),[mn]),tn=d.useRef(Nn);tn.current=Nn,d.useLayoutEffect(()=>{const R=tn.current;if($n===void 0||$n[1]<0){R.setHovered($n);return}const U=m($n,!0),Q=ct(U);R.setHovered(Q===void 0&&U.kind===ne.Custom||(Q==null?void 0:Q.needsHover)===!0?$n:void 0)},[m,ct,$n]);const L=d.useRef(),Pt=d.useCallback(R=>{var pe;const U=st.current;if(U===null)return;const Q=X==null?void 0:X.current,Z=R.target!==U&&R.target!==Q,q=kt(U,R.clientX,R.clientY,R);if(q.kind!=="out-of-bounds"&&Z&&!Lt.current&&!q.isTouch)return;const oe=(ie,Ct)=>{Ut(ye=>ye===ie||(ye==null?void 0:ye[0][0])===(ie==null?void 0:ie[0][0])&&(ye==null?void 0:ye[0][1])===(ie==null?void 0:ie[0][1])&&((ye==null?void 0:ye[1][0])===(ie==null?void 0:ie[1][0])&&(ye==null?void 0:ye[1][1])===(ie==null?void 0:ie[1][1])||!Ct)?ye:ie)};if(!Mc(q,L.current))he==null||he(q),oe(q.kind===Po?void 0:[q.location,[q.localEventX,q.localEventY]],!0),L.current=q;else if(q.kind==="cell"||q.kind===or||q.kind===sn){let ie=!1,Ct=!0;if(q.kind==="cell"){const Je=m(q.location);Ct=((pe=ct(Je))==null?void 0:pe.needsHoverPosition)??Je.kind===ne.Custom,ie=Ct}else q.kind===sn&&(ie=!0);const ye=[q.location,[q.localEventX,q.localEventY]];oe(ye,Ct),vt.current=ye,ie&&Kn(new Ti([q.location]))}const Ee=q.location[0]>=(me?0:1);$e(q.kind===or&&q.isEdge&&Ee&&Ue===!0),Xo(q.kind==="cell"&&q.isFillHandle),z==null||z(R),ee(q)},[X,kt,me,Ue,z,ee,he,m,ct,Kn]);Dt("mousemove",Pt,window,!0);const nn=d.useCallback(R=>{const U=st.current;if(U===null)return;let Q,Z;y.current!==void 0&&(Q=mt(U,y.current.cell[0],y.current.cell[1]),Z=y.current.cell),Xe==null||Xe({bounds:Q,stopPropagation:()=>R.stopPropagation(),preventDefault:()=>R.preventDefault(),cancel:()=>{},ctrlKey:R.ctrlKey,metaKey:R.metaKey,shiftKey:R.shiftKey,altKey:R.altKey,key:R.key,keyCode:R.keyCode,rawEvent:R,location:Z})},[Xe,y,mt]),Vo=d.useCallback(R=>{const U=st.current;if(U===null)return;let Q,Z;y.current!==void 0&&(Q=mt(U,y.current.cell[0],y.current.cell[1]),Z=y.current.cell),V==null||V({bounds:Q,stopPropagation:()=>R.stopPropagation(),preventDefault:()=>R.preventDefault(),cancel:()=>{},ctrlKey:R.ctrlKey,metaKey:R.metaKey,shiftKey:R.shiftKey,altKey:R.altKey,key:R.key,keyCode:R.keyCode,rawEvent:R,location:Z})},[V,y,mt]),Ui=d.useCallback(R=>{st.current=R,re!==void 0&&(re.current=R)},[re]),Go=d.useCallback(R=>{const U=st.current;if(U===null||tt===!1||Me){R.preventDefault();return}let Q,Z;const q=kt(U,R.clientX,R.clientY);if(tt!==!0&&q.kind!==tt){R.preventDefault();return}const oe=(Je,We)=>{Q=Je,Z=We};let Ee,pe,ie;const Ct=(Je,We,Ye)=>{Ee=Je,pe=We,ie=Ye};let ye=!1;if(le==null||le({...q,setData:oe,setDragImage:Ct,preventDefault:()=>ye=!0,defaultPrevented:()=>ye}),!ye&&Q!==void 0&&Z!==void 0&&R.dataTransfer!==null)if(R.dataTransfer.setData(Q,Z),R.dataTransfer.effectAllowed="copyLink",Ee!==void 0&&pe!==void 0&&ie!==void 0)R.dataTransfer.setDragImage(Ee,pe,ie);else{const[Je,We]=q.location;if(We!==void 0){const Ye=document.createElement("canvas"),Te=mt(U,Je,We);ln(Te!==void 0);const Gt=Math.ceil(window.devicePixelRatio??1);Ye.width=Te.width*Gt,Ye.height=Te.height*Gt;const bt=Ye.getContext("2d");bt!==null&&(bt.scale(Gt,Gt),bt.textBaseline="middle",We===-1?(bt.font=Ae.headerFontFull,bt.fillStyle=Ae.bgHeader,bt.fillRect(0,0,Ye.width,Ye.height),kc(bt,0,0,Te.width,Te.height,Qe[Je],!1,Ae,!1,!1,0,Kt,Ie,!1)):(bt.font=Ae.baseFontFull,bt.fillStyle=Ae.bgCell,bt.fillRect(0,0,Ye.width,Ye.height),vc(bt,m([Je,We]),0,We,!1,!1,0,0,Te.width,Te.height,!1,Ae,Ae.bgCell,It,Kt,1,void 0,!1,0,void 0,void 0,void 0,Tr,ct,()=>{}))),Ye.style.left="-100%",Ye.style.position="absolute",Ye.style.width=`${Te.width}px`,Ye.style.height=`${Te.height}px`,document.body.append(Ye),R.dataTransfer.setDragImage(Ye,Te.width/2,Te.height/2),window.setTimeout(()=>{Ye.remove()},0)}}else R.preventDefault()},[tt,Me,kt,le,mt,Ae,Qe,Kt,Ie,m,It,Tr,ct]);Dt("dragstart",Go,(X==null?void 0:X.current)??null,!1,!1);const ri=d.useRef(),ll=d.useCallback(R=>{const U=st.current;if(Fe!==void 0&&R.preventDefault(),U===null||be===void 0)return;const Q=kt(U,R.clientX,R.clientY),[Z,q]=Q.location,oe=Z-(me?0:1),[Ee,pe]=ri.current??[];(Ee!==oe||pe!==q)&&(ri.current=[oe,q],be([oe,q],R.dataTransfer))},[me,kt,be,Fe]);Dt("dragover",ll,(X==null?void 0:X.current)??null,!1,!1);const O=d.useCallback(()=>{ri.current=void 0,He==null||He()},[He]);Dt("dragend",O,(X==null?void 0:X.current)??null,!1,!1);const Vt=d.useCallback(R=>{const U=st.current;if(U===null||Fe===void 0)return;R.preventDefault();const Q=kt(U,R.clientX,R.clientY),[Z,q]=Q.location,oe=Z-(me?0:1);Fe([oe,q],R.dataTransfer)},[me,kt,Fe]);Dt("drop",Vt,(X==null?void 0:X.current)??null,!1,!1);const Et=d.useCallback(()=>{G==null||G()},[G]);Dt("dragleave",Et,(X==null?void 0:X.current)??null,!1,!1);const Yi=d.useRef(y);Yi.current=y;const Fr=d.useRef(null),Zn=d.useCallback(R=>{var U;st.current===null||!st.current.contains(document.activeElement)||(R===null&&Yi.current.current!==void 0?(U=re==null?void 0:re.current)==null||U.focus({preventScroll:!0}):R!==null&&R.focus({preventScroll:!0}),Fr.current=R)},[re]);d.useImperativeHandle(t,()=>({focus:()=>{var U;const R=Fr.current;R===null||!document.contains(R)?(U=re==null?void 0:re.current)==null||U.focus({preventScroll:!0}):R.focus({preventScroll:!0})},getBounds:(R,U)=>{if(!(re===void 0||re.current===null))return mt(re.current,R??0,U??-1)},damage:Bi}),[re,Bi,mt]);const zt=d.useRef(),Qn=bh(()=>{var pe,ie,Ct;if(n<50||(we==null?void 0:we.disableAccessibilityTree)===!0)return null;let R=zs(Qe,rt,n,de,nt);const U=me?0:-1;!me&&((pe=R[0])==null?void 0:pe.sourceIndex)===0&&(R=R.slice(1));const[Q,Z]=((ie=y.current)==null?void 0:ie.cell)??[],q=(Ct=y.current)==null?void 0:Ct.range,oe=R.map(ye=>ye.sourceIndex),Ee=kr(l,Math.min(p,l+i));return Q!==void 0&&Z!==void 0&&!(oe.includes(Q)&&Ee.includes(Z))&&Zn(null),d.createElement("table",{key:"access-tree",role:"grid","aria-rowcount":p+1,"aria-multiselectable":"true","aria-colcount":Qe.length+U},d.createElement("thead",{role:"rowgroup"},d.createElement("tr",{role:"row","aria-rowindex":1},R.map(ye=>d.createElement("th",{role:"columnheader","aria-selected":y.columns.hasIndex(ye.sourceIndex),"aria-colindex":ye.sourceIndex+1+U,tabIndex:-1,onFocus:Je=>{if(Je.target!==Fr.current)return _e==null?void 0:_e([ye.sourceIndex,-1])},key:ye.sourceIndex},ye.title)))),d.createElement("tbody",{role:"rowgroup"},Ee.map(ye=>d.createElement("tr",{role:"row","aria-selected":y.rows.hasIndex(ye),key:ye,"aria-rowindex":ye+2},R.map(Je=>{const We=Je.sourceIndex,Ye=Sn(We,ye),Te=Q===We&&Z===ye,Gt=q!==void 0&&We>=q.x&&We<q.x+q.width&&ye>=q.y&&ye<q.y+q.height,bt=`glide-cell-${We}-${ye}`,gt=[We,ye],En=m(gt,!0);return d.createElement("td",{key:Ye,role:"gridcell","aria-colindex":We+1+U,"aria-selected":Gt,"aria-readonly":Yr(En)||!mi(En),id:bt,"data-testid":bt,onClick:()=>{const _t=re==null?void 0:re.current;if(_t!=null)return Xe==null?void 0:Xe({bounds:mt(_t,We,ye),cancel:()=>{},preventDefault:()=>{},stopPropagation:()=>{},ctrlKey:!1,key:"Enter",keyCode:13,metaKey:!1,shiftKey:!1,altKey:!1,rawEvent:void 0,location:gt})},onFocusCapture:_t=>{var qe,Zt;if(!(_t.target===Fr.current||((qe=zt.current)==null?void 0:qe[0])===We&&((Zt=zt.current)==null?void 0:Zt[1])===ye))return zt.current=gt,_e==null?void 0:_e(gt)},ref:Te?Zn:void 0,tabIndex:-1},tp(En,ct))})))))},[n,Qe,rt,de,nt,p,l,i,y,Zn,m,re,Xe,mt,_e],200),Lr=I===0||!T?0:rt>I?1:Cn(-nt/100,0,1),Zo=-l*32+Pe,zr=$?Cn(-Zo/100,0,1):0,Qo=d.useMemo(()=>{if(!Lr&&!zr)return null;const R={position:"absolute",top:0,left:qt,width:n-qt,height:r,opacity:Lr,pointerEvents:"none",transition:De?void 0:"opacity 0.2s",boxShadow:"inset 13px 0 10px -13px rgba(0, 0, 0, 0.2)"},U={position:"absolute",top:Re,left:0,width:n,height:r,opacity:zr,pointerEvents:"none",transition:ht?void 0:"opacity 0.2s",boxShadow:"inset 0 13px 10px -13px rgba(0, 0, 0, 0.2)"};return d.createElement(d.Fragment,null,Lr>0&&d.createElement("div",{id:"shadow-x",style:R}),zr>0&&d.createElement("div",{id:"shadow-y",style:U}))},[Lr,zr,qt,n,De,Re,r,ht]),Rn=d.useMemo(()=>({position:"absolute",top:0,left:0}),[]);return d.createElement(d.Fragment,null,d.createElement("canvas",{"data-testid":"data-grid-canvas",tabIndex:0,onKeyDown:nn,onKeyUp:Vo,onFocus:v,onBlur:S,ref:Ui,style:hr},Qn),d.createElement("canvas",{ref:Yt,style:Rn}),Qo)},rp=d.memo(d.forwardRef(np));function pi(e,t,n,r){return Cn(Math.round(t-(e.growOffset??0)),Math.ceil(n),Math.floor(r))}const ip=e=>{const[t,n]=d.useState(),[r,i]=d.useState(),[o,s]=d.useState(),[l,a]=d.useState(),[c,u]=d.useState(!1),[f,p]=d.useState(),[m,g]=d.useState(),[w,b]=d.useState(),[k,v]=d.useState(!1),[S,M]=d.useState(),{onHeaderMenuClick:y,getCellContent:I,onColumnMoved:E,onColumnResize:P,onColumnResizeStart:T,onColumnResizeEnd:$,gridRef:B,maxColumnWidth:_,minColumnWidth:D,onRowMoved:z,lockColumns:ee,onColumnProposeMove:he,onMouseDown:de,onMouseUp:me,onItemHovered:Xe,onDragStart:V,canvasRef:K}=e,re=(P??$??T)!==void 0,{columns:le,selection:He}=e,X=He.columns,Me=d.useCallback(ge=>{const[ce,Ie]=ge.location;o!==void 0&&l!==ce&&ce>=ee?(u(!0),a(ce)):m!==void 0&&Ie!==void 0?(v(!0),b(Math.max(0,Ie))):Xe==null||Xe(ge)},[o,m,l,Xe,ee]),ae=E!==void 0,et=d.useCallback(ge=>{var ce;if(ge.button===0){const[Ie,_e]=ge.location;if(ge.kind==="out-of-bounds"&&ge.isEdge&&re){const be=(ce=B==null?void 0:B.current)==null?void 0:ce.getBounds(le.length-1,-1);be!==void 0&&(n(be.x),i(le.length-1))}else if(ge.kind==="header"&&Ie>=ee){const be=K==null?void 0:K.current;if(ge.isEdge&&re&&be){n(ge.bounds.x),i(Ie);const G=be.getBoundingClientRect().width/be.offsetWidth,Le=ge.bounds.width/G;T==null||T(le[Ie],Le,Ie,Le+(le[Ie].growOffset??0))}else ge.kind==="header"&&ae&&(p(ge.bounds.x),s(Ie))}else ge.kind==="cell"&&ee>0&&Ie===0&&_e!==void 0&&z!==void 0&&(M(ge.bounds.y),g(_e))}de==null||de(ge)},[de,re,ee,z,B,le,ae,T,K]),tt=d.useCallback((ge,ce)=>{c||k||y==null||y(ge,ce)},[c,k,y]),Ue=d.useRef(-1),at=d.useCallback(()=>{Ue.current=-1,g(void 0),b(void 0),M(void 0),v(!1),s(void 0),a(void 0),p(void 0),u(!1),i(void 0),n(void 0)},[]),Ge=d.useCallback((ge,ce)=>{if(ge.button===0){if(r!==void 0){if((X==null?void 0:X.hasIndex(r))===!0)for(const _e of X){if(_e===r)continue;const be=le[_e],Fe=pi(be,Ue.current,D,_);P==null||P(be,Fe,_e,Fe+(be.growOffset??0))}const Ie=pi(le[r],Ue.current,D,_);if($==null||$(le[r],Ie,r,Ie+(le[r].growOffset??0)),X.hasIndex(r))for(const _e of X){if(_e===r)continue;const be=le[_e],Fe=pi(be,Ue.current,D,_);$==null||$(be,Fe,_e,Fe+(be.growOffset??0))}}at(),o!==void 0&&l!==void 0&&(E==null||E(o,l)),m!==void 0&&w!==void 0&&(z==null||z(m,w))}me==null||me(ge,ce)},[me,r,o,l,m,w,X,$,le,D,_,P,E,z,at]),ve=d.useMemo(()=>{if(!(o===void 0||l===void 0)&&o!==l&&(he==null?void 0:he(o,l))!==!1)return{src:o,dest:l}},[o,l,he]),Ae=d.useCallback(ge=>{const ce=K==null?void 0:K.current;if(o!==void 0&&f!==void 0)Math.abs(ge.clientX-f)>20&&u(!0);else if(m!==void 0&&S!==void 0)Math.abs(ge.clientY-S)>20&&v(!0);else if(r!==void 0&&t!==void 0&&ce){const _e=ce.getBoundingClientRect().width/ce.offsetWidth,be=(ge.clientX-t)/_e,Fe=le[r],G=pi(Fe,be,D,_);if(P==null||P(Fe,G,r,G+(Fe.growOffset??0)),Ue.current=be,(X==null?void 0:X.first())===r)for(const Le of X){if(Le===r)continue;const De=le[Le],ht=pi(De,Ue.current,D,_);P==null||P(De,ht,Le,ht+(De.growOffset??0))}}},[o,f,m,S,r,t,le,D,_,P,X,K]),Oe=d.useCallback((ge,ce)=>{if(m===void 0||w===void 0)return I(ge,ce);let[Ie,_e]=ge;return _e===w?_e=m:(_e>w&&(_e-=1),_e>=m&&(_e+=1)),I([Ie,_e],ce)},[m,w,I]),yt=d.useCallback(ge=>{V==null||V(ge),ge.defaultPrevented()||at()},[at,V]);return d.createElement(rp,{accessibilityHeight:e.accessibilityHeight,canvasRef:e.canvasRef,cellXOffset:e.cellXOffset,cellYOffset:e.cellYOffset,columns:e.columns,disabledRows:e.disabledRows,drawFocusRing:e.drawFocusRing,drawHeader:e.drawHeader,drawCell:e.drawCell,enableGroups:e.enableGroups,eventTargetRef:e.eventTargetRef,experimental:e.experimental,fillHandle:e.fillHandle,firstColAccessible:e.firstColAccessible,fixedShadowX:e.fixedShadowX,fixedShadowY:e.fixedShadowY,freezeColumns:e.freezeColumns,getCellRenderer:e.getCellRenderer,getGroupDetails:e.getGroupDetails,getRowThemeOverride:e.getRowThemeOverride,groupHeaderHeight:e.groupHeaderHeight,headerHeight:e.headerHeight,headerIcons:e.headerIcons,height:e.height,highlightRegions:e.highlightRegions,imageWindowLoader:e.imageWindowLoader,resizeColumn:r,isDraggable:e.isDraggable,isFilling:e.isFilling,isFocused:e.isFocused,onCanvasBlur:e.onCanvasBlur,onCanvasFocused:e.onCanvasFocused,onCellFocused:e.onCellFocused,onContextMenu:e.onContextMenu,onDragEnd:e.onDragEnd,onDragLeave:e.onDragLeave,onDragOverCell:e.onDragOverCell,onDrop:e.onDrop,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,onMouseMove:e.onMouseMove,prelightCells:e.prelightCells,rowHeight:e.rowHeight,rows:e.rows,selection:e.selection,smoothScrollX:e.smoothScrollX,smoothScrollY:e.smoothScrollY,theme:e.theme,freezeTrailingRows:e.freezeTrailingRows,hasAppendRow:e.hasAppendRow,translateX:e.translateX,translateY:e.translateY,verticalBorder:e.verticalBorder,width:e.width,getCellContent:Oe,isResizing:r!==void 0,onHeaderMenuClick:tt,isDragging:c,onItemHovered:Me,onDragStart:yt,onMouseDown:et,allowResize:re,onMouseUp:Ge,dragAndDropState:ve,onMouseMoveRaw:Ae,ref:B})};function op(e){const t=d.useRef(null),[n,r]=d.useState({width:e==null?void 0:e[0],height:e==null?void 0:e[1]});return d.useLayoutEffect(()=>{const i=s=>{for(const l of s){const{width:a,height:c}=l&&l.contentRect||{};r(u=>u.width===a&&u.height===c?u:{width:a,height:c})}},o=new window.ResizeObserver(i);return t.current&&o.observe(t.current,void 0),()=>{o.disconnect()}},[t.current]),{ref:t,...n}}const sp=(e,t,n)=>{const r=d.useRef(null),i=d.useRef(null),o=d.useRef(null),s=d.useRef(0),l=d.useRef(t);l.current=t;const a=n.current;d.useEffect(()=>{const c=()=>{var p,m;if(i.current===!1&&a!==null){const g=[a.scrollLeft,a.scrollTop];if(((p=o.current)==null?void 0:p[0])===g[0]&&((m=o.current)==null?void 0:m[1])===g[1])if(s.current>10){o.current=null,i.current=null;return}else s.current++;else s.current=0,l.current(g[0],g[1]),o.current=g;r.current=window.setTimeout(c,8.333333333333334)}},u=()=>{i.current=!0,o.current=null,r.current!==null&&(window.clearTimeout(r.current),r.current=null)},f=p=>{p.touches.length===0&&(i.current=!1,s.current=0,r.current=window.setTimeout(c,8.333333333333334))};if(e&&a!==null){const p=a;return p.addEventListener("touchstart",u),p.addEventListener("touchend",f),()=>{p.removeEventListener("touchstart",u),p.removeEventListener("touchend",f),r.current!==null&&window.clearTimeout(r.current)}}},[e,a])},lp=()=>e=>e.isSafari?"scroll":"auto",ap=un("div")({name:"ScrollRegionStyle",class:"gdg-s1dgczr6",propsAsIs:!1,vars:{"s1dgczr6-0":[lp()]}});function cp(e){const[t,n]=d.useState(!1),r=typeof window>"u"?null:window,i=d.useRef(0);return Dt("touchstart",d.useCallback(()=>{window.clearTimeout(i.current),n(!0)},[]),r,!0,!1),Dt("touchend",d.useCallback(o=>{o.touches.length===0&&(i.current=window.setTimeout(()=>n(!1),e))},[e]),r,!0,!1),t}const up=e=>{var le,He;const{children:t,clientHeight:n,scrollHeight:r,scrollWidth:i,update:o,draggable:s,className:l,preventDiagonalScrolling:a=!1,paddingBottom:c=0,paddingRight:u=0,rightElement:f,rightElementProps:p,kineticScrollPerfHack:m=!1,scrollRef:g,initialSize:w}=e,b=[],k=(p==null?void 0:p.sticky)??!1,v=(p==null?void 0:p.fill)??!1,S=d.useRef(0),M=d.useRef(0),y=d.useRef(null),I=typeof window>"u"?1:window.devicePixelRatio,E=d.useRef({scrollLeft:0,scrollTop:0,lockDirection:void 0}),P=d.useRef(null),T=cp(200),[$,B]=d.useState(!0),_=d.useRef(0);d.useLayoutEffect(()=>{if(!$||T||E.current.lockDirection===void 0)return;const X=y.current;if(X===null)return;const[Me,ae]=E.current.lockDirection;Me!==void 0?X.scrollLeft=Me:ae!==void 0&&(X.scrollTop=ae),E.current.lockDirection=void 0},[T,$]);const D=d.useCallback((X,Me)=>{var ce;const ae=y.current;if(ae===null)return;Me=Me??ae.scrollTop,X=X??ae.scrollLeft;const et=E.current.scrollTop,tt=E.current.scrollLeft,Ue=X-tt,at=Me-et;T&&Ue!==0&&at!==0&&(Math.abs(Ue)>3||Math.abs(at)>3)&&a&&E.current.lockDirection===void 0&&(E.current.lockDirection=Math.abs(Ue)<Math.abs(at)?[tt,void 0]:[void 0,et]);const Ge=E.current.lockDirection;X=(Ge==null?void 0:Ge[0])??X,Me=(Ge==null?void 0:Ge[1])??Me,E.current.scrollLeft=X,E.current.scrollTop=Me;const ve=ae.clientWidth,Ae=ae.clientHeight,Oe=Me,yt=M.current-Oe,ge=ae.scrollHeight-Ae;if(M.current=Oe,ge>0&&(Math.abs(yt)>2e3||Oe===0||Oe===ge)&&r>ae.scrollHeight+5){const Ie=Oe/ge,_e=(r-Ae)*Ie;S.current=_e-Oe}Ge!==void 0&&(window.clearTimeout(_.current),B(!1),_.current=window.setTimeout(()=>B(!0),200)),o({x:X,y:Oe+S.current,width:ve-u,height:Ae-c,paddingRight:((ce=P.current)==null?void 0:ce.clientWidth)??0})},[c,u,r,o,a,T]);sp(m&&To.value,D,y);const z=d.useRef(D);z.current=D;const ee=d.useRef(),he=d.useRef(!1);d.useLayoutEffect(()=>{he.current?D():he.current=!0},[D,c,u]);const de=d.useCallback(X=>{y.current=X,g!==void 0&&(g.current=X)},[g]);let me=0,Xe=0;for(b.push(d.createElement("div",{key:me++,style:{width:i,height:0}}));Xe<r;){const X=Math.min(5e6,r-Xe);b.push(d.createElement("div",{key:me++,style:{width:0,height:X}})),Xe+=X}const{ref:V,width:K,height:re}=op(w);return typeof window<"u"&&(((le=ee.current)==null?void 0:le.height)!==re||((He=ee.current)==null?void 0:He.width)!==K)&&(window.setTimeout(()=>z.current(),0),ee.current={width:K,height:re}),(K??0)===0||(re??0)===0?d.createElement("div",{ref:V}):d.createElement("div",{ref:V},d.createElement(ap,{isSafari:To.value},d.createElement("div",{className:"dvn-underlay"},t),d.createElement("div",{ref:de,style:ee.current,draggable:s,onDragStart:X=>{s||(X.stopPropagation(),X.preventDefault())},className:"dvn-scroller "+(l??""),onScroll:()=>D()},d.createElement("div",{className:"dvn-scroll-inner"+(f===void 0?" dvn-hidden":"")},d.createElement("div",{className:"dvn-stack"},b),f!==void 0&&d.createElement(d.Fragment,null,!v&&d.createElement("div",{className:"dvn-spacer"}),d.createElement("div",{ref:P,style:{height:re,maxHeight:n-Math.ceil(I%1),position:"sticky",top:0,paddingLeft:1,marginBottom:-40,marginRight:u,flexGrow:v?1:void 0,right:k?u??0:void 0,pointerEvents:"auto"}},f))))))},dp=e=>{const{columns:t,rows:n,rowHeight:r,headerHeight:i,groupHeaderHeight:o,enableGroups:s,freezeColumns:l,experimental:a,nonGrowWidth:c,clientSize:u,className:f,onVisibleRegionChanged:p,scrollRef:m,preventDiagonalScrolling:g,rightElement:w,rightElementProps:b,overscrollX:k,overscrollY:v,initialSize:S,smoothScrollX:M=!1,smoothScrollY:y=!1,isDraggable:I}=e,{paddingRight:E,paddingBottom:P}=a??{},[T,$]=u,B=d.useRef(),_=d.useRef(),D=d.useRef(),z=d.useRef(),ee=c+Math.max(0,k??0);let he=s?i+o:i;if(typeof r=="number")he+=n*r;else for(let V=0;V<n;V++)he+=r(V);v!==void 0&&(he+=v);const de=d.useRef(),me=d.useCallback(()=>{var at,Ge;if(de.current===void 0)return;const V={...de.current};let K=0,re=V.x<0?-V.x:0,le=0,He=0;V.x=V.x<0?0:V.x;let X=0;for(let ve=0;ve<l;ve++)X+=t[ve].width;for(const ve of t){const Ae=K-X;if(V.x>=Ae+ve.width)K+=ve.width,He++,le++;else if(V.x>Ae)K+=ve.width,M?re+=Ae-V.x:He++,le++;else if(V.x+V.width>Ae)K+=ve.width,le++;else break}let Me=0,ae=0,et=0;if(typeof r=="number")y?(ae=Math.floor(V.y/r),Me=ae*r-V.y):ae=Math.ceil(V.y/r),et=Math.ceil(V.height/r)+ae,Me<0&&et++;else{let ve=0;for(let Ae=0;Ae<n;Ae++){const Oe=r(Ae),yt=ve+(y?0:Oe/2);if(V.y>=ve+Oe)ve+=Oe,ae++,et++;else if(V.y>yt)ve+=Oe,y?Me+=yt-V.y:ae++,et++;else if(V.y+V.height>Oe/2+ve)ve+=Oe,et++;else break}}const tt={x:He,y:ae,width:le-He,height:et-ae},Ue=B.current;(Ue===void 0||Ue.y!==tt.y||Ue.x!==tt.x||Ue.height!==tt.height||Ue.width!==tt.width||_.current!==re||D.current!==Me||V.width!==((at=z.current)==null?void 0:at[0])||V.height!==((Ge=z.current)==null?void 0:Ge[1]))&&(p==null||p({x:He,y:ae,width:le-He,height:et-ae},V.width,V.height,V.paddingRight??0,re,Me),B.current=tt,_.current=re,D.current=Me,z.current=[V.width,V.height])},[t,r,n,p,l,M,y]),Xe=d.useCallback(V=>{de.current=V,me()},[me]);return d.useEffect(()=>{me()},[me]),d.createElement(up,{scrollRef:m,className:f,kineticScrollPerfHack:a==null?void 0:a.kineticScrollPerfHack,preventDiagonalScrolling:g,draggable:I===!0||typeof I=="string",scrollWidth:ee+(E??0),scrollHeight:he+(P??0),clientHeight:$,rightElement:w,paddingBottom:P,paddingRight:E,rightElementProps:b,update:Xe,initialSize:S},d.createElement(ip,{eventTargetRef:m,width:T,height:$,accessibilityHeight:e.accessibilityHeight,canvasRef:e.canvasRef,cellXOffset:e.cellXOffset,cellYOffset:e.cellYOffset,columns:e.columns,disabledRows:e.disabledRows,enableGroups:e.enableGroups,fillHandle:e.fillHandle,firstColAccessible:e.firstColAccessible,fixedShadowX:e.fixedShadowX,fixedShadowY:e.fixedShadowY,freezeColumns:e.freezeColumns,getCellContent:e.getCellContent,getCellRenderer:e.getCellRenderer,getGroupDetails:e.getGroupDetails,getRowThemeOverride:e.getRowThemeOverride,groupHeaderHeight:e.groupHeaderHeight,headerHeight:e.headerHeight,highlightRegions:e.highlightRegions,imageWindowLoader:e.imageWindowLoader,isFilling:e.isFilling,isFocused:e.isFocused,lockColumns:e.lockColumns,maxColumnWidth:e.maxColumnWidth,minColumnWidth:e.minColumnWidth,onHeaderMenuClick:e.onHeaderMenuClick,onMouseMove:e.onMouseMove,prelightCells:e.prelightCells,rowHeight:e.rowHeight,rows:e.rows,selection:e.selection,theme:e.theme,freezeTrailingRows:e.freezeTrailingRows,hasAppendRow:e.hasAppendRow,translateX:e.translateX,translateY:e.translateY,onColumnProposeMove:e.onColumnProposeMove,verticalBorder:e.verticalBorder,drawFocusRing:e.drawFocusRing,drawHeader:e.drawHeader,drawCell:e.drawCell,experimental:e.experimental,gridRef:e.gridRef,headerIcons:e.headerIcons,isDraggable:e.isDraggable,onCanvasBlur:e.onCanvasBlur,onCanvasFocused:e.onCanvasFocused,onCellFocused:e.onCellFocused,onColumnMoved:e.onColumnMoved,onColumnResize:e.onColumnResize,onColumnResizeEnd:e.onColumnResizeEnd,onColumnResizeStart:e.onColumnResizeStart,onContextMenu:e.onContextMenu,onDragEnd:e.onDragEnd,onDragLeave:e.onDragLeave,onDragOverCell:e.onDragOverCell,onDragStart:e.onDragStart,onDrop:e.onDrop,onItemHovered:e.onItemHovered,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onRowMoved:e.onRowMoved,smoothScrollX:e.smoothScrollX,smoothScrollY:e.smoothScrollY}))},fp=un("div")({name:"SearchWrapper",class:"gdg-seveqep",propsAsIs:!1}),hp=d.createElement("svg",{className:"button-icon",viewBox:"0 0 512 512"},d.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M112 244l144-144 144 144M256 120v292"})),gp=d.createElement("svg",{className:"button-icon",viewBox:"0 0 512 512"},d.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M112 268l144 144 144-144M256 392V100"})),pp=d.createElement("svg",{className:"button-icon",viewBox:"0 0 512 512"},d.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M368 368L144 144M368 144L144 368"})),mp=10,yp=e=>{const{canvasRef:t,cellYOffset:n,rows:r,columns:i,searchInputRef:o,searchValue:s,searchResults:l,onSearchValueChange:a,getCellsForSelection:c,onSearchResultsChanged:u,showSearch:f=!1,onSearchClose:p}=e,[m]=d.useState(()=>"search-box-"+Math.round(Math.random()*1e3)),[g,w]=d.useState(""),b=s??g,k=d.useCallback(K=>{w(K),a==null||a(K)},[a]),[v,S]=d.useState(),M=d.useRef(v);M.current=v,d.useEffect(()=>{l!==void 0&&(l.length>0?S(K=>({rowsSearched:r,results:l.length,selectedIndex:(K==null?void 0:K.selectedIndex)??-1})):S(void 0))},[r,l]);const y=d.useRef(new AbortController),I=d.useRef(),[E,P]=d.useState([]),T=l??E,$=d.useCallback(()=>{I.current!==void 0&&(window.cancelAnimationFrame(I.current),I.current=void 0,y.current.abort())},[]),B=d.useRef(n);B.current=n;const _=d.useCallback(K=>{const re=new RegExp(K.replace(/([$()*+.?[\\\]^{|}-])/g,"\\$1"),"i");let le=B.current,He=Math.min(10,r),X=0;S(void 0),P([]);const Me=[],ae=async()=>{var ge;if(c===void 0)return;const et=performance.now(),tt=r-X;let Ue=c({x:0,y:le,width:i.length,height:Math.min(He,tt,r-le)},y.current.signal);typeof Ue=="function"&&(Ue=await Ue());let at=!1;for(const[ce,Ie]of Ue.entries())for(const[_e,be]of Ie.entries()){let Fe;switch(be.kind){case ne.Text:case ne.Number:Fe=be.displayData;break;case ne.Uri:case ne.Markdown:Fe=be.data;break;case ne.Boolean:Fe=typeof be.data=="boolean"?be.data.toString():void 0;break;case ne.Image:case ne.Bubble:Fe=be.data.join("ð³");break;case ne.Custom:Fe=be.copyData;break}Fe!==void 0&&re.test(Fe)&&(Me.push([_e,ce+le]),at=!0)}const Ge=performance.now();at&&P([...Me]),X+=Ue.length,ln(X<=r);const ve=((ge=M.current)==null?void 0:ge.selectedIndex)??-1;S({results:Me.length,rowsSearched:X,selectedIndex:ve}),u==null||u(Me,ve),le+He>=r?le=0:le+=He;const Ae=Ge-et,Oe=Math.max(Ae,1),yt=mp/Oe;He=Math.ceil(He*yt),X<r&&Me.length<1e3&&(I.current=window.requestAnimationFrame(ae))};$(),I.current=window.requestAnimationFrame(ae)},[$,i.length,c,u,r]),D=d.useCallback(()=>{var K;p==null||p(),S(void 0),P([]),u==null||u([],-1),$(),(K=t==null?void 0:t.current)==null||K.focus()},[$,t,p,u]),z=d.useCallback(K=>{k(K.target.value),l===void 0&&(K.target.value===""?(S(void 0),P([]),$()):_(K.target.value))},[_,$,k,l]);d.useEffect(()=>{f&&o.current!==null&&(k(""),o.current.focus({preventScroll:!0}))},[f,o,k]);const ee=d.useCallback(K=>{var le;if((le=K==null?void 0:K.stopPropagation)==null||le.call(K),v===void 0)return;const re=(v.selectedIndex+1)%v.results;S({...v,selectedIndex:re}),u==null||u(T,re)},[v,u,T]),he=d.useCallback(K=>{var le;if((le=K==null?void 0:K.stopPropagation)==null||le.call(K),v===void 0)return;let re=(v.selectedIndex-1)%v.results;re<0&&(re+=v.results),S({...v,selectedIndex:re}),u==null||u(T,re)},[u,T,v]),de=d.useCallback(K=>{(K.ctrlKey||K.metaKey)&&K.nativeEvent.code==="KeyF"||K.key==="Escape"?(D(),K.stopPropagation(),K.preventDefault()):K.key==="Enter"&&(K.shiftKey?he():ee())},[D,ee,he]);d.useEffect(()=>()=>{$()},[$]);const[me,Xe]=d.useState(!1);d.useEffect(()=>{if(f)Xe(!0);else{const K=setTimeout(()=>Xe(!1),150);return()=>clearTimeout(K)}},[f]);const V=d.useMemo(()=>{if(!f&&!me)return null;let K;v!==void 0&&(K=v.results>=1e3?"over 1000":`${v.results} result${v.results!==1?"s":""}`,v.selectedIndex>=0&&(K=`${v.selectedIndex+1} of ${K}`));const re=X=>{X.stopPropagation()},He={width:`${Math.floor(((v==null?void 0:v.rowsSearched)??0)/r*100)}%`};return d.createElement(fp,{className:f?"":"out",onMouseDown:re,onMouseMove:re,onMouseUp:re,onClick:re},d.createElement("div",{className:"gdg-search-bar-inner"},d.createElement("input",{id:m,"aria-hidden":!f,"data-testid":"search-input",ref:o,onChange:z,value:b,tabIndex:f?void 0:-1,onKeyDownCapture:de}),d.createElement("button",{"aria-label":"Previous Result","aria-hidden":!f,tabIndex:f?void 0:-1,onClick:he,disabled:((v==null?void 0:v.results)??0)===0},hp),d.createElement("button",{"aria-label":"Next Result","aria-hidden":!f,tabIndex:f?void 0:-1,onClick:ee,disabled:((v==null?void 0:v.results)??0)===0},gp),p!==void 0&&d.createElement("button",{"aria-label":"Close Search","aria-hidden":!f,"data-testid":"search-close-button",tabIndex:f?void 0:-1,onClick:D},pp)),v!==void 0?d.createElement(d.Fragment,null,d.createElement("div",{className:"gdg-search-status"},d.createElement("div",{"data-testid":"search-result-area"},K)),d.createElement("div",{className:"gdg-search-progress",style:He})):d.createElement("div",{className:"gdg-search-status"},d.createElement("label",{htmlFor:m},"Type to search")))},[f,me,v,r,m,o,z,b,de,he,ee,p,D]);return d.createElement(d.Fragment,null,d.createElement(dp,{prelightCells:T,accessibilityHeight:e.accessibilityHeight,canvasRef:e.canvasRef,cellXOffset:e.cellXOffset,cellYOffset:e.cellYOffset,className:e.className,clientSize:e.clientSize,columns:e.columns,disabledRows:e.disabledRows,enableGroups:e.enableGroups,fillHandle:e.fillHandle,firstColAccessible:e.firstColAccessible,nonGrowWidth:e.nonGrowWidth,fixedShadowX:e.fixedShadowX,fixedShadowY:e.fixedShadowY,freezeColumns:e.freezeColumns,getCellContent:e.getCellContent,getCellRenderer:e.getCellRenderer,getGroupDetails:e.getGroupDetails,getRowThemeOverride:e.getRowThemeOverride,groupHeaderHeight:e.groupHeaderHeight,headerHeight:e.headerHeight,highlightRegions:e.highlightRegions,imageWindowLoader:e.imageWindowLoader,initialSize:e.initialSize,isFilling:e.isFilling,isFocused:e.isFocused,lockColumns:e.lockColumns,maxColumnWidth:e.maxColumnWidth,minColumnWidth:e.minColumnWidth,onHeaderMenuClick:e.onHeaderMenuClick,onMouseMove:e.onMouseMove,onVisibleRegionChanged:e.onVisibleRegionChanged,overscrollX:e.overscrollX,overscrollY:e.overscrollY,preventDiagonalScrolling:e.preventDiagonalScrolling,rightElement:e.rightElement,rightElementProps:e.rightElementProps,rowHeight:e.rowHeight,rows:e.rows,scrollRef:e.scrollRef,selection:e.selection,theme:e.theme,freezeTrailingRows:e.freezeTrailingRows,hasAppendRow:e.hasAppendRow,translateX:e.translateX,translateY:e.translateY,verticalBorder:e.verticalBorder,onColumnProposeMove:e.onColumnProposeMove,drawFocusRing:e.drawFocusRing,drawCell:e.drawCell,drawHeader:e.drawHeader,experimental:e.experimental,gridRef:e.gridRef,headerIcons:e.headerIcons,isDraggable:e.isDraggable,onCanvasBlur:e.onCanvasBlur,onCanvasFocused:e.onCanvasFocused,onCellFocused:e.onCellFocused,onColumnMoved:e.onColumnMoved,onColumnResize:e.onColumnResize,onColumnResizeEnd:e.onColumnResizeEnd,onColumnResizeStart:e.onColumnResizeStart,onContextMenu:e.onContextMenu,onDragEnd:e.onDragEnd,onDragLeave:e.onDragLeave,onDragOverCell:e.onDragOverCell,onDragStart:e.onDragStart,onDrop:e.onDrop,onItemHovered:e.onItemHovered,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onRowMoved:e.onRowMoved,smoothScrollX:e.smoothScrollX,smoothScrollY:e.smoothScrollY}),V)};class wp extends d.PureComponent{constructor(){super(...arguments);fe(this,"wrapperRef",d.createRef());fe(this,"clickOutside",n=>{if(!(this.props.isOutsideClick&&!this.props.isOutsideClick(n))&&this.wrapperRef.current!==null&&!this.wrapperRef.current.contains(n.target)){let r=n.target;for(;r!==null;){if(r.classList.contains("click-outside-ignore"))return;r=r.parentElement}this.props.onClickOutside()}})}componentDidMount(){document.addEventListener("touchend",this.clickOutside,!0),document.addEventListener("mousedown",this.clickOutside,!0),document.addEventListener("contextmenu",this.clickOutside,!0)}componentWillUnmount(){document.removeEventListener("touchend",this.clickOutside,!0),document.removeEventListener("mousedown",this.clickOutside,!0),document.removeEventListener("contextmenu",this.clickOutside,!0)}render(){const{onClickOutside:n,isOutsideClick:r,...i}=this.props;return d.createElement("div",{...i,ref:this.wrapperRef},this.props.children)}}const vp=()=>e=>Math.max(16,e.targetHeight-10),bp=un("input")({name:"RenameInput",class:"gdg-r17m35ur",propsAsIs:!1,vars:{"r17m35ur-0":[vp(),"px"]}}),xp=e=>{const{bounds:t,group:n,onClose:r,canvasBounds:i,onFinish:o}=e,[s,l]=Tt.useState(n);return Tt.createElement(wp,{style:{position:"absolute",left:t.x-i.left+1,top:t.y-i.top,width:t.width-2,height:t.height},className:"gdg-c1tqibwd",onClickOutside:r},Tt.createElement(bp,{targetHeight:t.height,"data-testid":"group-rename-input",value:s,onBlur:r,onFocus:a=>a.target.setSelectionRange(0,s.length),onChange:a=>l(a.target.value),onKeyDown:a=>{a.key==="Enter"?o(s):a.key==="Escape"&&r()},autoFocus:!0}))};function kp(e,t){return e===void 0?!1:e.length>1&&e.startsWith("_")?Number.parseInt(e.slice(1))===t.keyCode:e.length===1&&e>="a"&&e<="z"?e.toUpperCase().codePointAt(0)===t.keyCode:e===t.key}function Ne(e,t,n){const r=Rc(e,t);return r&&(n.didMatch=!0),r}function Rc(e,t){if(e.length===0)return!1;if(e.includes("|")){const a=e.split("|");for(const c of a)if(Rc(c,t))return!0;return!1}let n=!1,r=!1,i=!1,o=!1;const s=e.split("+"),l=s.pop();if(!kp(l,t))return!1;if(s[0]==="any")return!0;for(const a of s)switch(a){case"ctrl":n=!0;break;case"shift":r=!0;break;case"alt":i=!0;break;case"meta":o=!0;break;case"primary":Io.value?o=!0:n=!0;break}return t.altKey===i&&t.ctrlKey===n&&t.shiftKey===r&&t.metaKey===o}function Cp(e,t,n,r,i,o){const s=Tt.useCallback((c,u,f,p)=>{var v;(o==="cell"||o==="multi-cell")&&c!==void 0&&(c={...c,range:{x:c.cell[0],y:c.cell[1],width:1,height:1}});const m=n==="mixed"&&(f||p==="drag"),g=r==="mixed"&&m,w=i==="mixed"&&m;let b={current:c===void 0?void 0:{...c,rangeStack:p==="drag"?((v=e.current)==null?void 0:v.rangeStack)??[]:[]},columns:g?e.columns:Ze.empty(),rows:w?e.rows:Ze.empty()};f&&(o==="multi-rect"||o==="multi-cell")&&b.current!==void 0&&e.current!==void 0&&(b={...b,current:{...b.current,rangeStack:[...e.current.rangeStack,e.current.range]}}),t(b,u)},[r,e,n,o,i,t]),l=Tt.useCallback((c,u,f)=>{c=c??e.rows,u!==void 0&&(c=c.add(u));let p;if(i==="exclusive"&&c.length>0)p={current:void 0,columns:Ze.empty(),rows:c};else{const m=f&&n==="mixed",g=f&&r==="mixed";p={current:m?e.current:void 0,columns:g?e.columns:Ze.empty(),rows:c}}t(p,!1)},[r,e,n,i,t]),a=Tt.useCallback((c,u,f)=>{c=c??e.columns,u!==void 0&&(c=c.add(u));let p;if(r==="exclusive"&&c.length>0)p={current:void 0,rows:Ze.empty(),columns:c};else{const m=f&&n==="mixed",g=f&&i==="mixed";p={current:m?e.current:void 0,rows:g?e.rows:Ze.empty(),columns:c}}t(p,!1)},[r,e,n,i,t]);return[s,l,a]}function Sp(e,t,n,r,i){const o=d.useCallback(c=>{if(e===!0){const u=[];for(let f=c.y;f<c.y+c.height;f++){const p=[];for(let m=c.x;m<c.x+c.width;m++)m<0||f>=i?p.push({kind:ne.Loading,allowOverlay:!1}):p.push(t([m,f]));u.push(p)}return u}return(e==null?void 0:e(c,r.signal))??[]},[r.signal,t,e,i]),s=e!==void 0?o:void 0,l=d.useCallback(c=>{if(s===void 0)return[];const u={...c,x:c.x-n};if(u.x<0){u.x=0,u.width--;const f=s(u,r.signal);return typeof f=="function"?async()=>(await f()).map(p=>[{kind:ne.Loading,allowOverlay:!1},...p]):f.map(p=>[{kind:ne.Loading,allowOverlay:!1},...p])}return s(u,r.signal)},[r.signal,s,n]);return[e!==void 0?l:void 0,s]}function Mp(e){if(e.copyData!==void 0)return{formatted:e.copyData,rawValue:e.copyData,format:"string"};switch(e.kind){case ne.Boolean:return{formatted:e.data===!0?"TRUE":e.data===!1?"FALSE":e.data===Bs?"INDETERMINATE":"",rawValue:e.data,format:"boolean"};case ne.Custom:return{formatted:e.copyData,rawValue:e.copyData,format:"string"};case ne.Image:case ne.Bubble:return{formatted:e.data,rawValue:e.data,format:"string-array"};case ne.Drilldown:return{formatted:e.data.map(t=>t.text),rawValue:e.data.map(t=>t.text),format:"string-array"};case ne.Text:return{formatted:e.displayData??e.data,rawValue:e.data,format:"string"};case ne.Uri:return{formatted:e.displayData??e.data,rawValue:e.data,format:"url"};case ne.Markdown:case ne.RowID:return{formatted:e.data,rawValue:e.data,format:"string"};case ne.Number:return{formatted:e.displayData,rawValue:e.data,format:"number"};case ne.Loading:return{formatted:"#LOADING",rawValue:"",format:"string"};case ne.Protected:return{formatted:"************",rawValue:"",format:"string"};default:Pi()}}function Rp(e,t){return e.map((r,i)=>{const o=t[i];return r.map(s=>s.span!==void 0&&s.span[0]!==o?{formatted:"",rawValue:"",format:"string"}:Mp(s))})}function ra(e,t){return(t?/[\t\n",]/:/[\t\n"]/).test(e)&&(e=`"${e.replace(/"/g,'""')}"`),e}function Ep(e){var n;const t=[];for(const r of e){const i=[];for(const o of r)o.format==="url"?i.push(((n=o.rawValue)==null?void 0:n.toString())??""):o.format==="string-array"?i.push(o.formatted.map(s=>ra(s,!0)).join(",")):i.push(ra(o.formatted,!1));t.push(i.join("	"))}return t.join(`
`)}function vs(e){return e.replace(/\t/g,"    ").replace(/ {2,}/g,t=>"<span> </span>".repeat(t.length))}function ia(e){return'"'+e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")+'"'}function Tp(e){return e.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")}function Ip(e){var n;const t=[];t.push('<style type="text/css"><!--br {mso-data-placement:same-cell;}--></style>',"<table><tbody>");for(const r of e){t.push("<tr>");for(const i of r){const o=`gdg-format="${i.format}"`;i.format==="url"?t.push(`<td ${o}><a href="${i.rawValue}">${vs(i.formatted)}</a></td>`):i.format==="string-array"?t.push(`<td ${o}><ol>${i.formatted.map((s,l)=>`<li gdg-raw-value=${ia(i.rawValue[l])}>`+vs(s)+"</li>").join("")}</ol></td>`):t.push(`<td gdg-raw-value=${ia(((n=i.rawValue)==null?void 0:n.toString())??"")} ${o}>${vs(i.formatted)}</td>`)}t.push("</tr>")}return t.push("</tbody></table>"),t.join("")}function Pp(e,t){const n=Rp(e,t),r=Ep(n),i=Ip(n);return{textPlain:r,textHtml:i}}function oa(e){var s;const t=document.createElement("html");t.innerHTML=e.replace(/&nbsp;/g," ");const n=t.querySelector("table");if(n===null)return;const r=[n],i=[];let o;for(;r.length>0;){const l=r.pop();if(l===void 0)break;if(l instanceof HTMLTableElement||l.nodeName==="TBODY")r.push(...[...l.children].reverse());else if(l instanceof HTMLTableRowElement)o!==void 0&&i.push(o),o=[],r.push(...[...l.children].reverse());else if(l instanceof HTMLTableCellElement){const a=l.cloneNode(!0),u=a.children.length===1&&a.children[0].nodeName==="P"?a.children[0]:null,f=(u==null?void 0:u.children.length)===1&&u.children[0].nodeName==="FONT",p=a.querySelectorAll("br");for(const w of p)w.replaceWith(`
`);const m=a.getAttribute("gdg-raw-value"),g=a.getAttribute("gdg-format")??"string";if(a.querySelector("a")!==null)o==null||o.push({rawValue:((s=a.querySelector("a"))==null?void 0:s.getAttribute("href"))??"",formatted:a.textContent??"",format:g});else if(a.querySelector("ol")!==null){const w=a.querySelectorAll("li");o==null||o.push({rawValue:[...w].map(b=>b.getAttribute("gdg-raw-value")??""),formatted:[...w].map(b=>b.textContent??""),format:"string-array"})}else if(m!==null)o==null||o.push({rawValue:Tp(m),formatted:a.textContent??"",format:g});else{let w=a.textContent??"";f&&(w=w.replace(/\n(?!\n)/g,"")),o==null||o.push({rawValue:w??"",formatted:w??"",format:g})}}}return o!==void 0&&i.push(o),i}function _p(e,t,n,r,i){var l;const o=e;if(r==="allowPartial"||e.current===void 0||t===void 0)return e;let s=!1;do{if((e==null?void 0:e.current)===void 0)break;const a=(l=e.current)==null?void 0:l.range,c=[];if(a.width>2){const p=t({x:a.x,y:a.y,width:1,height:a.height},i.signal);if(typeof p=="function")return o;c.push(...p);const m=t({x:a.x+a.width-1,y:a.y,width:1,height:a.height},i.signal);if(typeof m=="function")return o;c.push(...m)}else{const p=t({x:a.x,y:a.y,width:a.width,height:a.height},i.signal);if(typeof p=="function")return o;c.push(...p)}let u=a.x-n,f=a.x+a.width-1-n;for(const p of c)for(const m of p)m.span!==void 0&&(u=Math.min(m.span[0],u),f=Math.max(m.span[1],f));u===a.x-n&&f===a.x+a.width-1-n?s=!0:e={current:{cell:e.current.cell??[0,0],range:{x:u+n,y:a.y,width:f-u+1,height:a.height},rangeStack:e.current.rangeStack},columns:e.columns,rows:e.rows}}while(!s);return e}function sa(e){return e.startsWith('"')&&e.endsWith('"')&&(e=e.slice(1,-1).replace(/""/g,'"')),e}function Dp(e){let t;(function(l){l[l.None=0]="None",l[l.inString=1]="inString",l[l.inStringPostQuote=2]="inStringPostQuote"})(t||(t={}));const n=[];let r=[],i=0,o=t.None;e=e.replace(/\r\n/g,`
`);let s=0;for(const l of e){switch(o){case t.None:l==="	"||l===`
`?(r.push(e.slice(i,s)),i=s+1,l===`
`&&(n.push(r),r=[])):l==='"'&&(o=t.inString);break;case t.inString:l==='"'&&(o=t.inStringPostQuote);break;case t.inStringPostQuote:l==='"'?o=t.inString:((l==="	"||l===`
`)&&(r.push(sa(e.slice(i,s))),i=s+1,l===`
`&&(n.push(r),r=[])),o=t.None);break}s++}return i<e.length&&r.push(sa(e.slice(i,e.length))),n.push(r),n.map(l=>l.map(a=>({rawValue:a,formatted:a,format:"string"})))}function la(e,t,n){var l;const r=Pp(e,t),i=a=>{var c;(c=window.navigator.clipboard)==null||c.writeText(a)},o=(a,c)=>{var u;return((u=window.navigator.clipboard)==null?void 0:u.write)===void 0?!1:(window.navigator.clipboard.write([new ClipboardItem({"text/plain":new Blob([a],{type:"text/plain"}),"text/html":new Blob([c],{type:"text/html"})})]),!0)},s=(a,c)=>{var u,f;try{if(n===void 0||n.clipboardData===null)throw new Error("No clipboard data");(u=n==null?void 0:n.clipboardData)==null||u.setData("text/plain",a),(f=n==null?void 0:n.clipboardData)==null||f.setData("text/html",c)}catch{o(a,c)||i(a)}};((l=window.navigator.clipboard)==null?void 0:l.write)!==void 0||(n==null?void 0:n.clipboardData)!==void 0?s(r.textPlain,r.textHtml):i(r.textPlain),n==null||n.preventDefault()}function Ec(e){return e!==!0}function aa(e){return typeof e=="string"?e:`${e}px`}const Ap=()=>e=>e.innerWidth,Fp=()=>e=>e.innerHeight,Lp=un("div")({name:"Wrapper",class:"gdg-wmyidgi",propsAsIs:!1,vars:{"wmyidgi-0":[Ap()],"wmyidgi-1":[Fp()]}}),zp=e=>{const{inWidth:t,inHeight:n,children:r,...i}=e;return d.createElement(Lp,{innerHeight:aa(n),innerWidth:aa(t),...i},r)},Hp=2,Op=1300;function $p(e,t,n){const r=Tt.useRef(0),[i,o]=e??[0,0];Tt.useEffect(()=>{if(i===0&&o===0){r.current=0;return}let s=!1,l=0;const a=c=>{var u;if(!s){if(l===0)l=c;else{const f=c-l;r.current=Math.min(1,r.current+f/Op);const p=r.current**1.618*f*Hp;(u=t.current)==null||u.scrollBy(i*p,o*p),l=c,n==null||n()}window.requestAnimationFrame(a)}};return window.requestAnimationFrame(a),()=>{s=!0}},[t,i,o,n])}function Wp({rowHeight:e,headerHeight:t,groupHeaderHeight:n,theme:r,overscrollX:i,overscrollY:o,scaleToRem:s,remSize:l}){const[a,c,u,f,p,m]=Tt.useMemo(()=>{if(!s||l===16)return[e,t,n,r,i,o];const g=l/16,w=e,b=pc();return[typeof w=="number"?w*g:k=>Math.ceil(w(k)*g),Math.ceil(t*g),Math.ceil(n*g),{...r,headerIconSize:((r==null?void 0:r.headerIconSize)??b.headerIconSize)*g,cellHorizontalPadding:((r==null?void 0:r.cellHorizontalPadding)??b.cellHorizontalPadding)*g,cellVerticalPadding:((r==null?void 0:r.cellVerticalPadding)??b.cellVerticalPadding)*g},Math.ceil((i??0)*g),Math.ceil((o??0)*g)]},[n,t,i,o,l,e,s,r]);return{rowHeight:a,headerHeight:c,groupHeaderHeight:u,theme:f,overscrollX:p,overscrollY:m}}const ir={downFill:!1,rightFill:!1,clear:!0,closeOverlay:!0,acceptOverlayDown:!0,acceptOverlayUp:!0,acceptOverlayLeft:!0,acceptOverlayRight:!0,copy:!0,paste:!0,cut:!0,search:!1,delete:!0,activateCell:!0,scrollToSelectedCell:!0,goToFirstCell:!0,goToFirstColumn:!0,goToFirstRow:!0,goToLastCell:!0,goToLastColumn:!0,goToLastRow:!0,goToNextPage:!0,goToPreviousPage:!0,selectToFirstCell:!0,selectToFirstColumn:!0,selectToFirstRow:!0,selectToLastCell:!0,selectToLastColumn:!0,selectToLastRow:!0,selectAll:!0,selectRow:!0,selectColumn:!0,goUpCell:!0,goRightCell:!0,goDownCell:!0,goLeftCell:!0,goUpCellRetainSelection:!0,goRightCellRetainSelection:!0,goDownCellRetainSelection:!0,goLeftCellRetainSelection:!0,selectGrowUp:!0,selectGrowRight:!0,selectGrowDown:!0,selectGrowLeft:!0};function Be(e,t){return e===!0?t:e===!1?"":e}function ca(e){const t=Io.value;return{activateCell:Be(e.activateCell," |Enter|shift+Enter"),clear:Be(e.clear,"any+Escape"),closeOverlay:Be(e.closeOverlay,"any+Escape"),acceptOverlayDown:Be(e.acceptOverlayDown,"Enter"),acceptOverlayUp:Be(e.acceptOverlayUp,"shift+Enter"),acceptOverlayLeft:Be(e.acceptOverlayLeft,"shift+Tab"),acceptOverlayRight:Be(e.acceptOverlayRight,"Tab"),copy:e.copy,cut:e.cut,delete:Be(e.delete,t?"Backspace|Delete":"Delete"),downFill:Be(e.downFill,"primary+_68"),scrollToSelectedCell:Be(e.scrollToSelectedCell,"primary+Enter"),goDownCell:Be(e.goDownCell,"ArrowDown"),goDownCellRetainSelection:Be(e.goDownCellRetainSelection,"alt+ArrowDown"),goLeftCell:Be(e.goLeftCell,"ArrowLeft|shift+Tab"),goLeftCellRetainSelection:Be(e.goLeftCellRetainSelection,"alt+ArrowLeft"),goRightCell:Be(e.goRightCell,"ArrowRight|Tab"),goRightCellRetainSelection:Be(e.goRightCellRetainSelection,"alt+ArrowRight"),goUpCell:Be(e.goUpCell,"ArrowUp"),goUpCellRetainSelection:Be(e.goUpCellRetainSelection,"alt+ArrowUp"),goToFirstCell:Be(e.goToFirstCell,"primary+Home"),goToFirstColumn:Be(e.goToFirstColumn,"Home|primary+ArrowLeft"),goToFirstRow:Be(e.goToFirstRow,"primary+ArrowUp"),goToLastCell:Be(e.goToLastCell,"primary+End"),goToLastColumn:Be(e.goToLastColumn,"End|primary+ArrowRight"),goToLastRow:Be(e.goToLastRow,"primary+ArrowDown"),goToNextPage:Be(e.goToNextPage,"PageDown"),goToPreviousPage:Be(e.goToPreviousPage,"PageUp"),paste:e.paste,rightFill:Be(e.rightFill,"primary+_82"),search:Be(e.search,"primary+f"),selectAll:Be(e.selectAll,"primary+a"),selectColumn:Be(e.selectColumn,"ctrl+ "),selectGrowDown:Be(e.selectGrowDown,"shift+ArrowDown"),selectGrowLeft:Be(e.selectGrowLeft,"shift+ArrowLeft"),selectGrowRight:Be(e.selectGrowRight,"shift+ArrowRight"),selectGrowUp:Be(e.selectGrowUp,"shift+ArrowUp"),selectRow:Be(e.selectRow,"shift+ "),selectToFirstCell:Be(e.selectToFirstCell,"primary+shift+Home"),selectToFirstColumn:Be(e.selectToFirstColumn,"primary+shift+ArrowLeft"),selectToFirstRow:Be(e.selectToFirstRow,"primary+shift+ArrowUp"),selectToLastCell:Be(e.selectToLastCell,"primary+shift+End"),selectToLastColumn:Be(e.selectToLastColumn,"primary+shift+ArrowRight"),selectToLastRow:Be(e.selectToLastRow,"primary+shift+ArrowDown")}}function Np(e){const t=Mh(e);return Tt.useMemo(()=>{if(t===void 0)return ca(ir);const n={...t,goToNextPage:(t==null?void 0:t.goToNextPage)??(t==null?void 0:t.pageDown)??ir.goToNextPage,goToPreviousPage:(t==null?void 0:t.goToPreviousPage)??(t==null?void 0:t.pageUp)??ir.goToPreviousPage,goToFirstCell:(t==null?void 0:t.goToFirstCell)??(t==null?void 0:t.first)??ir.goToFirstCell,goToLastCell:(t==null?void 0:t.goToLastCell)??(t==null?void 0:t.last)??ir.goToLastCell,selectToFirstCell:(t==null?void 0:t.selectToFirstCell)??(t==null?void 0:t.first)??ir.selectToFirstCell,selectToLastCell:(t==null?void 0:t.selectToLastCell)??(t==null?void 0:t.last)??ir.selectToLastCell};return ca({...ir,...n})},[t])}const Bp=d.lazy(async()=>await ya(()=>import("./cmhf56szohyvf2h8.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9])));let jp=0;function Xp(e){return Bg(Vl(Vl(e).filter(t=>t.span!==void 0).map(t=>{var n,r;return kr((((n=t.span)==null?void 0:n[0])??0)+1,(((r=t.span)==null?void 0:r[1])??0)+1)})))}function po(e,t){return e===void 0||t===0||e.columns.length===0&&e.current===void 0?e:{current:e.current===void 0?void 0:{cell:[e.current.cell[0]+t,e.current.cell[1]],range:{...e.current.range,x:e.current.range.x+t},rangeStack:e.current.rangeStack.map(n=>({...n,x:n.x+t}))},rows:e.rows,columns:e.columns.offset(t)}}const bs={kind:ne.Loading,allowOverlay:!1},mo={columns:Ze.empty(),rows:Ze.empty(),current:void 0},Up=(e,t)=>{var xl,kl;const[n,r]=d.useState(mo),[i,o]=d.useState(),s=d.useRef(null),l=d.useRef(null),[a,c]=d.useState(),u=d.useRef(null),f=d.useRef(),p=typeof window>"u"?null:window,{rowMarkers:m="none",rowMarkerWidth:g,imageEditorOverride:w,getRowThemeOverride:b,markdownDivCreateNode:k,width:v,height:S,columns:M,rows:y,getCellContent:I,onCellClicked:E,onCellActivated:P,onFillPattern:T,onFinishedEditing:$,coercePasteValue:B,drawHeader:_,drawCell:D,onHeaderClicked:z,onColumnProposeMove:ee,spanRangeBehavior:he="default",onGroupHeaderClicked:de,onCellContextMenu:me,className:Xe,onHeaderContextMenu:V,getCellsForSelection:K,onGroupHeaderContextMenu:re,onGroupHeaderRenamed:le,onCellEdited:He,onCellsEdited:X,onSearchResultsChanged:Me,searchResults:ae,onSearchValueChange:et,searchValue:tt,onKeyDown:Ue,onKeyUp:at,keybindings:Ge,onRowAppended:ve,onColumnMoved:Ae,validateCell:Oe,highlightRegions:yt,rangeSelect:ge="rect",columnSelect:ce="multi",rowSelect:Ie="multi",rangeSelectionBlending:_e="exclusive",columnSelectionBlending:be="exclusive",rowSelectionBlending:Fe="exclusive",onDelete:G,onDragStart:Le,onMouseMove:De,onPaste:ht,copyHeaders:we=!1,freezeColumns:ct=0,cellActivationBehavior:nt="second-click",rowSelectionMode:Pe="auto",rowMarkerStartIndex:rt=1,rowMarkerTheme:st,onHeaderMenuClick:It,getGroupDetails:At,onSearchClose:Wt,onItemHovered:Xt,onSelectionCleared:pt,showSearch:zn,onVisibleRegionChanged:xt,gridSelection:Ut,onGridSelectionChange:en,minColumnWidth:$e=50,maxColumnWidth:Yt=500,maxColumnAutoWidth:Hn,provideEditor:gn,trailingRowOptions:ze,freezeTrailingRows:Ft=0,allowedFillDirections:Mn="orthogonal",scrollOffsetX:Kt,scrollOffsetY:Re,verticalBorder:ut,onDragOverCell:wt,onDrop:On,onColumnResize:Qe,onColumnResizeEnd:qt,onColumnResizeStart:mt,customRenderers:kt,fillHandle:$n,drawFocusRing:$i,experimental:vt,fixedShadowX:ur,fixedShadowY:dr,headerIcons:Tr,imageWindowLoader:Wi,initialSize:Ni,isDraggable:Ir,onDragLeave:Pr,onRowMoved:pn,overscrollX:Kn,overscrollY:Bo,preventDiagonalScrolling:Bi,rightElement:jo,rightElementProps:Xo,trapFocus:fr=!1,smoothScrollX:qn,smoothScrollY:Uo,scaleToRem:Yo=!1,rowHeight:ji=34,headerHeight:ei=36,groupHeaderHeight:_r=ei,theme:sl,isOutsideClick:Xi,renderers:hr}=e,Wn=Math.max($e,20),Vn=Math.max(Yt,Wn),Gn=Math.max(Hn??Vn,Wn),Dr=d.useMemo(()=>typeof window>"u"?{fontSize:"16px"}:window.getComputedStyle(document.documentElement),[]).fontSize,pr=d.useMemo(()=>Number.parseFloat(Dr),[Dr]),{rowHeight:Lt,headerHeight:Ar,groupHeaderHeight:ti,theme:ni,overscrollX:Ko,overscrollY:qo}=Wp({groupHeaderHeight:_r,headerHeight:ei,overscrollX:Kn,overscrollY:Bo,remSize:pr,rowHeight:ji,scaleToRem:Yo,theme:sl}),mn=Np(Ge),Nn=g??(y>1e4?48:y>1e3?44:y>100?36:32),tn=m!=="none",L=tn?1:0,Pt=ve!==void 0,nn=(ze==null?void 0:ze.sticky)===!0,[Vo,Ui]=d.useState(!1),Go=zn??Vo,ri=d.useCallback(()=>{Wt!==void 0?Wt():Ui(!1)},[Wt]),O=d.useMemo(()=>Ut===void 0?void 0:po(Ut,L),[Ut,L])??n,Vt=d.useRef(new AbortController);d.useEffect(()=>()=>{Vt==null||Vt.current.abort()},[]);const[Et,Yi]=Sp(K,I,L,Vt.current,y),Fr=d.useCallback((h,C,x)=>{if(Oe===void 0)return!0;const A=[h[0]-L,h[1]];return Oe==null?void 0:Oe(A,C,x)},[L,Oe]),Zn=d.useRef(Ut),zt=d.useCallback((h,C)=>{C&&(h=_p(h,Et,L,he,Vt.current)),en!==void 0?(Zn.current=po(h,-L),en(Zn.current)):r(h)},[en,Et,L,he]),Qn=Br(Qe,d.useCallback((h,C,x,A)=>{Qe==null||Qe(M[x-L],C,x-L,A)},[Qe,L,M])),Lr=Br(qt,d.useCallback((h,C,x,A)=>{qt==null||qt(M[x-L],C,x-L,A)},[qt,L,M])),Zo=Br(mt,d.useCallback((h,C,x,A)=>{mt==null||mt(M[x-L],C,x-L,A)},[mt,L,M])),zr=Br(_,d.useCallback((h,C)=>(_==null?void 0:_({...h,columnIndex:h.columnIndex-L},C))??!1,[_,L])),Qo=Br(D,d.useCallback((h,C)=>(D==null?void 0:D({...h,col:h.col-L},C))??!1,[D,L])),Rn=d.useCallback(h=>{if(G!==void 0){const C=G(po(h,-L));return typeof C=="boolean"?C:po(C,L)}return!0},[G,L]),[R,U,Q]=Cp(O,zt,_e,be,Fe,ge),Z=d.useMemo(()=>lr(pc(),ni),[ni]),[q,oe]=d.useState([0,0,0]),Ee=d.useMemo(()=>{if(hr===void 0)return{};const h={};for(const C of hr)h[C.kind]=C;return h},[hr]),pe=d.useCallback(h=>h.kind!==ne.Custom?Ee[h.kind]:kt==null?void 0:kt.find(C=>C.isMatch(h)),[kt,Ee]);let{sizedColumns:ie,nonGrowWidth:Ct}=Og(M,y,Yi,q[0]-(L===0?0:Nn)-q[2],Wn,Gn,Z,pe,Vt.current);m!=="none"&&(Ct+=Nn);const ye=d.useMemo(()=>ie.some(h=>h.group!==void 0),[ie]),Je=ye?Ar+ti:Ar,We=O.rows.length,Ye=m==="none"?"":We===0?Oa:We===y?Ha:yf,Te=d.useMemo(()=>m==="none"?ie:[{title:Ye,width:Nn,icon:void 0,hasMenu:!1,style:"normal",themeOverride:st},...ie],[ie,Nn,m,Ye,st]),[Gt,bt]=d.useMemo(()=>[Re!==void 0&&typeof Lt=="number"?Math.floor(Re/Lt):0,Re!==void 0&&typeof Lt=="number"?-(Re%Lt):0],[Re,Lt]),gt=d.useRef({height:1,width:1,x:0,y:0}),En=d.useMemo(()=>({x:gt.current.x,y:Gt,width:gt.current.width??1,height:gt.current.height??1,ty:bt}),[bt,Gt]),_t=d.useRef(!1),[qe,Zt,Nt]=Sh(En);gt.current=qe;const Jn=(qe.height??1)>1;d.useLayoutEffect(()=>{if(Re!==void 0&&u.current!==null&&Jn){if(u.current.scrollTop===Re)return;u.current.scrollTop=Re,u.current.scrollTop!==Re&&Nt(),_t.current=!0}},[Re,Jn,Nt]);const yn=(qe.width??1)>1;d.useLayoutEffect(()=>{if(Kt!==void 0&&u.current!==null&&yn){if(u.current.scrollLeft===Kt)return;u.current.scrollLeft=Kt,u.current.scrollLeft!==Kt&&Nt(),_t.current=!0}},[Kt,yn,Nt]);const ii=qe.x+L,Tn=qe.y,Qt=d.useRef(null),Bt=d.useCallback(h=>{var C;h===!0?(C=Qt.current)==null||C.focus():window.requestAnimationFrame(()=>{var x;(x=Qt.current)==null||x.focus()})},[]),Ht=Pt?y+1:y,dn=d.useCallback(h=>{const C=L===0?h:h.map(A=>({...A,location:[A.location[0]-L,A.location[1]]})),x=X==null?void 0:X(C);if(x!==!0)for(const A of C)He==null||He(A.location,A.value);return x},[He,X,L]),[mr,Jo]=d.useState(),Ki=O.current!==void 0&&O.current.range.width*O.current.range.height>1?O.current.range:void 0,Ic=d.useMemo(()=>{if((yt===void 0||yt.length===0)&&Ki===void 0&&mr===void 0)return;const h=[];if(yt!==void 0)for(const C of yt){const x=Te.length-C.range.x-L;x>0&&h.push({color:C.color,range:{...C.range,x:C.range.x+L,width:Math.min(x,C.range.width)},style:C.style})}return mr!==void 0&&h.push({color:Gr(Z.accentColor,0),range:mr,style:"dashed"}),Ki!==void 0&&h.push({color:Gr(Z.accentColor,.5),range:Ki,style:"solid-outline"}),h.length>0?h:void 0},[mr,Ki,yt,Te.length,Z.accentColor,L]),al=d.useRef(Te);al.current=Te;const rn=d.useCallback(([h,C],x=!1)=>{var N,H,W,Y,j,te,se;const A=Pt&&C===Ht-1;if(h===0&&tn)return A?bs:{kind:hn.Marker,allowOverlay:!1,checked:(O==null?void 0:O.rows.hasIndex(C))===!0,markerKind:m==="clickable-number"?"number":m,row:rt+C,drawHandle:pn!==void 0,cursor:m==="clickable-number"?"pointer":void 0};if(A){const ke=h===L?(ze==null?void 0:ze.hint)??"":"",Ce=al.current[h];if(((N=Ce==null?void 0:Ce.trailingRowOptions)==null?void 0:N.disabled)===!0)return bs;{const Ve=((H=Ce==null?void 0:Ce.trailingRowOptions)==null?void 0:H.hint)??ke,Se=((W=Ce==null?void 0:Ce.trailingRowOptions)==null?void 0:W.addIcon)??(ze==null?void 0:ze.addIcon);return{kind:hn.NewRow,hint:Ve,allowOverlay:!1,icon:Se}}}else{const J=h-L;if(x||(vt==null?void 0:vt.strict)===!0){const Ce=gt.current,Ve=Ce.x>J||J>Ce.x+Ce.width||Ce.y>C||C>Ce.y+Ce.height||C>=ts.current,Se=J===((j=(Y=Ce.extras)==null?void 0:Y.selected)==null?void 0:j[0])&&C===((te=Ce.extras)==null?void 0:te.selected[1]);let xe=!1;if(((se=Ce.extras)==null?void 0:se.freezeRegions)!==void 0){for(const dt of Ce.extras.freezeRegions)if(Wo(dt,J,C)){xe=!0;break}}if(Ve&&!Se&&!xe)return bs}let ke=I([J,C]);return L!==0&&ke.span!==void 0&&(ke={...ke,span:[ke.span[0]+L,ke.span[1]+L]}),ke}},[Pt,Ht,tn,O==null?void 0:O.rows,pn,m,L,ze==null?void 0:ze.hint,ze==null?void 0:ze.addIcon,vt==null?void 0:vt.strict,I,rt]),es=d.useCallback(h=>{let C=(At==null?void 0:At(h))??{name:h};return le!==void 0&&h!==""&&(C={icon:C.icon,name:C.name,overrideTheme:C.overrideTheme,actions:[...C.actions??[],{title:"Rename",icon:"renameIcon",onClick:x=>rs({group:C.name,bounds:x.bounds})}]}),C},[At,le]),qi=d.useCallback(h=>{var W;const[C,x]=h.cell,A=Te[C],F=(A==null?void 0:A.group)!==void 0?(W=es(A.group))==null?void 0:W.overrideTheme:void 0,N=A==null?void 0:A.themeOverride,H=b==null?void 0:b(x);o({...h,theme:lr(Z,F,N,H,h.content.themeOverride)})},[b,Te,es,Z]),Hr=d.useCallback((h,C,x)=>{var H;if(O.current===void 0)return;const[A,F]=O.current.cell,N=rn([A,F]);if(N.kind!==ne.Boolean&&N.allowOverlay){let W=N;if(x!==void 0)switch(W.kind){case ne.Number:{const Y=lf(()=>x==="-"?-0:Number.parseFloat(x),0);W={...W,data:Number.isNaN(Y)?0:Y};break}case ne.Text:case ne.Markdown:case ne.Uri:W={...W,data:x};break}qi({target:h,content:W,initialValue:x,cell:[A,F],highlight:x===void 0,forceEditMode:x!==void 0})}else N.kind===ne.Boolean&&C&&N.readonly!==!0&&(dn([{location:O.current.cell,value:{...N,data:Ec(N.data)}}]),(H=Qt.current)==null||H.damage([{cell:O.current.cell}]))},[rn,O,dn,qi]),cl=d.useCallback((h,C)=>{var F;const x=(F=Qt.current)==null?void 0:F.getBounds(h,C);if(x===void 0||u.current===null)return;const A=rn([h,C]);A.allowOverlay&&qi({target:x,content:A,initialValue:void 0,highlight:!0,cell:[h,C],forceEditMode:!0})},[rn,qi]),St=d.useCallback((h,C,x="both",A=0,F=0,N=void 0)=>{if(u.current!==null){const H=Qt.current,W=l.current,Y=typeof h!="number"?h.unit==="cell"?h.amount:void 0:h,j=typeof C!="number"?C.unit==="cell"?C.amount:void 0:C,te=typeof h!="number"&&h.unit==="px"?h.amount:void 0,se=typeof C!="number"&&C.unit==="px"?C.amount:void 0;if(H!==null&&W!==null){let J={x:0,y:0,width:0,height:0},ke=0,Ce=0;if((Y!==void 0||j!==void 0)&&(J=H.getBounds((Y??0)+L,j??0)??J,J.width===0||J.height===0))return;const Ve=W.getBoundingClientRect(),Se=Ve.width/W.offsetWidth;if(te!==void 0&&(J={...J,x:te-Ve.left-u.current.scrollLeft,width:1}),se!==void 0&&(J={...J,y:se+Ve.top-u.current.scrollTop,height:1}),J!==void 0){const xe={x:J.x-A,y:J.y-F,width:J.width+2*A,height:J.height+2*F};let dt=0;for(let cs=0;cs<ct;cs++)dt+=ie[cs].width;let Ot=0;const Mt=Ft+(nn?1:0);Mt>0&&(Ot=Jr(Ht,Mt,Lt));let vn=dt*Se+Ve.left+L*Nn*Se,Pn=Ve.right,bn=Ve.top+Je*Se,_n=Ve.bottom-Ot*Se;const eo=J.width+A*2;switch(N==null?void 0:N.hAlign){case"start":Pn=vn+eo;break;case"end":vn=Pn-eo;break;case"center":vn=Math.floor((vn+Pn)/2)-eo/2,Pn=vn+eo;break}const to=J.height+F*2;switch(N==null?void 0:N.vAlign){case"start":_n=bn+to;break;case"end":bn=_n-to;break;case"center":bn=Math.floor((bn+_n)/2)-to/2,_n=bn+to;break}vn>xe.x?ke=xe.x-vn:Pn<xe.x+xe.width&&(ke=xe.x+xe.width-Pn),bn>xe.y?Ce=xe.y-bn:_n<xe.y+xe.height&&(Ce=xe.y+xe.height-_n),x==="vertical"||typeof h=="number"&&h<ct?ke=0:(x==="horizontal"||typeof C=="number"&&C>=Ht-Mt)&&(Ce=0),(ke!==0||Ce!==0)&&(Se!==1&&(ke/=Se,Ce/=Se),u.current.scrollTo(ke+u.current.scrollLeft,Ce+u.current.scrollTop))}}}},[L,Ft,Nn,Je,ct,ie,Ht,nn,Lt]),ul=d.useRef(cl),dl=d.useRef(I),ts=d.useRef(y);ul.current=cl,dl.current=I,ts.current=y;const Or=d.useCallback(async(h,C=!0)=>{var Y;const x=Te[h];if(((Y=x==null?void 0:x.trailingRowOptions)==null?void 0:Y.disabled)===!0)return;const A=ve==null?void 0:ve();let F,N=!0;A!==void 0&&(F=await A,F==="top"&&(N=!1),typeof F=="number"&&(N=!1));let H=0;const W=()=>{if(ts.current<=y){H<500&&window.setTimeout(W,H),H=50+H*2;return}const j=typeof F=="number"?F:N?y:0;Ji.current(h-L,j),R({cell:[h,j],range:{x:h,y:j,width:1,height:1}},!1,!1,"edit");const te=dl.current([h-L,j]);te.allowOverlay&&mi(te)&&te.readonly!==!0&&C&&window.setTimeout(()=>{ul.current(h,j)},0)};W()},[Te,ve,L,y,R]),Vi=d.useCallback(h=>{var x,A;const C=((A=(x=ie[h])==null?void 0:x.trailingRowOptions)==null?void 0:A.targetColumn)??(ze==null?void 0:ze.targetColumn);if(typeof C=="number")return C+(tn?1:0);if(typeof C=="object"){const F=M.indexOf(C);if(F>=0)return F+(tn?1:0)}},[ie,M,tn,ze==null?void 0:ze.targetColumn]),er=d.useRef(),$r=d.useRef(),oi=d.useCallback((h,C)=>{var F;const[x,A]=C;return lr(Z,(F=Te[x])==null?void 0:F.themeOverride,b==null?void 0:b(A),h.themeOverride)},[b,Te,Z]),si=d.useCallback(h=>{var te,se,J;const C=Io.value?h.metaKey:h.ctrlKey,x=C&&Ie==="multi",A=C&&ce==="multi",[F,N]=h.location,H=O.columns,W=O.rows,[Y,j]=((te=O.current)==null?void 0:te.cell)??[];if(h.kind==="cell"){if($r.current=void 0,yr.current=[F,N],F===0&&tn){if(Pt===!0&&N===y||m==="number"||Ie==="none")return;const ke=rn(h.location);if(ke.kind!==hn.Marker)return;if(pn!==void 0){const Se=pe(ke);ln((Se==null?void 0:Se.kind)===hn.Marker);const xe=(se=Se==null?void 0:Se.onClick)==null?void 0:se.call(Se,{...h,cell:ke,posX:h.localEventX,posY:h.localEventY,bounds:h.bounds,theme:oi(ke,h.location),preventDefault:()=>{}});if(xe===void 0||xe.checked===ke.checked)return}o(void 0),Bt();const Ce=W.hasIndex(N),Ve=er.current;if(Ie==="multi"&&(h.shiftKey||h.isLongTouch===!0)&&Ve!==void 0&&W.hasIndex(Ve)){const Se=[Math.min(Ve,N),Math.max(Ve,N)+1];x||Pe==="multi"?U(void 0,Se,!0):U(Ze.fromSingleSelection(Se),void 0,x)}else x||h.isTouch||Pe==="multi"?Ce?U(W.remove(N),void 0,!0):(U(void 0,N,!0),er.current=N):Ce&&W.length===1?U(Ze.empty(),void 0,C):(U(Ze.fromSingleSelection(N),void 0,C),er.current=N)}else if(F>=L&&Pt&&N===y){const ke=Vi(F);Or(ke??F)}else if(Y!==F||j!==N){const ke=rn(h.location),Ce=pe(ke);if((Ce==null?void 0:Ce.onSelect)!==void 0){let xe=!1;if(Ce.onSelect({...h,cell:ke,posX:h.localEventX,posY:h.localEventY,bounds:h.bounds,preventDefault:()=>xe=!0,theme:oi(ke,h.location)}),xe)return}const Ve=nn&&N===y,Se=nn&&O!==void 0&&((J=O.current)==null?void 0:J.cell[1])===y;if((h.shiftKey||h.isLongTouch===!0)&&Y!==void 0&&j!==void 0&&O.current!==void 0&&!Se){if(Ve)return;const xe=Math.min(F,Y),dt=Math.max(F,Y),Ot=Math.min(N,j),Mt=Math.max(N,j);R({...O.current,range:{x:xe,y:Ot,width:dt-xe+1,height:Mt-Ot+1}},!0,C,"click"),er.current=void 0,Bt()}else R({cell:[F,N],range:{x:F,y:N,width:1,height:1}},!0,C,"click"),er.current=void 0,o(void 0),Bt()}}else if(h.kind==="header")if(yr.current=[F,N],o(void 0),tn&&F===0)er.current=void 0,$r.current=void 0,Ie==="multi"&&(W.length!==y?U(Ze.fromSingleSelection([0,y]),void 0,C):U(Ze.empty(),void 0,C),Bt());else{const ke=$r.current;if(ce==="multi"&&(h.shiftKey||h.isLongTouch===!0)&&ke!==void 0&&H.hasIndex(ke)){const Ce=[Math.min(ke,F),Math.max(ke,F)+1];A?Q(void 0,Ce,C):Q(Ze.fromSingleSelection(Ce),void 0,C)}else A?(H.hasIndex(F)?Q(H.remove(F),void 0,C):Q(void 0,F,C),$r.current=F):ce!=="none"&&(Q(Ze.fromSingleSelection(F),void 0,C),$r.current=F);er.current=void 0,Bt()}else h.kind===sn?yr.current=[F,N]:h.kind===Po&&!h.isMaybeScrollbar&&(zt(mo,!1),o(void 0),Bt(),pt==null||pt(),er.current=void 0,$r.current=void 0)},[Or,ce,Bt,pe,Vi,rn,O,tn,nn,pt,pn,L,m,Ie,Pe,y,R,zt,Q,U,Pt,oi]),li=d.useRef(!1),yr=d.useRef(),fl=d.useRef(qe),fn=d.useRef(),Pc=d.useCallback(h=>{if(Wr.current=!1,fl.current=gt.current,h.button!==0&&h.button!==1){fn.current=void 0;return}const C=performance.now();fn.current={button:h.button,time:C,location:h.location},(h==null?void 0:h.kind)==="header"&&(li.current=!0);const x=h.kind==="cell"&&h.isFillHandle;!x&&h.kind!=="cell"&&h.isEdge||(c({previousSelection:O,fillHandle:x}),yr.current=void 0,!h.isTouch&&h.button===0&&!x?si(h):!h.isTouch&&h.button===1&&(yr.current=h.location))},[O,si]),[ns,rs]=d.useState(),hl=d.useCallback(h=>{if(h.kind!==sn||ce!=="multi")return;const C=Io.value?h.metaKey:h.ctrlKey,[x]=h.location,A=O.columns;if(x<L)return;const F=Te[x];let N=x,H=x;for(let W=x-1;W>=L&&_i(F.group,Te[W].group);W--)N--;for(let W=x+1;W<Te.length&&_i(F.group,Te[W].group);W++)H++;if(Bt(),C)if(A.hasAll([N,H+1])){let W=A;for(let Y=N;Y<=H;Y++)W=W.remove(Y);Q(W,void 0,C)}else Q(void 0,[N,H+1],C);else Q(Ze.fromSingleSelection([N,H+1]),void 0,C)},[ce,Bt,O.columns,Te,L,Q]),Wr=d.useRef(!1),Gi=d.useCallback(async h=>{if(Et!==void 0&&Qn!==void 0){const C=gt.current.y,x=gt.current.height;let A=Et({x:h,y:C,width:1,height:Math.min(x,y-C)},Vt.current.signal);typeof A!="object"&&(A=await A());const F=ie[h-L],H=document.createElement("canvas").getContext("2d",{alpha:!1});if(H!==null){H.font=Z.baseFontFull;const W=mc(H,Z,F,0,A,Wn,Vn,!1,pe);Qn==null||Qn(F,W.width,h,W.width)}}},[ie,Et,Vn,Z,Wn,Qn,L,y,pe]),[_c,is]=d.useState(),Nr=d.useCallback(async(h,C)=>{var W,Y;const x=(W=h.current)==null?void 0:W.range;if(x===void 0||Et===void 0||C.current===void 0)return;const A=C.current.range;if(T!==void 0){let j=!1;if(T({fillDestination:{...A,x:A.x-L},patternSource:{...x,x:x.x-L},preventDefault:()=>j=!0}),j)return}let F=Et(x,Vt.current.signal);typeof F!="object"&&(F=await F());const N=F,H=[];for(let j=0;j<A.width;j++)for(let te=0;te<A.height;te++){const se=[A.x+j,A.y+te];if(sc(se,x))continue;const J=N[te%x.height][j%x.width];Yr(J)||!mi(J)||H.push({location:se,value:{...J}})}dn(H),(Y=Qt.current)==null||Y.damage(H.map(j=>({cell:j.location})))},[Et,dn,T,L]),gl=d.useCallback(()=>{if(O.current===void 0||O.current.range.width<=1)return;const h={...O,current:{...O.current,range:{...O.current.range,width:1}}};Nr(h,O)},[Nr,O]),pl=d.useCallback(()=>{if(O.current===void 0||O.current.range.height<=1)return;const h={...O,current:{...O.current,range:{...O.current.range,height:1}}};Nr(h,O)},[Nr,O]),Dc=d.useCallback((h,C)=>{var te,se;const x=a;if(c(void 0),Jo(void 0),is(void 0),li.current=!1,C)return;if((x==null?void 0:x.fillHandle)===!0&&O.current!==void 0&&((te=x.previousSelection)==null?void 0:te.current)!==void 0){if(mr===void 0)return;const J={...O,current:{...O.current,range:wc(x.previousSelection.current.range,mr)}};Nr(x.previousSelection,J),zt(J,!0);return}const[A,F]=h.location,[N,H]=yr.current??[],W=()=>{Wr.current=!0},Y=J=>{var Ce,Ve,Se;const ke=J.isTouch||N===A&&H===F;if(ke&&(E==null||E([A-L,F],{...J,preventDefault:W})),J.button===1)return!Wr.current;if(!Wr.current){const xe=rn(h.location),dt=pe(xe);if(dt!==void 0&&dt.onClick!==void 0&&ke){const Mt=dt.onClick({...J,cell:xe,posX:J.localEventX,posY:J.localEventY,bounds:J.bounds,theme:oi(xe,h.location),preventDefault:W});Mt!==void 0&&!Yr(Mt)&&Xr(Mt)&&(dn([{location:J.location,value:Mt}]),(Ce=Qt.current)==null||Ce.damage([{cell:J.location}]))}if(Wr.current||O.current===void 0)return!1;let Ot=!1;switch(nt){case"double-click":case"second-click":{if(((Se=(Ve=x==null?void 0:x.previousSelection)==null?void 0:Ve.current)==null?void 0:Se.cell)===void 0)break;const[Mt,vn]=O.current.cell,[Pn,bn]=x.previousSelection.current.cell;Ot=A===Mt&&A===Pn&&F===vn&&F===bn&&(J.isDoubleClick===!0||nt==="second-click");break}case"single-click":{Ot=!0;break}}if(Ot)return P==null||P([A-L,F]),Hr(J.bounds,!1),!0}return!1},j=h.location[0]-L;if(h.isTouch){const J=gt.current,ke=fl.current;if(J.x!==ke.x||J.y!==ke.y)return;if(h.isLongTouch===!0){if(h.kind==="cell"&&Ri((se=O.current)==null?void 0:se.cell,h.location)){me==null||me([j,h.location[1]],{...h,preventDefault:W});return}else if(h.kind==="header"&&O.columns.hasIndex(A)){V==null||V(j,{...h,preventDefault:W});return}else if(h.kind===sn){if(j<0)return;re==null||re(j,{...h,preventDefault:W});return}}h.kind==="cell"?Y(h)||si(h):h.kind===sn?de==null||de(j,{...h,preventDefault:W}):(h.kind===or&&(z==null||z(j,{...h,preventDefault:W})),si(h));return}if(h.kind==="header"){if(j<0)return;h.isEdge?h.isDoubleClick===!0&&Gi(A):h.button===0&&A===N&&F===H&&(z==null||z(j,{...h,preventDefault:W}))}if(h.kind===sn){if(j<0)return;h.button===0&&A===N&&F===H&&(de==null||de(j,{...h,preventDefault:W}),Wr.current||hl(h))}h.kind==="cell"&&(h.button===0||h.button===1)&&Y(h),yr.current=void 0},[a,O,L,mr,Nr,zt,E,rn,pe,nt,oi,dn,P,Hr,me,V,re,si,de,z,Gi,hl]),Ac=d.useCallback(h=>{const C={...h,location:[h.location[0]-L,h.location[1]]};De==null||De(C),a!==void 0&&h.buttons===0&&(c(void 0),Jo(void 0),is(void 0),li.current=!1),is(x=>{var A;return li.current?[h.scrollEdge[0],0]:h.scrollEdge[0]===(x==null?void 0:x[0])&&h.scrollEdge[1]===x[1]?x:a===void 0||(((A=fn.current)==null?void 0:A.location[0])??0)<L?void 0:h.scrollEdge})},[a,De,L]),Fc=d.useCallback((h,C)=>{It==null||It(h-L,C)},[It,L]),In=(xl=O==null?void 0:O.current)==null?void 0:xl.cell,Lc=d.useCallback((h,C,x,A,F,N)=>{_t.current=!1;let H=In;H!==void 0&&(H=[H[0]-L,H[1]]);const W=ct===0?void 0:{x:0,y:h.y,width:ct,height:h.height},Y=[];W!==void 0&&Y.push(W),Ft>0&&(Y.push({x:h.x-L,y:y-Ft,width:h.width,height:Ft}),ct>0&&Y.push({x:0,y:y-Ft,width:ct,height:Ft}));const j={x:h.x-L,y:h.y,width:h.width,height:Pt&&h.y+h.height>=y?h.height-1:h.height,tx:F,ty:N,extras:{selected:H,freezeRegion:W,freezeRegions:Y}};gt.current=j,Zt(j),oe([C,x,A]),xt==null||xt(j,j.tx,j.ty,j.extras)},[In,L,Pt,y,ct,Ft,Zt,xt]),zc=Br(Ae,d.useCallback((h,C)=>{Ae==null||Ae(h-L,C-L),ce!=="none"&&Q(Ze.fromSingleSelection(C),void 0,!0)},[ce,Ae,L,Q])),os=d.useRef(!1),Hc=d.useCallback(h=>{if(h.location[0]===0&&L>0){h.preventDefault();return}Le==null||Le({...h,location:[h.location[0]-L,h.location[1]]}),h.defaultPrevented()||(os.current=!0),c(void 0)},[Le,L]),Oc=d.useCallback(()=>{os.current=!1},[]),ss=d.useRef(),ls=d.useCallback(h=>{var C,x,A;if(!Mc(h,ss.current)&&(ss.current=h,!(((C=fn==null?void 0:fn.current)==null?void 0:C.button)!==void 0&&fn.current.button>=1))){if(h.buttons!==0&&a!==void 0&&((x=fn.current)==null?void 0:x.location[0])===0&&h.location[0]===0&&L===1&&Ie==="multi"&&a.previousSelection&&!a.previousSelection.rows.hasIndex(fn.current.location[1])&&O.rows.hasIndex(fn.current.location[1])){const F=Math.min(fn.current.location[1],h.location[1]),N=Math.max(fn.current.location[1],h.location[1])+1;U(Ze.fromSingleSelection([F,N]),void 0,!1)}if(h.buttons!==0&&a!==void 0&&O.current!==void 0&&!os.current&&!li.current&&(ge==="rect"||ge==="multi-rect")){const[F,N]=O.current.cell;let[H,W]=h.location;if(W<0&&(W=gt.current.y),a.fillHandle===!0&&((A=a.previousSelection)==null?void 0:A.current)!==void 0){const Y=a.previousSelection.current.range;W=Math.min(W,nn?y-1:y);const j=F0(Y,H,W,Mn);Jo(j)}else{if(nn&&N===y)return;if(nn&&W===y)if(h.kind===Po)W--;else return;H=Math.max(H,L);const te=H-F,se=W-N,J={x:te>=0?F:H,y:se>=0?N:W,width:Math.abs(te)+1,height:Math.abs(se)+1};R({...O.current,range:J},!0,!1,"drag")}}Xt==null||Xt({...h,location:[h.location[0]-L,h.location[1]]})}},[Mn,a,L,Ie,O,ge,Xt,U,nn,y,R]),$c=d.useCallback(()=>{var H,W;const h=ss.current;if(h===void 0)return;const[C,x]=h.scrollEdge;let[A,F]=h.location;const N=gt.current;C===-1?A=((W=(H=N.extras)==null?void 0:H.freezeRegion)==null?void 0:W.x)??N.x:C===1&&(A=N.x+N.width),x===-1?F=Math.max(0,N.y):x===1&&(F=Math.min(y-1,N.y+N.height)),A=Cn(A,0,Te.length-1),F=Cn(F,0,y-1),ls({...h,location:[A,F]})},[Te.length,ls,y]);$p(_c,u,$c);const wn=d.useCallback(h=>{if(O.current===void 0)return;const[C,x]=h,[A,F]=O.current.cell,N=O.current.range;let H=N.x,W=N.x+N.width,Y=N.y,j=N.y+N.height;if(x!==0)switch(x){case 2:{j=y,Y=F,St(0,j,"vertical");break}case-2:{Y=0,j=F+1,St(0,Y,"vertical");break}case 1:{Y<F?(Y++,St(0,Y,"vertical")):(j=Math.min(y,j+1),St(0,j,"vertical"));break}case-1:{j>F+1?(j--,St(0,j,"vertical")):(Y=Math.max(0,Y-1),St(0,Y,"vertical"));break}default:Pi()}if(C!==0)if(C===2)W=Te.length,H=A,St(W-1-L,0,"horizontal");else if(C===-2)H=L,W=A+1,St(H-L,0,"horizontal");else{let te=[];if(Et!==void 0){const se=Et({x:H,y:Y,width:W-H-L,height:j-Y},Vt.current.signal);typeof se=="object"&&(te=Xp(se))}if(C===1){let se=!1;if(H<A){if(te.length>0){const J=kr(H+1,A+1).find(ke=>!te.includes(ke-L));J!==void 0&&(H=J,se=!0)}else H++,se=!0;se&&St(H,0,"horizontal")}se||(W=Math.min(Te.length,W+1),St(W-1-L,0,"horizontal"))}else if(C===-1){let se=!1;if(W>A+1){if(te.length>0){const J=kr(W-1,A,-1).find(ke=>!te.includes(ke-L));J!==void 0&&(W=J,se=!0)}else W--,se=!0;se&&St(W-L,0,"horizontal")}se||(H=Math.max(L,H-1),St(H-L,0,"horizontal"))}else Pi()}R({cell:O.current.cell,range:{x:H,y:Y,width:W-H,height:j-Y}},!0,!1,"keyboard-select")},[Et,O,Te.length,L,y,St,R]),tr=d.useCallback((h,C,x,A)=>{const F=Ht-(x?0:1);if(h=Cn(h,L,ie.length-1+L),C=Cn(C,0,F),h===(In==null?void 0:In[0])&&C===(In==null?void 0:In[1]))return!1;if(A&&O.current!==void 0){const N=[...O.current.rangeStack];(O.current.range.width>1||O.current.range.height>1)&&N.push(O.current.range),zt({...O,current:{cell:[h,C],range:{x:h,y:C,width:1,height:1},rangeStack:N}},!0)}else R({cell:[h,C],range:{x:h,y:C,width:1,height:1}},!0,!1,"keyboard-nav");return f.current!==void 0&&f.current[0]===h&&f.current[1]===C&&(f.current=void 0),St(h-L,C),!0},[Ht,L,ie.length,In,O,St,zt,R]),Wc=d.useCallback((h,C)=>{(i==null?void 0:i.cell)!==void 0&&h!==void 0&&Xr(h)&&(dn([{location:i.cell,value:h}]),window.requestAnimationFrame(()=>{var F;(F=Qt.current)==null||F.damage([{cell:i.cell}])})),Bt(!0),o(void 0);const[x,A]=C;if(O.current!==void 0&&(x!==0||A!==0)){const F=O.current.cell[1]===Ht-1&&h!==void 0;tr(Cn(O.current.cell[0]+x,0,Te.length-1),Cn(O.current.cell[1]+A,0,Ht-1),F,!1)}$==null||$(h,C)},[i==null?void 0:i.cell,Bt,O,$,dn,Ht,tr,Te.length]),Nc=d.useMemo(()=>`gdg-overlay-${jp++}`,[]),wr=d.useCallback(h=>{var x,A,F,N;Bt();const C=[];for(let H=h.x;H<h.x+h.width;H++)for(let W=h.y;W<h.y+h.height;W++){const Y=I([H-L,W]);if(!Y.allowOverlay&&Y.kind!==ne.Boolean)continue;let j;if(Y.kind===ne.Custom){const te=pe(Y),se=(x=te==null?void 0:te.provideEditor)==null?void 0:x.call(te,Y);(te==null?void 0:te.onDelete)!==void 0?j=te.onDelete(Y):wf(se)&&(j=(A=se==null?void 0:se.deletedValue)==null?void 0:A.call(se,Y))}else if(Xr(Y)&&Y.allowOverlay||Y.kind===ne.Boolean){const te=pe(Y);j=(F=te==null?void 0:te.onDelete)==null?void 0:F.call(te,Y)}j!==void 0&&!Yr(j)&&Xr(j)&&C.push({location:[H,W],value:j})}dn(C),(N=Qt.current)==null||N.damage(C.map(H=>({cell:H.location})))},[Bt,I,pe,dn,L]),ai=i!==void 0,ml=d.useCallback(h=>{var ke,Ce;const C=()=>{h.stopPropagation(),h.preventDefault()},x={didMatch:!1},{bounds:A}=h,F=O.columns,N=O.rows,H=mn;if(!ai&&Ne(H.clear,h,x))zt(mo,!1),pt==null||pt();else if(!ai&&Ne(H.selectAll,h,x))zt({columns:Ze.empty(),rows:Ze.empty(),current:{cell:((ke=O.current)==null?void 0:ke.cell)??[L,0],range:{x:L,y:0,width:M.length,height:y},rangeStack:[]}},!1);else if(Ne(H.search,h,x))(Ce=s==null?void 0:s.current)==null||Ce.focus({preventScroll:!0}),Ui(!0);else if(Ne(H.delete,h,x)){const Ve=(Rn==null?void 0:Rn(O))??!0;if(Ve!==!1){const Se=Ve===!0?O:Ve;if(Se.current!==void 0){wr(Se.current.range);for(const xe of Se.current.rangeStack)wr(xe)}for(const xe of Se.rows)wr({x:L,y:xe,width:M.length,height:1});for(const xe of Se.columns)wr({x:xe,y:0,width:1,height:y})}}if(x.didMatch)return C(),!0;if(O.current===void 0)return!1;let[W,Y]=O.current.cell,j=!1,te=!1;Ne(H.scrollToSelectedCell,h,x)?Ji.current(W-L,Y):ce!=="none"&&Ne(H.selectColumn,h,x)?F.hasIndex(W)?Q(F.remove(W),void 0,!0):ce==="single"?Q(Ze.fromSingleSelection(W),void 0,!0):Q(void 0,W,!0):Ie!=="none"&&Ne(H.selectRow,h,x)?N.hasIndex(Y)?U(N.remove(Y),void 0,!0):Ie==="single"?U(Ze.fromSingleSelection(Y),void 0,!0):U(void 0,Y,!0):!ai&&A!==void 0&&Ne(H.activateCell,h,x)?Y===y&&Pt?window.setTimeout(()=>{const Ve=Vi(W);Or(Ve??W)},0):(P==null||P([W-L,Y]),Hr(A,!0)):O.current.range.height>1&&Ne(H.downFill,h,x)?pl():O.current.range.width>1&&Ne(H.rightFill,h,x)?gl():Ne(H.goToNextPage,h,x)?Y+=Math.max(1,gt.current.height-4):Ne(H.goToPreviousPage,h,x)?Y-=Math.max(1,gt.current.height-4):Ne(H.goToFirstCell,h,x)?(o(void 0),Y=0,W=0):Ne(H.goToLastCell,h,x)?(o(void 0),Y=Number.MAX_SAFE_INTEGER,W=Number.MAX_SAFE_INTEGER):Ne(H.selectToFirstCell,h,x)?(o(void 0),wn([-2,-2])):Ne(H.selectToLastCell,h,x)?(o(void 0),wn([2,2])):ai?(Ne(H.closeOverlay,h,x)&&o(void 0),Ne(H.acceptOverlayDown,h,x)&&(o(void 0),Y++),Ne(H.acceptOverlayUp,h,x)&&(o(void 0),Y--),Ne(H.acceptOverlayLeft,h,x)&&(o(void 0),W--),Ne(H.acceptOverlayRight,h,x)&&(o(void 0),W++)):(Ne(H.goDownCell,h,x)?Y+=1:Ne(H.goUpCell,h,x)?Y-=1:Ne(H.goRightCell,h,x)?W+=1:Ne(H.goLeftCell,h,x)?W-=1:Ne(H.goDownCellRetainSelection,h,x)?(Y+=1,j=!0):Ne(H.goUpCellRetainSelection,h,x)?(Y-=1,j=!0):Ne(H.goRightCellRetainSelection,h,x)?(W+=1,j=!0):Ne(H.goLeftCellRetainSelection,h,x)?(W-=1,j=!0):Ne(H.goToLastRow,h,x)?Y=y-1:Ne(H.goToFirstRow,h,x)?Y=Number.MIN_SAFE_INTEGER:Ne(H.goToLastColumn,h,x)?W=Number.MAX_SAFE_INTEGER:Ne(H.goToFirstColumn,h,x)?W=Number.MIN_SAFE_INTEGER:(ge==="rect"||ge==="multi-rect")&&(Ne(H.selectGrowDown,h,x)?wn([0,1]):Ne(H.selectGrowUp,h,x)?wn([0,-1]):Ne(H.selectGrowRight,h,x)?wn([1,0]):Ne(H.selectGrowLeft,h,x)?wn([-1,0]):Ne(H.selectToLastRow,h,x)?wn([0,2]):Ne(H.selectToFirstRow,h,x)?wn([0,-2]):Ne(H.selectToLastColumn,h,x)?wn([2,0]):Ne(H.selectToFirstColumn,h,x)&&wn([-2,0])),te=x.didMatch);const se=tr(W,Y,!1,j),J=x.didMatch;return J&&(se||!te||fr)&&C(),J},[ai,O,mn,ce,Ie,ge,L,y,tr,zt,pt,M.length,Rn,fr,wr,Q,U,Pt,Vi,Or,P,Hr,pl,gl,wn]),ci=d.useCallback(h=>{let C=!1;if(Ue!==void 0&&Ue({...h,cancel:()=>{C=!0}}),C||ml(h)||O.current===void 0)return;const[x,A]=O.current.cell,F=gt.current;if(!h.metaKey&&!h.ctrlKey&&O.current!==void 0&&h.key.length===1&&/[ -~]/g.test(h.key)&&h.bounds!==void 0&&mi(I([x-L,Math.max(0,Math.min(A,y-1))]))){if((!nn||A!==y)&&(F.y>A||A>F.y+F.height||F.x>x||x>F.x+F.width))return;Hr(h.bounds,!0,h.key),h.stopPropagation(),h.preventDefault()}},[Ue,ml,O,I,L,y,nn,Hr]),Bc=d.useCallback((h,C)=>{const x=h.location[0]-L;if(h.kind==="header"&&(V==null||V(x,{...h,preventDefault:C})),h.kind===sn){if(x<0)return;re==null||re(x,{...h,preventDefault:C})}if(h.kind==="cell"){const[A,F]=h.location;me==null||me([x,F],{...h,preventDefault:C}),bg(O,h.location)||tr(A,F,!1,!1)}},[O,me,re,V,L,tr]),as=d.useCallback(async h=>{var H,W,Y;if(!mn.paste)return;function C(j,te,se,J){var Ce,Ve;const ke=typeof se=="object"?(se==null?void 0:se.join(`
`))??"":(se==null?void 0:se.toString())??"";if(!Yr(j)&&mi(j)&&j.readonly!==!0){const Se=B==null?void 0:B(ke,j);if(Se!==void 0&&Xr(Se))return{location:te,value:Se};const xe=pe(j);if(xe===void 0)return;if(xe.kind===ne.Custom){ln(j.kind===ne.Custom);const dt=(Ce=xe.onPaste)==null?void 0:Ce.call(xe,ke,j.data);return dt===void 0?void 0:{location:te,value:{...j,data:dt}}}else{const dt=(Ve=xe.onPaste)==null?void 0:Ve.call(xe,ke,j,{formatted:J,formattedString:typeof J=="string"?J:J==null?void 0:J.join(`
`),rawValue:se});return dt===void 0?void 0:(ln(dt.kind===j.kind),{location:te,value:dt})}}}const x=O.columns,A=O.rows,F=((H=u.current)==null?void 0:H.contains(document.activeElement))===!0||((W=l.current)==null?void 0:W.contains(document.activeElement))===!0;let N;if(O.current!==void 0?N=[O.current.range.x,O.current.range.y]:x.length===1?N=[x.first()??0,0]:A.length===1&&(N=[L,A.first()??0]),F&&N!==void 0){let j,te;const se="text/plain",J="text/html";if(navigator.clipboard.read!==void 0){const Se=await navigator.clipboard.read();for(const xe of Se){if(xe.types.includes(J)){const Ot=await(await xe.getType(J)).text(),Mt=oa(Ot);if(Mt!==void 0){j=Mt;break}}xe.types.includes(se)&&(te=await(await xe.getType(se)).text())}}else if(navigator.clipboard.readText!==void 0)te=await navigator.clipboard.readText();else if(h!==void 0&&(h==null?void 0:h.clipboardData)!==null){if(h.clipboardData.types.includes(J)){const Se=h.clipboardData.getData(J);j=oa(Se)}j===void 0&&h.clipboardData.types.includes(se)&&(te=h.clipboardData.getData(se))}else return;const[ke,Ce]=N,Ve=[];do{if(ht===void 0){const Se=rn(N),xe=te??(j==null?void 0:j.map(Ot=>Ot.map(Mt=>Mt.rawValue).join("	")).join("	"))??"",dt=C(Se,N,xe,void 0);dt!==void 0&&Ve.push(dt);break}if(j===void 0){if(te===void 0)return;j=Dp(te)}if(ht===!1||typeof ht=="function"&&(ht==null?void 0:ht([N[0]-L,N[1]],j.map(Se=>Se.map(xe=>{var dt;return((dt=xe.rawValue)==null?void 0:dt.toString())??""}))))!==!0)return;for(const[Se,xe]of j.entries()){if(Se+Ce>=y)break;for(const[dt,Ot]of xe.entries()){const Mt=[dt+ke,Se+Ce],[vn,Pn]=Mt;if(vn>=Te.length||Pn>=Ht)continue;const bn=rn(Mt),_n=C(bn,Mt,Ot.rawValue,Ot.formatted);_n!==void 0&&Ve.push(_n)}}}while(!1);dn(Ve),(Y=Qt.current)==null||Y.damage(Ve.map(Se=>({cell:Se.location})))}},[B,pe,rn,O,mn.paste,Te.length,dn,Ht,ht,L,y]);Dt("paste",as,p,!1,!0);const ui=d.useCallback(async(h,C)=>{var H,W;if(!mn.copy)return;const x=C===!0||((H=u.current)==null?void 0:H.contains(document.activeElement))===!0||((W=l.current)==null?void 0:W.contains(document.activeElement))===!0,A=O.columns,F=O.rows,N=(Y,j)=>{if(!we)la(Y,j,h);else{const te=j.map(se=>({kind:ne.Text,data:M[se].title,displayData:M[se].title,allowOverlay:!1}));la([te,...Y],j,h)}};if(x&&Et!==void 0){if(O.current!==void 0){let Y=Et(O.current.range,Vt.current.signal);typeof Y!="object"&&(Y=await Y()),N(Y,kr(O.current.range.x-L,O.current.range.x+O.current.range.width-L))}else if(F!==void 0&&F.length>0){const j=[...F].map(te=>{const se=Et({x:L,y:te,width:M.length,height:1},Vt.current.signal);return typeof se=="object"?se[0]:se().then(J=>J[0])});if(j.some(te=>te instanceof Promise)){const te=await Promise.all(j);N(te,kr(M.length))}else N(j,kr(M.length))}else if(A.length>0){const Y=[],j=[];for(const te of A){let se=Et({x:te,y:0,width:1,height:y},Vt.current.signal);typeof se!="object"&&(se=await se()),Y.push(se),j.push(te-L)}if(Y.length===1)N(Y[0],j);else{const te=Y.reduce((se,J)=>se.map((ke,Ce)=>[...ke,...J[Ce]]));N(te,j)}}}},[M,Et,O,mn.copy,L,y,we]);Dt("copy",ui,p,!1,!1);const jc=d.useCallback(async h=>{var x,A;if(!(!mn.cut||!(((x=u.current)==null?void 0:x.contains(document.activeElement))===!0||((A=l.current)==null?void 0:A.contains(document.activeElement))===!0))&&(await ui(h),O.current!==void 0)){let F={current:{cell:O.current.cell,range:O.current.range,rangeStack:[]},rows:Ze.empty(),columns:Ze.empty()};const N=Rn==null?void 0:Rn(F);if(N===!1||(F=N===!0?F:N,F.current===void 0))return;wr(F.current.range)}},[wr,O,mn.cut,ui,Rn]);Dt("cut",jc,p,!1,!1);const Xc=d.useCallback((h,C)=>{if(Me!==void 0){L!==0&&(h=h.map(F=>[F[0]-L,F[1]])),Me(h,C);return}if(h.length===0||C===-1)return;const[x,A]=h[C];f.current!==void 0&&f.current[0]===x&&f.current[1]===A||(f.current=[x,A],tr(x,A,!1,!1))},[Me,L,tr]),[Zi,Qi]=((kl=Ut==null?void 0:Ut.current)==null?void 0:kl.cell)??[],Ji=d.useRef(St);Ji.current=St,d.useLayoutEffect(()=>{var h,C,x,A;!_t.current&&Zi!==void 0&&Qi!==void 0&&(Zi!==((C=(h=Zn.current)==null?void 0:h.current)==null?void 0:C.cell[0])||Qi!==((A=(x=Zn.current)==null?void 0:x.current)==null?void 0:A.cell[1]))&&Ji.current(Zi,Qi),_t.current=!1},[Zi,Qi]);const yl=O.current!==void 0&&(O.current.cell[0]>=Te.length||O.current.cell[1]>=Ht);d.useLayoutEffect(()=>{yl&&zt(mo,!1)},[yl,zt]);const Uc=d.useMemo(()=>Pt===!0&&(ze==null?void 0:ze.tint)===!0?Ze.fromSingleSelection(Ht-1):Ze.empty(),[Ht,Pt,ze==null?void 0:ze.tint]),Yc=d.useCallback(h=>typeof ut=="boolean"?ut:(ut==null?void 0:ut(h-L))??!0,[L,ut]),Kc=d.useMemo(()=>{if(ns===void 0||l.current===null)return null;const{bounds:h,group:C}=ns,x=l.current.getBoundingClientRect();return d.createElement(xp,{bounds:h,group:C,canvasBounds:x,onClose:()=>rs(void 0),onFinish:A=>{rs(void 0),le==null||le(C,A)}})},[le,ns]),qc=Math.min(Te.length,ct+(tn?1:0));d.useImperativeHandle(t,()=>({appendRow:(h,C)=>Or(h+L,C),updateCells:h=>{var C;return L!==0&&(h=h.map(x=>({cell:[x.cell[0]+L,x.cell[1]]}))),(C=Qt.current)==null?void 0:C.damage(h)},getBounds:(h,C)=>{var x;if(!((l==null?void 0:l.current)===null||(u==null?void 0:u.current)===null)){if(h===void 0&&C===void 0){const A=l.current.getBoundingClientRect(),F=A.width/u.current.clientWidth;return{x:A.x-u.current.scrollLeft*F,y:A.y-u.current.scrollTop*F,width:u.current.scrollWidth*F,height:u.current.scrollHeight*F}}return(x=Qt.current)==null?void 0:x.getBounds((h??0)+L,C)}},focus:()=>{var h;return(h=Qt.current)==null?void 0:h.focus()},emit:async h=>{switch(h){case"delete":ci({bounds:void 0,cancel:()=>{},stopPropagation:()=>{},preventDefault:()=>{},ctrlKey:!1,key:"Delete",keyCode:46,metaKey:!1,shiftKey:!1,altKey:!1,rawEvent:void 0,location:void 0});break;case"fill-right":ci({bounds:void 0,cancel:()=>{},stopPropagation:()=>{},preventDefault:()=>{},ctrlKey:!0,key:"r",keyCode:82,metaKey:!1,shiftKey:!1,altKey:!1,rawEvent:void 0,location:void 0});break;case"fill-down":ci({bounds:void 0,cancel:()=>{},stopPropagation:()=>{},preventDefault:()=>{},ctrlKey:!0,key:"d",keyCode:68,metaKey:!1,shiftKey:!1,altKey:!1,rawEvent:void 0,location:void 0});break;case"copy":await ui(void 0,!0);break;case"paste":await as();break}},scrollTo:St,remeasureColumns:h=>{for(const C of h)Gi(C+L)}}),[Or,Gi,ui,ci,as,L,St]);const[wl,vl]=In??[],Vc=d.useCallback(h=>{const[C,x]=h;if(x===-1){ce!=="none"&&(Q(Ze.fromSingleSelection(C),void 0,!1),Bt());return}wl===C&&vl===x||(R({cell:h,range:{x:C,y:x,width:1,height:1}},!0,!1,"keyboard-nav"),St(C,x))},[ce,Bt,St,wl,vl,R,Q]),[Gc,Zc]=d.useState(!1),bl=d.useRef(wa(h=>{Zc(h)},5)),Qc=d.useCallback(()=>{bl.current(!0),O.current===void 0&&O.columns.length===0&&O.rows.length===0&&a===void 0&&R({cell:[L,Tn],range:{x:L,y:Tn,width:1,height:1}},!0,!1,"keyboard-select")},[Tn,O,a,L,R]),Jc=d.useCallback(()=>{bl.current(!1)},[]),[eu,tu]=d.useMemo(()=>{let h;const C=(vt==null?void 0:vt.scrollbarWidthOverride)??_s(),x=y+(Pt?1:0);if(typeof Lt=="number")h=Je+x*Lt;else{let F=0;const N=Math.min(x,10);for(let H=0;H<N;H++)F+=Lt(H);F=Math.floor(F/N),h=Je+x*F}h+=C;const A=Te.reduce((F,N)=>N.width+F,0)+C;return[`${Math.min(1e5,A)}px`,`${Math.min(1e5,h)}px`]},[Te,vt==null?void 0:vt.scrollbarWidthOverride,Lt,y,Pt,Je]);return d.createElement(zg.Provider,{value:Z},d.createElement(zp,{style:Lg(Z),className:Xe,inWidth:v??eu,inHeight:S??tu},d.createElement(yp,{fillHandle:$n,drawFocusRing:$i,experimental:vt,fixedShadowX:ur,fixedShadowY:dr,getRowThemeOverride:b,headerIcons:Tr,imageWindowLoader:Wi,initialSize:Ni,isDraggable:Ir,onDragLeave:Pr,onRowMoved:pn,overscrollX:Ko,overscrollY:qo,preventDiagonalScrolling:Bi,rightElement:jo,rightElementProps:Xo,smoothScrollX:qn,smoothScrollY:Uo,className:Xe,enableGroups:ye,onCanvasFocused:Qc,onCanvasBlur:Jc,canvasRef:l,onContextMenu:Bc,theme:Z,cellXOffset:ii,cellYOffset:Tn,accessibilityHeight:qe.height,onDragEnd:Oc,columns:Te,nonGrowWidth:Ct,drawHeader:zr,onColumnProposeMove:ee,drawCell:Qo,disabledRows:Uc,freezeColumns:qc,lockColumns:L,firstColAccessible:L===0,getCellContent:rn,minColumnWidth:Wn,maxColumnWidth:Vn,searchInputRef:s,showSearch:Go,onSearchClose:ri,highlightRegions:Ic,getCellsForSelection:Et,getGroupDetails:es,headerHeight:Ar,isFocused:Gc,groupHeaderHeight:ye?ti:0,freezeTrailingRows:Ft+(Pt&&(ze==null?void 0:ze.sticky)===!0?1:0),hasAppendRow:Pt,onColumnResize:Qn,onColumnResizeEnd:Lr,onColumnResizeStart:Zo,onCellFocused:Vc,onColumnMoved:zc,onDragStart:Hc,onHeaderMenuClick:Fc,onItemHovered:ls,isFilling:(a==null?void 0:a.fillHandle)===!0,onMouseMove:Ac,onKeyDown:ci,onKeyUp:at,onMouseDown:Pc,onMouseUp:Dc,onDragOverCell:wt,onDrop:On,onSearchResultsChanged:Xc,onVisibleRegionChanged:Lc,clientSize:q,rowHeight:Lt,searchResults:ae,searchValue:tt,onSearchValueChange:et,rows:Ht,scrollRef:u,selection:O,translateX:qe.tx,translateY:qe.ty,verticalBorder:Yc,gridRef:Qt,getCellRenderer:pe}),Kc,i!==void 0&&d.createElement(d.Suspense,{fallback:null},d.createElement(Bp,{...i,validateCell:Fr,id:Nc,getCellRenderer:pe,className:(vt==null?void 0:vt.isSubGrid)===!0?"click-outside-ignore":void 0,provideEditor:gn,imageEditorOverride:w,onFinishEditing:Wc,markdownDivCreateNode:k,isOutsideClick:Xi}))))},Yp=d.forwardRef(Up),ua=20,Kp={getAccessibilityString:e=>{var t;return((t=e.data)==null?void 0:t.toString())??"false"},kind:ne.Boolean,needsHover:!0,useLabel:!1,needsHoverPosition:!0,measure:()=>50,draw:e=>qp(e,e.cell.data,Rs(e.cell),e.cell.maxSize??ua),onDelete:e=>({...e,data:!1}),onClick:e=>{const{cell:t,posX:n,posY:r,bounds:i,theme:o}=e,{width:s,height:l,x:a,y:c}=i,u=t.maxSize??ua,f=Math.floor(i.y+l/2),p=Ya(u,l,o.cellVerticalPadding),m=Ua(t.contentAlign??"center",a,s,o.cellHorizontalPadding,p),g=Xa(m,f,p),w=Ka(a+n,c+r,g);if(Rs(t)&&w)return{...t,data:Ec(t.data)}},onPaste:(e,t)=>{let n=vo;return e.toLowerCase()==="true"?n=!0:e.toLowerCase()==="false"?n=!1:e.toLowerCase()==="indeterminate"&&(n=Bs),n===t.data?void 0:{...t,data:n}}};function qp(e,t,n,r){if(!n&&t===vo)return;const{ctx:i,hoverAmount:o,theme:s,rect:l,highlighted:a,hoverX:c,hoverY:u,cell:{contentAlign:f}}=e,{x:p,y:m,width:g,height:w}=l,b=.35;let k=n?1-b+b*o:.4;t===vo&&(k*=o),k!==0&&(i.globalAlpha=k,il(i,s,t,p,m,g,w,a,c,u,r,f),i.globalAlpha=1)}const Vp=un("div")({name:"BubblesOverlayEditorStyle",class:"gdg-b1ygi5by",propsAsIs:!1}),Gp=e=>{const{bubbles:t}=e;return d.createElement(Vp,null,t.map((n,r)=>d.createElement("div",{key:r,className:"boe-bubble"},n)),d.createElement("textarea",{className:"gdg-input",autoFocus:!0}))},Zp={getAccessibilityString:e=>qa(e.data),kind:ne.Bubble,needsHover:!1,useLabel:!1,needsHoverPosition:!1,measure:(e,t,n)=>t.data.reduce((r,i)=>e.measureText(i).width+r+20,0)+2*n.cellHorizontalPadding-4,draw:e=>Jp(e,e.cell.data),provideEditor:()=>e=>{const{value:t}=e;return d.createElement(Gp,{bubbles:t.data})},onPaste:()=>{}},Qp=4;function Jp(e,t){const{rect:n,theme:r,ctx:i,highlighted:o}=e,{x:s,y:l,width:a,height:c}=n,u=20,f=8,p=Qp;let m=s+r.cellHorizontalPadding;const g=[];for(const w of t){if(m>s+a)break;const b=$o(w,i,r.baseFontFull).width;g.push({x:m,width:b}),m+=b+f*2+p}i.beginPath();for(const w of g)Yn(i,w.x,l+(c-u)/2,w.width+f*2,u,r.roundingRadius??u/2);i.fillStyle=o?r.bgBubbleSelected:r.bgBubble,i.fill();for(const[w,b]of g.entries())i.beginPath(),i.fillStyle=r.textBubble,i.fillText(t[w],b.x+f,l+c/2+ar(i,r))}const em=un("div")({name:"DrilldownOverlayEditorStyle",class:"gdg-d4zsq0x",propsAsIs:!1}),tm=e=>{const{drilldowns:t}=e;return d.createElement(em,null,t.map((n,r)=>d.createElement("div",{key:r,className:"doe-bubble"},n.img!==void 0&&d.createElement("img",{src:n.img}),d.createElement("div",null,n.text))))},nm={getAccessibilityString:e=>qa(e.data.map(t=>t.text)),kind:ne.Drilldown,needsHover:!1,useLabel:!1,needsHoverPosition:!1,measure:(e,t,n)=>t.data.reduce((r,i)=>e.measureText(i.text).width+r+20+(i.img!==void 0?18:0),0)+2*n.cellHorizontalPadding-4,draw:e=>om(e,e.cell.data),provideEditor:()=>e=>{const{value:t}=e;return d.createElement(tm,{drilldowns:t.data})},onPaste:()=>{}},rm=4,xs={};function im(e,t,n,r){const i=Math.ceil(window.devicePixelRatio),o=5,s=n-o*2,l=4,a=n*i,c=r+o,u=r*3,f=(u+o*2)*i,p=`${e},${t},${i},${n}`;if(xs[p]!==void 0)return{el:xs[p],height:a,width:f,middleWidth:l*i,sideWidth:c*i,padding:o*i,dpr:i};const m=document.createElement("canvas"),g=m.getContext("2d");return g===null?null:(m.width=f,m.height=a,g.scale(i,i),xs[p]=m,g.beginPath(),Yn(g,o,o,u,s,r),g.shadowColor="rgba(24, 25, 34, 0.4)",g.shadowBlur=1,g.fillStyle=e,g.fill(),g.shadowColor="rgba(24, 25, 34, 0.3)",g.shadowOffsetY=1,g.shadowBlur=5,g.fillStyle=e,g.fill(),g.shadowOffsetY=0,g.shadowBlur=0,g.shadowBlur=0,g.beginPath(),Yn(g,o+.5,o+.5,u,s,r),g.strokeStyle=t,g.lineWidth=1,g.stroke(),{el:m,height:a,width:f,sideWidth:c*i,middleWidth:r*i,padding:o*i,dpr:i})}function om(e,t){const{rect:n,theme:r,ctx:i,imageLoader:o,col:s,row:l}=e,{x:a,width:c}=n,u=r.baseFontFull,f=dc(i,u),p=Math.min(n.height,Math.max(16,Math.ceil(f*r.lineHeight)*2)),m=Math.floor(n.y+(n.height-p)/2),g=p-10,w=8,b=rm;let k=a+r.cellHorizontalPadding;const v=r.roundingRadius??6,S=im(r.bgCell,r.drilldownBorder,p,v),M=[];for(const y of t){if(k>a+c)break;const E=$o(y.text,i,u).width;let P=0;y.img!==void 0&&o.loadOrGetImage(y.img,s,l)!==void 0&&(P=g-8+4);const T=E+P+w*2;M.push({x:k,width:T}),k+=T+b}if(S!==null){const{el:y,height:I,middleWidth:E,sideWidth:P,width:T,dpr:$,padding:B}=S,_=P/$,D=B/$;for(const z of M){const ee=Math.floor(z.x),he=Math.floor(z.width),de=he-(_-D)*2;i.imageSmoothingEnabled=!1,i.drawImage(y,0,0,P,I,ee-D,m,_,p),de>0&&i.drawImage(y,P,0,E,I,ee+(_-D),m,de,p),i.drawImage(y,T-P,0,P,I,ee+he-(_-D),m,_,p),i.imageSmoothingEnabled=!0}}i.beginPath();for(const[y,I]of M.entries()){const E=t[y];let P=I.x+w;if(E.img!==void 0){const T=o.loadOrGetImage(E.img,s,l);if(T!==void 0){const $=g-8;let B=0,_=0,D=T.width,z=T.height;D>z?(B+=(D-z)/2,D=z):z>D&&(_+=(z-D)/2,z=D),i.beginPath(),Yn(i,P,m+p/2-$/2,$,$,r.roundingRadius??3),i.save(),i.clip(),i.drawImage(T,B,_,D,z,P,m+p/2-$/2,$,$),i.restore(),P+=$+4}}i.beginPath(),i.fillStyle=r.textBubble,i.fillText(E.text,P,m+p/2+ar(i,r))}}const sm={getAccessibilityString:e=>e.data.join(", "),kind:ne.Image,needsHover:!1,useLabel:!1,needsHoverPosition:!1,draw:e=>lm(e,e.cell.displayData??e.cell.data,e.cell.rounding??e.theme.roundingRadius??4,e.cell.contentAlign),measure:(e,t)=>t.data.length*50,onDelete:e=>({...e,data:[]}),provideEditor:()=>e=>{const{value:t,onFinishedEditing:n,imageEditorOverride:r}=e,i=r??Rh;return d.createElement(i,{urls:t.data,canWrite:t.readonly!==!1,onCancel:n,onChange:o=>{n({...t,data:[o]})}})},onPaste:(e,t)=>{e=e.trim();const r=e.split(",").map(i=>{try{return new URL(i),i}catch{return}}).filter(i=>i!==void 0);if(!(r.length===t.data.length&&r.every((i,o)=>i===t.data[o])))return{...t,data:r}}},ks=4;function lm(e,t,n,r){const{rect:i,col:o,row:s,theme:l,ctx:a,imageLoader:c}=e,{x:u,y:f,height:p,width:m}=i,g=p-l.cellVerticalPadding*2,w=[];let b=0;for(let v=0;v<t.length;v++){const S=t[v];if(S.length===0)continue;const M=c.loadOrGetImage(S,o,s);if(M!==void 0){w[v]=M;const y=M.width*(g/M.height);b+=y+ks}}if(b===0)return;b-=ks;let k=u+l.cellHorizontalPadding;r==="right"?k=Math.floor(u+m-l.cellHorizontalPadding-b):r==="center"&&(k=Math.floor(u+m/2-b/2));for(const v of w){if(v===void 0)continue;const S=v.width*(g/v.height);n>0&&(a.beginPath(),Yn(a,k,f+l.cellVerticalPadding,S,g,n),a.save(),a.clip()),a.drawImage(v,k,f+l.cellVerticalPadding,S,g),n>0&&a.restore(),k+=S+ks}}function am(e,t){let n=e*49632+t*325176;return n^=n<<13,n^=n>>17,n^=n<<5,n/4294967295*2}const cm={getAccessibilityString:()=>"",kind:ne.Loading,needsHover:!1,useLabel:!1,needsHoverPosition:!1,measure:()=>120,draw:e=>{const{cell:t,col:n,row:r,ctx:i,rect:o,theme:s}=e;if(t.skeletonWidth===void 0||t.skeletonWidth===0)return;let l=t.skeletonWidth;t.skeletonWidthVariability!==void 0&&t.skeletonWidthVariability>0&&(l+=Math.round(am(n,r)*t.skeletonWidthVariability));const a=s.cellHorizontalPadding,c=t.skeletonHeight??Math.min(18,o.height-2*s.cellVerticalPadding);Yn(i,o.x+a,o.y+(o.height-c)/2,l,c,s.roundingRadius??3),i.fillStyle=Gr(s.textDark,.1),i.fill()},onPaste:()=>{}},um=()=>e=>e.targetWidth,da=un("div")({name:"MarkdownOverlayEditorStyle",class:"gdg-m1pnx84e",propsAsIs:!1,vars:{"m1pnx84e-0":[um(),"px"]}}),dm=e=>{const{value:t,onChange:n,forceEditMode:r,createNode:i,targetRect:o,onFinish:s,validatedSelection:l}=e,a=t.data,c=t.readonly===!0,[u,f]=d.useState(a===""||r),p=d.useCallback(()=>{f(g=>!g)},[]),m=a?"gdg-ml-6":"";return u?d.createElement(da,{targetWidth:o.width-20},d.createElement(Oo,{autoFocus:!0,highlight:!1,validatedSelection:l,value:a,onKeyDown:g=>{g.key==="Enter"&&g.stopPropagation()},onChange:n}),d.createElement("div",{className:`gdg-edit-icon gdg-checkmark-hover ${m}`,onClick:()=>s(t)},d.createElement(vh,null))):d.createElement(da,{targetWidth:o.width},d.createElement(cg,{contents:a,createNode:i}),!c&&d.createElement(d.Fragment,null,d.createElement("div",{className:"spacer"}),d.createElement("div",{className:`gdg-edit-icon gdg-edit-hover ${m}`,onClick:p},d.createElement(Ys,null))),d.createElement("textarea",{className:"gdg-md-edit-textarea gdg-input",autoFocus:!0}))},fm={getAccessibilityString:e=>{var t;return((t=e.data)==null?void 0:t.toString())??""},kind:ne.Markdown,needsHover:!1,needsHoverPosition:!1,drawPrep:Oi,measure:(e,t,n)=>{const r=t.data.split(`
`)[0];return e.measureText(r).width+2*n.cellHorizontalPadding},draw:e=>Xn(e,e.cell.data,e.cell.contentAlign),onDelete:e=>({...e,data:""}),provideEditor:()=>e=>{const{onChange:t,value:n,target:r,onFinishedEditing:i,markdownDivCreateNode:o,forceEditMode:s,validatedSelection:l}=e;return d.createElement(dm,{onFinish:i,targetRect:r,value:n,validatedSelection:l,onChange:a=>t({...n,data:a.target.value}),forceEditMode:s,createNode:o})},onPaste:(e,t)=>e===t.data?void 0:{...t,data:e}},hm={getAccessibilityString:e=>e.row.toString(),kind:hn.Marker,needsHover:!0,needsHoverPosition:!1,drawPrep:gm,measure:()=>44,draw:e=>mm(e,e.cell.row,e.cell.checked,e.cell.markerKind,e.cell.drawHandle),onClick:e=>{const{bounds:t,cell:n,posX:r,posY:i}=e,{width:o,height:s}=t,l=n.drawHandle?7+(o-7)/2:o/2,a=s/2;if(Math.abs(r-l)<=10&&Math.abs(i-a)<=10)return{...n,checked:!n.checked}},onPaste:()=>{}};function gm(e,t){const{ctx:n,theme:r}=e,i=r.markerFontFull,o=t??{};return(o==null?void 0:o.font)!==i&&(n.font=i,o.font=i),o.deprep=pm,n.textAlign="center",o}function pm(e){const{ctx:t}=e;t.textAlign="start"}function mm(e,t,n,r,i){const{ctx:o,rect:s,hoverAmount:l,theme:a}=e,{x:c,y:u,width:f,height:p}=s,m=n?1:r==="checkbox-visible"?.6+.4*l:l;if(r!=="number"&&m>0){o.globalAlpha=m;const g=7*(n?l:1);if(il(o,a,n,i?c+g:c,u,i?f-g:f,p,!0,void 0,void 0,18),i){o.globalAlpha=l,o.beginPath();for(const w of[3,6])for(const b of[-5,-1,3])o.rect(c+w,u+p/2+b,2,2);o.fillStyle=a.textLight,o.fill(),o.beginPath()}o.globalAlpha=1}if(r==="number"||r==="both"&&!n){const g=t.toString(),w=a.markerFontFull,b=c+f/2;r==="both"&&l!==0&&(o.globalAlpha=1-l),o.fillStyle=a.textLight,o.font=w,o.fillText(g,b,u+p/2+ar(o,w)),l!==0&&(o.globalAlpha=1)}}const ym={getAccessibilityString:()=>"",kind:hn.NewRow,needsHover:!0,needsHoverPosition:!1,measure:()=>200,draw:e=>wm(e,e.cell.hint,e.cell.icon),onPaste:()=>{}};function wm(e,t,n){const{ctx:r,rect:i,hoverAmount:o,theme:s,spriteManager:l}=e,{x:a,y:c,width:u,height:f}=i;r.beginPath(),r.globalAlpha=o,r.rect(a+1,c+1,u,f-2),r.fillStyle=s.bgHeaderHovered,r.fill(),r.globalAlpha=1,r.beginPath();const p=t!=="";let m=0;if(n!==void 0){const w=f-8,b=a+8/2,k=c+8/2;l.drawSprite(n,"normal",r,b,k,w,s,p?1:o),m=w}else{m=24;const g=12,w=p?g:o*g,b=p?0:(1-o)*g*.5,k=s.cellHorizontalPadding+4;w>0&&(r.moveTo(a+k+b,c+f/2),r.lineTo(a+k+b+w,c+f/2),r.moveTo(a+k+b+w*.5,c+f/2-w*.5),r.lineTo(a+k+b+w*.5,c+f/2+w*.5),r.lineWidth=2,r.strokeStyle=s.bgIconHeader,r.lineCap="round",r.stroke())}r.fillStyle=s.textMedium,r.fillText(t,m+a+s.cellHorizontalPadding+.5,c+f/2+ar(r,s)),r.beginPath()}const vm=d.lazy(async()=>await ya(()=>import("./5gv6wyppgamwfdt9.js"),__vite__mapDeps([10,1,2,3,4,5,6,7,8,9]))),bm={getAccessibilityString:e=>{var t;return((t=e.data)==null?void 0:t.toString())??""},kind:ne.Number,needsHover:!1,needsHoverPosition:!1,useLabel:!0,drawPrep:Oi,draw:e=>Xn(e,e.cell.displayData,e.cell.contentAlign),measure:(e,t,n)=>e.measureText(t.displayData).width+n.cellHorizontalPadding*2,onDelete:e=>({...e,data:void 0}),provideEditor:()=>e=>{const{isHighlighted:t,onChange:n,value:r,validatedSelection:i}=e;return d.createElement(d.Suspense,{fallback:null},d.createElement(vm,{highlight:t,disabled:r.readonly===!0,value:r.data,fixedDecimals:r.fixedDecimals,allowNegative:r.allowNegative,thousandSeparator:r.thousandSeparator,decimalSeparator:r.decimalSeparator,validatedSelection:i,onChange:o=>n({...r,data:Number.isNaN(o.floatValue??0)?0:o.floatValue})}))},onPaste:(e,t,n)=>{const r=typeof n.rawValue=="number"?n.rawValue:Number.parseFloat(typeof n.rawValue=="string"?n.rawValue:e);if(!(Number.isNaN(r)||t.data===r))return{...t,data:r,displayData:n.formattedString??t.displayData}}},xm={getAccessibilityString:()=>"",measure:()=>108,kind:ne.Protected,needsHover:!1,needsHoverPosition:!1,draw:km,onPaste:()=>{}};function km(e){const{ctx:t,theme:n,rect:r}=e,{x:i,y:o,height:s}=r;t.beginPath();const l=2.5;let a=i+n.cellHorizontalPadding+l;const c=o+s/2,u=Math.cos($l(30))*l,f=Math.sin($l(30))*l;for(let p=0;p<12;p++)t.moveTo(a,c-l),t.lineTo(a,c+l),t.moveTo(a+u,c-f),t.lineTo(a-u,c+f),t.moveTo(a-u,c-f),t.lineTo(a+u,c+f),a+=8;t.lineWidth=1.1,t.lineCap="square",t.strokeStyle=n.textLight,t.stroke()}const Cm={getAccessibilityString:e=>{var t;return((t=e.data)==null?void 0:t.toString())??""},kind:ne.RowID,needsHover:!1,needsHoverPosition:!1,drawPrep:(e,t)=>Oi(e,t,e.theme.textLight),draw:e=>Xn(e,e.cell.data,e.cell.contentAlign),measure:(e,t,n)=>e.measureText(t.data).width+n.cellHorizontalPadding*2,provideEditor:()=>e=>{const{isHighlighted:t,onChange:n,value:r,validatedSelection:i}=e;return Tt.createElement(Oo,{highlight:t,autoFocus:r.readonly!==!0,disabled:r.readonly!==!1,value:r.data,validatedSelection:i,onChange:o=>n({...r,data:o.target.value})})},onPaste:()=>{}},Sm={getAccessibilityString:e=>{var t;return((t=e.data)==null?void 0:t.toString())??""},kind:ne.Text,needsHover:!1,needsHoverPosition:!1,drawPrep:Oi,useLabel:!0,draw:e=>(Xn(e,e.cell.displayData,e.cell.contentAlign,e.cell.allowWrapping,e.hyperWrapping),!0),measure:(e,t,n)=>{const r=t.displayData.split(`
`,t.allowWrapping===!0?void 0:1);return Math.max(...r.map(i=>e.measureText(i).width))+2*n.cellHorizontalPadding},onDelete:e=>({...e,data:""}),provideEditor:e=>({disablePadding:e.allowWrapping===!0,editor:t=>{const{isHighlighted:n,onChange:r,value:i,validatedSelection:o}=t;return d.createElement(Oo,{style:e.allowWrapping===!0?{padding:"3px 8.5px"}:void 0,highlight:n,autoFocus:i.readonly!==!0,disabled:i.readonly===!0,altNewline:!0,value:i.data,validatedSelection:o,onChange:s=>r({...i,data:s.target.value})})}}),onPaste:(e,t,n)=>e===t.data?void 0:{...t,data:e,displayData:n.formattedString??t.displayData}},Mm=un("div")({name:"UriOverlayEditorStyle",class:"gdg-u1rrojo",propsAsIs:!1}),Rm=e=>{const{uri:t,onChange:n,forceEditMode:r,readonly:i,validatedSelection:o,preview:s}=e,[l,a]=d.useState(t===""||r),c=d.useCallback(()=>{a(!0)},[]);return l?d.createElement(Oo,{validatedSelection:o,highlight:!0,autoFocus:!0,value:t,onChange:n}):d.createElement(Mm,null,d.createElement("a",{className:"gdg-link-area",href:t,target:"_blank",rel:"noopener noreferrer"},s),!i&&d.createElement("div",{className:"gdg-edit-icon",onClick:c},d.createElement(Ys,null)),d.createElement("textarea",{className:"gdg-input",autoFocus:!0}))};function fa(e,t,n,r){let i=n.cellHorizontalPadding;const o=t.height/2-e.actualBoundingBoxAscent/2,s=e.width,l=e.actualBoundingBoxAscent;return r==="right"?i=t.width-s-n.cellHorizontalPadding:r==="center"&&(i=t.width/2-s/2),{x:i,y:o,width:s,height:l}}const Em={getAccessibilityString:e=>{var t;return((t=e.data)==null?void 0:t.toString())??""},kind:ne.Uri,needsHover:!0,needsHoverPosition:!0,useLabel:!0,drawPrep:Oi,draw:e=>{const{cell:t,theme:n,overrideCursor:r,hoverX:i,hoverY:o,rect:s,ctx:l}=e,a=t.displayData??t.data;if(r!==void 0&&t.hoverEffect===!0&&i!==void 0&&o!==void 0){const c=$o(a,l,n.baseFontFull),u=fa(c,s,n,t.contentAlign),{x:f,y:p,width:m,height:g}=u;if(i>=f-4&&i<=f-4+m+8&&o>=p-4&&o<=p-4+g+8){const w=ar(l,n.baseFontFull);r("pointer");const b=5,k=p-w;l.beginPath(),l.moveTo(s.x+f,Math.floor(s.y+k+g+b)+.5),l.lineTo(s.x+f+m,Math.floor(s.y+k+g+b)+.5),l.strokeStyle=n.textDark,l.stroke(),l.save(),l.fillStyle=e.cellFillColor,Xn({...e,rect:{...s,x:s.x-1}},a,t.contentAlign),Xn({...e,rect:{...s,x:s.x-2}},a,t.contentAlign),Xn({...e,rect:{...s,x:s.x+1}},a,t.contentAlign),Xn({...e,rect:{...s,x:s.x+2}},a,t.contentAlign),l.restore()}}Xn(e,a,t.contentAlign)},onClick:e=>{const{cell:t,bounds:n,posX:r,posY:i,theme:o}=e,s=t.displayData??t.data;if(t.hoverEffect!==!0||t.onClickUri===void 0)return;const l=Eg(s,o.baseFontFull);if(l===void 0)return;const a=fa(l,n,o,t.contentAlign);Wo({x:a.x-4,y:a.y-4,width:a.width+8,height:a.height+8},r,i)&&t.onClickUri(e)},measure:(e,t,n)=>e.measureText(t.displayData??t.data).width+n.cellHorizontalPadding*2,onDelete:e=>({...e,data:""}),provideEditor:e=>t=>{const{onChange:n,value:r,forceEditMode:i,validatedSelection:o}=t;return d.createElement(Rm,{forceEditMode:i||e.hoverEffect===!0&&e.onClickUri!==void 0,uri:r.data,preview:r.displayData??r.data,validatedSelection:o,readonly:r.readonly===!0,onChange:s=>n({...r,data:s.target.value})})},onPaste:(e,t,n)=>e===t.data?void 0:{...t,data:e,displayData:n.formattedString??t.displayData}},Tm=[hm,ym,Kp,Zp,nm,sm,cm,fm,bm,xm,Cm,Sm,Em],Cs=[];class Im extends hc{constructor(){super(...arguments);fe(this,"imageLoaded",()=>{});fe(this,"loadedLocations",[]);fe(this,"cache",{});fe(this,"sendLoaded",sd(()=>{this.imageLoaded(new Ti(this.loadedLocations)),this.loadedLocations=[]},20));fe(this,"clearOutOfWindow",()=>{const n=Object.keys(this.cache);for(const r of n){const i=this.cache[r];let o=!1;for(let s=0;s<i.cells.length;s++){const l=i.cells[s];if(this.isInWindow(l)){o=!0;break}}o?i.cells=i.cells.filter(this.isInWindow):(i.cancel(),delete this.cache[r])}})}setCallback(n){this.imageLoaded=n}loadImage(n,r,i,o){let s=!1;const l=Cs.pop()??new Image;let a=!1;const c={img:void 0,cells:[Sn(r,i)],url:n,cancel:()=>{a||(a=!0,Cs.length<12?Cs.unshift(l):s||(l.src=""))}},u=new Promise(f=>l.addEventListener("load",()=>f(null)));requestAnimationFrame(async()=>{try{l.src=n,await u,await l.decode();const f=this.cache[o];if(f!==void 0&&!a){f.img=l;for(const p of f.cells)this.loadedLocations.push(rl(p));s=!0,this.sendLoaded()}}catch{c.cancel()}}),this.cache[o]=c}loadOrGetImage(n,r,i){const o=n,s=this.cache[o];if(s!==void 0){const l=Sn(r,i);return s.cells.includes(l)||s.cells.push(l),s.img}else this.loadImage(n,r,i,o)}}const Pm=(e,t)=>{const n=d.useMemo(()=>({..._0,...e.headerIcons}),[e.headerIcons]),r=d.useMemo(()=>e.imageWindowLoader??new Im,[e.imageWindowLoader]);return d.createElement(Yp,{...e,renderers:Tm,headerIcons:n,ref:t,imageWindowLoader:r})},_m=d.forwardRef(Pm);function Dm(e){switch(e){case"number":return ne.Number;case"imageUrl":return ne.Image;default:return ne.Text}}const ha=40,ga=500;function Ym({table:e,height:t,width:n,isInFocusedView:r=!1,className:i=""}){const{targetedContent:o,setTargetedContent:s}=ld(),[l,a]=d.useState([]),c=getComputedStyle(document.documentElement),u=Ws();d.useEffect(()=>{e.columnNames.length>0&&a(e.columnNames.map((k,v)=>({id:`id:${v}`,title:k,maxWidth:500})))},[e.columnNames]);const[f,p]=d.useState({columns:Ze.empty(),rows:Ze.empty()}),m=d.useCallback(function([v,S]){const M=e.rows[S];return{kind:Dm(e.columnTypes[v]),data:M[v],allowOverlay:!0,readonly:!0,displayData:String(M[v]),allowWrapping:!0,contentAlignment:"left"}},[e.columnTypes,e.rows]),g=d.useCallback(k=>{if(k.columns.length>0){const v=k.columns.items.flatMap(M=>e.columnNames.slice(M[0],M[1]));us.logEvent(ds.adaColumnTargeted);const S=v.length>1?u.formatMessage({id:"B+HlXu",defaultMessage:"{totalColumns} columns"},{totalColumns:v.length}):u.formatMessage({id:"KnFSJb",defaultMessage:'"{columnName}" column'},{columnName:v[0]});s({type:"object",label:S,isFocusedViewContent:r,createNewCompletionParams:M=>Ss(M,`The user has selected the columns:  ${v.map(y=>`"${y}"`).join(", ")} in the ${e.name} table ${e.sheetName?` in the ${e.sheetName} sheet`:""}`,S)})}else if(k.rows.length>0){const v=k.rows.items.flatMap(M=>{const[y,I]=M,E=[];for(let P=y;P<I;P++)E.push(P);return E}),S=v.length>1?u.formatMessage({id:"vFstNk",defaultMessage:"{totalRows} rows"},{totalRows:v.length}):u.formatMessage({id:"43/z2q",defaultMessage:"#{rowIndex} row"},{rowIndex:v[0]+1});us.logEvent(ds.adaRowTargeted),s({type:"object",label:S,isFocusedViewContent:r,createNewCompletionParams:M=>Ss(M,`The user has selected rows at the following indices: ${v.map(y=>`"${y}"`).join(", ")} in the ${e.name} table ${e.sheetName?` in the ${e.sheetName} sheet`:""}`,S)})}else if(k.current){const v=k.current.range.x,S=k.current.range.y,M=k.current.range.x+k.current.range.width,y=k.current.range.y+k.current.range.height,I=(M-v)*(y-S);let E="";I===1&&(E=e.rows[k.current.cell[1]][k.current.cell[0]]),us.logEvent(ds.adaRangeTargeted);const P=I>1?u.formatMessage({id:"Ia9GsC",defaultMessage:"{totalCells} cells"},{totalCells:I}):u.formatMessage({id:"MEl4hN",defaultMessage:'"{cellContent}" cell'},{cellContent:E});s({type:"object",isFocusedViewContent:r,label:P,createNewCompletionParams:T=>Ss(T,`The user has selected a range at the iloc: ${S}:${y}, ${v}:${M} in the ${e.name} table ${e.sheetName?` in the ${e.sheetName} sheet`:""}`,P)})}k.columns.length===0&&k.rows.length===0&&k.current===void 0&&s(void 0),p(k)},[e.columnNames,s,r,e.rows,u,e.name,e.sheetName]);d.useEffect(()=>{o===void 0&&p({columns:Ze.empty(),rows:Ze.empty()})},[o]);const w=d.useCallback(k=>{const y=e.rows[k];if(!y)return 44;const I=y.reduce((_,D)=>{const z=(_==null?void 0:_.length)||0,ee=(D==null?void 0:D.length)||0;return z>ee?_:D})??"",E=l[y.indexOf(I)],T=((E==null?void 0:E.width)||150)/8,$=Math.ceil(I.length/T);return 24+($<4?$:4)*20},[e.rows,l]);d.useEffect(()=>{if(!document.getElementById("portal")){const k=document.createElement("div");k.id="portal",k.style.position="fixed",k.style.left="0",k.style.top="0",k.style.zIndex="9999",document.body.appendChild(k)}return()=>{const k=document.getElementById("portal");k&&document.body.removeChild(k)}},[]);const b=d.useCallback(()=>e.rows&&e.rows.length>999?10+10*String(e.rows.length).length:30,[e.rows]);return ue.jsx(_m,{getCellContent:m,columns:l,rows:e.rows.length,gridSelection:f,onGridSelectionChange:g,smoothScrollX:!0,smoothScrollY:!0,overscrollX:50,className:i,rowMarkers:"clickable-number",height:t,width:n,rowMarkerTheme:{bgCell:c.getPropertyValue("--main-surface-secondary").trim(),textLight:c.getPropertyValue("--text-primary").trim()},theme:{textDark:c.getPropertyValue("--text-primary").trim(),textMedium:c.getPropertyValue("--text-primary").trim(),textLight:c.getPropertyValue("--text-primary").trim(),textHeader:c.getPropertyValue("--text-primary").trim(),bgHeader:c.getPropertyValue("--main-surface-secondary").trim(),bgCell:c.getPropertyValue("--main-surface-primary").trim(),bgBubbleSelected:c.getPropertyValue("--main-surface-tertiary").trim(),bgHeaderHovered:c.getPropertyValue("--main-surface-tertiary").trim(),bgHeaderHasFocus:c.getPropertyValue("--main-surface-tertiary").trim(),accentColor:c.getPropertyValue("--selection").trim(),drilldownBorder:c.getPropertyValue("--selection").trim(),editorFontSize:"400 14px",baseFontStyle:"400 14px",markerFontStyle:"400 14px",headerFontStyle:"500 14px",cellHorizontalPadding:12,cellVerticalPadding:10},rowMarkerWidth:b(),rowHeight:w,verticalBorder:!0,minColumnWidth:ha,maxColumnWidth:ga,onColumnResize:(k,v,S)=>{v>=ha&&v<=ga&&a(M=>{const y=[...M];return y[S]={...k,width:v},y})}})}function Ss(e,t,n){const r=lu(t);return{...e,messageMetadata:{...e.messageMetadata,targeted_reply:t,targeted_reply_label:n},appendMessages:e.appendMessages==null?[r]:[...e.appendMessages,r]}}const Cr=["#FFAF00","#F46920","#F53255","#F857C1","#29BDFD","#00CBBF","#01C159","#9DCA1C"];function Tc({colorList:e,label:t,color:n,onColorUpdate:r}){var o;const i=d.useRef(null);return ue.jsxs(sr.Root,{children:[ue.jsx(sr.Trigger,{asChild:!0,children:ue.jsxs("div",{className:"flex w-full items-center justify-between py-2 pl-4 pr-3.5 hover:bg-token-main-surface-secondary",ref:i,children:[ue.jsx("span",{className:"max-w-28 truncate text-sm",children:t||ue.jsx(Sr,{id:"UnyV2o",defaultMessage:"Dataset"})}),ue.jsxs("div",{className:"flex gap-1",children:[ue.jsx("div",{className:"h-4 w-4 rounded-sm",style:{backgroundColor:n}}),ue.jsx(hu,{className:"icon-sm"})]})]})}),ue.jsx(sr.Portal,{container:(o=i.current)==null?void 0:o.ownerDocument.body,children:ue.jsx(sr.Content,{className:"flex min-w-36 flex-col gap-4 p-4 align-middle",sideOffset:5,side:"right",children:ue.jsx(Am,{currentColor:n,colorList:e,onUpdate:r})})})]})}function Am({colorList:e,currentColor:t,onUpdate:n}){const[r,i]=d.useState(t??""),o=Ws(),s=l=>/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/.test(l);return ue.jsxs(ue.Fragment,{children:[ue.jsx("div",{className:"grid grid-cols-4 flex-wrap gap-2",children:e.map((l,a)=>ue.jsx("button",{onClick:()=>{i(l),n(l)},className:wo("flex h-6 w-6 items-center justify-center rounded-md"),style:{backgroundColor:l},children:t===l&&ue.jsx(gu,{className:"text-white"})},a))}),ue.jsxs("div",{className:"flex h-6 rounded-md border border-token-border-light",children:[ue.jsx("div",{className:"flex w-6 items-center justify-center bg-gray-200 px-2 py-1 text-sm text-gray-500",children:"#"}),ue.jsx("input",{className:wo("w-16 flex-1 rounded-r-md border-0 p-2 text-xs uppercase leading-6 outline-none"),placeholder:o.formatMessage({id:"3xKVHs",defaultMessage:"F1B023"}),value:r.slice(1),onChange:l=>{const a=`#${l.target.value}`;i(a),s(a)&&n(a)}})]})]})}function Fm({chartData:e,setChartData:t}){let n=e.datasets[0].colors?[...e.datasets[0].colors]:[...Cr];return ue.jsx(ue.Fragment,{children:e.labels.map((r,i)=>ue.jsx(Tc,{label:r,colorList:Cr,color:n[i],onColorUpdate:o=>{Array.isArray(n)?n[i]=o:n=[o],e.datasets[0].colors=n,t==null||t({...e})}},i))})}function Lm({chartData:e,setChartData:t}){return ue.jsx(ue.Fragment,{children:e.datasets.map((n,r)=>ue.jsx(Tc,{label:n.label,colorList:Cr,color:n.colors?Array.isArray(n.colors)?n.colors[0]:n.colors:"",onColorUpdate:i=>{n.colors=[i],t==null||t({...e})}},r))})}function Km({chartData:e,setChartData:t}){var r;const n=d.useRef(null);return ue.jsxs(sr.Root,{children:[ue.jsx(sr.Trigger,{className:"h-5 px-0 hover:bg-transparent",asChild:!0,children:ue.jsx("button",{ref:n,children:ue.jsx(pu,{className:wo("icon-md text-token-text-tertiary hover:text-token-text-primary")})})}),ue.jsx(sr.Portal,{container:(r=n.current)==null?void 0:r.ownerDocument.body,children:ue.jsx(sr.Content,{className:"flex min-w-48 max-w-xs flex-col px-0 py-1",sideOffset:7,children:e&&e.datasets.length<La&&ue.jsxs(ue.Fragment,{children:[ue.jsx("span",{className:"py-2 pl-4 pr-3.5 text-xs font-semibold text-token-text-quaternary",children:ue.jsx(Sr,{id:"yYiKvS",defaultMessage:"Colors"})}),ue.jsx("div",{className:"flex max-h-36 flex-col overflow-auto",children:e.chart_type==="pie"?ue.jsx(Fm,{chartData:e,setChartData:t}):ue.jsx(Lm,{chartData:e,setChartData:t})})]})})})]})}const qm=(e,t,n)=>{const{colors:r}=t;let i;return r&&r.length>0?i=r:e==="pie"?i=t.data.map((o,s)=>Cr[s%Cr.length]):i=Cr[n%Cr.length],Array.isArray(i)?i:[i]},Vm=e=>{const{file_name:t="",context_connector_info:n}=e,{source_url:r=null,context_connector:i,synthetic_extension:o}=n??{};let s=null;if(n&&i){const l=o??ad(t)??null;s=cd(i,l)}return{sourceUrl:r,contextConnectorName:s}},Gm=async e=>{if(e.image_url==null){pa.addError("No image url provided for download");return}const t=ud(e.image_url),n=await au.getFileDownloadLink(t);if(n.status===cu.Success){const i=await(await fetch(n.download_url)).blob();zm(URL.createObjectURL(i),"output.png")}},zm=(e,t="")=>{const n=document.createElement("a");n.href=e,t&&(n.download=t),n.click()};export{Km as C,Um as F,Ym as T,qm as a,sf as b,zm as c,Gm as d,Yr as e,wf as f,Vm as g,zg as h,Xr as i,wp as j,Lg as m,un as s};
