import{af as d,r as a,aD as p,aE as h,j as e,cC as u,aC as c,C as l}from"./e80s9x9phit586fh.js";import{C as f,b as S}from"./bfpudyete1ta22g3.js";import{m as x,T as C}from"./e322c9cec9ocpg7r.js";import{u as T}from"./er9p854zf2yeqqw0.js";import"./g8qf5jn9kid9awdx.js";import"./b0p6qfoiy2w3wq1g.js";import"./epx1rnqqdufg3tv7.js";import"./dn76ftnsp715i7mb.js";import"./mskiymhqe349kbng.js";import"./dry2sbaz1nsbrdmq.js";import"./bp5rzlrea8ema4vn.js";import"./c1rv7mo0pmb3hpmr.js";import"./ni0db4rfwk4ezwko.js";import"./gl2g5sx3obzcpwbk.js";import"./cf61wogxu1x48za5.js";import"./dlro9umj0c9wyaej.js";import"./j36wks2eekqepqds.js";import"./gzq2k44askcjxdbi.js";import"./mqnmcsdwhn9d2wcp.js";import"./kpkzfkkwgdxujno2.js";import"./jk7erkljhb7i9dvh.js";import"./e7wtkkz7nx6wwlkq.js";import"./idy0lh1nw6kidf2z.js";import"./o9cqws8mq3rmwyza.js";import"./i3k2sztl0g4xjf0a.js";import"./m14sciyapf4u44qm.js";import"./k18ixaflx6e3p3pf.js";import"./gdqz689bvb0a9l4j.js";import"./gjmfbmzstboaxu6y.js";import"./gwrbiu63fmzaknyc.js";import"./mau3lwopl4esou1q.js";import"./k6fiqhf2zovh80ci.js";function g(r){const i=r.sharedConversationId,{data:t,isError:s}=d({queryKey:[`shared-conversation/${i}`],queryFn:()=>l.getAuthedSharedConversation(i)}),[o]=a.useState(()=>x()),[n,m]=a.useState(!1);return a.useEffect(()=>{s&&(window.location.href=p(h.SHARE_NOT_FOUND))},[s]),a.useEffect(()=>{t&&o&&(C.initThreadFromServerData(o,t,!0,i),m(!0))},[t,i,o]),n?r.continueMode?e.jsx(f,{...r.chatPageProps,clientThreadId:o}):e.jsx(u.Provider,{value:{serverSharedThreadId:i,isIndexable:!1},children:e.jsx(S,{clientThreadId:o,setClientThreadId:()=>{},initiallyHighlightedMessageId:t==null?void 0:t.highlighted_message_id,continueConversationUrl:t==null?void 0:t.continue_conversation_url})}):e.jsx("div",{className:"flex h-full items-center justify-center",children:e.jsx(c,{className:"text-token-text-tertiary"})})}function Z(){const r=T();return e.jsx(g,{...r})}export{Z as default};
