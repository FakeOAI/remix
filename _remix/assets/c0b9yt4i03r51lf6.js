import{dO as s,dP as d,r,dQ as a,aM as m,j as p,bF as c}from"./ofly9yrztlesgrye.js";import{p as u,q as l}from"./dnclpnvevlt4w60m.js";import{l as h}from"./hgskjx43egewob6w.js";import"./pbk6784aea0pnvmy.js";import"./nqzijea2w2642vxo.js";import"./d4ayzlfdvw3mppxq.js";import"./c4wbs9sfbozms9h9.js";import"./o70b5rlocd70y24d.js";import"./kdfb7z4c9wk9qcaq.js";import"./eni5d61fsksdl3xv.js";import"./lj5rtlp3i0cfoffa.js";import"./k8blgkgtyu77dvqj.js";import"./ffzjrrth2s7rj53y.js";import"./j8udrimwvg5wgb50.js";import"./pdyd96jvf5nj4arp.js";import"./ndz7khihe98mo9mr.js";import"./m35een31x7hl7one.js";import"./h7f61j8yt7zvajch.js";import"./cxynijnwgmoep20m.js";import"./kyhim0cxnn9lnc9c.js";import"./du2biz3bflj3ny15.js";import"./dqjxcbzr89kaex61.js";import"./ngly12g8pku877oj.js";import"./nr3n8xw311uli2v7.js";import"./o72bhizxu5dr6xab.js";let n=!1;function K(){var t;(t=s)==null||t.registerObserver(d)}function G(){const[t,o]=r.useState(null);return r.useEffect(()=>{if(n||typeof window>"u")return;const e=window.open("about:blank",a);if(!e)throw new Error("ChatBar: window.open() did not create a window");n=!0,document.head.querySelectorAll("link, style").forEach(i=>{e.document.head.appendChild(i.cloneNode(!0))}),o(e.document.body.appendChild(e.document.createElement("div"))),e.addEventListener("unload",i=>{e.close()})},[]),t&&m.createPortal(p.jsx(f,{}),t,a)}function f(){const[t,o]=r.useState(()=>h());return u(t,{kind:c.PrimaryAssistant}),p.jsx(l,{clientThreadId:t},t)}export{G as DesktopChatBar,K as initDesktop};
