const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/sso-n3llhrpkivyvy3mn.js","assets/lqxieoavntgc1bwa.js","assets/elw9by4pq97u474x.js","assets/root-dunwnenm.css","assets/lt376j8rwd79xpju.js","assets/conversation-small-c8xg50op.css","assets/ml2th571a5mvelw2.js","assets/ihqbfb41a73zl250.js","assets/m4prjazx6j5jfybu.js","assets/gcs71wsk9kjhg9io.js","assets/nhwwej1nq0zrd7sc.js","assets/c82cw8ktu02cjmsa.js","assets/goc1liv99ohvgrjh.js","assets/o47vwyqspbkqkato.js","assets/btgidmg60tdk3bfm.js","assets/b5k9d2yqpqhb14su.js","assets/kjrp9adqqnejaxdp.js","assets/nckc3gax6q2314j9.js","assets/is6pd6i9r39fvyyt.js","assets/xxow1gll6p2keyqh.js","assets/mffaduu3a7mtmgt6.js","assets/bq3ztn5wnmadbw8k.js","assets/dp1nrhfdixt51elu.js","assets/cli58e7epy4cwet4.js","assets/j4l0jkixl6ivrx8s.js","assets/oy440rlxop2gx5kb.js","assets/o246f9owjx5rsrlh.js","assets/s0ffp8u9pu4pctdi.js","assets/epizzkg0hp6jbe8t.js","assets/i7g4hdqatcvrcf7z.js","assets/bq7c48cwgiv21xn3.js","assets/d0g8ptgc5gcqjwyj.js","assets/bka1w1q53wfsvuv6.js","assets/onm7aaeb72zztwac.js","assets/isjdmfmhzv09v01t.js","assets/oofztmlcd580e2s2.js","assets/i9ny41luzxplgf2t.js","assets/kxi8xk6t5kkjjrsj.js","assets/jt6nhj9eozoscpbi.js","assets/n20gmkltt5djclyg.js","assets/ii08fkj7n1dmq0b0.js","assets/dgia9ecelm2lrtqv.js","assets/mwjw9eur0i4o3rl5.js","assets/dit0p7yiudmx4tkn.js","assets/j08qmuup3b2yozy8.js","assets/g731q5i3rrragab6.js","assets/fsddy3bxlesj6ecw.js","assets/e8gioiqth4z18by9.js","assets/ir809h9yl6g1ypty.js","assets/mxvhm9faeezfva1j.js","assets/ip7gt0d1a37lt346.js","assets/s9q0gqg8aeavlppd.js","assets/m4qatzyje01cukyp.js","assets/cgzr9g0kkjzg354z.js","assets/eel2k8n6w63vqp4g.js","assets/mb0ym0mh6vjzhkvs.js","assets/h7jllgo66wwz6az6.js","assets/kqwdyvkaaavvn8k3.js","assets/gxah8bam8m8jwa3u.js","assets/b3sdt0wrrh9mw76x.js","assets/fh848r0wdut2f2gy.js","assets/gpnn6b1pqqv2m8km.js","assets/bg6vrh1acty115z2.js","assets/cxz82la3lmwpezfa.js","assets/nfo23ut79qzhip32.js","assets/bb3tk8vsx5w8kx07.js","assets/jdjk5cpc25x6ct31.js","assets/iej0cupg2dqkmejt.js","assets/f0qsvriq53rs9ggc.js","assets/efv2a113vhhi0jnw.js","assets/jubeah04vsy5utbn.js","assets/b8nm4b6dn08dyqgw.js","assets/shared-mk6ngktc.css","assets/f6h4iyr0d9nti10r.js","assets/sso-46pn026z.css","assets/e4b5npeh9p5pqzv7.js","assets/mwt4rgdboobkjphy.js","assets/hfllhthdofk0bqzb.js","assets/ng6gkrz24k5izox6.js","assets/jd4aiye5ymutotje.js","assets/ecfyk1ajiowjs6jr.js","assets/kl437xnoeskwqg3p.js","assets/cu7i7jyqvstu6net.js","assets/b6n06y45ar7v2v5a.js","assets/ccxaz7cnrphil8zu.js"])))=>i.map(i=>d[i]);
import{ch as g,bY as h,j as s,I as pe,D as L,bM as xe,r,a2 as E,G as j,Z as ne,ba as q,H as V,an as re,aG as be,aC as Ce,aE as Me,ad as ye,E as ie,F as ve,bK as Q,S as z,z as Se,dB as ke,bd as _e,bb as Y,az as je,aB as ce,av as Ae,d8 as we,co as le,aN as de,d1 as Ee,c as O,de as Te,bH as Pe,d3 as Ie,d4 as Oe,d5 as De,cF as Ne,ak as Le,C as Re}from"./lqxieoavntgc1bwa.js";import{d as G,u as Be}from"./dp1nrhfdixt51elu.js";import{aY as Fe,fM as Ve,fN as ue,fO as ze,aN as Ge,fP as He,fQ as We,fR as Ue,fS as $e,fT as Ke,cB as D,fU as qe,fV as Qe,fW as Ye,fX as Xe,fY as Ze,fZ as Je,f_ as es,f$ as ss,g0 as as,g1 as ts,k as R,aX as T,U as S,cC as H,g2 as os,g3 as ns,bN as rs,g4 as X,cd as is,A as cs,g5 as ls,cu as Z,ct as ds,bx as J,by as ee,g6 as us,c9 as ms,g7 as fs,g8 as se,g9 as gs,bc as hs,a6 as ps,ga as xs,gb as bs,gc as Cs,gd as Ms,br as ys}from"./lt376j8rwd79xpju.js";import{l as vs,d as Ss,T as N,m as F}from"./ihqbfb41a73zl250.js";import{u as ks}from"./cli58e7epy4cwet4.js";import{L as _s}from"./j4l0jkixl6ivrx8s.js";import{S as ae,b as js,c as As,N as ws}from"./jd4aiye5ymutotje.js";import{y as Es,a4 as Ts,a5 as Ps,z as me}from"./o47vwyqspbkqkato.js";import{u as Is,a as Os,g as Ds}from"./kxi8xk6t5kkjjrsj.js";import{a as Ns,C as Ls}from"./i9ny41luzxplgf2t.js";import{f as Rs}from"./gcs71wsk9kjhg9io.js";import{m as te}from"./m4prjazx6j5jfybu.js";const Bs=g(()=>h(()=>import("./sso-n3llhrpkivyvy3mn.js").then(e=>e.t),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74])).then(e=>e.default));function Fs({clientThreadId:e,children:a}){return G(e)?s.jsx(Bs,{clientThreadId:e,children:a}):s.jsx(s.Fragment,{children:a})}function Vs({onClose:e}){const a=L(),{openSettings:t}=Fe(),o=Ve(),{session:c}=xe(),{data:{isStorageComplianceEnabled:n}={}}=ue(),{data:i,isLoading:u}=ze({enabled:!!(n&&c),select:m=>!m.cookie_consent.is_required});return r.useEffect(()=>{i===!0&&e()},[i,e]),u?null:s.jsx(zs,{onReject:()=>{o.mutateAsync({analytics_cookies_accepted:!1},{onSuccess(){E.success(a.formatMessage(_.updateSuccess))},onError(){E.danger(a.formatMessage(_.updateFailure))}}),e()},onAccept:()=>{o.mutateAsync({analytics_cookies_accepted:!0},{onSuccess(){E.success(a.formatMessage(_.updateSuccess))},onError(){E.danger(a.formatMessage(_.updateFailure))}}),e()},children:s.jsx(j,{id:"CookieConsentBanner.authedDescription.0",defaultMessage:"We use cookies and similar technologies to deliver, maintain, improve our services and for security purposes. Check our <cookiePolicy>cookie policy</cookiePolicy> for details. Click 'Accept all' to let OpenAI and partners use cookies for these purposes. Click 'Reject all' to say no to cookies, except those that are strictly necessary. Choose <manageLink>manage cookies</manageLink> to change your preferences.",values:{cookiePolicy:m=>s.jsx(_s,{href:"https://openai.com/policies/cookie-policy",openNewTab:!0,children:m}),manageLink:m=>s.jsx(Gs,{onClick:()=>{t(Ge.DataControls)},children:m})}})})}function zs({children:e,onAccept:a,onReject:t}){return r.useEffect(()=>{ne.addAction("privacy_policy.show_cookie_consent_banner")},[]),s.jsxs(He,{children:[s.jsxs(We,{className:"text-sm font-semibold [grid-area:_title]",children:[e,s.jsxs("div",{className:"mt-2 flex justify-end gap-3",children:[s.jsx(q,{color:"secondary",size:"small",onClick:t,children:s.jsx(j,{..._.reject})}),s.jsx(q,{color:"secondary",size:"small",onClick:a,children:s.jsx(j,{..._.accept})})]})]}),s.jsx(Ue,{})]})}const Gs=pe.button`underline font-normal text-green-600`,_=V({cookieConsentBannerTitle:{id:"CookieConsentBanner.title",defaultMessage:"We use cookies to provide, improve, and protect our services. Visit our <privacyPolicyLink>privacy policy</privacyPolicyLink> to learn more. You can manage your cookie preferences in your <settingsPanel>settings panel</settingsPanel>. <learnMoreLink>Learn more</learnMoreLink>."},reject:{id:"CookieConsentBanner.reject",defaultMessage:"Reject all"},accept:{id:"CookieConsentBanner.accept",defaultMessage:"Accept all"},updateSuccess:{id:"CookieConsentBanner.updateSuccess",defaultMessage:"Your cookie preferences were updated successfully"},updateFailure:{id:"CookieConsentBanner.updateFailure",defaultMessage:"Unable to update cookie preferences. Try again later."}}),Hs=g(()=>h(async()=>{const{ModelOnboardingNUXModal:e}=await import("./e4b5npeh9p5pqzv7.js");return{ModelOnboardingNUXModal:e}},__vite__mapDeps([75,1,2,3,4,5,23,24,7,8,9])).then(({ModelOnboardingNUXModal:e})=>e),{ssr:!1}),Ws=({onClose:e})=>{const a=L(),t=D(H.isBusinessWorkspace),o=D(n=>n.currentWorkspace),c=t?a.formatMessage(oe.workspaceWelcome,{workspaceName:o==null?void 0:o.name}):"ChatGPT";return s.jsx(ie,{isOpen:!0,onClose:ve,type:"success",title:c,size:"custom",noPadding:!0,className:"max-w-3xl",description:a.formatMessage(oe.personalOnboardingSubheading),children:s.jsx(os,{onClose:e,scope:ns.Personal})})};function Us(){const[e,a]=r.useState(0),{hasSeenOnboardingDate:t}=$e(),{hasSeenTeamOwnerOnboardingDate:o}=Ke(),c=D(H.isBusinessWorkspace),n=re(),[i,u]=r.useState(!1),{data:m,isPending:M}=ue(),x=qe(m,M),{eligible:b,isLoading:y}=ks(),C=be(),f=Ce(),{data:l,isError:v}=Me(),p=l!=null,P=l&&(l==null?void 0:l.accountItems.length)>1&&l.currentAccountId==null,A=l==null?void 0:l.accountItems.some(d=>d.isPersonalAccount()),I=!!(l!=null&&l.accountItems)&&l.accountItems.length>0&&l.accountItems.every(({canAccessWithCurrentSession:d})=>!d),{eligible:W,isLoading:U}=Qe(),{value:$}=ye("1542198993"),k=r.useMemo(()=>[{Component:Ws,getModalState:()=>c?"hide":t===null?"loading":t===!1?"show":"hide",isDeferrable:!0},{Component:Ye,getModalState:()=>v?"hide":P?"show":p?"hide":"loading",isDeferrable:!1},{Component:Xe,getModalState:()=>C!==null?"show":v||p?"hide":"loading",isDeferrable:!1},{Component:Ze,getModalState:()=>f!=null?"show":v||p?"hide":"loading",isDeferrable:!1},{Component:Je,getModalState:()=>p?I?"show":"hide":"loading",isDeferrable:!1},{Component:Vs,getModalState:()=>"hide",isDeferrable:!1},{Component:es,getModalState:()=>!(n!=null&&n.isTeam())||!(n!=null&&n.isOwnerOfAccount())||!A?"hide":!p||o===null?"loading":o===!1?"show":"hide",isDeferrable:!1},{Component:ss,getModalState:()=>c?t===null?"loading":t===!1?"show":"hide":"hide",isDeferrable:!0},{Component:as,getModalState:()=>U?"loading":W&&$?"show":"hide",isDeferrable:!1},{Component:ts,getModalState:()=>x,isDeferrable:!1},{Component:Hs,getModalState:()=>y?"loading":b?"show":"hide",isDeferrable:!0,expiresAt:new Date(2024,7,13)}].filter(d=>!(d.isDeferrable&&i)&&(!d.expiresAt||d.expiresAt.getTime()>Date.now())),[f,p,t,o,A,y,c,v,C,n,I,P,x,b,i,$,W,U]);r.useEffect(()=>{if(k[e]&&k[e].getModalState()==="hide"){const d=k.findIndex(he=>he.getModalState()!=="hide");a(d)}},[e,k]);const w=k[e],B=(w==null?void 0:w.getModalState())==="show";if(r.useEffect(()=>{const d=R.getState().activeModals.has(T.BlockingInitialComponent);B!==d&&(B?S.openModal(T.BlockingInitialComponent):S.closeModal(T.BlockingInitialComponent))},[B]),w==null)return s.jsx("span",{"data-testid":"blocking-initial-modals-done",className:"hidden"});const K=w.getModalState();if(K==="loading")return null;K==="hide"&&a(d=>d+1);const ge=k[e].Component;return s.jsx(ge,{onClose:()=>{u(!0),a(d=>d+1)}})}const oe=V({workspaceWelcome:{id:"BlockingInitialModals.workspaceWelcome",defaultMessage:"Welcome to the {workspaceName} workspace"},personalOnboardingSubheading:{id:"BlockingInitialModals.personalOnboardingSubheading",defaultMessage:"Tips for getting started"}}),$s=g(()=>h(()=>import("./mwt4rgdboobkjphy.js"),__vite__mapDeps([76,1,2,3,7,4,5,8,9,62,60,61,41,13,14,15,16,17,18,6,19,20,21,22,23,24,25,26,27,28,29,30])).then(e=>e.DebugConversationSidebar)),Ks=g(()=>h(()=>import("./sso-n3llhrpkivyvy3mn.js").then(e=>e.l),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74])).then(e=>e.default)),qs=g(()=>h(()=>import("./sso-n3llhrpkivyvy3mn.js").then(e=>e.F),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74])).then(e=>e.FannyPackChatSidebar)),Qs=g(()=>h(()=>import("./sso-n3llhrpkivyvy3mn.js").then(e=>e.F),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74])).then(e=>e.FannyPackSidebarHeader));function Ys(){const e=Ae(),a=e==null?void 0:e.includes("debug");r.useEffect(()=>{if(a)return we(document,{keydown:t=>{t.target instanceof HTMLElement&&["input","textarea","select","button"].includes(t.target.tagName.toLowerCase())||t.key==="\\"&&S.toggleActiveSidebar("debug")}})},[a])}function Xs({clientThreadId:e,setClientThreadId:a,initiallyHighlightedMessageId:t,continueConversationUrl:o,urlThreadId:c}){const n=vs(),i=rs();Es(e,i?{kind:Q.GizmoInteraction,gizmo_id:i}:{kind:Q.PrimaryAssistant});const u=Ss(e),m=z(),M=re(),x=M==null?void 0:M.features,b=Rs(e),y=Se();r.useEffect(()=>(N.retainThread(e),()=>{setTimeout(()=>{y.invalidateQueries({queryKey:["conversation",e]})},0),N.releaseThread(e)}),[e,y]),r.useEffect(()=>{S.closeSharingModal()},[e,u]);const C=r.useCallback(()=>{a(F()),m.replace(b.tags.includes(ke.GPT_4)?"/":`/?model=${b.id}`,void 0,{shallow:!0})},[a,b.tags,b.id,m]);Is({resetThreadAction:C,clientThreadId:e});const f=R(I=>I.activeSidebar),l=_e();r.useEffect(()=>()=>{Y.checkGate("3922476776")||X.abortAllRequests()},[e]),Ys();const v=r.useRef(e);r.useEffect(()=>{e!==v.current&&(Y.checkGate("3922476776")||X.clear(),v.current=e)},[e]);const p=Be({clientThreadId:e,location:"Model switcher menu item"}),P=G(e),{value:A}=je("187267097");return s.jsxs(Fs,{clientThreadId:e,children:[s.jsx(Zs,{clientThreadId:e,urlThreadId:c}),s.jsxs(ae,{hideNavigation:n,mobileHeaderContent:s.jsx(Ts,{clientThreadId:e,inMobileHeader:!0}),mobileHeaderBottomContent:s.jsx(Ps,{clientThreadId:e}),mobileHeaderLeftContent:s.jsx(js,{onNewChatButtonClick:C}),mobileHeaderRightContent:s.jsx(As,{onNewChatButtonClick:C}),sidebar:s.jsx(ws,{navHeader:e?A===!0?s.jsx(Qs,{className:"flex h-[60px] items-center md:h-header-height",onNewThread:p}):s.jsx(Ns,{className:"flex h-[60px] items-center md:h-header-height",onNewThread:p}):null,children:A===!0?s.jsx(qs,{clientThreadId:e,onNewThread:p}):s.jsx(Ls,{clientThreadId:e,onNewThread:p})}),children:[s.jsx(ce,{children:s.jsx(me,{clientThreadId:e,initiallyHighlightedMessageId:t,continueConversationUrl:o},e)}),s.jsxs(ae.Sidebars,{children:[P&&s.jsx(Ks,{clientThreadId:e}),(x==null?void 0:x.includes("debug"))&&f==="debug"&&s.jsx($s,{clientThreadId:e,slideOver:!l,onClose:()=>S.toggleActiveSidebar("debug"),isOpen:!0})]})]})]})}function Zs({clientThreadId:e,urlThreadId:a}){const t=L(),o=z(),c=le();return s.jsx(ce,{children:c&&e&&!!a&&s.jsx(is,{isOpen:!0,title:s.jsx(j,{id:"HistoryGizmoItem.leaveTempChatTitle",defaultMessage:"Leave Temporary Chat?"}),description:s.jsx(j,{id:"HistoryGizmoItem.leaveTempChatDescription",defaultMessage:"Temporary Chats don't appear in your history, so you won't be able to come back to it."}),confirmText:t.formatMessage({id:"HistoryGizmoItem.leaveTempChatConfirm",defaultMessage:"Leave Temporary Chat"}),onClose:()=>{o.push("/")},onConfirm:()=>{de.setIsTemporaryChatEnabled(!1)}})})}const Js=450;function ea({children:e,clientThreadId:a,isOpen:t,onClose:o}){return s.jsx(cs,{children:t&&s.jsx(Ee,{children:s.jsx(ls.Provider,{value:{isEmbeddedInFocusedView:!0},children:s.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[s.jsx(te.div,{className:"h-full w-full bg-token-main-surface-secondary",...Z}),s.jsxs("div",{className:"absolute inset-0 flex",children:[s.jsx("div",{className:"flex-grow overflow-auto",children:e}),s.jsx(te.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:Js},...Z,children:s.jsx("div",{className:"h-[100vh] pb-4",children:s.jsx(me,{clientThreadId:a,hideHeader:!0,hideFooter:!0,hideToolsOverlay:!0,messagesVerticalAlign:"bottom"},a)})})]})]})})})})}const sa=g(()=>h(()=>import("./hfllhthdofk0bqzb.js"),__vite__mapDeps([77,1,2,3,4,5,13,9,7,8,14,15,16,17,18,6,19,20,21,22,23,24,25,26,27,28,29,30]))),aa=g(()=>h(()=>import("./ng6gkrz24k5izox6.js"),__vite__mapDeps([78,1,2,3,4,5,13,9,7,8,14,15,16,17,18,6,19,20,21,22,23,24,25,26,27,28,29,30,79,80,60,37,36])).then(e=>e.ImageEditor));function ta({clientThreadId:e}){const a=ds();r.useEffect(()=>{J.close()},[e]);let t;return(a==null?void 0:a.type)===ee.ADAVisualization?t=s.jsx(sa,{clientThreadId:e,visualization:a.visualization}):(a==null?void 0:a.type)===ee.Image&&(t=s.jsx(aa,{clientThreadId:e,messageId:a.messageId,image:a.image,allImages:a.allImages},a.image.asset_pointer)),s.jsx(ea,{clientThreadId:e,isOpen:a!=null,onClose:J.close,children:t})}const oa=()=>{const e=L(),a=R(n=>n.activeModals.has(T.KeyboardActions)),t=()=>{S.closeModal(T.KeyboardActions)},o=Os(),c=r.useMemo(()=>{const n=Math.ceil(o.length/2);return[o.slice(0,n),o.slice(n)]},[o]);return s.jsx(ie,{isOpen:a,onClose:t,type:"success",size:"custom",className:"md:max-w-[672px] lg:max-w-[796px] xl:max-w-4xl",showCloseButton:!0,title:e.formatMessage(ia.keyboardActionsModalTitle),children:s.jsx(s.Fragment,{children:s.jsx("div",{className:"grid grid-flow-row grid-cols-[repeat(auto-fit,minmax(250px,1fr))] gap-x-9",children:c.map((n,i)=>s.jsx("div",{className:"flex flex-col overflow-hidden",children:n.map(u=>s.jsx(na,{action:u},u.key))},`col-${i}`))})})})},na=({action:e})=>s.jsxs("div",{className:"flex items-center justify-between overflow-hidden text-token-text-primary",children:[s.jsx("div",{className:"flex flex-shrink items-center overflow-hidden text-sm",children:s.jsx("div",{className:"truncate",children:s.jsx(j,{...e.actionMessageDescriptor})})}),s.jsx("div",{className:"ml-3 flex flex-row gap-2",children:Ds(e.keyboardBinding).map((a,t)=>s.jsx(ra,{keyName:a},`${e.key}-${t}`))})]}),ra=({keyName:e})=>{const a=O("my-2 flex h-8 items-center justify-center rounded-md border border-token-border-light capitalize text-token-text-secondary");return e.length>1?e.length>3?s.jsx("div",{className:O(a,"min-w-[50px]"),children:s.jsx("span",{className:"text-xs",children:e})}):s.jsx("div",{className:O(a,"min-w-[32px]"),children:s.jsx("span",{className:"text-xs",children:e})}):s.jsx("div",{className:O(a,"min-w-[32px]"),children:s.jsx("span",{className:"text-sm",children:e})})},ia=V({keyboardActionsModalTitle:{id:"KeyboardActionsModal.keyboardActionsModalTitle",defaultMessage:"Keyboard shortcuts"}});var ca={};const la=g(()=>h(()=>import("./kl437xnoeskwqg3p.js"),__vite__mapDeps([81,1,2,3,13,4,5,9,7,8,14,15,16,17,18,6,19,20,21,22,23,24,25,26,27,28,29,30,82]))),da=g(()=>h(()=>import("./b6n06y45ar7v2v5a.js"),__vite__mapDeps([83,1,2,3,7,4,5,8,57,58,14,9,56,55])).then(e=>e.SearchResultsModal)),ua=g(()=>h(()=>import("./ccxaz7cnrphil8zu.js"),__vite__mapDeps([84,1,2,3,56,7,4,5,8,57,58,14,9])).then(e=>e.ImageLightbox)),ma=g(()=>h(()=>import("./sso-n3llhrpkivyvy3mn.js").then(e=>e.S),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74])).then(e=>e.default)),fe=Symbol("invalid path");function Ea(e){const a=e.split(/[#?]/)[0];if(a==="/")return;if(a.match(/^\/g\/\w+$/))return;const t=/(?:(?:\/gizmo)?\/g\/\w+)?\/c\/([a-f0-9-]+)$/.exec(a);return(t==null?void 0:t[1])??fe}function Ta(e){return e===fe}function Pa(e){const{urlThreadId:a,clientThreadId:t}=e,o="serviceStatus"in e?e.serviceStatus:null;pa();const c=le(),n=z(),[i,u]=r.useState(()=>a!==void 0?a:t!==void 0?t:F());a!==void 0&&i!==a&&N.getServerThreadId(i)!==a&&u(a);const m=us(Te());r.useEffect(()=>{a===void 0&&N.getServerThreadId(i)!==void 0&&u(F())},[a,i,m]);const{isUnauthenticated:M}=Pe();r.useEffect(()=>{if(M){S.closeSidebarWithoutSavingPreference();return}},[M]);const x=ms(),b=D(H.workspaceId),y=G(i);r.useEffect(()=>{(n.asPath==="/"||n.asPath.startsWith("/c/"))&&fs({namespace:se.ChatPageLoad})==null&&(gs({namespace:se.ChatPageLoad,opts:{expectedTimingLogs:[{name:"render_model_switcher",expectedInMs:1e4},{name:"render_history_items",expectedInMs:25e3}]}}),ne.addTiming("chatgpt.web.chatPage.mounted"))},[]);const C=hs();return r.useEffect(()=>{Ie(!0).then(f=>{f.force_login&&C({authType:"login"}),Oe.initializeAndGatherData(f),ps.initializeAndGatherData(f),De.initializeAndGatherData(f)})},[C]),r.useEffect(()=>{o!=null&&o.type&&x===!1&&E.warning(o.message,{hasCloseButton:!0,duration:5})},[x,o==null?void 0:o.message,o==null?void 0:o.type]),r.useEffect(()=>{const f=n.query[xs]==="true";c!==f&&de.setIsTemporaryChatEnabled(f)},[c,n.query]),s.jsxs(Ne.Provider,{value:null,children:[s.jsx(Us,{},b),s.jsx(oa,{}),s.jsx(bs,{}),s.jsx(Xs,{urlThreadId:a,clientThreadId:i,setClientThreadId:u}),!y&&s.jsx(ta,{clientThreadId:i}),s.jsx(ga,{clientThreadId:i}),s.jsx(ha,{clientThreadId:i}),s.jsx(fa,{}),y&&s.jsx(ma,{}),s.jsx(Cs,{})]})}function fa(){const e=R(a=>a.sharingModalThreadId);return e?s.jsx(la,{serverThreadId:e}):null}function ga({clientThreadId:e}){return Ms()&&s.jsx(da,{clientThreadId:e})}function ha({clientThreadId:e}){return ys()?s.jsx(ua,{clientThreadId:e}):null}function pa(){Le({queryKey:["pingEdge"],queryFn:()=>Re.pingEdge(),enabled:!0,staleTime:1/0})}typeof window<"u"&&(window._g=ca.GOKU_SERVICE);export{Pa as C,Js as F,Fs as a,Xs as b,Ea as g,Ta as i};
//# sourceMappingURL=lu21oaq5rer7q9yw.js.map
