const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/sso-ipuhfmti911l5wbt.js","assets/ofly9yrztlesgrye.js","assets/pbk6784aea0pnvmy.js","assets/root-cmvuzs81.css","assets/nqzijea2w2642vxo.js","assets/index-small-c8xg50op.css","assets/ffzjrrth2s7rj53y.js","assets/hgskjx43egewob6w.js","assets/lj5rtlp3i0cfoffa.js","assets/d4ayzlfdvw3mppxq.js","assets/nhwwej1nq0zrd7sc.js","assets/bioahmdl0dhuzf2s.js","assets/dnclpnvevlt4w60m.js","assets/c4wbs9sfbozms9h9.js","assets/o70b5rlocd70y24d.js","assets/kdfb7z4c9wk9qcaq.js","assets/eni5d61fsksdl3xv.js","assets/k8blgkgtyu77dvqj.js","assets/j8udrimwvg5wgb50.js","assets/pdyd96jvf5nj4arp.js","assets/ndz7khihe98mo9mr.js","assets/m35een31x7hl7one.js","assets/h7f61j8yt7zvajch.js","assets/cxynijnwgmoep20m.js","assets/kyhim0cxnn9lnc9c.js","assets/du2biz3bflj3ny15.js","assets/dqjxcbzr89kaex61.js","assets/ngly12g8pku877oj.js","assets/nr3n8xw311uli2v7.js","assets/o72bhizxu5dr6xab.js","assets/d0g8ptgc5gcqjwyj.js","assets/iketqivbiq1uua6y.js","assets/f50xww4ndvvgi9wd.js","assets/isjdmfmhzv09v01t.js","assets/hiowkoznbcbuyj5y.js","assets/m56qawl3nz8ab6w3.js","assets/cpruitoywmh2hmz7.js","assets/ip1g1wxksvlp6l12.js","assets/giz03xvnujeqild8.js","assets/mspfsragw34dubp8.js","assets/nja8bkvzwivp0d1e.js","assets/26qzd5j5c4gu7vgg.js","assets/ebjnzfyjozehhu1d.js","assets/hxk29e4mntnfdwo1.js","assets/g6g5o5sxy8te57v6.js","assets/cjrwfkkoj3f7v9aq.js","assets/fsddy3bxlesj6ecw.js","assets/j2pqa1cuq7toz2li.js","assets/lgunmrbg0zk74byl.js","assets/fjwokyxx7t8vavyv.js","assets/otl3kmh55r9mpho8.js","assets/mgd2lih2oegztyuc.js","assets/o7xzgyksykwpw458.js","assets/jhuun61paojcem1l.js","assets/kk3g11g1tx1qyiou.js","assets/nfegrk5dyqdjzy1l.js","assets/kqwdyvkaaavvn8k3.js","assets/knrqgejkx7kf6de9.js","assets/muiq032a7v6lqwp1.js","assets/j793iupxz6cbek3f.js","assets/jgtw8bw0po3nqr9k.js","assets/crv9067h7en0x84a.js","assets/cfu4tlrhgvcp30sx.js","assets/c9ruca640f27asij.js","assets/fs11lsv0j2bplke3.js","assets/f57vlzxujq1abxlh.js","assets/iej0cupg2dqkmejt.js","assets/gt5btci5dtrnoaqo.js","assets/gijjijf6bgeseo0o.js","assets/jddbarybj7ituzga.js","assets/nlwvsjzhecxypowl.js","assets/shared-mk6ngktc.css","assets/i7lxzk5wl4daufg5.js","assets/mrlqxqghd8fc4s3q.js","assets/sso-ibshx6th.css","assets/jz7a6sifs92l81h5.js","assets/sn3xcrw3vrcc2hpz.js","assets/d7v2bqyq3d0ac5h0.js","assets/ljyhsgxfc0fo1nxb.js","assets/obusnwng8hge3qlk.js","assets/iocmrs5z2c2jtl5f.js","assets/likpcgdstgsnp09q.js","assets/cu7i7jyqvstu6net.js","assets/b0l5o2iagffrsm67.js"])))=>i.map(i=>d[i]);
import{cc as h,bS as p,j as s,I as he,D as N,bH as pe,r,a2 as w,G as j,Z as ne,b5 as q,H as V,ai as re,aB as xe,ax as be,az as Ce,a8 as ye,E as ie,F as Me,bF as Q,S as z,z as ve,dB as Se,b8 as ke,b6 as Y,au as je,aw as ce,aq as _e,d5 as Ae,cL as we,aI as le,d0 as Ee,c as D,bz as Te,d2 as Pe,d3 as Ie,d4 as De,eV as Oe,cz as Le,af as Ne,C as Be}from"./ofly9yrztlesgrye.js";import{d as H,u as Fe}from"./ndz7khihe98mo9mr.js";import{aS as Re,fw as Ve,fx as de,fy as ze,fz as He,fA as Ge,fB as We,fC as Ue,fD as $e,fE as Ke,cp as O,fF as qe,fG as Qe,fH as Ye,fI as Xe,fJ as Ze,fK as Je,fL as es,fM as ss,fN as as,fO as ts,o as B,aO as E,U as M,cq as G,fP as os,fQ as ns,bB as rs,fR as X,c1 as is,A as cs,fS as ls,ci as Z,ch as ds,bm as J,bn as ee,bZ as us,fT as fs,fU as se,fV as ms,b3 as gs,a1 as hs,fW as ps,fX as xs,fY as bs,bg as Cs}from"./nqzijea2w2642vxo.js";import{j as ys,d as Ms,T as L,l as R}from"./hgskjx43egewob6w.js";import{u as vs}from"./m35een31x7hl7one.js";import{L as Ss}from"./h7f61j8yt7zvajch.js";import{S as ae,b as ks,c as js,N as _s}from"./obusnwng8hge3qlk.js";import{p as As,Z as ws,_ as Es,q as ue}from"./dnclpnvevlt4w60m.js";import{u as Ts,a as Ps,g as Is}from"./cpruitoywmh2hmz7.js";import{a as Ds,C as Os}from"./m56qawl3nz8ab6w3.js";import{f as Ls}from"./d4ayzlfdvw3mppxq.js";import{m as te}from"./lj5rtlp3i0cfoffa.js";const Ns=h(()=>p(()=>import("./sso-ipuhfmti911l5wbt.js").then(e=>e.t),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74])).then(e=>e.default));function Bs({clientThreadId:e,children:a}){return H(e)?s.jsx(Ns,{clientThreadId:e,children:a}):s.jsx(s.Fragment,{children:a})}function Fs({onClose:e}){const a=N(),{openSettings:t}=Re(),o=Ve(),{session:i}=pe(),{data:{isStorageComplianceEnabled:n}={}}=de(),{data:d,isLoading:m}=ze({enabled:!!(n&&i),select:u=>!u.cookie_consent.is_required});return r.useEffect(()=>{d===!0&&e()},[d,e]),m?null:s.jsx(Rs,{onReject:()=>{o.mutateAsync({analytics_cookies_accepted:!1},{onSuccess(){w.success(a.formatMessage(k.updateSuccess))},onError(){w.danger(a.formatMessage(k.updateFailure))}}),e()},onAccept:()=>{o.mutateAsync({analytics_cookies_accepted:!0},{onSuccess(){w.success(a.formatMessage(k.updateSuccess))},onError(){w.danger(a.formatMessage(k.updateFailure))}}),e()},children:s.jsx(j,{id:"CookieConsentBanner.authedDescription.0",defaultMessage:"We use cookies and similar technologies to deliver, maintain, improve our services and for security purposes. Check our <cookiePolicy>cookie policy</cookiePolicy> for details. Click 'Accept all' to let OpenAI and partners use cookies for these purposes. Click 'Reject all' to say no to cookies, except those that are strictly necessary. Choose <manageLink>manage cookies</manageLink> to change your preferences.",values:{cookiePolicy:u=>s.jsx(Ss,{href:"https://openai.com/policies/cookie-policy",openNewTab:!0,children:u}),manageLink:u=>s.jsx(Vs,{onClick:()=>{t(He.DataControls)},children:u})}})})}function Rs({children:e,onAccept:a,onReject:t}){return r.useEffect(()=>{ne.addAction("privacy_policy.show_cookie_consent_banner")},[]),s.jsxs(Ge,{children:[s.jsxs(We,{className:"text-sm font-semibold [grid-area:_title]",children:[e,s.jsxs("div",{className:"mt-2 flex justify-end gap-3",children:[s.jsx(q,{color:"secondary",size:"small",onClick:t,children:s.jsx(j,{...k.reject})}),s.jsx(q,{color:"secondary",size:"small",onClick:a,children:s.jsx(j,{...k.accept})})]})]}),s.jsx(Ue,{})]})}const Vs=he.button`underline font-normal text-green-600`,k=V({cookieConsentBannerTitle:{id:"CookieConsentBanner.title",defaultMessage:"We use cookies to provide, improve, and protect our services. Visit our <privacyPolicyLink>privacy policy</privacyPolicyLink> to learn more. You can manage your cookie preferences in your <settingsPanel>settings panel</settingsPanel>. <learnMoreLink>Learn more</learnMoreLink>."},reject:{id:"CookieConsentBanner.reject",defaultMessage:"Reject all"},accept:{id:"CookieConsentBanner.accept",defaultMessage:"Accept all"},updateSuccess:{id:"CookieConsentBanner.updateSuccess",defaultMessage:"Your cookie preferences were updated successfully"},updateFailure:{id:"CookieConsentBanner.updateFailure",defaultMessage:"Unable to update cookie preferences. Try again later."}}),zs=h(()=>p(async()=>{const{ModelOnboardingNUXModal:e}=await import("./jz7a6sifs92l81h5.js");return{ModelOnboardingNUXModal:e}},__vite__mapDeps([75,1,2,3,4,5,21,22,7,8,9])).then(({ModelOnboardingNUXModal:e})=>e),{ssr:!1}),Hs=({onClose:e})=>{const a=N(),t=O(G.isBusinessWorkspace),o=O(n=>n.currentWorkspace),i=t?a.formatMessage(oe.workspaceWelcome,{workspaceName:o==null?void 0:o.name}):"ChatGPT";return s.jsx(ie,{isOpen:!0,onClose:Me,type:"success",title:i,size:"custom",noPadding:!0,className:"max-w-3xl",description:a.formatMessage(oe.personalOnboardingSubheading),children:s.jsx(os,{onClose:e,scope:ns.Personal})})};function Gs(){const[e,a]=r.useState(0),{hasSeenOnboardingDate:t}=$e(),{hasSeenTeamOwnerOnboardingDate:o}=Ke(),i=O(G.isBusinessWorkspace),n=re(),[d,m]=r.useState(!1),{data:u,isPending:C}=de(),b=qe(u,C),{eligible:x,isLoading:f}=vs(),v=xe(),T=be(),{data:c,isError:y}=Ce(),g=c!=null,P=c&&(c==null?void 0:c.accountItems.length)>1&&c.currentAccountId==null,_=c==null?void 0:c.accountItems.some(l=>l.isPersonalAccount()),I=!!(c!=null&&c.accountItems)&&c.accountItems.length>0&&c.accountItems.every(({canAccessWithCurrentSession:l})=>!l),{eligible:W,isLoading:U}=Qe(),{value:$}=ye("1542198993"),S=r.useMemo(()=>[{Component:Hs,getModalState:()=>i?"hide":t===null?"loading":t===!1?"show":"hide",isDeferrable:!0},{Component:Ye,getModalState:()=>y?"hide":P?"show":g?"hide":"loading",isDeferrable:!1},{Component:Xe,getModalState:()=>v!==null?"show":y||g?"hide":"loading",isDeferrable:!1},{Component:Ze,getModalState:()=>T!=null?"show":y||g?"hide":"loading",isDeferrable:!1},{Component:Je,getModalState:()=>g?I?"show":"hide":"loading",isDeferrable:!1},{Component:Fs,getModalState:()=>"hide",isDeferrable:!1},{Component:es,getModalState:()=>!(n!=null&&n.isTeam())||!(n!=null&&n.isOwnerOfAccount())||!_?"hide":!g||o===null?"loading":o===!1?"show":"hide",isDeferrable:!1},{Component:ss,getModalState:()=>i?t===null?"loading":t===!1?"show":"hide":"hide",isDeferrable:!0},{Component:as,getModalState:()=>U?"loading":W&&$?"show":"hide",isDeferrable:!1},{Component:ts,getModalState:()=>b,isDeferrable:!1},{Component:zs,getModalState:()=>f?"loading":x?"show":"hide",isDeferrable:!0,expiresAt:new Date(2024,7,13)}].filter(l=>!(l.isDeferrable&&d)&&(!l.expiresAt||l.expiresAt.getTime()>Date.now())),[T,g,t,o,_,f,i,y,v,n,I,P,b,x,d,$,W,U]);r.useEffect(()=>{if(S[e]&&S[e].getModalState()==="hide"){const l=S.findIndex(ge=>ge.getModalState()!=="hide");a(l)}},[e,S]);const A=S[e],F=(A==null?void 0:A.getModalState())==="show";if(r.useEffect(()=>{const l=B.getState().activeModals.has(E.BlockingInitialComponent);F!==l&&(F?M.openModal(E.BlockingInitialComponent):M.closeModal(E.BlockingInitialComponent))},[F]),A==null)return s.jsx("span",{"data-testid":"blocking-initial-modals-done",className:"hidden"});const K=A.getModalState();if(K==="loading")return null;K==="hide"&&a(l=>l+1);const me=S[e].Component;return s.jsx(me,{onClose:()=>{m(!0),a(l=>l+1)}})}const oe=V({workspaceWelcome:{id:"BlockingInitialModals.workspaceWelcome",defaultMessage:"Welcome to the {workspaceName} workspace"},personalOnboardingSubheading:{id:"BlockingInitialModals.personalOnboardingSubheading",defaultMessage:"Tips for getting started"}}),Ws=h(()=>p(()=>import("./sn3xcrw3vrcc2hpz.js"),__vite__mapDeps([76,1,2,3,7,4,5,8,9,61,59,60,42,12,13,14,15,16,17,6,18,19,20,21,22,23,24,25,26,27,28,29])).then(e=>e.DebugConversationSidebar)),Us=h(()=>p(()=>import("./sso-ipuhfmti911l5wbt.js").then(e=>e.l),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74])).then(e=>e.default)),$s=h(()=>p(()=>import("./sso-ipuhfmti911l5wbt.js").then(e=>e.m),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74])).then(e=>e.FannyPackChatSidebar)),Ks=h(()=>p(()=>import("./sso-ipuhfmti911l5wbt.js").then(e=>e.m),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74])).then(e=>e.FannyPackSidebarHeader));function qs(){const e=_e(),a=e==null?void 0:e.includes("debug");r.useEffect(()=>{if(a)return Ae(document,{keydown:t=>{t.target instanceof HTMLElement&&["input","textarea","select","button"].includes(t.target.tagName.toLowerCase())||t.key==="\\"&&M.toggleActiveSidebar("debug")}})},[a])}function Qs({clientThreadId:e,setClientThreadId:a,initiallyHighlightedMessageId:t,continueConversationUrl:o,urlThreadId:i}){const n=ys(),d=rs();As(e,d?{kind:Q.GizmoInteraction,gizmo_id:d}:{kind:Q.PrimaryAssistant});const m=Ms(e),u=z(),C=re(),b=C==null?void 0:C.features,x=Ls(e),f=ve();r.useEffect(()=>(L.retainThread(e),()=>{setTimeout(()=>{f.invalidateQueries({queryKey:["conversation",e]})},0),L.releaseThread(e)}),[e,f]),r.useEffect(()=>{M.closeSharingModal()},[e,m]);const v=r.useCallback(()=>{a(R()),u.replace(x.tags.includes(Se.GPT_4)?"/":`/?model=${x.id}`,void 0,{shallow:!0})},[a,x.tags,x.id,u]);Ts({resetThreadAction:v,clientThreadId:e});const T=B(I=>I.activeSidebar),c=ke();r.useEffect(()=>()=>{Y.checkGate("3922476776")||X.abortAllRequests()},[e]),qs();const y=r.useRef(e);r.useEffect(()=>{e!==y.current&&(Y.checkGate("3922476776")||X.clear(),y.current=e)},[e]);const g=Fe({clientThreadId:e,location:"Model switcher menu item"}),P=H(e),{value:_}=je("187267097");return s.jsxs(Bs,{clientThreadId:e,children:[s.jsx(Ys,{clientThreadId:e,urlThreadId:i}),s.jsxs(ae,{hideNavigation:n,mobileHeaderContent:s.jsx(ws,{clientThreadId:e,inMobileHeader:!0}),mobileHeaderBottomContent:s.jsx(Es,{clientThreadId:e}),mobileHeaderLeftContent:s.jsx(ks,{onNewChatButtonClick:v}),mobileHeaderRightContent:s.jsx(js,{onNewChatButtonClick:v}),sidebar:s.jsx(_s,{navHeader:e?_===!0?s.jsx(Ks,{className:"flex h-[60px] items-center md:h-14",onNewThread:g}):s.jsx(Ds,{className:"flex h-[60px] items-center md:h-14",onNewThread:g}):null,children:_===!0?s.jsx($s,{clientThreadId:e,onNewThread:g}):s.jsx(Os,{clientThreadId:e,onNewThread:g})}),children:[s.jsx(ce,{children:s.jsx(ue,{clientThreadId:e,initiallyHighlightedMessageId:t,continueConversationUrl:o},e)}),s.jsxs(ae.Sidebars,{children:[P&&s.jsx(Us,{clientThreadId:e}),(b==null?void 0:b.includes("debug"))&&T==="debug"&&s.jsx(Ws,{clientThreadId:e,slideOver:!c,onClose:()=>M.toggleActiveSidebar("debug"),isOpen:!0})]})]})]})}function Ys({clientThreadId:e,urlThreadId:a}){const t=N(),o=z(),i=we();return s.jsx(ce,{children:i&&e&&!!a&&s.jsx(is,{isOpen:!0,title:s.jsx(j,{id:"HistoryGizmoItem.leaveTempChatTitle",defaultMessage:"Leave Temporary Chat?"}),description:s.jsx(j,{id:"HistoryGizmoItem.leaveTempChatDescription",defaultMessage:"Temporary Chats don't appear in your history, so you won't be able to come back to it."}),confirmText:t.formatMessage({id:"HistoryGizmoItem.leaveTempChatConfirm",defaultMessage:"Leave Temporary Chat"}),onClose:()=>{o.push("/")},onConfirm:()=>{le.setIsTemporaryChatEnabled(!1)}})})}const Xs=450;function Zs({children:e,clientThreadId:a,isOpen:t,onClose:o}){return s.jsx(cs,{children:t&&s.jsx(Ee,{children:s.jsx(ls.Provider,{value:{isEmbeddedInFocusedView:!0},children:s.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[s.jsx(te.div,{className:"h-full w-full bg-token-main-surface-secondary",...Z}),s.jsxs("div",{className:"absolute inset-0 flex",children:[s.jsx("div",{className:"flex-grow overflow-auto",children:e}),s.jsx(te.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:Xs},...Z,children:s.jsx("div",{className:"h-[100vh] pb-4",children:s.jsx(ue,{clientThreadId:a,hideHeader:!0,hideFooter:!0,hideToolsOverlay:!0,messagesVerticalAlign:"bottom"},a)})})]})]})})})})}const Js=h(()=>p(()=>import("./d7v2bqyq3d0ac5h0.js"),__vite__mapDeps([77,1,2,3,4,5,25,7,8,26]))),ea=h(()=>p(()=>import("./ljyhsgxfc0fo1nxb.js"),__vite__mapDeps([78,1,2,3,4,5,12,9,7,8,13,14,15,16,17,6,18,19,20,21,22,23,24,25,26,27,28,29,79,80,59,36,35])).then(e=>e.ImageEditor));function sa({clientThreadId:e}){const a=ds();r.useEffect(()=>{J.close()},[e]);let t;return(a==null?void 0:a.type)===ee.ADAVisualization?t=s.jsx(Js,{clientThreadId:e,visualization:a.visualization}):(a==null?void 0:a.type)===ee.Image&&(t=s.jsx(ea,{clientThreadId:e,messageId:a.messageId,image:a.image,allImages:a.allImages},a.image.asset_pointer)),s.jsx(Zs,{clientThreadId:e,isOpen:a!=null,onClose:J.close,children:t})}const aa=()=>{const e=N(),a=B(n=>n.activeModals.has(E.KeyboardActions)),t=()=>{M.closeModal(E.KeyboardActions)},o=Ps(),i=r.useMemo(()=>{const n=Math.ceil(o.length/2);return[o.slice(0,n),o.slice(n)]},[o]);return s.jsx(ie,{isOpen:a,onClose:t,type:"success",size:"custom",className:"md:max-w-[672px] lg:max-w-[796px] xl:max-w-4xl",showCloseButton:!0,title:e.formatMessage(na.keyboardActionsModalTitle),children:s.jsx(s.Fragment,{children:s.jsx("div",{className:"grid grid-flow-row grid-cols-[repeat(auto-fit,minmax(250px,1fr))] gap-x-9",children:i.map((n,d)=>s.jsx("div",{className:"flex flex-col overflow-hidden",children:n.map(m=>s.jsx(ta,{action:m},m.key))},`col-${d}`))})})})},ta=({action:e})=>s.jsxs("div",{className:"flex items-center justify-between overflow-hidden text-token-text-primary",children:[s.jsx("div",{className:"flex flex-shrink items-center overflow-hidden text-sm",children:s.jsx("div",{className:"truncate",children:s.jsx(j,{...e.actionMessageDescriptor})})}),s.jsx("div",{className:"ml-3 flex flex-row gap-2",children:Is(e.keyboardBinding).map((a,t)=>s.jsx(oa,{keyName:a},`${e.key}-${t}`))})]}),oa=({keyName:e})=>{const a=D("my-2 flex h-8 items-center justify-center rounded-md border border-token-border-light capitalize text-token-text-secondary");return e.length>1?e.length>3?s.jsx("div",{className:D(a,"min-w-[50px]"),children:s.jsx("span",{className:"text-xs",children:e})}):s.jsx("div",{className:D(a,"min-w-[32px]"),children:s.jsx("span",{className:"text-xs",children:e})}):s.jsx("div",{className:D(a,"min-w-[32px]"),children:s.jsx("span",{className:"text-sm",children:e})})},na=V({keyboardActionsModalTitle:{id:"KeyboardActionsModal.keyboardActionsModalTitle",defaultMessage:"Keyboard shortcuts"}});var ra={};const ia=h(()=>p(()=>import("./likpcgdstgsnp09q.js"),__vite__mapDeps([81,1,2,3,12,4,5,9,7,8,13,14,15,16,17,6,18,19,20,21,22,23,24,25,26,27,28,29,82]))),ca=h(()=>p(()=>import("./b0l5o2iagffrsm67.js"),__vite__mapDeps([83,1,2,3,55,41,7,4,5,8,56,57,13,9])).then(e=>e.ImageLightbox)),la=h(()=>p(()=>import("./sso-ipuhfmti911l5wbt.js").then(e=>e.S),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74])).then(e=>e.default)),fe=Symbol("invalid path");function ja(e){const a=e.split(/[#?]/)[0];if(a==="/")return;if(a.match(/^\/g\/\w+$/))return;const t=/(?:(?:\/gizmo)?\/g\/\w+)?\/c\/([a-f0-9-]+)$/.exec(a);return(t==null?void 0:t[1])??fe}function _a(e){return e===fe}function Aa(e){const{urlThreadId:a,clientThreadId:t}=e,o="serviceStatus"in e?e.serviceStatus:null;fa();const i=z(),[n,d]=r.useState(()=>a!==void 0?a:t!==void 0?t:R());a!==void 0&&n!==a&&L.getServerThreadId(n)!==a&&d(a),a===void 0&&L.getServerThreadId(n)!==void 0&&d(R());const{isUnauthenticated:m}=Te();r.useEffect(()=>{if(m){M.closeSidebarWithoutSavingPreference();return}},[m]);const u=us(),C=O(G.workspaceId),b=H(n);r.useEffect(()=>{(i.asPath==="/"||i.asPath.startsWith("/c/"))&&fs({namespace:se.ChatPageLoad})==null&&(ms({namespace:se.ChatPageLoad,opts:{expectedTimingLogs:[{name:"render_model_switcher",expectedInMs:1e4},{name:"render_history_items",expectedInMs:25e3}]}}),ne.addTiming("chatgpt.web.chatPage.mounted"))},[]);const x=gs();return r.useEffect(()=>{Pe(!0).then(f=>{f.force_login&&x({authType:"login"}),Ie.initializeAndGatherData(f),hs.initializeAndGatherData(f),De.initializeAndGatherData(f)})},[x]),r.useEffect(()=>{o!=null&&o.type&&u===!1&&w.warning(o.message,{hasCloseButton:!0,duration:5})},[u,o==null?void 0:o.message,o==null?void 0:o.type]),r.useEffect(()=>{const f=i.query[ps]==="true";Oe()!==f&&le.setIsTemporaryChatEnabled(f)},[i.query]),s.jsxs(Le.Provider,{value:null,children:[s.jsx(Gs,{},C),s.jsx(aa,{}),s.jsx(xs,{}),s.jsx(Qs,{urlThreadId:a,clientThreadId:n,setClientThreadId:d}),!b&&s.jsx(sa,{clientThreadId:n}),s.jsx(ua,{clientThreadId:n}),s.jsx(da,{}),b&&s.jsx(la,{}),s.jsx(bs,{})]})}function da(){const e=B(a=>a.sharingModalThreadId);return e?s.jsx(ia,{serverThreadId:e}):null}function ua({clientThreadId:e}){return Cs()?s.jsx(ca,{clientThreadId:e}):null}function fa(){Ne({queryKey:["pingEdge"],queryFn:()=>Be.pingEdge(),enabled:!0,staleTime:1/0})}typeof window<"u"&&(window._g=ra.GOKU_SERVICE);export{Aa as C,Xs as F,Bs as a,Qs as b,ja as g,_a as i};
