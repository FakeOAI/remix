import{af as d,r as a,aD as p,aE as h,j as e,cC as u,aC as c,C as l}from"./bahzwkph2ne3eyls.js";import{C as f,b as S}from"./o1j2edemj3ksni2r.js";import{m as x,T as C}from"./codbzyvijm6ysxs9.js";import{u as T}from"./h1m0b4qkc9uqut2y.js";import"./l2euh9jr36irqfhd.js";import"./dibm0rpouds2ml23.js";import"./osssmfbfx387nkfp.js";import"./vob0lj31hjn1wm62.js";import"./miukfjs4ixxxz4np.js";import"./livi8sco50k3cxwe.js";import"./jc3615ar2prwhftj.js";import"./o875bmaiwrcidr38.js";import"./lia678yjpfeqs8px.js";import"./dmvkul07jrsv5oew.js";import"./jlxioqt89ytgdal4.js";import"./lsf5205xb8uhelvm.js";import"./khwkulcvin3053jo.js";import"./lcdp6gs9f03r2n6l.js";import"./ogp6qk5n3wgjai4w.js";import"./c2ngwqta6y10c65f.js";import"./neqrmh68z94ca0s3.js";import"./mkvc221zzllmqy82.js";import"./e5xpxu685bcmo11v.js";import"./jqfk91km4z8oth8d.js";import"./l21uydfkq6k6cloh.js";import"./d1i0ajln9othjm15.js";import"./ic641g3112rzm1ta.js";import"./i6v4xmbkfg06mje0.js";import"./c7wey25wryf5int1.js";import"./m1399zjt2w9a5toy.js";import"./gl23g3chh1rvikmb.js";import"./ecb1ai34bk2onszv.js";function g(r){const i=r.sharedConversationId,{data:t,isError:s}=d({queryKey:[`shared-conversation/${i}`],queryFn:()=>l.getAuthedSharedConversation(i)}),[o]=a.useState(()=>x()),[n,m]=a.useState(!1);return a.useEffect(()=>{s&&(window.location.href=p(h.SHARE_NOT_FOUND))},[s]),a.useEffect(()=>{t&&o&&(C.initThreadFromServerData(o,t,!0,i),m(!0))},[t,i,o]),n?r.continueMode?e.jsx(f,{...r.chatPageProps,clientThreadId:o}):e.jsx(u.Provider,{value:{serverSharedThreadId:i,isIndexable:!1},children:e.jsx(S,{clientThreadId:o,setClientThreadId:()=>{},initiallyHighlightedMessageId:t==null?void 0:t.highlighted_message_id,continueConversationUrl:t==null?void 0:t.continue_conversation_url})}):e.jsx("div",{className:"flex h-full items-center justify-center",children:e.jsx(c,{className:"text-token-text-tertiary"})})}function Z(){const r=T();return e.jsx(g,{...r})}export{Z as default};
