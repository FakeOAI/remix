import{dB as c,r as l,S as I,P as g,cL as P,af as m,dC as _,ai as E,am as M,C as p}from"./ofly9yrztlesgrye.js";import{h as A}from"./hgskjx43egewob6w.js";import{aI as y,E as f,aJ as L,aK as O}from"./nqzijea2w2642vxo.js";const H="text-davinci-002-render-sha",j="gpt-4",B="gpt-4o",i=y({slug:f,max_tokens:4097,title:"Default",description:"",tags:[c.GPT_3_5],product_features:{}}),T=({default_model:e,tagline:t,color:r,human_category_name:o,category:n,human_category_short_name:s,human_category_shorter_name:u,subscription_level:d,short_explainer:h,...C})=>({color:r,tagline:t,defaultModel:e,label:o,shortLabel:s,description:h,shorterLabel:u??s,subscriptionLevel:d,categoryId:n,...C}),b=({icon:e,icon_filled_src:t,icon_outline_src:r})=>({iconName:e,iconFilledSrc:t,iconOutlineSrc:r}),G=({group:e,human_group_name:t,human_group_short_name:r,model_ids:o})=>({group:e,label:t,shortLabel:r,modelIds:o});function v(){return M({retry:5,queryKey:["modelIcons"],queryFn:async()=>await p.getModelIcons().then(e=>Object.fromEntries(Object.entries(e).map(([t,r])=>[t,b(r)])))})}function x(e){return M({retry:5,queryKey:["models",{isHistoryDisabled:e}],queryFn:async()=>await p.getModels(e).then(t=>{const{models:r,internal_groups:o,categories:n}=t,s=r.map(y);return{categories:n.concat().reverse().map(T),groups:(o==null?void 0:o.map(G))??[],modelsList:s,modelsMap:Object.fromEntries(s.map(u=>[u.id,u]))}})})}function a(){const e=P();return m(x(e))}function D(){return m(v())}function F({isRegen:e=!1}={}){const{isLoading:t,data:{categories:r=[],groups:o=[]}={}}=a(),n=l.useMemo(()=>e?r.filter(s=>s.is_regenerate_category!==!1):r.filter(s=>!s.is_regenerate_category),[r,e]);return{isLoading:t,categories:n,groups:o??[]}}function K(){const{categories:e}=F();return!!e.find(({categoryId:t})=>t===L.GPT4o)}function N(){const{data:e}=a();return l.useMemo(()=>e?new Set(Object.keys(e.modelsMap)):new Set([f]),[e])}const q={[f]:i};function w(){const{data:e}=a();return(e==null?void 0:e.modelsMap)??q}function Q(e,t,r){let o=c.GPT_3_5;return r?o=c.GPT_4:t&&(o=c.GPT_4o),(e==null?void 0:e.modelsList.find(n=>n.tags.includes(o)))??(e==null?void 0:e.modelsList[0])??i}function W(e=!1){const t=I(),{query:r}=t;return l.useCallback(({location:o,modelId:n})=>{const s={model:encodeURIComponent(n)},u=t.route.includes("/g/");if(e||u)g.logNewChatButtonClicked({location:o}),t.push({pathname:"/",query:s},void 0,{shallow:!0});else{const d={...r,...s};g.logNewChatButtonClicked({location:o}),t.replace({pathname:t.basePath,query:d},void 0,{shallow:!0})}},[e,r,t])}function z(){const{data:{categories:e=[]}={}}=a(),{doesUserHaveAnyAccountsWithPlusFeatures:t}=_();if(t)return null;const r=e.find(O);return(r==null?void 0:r.defaultModel)??null}function S(e){return A(e)}function J(e){const t=S(e),r=w();return l.useMemo(()=>t==null?i:r[t]??i,[t,r])}function Z(e){return decodeURIComponent(e.model??"")||null}function V(){const{data:e}=a(),{doesUserHaveAnyAccountsWithPlusFeatures:t}=_(),r=E();return Q(e,!!t,!!(r!=null&&r.isEnterprise()))}export{B as G,H as S,S as a,F as b,V as c,K as d,a as e,J as f,j as g,N as h,Z as i,w as j,D as k,z as l,W as u};
