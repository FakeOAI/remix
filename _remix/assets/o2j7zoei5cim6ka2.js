import{dA as c,r as l,S as A,P as g,dB as P,af as _,dC as m,ai as I,am as y,C as M}from"./k9l0508ak3e7lzcr.js";import{k as O}from"./d6iedxuu7mbdrnme.js";import{aN as p,y as f,aO as L,aP as E}from"./96tandeuiw92jgym.js";const R="text-davinci-002-render-sha",D="gpt-4",j="gpt-4o",i=p({slug:f,max_tokens:4097,title:"Default",description:"",tags:[c.GPT_3_5],product_features:{}}),T=({default_model:e,tagline:t,color:r,human_category_name:o,category:n,human_category_short_name:s,human_category_shorter_name:u,subscription_level:d,short_explainer:h,...C})=>({color:r,tagline:t,defaultModel:e,label:o,shortLabel:s,description:h,shorterLabel:u??s,subscriptionLevel:d,categoryId:n,...C}),b=({icon:e,icon_filled_src:t,icon_outline_src:r})=>({iconName:e,iconFilledSrc:t,iconOutlineSrc:r}),G=({group:e,human_group_name:t,human_group_short_name:r,model_ids:o})=>({group:e,label:t,shortLabel:r,modelIds:o});function v(){return y({retry:5,queryKey:["modelIcons"],queryFn:async()=>await M.getModelIcons().then(e=>Object.fromEntries(Object.entries(e).map(([t,r])=>[t,b(r)])))})}function x(e){return y({retry:5,queryKey:["models",{isHistoryDisabled:e}],queryFn:async()=>await M.getModels(e).then(t=>{const{models:r,internal_groups:o,categories:n}=t,s=r.map(p);return{categories:n.concat().reverse().map(T),groups:(o==null?void 0:o.map(G))??[],modelsList:s,modelsMap:Object.fromEntries(s.map(u=>[u.id,u]))}})})}function a(){const e=P();return _(x(e))}function B(){return _(v())}function F({isRegen:e=!1}={}){const{isLoading:t,data:{categories:r=[],groups:o=[]}={}}=a(),n=l.useMemo(()=>e?r.filter(s=>s.is_regenerate_category!==!1):r.filter(s=>!s.is_regenerate_category),[r,e]);return{isLoading:t,categories:n,groups:o??[]}}function N(){const{categories:e}=F();return!!e.find(({categoryId:t})=>t===L.GPT4o)}function W(){const{data:e}=a();return l.useMemo(()=>e?new Set(Object.keys(e.modelsMap)):new Set([f]),[e])}const q={[f]:i};function w(){const{data:e}=a();return(e==null?void 0:e.modelsMap)??q}function H(e,t,r){let o=c.GPT_3_5;return r?o=c.GPT_4:t&&(o=c.GPT_4o),(e==null?void 0:e.modelsList.find(n=>n.tags.includes(o)))??(e==null?void 0:e.modelsList[0])??i}function K(e=!1){const t=A(),{query:r}=t;return l.useCallback(({location:o,modelId:n})=>{const s={model:encodeURIComponent(n)},u=t.route.includes("/g/");if(e||u)g.logNewChatButtonClicked({location:o}),t.push({pathname:"/",query:s},void 0,{shallow:!0});else{const d={...r,...s};g.logNewChatButtonClicked({location:o}),t.replace({pathname:t.basePath,query:d},void 0,{shallow:!0})}},[e,r,t])}function z(){const{data:{categories:e=[]}={}}=a(),{doesUserHaveAnyAccountsWithPlusFeatures:t}=m();if(t)return null;const r=e.find(E);return(r==null?void 0:r.defaultModel)??null}function Q(e){return O(e)}function Z(e){const t=Q(e),r=w();return l.useMemo(()=>t==null?i:r[t]??i,[t,r])}function J(e){return decodeURIComponent(e.model??"")||null}function V(){const{data:e}=a(),{doesUserHaveAnyAccountsWithPlusFeatures:t}=m(),r=I();return H(e,!!t,!!(r!=null&&r.isEnterprise()))}export{j as G,R as S,Q as a,F as b,V as c,N as d,a as e,Z as f,D as g,W as h,J as i,w as j,B as k,z as l,K as u};
