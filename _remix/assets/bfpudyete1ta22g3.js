const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/sso-jki6b9b0l8btp322.js","assets/e80s9x9phit586fh.js","assets/g8qf5jn9kid9awdx.js","assets/root-la9akfcu.css","assets/epx1rnqqdufg3tv7.js","assets/conversation-small-c8xg50op.css","assets/mskiymhqe349kbng.js","assets/e322c9cec9ocpg7r.js","assets/dlro9umj0c9wyaej.js","assets/dn76ftnsp715i7mb.js","assets/nhwwej1nq0zrd7sc.js","assets/jyfpjmk105xsvjfa.js","assets/fzewt023ahaitsd0.js","assets/mqnmcsdwhn9d2wcp.js","assets/gl2g5sx3obzcpwbk.js","assets/kpkzfkkwgdxujno2.js","assets/jk7erkljhb7i9dvh.js","assets/e7wtkkz7nx6wwlkq.js","assets/idy0lh1nw6kidf2z.js","assets/o9cqws8mq3rmwyza.js","assets/i3k2sztl0g4xjf0a.js","assets/m14sciyapf4u44qm.js","assets/b0p6qfoiy2w3wq1g.js","assets/dry2sbaz1nsbrdmq.js","assets/bp5rzlrea8ema4vn.js","assets/c1rv7mo0pmb3hpmr.js","assets/ni0db4rfwk4ezwko.js","assets/k18ixaflx6e3p3pf.js","assets/gdqz689bvb0a9l4j.js","assets/gjmfbmzstboaxu6y.js","assets/gwrbiu63fmzaknyc.js","assets/d0g8ptgc5gcqjwyj.js","assets/celglpg5gixpzmxt.js","assets/frfb1ocwrdv55d0b.js","assets/isjdmfmhzv09v01t.js","assets/c525nqhcik86act0.js","assets/k6fiqhf2zovh80ci.js","assets/mau3lwopl4esou1q.js","assets/gm244wx3s8iyltus.js","assets/jnzitakyfwa7sru2.js","assets/nj6vbupfmaofdyif.js","assets/lq2ht282fn51398i.js","assets/g8b7p7fdvas9ijho.js","assets/mc4pputliamnigiy.js","assets/grvjqmjrbt4u3nuj.js","assets/ks3zfe0l7ud8vat6.js","assets/fsddy3bxlesj6ecw.js","assets/cpqs8yegslw6a9k2.js","assets/gcv06zn310a87p3x.js","assets/btfyq2kiua3lnouk.js","assets/mbhks8lfqv1oh10e.js","assets/nut09rl46ht2rdp3.js","assets/ej3m9qguuvy06bi7.js","assets/esz6ty1jcbymbh4j.js","assets/hochxsnyoz3o8rgl.js","assets/e63pgkancm02bceh.js","assets/ecp3yaygxxx90yp3.js","assets/kqwdyvkaaavvn8k3.js","assets/hl5eqhrsx0np9fyw.js","assets/d93ntbexecsmq2gq.js","assets/gzq2k44askcjxdbi.js","assets/jjm5lnzze6ptdl7x.js","assets/nuu079pp39syi4a2.js","assets/jh5fyfnrms55umyj.js","assets/05h4n0y0v45srst0.js","assets/g3f0xxnr8q9pwvuk.js","assets/cmrj0kwdmey9y3sf.js","assets/iej0cupg2dqkmejt.js","assets/hdkocwleuu74kldi.js","assets/by4s92uen0ifkhwl.js","assets/hp9bib4fob9b9rap.js","assets/emlblqqt467aw8px.js","assets/shared-mk6ngktc.css","assets/cr9et0j29sffm3w4.js","assets/sso-n4hcskdi.css","assets/ol7gdhztnpfonl4f.js","assets/exrehg6st8582bvj.js","assets/lnbyu7km5flkoskl.js","assets/oi88dtkzkidag1io.js","assets/cf61wogxu1x48za5.js","assets/j36wks2eekqepqds.js","assets/b63unststrwktgra.js","assets/cu7i7jyqvstu6net.js","assets/pbg8pnhi2taae2wn.js","assets/dfpoeejw1r3dzgr0.js"])))=>i.map(i=>d[i]);
import{ch as g,bY as h,j as s,I as pe,D as N,bM as xe,r,a2 as w,G as _,Z as ne,b5 as q,H as V,ai as re,aB as be,ax as Ce,az as Me,a8 as ye,E as ie,F as ve,bK as Q,S as z,z as Se,dB as ke,b8 as _e,b6 as Y,au as je,aw as ce,aq as Ae,d8 as we,cO as le,aI as de,d1 as Ee,c as O,bC as Te,d3 as Pe,d4 as Ie,d5 as Oe,cC as De,af as Le,C as Ne}from"./e80s9x9phit586fh.js";import{d as H,u as Re}from"./b0p6qfoiy2w3wq1g.js";import{aV as Be,fH as Fe,fI as ue,fJ as Ve,fK as ze,fL as He,fM as Ge,fN as We,fO as Ue,fP as $e,cw as D,fQ as Ke,fR as qe,fS as Qe,fT as Ye,fU as Xe,fV as Ze,fW as Je,fX as es,fY as ss,fZ as as,k as R,aU as E,U as v,cx as G,f_ as ts,f$ as os,bI as ns,g0 as X,c8 as rs,A as is,g1 as cs,cp as Z,co as ls,bs as J,bt as ee,c4 as ds,g2 as us,g3 as se,g4 as ms,b9 as fs,a6 as gs,g5 as hs,g6 as ps,g7 as xs,g8 as bs,bm as Cs}from"./epx1rnqqdufg3tv7.js";import{l as Ms,d as ys,T as L,m as F}from"./e322c9cec9ocpg7r.js";import{u as vs}from"./dry2sbaz1nsbrdmq.js";import{L as Ss}from"./bp5rzlrea8ema4vn.js";import{S as ae,b as ks,c as _s,N as js}from"./cf61wogxu1x48za5.js";import{y as As,a4 as ws,a5 as Es,z as me}from"./mqnmcsdwhn9d2wcp.js";import{u as Ts,a as Ps,g as Is}from"./mau3lwopl4esou1q.js";import{a as Os,C as Ds}from"./k6fiqhf2zovh80ci.js";import{f as Ls}from"./dn76ftnsp715i7mb.js";import{m as te}from"./dlro9umj0c9wyaej.js";const Ns=g(()=>h(()=>import("./sso-jki6b9b0l8btp322.js").then(e=>e.t),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74])).then(e=>e.default));function Rs({clientThreadId:e,children:a}){return H(e)?s.jsx(Ns,{clientThreadId:e,children:a}):s.jsx(s.Fragment,{children:a})}function Bs({onClose:e}){const a=N(),{openSettings:t}=Be(),o=Fe(),{session:c}=xe(),{data:{isStorageComplianceEnabled:n}={}}=ue(),{data:i,isLoading:f}=Ve({enabled:!!(n&&c),select:m=>!m.cookie_consent.is_required});return r.useEffect(()=>{i===!0&&e()},[i,e]),f?null:s.jsx(Fs,{onReject:()=>{o.mutateAsync({analytics_cookies_accepted:!1},{onSuccess(){w.success(a.formatMessage(k.updateSuccess))},onError(){w.danger(a.formatMessage(k.updateFailure))}}),e()},onAccept:()=>{o.mutateAsync({analytics_cookies_accepted:!0},{onSuccess(){w.success(a.formatMessage(k.updateSuccess))},onError(){w.danger(a.formatMessage(k.updateFailure))}}),e()},children:s.jsx(_,{id:"CookieConsentBanner.authedDescription.0",defaultMessage:"We use cookies and similar technologies to deliver, maintain, improve our services and for security purposes. Check our <cookiePolicy>cookie policy</cookiePolicy> for details. Click 'Accept all' to let OpenAI and partners use cookies for these purposes. Click 'Reject all' to say no to cookies, except those that are strictly necessary. Choose <manageLink>manage cookies</manageLink> to change your preferences.",values:{cookiePolicy:m=>s.jsx(Ss,{href:"https://openai.com/policies/cookie-policy",openNewTab:!0,children:m}),manageLink:m=>s.jsx(Vs,{onClick:()=>{t(ze.DataControls)},children:m})}})})}function Fs({children:e,onAccept:a,onReject:t}){return r.useEffect(()=>{ne.addAction("privacy_policy.show_cookie_consent_banner")},[]),s.jsxs(He,{children:[s.jsxs(Ge,{className:"text-sm font-semibold [grid-area:_title]",children:[e,s.jsxs("div",{className:"mt-2 flex justify-end gap-3",children:[s.jsx(q,{color:"secondary",size:"small",onClick:t,children:s.jsx(_,{...k.reject})}),s.jsx(q,{color:"secondary",size:"small",onClick:a,children:s.jsx(_,{...k.accept})})]})]}),s.jsx(We,{})]})}const Vs=pe.button`underline font-normal text-green-600`,k=V({cookieConsentBannerTitle:{id:"CookieConsentBanner.title",defaultMessage:"We use cookies to provide, improve, and protect our services. Visit our <privacyPolicyLink>privacy policy</privacyPolicyLink> to learn more. You can manage your cookie preferences in your <settingsPanel>settings panel</settingsPanel>. <learnMoreLink>Learn more</learnMoreLink>."},reject:{id:"CookieConsentBanner.reject",defaultMessage:"Reject all"},accept:{id:"CookieConsentBanner.accept",defaultMessage:"Accept all"},updateSuccess:{id:"CookieConsentBanner.updateSuccess",defaultMessage:"Your cookie preferences were updated successfully"},updateFailure:{id:"CookieConsentBanner.updateFailure",defaultMessage:"Unable to update cookie preferences. Try again later."}}),zs=g(()=>h(async()=>{const{ModelOnboardingNUXModal:e}=await import("./ol7gdhztnpfonl4f.js");return{ModelOnboardingNUXModal:e}},__vite__mapDeps([75,1,2,3,4,5,23,24,7,8,9])).then(({ModelOnboardingNUXModal:e})=>e),{ssr:!1}),Hs=({onClose:e})=>{const a=N(),t=D(G.isBusinessWorkspace),o=D(n=>n.currentWorkspace),c=t?a.formatMessage(oe.workspaceWelcome,{workspaceName:o==null?void 0:o.name}):"ChatGPT";return s.jsx(ie,{isOpen:!0,onClose:ve,type:"success",title:c,size:"custom",noPadding:!0,className:"max-w-3xl",description:a.formatMessage(oe.personalOnboardingSubheading),children:s.jsx(ts,{onClose:e,scope:os.Personal})})};function Gs(){const[e,a]=r.useState(0),{hasSeenOnboardingDate:t}=Ue(),{hasSeenTeamOwnerOnboardingDate:o}=$e(),c=D(G.isBusinessWorkspace),n=re(),[i,f]=r.useState(!1),{data:m,isPending:b}=ue(),C=Ke(m,b),{eligible:x,isLoading:M}=vs(),u=be(),T=Ce(),{data:l,isError:y}=Me(),p=l!=null,P=l&&(l==null?void 0:l.accountItems.length)>1&&l.currentAccountId==null,j=l==null?void 0:l.accountItems.some(d=>d.isPersonalAccount()),I=!!(l!=null&&l.accountItems)&&l.accountItems.length>0&&l.accountItems.every(({canAccessWithCurrentSession:d})=>!d),{eligible:W,isLoading:U}=qe(),{value:$}=ye("1542198993"),S=r.useMemo(()=>[{Component:Hs,getModalState:()=>c?"hide":t===null?"loading":t===!1?"show":"hide",isDeferrable:!0},{Component:Qe,getModalState:()=>y?"hide":P?"show":p?"hide":"loading",isDeferrable:!1},{Component:Ye,getModalState:()=>u!==null?"show":y||p?"hide":"loading",isDeferrable:!1},{Component:Xe,getModalState:()=>T!=null?"show":y||p?"hide":"loading",isDeferrable:!1},{Component:Ze,getModalState:()=>p?I?"show":"hide":"loading",isDeferrable:!1},{Component:Bs,getModalState:()=>"hide",isDeferrable:!1},{Component:Je,getModalState:()=>!(n!=null&&n.isTeam())||!(n!=null&&n.isOwnerOfAccount())||!j?"hide":!p||o===null?"loading":o===!1?"show":"hide",isDeferrable:!1},{Component:es,getModalState:()=>c?t===null?"loading":t===!1?"show":"hide":"hide",isDeferrable:!0},{Component:ss,getModalState:()=>U?"loading":W&&$?"show":"hide",isDeferrable:!1},{Component:as,getModalState:()=>C,isDeferrable:!1},{Component:zs,getModalState:()=>M?"loading":x?"show":"hide",isDeferrable:!0,expiresAt:new Date(2024,7,13)}].filter(d=>!(d.isDeferrable&&i)&&(!d.expiresAt||d.expiresAt.getTime()>Date.now())),[T,p,t,o,j,M,c,y,u,n,I,P,C,x,i,$,W,U]);r.useEffect(()=>{if(S[e]&&S[e].getModalState()==="hide"){const d=S.findIndex(he=>he.getModalState()!=="hide");a(d)}},[e,S]);const A=S[e],B=(A==null?void 0:A.getModalState())==="show";if(r.useEffect(()=>{const d=R.getState().activeModals.has(E.BlockingInitialComponent);B!==d&&(B?v.openModal(E.BlockingInitialComponent):v.closeModal(E.BlockingInitialComponent))},[B]),A==null)return s.jsx("span",{"data-testid":"blocking-initial-modals-done",className:"hidden"});const K=A.getModalState();if(K==="loading")return null;K==="hide"&&a(d=>d+1);const ge=S[e].Component;return s.jsx(ge,{onClose:()=>{f(!0),a(d=>d+1)}})}const oe=V({workspaceWelcome:{id:"BlockingInitialModals.workspaceWelcome",defaultMessage:"Welcome to the {workspaceName} workspace"},personalOnboardingSubheading:{id:"BlockingInitialModals.personalOnboardingSubheading",defaultMessage:"Tips for getting started"}}),Ws=g(()=>h(()=>import("./exrehg6st8582bvj.js"),__vite__mapDeps([76,1,2,3,7,4,5,8,9,62,60,61,41,13,14,15,16,17,18,6,19,20,21,22,23,24,25,26,27,28,29,30])).then(e=>e.DebugConversationSidebar)),Us=g(()=>h(()=>import("./sso-jki6b9b0l8btp322.js").then(e=>e.l),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74])).then(e=>e.default)),$s=g(()=>h(()=>import("./sso-jki6b9b0l8btp322.js").then(e=>e.F),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74])).then(e=>e.FannyPackChatSidebar)),Ks=g(()=>h(()=>import("./sso-jki6b9b0l8btp322.js").then(e=>e.F),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74])).then(e=>e.FannyPackSidebarHeader));function qs(){const e=Ae(),a=e==null?void 0:e.includes("debug");r.useEffect(()=>{if(a)return we(document,{keydown:t=>{t.target instanceof HTMLElement&&["input","textarea","select","button"].includes(t.target.tagName.toLowerCase())||t.key==="\\"&&v.toggleActiveSidebar("debug")}})},[a])}function Qs({clientThreadId:e,setClientThreadId:a,initiallyHighlightedMessageId:t,continueConversationUrl:o,urlThreadId:c}){const n=Ms(),i=ns();As(e,i?{kind:Q.GizmoInteraction,gizmo_id:i}:{kind:Q.PrimaryAssistant});const f=ys(e),m=z(),b=re(),C=b==null?void 0:b.features,x=Ls(e),M=Se();r.useEffect(()=>(L.retainThread(e),()=>{setTimeout(()=>{M.invalidateQueries({queryKey:["conversation",e]})},0),L.releaseThread(e)}),[e,M]),r.useEffect(()=>{v.closeSharingModal()},[e,f]);const u=r.useCallback(()=>{a(F()),m.replace(x.tags.includes(ke.GPT_4)?"/":`/?model=${x.id}`,void 0,{shallow:!0})},[a,x.tags,x.id,m]);Ts({resetThreadAction:u,clientThreadId:e});const T=R(I=>I.activeSidebar),l=_e();r.useEffect(()=>()=>{Y.checkGate("3922476776")||X.abortAllRequests()},[e]),qs();const y=r.useRef(e);r.useEffect(()=>{e!==y.current&&(Y.checkGate("3922476776")||X.clear(),y.current=e)},[e]);const p=Re({clientThreadId:e,location:"Model switcher menu item"}),P=H(e),{value:j}=je("187267097");return s.jsxs(Rs,{clientThreadId:e,children:[s.jsx(Ys,{clientThreadId:e,urlThreadId:c}),s.jsxs(ae,{hideNavigation:n,mobileHeaderContent:s.jsx(ws,{clientThreadId:e,inMobileHeader:!0}),mobileHeaderBottomContent:s.jsx(Es,{clientThreadId:e}),mobileHeaderLeftContent:s.jsx(ks,{onNewChatButtonClick:u}),mobileHeaderRightContent:s.jsx(_s,{onNewChatButtonClick:u}),sidebar:s.jsx(js,{navHeader:e?j===!0?s.jsx(Ks,{className:"flex h-[60px] items-center md:h-14",onNewThread:p}):s.jsx(Os,{className:"flex h-[60px] items-center md:h-14",onNewThread:p}):null,children:j===!0?s.jsx($s,{clientThreadId:e,onNewThread:p}):s.jsx(Ds,{clientThreadId:e,onNewThread:p})}),children:[s.jsx(ce,{children:s.jsx(me,{clientThreadId:e,initiallyHighlightedMessageId:t,continueConversationUrl:o},e)}),s.jsxs(ae.Sidebars,{children:[P&&s.jsx(Us,{clientThreadId:e}),(C==null?void 0:C.includes("debug"))&&T==="debug"&&s.jsx(Ws,{clientThreadId:e,slideOver:!l,onClose:()=>v.toggleActiveSidebar("debug"),isOpen:!0})]})]})]})}function Ys({clientThreadId:e,urlThreadId:a}){const t=N(),o=z(),c=le();return s.jsx(ce,{children:c&&e&&!!a&&s.jsx(rs,{isOpen:!0,title:s.jsx(_,{id:"HistoryGizmoItem.leaveTempChatTitle",defaultMessage:"Leave Temporary Chat?"}),description:s.jsx(_,{id:"HistoryGizmoItem.leaveTempChatDescription",defaultMessage:"Temporary Chats don't appear in your history, so you won't be able to come back to it."}),confirmText:t.formatMessage({id:"HistoryGizmoItem.leaveTempChatConfirm",defaultMessage:"Leave Temporary Chat"}),onClose:()=>{o.push("/")},onConfirm:()=>{de.setIsTemporaryChatEnabled(!1)}})})}const Xs=450;function Zs({children:e,clientThreadId:a,isOpen:t,onClose:o}){return s.jsx(is,{children:t&&s.jsx(Ee,{children:s.jsx(cs.Provider,{value:{isEmbeddedInFocusedView:!0},children:s.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[s.jsx(te.div,{className:"h-full w-full bg-token-main-surface-secondary",...Z}),s.jsxs("div",{className:"absolute inset-0 flex",children:[s.jsx("div",{className:"flex-grow overflow-auto",children:e}),s.jsx(te.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:Xs},...Z,children:s.jsx("div",{className:"h-[100vh] pb-4",children:s.jsx(me,{clientThreadId:a,hideHeader:!0,hideFooter:!0,hideToolsOverlay:!0,messagesVerticalAlign:"bottom"},a)})})]})]})})})})}const Js=g(()=>h(()=>import("./lnbyu7km5flkoskl.js"),__vite__mapDeps([77,1,2,3,4,5,13,9,7,8,14,15,16,17,18,6,19,20,21,22,23,24,25,26,27,28,29,30]))),ea=g(()=>h(()=>import("./oi88dtkzkidag1io.js"),__vite__mapDeps([78,1,2,3,4,5,13,9,7,8,14,15,16,17,18,6,19,20,21,22,23,24,25,26,27,28,29,30,79,80,60,37,36])).then(e=>e.ImageEditor));function sa({clientThreadId:e}){const a=ls();r.useEffect(()=>{J.close()},[e]);let t;return(a==null?void 0:a.type)===ee.ADAVisualization?t=s.jsx(Js,{clientThreadId:e,visualization:a.visualization}):(a==null?void 0:a.type)===ee.Image&&(t=s.jsx(ea,{clientThreadId:e,messageId:a.messageId,image:a.image,allImages:a.allImages},a.image.asset_pointer)),s.jsx(Zs,{clientThreadId:e,isOpen:a!=null,onClose:J.close,children:t})}const aa=()=>{const e=N(),a=R(n=>n.activeModals.has(E.KeyboardActions)),t=()=>{v.closeModal(E.KeyboardActions)},o=Ps(),c=r.useMemo(()=>{const n=Math.ceil(o.length/2);return[o.slice(0,n),o.slice(n)]},[o]);return s.jsx(ie,{isOpen:a,onClose:t,type:"success",size:"custom",className:"md:max-w-[672px] lg:max-w-[796px] xl:max-w-4xl",showCloseButton:!0,title:e.formatMessage(na.keyboardActionsModalTitle),children:s.jsx(s.Fragment,{children:s.jsx("div",{className:"grid grid-flow-row grid-cols-[repeat(auto-fit,minmax(250px,1fr))] gap-x-9",children:c.map((n,i)=>s.jsx("div",{className:"flex flex-col overflow-hidden",children:n.map(f=>s.jsx(ta,{action:f},f.key))},`col-${i}`))})})})},ta=({action:e})=>s.jsxs("div",{className:"flex items-center justify-between overflow-hidden text-token-text-primary",children:[s.jsx("div",{className:"flex flex-shrink items-center overflow-hidden text-sm",children:s.jsx("div",{className:"truncate",children:s.jsx(_,{...e.actionMessageDescriptor})})}),s.jsx("div",{className:"ml-3 flex flex-row gap-2",children:Is(e.keyboardBinding).map((a,t)=>s.jsx(oa,{keyName:a},`${e.key}-${t}`))})]}),oa=({keyName:e})=>{const a=O("my-2 flex h-8 items-center justify-center rounded-md border border-token-border-light capitalize text-token-text-secondary");return e.length>1?e.length>3?s.jsx("div",{className:O(a,"min-w-[50px]"),children:s.jsx("span",{className:"text-xs",children:e})}):s.jsx("div",{className:O(a,"min-w-[32px]"),children:s.jsx("span",{className:"text-xs",children:e})}):s.jsx("div",{className:O(a,"min-w-[32px]"),children:s.jsx("span",{className:"text-sm",children:e})})},na=V({keyboardActionsModalTitle:{id:"KeyboardActionsModal.keyboardActionsModalTitle",defaultMessage:"Keyboard shortcuts"}});var ra={};const ia=g(()=>h(()=>import("./b63unststrwktgra.js"),__vite__mapDeps([81,1,2,3,13,4,5,9,7,8,14,15,16,17,18,6,19,20,21,22,23,24,25,26,27,28,29,30,82]))),ca=g(()=>h(()=>import("./pbg8pnhi2taae2wn.js"),__vite__mapDeps([83,1,2,3,7,4,5,8,57,58,14,9,56,55])).then(e=>e.SearchResultsModal)),la=g(()=>h(()=>import("./dfpoeejw1r3dzgr0.js"),__vite__mapDeps([84,1,2,3,56,7,4,5,8,57,58,14,9])).then(e=>e.ImageLightbox)),da=g(()=>h(()=>import("./sso-jki6b9b0l8btp322.js").then(e=>e.S),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74])).then(e=>e.default)),fe=Symbol("invalid path");function Aa(e){const a=e.split(/[#?]/)[0];if(a==="/")return;if(a.match(/^\/g\/\w+$/))return;const t=/(?:(?:\/gizmo)?\/g\/\w+)?\/c\/([a-f0-9-]+)$/.exec(a);return(t==null?void 0:t[1])??fe}function wa(e){return e===fe}function Ea(e){const{urlThreadId:a,clientThreadId:t}=e,o="serviceStatus"in e?e.serviceStatus:null;ga();const c=le(),n=z(),[i,f]=r.useState(()=>a!==void 0?a:t!==void 0?t:F());a!==void 0&&i!==a&&L.getServerThreadId(i)!==a&&f(a),r.useEffect(()=>{a===void 0&&L.getServerThreadId(i)!==void 0&&f(F())},[a,i]);const{isUnauthenticated:m}=Te();r.useEffect(()=>{if(m){v.closeSidebarWithoutSavingPreference();return}},[m]);const b=ds(),C=D(G.workspaceId),x=H(i);r.useEffect(()=>{(n.asPath==="/"||n.asPath.startsWith("/c/"))&&us({namespace:se.ChatPageLoad})==null&&(ms({namespace:se.ChatPageLoad,opts:{expectedTimingLogs:[{name:"render_model_switcher",expectedInMs:1e4},{name:"render_history_items",expectedInMs:25e3}]}}),ne.addTiming("chatgpt.web.chatPage.mounted"))},[]);const M=fs();return r.useEffect(()=>{Pe(!0).then(u=>{u.force_login&&M({authType:"login"}),Ie.initializeAndGatherData(u),gs.initializeAndGatherData(u),Oe.initializeAndGatherData(u)})},[M]),r.useEffect(()=>{o!=null&&o.type&&b===!1&&w.warning(o.message,{hasCloseButton:!0,duration:5})},[b,o==null?void 0:o.message,o==null?void 0:o.type]),r.useEffect(()=>{const u=n.query[hs]==="true";c!==u&&de.setIsTemporaryChatEnabled(u)},[c,n.query]),s.jsxs(De.Provider,{value:null,children:[s.jsx(Gs,{},C),s.jsx(aa,{}),s.jsx(ps,{}),s.jsx(Qs,{urlThreadId:a,clientThreadId:i,setClientThreadId:f}),!x&&s.jsx(sa,{clientThreadId:i}),s.jsx(ma,{clientThreadId:i}),s.jsx(fa,{clientThreadId:i}),s.jsx(ua,{}),x&&s.jsx(da,{}),s.jsx(xs,{})]})}function ua(){const e=R(a=>a.sharingModalThreadId);return e?s.jsx(ia,{serverThreadId:e}):null}function ma({clientThreadId:e}){return bs()&&s.jsx(ca,{clientThreadId:e})}function fa({clientThreadId:e}){return Cs()?s.jsx(la,{clientThreadId:e}):null}function ga(){Le({queryKey:["pingEdge"],queryFn:()=>Ne.pingEdge(),enabled:!0,staleTime:1/0})}typeof window<"u"&&(window._g=ra.GOKU_SERVICE);export{Ea as C,Xs as F,Rs as a,Qs as b,Aa as g,wa as i};
//# sourceMappingURL=bfpudyete1ta22g3.js.map
