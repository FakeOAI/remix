import{af as d,r as a,aD as p,aE as h,j as e,cB as u,aC as c,C as l}from"./k9l0508ak3e7lzcr.js";import{C as f,b as S}from"./ohzn8wmjhjldvik0.js";import{m as x,T as C}from"./d6iedxuu7mbdrnme.js";import{u as T}from"./jqz6to61rc4qnxah.js";import"./hb601xkanolcuyaq.js";import"./e3k9cb8uwm99utvn.js";import"./96tandeuiw92jgym.js";import"./o2j7zoei5cim6ka2.js";import"./d62fngjk63obka60.js";import"./hzw0ff6rjd09jg7f.js";import"./f4nw1q46dq68qnfg.js";import"./n6gx7pwp5gug9dm8.js";import"./d1a1p9cyvii86n4l.js";import"./ig7iznl8s7o1ddbr.js";import"./ggawl8byc99vubbx.js";import"./m5r2yh58ny5yc24l.js";import"./ej3ns4spycy0rk23.js";import"./cm5n61cms06lj79x.js";import"./g5ctkkygjcmrw331.js";import"./dqxhy47kn5tkoa5s.js";import"./k622ympglklagiz2.js";import"./oybf574cger3pelq.js";import"./ksy6ratuhno73b4l.js";import"./gybf1xpggzowlfco.js";import"./h8mdccozlfawktt2.js";import"./oqqzxed1ehegjzja.js";import"./feq9xncu59mae28z.js";import"./l9xncwrat9xo59pd.js";import"./khz8po5ex2ehpu1p.js";import"./g0gfvp824656keb3.js";import"./ns5insksphbbdwq8.js";import"./nein4m4b1tkoguwm.js";function g(r){const i=r.sharedConversationId,{data:t,isError:s}=d({queryKey:[`shared-conversation/${i}`],queryFn:()=>l.getAuthedSharedConversation(i)}),[o]=a.useState(()=>x()),[n,m]=a.useState(!1);return a.useEffect(()=>{s&&(window.location.href=p(h.SHARE_NOT_FOUND))},[s]),a.useEffect(()=>{t&&o&&(C.initThreadFromServerData(o,t,!0,i),m(!0))},[t,i,o]),n?r.continueMode?e.jsx(f,{...r.chatPageProps,clientThreadId:o}):e.jsx(u.Provider,{value:{serverSharedThreadId:i,isIndexable:!1},children:e.jsx(S,{clientThreadId:o,setClientThreadId:()=>{},initiallyHighlightedMessageId:t==null?void 0:t.highlighted_message_id,continueConversationUrl:t==null?void 0:t.continue_conversation_url})}):e.jsx("div",{className:"flex h-full items-center justify-center",children:e.jsx(c,{className:"text-token-text-tertiary"})})}function Z(){const r=T();return e.jsx(g,{...r})}export{Z as default};
