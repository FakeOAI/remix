const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/c11yg7ioqhf72x06.js","assets/ofly9yrztlesgrye.js","assets/pbk6784aea0pnvmy.js","assets/root-cmvuzs81.css"])))=>i.map(i=>d[i]);
import{r as T,af as ks,C as Ds,eV as Ss,bS as Ns,bf as js,cx as Os,j as o,D as wt,M as se,bc as Es,H as yt,e5 as Is,ej as Kt,T as bt,b8 as As,d8 as es,c as N,G as D,S as ts,bl as Us,cA as Ls,P as B,x as X,b6 as ae,e$ as Fs,dc as Ws,I as Ys,b5 as zs,d1 as Hs,cf as ss,a8 as Rs,fA as qs}from"./ofly9yrztlesgrye.js";import{k as Bs,g as Xs,T as Vs,q as Gs,m as Zs,E as Qs,$ as Js,p as ns,a0 as Ks,d as $t,j as rs}from"./hgskjx43egewob6w.js";import{q as en,ar as U,as as F,jt as as,e as _t,kH as os,hi as W,jh as tn,eS as sn,bh as kt,bi as nn,x as is,kI as rn,at as oe,fo as an,kJ as on,j8 as ln}from"./nqzijea2w2642vxo.js";import{b as cn,c as un,d as dn,S as Dt,D as fn,e as hn,g as mn,R as pn,u as gn}from"./nja8bkvzwivp0d1e.js";import{U as vn}from"./jhuun61paojcem1l.js";import{b as Pt}from"./fjwokyxx7t8vavyv.js";import{S as Y,P as j,c as ls,R as ie,f as xn,d as wn}from"./kk3g11g1tx1qyiou.js";import{b as yn,c as bn}from"./dqjxcbzr89kaex61.js";import{E as I}from"./h7f61j8yt7zvajch.js";import{f as $n,F as cs,C as _n,u as Pn,bV as Tn,bW as Mn}from"./pbk6784aea0pnvmy.js";import{b as J}from"./iketqivbiq1uua6y.js";import{g as us}from"./kqwdyvkaaavvn8k3.js";import{v as St,C as Cn,A as kn,a as Dn,L as Sn,B as Nn,p as jn,b as On,o as En,P as In,q as An,f as Un}from"./nlwvsjzhecxypowl.js";import{u as Ln}from"./knrqgejkx7kf6de9.js";import{F as de}from"./nfegrk5dyqdjzy1l.js";import{B as Fn,D as Wn}from"./ffzjrrth2s7rj53y.js";import"./lj5rtlp3i0cfoffa.js";import"./26qzd5j5c4gu7vgg.js";import"./ebjnzfyjozehhu1d.js";import"./c4wbs9sfbozms9h9.js";import"./d4ayzlfdvw3mppxq.js";async function Yn(e){const t=await Ns(()=>import("./c11yg7ioqhf72x06.js").then(s=>s.i),__vite__mapDeps([0,1,2,3]));if(e!=null&&e.startsWith(js))return!0;try{return t.get(new URL(e??"").hostname)==="openai.com"}catch{return!1}}function zn(e,t){return ks({queryKey:["safe-url",{serverThreadId:e,url:t}],queryFn:async()=>{var s;return await Yn(t)||(s=Vs.getThreadSafeUrls(e))!=null&&s.includes(t)?{safe:!0}:Ds.getConversationSafeUrls(e,t,Ss())},enabled:e!=null&&t!=null})}function Hn(e,t,s=!0){const n=Bs(a=>e!=null&&t!=null&&Xs.isThreadUrlSafe(e,t,a)),{data:{safe:r}={}}=zn(e,n?void 0:t);return n||r||!s?t:void 0}function Rn(e,t){const[s,n]=T.useState(void 0),[r]=T.useState(()=>en(a=>{n(a)},t));return T.useEffect(()=>{r(e)},[r,e]),s===e?e:void 0}function qn(e){return e&&/^turn[0-9]+ifs[0-9]+$/.test(e)}function Nt(e,t){try{return BigInt(e).toLocaleString(t)}catch{const s=Number(e);return e.includes("e")||e.includes("E")?s.toExponential():s.toLocaleString(t,{maximumFractionDigits:6})}}function Bn({data:e,turnIndex:t}){const s=U(F.threadId);T.useEffect(()=>{s&&Y.logEvent(j.searchWidgetShown,{thread_id:s,type:"calculator",turn_index:t})},[s,t]);const{currentLocale:n}=Os();return e.expression&&e.result!=null?o.jsxs("div",{className:"no-scrollbar overflow-auto sm:overflow-hidden",children:[o.jsxs("div",{className:"pb-1 text-lg font-semibold",children:[e.prefix&&o.jsx("span",{children:e.prefix}),o.jsx("span",{children:Nt(e.result,n)}),e.suffix&&o.jsx("span",{children:e.suffix})]}),o.jsx("div",{className:"tracking-wide text-token-text-tertiary",children:`${e.expression}=${Nt(e.result,n)}`})]}):null}function Xn(e){return o.jsxs(as,{width:"19",height:"15",viewBox:"0 0 19 15",fill:"none",...e,children:[o.jsx("path",{d:"M4.42 0.75H2.8625H2.75C1.64543 0.75 0.75 1.64543 0.75 2.75V11.65C0.75 12.7546 1.64543 13.65 2.75 13.65H2.8625C2.8625 13.65 2.8625 13.65 2.8625 13.65C2.8625 13.65 4.00751 13.65 4.42 13.65M13.98 13.65H15.5375H15.65C16.7546 13.65 17.65 12.7546 17.65 11.65V2.75C17.65 1.64543 16.7546 0.75 15.65 0.75H15.5375H13.98",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.16045 7.41534C5.32257 7.228 4.69638 6.47988 4.69638 5.58551C4.69638 4.54998 5.53584 3.71051 6.57136 3.71051C7.60689 3.71051 8.44635 4.54998 8.44635 5.58551C8.44635 5.8965 8.37064 6.1898 8.23664 6.448C8.22998 6.48984 8.21889 6.53136 8.20311 6.57208L6.77017 10.2702C6.63182 10.6272 6.18568 10.7873 5.7737 10.6276C5.36172 10.468 5.13991 10.0491 5.27826 9.69206L6.16045 7.41534ZM11.4177 7.41534C10.5798 7.228 9.95362 6.47988 9.95362 5.58551C9.95362 4.54998 10.7931 3.71051 11.8286 3.71051C12.8641 3.71051 13.7036 4.54998 13.7036 5.58551C13.7036 5.8965 13.6279 6.1898 13.4939 6.448C13.4872 6.48984 13.4761 6.53136 13.4604 6.57208L12.0274 10.2702C11.8891 10.6272 11.4429 10.7873 11.0309 10.6276C10.619 10.468 10.3971 10.0491 10.5355 9.69206L11.4177 7.41534Z",fill:"currentColor"})]})}function Vn(e){return o.jsxs(as,{width:"19",height:"15",viewBox:"0 0 19 15",fill:"none",...e,children:[o.jsx("path",{d:"M4.42 0.75H2.8625H2.75C1.64543 0.75 0.75 1.64543 0.75 2.75V11.65C0.75 12.7546 1.64543 13.65 2.75 13.65H2.8625C2.8625 13.65 2.8625 13.65 2.8625 13.65C2.8625 13.65 4.00751 13.65 4.42 13.65M13.98 13.65H15.5375H15.65C16.7546 13.65 17.65 12.7546 17.65 11.65V2.75C17.65 1.64543 16.7546 0.75 15.65 0.75H15.5375H13.98",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M5.55283 4.21963C5.25993 3.92674 4.78506 3.92674 4.49217 4.21963C4.19927 4.51252 4.19927 4.9874 4.49217 5.28029L6.36184 7.14996L4.49217 9.01963C4.19927 9.31252 4.19927 9.7874 4.49217 10.0803C4.78506 10.3732 5.25993 10.3732 5.55283 10.0803L7.95283 7.68029C8.24572 7.3874 8.24572 6.91252 7.95283 6.61963L5.55283 4.21963Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"0.2",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M9.77753 8.75003C9.3357 8.75003 8.97753 9.10821 8.97753 9.55003C8.97753 9.99186 9.3357 10.35 9.77753 10.35H13.2775C13.7194 10.35 14.0775 9.99186 14.0775 9.55003C14.0775 9.10821 13.7194 8.75003 13.2775 8.75003H9.77753Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"0.1"})]})}function Gn({codeMessage:e,codeExecutionOutputMessage:t,onDismiss:s,FormattedText:n}){const r=wt();return o.jsx(se.Root,{isOpen:!0,onClose:s,children:o.jsx(se.Overlay,{children:o.jsxs(se.Content,{className:"flex max-h-[75vh] max-w-lg flex-col overflow-hidden",children:[o.jsx(se.Header,{title:r.formatMessage(Zn.title),type:"success",closeButton:o.jsx(Es,{onClick:s})}),o.jsxs("div",{className:"flex flex-1 flex-col overflow-auto bg-black",children:[o.jsx("div",{children:o.jsx(yn,{FormattedText:n,message:e})}),o.jsx("div",{children:o.jsx(bn,{message:t})})]})]})})})}const Zn=yt({title:{id:"CodeExecutionOutputModal.title",defaultMessage:"Analysis"}});function Qn({displayInfo:e,FormattedText:t}){const[s,n]=T.useState(!1),r=wt();return o.jsxs(o.Fragment,{children:[o.jsx(_t,{label:r.formatMessage(Jn.viewAnalysis),side:"top",sideOffset:4,withArrow:!1,delayDuration:150,children:o.jsx("button",{onClick:()=>n(!0),children:o.jsx(Vn,{className:"-mt-0.5 ml-0.5 inline-block text-token-link hover:text-token-link-hover"})})}),s&&o.jsx(Gn,{FormattedText:t,codeMessage:e.codeMessage,codeExecutionOutputMessage:e.codeExecutionOutputMessage,onDismiss:()=>n(!1)})]})}const Jn=yt({viewAnalysis:{id:"viewAnalysis",defaultMessage:"View analysis"}}),jt=24;function Kn(e){const t=e.split(".");let s=e;return t.length>1&&t.slice(0,-1).some(n=>n.length>0)&&(s=t.slice(0,-1).join(".")),s.length>jt&&(s=s.slice(0,jt-1)+"â€¦"),s}function er({fileRef:e,onClick:t}){const s=os();if(!e)return null;const n=o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"flex shrink-0 items-center justify-center",children:o.jsx($n,{className:"icon-xs"})}),o.jsx("div",{className:"max-w-xs truncate",children:e.name}),o.jsx("div",{className:"shrink-0",children:o.jsx(cs,{className:"icon-xs"})})]});return e.cloud_doc_url?o.jsx(I,{href:e.cloud_doc_url,target:"_blank",rel:"noreferrer",className:"text-xs",children:n}):o.jsx("button",{onClick:()=>{s(e.id,e.name),t==null||t()},className:"text-xs",children:n})}function tr({fileRef:e,index:t}){var p;const s=os(),n=T.useContext(W),r=Is("668322707"),a=Gs((n==null?void 0:n.clientThreadId)??Kt),l=tn(),i=(p=n==null?void 0:n.message.metadata)==null?void 0:p.gizmo_id,c=!!i&&l.includes(i);if(sn(a)&&!c)return null;const f=!r.isLoading&&r.layer.get("show_citations_with_title",!1)?`(${Kn(e.name)})`:o.jsx(Xn,{className:"-mt-0.5 ml-0.5 inline-block text-token-link hover:text-token-link-hover"});return o.jsx(_t,{label:o.jsx(er,{fileRef:e,onClick:()=>{var w;(w=n==null?void 0:n.onContentReferenceClicked)==null||w.call(n,e,t)}}),onOpenChange:w=>{var y,$;w?(y=n==null?void 0:n.onContentReferenceHovered)==null||y.call(n,e,t):($=n==null?void 0:n.onContentReferenceUnhovered)==null||$.call(n,t)},side:"top",sideOffset:4,withArrow:!1,delayDuration:150,interactive:!0,wide:!0,children:e.cloud_doc_url?o.jsx(I,{href:e.cloud_doc_url,target:"_blank",rel:"noreferrer",className:"px-0.5 text-green-600",children:f}):o.jsx("button",{onClick:()=>s(e.id,e.name),className:"px-0.5 text-green-600",children:f})})}var Ue={exports:{}},Le={exports:{}},Fe={exports:{}},We={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;function s(n,r){if(r.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+r.length+" present")}e.exports=t.default})(We,We.exports);var C=We.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var s=n(C);function n(l){return l&&l.__esModule?l:{default:l}}function r(l){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?r=function(c){return typeof c}:r=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},r(l)}function a(l){return(0,s.default)(1,arguments),l instanceof Date||r(l)==="object"&&Object.prototype.toString.call(l)==="[object Date]"}e.exports=t.default})(Fe,Fe.exports);var sr=Fe.exports,Ye={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var s=n(C);function n(l){return l&&l.__esModule?l:{default:l}}function r(l){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?r=function(c){return typeof c}:r=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},r(l)}function a(l){(0,s.default)(1,arguments);var i=Object.prototype.toString.call(l);return l instanceof Date||r(l)==="object"&&i==="[object Date]"?new Date(l.getTime()):typeof l=="number"||i==="[object Number]"?new Date(l):((typeof l=="string"||i==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}e.exports=t.default})(Ye,Ye.exports);var O=Ye.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var s=a(sr),n=a(O),r=a(C);function a(i){return i&&i.__esModule?i:{default:i}}function l(i){if((0,r.default)(1,arguments),!(0,s.default)(i)&&typeof i!="number")return!1;var c=(0,n.default)(i);return!isNaN(Number(c))}e.exports=t.default})(Le,Le.exports);var nr=Le.exports,ze={exports:{}},He={exports:{}},Re={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;function s(n){if(n===null||n===!0||n===!1)return NaN;var r=Number(n);return isNaN(r)?r:r<0?Math.ceil(r):Math.floor(r)}e.exports=t.default})(Re,Re.exports);var z=Re.exports;const rr=bt(z);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var s=a(z),n=a(O),r=a(C);function a(i){return i&&i.__esModule?i:{default:i}}function l(i,c){(0,r.default)(2,arguments);var u=(0,n.default)(i).getTime(),f=(0,s.default)(c);return new Date(u+f)}e.exports=t.default})(He,He.exports);var ar=He.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var s=a(ar),n=a(C),r=a(z);function a(i){return i&&i.__esModule?i:{default:i}}function l(i,c){(0,n.default)(2,arguments);var u=(0,r.default)(c);return(0,s.default)(i,-u)}e.exports=t.default})(ze,ze.exports);var or=ze.exports,qe={exports:{}},Be={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var s=r(O),n=r(C);function r(i){return i&&i.__esModule?i:{default:i}}var a=864e5;function l(i){(0,n.default)(1,arguments);var c=(0,s.default)(i),u=c.getTime();c.setUTCMonth(0,1),c.setUTCHours(0,0,0,0);var f=c.getTime(),p=u-f;return Math.floor(p/a)+1}e.exports=t.default})(Be,Be.exports);var ir=Be.exports,Xe={exports:{}},Ve={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var s=r(O),n=r(C);function r(l){return l&&l.__esModule?l:{default:l}}function a(l){(0,n.default)(1,arguments);var i=1,c=(0,s.default)(l),u=c.getUTCDay(),f=(u<i?7:0)+u-i;return c.setUTCDate(c.getUTCDate()-f),c.setUTCHours(0,0,0,0),c}e.exports=t.default})(Ve,Ve.exports);var Tt=Ve.exports,Ge={exports:{}},Ze={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var s=a(O),n=a(C),r=a(Tt);function a(i){return i&&i.__esModule?i:{default:i}}function l(i){(0,n.default)(1,arguments);var c=(0,s.default)(i),u=c.getUTCFullYear(),f=new Date(0);f.setUTCFullYear(u+1,0,4),f.setUTCHours(0,0,0,0);var p=(0,r.default)(f),w=new Date(0);w.setUTCFullYear(u,0,4),w.setUTCHours(0,0,0,0);var y=(0,r.default)(w);return c.getTime()>=p.getTime()?u+1:c.getTime()>=y.getTime()?u:u-1}e.exports=t.default})(Ze,Ze.exports);var ds=Ze.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var s=a(ds),n=a(Tt),r=a(C);function a(i){return i&&i.__esModule?i:{default:i}}function l(i){(0,r.default)(1,arguments);var c=(0,s.default)(i),u=new Date(0);u.setUTCFullYear(c,0,4),u.setUTCHours(0,0,0,0);var f=(0,n.default)(u);return f}e.exports=t.default})(Ge,Ge.exports);var lr=Ge.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var s=l(O),n=l(Tt),r=l(lr),a=l(C);function l(u){return u&&u.__esModule?u:{default:u}}var i=6048e5;function c(u){(0,a.default)(1,arguments);var f=(0,s.default)(u),p=(0,n.default)(f).getTime()-(0,r.default)(f).getTime();return Math.round(p/i)+1}e.exports=t.default})(Xe,Xe.exports);var cr=Xe.exports,Qe={exports:{}},Je={exports:{}},H={};Object.defineProperty(H,"__esModule",{value:!0});H.getDefaultOptions=ur;H.setDefaultOptions=dr;var fs={};function ur(){return fs}function dr(e){fs=e}(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var s=l(O),n=l(C),r=l(z),a=H;function l(c){return c&&c.__esModule?c:{default:c}}function i(c,u){var f,p,w,y,$,_,x,v;(0,n.default)(1,arguments);var m=(0,a.getDefaultOptions)(),h=(0,r.default)((f=(p=(w=(y=u==null?void 0:u.weekStartsOn)!==null&&y!==void 0?y:u==null||($=u.locale)===null||$===void 0||(_=$.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&w!==void 0?w:m.weekStartsOn)!==null&&p!==void 0?p:(x=m.locale)===null||x===void 0||(v=x.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&f!==void 0?f:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=(0,s.default)(c),g=d.getUTCDay(),b=(g<h?7:0)+g-h;return d.setUTCDate(d.getUTCDate()-b),d.setUTCHours(0,0,0,0),d}e.exports=t.default})(Je,Je.exports);var Mt=Je.exports,Ke={exports:{}},et={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var s=i(O),n=i(C),r=i(Mt),a=i(z),l=H;function i(u){return u&&u.__esModule?u:{default:u}}function c(u,f){var p,w,y,$,_,x,v,m;(0,n.default)(1,arguments);var h=(0,s.default)(u),d=h.getUTCFullYear(),g=(0,l.getDefaultOptions)(),b=(0,a.default)((p=(w=(y=($=f==null?void 0:f.firstWeekContainsDate)!==null&&$!==void 0?$:f==null||(_=f.locale)===null||_===void 0||(x=_.options)===null||x===void 0?void 0:x.firstWeekContainsDate)!==null&&y!==void 0?y:g.firstWeekContainsDate)!==null&&w!==void 0?w:(v=g.locale)===null||v===void 0||(m=v.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&p!==void 0?p:1);if(!(b>=1&&b<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var P=new Date(0);P.setUTCFullYear(d+1,0,b),P.setUTCHours(0,0,0,0);var E=(0,r.default)(P,f),L=new Date(0);L.setUTCFullYear(d,0,b),L.setUTCHours(0,0,0,0);var G=(0,r.default)(L,f);return h.getTime()>=E.getTime()?d+1:h.getTime()>=G.getTime()?d:d-1}e.exports=t.default})(et,et.exports);var hs=et.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var s=i(hs),n=i(C),r=i(Mt),a=i(z),l=H;function i(u){return u&&u.__esModule?u:{default:u}}function c(u,f){var p,w,y,$,_,x,v,m;(0,n.default)(1,arguments);var h=(0,l.getDefaultOptions)(),d=(0,a.default)((p=(w=(y=($=f==null?void 0:f.firstWeekContainsDate)!==null&&$!==void 0?$:f==null||(_=f.locale)===null||_===void 0||(x=_.options)===null||x===void 0?void 0:x.firstWeekContainsDate)!==null&&y!==void 0?y:h.firstWeekContainsDate)!==null&&w!==void 0?w:(v=h.locale)===null||v===void 0||(m=v.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&p!==void 0?p:1),g=(0,s.default)(u,f),b=new Date(0);b.setUTCFullYear(g,0,d),b.setUTCHours(0,0,0,0);var P=(0,r.default)(b,f);return P}e.exports=t.default})(Ke,Ke.exports);var fr=Ke.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var s=l(O),n=l(Mt),r=l(fr),a=l(C);function l(u){return u&&u.__esModule?u:{default:u}}var i=6048e5;function c(u,f){(0,a.default)(1,arguments);var p=(0,s.default)(u),w=(0,n.default)(p,f).getTime()-(0,r.default)(p,f).getTime();return Math.round(w/i)+1}e.exports=t.default})(Qe,Qe.exports);var hr=Qe.exports,tt={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;function s(n,r){for(var a=n<0?"-":"",l=Math.abs(n).toString();l.length<r;)l="0"+l;return a+l}e.exports=t.default})(tt,tt.exports);var ms=tt.exports,st={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(ms);function n(l){return l&&l.__esModule?l:{default:l}}var r={y:function(i,c){var u=i.getUTCFullYear(),f=u>0?u:1-u;return(0,s.default)(c==="yy"?f%100:f,c.length)},M:function(i,c){var u=i.getUTCMonth();return c==="M"?String(u+1):(0,s.default)(u+1,2)},d:function(i,c){return(0,s.default)(i.getUTCDate(),c.length)},a:function(i,c){var u=i.getUTCHours()/12>=1?"pm":"am";switch(c){case"a":case"aa":return u.toUpperCase();case"aaa":return u;case"aaaaa":return u[0];case"aaaa":default:return u==="am"?"a.m.":"p.m."}},h:function(i,c){return(0,s.default)(i.getUTCHours()%12||12,c.length)},H:function(i,c){return(0,s.default)(i.getUTCHours(),c.length)},m:function(i,c){return(0,s.default)(i.getUTCMinutes(),c.length)},s:function(i,c){return(0,s.default)(i.getUTCSeconds(),c.length)},S:function(i,c){var u=c.length,f=i.getUTCMilliseconds(),p=Math.floor(f*Math.pow(10,u-3));return(0,s.default)(p,c.length)}},a=r;t.default=a,e.exports=t.default})(st,st.exports);var mr=st.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=u(ir),n=u(cr),r=u(ds),a=u(hr),l=u(hs),i=u(ms),c=u(mr);function u(x){return x&&x.__esModule?x:{default:x}}var f={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},p={G:function(v,m,h){var d=v.getUTCFullYear()>0?1:0;switch(m){case"G":case"GG":case"GGG":return h.era(d,{width:"abbreviated"});case"GGGGG":return h.era(d,{width:"narrow"});case"GGGG":default:return h.era(d,{width:"wide"})}},y:function(v,m,h){if(m==="yo"){var d=v.getUTCFullYear(),g=d>0?d:1-d;return h.ordinalNumber(g,{unit:"year"})}return c.default.y(v,m)},Y:function(v,m,h,d){var g=(0,l.default)(v,d),b=g>0?g:1-g;if(m==="YY"){var P=b%100;return(0,i.default)(P,2)}return m==="Yo"?h.ordinalNumber(b,{unit:"year"}):(0,i.default)(b,m.length)},R:function(v,m){var h=(0,r.default)(v);return(0,i.default)(h,m.length)},u:function(v,m){var h=v.getUTCFullYear();return(0,i.default)(h,m.length)},Q:function(v,m,h){var d=Math.ceil((v.getUTCMonth()+1)/3);switch(m){case"Q":return String(d);case"QQ":return(0,i.default)(d,2);case"Qo":return h.ordinalNumber(d,{unit:"quarter"});case"QQQ":return h.quarter(d,{width:"abbreviated",context:"formatting"});case"QQQQQ":return h.quarter(d,{width:"narrow",context:"formatting"});case"QQQQ":default:return h.quarter(d,{width:"wide",context:"formatting"})}},q:function(v,m,h){var d=Math.ceil((v.getUTCMonth()+1)/3);switch(m){case"q":return String(d);case"qq":return(0,i.default)(d,2);case"qo":return h.ordinalNumber(d,{unit:"quarter"});case"qqq":return h.quarter(d,{width:"abbreviated",context:"standalone"});case"qqqqq":return h.quarter(d,{width:"narrow",context:"standalone"});case"qqqq":default:return h.quarter(d,{width:"wide",context:"standalone"})}},M:function(v,m,h){var d=v.getUTCMonth();switch(m){case"M":case"MM":return c.default.M(v,m);case"Mo":return h.ordinalNumber(d+1,{unit:"month"});case"MMM":return h.month(d,{width:"abbreviated",context:"formatting"});case"MMMMM":return h.month(d,{width:"narrow",context:"formatting"});case"MMMM":default:return h.month(d,{width:"wide",context:"formatting"})}},L:function(v,m,h){var d=v.getUTCMonth();switch(m){case"L":return String(d+1);case"LL":return(0,i.default)(d+1,2);case"Lo":return h.ordinalNumber(d+1,{unit:"month"});case"LLL":return h.month(d,{width:"abbreviated",context:"standalone"});case"LLLLL":return h.month(d,{width:"narrow",context:"standalone"});case"LLLL":default:return h.month(d,{width:"wide",context:"standalone"})}},w:function(v,m,h,d){var g=(0,a.default)(v,d);return m==="wo"?h.ordinalNumber(g,{unit:"week"}):(0,i.default)(g,m.length)},I:function(v,m,h){var d=(0,n.default)(v);return m==="Io"?h.ordinalNumber(d,{unit:"week"}):(0,i.default)(d,m.length)},d:function(v,m,h){return m==="do"?h.ordinalNumber(v.getUTCDate(),{unit:"date"}):c.default.d(v,m)},D:function(v,m,h){var d=(0,s.default)(v);return m==="Do"?h.ordinalNumber(d,{unit:"dayOfYear"}):(0,i.default)(d,m.length)},E:function(v,m,h){var d=v.getUTCDay();switch(m){case"E":case"EE":case"EEE":return h.day(d,{width:"abbreviated",context:"formatting"});case"EEEEE":return h.day(d,{width:"narrow",context:"formatting"});case"EEEEEE":return h.day(d,{width:"short",context:"formatting"});case"EEEE":default:return h.day(d,{width:"wide",context:"formatting"})}},e:function(v,m,h,d){var g=v.getUTCDay(),b=(g-d.weekStartsOn+8)%7||7;switch(m){case"e":return String(b);case"ee":return(0,i.default)(b,2);case"eo":return h.ordinalNumber(b,{unit:"day"});case"eee":return h.day(g,{width:"abbreviated",context:"formatting"});case"eeeee":return h.day(g,{width:"narrow",context:"formatting"});case"eeeeee":return h.day(g,{width:"short",context:"formatting"});case"eeee":default:return h.day(g,{width:"wide",context:"formatting"})}},c:function(v,m,h,d){var g=v.getUTCDay(),b=(g-d.weekStartsOn+8)%7||7;switch(m){case"c":return String(b);case"cc":return(0,i.default)(b,m.length);case"co":return h.ordinalNumber(b,{unit:"day"});case"ccc":return h.day(g,{width:"abbreviated",context:"standalone"});case"ccccc":return h.day(g,{width:"narrow",context:"standalone"});case"cccccc":return h.day(g,{width:"short",context:"standalone"});case"cccc":default:return h.day(g,{width:"wide",context:"standalone"})}},i:function(v,m,h){var d=v.getUTCDay(),g=d===0?7:d;switch(m){case"i":return String(g);case"ii":return(0,i.default)(g,m.length);case"io":return h.ordinalNumber(g,{unit:"day"});case"iii":return h.day(d,{width:"abbreviated",context:"formatting"});case"iiiii":return h.day(d,{width:"narrow",context:"formatting"});case"iiiiii":return h.day(d,{width:"short",context:"formatting"});case"iiii":default:return h.day(d,{width:"wide",context:"formatting"})}},a:function(v,m,h){var d=v.getUTCHours(),g=d/12>=1?"pm":"am";switch(m){case"a":case"aa":return h.dayPeriod(g,{width:"abbreviated",context:"formatting"});case"aaa":return h.dayPeriod(g,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return h.dayPeriod(g,{width:"narrow",context:"formatting"});case"aaaa":default:return h.dayPeriod(g,{width:"wide",context:"formatting"})}},b:function(v,m,h){var d=v.getUTCHours(),g;switch(d===12?g=f.noon:d===0?g=f.midnight:g=d/12>=1?"pm":"am",m){case"b":case"bb":return h.dayPeriod(g,{width:"abbreviated",context:"formatting"});case"bbb":return h.dayPeriod(g,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return h.dayPeriod(g,{width:"narrow",context:"formatting"});case"bbbb":default:return h.dayPeriod(g,{width:"wide",context:"formatting"})}},B:function(v,m,h){var d=v.getUTCHours(),g;switch(d>=17?g=f.evening:d>=12?g=f.afternoon:d>=4?g=f.morning:g=f.night,m){case"B":case"BB":case"BBB":return h.dayPeriod(g,{width:"abbreviated",context:"formatting"});case"BBBBB":return h.dayPeriod(g,{width:"narrow",context:"formatting"});case"BBBB":default:return h.dayPeriod(g,{width:"wide",context:"formatting"})}},h:function(v,m,h){if(m==="ho"){var d=v.getUTCHours()%12;return d===0&&(d=12),h.ordinalNumber(d,{unit:"hour"})}return c.default.h(v,m)},H:function(v,m,h){return m==="Ho"?h.ordinalNumber(v.getUTCHours(),{unit:"hour"}):c.default.H(v,m)},K:function(v,m,h){var d=v.getUTCHours()%12;return m==="Ko"?h.ordinalNumber(d,{unit:"hour"}):(0,i.default)(d,m.length)},k:function(v,m,h){var d=v.getUTCHours();return d===0&&(d=24),m==="ko"?h.ordinalNumber(d,{unit:"hour"}):(0,i.default)(d,m.length)},m:function(v,m,h){return m==="mo"?h.ordinalNumber(v.getUTCMinutes(),{unit:"minute"}):c.default.m(v,m)},s:function(v,m,h){return m==="so"?h.ordinalNumber(v.getUTCSeconds(),{unit:"second"}):c.default.s(v,m)},S:function(v,m){return c.default.S(v,m)},X:function(v,m,h,d){var g=d._originalDate||v,b=g.getTimezoneOffset();if(b===0)return"Z";switch(m){case"X":return y(b);case"XXXX":case"XX":return $(b);case"XXXXX":case"XXX":default:return $(b,":")}},x:function(v,m,h,d){var g=d._originalDate||v,b=g.getTimezoneOffset();switch(m){case"x":return y(b);case"xxxx":case"xx":return $(b);case"xxxxx":case"xxx":default:return $(b,":")}},O:function(v,m,h,d){var g=d._originalDate||v,b=g.getTimezoneOffset();switch(m){case"O":case"OO":case"OOO":return"GMT"+w(b,":");case"OOOO":default:return"GMT"+$(b,":")}},z:function(v,m,h,d){var g=d._originalDate||v,b=g.getTimezoneOffset();switch(m){case"z":case"zz":case"zzz":return"GMT"+w(b,":");case"zzzz":default:return"GMT"+$(b,":")}},t:function(v,m,h,d){var g=d._originalDate||v,b=Math.floor(g.getTime()/1e3);return(0,i.default)(b,m.length)},T:function(v,m,h,d){var g=d._originalDate||v,b=g.getTime();return(0,i.default)(b,m.length)}};function w(x,v){var m=x>0?"-":"+",h=Math.abs(x),d=Math.floor(h/60),g=h%60;if(g===0)return m+String(d);var b=v;return m+String(d)+b+(0,i.default)(g,2)}function y(x,v){if(x%60===0){var m=x>0?"-":"+";return m+(0,i.default)(Math.abs(x)/60,2)}return $(x,v)}function $(x,v){var m=v||"",h=x>0?"-":"+",d=Math.abs(x),g=(0,i.default)(Math.floor(d/60),2),b=(0,i.default)(d%60,2);return h+g+m+b}var _=p;t.default=_,e.exports=t.default})(qe,qe.exports);var pr=qe.exports,nt={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=function(c,u){switch(c){case"P":return u.date({width:"short"});case"PP":return u.date({width:"medium"});case"PPP":return u.date({width:"long"});case"PPPP":default:return u.date({width:"full"})}},n=function(c,u){switch(c){case"p":return u.time({width:"short"});case"pp":return u.time({width:"medium"});case"ppp":return u.time({width:"long"});case"pppp":default:return u.time({width:"full"})}},r=function(c,u){var f=c.match(/(P+)(p+)?/)||[],p=f[1],w=f[2];if(!w)return s(c,u);var y;switch(p){case"P":y=u.dateTime({width:"short"});break;case"PP":y=u.dateTime({width:"medium"});break;case"PPP":y=u.dateTime({width:"long"});break;case"PPPP":default:y=u.dateTime({width:"full"});break}return y.replace("{{date}}",s(p,u)).replace("{{time}}",n(w,u))},a={p:n,P:r},l=a;t.default=l,e.exports=t.default})(nt,nt.exports);var gr=nt.exports,rt={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;function s(n){var r=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return r.setUTCFullYear(n.getFullYear()),n.getTime()-r.getTime()}e.exports=t.default})(rt,rt.exports);var ps=rt.exports;const Ot=bt(ps);var K={};Object.defineProperty(K,"__esModule",{value:!0});K.isProtectedDayOfYearToken=wr;K.isProtectedWeekYearToken=yr;K.throwProtectedError=br;var vr=["D","DD"],xr=["YY","YYYY"];function wr(e){return vr.indexOf(e)!==-1}function yr(e){return xr.indexOf(e)!==-1}function br(e,t,s){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(s,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(s,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(s,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(s,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var at={exports:{}},ot={exports:{}},it={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},n=function(l,i,c){var u,f=s[l];return typeof f=="string"?u=f:i===1?u=f.one:u=f.other.replace("{{count}}",i.toString()),c!=null&&c.addSuffix?c.comparison&&c.comparison>0?"in "+u:u+" ago":u},r=n;t.default=r,e.exports=t.default})(it,it.exports);var $r=it.exports,lt={exports:{}},ct={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;function s(n){return function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.width?String(r.width):n.defaultWidth,l=n.formats[a]||n.formats[n.defaultWidth];return l}}e.exports=t.default})(ct,ct.exports);var _r=ct.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(_r);function n(u){return u&&u.__esModule?u:{default:u}}var r={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},a={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},l={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},i={date:(0,s.default)({formats:r,defaultWidth:"full"}),time:(0,s.default)({formats:a,defaultWidth:"full"}),dateTime:(0,s.default)({formats:l,defaultWidth:"full"})},c=i;t.default=c,e.exports=t.default})(lt,lt.exports);var Pr=lt.exports,ut={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},n=function(l,i,c,u){return s[l]},r=n;t.default=r,e.exports=t.default})(ut,ut.exports);var Tr=ut.exports,dt={exports:{}},ft={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;function s(n){return function(r,a){var l=a!=null&&a.context?String(a.context):"standalone",i;if(l==="formatting"&&n.formattingValues){var c=n.defaultFormattingWidth||n.defaultWidth,u=a!=null&&a.width?String(a.width):c;i=n.formattingValues[u]||n.formattingValues[c]}else{var f=n.defaultWidth,p=a!=null&&a.width?String(a.width):n.defaultWidth;i=n.values[p]||n.values[f]}var w=n.argumentCallback?n.argumentCallback(r):r;return i[w]}}e.exports=t.default})(ft,ft.exports);var Mr=ft.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(Mr);function n(y){return y&&y.__esModule?y:{default:y}}var r={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},a={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},l={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},i={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},c={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},u={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},f=function($,_){var x=Number($),v=x%100;if(v>20||v<10)switch(v%10){case 1:return x+"st";case 2:return x+"nd";case 3:return x+"rd"}return x+"th"},p={ordinalNumber:f,era:(0,s.default)({values:r,defaultWidth:"wide"}),quarter:(0,s.default)({values:a,defaultWidth:"wide",argumentCallback:function($){return $-1}}),month:(0,s.default)({values:l,defaultWidth:"wide"}),day:(0,s.default)({values:i,defaultWidth:"wide"}),dayPeriod:(0,s.default)({values:c,defaultWidth:"wide",formattingValues:u,defaultFormattingWidth:"wide"})},w=p;t.default=w,e.exports=t.default})(dt,dt.exports);var Cr=dt.exports,ht={exports:{}},mt={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;function s(a){return function(l){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=i.width,u=c&&a.matchPatterns[c]||a.matchPatterns[a.defaultMatchWidth],f=l.match(u);if(!f)return null;var p=f[0],w=c&&a.parsePatterns[c]||a.parsePatterns[a.defaultParseWidth],y=Array.isArray(w)?r(w,function(x){return x.test(p)}):n(w,function(x){return x.test(p)}),$;$=a.valueCallback?a.valueCallback(y):y,$=i.valueCallback?i.valueCallback($):$;var _=l.slice(p.length);return{value:$,rest:_}}}function n(a,l){for(var i in a)if(a.hasOwnProperty(i)&&l(a[i]))return i}function r(a,l){for(var i=0;i<a.length;i++)if(l(a[i]))return i}e.exports=t.default})(mt,mt.exports);var kr=mt.exports,pt={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;function s(n){return function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=r.match(n.matchPattern);if(!l)return null;var i=l[0],c=r.match(n.parsePattern);if(!c)return null;var u=n.valueCallback?n.valueCallback(c[0]):c[0];u=a.valueCallback?a.valueCallback(u):u;var f=r.slice(i.length);return{value:u,rest:f}}}e.exports=t.default})(pt,pt.exports);var Dr=pt.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(kr),n=r(Dr);function r(h){return h&&h.__esModule?h:{default:h}}var a=/^(\d+)(th|st|nd|rd)?/i,l=/\d+/i,i={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},c={any:[/^b/i,/^(a|c)/i]},u={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},f={any:[/1/i,/2/i,/3/i,/4/i]},p={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},w={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},y={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},$={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},_={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},x={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},v={ordinalNumber:(0,n.default)({matchPattern:a,parsePattern:l,valueCallback:function(d){return parseInt(d,10)}}),era:(0,s.default)({matchPatterns:i,defaultMatchWidth:"wide",parsePatterns:c,defaultParseWidth:"any"}),quarter:(0,s.default)({matchPatterns:u,defaultMatchWidth:"wide",parsePatterns:f,defaultParseWidth:"any",valueCallback:function(d){return d+1}}),month:(0,s.default)({matchPatterns:p,defaultMatchWidth:"wide",parsePatterns:w,defaultParseWidth:"any"}),day:(0,s.default)({matchPatterns:y,defaultMatchWidth:"wide",parsePatterns:$,defaultParseWidth:"any"}),dayPeriod:(0,s.default)({matchPatterns:_,defaultMatchWidth:"any",parsePatterns:x,defaultParseWidth:"any"})},m=v;t.default=m,e.exports=t.default})(ht,ht.exports);var Sr=ht.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i($r),n=i(Pr),r=i(Tr),a=i(Cr),l=i(Sr);function i(f){return f&&f.__esModule?f:{default:f}}var c={code:"en-US",formatDistance:s.default,formatLong:n.default,formatRelative:r.default,localize:a.default,match:l.default,options:{weekStartsOn:0,firstWeekContainsDate:1}},u=c;t.default=u,e.exports=t.default})(ot,ot.exports);var Nr=ot.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(Nr);function n(a){return a&&a.__esModule?a:{default:a}}var r=s.default;t.default=r,e.exports=t.default})(at,at.exports);var jr=at.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var s=y(nr),n=y(or),r=y(O),a=y(pr),l=y(gr),i=y(ps),c=K,u=y(z),f=y(C),p=H,w=y(jr);function y(g){return g&&g.__esModule?g:{default:g}}var $=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,x=/^'([^]*?)'?$/,v=/''/g,m=/[a-zA-Z]/;function h(g,b,P){var E,L,G,fe,he,me,pe,ge,ve,xe,we,ye,be,$e,_e,Pe,Te,Me;(0,f.default)(2,arguments);var _s=String(b),Z=(0,p.getDefaultOptions)(),Q=(E=(L=P==null?void 0:P.locale)!==null&&L!==void 0?L:Z.locale)!==null&&E!==void 0?E:w.default,Ce=(0,u.default)((G=(fe=(he=(me=P==null?void 0:P.firstWeekContainsDate)!==null&&me!==void 0?me:P==null||(pe=P.locale)===null||pe===void 0||(ge=pe.options)===null||ge===void 0?void 0:ge.firstWeekContainsDate)!==null&&he!==void 0?he:Z.firstWeekContainsDate)!==null&&fe!==void 0?fe:(ve=Z.locale)===null||ve===void 0||(xe=ve.options)===null||xe===void 0?void 0:xe.firstWeekContainsDate)!==null&&G!==void 0?G:1);if(!(Ce>=1&&Ce<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var ke=(0,u.default)((we=(ye=(be=($e=P==null?void 0:P.weekStartsOn)!==null&&$e!==void 0?$e:P==null||(_e=P.locale)===null||_e===void 0||(Pe=_e.options)===null||Pe===void 0?void 0:Pe.weekStartsOn)!==null&&be!==void 0?be:Z.weekStartsOn)!==null&&ye!==void 0?ye:(Te=Z.locale)===null||Te===void 0||(Me=Te.options)===null||Me===void 0?void 0:Me.weekStartsOn)!==null&&we!==void 0?we:0);if(!(ke>=0&&ke<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!Q.localize)throw new RangeError("locale must contain localize property");if(!Q.formatLong)throw new RangeError("locale must contain formatLong property");var ee=(0,r.default)(g);if(!(0,s.default)(ee))throw new RangeError("Invalid time value");var Ps=(0,i.default)(ee),Ts=(0,n.default)(ee,Ps),Ms={firstWeekContainsDate:Ce,weekStartsOn:ke,locale:Q,_originalDate:ee},Cs=_s.match(_).map(function(k){var A=k[0];if(A==="p"||A==="P"){var te=l.default[A];return te(k,Q.formatLong)}return k}).join("").match($).map(function(k){if(k==="''")return"'";var A=k[0];if(A==="'")return d(k);var te=a.default[A];if(te)return!(P!=null&&P.useAdditionalWeekYearTokens)&&(0,c.isProtectedWeekYearToken)(k)&&(0,c.throwProtectedError)(k,b,String(g)),!(P!=null&&P.useAdditionalDayOfYearTokens)&&(0,c.isProtectedDayOfYearToken)(k)&&(0,c.throwProtectedError)(k,b,String(g)),te(Ts,k,Q.localize,Ms);if(A.match(m))throw new RangeError("Format string contains an unescaped latin alphabet character `"+A+"`");return k}).join("");return Cs}function d(g){var b=g.match(x);return b?b[1].replace(v,"'"):g}e.exports=t.default})(Ue,Ue.exports);var Or=Ue.exports;const Er=bt(Or);function Et(e,t,s){var n=Ur(e,s.timeZone,s.locale);return n.formatToParts?Ir(n,t):Ar(n,t)}function Ir(e,t){for(var s=e.formatToParts(t),n=s.length-1;n>=0;--n)if(s[n].type==="timeZoneName")return s[n].value}function Ar(e,t){var s=e.format(t).replace(/\u200E/g,""),n=/ [\w-+ ]+$/.exec(s);return n?n[0].substr(1):""}function Ur(e,t,s){if(s&&!s.code)throw new Error("date-fns-tz error: Please set a language code on the locale object imported from date-fns, e.g. `locale.code = 'en-US'`");return new Intl.DateTimeFormat(s?[s.code,"en-US"]:void 0,{timeZone:t,timeZoneName:e})}function Lr(e,t){var s=zr(t);return s.formatToParts?Wr(s,e):Yr(s,e)}var Fr={year:0,month:1,day:2,hour:3,minute:4,second:5};function Wr(e,t){try{for(var s=e.formatToParts(t),n=[],r=0;r<s.length;r++){var a=Fr[s[r].type];a>=0&&(n[a]=parseInt(s[r].value,10))}return n}catch(l){if(l instanceof RangeError)return[NaN];throw l}}function Yr(e,t){var s=e.format(t),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(s);return[n[3],n[1],n[2],n[4],n[5],n[6]]}var De={};function zr(e){if(!De[e]){var t=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),s=t==="06/25/2014, 00:00:00"||t==="â€Ž06â€Ž/â€Ž25â€Ž/â€Ž2014â€Ž â€Ž00â€Ž:â€Ž00â€Ž:â€Ž00";De[e]=s?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return De[e]}function gs(e,t,s,n,r,a,l){var i=new Date(0);return i.setUTCFullYear(e,t,s),i.setUTCHours(n,r,a,l),i}var It=36e5,Hr=6e4,Se={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function Ct(e,t,s){var n,r;if(!e||(n=Se.timezoneZ.exec(e),n))return 0;var a;if(n=Se.timezoneHH.exec(e),n)return a=parseInt(n[1],10),At(a)?-(a*It):NaN;if(n=Se.timezoneHHMM.exec(e),n){a=parseInt(n[2],10);var l=parseInt(n[3],10);return At(a,l)?(r=Math.abs(a)*It+l*Hr,n[1]==="+"?-r:r):NaN}if(Br(e)){t=new Date(t||Date.now());var i=s?t:Rr(t),c=gt(i,e),u=s?c:qr(t,c,e);return-u}return NaN}function Rr(e){return gs(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function gt(e,t){var s=Lr(e,t),n=gs(s[0],s[1]-1,s[2],s[3]%24,s[4],s[5],0).getTime(),r=e.getTime(),a=r%1e3;return r-=a>=0?a:1e3+a,n-r}function qr(e,t,s){var n=e.getTime(),r=n-t,a=gt(new Date(r),s);if(t===a)return t;r-=a-t;var l=gt(new Date(r),s);return a===l?a:Math.max(a,l)}function At(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}var Ut={};function Br(e){if(Ut[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),Ut[e]=!0,!0}catch{return!1}}var Xr=60*1e3,Vr={X:function(e,t,s,n){var r=Ne(n.timeZone,e);if(r===0)return"Z";switch(t){case"X":return Lt(r);case"XXXX":case"XX":return q(r);case"XXXXX":case"XXX":default:return q(r,":")}},x:function(e,t,s,n){var r=Ne(n.timeZone,e);switch(t){case"x":return Lt(r);case"xxxx":case"xx":return q(r);case"xxxxx":case"xxx":default:return q(r,":")}},O:function(e,t,s,n){var r=Ne(n.timeZone,e);switch(t){case"O":case"OO":case"OOO":return"GMT"+Gr(r,":");case"OOOO":default:return"GMT"+q(r,":")}},z:function(e,t,s,n){switch(t){case"z":case"zz":case"zzz":return Et("short",e,n);case"zzzz":default:return Et("long",e,n)}}};function Ne(e,t){var s=e?Ct(e,t,!0)/Xr:t.getTimezoneOffset();if(Number.isNaN(s))throw new RangeError("Invalid time zone specified: "+e);return s}function ce(e,t){for(var s=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return s+n}function q(e,t){var s=t||"",n=e>0?"-":"+",r=Math.abs(e),a=ce(Math.floor(r/60),2),l=ce(Math.floor(r%60),2);return n+a+s+l}function Lt(e,t){if(e%60===0){var s=e>0?"-":"+";return s+ce(Math.abs(e)/60,2)}return q(e,t)}function Gr(e,t){var s=e>0?"-":"+",n=Math.abs(e),r=Math.floor(n/60),a=n%60;if(a===0)return s+String(r);var l=t;return s+String(r)+l+ce(a,2)}var Zr=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,je=36e5,Ft=6e4,Qr=2,M={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:Zr};function ue(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);var s=t||{},n=s.additionalDigits==null?Qr:rr(s.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var r=Jr(e),a=Kr(r.date,n),l=a.year,i=a.restDateString,c=ea(i,l);if(isNaN(c))return new Date(NaN);if(c){var u=c.getTime(),f=0,p;if(r.time&&(f=ta(r.time),isNaN(f)))return new Date(NaN);if(r.timeZone||s.timeZone){if(p=Ct(r.timeZone||s.timeZone,new Date(u+f)),isNaN(p))return new Date(NaN)}else p=Ot(new Date(u+f)),p=Ot(new Date(u+f+p));return new Date(u+f+p)}else return new Date(NaN)}function Jr(e){var t={},s=M.dateTimePattern.exec(e),n;if(s?(t.date=s[1],n=s[3]):(s=M.datePattern.exec(e),s?(t.date=s[1],n=s[2]):(t.date=null,n=e)),n){var r=M.timeZone.exec(n);r?(t.time=n.replace(r[1],""),t.timeZone=r[1].trim()):t.time=n}return t}function Kr(e,t){var s=M.YYY[t],n=M.YYYYY[t],r;if(r=M.YYYY.exec(e)||n.exec(e),r){var a=r[1];return{year:parseInt(a,10),restDateString:e.slice(a.length)}}if(r=M.YY.exec(e)||s.exec(e),r){var l=r[1];return{year:parseInt(l,10)*100,restDateString:e.slice(l.length)}}return{year:null}}function ea(e,t){if(t===null)return null;var s,n,r,a;if(e.length===0)return n=new Date(0),n.setUTCFullYear(t),n;if(s=M.MM.exec(e),s)return n=new Date(0),r=parseInt(s[1],10)-1,Yt(t,r)?(n.setUTCFullYear(t,r),n):new Date(NaN);if(s=M.DDD.exec(e),s){n=new Date(0);var l=parseInt(s[1],10);return ra(t,l)?(n.setUTCFullYear(t,0,l),n):new Date(NaN)}if(s=M.MMDD.exec(e),s){n=new Date(0),r=parseInt(s[1],10)-1;var i=parseInt(s[2],10);return Yt(t,r,i)?(n.setUTCFullYear(t,r,i),n):new Date(NaN)}if(s=M.Www.exec(e),s)return a=parseInt(s[1],10)-1,zt(t,a)?Wt(t,a):new Date(NaN);if(s=M.WwwD.exec(e),s){a=parseInt(s[1],10)-1;var c=parseInt(s[2],10)-1;return zt(t,a,c)?Wt(t,a,c):new Date(NaN)}return null}function ta(e){var t,s,n;if(t=M.HH.exec(e),t)return s=parseFloat(t[1].replace(",",".")),Oe(s)?s%24*je:NaN;if(t=M.HHMM.exec(e),t)return s=parseInt(t[1],10),n=parseFloat(t[2].replace(",",".")),Oe(s,n)?s%24*je+n*Ft:NaN;if(t=M.HHMMSS.exec(e),t){s=parseInt(t[1],10),n=parseInt(t[2],10);var r=parseFloat(t[3].replace(",","."));return Oe(s,n,r)?s%24*je+n*Ft+r*1e3:NaN}return null}function Wt(e,t,s){t=t||0,s=s||0;var n=new Date(0);n.setUTCFullYear(e,0,4);var r=n.getUTCDay()||7,a=t*7+s+1-r;return n.setUTCDate(n.getUTCDate()+a),n}var sa=[31,28,31,30,31,30,31,31,30,31,30,31],na=[31,29,31,30,31,30,31,31,30,31,30,31];function vs(e){return e%400===0||e%4===0&&e%100!==0}function Yt(e,t,s){if(t<0||t>11)return!1;if(s!=null){if(s<1)return!1;var n=vs(e);if(n&&s>na[t]||!n&&s>sa[t])return!1}return!0}function ra(e,t){if(t<1)return!1;var s=vs(e);return!(s&&t>366||!s&&t>365)}function zt(e,t,s){return!(t<0||t>52||s!=null&&(s<0||s>6))}function Oe(e,t,s){return!(e!=null&&(e<0||e>=25)||t!=null&&(t<0||t>=60)||s!=null&&(s<0||s>=60))}var aa=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function S(e,t,s){var n=String(t),r=s||{},a=n.match(aa);if(a){var l=ue(r.originalDate||e,r);n=a.reduce(function(i,c){if(c[0]==="'")return i;var u=i.indexOf(c),f=i[u-1]==="'",p=i.replace(c,"'"+Vr[c[0]](l,c,null,r)+"'");return f?p.substring(0,u-1)+p.substring(u+1):p},n)}return Er(e,n,r)}function V(e,t,s){var n=ue(e,s),r=Ct(t,n,!0),a=new Date(n.getTime()-r),l=new Date(0);return l.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),l.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),l}const Ht="#30a633",Rt="#f14d42",oa="text-[#30a633]",ia="text-[#f14d42]";var Ee={line:{color:"#F66",width:1,dashPattern:[]},sync:{enabled:!0,group:1,suppressTooltips:!1},zoom:{enabled:!0,zoomboxBackgroundColor:"rgba(66,133,244,0.2)",zoomboxBorderColor:"#48F",zoomButtonText:"Reset Zoom",zoomButtonClass:"reset-zoom"},snap:{enabled:!1},callbacks:{beforeZoom:function(e,t){return!0},afterZoom:function(e,t){}}},la={id:"crosshair",afterInit:function(e){if(e.config.options.scales.x){var t=e.config.options.scales.x.type;if(!(t!=="linear"&&t!=="time"&&t!=="category"&&t!=="logarithmic")){e.options.plugins.crosshair===void 0&&(e.options.plugins.crosshair=Ee),e.crosshair={enabled:!1,suppressUpdate:!1,x:null,originalData:[],originalXRange:{},dragStarted:!1,dragStartX:null,dragEndX:null,suppressTooltips:!1,ignoreNextEvents:0,reset:(function(){this.resetZoom(e,!1,!1)}).bind(this)};var s=this.getOption(e,"sync","enabled");s&&(e.crosshair.syncEventHandler=(function(n){this.handleSyncEvent(e,n)}).bind(this),e.crosshair.resetZoomEventHandler=(function(n){var r=this.getOption(e,"sync","group");n.chartId!==e.id&&n.syncGroup===r&&this.resetZoom(e,!0)}).bind(this),window.addEventListener("sync-event",e.crosshair.syncEventHandler),window.addEventListener("reset-zoom-event",e.crosshair.resetZoomEventHandler)),e.panZoom=this.panZoom.bind(this,e)}}},afterDestroy:function(e){var t=this.getOption(e,"sync","enabled");t&&(window.removeEventListener("sync-event",e.crosshair.syncEventHandler),window.removeEventListener("reset-zoom-event",e.crosshair.resetZoomEventHandler))},panZoom:function(e,t){if(e.crosshair.originalData.length!==0){var s=e.crosshair.end-e.crosshair.start,n=e.crosshair.min,r=e.crosshair.max;t<0?(e.crosshair.start=Math.max(e.crosshair.start+t,n),e.crosshair.end=e.crosshair.start===n?n+s:e.crosshair.end+t):(e.crosshair.end=Math.min(e.crosshair.end+t,e.crosshair.max),e.crosshair.start=e.crosshair.end===r?r-s:e.crosshair.start+t),this.doZoom(e,e.crosshair.start,e.crosshair.end)}},getOption:function(e,t,s){return St(e.options.plugins.crosshair[t]?e.options.plugins.crosshair[t][s]:void 0,Ee[t][s])},getXScale:function(e){return e.data.datasets.length?e.scales[e.getDatasetMeta(0).xAxisID]:null},getYScale:function(e){return e.scales[e.getDatasetMeta(0).yAxisID]},handleSyncEvent:function(e,t){var s=this.getOption(e,"sync","group");if(t.chartId!==e.id&&t.syncGroup===s){var n=this.getXScale(e);if(n){var r=t.original.native.buttons===void 0?t.original.native.which:t.original.native.buttons;t.original.type==="mouseup"&&(r=0);var a={type:t.original.type=="click"?"mousemove":t.original.type,chart:e,x:n.getPixelForValue(t.xValue),y:t.original.y,native:{buttons:r},stop:!0};e._eventHandler(a)}}},afterEvent:function(e,t){if(e.config.options.scales.x.length==0)return;let s=t.event;var n=e.config.options.scales.x.type;if(!(n!=="linear"&&n!=="time"&&n!=="category"&&xscaleType!=="logarithmic")){var r=this.getXScale(e);if(r){if(e.crosshair.ignoreNextEvents>0){e.crosshair.ignoreNextEvents-=1;return}var a=s.native.buttons===void 0?s.native.which:s.native.buttons;s.native.type==="mouseup"&&(a=0);var l=this.getOption(e,"sync","enabled"),i=this.getOption(e,"sync","group");if(!s.stop&&l){var t=new CustomEvent("sync-event");t.chartId=e.id,t.syncGroup=i,t.original=s,t.xValue=r.getValueForPixel(s.x),window.dispatchEvent(t)}var c=this.getOption(e,"sync","suppressTooltips");if(e.crosshair.suppressTooltips=s.stop&&c,e.crosshair.enabled=s.type!=="mouseout"&&s.x>r.getPixelForValue(r.min)&&s.x<r.getPixelForValue(r.max),!e.crosshair.enabled&&!e.crosshair.suppressUpdate)return s.x>r.getPixelForValue(r.max)&&(e.crosshair.suppressUpdate=!0,e.update("none")),e.crosshair.dragStarted=!1,!1;e.crosshair.suppressUpdate=!1;var u=this.getOption(e,"zoom","enabled");if(a===1&&!e.crosshair.dragStarted&&u&&(e.crosshair.dragStartX=s.x,e.crosshair.dragStarted=!0),e.crosshair.dragStarted&&a===0){e.crosshair.dragStarted=!1;var f=r.getValueForPixel(e.crosshair.dragStartX),p=r.getValueForPixel(e.crosshair.x);Math.abs(e.crosshair.dragStartX-e.crosshair.x)>1&&this.doZoom(e,f,p),e.update("none")}e.crosshair.x=s.x,e.draw()}}},afterDraw:function(e){if(e.crosshair.enabled)return e.crosshair.dragStarted?this.drawZoombox(e):(this.drawTraceLine(e),this.interpolateValues(e),this.drawTracePoints(e)),!0},beforeTooltipDraw:function(e){return!e.crosshair.dragStarted&&!e.crosshair.suppressTooltips},resetZoom:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(s){if(e.crosshair.originalData.length>0)for(var n=0;n<e.data.datasets.length;n++){var r=e.data.datasets[n];r.data=e.crosshair.originalData.shift(0)}e.crosshair.originalXRange.min?(e.options.scales.x.min=e.crosshair.originalXRange.min,e.crosshair.originalXRange.min=null):delete e.options.scales.x.min,e.crosshair.originalXRange.max?(e.options.scales.x.max=e.crosshair.originalXRange.max,e.crosshair.originalXRange.max=null):delete e.options.scales.x.max}e.crosshair.button&&e.crosshair.button.parentNode&&(e.crosshair.button.parentNode.removeChild(e.crosshair.button),e.crosshair.button=!1);var a=this.getOption(e,"sync","enabled");if(!t&&s&&a){var l=this.getOption(e,"sync","group"),i=new CustomEvent("reset-zoom-event");i.chartId=e.id,i.syncGroup=l,window.dispatchEvent(i)}s&&e.update("none")},doZoom:function(e,t,s){if(t>s){var n=t;t=s,s=n}var r=St(e.options.plugins.crosshair.callbacks?e.options.plugins.crosshair.callbacks.beforeZoom:void 0,Ee.callbacks.beforeZoom);if(!r(t,s))return!1;if(e.crosshair.dragStarted=!1,e.options.scales.x.min&&e.crosshair.originalData.length===0&&(e.crosshair.originalXRange.min=e.options.scales.x.min),e.options.scales.x.max&&e.crosshair.originalData.length===0&&(e.crosshair.originalXRange.max=e.options.scales.x.max),!e.crosshair.button){var a=document.createElement("button"),l=this.getOption(e,"zoom","zoomButtonText"),i=this.getOption(e,"zoom","zoomButtonClass"),c=document.createTextNode(l);a.appendChild(c),a.className=i,a.addEventListener("click",(function(){this.resetZoom(e)}).bind(this)),e.canvas.parentNode.appendChild(a),e.crosshair.button=a}e.options.scales.x.min=t,e.options.scales.x.max=s;var u=e.crosshair.originalData.length===0,f=e.config.options.scales.x.type!=="category";if(f)for(var p=0;p<e.data.datasets.length;p++){var w=[],y=0,$=!1,_=!1;u&&(e.crosshair.originalData[p]=e.data.datasets[p].data);for(var x=e.crosshair.originalData[p],v=0;v<x.length;v++){var m=x[v],h=m.x!==void 0?m.x:NaN;h>=t&&!$&&y>0&&(w.push(x[y-1]),$=!0),h>=t&&h<=s&&w.push(m),h>s&&!_&&y<x.length&&(w.push(m),_=!0),y+=1}e.data.datasets[p].data=w}if(e.crosshair.start=t,e.crosshair.end=s,u){var d=this.getXScale(e);e.crosshair.min=d.min,e.crosshair.max=d.max}e.crosshair.ignoreNextEvents=2,e.update("none");var g=this.getOption(e,"callbacks","afterZoom");g(t,s)},drawZoombox:function(e){var t=this.getYScale(e),s=this.getOption(e,"zoom","zoomboxBorderColor"),n=this.getOption(e,"zoom","zoomboxBackgroundColor");e.ctx.beginPath(),e.ctx.rect(e.crosshair.dragStartX,t.getPixelForValue(t.max),e.crosshair.x-e.crosshair.dragStartX,t.getPixelForValue(t.min)-t.getPixelForValue(t.max)),e.ctx.lineWidth=1,e.ctx.strokeStyle=s,e.ctx.fillStyle=n,e.ctx.fill(),e.ctx.fillStyle="",e.ctx.stroke(),e.ctx.closePath()},drawTraceLine:function(e){var t=this.getYScale(e),s=this.getOption(e,"line","width"),n=this.getOption(e,"line","color"),r=this.getOption(e,"line","dashPattern"),a=this.getOption(e,"snap","enabled"),l=e.crosshair.x;a&&e._active.length&&(l=e._active[0].element.x),e.ctx.beginPath(),e.ctx.setLineDash(r),e.ctx.moveTo(l,t.getPixelForValue(t.max)),e.ctx.lineWidth=s,e.ctx.strokeStyle=n,e.ctx.lineTo(l,t.getPixelForValue(t.min)),e.ctx.stroke(),e.ctx.setLineDash([])},drawTracePoints:function(e){for(var t=0;t<e.data.datasets.length;t++){var s=e.data.datasets[t],n=e.getDatasetMeta(t),r=e.scales[n.yAxisID];n.hidden||!s.interpolate||(e.ctx.beginPath(),e.ctx.arc(e.crosshair.x,r.getPixelForValue(s.interpolatedValue),3,0,2*Math.PI,!1),e.ctx.fillStyle="white",e.ctx.lineWidth=2,e.ctx.strokeStyle=s.borderColor,e.ctx.fill(),e.ctx.stroke())}},interpolateValues:function(e){for(var t=0;t<e.data.datasets.length;t++){var s=e.data.datasets[t],n=e.getDatasetMeta(t),r=e.scales[n.xAxisID],a=r.getValueForPixel(e.crosshair.x);if(!(n.hidden||!s.interpolate)){var l=s.data,i=l.findIndex(function(p){return p.x>=a}),c=l[i-1],u=l[i];if(e.data.datasets[t].steppedLine&&c)s.interpolatedValue=c.y;else if(c&&u){var f=(u.y-c.y)/(u.x-c.x);s.interpolatedValue=c.y+(a-c.x)*f}else s.interpolatedValue=NaN}}}};Cn.register(kn,Dn,Sn,Nn,jn,On,En,In,An,la);function R(e,t){return V(new Date(e*1e3),t??"America/New_York")}function qt(e,t){const s=R(e,t);return S(s,"h:mm a")}function ca(e,t){const s=R(e,t);return S(s,"EEE, MMM d h:mm a")}function ne(e,t){const s=R(e,t);return S(s,"MMM dd, yyyy")}function Ie(e,t){const s=R(e,t);return S(s,"MMM yyyy")}function Bt(e,t){const s=R(e,t);return S(s,"MMM dd")}function ua(e,t){const s=R(e,t);return S(s,"EEE, MMM dd")}function da(e,t){const s=R(e,t);return S(s,"yyyy")}const fa=100,ha=["1d","5d","1m","6m","ytd","1y","5y"],Xt={"1d":{label:"1D",formatTimestampLabel:qt,formatTimestampTooltip:qt,maxTicksLimit:6,lineTension:.1},"5d":{label:"5D",formatTimestampLabel:Bt,formatTimestampTooltip:ca,maxTicksLimit:6,lineTension:.1},"1m":{label:"1M",formatTimestampLabel:Bt,formatTimestampTooltip:ua,maxTicksLimit:6,lineTension:.1,useUtc:!0},"6m":{label:"6M",formatTimestampLabel:Ie,formatTimestampTooltip:ne,maxTicksLimit:5,lineTension:.1,useUtc:!0},ytd:{label:"YTD",formatTimestampLabel:Ie,formatTimestampTooltip:ne,maxTicksLimit:5,lineTension:.1,useUtc:!0},"1y":{label:"1Y",formatTimestampLabel:Ie,formatTimestampTooltip:ne,maxTicksLimit:5,lineTension:.2,useUtc:!0},"5y":{label:"5Y",formatTimestampLabel:da,formatTimestampTooltip:ne,maxTicksLimit:5,lineTension:.2,useUtc:!0}};function ma({isUp:e,histories:t,defaultInterval:s,onSelectHistoryInterval:n,latestTradingPeriod:r,timezone:a}){return o.jsx(o.Fragment,{children:t&&s&&r?o.jsx(pa,{isUp:e,histories:t,defaultInterval:s,onSelectHistoryInterval:n,latestTradingPeriod:r,timezone:a}):o.jsx(J,{className:"h-full",index:1,width:100})})}function pa({isUp:e,histories:t,defaultInterval:s,onSelectHistoryInterval:n,latestTradingPeriod:r,timezone:a}){const[l,i]=T.useState(null),[c,u]=T.useState(s),f=c==="1d",p=T.useMemo(()=>{let d=t.quotes[c].filter(g=>g.close>=0);if(f&&r){const g=r.regular.start_timestamp,b=r.regular.end_timestamp;if(d=d.filter(P=>P.timestamp>=g&&P.timestamp<=b),d.length===0||d[d.length-1].timestamp<b){let E=d.length>0?d[d.length-1].timestamp:g-600;for(;E<b;)E+=600,d.push({timestamp:E,close:null})}}return d},[t,c,f,r]),w=Object.keys(t.quotes),y=Xt[c],{formatTimestampTooltip:$,maxTicksLimit:_,useUtc:x=!1}=y,v=T.useMemo(()=>{const{formatTimestampLabel:d,lineTension:g}=y;return{labels:p.map(b=>d(b.timestamp,x?"UTC":a)),datasets:[{data:p.map(b=>b.close),borderColor:e?Ht:Rt,pointRadius:0,pointHoverRadius:4,pointStyle:"circle",backgroundColor:e?Ht:Rt,borderWidth:3,lineTension:g??.4}]}},[y,p,e,x,a]),m=As(),h=es().theme==="dark";return o.jsxs("div",{className:"flex h-full flex-col gap-6",children:[o.jsx("div",{className:"flex items-center justify-between text-xs font-semibold text-token-text-tertiary sm:justify-start sm:gap-6",children:w.map(d=>o.jsx("button",{onClick:()=>{u(d),n==null||n(d)},className:N("px-2 py-1 uppercase hover:text-token-text-secondary",{"border-b-2 border-solid border-token-text-primary !text-token-text-primary":c===d}),children:Xt[d].label},d))}),o.jsxs("div",{className:"relative h-full",children:[o.jsx(Un,{options:{responsive:!0,maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"},animation:!1,scales:{x:{afterBuildTicks:d=>{if(d.ticks.length>_)if(f)d.ticks=d.ticks.filter((g,b)=>p[b].timestamp%(m?3600:7200)===0);else{const g=Math.ceil(d.ticks.length/(_-1));d.ticks=d.ticks.filter((b,P)=>P>0&&(P%g===0||P===d.ticks.length-1))}},grid:{display:!1},ticks:{align:"end"}},y:{ticks:{maxTicksLimit:7},border:{display:!1},grid:{color:h?"rgba(255, 255, 255, 0.1)":"rgba(229, 229, 229, 0.5)"}}},plugins:{datalabels:{display:!1},legend:{display:!1},tooltip:{enabled:!1,animation:!1,displayColors:!1,callbacks:{title:function(d){const g=d[0];if(!g)return"";const b=p[g.dataIndex].timestamp;return $(b,x?"UTC":a)}},external:({tooltip:d})=>{i(g=>{const b=d.chart.width,P=d.caretX>b-fa;return!g||g.x!==d.caretX||g.y!==d.caretY||g.opacity!==d.opacity||g.flip!==P?{...g,x:d.caretX,y:d.caretY,dateLabel:d.title[0],value:vt(d.dataPoints[0].parsed.y),opacity:d.opacity,flip:P}:g})}},dropShadow:!1,crosshair:{line:{color:h?"rgba(255, 255, 255, 0.3)":"rgba(0, 0, 0, 0.3)",width:.5},zoom:{enabled:!1}}}},data:v}),o.jsx(ga,{tooltipData:l})]})]})}function ga({tooltipData:e}){return!e||!e.opacity?null:o.jsxs("div",{style:{left:e.flip?e.x-5:e.x+5,top:e.y-5},className:N("pointer-events-none absolute translate-y-[-100%] whitespace-nowrap bg-black p-2.5",e.flip?"translate-x-[-100%] rounded-bl-xl rounded-tl-xl rounded-tr-xl":"rounded-br-xl rounded-tl-xl rounded-tr-xl"),children:[o.jsx("div",{className:"text-white",children:e.value}),o.jsx("div",{className:"text-xs text-gray-400",children:e.dateLabel})]})}function va(e){return e?ha.filter(s=>s in e.quotes).find(s=>e.quotes[s].length>0):void 0}function vt(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function xa({contentReference:e,turnIndex:t}){var w,y,$,_;const s=U(F.threadId),n=wt();T.useEffect(()=>{s&&Y.logEvent(j.searchWidgetShown,{thread_id:s,type:"stock",turn_index:t})},[s,t]);const r=va((w=e==null?void 0:e.stock)==null?void 0:w.histories),a=e==null?void 0:e.stock,[l,i]=T.useState(r),c=l==="1d",u=(_=($=(y=a==null?void 0:a.histories)==null?void 0:y.quotes)==null?void 0:$[l??""])==null?void 0:_[0],f=l&&l in xt?l:void 0,p=a&&(u&&!c?{changePercentage:(a.price.price-u.close)/u.close*100,changeAmount:a.price.price-u.close,changeLabel:f?n.formatMessage(xt[f]):"",isUp:a.price.price>u.close}:{changePercentage:a.price.change_percent*100,changeAmount:a.price.change,changeLabel:wa(a.price.latest_trade_timestamp,a.asset.timezone,n),isUp:a.price.change>0});return o.jsxs("div",{className:"flex h-[340px] flex-col gap-6",children:[o.jsx("div",{className:"shrink-0 grow-0",children:o.jsx(ya,{data:a??null,priceChange:p??null,url:(e==null?void 0:e.url)??null})}),o.jsx("div",{className:"h-full",children:o.jsx(ma,{isUp:(p==null?void 0:p.isUp)??!1,defaultInterval:r,histories:a==null?void 0:a.histories,onSelectHistoryInterval:x=>i(x),latestTradingPeriod:a==null?void 0:a.asset.latest_trading_period,timezone:(a==null?void 0:a.asset.timezone)??null})})]})}function wa(e,t,s){function n(r,a){const i=V(new Date,a),c=S(i,"yyyy-MM-dd",{timeZone:a}),u=ue(r*1e3),f=V(u,a),p=S(f,"yyyy-MM-dd",{timeZone:a});return c===p}if(!e||!t||n(e,t))return s.formatMessage(xt["1d"]);{const r=ue(e*1e3),a=V(r,t);return S(a,"MMMM d",{timeZone:t})}}function ya({data:e,priceChange:t,url:s}){function n(r){const{isUp:a,changePercentage:l,changeLabel:i,changeAmount:c}=r,u=Math.abs(l).toFixed(2),f=vt(c);return o.jsxs("span",{className:N("flex items-center gap-1 text-sm",a?oa:ia),children:[o.jsx("span",{className:"font-semibold",children:o.jsx(D,{id:"3x4Lkl",defaultMessage:"{sign}{changeAmount}",values:{changeAmount:f,sign:a?"+":""}})}),o.jsx(D,{id:"KkjxiB",defaultMessage:"{sign}{changePercentage}%",values:{changePercentage:u,sign:a?"+":"-"}}),o.jsx("span",{className:"text-token-text-primary",children:i})]})}return o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-lg font-semibold",children:e?`${e.asset.name} (${e.asset.ticker.toLocaleUpperCase()})`:o.jsx("div",{className:"w-32",children:o.jsx(J,{index:9,width:100})})}),o.jsx("div",{className:"text-sm text-token-text-tertiary",children:e?o.jsxs(o.Fragment,{children:[e.asset.name,s!=null&&o.jsxs(o.Fragment,{children:[" Â· ",o.jsx(I,{href:s,className:"text-token-link hover:underline",children:us(s,"hostname")})]})]}):o.jsx("div",{className:"mt-2 w-36",children:o.jsx(J,{index:6,width:100})})})]}),o.jsxs("div",{children:[o.jsx("div",{className:"flex justify-end text-lg font-semibold",children:e?o.jsx(D,{id:"s+1uly",defaultMessage:"{price}",values:{price:vt(e.price.price)}}):o.jsx("div",{className:"w-32",children:o.jsx(J,{index:0,width:100})})}),o.jsx("div",{className:"flex items-center gap-1",children:t?n(t):o.jsx("div",{className:"mt-2 w-40",children:o.jsx(J,{index:3,width:100})})})]})]})}const xt=yt({"1d":{id:"SMdcuo",defaultMessage:"Today"},"5d":{id:"HCA6lr",defaultMessage:"Past 5 days"},"1m":{id:"DJpPMq",defaultMessage:"Past month"},"6m":{id:"1mUJ2L",defaultMessage:"Past 6 months"},ytd:{id:"b9KkhV",defaultMessage:"Year to date"},"1y":{id:"XnvD9A",defaultMessage:"Past year"},"5y":{id:"DfI1RB",defaultMessage:"Past 5 years"}}),ba=5;function $a({metadata:e,turnIndex:t}){const s=ts(),r=Zs().imageResults.length,a=Us(),l=e.images,i=l.map(w=>w.thumbnail_url),c=Ls({queries:i.map(w=>Qs(w)),combine:w=>{const y=new Set;return w.forEach(($,_)=>{$.isSuccess&&y.add(i[_])}),y}}),u=l.filter(w=>c.has(w.thumbnail_url)),f=e.images.length;if(f===0)return null;if(f===1){const w=e.images[0];return o.jsx(Vt,{image:w,imageSource:kt.Turn,turnIndex:t,className:"float-image z-10 float-right clear-right mb-7 ml-7 mt-1 min-w-32 max-w-[22%] overflow-hidden rounded-xl border-[0.5px] border-token-border-light"},w.content_url)}const p=a?u.length:Math.min(u.length,ba);return o.jsx("div",{className:"no-scrollbar mb-6 mt-1 flex flex-nowrap gap-0.5 overflow-auto sm:gap-1 sm:overflow-hidden",children:u.slice(0,p).map((w,y)=>o.jsxs("div",{className:N("relative aspect-square max-h-48 shrink-0 overflow-hidden rounded-xl border-[0.5px] border-token-border-light",y===0&&"rounded-l-xl",y===p-1&&"rounded-r-xl"),style:{width:a?128:`calc((100% - 0.25rem * ${p-1}) / ${p})`},children:[o.jsx(Vt,{image:w,imageSource:kt.Turn,turnIndex:t,className:"h-full w-full"},w.thumbnail_url),y===p-1&&r>p&&o.jsx("button",{className:"absolute bottom-1 right-1 rounded-[10px] bg-black/50 px-2 py-1 text-sm text-white transition-colors hover:bg-black/80",onClick:()=>ls(s,ie.Images),children:o.jsx(D,{id:"C8OxJS",defaultMessage:"+{remainingImages}",values:{remainingImages:r-p}})})]},w.thumbnail_url))})}function Vt({image:e,imageSource:t,className:s,imgClassName:n,style:r,turnIndex:a}){const l=Js(e),{isSuccess:i}=ns(l),c=U(F.threadId),u=T.useCallback(f=>{e&&i&&e&&c&&Y.logEvent(f,{thread_id:c,url:e.url,title:e.title})},[e,i,c]);return T.useEffect(()=>{u(j.searchCarouselImageShown)},[u]),o.jsx("button",{className:N("relative aspect-square overflow-hidden",s),style:r,onClick:()=>{nn.setCurrentImage(e?{image:e,source:t,turnIndex:a}:void 0),u(j.searchCarouselImageClicked)},children:e?i?o.jsx(Ks,{children:o.jsx("img",{src:l,alt:e==null?void 0:e.content_url,className:N("m-0 h-full w-full bg-token-main-surface-tertiary object-cover",n)})}):o.jsx("div",{className:"h-full w-full animate-pulse bg-token-main-surface-tertiary"}):o.jsx("div",{className:"aspect-square h-full w-full animate-pulse bg-token-main-surface-tertiary"})})}const _a={google_maps:{title:"Google Maps"}};function Pa({metadata:e}){var s;const t=((s=_a[e.provider])==null?void 0:s.title)??"Maps";return o.jsx("span",{children:o.jsx(D,{id:"ZSUz1k",defaultMessage:" ({link}) ",values:{link:o.jsx(I,{href:e.url,children:t})}})})}function xs({url:e}){const t=Ln(e).data??us(e,"short");return o.jsx(o.Fragment,{children:t})}function Ta({metadata:e}){return e.items.length===0?null:o.jsxs("div",{className:"mt-6 flex flex-col gap-3",children:[e.title&&o.jsx("div",{className:"-mb-1 font-semibold text-token-text-primary",children:e.title}),e.items.map((t,s)=>o.jsx(Ma,{item:t,index:s},s))]})}function Ma({item:e,index:t}){const{isSuccess:s}=ns(e.thumbnail_url??void 0),n=U(F.threadId),r=T.useCallback(f=>{n&&Y.logEvent(f,{thread_id:n,url:e.url,title:e.title,index:t})},[n,e.url,e.title,t]);T.useEffect(()=>{r(j.searchNavListCitationShown)},[r]);const a=navigator.language,l=e.pub_date!=null?new Date(e.pub_date*1e3):null,i=new Intl.RelativeTimeFormat(navigator.language,{numeric:"auto"}),c=l?Math.max(Math.floor((Date.now()-l.getTime())/(1e3*60*60*24)),0):null;let u=c!=null?i.format(-c,"day"):null;return a.startsWith("en")&&u&&(u=u.charAt(0).toUpperCase()+u.slice(1)),o.jsxs(I,{className:"group/nav-list relative flex items-center gap-6 py-1.5",href:e.url,onClick:()=>{r(j.searchNavListCitationClicked)},children:[o.jsx("div",{className:"absolute bottom-0 left-0 top-0 w-[3px] rounded-b-lg rounded-t-lg bg-black/10"}),o.jsxs("div",{className:"ml-4 flex grow flex-col gap-1 overflow-hidden text-ellipsis",children:[o.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-token-text-primary",children:[o.jsx(de,{url:e.url,size:16,className:"icon-sm my-0 rounded-[4px]"}),e.attribution??o.jsx(xs,{url:e.url})]}),o.jsx("div",{className:"line-clamp-2 font-semibold text-token-link decoration-token-link group-hover/nav-list:underline",children:e.title}),u&&o.jsx("div",{className:"text-xs text-token-text-tertiary",children:u})]}),s&&e.thumbnail_url&&o.jsx("div",{className:"h-16 w-16 flex-shrink-0 self-start overflow-hidden",children:o.jsx("img",{src:e.thumbnail_url,className:"m-0 h-full w-full rounded-lg object-cover",alt:e.title})})]})}function Ca({sourcesFootnote:e,index:t}){const s=ts(),n=T.useContext(W),r=U(F.threadId),a=T.useCallback(i=>{r&&Y.logEvent(i,{thread_id:r,urls:e.sources.map(c=>c.url),has_images:e.has_images})},[e.has_images,e.sources,r]);T.useEffect(()=>{a(j.searchSourcesFootnoteShown)},[a]);const l=(n==null?void 0:n.clientThreadId)!=null;return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"absolute h-10",children:o.jsxs("button",{className:"not-prose group/footnote -ml-2 flex w-fit items-center gap-1.5 rounded-lg bg-token-main-surface-primary p-2 hover:bg-token-main-surface-tertiary",onClick:()=>{var c;(c=n==null?void 0:n.onContentReferenceClicked)==null||c.call(n,e,t),a(j.searchSourcesFootnoteClicked);const i=xn(s);ls(s,i===ie.Sources?ie.Answer:ie.Sources)},children:[o.jsx("div",{className:"flex",children:e.sources.slice(0,3).map((i,c)=>o.jsx("div",{className:N("flex h-5 items-center overflow-hidden rounded","-ml-1.5 first:ml-0","border-l-2 border-token-main-surface-primary bg-token-main-surface-primary","group-hover/footnote:border-token-main-surface-tertiary group-hover/footnote:bg-token-main-surface-tertiary","relative"),children:o.jsx(de,{url:i.url,size:32,minSize:16,className:"icon-md rounded"})},c))}),o.jsxs("div",{className:"flex items-center gap-0.5 text-sm font-medium",children:[e.has_images?o.jsx(D,{id:"7hgVX5",defaultMessage:"Sources and more..."}):o.jsx(D,{id:"/48IOP",defaultMessage:"Sources"}),!l&&o.jsx(_n,{className:"icon-sm text-token-text-quaternary"})]})]})}),o.jsx("div",{className:"h-10"})]})}function ka({metadata:e}){const t=V(e.utc_time,e.utc_offset),s=S(t,"p",{timeZone:e.utc_offset});return o.jsx("span",{children:s})}function Da({webpageRef:e}){return o.jsx("span",{className:"whitespace-nowrap",children:o.jsx(D,{id:"1mHNDl",defaultMessage:"({items})",values:{items:o.jsx("span",{className:"whitespace-normal",children:e.items.map((t,s)=>o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"inline-flex max-w-full after:text-token-text-primary",children:o.jsx(Sa,{index:t.index,webpageRef:t})},`${t.index}-${t.url}`),s!==e.items.length-1&&o.jsx("span",{className:"mr-0.5",children:o.jsx(D,{id:"i3EFRC",defaultMessage:","})})]}))})}})})}function Sa({webpageRef:e,index:t,className:s}){const n=ja(e,t);return o.jsx(Na,{webpageRef:e,index:t,browsingEventMetadata:n,children:o.jsx(I,{href:e.url,className:N("!no-underline",s),onClick:()=>{n!=null&&(B.logEvent(X.browsingClickCitation,n),ae.logEvent("chatgpt_browsing_click_citation",null,le(n)))},children:o.jsx("span",{className:"truncate",children:e.attribution??o.jsx(xs,{url:e.url})})})})}function Na({webpageRef:e,index:t,browsingEventMetadata:s,children:n}){const r=T.useContext(W),{onContentReferenceShown:a,onContentReferenceHovered:l,onContentReferenceClicked:i,onContentReferenceUnhovered:c}=r??{},u=s!=null;return T.useEffect(()=>{s!=null&&(B.logEvent(X.browsingDisplayCitation,s),ae.logEvent("chatgpt_browsing_display_citation",null,le(s)))},[u]),T.useEffect(()=>{a==null||a(e,t)},[]),o.jsx(ws,{webpageRef:e,onClick:()=>{s!=null&&(B.logEvent(X.browsingClickCitation,s),ae.logEvent("chatgpt_browsing_click_citation",null,le(s))),i==null||i(e,t)},onOpenChange:f=>{f?(s!=null&&(B.logEvent(X.browsingHoverCitation,s),ae.logEvent("chatgpt_browsing_hover_citation",null,le(s))),l==null||l(e,t)):c==null||c(t)},children:n})}function ws({webpageRef:e,onClick:t,onOpenChange:s,children:n,className:r}){return o.jsx(_t,{label:o.jsx(I,{href:e.url,className:N("text-xs !no-underline",r),onClick:t,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"flex shrink-0 items-center justify-center",children:o.jsx(de,{url:e.url,className:"my-0"})}),o.jsx("div",{className:"max-w-56 truncate",children:e.title}),o.jsx("div",{className:"shrink-0",children:o.jsx(cs,{className:"icon-xs"})})]})}),onOpenChange:s,side:"top",sideOffset:4,withArrow:!1,delayDuration:150,wide:!0,children:n})}function le(e){return Fs(e,Ws)}function ja(e,t){var r;const s=T.useContext(W),n=$t((s==null?void 0:s.clientThreadId)??Kt);return s==null||s!=null&&s.isActivelyStreaming?null:{conversation_id:n==null?void 0:n.toString(),model_slug:(r=s==null?void 0:s.message.metadata)==null?void 0:r.model_slug,message_id:s==null?void 0:s.message.id,url:e.url,citation_number:t,display_type:"expand-link"}}function Oa({metadata:e}){return o.jsx("div",{children:e.url?o.jsx(ws,{webpageRef:{...e,type:"webpage",url:e.url,title:e.description,pub_date:null,snippet:""},className:"inline-flex flex-col",children:o.jsx(I,{href:e.url,className:"!font-semibold",children:e.description})}):o.jsx("div",{className:"!font-semibold",children:e.description})})}function Ea({url:e,className:t}){let s;const n=Ia(e);n&&(s=o.jsx(Aa,{videoId:n}));const r=Ua(e);return r&&(s=o.jsx(La,{videoId:r})),s?o.jsx("div",{className:t,children:s}):null}function Ia(e){const t=/^(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:[^/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/,s=e.match(t);return s?s[1]:null}function Aa({videoId:e}){return o.jsx("iframe",{className:"aspect-video w-full",src:`https://www.youtube.com/embed/${e}`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0})}function Ua(e){const t=/vimeo\.com\/(?:channels\/(?:\w+\/)?|groups\/[^/]+\/videos\/|video\/|)(\d+)/,s=e.match(t);return s?s[1]:null}function La({videoId:e}){return o.jsx(o.Fragment,{children:o.jsx("iframe",{className:"aspect-video w-full",src:`https://player.vimeo.com/video/${e}`,frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture",allowFullScreen:!0})})}function Fa({tldr:e}){var n;const t=U(F.threadId),s=T.useCallback(r=>{e.url&&t&&Y.logEvent(r,{thread_id:t,url:e.url,title:e.display_title})},[t,e.display_title,e.url]);return T.useEffect(()=>{s(j.searchTldrLinkShown)},[s]),e.url==null||e.url===""?null:o.jsxs("div",{className:"not-prose mb-3 flex flex-col gap-4 text-base",children:[o.jsx(I,{href:e.url,onClick:()=>s(j.searchTldrLinkClicked),className:"group/tldr",children:o.jsxs("div",{className:"grid max-w-full shrink grid-cols-[1fr,auto] items-center gap-x-8 sm:gap-x-16",children:[o.jsxs("div",{className:"flex shrink flex-col overflow-hidden",children:[o.jsx("div",{className:"shrink text-lg font-semibold text-token-text-primary 2xl:text-xl",children:e.display_title}),o.jsx("div",{className:"flex items-center truncate text-token-link [overflow-wrap:anywhere] group-hover/tldr:opacity-70",children:(n=is(e.breadcrumbs))==null?void 0:n.map((r,a)=>o.jsxs(T.Fragment,{children:[a!==0&&o.jsx(Pn,{className:"h-4 w-4 shrink-0"}),o.jsx("div",{className:"truncate",children:r.toLowerCase()})]},a))})]}),o.jsx(de,{url:e.url,size:128,minSize:32,className:"mr-[0.1875rem] h-7 w-7 shrink-0 rounded"}),e.snippet&&o.jsx("div",{className:"line-clamp-3 overflow-hidden text-ellipsis text-sm text-token-text-tertiary",children:e.snippet})]})}),o.jsx(Ea,{url:e.url})]})}function ys(e,t){const s=rn(e),n=t<0?"-":"+",r=Math.abs(t),a=Math.floor(r/3600).toString().padStart(2,"0"),l=Math.floor(r%3600/60).toString().padStart(2,"0"),i=`${n}${a}:${l}`;return V(s,i)}const Wa="webp",Ya=96,za=96,Ha="srgb",Ra=4,qa="uchar",Ba=288,Xa=!1,Va=!1,Ga=!0,Za="/assets/cloud-foggy-o4a3hmky.webp",Qa={format:Wa,width:Ya,height:za,space:Ha,channels:Ra,depth:qa,density:Ba,isProgressive:Xa,hasProfile:Va,hasAlpha:Ga,src:Za},Ja="webp",Ka=96,eo=96,to="srgb",so=4,no="uchar",ro=288,ao=!1,oo=!1,io=!0,lo="/assets/cloudy-co8vwrk7.webp",co={format:Ja,width:Ka,height:eo,space:to,channels:so,depth:no,density:ro,isProgressive:ao,hasProfile:oo,hasAlpha:io,src:lo},uo="webp",fo=96,ho=96,mo="srgb",po=4,go="uchar",vo=288,xo=!1,wo=!1,yo=!0,bo="/assets/heavy-snow-mke52kag.webp",$o={format:uo,width:fo,height:ho,space:mo,channels:po,depth:go,density:vo,isProgressive:xo,hasProfile:wo,hasAlpha:yo,src:bo},_o="webp",Po=96,To=96,Mo="srgb",Co=4,ko="uchar",Do=288,So=!1,No=!1,jo=!0,Oo="/assets/light-snow-mcy1l7t9.webp",Eo={format:_o,width:Po,height:To,space:Mo,channels:Co,depth:ko,density:Do,isProgressive:So,hasProfile:No,hasAlpha:jo,src:Oo},Io="webp",Ao=96,Uo=96,Lo="srgb",Fo=4,Wo="uchar",Yo=288,zo=!1,Ho=!1,Ro=!0,qo="/assets/moon-drizzle-cplxr2ub.webp",Bo={format:Io,width:Ao,height:Uo,space:Lo,channels:Fo,depth:Wo,density:Yo,isProgressive:zo,hasProfile:Ho,hasAlpha:Ro,src:qo},Xo="webp",Vo=96,Go=96,Zo="srgb",Qo=4,Jo="uchar",Ko=288,ei=!1,ti=!1,si=!0,ni="/assets/moon-hazy-jvgt25bp.webp",ri={format:Xo,width:Vo,height:Go,space:Zo,channels:Qo,depth:Jo,density:Ko,isProgressive:ei,hasProfile:ti,hasAlpha:si,src:ni},ai="webp",oi=96,ii=96,li="srgb",ci=4,ui="uchar",di=288,fi=!1,hi=!1,mi=!0,pi="/assets/moon-mostly-cloudy-cia3do0v.webp",gi={format:ai,width:oi,height:ii,space:li,channels:ci,depth:ui,density:di,isProgressive:fi,hasProfile:hi,hasAlpha:mi,src:pi},vi="webp",xi=96,wi=96,yi="srgb",bi=4,$i="uchar",_i=288,Pi=!1,Ti=!1,Mi=!0,Ci="/assets/moon-mostly-sunny-n3mh1b6a.webp",ki={format:vi,width:xi,height:wi,space:yi,channels:bi,depth:$i,density:_i,isProgressive:Pi,hasProfile:Ti,hasAlpha:Mi,src:Ci},Di="webp",Si=96,Ni=96,ji="srgb",Oi=4,Ei="uchar",Ii=288,Ai=!1,Ui=!1,Li=!0,Fi="/assets/moon-shower-ntzhti9o.webp",Wi={format:Di,width:Si,height:Ni,space:ji,channels:Oi,depth:Ei,density:Ii,isProgressive:Ai,hasProfile:Ui,hasAlpha:Li,src:Fi},Yi="webp",zi=96,Hi=96,Ri="srgb",qi=4,Bi="uchar",Xi=288,Vi=!1,Gi=!1,Zi=!0,Qi="/assets/moon-sunny-eg2emh4d.webp",Ji={format:Yi,width:zi,height:Hi,space:Ri,channels:qi,depth:Bi,density:Xi,isProgressive:Vi,hasProfile:Gi,hasAlpha:Zi,src:Qi},Ki="webp",el=96,tl=96,sl="srgb",nl=4,rl="uchar",al=288,ol=!1,il=!1,ll=!0,cl="/assets/rain-thunder-bx7a0l5g.webp",ul={format:Ki,width:el,height:tl,space:sl,channels:nl,depth:rl,density:al,isProgressive:ol,hasProfile:il,hasAlpha:ll,src:cl},dl="webp",fl=96,hl=96,ml="srgb",pl=4,gl="uchar",vl=288,xl=!1,wl=!1,yl=!0,bl="/assets/rain-cxs76xuj.webp",$l={format:dl,width:fl,height:hl,space:ml,channels:pl,depth:gl,density:vl,isProgressive:xl,hasProfile:wl,hasAlpha:yl,src:bl},_l="webp",Pl=96,Tl=96,Ml="srgb",Cl=4,kl="uchar",Dl=288,Sl=!1,Nl=!1,jl=!0,Ol="/assets/sleet-gc63vwmo.webp",El={format:_l,width:Pl,height:Tl,space:Ml,channels:Cl,depth:kl,density:Dl,isProgressive:Sl,hasProfile:Nl,hasAlpha:jl,src:Ol},Il="webp",Al=96,Ul=96,Ll="srgb",Fl=4,Wl="uchar",Yl=288,zl=!1,Hl=!1,Rl=!0,ql="/assets/snow-d0k6tmmc.webp",Bl={format:Il,width:Al,height:Ul,space:Ll,channels:Fl,depth:Wl,density:Yl,isProgressive:zl,hasProfile:Hl,hasAlpha:Rl,src:ql},Xl="webp",Vl=96,Gl=96,Zl="srgb",Ql=4,Jl="uchar",Kl=288,ec=!1,tc=!1,sc=!0,nc="/assets/sun-drizzle-g94obr5e.webp",rc={format:Xl,width:Vl,height:Gl,space:Zl,channels:Ql,depth:Jl,density:Kl,isProgressive:ec,hasProfile:tc,hasAlpha:sc,src:nc},ac="webp",oc=96,ic=96,lc="srgb",cc=4,uc="uchar",dc=288,fc=!1,hc=!1,mc=!0,pc="/assets/sun-hazy-c3z1j0hy.webp",gc={format:ac,width:oc,height:ic,space:lc,channels:cc,depth:uc,density:dc,isProgressive:fc,hasProfile:hc,hasAlpha:mc,src:pc},vc="webp",xc=96,wc=96,yc="srgb",bc=4,$c="uchar",_c=288,Pc=!1,Tc=!1,Mc=!0,Cc="/assets/sun-mostly-cloudy-d4o4zkga.webp",kc={format:vc,width:xc,height:wc,space:yc,channels:bc,depth:$c,density:_c,isProgressive:Pc,hasProfile:Tc,hasAlpha:Mc,src:Cc},Dc="webp",Sc=96,Nc=96,jc="srgb",Oc=4,Ec="uchar",Ic=288,Ac=!1,Uc=!1,Lc=!0,Fc="/assets/sun-mostly-sunny-livrdkgu.webp",Wc={format:Dc,width:Sc,height:Nc,space:jc,channels:Oc,depth:Ec,density:Ic,isProgressive:Ac,hasProfile:Uc,hasAlpha:Lc,src:Fc},Yc="webp",zc=96,Hc=96,Rc="srgb",qc=4,Bc="uchar",Xc=288,Vc=!1,Gc=!1,Zc=!0,Qc="/assets/sun-shower-lvtjthah.webp",Jc={format:Yc,width:zc,height:Hc,space:Rc,channels:qc,depth:Bc,density:Xc,isProgressive:Vc,hasProfile:Gc,hasAlpha:Zc,src:Qc},Kc="webp",eu=96,tu=96,su="srgb",nu=4,ru="uchar",au=288,ou=!1,iu=!1,lu=!0,cu="/assets/sun-sunny-kqjpjzd8.webp",uu={format:Kc,width:eu,height:tu,space:su,channels:nu,depth:ru,density:au,isProgressive:ou,hasProfile:iu,hasAlpha:lu,src:cu},du="webp",fu=96,hu=96,mu="srgb",pu=4,gu="uchar",vu=288,xu=!1,wu=!1,yu=!0,bu="/assets/thunder-jgjqg9ai.webp",$u={format:du,width:fu,height:hu,space:mu,channels:pu,depth:gu,density:vu,isProgressive:xu,hasProfile:wu,hasAlpha:yu,src:bu},_u="webp",Pu=96,Tu=96,Mu="srgb",Cu=4,ku="uchar",Du=288,Su=!1,Nu=!1,ju=!0,Ou="/assets/tornado-opa24tq3.webp",Eu={format:_u,width:Pu,height:Tu,space:Mu,channels:Cu,depth:ku,density:Du,isProgressive:Su,hasProfile:Nu,hasAlpha:ju,src:Ou},Iu="webp",Au=96,Uu=96,Lu="srgb",Fu=4,Wu="uchar",Yu=288,zu=!1,Hu=!1,Ru=!0,qu="/assets/windy-mw0a3u21.webp",Bu={format:Iu,width:Au,height:Uu,space:Lu,channels:Fu,depth:Wu,density:Yu,isProgressive:zu,hasProfile:Hu,hasAlpha:Ru,src:qu},Xu="webp",Vu=96,Gu=96,Zu="srgb",Qu=4,Ju="uchar",Ku=288,ed=!1,td=!1,sd=!0,nd="/assets/cloud-foggy-fhg0jn0w.webp",rd={format:Xu,width:Vu,height:Gu,space:Zu,channels:Qu,depth:Ju,density:Ku,isProgressive:ed,hasProfile:td,hasAlpha:sd,src:nd},ad="webp",od=96,id=96,ld="srgb",cd=4,ud="uchar",dd=288,fd=!1,hd=!1,md=!0,pd="/assets/cloudy-disd26f3.webp",gd={format:ad,width:od,height:id,space:ld,channels:cd,depth:ud,density:dd,isProgressive:fd,hasProfile:hd,hasAlpha:md,src:pd},vd="webp",xd=96,wd=96,yd="srgb",bd=4,$d="uchar",_d=288,Pd=!1,Td=!1,Md=!0,Cd="/assets/heavy-snow-g6jjwo2d.webp",kd={format:vd,width:xd,height:wd,space:yd,channels:bd,depth:$d,density:_d,isProgressive:Pd,hasProfile:Td,hasAlpha:Md,src:Cd},Dd="webp",Sd=96,Nd=96,jd="srgb",Od=4,Ed="uchar",Id=288,Ad=!1,Ud=!1,Ld=!0,Fd="/assets/light-snow-iz0efpkh.webp",Wd={format:Dd,width:Sd,height:Nd,space:jd,channels:Od,depth:Ed,density:Id,isProgressive:Ad,hasProfile:Ud,hasAlpha:Ld,src:Fd},Yd="webp",zd=96,Hd=96,Rd="srgb",qd=4,Bd="uchar",Xd=288,Vd=!1,Gd=!1,Zd=!0,Qd="/assets/moon-drizzle-b1nfv39c.webp",Jd={format:Yd,width:zd,height:Hd,space:Rd,channels:qd,depth:Bd,density:Xd,isProgressive:Vd,hasProfile:Gd,hasAlpha:Zd,src:Qd},Kd="webp",ef=96,tf=96,sf="srgb",nf=4,rf="uchar",af=288,of=!1,lf=!1,cf=!0,uf="/assets/moon-hazy-nfnzea7a.webp",df={format:Kd,width:ef,height:tf,space:sf,channels:nf,depth:rf,density:af,isProgressive:of,hasProfile:lf,hasAlpha:cf,src:uf},ff="webp",hf=96,mf=96,pf="srgb",gf=4,vf="uchar",xf=288,wf=!1,yf=!1,bf=!0,$f="/assets/moon-mostly-cloudy-e56e3z55.webp",_f={format:ff,width:hf,height:mf,space:pf,channels:gf,depth:vf,density:xf,isProgressive:wf,hasProfile:yf,hasAlpha:bf,src:$f},Pf="webp",Tf=96,Mf=96,Cf="srgb",kf=4,Df="uchar",Sf=288,Nf=!1,jf=!1,Of=!0,Ef="/assets/moon-mostly-sunny-ffu4gzf4.webp",If={format:Pf,width:Tf,height:Mf,space:Cf,channels:kf,depth:Df,density:Sf,isProgressive:Nf,hasProfile:jf,hasAlpha:Of,src:Ef},Af="webp",Uf=96,Lf=96,Ff="srgb",Wf=4,Yf="uchar",zf=288,Hf=!1,Rf=!1,qf=!0,Bf="/assets/moon-shower-e5dy9u48.webp",Xf={format:Af,width:Uf,height:Lf,space:Ff,channels:Wf,depth:Yf,density:zf,isProgressive:Hf,hasProfile:Rf,hasAlpha:qf,src:Bf},Vf="webp",Gf=96,Zf=96,Qf="srgb",Jf=4,Kf="uchar",eh=288,th=!1,sh=!1,nh=!0,rh="/assets/moon-sunny-d9o08xiw.webp",ah={format:Vf,width:Gf,height:Zf,space:Qf,channels:Jf,depth:Kf,density:eh,isProgressive:th,hasProfile:sh,hasAlpha:nh,src:rh},oh="webp",ih=96,lh=96,ch="srgb",uh=4,dh="uchar",fh=288,hh=!1,mh=!1,ph=!0,gh="/assets/rain-thunder-eplemvu1.webp",vh={format:oh,width:ih,height:lh,space:ch,channels:uh,depth:dh,density:fh,isProgressive:hh,hasProfile:mh,hasAlpha:ph,src:gh},xh="webp",wh=96,yh=96,bh="srgb",$h=4,_h="uchar",Ph=288,Th=!1,Mh=!1,Ch=!0,kh="/assets/rain-ogayr6kt.webp",Dh={format:xh,width:wh,height:yh,space:bh,channels:$h,depth:_h,density:Ph,isProgressive:Th,hasProfile:Mh,hasAlpha:Ch,src:kh},Sh="webp",Nh=96,jh=96,Oh="srgb",Eh=4,Ih="uchar",Ah=288,Uh=!1,Lh=!1,Fh=!0,Wh="/assets/sleet-o8noil7l.webp",Yh={format:Sh,width:Nh,height:jh,space:Oh,channels:Eh,depth:Ih,density:Ah,isProgressive:Uh,hasProfile:Lh,hasAlpha:Fh,src:Wh},zh="webp",Hh=96,Rh=96,qh="srgb",Bh=4,Xh="uchar",Vh=288,Gh=!1,Zh=!1,Qh=!0,Jh="/assets/snow-lq4cl3uc.webp",Kh={format:zh,width:Hh,height:Rh,space:qh,channels:Bh,depth:Xh,density:Vh,isProgressive:Gh,hasProfile:Zh,hasAlpha:Qh,src:Jh},em="webp",tm=96,sm=96,nm="srgb",rm=4,am="uchar",om=288,im=!1,lm=!1,cm=!0,um="/assets/sun-drizzle-htsohv65.webp",dm={format:em,width:tm,height:sm,space:nm,channels:rm,depth:am,density:om,isProgressive:im,hasProfile:lm,hasAlpha:cm,src:um},fm="webp",hm=96,mm=96,pm="srgb",gm=4,vm="uchar",xm=288,wm=!1,ym=!1,bm=!0,$m="/assets/sun-hazy-nfj7clcd.webp",_m={format:fm,width:hm,height:mm,space:pm,channels:gm,depth:vm,density:xm,isProgressive:wm,hasProfile:ym,hasAlpha:bm,src:$m},Pm="webp",Tm=96,Mm=96,Cm="srgb",km=4,Dm="uchar",Sm=288,Nm=!1,jm=!1,Om=!0,Em="/assets/sun-mostly-cloudy-e3pqqgs7.webp",Im={format:Pm,width:Tm,height:Mm,space:Cm,channels:km,depth:Dm,density:Sm,isProgressive:Nm,hasProfile:jm,hasAlpha:Om,src:Em},Am="webp",Um=96,Lm=96,Fm="srgb",Wm=4,Ym="uchar",zm=288,Hm=!1,Rm=!1,qm=!0,Bm="/assets/sun-mostly-sunny-o99k1c7a.webp",Xm={format:Am,width:Um,height:Lm,space:Fm,channels:Wm,depth:Ym,density:zm,isProgressive:Hm,hasProfile:Rm,hasAlpha:qm,src:Bm},Vm="webp",Gm=96,Zm=96,Qm="srgb",Jm=4,Km="uchar",ep=288,tp=!1,sp=!1,np=!0,rp="/assets/sun-shower-ldwl4jbp.webp",ap={format:Vm,width:Gm,height:Zm,space:Qm,channels:Jm,depth:Km,density:ep,isProgressive:tp,hasProfile:sp,hasAlpha:np,src:rp},op="webp",ip=96,lp=96,cp="srgb",up=4,dp="uchar",fp=!1,hp=!1,mp=!0,pp="/assets/sun-sunny-kqjpjzd8.webp",gp={format:op,width:ip,height:lp,space:cp,channels:up,depth:dp,isProgressive:fp,hasProfile:hp,hasAlpha:mp,src:pp},vp="webp",xp=96,wp=96,yp="srgb",bp=4,$p="uchar",_p=288,Pp=!1,Tp=!1,Mp=!0,Cp="/assets/thunder-xzn1cku3.webp",kp={format:vp,width:xp,height:wp,space:yp,channels:bp,depth:$p,density:_p,isProgressive:Pp,hasProfile:Tp,hasAlpha:Mp,src:Cp},Dp="webp",Sp=96,Np=96,jp="srgb",Op=4,Ep="uchar",Ip=288,Ap=!1,Up=!1,Lp=!0,Fp="/assets/tornado-diqu61wg.webp",Wp={format:Dp,width:Sp,height:Np,space:jp,channels:Op,depth:Ep,density:Ip,isProgressive:Ap,hasProfile:Up,hasAlpha:Lp,src:Fp},Yp="webp",zp=96,Hp=96,Rp="srgb",qp=4,Bp="uchar",Xp=288,Vp=!1,Gp=!1,Zp=!0,Qp="/assets/windy-n2v8wtyp.webp",Jp={format:Yp,width:zp,height:Hp,space:Rp,channels:qp,depth:Bp,density:Xp,isProgressive:Vp,hasProfile:Gp,hasAlpha:Zp,src:Qp},Kp={foggy:{default:Qa},cloudy:{default:co},"heavy-snow":{default:$o},"light-snow":{default:Eo},sleet:{default:El},drizzle:{default:rc,night:Bo},hazy:{default:gc,night:ri},"mostly-cloudy":{default:kc,night:gi},"mostly-sunny":{default:Wc,night:ki},shower:{default:Jc,night:Wi},sunny:{default:uu,night:Ji},"rain-thunder":{default:ul},rain:{default:$l},snow:{default:Bl},thunder:{default:$u},tornado:{default:Eu},windy:{default:Bu}},eg={foggy:{default:rd},cloudy:{default:gd},"heavy-snow":{default:kd},"light-snow":{default:Wd},sleet:{default:Yh},drizzle:{default:dm,night:Jd},hazy:{default:_m,night:df},"mostly-cloudy":{default:Im,night:_f},"mostly-sunny":{default:Xm,night:If},shower:{default:ap,night:Xf},sunny:{default:gp,night:ah},"rain-thunder":{default:vh},rain:{default:Dh},snow:{default:Kh},thunder:{default:kp},tornado:{default:Wp},windy:{default:Jp}};function tg({weatherCode:e,isDarkMode:t,isNight:s}){const n=t?eg:Kp,r=sg(e),a=n[r];return a.night&&s?a.night:a.default}function sg(e){switch(e){case 1:case 33:return"sunny";case 2:case 3:case 34:case 35:case 36:return"mostly-sunny";case 4:case 6:case 13:case 14:case 38:return"mostly-cloudy";case 5:case 37:return"hazy";case 7:case 8:return"cloudy";case 11:return"foggy";case 12:case 39:case 40:return"shower";case 15:case 16:case 17:case 41:case 42:return"thunder";case 18:return"rain";case 19:case 20:case 21:case 43:return"light-snow";case 22:case 23:case 44:return"snow";case 24:case 25:case 26:case 29:return"sleet";case 32:return"windy";default:return"cloudy"}}const ng="C";function rg(e,t){return Math.round(e==="F"?t*9/5+32:(t-32)*5/9)}function Gt(e,t,s=ng){return e===s?`${Math.round(t)}Â°`:`${rg(e,t)}Â°`}const ag=7,og=T.memo(function({weatherResults:t,dateRange:s,turnIndex:n}){const[r]=Pt(),a=r.temperatureUnit,l=U(F.threadId);T.useEffect(()=>{l&&Y.logEvent(j.searchWidgetShown,{thread_id:l,type:"weather",turn_index:n})},[l,n]);const{daily:i,hourly:c,current:u}=t,f=u.temperature.current,p=u.description,w=is([f&&re(f,a),p.description]).join(" â€¢ "),y=s!=null,$=y?c.filter(_=>_.timestamp>=s.start_timestamp&&_.timestamp<s.end_timestamp):i.slice(0,ag);return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"not-prose flex items-center gap-4",children:[o.jsxs("div",{className:"flex-grow",children:[o.jsx("div",{className:"text-lg font-semibold",children:w}),o.jsx("div",{className:"text-token-text-tertiary",children:dg(t.location)})]}),o.jsxs("div",{className:"flex",children:[o.jsx(lg,{}),o.jsx(Zt,{weatherDescriptionData:p,isNight:u.night})]})]}),o.jsx(ig,{turnIndex:n}),$.length>1&&o.jsx("div",{className:"no-scrollbar not-prose mt-1 overflow-auto sm:overflow-hidden",children:o.jsx(oe.Root,{className:"min-w-0",children:o.jsx(oe.Body,{className:"border-b-[0.5px] border-token-border-medium [&_tr:last-child]:border-b-0",children:$.map((_,x)=>o.jsxs(oe.Row,{children:[o.jsxs(Ae,{className:N("pl-0",y?"w-[180px]":"w-[150px]"),children:[o.jsx(Zt,{weatherDescriptionData:_.description,isNight:_.night,size:"small"}),o.jsx("div",{className:"ml-3",children:y?o.jsx("span",{className:"lowercase",children:ug(_)}):cg(_)})]}),o.jsx(Ae,{className:N("tabular-nums",y&&"w-[60px]"),children:y?o.jsx("div",{children:re(_.temperature.current,a)}):o.jsxs(o.Fragment,{children:[o.jsx("div",{children:re(_.temperature.max,a)}),o.jsx("div",{className:"ml-1 text-token-text-tertiary",children:re(_.temperature.min,a)})]})}),o.jsx(Ae,{children:_.description.description})]},x))})})})]})}),Ae=Ys(oe.Cell)`py-1.5 !border-l-0 !border-r-0`;function ig({turnIndex:e}){const t=U(n=>{var r,a;return(a=(r=n.thread)==null?void 0:r.turns[e])==null?void 0:a.use_location}),[s]=Pt();return!s.useLocation&&t?o.jsx("div",{className:"mt-3",children:o.jsx(zs,{color:"secondary",icon:Tn,onClick:()=>{vn.setSettingsModalOpen(!0)},children:o.jsx(D,{id:"f47VEc",defaultMessage:"Share precise location"})})}):null}function lg(){const[e,t]=Pt(),s=n=>(e.temperatureUnit??bs())===n?"font-bold":"font-light";return o.jsx(Fn,{size:"small",triggerButton:o.jsx("button",{className:"flex items-center justify-center p-1.5 text-token-text-tertiary hover:text-token-text-primary",children:o.jsx(Mn,{className:"icon-sm-heavy"})}),children:o.jsxs(Wn.Item,{onClick:()=>{t(n=>({...n,temperatureUnit:n.temperatureUnit==="C"?"F":"C"}))},className:"text-token-text-tertiary",children:[o.jsx(D,{id:"bQIoe/",defaultMessage:"Temperature"}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:s("F"),children:o.jsx(D,{id:"bvDeBB",defaultMessage:"Â°F"})}),o.jsx("div",{className:"mx-1 h-4 border-l border-gray-300"}),o.jsx("div",{className:s("C"),children:o.jsx(D,{id:"iNiz6O",defaultMessage:"Â°C"})})]})]})})}function Zt({weatherDescriptionData:e,isNight:t=!1,size:s="normal"}){const n=Hs(),r=s==="small"?30:50;return o.jsx("img",{draggable:!1,alt:e.description,src:tg({weatherCode:e.id,isDarkMode:n,isNight:t}).src,width:r,height:r})}function cg(e){const t=ys(e.timestamp,e.utc_offset_sec);return an(t)?"Today":S(t,"EEEE")}function ug(e){const t=ys(e.timestamp,e.utc_offset_sec);return S(t,"ha")}function re(e,t){return e==null?"-":Gt(t?t??"F":bs(),e)}function bs(){const e=["en-US","en-BZ","en-BS","en-KY","en-PW"],t=navigator.language||"en-US";return e.includes(t)?"F":"C"}function dg(e){const t=e.name.split(",").map(s=>s.trim());return e.country&&!t.includes(e.country)&&t.push(e.country),t.join(", ")}function fg({index:e,FormattedText:t}){const s=parseInt(e,10),n=T.useContext(W);if(n==null)return null;const{contentReferences:r,turnIndex:a}=n,l=r==null?void 0:r[s];if(!l||a===void 0||l.type===void 0)return null;switch(l.type){case"title_citation":return o.jsx(Oa,{metadata:l});case"location_search":return o.jsx(Pa,{metadata:l});case"time":return o.jsx(ka,{metadata:l});case"image_v2":return o.jsx($a,{metadata:l,turnIndex:a});case"nav_list":return o.jsx(Ta,{metadata:l});case"file":return o.jsx(tr,{fileRef:l,index:s});case"grouped_webpages":return o.jsx(Da,{webpageRef:l});case"tldr":return o.jsx(Fa,{tldr:l});case"stock":return o.jsx(xa,{contentReference:l,turnIndex:a});case"calculator":return o.jsx(Bn,{data:l,turnIndex:a});case"code_execution":return o.jsx(Qn,{FormattedText:t,displayInfo:l});case"forecast":return(l==null?void 0:l.forecast)&&o.jsx(og,{weatherResults:l.forecast,dateRange:l.date_range,turnIndex:a});case"sports":return o.jsx(wn,{sportsWidget:{status:"done",schedule:l.schedule,standings:l.standings}});case"sources_footnote":return o.jsx(Ca,{sourcesFootnote:l,index:s});case"debug":return o.jsx(o.Fragment,{children:Object.entries(l).map(([i,c])=>o.jsx("sub",{className:"ml-1 w-fit rounded-md border-2 border-solid border-orange-500 px-1 leading-none",children:c},i))});case"hidden":case"optimistic_image_citation":return null;case"webpage":return null}}const Qt={},Jt={};function $s(e,t,s=!0){const n=Rn(t,500);return Hn(e,n,s)}function hg({node:e,onClick:t,clientThreadId:s,messageId:n,href:r,...a}){var w;let l=t;const i=(w=e==null?void 0:e.properties)==null?void 0:w.href,c=rs(),u=T.useContext(W),f=$t(s),p=$s(f,r,u==null?void 0:u.useSafeUrls);return n!=null&&typeof i=="string"&&i.includes("/bing/redirect")&&(Qt[n]||(B.logEvent(X.browsingShowBingLink,{id:n,content:i}),Qt[n]=!0),l=y=>{Jt[n]||(B.logEvent(X.browsingClickBingLink,{id:n,content:i}),Jt[n]=!0),t==null||t(y)}),o.jsx("a",{onClick:l,...a,href:p,rel:c?"noopener noreferrer":"noopener"})}function mg(e){const{src:t,clientThreadId:s,...n}=e,r=$t(s),a=T.useContext(W),l=$s(r,t,a==null?void 0:a.useSafeUrls);return l==null?o.jsx("div",{}):o.jsx("img",{...n,src:l})}function pg(e){return o.jsx(fg,{...e,FormattedText:gg})}function gg({size:e="medium",children:t,className:s,clientThreadId:n,messageId:r,interpolateCitations:a=!1,componentOverrides:l}){const{resolvedTheme:i}=es(),c=rs(),u=T.useMemo(()=>({code:cn,[on]:pg,[un]:dn,a:f=>{var _;const{node:p,children:w,...y}=f,$=(_=p==null?void 0:p.properties)==null?void 0:_.href;return typeof $=="string"&&$.startsWith(Dt)?c?o.jsx(fn,{...y}):n!=null&&r!=null?o.jsx(hn,{...y,clientThreadId:n,messageId:r,href:$,children:w}):null:$&&typeof $=="string"&&qn($)?w:o.jsx(hg,{...f,clientThreadId:n,messageId:r,interpolateCitations:a})},td:({children:f})=>o.jsx("td",{children:T.Children.map(f,(p,w)=>p==="<br>"?o.jsx("br",{},w):p)}),img:({node:f,...p})=>{var y;const w=(y=f==null?void 0:f.properties)==null?void 0:y.src;return typeof w=="string"&&(w.startsWith(Dt)||w.startsWith("attachment:"))?null:o.jsx(mg,{...p,clientThreadId:n})},...l}),[n,a,c,r,l]);return o.jsx(ss,{name:"formatted_text_error",fallback:()=>o.jsx(o.Fragment,{children:t}),children:o.jsx(wg,{rehypePlugins:mn,remarkPlugins:pn,className:N(s,"markdown prose w-full break-words dark:prose-invert",i==="dark"?"dark":"light",e==="small"&&"prose-xs"),urlTransform:gn,components:u,children:t})})}function vg(e,t){return e===qs.SystemHint?o.jsx("span",{className:"hint-pill",children:t}):null}function Yg({text:e,customSymbolOffsets:t}){return o.jsx(ss,{name:"formatted_text_error",fallback:()=>o.jsx(o.Fragment,{children:e}),children:o.jsx(xg,{text:e,customSymbolOffsets:t})})}const xg=({text:e,customSymbolOffsets:t=[]})=>{var l;const s=((l=Rs("2342431234"))==null?void 0:l.value)===!0,n=/(```[\s\S]*?```|`[^`\n]+`|```[\s\S]*|`[^`\n]*\n|`[^`\n]*$)/g;let r=0;const a=e.split(n).flatMap((i,c)=>{const u=r;if(r+=i.length,i.startsWith("```")&&i.endsWith("```"))return o.jsx("pre",{className:"overflow-x-auto",children:o.jsx("code",{children:i.slice(3,-3).trim()})},c);if(i.startsWith("```"))return o.jsx("pre",{className:"overflow-x-auto",children:o.jsx("code",{children:i.slice(3).trim()})},c);if(i.startsWith("`")&&i.endsWith("`"))return o.jsx("code",{children:i.slice(1,-1)},c);if(i.startsWith("`"))return o.jsx("code",{children:i.slice(1)},c);{const f=t.find(p=>u<=p.startIndex&&p.endIndex<=r);if(f){const p=f.startIndex-u,w=f.endIndex-u,y=i.slice(0,p),$=i.slice(w),_=i.slice(p,w);return[y,vg(f.symbol,_),$].filter(x=>!!x)}return i}});return o.jsx("div",{className:s?"whitespace-pre-wrap":"",children:a})},wg=T.memo(ln);export{gg as FormattedText,Yg as UserFormattedText};
