import{j as u,af as d,Z as m}from"./ofly9yrztlesgrye.js";function x({url:n,size:r=16,minSize:t,fallback:a,className:i}){const o=h(n,r);return o==null?a??null:t!=null?u.jsx(f,{faviconUrl:o,size:r,minSize:t,fallback:a,className:i}):u.jsx(s,{faviconUrl:o,size:r,className:i})}function f({faviconUrl:n,size:r,minSize:t,fallback:a,className:i}){const{data:o,isLoading:g}=d({queryKey:["imageSize",n],queryFn:()=>new Promise((c,l)=>{const e=new Image;e.onload=()=>{c(Math.min(e.width,e.height))},e.onerror=()=>{l()},e.src=n})});return g?u.jsx("div",{className:i}):o==null||o<t?a??null:u.jsx(s,{faviconUrl:n,size:r,className:i})}function s({faviconUrl:n,size:r,className:t}){return u.jsx("img",{src:n,alt:"Favicon",width:r,height:r,className:t})}function h(n,r){if(!n)return null;try{const{origin:t}=new URL(n);return`https://www.google.com/s2/favicons?domain=${t}&sz=${r}`}catch(t){return m.addError(t),null}}export{x as F};
