const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/gwjzz1slr9g0lg3t.js","assets/mdvve60r3u0lq3gw.js","assets/eiz85vh9wqm3txxu.js","assets/root-clozo42r.css"])))=>i.map(i=>d[i]);
import{r as M,bx as bt,aE as Pt}from"./mdvve60r3u0lq3gw.js";const C=1e-6;let Z=typeof Float32Array<"u"?Float32Array:Array;function Tt(){const t=new Z(2);return Z!=Float32Array&&(t[0]=0,t[1]=0),t}function rt(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function Rt(t,e){return t[0]=-e[0],t[1]=-e[1],t}function _t(t,e,n,o){const r=e[0],s=e[1];return t[0]=r+o*(n[0]-r),t[1]=s+o*(n[1]-s),t}(function(){const t=Tt();return function(e,n,o,r,s,i){let a,c;for(n||(n=2),o||(o=0),r?c=Math.min(r*n+o,e.length):c=e.length,a=o;a<c;a+=n)t[0]=e[a],t[1]=e[a+1],s(t,t,i),e[a]=t[0],e[a+1]=t[1];return e}})();function At(){const t=new Z(3);return Z!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function zt(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function Nt(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function Ft(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}const kt=Nt;(function(){const t=At();return function(e,n,o,r,s,i){let a,c;for(n||(n=3),o||(o=0),r?c=Math.min(r*n+o,e.length):c=e.length,a=o;a<c;a+=n)t[0]=e[a],t[1]=e[a+1],t[2]=e[a+2],s(t,t,i),e[a]=t[0],e[a+1]=t[1],e[a+2]=t[2];return e}})();function jt(t,e){const n=e[0],o=e[1],r=e[2],s=e[3],i=e[4],a=e[5],c=e[6],l=e[7],f=e[8],h=e[9],g=e[10],y=e[11],v=e[12],E=e[13],x=e[14],m=e[15],b=n*a-o*i,d=n*c-r*i,u=n*l-s*i,p=o*c-r*a,_=o*l-s*a,w=r*l-s*c,S=f*E-h*v,A=f*x-g*v,z=f*m-y*v,P=h*x-g*E,T=h*m-y*E,N=g*m-y*x;let L=b*N-d*T+u*P+p*z-_*A+w*S;return L?(L=1/L,t[0]=(a*N-c*T+l*P)*L,t[1]=(r*T-o*N-s*P)*L,t[2]=(E*w-x*_+m*p)*L,t[3]=(g*_-h*w-y*p)*L,t[4]=(c*z-i*N-l*A)*L,t[5]=(n*N-r*z+s*A)*L,t[6]=(x*u-v*w-m*d)*L,t[7]=(f*w-g*u+y*d)*L,t[8]=(i*T-a*z+l*S)*L,t[9]=(o*z-n*T-s*S)*L,t[10]=(v*_-E*u+m*b)*L,t[11]=(h*u-f*_-y*b)*L,t[12]=(a*A-i*P-c*S)*L,t[13]=(n*P-o*A+r*S)*L,t[14]=(E*d-v*p-x*b)*L,t[15]=(f*p-h*d+g*b)*L,t):null}function Y(t,e,n){const o=e[0],r=e[1],s=e[2],i=e[3],a=e[4],c=e[5],l=e[6],f=e[7],h=e[8],g=e[9],y=e[10],v=e[11],E=e[12],x=e[13],m=e[14],b=e[15];let d=n[0],u=n[1],p=n[2],_=n[3];return t[0]=d*o+u*a+p*h+_*E,t[1]=d*r+u*c+p*g+_*x,t[2]=d*s+u*l+p*y+_*m,t[3]=d*i+u*f+p*v+_*b,d=n[4],u=n[5],p=n[6],_=n[7],t[4]=d*o+u*a+p*h+_*E,t[5]=d*r+u*c+p*g+_*x,t[6]=d*s+u*l+p*y+_*m,t[7]=d*i+u*f+p*v+_*b,d=n[8],u=n[9],p=n[10],_=n[11],t[8]=d*o+u*a+p*h+_*E,t[9]=d*r+u*c+p*g+_*x,t[10]=d*s+u*l+p*y+_*m,t[11]=d*i+u*f+p*v+_*b,d=n[12],u=n[13],p=n[14],_=n[15],t[12]=d*o+u*a+p*h+_*E,t[13]=d*r+u*c+p*g+_*x,t[14]=d*s+u*l+p*y+_*m,t[15]=d*i+u*f+p*v+_*b,t}function Q(t,e,n){const o=n[0],r=n[1],s=n[2];let i,a,c,l,f,h,g,y,v,E,x,m;return e===t?(t[12]=e[0]*o+e[4]*r+e[8]*s+e[12],t[13]=e[1]*o+e[5]*r+e[9]*s+e[13],t[14]=e[2]*o+e[6]*r+e[10]*s+e[14],t[15]=e[3]*o+e[7]*r+e[11]*s+e[15]):(i=e[0],a=e[1],c=e[2],l=e[3],f=e[4],h=e[5],g=e[6],y=e[7],v=e[8],E=e[9],x=e[10],m=e[11],t[0]=i,t[1]=a,t[2]=c,t[3]=l,t[4]=f,t[5]=h,t[6]=g,t[7]=y,t[8]=v,t[9]=E,t[10]=x,t[11]=m,t[12]=i*o+f*r+v*s+e[12],t[13]=a*o+h*r+E*s+e[13],t[14]=c*o+g*r+x*s+e[14],t[15]=l*o+y*r+m*s+e[15]),t}function Et(t,e,n){const o=n[0],r=n[1],s=n[2];return t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t[3]=e[3]*o,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*s,t[9]=e[9]*s,t[10]=e[10]*s,t[11]=e[11]*s,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Dt(t,e,n){const o=Math.sin(n),r=Math.cos(n),s=e[4],i=e[5],a=e[6],c=e[7],l=e[8],f=e[9],h=e[10],g=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=s*r+l*o,t[5]=i*r+f*o,t[6]=a*r+h*o,t[7]=c*r+g*o,t[8]=l*r-s*o,t[9]=f*r-i*o,t[10]=h*r-a*o,t[11]=g*r-c*o,t}function Ot(t,e,n){const o=Math.sin(n),r=Math.cos(n),s=e[0],i=e[1],a=e[2],c=e[3],l=e[4],f=e[5],h=e[6],g=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=s*r+l*o,t[1]=i*r+f*o,t[2]=a*r+h*o,t[3]=c*r+g*o,t[4]=l*r-s*o,t[5]=f*r-i*o,t[6]=h*r-a*o,t[7]=g*r-c*o,t}function Ut(t,e,n,o,r){const s=1/Math.tan(e/2);if(t[0]=s/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,r!=null&&r!==1/0){const i=1/(o-r);t[10]=(r+o)*i,t[14]=2*r*o*i}else t[10]=-1,t[14]=-2*o;return t}const Zt=Ut;function st(t,e){const n=t[0],o=t[1],r=t[2],s=t[3],i=t[4],a=t[5],c=t[6],l=t[7],f=t[8],h=t[9],g=t[10],y=t[11],v=t[12],E=t[13],x=t[14],m=t[15],b=e[0],d=e[1],u=e[2],p=e[3],_=e[4],w=e[5],S=e[6],A=e[7],z=e[8],P=e[9],T=e[10],N=e[11],L=e[12],et=e[13],nt=e[14],ot=e[15];return Math.abs(n-b)<=C*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(o-d)<=C*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(r-u)<=C*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(s-p)<=C*Math.max(1,Math.abs(s),Math.abs(p))&&Math.abs(i-_)<=C*Math.max(1,Math.abs(i),Math.abs(_))&&Math.abs(a-w)<=C*Math.max(1,Math.abs(a),Math.abs(w))&&Math.abs(c-S)<=C*Math.max(1,Math.abs(c),Math.abs(S))&&Math.abs(l-A)<=C*Math.max(1,Math.abs(l),Math.abs(A))&&Math.abs(f-z)<=C*Math.max(1,Math.abs(f),Math.abs(z))&&Math.abs(h-P)<=C*Math.max(1,Math.abs(h),Math.abs(P))&&Math.abs(g-T)<=C*Math.max(1,Math.abs(g),Math.abs(T))&&Math.abs(y-N)<=C*Math.max(1,Math.abs(y),Math.abs(N))&&Math.abs(v-L)<=C*Math.max(1,Math.abs(v),Math.abs(L))&&Math.abs(E-et)<=C*Math.max(1,Math.abs(E),Math.abs(et))&&Math.abs(x-nt)<=C*Math.max(1,Math.abs(x),Math.abs(nt))&&Math.abs(m-ot)<=C*Math.max(1,Math.abs(m),Math.abs(ot))}function Bt(){const t=new Z(4);return Z!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function Ht(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function Wt(t,e,n){const o=e[0],r=e[1],s=e[2],i=e[3];return t[0]=n[0]*o+n[4]*r+n[8]*s+n[12]*i,t[1]=n[1]*o+n[5]*r+n[9]*s+n[13]*i,t[2]=n[2]*o+n[6]*r+n[10]*s+n[14]*i,t[3]=n[3]*o+n[7]*r+n[11]*s+n[15]*i,t}(function(){const t=Bt();return function(e,n,o,r,s,i){let a,c;for(n||(n=4),o||(o=0),r?c=Math.min(r*n+o,e.length):c=e.length,a=o;a<c;a+=n)t[0]=e[a],t[1]=e[a+1],t[2]=e[a+2],t[3]=e[a+3],s(t,t,i),e[a]=t[0],e[a+1]=t[1],e[a+2]=t[2],e[a+3]=t[3];return e}})();function I(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function U(t,e){const n=Wt([],e,t);return Ht(n,n,1/n[3]),n}function K(t,e,n){return t<e?e:t>n?n:t}function qt(t){return Math.log(t)*Math.LOG2E}const Gt=Math.log2||qt;function j(t,e){if(!t)throw new Error(e||"@math.gl/web-mercator: assertion failed.")}const R=Math.PI,xt=R/4,F=R/180,J=180/R,W=512,it=4003e4,G=85.051129,Lt=1.5;function It(t){return Math.pow(2,t)}function O(t){const[e,n]=t;j(Number.isFinite(e)),j(Number.isFinite(n)&&n>=-90&&n<=90,"invalid latitude");const o=e*F,r=n*F,s=W*(o+R)/(2*R),i=W*(R+Math.log(Math.tan(xt+r*.5)))/(2*R);return[s,i]}function H(t){const[e,n]=t,o=e/W*(2*R)-R,r=2*(Math.atan(Math.exp(n/W*(2*R)-R))-xt);return[o*J,r*J]}function Vt(t){const{latitude:e,longitude:n,highPrecision:o=!1}=t;j(Number.isFinite(e)&&Number.isFinite(n));const r=W,s=Math.cos(e*F),i=r/360,a=i/s,c=r/it/s,l={unitsPerMeter:[c,c,c],metersPerUnit:[1/c,1/c,1/c],unitsPerDegree:[i,a,c],degreesPerUnit:[1/i,1/a,1/c]};if(o){const f=F*Math.tan(e*F)/s,h=i*f/2,g=r/it*f,y=g/a*c;l.unitsPerDegree2=[0,h,g],l.unitsPerMeter2=[y,0,y]}return l}function $t(t){const{height:e,pitch:n,bearing:o,altitude:r,scale:s,center:i}=t,a=I();Q(a,a,[0,0,-r]),Dt(a,a,-n*F),Ot(a,a,o*F);const c=s/e;return Et(a,a,[c,c,c]),i&&Q(a,a,Ft([],i)),a}function Yt(t){const{width:e,height:n,altitude:o,pitch:r=0,offset:s,center:i,scale:a,nearZMultiplier:c=1,farZMultiplier:l=1}=t;let{fovy:f=V(Lt)}=t;o!==void 0&&(f=V(o));const h=f*F,g=r*F,y=Ct(f);let v=y;i&&(v+=i[2]*a/Math.cos(g)/n);const E=h*(.5+(s?s[1]:0)/n),x=Math.sin(E)*v/Math.sin(K(Math.PI/2-g-E,.01,Math.PI-.01)),m=Math.sin(g)*x+v,b=v*10,d=Math.min(m*l,b);return{fov:h,aspect:e/n,focalDistance:y,near:c,far:d}}function Xt(t){const{fov:e,aspect:n,near:o,far:r}=Yt(t);return Zt([],e,n,o,r)}function V(t){return 2*Math.atan(.5/t)*J}function Ct(t){return .5/Math.tan(.5*t*F)}function Qt(t,e){const[n,o,r=0]=t;return j(Number.isFinite(n)&&Number.isFinite(o)&&Number.isFinite(r)),U(e,[n,o,r,1])}function at(t,e,n=0){const[o,r,s]=t;if(j(Number.isFinite(o)&&Number.isFinite(r),"invalid pixel coordinate"),Number.isFinite(s))return U(e,[o,r,s,1]);const i=U(e,[o,r,0,1]),a=U(e,[o,r,1,1]),c=i[2],l=a[2],f=c===l?0:((n||0)-c)/(l-c);return _t([],i,a,f)}function Kt(t){const{width:e,height:n,bounds:o,minExtent:r=0,maxZoom:s=24,offset:i=[0,0]}=t,[[a,c],[l,f]]=o,h=Jt(t.padding),g=O([a,K(f,-G,G)]),y=O([l,K(c,-G,G)]),v=[Math.max(Math.abs(y[0]-g[0]),r),Math.max(Math.abs(y[1]-g[1]),r)],E=[e-h.left-h.right-Math.abs(i[0])*2,n-h.top-h.bottom-Math.abs(i[1])*2];j(E[0]>0&&E[1]>0);const x=E[0]/v[0],m=E[1]/v[1],b=(h.right-h.left)/2/x,d=(h.top-h.bottom)/2/m,u=[(y[0]+g[0])/2+b,(y[1]+g[1])/2+d],p=H(u),_=Math.min(s,Gt(Math.abs(Math.min(x,m))));return j(Number.isFinite(_)),{longitude:p[0],latitude:p[1],zoom:_}}function Jt(t=0){return typeof t=="number"?{top:t,bottom:t,left:t,right:t}:(j(Number.isFinite(t.top)&&Number.isFinite(t.bottom)&&Number.isFinite(t.left)&&Number.isFinite(t.right)),t)}const ct=Math.PI/180;function te(t,e=0){const{width:n,height:o,unproject:r}=t,s={targetZ:e},i=r([0,o],s),a=r([n,o],s);let c,l;const f=t.fovy?.5*t.fovy*ct:Math.atan(.5/t.altitude),h=(90-t.pitch)*ct;return f>h-.01?(c=lt(t,0,e),l=lt(t,n,e)):(c=r([0,0],s),l=r([n,0],s)),[i,a,l,c]}function lt(t,e,n){const{pixelUnprojectionMatrix:o}=t,r=U(o,[e,0,1,1]),s=U(o,[e,t.height,1,1]),a=(n*t.distanceScales.unitsPerMeter[2]-r[2])/(s[2]-r[2]),c=_t([],r,s,a),l=H(c);return l.push(n),l}class tt{constructor(e={width:1,height:1}){this.equals=m=>m instanceof tt?m.width===this.width&&m.height===this.height&&st(m.projectionMatrix,this.projectionMatrix)&&st(m.viewMatrix,this.viewMatrix):!1,this.project=(m,b={})=>{const{topLeft:d=!0}=b,u=this.projectPosition(m),p=Qt(u,this.pixelProjectionMatrix),[_,w]=p,S=d?w:this.height-w;return m.length===2?[_,S]:[_,S,p[2]]},this.unproject=(m,b={})=>{const{topLeft:d=!0,targetZ:u=void 0}=b,[p,_,w]=m,S=d?_:this.height-_,A=u&&u*this.distanceScales.unitsPerMeter[2],z=at([p,S,w],this.pixelUnprojectionMatrix,A),[P,T,N]=this.unprojectPosition(z);return Number.isFinite(w)?[P,T,N]:Number.isFinite(u)?[P,T,u]:[P,T]},this.projectPosition=m=>{const[b,d]=O(m),u=(m[2]||0)*this.distanceScales.unitsPerMeter[2];return[b,d,u]},this.unprojectPosition=m=>{const[b,d]=H(m),u=(m[2]||0)*this.distanceScales.metersPerUnit[2];return[b,d,u]};let{width:n,height:o,altitude:r=null,fovy:s=null}=e;const{latitude:i=0,longitude:a=0,zoom:c=0,pitch:l=0,bearing:f=0,position:h=null,nearZMultiplier:g=.02,farZMultiplier:y=1.01}=e;n=n||1,o=o||1,s===null&&r===null?(r=Lt,s=V(r)):s===null?s=V(r):r===null&&(r=Ct(s));const v=It(c);r=Math.max(.75,r);const E=Vt({longitude:a,latitude:i}),x=O([a,i]);x.push(0),h&&zt(x,x,kt([],h,E.unitsPerMeter)),this.projectionMatrix=Xt({width:n,height:o,scale:v,center:x,pitch:l,fovy:s,nearZMultiplier:g,farZMultiplier:y}),this.viewMatrix=$t({height:o,scale:v,center:x,pitch:l,bearing:f,altitude:r}),this.width=n,this.height=o,this.scale=v,this.latitude=i,this.longitude=a,this.zoom=c,this.pitch=l,this.bearing=f,this.altitude=r,this.fovy=s,this.center=x,this.meterOffset=h||[0,0,0],this.distanceScales=E,this._initMatrices(),Object.freeze(this)}_initMatrices(){const{width:e,height:n,projectionMatrix:o,viewMatrix:r}=this,s=I();Y(s,s,o),Y(s,s,r),this.viewProjectionMatrix=s;const i=I();Et(i,i,[e/2,-n/2,1]),Q(i,i,[1,-1,0]),Y(i,i,s);const a=jt(I(),i);if(!a)throw new Error("Pixel project matrix not invertible");this.pixelProjectionMatrix=i,this.pixelUnprojectionMatrix=a}projectFlat(e){return O(e)}unprojectFlat(e){return H(e)}getMapCenterByLngLatPosition({lngLat:e,pos:n}){const o=at(n,this.pixelUnprojectionMatrix),r=O(e),s=rt([],r,Rt([],o)),i=rt([],this.center,s);return H(i)}fitBounds(e,n={}){const{width:o,height:r}=this,{longitude:s,latitude:i,zoom:a}=Kt(Object.assign({width:o,height:r,bounds:e},n));return new tt({width:o,height:r,longitude:s,latitude:i,zoom:a})}getBounds(e){const n=this.getBoundingRegion(e),o=Math.min(...n.map(a=>a[0])),r=Math.max(...n.map(a=>a[0])),s=Math.min(...n.map(a=>a[1])),i=Math.max(...n.map(a=>a[1]));return[[o,s],[r,i]]}getBoundingRegion(e={}){return te(this,e.z||0)}getLocationAtPoint({lngLat:e,pos:n}){return this.getMapCenterByLngLatPosition({lngLat:e,pos:n})}}function ee(t,e,n={}){const o={type:"Feature"};return(n.id===0||n.id)&&(o.id=n.id),n.bbox&&(o.bbox=n.bbox),o.properties=e||{},o.geometry=t,o}function ne(t,e,n={}){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!ft(t[0])||!ft(t[1]))throw new Error("coordinates must contain numbers");return ee({type:"Point",coordinates:t},e,n)}function Te(t,e={}){const n={type:"FeatureCollection"};return e.id&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.features=t,n}function ft(t){return!isNaN(t)&&t!==null&&!Array.isArray(t)}function wt(t,e,n){if(t!==null)for(var o,r,s,i,a,c,l,f=0,h=0,g,y=t.type,v=y==="FeatureCollection",E=y==="Feature",x=v?t.features.length:1,m=0;m<x;m++){l=v?t.features[m].geometry:E?t.geometry:t,g=l?l.type==="GeometryCollection":!1,a=g?l.geometries.length:1;for(var b=0;b<a;b++){var d=0,u=0;if(i=g?l.geometries[b]:l,i!==null){c=i.coordinates;var p=i.type;switch(f=0,p){case null:break;case"Point":if(e(c,h,m,d,u)===!1)return!1;h++,d++;break;case"LineString":case"MultiPoint":for(o=0;o<c.length;o++){if(e(c[o],h,m,d,u)===!1)return!1;h++,p==="MultiPoint"&&d++}p==="LineString"&&d++;break;case"Polygon":case"MultiLineString":for(o=0;o<c.length;o++){for(r=0;r<c[o].length-f;r++){if(e(c[o][r],h,m,d,u)===!1)return!1;h++}p==="MultiLineString"&&d++,p==="Polygon"&&u++}p==="Polygon"&&d++;break;case"MultiPolygon":for(o=0;o<c.length;o++){for(u=0,r=0;r<c[o].length;r++){for(s=0;s<c[o][r].length-f;s++){if(e(c[o][r][s],h,m,d,u)===!1)return!1;h++}u++}d++}break;case"GeometryCollection":for(o=0;o<i.geometries.length;o++)if(wt(i.geometries[o],e)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function St(t,e={}){if(t.bbox!=null&&e.recompute!==!0)return t.bbox;const n=[1/0,1/0,-1/0,-1/0];return wt(t,o=>{n[0]>o[0]&&(n[0]=o[0]),n[1]>o[1]&&(n[1]=o[1]),n[2]<o[0]&&(n[2]=o[0]),n[3]<o[1]&&(n[3]=o[1])}),n}var Re=St;function oe(t,e={}){const n=St(t),o=(n[0]+n[2])/2,r=(n[1]+n[3])/2;return ne([o,r],e.properties,e)}var Ae=oe;const re=M.createContext(null);function se(t,e){const n=Array.isArray(t)?t[0]:t?t.x:0,o=Array.isArray(t)?t[1]:t?t.y:0,r=Array.isArray(e)?e[0]:e?e.x:0,s=Array.isArray(e)?e[1]:e?e.y:0;return n===r&&o===s}function k(t,e){if(t===e)return!0;if(!t||!e)return!1;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!k(t[n],e[n]))return!1;return!0}else if(Array.isArray(e))return!1;if(typeof t=="object"&&typeof e=="object"){const n=Object.keys(t),o=Object.keys(e);if(n.length!==o.length)return!1;for(const r of n)if(!e.hasOwnProperty(r)||!k(t[r],e[r]))return!1;return!0}return!1}function ie(t){const e=t.clone();return e.pixelsToGLUnits=t.pixelsToGLUnits,e}function ut(t,e){if(!t.getProjection)return;const n=t.getProjection(),o=e.getProjection();k(n,o)||e.setProjection(n)}function ht(t){return{longitude:t.center.lng,latitude:t.center.lat,zoom:t.zoom,pitch:t.pitch,bearing:t.bearing,padding:t.padding}}function dt(t,e){const n=e.viewState||e;let o=!1;if("longitude"in n&&"latitude"in n){const r=t.center;t.center=new r.constructor(n.longitude,n.latitude),o=o||r!==t.center}if("zoom"in n){const r=t.zoom;t.zoom=n.zoom,o=o||r!==t.zoom}if("bearing"in n){const r=t.bearing;t.bearing=n.bearing,o=o||r!==t.bearing}if("pitch"in n){const r=t.pitch;t.pitch=n.pitch,o=o||r!==t.pitch}return n.padding&&!t.isPaddingEqual(n.padding)&&(o=!0,t.padding=n.padding),o}const ae=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function mt(t){if(!t)return null;if(typeof t=="string"||("toJS"in t&&(t=t.toJS()),!t.layers))return t;const e={};for(const o of t.layers)e[o.id]=o;const n=t.layers.map(o=>{let r=null;"interactive"in o&&(r=Object.assign({},o),delete r.interactive);const s=e[o.ref];if(s){r=r||Object.assign({},o),delete r.ref;for(const i of ae)i in s&&(r[i]=s[i])}return r||o});return{...t,layers:n}}var gt={};const pt={version:8,sources:{},layers:[]},Mt={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},X={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},vt={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},ce=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],le=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class B{constructor(e,n,o){this._map=null,this._internalUpdate=!1,this._inRender=!1,this._hoveredFeatures=null,this._deferredEvents={move:!1,zoom:!1,pitch:!1,rotate:!1},this._onEvent=r=>{const s=this.props[vt[r.type]];s?s(r):r.type==="error"&&console.error(r.error)},this._onPointerEvent=r=>{(r.type==="mousemove"||r.type==="mouseout")&&this._updateHover(r);const s=this.props[Mt[r.type]];s&&(this.props.interactiveLayerIds&&r.type!=="mouseover"&&r.type!=="mouseout"&&(r.features=this._hoveredFeatures||this._queryRenderedFeatures(r.point)),s(r),delete r.features)},this._onCameraEvent=r=>{if(!this._internalUpdate){const s=this.props[X[r.type]];s&&s(r)}r.type in this._deferredEvents&&(this._deferredEvents[r.type]=!1)},this._MapClass=e,this.props=n,this._initialize(o)}get map(){return this._map}get transform(){return this._renderTransform}setProps(e){const n=this.props;this.props=e;const o=this._updateSettings(e,n);o&&this._createShadowTransform(this._map);const r=this._updateSize(e),s=this._updateViewState(e,!0);this._updateStyle(e,n),this._updateStyleComponents(e,n),this._updateHandlers(e,n),(o||r||s&&!this._map.isMoving())&&this.redraw()}static reuse(e,n){const o=B.savedMaps.pop();if(!o)return null;const r=o.map,s=r.getContainer();for(n.className=s.className;s.childNodes.length>0;)n.appendChild(s.childNodes[0]);r._container=n;const i=r._resizeObserver;i&&(i.disconnect(),i.observe(n)),o.setProps({...e,styleDiffing:!1}),r.resize();const{initialViewState:a}=e;return a&&(a.bounds?r.fitBounds(a.bounds,{...a.fitBoundsOptions,duration:0}):o._updateViewState(a,!1)),r.isStyleLoaded()?r.fire("load"):r.once("styledata",()=>r.fire("load")),r._update(),o}_initialize(e){const{props:n}=this,{mapStyle:o=pt}=n,r={...n,...n.initialViewState,accessToken:n.mapboxAccessToken||fe()||null,container:e,style:mt(o)},s=r.initialViewState||r.viewState||r;if(Object.assign(r,{center:[s.longitude||0,s.latitude||0],zoom:s.zoom||0,pitch:s.pitch||0,bearing:s.bearing||0}),n.gl){const f=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=f,n.gl)}const i=new this._MapClass(r);s.padding&&i.setPadding(s.padding),n.cursor&&(i.getCanvas().style.cursor=n.cursor),this._createShadowTransform(i);const a=i._render;i._render=f=>{this._inRender=!0,a.call(i,f),this._inRender=!1};const c=i._renderTaskQueue.run;i._renderTaskQueue.run=f=>{c.call(i._renderTaskQueue,f),this._onBeforeRepaint()},i.on("render",()=>this._onAfterRepaint());const l=i.fire;i.fire=this._fireEvent.bind(this,l),i.on("resize",()=>{this._renderTransform.resize(i.transform.width,i.transform.height)}),i.on("styledata",()=>{this._updateStyleComponents(this.props,{}),ut(i.transform,this._renderTransform)}),i.on("sourcedata",()=>this._updateStyleComponents(this.props,{}));for(const f in Mt)i.on(f,this._onPointerEvent);for(const f in X)i.on(f,this._onCameraEvent);for(const f in vt)i.on(f,this._onEvent);this._map=i}recycle(){const n=this.map.getContainer().querySelector("[mapboxgl-children]");n?.remove(),B.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){const e=this._map;!this._inRender&&e.style&&(e._frame&&(e._frame.cancel(),e._frame=null),e._render())}_createShadowTransform(e){const n=ie(e.transform);e.painter.transform=n,this._renderTransform=n}_updateSize(e){const{viewState:n}=e;if(n){const o=this._map;if(n.width!==o.transform.width||n.height!==o.transform.height)return o.resize(),!0}return!1}_updateViewState(e,n){if(this._internalUpdate)return!1;const o=this._map,r=this._renderTransform,{zoom:s,pitch:i,bearing:a}=r,c=o.isMoving();c&&(r.cameraElevationReference="sea");const l=dt(r,{...ht(o.transform),...e});if(c&&(r.cameraElevationReference="ground"),l&&n){const f=this._deferredEvents;f.move=!0,f.zoom||(f.zoom=s!==r.zoom),f.rotate||(f.rotate=a!==r.bearing),f.pitch||(f.pitch=i!==r.pitch)}return c||dt(o.transform,e),l}_updateSettings(e,n){const o=this._map;let r=!1;for(const s of ce)if(s in e&&!k(e[s],n[s])){r=!0;const i=o[`set${s[0].toUpperCase()}${s.slice(1)}`];i?.call(o,e[s])}return r}_updateStyle(e,n){if(e.cursor!==n.cursor&&(this._map.getCanvas().style.cursor=e.cursor||""),e.mapStyle!==n.mapStyle){const{mapStyle:o=pt,styleDiffing:r=!0}=e,s={diff:r};return"localIdeographFontFamily"in e&&(s.localIdeographFontFamily=e.localIdeographFontFamily),this._map.setStyle(mt(o),s),!0}return!1}_updateStyleComponents(e,n){const o=this._map;let r=!1;return o.isStyleLoaded()&&("light"in e&&o.setLight&&!k(e.light,n.light)&&(r=!0,o.setLight(e.light)),"fog"in e&&o.setFog&&!k(e.fog,n.fog)&&(r=!0,o.setFog(e.fog)),"terrain"in e&&o.setTerrain&&!k(e.terrain,n.terrain)&&(!e.terrain||o.getSource(e.terrain.source))&&(r=!0,o.setTerrain(e.terrain))),r}_updateHandlers(e,n){var o,r;const s=this._map;let i=!1;for(const a of le){const c=(o=e[a])!==null&&o!==void 0?o:!0,l=(r=n[a])!==null&&r!==void 0?r:!0;k(c,l)||(i=!0,c?s[a].enable(c):s[a].disable())}return i}_queryRenderedFeatures(e){const n=this._map,o=n.transform,{interactiveLayerIds:r=[]}=this.props;try{return n.transform=this._renderTransform,n.queryRenderedFeatures(e,{layers:r.filter(n.getLayer.bind(n))})}catch{return[]}finally{n.transform=o}}_updateHover(e){var n;const{props:o}=this;if(o.interactiveLayerIds&&(o.onMouseMove||o.onMouseEnter||o.onMouseLeave)){const s=e.type,i=((n=this._hoveredFeatures)===null||n===void 0?void 0:n.length)>0,a=this._queryRenderedFeatures(e.point),c=a.length>0;!c&&i&&(e.type="mouseleave",this._onPointerEvent(e)),this._hoveredFeatures=a,c&&!i&&(e.type="mouseenter",this._onPointerEvent(e)),e.type=s}else this._hoveredFeatures=null}_fireEvent(e,n,o){const r=this._map,s=r.transform,i=typeof n=="string"?n:n.type;return i==="move"&&this._updateViewState(this.props,!1),i in X&&(typeof n=="object"&&(n.viewState=ht(s)),this._map.isMoving())?(r.transform=this._renderTransform,e.call(r,n,o),r.transform=s,r):(e.call(r,n,o),r)}_onBeforeRepaint(){const e=this._map;this._internalUpdate=!0;for(const o in this._deferredEvents)this._deferredEvents[o]&&e.fire(o);this._internalUpdate=!1;const n=this._map.transform;e.transform=this._renderTransform,this._onAfterRepaint=()=>{ut(this._renderTransform,n),e.transform=n}}}B.savedMaps=[];function fe(){let t=null;if(typeof location<"u"){const e=/access_token=([^&\/]*)/.exec(location.search);t=e&&e[1]}try{t=t||gt.MapboxAccessToken}catch{}try{t=t||gt.REACT_APP_MAPBOX_ACCESS_TOKEN}catch{}return t}const ue=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"];function he(t){if(!t)return null;const e=t.map,n={getMap:()=>e,getCenter:()=>t.transform.center,getZoom:()=>t.transform.zoom,getBearing:()=>t.transform.bearing,getPitch:()=>t.transform.pitch,getPadding:()=>t.transform.padding,getBounds:()=>t.transform.getBounds(),project:o=>{const r=e.transform;e.transform=t.transform;const s=e.project(o);return e.transform=r,s},unproject:o=>{const r=e.transform;e.transform=t.transform;const s=e.unproject(o);return e.transform=r,s},queryTerrainElevation:(o,r)=>{const s=e.transform;e.transform=t.transform;const i=e.queryTerrainElevation(o,r);return e.transform=s,i},queryRenderedFeatures:(o,r)=>{const s=e.transform;e.transform=t.transform;const i=e.queryRenderedFeatures(o,r);return e.transform=s,i}};for(const o of de(e))!(o in n)&&!ue.includes(o)&&(n[o]=e[o].bind(e));return n}function de(t){const e=new Set;let n=t;for(;n;){for(const o of Object.getOwnPropertyNames(n))o[0]!=="_"&&typeof t[o]=="function"&&o!=="fire"&&o!=="setEventedParent"&&e.add(o);n=Object.getPrototypeOf(n)}return Array.from(e)}const me=typeof document<"u"?M.useLayoutEffect:M.useEffect,ge=["baseApiUrl","maxParallelImageRequests","workerClass","workerCount","workerUrl"];function pe(t,e){for(const o of ge)o in e&&(t[o]=e[o]);const{RTLTextPlugin:n="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js"}=e;n&&t.getRTLTextPluginStatus&&t.getRTLTextPluginStatus()==="unavailable"&&t.setRTLTextPlugin(n,o=>{o&&console.error(o)},!0)}const $=M.createContext(null);function Me(t,e,n){const o=M.useContext(re),[r,s]=M.useState(null),i=M.useRef(),{current:a}=M.useRef({mapLib:null,map:null});M.useEffect(()=>{const f=t.mapLib;let h=!0,g;return Promise.resolve(f||n).then(y=>{if(!h)return;if(!y)throw new Error("Invalid mapLib");const v="Map"in y?y:y.default;if(!v.Map)throw new Error("Invalid mapLib");if(pe(v,t),!v.supported||v.supported(t))t.reuseMaps&&(g=B.reuse(t,i.current)),g||(g=new B(v.Map,t,i.current)),a.map=he(g),a.mapLib=v,s(g),o?.onMapMount(a.map,t.id);else throw new Error("Map is not supported by this browser")}).catch(y=>{const{onError:v}=t;v?v({type:"error",target:null,originalEvent:null,error:y}):console.error(y)}),()=>{h=!1,g&&(o?.onMapUnmount(t.id),t.reuseMaps?g.recycle():g.destroy())}},[]),me(()=>{r&&r.setProps(t)}),M.useImperativeHandle(e,()=>a.map,[r]);const c=M.useMemo(()=>({position:"relative",width:"100%",height:"100%",...t.style}),[t.style]),l={height:"100%"};return M.createElement("div",{id:t.id,ref:i,style:c},r&&M.createElement($.Provider,{value:a},M.createElement("div",{"mapboxgl-children":"",style:l},t.children)))}const ve=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function D(t,e){if(!t||!e)return;const n=t.style;for(const o in e){const r=e[o];Number.isFinite(r)&&!ve.test(o)?n[o]=`${r}px`:n[o]=r}}function ye(t,e){const{map:n,mapLib:o}=M.useContext($),r=M.useRef({props:t});r.current.props=t;const s=M.useMemo(()=>{let E=!1;M.Children.forEach(t.children,b=>{b&&(E=!0)});const x={...t,element:E?document.createElement("div"):null},m=new o.Marker(x);return m.setLngLat([t.longitude,t.latitude]),m.getElement().addEventListener("click",b=>{var d,u;(u=(d=r.current.props).onClick)===null||u===void 0||u.call(d,{type:"click",target:m,originalEvent:b})}),m.on("dragstart",b=>{var d,u;const p=b;p.lngLat=s.getLngLat(),(u=(d=r.current.props).onDragStart)===null||u===void 0||u.call(d,p)}),m.on("drag",b=>{var d,u;const p=b;p.lngLat=s.getLngLat(),(u=(d=r.current.props).onDrag)===null||u===void 0||u.call(d,p)}),m.on("dragend",b=>{var d,u;const p=b;p.lngLat=s.getLngLat(),(u=(d=r.current.props).onDragEnd)===null||u===void 0||u.call(d,p)}),m},[]);M.useEffect(()=>(s.addTo(n.getMap()),()=>{s.remove()}),[]);const{longitude:i,latitude:a,offset:c,style:l,draggable:f=!1,popup:h=null,rotation:g=0,rotationAlignment:y="auto",pitchAlignment:v="auto"}=t;return M.useEffect(()=>{D(s.getElement(),l)},[l]),M.useImperativeHandle(e,()=>s,[]),(s.getLngLat().lng!==i||s.getLngLat().lat!==a)&&s.setLngLat([i,a]),c&&!se(s.getOffset(),c)&&s.setOffset(c),s.isDraggable()!==f&&s.setDraggable(f),s.getRotation()!==g&&s.setRotation(g),s.getRotationAlignment()!==y&&s.setRotationAlignment(y),s.getPitchAlignment()!==v&&s.setPitchAlignment(v),s.getPopup()!==h&&s.setPopup(h),bt.createPortal(t.children,s.getElement())}const be=M.memo(M.forwardRef(ye));function yt(t){return new Set(t?t.trim().split(/\s+/):[])}function _e(t,e){const{map:n,mapLib:o}=M.useContext($),r=M.useMemo(()=>document.createElement("div"),[]),s=M.useRef({props:t});s.current.props=t;const i=M.useMemo(()=>{const a={...t},c=new o.Popup(a);return c.setLngLat([t.longitude,t.latitude]),c.once("open",l=>{var f,h;(h=(f=s.current.props).onOpen)===null||h===void 0||h.call(f,l)}),c},[]);if(M.useEffect(()=>{const a=c=>{var l,f;(f=(l=s.current.props).onClose)===null||f===void 0||f.call(l,c)};return i.on("close",a),i.setDOMContent(r).addTo(n.getMap()),()=>{i.off("close",a),i.isOpen()&&i.remove()}},[]),M.useEffect(()=>{D(i.getElement(),t.style)},[t.style]),M.useImperativeHandle(e,()=>i,[]),i.isOpen()&&((i.getLngLat().lng!==t.longitude||i.getLngLat().lat!==t.latitude)&&i.setLngLat([t.longitude,t.latitude]),t.offset&&!k(i.options.offset,t.offset)&&i.setOffset(t.offset),(i.options.anchor!==t.anchor||i.options.maxWidth!==t.maxWidth)&&(i.options.anchor=t.anchor,i.setMaxWidth(t.maxWidth)),i.options.className!==t.className)){const a=yt(i.options.className),c=yt(t.className);for(const l of a)c.has(l)||i.removeClassName(l);for(const l of c)a.has(l)||i.addClassName(l);i.options.className=t.className}return bt.createPortal(t.children,r)}M.memo(M.forwardRef(_e));function q(t,e,n,o){const r=M.useContext($),s=M.useMemo(()=>t(r),[]);return M.useEffect(()=>{const i=e,a=typeof e=="function"&&typeof n=="function"?e:null,c=typeof e=="function"?e:null,{map:l}=r;return l.hasControl(s)||(l.addControl(s,i?.position),a&&a(r)),()=>{c&&c(r),l.hasControl(s)&&l.removeControl(s)}},[]),s}function Ee(t){const e=q(({mapLib:n})=>new n.AttributionControl(t),{position:t.position});return M.useEffect(()=>{D(e._container,t.style)},[t.style]),null}M.memo(Ee);function xe(t){const e=q(({mapLib:n})=>new n.FullscreenControl({container:t.containerId&&document.getElementById(t.containerId)}),{position:t.position});return M.useEffect(()=>{D(e._controlContainer,t.style)},[t.style]),null}M.memo(xe);function Le(t,e){const n=M.useRef({props:t}),o=q(({mapLib:r})=>{const s=new r.GeolocateControl(t),i=s._setupUI;return s._setupUI=a=>{s._container.hasChildNodes()||i(a)},s.on("geolocate",a=>{var c,l;(l=(c=n.current.props).onGeolocate)===null||l===void 0||l.call(c,a)}),s.on("error",a=>{var c,l;(l=(c=n.current.props).onError)===null||l===void 0||l.call(c,a)}),s.on("outofmaxbounds",a=>{var c,l;(l=(c=n.current.props).onOutOfMaxBounds)===null||l===void 0||l.call(c,a)}),s.on("trackuserlocationstart",a=>{var c,l;(l=(c=n.current.props).onTrackUserLocationStart)===null||l===void 0||l.call(c,a)}),s.on("trackuserlocationend",a=>{var c,l;(l=(c=n.current.props).onTrackUserLocationEnd)===null||l===void 0||l.call(c,a)}),s},{position:t.position});return n.current.props=t,M.useImperativeHandle(e,()=>o,[]),M.useEffect(()=>{D(o._container,t.style)},[t.style]),null}M.memo(M.forwardRef(Le));function Ce(t){const e=q(({mapLib:n})=>new n.NavigationControl(t),{position:t.position});return M.useEffect(()=>{D(e._container,t.style)},[t.style]),null}M.memo(Ce);function we(t){const e=q(({mapLib:s})=>new s.ScaleControl(t),{position:t.position}),n=M.useRef(t),o=n.current;n.current=t;const{style:r}=t;return t.maxWidth!==void 0&&t.maxWidth!==o.maxWidth&&(e.options.maxWidth=t.maxWidth),t.unit!==void 0&&t.unit!==o.unit&&e.setUnit(t.unit),M.useEffect(()=>{D(e._container,r)},[r]),null}M.memo(we);const Se=Pt(()=>import("./gwjzz1slr9g0lg3t.js").then(t=>t.m),__vite__mapDeps([0,1,2,3])),ze=M.forwardRef(function(e,n){return Me(e,n,Se)}),Ne=be;export{Ne as M,tt as W,Ae as a,ze as b,Te as f,ne as p,Re as t};
//# sourceMappingURL=jiduoherw1s2lh7w.js.map
