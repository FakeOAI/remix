const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/f5iwunmoksivr720.js","assets/ib63zzsfkf72wln1.js","assets/mt8z8crlc877hbg5.js","assets/root-kagbl44x.css","assets/fhv3hyfwgezymfbi.js","assets/conversation-small-n1h7xu26.css","assets/mujgvffl5nls2cf7.js","assets/d3y72ugnrmac5z1v.js","assets/inw4e0uoy9etw33c.js","assets/e9lafxuzyeh4418f.js","assets/jqj7z2cjyilz60ek.js","assets/e2bfuohsaklroodh.js"])))=>i.map(i=>d[i]);
import{a8 as me,r as g,l as e,bz as he,aR as pe,aT as xe,aU as be,aW as ve,m as k,Q as N,P as u,bd as P,Z as l,bC as Se,a0 as T,a1 as G,V as E,h as K,j as B,ao as w,a as C,cD as je,aC as ye,aD as Ce,aJ as Me,bO as V,aM as _,ex as ke,bg as Q,bA as Z,fb as J,a_ as we,e0 as Ne,cl as Ie,fc as Pe,b4 as Te,N as _e,O as Fe,ed as Ae,bS as Ue,a2 as $}from"./ib63zzsfkf72wln1.js";import{F,a3 as v,w as X,v as R,x as Y,fu as I,fv as Le,fw as Ee,fx as z,fy as Be,aF as ee,z as Re,u as te,en as Oe,fz as De,eh as q,e9 as He,bW as We}from"./fhv3hyfwgezymfbi.js";import{aV as $e,a as ze,bq as qe,br as ae,T as Ge,bs as Ke,aP as Ve,aM as Qe}from"./mt8z8crlc877hbg5.js";import{d as Ze,N as se,U as O,e as Je}from"./mf1bkj87fupn68va.js";import{m as ne}from"./lcjfunksmdzjk74y.js";import{B as Xe,D as U}from"./cfdxv94rj3zrkv7r.js";import{u as Ye}from"./1qaqgsecjm76qx23.js";import{E as et}from"./oook7e2neon7j5js.js";function Nt({onClick:t,className:s,...a}){return e.jsx(Ze,{onClick:t,className:k(s,"flex-grow overflow-hidden"),...a})}function It({onNewChatButtonClick:t}){const{isUnauthenticated:s,isLoading:a}=N();return a||!s?null:e.jsx(se,{className:"mr-3",onClick:()=>{u.logNewChatButtonClicked({location:"Mobile header"}),t()}})}function Pt({onNewChatButtonClick:t}){const{isUnauthenticated:s,isLoading:a}=N(),n=X();return a?null:s?n?e.jsx(at,{}):e.jsx(tt,{}):e.jsx(se,{onClick:()=>{u.logNewChatButtonClicked({location:"Mobile header"}),t()}})}function tt(){const t=R(),s=Y(ie.signUpButtonText);return e.jsx(P,{as:"button",size:"small",color:"primary",onClick:()=>{t({authType:"signup",callback:a=>{u.logSignUpButtonClicked({location:"Mobile Chat Stage Header",provider:a})}})},children:e.jsx(l,{...s})})}function at(){const t=R();return e.jsx(P,{as:"button",size:"small",color:"primary",onClick:()=>{t({authType:"login",callback:s=>{u.logLogInButtonClicked({location:"Mobile Chat Stage Header",provider:s})}})},"data-testid":"mobile-login-button",children:e.jsx(l,{...Se.logInButtonText})})}function st({onClick:t}){return e.jsxs("button",{type:"button",className:"inline-flex rounded-md hover:text-token-text-primary focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white active:opacity-50",onClick:t,"data-testid":"open-sidebar-button",children:[e.jsx("span",{className:"sr-only",children:e.jsx(l,{...ie.openSidebar})}),e.jsx($e,{className:"icon-lg mx-2 text-token-text-secondary"})]})}const nt=({onClickOpenSidebar:t,children:s,showNavSidebar:a,leftContent:n,rightContent:c,bottomContent:r})=>{const d=F(f=>f.activeSidebar),i=me(),o=i.pathname+i.search+i.hash;return g.useEffect(()=>{d==="popover-nav"&&v.setActiveSidebar(!1)},[o]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"draggable sticky top-0 z-10 flex min-h-[60px] items-center justify-center border-transparent bg-token-main-surface-primary pl-0 md:hidden",children:[(a||n)&&e.jsxs("div",{className:"no-draggable absolute bottom-0 left-0 top-0 ml-3 inline-flex items-center justify-center",children:[a&&e.jsx(st,{onClick:t}),n]}),e.jsx("div",{className:"no-draggable",children:s}),c&&e.jsx("div",{className:"no-draggable absolute bottom-0 right-0 top-0 mr-3 inline-flex items-center justify-center",children:c})]}),r&&e.jsx("div",{className:"no-draggable flex w-full items-center justify-center bg-token-main-surface-primary md:hidden",children:r})]})};function it({isPopoverOnDesktop:t=!1,isExpanded:s=!1,children:a}){const n=he();return e.jsxs(e.Fragment,{children:[!n||t?e.jsx(ot,{children:a}):null,e.jsx(rt,{isExpanded:!t&&s,children:a})]})}function rt({isExpanded:t,children:s}){const a=g.useRef(null);return e.jsx(ne.div,{className:"z-[1] flex-shrink-0 overflow-x-hidden bg-token-sidebar-surface-primary max-md:!w-0",ref:a,initial:!1,animate:{width:t?"260px":0,transition:{type:"spring",bounce:.12,duration:.64}},onAnimationStart:()=>{a.current&&(a.current.style.visibility="visible")},onAnimationComplete:()=>{a.current&&(t||(a.current.style.visibility="hidden"))},children:e.jsx("div",{className:"h-full w-[260px]",children:e.jsx("div",{className:"flex h-full min-h-0 flex-col",children:s})})})}function ot({children:t}){const s=F(a=>a.activeSidebar);return e.jsx(pe,{open:s==="popover-nav",onOpenChange:a=>{a||v.setActiveSidebar(!1)},children:e.jsxs(xe,{children:[e.jsx(be,{className:"fixed inset-0 z-10 bg-gray-50/50 radix-state-open:animate-show dark:bg-black/50"}),e.jsx(ve,{className:"fixed left-0 top-0 z-50 h-full max-w-xs border-r border-gray-200 bg-token-sidebar-surface-primary shadow-[0_0_64px_0_rgba(0,0,0,0.07)] focus:outline-none radix-state-closed:animate-sidebarHide radix-state-open:animate-sidebarShow dark:border-gray-800",children:t})]})})}const ie=T({closeSidebar:{id:"navigation.closeSidebar",defaultMessage:"Close sidebar"},openSidebar:{id:"navigation.openSidebar",defaultMessage:"Open sidebar"},signUpButtonText:{id:"navigation.signUpButtonText",defaultMessage:"Sign up"}});function lt({showFreeTrialLoadingPayment:t,handleGetPaymentLink:s}){const a=E(),n=()=>{t||(I(!0),s())},c=y=>{y.stopPropagation(),Le(!0),Ee(!0)},{data:r,isLoading:d,isSuccess:i}=K({queryKey:["claimedReferralInvite"],queryFn:()=>B.getClaimedReferralInvite(),refetchOnMount:!1,refetchOnWindowFocus:!1,refetchInterval:!1,refetchOnReconnect:!1}),o=r?.invite_code,[f,p]=g.useState(!1);if(g.useEffect(()=>{o&&!f&&i&&(p(!0),w.logEvent("chatgpt_referral_show_claimed_sidebar_menu_promo"),u.logEvent(C.chatgptReferralShowClaimedSidebartMenuPromo))},[o,p,f,i]),!o||d||!i)return null;const m=o.invite_metadata.invite_data,S=m?.referral_trial_duration_months?m?.referral_trial_duration_months>1?a.formatMessage(L.monthsOfBenefit,{referralTrialDurationMonths:m?.referral_trial_duration_months}):a.formatMessage(L.daysOfBenefit,{referralTrialDurationDays:m?.referral_trial_duration_days}):null;return e.jsx(ne.div,{className:k("relative",{"cursor-progress opacity-50":t}),layout:"position",initial:{y:-10,opacity:1},animate:{y:0,opacity:1,transition:{duration:.1,ease:"easeIn"}},children:e.jsxs(ct,{className:k(t&&"opacity-75"),onClick:n,children:[e.jsxs("div",{className:"flex w-full flex-row items-center justify-start gap-3",children:[e.jsx(je,{className:"icon-sm shrink-0"}),e.jsx(l,{...L.freeTrialCta,values:{duration:S}})]}),!t&&e.jsx(ze,{onClick:c,className:"icon-md shrink-0 rounded-full p-0.5 text-token-text-tertiary opacity-50 transition-colors duration-200 hover:bg-[#0077FF] hover:text-red-500 group-hover:opacity-100"}),e.jsx("span",{className:"absolute top-11 h-0 w-0 border-l-8 border-r-8 border-t-8 border-l-transparent border-r-transparent border-t-[#0077FF] transition-colors duration-200 group-hover:border-t-[#0077FF]"})]})})}const ct=G.a`group relative mb-1 rounded-md hover:[#0077FF] bg-[#0077FF] flex px-3 min-h-[44px] py-1 items-center gap-3 transition-colors duration-200 dark:text-white cursor-pointer text-sm`,L=T({freeTrialCta:{id:"PaymentMenuItems.freeTrialCta",defaultMessage:"Get {duration}!"},monthsOfBenefit:{id:"FreeTrialMenuItem.monthsOfBenefit",defaultMessage:"{referralTrialDurationMonths, plural, one {one month free} other {# months free}}"},daysOfBenefit:{id:"FreeTrialMenuItem.daysOfBenefit",defaultMessage:"{referralTrialDurationDays, plural, one {one day free} other {# days free}}"}}),dt=ye(()=>Ce(()=>import("./f5iwunmoksivr720.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11])));function ut(){const t=E(),s=Me(),a=V(),n=_(),c=!n,r=n?.hasPaidSubscription()??!1,d=n?.hasClaimedFreeTrial()??!1,i=g.useMemo(()=>n?.subscriptionAnalyticsParams,[n]),o=async()=>{I(!0),u.logEvent(C.clickAccountPaymentCheckout,i);try{const x=await B.getCheckoutLink(a);window.location.href=x.url}catch{s.warning(t.formatMessage(b.paymentErrorWarning),{hasCloseButton:!0}),I(!1)}finally{}},f=()=>{m||(I(!0),o())},p=z(x=>x.didCloseFreeTrial),m=z(x=>x.showFreeTrialLoadingPayment),S=!p&&d,y=n?.wasPaidCustomer()??!1;let j=n?.isWorkspaceAccount()??!1;const A=n?.hasPaidSubscription()??!1,h=n?.isPlus()??!1,{doesUserHaveAnyAccountsWithPlusFeatures:D}=ke(),{layer:le}=Q("2670443078");let H=h;!j&&!h&&D&&le.get("is_gating_fix_enabled",!1)&&(H=D,j=!0);const ce=!c&&!j&&!Ne,de=Z(),ue=()=>{u.logEvent(C.clickSidebarAccountPaymentMenuItem,i),Re(de,"Sidebar account payment menu item")},{setShowReferralInviteModal:W}=Be(x=>({setShowReferralInviteModal:x.setShowReferralInviteModal})),fe=g.useCallback(()=>{w.logEvent("chatgpt_referral_invite_sidebar_clicked"),u.logEvent(C.chatgptReferralInviteSidebarClicked,i),W(!0,()=>{u.logEvent(C.clickSidebarAccountPaymentMenuItem,i)})},[i,W]),ge=n?.isTeam()??!1;return e.jsxs(e.Fragment,{children:[(a?.includes(J)||r)&&e.jsx(mt,{analyticsParams:i,handleReferralInvite:fe}),!r&&S&&e.jsx(lt,{showFreeTrialLoadingPayment:m,handleGetPaymentLink:o}),ge&&e.jsx(gt,{}),ce&&e.jsx(O,{onClick:S?f:ue,className:"m-0 rounded-lg px-2",children:e.jsx("span",{className:"flex w-full flex-row flex-wrap-reverse justify-between",children:e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(ft,{wasPaidCustomer:y,showFreeTrialLoadingPayment:m,hasPlusSubscription:H,hasPaidSubscription:A})})})})]})}const ft=({wasPaidCustomer:t,showFreeTrialLoadingPayment:s,hasPlusSubscription:a,hasPaidSubscription:n})=>s?e.jsx(we,{className:"icon-sm shrink-0"}):n&&!a?null:e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"flex h-7 w-7 items-center justify-center rounded-full border border-token-border-light",children:e.jsx(qe,{className:"icon-sm shrink-0"})}),e.jsx("div",{className:"flex flex-col",children:t?e.jsx(l,{...b.renewPlus}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:a?e.jsx(l,{...b.createATeamWorkspace}):!n&&e.jsx(l,{...b.upgradePlan})}),e.jsx("span",{className:"line-clamp-1 text-xs text-token-text-tertiary",children:a?e.jsx(l,{...b.upgradeToTeamUpsell}):!n&&e.jsx(l,{...b.upgradeToPlusUpsell})})]})})]}),gt=()=>{const t=_();return e.jsxs(e.Fragment,{children:[e.jsx(O,{onClick:()=>{v.openModal(ee.InviteUsersToWorkspace)},className:"rounded-lg",children:e.jsx("span",{className:"flex w-full flex-row flex-wrap-reverse justify-between",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"flex h-7 w-7 items-center justify-center rounded-full border border-token-border-light",children:e.jsx(ae,{className:"icon-sm shrink-0"})}),e.jsx(l,{...b.inviteMembers})]})})}),t!=null?e.jsx(dt,{workspace:t}):null]})},mt=({analyticsParams:t,handleReferralInvite:s})=>{const n=V()?.includes(J)??!1,c=_(),{data:r}=K({queryKey:["referralInvites"],queryFn:()=>B.getEligibleReferralInvites(),enabled:n}),d=c&&!c.isOrWasPaidCustomer()&&!c.hasPlusFeatures(),i=r?.invites_remaining&&r?.invites_remaining>0,o=d&&i,[f,p]=g.useState(!1);return g.useEffect(()=>{o&&!f&&(p(!0),w.logEvent("chatgpt_referral_show_sidebar_menu_item"),u.logEvent(C.chatgptReferralShowSidebarMenuItem,t))},[o,p,f,t]),o?e.jsx(O,{onClick:s,className:"rounded-lg",children:e.jsx("span",{className:"flex w-full flex-row flex-wrap-reverse justify-between",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"flex h-7 w-7 items-center justify-center rounded-full border border-token-border-light",children:e.jsx(ae,{className:"icon-sm shrink-0"})}),e.jsx(l,{...b.inviteReferral})]})})}):null},b=T({upgradePlan:{id:"PaymentMenuItems.upgradePlan",defaultMessage:"Upgrade plan"},createATeamWorkspace:{id:"PaymentMenuItems.createATeamWorkspace",defaultMessage:"Add Team workspace"},upgradeToTeamUpsell:{id:"PaymentMenuItems.upgradeToTeamUpsell",defaultMessage:"Collaborate on a Team plan"},upgradeToPlusUpsell:{id:"PaymentMenuItems.upgradeToPlusUpsell.0",defaultMessage:"More access to the best models"},renewPlus:{id:"PaymentMenuItems.renewPlus",defaultMessage:"Renew Plus"},inviteReferral:{id:"PaymentMenuItems.inviteReferral",defaultMessage:"Refer a friend"},inviteMembers:{id:"PaymentMenuItems.inviteMembers.0",defaultMessage:"Invite members"},paymentErrorWarning:{id:"PaymentMenuItems.paymentErrorWarning",defaultMessage:"The payments page encountered an error. Please try again. If the problem continues, please visit help.openai.com."}});function Tt({navHeader:t,children:s,className:a}){const n=E(),c=g.useRef(null),r=Ie(),{isUnauthenticated:d}=N(),{layer:i}=Q("1578749296"),o=i.get("is_sticky_toggle_off",!1);return g.useEffect(()=>{o&&v.openSidebar()},[o]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"draggable relative h-full w-full flex-1 items-start border-white/20",children:[e.jsx(Pe,{asChild:!0,children:e.jsx("h2",{children:e.jsx(l,{...M.chatHistoryLabel})})}),e.jsxs("nav",{className:k("flex h-full w-full flex-col px-3",a),"aria-label":n.formatMessage(M.chatHistoryLabel),children:[t,e.jsx(pt,{ref:c,$disableScroll:r&&!d,children:s}),e.jsx(Te,{children:e.jsx(ht,{})})]})]})})}function ht(){const[t]=g.useState(()=>{const i=_e.getCookie(Fe.Workspace);return typeof i=="string"&&i!==Ae}),s=_(),a=s?.data==null,{isUnauthenticated:n}=N(),{openSettings:c}=te(),{isCollapsible:r}=Ye(),d=F(i=>i.isHistoryCollapsed);return t&&a||!s?null:n?e.jsx(re,{}):e.jsxs("div",{className:k("flex flex-col py-2 empty:hidden dark:border-white/20",r&&"-mx-3 border-t border-token-border-sharp px-3"),children:[r&&!d&&e.jsx(Oe,{type:"less",onClick:v.toggleHistoryCollapsed}),e.jsx(De,{}),e.jsx(ut,{}),e.jsx("div",{className:"flex w-full items-center md:hidden",children:e.jsx("div",{className:"max-w-[100%] grow",children:e.jsx(Je,{onClickSettings:()=>c()})})})]})}const re=()=>{const t=X(),s=R(),a=Y(M.unauthSignupCta),n=()=>{s({authType:"login",callback:i=>{u.logLogInButtonClicked({location:"Sidebar bottom unit",provider:i}),w.logEvent("chatgpt_sidebar_login_button_clicked")}})},c=()=>{s({authType:"signup",callback:i=>{u.logSignUpButtonClicked({location:"Sidebar bottom unit",provider:i}),w.logEvent("chatgpt_sidebar_signup_button_clicked")}})},r=e.jsx(P,{as:"button",size:"medium",color:t?"secondary":"primary","data-testid":"signup-button",onClick:c,children:e.jsx(l,{...a})}),d=e.jsx(P,{as:"button",size:"medium",color:t?"primary":"secondary","data-testid":"login-button",onClick:n,children:e.jsx(l,{...M.unauthLoginCta})});return e.jsxs("div",{className:"p-2",children:[e.jsxs("div",{className:"mb-4 mt-2",children:[e.jsx("p",{className:"mb-1 text-sm font-semibold text-token-text-primary",children:e.jsx(l,{...t?M.logInOrSignUp:M.signUpOrLogIn})}),e.jsx("p",{className:"text-sm text-token-text-secondary",children:e.jsx(l,{id:"4qlPtW",defaultMessage:"Get smarter responses, upload files and images, and more."})})]}),e.jsx("div",{className:"flex flex-row items-start gap-2",children:t?[d,r]:[r,d]})]})},pt=G.div`flex-col flex-1 transition-opacity duration-500 relative -mr-2 pr-2
  ${({$disableScroll:t})=>t?"overflow-y-hidden opacity-20 pointer-events-none":"overflow-y-auto"}`,M=T({chatHistoryLabel:{id:"NavigationContent.chatHistoryLabel",defaultMessage:"Chat history"},closeSidebar:{id:"NavigationContent.closeSidebar",defaultMessage:"Close sidebar"},signInToChat:{id:"NavigationContent.signInToChat",defaultMessage:"Sign in to ChatGPT"},signUpOrLogIn:{id:"NavigationContent.signUpOrLogIn",defaultMessage:"Sign up or log in"},logInOrSignUp:{id:"NavigationContent.logInOrSignUp",defaultMessage:"Log in or sign up"},unauthSignupCta:{id:"NavigationContent.unauthSignupCta",defaultMessage:"Sign up"},unauthLoginCta:{id:"NavigationContent.unauthLoginCta",defaultMessage:"Log in"}}),xt=()=>{const{openSettings:t}=te(),s=Ue("3376455464")?.value,a=Z();return e.jsxs("div",{className:"flex h-full flex-col gap-2 p-3",children:[e.jsx(q,{icon:Ge,onClick:()=>{He(a),v.closeActiveSidebar()},children:e.jsx(l,{id:"0FupYP",defaultMessage:"New chat"})}),e.jsx("div",{className:"flex grow items-center justify-center",children:e.jsx(re,{})}),e.jsxs(Xe,{contentClassName:"w-[298px]",triggerButton:e.jsx(q,{icon:Ke,children:e.jsx(l,{id:"y4Lkp7",defaultMessage:"Settings and more"})}),children:[e.jsx(U.Item,{onClick:()=>t(),icon:Ve,children:e.jsx(l,{id:"HrRLkZ",defaultMessage:"Settings"})}),s&&e.jsx(U.Item,{icon:Qe,onClick:()=>{v.openModal(ee.ReportConversation)},children:e.jsx(l,{id:"thread.report.0",defaultMessage:"Report illegal content"})}),e.jsx(U.Separator,{}),e.jsx(et,{})]})]})};function oe({children:t,hideNavigation:s=!1,mobileHeaderContent:a,mobileHeaderLeftContent:n,mobileHeaderRightContent:c,mobileHeaderBottomContent:r,sidebar:d,forceOpenDesktopSidebar:i=!1}){const{isUnauthenticated:o}=N(),[f,p]=F(h=>[h.activeStageSidebar,h.activeSidebar]),m=We(),S=[];let y=null;$.Children.forEach(t,h=>{$.isValidElement(h)&&(h.type===oe.Sidebars?y=h:S.push(h))});const j=!o&&!s&&d!=null,A=!s&&(j||o);return e.jsxs("div",{className:k("relative flex h-full w-full overflow-hidden transition-colors",p!=="popover-nav"&&"z-0"),children:[j&&e.jsx(it,{isExpanded:i||!m,isPopoverOnDesktop:f,children:o?e.jsx(xt,{}):d}),e.jsxs("div",{className:"relative flex h-full max-w-full flex-1 flex-col overflow-hidden",children:[A&&e.jsx(nt,{onClickOpenSidebar:()=>v.togglePopoverNavSidebar(),showNavSidebar:j,leftContent:n,rightContent:c,bottomContent:r,children:a}),e.jsx("main",{className:"relative h-full w-full flex-1 overflow-auto transition-width",children:S})]}),y]})}function bt({children:t}){return e.jsx(e.Fragment,{children:t})}oe.Sidebars=bt;export{Tt as N,oe as S,Nt as a,It as b,Pt as c};
//# sourceMappingURL=et8kejopr5efm0p0.js.map
