import{W as y,C as k,cv as v,K as j,g as S,x as a,N as _,a0 as m,au as M,am as N,r as d,d as x,P as R}from"./m8rh4g4wti5oij6r.js";import{eO as A,eP as E,bS as C,eQ as D,eR as w,bP as P,eS as h,bM as L}from"./gyk6913sy5h59gmv.js";import{S as T,a as F}from"./n9skrs18l8d7278z.js";import{w as $,x as z}from"./imjfbin0u57rzypy.js";import{g as U}from"./kqwdyvkaaavvn8k3.js";import{a as H}from"./p82cs5cg2ctv9xju.js";import{b as W}from"./e243ffiqjjk1dz27.js";import{E as q}from"./ish0hnvnvzt2nty6.js";import{m as B}from"./e3sq0rwlveh4dug2.js";import"./f2s0ymrsx8zkcqzb.js";import"./o24ms7b147ogs90x.js";function G({date:e}){const t=y(),r=e instanceof Date?e:new Date(e*1e3),s=A(r,new Date);if(s<4&&s>-4){const n=t.formatRelativeTime(s,"day",{numeric:"auto"});return n.charAt(0).toUpperCase()+n.slice(1)}else return t.formatDate(r,{year:"numeric",month:"long",day:"numeric"})}var K=v,O=k,Q=E,V=j;function J(e,t){var r=V(e)?K:Q;return r(e,O(t))}var X=J,Y=C,Z=X;function I(e,t){return Y(Z(e,t),1)}var ee=I;const te=S(ee);function xe({clientThreadId:e,turnIndex:t,messageId:r,isInSidebar:s=!1}){const n=$(e,t),o=z(e,t),c={clientThreadId:e,messageId:r,turnIndex:t},i=te(o,l=>l.entries).toSorted((l,u)=>(u?.pub_date??0)-(l?.pub_date??0));return a.jsxs("div",{className:_("flex w-full flex-col border-t border-token-border-light bg-token-main-surface-primary",s?"mt-[-57px]":"mt-0"),children:[a.jsx(b,{title:a.jsx(m,{id:"dlVlo6",defaultMessage:"Citations"}),items:n,analyticsMetadata:c,messageId:r}),a.jsx(b,{title:a.jsx(m,{id:"iUafP7",defaultMessage:"Search Results"}),items:i,analyticsMetadata:c,messageId:r})]},`${t}-${e}`)}function b({title:e,items:t,analyticsMetadata:r,messageId:s}){return!t||t.length===0?null:a.jsxs("div",{children:[a.jsx(g,{className:"sticky top-0 z-[1] h-[56px] border-b border-token-border-light bg-token-main-surface-primary px-6 py-4 text-sm font-medium text-token-text-primary",children:e}),a.jsx("div",{className:"flex flex-col px-3 py-2",children:t.map((n,o)=>a.jsx(g,{index:o,children:a.jsx(ae,{item:n,analyticsMetadata:r,index:o,messageId:s},o)},`${e}-${o}`))})]})}function g({children:e,index:t=0,className:r=""}){return a.jsx(B.div,{className:r,initial:{opacity:0},animate:{opacity:1},transition:{delay:(t+1)*.03},children:e})}function ae({item:e,index:t,analyticsMetadata:r,messageId:s}){const n=H(e.url).data??U(e.url,"short"),o=f=>"ref_id"in f&&"content_type"in f,c=D(),i=M().resolvedTheme==="dark",l=w(),u=P(),p=a.jsxs(re,{analyticsMetadata:r,href:e.url,position:t,target:"_blank",rel:"noopener",className:"flex flex-col gap-0.5 rounded-xl px-3 py-2.5 hover:bg-token-main-surface-secondary",onMouseEnter:()=>{e.attributions&&h.setHighlightBySource(s,e,u,l)},onMouseLeave:()=>{h.clearHighlights()},children:[a.jsxs("div",{className:"line-clamp-1 flex h-6 items-center gap-2 text-xs",children:[a.jsx(L,{url:e.url,className:"icon-sm rounded-full bg-token-main-surface-primary object-cover",size:32,minSize:20,fallback:a.jsx(T,{className:"icon-sm text-token-text-quaternary"})}),n,o(e)&&a.jsx(F,{searchResult:e,className:"inline h-4 w-4 text-token-text-tertiary"})]}),a.jsx("div",{className:"line-clamp-2 text-sm font-semibold",children:e.title}),(e.pub_date??e.snippet)&&a.jsxs("div",{className:"line-clamp-2 text-sm font-normal leading-snug text-token-text-secondary",children:[e.pub_date&&a.jsx(G,{date:e.pub_date}),e.pub_date&&e.snippet&&" â€” ",e.snippet]})]});return c?a.jsx(N,{label:a.jsx(q,{item:e}),className:"text-left text-xs",theme:i?"default":"white",children:p}):p}const re=d.forwardRef(function(t,r){const{analyticsMetadata:s,position:n,...o}=t;function c(i,l){t.href&&R.logEventWithStatsig(i,l,{...W(s),url:t.href,raw_position:n.toString()})}return d.useEffect(()=>{c(x.searchLinkShown,"search_link_shown")},[]),a.jsx("a",{ref:r,...o,onClick:i=>{t.onClick?.(i),i.stopPropagation(),c(x.searchLinkClicked,"search_link_clicked")}})});export{xe as SearchSources,b as SourcesListGroup};
//# sourceMappingURL=nlea4xes010tu7o7.js.map
