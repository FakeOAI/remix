import{f$ as j,aa as w,a9 as P,r as a,at as F,w as I,s as u,m as e,g0 as E}from"./f4169wusp1t738jq.js";import{t as p,a as r,u as S,s as b,C as f,b as M,g as C,T as B}from"./bk2htf6x5ark09ai.js";import{T as N,C as O}from"./jupnsu1tbqc1fywf.js";import{C as h,T as R}from"./mb0xdrt3k9twgxel.js";import"./ml4h7awz27ynfmg5.js";import"./ni678l7obnphgmc3.js";import"./h8urq8gsp4167c39.js";import"./0a6uhrg4meifx01x.js";import"./bp7vf3e5ay3k1wue.js";import"./m6lr3z8lwkm9z26a.js";import"./i6k1auizgeouy7ge.js";import"./gmzpjw1nugjjsn52.js";import"./hfztqot574jwzwgn.js";import"./fzrn137102spawew.js";import"./ktn53cnvffb7fy50.js";import"./hk9fc75zrnceuskg.js";import"./jp1tue9grg9tij1z.js";import"./gds88ljh6nr1cbd8.js";const _=()=>(E(),null);function ee(){const d=j(),[o]=w(),c=P(),v=p(d.conversationId),n=r(o.get("readonly"),!1),x=r(o.get("isFullScreen"),!1),m=r(o.get("header"),!0),T=r(o.get("hideBottomComposer"),!!n),s=p(d.canmoreId),t=v,i=S();a.useEffect(()=>{b({type:f.Textdoc,textdocId:s})},[s]),M(t,{kind:F.PrimaryAssistant});const l=I();if(a.useEffect(()=>(u.retainThread(t),()=>{setTimeout(()=>{l.invalidateQueries({queryKey:["conversation",t]})},0),u.releaseThread(t)}),[t,l]),a.useEffect(()=>{s||c("/")},[s,c]),a.useEffect(()=>{C().sendMessage({type:h.Loaded})},[s]),!s||i?.type!==f.Textdoc)return null;const g=()=>{C().sendMessage({type:h.Close})},y=n&&!m;return e.jsxs("div",{className:"h-full w-full overflow-hidden contain-content",children:[e.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1"}),e.jsx(B,{clientThreadId:t,children:y?e.jsxs(e.Fragment,{children:[e.jsx(N,{textdocId:i.textdocId}),e.jsx(O,{})]}):e.jsx(R,{isEmbedded:!0,isFullScreen:x,hideHeader:!m,hideBottomComposer:T,isReadonlyFromQueryParam:n,clientThreadId:t,focusedTextdoc:i,onClose:g},"textdocContent")})]})}export{_ as clientLoader,ee as default};
//# sourceMappingURL=ifurdj3nevd52u63.js.map
