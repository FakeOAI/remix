import{gp as g,e3 as S,dj as v,m as e,b5 as T,aE as b,fy as x,a5 as I,a9 as y,f$ as E,gq as P,ee as N,u as z,r as l,dm as f,at as k,b6 as w,co as M,cL as F}from"./f4169wusp1t738jq.js";import{C as G}from"./h2g1ownd28vsplh8.js";import{J as L,K as H,M as O,cg as C,P as Q,O as A,Q as D,V as R,W as p,X as U,R as V,Y as q,ch as K,z as W,b as J,ci as X,cj as Y,ck as Z,cl as _,D as $}from"./bk2htf6x5ark09ai.js";import{C as B}from"./kgk0s7auogsjqvzv.js";import{u as ee,a as se}from"./gmzpjw1nugjjsn52.js";import{u as ae,C as te,b as re,c as ne}from"./okusbof2b9tpbll6.js";import{C as oe}from"./kwpudifmovka5vdb.js";import"./87xzb8df77gcuihw.js";import"./gv3osddqeibn11s6.js";import"./ni678l7obnphgmc3.js";import"./peb8km6ouz2ngmov.js";import"./nh0zolc3xl2g4bg9.js";import"./h8urq8gsp4167c39.js";import"./hk9fc75zrnceuskg.js";import"./ojili8e77ml7nkra.js";function ie(){const{clientThreadId:s,currentModelId:a,conversationLeafId:d,onRequestCompletion:t}=ee(),{showEmptyState:m}=ae({clientThreadId:s,currentLeafId:d}),u=L()[a],[h,c]=H({name:"composer-bar",track:"height"}),n=g(s),r=O(),o=S(),i=v()??"",j=C({gizmoId:i,draft:!1});return e.jsx(T.Provider,{value:t,children:e.jsx(Q,{children:e.jsxs(A,{clientThreadId:s,currentLeafId:d,children:[e.jsx(D,{children:n!=null&&e.jsx("title",{children:n})}),e.jsx("div",{className:"flex-1",children:e.jsxs(R.Provider,{value:{setComposerFooterElement:c},children:[e.jsx(p,{id:"canvas-state",name:"canvas-state",checked:r}),e.jsx(p,{id:"thread-extended-info-sidebar-state",name:"thread-extended-info-sidebar-state",checked:o}),e.jsx(U,{anchor:"vertical",className:b(x.screen,m&&x.screenEmptyState),name:"thread",leading:e.jsx(te,{}),style:h,trackLeading:!0,trackTrailing:!0,trailing:e.jsx(re,{}),children:j.data&&e.jsx("div",{className:"flex h-full w-full",children:e.jsx("div",{className:"h-full flex-grow overflow-y-auto",children:e.jsx("div",{className:"mx-auto max-w-screen-md",children:e.jsx(V,{clientThreadId:s,currentModelConfig:u,children:e.jsx(ne,{})})})})})}),e.jsx(oe,{}),e.jsx(q,{})]})})]})})})}function be(){const s=I(),a=y(),{gizmoSlug:d}=E(),t=P(d??""),m=C({gizmoId:t,draft:!1}),u=K(t),h=N(),{isLoading:c}=z("491279851"),n=W();l.useEffect(()=>{!c&&!n&&a("/")},[c,n,a]),l.useEffect(()=>{s!=null&&s.isFree()&&a("/")},[s,a]);const[r,o]=l.useState(()=>f());J(r,{kind:k.GizmoInteraction,gizmo_id:t}),l.useEffect(()=>{o(f())},[t]);let i=e.jsx("div",{className:"flex h-full w-full",children:e.jsx("div",{className:"m-auto",children:e.jsxs("div",{className:"flex justify-center",children:[e.jsx("span",{className:"sr-only","aria-busy":!0,role:"status","aria-live":"polite",children:e.jsx(w,{...X.loadingProjects})}),e.jsx(M,{className:"h-10 w-10 text-token-text-secondary"})]})})});return m.data&&!u.isPending&&(i=e.jsx(ie,{})),e.jsx(Y,{children:e.jsx(se,{clientThreadId:r,setClientThreadId:o,children:h?e.jsx(Z,{children:e.jsx(_,{className:F.application,sidebar:e.jsx(B,{}),thread:i,debugger:e.jsx($,{clientThreadId:r})})}):e.jsx(G,{clientThreadId:r,setClientThreadId:o,threadContent:i})})})}export{be as default};
//# sourceMappingURL=gc2jdibwfnd9qlp4.js.map
