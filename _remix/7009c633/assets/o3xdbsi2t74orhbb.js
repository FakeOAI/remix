const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/8gn426ib6owp39zo.js","assets/m4jglq4xyu9yijkb.js","assets/gzoh6r3q6qh4zfpi.js","assets/root-pbd7dlk8.css","assets/gn2j41krkucmoxrw.js","assets/conversation-small-ict01xsi.css","assets/b5gltvjzlc9evdvr.js","assets/ivxou8kx91les96v.js","assets/kmpucbiylqzkcgdk.js","assets/hvyuw7c7sm6fsxp1.js","assets/cqg3kpt9u375ev86.js","assets/kvkl8s6f0yhultlt.js","assets/nfcpii4ruf57h2v7.js","assets/d7nfowdqmq9ves9u.js","assets/n04tgirtyb7latmn.js","assets/lnkgj3nwrg52sf19.js","assets/lc9adtl40t8hf6c4.js","assets/lhzlnk5bdbkwn18e.js","assets/fvdo79rxadymeq16.js","assets/i1fs8t4s59d4iqy7.js","assets/j69js8d2kp3kynuq.js","assets/hbwpgc6wnn4y4l9j.js","assets/gixod0onamygchqv.js","assets/ocpzmhqbp911c8k2.js","assets/dc5aaa5hbcwn9nde.js","assets/l8xy2abnvf7e7071.js","assets/jan1i7sl07z75xch.js","assets/kqwdyvkaaavvn8k3.js","assets/mwf3h82s20izathd.js","assets/i79gp4teieyvebgc.js","assets/983a0dy92b3ronpv.js","assets/c0x2egftpt5hiftu.js","assets/ll54h4sp0phaz9gd.js","assets/fd0bk8fdoaqki4s0.js","assets/jlrajui0a8prgqft.js","assets/d5p30308x1ohdagv.js","assets/n7rhxh9x00nijbj9.js","assets/cs8cgois2juxphm5.js","assets/cna56hty7wt5col4.js","assets/laxgt1u5dz35apol.js","assets/lkhael4per9etnim.js","assets/eu1z4zuzlki0m4ni.js","assets/hjwaq2h3bscy0qwh.js","assets/6pdc4jjh40bxlu86.js","assets/ho3pyqxxknt5hoic.js","assets/h8yr6lbdycut7tiy.js","assets/meqard3dms0786cr.js","assets/o6ce8a4s12nnumks.js"])))=>i.map(i=>d[i]);
import{aE as l,aG as u,a6 as e,w as Y,fv as E,r as n,ar as J,fp as w,an as q,x as P,$ as Z,c4 as T,D as X,bP as ee,bQ as ae,bR as se,cv as te,u as re,K as oe}from"./m4jglq4xyu9yijkb.js";import{dr as ie,iE as M,iF as ne,di as L,iG as b,Y as k,iH as D,iI as de,gP as O,iJ as R,iK as H,ij as ce,bJ as le,b7 as G,bA as ue,iL as y,iw as x,fN as he,bL as g,bM as A,f6 as me,iM as xe,iN as fe,v as N,iO as ge,ch as be,iP as je,iQ as pe,b_ as ve,b$ as V,iR as Ce,m as Se,cl as _e,iS as Ee,gJ as we,cm as Pe,dh as Te,iT as ye,iU as Ae,iV as Ne,dj as Ve,iW as Fe,ci as Ie,bZ as Me}from"./gn2j41krkucmoxrw.js";import{S as F,b as Le,c as ke,N as De}from"./fd0bk8fdoaqki4s0.js";import{S as Oe,b as Re,C as He}from"./d5p30308x1ohdagv.js";import{b as Ge,T as W}from"./cna56hty7wt5col4.js";import{c as K,u as j}from"./b5gltvjzlc9evdvr.js";import{C as z}from"./h8yr6lbdycut7tiy.js";import{m as f}from"./kvkl8s6f0yhultlt.js";const We=l(()=>u(()=>import("./8gn426ib6owp39zo.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23])).then(a=>a.CanvasFocusedViewManager)),Ke=l(()=>u(()=>import("./dc5aaa5hbcwn9nde.js"),__vite__mapDeps([24,1,2,3,4,5,25,26,27,28,29,11,30])).then(a=>a.SearchResultsModal));function ze({clientThreadId:a,setClientThreadId:s,urlThreadId:t,prefetchSearch:o}){const d=ie();M({clientThreadId:a});const{createNewThread:i,onThreadCreated:m,resetThread:r}=ne({clientThreadId:a,setClientThreadId:s});L({resetThreadAction:r,clientThreadId:a});const h=b();return e.jsxs(k,{clientThreadId:a,children:[e.jsx(D,{clientThreadId:a,urlThreadId:t}),e.jsxs(F,{hideNavigation:d,mobileHeaderContent:e.jsx(Ge,{clientThreadId:a,inMobileHeader:!0}),mobileHeaderBottomContent:e.jsx(de,{clientThreadId:a}),mobileHeaderLeftContent:e.jsx(Le,{onNewChatButtonClick:r}),mobileHeaderRightContent:e.jsx(ke,{onNewChatButtonClick:r}),sidebar:e.jsx(De,{navHeader:a?e.jsx(Oe,{className:"flex h-[60px] items-center md:h-header-height",onNewThread:i}):null,children:e.jsx(Re,{clientThreadId:a,onNewThread:i})}),threadFlyout:e.jsx(O,{clientThreadId:a}),children:[e.jsx(R,{}),e.jsx(W,{clientThreadId:a,onCreate:m,prefetchSearch:o},a),e.jsxs(F.Sidebars,{children:[h&&e.jsx(We,{clientThreadId:a}),e.jsx(H,{clientThreadId:a}),!1]})]}),e.jsx(Be,{clientThreadId:a})]})}function Be({clientThreadId:a}){const{value:s}=Y("218782548"),t=ce(),{isOpen:o}=le();return o&&(!t||!s)&&e.jsx(Ke,{clientThreadId:a})}const I=450;function Qe({children:a,clientThreadId:s,isOpen:t,onClose:o}){const d=G();return e.jsxs(ue,{children:[t&&d&&e.jsx(K,{clientThreadId:s,children:e.jsx(E,{children:e.jsx(y.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(f.div,{className:"h-full w-full bg-token-main-surface-secondary",...x}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx("div",{className:"flex-grow overflow-auto",children:a}),e.jsx(f.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:I},...x,children:e.jsx(z,{hideHeader:!0,hideTools:!0})})]})]})})})}),t&&!d&&e.jsx(E,{children:e.jsx(y.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(f.div,{className:"h-full w-full bg-token-main-surface-secondary",...x}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx("div",{className:"flex-grow overflow-auto",children:a}),e.jsx(f.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:I},...x,children:e.jsx("div",{className:"h-[100vh] pb-4",children:e.jsx(W,{clientThreadId:s,hideHeader:!0,hideFooter:!0,hideToolsOverlay:!0,messagesVerticalAlign:"bottom"},s)})})]})]})})})]})}const Ue=l(()=>u(()=>import("./c0x2egftpt5hiftu.js"),__vite__mapDeps([31,1,2,3,4,5]))),$e=l(()=>u(()=>import("./ll54h4sp0phaz9gd.js"),__vite__mapDeps([32,1,2,3,4,5,11,33,7,6,8,9,10,12,34,35,36,37,38,17,39,40,41,42,43,22,44,45])).then(a=>a.ImageEditor));function Ye({clientThreadId:a}){const s=he();n.useEffect(()=>{g.close()},[a]);let t;return s?.type===A.ADAVisualization?t=e.jsx(Ue,{clientThreadId:a,visualization:s.visualization}):s?.type===A.Image&&(t=e.jsx($e,{clientThreadId:a,messageId:s.messageId,image:s.image,allImages:s.allImages},s.image.asset_pointer)),e.jsx(Qe,{clientThreadId:a,isOpen:s!=null,onClose:g.close,children:t})}function Je(){const{clientThreadId:a,resetThread:s}=j();return L({resetThreadAction:s,clientThreadId:a}),null}const qe=l(()=>u(()=>import("./8gn426ib6owp39zo.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23])).then(a=>a.CanvasFocusedViewManager));function Ze(){const{focusedObject:a,clientThreadId:s}=j(),t=b();return e.jsx(me,{className:J(w.application,{[w.withFocusedView]:a}),sidebar:e.jsx(He,{}),thread:e.jsx(z,{}),details:e.jsxs(e.Fragment,{children:[t&&e.jsx(qe,{clientThreadId:s}),!1]}),threadExtendedInfo:e.jsx(O,{clientThreadId:s}),debugger:e.jsx(H,{clientThreadId:s}),name:"application-root"})}function Xe(){const{clientThreadId:a,currentModelId:s,isCompanionWindow:t}=j();return e.jsx(xe,{conversationId:a,currentModelId:s,isActiveWindow:!t})}function ea({clientThreadId:a,setClientThreadId:s,urlThreadId:t,prefetchSearch:o}){return M({clientThreadId:a}),e.jsx(K,{clientThreadId:a,setClientThreadId:s,prefetchSearch:o,children:e.jsxs(fe,{children:[e.jsx(Xe,{}),e.jsx(Je,{}),e.jsxs(k,{clientThreadId:a,children:[e.jsx(D,{clientThreadId:a,urlThreadId:t}),e.jsx(R,{}),e.jsx(Ze,{})]})]})})}var aa={};const sa=l(()=>u(()=>import("./meqard3dms0786cr.js"),__vite__mapDeps([46,1,2,3,4,5,47])));function ma(a){const{urlThreadId:s,clientThreadId:t,prefetchSearch:o}=a;ra();const d=q(),i=P(),[m]=Z(),[r,h]=n.useState(()=>s!==void 0?s:t!==void 0?t:T());s!==void 0&&r!==s&&N.getServerThreadId(r)!==s&&h(s);const B=ge(P());n.useEffect(()=>{s===void 0&&N.getServerThreadId(r)!==void 0&&h(T())},[s,r,B]);const Q=be(Ie.workspaceId);b();const U=G(),{eligible:p,isLoading:v,markAsViewed:C}=je(),S=pe();n.useEffect(()=>{(i.pathname==="/"||i.pathname.startsWith("/c/"))&&ve({namespace:V.ChatPageLoad})==null&&(Ce({namespace:V.ChatPageLoad,opts:{expectedTimingLogs:[{name:"render_model_switcher",expectedInMs:1e4},{name:"render_history_items",expectedInMs:25e3}]}}),X.addTiming("chatgpt.web.chatPage.mounted"))},[]);const _=Se();n.useEffect(()=>{ee(!0).then(c=>{c.force_login&&_({authType:"login"}),ae.initializeAndGatherData(c),_e.initializeAndGatherData(c),se.initializeAndGatherData(c)})},[_]),n.useEffect(()=>{const c=m.get(Ee)==="true";d!==c&&te.setIsTemporaryChatEnabled(c)},[d,m]),n.useEffect(()=>{i.state?.focusObject&&g.setFocusedObject(i.state.focusObject)},[i.state?.focusObject]),n.useEffect(()=>{!v&&p&&(C(),S())},[p,v,C,S]);const $=U?ea:ze;return e.jsx(we.Provider,{value:null,children:e.jsx(Pe,{children:e.jsxs(Te,{clientThreadId:r,children:[e.jsx(ye,{clientThreadId:r},Q),e.jsx(Ae,{}),e.jsx(Ne,{}),e.jsx($,{urlThreadId:s,clientThreadId:r,setClientThreadId:h,prefetchSearch:o}),e.jsx(Ye,{clientThreadId:r}),e.jsx(Ve,{clientThreadId:r}),e.jsx(ta,{}),!1,e.jsx(Fe,{})]})})})}function ta(){const a=Me(s=>s.sharingModalThreadId);return a?e.jsx(sa,{serverThreadId:a}):null}function ra(){re({queryKey:["pingEdge"],queryFn:()=>oe.pingEdge(),enabled:!0,staleTime:1/0})}typeof window<"u"&&(window._g=aa.GOKU_SERVICE);export{ma as C,I as F};
//# sourceMappingURL=o3xdbsi2t74orhbb.js.map
