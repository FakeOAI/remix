const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/cgwoz2ledx7hjm2p.js","assets/m4jglq4xyu9yijkb.js","assets/gzoh6r3q6qh4zfpi.js","assets/root-pbd7dlk8.css","assets/lc9adtl40t8hf6c4.js","assets/gn2j41krkucmoxrw.js","assets/conversation-small-ict01xsi.css","assets/lhzlnk5bdbkwn18e.js","assets/kvkl8s6f0yhultlt.js","assets/lnkgj3nwrg52sf19.js","assets/gwnemw2d7o17vls5.js","assets/mhoxdpcpbetk5nkh.js","assets/lkhael4per9etnim.js","assets/d7nfowdqmq9ves9u.js","assets/j69js8d2kp3kynuq.js","assets/hbwpgc6wnn4y4l9j.js","assets/is-scrollable-element-i34sjb0l.css","assets/pe5bim3os7ehbedt.js","assets/ivxou8kx91les96v.js","assets/kmpucbiylqzkcgdk.js","assets/hvyuw7c7sm6fsxp1.js","assets/cqg3kpt9u375ev86.js","assets/nfcpii4ruf57h2v7.js","assets/code-composer-ne11stli.css","assets/m5xjiz121fo7w6mn.js","assets/nn68i71c0bkzl085.js","assets/o4rn7fa4pe3ja8b2.js","assets/fzzrzbk67754qcoz.js","assets/g6ye7y81pgxisdwu.js","assets/o6lsyabkaimv748i.js","assets/bv2chh8vzforzohe.js","assets/laxgt1u5dz35apol.js","assets/i1fs8t4s59d4iqy7.js","assets/document-composer-ofhzvcxp.css","assets/c60qtnv0hrg5k45l.js","assets/huwb78t5dgzkw7ar.js","assets/d3y72ugnrmac5z1v.js","assets/ln65c363x8kjlcfc.js","assets/e9lafxuzyeh4418f.js","assets/sso-bjwip24cfpjix9zk.js","assets/f67vlkxqkaizxb84.js","assets/dqjm1680k7gra62l.js","assets/dgo0si90cehyzn05.js","assets/ni1aur35vt1ognr7.js","assets/cmvt63typmf25g7l.js","assets/itghwucfyv5ciib7.js","assets/cpnurokmrif4jvf4.js","assets/orkq8ko8p7h875xn.js","assets/j8onjfu8rlwqgfi9.js","assets/983a0dy92b3ronpv.js","assets/jan1i7sl07z75xch.js","assets/kqwdyvkaaavvn8k3.js","assets/mwf3h82s20izathd.js","assets/o2y0xttfclkd5j2f.js","assets/czb87fgijscy30x5.js","assets/gbccwc5mokhhtuuu.js","assets/j5d8fg82inr2xuea.js","assets/eq1msp0np92105dr.js","assets/hq619fyulkvq5nui.js","assets/fmebmoasih3triij.js","assets/iej0cupg2dqkmejt.js","assets/fpzmjn2989fbpowk.js","assets/ex7dpyj8ps0k4e7z.js","assets/jk8w36bsokizpx57.js","assets/hjwaq2h3bscy0qwh.js","assets/ho3pyqxxknt5hoic.js"])))=>i.map(i=>d[i]);
import{a6 as t,ar as P,aw as re,r as u,aj as q,aZ as X,ak as _e,aE as ve,aG as be,fu as Ns,aP as _s,d as V,fO as As,fP as Rs,aH as T,c2 as Ps,D as Ds,fI as Fs,fJ as Os,bS as Bs,fQ as Ls,at as ne,n as _t,fR as Le,bE as ae,bF as Ws,fS as $s,cN as Us,j as At,bq as Ae,a2 as le,a7 as Rt,cu as Hs,cs as Vs,b1 as Me,dy as Pt,P as H,S as we,ci as Dt,Z as et,a_ as Ft,R as gt,K as Ot,aB as tt,an as Bt,bH as qs,I as Gs,a8 as zs,dr as Qs,bt as Ee,a1 as Ks,w as Xs,a9 as Zs,a5 as Js,aL as Ke,fp as Ys}from"./m4jglq4xyu9yijkb.js";import{jN as en,bA as tn,kb as sn,kc as nn,jF as an,kd as on,bR as ye,jO as Lt,jM as rn,ke as ln,kf as xt,gi as cn,gh as un,kg as dn,f_ as mn,kh as fn,ki as Wt,kj as gn,jP as pt,Z as xn,js as $t,kk as pn,j$ as hn,g7 as vn,kl as bn,km as yn,kn as jn,ko as Sn,kp as Cn,g9 as Ut,k0 as Ht,g1 as kn,kq as Mn,hH as st,hI as wn,gC as Vt,hQ as nt,iG as qt,kr as Gt,ks as En,kt as ht,g2 as Xe,ku as In,kv as Tn,kw as Nn,kx as _n,ky as An,kz as Rn,kA as Pn,kB as Dn,kC as Fn,kD as On,U as J,jC as Bn,kE as We,kF as $e,kG as Ln,kH as Wn,kI as $n,jy as Un,kJ as Hn,kK as Vn,jE as qn,kL as Gn,kM as zn,jB as Qn,hU as Ue,bw as Kn,kN as Xn,kO as zt,kP as Zn,kQ as Ce,kR as Jn,kS as Qt,kT as He,kU as Yn,kV as ea,aS as oe,kW as ta,kX as sa,kY as na,au as L,kZ as Kt,an as vt,ao as ie,ap as Re,az as aa,a_ as oa,a$ as ra,aC as la,aD as Xt,aE as Ie,aF as ce,aR as ia,b0 as B,k_ as $,b1 as ca,aG as ua,aH as da,aI as ma,aK as Zt,aJ as fa,ar as ga,aO as xa,aP as pa,aT as ha,aU as va,k$ as ba,l0 as ya,l1 as ja,l2 as Sa,aW as bt,l3 as Jt,aX as Ca,aQ as ka,aZ as Ma,l4 as wa,l5 as Ea,l6 as Ia,l7 as Yt,l8 as Ta,l9 as Na,la as Ve,lb as _a,fj as Aa,b7 as je,m as at,aa as ot,c as Ra,iX as rt,cV as es,cc as yt,p as ts,lc as ss,ld as ns,le as as,lf as os,ak as Pa,ae as rs,d4 as Da,lg as Fa,q as ls,lh as is,a as cs,e as Oa,C as Ze,T as Ba,li as La,A as Wa,lj as $a,dt as Ua,lk as Ha,ll as Va,v as Z,lm as qa,c4 as Ga,ln as za,lo as Qa,lp as Ka,lq as Xa,lr as Za,ls as Ja,a8 as Ya,iF as eo,lt as to,cy as so,d$ as no,d7 as ao,fN as oo,aj as ro,lu as lo,ju as io,lv as co,bZ as us,f2 as ds,n as uo,o as mo,bg as fo,ds as go,lw as jt,ca as St,lx as xo}from"./gn2j41krkucmoxrw.js";import{X as po,b as ho,g as Pe,bS as vo,d as bo,ae as yo,s as jo,P as So,a0 as Co,r as ko,a_ as ms,bp as fs,bu as gs,bT as xs,K as Mo,al as ps,bj as wo,ak as hs,bk as Eo,a6 as Io,bq as To,by as No,aJ as _o,$ as vs,b4 as qe}from"./gzoh6r3q6qh4zfpi.js";import{D as A,B as Ao}from"./ivxou8kx91les96v.js";import{u as Ro}from"./kmpucbiylqzkcgdk.js";import{B as Po,T as Do,I as Fo}from"./cqg3kpt9u375ev86.js";import{P as Te}from"./nfcpii4ruf57h2v7.js";import{m as Ne}from"./kvkl8s6f0yhultlt.js";function Oo({className:e,zIndexKey:s,onClick:n}){return t.jsx(Ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:P("absolute inset-0",e,en[s]),onClick:n})}function Bo({zIndexKey:e,onClick:s}){return t.jsx(Oo,{zIndexKey:e,onClick:s,className:"bg-gray-50/50 dark:bg-black/50"})}const Lo=({onScroll:e})=>(sn(({scrollTop:s})=>{e?.(s)}),null),Wo=({shouldScrollToTop:e})=>{const s=nn();return u.useEffect(()=>{e===!0&&s({behavior:"smooth"})},[e,s]),null},$o=()=>{const e=an();u.useEffect(()=>{e({behavior:"smooth"})},[e]);const[s]=on();return s?null:t.jsx("button",{onClick:()=>e({behavior:"smooth"}),className:"absolute bottom-5 right-1/2 z-10 flex h-8 w-8 translate-x-1/2 cursor-pointer items-center justify-center rounded-full border border-token-border-light bg-token-main-surface-primary bg-clip-padding text-token-text-secondary",children:t.jsx(po,{className:"icon-md text-token-text-primary"})})},Uo=re.section`w-full h-full flex flex-col popover bg-token-main-surface-primary`,Ho=({children:e,onScroll:s,shouldScrollToTop:n,scrollToBottomMode:a="top",isLoading:o=!1},r)=>t.jsxs("main",{className:"relative flex min-h-0 flex-auto flex-grow flex-col",ref:r,children:[t.jsx(tn,{children:o&&t.jsx(Bo,{zIndexKey:"textdocDiffLoadingOverlay"})}),t.jsxs(Po,{followButtonClassName:"hidden",initialScrollBehavior:"auto",className:"h-full",mode:a,children:[e,a==="bottom"&&t.jsx($o,{}),t.jsx(Lo,{onScroll:s}),t.jsx(Wo,{shouldScrollToTop:n})]})]}),Vo=u.forwardRef(Ho),qo=re.header`flex items-center justify-between p-3 h-14`,Go=re.h2`ml-2.5 text-base text-lg text-gray-700 dark:text-token-text-secondary truncate`,zo=({onClick:e})=>{const s=q();return t.jsx(X,{label:s.formatMessage(Qo.close),children:t.jsx(ye,{icon:ho,onClick:e})})},de=({children:e})=>t.jsx(Uo,{children:e});de.Title=Go;de.CloseButton=zo;de.Header=qo;de.Content=Vo;const Qo=_e({close:{id:"Bix/Kd",defaultMessage:"Close"}}),Ko=ve(()=>be(()=>import("./cgwoz2ledx7hjm2p.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23])).then(e=>e.CodeComposer),{loading:()=>t.jsx("div",{className:Lt.code,children:t.jsx("div",{className:"h-full w-full px-4",children:t.jsx(Te,{lines:20})})})}),Xo=e=>t.jsx(Ko,{...e}),bs=()=>{const[{width:e},s]=rn(),n=e>=xt+cn?xt:un;return t.jsx("div",{className:P(Lt.document,"mt-4"),ref:s,style:{margin:`0 ${ln}px`},children:t.jsx("div",{style:{width:n},children:t.jsx(Te,{lines:20})})})},Zo=ve(()=>be(()=>import("./m5xjiz121fo7w6mn.js"),__vite__mapDeps([24,1,2,3,11,5,6,10,4,7,8,12,13,14,15,16,25,26,27,28,29,30,31,32,18,19,20,21,22,33])).then(e=>e.DocumentComposer),{loading:bs}),Jo=e=>t.jsx(Zo,{...e}),Yo=({onScroll:e,textdocId:s})=>{const n=dn(s),{windowWidth:a}=Ns(d=>d,{windowWidth:0,windowHeight:0});if(!n)return null;const{versions:o}=n,r=mn(o),i=fn(r);let l=null;switch(r?.type){case $t.DOCUMENT:l=t.jsx(Jo,{value:r.content,comments:[],isRequestActive:i,isPreview:!0,isDisabled:!0,hideAccelerators:!0,commentsMode:pt.ALL_HIDDEN,hideToolbar:!0,hideEditOverlay:!0,width:a,modelCursor:r.modelCursor});break;default:r&&Wt(r.type)&&(l=t.jsx(Xo,{id:"codemirror",currentlyStreamingLineIndex:null,language:gn(r.type),value:r.content,commentsMode:pt.ALL_HIDDEN,hideToolbar:!0,hideAccelerators:!0,comments:[],readonlyReason:xn.Streaming,isRequestActive:i}))}return t.jsx(de,{children:t.jsx(de.Content,{onScroll:e,children:l})})},er=u.memo(Yo);function tr(e,s){switch(e){case"presentation":return t.jsx(Cn,{});case"table":return t.jsx(Sn,{});case"chart":return t.jsx(jn,{});case $t.DOCUMENT:return t.jsx(Pe,{className:P("icon-md",{"text-token-text-primary":s,"text-token-text-tertiary":!s})});default:return Wt(e)?t.jsx(bn,{className:P("icon-md",{"text-token-text-primary":s,"text-token-text-tertiary":!s})}):t.jsx(yn,{})}}const sr=({isHovered:e=!1})=>{const s=q();return t.jsx(X,{label:s.formatMessage({id:"KMbgyZ",defaultMessage:"Open in canvas"}),children:t.jsx(Ne.div,{role:"button",animate:{opacity:e?1:.64},whileHover:{opacity:1},transition:{type:"tween",duration:.18},className:"text-token-text-secondary transition-colors",children:t.jsx(vo,{className:"icon-md"})})})},nr=({isCanvasOpen:e,isFocused:s,isHovered:n,isInlinePreview:a,size:o})=>e?s?"0px 2px 6px 0px rgba(0, 0, 0, 0.06)":"0px 2px 6px 0px rgba(0, 0, 0, 0)":a?n||s?`0px ${o==="large"?12:4}px ${o==="large"?32:10}px 0px rgba(0, 0, 0, 0.064)`:`0px ${o==="large"?6:4}px ${o==="large"?14:4}px 0px rgba(0, 0, 0, 0.04)`:"0px 2px 6px 0px rgba(0, 0, 0, 0)",ar=({textdocId:e,isInlinePreview:s=!1,isStreaming:n=!1,isDisabled:a=!1,isFocused:o=!1,isCanvasOpen:r=!1,marginBottom:i,size:l="large",onClick:d,children:f,name:g,type:b})=>{const c=u.useRef(null),[m,p]=u.useState(!1),[h]=u.useState(()=>pn(100,180,!1)),{resolvedTheme:v}=_s(),j=v==="dark",w=b?t.jsx("span",{className:P("flex-shrink-0 transition-[filter]",{grayscale:!o&&!m}),children:tr(b,o&&r)}):t.jsx("div",{className:"flex h-6 w-6 flex-shrink-0 items-center overflow-hidden",children:t.jsx(Te,{lines:1,size:"base",width:100,widthVariance:0})}),x=g?t.jsx("span",{className:"min-w-0 truncate",children:g}):t.jsx("div",{className:"flex h-5 flex-grow items-center overflow-hidden",style:{width:h},children:t.jsx(Te,{lines:1,size:"base",width:100,widthVariance:0})}),y=n&&t.jsx(hn,{size:20,className:P("flex-shrink-0",o?"text-blue-selection":"text-token-text-secondary")}),k=()=>{!c.current||a||(Ut.logButtonClick(Ht.MESSAGE_ATTACHMENT,{type:b}),kn(c.current),d?.())},C=l==="large"?100:50,E=`${j?"rgba(0,0,0,0)":"rgba(255,255,255,0)"}, ${j?"#2f2f2f":"#ffffff"}`;return t.jsxs(Ne.div,{role:"button",id:vn(e),initial:{opacity:n?0:1,scale:n?.9:1},animate:{opacity:1,scale:1},transition:{type:"spring",bounce:0,duration:.72},className:P("popover relative flex select-none flex-col overflow-hidden border bg-token-main-surface-primary transition-shadow duration-500",a?"cursor-default":"cursor-pointer",{"border-token-text-tertiary font-medium dark:border-gray-600":o&&r,"font-regular":!o,"border-token-border-light":!m&&!o,"border-token-border-medium":m&&!o,"flex min-w-0 max-w-full flex-shrink flex-grow-0 items-center justify-between self-start rounded-xl":r||!s,"w-full rounded-2xl":!r&&s}),onMouseEnter:()=>!a&&p(!0),onMouseLeave:()=>p(!1),onClick:k,ref:c,style:{marginBottom:i,height:r||!s?void 0:l==="large"?"24rem":"10rem",width:l==="small"?"300px":void 0,boxShadow:nr({isCanvasOpen:r,isFocused:o,isHovered:m,isInlinePreview:s,size:l})},children:[t.jsxs("div",{className:P("flex w-full min-w-0 items-center justify-between gap-2 self-start border-token-border-light px-4 transition-colors duration-700",{"border-token-border-light":!m&&!o,"border-token-border-medium":m&&!o,"text-sm font-medium text-token-text-primary":!r&&m&&s,"py-2":r||!s,"py-3":!r&&s,"text-sm font-medium text-token-text-secondary":!r&&!m&&s}),children:[t.jsxs("div",{className:P("flex min-w-0 items-center",{"gap-2":r||!s,"gap-3.5":!r&&s}),children:[w,x]}),r?t.jsx(Ne.span,{animate:y?"show":"initial",variants:{initial:{opacity:0,paddingLeft:0,width:"0"},show:{opacity:1,paddingLeft:2,width:"24px"}},transition:{type:"tween",duration:.18},children:y}):s&&!a?t.jsx(sr,{isHovered:m}):null]}),t.jsxs("div",{className:"relative flex min-h-0 w-full flex-1 flex-col self-end",children:[!r&&f,s&&!r&&t.jsx("div",{className:"absolute bottom-0 z-20 h-24 w-full transition-colors",style:{height:C,background:`linear-gradient(${E})`}}),s&&l==="small"&&!r&&t.jsx("div",{className:"absolute bottom-0 right-0 top-0 z-20 transition-colors",style:{width:C,background:`linear-gradient(to right, ${E})`}})]})]})},or=({type:e,name:s,isStreaming:n=!1,isFocused:a=!1,onClick:o,textdocId:r,isFetching:i=!1,isCanvasOpen:l=!1,isInlinePreview:d=!1})=>{const[f,g]=u.useState(!1),b=m=>{g(m>0)},c=l||!d?12:!l&&d?16:void 0;return t.jsx(ar,{name:s,isFocused:a,isCanvasOpen:l,textdocId:r,type:e,isInlinePreview:d,isStreaming:n,onClick:o,marginBottom:c,children:d&&t.jsx("div",{className:P("relative flex min-h-0 flex-auto flex-col overflow-hidden border-t transition-colors",{"border-token-border-light":f,"border-transparent":!f}),children:i?t.jsx(bs,{}):!!r&&t.jsx(er,{onScroll:b,textdocId:r})})})},rr=({textdocId:e})=>{const s=Mn(d=>d?.resolveTempTextdocId[e]??e),n=st(s),a=wn(s),o=Vt();if(!n)return null;const r=()=>{nt(s)},{title:i,type:l}=n;return t.jsx("div",{className:"flex w-full justify-end",children:t.jsx(or,{textdocId:s,type:l,name:i,isFocused:a,isCanvasOpen:o,onClick:r,isInlinePreview:!0})})},lr=({messages:e})=>{const[s]=e,n=s?.message.metadata?.canvas;return!n||n.user_message_type!=null?null:t.jsx(t.Fragment,{children:n.pasted_textdocs?.map(({tempId:a})=>t.jsx(rr,{textdocId:a},a))})};function ys({attachments:e,citations:s,contentReferences:n,className:a,clientThreadId:o,displayParts:r,isCompletionInProgress:i,id:l,isActivelyStreaming:d,isUserTurn:f,turnIndex:g,isFeedbackEnabled:b,messages:c,onRequestMoreCompletions:m,parts:p,prevGroupedMessageType:h,prevGroupedMessages:v,showEditButton:j,onEnterEdit:w,size:x="medium"}){const y=qt(),k=c.length>1,{flagSeverity:C,shouldHideContent:E}=Gt(k?void 0:c[0]),M=!p.some(_=>_!==""),I=c[0].message.metadata?.targeted_reply_label??c[0].message.metadata?.targeted_reply;return u.useEffect(()=>{const _=c[0].message;if(_.author.metadata?.real_author===`tool:${En.SEARCHGPT}`&&!M){const R=_.metadata?.search_source;ht.logEvent(V.searchToolRequestTimeToFirstTextToken,o,_.id,{search_source:R},()=>{R===As.InstantQuery&&Rs.logEvent(V.searchToolPageLoadTimeToFirstTextToken,{message_id:_.id})})}},[o,M,c]),u.useEffect(()=>{if(!M)switch(h){case Xe.Browsing:ht.logEvent(V.browsingTimeToFirstTextToken,o,c[0].message.id);break}},[M,c,o,h]),t.jsxs("div",{"data-message-author-role":c[0].message.author.role,"data-message-id":c[0].message.id,dir:"auto",className:P(a,"text-message flex w-full flex-col items-end gap-2 whitespace-normal break-words [.text-message+&]:mt-5"),"data-message-model-slug":c[0].message.metadata?.model_slug,children:[I&&t.jsxs("div",{className:"mb-1 ml-6 mt-1 flex items-start gap-1.5 text-sm font-normal text-token-text-tertiary sm:ml-7 lg:ml-8",children:[t.jsx(bo,{className:"icon-md mt-1 shrink-0"}),t.jsx("p",{className:"mr-2 line-clamp-3",children:I})]}),f&&y&&t.jsx(lr,{messages:c}),t.jsx(In,{messages:c}),t.jsx(ir,{parts:p,attachments:e,isUserTurn:f,isCompletionInProgress:i,turnIndex:g,displayParts:r,isActivelyStreaming:d,shouldHideContent:E,showEditButton:j,onEnterEdit:w,clientThreadId:o,id:l,isEmpty:M,prevGroupedMessageType:h,prevGroupedMessages:v,flagSeverity:C,messages:c,citations:s,contentReferences:n,size:x}),t.jsx(Tn,{message:k?void 0:c[0],id:l,isFeedbackEnabled:b,onRequestMoreCompletions:m,clientThreadId:o,isUserTurn:f}),t.jsx(Nn,{isUserTurn:f,message:k?void 0:c[0]}),!f&&!d&&v&&h===Xe.SearchResult&&t.jsx(_n,{messages:v})]})}function ir({clientThreadId:e,id:s,displayParts:n,isCompletionInProgress:a,turnIndex:o,isActivelyStreaming:r,shouldHideContent:i,showEditButton:l=!1,onEnterEdit:d,isEmpty:f,prevGroupedMessageType:g,prevGroupedMessages:b,messages:c,citations:m,contentReferences:p,size:h,isUserTurn:v,parts:j,attachments:w}){const x=q(),y=u.useRef(!1),k=An(n),[C,E]=u.useState({}),[M,I]=u.useState(!1),_=Rn(),{streamingContext:R}=Pn();u.useEffect(()=>{_&&(R.setOnStylesUpdatedCallback(E),R.onStreamingChanged(a),R.setOnResetCallback(()=>I(!1)),a&&(I(!0),E(R.createTopLevelStyles())))},[_,a,R]);const Q=Dn(),N=c[0].message.metadata?.gizmo_id,O=c[0].message.metadata?.serialization_metadata,D=Fn(c[0].message).length,F=u.useMemo(()=>({clientThreadId:e,messageId:s,turnIndex:o}),[e,s,o]),S=On(c[0].message),K=!!N&&Q.includes(N),W=u.useCallback(()=>{J.toggleChatThreadFlyout(e,o,s)},[e,o,s]),U=t.jsx(Wn,{parts:j,attachments:w,isUserTurn:v,clientThreadId:e},"files-and-tables"),te=!!(w?.length||n.some(G=>G.type==="images")),fe=Bn();function ge(G,Y){const z=g===Xe.CodeInterpreter?b?.map(ue=>ue.message):void 0,{text:pe,contentReferences:Oe}=$n(Y,m,p,K);let ut=Oe;fe&&(ut=Oe.filter(ue=>ue.type!=="attribution"));const{processedText:Se,displayedContentReferences:dt}=Un(pe,ut,r?void 0:z,!1,r);Se.includes(Hn)&&!y.current&&(y.current=!0,Ds.addError(new Error("Failed replaceTextWithDirectives"),{text:Se,displayedContentReferences:dt}));const mt=c[0].message,ft=mt.metadata?.message_locale;let Be=t.jsx(Vn,{clientThreadId:e,messageId:s,isStreamingOrProcessing:M,size:h,className:P(r&&!_&&"result-streaming",S&&"headers-v2"),children:Se===""?"&#8203;":Se});if(ft!=null){const ue=Fs(ft,!1);ue!=null&&(Be=t.jsx(Os,{locale:ue,children:Be}))}return t.jsx(qn.Provider,{value:{analyticsMetadata:F,message:mt,contentReferences:dt,onShowSearchResults:W,numImageResults:D,isActivelyStreaming:r,useSafeUrls:!0},children:Be},G)}const xe=n.map((G,Y)=>{if(G.type==="transcription"){const z=i?null:G.text;let pe=null;if(v&&i)pe=t.jsx("span",{className:"italic opacity-30",children:t.jsx(T,{...ke.contentRemoved})});else if(v&&z!=null)pe=z.trim().length===0?t.jsx("span",{className:"italic opacity-30",children:t.jsx(We,{text:x.formatMessage(ke.transcriptUnavailable),customSymbolOffsets:void 0})}):t.jsx("span",{className:"italic opacity-65",children:t.jsx(We,{text:`“${z.trim()}”`,customSymbolOffsets:void 0})});else if(!v&&z!=null)return ge(Y,z);return t.jsx($e,{containsImagesOrAttachments:te,isUserTurn:v,showEditButton:l,onEnterEdit:d,children:pe},Y)}else if(G.type==="text"){const z=i?null:G.text;return!f&&!i&&!v?ge(Y,k):f&&r&&!v?_?t.jsx("div",{className:"pulsing-dot"},Y):t.jsx("div",{className:"result-streaming",children:t.jsx("span",{children:t.jsx("pre",{})})},Y):t.jsx($e,{containsImagesOrAttachments:te,isUserTurn:v,showEditButton:l,onEnterEdit:d,children:v&&i?t.jsx("span",{className:"italic opacity-30",children:t.jsx(T,{...ke.contentRemoved})}):z?t.jsx(We,{text:z,customSymbolOffsets:O?.custom_symbol_offsets}):null},Y)}else if(G.type==="images"){const z=c[0].message.metadata?.attachments??[];return t.jsx(Ln,{assets:G.imageAssets,attachments:z},Y)}else return null}),ct=n.findIndex(G=>G.type==="text");if(ct!==-1?xe.splice(ct,0,U):xe.push(U),i&&v)xe.length=0,xe.push(t.jsx($e,{containsImagesOrAttachments:te,isUserTurn:v,onEnterEdit:Ps,children:t.jsx("span",{className:"italic opacity-30",children:t.jsx(T,{...ke.contentRemoved})})}));else if(i&&!v)return null;return t.jsx("div",{className:P("flex w-full flex-col gap-1 empty:hidden",v&&"items-end rtl:items-start",!v&&"first:pt-[3px]",M&&"streaming-response"),style:C,children:xe})}const ke=_e({contentRemoved:{id:"textMessage.contentRemoved",defaultMessage:"Content removed"},transcriptUnavailable:{id:"textMessage.transcriptUnavailable",defaultMessage:"Transcript Unavailable"}});function cr(e){const{isActivelyStreaming:s,...n}=e,a=Bs(),o=a?.includes("debug")??!1,r=e.messages[e.messages.length-1].message.id,[i,l]=u.useState(Gn(e.parts)),d=u.useRef(void 0);return d.current===void 0&&(d.current=a?.includes(Ls)??!1?new zn(e.parts,l,s,void 0,{debug:o}):new Qn(e.parts,l,s)),u.useEffect(()=>{d.current!=null&&(d.current.onMessagePartsUpdated(e.parts,s),d.current.isBuffering()&&Ue.addDelayedRenderingMessage(r))},[e.parts,r,s]),u.useEffect(()=>{d.current!=null&&!d.current.isBuffering()&&Ue.removeDelayedRenderingMessage(r)},[i,r]),u.useEffect(()=>()=>Ue.removeDelayedRenderingMessage(r),[r]),u.useEffect(()=>()=>{d.current!=null&&(d.current.destroy(),d.current=void 0)},[]),t.jsx(ys,{...n,displayParts:i,isActivelyStreaming:s||d.current?.isBuffering()})}function ur({message:e,isCompletionInProgress:s,clientThreadId:n,className:a,isUserTurn:o,turnIndex:r,isFeedbackEnabled:i,prevGroupedMessageType:l,prevGroupedMessages:d,showEditButton:f,onEnterEdit:g,onRequestMoreCompletions:b}){const c=u.useMemo(()=>"parts"in e.message.content?e.message.content.parts:[Kn(e.message)],[e]);return t.jsx(dr,{parts:c,messages:[e],isCompletionInProgress:s,className:a,citations:e.message.metadata?.citations,contentReferences:e.message.metadata?.content_references,attachments:e.message.metadata?.attachments,isUserTurn:o,turnIndex:r,id:e.nodeId,isFeedbackEnabled:i,onRequestMoreCompletions:b,clientThreadId:n,showEditButton:f,onEnterEdit:g,prevGroupedMessageType:l,prevGroupedMessages:d})}const Ct=ne.memo(ur);function dr(e){const s=e.messages.length>1,{flagSeverity:n}=Gt(s?void 0:e.messages[0]),a=n!=="danger"&&e.isCompletionInProgress,o=!e.parts.some(i=>i!==""),[r]=u.useState(()=>!e.isUserTurn&&(e.isCompletionInProgress||o));return r?t.jsx(cr,{...e,isActivelyStreaming:a}):t.jsx(ys,{...e,displayParts:Xn({isUserTurn:e.isUserTurn,parts:e.parts}),isActivelyStreaming:a})}const mr=({children:e})=>{const s=zt();return s?.length?t.jsxs(A.Root,{children:[t.jsx(A.Trigger,{className:"h-10 px-2",children:e}),t.jsx(A.Content,{align:"end",onCloseAutoFocus:n=>n.preventDefault(),children:s.map(n=>t.jsx(fr,{textdocId:n},n))})]}):null},fr=({textdocId:e})=>{const s=_t(st(e));return t.jsx(A.Item,{icon:Pe,onClick:()=>{Ut.logButtonClick(Ht.FILE_DRAWER_ITEM),nt(s.textdocId)},children:s.title})},gr=()=>{const e=q(),s=zt(),n=Vt();if(!s||n)return null;const a=s.length;return a===1?t.jsx(xr,{textdocId:s[0]}):t.jsx(mr,{children:t.jsx(X,{label:e.formatMessage({id:"xX2Zyt",defaultMessage:"Open canvas"}),children:t.jsxs("div",{className:"flex items-center gap-1 text-token-text-secondary",style:{viewTransitionName:"var(--vt-thread-header-open-canvas)"},children:[t.jsx(Pe,{className:"icon-xl-heavy"}),a]})})})},xr=({textdocId:e})=>{const s=q(),n=_t(st(e));return t.jsx(X,{label:s.formatMessage({id:"xX2Zyt",defaultMessage:"Open canvas"}),children:t.jsx(ye,{onClick:()=>nt(n.textdocId),icon:Pe,style:{viewTransitionName:"var(--vt-thread-header-open-canvas)"}})})},js={...Ws},pr=js.useInsertionEffect,hr=pr||(e=>e());function Ss(e){const s=u.useRef(()=>{});return hr(()=>{s.current=e}),u.useCallback(function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return s.current==null?void 0:s.current(...a)},[])}var Je=typeof document<"u"?u.useLayoutEffect:u.useEffect;let kt=!1,vr=0;const Mt=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+vr++;function br(){const[e,s]=u.useState(()=>kt?Mt():void 0);return Je(()=>{e==null&&s(Mt())},[]),u.useEffect(()=>{kt=!0},[]),e}const yr=js.useId,jr=yr||br;function Sr(){const e=new Map;return{emit(s,n){var a;(a=e.get(s))==null||a.forEach(o=>o(n))},on(s,n){e.set(s,[...e.get(s)||[],n])},off(s,n){var a;e.set(s,((a=e.get(s))==null?void 0:a.filter(o=>o!==n))||[])}}}const Cr=u.createContext(null),kr=u.createContext(null),Mr=()=>{var e;return((e=u.useContext(Cr))==null?void 0:e.id)||null},wr=()=>u.useContext(kr),Er="data-floating-ui-focusable";function Ir(e){const{open:s=!1,onOpenChange:n,elements:a}=e,o=jr(),r=u.useRef({}),[i]=u.useState(()=>Sr()),l=Mr()!=null,[d,f]=u.useState(a.reference),g=Ss((m,p,h)=>{r.current.openEvent=m?p:void 0,i.emit("openchange",{open:m,event:p,reason:h,nested:l}),n?.(m,p,h)}),b=u.useMemo(()=>({setPositionReference:f}),[]),c=u.useMemo(()=>({reference:d||a.reference||null,floating:a.floating||null,domReference:a.reference}),[d,a.reference,a.floating]);return u.useMemo(()=>({dataRef:r,open:s,onOpenChange:g,elements:c,events:i,floatingId:o,refs:b}),[s,g,c,i,o,b])}function Tr(e){e===void 0&&(e={});const{nodeId:s}=e,n=Ir({...e,elements:{reference:null,floating:null,...e.elements}}),a=e.rootContext||n,o=a.elements,[r,i]=u.useState(null),[l,d]=u.useState(null),g=o?.reference||r,b=u.useRef(null),c=wr();Je(()=>{g&&(b.current=g)},[g]);const m=Zn({...e,elements:{...o,...l&&{reference:l}}}),p=u.useCallback(x=>{const y=Ce(x)?{getBoundingClientRect:()=>x.getBoundingClientRect(),contextElement:x}:x;d(y),m.refs.setReference(y)},[m.refs]),h=u.useCallback(x=>{(Ce(x)||x===null)&&(b.current=x,i(x)),(Ce(m.refs.reference.current)||m.refs.reference.current===null||x!==null&&!Ce(x))&&m.refs.setReference(x)},[m.refs]),v=u.useMemo(()=>({...m.refs,setReference:h,setPositionReference:p,domReference:b}),[m.refs,h,p]),j=u.useMemo(()=>({...m.elements,domReference:g}),[m.elements,g]),w=u.useMemo(()=>({...m,...a,refs:v,elements:j,nodeId:s}),[m,v,j,s,a]);return Je(()=>{a.dataRef.current.floatingContext=w;const x=c?.nodesRef.current.find(y=>y.id===s);x&&(x.context=w)}),u.useMemo(()=>({...m,context:w,refs:v,elements:j}),[m,v,j,w])}const wt="active",Et="selected";function Ge(e,s,n){const a=new Map,o=n==="item";let r=e;if(o&&e){const{[wt]:i,[Et]:l,...d}=e;r=d}return{...n==="floating"&&{tabIndex:-1,[Er]:""},...r,...s.map(i=>{const l=i?i[n]:null;return typeof l=="function"?e?l(e):null:l}).concat(e).reduce((i,l)=>(l&&Object.entries(l).forEach(d=>{let[f,g]=d;if(!(o&&[wt,Et].includes(f)))if(f.indexOf("on")===0){if(a.has(f)||a.set(f,[]),typeof g=="function"){var b;(b=a.get(f))==null||b.push(g),i[f]=function(){for(var c,m=arguments.length,p=new Array(m),h=0;h<m;h++)p[h]=arguments[h];return(c=a.get(f))==null?void 0:c.map(v=>v(...p)).find(v=>v!==void 0)}}}else i[f]=g}),i),{})}}function Nr(e){e===void 0&&(e=[]);const s=e.map(l=>l?.reference),n=e.map(l=>l?.floating),a=e.map(l=>l?.item),o=u.useCallback(l=>Ge(l,e,"reference"),s),r=u.useCallback(l=>Ge(l,e,"floating"),n),i=u.useCallback(l=>Ge(l,e,"item"),a);return u.useMemo(()=>({getReferenceProps:o,getFloatingProps:r,getItemProps:i}),[o,r,i])}function It(e,s){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:s}}}}const _r=e=>({name:"inner",options:e,async fn(s){const{listRef:n,overflowRef:a,onFallbackChange:o,offset:r=0,index:i=0,minItemsVisible:l=4,referenceOverflowThreshold:d=0,scrollRef:f,...g}=Jn(e,s),{rects:b,elements:{floating:c}}=s,m=n.current[i],p=f?.current||c,h=c.clientTop||p.clientTop,v=c.clientTop!==0,j=p.clientTop!==0,w=c===p;if(!m)return{};const x={...s,...await Qt(-m.offsetTop-c.clientTop-b.reference.height/2-m.offsetHeight/2-r).fn(s)},y=await Le(It(x,p.scrollHeight+h+c.clientTop),g),k=await Le(x,{...g,elementContext:"reference"}),C=He(0,y.top),E=x.y+C,M=Yn(He(0,p.scrollHeight+(v&&w||j?h*2:0)-C-He(0,y.bottom)));if(p.style.maxHeight=M+"px",p.scrollTop=C,o){const I=p.scrollHeight>p.offsetHeight&&p.offsetHeight<m.offsetHeight*l-1||k.top>=-d||k.bottom>=-d;ae.flushSync(()=>o(I))}return a&&(a.current=await Le(It({...x,y:E},p.offsetHeight+h+c.clientTop),g)),{y:E}}});function Ar(e,s){const{open:n,elements:a}=e,{enabled:o=!0,overflowRef:r,scrollRef:i,onChange:l}=s,d=Ss(l),f=u.useRef(!1),g=u.useRef(null),b=u.useRef(null);u.useEffect(()=>{if(!o)return;function m(h){if(h.ctrlKey||!p||r.current==null)return;const v=h.deltaY,j=r.current.top>=-.5,w=r.current.bottom>=-.5,x=p.scrollHeight-p.clientHeight,y=v<0?-1:1,k=v<0?"max":"min";p.scrollHeight<=p.clientHeight||(!j&&v>0||!w&&v<0?(h.preventDefault(),ae.flushSync(()=>{d(C=>C+Math[k](v,x*y))})):/firefox/i.test(ea())&&(p.scrollTop+=v))}const p=i?.current||a.floating;if(n&&p)return p.addEventListener("wheel",m),requestAnimationFrame(()=>{g.current=p.scrollTop,r.current!=null&&(b.current={...r.current})}),()=>{g.current=null,b.current=null,p.removeEventListener("wheel",m)}},[o,n,a.floating,r,i,d]);const c=u.useMemo(()=>({onKeyDown(){f.current=!0},onWheel(){f.current=!1},onPointerMove(){f.current=!1},onScroll(){const m=i?.current||a.floating;if(!(!r.current||!m||!f.current)){if(g.current!==null){const p=m.scrollTop-g.current;(r.current.bottom<-.5&&p<-1||r.current.top<-.5&&p>1)&&ae.flushSync(()=>d(h=>h+p))}requestAnimationFrame(()=>{g.current=m.scrollTop})}}}),[a.floating,d,r,i]);return u.useMemo(()=>o?{floating:c}:{},[o,c])}let me=u.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});me.displayName="FloatingContext";let lt=u.createContext(null);lt.displayName="PlacementContext";function Rr(e){return u.useMemo(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function Pr(){return u.useContext(me).setReference}function Dr(){return u.useContext(me).getReferenceProps}function Fr(){let{getFloatingProps:e,slot:s}=u.useContext(me);return u.useCallback((...n)=>Object.assign({},e(...n),{"data-anchor":s.anchor}),[e,s])}function Or(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let s=u.useContext(lt),n=u.useMemo(()=>e,[JSON.stringify(e,(o,r)=>{var i;return(i=r?.outerHTML)!=null?i:r})]);oe(()=>{s?.(n??null)},[s,n]);let a=u.useContext(me);return u.useMemo(()=>[a.setFloating,e?a.styles:{}],[a.setFloating,e,a.styles])}let Tt=4;function Br({children:e,enabled:s=!0}){let[n,a]=u.useState(null),[o,r]=u.useState(0),i=u.useRef(null),[l,d]=u.useState(null);Lr(l);let f=s&&n!==null&&l!==null,{to:g="bottom",gap:b=0,offset:c=0,padding:m=0,inner:p}=Wr(n,l),[h,v="center"]=g.split(" ");oe(()=>{f&&r(0)},[f]);let{refs:j,floatingStyles:w,context:x}=Tr({open:f,placement:h==="selection"?v==="center"?"bottom":`bottom-${v}`:v==="center"?`${h}`:`${h}-${v}`,strategy:"absolute",transform:!1,middleware:[Qt({mainAxis:h==="selection"?0:b,crossAxis:c}),ta({padding:m}),h!=="selection"&&sa({padding:m}),h==="selection"&&p?_r({...p,padding:m,overflowRef:i,offset:o,minItemsVisible:Tt,referenceOverflowThreshold:m,onFallbackChange(R){var Q,N;if(!R)return;let O=x.elements.floating;if(!O)return;let D=parseFloat(getComputedStyle(O).scrollPaddingBottom)||0,F=Math.min(Tt,O.childElementCount),S=0,K=0;for(let W of(N=(Q=x.elements.floating)==null?void 0:Q.childNodes)!=null?N:[])if(W instanceof HTMLElement){let U=W.offsetTop,te=U+W.clientHeight+D,fe=O.scrollTop,ge=fe+O.clientHeight;if(U>=fe&&te<=ge)F--;else{K=Math.max(0,Math.min(te,ge)-Math.max(U,fe)),S=W.clientHeight;break}}F>=1&&r(W=>{let U=S*F-K+D;return W>=U?W:U})}}):null,na({padding:m,apply({availableWidth:R,availableHeight:Q,elements:N}){Object.assign(N.floating.style,{overflow:"auto",maxWidth:`${R}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${Q}px)`})}})].filter(Boolean),whileElementsMounted:$s}),[y=h,k=v]=x.placement.split("-");h==="selection"&&(y="selection");let C=u.useMemo(()=>({anchor:[y,k].filter(Boolean).join(" ")}),[y,k]),E=Ar(x,{overflowRef:i,onChange:r}),{getReferenceProps:M,getFloatingProps:I}=Nr([E]),_=L(R=>{d(R),j.setFloating(R)});return u.createElement(lt.Provider,{value:a},u.createElement(me.Provider,{value:{setFloating:_,setReference:j.setReference,styles:w,getReferenceProps:M,getFloatingProps:I,slot:C}},e))}function Lr(e){oe(()=>{if(!e)return;let s=new MutationObserver(()=>{let n=window.getComputedStyle(e).maxHeight,a=parseFloat(n);if(isNaN(a))return;let o=parseInt(n);isNaN(o)||a!==o&&(e.style.maxHeight=`${Math.ceil(a)}px`)});return s.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{s.disconnect()}},[e])}function Wr(e,s){var n,a,o;let r=ze((n=e?.gap)!=null?n:"var(--anchor-gap, 0)",s),i=ze((a=e?.offset)!=null?a:"var(--anchor-offset, 0)",s),l=ze((o=e?.padding)!=null?o:"var(--anchor-padding, 0)",s);return{...e,gap:r,offset:i,padding:l}}function ze(e,s,n=void 0){let a=Kt(),o=L((d,f)=>{if(d==null)return[n,null];if(typeof d=="number")return[d,null];if(typeof d=="string"){if(!f)return[n,null];let g=Nt(d,f);return[g,b=>{let c=Cs(d);{let m=c.map(p=>window.getComputedStyle(f).getPropertyValue(p));a.requestAnimationFrame(function p(){a.nextFrame(p);let h=!1;for(let[j,w]of c.entries()){let x=window.getComputedStyle(f).getPropertyValue(w);if(m[j]!==x){m[j]=x,h=!0;break}}if(!h)return;let v=Nt(d,f);g!==v&&(b(v),g=v)})}return a.dispose}]}return[n,null]}),r=u.useMemo(()=>o(e,s)[0],[e,s]),[i=r,l]=u.useState();return oe(()=>{let[d,f]=o(e,s);if(l(d),!!f)return f(l)},[e,s]),i}function Cs(e){let s=/var\((.*)\)/.exec(e);if(s){let n=s[1].indexOf(",");if(n===-1)return[s[1]];let a=s[1].slice(0,n).trim(),o=s[1].slice(n+1).trim();return o?[a,...Cs(o)]:[a]}return[]}function Nt(e,s){let n=document.createElement("div");s.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",e,"important");let a=parseFloat(window.getComputedStyle(n).marginTop)||0;return s.removeChild(n),a}var $r=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))($r||{}),Ur=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Ur||{}),Hr=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem",e[e.SetButtonElement=7]="SetButtonElement",e[e.SetItemsElement=8]="SetItemsElement",e))(Hr||{});function Qe(e,s=n=>n){let n=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,a=_a(s(e.items.slice()),r=>r.dataRef.current.domRef.current),o=n?a.indexOf(n):null;return o===-1&&(o=null),{items:a,activeItemIndex:o}}let Vr={1(e){return e.menuState===1?e:{...e,activeItemIndex:null,menuState:1}},0(e){return e.menuState===0?e:{...e,__demoMode:!1,menuState:0}},2:(e,s)=>{var n,a,o,r,i;if(e.menuState===1)return e;let l={...e,searchQuery:"",activationTrigger:(n=s.trigger)!=null?n:1,__demoMode:!1};if(s.focus===$.Nothing)return{...l,activeItemIndex:null};if(s.focus===$.Specific)return{...l,activeItemIndex:e.items.findIndex(g=>g.id===s.id)};if(s.focus===$.Previous){let g=e.activeItemIndex;if(g!==null){let b=e.items[g].dataRef.current.domRef,c=Ve(s,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:m=>m.id,resolveDisabled:m=>m.dataRef.current.disabled});if(c!==null){let m=e.items[c].dataRef.current.domRef;if(((a=b.current)==null?void 0:a.previousElementSibling)===m.current||((o=m.current)==null?void 0:o.previousElementSibling)===null)return{...l,activeItemIndex:c}}}}else if(s.focus===$.Next){let g=e.activeItemIndex;if(g!==null){let b=e.items[g].dataRef.current.domRef,c=Ve(s,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:m=>m.id,resolveDisabled:m=>m.dataRef.current.disabled});if(c!==null){let m=e.items[c].dataRef.current.domRef;if(((r=b.current)==null?void 0:r.nextElementSibling)===m.current||((i=m.current)==null?void 0:i.nextElementSibling)===null)return{...l,activeItemIndex:c}}}}let d=Qe(e),f=Ve(s,{resolveItems:()=>d.items,resolveActiveIndex:()=>d.activeItemIndex,resolveId:g=>g.id,resolveDisabled:g=>g.dataRef.current.disabled});return{...l,...d,activeItemIndex:f}},3:(e,s)=>{let n=e.searchQuery!==""?0:1,a=e.searchQuery+s.value.toLowerCase(),o=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+n).concat(e.items.slice(0,e.activeItemIndex+n)):e.items).find(i=>{var l;return((l=i.dataRef.current.textValue)==null?void 0:l.startsWith(a))&&!i.dataRef.current.disabled}),r=o?e.items.indexOf(o):-1;return r===-1||r===e.activeItemIndex?{...e,searchQuery:a}:{...e,searchQuery:a,activeItemIndex:r,activationTrigger:1}},4(e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},5:(e,s)=>{let n=Qe(e,a=>[...a,{id:s.id,dataRef:s.dataRef}]);return{...e,...n}},6:(e,s)=>{let n=Qe(e,a=>{let o=a.findIndex(r=>r.id===s.id);return o!==-1&&a.splice(o,1),a});return{...e,...n,activationTrigger:1}},7:(e,s)=>e.buttonElement===s.element?e:{...e,buttonElement:s.element},8:(e,s)=>e.itemsElement===s.element?e:{...e,itemsElement:s.element}},it=u.createContext(null);it.displayName="MenuContext";function De(e){let s=u.useContext(it);if(s===null){let n=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,De),n}return s}function qr(e,s){return Xt(s.type,Vr,e,s)}let Gr=u.Fragment;function zr(e,s){let{__demoMode:n=!1,...a}=e,o=u.useReducer(qr,{__demoMode:n,menuState:n?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:r,itemsElement:i,buttonElement:l},d]=o,f=Re(s);aa(r===0,[l,i],(m,p)=>{d({type:1}),oa(p,ra.Loose)||(m.preventDefault(),l?.focus())});let g=L(()=>{d({type:1})}),b=u.useMemo(()=>({open:r===0,close:g}),[r,g]),c={ref:f};return ne.createElement(Br,null,ne.createElement(it.Provider,{value:o},ne.createElement(la,{value:Xt(r,{0:Ie.Open,1:Ie.Closed})},ce({ourProps:c,theirProps:a,slot:b,defaultTag:Gr,name:"Menu"}))))}let Qr="button";function Kr(e,s){var n;let a=u.useId(),{id:o=`headlessui-menu-button-${a}`,disabled:r=!1,autoFocus:i=!1,...l}=e,[d,f]=De("Menu.Button"),g=Dr(),b=ia(),c=Re(s,Pr(),L(M=>f({type:7,element:M}))),m=L(M=>{switch(M.key){case B.Space:case B.Enter:case B.ArrowDown:M.preventDefault(),M.stopPropagation(),ae.flushSync(()=>f({type:0})),f({type:2,focus:$.First});break;case B.ArrowUp:M.preventDefault(),M.stopPropagation(),ae.flushSync(()=>f({type:0})),f({type:2,focus:$.Last});break}}),p=L(M=>{switch(M.key){case B.Space:M.preventDefault();break}}),h=L(M=>{var I;if(ca(M.currentTarget))return M.preventDefault();r||(d.menuState===0?(ae.flushSync(()=>f({type:1})),(I=d.buttonElement)==null||I.focus({preventScroll:!0})):(M.preventDefault(),f({type:0})))}),{isFocusVisible:v,focusProps:j}=ua({autoFocus:i}),{isHovered:w,hoverProps:x}=da({isDisabled:r}),{pressed:y,pressProps:k}=ma({disabled:r}),C=u.useMemo(()=>({open:d.menuState===0,active:y||d.menuState===0,disabled:r,hover:w,focus:v,autofocus:i}),[d,w,v,y,r,i]),E=Zt(g(),{ref:c,id:o,type:fa(e,d.buttonElement),"aria-haspopup":"menu","aria-controls":(n=d.itemsElement)==null?void 0:n.id,"aria-expanded":d.menuState===0,disabled:r||void 0,autoFocus:i,onKeyDown:m,onKeyUp:p,onClick:h},j,x,k);return ce({mergeRefs:b,ourProps:E,theirProps:l,slot:C,defaultTag:Qr,name:"Menu.Button"})}let Xr="div",Zr=vt.RenderStrategy|vt.Static;function Jr(e,s){var n,a;let o=u.useId(),{id:r=`headlessui-menu-items-${o}`,anchor:i,portal:l=!1,modal:d=!0,transition:f=!1,...g}=e,b=Rr(i),[c,m]=De("Menu.Items"),[p,h]=Or(b),v=Fr(),[j,w]=u.useState(null),x=Re(s,b?p:null,L(S=>m({type:8,element:S})),w),y=ga(c.itemsElement);b&&(l=!0);let k=xa(),[C,E]=pa(f,j,k!==null?(k&Ie.Open)===Ie.Open:c.menuState===0);ha(C,c.buttonElement,()=>{m({type:1})});let M=c.__demoMode?!1:d&&c.menuState===0;va(M,y);let I=c.__demoMode?!1:d&&c.menuState===0;ba(I,{allowed:u.useCallback(()=>[c.buttonElement,c.itemsElement],[c.buttonElement,c.itemsElement])});let _=c.menuState!==0,R=ya(_,c.buttonElement)?!1:C;u.useEffect(()=>{let S=c.itemsElement;S&&c.menuState===0&&S!==y?.activeElement&&S.focus({preventScroll:!0})},[c.menuState,c.itemsElement,y]),ja(c.menuState===0,{container:c.itemsElement,accept(S){return S.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:S.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(S){S.setAttribute("role","none")}});let Q=Kt(),N=L(S=>{var K,W,U;switch(Q.dispose(),S.key){case B.Space:if(c.searchQuery!=="")return S.preventDefault(),S.stopPropagation(),m({type:3,value:S.key});case B.Enter:if(S.preventDefault(),S.stopPropagation(),m({type:1}),c.activeItemIndex!==null){let{dataRef:te}=c.items[c.activeItemIndex];(W=(K=te.current)==null?void 0:K.domRef.current)==null||W.click()}Jt(c.buttonElement);break;case B.ArrowDown:return S.preventDefault(),S.stopPropagation(),m({type:2,focus:$.Next});case B.ArrowUp:return S.preventDefault(),S.stopPropagation(),m({type:2,focus:$.Previous});case B.Home:case B.PageUp:return S.preventDefault(),S.stopPropagation(),m({type:2,focus:$.First});case B.End:case B.PageDown:return S.preventDefault(),S.stopPropagation(),m({type:2,focus:$.Last});case B.Escape:S.preventDefault(),S.stopPropagation(),ae.flushSync(()=>m({type:1})),(U=c.buttonElement)==null||U.focus({preventScroll:!0});break;case B.Tab:S.preventDefault(),S.stopPropagation(),ae.flushSync(()=>m({type:1})),Sa(c.buttonElement,S.shiftKey?bt.Previous:bt.Next);break;default:S.key.length===1&&(m({type:3,value:S.key}),Q.setTimeout(()=>m({type:4}),350));break}}),O=L(S=>{switch(S.key){case B.Space:S.preventDefault();break}}),D=u.useMemo(()=>({open:c.menuState===0}),[c.menuState]),F=Zt(b?v():{},{"aria-activedescendant":c.activeItemIndex===null||(n=c.items[c.activeItemIndex])==null?void 0:n.id,"aria-labelledby":(a=c.buttonElement)==null?void 0:a.id,id:r,onKeyDown:N,onKeyUp:O,role:"menu",tabIndex:c.menuState===0?0:void 0,ref:x,style:{...g.style,...h,"--button-width":Ca(c.buttonElement,!0).width},...ka(E)});return ne.createElement(Ma,{enabled:l?e.static||C:!1},ce({ourProps:F,theirProps:g,slot:D,defaultTag:Xr,features:Zr,visible:R,name:"Menu.Items"}))}let Yr=u.Fragment;function el(e,s){let n=u.useId(),{id:a=`headlessui-menu-item-${n}`,disabled:o=!1,...r}=e,[i,l]=De("Menu.Item"),d=i.activeItemIndex!==null?i.items[i.activeItemIndex].id===a:!1,f=u.useRef(null),g=Re(s,f);oe(()=>{if(!i.__demoMode&&i.menuState===0&&d&&i.activationTrigger!==0)return wa().requestAnimationFrame(()=>{var I,_;(_=(I=f.current)==null?void 0:I.scrollIntoView)==null||_.call(I,{block:"nearest"})})},[i.__demoMode,f,d,i.menuState,i.activationTrigger,i.activeItemIndex]);let b=Ea(f),c=u.useRef({disabled:o,domRef:f,get textValue(){return b()}});oe(()=>{c.current.disabled=o},[c,o]),oe(()=>(l({type:5,id:a,dataRef:c}),()=>l({type:6,id:a})),[c,a]);let m=L(()=>{l({type:1})}),p=L(I=>{if(o)return I.preventDefault();l({type:1}),Jt(i.buttonElement)}),h=L(()=>{if(o)return l({type:2,focus:$.Nothing});l({type:2,focus:$.Specific,id:a})}),v=Ia(),j=L(I=>{v.update(I),!o&&(d||l({type:2,focus:$.Specific,id:a,trigger:0}))}),w=L(I=>{v.wasMoved(I)&&(o||d||l({type:2,focus:$.Specific,id:a,trigger:0}))}),x=L(I=>{v.wasMoved(I)&&(o||d&&l({type:2,focus:$.Nothing}))}),[y,k]=Yt(),[C,E]=Ta(),M=u.useMemo(()=>({active:d,focus:d,disabled:o,close:m}),[d,o,m]);return ne.createElement(k,null,ne.createElement(E,null,ce({ourProps:{id:a,ref:g,role:"menuitem",tabIndex:o===!0?void 0:-1,"aria-disabled":o===!0?!0:void 0,"aria-labelledby":y,"aria-describedby":C,disabled:void 0,onClick:p,onFocus:h,onPointerEnter:j,onMouseEnter:j,onPointerMove:w,onMouseMove:w,onPointerLeave:x,onMouseLeave:x},theirProps:r,slot:M,defaultTag:Yr,name:"Menu.Item"})))}let tl="div";function sl(e,s){let[n,a]=Yt();return ne.createElement(a,null,ce({ourProps:{ref:s,"aria-labelledby":n,role:"group"},theirProps:e,slot:{},defaultTag:tl,name:"Menu.Section"}))}let nl="header";function al(e,s){let n=u.useId(),{id:a=`headlessui-menu-heading-${n}`,...o}=e,r=Na();oe(()=>r.register(a),[a,r.register]);let i={id:a,ref:s,role:"presentation",...r.props};return ce({ourProps:i,theirProps:o,slot:{},defaultTag:nl,name:"Menu.Heading"})}let ol="div";function rl(e,s){return ce({ourProps:{ref:s,role:"separator"},theirProps:e,slot:{},defaultTag:ol,name:"Menu.Separator"})}let ll=ie(zr),il=ie(Kr),cl=ie(Jr),ul=ie(el),dl=ie(sl),ml=ie(al),fl=ie(rl),he=Object.assign(ll,{Button:il,Items:cl,Item:ul,Section:dl,Heading:ml,Separator:fl});function gl({show:e,appear:s,children:n}){return t.jsx(Aa,{as:u.Fragment,enter:"transition ease-out duration-200",enterFrom:"opacity-0 translate-y-1",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-1",show:e,appear:s,children:n})}function se({onClick:e,href:s,target:n,children:a,disabled:o,icon:r,testId:i}){const l=je();return t.jsx(he.Item,{disabled:o,children:({active:d})=>t.jsxs(Fe,{onClick:e,href:s,target:n,className:P({"bg-token-sidebar-surface-secondary":d,"hover:bg-token-sidebar-surface-secondary":!d&&!o||l}),"data-testid":i,children:[r&&t.jsx(r,{className:"icon-md"}),a]})})}function xl({to:e,children:s,icon:n}){return t.jsx(he.Item,{children:({active:a})=>t.jsx(Us,{to:e,children:t.jsxs(Fe,{$as:"span",className:P(a?"bg-token-sidebar-surface-secondary":"cursor-pointer"),children:[n&&t.jsx(n,{className:"icon-md"}),s]})})})}re.a`p-2 rounded-md hover:bg-black/10 hover:dark:bg-white/10 cursor-pointer`;const Fe=re.a`flex gap-2 rounded p-2.5 text-sm cursor-pointer focus:ring-0 hover:bg-token-main-surface-secondary radix-disabled:pointer-events-none radix-disabled:opacity-50 group items-center`,ei=re(Fe)`border dark:border-white/20 min-h-0 hover:bg-gray-500/10 h-10 rounded-lg border-[rgba(0,0,0,0.1)]`,Ye=re.div`h-px bg-token-border-light my-1.5`,ti=re(Fe)`${e=>e.$active?"bg-token-sidebar-surface-secondary":"hover:bg-token-sidebar-surface-secondary"}`,pl=ve(()=>be(()=>import("./c60qtnv0hrg5k45l.js"),__vite__mapDeps([34,1,2,3,5,6,35,36,37,38,15,20])));function si({onClickSettings:e}){const s=je();return t.jsxs(he,{as:"div",className:P(!s&&"group relative"),children:[t.jsx(yl,{}),t.jsx(gl,{children:t.jsx(he.Items,{className:P("popover absolute bottom-full z-50 mb-1 overflow-hidden rounded-lg border border-token-border-light bg-token-main-surface-primary p-1.5 shadow-lg outline-none",s&&"left-3 w-[var(--screen-sidebar-popover-min-width)]",!s&&"left-0 w-full"),children:t.jsx(bl,{onClickSettings:e})})})]})}function ks(){const e=!le()?.isEnterprisey(),s=q(),n=ot(),a=et();return n?t.jsxs("div",{className:"flex items-center justify-between gap-2 py-2 pl-5 pr-4",children:[t.jsx("div",{className:"text-sm text-token-text-secondary",children:n?.email}),e&&t.jsx(X,{label:s.formatMessage(ee.addWorkspaceTooltip),side:"right",children:t.jsx("button",{onClick:()=>ls(a,"profile menu"),children:t.jsx(Mo,{className:"icon-sm text-token-text-primary"})})})]}):null}function hl(){const e=le();return e==null?t.jsx(t.Fragment,{children:t.jsx("div",{className:"w-full px-3 py-2",children:t.jsx(Me,{})})}):t.jsxs(t.Fragment,{children:[t.jsx(ks,{}),t.jsx("div",{className:"flex h-11 w-full items-center justify-start gap-3 px-3 py-1 text-sm",children:t.jsx(ws,{workspace:e,isLoading:!1,currentWorkspaceId:e.id,showCheck:!1})})]})}function Ms({menuItemComponent:e}){const s=at(),n=At(),{data:a}=Ae(),o=le(),[r,i]=u.useState(!1),l=ot(),d=q(),f=Rt();if(!o||!a)return null;const g=o.isWorkspaceAccount(),b=a.accountItems.length>1,c=a.accountItems,m=Ra([c.find(h=>h.isPersonalAccount()),...c.filter(h=>!h.isPersonalAccount())]);if(m.sort((h,v)=>h.isPersonalAccount()?1:v.isPersonalAccount()?-1:0),!b)return g?t.jsx(hl,{}):t.jsx(t.Fragment,{children:t.jsx("div",{className:"ml-3 mr-2 py-2 text-sm text-token-text-secondary",children:l?.email})});const p=m.map(h=>t.jsx(e,{disabled:h.isDeactivated(),onClick:()=>{if(h.isDeactivated()||h.id===o?.id)return;i(!0);const{willRedirect:v}=Hs(n,h.id,s,d,f);v||Vs()},className:"radix-disabled:pointer-events-auto radix-disabled:hover:bg-transparent",children:h.isDeactivated()?t.jsx(vl,{workspace:h,isLoading:r}):t.jsx(ws,{workspace:h,isLoading:r,currentWorkspaceId:o?.id})},h.id));return t.jsxs(t.Fragment,{children:[t.jsx(ks,{}),t.jsx(A.Separator,{}),p]})}function ws({workspace:e,isLoading:s,currentWorkspaceId:n,showCheck:a=!0}){const o=e.canAccessWithCurrentSession,r=!s&&a&&e.id===n;return t.jsxs("div",{children:[t.jsxs("div",{className:"flex w-full items-center gap-2.5",children:[t.jsx("span",{className:"flex h-5 w-5 items-center justify-center",children:t.jsx(rt,{iconSize:"small",workspace:e,className:P({"flex-shrink-0":!0})})}),t.jsx("div",{className:"line-clamp-1 text-token-text-primary",children:es(q(),e)}),s&&t.jsx(Me,{}),r&&t.jsx("span",{className:"text-token-text-primary",children:t.jsx(yo,{className:"icon-sm"})}),!o&&t.jsx("span",{className:"text-token-text-primary",children:t.jsx(jo,{className:"icon-sm"})})]}),!o&&t.jsx("div",{className:"rowDivClassName",children:t.jsx("small",{className:"text-token-text-secondary",children:t.jsx(T,{...e.ssoConnectionName?ee.authenticateWithSSOToAccessWorkspace:ee.authenticateWithoutSSOToAccessWorkspace})})})]})}function vl({workspace:e,isLoading:s}){const n=q(),a=e.isOwnerOfAccount(),[o,r]=u.useState(!1),i=Ro(e.id);return u.useEffect(()=>{i!=null&&o&&(J.setPurchaseWorkspaceData({minimumSeats:Math.max(i,yt),existingAccount:e}),r(!1))},[i,o,e]),t.jsxs(t.Fragment,{children:[t.jsxs(X,{className:"flex w-full flex-1 items-center gap-2.5",label:n.formatMessage(ee.disabledWorkspaceTooltip),sideOffset:20,side:"right",children:[t.jsx("span",{className:"flex h-5 w-5 items-center justify-center",children:t.jsx(So,{className:"icon-sm flex-shrink-0 opacity-30"})}),t.jsx("div",{className:"truncate opacity-30",children:es(n,e)})]}),s&&t.jsx(Me,{}),!s&&t.jsxs(A.Root,{children:[t.jsx(A.Trigger,{className:"rounded text-center hover:bg-token-main-surface-secondary",children:t.jsx(Co,{className:"icon-sm m-1"})}),t.jsx(A.Portal,{children:t.jsxs(A.Content,{children:[a&&t.jsx(t.Fragment,{children:t.jsx(A.Item,{onClick:()=>{i==null?r(!0):J.setPurchaseWorkspaceData({minimumSeats:Math.max(i,yt),existingAccount:e})},children:o?t.jsx(Me,{}):t.jsx(T,{id:"navigation.reactivateWorkspace",defaultMessage:"Reactivate workspace"})})}),t.jsx(A.Item,{onClick:()=>{J.setLeaveWorkspaceData(e)},children:t.jsx(T,{id:"navigation.leaveWorkspace",defaultMessage:"Leave workspace"})})]})})]})]})}function bl({onClickSettings:e}){const{data:s}=Ae(),n=le(),a=ts(),o=ss(),{openModal:r}=ns(),i=Pt("3905879930");var l=n?.isTeam()??!1,d=!1;if(l&&(d=i.config.get("enabled",!1)),!n||!s)return null;const f=n.isWorkspaceAccount(),g=!a;return t.jsxs("nav",{children:[t.jsx(Ms,{menuItemComponent:se}),t.jsx(Ye,{}),f?t.jsx(os,{menuItemComponent:se,routedMenuItemComponent:xl}):t.jsx(as,{menuItemComponent:se}),g&&t.jsx(se,{href:Pa(),target:"_blank",onClick:()=>{H.logEvent(V.clickFaqLink)},icon:ko,children:t.jsx(T,{...ee.helpAndFaq})}),t.jsx(se,{onClick:e,icon:ms,testId:"accounts-settings-button",children:t.jsx(T,{...ee.settings})}),l&&d&&t.jsxs(t.Fragment,{children:[t.jsx(se,{onClick:()=>{J.openModal(rs.InviteUsersToWorkspace),H.logEvent(V.accountMemberInviteButton,{location:"dropdown-menu-click"}),we.logEvent("chatgpt_invite_users_to_workspace",0,{action:"OpenAdminInviteModal",location:"dropdown-menu-click",text:"AddTeammates",step:"OpenModal"})},icon:fs,children:t.jsx(T,{...ee.addTeammatesButton})}),t.jsx(pl,{workspace:n})]}),o&&t.jsx(jl,{openDownloadModal:r}),t.jsx(Ye,{}),t.jsx(se,{onClick:()=>{H.logEvent(V.clickLogOut,{eventSource:"mouse"}),Dt()},icon:gs,children:t.jsx(T,{...ee.logOut})})]})}function yl(){return ot()?t.jsx(Sl,{}):null}function jl({openDownloadModal:e}){return t.jsxs("span",{children:[t.jsx(Ye,{}),t.jsx(se,{icon:xs,onClick:()=>{H.logEvent(V.accountMenuClickDownloadApp),e()},children:t.jsx(T,{...ee.downloadApp})})]})}function Sl(){const{data:e}=Ae(),s=le(),n=Da(),a=Fa(),o=je();if(!s||!e)return null;const r=s.isWorkspaceAccount(),i=e.accountItems.length>1;return t.jsxs(he.Button,{className:P("flex w-full max-w-[100%] items-center gap-2 rounded-lg text-sm group-ui-open:bg-token-sidebar-surface-secondary",o&&"px-2 py-1.5 hover:bg-token-main-surface-secondary",!o&&"p-2 hover:bg-token-sidebar-surface-secondary"),"data-testid":"accounts-profile-button",children:[t.jsx("div",{className:"flex-shrink-0",style:{viewTransitionName:"var(--vt-profile-avatar-sidebar)"},children:t.jsx(rt,{iconSize:"gizmo"})}),t.jsxs("div",{className:"relative -top-px grow -space-y-px truncate text-start text-token-text-primary",children:[t.jsx("div",{dir:"auto",children:a}),r||i?t.jsx("div",{className:"truncate text-xs text-token-text-secondary",dir:"auto",children:n}):null]})]})}const ee=_e({helpAndFaq:{id:"navigation.helpAndFaq",defaultMessage:"Help & FAQ"},settings:{id:"navigation.settings",defaultMessage:"Settings"},logOut:{id:"navigation.logOut",defaultMessage:"Log out"},accountSwitcherTitle:{id:"navigation.accountSwitcherTitle",defaultMessage:"Workspaces"},defaultWorkspaceTitle:{id:"useWorkspaces.defaultWorkspaceTitle",defaultMessage:"Untitled Workspace"},addWorkspaceTooltip:{id:"navigation.addWorkspaceTooltip",defaultMessage:"Create a Team workspace"},disabledWorkspaceTooltip:{id:"navigation.disabledWorkspaceTooltip",defaultMessage:"This workspace has been deactivated"},downloadApp:{id:"navigation.downloadMacApp",defaultMessage:"Download the macOS app"},authenticateWithSSOToAccessWorkspace:{id:"CV7pdM",defaultMessage:"Authenticate with SSO to access this workspace"},authenticateWithoutSSOToAccessWorkspace:{id:"zfCWFh",defaultMessage:"Authenticate without SSO to access this workspace"},addTeammatesButton:{id:"inviteMemberButton.inviteMemberButton",defaultMessage:"Add Teammates"}}),Cl=["Not relevant","Out of date","Content is wrong"],kl=["Relevant","Up to date","Accurate"];function Ml({citationMetadata:e,noBottomBorder:s=!1,sourceFeedback:n,setSourceFeedback:a}){const[o,r]=u.useMemo(()=>{if(e.type!=="file")return["",""];const f=e.name.split(".");return f.length>1?[f.slice(0,-1).join("."),f[f.length-1]]:[e.name,""]},[e]),i=u.useMemo(()=>is(Ft.GDRIVE,r),[r]),l=u.useMemo(()=>{if(e.type==="file"&&e.extra?.cloud_doc_url)try{return new URL(e.extra.cloud_doc_url).hostname}catch{return}},[e]),d=u.useCallback(f=>{a({rating:f,tags:[]})},[a]);return e.type!=="file"?null:t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex flex-row items-center justify-between py-2",children:[t.jsxs("div",{className:"max-width-full mr-2 flex grow flex-row items-center overflow-hidden",children:[t.jsx(i,{className:"mr-2 flex-shrink-0 flex-grow-0"}),t.jsx("a",{href:e.extra?.cloud_doc_url,className:"text-token-primary flex-grow-1 flex-shrink-1 overflow-hidden text-ellipsis whitespace-nowrap text-sm",target:"_blank",rel:"noreferrer",children:o}),l&&t.jsx("div",{className:"ml-2 text-sm text-token-text-secondary",children:l})]}),t.jsxs("div",{className:"flex shrink-0 flex-row items-center",children:[t.jsx("button",{className:"rounded-md p-1 hover:bg-token-main-surface-secondary",children:n?.rating==="thumbsUp"?t.jsx(ps,{className:"icon-md-heavy text-token-text-primary",onClick:()=>d(void 0)}):t.jsx(wo,{className:"icon-md-heavy text-token-text-secondary",onClick:()=>d("thumbsUp")})}),t.jsx("button",{className:"rounded-md p-1 hover:bg-token-main-surface-secondary",children:n?.rating==="thumbsDown"?t.jsx(hs,{className:"icon-md-heavy text-token-text-primary",onClick:()=>d(void 0)}):t.jsx(Eo,{className:"icon-md-heavy text-token-text-secondary",onClick:()=>d("thumbsDown")})})]})]}),n?.rating&&t.jsx("div",{className:"mb-4 flex flex-row",children:(n.rating==="thumbsDown"?Cl:kl).map(f=>t.jsx(Do,{className:"mr-2",$selected:n.tags.includes(f),onClick:()=>a({...n,tags:n.tags.includes(f)?n.tags.filter(g=>g!==f):[...n.tags,f]}),children:f},f))}),!s&&t.jsx("div",{className:"w-full border-[0.5px] border-token-border-light"})]})}function wl({documentId:e,title:s,externalUrl:n,noBottomBorder:a=!1,shouldHaveBeenIncluded:o,setShouldHaveBeenIncluded:r}){const[i,l]=u.useMemo(()=>{const g=s.split(".");return g.length>1?[g.slice(0,-1).join("."),g[g.length-1]]:[s,""]},[s]),d=u.useMemo(()=>is(Ft.GDRIVE,l),[l]),f=u.useMemo(()=>{if(n)try{return new URL(n).hostname}catch{return}},[n]);return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex flex-row items-center justify-between py-2",children:[t.jsxs("div",{className:"max-width-full mr-2 flex grow flex-row items-center overflow-hidden",children:[t.jsx(d,{className:"mr-2 flex-shrink-0 flex-grow-0"}),t.jsx("a",{href:n,className:"text-token-primary flex-grow-1 flex-shrink-1 overflow-hidden text-ellipsis whitespace-nowrap text-sm",target:"_blank",rel:"noreferrer",children:i}),f&&t.jsx("div",{className:"ml-2 text-sm text-token-text-secondary",children:f})]}),t.jsx("div",{className:"flex shrink-0 flex-row items-center px-2",children:t.jsx(cs,{checked:o,onChange:g=>r?.(g.currentTarget.checked),id:`should-have-been-included-${e}`})})]}),!a&&t.jsx("div",{className:"w-full border-[0.5px] border-token-border-light"})]})}const El=["Not relevant","Missing sources","Inaccurate information","I don't like it","Don't like the style","Content is wrong","Model being lazy","Used the wrong tool","Should't have used Browser","Used an incorrect fact about me","Didn't follow instructions","Other"],Il=["Good sources","Answered my question","I like it","Other"],Tl="considered-source-should-have-been-used";function Nl({citations:e,rating:s,onSubmit:n,onCancel:a,messageId:o,conversationId:r,nodeId:i,conversationTree:l}){const d=q(),f=Rt(),[g,b]=u.useState(""),[c,m]=u.useState(()=>{const x={};for(const y of e)y.metadata?.type==="file"&&(x[y.metadata.id]={rating:void 0,tags:[],url:y.metadata.extra?.cloud_doc_url});return x}),p=u.useMemo(()=>{const x=new Set,y=[];for(const k of e)!k.metadata||k.metadata.type!=="file"||x.has(k.metadata.id)||(y.push(k.metadata),x.add(k.metadata.id));return y},[e]),[h,v]=u.useState(!0),j=u.useMemo(()=>{const x={hasQuery:!1,lastAssistantMessage:null,lastUserMessage:null,referencedSyncedFiles:[]};if(!l||!i||!l.containsNodeOrMessageId(i))return x;const y=Oa(l,{messageId:i,entireConversation:!0});for(const k of y.messages)switch(k.type){case"fetch":case"generic_file_search_tool":case"system":continue;case"result":{k.result.chunks.forEach(C=>{C.documentId&&C.documentId.startsWith("S")&&!x.referencedSyncedFiles.some(E=>E.fileId===C.documentId)&&!p.some(E=>E.type==="file"&&E.id===C.documentId)&&x.referencedSyncedFiles.push({fileId:C.documentId,title:C.title})});continue}case"query":{x.hasQuery=!0;continue}case"visible_text":{if(k.author===gt.User){if(!x.lastUserMessage){const C=l.getConversationTurns(k.id),E=C[C.length-1].messages,M=E[E.length-1];x.lastUserMessage=M}}else if(k.author===gt.Assistant&&!x.lastAssistantMessage){const C=l.getConversationTurns(k.id),E=C[C.length-1].messages,M=E[E.length-1];x.lastAssistantMessage=M,x.lastUserMessage=null}continue}}return x},[l,p,i]),w=u.useCallback(async x=>{const y={...x,additionalSources:g,sourcesFeedback:c,consentedToShareConvoLink:h};Ot.submitCaMessageFeedback({feedback_format:Ze.ALPHA,message_id:o,conversation_id:r,text:y.textFeedback,rating:s,tags:y.tags,tag_choices:y.tagChoices,additional_sources:y.additionalSources,sources_feedback:y.sourcesFeedback,consented_to_share_convo_link:y.consentedToShareConvoLink}),f.success("Thanks for providing feedback!"),n?.(y)},[g,c,h,o,r,s,f,n]);return t.jsxs(Fo,{multiple:!0,allowEmptySubmit:!0,onSubmit:w,onCancel:a,tagOptions:(s==="thumbsDown"?El:Il).map(x=>({label:x,value:x})),modalOnly:!0,modalTitle:t.jsxs("div",{className:"flex items-center gap-2",children:[s==="thumbsDown"?t.jsx(hs,{className:"mb-[-6px]"}):t.jsx(ps,{className:"mb-[-6px]"}),t.jsx(T,{id:"h5nasL",defaultMessage:"Provide feedback"})]}),children:[p.length>0&&t.jsxs(t.Fragment,{children:[t.jsx("h3",{className:"mt-6 text-base font-semibold",children:t.jsx(T,{id:"G6+7UX",defaultMessage:"Sources"})}),t.jsx("div",{children:p.map((x,y)=>x?.type!=="file"?null:t.jsx(Ml,{citationMetadata:x,noBottomBorder:y===p.length-1,sourceFeedback:c[x.id],setSourceFeedback:k=>m(C=>({...C,[x.id]:{...k,url:x.extra?.cloud_doc_url}}))},x.id))})]}),j.referencedSyncedFiles.length>0&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"mt-6 flex items-baseline justify-between",children:[t.jsxs("div",{className:"flex-start flex",children:[t.jsx("h3",{className:"text-base font-semibold",children:t.jsx(T,{id:"xvBe/T",defaultMessage:"Considered Sources"})}),t.jsx("p",{className:"ml-2 text-token-text-secondary",children:t.jsx(T,{id:"nX81fN",defaultMessage:"({numSources} sources)",values:{numSources:j.referencedSyncedFiles.length}})})]}),t.jsx("p",{className:"text-sm text-token-text-tertiary",children:t.jsx(T,{id:"0+Uivl",defaultMessage:"Good Source?"})})]}),t.jsx("div",{className:"mt-2 max-h-[200px] overflow-auto",children:j.referencedSyncedFiles.map((x,y)=>{const k=x.fileId.split("--")[1];if(!k)return null;const C=`https://drive.google.com/file/d/${k}`;return t.jsx(wl,{title:x.title,documentId:x.fileId,externalUrl:C,noBottomBorder:y===j.referencedSyncedFiles.length-1,shouldHaveBeenIncluded:!!c[x.fileId],setShouldHaveBeenIncluded:E=>m(M=>{const I={...Object.fromEntries(Object.entries(M).filter(([_])=>_!==x.fileId))};return E&&(I[x.fileId]={tags:[Tl],rating:"thumbsUp",url:C}),I})},x.fileId)})})]}),t.jsxs("div",{className:"mt-6",children:[t.jsx("p",{className:"text-sm text-token-text-primary",children:t.jsx(T,{id:"1ApJVo",defaultMessage:"Add any additional sources"})}),t.jsx(Ba,{name:"feedback",className:"mt-2",placeholder:d.formatMessage({id:"CAFeedbackModal.additionalSourcePlaceholder",defaultMessage:"(Optional) Additional sources"}),value:g,onChange:x=>b(x.target.value)})]}),t.jsxs("div",{className:"mt-6",children:[t.jsx("h3",{className:"mb-2 text-base font-semibold",children:t.jsx(T,{id:"9NcQBu",defaultMessage:"Latest Exchange"})}),t.jsx("div",{className:"p-2",children:t.jsxs("div",{className:"mb-4",children:[j.lastUserMessage&&t.jsxs("div",{className:"mb-4",children:[t.jsx("p",{className:"mb-1 pl-4 text-xs text-token-text-secondary",children:t.jsx(T,{id:"QTWrtR",defaultMessage:"Your message"})}),t.jsx("div",{className:"flex justify-start",children:t.jsx("p",{className:"relative max-w-[70%] rounded-3xl bg-[#f4f4f4] px-5 py-2.5 dark:bg-token-main-surface-secondary",children:j.lastUserMessage?t.jsx(Ct,{message:j.lastUserMessage,isCompletionInProgress:!1,clientThreadId:r,isUserTurn:!1,turnIndex:0,isFeedbackEnabled:!1,showEditButton:!1,onEnterEdit:()=>null,onRequestMoreCompletions:()=>null}):null})})]}),t.jsxs("div",{className:"mb-2",children:[t.jsx("p",{className:"mb-1 pl-4 text-xs text-token-text-secondary",children:t.jsx(T,{id:"ZCTm4h",defaultMessage:"ChatGPT's response"})}),t.jsx("div",{className:"relative rounded-lg bg-token-main-surface-secondary p-4 text-sm",children:j.lastAssistantMessage?t.jsx(Ct,{message:j.lastAssistantMessage,isCompletionInProgress:!1,clientThreadId:r,isUserTurn:!1,turnIndex:1,isFeedbackEnabled:!1,showEditButton:!1,onEnterEdit:()=>null,onRequestMoreCompletions:()=>null}):null})]})]})}),t.jsxs("div",{className:"mt-4",children:[t.jsx("h3",{className:"mt-6 text-base font-semibold",children:t.jsx(T,{id:"c95uEW",defaultMessage:"Full conversation"})}),t.jsx("p",{className:"mb-2 mt-1 text-sm text-token-text-secondary",children:t.jsx(T,{id:"3E3ZSm",defaultMessage:"If previous portions of this conversation are important to understand your feedback, we encourage you to include it."})}),t.jsx(cs,{id:"consented-to-share-entire-convo",label:d.formatMessage({id:"5CC8r8",defaultMessage:"Share Entire Conversation"}),checked:h,onChange:x=>{v(x.currentTarget.checked)}})]})]})]})}const _l=ve(()=>be(()=>import("./sso-bjwip24cfpjix9zk.js").then(e=>e.C),__vite__mapDeps([39,1,2,3,5,6,21,8,40,20,28,41,42,43,44,45,46,47,18,48,29,27,22,49,50,51,52,53,54,37,38,15,55,56,57,58,59,60,61,62,63,64,65])).then(e=>e.CADogfoodingFeedbackModal).catch(()=>()=>null));function Al(e){const s=La();if(!s)return null;switch(s){case Ze.ALPHA:return t.jsx(Nl,{...e});case Ze.DOGFOODING:return t.jsx(_l,{...e})}}function Rl({clientThreadId:e,currentModelId:s,defaultModelId:n,onCompletionFinished:a,onThreadCreated:o,preRequestCompletion:r}){const i=Wa(),l=at(),{isUnauthenticated:d}=tt(),f=$a(e),g=At(),b=Ua(e),c=le(),m=Ha(e),p=Va(),h=Bt(),{config:v}=qs("1013114931"),j=v.get("show_follow_ups",!1)&&c?.isPersonalAccount(),w=!p.displayingSideBySideFeedback&&j,x=u.useCallback(N=>{const D=Z.getTree(e).getLeafFromNode(N);Z.setThreadCurrentLeafId(e,D.id)},[e]),y=qa(s),[k,C]=u.useState(),E=u.useCallback(({nodeId:N,messageId:O,rating:D})=>{const F=Z.getServerThreadId(e);H.logEvent(V.thumbRating,{id:O,threadId:F,rating:D,model:s});const S=Z.getTree(e),K=S.getNodeByIdOrMessageId(N);if(F!==void 0&&!y&&Ot.submitMessageFeedback({message_id:O,conversation_id:F,rating:D}),Z.updateTree(e,W=>{W.updateNodeMetadata(N,{rating:D})}),y){C(t.jsx(Al,{citations:K.message.metadata?.citations??[],rating:D,conversationId:F??"",messageId:O,onSubmit:()=>{C(void 0)},onCancel:()=>C(void 0),conversationTree:S,nodeId:N},`${N}-${D}`));return}},[e,s,y]),M=u.useCallback(N=>{if(N==null||(a?.(N),h)||(b?.kind===Gs.GizmoInteraction&&Ga.handleGizmoInteracted(g,b.gizmo_id),!(m||w)))return;const D=Z.getThreadCurrentLeafId(N),F=Z.getTree(N).getMessage(D);za(F)||Qa(F)||Ka(N,F.id,s)},[b,s,a,g,m,w,h]),I=Xa({clientThreadId:e,continuingFromSharedConversationId:f,onCompletionFinished:M,onCreate:o}),_=u.useCallback(()=>{const N=Z.getThreadCurrentLeafId(e);if(N==null)return;const D=Z.getTree(e).getBranchFromLeaf(N);Za.abortRequests(D.map(F=>F.id))},[e]),R=u.useCallback(N=>Ja({cancelRequests:_,clientThreadId:e,currentModelId:s,debugSettings:i,defaultModelId:n,isUnauthenticated:d,navigateToAuth:l,preRequestCompletion:r,requestCompletion:I,...N}),[_,e,s,i,n,d,l,r,I]),Q=u.useCallback((N,O,D,F=!0,S="none",K)=>{const U=Z.getTree(e).getParentPromptNode(N).id;R({type:zs.Variant,promptId:U,eventMetadata:O,cancelActiveRequests:!1,focusOnNewCompletion:F,useDefaultModel:K,completionMetadata:{variantPurpose:S,conversationMode:Ya.getConversationMode(e)},turnTracker:D})},[e,R]);return{caModal:k,onRequestCompletion:R,onRequestMoreCompletions:Q,onChangeItemInView:x,onChangeRating:E,cancelRequests:_}}function Es(){return{caModal:null,clientThreadId:"",focusedObject:null,currentModelId:"",isModelLoaded:!1,isInstalledApp:!1,isCompanionWindow:!1,conversationLeafId:"",onNewThread:()=>{throw new Error("onNewThread not implemented")},onRequestCompletion:()=>{throw new Error("onRequestCompletion not implemented")},onChangeItemInView:()=>{throw new Error("onChangeItemInView not implemented")},onChangeRating:()=>{throw new Error("onChangeRating not implemented")},onRequestMoreCompletions:()=>{throw new Error("onRequestMoreCompletions not implemented")},resetThread:()=>{throw new Error("resetThread not implemented")}}}const Is=u.createContext(Es());function Pl(){try{return u.useContext(Is)}catch{return Es()}}function ni({children:e,clientThreadId:s,setClientThreadId:n,prefetchSearch:a}){const{createNewThread:o,onThreadCreated:r,resetThread:i}=eo({clientThreadId:s,setClientThreadId:n}),l=to(),d=so(s),f=no(s),g=l.id,b=d??g,c=Qs(),m=ao(),p=oo(),{caModal:h,onRequestCompletion:v,onChangeItemInView:j,onChangeRating:w,onRequestMoreCompletions:x}=Rl({clientThreadId:s,currentModelId:b,defaultModelId:l.id,onThreadCreated:r});return t.jsx(Is.Provider,{value:{caModal:h,clientThreadId:s,currentModelId:b,isModelLoaded:!!d,isInstalledApp:m,isCompanionWindow:c,focusedObject:p,conversationLeafId:f,onNewThread:o,onRequestCompletion:v,onChangeItemInView:j,onChangeRating:w,onRequestMoreCompletions:x,resetThread:i,prefetchSearch:a},children:e})}const Dl=ve(()=>be(()=>import("./c60qtnv0hrg5k45l.js"),__vite__mapDeps([34,1,2,3,5,6,35,36,37,38,15,20])));function ai({showShareButton:e,showProfileDropdown:s,clientThreadId:n}){const a=fo(n),o=q(),r=qt(),{layer:i}=Ee("1547743984");go(n);const{onNewThread:l}=Pl(),d=i.get("show_share_button_text",!1),f=o.formatMessage({id:"GizmoInformation.shareChat",defaultMessage:"Share"}),g=je(),b=()=>J.openSharingModal(a),c=!1,m=o.formatMessage({id:"TO+loE",defaultMessage:"New Chat"});return t.jsxs(t.Fragment,{children:[!1,r&&t.jsx(gr,{}),!1,e&&a&&t.jsx(jt,{clientThreadId:n,children:d?t.jsx(Ke,{onClick:b,icon:qe,label:f,"data-testid":"share-chat-button",color:"secondary",className:"text-token-text-primary",style:{display:"var(--screen-size-hidden-on-compact-mode)",viewTransitionName:"var(--vt_share_chat_wide_button)"},children:f}):t.jsx(X,{label:o.formatMessage({id:"CPEfES",defaultMessage:"Share chat"}),children:t.jsx(ye,{"data-testid":"share-chat-button",onClick:()=>J.openSharingModal(a),icon:qe,style:{viewTransitionName:"var(--vt_share_chat_compact_button)"}})})}),g&&e&&a&&t.jsx(jt,{clientThreadId:n,children:t.jsx(X,{label:f,children:t.jsx(St,{style:{display:"var(--screen-size-hidden-on-wide-mode)",viewTransitionName:"var(--vt_share_chat_compact_button)"},onClick:b,icon:t.jsx(qe,{}),label:f})})}),g&&!c&&t.jsx(X,{label:m,children:t.jsx("div",{style:{display:"var(--sidebar_is_open_and_pinned, none)"},children:t.jsx(St,{className:Ys.sidebarIcon,icon:t.jsx(vs,{}),onClick:()=>l(),label:m,style:{display:"var(--screen-size-hidden-on-wide-mode)"}})})}),s&&t.jsx(Ol,{clientThreadId:n})]})}function Fl({to:e,children:s,icon:n}){const a=et();return t.jsx(A.Item,{icon:n,onSelect:()=>a(e),children:s})}function Ol({clientThreadId:e}){const{isUnauthenticated:s}=tt();return s?t.jsx(ql,{}):t.jsx(Bl,{clientThreadId:e})}function Bl({clientThreadId:e}){const{data:s}=Ae(),n=le(),a=n?.isPlus()??!1,o=n?.isWorkspaceAccount()??!1,{openSettings:r}=ro(),i=ss(),l=$l(e??"none"),{openModal:d}=ns(),f=je(),{layer:g}=Ee("2888142241"),b=Pt("3905879930"),c=q();var m=n?.isTeam()??!1,p=!1;m&&(p=b.config.get("enabled",!1));const{doesUserHaveAnyAccountsWithPlusFeatures:h}=Ks(),{layer:v}=Ee("2670443078");if(!n||!s)return null;const j=s.accountItems.length>1;let w=a;!o&&!a&&h&&v.get("is_gating_fix_enabled",!1)&&(w=h);const x=!o&&!w&&g.get("is_upgrade_in_settings",!1);return t.jsxs(Ao,{contentClassName:P(f&&"max-w-[256px] min-w-[256px] w-[256px]"),triggerButton:t.jsx("button",{onClick:()=>{H.logEvent(V.accountOpenProfileMenu),we.logEvent("chatgpt_account_open_profile_menu")},"aria-label":c.formatMessage({id:"wz2MQV",defaultMessage:"Open Profile Menu"}),"data-testid":"profile-button",className:"flex h-10 w-10 items-center justify-center rounded-full hover:bg-token-main-surface-secondary focus-visible:bg-token-main-surface-secondary focus-visible:outline-0",style:f?{display:"var(--screen-size-hidden-on-compact-mode, flex)"}:void 0,children:t.jsx(rt,{iconSize:"medium"})}),children:[j&&t.jsx(Ms,{menuItemComponent:A.Item}),j?t.jsx(A.Separator,{}):null,o?t.jsx(os,{menuItemComponent:A.Item,routedMenuItemComponent:Fl}):t.jsx(as,{menuItemComponent:A.Item}),t.jsx(A.Item,{icon:ms,onClick:()=>r(),"data-testid":"settings-menu-item",children:t.jsx(T,{defaultMessage:"Settings",id:"navigation.settings.0"})}),t.jsx(A.Separator,{}),m&&p&&t.jsxs(t.Fragment,{children:[t.jsx(A.Item,{"data-testid":"settings-menu-item-invite-teammates",onClick:()=>{J.openModal(rs.InviteUsersToWorkspace),H.logEvent(V.accountMemberInviteButton,{eventSource:"mouse",location:"profile_drop_down"}),we.logEvent("chatgpt_invite_users_to_workspace",0,{action:"OpenAdminInviteModal",location:"dropdown-menu-click",text:"AddTeammates",step:"OpenModal"})},icon:fs,children:t.jsx(T,{...Ts.addTeammatesButton})}),t.jsx(Dl,{workspace:n})]}),i&&t.jsx(Wl,{openDownloadModal:d}),x&&t.jsx(Hl,{}),l&&t.jsx(Ul,{}),(x||i||l)&&t.jsx(A.Separator,{}),t.jsx(A.Item,{onClick:()=>{H.logEvent(V.clickLogOut,{eventSource:"mouse"}),H.logLogOutButtonClicked({location:"profile_drop_down"}),Dt()},"data-testid":"log-out-menu-item",icon:gs,children:t.jsx(T,{defaultMessage:"Log out",id:"navigation.logOut.0"})})]})}function Ll({onClick:e,className:s,testId:n}){const a=q(),o=Bt(),r=o?a.formatMessage({id:"yqd/J5",defaultMessage:"Clear chat"}):a.formatMessage({id:"OFyxqj",defaultMessage:"New chat"});return t.jsx(X,{sideOffset:4,label:r,className:P("flex",s),children:t.jsx(ye,{onClick:()=>{J.closePopoverNavSidebar(),e()},icon:o?_o:vs,surfaceContext:"secondary","aria-label":r,"data-testid":n})})}function oi({clientThreadId:e}){const[s]=us(o=>[o.activeStageSidebar]),n=ds(),a=xo({clientThreadId:e,location:"Navigation actions"});return!n&&!s?null:t.jsxs("div",{className:"flex items-center",children:[t.jsx(Vl,{}),t.jsx(Ll,{onClick:a})]})}function Wl({openDownloadModal:e}){return t.jsx("span",{children:t.jsx(A.Item,{icon:xs,onClick:()=>{e(),H.logEvent(V.accountMenuClickDownloadApp)},children:t.jsx(T,{id:"navigation.downloadMacApp",defaultMessage:"Download the macOS app"})})})}const $l=e=>{const{value:s}=Xs("2634628831"),n=Zs(()=>document.documentElement.dataset.searchExtension==="1"),a=lo(e,Js.Search);return!n&&a&&io()&&s},Ul=()=>t.jsx("span",{children:t.jsx(A.Item,{icon:Io,onClick:()=>{window.open(co),H.logEventWithStatsig(V.chatgptBrowserExtensionUserMenuClicked,"chatgpt_browser_extension_user_menu_clicked")},children:t.jsx(T,{id:"E5VPz/",defaultMessage:"Get ChatGPT search extension"})})});function Hl(){const e=et(),n=le()?.wasPaidCustomer()??!1,a=()=>{we.logEvent("chatgpt_plus_upgrade_in_settings_menu_clicked"),H.logEvent(V.plusUpgradeInSettingsMenuClicked),ls(e,"Upper right settings menu")};return t.jsx(A.Item,{icon:To,onClick:a,children:n?t.jsx(T,{id:"navigation.renewPlus",defaultMessage:"Renew Plus"}):t.jsx(T,{id:"navigation.upgradePlan",defaultMessage:"Upgrade Plan"})})}function Vl(){const e=q(),[s]=us(r=>[r.activeStageSidebar]),n=ds(),a=ts(),{isUnauthenticated:o}=tt();return!s&&!n||!a||o?null:t.jsx(X,{label:e.formatMessage({id:"cElEQV",defaultMessage:"Open sidebar"}),className:"flex",children:t.jsx(ye,{"aria-label":e.formatMessage({id:"pV/Etp",defaultMessage:"Open sidebar"}),onClick:J.toggleNavSidebar,icon:No,surfaceContext:"primary"})})}function ql(){const e=at(),s=uo(),n=mo(Ts.signUpCta),{layer:a}=Ee("3637408529"),o=a.get("is_desktop_primary_auth_button_on_right",!1),r=()=>{e({authType:"login",callback:g=>{H.logLogInButtonClicked({location:"Chat header",provider:g})}})},i=()=>{e({authType:"signup",callback:g=>{H.logSignUpButtonClicked({location:"Chat header",provider:g})}})},l=t.jsx(Ke,{onClick:r,color:s?"primary":"secondary",size:"small","data-testid":"login-button",children:t.jsx(T,{id:"B1SN7b",defaultMessage:"Log in"})},"login"),d=t.jsx(Ke,{color:s?"secondary":"primary",onClick:i,size:"small","data-testid":"signup-button",children:t.jsx(T,{...n})},"signup"),f=s?[l,d]:[d,l];return t.jsx("div",{className:"flex items-center justify-center gap-2",children:o?f.reverse():f})}const Ts=_e({signUpCta:{id:"P6cySK",defaultMessage:"Sign up"},addTeammatesButton:{id:"inviteMemberButton.inviteMemberButton",defaultMessage:"Add Teammates"}});export{Xo as A,Ml as C,bs as D,Vl as E,Bo as L,Br as M,Ll as N,Oo as O,Bl as P,Or as R,dr as T,ti as U,gl as a,Fr as b,ni as c,Fe as d,Is as e,or as f,Ct as g,ei as h,si as i,de as j,Ol as k,Jo as l,ar as m,ai as n,oi as o,Rl as p,Pl as u,Rr as x,Pr as y};
//# sourceMappingURL=b5gltvjzlc9evdvr.js.map
