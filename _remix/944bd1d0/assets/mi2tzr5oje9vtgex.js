import{dZ as c,d_ as p,r as i,aQ as l,d$ as d,ba as h,j as u,bQ as b}from"./in7dip9jd052wfku.js";import{T as E}from"./c0iirbrdp77yfalm.js";import{n as f}from"./jcu2a53eocfrkw7z.js";import{l as v}from"./jzk6rnaxlh9mg40v.js";import"./kzsmtp7fxxv1xp93.js";import"./mtxjf02tkq7k5viu.js";import"./hclnq916jc5jz97n.js";import"./fxkewxci7yz2a46h.js";import"./gr0gzu1e7tf3pfo5.js";import"./e60bx5m3fgrnp7m8.js";import"./kh8btf8cg8yyrokh.js";import"./hl4ci9ofqkpntyik.js";import"./h43i4mjk1yhtr4do.js";import"./dl252isj7oci0zzx.js";import"./1cukvp5ie8shy7wg.js";import"./fyr7vkqhxmyv2fse.js";import"./eee2gx83eywoamy0.js";import"./on3ggizkxeoiube6.js";import"./3qn82ow3uy8upfk9.js";import"./dyccf8iklrtn6o33.js";import"./o2day4o7036e5d8e.js";import"./lv9i01ritkrf6qli.js";import"./nmxkbfbxv5aho1gz.js";import"./kydz3lvptjooxn8n.js";import"./nmecn2iqfvn31fl5.js";import"./lz2s4le88cpifwlp.js";import"./latget33c6ripn7f.js";import"./fyvaj3xna6b9asf6.js";import"./l3r166cv49mcthx9.js";import"./oickswvpn6lineaa.js";import"./egdzsh6d0m8cw7ec.js";import"./jnjebj1zels12e6l.js";import"./nzztuzrd8mw4yg8v.js";import"./m4vr72rovrt5vqj0.js";let s=!1;function rt(){var e;(e=c)==null||e.registerObserver(p)}function ot(){const[e,a]=i.useState(null),{value:m}=l("3653083604");return i.useEffect(()=>{if(!m||s||typeof window>"u")return;const t=window.open("about:blank",d);if(!t)throw new Error("ChatBar: window.open() did not create a window");t.document.documentElement.setAttribute("dir","ltr"),s=!0,document.head.querySelectorAll("link, style").forEach(r=>{t.document.head.appendChild(r.cloneNode(!0))}),new MutationObserver(r=>{r.forEach(o=>{o.type==="childList"&&o.addedNodes.forEach(n=>{(n instanceof HTMLLinkElement||n instanceof HTMLStyleElement)&&t.document.head.appendChild(n.cloneNode(!0))})})}).observe(document.head,{childList:!0}),t.document.documentElement.setAttribute("style",document.documentElement.getAttribute("style")??""),t.document.documentElement.setAttribute("class",document.documentElement.getAttribute("class")??""),new MutationObserver(r=>{r.forEach(o=>{o.type==="attributes"&&o.attributeName!=null&&t.document.documentElement.setAttribute(o.attributeName,document.documentElement.getAttribute(o.attributeName)??"")})}).observe(document.documentElement,{attributes:!0}),a(t.document.body.appendChild(t.document.createElement("div"))),t.addEventListener("unload",r=>{t.close()}),t.addEventListener("focus",()=>{var r;(r=t.document.getElementById("prompt-textarea"))==null||r.focus()})},[m]),e&&h.createPortal(u.jsx(w,{}),e,d)}function w(){const[e,a]=i.useState(()=>v());return f(e,{kind:b.PrimaryAssistant}),u.jsx(E,{clientThreadId:e,hideHeader:!0,hideFooter:!0,renderEmptyState:!1},e)}export{ot as DesktopChatBar,rt as initDesktop};
//# sourceMappingURL=mi2tzr5oje9vtgex.js.map
