import{b4 as r}from"./g3zxt2mfvuei9piv.js";import{T as l}from"./hzasuzxvzvyrjf2o.js";import{ak as h,P as m,A as p,a4 as i}from"./d63lrq7vlweafxz1.js";const y=e=>{switch(e.type){case r.Reply:return e.text;case r.Starter:case r.Autocomplete:return e.prompt}},v=e=>e.type===r.Reply,S=e=>e.type===r.Starter,n=e=>e.type===r.Autocomplete,_=e=>n(e)&&!!e.theme,s=(e,a,d,c)=>{switch(h.logEvent("chatgpt_prompt_use_suggestion",n(e)&&!_(e)?"":y(e),{id:S(e)||_(e)?e.id??"":"",index:`${a}`,type:e.type}),e.type){case r.Reply:m.logEvent(p.useSuggestedReply,{value:y(e),prompt_type:r.Reply,messageId:c});break;case r.Starter:m.logEvent(p.useStarterPrompt,{value:y(e),prompt_type:r.Starter,title:e.title,body:e.body,id:e.id,category:e.category,client_thread_id:d,messageId:c,index:a,theme:e.theme});break;case r.Autocomplete:{const o=_(e);m.logEvent(p.useAutocomplete,{value:o?y(e):"",prompt_type:r.Autocomplete,title:o?e.title:"",body:o?e.body:"",id:o?e.id:"",category:e.category,index:a,messageId:c,client_thread_id:d,theme:e.theme??""});break}}},A=(e,a)=>{const d=l.getThreadCurrentLeafId(a),c=l.getTree(a).getMessageId(d);if(h.logEvent("chatgpt_prompt_show_suggestions",`count_${e.length}`,{type:e[0].type}),e.every(v))m.logEvent(p.showSuggestedReplies,{prompt_count:e.length,prompt_type:r.Reply,client_thread_id:a,suggestions:e.map(o=>o.text),message_id:c});else if(e.every(S)){const{isAdditional:o}=e[0];m.logEvent(o?p.moreStarterPromptsShown:p.showStarterPrompts,{prompt_count:e.length,prompt_type:r.Starter,titles:e.map(t=>t.title),bodies:e.map(t=>t.body),ids:e.map(t=>t.id),client_thread_id:a,message_id:c,themes:e.map(t=>t.theme??"")}),o&&m.logEvent(p.expandMoreStarterPrompts,{client_thread_id:a,message_id:c})}else if(e.every(n)){const o=!!e.find(t=>_(t));m.logEvent(p.showAutocompletePrompts,{prompt_count:e.length,prompt_type:r.Autocomplete,titles:e.map(t=>o?t.title:""),bodies:e.map(t=>o?t.body:""),ids:e.map(t=>o?t.id:""),client_thread_id:a,message_id:c,themes:e.map(t=>t.theme??"")})}else i.addError("Unhandled suggestion type",{type:e[0].type})},P=e=>{const a=l.getThreadCurrentLeafId(e),d=l.getTree(e).getMessageId(a);m.logEvent(p.showExpandMoreStarterPromptsButton,{client_thread_id:e,message_id:d})},w=e=>{const a=l.getThreadCurrentLeafId(e),d=l.getTree(e).getMessageId(a);m.logEvent(p.expandMoreStarterPrompts,{client_thread_id:e,message_id:d})};export{A as a,v as b,P as c,w as d,y as g,S as i,s as t};
//# sourceMappingURL=kshxul0ya814ewyl.js.map
