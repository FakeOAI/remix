const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/sso-dypvpp99ds9lhunj.js","assets/nkav6u5sgjh9k32o.js","assets/nk3ns16telurqv2s.js","assets/root-befw6dw0.css","assets/fvuv8t2jnmmokuz9.js","assets/conversation-small-c8xg50op.css","assets/fz1kd7qtrga6ohek.js","assets/n1qrfihyqo1d937u.js","assets/modnlcjxa99o7fdj.js","assets/dha2x2fzb3q3x33r.js","assets/nhwwej1nq0zrd7sc.js","assets/fg9yf0zrm4kh4g4j.js","assets/k309yhbjjxtzu5sy.js","assets/m5lg5n98cj0obuc4.js","assets/nkdpb84sj0t5lqnq.js","assets/nn9qoplyb7jz0hlz.js","assets/tz0vzalk94czn40w.js","assets/van4l4xc9kuswyp4.js","assets/c1dp657f8l24ezf5.js","assets/cwuhomq0i0r45ouk.js","assets/jtk42zoopw7aysx6.js","assets/l89whj9rc1rrsavy.js","assets/evdzombk82q3qygv.js","assets/dknq3w19d1xohuce.js","assets/bjtnyg2vr856qrgu.js","assets/i4v7yy58lrb4jmds.js","assets/smd1nut9r0oa3cgd.js","assets/igs79b6j25fqrrxx.js","assets/ebzifnge6vgrd3cf.js","assets/d0g8ptgc5gcqjwyj.js","assets/jk10xs25o7w0v75h.js","assets/bz2mvznt7wwj360s.js","assets/isjdmfmhzv09v01t.js","assets/ed0h3t3yf3nxsacw.js","assets/l1c2tudfmeklm41h.js","assets/m6rmz318v1qn13g6.js","assets/lyonz149h308fg1x.js","assets/olwboiwyo3xp6b7e.js","assets/dur2hwk8va4girb7.js","assets/b50sdoulg1swo701.js","assets/bxjz0ynjgdwd4eqk.js","assets/hubfkfpjg2n70vdn.js","assets/dhzlig2gbyngla57.js","assets/dddunxlkacdennqs.js","assets/e8ly273q3shfywzm.js","assets/bjqhg5wy1jm4n8h7.js","assets/jws96vszbydg6xlr.js","assets/mah3kmon4gc3vx3h.js","assets/jghbznbx8snjpdhv.js","assets/krl9otlnoogoybyu.js","assets/ggg75xeoq3xt98cn.js","assets/btzoabt8hfutcou1.js","assets/iex3p38u22heme9m.js","assets/kqwdyvkaaavvn8k3.js","assets/iito7y5c44gl1toc.js","assets/lho0em8w4r7cmrkn.js","assets/cffkwqz02xtjjgy6.js","assets/empyr9p2ly9nyrcd.js","assets/cbz1tq8g67zab376.js","assets/krh5hzyd9lr09jv3.js","assets/hd6t5rvjcwfet13r.js","assets/lft07egztuim55ci.js","assets/j409581n9sml35v9.js","assets/iej0cupg2dqkmejt.js","assets/mzhybj3cq8exspm7.js","assets/h09g8hg5w2r23p7n.js","assets/na8cqrsd81y9fsxv.js","assets/ln063wei5z3h4x09.js","assets/d1p1ukq1ad0lpjuk.js","assets/shared-mk6ngktc.css","assets/fj7h32ghg8gmrwhr.js","assets/sso-46pn026z.css"])))=>i.map(i=>d[i]);
import{j as a,c as _,bb as I,P as h,y as m,a1 as B,r as F,ax as O,bL as H,ap as $,am as V,E as W,ci as K,bZ as Q,bH as Z,eO as J,br as G,ae as X,I as Y}from"./nkav6u5sgjh9k32o.js";import{G as z}from"./cwuhomq0i0r45ouk.js";import{cA as U,f6 as k,f7 as ee,p as te,f8 as i,f9 as ae,U as se,bH as re,ae as oe,fa as ne,fb as le,cP as C,fc as ie,fd as ce,A as de,b0 as pe,cO as me,aw as ue}from"./fvuv8t2jnmmokuz9.js";import{z as xe,T as v,g as fe,r as he,i as ye,A as Se}from"./n1qrfihyqo1d937u.js";import{a as be}from"./dha2x2fzb3q3x33r.js";import{u as ve}from"./nkdpb84sj0t5lqnq.js";import{m as M}from"./modnlcjxa99o7fdj.js";import{G as P}from"./h09g8hg5w2r23p7n.js";function Be({clientThreadId:e,showInlineEmbeddedDisplay:r,isStaticSharedThread:s,children:n,withVerticalPadding:o,withHorizontalPadding:t}){const l=ee(),c=k(),u=te(w=>w.activeStageSidebar),p=t&&!s&&!l,d=t&&l&&!c,x=c&&t&&l,f=t&&(!x||!s||u)&&l,b=xe(e);return a.jsx("div",{className:_("text-base",o&&"py-[18px]",t&&!l&&"px-3 md:px-4",r&&!s?"ml-5":"m-auto",p&&"w-full md:px-5 lg:px-1 xl:px-5",d&&"md:px-5",f&&`w-full px-3 ${!b&&!u?"lg:px-0":""}`,x&&"md:px-0"),children:n})}function _e({children:e}){const r=U(),s=k();return a.jsx("div",{className:_("mx-auto flex flex-1 gap-4 text-base md:gap-5 lg:gap-6",s?"md:max-w-3xl":"md:max-w-3xl lg:max-w-[40rem] xl:max-w-[48rem]",r&&"-mx-4"),children:e})}function Oe({children:e}){const r=U(),s=k();return a.jsx("div",{className:_("mx-auto gap-4 text-base md:gap-5 lg:gap-6",s?"md:max-w-3xl":"md:max-w-3xl lg:max-w-[40rem] xl:max-w-[48rem]",r&&"-mx-4"),children:e})}const j=e=>{switch(e.type){case i.Reply:return e.text;case i.Starter:case i.Autocomplete:return e.prompt}},we=e=>e.type===i.Reply,D=e=>e.type===i.Starter,L=e=>e.type===i.Autocomplete,g=e=>L(e)&&!!e.theme,je=(e,r,s,n)=>{switch(I.logEvent("chatgpt_prompt_use_suggestion",L(e)&&!g(e)?"":j(e),{id:D(e)||g(e)?e.id??"":"",index:`${r}`,type:e.type}),e.type){case i.Reply:h.logEvent(m.useSuggestedReply,{value:j(e),prompt_type:i.Reply,messageId:n});break;case i.Starter:h.logEvent(m.useStarterPrompt,{value:j(e),prompt_type:i.Starter,title:e.title,body:e.body,id:e.id,category:e.category,client_thread_id:s,messageId:n,index:r,theme:e.theme});break;case i.Autocomplete:{const o=g(e);h.logEvent(m.useAutocomplete,{value:o?j(e):"",prompt_type:i.Autocomplete,title:o?e.title:"",body:o?e.body:"",id:o?e.id:"",category:e.category,index:r,messageId:n,client_thread_id:s,theme:e.theme??""});break}}},Ce=(e,r)=>{const s=v.getThreadCurrentLeafId(r),n=v.getTree(r).getMessageId(s);if(I.logEvent("chatgpt_prompt_show_suggestions",`count_${e.length}`,{type:e[0].type}),e.every(we))h.logEvent(m.showSuggestedReplies,{prompt_count:e.length,prompt_type:i.Reply,client_thread_id:r,suggestions:e.map(o=>o.text),message_id:n});else if(e.every(D)){const{isAdditional:o}=e[0];h.logEvent(o?m.moreStarterPromptsShown:m.showStarterPrompts,{prompt_count:e.length,prompt_type:i.Starter,titles:e.map(t=>t.title),bodies:e.map(t=>t.body),ids:e.map(t=>t.id),client_thread_id:r,message_id:n,themes:e.map(t=>t.theme??"")}),o&&h.logEvent(m.expandMoreStarterPrompts,{client_thread_id:r,message_id:n})}else if(e.every(L)){const o=!!e.find(t=>g(t));h.logEvent(m.showAutocompletePrompts,{prompt_count:e.length,prompt_type:i.Autocomplete,titles:e.map(t=>o?t.title:""),bodies:e.map(t=>o?t.body:""),ids:e.map(t=>o?t.id:""),client_thread_id:r,message_id:n,themes:e.map(t=>t.theme??"")})}else B.addError("Unhandled suggestion type",{type:e[0].type})},He=e=>{const r=v.getThreadCurrentLeafId(e),s=v.getTree(e).getMessageId(r);h.logEvent(m.showExpandMoreStarterPromptsButton,{client_thread_id:e,message_id:s})},$e=e=>{const r=v.getThreadCurrentLeafId(e),s=v.getTree(e).getMessageId(r);h.logEvent(m.expandMoreStarterPrompts,{client_thread_id:e,message_id:s})};function R(){const{store:e}=ae(),r=e.useSharedProps();return F.useCallback(async(s,n,o)=>{if(!r)return;const{clientThreadId:t,currentLeafId:l,onCreateNewCompletion:c,onResetState:u,conversationMode:p}=r;se.hideThreadHeader();const d=`${l}-nextPrompt`,x=new re;await c({promptId:d,content:j(s),eventMetadata:{eventSource:"mouse"},completionMetadata:{suggestions:n,conversationMode:p??fe.getConversationMode(t)},messageMetadata:{is_starter_prompt:!0,suggestion_type:s.type},turnTracker:x});const f=v.getTree(t).getMessageId(d);u(),je(s,o,t,f),oe()},[r])}function N(e){var r;return(r=C(e)?e.promptStarters:e.gizmo.display.prompt_starters)==null?void 0:r.map(s=>({type:i.Starter,title:"",body:s,prompt:s}))}function ge(e,r,s,n,o,t){const l=O(),c=he(r),u=ve((c==null?void 0:c.kind)===H.GizmoInteraction?c.gizmo_id:void 0).data,{gizmoEditorData:p,mode:d}=ne(),x=le(c),y=$(),f=e&&!x&&(n||!(y!=null&&y.isEnterprisey())),{data:b,isLoading:w,isSuccess:E,isError:q}=V({queryKey:["promptStarters",r,s,o,t],queryFn:()=>W.getSampledPromptStarter(s,o,t),enabled:f});return l==null?{promptStarters:[],isLoading:!0,isSuccess:!1}:d==="test"&&p?{promptStarters:N(p)??[],isLoading:!1,isSuccess:!0}:u!=null?{promptStarters:N(u),isLoading:!1,isSuccess:!0}:f?{promptStarters:(b==null?void 0:b.items.map(S=>({type:i.Starter,id:S.id,title:S.title,body:S.description,prompt:S.prompt,category:S.category,oneliner:S.oneliner,theme:S.theme,requires_file_upload:S.requires_file_upload})))??[],isLoading:w,isSuccess:E,isError:q}:{promptStarters:[],isLoading:!1,isSuccess:!0}}const Ee=K(()=>Q(()=>import("./sso-dypvpp99ds9lhunj.js").then(e=>e.a),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71])).then(e=>e.CaNewThreadSplash).catch(()=>()=>null));function Ve({clientThreadId:e}){const{isUnauthenticated:r}=Z(),s=!r,n=ye(e),o=Se(e),t=J(),l=G(),c=R(),u=be(e),p=ce(u),{promptStarters:d,isSuccess:x,isError:y}=ge(n&&!o,e,l?2:4),f=d&&(d==null?void 0:d.length)>0,b=x&&f&&s&&!p,{layer:w}=X("4031588851"),E=w.get("is_two_line",!1);return a.jsx(a.Fragment,{children:a.jsx(de,{children:(y||x)&&a.jsxs(a.Fragment,{children:[a.jsx(pe,{className:`h-12 w-12 ${s?"":"max-sm:hidden"}`}),b&&a.jsx(Ne,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},promptStarters:d,onSelectStarterPrompt:c,isSendBlocked:t,clientThreadId:e,isTwoLine:E}),!f&&s&&!p&&a.jsx(A,{}),p?a.jsx(Ee,{}):null,y&&s&&a.jsx(A,{})]})})})}function A(){return a.jsx("div",{className:"mt-7 text-3xl",children:a.jsx(Y,{id:"24tuqq",defaultMessage:"Hi, how can I help?"})})}function Ne({promptStarters:e,onSelectStarterPrompt:r,isSendBlocked:s,clientThreadId:n,isTwoLine:o,...t}){return F.useEffect(()=>{Ce(e,n)},[n]),a.jsx(a.Fragment,{children:o?a.jsx(M.div,{...t,className:"absolute bottom-6 w-full px-4",children:a.jsx(_e,{children:a.jsx(Le,{starterPrompts:e,onSelectStarterPrompt:r,disabled:s})})}):a.jsx(M.div,{...t,children:a.jsx(T,{starterPrompts:e,onSelectStarterPrompt:r,disabled:s})})})}const ke=/\s/;function T({starterPrompts:e,onSelectStarterPrompt:r,disabled:s}){let n=e.map((o,t)=>{let l=o.oneliner??o.title;l===""&&(l=o.body);const c=ke.test(l);return a.jsxs("button",{className:"relative flex w-40 flex-col gap-2 rounded-2xl border border-token-border-light px-3 pb-4 pt-3 text-start align-top text-[15px] shadow-xxs transition enabled:hover:bg-token-main-surface-secondary disabled:cursor-not-allowed",disabled:s,onClick:()=>r(o,e,t),children:[a.jsx(ie,{starterPrompt:o}),a.jsx("div",{className:_("line-clamp-3 max-w-full text-balance text-gray-600 dark:text-gray-500",c?"break-word":"break-all"),children:l})]},o.id??t)});if(n.length>2){const o=Math.floor(n.length/2);n=[n.slice(0,o),n.slice(o)].map((t,l)=>a.jsx("div",{className:"flex max-w-3xl flex-wrap items-stretch justify-center gap-4",children:t},l))}return a.jsx("div",{className:"mx-3 mt-12 flex max-w-3xl flex-wrap items-stretch justify-center gap-4",children:n})}function Le({starterPrompts:e,onSelectStarterPrompt:r,disabled:s}){let n=e.map((t,l)=>a.jsx("button",{className:"relative whitespace-nowrap rounded-2xl border border-token-border-light px-4 py-2 text-start align-top text-[15px] shadow-xxs transition enabled:hover:bg-token-main-surface-secondary disabled:cursor-not-allowed",disabled:s,onClick:()=>r(t,e,l),children:a.jsxs("div",{className:"flex flex-col overflow-hidden",children:[t.title&&a.jsx("div",{className:"truncate font-semibold",children:t.title}),a.jsx("div",{className:_("truncate font-normal",t.title?"opacity-50":""),children:t.body})]})},t.id??l));const o=Math.floor(n.length/2);return n=[n.slice(0,o),n.slice(o)].map((t,l)=>a.jsx("div",{className:"flex flex-col gap-2",children:t},l)),a.jsx("div",{className:"grid w-full grid-flow-row grid-cols-[repeat(auto-fit,minmax(250px,1fr))] gap-2",children:n})}function We({gizmo:e,hideOwner:r=!1,children:s,className:n,avatarClassName:o,showStarterPrompts:t=!1,disableStarterPrompts:l=!1}){return e==null?null:a.jsx(a.Fragment,{children:a.jsxs("div",{className:_("flex h-full flex-col items-center justify-center text-token-text-primary",n),children:[a.jsx(Me,{gizmo:e,avatarClassName:o}),a.jsx(Ae,{gizmo:e,hideOwner:r,showStarterPrompts:t,disableStarterPrompts:l}),s]})})}function Me({gizmo:e,avatarClassName:r}){var n;const s=!!(e!=null&&me(e)&&((n=e==null?void 0:e.gizmo.tags)!=null&&n.includes(ue.FirstParty)));return a.jsx("div",{className:"relative",children:a.jsx(z,{isFirstParty:s||!e,src:e!=null&&C(e)?e.profilePictureUrl:e==null?void 0:e.gizmo.display.profile_picture_url,className:_("mb-3 h-12 w-12",r)})})}function Pe({gizmo:e,disabled:r}){const s=N(e),n=R(),o=G();if(s==null||s.length===0)return null;const t=s.slice(0,o?2:4);return a.jsx(T,{starterPrompts:t,onSelectStarterPrompt:n,disabled:r})}function Ae({gizmo:e,hideOwner:r,showStarterPrompts:s,disableStarterPrompts:n}){const o=e!=null&&C(e)?e.name:e==null?void 0:e.gizmo.display.name,t=e!=null&&C(e)?e.description:e==null?void 0:e.gizmo.display.description;return a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx("div",{className:"text-center text-2xl font-semibold",children:o}),!r&&a.jsx("div",{className:"flex items-center gap-1 text-token-text-tertiary",children:a.jsx(a.Fragment,{children:e&&C(e)?a.jsx(P,{gizmo:e}):a.jsx(P,{gizmo:e,socials:e.gizmo.author.display_socials})})}),t&&a.jsx("div",{className:"max-w-md text-center text-sm font-normal text-token-text-primary",children:t}),s&&a.jsx(Pe,{gizmo:e,disabled:n})]})}export{We as G,Oe as H,Me as L,_e as M,Le as S,Be as T,we as a,ge as b,je as c,He as d,$e as e,Ve as f,j as g,D as i,Ce as t,R as u};
//# sourceMappingURL=njh27zrodvyq73sa.js.map
