import{dE as i,r as d,dg as A,bi as P,dF as I,P as f,dG as L,am as m,dH as _,ap as E,at as M,E as p}from"./nkav6u5sgjh9k32o.js";import{k as O}from"./n1qrfihyqo1d937u.js";import{aT as y,z as g,aU as T,aV as G}from"./fvuv8t2jnmmokuz9.js";const j="text-davinci-002-render-sha",B="gpt-4",N="gpt-4o",l=y({slug:g,max_tokens:4097,title:"Default",description:"",tags:[i.GPT_3_5],product_features:{}}),b=({default_model:e,tagline:n,color:t,human_category_name:s,category:r,human_category_short_name:o,human_category_shorter_name:a,subscription_level:c,short_explainer:h,...C})=>({color:t,tagline:n,defaultModel:e,label:s,shortLabel:o,description:h,shorterLabel:a??o,subscriptionLevel:c,categoryId:r,...C}),F=({icon:e,icon_filled_src:n,icon_outline_src:t})=>({iconName:e,iconFilledSrc:n,iconOutlineSrc:t}),v=({group:e,human_group_name:n,human_group_short_name:t,model_ids:s})=>({group:e,label:n,shortLabel:t,modelIds:s});function x(){return M({retry:5,queryKey:["modelIcons"],queryFn:async()=>await p.getModelIcons().then(e=>Object.fromEntries(Object.entries(e).map(([n,t])=>[n,F(t)])))})}function U(e){return M({retry:5,queryKey:["models",{isHistoryDisabled:e}],queryFn:async()=>await p.getModels(e).then(n=>{const{models:t,internal_groups:s,categories:r}=n,o=t.map(y);return{categories:r.concat().reverse().map(b),groups:(s==null?void 0:s.map(v))??[],modelsList:o,modelsMap:Object.fromEntries(o.map(a=>[a.id,a]))}})})}function u(){const e=L();return m(U(e))}function W(){return m(x())}function H({isRegen:e=!1}={}){const{isLoading:n,data:{categories:t=[],groups:s=[]}={}}=u(),r=d.useMemo(()=>e?t.filter(o=>o.is_regenerate_category!==!1):t.filter(o=>!o.is_regenerate_category),[t,e]);return{isLoading:n,categories:r,groups:s??[]}}function z(){const{categories:e}=H();return!!e.find(({categoryId:n})=>n===T.GPT4o)}function K(){const{data:e}=u();return d.useMemo(()=>e?new Set(Object.keys(e.modelsMap)):new Set([g]),[e])}const S={[g]:l};function k(){const{data:e}=u();return(e==null?void 0:e.modelsMap)??S}function R(e,n,t){let s=i.GPT_3_5;return t?s=i.GPT_4:n&&(s=i.GPT_4o),(e==null?void 0:e.modelsList.find(r=>r.tags.includes(s)))??(e==null?void 0:e.modelsList[0])??l}function V(e=!1){const n=A(),t=P(),[,s]=I();return d.useCallback(({location:r,modelId:o})=>{const a=n.pathname.includes("/g/");e||a?(f.logNewChatButtonClicked({location:r}),t({pathname:"/",search:`?model=${encodeURIComponent(o)}`})):(s(c=>(c.set("model",encodeURIComponent(o)),c)),f.logNewChatButtonClicked({location:r}))},[e,n,t,s])}function Z(){const{data:{categories:e=[]}={}}=u(),{doesUserHaveAnyAccountsWithPlusFeatures:n}=_();if(n)return null;const t=e.find(G);return(t==null?void 0:t.defaultModel)??null}function q(e){return O(e)}function $(e){const n=q(e),t=k();return d.useMemo(()=>n==null?l:t[n]??l,[n,t])}function J(e){return decodeURIComponent(e.model??"")||null}function X(){const{data:e}=u(),{doesUserHaveAnyAccountsWithPlusFeatures:n}=_(),t=E();return R(e,!!n,!!(t!=null&&t.isEnterprise()))}export{N as G,j as S,q as a,H as b,X as c,z as d,u as e,$ as f,B as g,K as h,J as i,k as j,W as k,Z as l,V as u};
//# sourceMappingURL=dha2x2fzb3q3x33r.js.map
