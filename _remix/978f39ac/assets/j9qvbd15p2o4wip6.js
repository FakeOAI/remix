const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/h1gp5pam81yp38le.js","assets/bkk1etpxp73xgxkk.js","assets/ho6syd1yt6mfjuy1.js","assets/root-i1ttiyod.css","assets/grdjxd4t00xxfgii.js","assets/conversation-small-ni0cc2o5.css","assets/kef7p4k14zdf1y4l.js","assets/go6iqv7kynl41ls2.js","assets/e2lvmkzz1krdd0vf.js","assets/on8dwna7kjymzk0v.js","assets/c7q13bl1gi8tl4t7.js","assets/noj1s37nphyqi49g.js","assets/m695oauk351xnqrx.js","assets/cu2gvix3x14kuekt.js","assets/i4nx85hu2hnxkijp.js","assets/ky3hwvkezt2frybr.js","assets/okhdof47k0vuhmqv.js","assets/gteko0382k8ggpbf.js","assets/nuovggdyf0grhuwv.js","assets/d1ew373qviaqzay3.js","assets/icc79zmdj63m59x2.js","assets/i3sou16n7aet43d5.js","assets/brhx5v2rxlq0rxdf.js","assets/cvlbu2zjl8gk4d4y.js","assets/fgqk7jcam72z9b45.js","assets/nofhnpwuwd2dsh1p.js","assets/equai8k90peh6feu.js","assets/5vpv0vb4b2nvx49d.js","assets/isgd7jo974enrlcr.js","assets/nnaw3p3bswr8drgg.js","assets/c3u30j6sbxfqmkf8.js","assets/chmpgx4g99l972ll.js","assets/fw4xkoxv5qjc42j9.js","assets/izghaikqsryeppfz.js","assets/d6xtt9rkfeozcyvb.js","assets/ika2bxu0cscuhv38.js","assets/e9jy1ikfzj9e62os.js","assets/cxb826gvasyyhf74.js","assets/dabzk7p57vaeradh.js","assets/2fn0olgj9xj3x0p7.js","assets/nh4xoqtd53sztxo8.js","assets/jmirzj5na583pa7a.js","assets/b06mfhbavpg5kqfv.js","assets/mn3nu14cs11ir8z4.js","assets/ejywl3vwz3cnyccm.js","assets/o8dnah8yviaknm2n.js","assets/ickzndvtcdrritpi.js","assets/bhiswq7l6vnbbd9g.js","assets/hot1ma8xgzlmhu27.js","assets/md7l2no35bs4azqe.js","assets/hcdhxk4ik5ew34s0.js","assets/gfyza06dnazyoexf.js","assets/ntk7fyffhazmhrvc.js","assets/dpm8ujy52zg6deyk.js","assets/eunh6mu8ep3r8stp.js","assets/jp88kwcbyg6rl7z7.js","assets/ouwlvauihbe7hscx.js","assets/kqwdyvkaaavvn8k3.js","assets/cfzeniuwphg3p3m9.js","assets/bwmsb2pjocc9pa1m.js"])))=>i.map(i=>d[i]);
import{a1 as Ne,V as G,aK as me,aJ as Oe,r as i,l as s,Z as w,D as ge,be as ae,a0 as H,aD as m,aE as g,aN as pe,b_ as Le,bY as De,bW as Be,bg as Ie,aA as Re,W as xe,X as Ve,u as Ce,ao as te,aH as oe,bB as We,dQ as W,fp as Fe,fc as Ge,m as M,Q as He,cn as be,d7 as E,fv as ze,ee as Ue,fw as Ke,a8 as $e,dl as ne,d0 as qe,d1 as Qe,d2 as Ye,c6 as Xe,b1 as Ze,h as Je,j as es}from"./bkk1etpxp73xgxkk.js";import{u as ss,f as z,T as Me}from"./nuovggdyf0grhuwv.js";import{aQ as as,gT as ts,gU as Se,gV as os,am as ns,gW as rs,gX as is,gY as cs,gZ as ls,g_ as ds,bP as B,g$ as us,h0 as hs,h1 as fs,h2 as ms,h3 as gs,h4 as ps,h5 as xs,h6 as Cs,h7 as bs,h8 as Ms,h9 as Ss,ha as js,hb as ks,hc as vs,hd as ys,he as As,hf as ws,hg as _s,hh as Ts,G as j,aG as P,a3 as k,ck as U,hi as Ps,hj as Es,ep as re,cy as Ns,hk as je,hl as ke,hm as ve,O as Os,hn as Ls,gK as ie,fE as Ds,c6 as F,c7 as ce,ho as Bs,hp as Is,hq as ye,hr as Rs,ef as D,hs as Vs,cb as Ws,ht as Fs,hu as Gs,cU as Hs,aC as zs,aR as Us,hv as Ks,eg as $s,eh as le,hw as qs,v as Qs,cn as Ys,hx as Xs,hy as Zs,co as Js,db as ea,hz as sa,dc as aa,hA as ta,hB as oa}from"./grdjxd4t00xxfgii.js";import{T as I,e as na,c as ra,b as ia,l as ca}from"./e2lvmkzz1krdd0vf.js";import{a as la}from"./c7q13bl1gi8tl4t7.js";import{L as da}from"./noj1s37nphyqi49g.js";import{S as de,b as ua,c as ha,N as fa}from"./izghaikqsryeppfz.js";import{a as Ae,b as ma,g as ga}from"./e9jy1ikfzj9e62os.js";import{S as pa,C as xa,H as Ca}from"./cxb826gvasyyhf74.js";import{T as ba,e as Ma,c as we,f as Sa}from"./nh4xoqtd53sztxo8.js";import{u as ja,n as ka}from"./ky3hwvkezt2frybr.js";import{J as va,q as ya,a as Aa,K as wa}from"./go6iqv7kynl41ls2.js";import{m as ue}from"./on8dwna7kjymzk0v.js";import{V as _a}from"./ho6syd1yt6mfjuy1.js";import{b as Ta}from"./okhdof47k0vuhmqv.js";function Pa({onClose:e}){const a=G(),t=me(),{openSettings:n}=as(),r=ts(),{session:o}=Oe(),{data:{isStorageComplianceEnabled:d}={}}=Se(),{data:c,isLoading:h}=os({enabled:!!(d&&o),select:l=>!l.cookie_consent.is_required});return i.useEffect(()=>{c===!0&&e()},[c,e]),h?null:s.jsx(Ea,{onReject:()=>{r.mutateAsync({analytics_cookies_accepted:!1},{onSuccess(){t.success(a.formatMessage(A.updateSuccess))},onError(){t.danger(a.formatMessage(A.updateFailure))}}),e()},onAccept:()=>{r.mutateAsync({analytics_cookies_accepted:!0},{onSuccess(){t.success(a.formatMessage(A.updateSuccess))},onError(){t.danger(a.formatMessage(A.updateFailure))}}),e()},children:s.jsx(w,{id:"CookieConsentBanner.authedDescription.0",defaultMessage:"We use cookies and similar technologies to deliver, maintain, improve our services and for security purposes. Check our <cookiePolicy>cookie policy</cookiePolicy> for details. Click 'Accept all' to let OpenAI and partners use cookies for these purposes. Click 'Reject all' to say no to cookies, except those that are strictly necessary. Choose <manageLink>manage cookies</manageLink> to change your preferences.",values:{cookiePolicy:l=>s.jsx(da,{href:"https://openai.com/policies/cookie-policy",openNewTab:!0,children:l}),manageLink:l=>s.jsx(Na,{onClick:()=>{n(ns.DataControls)},children:l})}})})}function Ea({children:e,onAccept:a,onReject:t}){return i.useEffect(()=>{ge.addAction("privacy_policy.show_cookie_consent_banner")},[]),s.jsxs(rs,{children:[s.jsxs(is,{className:"text-sm font-semibold [grid-area:_title]",children:[e,s.jsxs("div",{className:"mt-2 flex justify-end gap-3",children:[s.jsx(ae,{color:"secondary",size:"small",onClick:t,children:s.jsx(w,{...A.reject})}),s.jsx(ae,{color:"secondary",size:"small",onClick:a,children:s.jsx(w,{...A.accept})})]})]}),s.jsx(cs,{})]})}const Na=Ne.button`underline font-normal text-green-600`,A=H({cookieConsentBannerTitle:{id:"CookieConsentBanner.title",defaultMessage:"We use cookies to provide, improve, and protect our services. Visit our <privacyPolicyLink>privacy policy</privacyPolicyLink> to learn more. You can manage your cookie preferences in your <settingsPanel>settings panel</settingsPanel>. <learnMoreLink>Learn more</learnMoreLink>."},reject:{id:"CookieConsentBanner.reject",defaultMessage:"Reject all"},accept:{id:"CookieConsentBanner.accept",defaultMessage:"Accept all"},updateSuccess:{id:"CookieConsentBanner.updateSuccess",defaultMessage:"Your cookie preferences were updated successfully"},updateFailure:{id:"CookieConsentBanner.updateFailure",defaultMessage:"Unable to update cookie preferences. Try again later."}}),Oa=m(()=>g(async()=>{const{ModelOnboardingNUXModal:e}=await import("./h1gp5pam81yp38le.js");return{ModelOnboardingNUXModal:e}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11])).then(({ModelOnboardingNUXModal:e})=>e),{ssr:!1}),La=({onClose:e})=>{const a=G(),t=B(U.isBusinessWorkspace),n=B(o=>o.currentWorkspace),r=t?a.formatMessage(he.workspaceWelcome,{workspaceName:n?.name}):"ChatGPT";return s.jsx(xe,{isOpen:!0,onClose:Ve,type:"success",title:r,size:"custom",noPadding:!0,className:"max-w-3xl",description:a.formatMessage(he.personalOnboardingSubheading),children:s.jsx(Ps,{onClose:e,scope:Es.Personal})})};function Da(){const[e,a]=i.useState(0),{hasSeenOnboardingDate:t}=ls(),{hasSeenTeamOwnerOnboardingDate:n}=ds(),r=B(U.isBusinessWorkspace),o=pe(),[d,c]=i.useState(!1),{data:h,isPending:l}=Se(),p=us(h,l),{eligible:b,isLoading:_}=la(),N=Le(),v=De(),O=Be(),{data:f,isError:S}=Ie(),x=f!=null,T=f&&f?.accountItems.length>1&&f.currentAccountId==null,L=f?.accountItems.some(u=>u.isPersonalAccount()),C=!!f?.accountItems&&f.accountItems.length>0&&f.accountItems.every(({canAccessWithCurrentSession:u})=>!u),{eligible:K,isLoading:$}=hs(),{value:q}=Re("1542198993"),{punchOutRequireLoginInfo:Q}=fs(),{state:Y}=ms(),{isOpen:X,isLoading:Z}=gs(),{isOpen:J,isLoading:ee}=ps(),y=i.useMemo(()=>[{Component:xs,getModalState:()=>Q?"show":"hide",isDeferrable:!1},{Component:Cs,getModalState:()=>Z?"loading":X?"show":"hide",isDeferrable:!1},{Component:bs,getModalState:()=>ee?"loading":J?"show":"hide",isDeferrable:!1},{Component:Ms,getModalState:()=>Y,isDeferrable:!1},{Component:La,getModalState:()=>r?"hide":t===null?"loading":t===!1?"show":"hide",isDeferrable:!0},{Component:Ss,getModalState:()=>S?"hide":T?"show":x?"hide":"loading",isDeferrable:!1},{Component:js,getModalState:()=>N!==null?"show":S||x?"hide":"loading",isDeferrable:!1},{Component:ks,getModalState:()=>v!==null?"show":S||x?"hide":"loading",isDeferrable:!1},{Component:vs,getModalState:()=>O!=null?"show":S||x?"hide":"loading",isDeferrable:!1},{Component:ys,getModalState:()=>x?C?"show":"hide":"loading",isDeferrable:!1},{Component:Pa,getModalState:()=>"hide",isDeferrable:!1},{Component:As,getModalState:()=>!o?.isTeam()||!o?.isOwnerOfAccount()||!L?"hide":!x||n===null?"loading":n===!1?"show":"hide",isDeferrable:!1},{Component:ws,getModalState:()=>r?t===null?"loading":t===!1?"show":"hide":"hide",isDeferrable:!0},{Component:_s,getModalState:()=>$?"loading":K&&q?"show":"hide",isDeferrable:!1},{Component:Ts,getModalState:()=>p,isDeferrable:!1},{Component:Oa,getModalState:()=>_?"loading":b?"show":"hide",isDeferrable:!0,expiresAt:new Date(2024,7,13)}].filter(u=>!(u.isDeferrable&&d)&&(!u.expiresAt||u.expiresAt.getTime()>Date.now())),[Q,Y,O,x,t,n,L,_,r,S,N,v,o,C,T,p,b,d,q,K,$,X,Z,J,ee]);i.useEffect(()=>{if(y[e]&&y[e].getModalState()==="hide"){const u=y.findIndex(Ee=>Ee.getModalState()!=="hide");a(u)}},[e,y]);const R=y[e],V=R?.getModalState()==="show";if(i.useEffect(()=>{const u=j.getState().activeModals.has(P.BlockingInitialComponent);V!==u&&(V?k.openModal(P.BlockingInitialComponent):k.closeModal(P.BlockingInitialComponent))},[V]),R==null)return s.jsx("span",{"data-testid":"blocking-initial-modals-done",className:"hidden"});const se=R.getModalState();if(se==="loading")return null;se==="hide"&&a(u=>u+1);const Pe=y[e].Component;return s.jsx(Pe,{onClose:()=>{c(!0),a(u=>u+1)}})}const he=H({workspaceWelcome:{id:"BlockingInitialModals.workspaceWelcome",defaultMessage:"Welcome to the {workspaceName} workspace"},personalOnboardingSubheading:{id:"BlockingInitialModals.personalOnboardingSubheading",defaultMessage:"Tips for getting started"}});function _e({clientThreadId:e}){i.useEffect(()=>{k.closeSharingModal()},[e]);const a=Ce();i.useEffect(()=>(I.retainThread(e),()=>{setTimeout(()=>{a.invalidateQueries({queryKey:["conversation",e]})},0),I.releaseThread(e)}),[e,a]),i.useEffect(()=>()=>{te.checkGate("3922476776")||re.abortAllRequests()},[e]);const t=i.useRef(e);i.useEffect(()=>{e!==t.current&&(te.checkGate("3922476776")||re.clear(),t.current=e)},[e])}function Te({clientThreadId:e,setClientThreadId:a}){const t=Ce(),n=Ns(),r=n?{kind:oe.GizmoInteraction,gizmo_id:n}:{kind:oe.PrimaryAssistant};ja(e,r);const o=We(),d=va(e),c=i.useRef(d);c.current=d;const h=i.useCallback(()=>{a(W());const b=c.current;o(b.tags.includes(Fe.GPT_4)?"/":`/?model=${b.id}`,{replace:!0})},[a,o]),l=ss({clientThreadId:e,location:"Model switcher menu item"}),p=i.useCallback(b=>{ka(o,t,b)},[t,o]);return{createNewThread:l,onThreadCreated:p,resetThread:h}}const Ba=m(()=>g(()=>import("./m695oauk351xnqrx.js"),__vite__mapDeps([12,1,2,3,4,5,13,14,15,16,9,7,8,17,18,19,10,11,20,21,22,23,6,24,25,26,27,28,29])).then(e=>e.CanvasFocusedViewManager));function Ia({clientThreadId:e,setClientThreadId:a,urlThreadId:t,prefetchSearch:n}){const r=na();_e({clientThreadId:e});const{createNewThread:o,onThreadCreated:d,resetThread:c}=Te({clientThreadId:e,setClientThreadId:a});Ae({resetThreadAction:c,clientThreadId:e});const h=z(e);return s.jsxs(Me,{clientThreadId:e,children:[s.jsx(je,{clientThreadId:e,urlThreadId:t}),s.jsxs(de,{hideNavigation:r,mobileHeaderContent:s.jsx(ba,{clientThreadId:e,inMobileHeader:!0}),mobileHeaderBottomContent:s.jsx(Ma,{clientThreadId:e}),mobileHeaderLeftContent:s.jsx(ua,{onNewChatButtonClick:c}),mobileHeaderRightContent:s.jsx(ha,{onNewChatButtonClick:c}),sidebar:s.jsx(fa,{navHeader:e?s.jsx(pa,{className:"flex h-[60px] items-center md:h-header-height",onNewThread:o}):null,children:s.jsx(xa,{clientThreadId:e,onNewThread:o})}),children:[s.jsx(ke,{}),s.jsx(we,{clientThreadId:e,onCreate:d,prefetchSearch:n},e),s.jsxs(de.Sidebars,{children:[h&&s.jsx(Ba,{clientThreadId:e}),s.jsx(ve,{clientThreadId:e})]})]})]})}const Ra=450;function Va({children:e,clientThreadId:a,isOpen:t,onClose:n}){return s.jsx(Os,{children:t&&s.jsx(Ge,{children:s.jsx(Ls.Provider,{value:{isEmbeddedInFocusedView:!0},children:s.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[s.jsx(ue.div,{className:"h-full w-full bg-token-main-surface-secondary",...ie}),s.jsxs("div",{className:"absolute inset-0 flex",children:[s.jsx("div",{className:"flex-grow overflow-auto",children:e}),s.jsx(ue.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:Ra},...ie,children:s.jsx("div",{className:"h-[100vh] pb-4",children:s.jsx(we,{clientThreadId:a,hideHeader:!0,hideFooter:!0,hideToolsOverlay:!0,messagesVerticalAlign:"bottom"},a)})})]})]})})})})}const Wa=m(()=>g(()=>import("./c3u30j6sbxfqmkf8.js"),__vite__mapDeps([30,1,2,3,4,5,15,16,9,7,8,17,18,19,10,11,20,21,22,23,6]))),Fa=m(()=>g(()=>import("./chmpgx4g99l972ll.js"),__vite__mapDeps([31,1,2,3,4,5,32,15,16,9,7,8,17,18,19,10,11,20,21,22,23,6,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50])).then(e=>e.ImageEditor));function Ga({clientThreadId:e}){const a=Ds();i.useEffect(()=>{F.close()},[e]);let t;return a?.type===ce.ADAVisualization?t=s.jsx(Wa,{clientThreadId:e,visualization:a.visualization}):a?.type===ce.Image&&(t=s.jsx(Fa,{clientThreadId:e,messageId:a.messageId,image:a.image,allImages:a.allImages},a.image.asset_pointer)),s.jsx(Va,{clientThreadId:e,isOpen:a!=null,onClose:F.close,children:t})}const Ha=()=>{const e=G(),a=j(o=>o.activeModals.has(P.KeyboardActions)),t=()=>{k.closeModal(P.KeyboardActions)},n=ma(),r=i.useMemo(()=>{const o=Math.ceil(n.length/2);return[n.slice(0,o),n.slice(o)]},[n]);return s.jsx(xe,{isOpen:a,onClose:t,type:"success",size:"custom",className:"md:max-w-[672px] lg:max-w-[796px] xl:max-w-4xl",showCloseButton:!0,title:e.formatMessage(Ka.keyboardActionsModalTitle),children:s.jsx(s.Fragment,{children:s.jsx("div",{className:"grid grid-flow-row grid-cols-[repeat(auto-fit,minmax(250px,1fr))] gap-x-9",children:r.map((o,d)=>s.jsx("div",{className:"flex flex-col overflow-hidden",children:o.map(c=>s.jsx(za,{action:c},c.key))},`col-${d}`))})})})},za=({action:e})=>s.jsxs("div",{className:"flex items-center justify-between overflow-hidden text-token-text-primary",children:[s.jsx("div",{className:"flex flex-shrink items-center overflow-hidden text-sm",children:s.jsx("div",{className:"truncate",children:s.jsx(w,{...e.actionMessageDescriptor})})}),s.jsx("div",{className:"ml-3 flex flex-row gap-2",children:ga(e.keyboardBinding).map((a,t)=>s.jsx(Ua,{keyName:a},`${e.key}-${t}`))})]}),Ua=({keyName:e})=>{const a=M("my-2 flex h-8 items-center justify-center rounded-md border border-token-border-light capitalize text-token-text-secondary");return e.length>1?e.length>3?s.jsx("div",{className:M(a,"min-w-[50px]"),children:s.jsx("span",{className:"text-xs",children:e})}):s.jsx("div",{className:M(a,"min-w-[32px]"),children:s.jsx("span",{className:"text-xs",children:e})}):s.jsx("div",{className:M(a,"min-w-[32px]"),children:s.jsx("span",{className:"text-sm",children:e})})},Ka=H({keyboardActionsModalTitle:{id:"KeyboardActionsModal.keyboardActionsModalTitle",defaultMessage:"Keyboard shortcuts"}}),$a=m(()=>g(()=>import("./cxb826gvasyyhf74.js").then(e=>e.a),__vite__mapDeps([37,1,2,3,4,5,38,7,8,9,19,39,34,10,11,6,36,18,20,21])).then(e=>e.GizmoSidebarList),{ssr:!0});function qa({clientThreadId:e}){const a=pe(),t=ra(e),n=ia(e),{isUnauthenticated:r}=He(),o=be();return r?null:s.jsxs("div",{className:M(E.screenContent),children:[s.jsx(Ca,{activeId:o?void 0:n}),a?.canInteractWithGizmos()?s.jsx($a,{currentGizmoId:t}):null]})}const vt=Bs("sidebar",Is.Floating);function fe({onClick:e,children:a}){return s.jsx(Ws,{className:M(E.screenTrailingBar),type:"primary",children:s.jsx("div",{className:M("group flex w-full items-center justify-start"),children:s.jsxs("button",{className:"flex flex-1 select-none items-center rounded-lg py-1 pl-4 text-sm tracking-tight text-token-text-secondary hover:bg-token-sidebar-surface-secondary focus:ring-0",onClick:e,children:[s.jsx(_a,{className:"icon-2xl -ml-3 mr-1 font-semibold text-token-text-secondary"}),a]})})})}function Qa(){const e=j(D.isGptListVisible),a=j(D.isHistoryShowMoreVisible),t=j(D.isHistoryCollapsed),n=j(D.isGptListCollapsed),r=i.useCallback(()=>{t||k.toggleHistoryCollapsed(),n&&k.toggleGptListCollapsed()},[t,n]),o=[];return!t&&!a&&o.push(s.jsx(fe,{onClick:k.toggleHistoryCollapsed,children:s.jsx(w,{id:"1poXLj",defaultMessage:"See less"})})),e||o.push(s.jsx(fe,{onClick:r,children:s.jsx(w,{id:"DnQZfo",defaultMessage:"See GPTs"})})),o.length?s.jsx(Vs,{className:M(E.screenTrailingBarContainer),children:o}):null}function Ya({clientThreadId:e,onNewThread:a}){return s.jsx(ye,{anchor:"top",className:M(E.screen,E.screenProps,"flex-1 border-r border-r-token-border-xlight"),name:"sidebar",leading:s.jsx(Rs,{onNewThread:a}),trackLeading:!0,trailing:s.jsx(Qa,{}),children:s.jsx(qa,{clientThreadId:e})})}const Xa=m(()=>g(()=>import("./gfyza06dnazyoexf.js"),__vite__mapDeps([51,1,2,3,4,5,40,7,8,9,41,15,16,17,18,19,10,11,20,21,22,23,6,42,43,44,45,38,46,47,32,48,35,49,50,33,34,36,37,39])).then(e=>e.ChatScreenThreadHeader),{ssr:!0}),Za=m(()=>g(()=>import("./ntk7fyffhazmhrvc.js"),__vite__mapDeps([52,1,2,3,40,7,4,5,8,9,41,15,16,17,18,19,10,11,20,21,22,23,6,42,43,44,45,38,46,47,32,48,35,49,50])).then(e=>e.ChatScreenThreadContent),{ssr:!0}),Ja=m(()=>g(()=>import("./dpm8ujy52zg6deyk.js"),__vite__mapDeps([53,1,2,3,4,5,40,7,8,9,41,15,16,17,18,19,10,11,20,21,22,23,6,42,43,44,45,38,46,47,32,48,35,49,50])).then(e=>e.ChatScreenThreadFooter),{ssr:!0});function et({clientThreadId:e,onThreadCreated:a,onCompletionFinished:t,preRequestCompletion:n}){const r=ya(),o=Aa(e)??r.id,d=ca(e),{onRequestCompletion:c,onChangeItemInView:h,onChangeRating:l,onRequestMoreCompletions:p}=Sa({clientThreadId:e,currentModelId:o,defaultModelId:r.id,onCompletionFinished:t,onThreadCreated:a,preRequestCompletion:n});return s.jsx(wa,{clientThreadId:e,currentLeafId:d,children:s.jsx(ze.Provider,{value:c,children:s.jsx(ye,{anchor:"top",className:Ue.screen,name:"thread",leading:s.jsx(Xa,{clientThreadId:e}),trackLeading:!0,trackTrailing:!0,trailing:s.jsx(Ja,{clientThreadId:e,onRequestCompletion:c}),children:s.jsx(Za,{clientThreadId:e,conversationLeafId:d,currentModelId:o,onRequestCompletion:c,onChangeItemInView:h,onChangeRating:l,onRequestMoreCompletions:p})})})})}const st=m(()=>g(()=>import("./m695oauk351xnqrx.js"),__vite__mapDeps([12,1,2,3,4,5,13,14,15,16,9,7,8,17,18,19,10,11,20,21,22,23,6,24,25,26,27,28,29])).then(e=>e.CanvasFocusedViewManager));function at({clientThreadId:e,setClientThreadId:a,urlThreadId:t}){_e({clientThreadId:e});const{createNewThread:n,onThreadCreated:r,resetThread:o}=Te({clientThreadId:e,setClientThreadId:a});Ae({resetThreadAction:o,clientThreadId:e});const d=z(e);return s.jsxs(Me,{clientThreadId:e,children:[s.jsx(je,{clientThreadId:e,urlThreadId:t}),s.jsx(ke,{}),s.jsx(Fs,{className:Ke.application,sidebar:s.jsx(Ya,{clientThreadId:e,onNewThread:n}),thread:s.jsx(et,{clientThreadId:e,onThreadCreated:r}),details:d&&s.jsx(st,{clientThreadId:e}),debugger:s.jsx(ve,{clientThreadId:e})})]})}var tt={};const ot=m(()=>g(()=>import("./eunh6mu8ep3r8stp.js"),__vite__mapDeps([54,1,2,3,4,5,15,16,9,7,8,17,18,19,10,11,20,21,22,23,6,55]))),nt=m(()=>g(()=>import("./ouwlvauihbe7hscx.js"),__vite__mapDeps([56,1,2,3,8,4,5,9,57,58,7,59,16])).then(e=>e.SearchResultsModal));function yt(e){const{urlThreadId:a,clientThreadId:t,prefetchSearch:n}=e,r="serviceStatus"in e?e.serviceStatus:null;ct();const o=be(),d=$e(),c=ne(),h=me(),[l,p]=i.useState(()=>a!==void 0?a:t!==void 0?t:W());a!==void 0&&l!==a&&I.getServerThreadId(l)!==a&&p(a);const b=Gs(ne());i.useEffect(()=>{a===void 0&&I.getServerThreadId(l)!==void 0&&p(W())},[a,l,b]);const _=Hs(),N=B(U.workspaceId),v=zs();z(l);const O=Us(),{eligible:f,isLoading:S,markAsViewed:x}=Ks();i.useEffect(()=>{(d.asPath==="/"||d.asPath.startsWith("/c/"))&&$s({namespace:le.ChatPageLoad})==null&&(qs({namespace:le.ChatPageLoad,opts:{expectedTimingLogs:[{name:"render_model_switcher",expectedInMs:1e4},{name:"render_history_items",expectedInMs:25e3}]}}),ge.addTiming("chatgpt.web.chatPage.mounted"))},[]);const T=Qs();i.useEffect(()=>{qe(!0).then(C=>{C.force_login&&T({authType:"login"}),Qe.initializeAndGatherData(C),Ys.initializeAndGatherData(C),Ye.initializeAndGatherData(C)})},[T]),i.useEffect(()=>{r?.type&&_===!1&&h.warning(r.message,{hasCloseButton:!0,duration:5})},[_,r?.message,r?.type,h]),i.useEffect(()=>{const C=d.query[Xs]==="true";o!==C&&Xe.setIsTemporaryChatEnabled(C)},[o,d.query]),i.useEffect(()=>{c.state?.focusObject&&F.setFocusedObject(c.state.focusObject)},[c.state?.focusObject]),i.useEffect(()=>{!S&&f&&v&&(x(),Zs(v))},[f,S,x,v]);const L=O?at:Ia;return s.jsx(Ze.Provider,{value:null,children:s.jsx(Js,{children:s.jsxs(ea,{clientThreadId:l,children:[s.jsx(Da,{},N),s.jsx(Ha,{}),s.jsx(sa,{}),s.jsx(L,{urlThreadId:a,clientThreadId:l,setClientThreadId:p,prefetchSearch:n}),s.jsx(Ga,{clientThreadId:l}),s.jsx(it,{clientThreadId:l}),s.jsx(aa,{clientThreadId:l}),s.jsx(rt,{}),!1,s.jsx(ta,{}),s.jsx(oa,{})]})})})}function rt(){const e=j(a=>a.sharingModalThreadId);return e?s.jsx(ot,{serverThreadId:e}):null}function it({clientThreadId:e}){return Ta()&&s.jsx(nt,{clientThreadId:e})}function ct(){Je({queryKey:["pingEdge"],queryFn:()=>es.pingEdge(),enabled:!0,staleTime:1/0})}typeof window<"u"&&(window._g=tt.GOKU_SERVICE);export{yt as C,vt as F,Ra as a};
//# sourceMappingURL=j9qvbd15p2o4wip6.js.map
