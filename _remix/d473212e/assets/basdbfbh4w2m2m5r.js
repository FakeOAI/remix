const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/sso-igjdghj3ipkud2vz.js","assets/kkasil63rmfidan7.js","assets/spwglx8qg6louqra.js","assets/root-cpnh8fjk.css","assets/m5ko8xkwcu432ruw.js","assets/conversation-small-c8xg50op.css","assets/kn4ay466vw8pwdsq.js","assets/ebnn6k9808w4u7tm.js","assets/c701sb993wyon030.js","assets/gazk9g3ps3xf2gya.js","assets/nhwwej1nq0zrd7sc.js","assets/ojpcyfi9pwebpx5x.js","assets/cjutno0jwjaoohx2.js","assets/f8r1ch3k2qm3xddt.js","assets/c8spuoldjzhkt44r.js","assets/bue6j8j0z6ont616.js","assets/bllz95bri8cvn1jb.js","assets/mqfbyxetp1xg623u.js","assets/jwmpdi90ayhpa01i.js","assets/h65silb3agc2sn8h.js","assets/mxfabxamzanivwep.js","assets/lf8rzn0jqnvadlip.js","assets/mj8peo9z2289cr8u.js","assets/oftwnvl1jmjhvp0w.js","assets/otgfxa9drn6yfgzy.js","assets/celc67mw5gzy5u94.js","assets/o9kbfeeefi73xxcs.js","assets/i79myvvnfo14hb3r.js","assets/ipk1x8xofruqswg0.js","assets/dcws555uf6j3n3xv.js","assets/n9pee3ug7thbu56w.js","assets/d0g8ptgc5gcqjwyj.js","assets/ko3ccldg0uhitbr1.js","assets/mssde0p7fetlczuw.js","assets/isjdmfmhzv09v01t.js","assets/hfj4suivvtf9kq6n.js","assets/nilqyyu4e0qm1zeg.js","assets/nc7yz4lk3z3pc5c9.js","assets/obawgxlrs3hvc1l1.js","assets/jv7k2fmm2dr6zxs0.js","assets/bt1grte0e7ehrlio.js","assets/o1akrxxzr71cxnpq.js","assets/coywfjku9lalq2nv.js","assets/ezv0aqmplwinw6pj.js","assets/c7j9ban0lt2v6jur.js","assets/kko6fk1ez0kcoklf.js","assets/g4rc2yerc91v5br7.js","assets/fsddy3bxlesj6ecw.js","assets/f8avu24q942gnyhs.js","assets/b6emvvdnvz6l5zsn.js","assets/i7tilwvp76zyc05m.js","assets/0p6hsywnxoul6svt.js","assets/n7wn6p3eeg0eq7kz.js","assets/lcvurcrum2gl1hvh.js","assets/ghhzd5x9f0mrb7pn.js","assets/kfbbo7bnel5grikx.js","assets/ggitw4wmwx1uoids.js","assets/i3lurgb2k7ur1r6i.js","assets/l2jw1p2q915hen1l.js","assets/kqwdyvkaaavvn8k3.js","assets/etque9sbybntdvtt.js","assets/d8dpp1d8ajs3v89h.js","assets/n6qeugiyhx7dwak2.js","assets/kxnbutcwa93e2cpu.js","assets/czwjekns933y3ssi.js","assets/nv6i59p62btvvr0g.js","assets/k7wsnnpz4pjt523g.js","assets/gv1uqwzdzn7hee40.js","assets/c2j3p94ulwvtdlsc.js","assets/iej0cupg2dqkmejt.js","assets/coefpideb4muka0i.js","assets/kxmequhlarz98ug8.js","assets/ip3fwxungj7fan0l.js","assets/vwbttxho62xur7y2.js","assets/shared-mk6ngktc.css","assets/otvroqbygo8ch3lj.js","assets/sso-46pn026z.css","assets/c0lzy5z89rb9tu06.js","assets/eonlsmcpusy8hbvm.js","assets/ghnzp10urh8yul61.js","assets/o39rz4pml3bm1ecl.js","assets/cx18eyjdoqhm6wym.js","assets/ccekf5b4p6qn06fd.js","assets/k077rarwzk5ajm80.js","assets/cu7i7jyqvstu6net.js","assets/lv6qhqktl163bzsy.js","assets/gzar0rroni02x5f1.js"])))=>i.map(i=>d[i]);
import{ch as u,bY as m,j as s,I as xe,D as F,bM as Ce,r,a2 as E,G as A,Z as re,ba as q,H as z,an as ie,aG as ye,aC as ve,aE as Me,ad as ce,E as le,F as Se,bK as Q,S as G,z as ke,dA as _e,bd as je,bb as Y,az as Ae,aB as de,av as we,d8 as Ee,co as ue,aN as me,d1 as Te,c as O,df as Pe,bH as Ie,d3 as De,d4 as Oe,d5 as Le,cF as Ne,ak as Fe,C as Re}from"./kkasil63rmfidan7.js";import{d as H,u as Be}from"./mj8peo9z2289cr8u.js";import{aV as Ve,fR as ze,fS as ge,fT as Ge,aJ as He,fU as We,fV as $e,fW as Ue,fX as Ke,fY as qe,bi as L,fZ as Qe,f_ as Ye,f$ as Xe,g0 as Ze,g1 as Je,g2 as es,g3 as ss,g4 as as,g5 as ts,g6 as os,k as R,aT as T,U as S,ch as W,g7 as ns,g8 as rs,bM as is,g9 as X,cc as cs,A as ls,ga as ds,cz as Z,cy as us,bv as J,bw as ee,gb as ms,c8 as gs,gc as fs,gd as se,ge as hs,b9 as ps,a3 as bs,gf as xs,gg as Cs,gh as ys,gi as vs,bp as Ms}from"./m5ko8xkwcu432ruw.js";import{l as Ss,d as ks,T as N,m as V}from"./ebnn6k9808w4u7tm.js";import{u as _s}from"./oftwnvl1jmjhvp0w.js";import{L as js}from"./otgfxa9drn6yfgzy.js";import{S as ae,b as As,c as ws,N as Es}from"./cx18eyjdoqhm6wym.js";import{y as Ts,a4 as Ps,a5 as Is,z as fe}from"./f8r1ch3k2qm3xddt.js";import{u as Ds,a as Os,g as Ls}from"./nc7yz4lk3z3pc5c9.js";import{a as Ns,C as Fs}from"./nilqyyu4e0qm1zeg.js";import{f as Rs}from"./gazk9g3ps3xf2gya.js";import{m as te}from"./c701sb993wyon030.js";const Bs=u(()=>m(()=>import("./sso-igjdghj3ipkud2vz.js").then(e=>e.t),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76])).then(e=>e.default));function Vs({clientThreadId:e,children:a}){return H(e)?s.jsx(Bs,{clientThreadId:e,children:a}):s.jsx(s.Fragment,{children:a})}function zs({onClose:e}){const a=F(),{openSettings:t}=Ve(),o=ze(),{session:c}=Ce(),{data:{isStorageComplianceEnabled:n}={}}=ge(),{data:i,isLoading:g}=Ge({enabled:!!(n&&c),select:f=>!f.cookie_consent.is_required});return r.useEffect(()=>{i===!0&&e()},[i,e]),g?null:s.jsx(Gs,{onReject:()=>{o.mutateAsync({analytics_cookies_accepted:!1},{onSuccess(){E.success(a.formatMessage(j.updateSuccess))},onError(){E.danger(a.formatMessage(j.updateFailure))}}),e()},onAccept:()=>{o.mutateAsync({analytics_cookies_accepted:!0},{onSuccess(){E.success(a.formatMessage(j.updateSuccess))},onError(){E.danger(a.formatMessage(j.updateFailure))}}),e()},children:s.jsx(A,{id:"CookieConsentBanner.authedDescription.0",defaultMessage:"We use cookies and similar technologies to deliver, maintain, improve our services and for security purposes. Check our <cookiePolicy>cookie policy</cookiePolicy> for details. Click 'Accept all' to let OpenAI and partners use cookies for these purposes. Click 'Reject all' to say no to cookies, except those that are strictly necessary. Choose <manageLink>manage cookies</manageLink> to change your preferences.",values:{cookiePolicy:f=>s.jsx(js,{href:"https://openai.com/policies/cookie-policy",openNewTab:!0,children:f}),manageLink:f=>s.jsx(Hs,{onClick:()=>{t(He.DataControls)},children:f})}})})}function Gs({children:e,onAccept:a,onReject:t}){return r.useEffect(()=>{re.addAction("privacy_policy.show_cookie_consent_banner")},[]),s.jsxs(We,{children:[s.jsxs($e,{className:"text-sm font-semibold [grid-area:_title]",children:[e,s.jsxs("div",{className:"mt-2 flex justify-end gap-3",children:[s.jsx(q,{color:"secondary",size:"small",onClick:t,children:s.jsx(A,{...j.reject})}),s.jsx(q,{color:"secondary",size:"small",onClick:a,children:s.jsx(A,{...j.accept})})]})]}),s.jsx(Ue,{})]})}const Hs=xe.button`underline font-normal text-green-600`,j=z({cookieConsentBannerTitle:{id:"CookieConsentBanner.title",defaultMessage:"We use cookies to provide, improve, and protect our services. Visit our <privacyPolicyLink>privacy policy</privacyPolicyLink> to learn more. You can manage your cookie preferences in your <settingsPanel>settings panel</settingsPanel>. <learnMoreLink>Learn more</learnMoreLink>."},reject:{id:"CookieConsentBanner.reject",defaultMessage:"Reject all"},accept:{id:"CookieConsentBanner.accept",defaultMessage:"Accept all"},updateSuccess:{id:"CookieConsentBanner.updateSuccess",defaultMessage:"Your cookie preferences were updated successfully"},updateFailure:{id:"CookieConsentBanner.updateFailure",defaultMessage:"Unable to update cookie preferences. Try again later."}}),Ws=u(()=>m(async()=>{const{ModelOnboardingNUXModal:e}=await import("./c0lzy5z89rb9tu06.js");return{ModelOnboardingNUXModal:e}},__vite__mapDeps([77,1,2,3,4,5,23,24,7,8,9])).then(({ModelOnboardingNUXModal:e})=>e),{ssr:!1}),$s=({onClose:e})=>{const a=F(),t=L(W.isBusinessWorkspace),o=L(n=>n.currentWorkspace),c=t?a.formatMessage(oe.workspaceWelcome,{workspaceName:o==null?void 0:o.name}):"ChatGPT";return s.jsx(le,{isOpen:!0,onClose:Se,type:"success",title:c,size:"custom",noPadding:!0,className:"max-w-3xl",description:a.formatMessage(oe.personalOnboardingSubheading),children:s.jsx(ns,{onClose:e,scope:rs.Personal})})};function Us(){const[e,a]=r.useState(0),{hasSeenOnboardingDate:t}=Ke(),{hasSeenTeamOwnerOnboardingDate:o}=qe(),c=L(W.isBusinessWorkspace),n=ie(),[i,g]=r.useState(!1),{data:f,isPending:y}=ge(),b=Qe(f,y),{eligible:x,isLoading:v}=_s(),C=ye(),h=ve(),{data:l,isError:M}=Me(),p=l!=null,P=l&&(l==null?void 0:l.accountItems.length)>1&&l.currentAccountId==null,k=l==null?void 0:l.accountItems.some(d=>d.isPersonalAccount()),I=!!(l!=null&&l.accountItems)&&l.accountItems.length>0&&l.accountItems.every(({canAccessWithCurrentSession:d})=>!d),{eligible:D,isLoading:$}=Ye(),{value:U}=ce("1542198993"),_=r.useMemo(()=>[{Component:$s,getModalState:()=>c?"hide":t===null?"loading":t===!1?"show":"hide",isDeferrable:!0},{Component:Xe,getModalState:()=>M?"hide":P?"show":p?"hide":"loading",isDeferrable:!1},{Component:Ze,getModalState:()=>C!==null?"show":M||p?"hide":"loading",isDeferrable:!1},{Component:Je,getModalState:()=>h!=null?"show":M||p?"hide":"loading",isDeferrable:!1},{Component:es,getModalState:()=>p?I?"show":"hide":"loading",isDeferrable:!1},{Component:zs,getModalState:()=>"hide",isDeferrable:!1},{Component:ss,getModalState:()=>!(n!=null&&n.isTeam())||!(n!=null&&n.isOwnerOfAccount())||!k?"hide":!p||o===null?"loading":o===!1?"show":"hide",isDeferrable:!1},{Component:as,getModalState:()=>c?t===null?"loading":t===!1?"show":"hide":"hide",isDeferrable:!0},{Component:ts,getModalState:()=>$?"loading":D&&U?"show":"hide",isDeferrable:!1},{Component:os,getModalState:()=>b,isDeferrable:!1},{Component:Ws,getModalState:()=>v?"loading":x?"show":"hide",isDeferrable:!0,expiresAt:new Date(2024,7,13)}].filter(d=>!(d.isDeferrable&&i)&&(!d.expiresAt||d.expiresAt.getTime()>Date.now())),[h,p,t,o,k,v,c,M,C,n,I,P,b,x,i,U,D,$]);r.useEffect(()=>{if(_[e]&&_[e].getModalState()==="hide"){const d=_.findIndex(be=>be.getModalState()!=="hide");a(d)}},[e,_]);const w=_[e],B=(w==null?void 0:w.getModalState())==="show";if(r.useEffect(()=>{const d=R.getState().activeModals.has(T.BlockingInitialComponent);B!==d&&(B?S.openModal(T.BlockingInitialComponent):S.closeModal(T.BlockingInitialComponent))},[B]),w==null)return s.jsx("span",{"data-testid":"blocking-initial-modals-done",className:"hidden"});const K=w.getModalState();if(K==="loading")return null;K==="hide"&&a(d=>d+1);const pe=_[e].Component;return s.jsx(pe,{onClose:()=>{g(!0),a(d=>d+1)}})}const oe=z({workspaceWelcome:{id:"BlockingInitialModals.workspaceWelcome",defaultMessage:"Welcome to the {workspaceName} workspace"},personalOnboardingSubheading:{id:"BlockingInitialModals.personalOnboardingSubheading",defaultMessage:"Tips for getting started"}}),Ks=u(()=>m(()=>import("./eonlsmcpusy8hbvm.js"),__vite__mapDeps([78,1,2,3,7,4,5,8,9,64,62,63,42,13,14,15,16,17,18,6,19,20,21,22,23,24,25,26,27,28,29,30])).then(e=>e.DebugConversationSidebar)),qs=u(()=>m(()=>import("./sso-igjdghj3ipkud2vz.js").then(e=>e.l),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76])).then(e=>e.default)),Qs=u(()=>m(()=>import("./sso-igjdghj3ipkud2vz.js").then(e=>e.F),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76])).then(e=>e.FannyPackChatSidebar)),Ys=u(()=>m(()=>import("./sso-igjdghj3ipkud2vz.js").then(e=>e.F),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76])).then(e=>e.FannyPackSidebarHeader)),ne=u(()=>m(()=>import("./sso-igjdghj3ipkud2vz.js").then(e=>e.m),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76])).then(e=>e.FannyPackInitializer));function Xs(){const e=we(),a=e==null?void 0:e.includes("debug");r.useEffect(()=>{if(a)return Ee(document,{keydown:t=>{t.target instanceof HTMLElement&&["input","textarea","select","button"].includes(t.target.tagName.toLowerCase())||t.key==="\\"&&S.toggleActiveSidebar("debug")}})},[a])}function Zs({clientThreadId:e,setClientThreadId:a,initiallyHighlightedMessageId:t,continueConversationUrl:o,urlThreadId:c}){const n=Ss(),i=is();Ts(e,i?{kind:Q.GizmoInteraction,gizmo_id:i}:{kind:Q.PrimaryAssistant});const g=ks(e),f=G(),y=ie(),b=y==null?void 0:y.features,x=Rs(e),v=ke();r.useEffect(()=>(N.retainThread(e),()=>{setTimeout(()=>{v.invalidateQueries({queryKey:["conversation",e]})},0),N.releaseThread(e)}),[e,v]),r.useEffect(()=>{S.closeSharingModal()},[e,g]);const C=r.useCallback(()=>{a(V()),f.replace(x.tags.includes(_e.GPT_4)?"/":`/?model=${x.id}`,void 0,{shallow:!0})},[a,x.tags,x.id,f]);Ds({resetThreadAction:C,clientThreadId:e});const h=R(D=>D.activeSidebar),l=je();r.useEffect(()=>()=>{Y.checkGate("3922476776")||X.abortAllRequests()},[e]),Xs();const M=r.useRef(e);r.useEffect(()=>{e!==M.current&&(Y.checkGate("3922476776")||X.clear(),M.current=e)},[e]);const p=Be({clientThreadId:e,location:"Model switcher menu item"}),P=H(e),{value:k}=Ae("187267097"),{value:I}=ce("3323077373");return s.jsxs(Vs,{clientThreadId:e,children:[s.jsx(Js,{clientThreadId:e,urlThreadId:c}),s.jsxs(ae,{hideNavigation:n,mobileHeaderContent:s.jsx(Ps,{clientThreadId:e,inMobileHeader:!0}),mobileHeaderBottomContent:s.jsx(Is,{clientThreadId:e}),mobileHeaderLeftContent:s.jsx(As,{onNewChatButtonClick:C}),mobileHeaderRightContent:s.jsx(ws,{onNewChatButtonClick:C}),sidebar:s.jsx(Es,{navHeader:e?k===!0?s.jsx(Ys,{className:"flex h-[60px] items-center md:h-header-height",onNewThread:p}):s.jsx(Ns,{className:"flex h-[60px] items-center md:h-header-height",onNewThread:p}):null,children:k===!0?s.jsx(Qs,{clientThreadId:e,onNewThread:p}):s.jsx(Fs,{clientThreadId:e,onNewThread:p})}),children:[!k&&I&&ne&&s.jsx(ne,{}),s.jsx(de,{children:s.jsx(fe,{clientThreadId:e,initiallyHighlightedMessageId:t,continueConversationUrl:o},e)}),s.jsxs(ae.Sidebars,{children:[P&&s.jsx(qs,{clientThreadId:e}),(b==null?void 0:b.includes("debug"))&&h==="debug"&&s.jsx(Ks,{clientThreadId:e,slideOver:!l,onClose:()=>S.toggleActiveSidebar("debug"),isOpen:!0})]})]})]})}function Js({clientThreadId:e,urlThreadId:a}){const t=F(),o=G(),c=ue();return s.jsx(de,{children:c&&e&&!!a&&s.jsx(cs,{isOpen:!0,title:s.jsx(A,{id:"HistoryGizmoItem.leaveTempChatTitle",defaultMessage:"Leave Temporary Chat?"}),description:s.jsx(A,{id:"HistoryGizmoItem.leaveTempChatDescription",defaultMessage:"Temporary Chats don't appear in your history, so you won't be able to come back to it."}),confirmText:t.formatMessage({id:"HistoryGizmoItem.leaveTempChatConfirm",defaultMessage:"Leave Temporary Chat"}),onClose:()=>{o.push("/")},onConfirm:()=>{me.setIsTemporaryChatEnabled(!1)}})})}const ea=450;function sa({children:e,clientThreadId:a,isOpen:t,onClose:o}){return s.jsx(ls,{children:t&&s.jsx(Te,{children:s.jsx(ds.Provider,{value:{isEmbeddedInFocusedView:!0},children:s.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[s.jsx(te.div,{className:"h-full w-full bg-token-main-surface-secondary",...Z}),s.jsxs("div",{className:"absolute inset-0 flex",children:[s.jsx("div",{className:"flex-grow overflow-auto",children:e}),s.jsx(te.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:ea},...Z,children:s.jsx("div",{className:"h-[100vh] pb-4",children:s.jsx(fe,{clientThreadId:a,hideHeader:!0,hideFooter:!0,hideToolsOverlay:!0,messagesVerticalAlign:"bottom"},a)})})]})]})})})})}const aa=u(()=>m(()=>import("./ghnzp10urh8yul61.js"),__vite__mapDeps([79,1,2,3,4,5,13,9,7,8,14,15,16,17,18,6,19,20,21,22,23,24,25,26,27,28,29,30]))),ta=u(()=>m(()=>import("./o39rz4pml3bm1ecl.js"),__vite__mapDeps([80,1,2,3,4,5,13,9,7,8,14,15,16,17,18,6,19,20,21,22,23,24,25,26,27,28,29,30,81,82,62,37,36])).then(e=>e.ImageEditor));function oa({clientThreadId:e}){const a=us();r.useEffect(()=>{J.close()},[e]);let t;return(a==null?void 0:a.type)===ee.ADAVisualization?t=s.jsx(aa,{clientThreadId:e,visualization:a.visualization}):(a==null?void 0:a.type)===ee.Image&&(t=s.jsx(ta,{clientThreadId:e,messageId:a.messageId,image:a.image,allImages:a.allImages},a.image.asset_pointer)),s.jsx(sa,{clientThreadId:e,isOpen:a!=null,onClose:J.close,children:t})}const na=()=>{const e=F(),a=R(n=>n.activeModals.has(T.KeyboardActions)),t=()=>{S.closeModal(T.KeyboardActions)},o=Os(),c=r.useMemo(()=>{const n=Math.ceil(o.length/2);return[o.slice(0,n),o.slice(n)]},[o]);return s.jsx(le,{isOpen:a,onClose:t,type:"success",size:"custom",className:"md:max-w-[672px] lg:max-w-[796px] xl:max-w-4xl",showCloseButton:!0,title:e.formatMessage(ca.keyboardActionsModalTitle),children:s.jsx(s.Fragment,{children:s.jsx("div",{className:"grid grid-flow-row grid-cols-[repeat(auto-fit,minmax(250px,1fr))] gap-x-9",children:c.map((n,i)=>s.jsx("div",{className:"flex flex-col overflow-hidden",children:n.map(g=>s.jsx(ra,{action:g},g.key))},`col-${i}`))})})})},ra=({action:e})=>s.jsxs("div",{className:"flex items-center justify-between overflow-hidden text-token-text-primary",children:[s.jsx("div",{className:"flex flex-shrink items-center overflow-hidden text-sm",children:s.jsx("div",{className:"truncate",children:s.jsx(A,{...e.actionMessageDescriptor})})}),s.jsx("div",{className:"ml-3 flex flex-row gap-2",children:Ls(e.keyboardBinding).map((a,t)=>s.jsx(ia,{keyName:a},`${e.key}-${t}`))})]}),ia=({keyName:e})=>{const a=O("my-2 flex h-8 items-center justify-center rounded-md border border-token-border-light capitalize text-token-text-secondary");return e.length>1?e.length>3?s.jsx("div",{className:O(a,"min-w-[50px]"),children:s.jsx("span",{className:"text-xs",children:e})}):s.jsx("div",{className:O(a,"min-w-[32px]"),children:s.jsx("span",{className:"text-xs",children:e})}):s.jsx("div",{className:O(a,"min-w-[32px]"),children:s.jsx("span",{className:"text-sm",children:e})})},ca=z({keyboardActionsModalTitle:{id:"KeyboardActionsModal.keyboardActionsModalTitle",defaultMessage:"Keyboard shortcuts"}});var la={};const da=u(()=>m(()=>import("./k077rarwzk5ajm80.js"),__vite__mapDeps([83,1,2,3,13,4,5,9,7,8,14,15,16,17,18,6,19,20,21,22,23,24,25,26,27,28,29,30,84]))),ua=u(()=>m(()=>import("./lv6qhqktl163bzsy.js"),__vite__mapDeps([85,1,2,3,7,4,5,8,59,60,14,9,55,58,57])).then(e=>e.SearchResultsModal)),ma=u(()=>m(()=>import("./gzar0rroni02x5f1.js"),__vite__mapDeps([86,1,2,3,58,7,4,5,8,59,60,14,9])).then(e=>e.ImageLightbox)),ga=u(()=>m(()=>import("./sso-igjdghj3ipkud2vz.js").then(e=>e.S),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76])).then(e=>e.default)),he=Symbol("invalid path");function Ta(e){const a=e.split(/[#?]/)[0];if(a==="/")return;if(a.match(/^\/g\/\w+$/))return;const t=/(?:(?:\/gizmo)?\/g\/\w+)?\/c\/([a-f0-9-]+)$/.exec(a);return(t==null?void 0:t[1])??he}function Pa(e){return e===he}function Ia(e){const{urlThreadId:a,clientThreadId:t}=e,o="serviceStatus"in e?e.serviceStatus:null;ba();const c=ue(),n=G(),[i,g]=r.useState(()=>a!==void 0?a:t!==void 0?t:V());a!==void 0&&i!==a&&N.getServerThreadId(i)!==a&&g(a);const f=ms(Pe());r.useEffect(()=>{a===void 0&&N.getServerThreadId(i)!==void 0&&g(V())},[a,i,f]);const{isUnauthenticated:y}=Ie();r.useEffect(()=>{if(y){S.closeSidebarWithoutSavingPreference();return}},[y]);const b=gs(),x=L(W.workspaceId),v=H(i);r.useEffect(()=>{(n.asPath==="/"||n.asPath.startsWith("/c/"))&&fs({namespace:se.ChatPageLoad})==null&&(hs({namespace:se.ChatPageLoad,opts:{expectedTimingLogs:[{name:"render_model_switcher",expectedInMs:1e4},{name:"render_history_items",expectedInMs:25e3}]}}),re.addTiming("chatgpt.web.chatPage.mounted"))},[]);const C=ps();return r.useEffect(()=>{De(!0).then(h=>{h.force_login&&C({authType:"login"}),Oe.initializeAndGatherData(h),bs.initializeAndGatherData(h),Le.initializeAndGatherData(h)})},[C]),r.useEffect(()=>{o!=null&&o.type&&b===!1&&E.warning(o.message,{hasCloseButton:!0,duration:5})},[b,o==null?void 0:o.message,o==null?void 0:o.type]),r.useEffect(()=>{const h=n.query[xs]==="true";c!==h&&me.setIsTemporaryChatEnabled(h)},[c,n.query]),s.jsxs(Ne.Provider,{value:null,children:[s.jsx(Us,{},x),s.jsx(na,{}),s.jsx(Cs,{}),s.jsx(Zs,{urlThreadId:a,clientThreadId:i,setClientThreadId:g}),!v&&s.jsx(oa,{clientThreadId:i}),s.jsx(ha,{clientThreadId:i}),s.jsx(pa,{clientThreadId:i}),s.jsx(fa,{}),v&&s.jsx(ga,{}),s.jsx(ys,{})]})}function fa(){const e=R(a=>a.sharingModalThreadId);return e?s.jsx(da,{serverThreadId:e}):null}function ha({clientThreadId:e}){return vs()&&s.jsx(ua,{clientThreadId:e})}function pa({clientThreadId:e}){return Ms()?s.jsx(ma,{clientThreadId:e}):null}function ba(){Fe({queryKey:["pingEdge"],queryFn:()=>Re.pingEdge(),enabled:!0,staleTime:1/0})}typeof window<"u"&&(window._g=la.GOKU_SERVICE);export{Ia as C,ea as F,Vs as a,Zs as b,Ta as g,Pa as i};
//# sourceMappingURL=basdbfbh4w2m2m5r.js.map
