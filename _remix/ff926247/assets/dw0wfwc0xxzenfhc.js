import{gr as S,e3 as C,dn as v,ee as j,m as e,bo as T,aE as I,fz as x,a5 as b,a9 as E,g0 as N,gs as y,u as P,r as h,dr as f,at as z,bp as M,cy as w,cU as k}from"./ccj7f6j14nau263c.js";import{C as H}from"./knfeqe5ozis7o7gx.js";import{c5 as L,c6 as F,c7 as g,c8 as G,c9 as U,ca as A,cb as p,cc as O,cd as Q,ce as D,cf as q,z as R,b as K,b9 as V,cg as W,ch as Z,ci as _,D as B,cj as J}from"./loa8289j6tos1s6g.js";import{C as X}from"./oarunijnu4zcggrf.js";import{u as Y,a as $}from"./ck4hhqh0meyucwck.js";import ee from"./g9b9u4ysamwh193t.js";import{u as se,C as ae,b as re,c as te}from"./fmikxwriu4o3162o.js";import{C as ne}from"./ipbgyu5s6whmvmty.js";import"./fj22sdsea3wcfu6j.js";import"./mby08hr11r5h56a2.js";import"./dt4h30mv0dkadc4y.js";import"./jat39myjfmfe2pfg.js";import"./n056iynmfq7m0iyh.js";import"./ktb8v8ovou2pz3lz.js";import"./ohc8rhj0hz3cbgph.js";import"./hz4w7rhmq5fb7918.js";import"./orthujvtvor3v21y.js";import"./cr3770ikai23yipp.js";function ie(){const{clientThreadId:s,currentModelId:a,conversationLeafId:o,onRequestCompletion:r}=Y(),{showEmptyState:m}=se({clientThreadId:s,currentLeafId:o}),u=L()[a],d=S(s),c=F(),l=C(),t=v()??"",n=g({gizmoId:t,draft:!1}),i=j();return e.jsx(T.Provider,{value:r,children:e.jsx(G,{children:e.jsxs(U,{clientThreadId:s,currentLeafId:o,children:[e.jsx(A,{children:d!=null&&e.jsx("title",{children:d})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(p,{id:"canvas-state",name:"canvas-state",checked:c}),e.jsx(p,{id:"thread-extended-info-sidebar-state",name:"thread-extended-info-sidebar-state",checked:l}),e.jsx(O,{anchor:"vertical",className:I(x.screen,m&&x.screenEmptyState),name:"thread",leading:i?e.jsx(ae,{}):e.jsx(re,{clientThreadId:s}),trackLeading:!0,children:n.data&&e.jsx("div",{className:"flex h-full w-full",children:e.jsx("div",{className:"max-h-[100cqh] flex-grow overflow-y-auto",children:e.jsx("div",{className:"mx-auto max-w-screen-md",children:e.jsx(Q,{clientThreadId:s,currentModelConfig:u,children:e.jsx(te,{})})})})})}),e.jsx(ne,{}),e.jsx(D,{})]})]})})})}function oe(){const s=J(a=>a.sharingModalThreadId);return s?e.jsx(ee,{serverThreadId:s}):null}function Ne(){const s=b(),a=E(),{gizmoSlug:o}=N(),r=y(o??""),m=g({gizmoId:r,draft:!1}),{isPending:u}=q(r),d=j(),{isLoading:c}=P("491279851"),l=R();h.useEffect(()=>{!c&&!l&&a("/")},[c,l,a]),h.useEffect(()=>{s!=null&&s.isFree()&&a("/")},[s,a]);const[t,n]=h.useState(()=>f());K(t,{kind:z.GizmoInteraction,gizmo_id:r}),h.useEffect(()=>{n(f())},[r]);let i=e.jsx("div",{className:"flex h-full w-full",children:e.jsx("div",{className:"m-auto",children:e.jsxs("div",{className:"flex justify-center",children:[e.jsx("span",{className:"sr-only","aria-busy":!0,role:"status","aria-live":"polite",children:e.jsx(M,{...V.loadingProjects})}),e.jsx(w,{className:"h-10 w-10 text-token-text-secondary"})]})})});return m.data&&!u&&(i=e.jsx(ie,{})),e.jsx(W,{children:e.jsx($,{clientThreadId:t,setClientThreadId:n,children:d?e.jsx(Z,{children:e.jsx(_,{className:k.application,sidebar:e.jsx(X,{}),thread:i,debugger:e.jsx(B,{clientThreadId:t})})}):e.jsxs(e.Fragment,{children:[e.jsx(H,{clientThreadId:t,setClientThreadId:n,threadContent:i}),e.jsx(oe,{})]})})})}export{Ne as default};
//# sourceMappingURL=dw0wfwc0xxzenfhc.js.map
