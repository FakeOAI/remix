import{f$ as w,aa as j,a9 as I,r as a,at as P,w as E,o as l,m as o,g0 as F}from"./gkip3s8xpilxjlzw.js";import{t as p,a as r,u as S,s as b,C as f,b as B,g as C,T as M}from"./n766k8stggevg9f9.js";import{C as h,T as N}from"./dsvp4ms20sts18fy.js";import{T as O}from"./glc1zyy8wqxf8hn9.js";import"./dlpb2yv5mb3tebui.js";import"./h2wh3lo1pha4b8r2.js";import"./cvti8r6w6lpexhzo.js";import"./lm3r8g1khxq680lr.js";import"./jmxw24p7n1b865hg.js";import"./lcyujmtxn9hnqcyn.js";import"./j9kkckix5hwu5q5q.js";import"./jdwwosck1eac76ro.js";import"./nmufbp8novegx01g.js";import"./fzrn137102spawew.js";import"./j3b8n4zxfeupyk44.js";import"./coatal4tjz6bpdr6.js";import"./i1u0ox9eocwix8j3.js";import"./h0880ulwarnv9534.js";import"./odzyp4c4bfvos2s9.js";const _=()=>(F(),null);function ee(){const d=w(),[s]=j(),c=I(),v=p(d.conversationId),n=r(s.get("readonly"),!1),x=r(s.get("isFullScreen"),!1),m=r(s.get("header"),!0),T=r(s.get("hideBottomComposer"),!!n),t=p(d.canmoreId),e=v,i=S();a.useEffect(()=>{b({type:f.Textdoc,textdocId:t})},[t]),B(e,{kind:P.PrimaryAssistant});const u=E();if(a.useEffect(()=>(l.retainThread(e),()=>{setTimeout(()=>{u.invalidateQueries({queryKey:["conversation",e]})},0),l.releaseThread(e)}),[e,u]),a.useEffect(()=>{t||c("/")},[t,c]),a.useEffect(()=>{C().sendMessage({type:h.Loaded})},[t]),!t||i?.type!==f.Textdoc)return null;const y=()=>{C().sendMessage({type:h.Close})},g=n&&!m;return o.jsxs("div",{className:"h-full w-full overflow-hidden contain-content",children:[o.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1"}),o.jsx(M,{clientThreadId:e,children:g?o.jsx(O,{textdocId:i.textdocId}):o.jsx(N,{isEmbedded:!0,isFullScreen:x,hideHeader:!m,hideBottomComposer:T,isReadonlyFromQueryParam:n,clientThreadId:e,focusedTextdoc:i,onClose:y},"textdocContent")})]})}export{_ as clientLoader,ee as default};
//# sourceMappingURL=gapdiktp0up3v8af.js.map
