const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/b64ssli5iazeztps.js","assets/jkt8kpmqx1ob1zea.js","assets/root-ij0a8l2a.css","assets/j41xn51jmw95fwqz.js","assets/conversation-small-ile61fj8.css","assets/nkbqdsvsx4yz7e52.js","assets/fnb93hfi264hros5.js","assets/k7y4ylng04thty74.js","assets/pcozscitvzhzxgrd.js","assets/c4bxzbp1808foto4.js","assets/odmcipi3ftfc0735.js","assets/e20r01umy7dw8sav.js","assets/f0evle1pm24a0to8.js","assets/mkdtgufqp7mii6o2.js","assets/izpgkl6t0zj5iap0.js","assets/nwjvtobnr4txijca.js","assets/i113xcdmhaayatkm.js","assets/o9r2o80kulrb4gi5.js","assets/blbd8ru4m21k2ais.js","assets/hgxnd6ut1jsesjcr.js","assets/jf9ynkz99gydqdid.js","assets/ire8jlg5ci46112o.js","assets/m755pqu8akvq3cio.js","assets/lxztbvmgtey2bfin.js","assets/nbny4ol4qfnmo8ue.js","assets/hr6uixubxtwpubre.js","assets/fv2w91oo1dle89gx.js","assets/oki6nqdhywmww2nr.js","assets/onluya6a2xtuiad6.js","assets/ni7jve08i7uda1il.js","assets/nhihqknp1726s684.js","assets/n1a38274iwykbf8e.js","assets/enifny5o6rvmja92.js","assets/lmsnt8lcr16za38r.js","assets/fzrn137102spawew.js","assets/nlzjqb5fys1yuhid.js","assets/bx2mxhwomlpwxasz.js","assets/btagl6w1gub4aw61.js","assets/ioxj3qs941eu7ypm.js","assets/nh1pk23dtwhv8swj.js","assets/ff2jes2xweyollzx.js","assets/3mp3ui9hn9fcrrpk.js","assets/g4tl5lt9yqf20m4s.js"])))=>i.map(i=>d[i]);
import{hk as K,r as o,cm as Q,m as e,a9 as q,w as X,L as Y,eG as J,ec as D,gY as _,b3 as f,b4 as x,e3 as S,e1 as $,aE as Z,cL as w,N as ee,aw as se,a8 as P,aa as ae,dk as N,s as A,bi as te,D as re,cT as ie,cU as oe,cV as ne,dK as de,g4 as ce,t as le,W as ue}from"./jkt8kpmqx1ob1zea.js";import{j5 as he,j6 as L,b0 as R,j7 as me,h_ as fe,j8 as k,i4 as b,gI as xe,bT as y,bU as F,l as ge,j9 as pe,u as be,m as je,cl as ve,fP as Se,p as we,q as ye,D as Te,ja as Ce,j as Ee,ck as Ie,T as _e,n as Pe,F as Ne,jb as Ae,ce as ke,jc as Fe,jd as Ve,cz as Oe,cA as V,je as Me,aP as De,jf as Le,jg as Re,bB as Ue,cj as ze,d8 as Be,jh as Ge,ji as We,jj as He,d9 as Ke,jk as Qe,cf as qe,fJ as Xe}from"./j41xn51jmw95fwqz.js";import{m}from"./odmcipi3ftfc0735.js";import{C as Ye}from"./e20r01umy7dw8sav.js";import{a as U,u as T}from"./izpgkl6t0zj5iap0.js";import{C as z}from"./lxztbvmgtey2bfin.js";import{a as Je}from"./hgxnd6ut1jsesjcr.js";import{C as $e}from"./o9r2o80kulrb4gi5.js";function Ze(){const a=he(r=>r.notifications),{activeThreadIds:s}=K();return o.useEffect(()=>{a.filter(t=>t.clientThreadId===void 0||s.has(t.clientThreadId)).map(t=>t.id).filter(t=>t!==void 0).forEach(t=>L(t))},[s,a]),a.length===0||Q?null:e.jsx("div",{className:"fixed right-4 top-8 my-2 flex max-h-[90vh] flex-col-reverse space-y-2 space-y-reverse overflow-y-auto px-2 py-4",children:e.jsx(R,{children:a.map(r=>e.jsx(es,{...r},r.id))})})}function es({...a}){const s=q(),r=X(),t=Y(),n=J(a.clientThreadId),d=()=>{n&&fe(s,r,n),a.id&&L(a.id)};return e.jsxs(m.div,{onClick:d,className:"inline-flex w-80 cursor-pointer items-center justify-start gap-2.5 rounded-2xl border border-token-border-light bg-token-main-surface-primary px-3 py-3 align-middle shadow-lg",initial:{opacity:0,x:320},animate:{opacity:1,x:0},exit:{opacity:0,x:320},transition:{duration:.5},children:[e.jsx(me,{iconName:"openai",size:"medium",className:"border-token-secondary rounded-full border bg-token-main-surface-primary text-token-text-primary"}),e.jsxs("div",{className:"inline-flex w-full shrink grow basis-0 flex-col items-start justify-start overflow-hidden",children:[e.jsx("div",{className:"w-full truncate text-sm font-medium text-token-text-primary",children:a.title??t.formatMessage({id:"mpXAeu",defaultMessage:"New chat"})}),e.jsx("div",{className:"w-full truncate text-sm text-token-text-tertiary",children:a.subtitle??t.formatMessage({id:"qMEc8J",defaultMessage:"New Message"})})]})]})}const O=450;function ss({children:a,clientThreadId:s,isOpen:r,onClose:t}){const n=D();return e.jsxs(R,{children:[r&&n&&e.jsx(U,{clientThreadId:s,children:e.jsx(_,{children:e.jsx(k.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(m.div,{className:"h-full w-full bg-token-main-surface-secondary",...b}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx(m.div,{className:"relative shrink-0 border-r border-token-border-medium bg-token-main-surface-primary",style:{width:O},...b,children:e.jsx(z,{hideHeader:!0,hideTools:!0})}),e.jsx("div",{className:"relative flex-grow overflow-auto",children:a})]})]})})})}),r&&!n&&e.jsx(_,{children:e.jsx(k.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(m.div,{className:"h-full w-full bg-token-main-surface-secondary",...b}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx("div",{className:"flex-grow overflow-auto",children:a}),e.jsx(m.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:O},...b,children:e.jsx("div",{className:"h-[100vh] pb-4",children:e.jsx(Je,{clientThreadId:s,hideHeader:!0,hideFooter:!0,hideToolsOverlay:!0,messagesVerticalAlign:"bottom"},s)})})]})]})})})]})}const as=f(()=>x(()=>import("./b64ssli5iazeztps.js"),__vite__mapDeps([0,1,2,3,4]))),ts=f(()=>x(()=>import("./nkbqdsvsx4yz7e52.js"),__vite__mapDeps([5,1,2,3,4,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24])).then(a=>a.ImageEditor));function rs({clientThreadId:a}){const s=xe();o.useEffect(()=>{y.close()},[a]);let r;return s?.type===F.ADAVisualization?r=e.jsx(as,{clientThreadId:a,visualization:s.visualization}):s?.type===F.Image&&(r=e.jsx(ts,{clientThreadId:a,messageId:s.messageId,image:s.image,allImages:s.allImages},s.image.asset_pointer)),e.jsx(ss,{clientThreadId:a,isOpen:s!=null,onClose:y.close,children:r})}function is(){const{clientThreadId:a,resetThread:s}=T();return ge({resetThreadAction:s,clientThreadId:a}),null}const os=f(()=>x(()=>import("./hr6uixubxtwpubre.js"),__vite__mapDeps([25,1,2,3,4,26,10,20,27,28,29,30,31,32,14,33,34,35,21,36,37])).then(a=>a.CanvasFocusedViewManager)),M=64;function ns(){const{focusedObject:a,clientThreadId:s}=T();S(void 0);const r=o.useRef(null),[t,n]=o.useState({bottom:null,height:null});pe(r,n);const d=be(),g=S("searchSources"),i=S("summarizer"),l=$(),[h,j]=o.useState(!1),v=!d&&!!a;let c=0;h&&t.height==null?c=M:h&&t.height!=null?c=M+t.height:!h&&t.height!=null&&(c=t.height);const p=je();return e.jsx(ve,{className:Z(w.application,{[w.withCanvasFocusedView]:!!d,[w.withEmbeddedFocusedView]:v}),banner:e.jsx(ee,{children:e.jsx(Se,{setIsMobileAppUpsellBannerVisible:j})}),sidebar:e.jsx($e,{}),thread:e.jsx(z,{ref:r},s),details:e.jsx(os,{clientThreadId:s}),threadExtendedInfo:l&&e.jsxs(e.Fragment,{children:[!1,g&&e.jsx(we,{clientThreadId:s}),p&&i&&e.jsx(ye,{clientThreadId:s})]}),debugger:e.jsx(Te,{clientThreadId:s}),name:"application-root",style:{"--screen-keyboard-bottom":t.bottom?`${t.bottom}px`:"","--screen-height-offset":c>0?`${c}px`:""}})}function ds(){const{clientThreadId:a,currentModelId:s,isCompanionWindow:r}=T();return e.jsx(Ce,{conversationId:a,currentModelId:s,isActiveWindow:!r})}function cs({clientThreadId:a,urlThreadId:s}){return Ee({clientThreadId:a}),e.jsxs(Ie,{children:[e.jsx(ds,{}),e.jsx(is,{}),e.jsxs(_e,{enableSandbox:!1,clientThreadId:a,children:[e.jsx(Pe,{clientThreadId:a,urlThreadId:s}),e.jsx(Ne,{}),e.jsx(ns,{})]})]})}var ls={};const us=f(()=>x(()=>import("./ioxj3qs941eu7ypm.js"),__vite__mapDeps([38,1,2,3,4,39,40]))),hs=f(()=>x(()=>import("./3mp3ui9hn9fcrrpk.js"),__vite__mapDeps([41,1,2,3,4,14,23,19,20,10,21,22,24,42])));function ys(a){const{urlThreadId:s,clientThreadId:r,prefetchSearch:t}=a;fs();const n=se(),d=P(),[g]=ae(),[i,l]=o.useState(()=>s!==void 0?s:r!==void 0?r:N());s!==void 0&&i!==s&&A.getServerThreadId(i)!==s&&l(s);const h=Ae(P());o.useEffect(()=>{s===void 0&&A.getServerThreadId(i)!==void 0&&l(N())},[s,i,h]);const j=ke(qe.workspaceId),v=D(),{eligible:c,isLoading:p,markAsViewed:C}=Fe(),E=Ve(),B=te("3435450078");o.useEffect(()=>{(d.pathname==="/"||d.pathname.startsWith("/c/"))&&Oe({namespace:V.ChatPageLoad})==null&&(Me({namespace:V.ChatPageLoad,opts:{expectedTimingLogs:[{name:"render_model_switcher",expectedInMs:1e4},{name:"render_history_items",expectedInMs:25e3}]}}),re.addTiming("chatgpt.web.chatPage.mounted"))},[]);const I=De();o.useEffect(()=>{ie(!0).then(u=>{u.force_login&&I({authType:"login"}),oe.initializeAndGatherData(u),Le.initializeAndGatherData(u),ne.initializeAndGatherData(u)})},[I]),o.useEffect(()=>{const u=g.get(Re)==="true";n!==u&&de.setIsTemporaryChatEnabled(u)},[n,g]),o.useEffect(()=>{d.state?.focusObject&&y.setFocusedObject(d.state.focusObject)},[d.state?.focusObject]),o.useEffect(()=>{!p&&c&&(C(),E())},[c,p,C,E]);const{isOpen:G,isLoading:W}=Ue(),H=v?cs:Ye;return e.jsx(ce.Provider,{value:null,children:e.jsx(ze,{children:e.jsxs(Be,{clientThreadId:i,children:[e.jsx(Ge,{clientThreadId:i},j),!W&&G&&e.jsx(hs,{clientThreadId:i,setClientThreadId:l}),e.jsx(We,{}),e.jsx(He,{}),e.jsx(U,{clientThreadId:i,setClientThreadId:l,prefetchSearch:t,children:e.jsx(H,{urlThreadId:s,clientThreadId:i,setClientThreadId:l,prefetchSearch:t})}),e.jsx(rs,{clientThreadId:i}),e.jsx(Ke,{clientThreadId:i}),e.jsx(ms,{}),e.jsx(Qe,{}),B?e.jsx(Ze,{}):!1]})})})}function ms(){const a=Xe(s=>s.sharingModalThreadId);return a?e.jsx(us,{serverThreadId:a}):null}function fs(){le({queryKey:["pingEdge"],queryFn:()=>ue.pingEdge(),enabled:!0,staleTime:1/0})}typeof window<"u"&&(window._g=ls.GOKU_SERVICE);export{ys as C,O as F};
//# sourceMappingURL=e6hibhefnyxwr8f5.js.map
