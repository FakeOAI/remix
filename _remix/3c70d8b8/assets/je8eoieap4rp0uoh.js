import{gq as j,e1 as S,dh as v,m as e,b5 as T,aE as b,fw as x,a5 as I,a9 as E,fZ as P,gr as y,ec as N,u as z,r as l,dk as f,at as k,b6 as w,co as M,cL as F}from"./jkt8kpmqx1ob1zea.js";import{C as G}from"./e20r01umy7dw8sav.js";import{J as L,K as H,M as O,cg as C,P as Q,O as A,Q as D,V as R,W as p,X as U,R as V,Y as q,ch as K,z as W,b as Z,ci as J,cj as X,ck as Y,cl as _,D as B}from"./j41xn51jmw95fwqz.js";import{C as $}from"./o9r2o80kulrb4gi5.js";import{u as ee,a as se}from"./izpgkl6t0zj5iap0.js";import{u as ae,C as te,b as re,c as ne}from"./hgxnd6ut1jsesjcr.js";import{C as oe}from"./nbny4ol4qfnmo8ue.js";import"./f0evle1pm24a0to8.js";import"./mkdtgufqp7mii6o2.js";import"./odmcipi3ftfc0735.js";import"./nwjvtobnr4txijca.js";import"./i113xcdmhaayatkm.js";import"./blbd8ru4m21k2ais.js";import"./jf9ynkz99gydqdid.js";import"./ire8jlg5ci46112o.js";import"./m755pqu8akvq3cio.js";function ie(){const{clientThreadId:s,currentModelId:a,conversationLeafId:d,onRequestCompletion:t}=ee(),{showEmptyState:m}=ae({clientThreadId:s,currentLeafId:d}),u=L()[a],[h,c]=H({name:"composer-bar",track:"height"}),r=j(s),n=O(),o=S(),i=v()??"",g=C({gizmoId:i,draft:!1});return e.jsx(T.Provider,{value:t,children:e.jsx(Q,{children:e.jsxs(A,{clientThreadId:s,currentLeafId:d,children:[e.jsx(D,{children:r!=null&&e.jsx("title",{children:r})}),e.jsx("div",{className:"flex-1",children:e.jsxs(R.Provider,{value:{setComposerFooterElement:c},children:[e.jsx(p,{id:"canvas-state",name:"canvas-state",checked:n}),e.jsx(p,{id:"thread-extended-info-sidebar-state",name:"thread-extended-info-sidebar-state",checked:o}),e.jsx(U,{anchor:"vertical",className:b(x.screen,m&&x.screenEmptyState),name:"thread",leading:e.jsx(te,{}),style:h,trackLeading:!0,trackTrailing:!0,trailing:e.jsx(re,{}),children:g.data&&e.jsx("div",{className:"flex h-full w-full",children:e.jsx("div",{className:"h-full flex-grow overflow-y-auto",children:e.jsx("div",{className:"mx-auto max-w-screen-md",children:e.jsx(V,{clientThreadId:s,currentModelConfig:u,children:e.jsx(ne,{})})})})})}),e.jsx(oe,{}),e.jsx(q,{})]})})]})})})}function Ie(){const s=I(),a=E(),{gizmoSlug:d}=P(),t=y(d??""),m=C({gizmoId:t,draft:!1}),u=K(t),h=N(),{isLoading:c}=z("491279851"),r=W();l.useEffect(()=>{!c&&!r&&a("/")},[c,r,a]),l.useEffect(()=>{s!=null&&s.isFree()&&a("/")},[s,a]);const[n,o]=l.useState(()=>f());if(Z(n,{kind:k.GizmoInteraction,gizmo_id:t}),l.useEffect(()=>{o(f())},[t]),!r)return null;let i=e.jsx("div",{className:"flex h-full w-full",children:e.jsx("div",{className:"m-auto",children:e.jsxs("div",{className:"flex justify-center",children:[e.jsx("span",{className:"sr-only","aria-busy":!0,role:"status","aria-live":"polite",children:e.jsx(w,{...J.loadingProjects})}),e.jsx(M,{className:"h-10 w-10 text-token-text-secondary"})]})})});return m.data&&!u.isPending&&(i=e.jsx(ie,{})),e.jsx(X,{children:e.jsx(se,{clientThreadId:n,setClientThreadId:o,children:h?e.jsx(Y,{children:e.jsx(_,{className:F.application,sidebar:e.jsx($,{}),thread:i,debugger:e.jsx(B,{clientThreadId:n})})}):e.jsx(G,{clientThreadId:n,setClientThreadId:o,threadContent:i})})})}export{Ie as default};
//# sourceMappingURL=je8eoieap4rp0uoh.js.map
