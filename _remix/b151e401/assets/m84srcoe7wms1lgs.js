const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dsqzrehh0wh9itml.js","assets/llbrkjesn4fy8q4c.js","assets/oqbc6ah0gwwjqrkd.js","assets/root-gq5hrjjg.css","assets/cos8e48aelizd7fm.js","assets/conversation-small-ile61fj8.css","assets/ojt2wrb4yexygybl.js","assets/ldpzakis1dq4n8j8.js","assets/m2bh5x759u52lj5z.js","assets/g4zaoz8y5nfpfdmm.js","assets/lpx64ww748dqjsob.js","assets/b92q8lo30mpzmm1s.js","assets/fknf4j5mal1zn5wn.js","assets/swjqjwhktco8cnw2.js","assets/dfusiw8kcf3amiec.js","assets/hqy44lh5vujvrs2f.js","assets/fktzxkpbboovg3xn.js","assets/fzrn137102spawew.js","assets/mbw0bx78uz3h2rd4.js","assets/c3rwmft3vyyh0u0r.js","assets/2pdqbgz57q582jk7.js","assets/dodahv5q5utkfrr7.js","assets/kudx5wrk0l1em709.js","assets/ni6l100mmwask9ii.js","assets/78inh32apfdr2c7e.js","assets/kqwdyvkaaavvn8k3.js","assets/fiuuqrpcpq5eegae.js","assets/c1rnz6bpd5uljnjy.js","assets/983a0dy92b3ronpv.js","assets/kg99lvx52qjb4xue.js","assets/j083gwsa7ds4s67f.js","assets/b5mt6ctj6w2mju92.js","assets/c4bxzbp1808foto4.js","assets/m1b9c2zyt35gf3ge.js","assets/f70y0wa5p9rmwmp8.js","assets/odfi1ahnacqubfga.js","assets/mleqrt96yycin84p.js","assets/icnf2ra8n9fp8ala.js","assets/m5037geb98cbh27i.js","assets/c5ptv189q27njwsu.js","assets/kpjgxy8sm6owxzdh.js","assets/hblzhzq77rhbmjb6.js","assets/nkfu6q7h2z3u3kjx.js","assets/cwlpf6l0s7y1jcxl.js","assets/eu7kid02obr8itjz.js","assets/fpcyvm07ic7ux7nm.js","assets/g4tl5lt9yqf20m4s.js"])))=>i.map(i=>d[i]);
import{r as d,Z as Pe,dk as _e,dj as De,dh as Ie,x as ye,ab as Le,gj as Ne,y as L,c3 as Be,aR as Ve,hf as se,m as e,G as Fe,c9 as Re,ba as We,F as He,aH as g,aI as f,aq as Ge,bf as Ue,b2 as oe,fn as pe,gY as te,eW as ne,aD as ze,gO as re,bp as Ke,ap as qe,a2 as ie,a4 as Qe,d3 as le,D as Ye,ci as Ze,cj as $e,ck as Je,dt as Xe,f_ as ea,s as aa,L as sa}from"./llbrkjesn4fy8q4c.js";import{hl as oa,hm as ta,bH as k,hn as na,ho as ra,hp as ia,hq as la,hr as da,hs as ca,ht as ua,e0 as ha,hu as ga,hv as fa,hw as ma,hx as pa,hy as ba,hz as Sa,hA as xa,hB as Ma,hC as Ca,hD as ja,hE as Aa,hF as wa,hG as va,hH as Oa,hI as ka,hJ as Ta,hK as Ea,hL as Pa,hM as _a,hN as Da,bS as be,l as y,U as de,bI as B,hO as Ia,hP as ya,cw as Se,b3 as La,cx as Na,T as xe,hQ as Me,fc as Ba,hR as Va,fT as Ce,hS as je,hT as Ae,hU as Fa,ak as we,ay as Ra,b4 as ve,hV as ce,hW as v,fA as Wa,bk as N,bl as ue,j as Ha,hX as Ga,eI as Ua,ef as za,eH as Ka,hY as qa,hZ as Qa,h_ as Ya,h$ as Za,i0 as $a,i1 as Ja,i2 as he,i3 as Xa,ai as es,i4 as as,i5 as ss,b1 as os,cu as ts,cv as ns,i6 as rs,i7 as is,cy as ls,i8 as ds}from"./cos8e48aelizd7fm.js";import{S as ge,b as cs,c as us}from"./m1b9c2zyt35gf3ge.js";import{S as hs,C as gs}from"./odfi1ahnacqubfga.js";import{T as Oe}from"./mleqrt96yycin84p.js";import{N as fs}from"./f70y0wa5p9rmwmp8.js";import{C as ke}from"./kpjgxy8sm6owxzdh.js";import{m as O}from"./m2bh5x759u52lj5z.js";import{C as ms}from"./nkfu6q7h2z3u3kjx.js";const ps=({onClose:a})=>{const s=Fe(),o=k(B.isBusinessWorkspace),t=k(i=>i.currentWorkspace),r=o?s.formatMessage(fe.workspaceWelcome,{workspaceName:t?.name}):"ChatGPT";return e.jsx(Re,{isOpen:!0,onClose:We,type:"success",title:r,size:"custom",noPadding:!0,className:"max-w-3xl",description:s.formatMessage(fe.personalOnboardingSubheading),children:e.jsx(Ia,{onClose:a,scope:ya.Personal})})};function bs({clientThreadId:a}){const[s,o]=d.useState(0),{hasSeenOnboardingDate:t}=oa(),{hasSeenTeamOwnerOnboardingDate:r}=ta(),i=k(B.isBusinessWorkspace),u=Pe(),[n,m]=d.useState(!1),{data:T,isPending:E,isEnabled:P}=na(),b=ra(T,E&&P),{eligible:w}=ia(),S=_e(),x=De(),M=Ie(),_=ye(()=>Le.getThread(a)),C=Ne(a)||!_,j=L.getConversationOrigin(a),{data:l,isError:A}=Be(),h=l!=null,V=l&&l?.accountItems.length>1&&l.currentAccountId==null,F=l?.accountItems.some(c=>c.isPersonalAccount()),R=!!l?.accountItems&&l.accountItems.length>0&&l.accountItems.every(({canAccessWithCurrentSession:c})=>!c),{eligible:W,isLoading:H}=la(),{value:G}=Ve("1542198993"),{punchOutRequireLoginInfo:U}=da(),{state:z}=ca(),{isOpen:K,isLoading:q}=ua(),{isOpen:Q,isLoading:Y}=ha(),{isOpen:Z,isLoading:$}=ga(),{isOpen:J,isLoading:X}=fa(),{state:ee}=ma(),p=d.useMemo(()=>[{Component:pa,getModalState:()=>U?"show":"hide",isDeferrable:!1},{Component:ba,getModalState:()=>z,isDeferrable:!1},{Component:Sa,getModalState:()=>ee,isDeferrable:!1},{Component:xa,getModalState:()=>q||C?"loading":j===se.APPLE?"hide":K?"show":"hide",isDeferrable:!1},{Component:Ma,getModalState:()=>X||C?"loading":j===se.APPLE?"hide":J?"show":"hide",isDeferrable:!1},{Component:ps,getModalState:()=>i?"hide":t===null?"loading":t===!1?"show":"hide",isDeferrable:!0},{Component:Ca,getModalState:()=>A?"hide":V?"show":h?"hide":"loading",isDeferrable:!1},{Component:ja,getModalState:()=>S!==null?"show":A||h?"hide":"loading",isDeferrable:!1},{Component:Aa,getModalState:()=>x!==null?"show":A||h?"hide":"loading",isDeferrable:!1},{Component:wa,getModalState:()=>M!=null?"show":A||h?"hide":"loading",isDeferrable:!1},{Component:va,getModalState:()=>h?R?"show":"hide":"loading",isDeferrable:!1},{Component:Oa,getModalState:()=>Y?"loading":Q?"show":"hide",isDeferrable:!1},{Component:ka,getModalState:()=>$?"loading":Z?"show":"hide",isDeferrable:!1},{Component:Ta,getModalState:()=>"hide",isDeferrable:!1},{Component:Ea,getModalState:()=>!u?.isTeam()||!u?.isOwnerOfAccount()||!F?"hide":!h||r===null?"loading":r===!1?"show":"hide",isDeferrable:!1},{Component:Pa,getModalState:()=>i?t===null?"loading":t===!1?"show":"hide":"hide",isDeferrable:!0},{Component:_a,getModalState:()=>H?"loading":W&&G?"show":"hide",isDeferrable:!1},{Component:Da,getModalState:()=>b,isDeferrable:!1}].filter(c=>!(c.isDeferrable&&n)),[w,U,z,M,h,t,r,F,i,A,S,x,u,R,V,b,n,G,W,H,K,q,J,X,ee,Y,Q,Z,$,j,C]);d.useEffect(()=>{if(p[s]&&p[s].getModalState()==="hide"){const c=p.findIndex(Ee=>Ee.getModalState()!=="hide");o(c)}},[s,p]);const D=p[s],I=D?.getModalState()==="show";if(d.useEffect(()=>{const c=be.getState().activeModals.has(y.BlockingInitialComponent);I!==c&&(I?de.openModal(y.BlockingInitialComponent):de.closeModal(y.BlockingInitialComponent))},[I]),D==null)return e.jsx("span",{"data-testid":"blocking-initial-modals-done",className:"hidden"});const ae=D.getModalState();if(ae==="loading")return null;ae==="hide"&&o(c=>c+1);const Te=p[s].Component;return e.jsx(Te,{onClose:()=>{m(!0),o(c=>c+1)}})}const fe=He({workspaceWelcome:{id:"BlockingInitialModals.workspaceWelcome",defaultMessage:"Welcome to the {workspaceName} workspace"},personalOnboardingSubheading:{id:"BlockingInitialModals.personalOnboardingSubheading",defaultMessage:"Tips for getting started"}}),Ss=g(()=>f(()=>import("./dsqzrehh0wh9itml.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20])).then(a=>a.CanvasFocusedViewManager)),xs=g(()=>f(()=>import("./dodahv5q5utkfrr7.js"),__vite__mapDeps([21,1,2,3,22,4,5,23,24,25,26,27,8,28])).then(a=>a.SearchResultsModal));function Ms({clientThreadId:a,setClientThreadId:s,urlThreadId:o,prefetchSearch:t}){const r=Ge();Se({clientThreadId:a});const{createNewThread:i,onThreadCreated:u,resetThread:n}=La({clientThreadId:a,setClientThreadId:s});return Na({resetThreadAction:n,clientThreadId:a}),e.jsxs(xe,{enableSandbox:!1,clientThreadId:a,children:[e.jsx(Me,{clientThreadId:a,urlThreadId:o}),e.jsxs(ge,{hideNavigation:r,mobileHeaderContent:e.jsx(Ba,{clientThreadId:a,inMobileHeader:!0}),mobileHeaderBottomContent:e.jsx(Va,{clientThreadId:a}),mobileHeaderLeftContent:e.jsx(cs,{onNewChatButtonClick:n}),mobileHeaderRightContent:e.jsx(us,{onNewChatButtonClick:n}),sidebar:e.jsx(fs,{navHeader:a?e.jsx(hs,{className:"flex h-[60px] items-center md:h-header-height",onNewThread:i}):null,children:e.jsx(gs,{clientThreadId:a,onNewThread:i})}),threadFlyout:e.jsx(Ce,{clientThreadId:a}),children:[e.jsx(je,{}),e.jsx(Oe,{clientThreadId:a,onCreate:u,prefetchSearch:t},a),e.jsxs(ge.Sidebars,{children:[e.jsx(Ss,{clientThreadId:a}),e.jsx(Ae,{clientThreadId:a})]})]}),e.jsx(Cs,{clientThreadId:a})]})}function Cs({clientThreadId:a}){const s=Ue(),o=s?.includes(oe.SearchTool)&&!s?.includes(oe.SearchToolHoldout),t=Fa();return pe()&&(!t||!o)&&e.jsx(xs,{clientThreadId:a})}const me=450;function js({children:a,clientThreadId:s,isOpen:o,onClose:t}){const r=we();return e.jsxs(Ra,{children:[o&&r&&e.jsx(ve,{clientThreadId:s,children:e.jsx(te,{children:e.jsx(ce.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(O.div,{className:"h-full w-full bg-token-main-surface-secondary",...v}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx("div",{className:"flex-grow overflow-auto",children:a}),e.jsx(O.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:me},...v,children:e.jsx(ke,{hideHeader:!0,hideTools:!0})})]})]})})})}),o&&!r&&e.jsx(te,{children:e.jsx(ce.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(O.div,{className:"h-full w-full bg-token-main-surface-secondary",...v}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx("div",{className:"flex-grow overflow-auto",children:a}),e.jsx(O.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:me},...v,children:e.jsx("div",{className:"h-[100vh] pb-4",children:e.jsx(Oe,{clientThreadId:s,hideHeader:!0,hideFooter:!0,hideToolsOverlay:!0,messagesVerticalAlign:"bottom"},s)})})]})]})})})]})}const As=g(()=>f(()=>import("./kg99lvx52qjb4xue.js"),__vite__mapDeps([29,1,2,3,4,5]))),ws=g(()=>f(()=>import("./j083gwsa7ds4s67f.js"),__vite__mapDeps([30,1,2,3,4,5,31,32,8,33,34,19,35,36,15,37,38,39,9,40,41,42])).then(a=>a.ImageEditor));function vs({clientThreadId:a}){const s=Wa();d.useEffect(()=>{N.close()},[a]);let o;return s?.type===ue.ADAVisualization?o=e.jsx(As,{clientThreadId:a,visualization:s.visualization}):s?.type===ue.Image&&(o=e.jsx(ws,{clientThreadId:a,messageId:s.messageId,image:s.image,allImages:s.allImages},s.image.asset_pointer)),e.jsx(js,{clientThreadId:a,isOpen:s!=null,onClose:N.close,children:o})}const Os=g(()=>f(()=>import("./dsqzrehh0wh9itml.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20])).then(a=>a.CanvasFocusedViewManager));function ks(){const{focusedObject:a,clientThreadId:s}=Ha();ne(void 0);const o=d.useRef(null);Ga(o);const t=ne("searchSources"),r=pe(),[i,u]=d.useState(!1);return e.jsx(Ua,{className:ze(re.application,{[re.withFocusedView]:a}),banner:e.jsx(Ke,{children:e.jsx(za,{setIsMobileAppUpsellBannerVisible:u})}),sidebar:e.jsx(ms,{}),thread:e.jsx(ke,{ref:o},s),details:e.jsx(Os,{clientThreadId:s}),threadExtendedInfo:r&&e.jsxs(e.Fragment,{children:[!1,t&&e.jsx(Ce,{clientThreadId:s})]}),debugger:e.jsx(Ae,{clientThreadId:s}),name:"application-root",style:{"--screen-height-offset":i?"64px":""}})}function Ts({clientThreadId:a,setClientThreadId:s,urlThreadId:o,prefetchSearch:t}){return Se({clientThreadId:a}),e.jsx(ve,{clientThreadId:a,setClientThreadId:s,prefetchSearch:t,children:e.jsxs(Ka,{children:[e.jsx(qa,{}),e.jsx(Qa,{}),e.jsxs(xe,{enableSandbox:!1,clientThreadId:a,children:[e.jsx(Me,{clientThreadId:a,urlThreadId:o}),e.jsx(je,{}),e.jsx(ks,{})]})]})})}var Es={};const Ps=g(()=>f(()=>import("./cwlpf6l0s7y1jcxl.js"),__vite__mapDeps([43,1,2,3,4,5,44]))),_s=g(()=>f(()=>import("./fpcyvm07ic7ux7nm.js"),__vite__mapDeps([45,1,2,3,4,5,40,36,15,37,38,8,39,19,9,41,46])));function Gs(a){const{urlThreadId:s,clientThreadId:o,prefetchSearch:t}=a;Is();const r=qe(),i=ie(),[u]=Qe(),[n,m]=d.useState(()=>s!==void 0?s:o!==void 0?o:le());s!==void 0&&n!==s&&L.getServerThreadId(n)!==s&&m(s);const T=Ya(ie());d.useEffect(()=>{s===void 0&&L.getServerThreadId(n)!==void 0&&m(le())},[s,n,T]);const E=k(B.workspaceId),P=we(),{eligible:b,isLoading:w,markAsViewed:S}=Za(),x=$a();d.useEffect(()=>{(i.pathname==="/"||i.pathname.startsWith("/c/"))&&Ja({namespace:he.ChatPageLoad})==null&&(Xa({namespace:he.ChatPageLoad,opts:{expectedTimingLogs:[{name:"render_model_switcher",expectedInMs:1e4},{name:"render_history_items",expectedInMs:25e3}]}}),Ye.addTiming("chatgpt.web.chatPage.mounted"))},[]);const M=es();d.useEffect(()=>{Ze(!0).then(l=>{l.force_login&&M({authType:"login"}),$e.initializeAndGatherData(l),as.initializeAndGatherData(l),Je.initializeAndGatherData(l)})},[M]),d.useEffect(()=>{const l=u.get(ss)==="true";r!==l&&Xe.setIsTemporaryChatEnabled(l)},[r,u]),d.useEffect(()=>{i.state?.focusObject&&N.setFocusedObject(i.state.focusObject)},[i.state?.focusObject]),d.useEffect(()=>{!w&&b&&(S(),x())},[b,w,S,x]);const{isOpen:_,isLoading:C}=os(),j=P?Ts:Ms;return e.jsx(ea.Provider,{value:null,children:e.jsx(ts,{children:e.jsxs(ns,{clientThreadId:n,children:[e.jsx(bs,{clientThreadId:n},E),!C&&_&&e.jsx(_s,{clientThreadId:n,setClientThreadId:m}),e.jsx(rs,{}),e.jsx(is,{}),e.jsx(j,{urlThreadId:s,clientThreadId:n,setClientThreadId:m,prefetchSearch:t}),e.jsx(vs,{clientThreadId:n}),e.jsx(ls,{clientThreadId:n}),e.jsx(Ds,{}),e.jsx(ds,{})]})})})}function Ds(){const a=be(s=>s.sharingModalThreadId);return a?e.jsx(Ps,{serverThreadId:a}):null}function Is(){aa({queryKey:["pingEdge"],queryFn:()=>sa.pingEdge(),enabled:!0,staleTime:1/0})}typeof window<"u"&&(window._g=Es.GOKU_SERVICE);export{Gs as C,me as F};
//# sourceMappingURL=m84srcoe7wms1lgs.js.map
