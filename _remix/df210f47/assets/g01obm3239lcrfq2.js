import{dp as d,bn as m,r as n,ag as S,t as R,j as b,bT as p,bU as h}from"./in4yvrl95oipp0rj.js";import"./ejbuirid83yf5ft7.js";function T(){const{pluginId:e,code:o,state:i,error:r,errorDesc:c}=d(),t=m(),u=n.useRef(!1);n.useEffect(()=>{if(u.current===!0)return;u.current=!0;async function f(){const g=`https://chat.openai.com/aip/${e}/oauth/callback`;try{const a=await b.pluginOauthCallback(e,o,g,i);if(a.success){const s=new URL(p(h.OAUTH_SUCCESS,a.redirect_path),location.origin);s.searchParams.set("oauth_success","true"),t(s.pathname+s.search+s.hash)}else t(p(h.CUSTOM_ERROR,a.redirect_path,a.error??a.message))}catch{t({pathname:"/",search:new URLSearchParams({model:"gpt-4-plugins",loginAip:e,loginSuccess:"false"}).toString()})}}f()},[e,o,i,t]);const l=S();return n.useEffect(()=>{r&&l.danger(`${r}${c?`: ${c}`:""}`,{duration:5})},[r,c,l]),R.jsx("div",{})}export{T as default};
//# sourceMappingURL=g01obm3239lcrfq2.js.map
