const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dcmd7x4h59ofp18b.js","assets/kqqkpdulatnhj153.js","assets/nt24bg1lfwf9oh75.js","assets/root-dmul5u05.css","assets/n3rs6b5m6tqfdjyk.js","assets/conversation-small-ao874ap7.css","assets/lza6m5fvykifh7pz.js","assets/ljkmhw662c6t9mhx.js","assets/difcbbya6lgzvb2g.js","assets/esrcc953x6z04mp9.js","assets/cjvbiw2g5fogbi08.js","assets/gg12z91ptfq2dx0l.js","assets/ld26e6e1i27no8hy.js","assets/brev8erfj31y4d2h.js","assets/mqsn5ttyuoa9ttf3.js","assets/jjkswa78c00rb26q.js","assets/m30y9cks5frdds6a.js","assets/fu8plhbz1k8c2c5r.js","assets/n9ay93jbmqoqxpuq.js","assets/ldfj18v9arqp0hlo.js","assets/niicwal2u1ktt9ga.js","assets/bcho5xlsyhfo0xx7.js","assets/jry911aolndx5jxk.js","assets/ojq4pzlfqvr6tx89.js","assets/eojo3q8807kn3zak.js","assets/opxb1jsmmkd7uhw5.js","assets/ffplytulifbjifwg.js","assets/d8ga095iryyh49zz.js","assets/iv3si7qravmki81h.js","assets/h7u5lxyvdmzt9g4i.js","assets/cxgo5isab5x6vqct.js","assets/jju24ktuta94ahij.js","assets/kzos10il3x35zpq2.js","assets/jfh9xe6djxacu3i5.js","assets/ccpvrin2ogd4aji1.js","assets/gwibsvr1bjsd7u8z.js","assets/vrgqcxh8d9fcmv3j.js","assets/f9jlq9dcz1rshhqv.js","assets/c818qmxjxeib26ar.js","assets/n6tx0jdd43r4s9pl.js","assets/zsgatvow6n96fncl.js","assets/oe8l436iv77zqslu.js","assets/et7kjdu4e6pk2kyk.js","assets/mrs2nwjxl8hij5nc.js","assets/j7nrgauf0qsvjd0n.js","assets/obxg6yogtza19s3r.js","assets/l7095upr2paz0cjp.js","assets/nvf62x04q7rioqy4.js","assets/jmj8xvc6etwfm8el.js","assets/cf2ibgboyy0u58ay.js","assets/k9jst7vfpmqmon77.js","assets/g7zsjlvfhh6ikmgs.js","assets/kqwdyvkaaavvn8k3.js","assets/mrt9o3cx3uimji8e.js","assets/jg191s80xyb3pvfa.js"])))=>i.map(i=>d[i]);
import{a1 as Ee,V,aJ as fe,aI as Oe,r as l,l as s,Z as E,D as ge,bc as se,a0 as I,aC as M,aD as b,aM as Le,bY as De,bW as Be,bU as Re,be as We,az as Fe,W as he,X as Ve,u as me,ao as ae,aG as oe,bn as Ie,f7 as He,e$ as Ge,m as N,ff as y,fg as qe,fh as ze,cl as Ue,a8 as $e,df as te,cY as Ke,cZ as Qe,c_ as Ye,c4 as Xe,b0 as Ze,h as Je,j as es}from"./kqqkpdulatnhj153.js";import{u as ss,f as H,T as pe,g as as}from"./fu8plhbz1k8c2c5r.js";import{aM as os,gL as ts,gM as xe,gN as ns,ai as rs,gO as is,gP as cs,gQ as ls,gR as ds,gS as us,bK as O,gT as fs,gU as gs,gV as hs,gW as ms,gX as ps,gY as xs,gZ as Cs,g_ as Ms,g$ as bs,h0 as Ss,h1 as vs,h2 as js,h3 as ks,h4 as As,h5 as ys,h6 as ws,h7 as Ps,h8 as _s,h9 as Ts,D as G,aC as w,Z as L,cc as q,ha as Ns,hb as Es,dq as ne,cq as Os,hc as Ce,hd as Me,he as be,G as Ls,hf as Ds,gB as re,f0 as Bs,c1 as W,c2 as ie,hg as Rs,hh as Ws,eY as Fs,hi as Vs,hj as Is,cM as Hs,ay as Gs,dw as qs,hk as zs,eO as Us,eP as ce,hl as $s,q as Ks,cf as Qs,hm as Ys,hn as Xs,cg as Zs,ho as Js,hp as ea,hq as sa,hr as aa,hs as oa}from"./n3rs6b5m6tqfdjyk.js";import{T as D,g as F,e as ta,F as Se,m as ve,H as na,i as ra}from"./difcbbya6lgzvb2g.js";import{a as ia}from"./cjvbiw2g5fogbi08.js";import{L as ca}from"./gg12z91ptfq2dx0l.js";import{S as le,b as la,c as da,N as ua}from"./kzos10il3x35zpq2.js";import{a as je,b as fa,g as ga}from"./ccpvrin2ogd4aji1.js";import{S as ha,C as ma,a as pa}from"./gwibsvr1bjsd7u8z.js";import{T as ke,b as xa,c as Ae,C as Ca,d as Ma,e as ba,f as Sa}from"./c818qmxjxeib26ar.js";import{u as va,n as ja,g as ka,s as Aa}from"./jjkswa78c00rb26q.js";import{I as ya,J as ye,a as we,K as wa}from"./ljkmhw662c6t9mhx.js";import{m as de}from"./esrcc953x6z04mp9.js";import{b as Pa}from"./m30y9cks5frdds6a.js";function _a({onClose:e}){const a=V(),o=fe(),{openSettings:r}=os(),n=ts(),{session:t}=Oe(),{data:{isStorageComplianceEnabled:d}={}}=xe(),{data:c,isLoading:u}=ns({enabled:!!(d&&t),select:i=>!i.cookie_consent.is_required});return l.useEffect(()=>{c===!0&&e()},[c,e]),u?null:s.jsx(Ta,{onReject:()=>{n.mutateAsync({analytics_cookies_accepted:!1},{onSuccess(){o.success(a.formatMessage(j.updateSuccess))},onError(){o.danger(a.formatMessage(j.updateFailure))}}),e()},onAccept:()=>{n.mutateAsync({analytics_cookies_accepted:!0},{onSuccess(){o.success(a.formatMessage(j.updateSuccess))},onError(){o.danger(a.formatMessage(j.updateFailure))}}),e()},children:s.jsx(E,{id:"CookieConsentBanner.authedDescription.0",defaultMessage:"We use cookies and similar technologies to deliver, maintain, improve our services and for security purposes. Check our <cookiePolicy>cookie policy</cookiePolicy> for details. Click 'Accept all' to let OpenAI and partners use cookies for these purposes. Click 'Reject all' to say no to cookies, except those that are strictly necessary. Choose <manageLink>manage cookies</manageLink> to change your preferences.",values:{cookiePolicy:i=>s.jsx(ca,{href:"https://openai.com/policies/cookie-policy",openNewTab:!0,children:i}),manageLink:i=>s.jsx(Na,{onClick:()=>{r(rs.DataControls)},children:i})}})})}function Ta({children:e,onAccept:a,onReject:o}){return l.useEffect(()=>{ge.addAction("privacy_policy.show_cookie_consent_banner")},[]),s.jsxs(is,{children:[s.jsxs(cs,{className:"text-sm font-semibold [grid-area:_title]",children:[e,s.jsxs("div",{className:"mt-2 flex justify-end gap-3",children:[s.jsx(se,{color:"secondary",size:"small",onClick:o,children:s.jsx(E,{...j.reject})}),s.jsx(se,{color:"secondary",size:"small",onClick:a,children:s.jsx(E,{...j.accept})})]})]}),s.jsx(ls,{})]})}const Na=Ee.button`underline font-normal text-green-600`,j=I({cookieConsentBannerTitle:{id:"CookieConsentBanner.title",defaultMessage:"We use cookies to provide, improve, and protect our services. Visit our <privacyPolicyLink>privacy policy</privacyPolicyLink> to learn more. You can manage your cookie preferences in your <settingsPanel>settings panel</settingsPanel>. <learnMoreLink>Learn more</learnMoreLink>."},reject:{id:"CookieConsentBanner.reject",defaultMessage:"Reject all"},accept:{id:"CookieConsentBanner.accept",defaultMessage:"Accept all"},updateSuccess:{id:"CookieConsentBanner.updateSuccess",defaultMessage:"Your cookie preferences were updated successfully"},updateFailure:{id:"CookieConsentBanner.updateFailure",defaultMessage:"Unable to update cookie preferences. Try again later."}}),Ea=M(()=>b(async()=>{const{ModelOnboardingNUXModal:e}=await import("./dcmd7x4h59ofp18b.js");return{ModelOnboardingNUXModal:e}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11])).then(({ModelOnboardingNUXModal:e})=>e),{ssr:!1}),Oa=({onClose:e})=>{const a=V(),o=O(q.isBusinessWorkspace),r=O(t=>t.currentWorkspace),n=o?a.formatMessage(ue.workspaceWelcome,{workspaceName:r?.name}):"ChatGPT";return s.jsx(he,{isOpen:!0,onClose:Ve,type:"success",title:n,size:"custom",noPadding:!0,className:"max-w-3xl",description:a.formatMessage(ue.personalOnboardingSubheading),children:s.jsx(Ns,{onClose:e,scope:Es.Personal})})};function La(){const[e,a]=l.useState(0),{hasSeenOnboardingDate:o}=ds(),{hasSeenTeamOwnerOnboardingDate:r}=us(),n=O(q.isBusinessWorkspace),t=Le(),[d,c]=l.useState(!1),{data:u,isPending:i}=xe(),h=fs(u,i),{eligible:g,isLoading:k}=ia(),P=De(),S=Be(),_=Re(),{data:m,isError:C}=We(),p=m!=null,A=m&&m?.accountItems.length>1&&m.currentAccountId==null,T=m?.accountItems.some(f=>f.isPersonalAccount()),x=!!m?.accountItems&&m.accountItems.length>0&&m.accountItems.every(({canAccessWithCurrentSession:f})=>!f),{eligible:z,isLoading:U}=gs(),{value:$}=Fe("1542198993"),{punchOutRequireLoginInfo:K}=hs(),{state:Q}=ms(),{isOpen:Y,isLoading:X}=ps(),{isOpen:Z,isLoading:J}=xs(),v=l.useMemo(()=>[{Component:Cs,getModalState:()=>K?"show":"hide",isDeferrable:!1},{Component:Ms,getModalState:()=>X?"loading":Y?"show":"hide",isDeferrable:!1},{Component:bs,getModalState:()=>J?"loading":Z?"show":"hide",isDeferrable:!1},{Component:Ss,getModalState:()=>Q,isDeferrable:!1},{Component:Oa,getModalState:()=>n?"hide":o===null?"loading":o===!1?"show":"hide",isDeferrable:!0},{Component:vs,getModalState:()=>C?"hide":A?"show":p?"hide":"loading",isDeferrable:!1},{Component:js,getModalState:()=>P!==null?"show":C||p?"hide":"loading",isDeferrable:!1},{Component:ks,getModalState:()=>S!==null?"show":C||p?"hide":"loading",isDeferrable:!1},{Component:As,getModalState:()=>_!=null?"show":C||p?"hide":"loading",isDeferrable:!1},{Component:ys,getModalState:()=>p?x?"show":"hide":"loading",isDeferrable:!1},{Component:_a,getModalState:()=>"hide",isDeferrable:!1},{Component:ws,getModalState:()=>!t?.isTeam()||!t?.isOwnerOfAccount()||!T?"hide":!p||r===null?"loading":r===!1?"show":"hide",isDeferrable:!1},{Component:Ps,getModalState:()=>n?o===null?"loading":o===!1?"show":"hide":"hide",isDeferrable:!0},{Component:_s,getModalState:()=>U?"loading":z&&$?"show":"hide",isDeferrable:!1},{Component:Ts,getModalState:()=>h,isDeferrable:!1},{Component:Ea,getModalState:()=>k?"loading":g?"show":"hide",isDeferrable:!0,expiresAt:new Date(2024,7,13)}].filter(f=>!(f.isDeferrable&&d)&&(!f.expiresAt||f.expiresAt.getTime()>Date.now())),[K,Q,_,p,o,r,T,k,n,C,P,S,t,x,A,h,g,d,$,z,U,Y,X,Z,J]);l.useEffect(()=>{if(v[e]&&v[e].getModalState()==="hide"){const f=v.findIndex(Ne=>Ne.getModalState()!=="hide");a(f)}},[e,v]);const B=v[e],R=B?.getModalState()==="show";if(l.useEffect(()=>{const f=G.getState().activeModals.has(w.BlockingInitialComponent);R!==f&&(R?L.openModal(w.BlockingInitialComponent):L.closeModal(w.BlockingInitialComponent))},[R]),B==null)return s.jsx("span",{"data-testid":"blocking-initial-modals-done",className:"hidden"});const ee=B.getModalState();if(ee==="loading")return null;ee==="hide"&&a(f=>f+1);const Te=v[e].Component;return s.jsx(Te,{onClose:()=>{c(!0),a(f=>f+1)}})}const ue=I({workspaceWelcome:{id:"BlockingInitialModals.workspaceWelcome",defaultMessage:"Welcome to the {workspaceName} workspace"},personalOnboardingSubheading:{id:"BlockingInitialModals.personalOnboardingSubheading",defaultMessage:"Tips for getting started"}});function Pe({clientThreadId:e}){l.useEffect(()=>{L.closeSharingModal()},[e]);const a=me();l.useEffect(()=>(D.retainThread(e),()=>{setTimeout(()=>{a.invalidateQueries({queryKey:["conversation",e]})},0),D.releaseThread(e)}),[e,a]),l.useEffect(()=>()=>{ae.checkGate("3922476776")||ne.abortAllRequests()},[e]);const o=l.useRef(e);l.useEffect(()=>{e!==o.current&&(ae.checkGate("3922476776")||ne.clear(),o.current=e)},[e])}function _e({clientThreadId:e,setClientThreadId:a}){const o=me(),r=Os(),n=r?{kind:oe.GizmoInteraction,gizmo_id:r}:{kind:oe.PrimaryAssistant};va(e,n);const t=Ie(),d=ya(e),c=l.useRef(d);c.current=d;const u=l.useCallback(()=>{a(F());const g=c.current;t(g.tags.includes(He.GPT_4)?"/":`/?model=${g.id}`,{replace:!0})},[a,t]),i=ss({clientThreadId:e,location:"Model switcher menu item"}),h=l.useCallback(g=>{ja(t,o,g)},[o,t]);return{createNewThread:i,onThreadCreated:h,resetThread:u}}const Da=M(()=>b(()=>import("./ld26e6e1i27no8hy.js"),__vite__mapDeps([12,1,2,3,4,5,13,14,15,16,9,7,8,17,18,10,11,19,20,21,22,6,23,24,25,26,27,28])).then(e=>e.CanvasFocusedViewManager));function Ba({clientThreadId:e,setClientThreadId:a,urlThreadId:o,prefetchSearch:r}){const n=ta();Pe({clientThreadId:e});const{createNewThread:t,onThreadCreated:d,resetThread:c}=_e({clientThreadId:e,setClientThreadId:a});je({resetThreadAction:c,clientThreadId:e});const u=H(e);return s.jsxs(pe,{clientThreadId:e,children:[s.jsx(Ce,{clientThreadId:e,urlThreadId:o}),s.jsxs(le,{hideNavigation:n,mobileHeaderContent:s.jsx(ke,{clientThreadId:e,inMobileHeader:!0}),mobileHeaderBottomContent:s.jsx(xa,{clientThreadId:e}),mobileHeaderLeftContent:s.jsx(la,{onNewChatButtonClick:c}),mobileHeaderRightContent:s.jsx(da,{onNewChatButtonClick:c}),sidebar:s.jsx(ua,{navHeader:e?s.jsx(ha,{className:"flex h-[60px] items-center md:h-header-height",onNewThread:t}):null,children:s.jsx(ma,{clientThreadId:e,onNewThread:t})}),children:[s.jsx(Me,{}),s.jsx(Ae,{clientThreadId:e,onCreate:d,prefetchSearch:r},e),s.jsxs(le.Sidebars,{children:[u&&s.jsx(Da,{clientThreadId:e}),s.jsx(be,{clientThreadId:e})]})]})]})}const Ra=450;function Wa({children:e,clientThreadId:a,isOpen:o,onClose:r}){return s.jsx(Ls,{children:o&&s.jsx(Ge,{children:s.jsx(Ds.Provider,{value:{isEmbeddedInFocusedView:!0},children:s.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[s.jsx(de.div,{className:"h-full w-full bg-token-main-surface-secondary",...re}),s.jsxs("div",{className:"absolute inset-0 flex",children:[s.jsx("div",{className:"flex-grow overflow-auto",children:e}),s.jsx(de.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:Ra},...re,children:s.jsx("div",{className:"h-[100vh] pb-4",children:s.jsx(Ae,{clientThreadId:a,hideHeader:!0,hideFooter:!0,hideToolsOverlay:!0,messagesVerticalAlign:"bottom"},a)})})]})]})})})})}const Fa=M(()=>b(()=>import("./h7u5lxyvdmzt9g4i.js"),__vite__mapDeps([29,1,2,3,4,5,15,16,9,7,8,17,18,10,11,19,20,21,22,6]))),Va=M(()=>b(()=>import("./cxgo5isab5x6vqct.js"),__vite__mapDeps([30,1,2,3,4,5,31,15,16,9,7,8,17,18,10,11,19,20,21,22,6,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48])).then(e=>e.ImageEditor));function Ia({clientThreadId:e}){const a=Bs();l.useEffect(()=>{W.close()},[e]);let o;return a?.type===ie.ADAVisualization?o=s.jsx(Fa,{clientThreadId:e,visualization:a.visualization}):a?.type===ie.Image&&(o=s.jsx(Va,{clientThreadId:e,messageId:a.messageId,image:a.image,allImages:a.allImages},a.image.asset_pointer)),s.jsx(Wa,{clientThreadId:e,isOpen:a!=null,onClose:W.close,children:o})}const Ha=()=>{const e=V(),a=G(t=>t.activeModals.has(w.KeyboardActions)),o=()=>{L.closeModal(w.KeyboardActions)},r=fa(),n=l.useMemo(()=>{const t=Math.ceil(r.length/2);return[r.slice(0,t),r.slice(t)]},[r]);return s.jsx(he,{isOpen:a,onClose:o,type:"success",size:"custom",className:"md:max-w-[672px] lg:max-w-[796px] xl:max-w-4xl",showCloseButton:!0,title:e.formatMessage(za.keyboardActionsModalTitle),children:s.jsx(s.Fragment,{children:s.jsx("div",{className:"grid grid-flow-row grid-cols-[repeat(auto-fit,minmax(250px,1fr))] gap-x-9",children:n.map((t,d)=>s.jsx("div",{className:"flex flex-col overflow-hidden",children:t.map(c=>s.jsx(Ga,{action:c},c.key))},`col-${d}`))})})})},Ga=({action:e})=>s.jsxs("div",{className:"flex items-center justify-between overflow-hidden text-token-text-primary",children:[s.jsx("div",{className:"flex flex-shrink items-center overflow-hidden text-sm",children:s.jsx("div",{className:"truncate",children:s.jsx(E,{...e.actionMessageDescriptor})})}),s.jsx("div",{className:"ml-3 flex flex-row gap-2",children:ga(e.keyboardBinding).map((a,o)=>s.jsx(qa,{keyName:a},`${e.key}-${o}`))})]}),qa=({keyName:e})=>{const a=N("my-2 flex h-8 items-center justify-center rounded-md border border-token-border-light capitalize text-token-text-secondary");return e.length>1?e.length>3?s.jsx("div",{className:N(a,"min-w-[50px]"),children:s.jsx("span",{className:"text-xs",children:e})}):s.jsx("div",{className:N(a,"min-w-[32px]"),children:s.jsx("span",{className:"text-xs",children:e})}):s.jsx("div",{className:N(a,"min-w-[32px]"),children:s.jsx("span",{className:"text-sm",children:e})})},za=I({keyboardActionsModalTitle:{id:"KeyboardActionsModal.keyboardActionsModalTitle",defaultMessage:"Keyboard shortcuts"}});function Ua({clientThreadId:e,currentModelId:a,conversationLeafId:o,inlineEmbeddedDisplay:r,onChangeItemInView:n,onChangeRating:t,onRequestMoreCompletions:d,onRequestCompletion:c}){const u=Se(e,o);function i(h){return h===u-1}return s.jsx("ol",{children:Array.from({length:u}).map((h,g)=>s.jsx("li",{children:s.jsx(Ca,{isFinalTurn:i(g),turnIndex:g,clientThreadId:e,conversationLeafId:o,onChangeItemInView:n,onChangeRating:t,onRequestMoreCompletions:d,onRequestCompletion:c,currentModelId:a,showInlineEmbeddedDisplay:r,showAvatar:!1},g)},g))})}function $a({clientThreadId:e,onRequestCompletion:a}){const o=ye(),r=ka(e),n=ve(e),t=we(e)??o.id,c=Se(e,n)>=2,u=na(e,n),i=ra(e)&&!c&&Aa(r);return s.jsx("div",{className:y.footer,children:s.jsx(Rs,{children:s.jsx(Ma,{clientThreadId:e,currentModelId:t,isNewThread:i,noWrap:!0,onRequestCompletion:a,showPromptStarters:i||!u})})})}function Ka({clientThreadId:e}){return s.jsxs(Ws,{leading:!0,type:"primary",className:y.header,children:[s.jsxs("div",{className:y.headerLeading,children:[s.jsx(as,{clientThreadId:e}),s.jsx(ke,{clientThreadId:e})]}),s.jsx("div",{className:y.headerTrailing,children:s.jsx(ba,{clientThreadId:e})})]})}function Qa({clientThreadId:e,onThreadCreated:a,onCompletionFinished:o,preRequestCompletion:r}){const n=ye(),t=we(e)??n.id,d=ve(e),{onRequestCompletion:c,onChangeItemInView:u,onChangeRating:i,onRequestMoreCompletions:h}=Sa({clientThreadId:e,currentModelId:t,defaultModelId:n.id,onCompletionFinished:o,onThreadCreated:a,preRequestCompletion:r});return s.jsx(wa,{clientThreadId:e,currentLeafId:d,children:s.jsx(qe.Provider,{value:c,children:s.jsx(Fs,{anchor:"top",className:y.screen,name:"thread",leading:s.jsx(Ka,{clientThreadId:e}),trackLeading:!0,trackTrailing:!0,trailing:s.jsx($a,{clientThreadId:e,onRequestCompletion:c}),children:s.jsx(Ua,{clientThreadId:e,conversationLeafId:d,currentModelId:t,inlineEmbeddedDisplay:!1,onRequestCompletion:c,onChangeItemInView:u,onChangeRating:i,onRequestMoreCompletions:h})})})})}const Ya=M(()=>b(()=>import("./ld26e6e1i27no8hy.js"),__vite__mapDeps([12,1,2,3,4,5,13,14,15,16,9,7,8,17,18,10,11,19,20,21,22,6,23,24,25,26,27,28])).then(e=>e.CanvasFocusedViewManager));function Xa({clientThreadId:e,setClientThreadId:a,urlThreadId:o}){Pe({clientThreadId:e});const{createNewThread:r,onThreadCreated:n,resetThread:t}=_e({clientThreadId:e,setClientThreadId:a});je({resetThreadAction:t,clientThreadId:e});const d=H(e);return s.jsxs(pe,{clientThreadId:e,children:[s.jsx(Ce,{clientThreadId:e,urlThreadId:o}),s.jsx(Me,{}),s.jsx(Vs,{className:ze.screenDefaults,sidebar:s.jsx(pa,{clientThreadId:e,onNewThread:r}),thread:s.jsx(Qa,{clientThreadId:e,onThreadCreated:n}),details:d&&s.jsx(Ya,{clientThreadId:e}),debugger:s.jsx(be,{clientThreadId:e})})]})}var Za={};const Ja=M(()=>b(()=>import("./cf2ibgboyy0u58ay.js"),__vite__mapDeps([49,1,2,3,4,5,15,16,9,7,8,17,18,10,11,19,20,21,22,6,50]))),eo=M(()=>b(()=>import("./g7zsjlvfhh6ikmgs.js"),__vite__mapDeps([51,1,2,3,8,4,5,9,52,53,7,54,16])).then(e=>e.SearchResultsModal));function Mo(e){const{urlThreadId:a,clientThreadId:o,prefetchSearch:r}=e,n="serviceStatus"in e?e.serviceStatus:null;oo();const t=Ue(),d=$e(),c=te(),u=fe(),[i,h]=l.useState(()=>a!==void 0?a:o!==void 0?o:F());a!==void 0&&i!==a&&D.getServerThreadId(i)!==a&&h(a);const g=Is(te());l.useEffect(()=>{a===void 0&&D.getServerThreadId(i)!==void 0&&h(F())},[a,i,g]);const k=Hs(),P=O(q.workspaceId),S=Gs();H(i);const _=qs(),{eligible:m,isLoading:C,markAsViewed:p}=zs();l.useEffect(()=>{(d.asPath==="/"||d.asPath.startsWith("/c/"))&&Us({namespace:ce.ChatPageLoad})==null&&($s({namespace:ce.ChatPageLoad,opts:{expectedTimingLogs:[{name:"render_model_switcher",expectedInMs:1e4},{name:"render_history_items",expectedInMs:25e3}]}}),ge.addTiming("chatgpt.web.chatPage.mounted"))},[]);const A=Ks();l.useEffect(()=>{Ke(!0).then(x=>{x.force_login&&A({authType:"login"}),Qe.initializeAndGatherData(x),Qs.initializeAndGatherData(x),Ye.initializeAndGatherData(x)})},[A]),l.useEffect(()=>{n?.type&&k===!1&&u.warning(n.message,{hasCloseButton:!0,duration:5})},[k,n?.message,n?.type,u]),l.useEffect(()=>{const x=d.query[Ys]==="true";t!==x&&Xe.setIsTemporaryChatEnabled(x)},[t,d.query]),l.useEffect(()=>{c.state?.focusObject&&W.setFocusedObject(c.state.focusObject)},[c.state?.focusObject]),l.useEffect(()=>{!C&&m&&S&&(p(),Xs(S))},[m,C,p,S]);const T=_?Xa:Ba;return s.jsx(Ze.Provider,{value:null,children:s.jsx(Zs,{children:s.jsxs(Js,{clientThreadId:i,children:[s.jsx(La,{},P),s.jsx(Ha,{}),s.jsx(ea,{}),s.jsx(T,{urlThreadId:a,clientThreadId:i,setClientThreadId:h,prefetchSearch:r}),s.jsx(Ia,{clientThreadId:i}),s.jsx(ao,{clientThreadId:i}),s.jsx(sa,{clientThreadId:i}),s.jsx(so,{}),!1,s.jsx(aa,{}),s.jsx(oa,{})]})})})}function so(){const e=G(a=>a.sharingModalThreadId);return e?s.jsx(Ja,{serverThreadId:e}):null}function ao({clientThreadId:e}){return Pa()&&s.jsx(eo,{clientThreadId:e})}function oo(){Je({queryKey:["pingEdge"],queryFn:()=>es.pingEdge(),enabled:!0,staleTime:1/0})}typeof window<"u"&&(window._g=Za.GOKU_SERVICE);export{Mo as C,Ra as F};
//# sourceMappingURL=huehk5ambxi43oze.js.map
