import{dZ as c,d_ as p,r as i,aQ as l,d$ as d,ba as h,j as u,bQ as b}from"./hzfabz2o8ombe5jw.js";import{T as E}from"./cwyeis2w6kea2wfl.js";import{n as f}from"./palr457pmwp2eo4q.js";import{l as v}from"./iing67ocwnwqhcj6.js";import"./e50u68bunhmm6ifm.js";import"./irzndtt8vp8asixn.js";import"./fk2on43rkvczq1b9.js";import"./m4ydchv9pwda8q8j.js";import"./blijo2l4axfx8qll.js";import"./hq883kjug2canm9r.js";import"./gcuqrnunbiet9qgw.js";import"./irlfwpllnqf5cc7o.js";import"./gljffeltmjrphbu7.js";import"./p40rplitvwe5wrs5.js";import"./jyem616os9v6pvci.js";import"./ofosodv3ao9jq0q5.js";import"./oikdp1odqae9j9am.js";import"./f9zbh5kr0w936l1j.js";import"./hpzh4a2s0lujy0x2.js";import"./kidi4l5ce906yp53.js";import"./e78lqi6zd0w8e9e2.js";import"./oee1jj3teyc36auu.js";import"./l7vevmmfmylbk0cs.js";import"./0qw1jhy087yufhi6.js";import"./f5oehfbcbky1xftj.js";import"./hlqnx05o8mk1fkdn.js";import"./9zpogk6h5akl73bx.js";import"./ljqk1ti0cdzpv7jp.js";import"./hxhkjo1bo8kdzzw0.js";import"./bp4id39vxnfirfjf.js";import"./fn9vn6zf2cy4gvb8.js";import"./jyu8zm911rprort0.js";import"./ewcgetmyikugir9f.js";import"./oxp2by0qo126nz59.js";let s=!1;function rt(){var e;(e=c)==null||e.registerObserver(p)}function ot(){const[e,a]=i.useState(null),{value:m}=l("3653083604");return i.useEffect(()=>{if(!m||s||typeof window>"u")return;const t=window.open("about:blank",d);if(!t)throw new Error("ChatBar: window.open() did not create a window");t.document.documentElement.setAttribute("dir","ltr"),s=!0,document.head.querySelectorAll("link, style").forEach(r=>{t.document.head.appendChild(r.cloneNode(!0))}),new MutationObserver(r=>{r.forEach(o=>{o.type==="childList"&&o.addedNodes.forEach(n=>{(n instanceof HTMLLinkElement||n instanceof HTMLStyleElement)&&t.document.head.appendChild(n.cloneNode(!0))})})}).observe(document.head,{childList:!0}),t.document.documentElement.setAttribute("style",document.documentElement.getAttribute("style")??""),t.document.documentElement.setAttribute("class",document.documentElement.getAttribute("class")??""),new MutationObserver(r=>{r.forEach(o=>{o.type==="attributes"&&o.attributeName!=null&&t.document.documentElement.setAttribute(o.attributeName,document.documentElement.getAttribute(o.attributeName)??"")})}).observe(document.documentElement,{attributes:!0}),a(t.document.body.appendChild(t.document.createElement("div"))),t.addEventListener("unload",r=>{t.close()}),t.addEventListener("focus",()=>{var r;(r=t.document.getElementById("prompt-textarea"))==null||r.focus()})},[m]),e&&h.createPortal(u.jsx(w,{}),e,d)}function w(){const[e,a]=i.useState(()=>v());return f(e,{kind:b.PrimaryAssistant}),u.jsx(E,{clientThreadId:e,hideHeader:!0,hideFooter:!0,renderEmptyState:!1},e)}export{ot as DesktopChatBar,rt as initDesktop};
//# sourceMappingURL=cafic7ky40tve6jp.js.map
